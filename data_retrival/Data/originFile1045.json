{"items":[{"tags":["java","xml","xsd","stax","woodstox"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1662838793,"post_id":73664924,"comment_id":130100441,"body_markdown":"Usually with the Java APIs you can set some resource resolver e.g. https://docs.oracle.com/javase/8/docs/api/javax/xml/validation/SchemaFactory.html#setResourceResolver-org.w3c.dom.ls.LSResourceResolver-, in the one you have you need to make sure the resources are loaded the same way as your initial schema, i.e. by doing `getClass().getClassLoader()..getResourceAsStream(systemId)`.","body":"Usually with the Java APIs you can set some resource resolver e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/validation/SchemaFactory.html#setResourceResolver-org.w3c.dom.ls.LSResourceResolver-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/xml/validation/&hellip;</a>, in the one you have you need to make sure the resources are loaded the same way as your initial schema, i.e. by doing <code>getClass().getClassLoader()..getResourceAsStream(systemId)</code>."}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662861042,"creation_date":1662861042,"answer_id":73676304,"question_id":73664924,"body_markdown":"Woodstox does not have resolver for automatically reading schema from document content so you need to use the approach you have (but create `InputStream` in a way that works).\r\n\r\nThe only resources that are automatically resolved are external DTD subsets as specified by XML specification.\r\n\r\nThis is not to say that a handler could not be implemented and added to Woodstox (I am sure some users would find it useful), just that there isn&#39;t one currently.\r\n\r\n","title":"Create Woodstox&#39;s XMLValidationSchema from multiple resource files","body":"<p>Woodstox does not have resolver for automatically reading schema from document content so you need to use the approach you have (but create <code>InputStream</code> in a way that works).</p>\n<p>The only resources that are automatically resolved are external DTD subsets as specified by XML specification.</p>\n<p>This is not to say that a handler could not be implemented and added to Woodstox (I am sure some users would find it useful), just that there isn't one currently.</p>\n"}],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662861042,"creation_date":1662740150,"question_id":73664924,"body_markdown":"I have a main file.xsd that has an import with a schema location that points to file1.xsd like this:\r\n\r\n```\r\n&lt;xs:import namespace=&quot;urn:file1&quot; schemaLocation=&quot;file1.xsd&quot;/&gt;\r\n```\r\n\r\nI run this on a Docker container and it complains about not finding file1.xsd in container home folder:\r\n\r\n```\r\nInputStream resourceStream = this.getClass().getClassLoader()\r\n    .getResourceAsStream(&quot;file.xsd&quot;);\r\n\r\nXMLValidationSchemaFactory schemaFactory = XMLValidationSchemaFactory\r\n    .newInstance(XMLValidationSchema.SCHEMA_ID_W3C_SCHEMA);\r\n\r\nXMLValidationSchema validationSchema = schemaFactory.createSchema(resourceStream);\r\n```\r\n\r\nHow can I link these two xsd resources in same XMLValidationSchema which is the mandatory type I have to obtain? (modifying the docker-compose/explicitly copying the file1.xsd in container is not an option although it works that way)\r\n","title":"Create Woodstox&#39;s XMLValidationSchema from multiple resource files","body":"<p>I have a main file.xsd that has an import with a schema location that points to file1.xsd like this:</p>\n<pre><code>&lt;xs:import namespace=&quot;urn:file1&quot; schemaLocation=&quot;file1.xsd&quot;/&gt;\n</code></pre>\n<p>I run this on a Docker container and it complains about not finding file1.xsd in container home folder:</p>\n<pre><code>InputStream resourceStream = this.getClass().getClassLoader()\n    .getResourceAsStream(&quot;file.xsd&quot;);\n\nXMLValidationSchemaFactory schemaFactory = XMLValidationSchemaFactory\n    .newInstance(XMLValidationSchema.SCHEMA_ID_W3C_SCHEMA);\n\nXMLValidationSchema validationSchema = schemaFactory.createSchema(resourceStream);\n</code></pre>\n<p>How can I link these two xsd resources in same XMLValidationSchema which is the mandatory type I have to obtain? (modifying the docker-compose/explicitly copying the file1.xsd in container is not an option although it works that way)</p>\n"},{"tags":["java","json","spring-boot","rest","parsing"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1662732137,"post_id":73663082,"comment_id":130080879,"body_markdown":"How is your JSON looking alike?","body":"How is your JSON looking alike?"},{"owner":{"account_id":25203827,"reputation":11,"user_id":19042433,"display_name":"Zero Hero"},"score":0,"creation_date":1662733175,"post_id":73663082,"comment_id":130081293,"body_markdown":"if u speack about request -&gt; {\n    &quot;pageSize&quot;:5, \n    &quot;pageIndex&quot;:0,\n    &quot;filter&quot;: {\n    &quot;name&quot;: &quot;user_2\\&quot;\n    }\n}","body":"if u speack about request -&gt; {     &quot;pageSize&quot;:5,      &quot;pageIndex&quot;:0,     &quot;filter&quot;: {     &quot;name&quot;: &quot;user_2\\&quot;     } }"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662735681,"creation_date":1662735681,"answer_id":73664111,"question_id":73663082,"body_markdown":"In the\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\r\n\r\nsample JSON the `\\&quot;` part means that you escape the quote, which will cause troubles when the JSON is being parsed. You need to receive a String where the `\\` character is escaped, as\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\&quot; } }\r\n\r\nNow, it&#39;s quite possible that you have the JSON above somewhere, escaping the backslash, but this ends up with a single backslash on the receiving end. In that case you need to escape the escaped backslash (yeah, it sounds weird, but sometimes that&#39;s the case), as\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\\\\\&quot; } }\r\n\r\nIf you need further help, then you will also need to provide further information.","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>In the</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\n</code></pre>\n<p>sample JSON the <code>\\&quot;</code> part means that you escape the quote, which will cause troubles when the JSON is being parsed. You need to receive a String where the <code>\\</code> character is escaped, as</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\&quot; } }\n</code></pre>\n<p>Now, it's quite possible that you have the JSON above somewhere, escaping the backslash, but this ends up with a single backslash on the receiving end. In that case you need to escape the escaped backslash (yeah, it sounds weird, but sometimes that's the case), as</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\\\\\&quot; } }\n</code></pre>\n<p>If you need further help, then you will also need to provide further information.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662738001,"creation_date":1662738001,"answer_id":73664539,"question_id":73663082,"body_markdown":"As Lajos&#39; [answer][1] explains, the problem is that `\\&quot;` is inadvertently escaping the double quote.  That causes it to not be treated as a string end.  The rest of the JSON is then parsed as part of the quoted string until the parser gets to the end.\r\n\r\nNow I surmise that the input text actually ends with a `CR` `LF` sequence.  When the parser encounters the `CR` it says \r\n\r\n    Illegal unquoted character ((CTRL-CHAR, code 13))\r\n\r\nbecause the ASCII code for `CR` is 13 decimal.  \r\n\r\nThe error message seems to imply that the CR *would* be legal if it was *quoted*.  In fact, no characters less than decimal 32 are permitted in JSON strings at all ... unless you express them as a JSON *escape sequence*.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73664111/139985","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>As Lajos' <a href=\"https://stackoverflow.com/a/73664111/139985\">answer</a> explains, the problem is that <code>\\&quot;</code> is inadvertently escaping the double quote.  That causes it to not be treated as a string end.  The rest of the JSON is then parsed as part of the quoted string until the parser gets to the end.</p>\n<p>Now I surmise that the input text actually ends with a <code>CR</code> <code>LF</code> sequence.  When the parser encounters the <code>CR</code> it says</p>\n<pre><code>Illegal unquoted character ((CTRL-CHAR, code 13))\n</code></pre>\n<p>because the ASCII code for <code>CR</code> is 13 decimal.</p>\n<p>The error message seems to imply that the CR <em>would</em> be legal if it was <em>quoted</em>.  In fact, no characters less than decimal 32 are permitted in JSON strings at all ... unless you express them as a JSON <em>escape sequence</em>.</p>\n"},{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662860390,"creation_date":1662860390,"answer_id":73676263,"question_id":73663082,"body_markdown":"The JSON string in your example is not a valid one:\r\n`&#39;{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }&#39;`\r\nYou must return `400 bad request` because of malformed request. The client is just not a proper REST client and instead of supporting bad requests fixing the client would be the real solution.\r\n\r\nPeople spent a lot of time on writing a proper JSON parser and if you add a custom one for malformed JSONs, it will be a potential security issue. For example you fix the above JSON string by replacing `\\` with `\\\\`, then I add a string something like `&quot;user_2\\&quot;...&quot;` which will be changed to `&quot;user_2\\\\&quot;...&quot;`, which is invalid again. If this is filled with user input, then the user might be able to inject another property in the `...` part of the message, which can be used to replace another property, which is not filled by the user. So it is a very bad idea to fix or write parsers without knowing what you are doing. Whoever gave you this job is completely incompetent from both programming and information security perspective.","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>The JSON string in your example is not a valid one:\n<code>'{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }'</code>\nYou must return <code>400 bad request</code> because of malformed request. The client is just not a proper REST client and instead of supporting bad requests fixing the client would be the real solution.</p>\n<p>People spent a lot of time on writing a proper JSON parser and if you add a custom one for malformed JSONs, it will be a potential security issue. For example you fix the above JSON string by replacing <code>\\</code> with <code>\\\\</code>, then I add a string something like <code>&quot;user_2\\&quot;...&quot;</code> which will be changed to <code>&quot;user_2\\\\&quot;...&quot;</code>, which is invalid again. If this is filled with user input, then the user might be able to inject another property in the <code>...</code> part of the message, which can be used to replace another property, which is not filled by the user. So it is a very bad idea to fix or write parsers without knowing what you are doing. Whoever gave you this job is completely incompetent from both programming and information security perspective.</p>\n"}],"owner":{"account_id":25203827,"reputation":11,"user_id":19042433,"display_name":"Zero Hero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8851,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73664539,"answer_count":3,"score":0,"last_activity_date":1662860390,"creation_date":1662730870,"question_id":73663082,"body_markdown":"Need help with parsing from json, i have a REST method that return pagination with sorting and filtering, but my job in name, that ends with \\\\ like david\\\\ not to throw any exceptions instead remove it \\\\ in code. Below my UserController class: \r\n\r\n&gt; ```\r\n&gt; @PutMapping\r\n&gt; public PageDTO&lt;UserDTO&gt; find(@RequestBody PageRequest&lt;UserFilter, UserSort&gt; request) {\r\n&gt;     return userService.find(request);\r\n&gt; }\r\n&gt; ```\r\n\r\nBelow PageRequest and UserFilter\r\n\r\n&gt; ```\r\n&gt; \r\n&gt; @Data\r\n&gt; @Builder\r\n&gt; @AllArgsConstructor\r\n&gt; @NoArgsConstructor\r\n&gt; public class PageRequestDTO&lt;UserFilter, UserSort&gt; {\r\n&gt; \r\n&gt;     private Integer size;\r\n&gt;     private Integer page;\r\n&gt;     private UserFilter filter;\r\n&gt;     private UserSort sort;\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Data\r\n&gt; @Builder\r\n&gt; @NoArgsConstructor\r\n&gt; @AllArgsConstructor\r\n&gt; public class UserFilterDTO {\r\n&gt;     \r\n&gt;     private String name;\r\n&gt; }\r\n&gt; ```\r\n\r\nAnd my exception\r\n\r\n&gt; ```\r\n&gt; 2022-sep.-09 15:55:44.786 WARN  [http-nio-8083-exec-3] c.e.s.c.a.CommonControllerAdvice - Handling undefined exception: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:389)\r\n&gt; \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133)\r\n&gt; \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n&gt; \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n&gt; \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n&gt; \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n&gt; \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n&gt; \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n&gt; \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n&gt; \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n&gt; \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n&gt; \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n&gt; \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n&gt; \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n&gt; \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n&gt; \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n&gt; \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n&gt; \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageReques[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; \r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:393)\r\n&gt; org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378)\r\n&gt; \t... 51 common frames omitted\r\n&gt; Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35]\r\n&gt; ```\r\n\r\ni tryied this property &quot;spring:jackson:parser:allow-unquoted-control-chars: true&quot; in my yml file, but instead of above exception i got this one\r\n\r\n```\r\n&quot;JSON parse error: Unexpected character (&#39;s&#39; (code 115)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character (&#39;s&#39; (code 115)): was expecting comma to separate Object entries\\n at [Source: (PushbackInputStream); line: 6, column: 50] (through reference chain: com.example.service.spring.dto.PageRequest[\\&quot;filter\\&quot;])&quot;\r\n```\r\n\r\n**JSON sample**\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>Need help with parsing from json, i have a REST method that return pagination with sorting and filtering, but my job in name, that ends with \\ like david\\ not to throw any exceptions instead remove it \\ in code. Below my UserController class:</p>\n<blockquote>\n<pre><code>@PutMapping\npublic PageDTO&lt;UserDTO&gt; find(@RequestBody PageRequest&lt;UserFilter, UserSort&gt; request) {\n    return userService.find(request);\n}\n</code></pre>\n</blockquote>\n<p>Below PageRequest and UserFilter</p>\n<blockquote>\n<pre><code>\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class PageRequestDTO&lt;UserFilter, UserSort&gt; {\n\n    private Integer size;\n    private Integer page;\n    private UserFilter filter;\n    private UserSort sort;\n\n}\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserFilterDTO {\n    \n    private String name;\n}\n</code></pre>\n</blockquote>\n<p>And my exception</p>\n<blockquote>\n<pre><code>2022-sep.-09 15:55:44.786 WARN  [http-nio-8083-exec-3] c.e.s.c.a.CommonControllerAdvice - Handling undefined exception: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\norg.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\n  at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:389)\n  at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)\n  at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133)\n  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageReques[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\n\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:393)\norg.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378)\n  ... 51 common frames omitted\nCaused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35]\n</code></pre>\n</blockquote>\n<p>i tryied this property &quot;spring:jackson:parser:allow-unquoted-control-chars: true&quot; in my yml file, but instead of above exception i got this one</p>\n<pre><code>&quot;JSON parse error: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries\\n at [Source: (PushbackInputStream); line: 6, column: 50] (through reference chain: com.example.service.spring.dto.PageRequest[\\&quot;filter\\&quot;])&quot;\n</code></pre>\n<p><strong>JSON sample</strong></p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\n</code></pre>\n"},{"tags":["java","android","mobile-development"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1662855884,"post_id":73676007,"comment_id":130102854,"body_markdown":"The question seems confused, if you download a JSON file, should it not contain the URI/path on your server of where the new APK is? Depending on how you need to update the APK, you can then start downloading OR prompt the user so that the download doesn&#39;t get interrupted.","body":"The question seems confused, if you download a JSON file, should it not contain the URI/path on your server of where the new APK is? Depending on how you need to update the APK, you can then start downloading OR prompt the user so that the download doesn&#39;t get interrupted."},{"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"score":0,"creation_date":1662856793,"post_id":73676007,"comment_id":130102963,"body_markdown":"@MorrisonChang Sorry for the confusion, currently the JSON only contains the latest version code of the APK (as in version 2 or version 2.5) for comparison with the APK installed on the device, my question was if I can send the APK, held on the server, within that same JSON so that if an update is required I can download it to the device and replace the old one. And if it is possible, how do I do it?","body":"@MorrisonChang Sorry for the confusion, currently the JSON only contains the latest version code of the APK (as in version 2 or version 2.5) for comparison with the APK installed on the device, my question was if I can send the APK, held on the server, within that same JSON so that if an update is required I can download it to the device and replace the old one. And if it is possible, how do I do it?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1662857896,"post_id":73676007,"comment_id":130103068,"body_markdown":"Passing in a large binary blob that could be dozens or hundreds of MB would be a bad idea.  It would be possible, but you&#39;re better off putting the URL of the file and downloading it separately.","body":"Passing in a large binary blob that could be dozens or hundreds of MB would be a bad idea.  It would be possible, but you&#39;re better off putting the URL of the file and downloading it separately."},{"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"score":0,"creation_date":1662907693,"post_id":73676007,"comment_id":130109930,"body_markdown":"@GabeSechan So, make an HTTP Request to the server for the APK? And then use something like DownloadManager to download it.","body":"@GabeSechan So, make an HTTP Request to the server for the APK? And then use something like DownloadManager to download it."}],"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662855448,"creation_date":1662855448,"question_id":73676007,"body_markdown":"I&#39;m creating an App Updater for my android App and since the app can&#39;t go on the Play Store I need to get my APK from somewhere else. I&#39;m already getting a JSON through an HTTP Request from my server that contains the version of the latest app. Is there a way to send the APK within that JSON to be downloaded after? If so I would appreciate some insight into how that is done. If there is a bette way I&#39;m all ears too!","title":"What&#39;s the best way to get an APK for app update?","body":"<p>I'm creating an App Updater for my android App and since the app can't go on the Play Store I need to get my APK from somewhere else. I'm already getting a JSON through an HTTP Request from my server that contains the version of the latest app. Is there a way to send the APK within that JSON to be downloaded after? If so I would appreciate some insight into how that is done. If there is a bette way I'm all ears too!</p>\n"},{"tags":["java","c++","c","floating-point","math.h"],"comments":[{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":0,"creation_date":1255364097,"post_id":1552738,"comment_id":1413745,"body_markdown":"I thought the Apache Commons Math package might be a good place to find this, but I didn&#39;t see anything in there.  Perhaps you could put in a feature request for it?  Or, if you decide to code it up yourself, talk to them about including it in the library - seems like a useful addition to me.","body":"I thought the Apache Commons Math package might be a good place to find this, but I didn&#39;t see anything in there.  Perhaps you could put in a feature request for it?  Or, if you decide to code it up yourself, talk to them about including it in the library - seems like a useful addition to me."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1255378927,"post_id":1552738,"comment_id":1415189,"body_markdown":"@Carl, I agree that it would be useful.  I know myself and my workload very well, though, so I&#39;m not going to commit to trying to create it on my own.  I&#39;m certain that I could do 80% of the work 80% correctly with the time that I have to invest and that&#39;s very close to worse than useless....","body":"@Carl, I agree that it would be useful.  I know myself and my workload very well, though, so I&#39;m not going to commit to trying to create it on my own.  I&#39;m certain that I could do 80% of the work 80% correctly with the time that I have to invest and that&#39;s very close to worse than useless...."},{"owner":{"account_id":8776,"reputation":84265,"user_id":15955,"accept_rate":91,"display_name":"Nils Pipenbrinck"},"score":0,"creation_date":1255470713,"post_id":1552738,"comment_id":1422237,"body_markdown":"the real question is: Why does frexp doesn&#39;t break the float into two integers but wants at least a float.. For a float decomposition that does not make sense (think recursion.....)","body":"the real question is: Why does frexp doesn&#39;t break the float into two integers but wants at least a float.. For a float decomposition that does not make sense (think recursion.....)"},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1255484381,"post_id":1552738,"comment_id":1423048,"body_markdown":"@Nils, actually, there isn&#39;t any recursion.  The result value is defined to be between 0.5 and 1.0.  In that case, the exponent will always be zero.","body":"@Nils, actually, there isn&#39;t any recursion.  The result value is defined to be between 0.5 and 1.0.  In that case, the exponent will always be zero."}],"answers":[{"tags":[],"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255324748,"creation_date":1255324748,"answer_id":1552841,"question_id":1552738,"body_markdown":"I&#39;m not familiar with the frexp function, but I think you need to look at the [BigDecimal][1]&#39; scaled and unscaled values. &#39;unscaled&#39; is the precision mantissa, scale is the exponent. In psuedocode: value = unscaledValue 10^(-scale)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","title":"Is there a Java equivalent of frexp?","body":"<p>I'm not familiar with the frexp function, but I think you need to look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>' scaled and unscaled values. 'unscaled' is the precision mantissa, scale is the exponent. In psuedocode: value = unscaledValue 10^(-scale)</p>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1255325774,"creation_date":1255325774,"answer_id":1552882,"question_id":1552738,"body_markdown":"See Float.floatToIntBits and Double.doubleToLongBits. You still need a little additional logic to decode IEEE 754 floating points.","title":"Is there a Java equivalent of frexp?","body":"<p>See Float.floatToIntBits and Double.doubleToLongBits. You still need a little additional logic to decode IEEE 754 floating points.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1662854259,"creation_date":1255467557,"answer_id":1562857,"question_id":1552738,"body_markdown":"This does do what you want.\r\n\r\n    public class Test {\r\n      public class FRex {\r\n    \r\n        public FRexPHolder frexp (double value) {\r\n          FRexPHolder ret = new FRexPHolder();\r\n    \r\n          ret.exponent = 0;\r\n          ret.mantissa = 0;\r\n    \r\n          if (value == 0.0 || value == -0.0) {\r\n            return ret;\r\n          }\r\n        \r\n          if (Double.isNaN(value)) {\r\n            ret.mantissa = Double.NaN;\r\n            ret.exponent = -1;\r\n            return ret;\r\n          }\r\n    \r\n          if (Double.isInfinite(value)) {\r\n            ret.mantissa = value;\r\n            ret.exponent = -1;\r\n            return ret;\r\n          }\r\n    \r\n          ret.mantissa = value;\r\n          ret.exponent = 0;\r\n          int sign = 1;\r\n    \r\n          if (ret.mantissa &lt; 0f) {\r\n            sign = -1; // Thx Kevin\r\n            ret.mantissa = -(ret.mantissa);\r\n          }\r\n          while (ret.mantissa &lt; 0.5f) {\r\n            ret.mantissa *= 2.0f;\r\n            ret.exponent -= 1;\r\n          }\r\n          while (ret.mantissa &gt;= 1.0f) {\r\n            ret.mantissa *= 0.5f;\r\n            ret.exponent++;\r\n          }\r\n          ret.mantissa *= sign;\r\n          return ret;\r\n        }\r\n      }\r\n    \r\n      public class FRexPHolder {\r\n        int exponent;\r\n        double mantissa;\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        new Test();\r\n      }\r\n    \r\n      public Test() {\r\n        double value = 8.0;\r\n        //double value = 0.0;\r\n        //double value = -0.0;\r\n        //double value = Double.NaN;\r\n        //double value = Double.NEGATIVE_INFINITY;\r\n        //double value = Double.POSITIVE_INFINITY;\r\n    \r\n        FRex test = new FRex();\r\n        FRexPHolder frexp = test.frexp(value);\r\n        System.out.println(&quot;Mantissa: &quot; + frexp.mantissa);\r\n        System.out.println(&quot;Exponent: &quot; + frexp.exponent);\r\n        System.out.println(&quot;Original value was: &quot; + value);\r\n        System.out.println(frexp.mantissa+&quot; * 2^&quot; + frexp.exponent + &quot; = &quot;);\r\n        System.out.println(frexp.mantissa*(1&lt;&lt;frexp.exponent));\r\n      }\r\n    }","title":"Is there a Java equivalent of frexp?","body":"<p>This does do what you want.</p>\n<pre><code>public class Test {\n  public class FRex {\n\n    public FRexPHolder frexp (double value) {\n      FRexPHolder ret = new FRexPHolder();\n\n      ret.exponent = 0;\n      ret.mantissa = 0;\n\n      if (value == 0.0 || value == -0.0) {\n        return ret;\n      }\n    \n      if (Double.isNaN(value)) {\n        ret.mantissa = Double.NaN;\n        ret.exponent = -1;\n        return ret;\n      }\n\n      if (Double.isInfinite(value)) {\n        ret.mantissa = value;\n        ret.exponent = -1;\n        return ret;\n      }\n\n      ret.mantissa = value;\n      ret.exponent = 0;\n      int sign = 1;\n\n      if (ret.mantissa &lt; 0f) {\n        sign = -1; // Thx Kevin\n        ret.mantissa = -(ret.mantissa);\n      }\n      while (ret.mantissa &lt; 0.5f) {\n        ret.mantissa *= 2.0f;\n        ret.exponent -= 1;\n      }\n      while (ret.mantissa &gt;= 1.0f) {\n        ret.mantissa *= 0.5f;\n        ret.exponent++;\n      }\n      ret.mantissa *= sign;\n      return ret;\n    }\n  }\n\n  public class FRexPHolder {\n    int exponent;\n    double mantissa;\n  }\n\n  public static void main(String args[]) {\n    new Test();\n  }\n\n  public Test() {\n    double value = 8.0;\n    //double value = 0.0;\n    //double value = -0.0;\n    //double value = Double.NaN;\n    //double value = Double.NEGATIVE_INFINITY;\n    //double value = Double.POSITIVE_INFINITY;\n\n    FRex test = new FRex();\n    FRexPHolder frexp = test.frexp(value);\n    System.out.println(&quot;Mantissa: &quot; + frexp.mantissa);\n    System.out.println(&quot;Exponent: &quot; + frexp.exponent);\n    System.out.println(&quot;Original value was: &quot; + value);\n    System.out.println(frexp.mantissa+&quot; * 2^&quot; + frexp.exponent + &quot; = &quot;);\n    System.out.println(frexp.mantissa*(1&lt;&lt;frexp.exponent));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255468667,"creation_date":1255468667,"answer_id":1562946,"question_id":1552738,"body_markdown":"Nope there is no current implementation in core Java or in the Commons Lang(most likely other place to find it) that has the exact same functionality and ease of &lt;b&gt;frexp&lt;/b&gt;; that I know of. If it does exist it&#39;s probably in a not widely used toolkit.","title":"Is there a Java equivalent of frexp?","body":"<p>Nope there is no current implementation in core Java or in the Commons Lang(most likely other place to find it) that has the exact same functionality and ease of <b>frexp</b>; that I know of. If it does exist it's probably in a not widely used toolkit.</p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1255471776,"creation_date":1255469589,"answer_id":1563025,"question_id":1552738,"body_markdown":"If I&#39;m reading this right...\r\n\r\n    public class Frexp {\r\n      public static void main (String[] args)\r\n      {\r\n        double param, result;\r\n        int n;\r\n    \r\n        param = 8.0;\r\n        n = Math.getExponent(param);\r\n        //result = ??\r\n    \r\n        System.out.printf (&quot;%f * 2^%d = %f\\n&quot;, result, n, param);\r\n      }\r\n    }\r\n\r\nUnfortunately, there doesn&#39;t appear to be a built-in method to get the mantissa without converting it to a BigDecimal first (or just doing the division: `result = param / Math.pow(2,n)`.\r\n\r\nStrangely enough, `scalb` does the exact opposite: take a mantissa and exponent and generate a new float from it.\r\n\r\n","title":"Is there a Java equivalent of frexp?","body":"<p>If I'm reading this right...</p>\n\n<pre><code>public class Frexp {\n  public static void main (String[] args)\n  {\n    double param, result;\n    int n;\n\n    param = 8.0;\n    n = Math.getExponent(param);\n    //result = ??\n\n    System.out.printf (\"%f * 2^%d = %f\\n\", result, n, param);\n  }\n}\n</code></pre>\n\n<p>Unfortunately, there doesn't appear to be a built-in method to get the mantissa without converting it to a BigDecimal first (or just doing the division: <code>result = param / Math.pow(2,n)</code>.</p>\n\n<p>Strangely enough, <code>scalb</code> does the exact opposite: take a mantissa and exponent and generate a new float from it.</p>\n"},{"tags":[],"owner":{"account_id":3517,"reputation":31981,"user_id":5074,"accept_rate":78,"display_name":"Jay R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1287178218,"creation_date":1287178218,"answer_id":3946294,"question_id":1552738,"body_markdown":"How&#39;s this?\r\n\r\n    public static class FRexpResult\r\n    {\r\n       public int exponent = 0;\r\n       public double mantissa = 0.;\r\n    }\r\n           \r\n    public static FRexpResult frexp(double value)\r\n    {\r\n       final FRexpResult result = new FRexpResult();\r\n       long bits = Double.doubleToLongBits(value);\r\n       double realMant = 1.;\r\n      \r\n       // Test for NaN, infinity, and zero.\r\n       if (Double.isNaN(value) || \r\n           value + value == value || \r\n           Double.isInfinite(value))\r\n       {\r\n          result.exponent = 0;\r\n          result.mantissa = value;\r\n       }\r\n       else\r\n       {\r\n         \r\n          boolean neg = (bits &lt; 0);\r\n          int exponent = (int)((bits &gt;&gt; 52) &amp; 0x7ffL);\r\n          long mantissa = bits &amp; 0xfffffffffffffL;\r\n          \r\n          if(exponent == 0)\r\n          {\r\n             exponent++;\r\n          }\r\n          else\r\n          {\r\n             mantissa = mantissa | (1L&lt;&lt;52);\r\n          }\r\n          \r\n          // bias the exponent - actually biased by 1023.\r\n          // we are treating the mantissa as m.0 instead of 0.m\r\n          //  so subtract another 52.\r\n          exponent -= 1075;\r\n          realMant = mantissa;\r\n          \r\n          // normalize\r\n          while(realMant &gt; 1.0) \r\n          {\r\n             mantissa &gt;&gt;= 1;\r\n             realMant /= 2.;\r\n             exponent++;\r\n          }\r\n          \r\n          if(neg)\r\n          {\r\n             realMant = realMant * -1;\r\n          }\r\n          \r\n          result.exponent = exponent;\r\n          result.mantissa = realMant;\r\n       }\r\n       return result;\r\n    }\r\n\r\nThis is &quot;inspired&quot; or actually nearly copied identically from an [answer][1] to a similar C# question.  It works with the bits and then makes the mantissa a number between 1.0 and 0.0. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/389993/extracting-mantissa-and-exponent-from-double-in-c/390072#390072","title":"Is there a Java equivalent of frexp?","body":"<p>How's this?</p>\n\n<pre><code>public static class FRexpResult\n{\n   public int exponent = 0;\n   public double mantissa = 0.;\n}\n\npublic static FRexpResult frexp(double value)\n{\n   final FRexpResult result = new FRexpResult();\n   long bits = Double.doubleToLongBits(value);\n   double realMant = 1.;\n\n   // Test for NaN, infinity, and zero.\n   if (Double.isNaN(value) || \n       value + value == value || \n       Double.isInfinite(value))\n   {\n      result.exponent = 0;\n      result.mantissa = value;\n   }\n   else\n   {\n\n      boolean neg = (bits &lt; 0);\n      int exponent = (int)((bits &gt;&gt; 52) &amp; 0x7ffL);\n      long mantissa = bits &amp; 0xfffffffffffffL;\n\n      if(exponent == 0)\n      {\n         exponent++;\n      }\n      else\n      {\n         mantissa = mantissa | (1L&lt;&lt;52);\n      }\n\n      // bias the exponent - actually biased by 1023.\n      // we are treating the mantissa as m.0 instead of 0.m\n      //  so subtract another 52.\n      exponent -= 1075;\n      realMant = mantissa;\n\n      // normalize\n      while(realMant &gt; 1.0) \n      {\n         mantissa &gt;&gt;= 1;\n         realMant /= 2.;\n         exponent++;\n      }\n\n      if(neg)\n      {\n         realMant = realMant * -1;\n      }\n\n      result.exponent = exponent;\n      result.mantissa = realMant;\n   }\n   return result;\n}\n</code></pre>\n\n<p>This is \"inspired\" or actually nearly copied identically from an <a href=\"https://stackoverflow.com/questions/389993/extracting-mantissa-and-exponent-from-double-in-c/390072#390072\">answer</a> to a similar C# question.  It works with the bits and then makes the mantissa a number between 1.0 and 0.0. </p>\n"}],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2752,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3946294,"answer_count":6,"score":6,"last_activity_date":1662854259,"creation_date":1255322674,"question_id":1552738,"body_markdown":"Is there a Java equivalent of the C / C++ function called [frexp][1]?  If you aren&#39;t familiar, frexp is [defined by Wikipedia][2] to &quot;break floating-point number down into mantissa and exponent.&quot;\r\n\r\nI am looking for an implementation with both speed and accuracy but I would rather have the accuracy if I could only choose one.\r\n\r\nThis is the code sample from the first reference.  It should make the frexp contract a little more clear:\r\n\r\n    /* frexp example */\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n    \r\n    int main ()\r\n    {\r\n      double param, result;\r\n      int n;\r\n    \r\n      param = 8.0;\r\n      result = frexp (param , &amp;n);\r\n      printf (&quot;%lf * 2^%d = %f\\n&quot;, result, n, param);\r\n      return 0;\r\n    }\r\n    \r\n    /* Will produce: 0.500000 * 2^4 = 8.000000 */\r\n\r\n\r\n  [1]: http://www.cplusplus.com/reference/clibrary/cmath/frexp/\r\n  [2]: http://en.wikipedia.org/wiki/Math.h#Pre-C99_functions","title":"Is there a Java equivalent of frexp?","body":"<p>Is there a Java equivalent of the C / C++ function called <a href=\"http://www.cplusplus.com/reference/clibrary/cmath/frexp/\" rel=\"noreferrer\">frexp</a>?  If you aren't familiar, frexp is <a href=\"http://en.wikipedia.org/wiki/Math.h#Pre-C99_functions\" rel=\"noreferrer\">defined by Wikipedia</a> to \"break floating-point number down into mantissa and exponent.\"</p>\n\n<p>I am looking for an implementation with both speed and accuracy but I would rather have the accuracy if I could only choose one.</p>\n\n<p>This is the code sample from the first reference.  It should make the frexp contract a little more clear:</p>\n\n<pre><code>/* frexp example */\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n\nint main ()\n{\n  double param, result;\n  int n;\n\n  param = 8.0;\n  result = frexp (param , &amp;n);\n  printf (\"%lf * 2^%d = %f\\n\", result, n, param);\n  return 0;\n}\n\n/* Will produce: 0.500000 * 2^4 = 8.000000 */\n</code></pre>\n"},{"tags":["java","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1662853638,"creation_date":1245261504,"answer_id":1008631,"question_id":1007861,"body_markdown":"[**DISCLAIMER**: Note that this solution always was hackish. And in most cases won&#39;t work anymore nowadays. Check [Benjamins answer](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/55392604#55392604) for more info]\r\n\r\n---\r\n\r\nThere is a way to determine all currently loaded native libraries if you meant that. Already unloaded libraries can&#39;t be determined.\r\n\r\nBased on the work of Svetlin Nakov ([Extract classes loaded in JVM to single JAR][1]) I did a POC which gives you the names of the loaded native libraries from the application classloader and the classloader of the current class.\r\n\r\nFirst the simplified version with no bu....it exception handling, nice error messages, javadoc, ....\r\n\r\nGet the private field in which the class loader stores the already loaded libraries via reflection\r\n\r\n    public class ClassScope {\r\n        private static final java.lang.reflect.Field LIBRARIES;\r\n        static {\r\n            LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n            LIBRARIES.setAccessible(true);\r\n        }\r\n        public static String[] getLoadedLibraries(final ClassLoader loader) {\r\n            final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\r\n            return libraries.toArray(new String[] {});\r\n        }\r\n    }\r\n\r\nCall the above like this\r\n\r\n    final String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); //MyClassName.class.getClassLoader()\r\n    \r\nAnd voil&#225; *`libraries`* holds the names of the loaded native libraries.\r\n\r\nGet the full source code [here][2] and [here][3]\r\n\r\n\r\n  [1]: http://www.nakov.com/blog/2008/08/27/extract-all-classes-loaded-in-the-jvm-into-a-single-jar/\r\n  [2]: http://pastebin.com/aDgGqjEr\r\n  [3]: http://pastebin.com/eVXFdgr9","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>[<strong>DISCLAIMER</strong>: Note that this solution always was hackish. And in most cases won't work anymore nowadays. Check <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/55392604#55392604\">Benjamins answer</a> for more info]</p>\n<hr />\n<p>There is a way to determine all currently loaded native libraries if you meant that. Already unloaded libraries can't be determined.</p>\n<p>Based on the work of Svetlin Nakov (<a href=\"http://www.nakov.com/blog/2008/08/27/extract-all-classes-loaded-in-the-jvm-into-a-single-jar/\" rel=\"nofollow noreferrer\">Extract classes loaded in JVM to single JAR</a>) I did a POC which gives you the names of the loaded native libraries from the application classloader and the classloader of the current class.</p>\n<p>First the simplified version with no bu....it exception handling, nice error messages, javadoc, ....</p>\n<p>Get the private field in which the class loader stores the already loaded libraries via reflection</p>\n<pre><code>public class ClassScope {\n    private static final java.lang.reflect.Field LIBRARIES;\n    static {\n        LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n        LIBRARIES.setAccessible(true);\n    }\n    public static String[] getLoadedLibraries(final ClassLoader loader) {\n        final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\n        return libraries.toArray(new String[] {});\n    }\n}\n</code></pre>\n<p>Call the above like this</p>\n<pre><code>final String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); //MyClassName.class.getClassLoader()\n</code></pre>\n<p>And voilá <em><code>libraries</code></em> holds the names of the loaded native libraries.</p>\n<p>Get the full source code <a href=\"http://pastebin.com/aDgGqjEr\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://pastebin.com/eVXFdgr9\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1652212855,"creation_date":1320337528,"answer_id":7998393,"question_id":1007861,"body_markdown":"I&#39;ve built on top of [jitter&#39;s solution](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631). This allows you to find out who (ClassLoader, Class) loaded each native library.\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Vector;\r\n    \r\n    /**\r\n     * Helper functions for native libraries.\r\n     * &lt;p/&gt;\r\n     * @author Gili Tzabari\r\n     */\r\n    public class NativeLibraries\r\n    {\r\n    \tprivate final Field loadedLibraryNames;\r\n    \tprivate final Field systemNativeLibraries;\r\n    \tprivate final Field nativeLibraries;\r\n    \tprivate final Field nativeLibraryFromClass;\r\n    \tprivate final Field nativeLibraryName;\r\n    \r\n    \t/**\r\n    \t * Creates a new NativeLibraries.\r\n    \t * &lt;p/&gt;\r\n    \t * @throws NoSuchFieldException if one of ClassLoader&#39;s fields cannot be found\r\n    \t */\r\n    \tpublic NativeLibraries() throws NoSuchFieldException\r\n    \t{\r\n    \t\tthis.loadedLibraryNames = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n    \t\tloadedLibraryNames.setAccessible(true);\r\n    \r\n    \t\tthis.systemNativeLibraries = ClassLoader.class.getDeclaredField(&quot;systemNativeLibraries&quot;);\r\n    \t\tsystemNativeLibraries.setAccessible(true);\r\n    \r\n    \t\tthis.nativeLibraries = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\r\n    \t\tnativeLibraries.setAccessible(true);\r\n    \r\n    \t\tClass&lt;?&gt; nativeLibrary = null;\r\n    \t\tfor (Class&lt;?&gt; nested : ClassLoader.class.getDeclaredClasses())\r\n    \t\t{\r\n    \t\t\tif (nested.getSimpleName().equals(&quot;NativeLibrary&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tnativeLibrary = nested;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthis.nativeLibraryFromClass = nativeLibrary.getDeclaredField(&quot;fromClass&quot;);\r\n    \t\tnativeLibraryFromClass.setAccessible(true);\r\n    \r\n    \t\tthis.nativeLibraryName = nativeLibrary.getDeclaredField(&quot;name&quot;);\r\n    \t\tnativeLibraryName.setAccessible(true);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the names of native libraries loaded across all class loaders.\r\n    \t * &lt;p/&gt;\r\n    \t * @return a list of native libraries loaded\r\n    \t */\r\n    \tpublic List&lt;String&gt; getLoadedLibraries()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;String&gt; result = (Vector&lt;String&gt;) loadedLibraryNames.get(null);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the native libraries loaded by the system class loader.\r\n    \t * &lt;p/&gt;\r\n    \t * @return a Map from the names of native libraries to the classes that loaded them\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getSystemNativeLibraries()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) systemNativeLibraries.get(null);\r\n    \t\t\tfor (Object nativeLibrary : libraries)\r\n    \t\t\t{\r\n    \t\t\t\tString libraryName = (String) nativeLibraryName.get(nativeLibrary);\r\n    \t\t\t\tClass&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\r\n    \t\t\t\tresult.put(libraryName, fromClass);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a Map from the names of native libraries to the classes that loaded them.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the ClassLoader that loaded the libraries\r\n    \t * @return an empty Map if no native libraries were loaded\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getNativeLibraries(final ClassLoader loader)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) nativeLibraries.get(loader);\r\n    \t\t\tfor (Object nativeLibrary : libraries)\r\n    \t\t\t{\r\n    \t\t\t\tString libraryName = (String) nativeLibraryName.get(nativeLibrary);\r\n    \t\t\t\tClass&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\r\n    \t\t\t\tresult.put(libraryName, fromClass);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The same as {@link #getNativeLibraries()} except that all ancestor classloaders are processed\r\n    \t * as well.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the ClassLoader that loaded (or whose ancestors loaded) the libraries\r\n    \t * @return an empty Map if no native libraries were loaded\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getTransitiveNativeLibraries(final ClassLoader loader)\r\n    \t{\r\n    \t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\tClassLoader parent = loader.getParent();\r\n    \t\twhile (parent != null)\r\n    \t\t{\r\n    \t\t\tresult.putAll(getTransitiveNativeLibraries(parent));\r\n    \t\t\tparent = parent.getParent();\r\n    \t\t}\r\n    \t\tresult.putAll(getNativeLibraries(loader));\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Converts a map of library names to the classes that loaded them to a map of library names to\r\n    \t * the classloaders that loaded them.\r\n    \t * &lt;p/&gt;\r\n    \t * @param libraryToClass a map of library names to the classes that loaded them\r\n    \t * @return a map of library names to the classloaders that loaded them\r\n    \t */\r\n    \tpublic Map&lt;String, ClassLoader&gt; getLibraryClassLoaders(Map&lt;String, Class&lt;?&gt;&gt; libraryToClass)\r\n    \t{\r\n    \t\tMap&lt;String, ClassLoader&gt; result = new HashMap&lt;&gt;();\r\n    \t\tfor (Entry&lt;String, Class&lt;?&gt;&gt; entry : libraryToClass.entrySet())\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().getClassLoader());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a list containing the classloader and its ancestors.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the classloader\r\n    \t * @return a list containing the classloader, its parent, and so on\r\n    \t */\r\n    \tpublic static List&lt;ClassLoader&gt; getTransitiveClassLoaders(ClassLoader loader)\r\n    \t{\r\n    \t\tList&lt;ClassLoader&gt; result = new ArrayList&lt;&gt;();\r\n    \t\tClassLoader parent = loader.getParent();\r\n    \t\tresult.add(loader);\r\n    \t\twhile (parent != null)\r\n    \t\t{\r\n    \t\t\tresult.add(parent);\r\n    \t\t\tparent = parent.getParent();\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>I've built on top of <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631\">jitter's solution</a>. This allows you to find out who (ClassLoader, Class) loaded each native library.</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Vector;\n\n/**\n * Helper functions for native libraries.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\npublic class NativeLibraries\n{\n    private final Field loadedLibraryNames;\n    private final Field systemNativeLibraries;\n    private final Field nativeLibraries;\n    private final Field nativeLibraryFromClass;\n    private final Field nativeLibraryName;\n\n    /**\n     * Creates a new NativeLibraries.\n     * &lt;p/&gt;\n     * @throws NoSuchFieldException if one of ClassLoader's fields cannot be found\n     */\n    public NativeLibraries() throws NoSuchFieldException\n    {\n        this.loadedLibraryNames = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n        loadedLibraryNames.setAccessible(true);\n\n        this.systemNativeLibraries = ClassLoader.class.getDeclaredField(&quot;systemNativeLibraries&quot;);\n        systemNativeLibraries.setAccessible(true);\n\n        this.nativeLibraries = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\n        nativeLibraries.setAccessible(true);\n\n        Class&lt;?&gt; nativeLibrary = null;\n        for (Class&lt;?&gt; nested : ClassLoader.class.getDeclaredClasses())\n        {\n            if (nested.getSimpleName().equals(&quot;NativeLibrary&quot;))\n            {\n                nativeLibrary = nested;\n                break;\n            }\n        }\n        this.nativeLibraryFromClass = nativeLibrary.getDeclaredField(&quot;fromClass&quot;);\n        nativeLibraryFromClass.setAccessible(true);\n\n        this.nativeLibraryName = nativeLibrary.getDeclaredField(&quot;name&quot;);\n        nativeLibraryName.setAccessible(true);\n    }\n\n    /**\n     * Returns the names of native libraries loaded across all class loaders.\n     * &lt;p/&gt;\n     * @return a list of native libraries loaded\n     */\n    public List&lt;String&gt; getLoadedLibraries()\n    {\n        try\n        {\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;String&gt; result = (Vector&lt;String&gt;) loadedLibraryNames.get(null);\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * Returns the native libraries loaded by the system class loader.\n     * &lt;p/&gt;\n     * @return a Map from the names of native libraries to the classes that loaded them\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getSystemNativeLibraries()\n    {\n        try\n        {\n            Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) systemNativeLibraries.get(null);\n            for (Object nativeLibrary : libraries)\n            {\n                String libraryName = (String) nativeLibraryName.get(nativeLibrary);\n                Class&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\n                result.put(libraryName, fromClass);\n            }\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * Returns a Map from the names of native libraries to the classes that loaded them.\n     * &lt;p/&gt;\n     * @param loader the ClassLoader that loaded the libraries\n     * @return an empty Map if no native libraries were loaded\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getNativeLibraries(final ClassLoader loader)\n    {\n        try\n        {\n            Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) nativeLibraries.get(loader);\n            for (Object nativeLibrary : libraries)\n            {\n                String libraryName = (String) nativeLibraryName.get(nativeLibrary);\n                Class&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\n                result.put(libraryName, fromClass);\n            }\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * The same as {@link #getNativeLibraries()} except that all ancestor classloaders are processed\n     * as well.\n     * &lt;p/&gt;\n     * @param loader the ClassLoader that loaded (or whose ancestors loaded) the libraries\n     * @return an empty Map if no native libraries were loaded\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getTransitiveNativeLibraries(final ClassLoader loader)\n    {\n        Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n        ClassLoader parent = loader.getParent();\n        while (parent != null)\n        {\n            result.putAll(getTransitiveNativeLibraries(parent));\n            parent = parent.getParent();\n        }\n        result.putAll(getNativeLibraries(loader));\n        return result;\n    }\n\n    /**\n     * Converts a map of library names to the classes that loaded them to a map of library names to\n     * the classloaders that loaded them.\n     * &lt;p/&gt;\n     * @param libraryToClass a map of library names to the classes that loaded them\n     * @return a map of library names to the classloaders that loaded them\n     */\n    public Map&lt;String, ClassLoader&gt; getLibraryClassLoaders(Map&lt;String, Class&lt;?&gt;&gt; libraryToClass)\n    {\n        Map&lt;String, ClassLoader&gt; result = new HashMap&lt;&gt;();\n        for (Entry&lt;String, Class&lt;?&gt;&gt; entry : libraryToClass.entrySet())\n            result.put(entry.getKey(), entry.getValue().getClassLoader());\n        return result;\n    }\n\n    /**\n     * Returns a list containing the classloader and its ancestors.\n     * &lt;p/&gt;\n     * @param loader the classloader\n     * @return a list containing the classloader, its parent, and so on\n     */\n    public static List&lt;ClassLoader&gt; getTransitiveClassLoaders(ClassLoader loader)\n    {\n        List&lt;ClassLoader&gt; result = new ArrayList&lt;&gt;();\n        ClassLoader parent = loader.getParent();\n        result.add(loader);\n        while (parent != null)\n        {\n            result.add(parent);\n            parent = parent.getParent();\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226741,"reputation":14882,"user_id":487946,"accept_rate":100,"display_name":"Nicolas Payette"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383784642,"creation_date":1358811244,"answer_id":14449120,"question_id":1007861,"body_markdown":"FWIW, here&#39;s [jitter&#39;s solution](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631) again, this time as a small Scala method:\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    def loadedLibs: Seq[String] = {\r\n      val libs = classOf[ClassLoader].getDeclaredField(&quot;loadedLibraryNames&quot;)\r\n      libs.setAccessible(true)\r\n      import scala.collection.JavaConverters._\r\n      libs.get(ClassLoader.getSystemClassLoader())\r\n        .asInstanceOf[java.util.Vector[String]]\r\n        .asScala\r\n    }\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>FWIW, here's <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631\">jitter's solution</a> again, this time as a small Scala method:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def loadedLibs: Seq[String] = {\n  val libs = classOf[ClassLoader].getDeclaredField(\"loadedLibraryNames\")\n  libs.setAccessible(true)\n  import scala.collection.JavaConverters._\n  libs.get(ClassLoader.getSystemClassLoader())\n    .asInstanceOf[java.util.Vector[String]]\n    .asScala\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59731,"reputation":7986,"user_id":178651,"accept_rate":80,"display_name":"Gary S. Weaver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359565629,"creation_date":1359562133,"answer_id":14608470,"question_id":1007861,"body_markdown":"Since Nicolas mentioned Scala, here is one way to do jitter&#39;s solution via JRuby (tested in 1.6 and 1.7):\r\n\r\n    require &#39;java&#39;\r\n    import &#39;java.lang.ClassLoader&#39;\r\n    f = ClassLoader.java_class.declared_field(&#39;loadedLibraryNames&#39;)\r\n    f.accessible = true\r\n    f.value(ClassLoader.system_class_loader).to_array.to_a\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>Since Nicolas mentioned Scala, here is one way to do jitter's solution via JRuby (tested in 1.6 and 1.7):</p>\n\n<pre><code>require 'java'\nimport 'java.lang.ClassLoader'\nf = ClassLoader.java_class.declared_field('loadedLibraryNames')\nf.accessible = true\nf.value(ClassLoader.system_class_loader).to_array.to_a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52696,"reputation":1091,"user_id":157477,"display_name":"Gary Verhaegen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399809704,"creation_date":1399809704,"answer_id":23592348,"question_id":1007861,"body_markdown":"In Clojure, copy/pastable at the REPL:\r\n\r\n    (-&gt; (doto (.getDeclaredField ClassLoader &quot;loadedLibraryNames&quot;)\r\n          (.setAccessible true))\r\n        (.get (ClassLoader/getSystemClassLoader)))","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>In Clojure, copy/pastable at the REPL:</p>\n\n<pre><code>(-&gt; (doto (.getDeclaredField ClassLoader \"loadedLibraryNames\")\n      (.setAccessible true))\n    (.get (ClassLoader/getSystemClassLoader)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4544947,"reputation":11,"user_id":3691831,"display_name":"sheiden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481831944,"creation_date":1481831944,"answer_id":41172393,"question_id":1007861,"body_markdown":"In Groovy (tested in 2.3.3):\r\n\r\n    libs = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;)\r\n    libs.setAccessible(true)\r\n    libraries = libs.get(ClassLoader.getSystemClassLoader())","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>In Groovy (tested in 2.3.3):</p>\n\n<pre><code>libs = ClassLoader.class.getDeclaredField(\"loadedLibraryNames\")\nlibs.setAccessible(true)\nlibraries = libs.get(ClassLoader.getSystemClassLoader())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553759879,"creation_date":1553759879,"answer_id":55392604,"question_id":1007861,"body_markdown":"as of Janurary 2019, the correct answer (from jdk9+ ondwards) is: There is no way anymore to get the List of loaded libraries. \r\n\r\nAlthough the mentioned field (`loadedLibraryNames`) still exists in `hotspot`-type VMs, it does not exist in others (like `openj9`). Also, if you try this on jdk9 onwards, you will get a warning on your terminal, that this access will be revoked in Java 12 onwards:\r\n\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\r\n    WARNING: Please consider reporting this to the maintainers of &lt;file&gt;\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nThat said,\r\n* this method only works on a very specific JVM. do not rely on this, as someone may use another mature VM like `openj9`, `azul`, `corretto`, etc.\r\n* It won&#39;t work since Java 9 officially, but will crash your JVM (or yield unexpected output) starting from Java 12.\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>as of Janurary 2019, the correct answer (from jdk9+ ondwards) is: There is no way anymore to get the List of loaded libraries. </p>\n\n<p>Although the mentioned field (<code>loadedLibraryNames</code>) still exists in <code>hotspot</code>-type VMs, it does not exist in others (like <code>openj9</code>). Also, if you try this on jdk9 onwards, you will get a warning on your terminal, that this access will be revoked in Java 12 onwards:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\nWARNING: Please consider reporting this to the maintainers of &lt;file&gt;\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<p>That said,\n* this method only works on a very specific JVM. do not rely on this, as someone may use another mature VM like <code>openj9</code>, <code>azul</code>, <code>corretto</code>, etc.\n* It won't work since Java 9 officially, but will crash your JVM (or yield unexpected output) starting from Java 12.</p>\n"}],"owner":{"account_id":28408,"reputation":5406,"user_id":75857,"accept_rate":78,"display_name":"benhsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34520,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":7,"score":24,"last_activity_date":1662853638,"creation_date":1245253146,"question_id":1007861,"body_markdown":"Just what the subject says, is there a way in Java to get a list of all the JNI native libraries which have been loaded at any given time?","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>Just what the subject says, is there a way in Java to get a list of all the JNI native libraries which have been loaded at any given time?</p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1662853133,"creation_date":1258740824,"answer_id":1772328,"question_id":1772321,"body_markdown":"For a ANSI XML file it should actually be removed. If you want to use UTF-8 you don&#39;t really need it. Only for UTF-16 and UTF-32 it is needed.\r\n\r\n\r\n&gt; The Byte-Order-Mark (or BOM), is a\r\n&gt; special marker added at the very\r\n&gt; beginning of an Unicode file encoded\r\n&gt; in UTF-8, UTF-16 or UTF-32. It is used\r\n&gt; to indicate whether the file uses the\r\n&gt; big-endian or little-endian byte\r\n&gt; order. The BOM is mandatory for UTF-16\r\n&gt; and UTF-32, but it is optional for\r\n&gt; UTF-8.\r\n\r\n*(Source: https://www.opentag.com/xfaq_enc.htm#enc_bom)*\r\n\r\nRegarding the question on how detect this in java.\r\n\r\nCheck the following answer to this question: Java : [How to determine the correct charset encoding of a stream][1] and if you now want to determine the BOM yourself (at your own risk) check for example this code  [Java Tip: How to read a file and automatically specify the correct encoding][2].\r\n\r\nBasically just read in the first few bytes yourself and then determine if you **may** have found a BOM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream/499033#499033\r\n  [2]: https://ericbt.com/Blog/60","title":"What is XML BOM and how do I detect it?","body":"<p>For a ANSI XML file it should actually be removed. If you want to use UTF-8 you don't really need it. Only for UTF-16 and UTF-32 it is needed.</p>\n<blockquote>\n<p>The Byte-Order-Mark (or BOM), is a\nspecial marker added at the very\nbeginning of an Unicode file encoded\nin UTF-8, UTF-16 or UTF-32. It is used\nto indicate whether the file uses the\nbig-endian or little-endian byte\norder. The BOM is mandatory for UTF-16\nand UTF-32, but it is optional for\nUTF-8.</p>\n</blockquote>\n<p><em>(Source: <a href=\"https://www.opentag.com/xfaq_enc.htm#enc_bom\" rel=\"nofollow noreferrer\">https://www.opentag.com/xfaq_enc.htm#enc_bom</a>)</em></p>\n<p>Regarding the question on how detect this in java.</p>\n<p>Check the following answer to this question: Java : <a href=\"https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream/499033#499033\">How to determine the correct charset encoding of a stream</a> and if you now want to determine the BOM yourself (at your own risk) check for example this code  <a href=\"https://ericbt.com/Blog/60\" rel=\"nofollow noreferrer\">Java Tip: How to read a file and automatically specify the correct encoding</a>.</p>\n<p>Basically just read in the first few bytes yourself and then determine if you <strong>may</strong> have found a BOM.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1258751411,"creation_date":1258751411,"answer_id":1773255,"question_id":1772321,"body_markdown":"The byte order mark is likely to be one of these byte sequences:\r\n\r\n         UTF-8 BOM: ef bb bf \r\n      UTF-16BE BOM: fe ff \r\n      UTF-16LE BOM: ff fe \r\n      UTF-32BE BOM: 00 00 fe ff \r\n      UTF-32LE BOM: ff fe 00 00 \r\n\r\nThese are the variously encoded forms of the Unicode codepoint U+FEFF. This can be expressed as a Java char literal using `&#39;\\uFEFF&#39;` (Java char values are _implicitly_ UTF-16). Since U+FEFF isn&#39;t in most encodings, it is not possible for this BOM codepoint to be encoded by them. ([More on encoding the BOM using Java here][1].)\r\n\r\nWhen it comes to BOMs and XML, they are optional (see also the [Unicode BOM FAQ][2]). Detection of encoding in XML is relatively straightforward if the encoding is specified in the declaration. Always make sure that the XML declaration (`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;`) matches the encoding used to write the document. If you are strict about this, parsers should be able to interpret your documents correctly.  ([XML spec on encoding detection.][3])\r\n\r\nI advocate encoding as Unicode wherever possible (see also the [10 Commandments of Unicode][4]). That said, XML allows the representation of any Unicode character via escape entities (e.g. &#39;A&#39; could be represented by `&amp;#x0041;`), so it isn&#39;t necessarily a requirement to avoid data loss.\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html#javaencoding_boms\r\n  [2]: http://unicode.org/faq/utf_bom.html#BOM\r\n  [3]: http://www.w3.org/TR/REC-xml/#sec-guessing\r\n  [4]: http://cafe.elharo.com/programming/the-ten-commandments-of-unicode/","title":"What is XML BOM and how do I detect it?","body":"<p>The byte order mark is likely to be one of these byte sequences:</p>\n\n<pre><code>     UTF-8 BOM: ef bb bf \n  UTF-16BE BOM: fe ff \n  UTF-16LE BOM: ff fe \n  UTF-32BE BOM: 00 00 fe ff \n  UTF-32LE BOM: ff fe 00 00 \n</code></pre>\n\n<p>These are the variously encoded forms of the Unicode codepoint U+FEFF. This can be expressed as a Java char literal using <code>'\\uFEFF'</code> (Java char values are <em>implicitly</em> UTF-16). Since U+FEFF isn't in most encodings, it is not possible for this BOM codepoint to be encoded by them. (<a href=\"http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html#javaencoding_boms\" rel=\"noreferrer\">More on encoding the BOM using Java here</a>.)</p>\n\n<p>When it comes to BOMs and XML, they are optional (see also the <a href=\"http://unicode.org/faq/utf_bom.html#BOM\" rel=\"noreferrer\">Unicode BOM FAQ</a>). Detection of encoding in XML is relatively straightforward if the encoding is specified in the declaration. Always make sure that the XML declaration (<code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code>) matches the encoding used to write the document. If you are strict about this, parsers should be able to interpret your documents correctly.  (<a href=\"http://www.w3.org/TR/REC-xml/#sec-guessing\" rel=\"noreferrer\">XML spec on encoding detection.</a>)</p>\n\n<p>I advocate encoding as Unicode wherever possible (see also the <a href=\"http://cafe.elharo.com/programming/the-ten-commandments-of-unicode/\" rel=\"noreferrer\">10 Commandments of Unicode</a>). That said, XML allows the representation of any Unicode character via escape entities (e.g. 'A' could be represented by <code>&amp;#x0041;</code>), so it isn't necessarily a requirement to avoid data loss.</p>\n"},{"tags":[],"owner":{"account_id":571060,"reputation":395,"user_id":208264,"accept_rate":0,"display_name":"bill seacham"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1258917561,"creation_date":1258917561,"answer_id":1779676,"question_id":1772321,"body_markdown":"Do not insert a BOM in a utf-8 file: if two such files are merged, you end up with a BOM in the middle which might break an applicaton, or cause an xml parser to throw an exception.\r\n","title":"What is XML BOM and how do I detect it?","body":"<p>Do not insert a BOM in a utf-8 file: if two such files are merged, you end up with a BOM in the middle which might break an applicaton, or cause an xml parser to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":2140912,"reputation":1357,"user_id":1899566,"display_name":"Robert Fleming"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401822556,"creation_date":1401820443,"answer_id":24022453,"question_id":1772321,"body_markdown":"OP:\r\n&gt; Can anyone tell me a Java method that will detect the BOM?\r\n\r\n`org.apache.commons.io.input.BOMInputStream` Javadocs:\r\n&gt;  This class detects these bytes and, if required, can automatically skip them and return the subsequent byte as the first byte in the stream.","title":"What is XML BOM and how do I detect it?","body":"<p>OP:</p>\n\n<blockquote>\n  <p>Can anyone tell me a Java method that will detect the BOM?</p>\n</blockquote>\n\n<p><code>org.apache.commons.io.input.BOMInputStream</code> Javadocs:</p>\n\n<blockquote>\n  <p>This class detects these bytes and, if required, can automatically skip them and return the subsequent byte as the first byte in the stream.</p>\n</blockquote>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59529,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":1772328,"answer_count":4,"score":27,"last_activity_date":1662853133,"creation_date":1258740710,"question_id":1772321,"body_markdown":"What exactly is the BOM in a ANSI XML document and should it be removed?   Should a XML document be in UTF-8 instead?  Can anyone tell me a Java method that will detect the BOM?    The BOM consists of the characters EF BB BF .","title":"What is XML BOM and how do I detect it?","body":"<p>What exactly is the BOM in a ANSI XML document and should it be removed?   Should a XML document be in UTF-8 instead?  Can anyone tell me a Java method that will detect the BOM?    The BOM consists of the characters EF BB BF .</p>\n"},{"tags":["java","android","apache","nanohttpd"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1390297145,"post_id":21254051,"comment_id":32019572,"body_markdown":"It is possible. Have you tried it? You will need to run that server in a background thread though.","body":"It is possible. Have you tried it? You will need to run that server in a background thread though."},{"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"score":0,"creation_date":1390297740,"post_id":21254051,"comment_id":32019973,"body_markdown":"thanks zapl for quick response, its working now. I can access webpage at http://127.0.0.1:8080.","body":"thanks zapl for quick response, its working now. I can access webpage at <a href=\"http://127.0.0.1:8080\" rel=\"nofollow noreferrer\">127.0.0.1:8080</a>."}],"answers":[{"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662852686,"creation_date":1390297829,"answer_id":21254553,"question_id":21254051,"body_markdown":"This code works:\r\n\r\n    private class MyHTTPD extends NanoHTTPD {\r\n        public MyHTTPD() throws IOException {\r\n            super(8080);\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(String uri, String method, Properties header, Properties parms, Properties files) {\r\n            InputStream is = new FileInputStream(&quot;/sdcard/1.mp3&quot;);\r\n            return new NanoHTTPD.Response(HTTP_OK, &quot;audio/mp3&quot;, is);\r\n        }\r\n    }\r\n    \r\n    server = new MyHTTPD();\r\n    server.start();\r\n    // and now you can use http://localhost:8080 to do something (ex : streaming audio ...)","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>This code works:</p>\n<pre><code>private class MyHTTPD extends NanoHTTPD {\n    public MyHTTPD() throws IOException {\n        super(8080);\n    }\n\n    @Override\n    public Response serve(String uri, String method, Properties header, Properties parms, Properties files) {\n        InputStream is = new FileInputStream(&quot;/sdcard/1.mp3&quot;);\n        return new NanoHTTPD.Response(HTTP_OK, &quot;audio/mp3&quot;, is);\n    }\n}\n\nserver = new MyHTTPD();\nserver.start();\n// and now you can use http://localhost:8080 to do something (ex : streaming audio ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390298064,"creation_date":1390298064,"answer_id":21254654,"question_id":21254051,"body_markdown":"Here is my working  sample code. It has limitation as activity will removed from memory my server will stop. To remove that I will write a service for this task.\r\n\r\n    public class MainActivity extends Activity {\r\n    \t private static final int PORT = 8080;\r\n    \t\r\n    \t  private MyHTTPD server;\r\n    \t\r\n    \t \r\n    \t  @Override\r\n    \t  public void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \t   }\r\n    \t \r\n    \t  @Override\r\n    \t  protected void onResume() {\r\n    \t    super.onResume();\r\n    \t  \t    server = new MyHTTPD();\r\n    \t    try {\r\n    \t\t\tserver.start();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t  }\r\n    \t \r\n    \t  @Override\r\n    \t  protected void onPause() {\r\n    \t    super.onPause();\r\n    \t   \r\n    \t  }\r\n    \t  @Override\r\n    \t  protected void onDestroy() {\r\n    \t    super.onDestroy();\r\n    \t    if (server != null)\r\n    \t      server.stop();\r\n    \t  }\r\n    \t \r\n    \t  private class MyHTTPD extends NanoHTTPD {\r\n    \t\t  public MyHTTPD() {\r\n    \t\t        super(8080);\r\n    \t\t    }\r\n    \r\n    \t\t    @Override public Response serve(IHTTPSession session) {\r\n    \t\t        Method method = session.getMethod();\r\n    \t\t        String uri = session.getUri();\r\n    \t\t        System.out.println(method + &quot; &#39;&quot; + uri + &quot;&#39; &quot;);\r\n    \r\n    \t\t        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\r\n    \t\t        Map&lt;String, String&gt; parms = session.getParms();\r\n    \t\t        if (parms.get(&quot;username&quot;) == null)\r\n    \t\t            msg +=\r\n    \t\t                    &quot;&lt;form action=&#39;?&#39; method=&#39;get&#39;&gt;\\n&quot; +\r\n    \t\t                            &quot;  &lt;p&gt;Your name: &lt;input type=&#39;text&#39; name=&#39;username&#39;&gt;&lt;/p&gt;\\n&quot; +\r\n    \t\t                            &quot;&lt;/form&gt;\\n&quot;;\r\n    \t\t        else\r\n    \t\t            msg += &quot;&lt;p&gt;Hello, &quot; + parms.get(&quot;username&quot;) + &quot;!&lt;/p&gt;&quot;;\r\n    \r\n    \t\t        msg += &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;;\r\n    \r\n    \t\t        return new NanoHTTPD.Response(msg);\r\n    \t\t    }\r\n    \t  }\r\n    \r\n    }\r\n\r\n    //now access web page using http://127.0.0.1:8080\r\n\r\n","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>Here is my working  sample code. It has limitation as activity will removed from memory my server will stop. To remove that I will write a service for this task.</p>\n\n<pre><code>public class MainActivity extends Activity {\n     private static final int PORT = 8080;\n\n      private MyHTTPD server;\n\n\n      @Override\n      public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n       }\n\n      @Override\n      protected void onResume() {\n        super.onResume();\n            server = new MyHTTPD();\n        try {\n            server.start();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n      }\n\n      @Override\n      protected void onPause() {\n        super.onPause();\n\n      }\n      @Override\n      protected void onDestroy() {\n        super.onDestroy();\n        if (server != null)\n          server.stop();\n      }\n\n      private class MyHTTPD extends NanoHTTPD {\n          public MyHTTPD() {\n                super(8080);\n            }\n\n            @Override public Response serve(IHTTPSession session) {\n                Method method = session.getMethod();\n                String uri = session.getUri();\n                System.out.println(method + \" '\" + uri + \"' \");\n\n                String msg = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n\";\n                Map&lt;String, String&gt; parms = session.getParms();\n                if (parms.get(\"username\") == null)\n                    msg +=\n                            \"&lt;form action='?' method='get'&gt;\\n\" +\n                                    \"  &lt;p&gt;Your name: &lt;input type='text' name='username'&gt;&lt;/p&gt;\\n\" +\n                                    \"&lt;/form&gt;\\n\";\n                else\n                    msg += \"&lt;p&gt;Hello, \" + parms.get(\"username\") + \"!&lt;/p&gt;\";\n\n                msg += \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n                return new NanoHTTPD.Response(msg);\n            }\n      }\n\n}\n\n//now access web page using http://127.0.0.1:8080\n</code></pre>\n"}],"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662852686,"creation_date":1390296565,"question_id":21254051,"body_markdown":"I want to add a http server inside the android application. I have tried NanoHTTPD server taken from [`https://github.com/NanoHttpd/nanohttpd`][1]. So I am  able to run this  http server as  simple java class in my desktop . and able to access it from desktop browser.\r\n\r\nNow I want to add this code with android application and start this server inside android device and access it from my mobile device browser.Is is possible and is there any other server i can bind with my android app .  \r\n\r\n\r\n  [1]: https://github.com/NanoHttpd/nanohttpd","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>I want to add a http server inside the android application. I have tried NanoHTTPD server taken from <a href=\"https://github.com/NanoHttpd/nanohttpd\" rel=\"nofollow\"><code>https://github.com/NanoHttpd/nanohttpd</code></a>. So I am  able to run this  http server as  simple java class in my desktop . and able to access it from desktop browser.</p>\n\n<p>Now I want to add this code with android application and start this server inside android device and access it from my mobile device browser.Is is possible and is there any other server i can bind with my android app .  </p>\n"},{"tags":["java","generics","java-module","java-12"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1560842883,"post_id":56637684,"comment_id":99857859,"body_markdown":"Agreed there is no explicit mention of declaring generic type and loading such services with the Java module system. But seems like this have been assumed that one uses a service such that the type bound can be inferred/loaded by the module system as well. +1 for the question","body":"Agreed there is no explicit mention of declaring generic type and loading such services with the Java module system. But seems like this have been assumed that one uses a service such that the type bound can be inferred/loaded by the module system as well. +1 for the question"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1593316976,"post_id":56637684,"comment_id":110734927,"body_markdown":"Thinking more around this, the erasure might just be one of the reasons for not being able to specify the type of generic classes.","body":"Thinking more around this, the erasure might just be one of the reasons for not being able to specify the type of generic classes."}],"answers":[{"tags":[],"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662852430,"creation_date":1662852430,"answer_id":73675826,"question_id":56637684,"body_markdown":"The service provider isn&#39;t designed for generic services, as you discovered. However, you can workaround this limitation by encoding the generic argument in your service provider implementation, plus some managerial code.\r\n\r\nSpecifically, your service providers should yield the `Class` of their generic argument, such as via a getter method.\r\n\r\n```java\r\n// I prefer to define a non-generic service for use with ServiceLoader. \r\n// Strictly speaking, this interface is auxiliary.\r\npublic interface ServiceBundle {\r\n  List&lt;ServiceGeneric&lt;?&gt;&gt; providers();\r\n}\r\n\r\npublic interface ServiceGeneric&lt;T&gt; {\r\n  Class&lt;T&gt; type();\r\n\r\n  T getT();\r\n}\r\n\r\npublic class ServiceString implements ServiceGeneric&lt;String&gt;{\r\n  public Class&lt;String&gt; type() {\r\n    return String.class;\r\n  }\r\n  public String getT() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThen you should be able to iterate over `ServiceLoader.load(ServiceBundle.class)` and place your service providers into a `Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt;` for later use.\r\n\r\n```java\r\nMap&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt; providers = new HashMap&lt;&gt;();\r\nfor (ServiceBundle bundle : ServiceLoader.load(ServiceBundle.class)) {\r\n  for (ServiceGeneric&lt;?&gt; provider : bundle.providers()) {\r\n    providers.put(provider.type(), provider);\r\n  }\r\n}\r\nproviders = Map.copyOf(providers); // freeze the map\r\n\r\n//\r\n// ...\r\n//\r\n\r\npublic class GenericServiceManager {\r\n\r\n  public &lt;T&gt; ServiceGeneric&lt;T&gt; getProvider(Class&lt;T&gt; type) {\r\n    // Assuming everything is set up correctly, this cast will be safe\r\n    return providers.get(type);\r\n  }\r\n}\r\n```","title":"Java module system: &#39;provides with&#39; generic interface","body":"<p>The service provider isn't designed for generic services, as you discovered. However, you can workaround this limitation by encoding the generic argument in your service provider implementation, plus some managerial code.</p>\n<p>Specifically, your service providers should yield the <code>Class</code> of their generic argument, such as via a getter method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I prefer to define a non-generic service for use with ServiceLoader. \n// Strictly speaking, this interface is auxiliary.\npublic interface ServiceBundle {\n  List&lt;ServiceGeneric&lt;?&gt;&gt; providers();\n}\n\npublic interface ServiceGeneric&lt;T&gt; {\n  Class&lt;T&gt; type();\n\n  T getT();\n}\n\npublic class ServiceString implements ServiceGeneric&lt;String&gt;{\n  public Class&lt;String&gt; type() {\n    return String.class;\n  }\n  public String getT() {\n    return &quot;Hello&quot;;\n  }\n}\n</code></pre>\n<p>Then you should be able to iterate over <code>ServiceLoader.load(ServiceBundle.class)</code> and place your service providers into a <code>Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt;</code> for later use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt; providers = new HashMap&lt;&gt;();\nfor (ServiceBundle bundle : ServiceLoader.load(ServiceBundle.class)) {\n  for (ServiceGeneric&lt;?&gt; provider : bundle.providers()) {\n    providers.put(provider.type(), provider);\n  }\n}\nproviders = Map.copyOf(providers); // freeze the map\n\n//\n// ...\n//\n\npublic class GenericServiceManager {\n\n  public &lt;T&gt; ServiceGeneric&lt;T&gt; getProvider(Class&lt;T&gt; type) {\n    // Assuming everything is set up correctly, this cast will be safe\n    return providers.get(type);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1662852430,"creation_date":1560799486,"question_id":56637684,"body_markdown":"I&#39;m experimenting with the Java module system.\r\nI&#39;m trying to use the ServiceLoader for generic interfaces.\r\nIt works but I&#39;ve got warnings in the module-info.\r\nHere is my minimal code\r\n\r\n    module testProvideWith {\r\n      provides ServiceGeneric with SString;\r\n      uses ServiceGeneric;\r\n    }\r\n    public interface ServiceGeneric&lt;T&gt; {\r\n      T getT();\r\n    }\r\n    public class SString implements ServiceGeneric&lt;String&gt;{\r\n      public String getT() {return &quot;Hello&quot;;}\r\n    }\r\n\r\nI&#39;m not surprised to get a warning when I try \r\n\r\n    ServiceGeneric&lt;String&gt; serv=ServiceLoader.load(ServiceGeneric.class).findFirst().get();\r\n\r\nI know about generic erasure, I understand that I would have to use annotations or some other trick to annotate the correct service. But... there is no mention at all of generic services that I can find.\r\nI expected to be able to write something like\r\n\r\n    module testProvideWith {\r\n      provides ServiceGeneric&lt;String&gt; with SString;\r\n      uses ServiceGeneric&lt;String&gt;;\r\n      //more cases could be added\r\n    }\r\n    ...\r\n    ServiceLoader.load(ServiceGeneric.class,String.class)\r\n\r\nwhere the module and the loader cooperate to keep track of what generic version is available.. but... nothing... no trace of anyone ever considering this possibility... I&#39;m I missing something?","title":"Java module system: &#39;provides with&#39; generic interface","body":"<p>I'm experimenting with the Java module system.\nI'm trying to use the ServiceLoader for generic interfaces.\nIt works but I've got warnings in the module-info.\nHere is my minimal code</p>\n\n<pre><code>module testProvideWith {\n  provides ServiceGeneric with SString;\n  uses ServiceGeneric;\n}\npublic interface ServiceGeneric&lt;T&gt; {\n  T getT();\n}\npublic class SString implements ServiceGeneric&lt;String&gt;{\n  public String getT() {return \"Hello\";}\n}\n</code></pre>\n\n<p>I'm not surprised to get a warning when I try </p>\n\n<pre><code>ServiceGeneric&lt;String&gt; serv=ServiceLoader.load(ServiceGeneric.class).findFirst().get();\n</code></pre>\n\n<p>I know about generic erasure, I understand that I would have to use annotations or some other trick to annotate the correct service. But... there is no mention at all of generic services that I can find.\nI expected to be able to write something like</p>\n\n<pre><code>module testProvideWith {\n  provides ServiceGeneric&lt;String&gt; with SString;\n  uses ServiceGeneric&lt;String&gt;;\n  //more cases could be added\n}\n...\nServiceLoader.load(ServiceGeneric.class,String.class)\n</code></pre>\n\n<p>where the module and the loader cooperate to keep track of what generic version is available.. but... nothing... no trace of anyone ever considering this possibility... I'm I missing something?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1662639305,"post_id":73648816,"comment_id":130055305,"body_markdown":"&quot;why do we need to set up JDK in Intellij for the project if we specify JDK version in Maven POM file&quot; - There are several reasons.  One is that the POM may not say anything about which JDK to use but instead may indicate which version of source code to support and which version of bytecode to generate, which is related but separate.  Another is the POM doesn&#39;t indicate where the JDK is.","body":"&quot;why do we need to set up JDK in Intellij for the project if we specify JDK version in Maven POM file&quot; - There are several reasons.  One is that the POM may not say anything about which JDK to use but instead may indicate which version of source code to support and which version of bytecode to generate, which is related but separate.  Another is the POM doesn&#39;t indicate where the JDK is."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1662643353,"post_id":73648816,"comment_id":130056912,"body_markdown":"If you have a jdk registered which can do what is requested in the Pom, it should happen automatically","body":"If you have a jdk registered which can do what is requested in the Pom, it should happen automatically"},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1662661679,"post_id":73648816,"comment_id":130063736,"body_markdown":"Git just stores commits, which just store files and metadata. What versions of what languages and systems and so on: those are up to other programs *interpreting* the commits and/or files. Git is not involved here.","body":"Git just stores commits, which just store files and metadata. What versions of what languages and systems and so on: those are up to other programs <i>interpreting</i> the commits and/or files. Git is not involved here."}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662650513,"creation_date":1662650513,"answer_id":73651518,"question_id":73648816,"body_markdown":"To answer question 1., it&#39;s possible to specify the *language level* in the pom, such as &quot;1.8&quot; but it&#39;s not possible to specify the specific build of the JDK (e.g. 1.8.0_301) in the pom.\r\n\r\nThis allows a &quot;general&quot; language level definition that correctly uses java code from different language levels (Overrides, diamonds, lambdas, etc) whilst at the same time allowing you to upgrade the JDK (security update?) at any time without breaking your build.\r\n\r\nRemember also that JDK&#39;s are platform dependent, and your java code is *portable* - it should compile and run on PC, linux and Mac. Specifying a JDK only available for windows would break the concept of portability (which is one of the reasons why java is in such widespread use)\r\n\r\nQuestion 2. If you already have set up the JDK for the language level you need, you don&#39;t need to do it again. Just because the maven pom says &quot;Java 12&quot; doesn&#39;t mean that IntelliJ is smart enough to go and download the correct JDK version - you need to do that ;)\r\n\r\nIn any case, setting up java 12 is a one-off activity for all your projects (and then updates from time to time) - so don&#39;t sweat it too much.","title":"How can I specify the JDK in IntelliJ for storing in Git?","body":"<p>To answer question 1., it's possible to specify the <em>language level</em> in the pom, such as &quot;1.8&quot; but it's not possible to specify the specific build of the JDK (e.g. 1.8.0_301) in the pom.</p>\n<p>This allows a &quot;general&quot; language level definition that correctly uses java code from different language levels (Overrides, diamonds, lambdas, etc) whilst at the same time allowing you to upgrade the JDK (security update?) at any time without breaking your build.</p>\n<p>Remember also that JDK's are platform dependent, and your java code is <em>portable</em> - it should compile and run on PC, linux and Mac. Specifying a JDK only available for windows would break the concept of portability (which is one of the reasons why java is in such widespread use)</p>\n<p>Question 2. If you already have set up the JDK for the language level you need, you don't need to do it again. Just because the maven pom says &quot;Java 12&quot; doesn't mean that IntelliJ is smart enough to go and download the correct JDK version - you need to do that ;)</p>\n<p>In any case, setting up java 12 is a one-off activity for all your projects (and then updates from time to time) - so don't sweat it too much.</p>\n"}],"owner":{"account_id":19115979,"reputation":414,"user_id":13960889,"display_name":"AndCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73651518,"answer_count":1,"score":1,"last_activity_date":1662852362,"creation_date":1662638660,"question_id":73648816,"body_markdown":"Question 1: Is it possible to specify JDK for an [IntelliJ IDEA][1] project for storing in Git? Currently, I have to clone an IntelliJ Java project from Git and then manually set up JDK in Project Structure. Is it possible to get the JDK automatically set up (selected) for the project in IntelliJ upon project cloning from Git?\r\n\r\nAlso, related question 2: why do we need to set up the JDK in IntelliJ for the project if we specify the JDK version in the [Maven][2] [POM][3] file, so it could be selected for the project automatically from those JDKs registered with IntelliJ?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Git\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n\r\n\r\n","title":"How can I specify the JDK in IntelliJ for storing in Git?","body":"<p>Question 1: Is it possible to specify JDK for an <a href=\"https://en.wikipedia.org/wiki/Git\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> project for storing in Git? Currently, I have to clone an IntelliJ Java project from Git and then manually set up JDK in Project Structure. Is it possible to get the JDK automatically set up (selected) for the project in IntelliJ upon project cloning from Git?</p>\n<p>Also, related question 2: why do we need to set up the JDK in IntelliJ for the project if we specify the JDK version in the <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file, so it could be selected for the project automatically from those JDKs registered with IntelliJ?</p>\n"},{"tags":["java","maven","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662852134,"creation_date":1662454255,"answer_id":73619231,"question_id":73618987,"body_markdown":"The idea is that Swagger will give you the &quot;API&quot; endpoints (as interfaces) and you will write the &quot;API implementation&quot; in Java.\r\n\r\nFor example, from your *swagger-ui.yml* file:\r\n\r\nYour MyappApi class might look like this:\r\n\r\n```@Path(&quot;/myapp&quot;)\r\n@Api(description = &quot;the myapp API&quot;)\r\n@javax.annotation.Generated(...)public interface MyappApi {\r\n    // ... Endpoints go here\r\n}\r\n```\r\n\r\nAnd then you write MyappApiImpl like this:\r\n\r\n```\r\npublic class MyappApiImpl implements MyappApi {\r\n    // ... Override methods here\r\n}\r\n```\r\n\r\nNote that it’s very important the TypeScript classes and Java API endpoints are kept in sync. You do not want to handwrite everything in Java - let Swagger define the API implementation (server side, for Java) and you define the implementations only.\r\n\r\n","title":"Generate UI model from Java -&gt; Swagger","body":"<p>The idea is that Swagger will give you the &quot;API&quot; endpoints (as interfaces) and you will write the &quot;API implementation&quot; in Java.</p>\n<p>For example, from your <em>swagger-ui.yml</em> file:</p>\n<p>Your MyappApi class might look like this:</p>\n<pre><code>@Api(description = &quot;the myapp API&quot;)\n@javax.annotation.Generated(...)public interface MyappApi {\n    // ... Endpoints go here\n}\n</code></pre>\n<p>And then you write MyappApiImpl like this:</p>\n<pre><code>public class MyappApiImpl implements MyappApi {\n    // ... Override methods here\n}\n</code></pre>\n<p>Note that it’s very important the TypeScript classes and Java API endpoints are kept in sync. You do not want to handwrite everything in Java - let Swagger define the API implementation (server side, for Java) and you define the implementations only.</p>\n"}],"owner":{"account_id":19442010,"reputation":161,"user_id":14220230,"display_name":"Ondřej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662852134,"creation_date":1662453106,"question_id":73618987,"body_markdown":" - I can use\r\n\r\n    ```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger-codegen-maven-plugin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    ```\r\n\r\n    to create a UI (TypeScript) and back end (Java) models from the *swagger-ui.yml* file (manually written) - I do *not* want Swagger to generate endpoints (I want to write them in Java).\r\n\r\n - I can also access a new Swagger file at runtime with springfox-swagger2 + springfox-swagger-ui (2.9.2)\r\n    ```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   ```\r\n\r\nI want to **write everything in Java** (models and endpoints), and then somehow **generate swagger-ui.yml from Java**, and then **generate TypeScript models from that swagger-ui.yml file** (like I can with *swagger.codegen*), though I was unsuccessful with combining these two approaches. Or is there some other way (other dependencies, etc.) to do this? I also need the Swagger file to include endpoints documentation, like using springfox-swagger-ui.\r\n(I am using [Maven][1], spring-boot-starter-web, Java 8, Angular 13.)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Generate UI model from Java -&gt; Swagger","body":"<ul>\n<li><p>I can use</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${swagger-codegen-maven-plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>to create a UI (TypeScript) and back end (Java) models from the <em>swagger-ui.yml</em> file (manually written) - I do <em>not</em> want Swagger to generate endpoints (I want to write them in Java).</p>\n</li>\n<li><p>I can also access a new Swagger file at runtime with springfox-swagger2 + springfox-swagger-ui (2.9.2)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>I want to <strong>write everything in Java</strong> (models and endpoints), and then somehow <strong>generate swagger-ui.yml from Java</strong>, and then <strong>generate TypeScript models from that swagger-ui.yml file</strong> (like I can with <em>swagger.codegen</em>), though I was unsuccessful with combining these two approaches. Or is there some other way (other dependencies, etc.) to do this? I also need the Swagger file to include endpoints documentation, like using springfox-swagger-ui.\n(I am using <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>, spring-boot-starter-web, Java 8, Angular 13.)</p>\n"},{"tags":["java","email","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1662852050,"creation_date":1258977765,"answer_id":1782730,"question_id":1782659,"body_markdown":"The code below does what you want, and does it in the correct way. Reread what you yourself posted in the comment\r\n\r\n&gt; From: [RFC2821: 4.4 Trace Information][1]\r\n&gt;\r\n&gt; When the delivery SMTP server makes\r\n&gt; the &quot;final delivery&quot; of a message, it\r\n&gt; inserts a return-path line at the\r\n&gt; beginning of the mail data.  This use\r\n&gt; of return-path is required; mail\r\n&gt; systems MUST support it.  The\r\n&gt; return-path line preserves the\r\n&gt; information in the &lt;reverse- path&gt;\r\n&gt; from the MAIL command.  Here, final\r\n&gt; delivery means the message has left\r\n&gt; the SMTP environment.  Normally, this\r\n&gt; would mean it had been delivered to\r\n&gt; the destination user or an associated\r\n&gt; mail drop, but in some cases it may be\r\n&gt; further processed and transmitted by\r\n&gt; another mail system.\r\n\r\nand a few lines later.\r\n\r\n&gt; A message-originating SMTP system\r\n&gt; SHOULD NOT send a message that already\r\n&gt; contains a Return-path header.\r\n\r\nIf you carefully read this you will understand that only the final smtp-server/delivery agent is supposed to add the `Return-Path` header. It is not something you as client (trying to send a mail) should do. The final smtp-server will base the `Return-Path` header on the sender address of the envelope (`SMTP MAIL FROM` part).\r\n\r\nSo setting `mail.smtp.from` is the correct way to tell java that the envelope sender address should be different from the `from` part.\r\n\r\nIf you have troubles understanding what the different `from`&#39;s are just take a look at a telnet smtp-session. Where `replyto@example.com` should correspond to `mail.smtp.from` and `from@example.com` to `m.addFrom(...);`\r\n\r\n    telnet smtp.example.com 25 \r\n    220 smtp.example.com ESMTP .....\r\n    \r\n    helo computername\r\n    250 smtp.example.com Hello computername [123.123.123.123]\r\n    \r\n    mail from:&lt;replyto@example.com&gt;\r\n    250 &lt;replyto@example.com&gt; is syntactically correct\r\n    \r\n    rcpt to:&lt;rcpt@foo.com&gt;\r\n    250 &lt;rcpt@foo.com&gt; verified\r\n    \r\n    data\r\n    354 Enter message, ending with &quot;.&quot; on a line by itself\r\n    To: Joey &lt;to@joey.com&gt;\r\n    From: Joey &lt;from@example.com&gt; \r\n    Subject: Joey\r\n    \r\n    Hey Joey!\r\n    \r\n    .\r\n    250 OK id=....\r\n    \r\n    Quit\r\n\r\n----------\r\n\r\n    props.put(&quot;mail.smtp.from&quot;, &quot;replyto@example.com&quot;);\r\n    Session session = Session.getDefaultInstance(props, null);\r\n    MimeMessage m = new MimeMessage(session);\r\n    m.addFrom(InternetAddress.parse(&quot;from@example.com&quot;));\r\n\r\n\r\n  [1]: http://www.ietf.org/rfc/rfc2821.txt","title":"How to set the Return-Path to an email address other than Sender address using JavaMail?","body":"<p>The code below does what you want, and does it in the correct way. Reread what you yourself posted in the comment</p>\n<blockquote>\n<p>From: <a href=\"http://www.ietf.org/rfc/rfc2821.txt\" rel=\"nofollow noreferrer\">RFC2821: 4.4 Trace Information</a></p>\n<p>When the delivery SMTP server makes\nthe &quot;final delivery&quot; of a message, it\ninserts a return-path line at the\nbeginning of the mail data.  This use\nof return-path is required; mail\nsystems MUST support it.  The\nreturn-path line preserves the\ninformation in the \nfrom the MAIL command.  Here, final\ndelivery means the message has left\nthe SMTP environment.  Normally, this\nwould mean it had been delivered to\nthe destination user or an associated\nmail drop, but in some cases it may be\nfurther processed and transmitted by\nanother mail system.</p>\n</blockquote>\n<p>and a few lines later.</p>\n<blockquote>\n<p>A message-originating SMTP system\nSHOULD NOT send a message that already\ncontains a Return-path header.</p>\n</blockquote>\n<p>If you carefully read this you will understand that only the final smtp-server/delivery agent is supposed to add the <code>Return-Path</code> header. It is not something you as client (trying to send a mail) should do. The final smtp-server will base the <code>Return-Path</code> header on the sender address of the envelope (<code>SMTP MAIL FROM</code> part).</p>\n<p>So setting <code>mail.smtp.from</code> is the correct way to tell java that the envelope sender address should be different from the <code>from</code> part.</p>\n<p>If you have troubles understanding what the different <code>from</code>'s are just take a look at a telnet smtp-session. Where <code>replyto@example.com</code> should correspond to <code>mail.smtp.from</code> and <code>from@example.com</code> to <code>m.addFrom(...);</code></p>\n<pre><code>telnet smtp.example.com 25 \n220 smtp.example.com ESMTP .....\n\nhelo computername\n250 smtp.example.com Hello computername [123.123.123.123]\n\nmail from:&lt;replyto@example.com&gt;\n250 &lt;replyto@example.com&gt; is syntactically correct\n\nrcpt to:&lt;rcpt@foo.com&gt;\n250 &lt;rcpt@foo.com&gt; verified\n\ndata\n354 Enter message, ending with &quot;.&quot; on a line by itself\nTo: Joey &lt;to@joey.com&gt;\nFrom: Joey &lt;from@example.com&gt; \nSubject: Joey\n\nHey Joey!\n\n.\n250 OK id=....\n\nQuit\n</code></pre>\n<hr />\n<pre><code>props.put(&quot;mail.smtp.from&quot;, &quot;replyto@example.com&quot;);\nSession session = Session.getDefaultInstance(props, null);\nMimeMessage m = new MimeMessage(session);\nm.addFrom(InternetAddress.parse(&quot;from@example.com&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2978820,"reputation":1757,"user_id":2529284,"display_name":"GiorgosDev"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1380205030,"creation_date":1380205030,"answer_id":19030774,"question_id":1782659,"body_markdown":"I&#39;ve experienced the same issue and found the only solution discussed putting property  &quot;mail.smtp.from&quot; props.put(&quot;mail.smtp.from&quot;, &quot;replyto@example.com&quot;);\r\n\r\nStill this solution was not suitable for me because I&#39;m sending lot&#39;s of e-mails from different users, so recreating session for each e-mail would be horrible for prodictivity.\r\n\r\nSo I found another solution after reading JavaMail sources:\r\n\r\n1) Use SMTPMessage(extends MimeMessage) instead of MimeMessage.\r\n\r\n2) Use setEnvelopeFrom(String) method.\r\n\r\n3) Use SMTPTransport to send e-mail (I didn&#39;t try with others).\r\n\r\nHere is a code example:\r\n\r\n    SMTPMessage message = new SMTPMessage(session);\r\n    message.setEnvelopeFrom(&quot;returnpath@hotmail.com&quot;);\r\n    ...\r\n    transport.sendMessage(message, message.getAllRecipients());\r\n\r\n\r\n","title":"How to set the Return-Path to an email address other than Sender address using JavaMail?","body":"<p>I've experienced the same issue and found the only solution discussed putting property  \"mail.smtp.from\" props.put(\"mail.smtp.from\", \"replyto@example.com\");</p>\n\n<p>Still this solution was not suitable for me because I'm sending lot's of e-mails from different users, so recreating session for each e-mail would be horrible for prodictivity.</p>\n\n<p>So I found another solution after reading JavaMail sources:</p>\n\n<p>1) Use SMTPMessage(extends MimeMessage) instead of MimeMessage.</p>\n\n<p>2) Use setEnvelopeFrom(String) method.</p>\n\n<p>3) Use SMTPTransport to send e-mail (I didn't try with others).</p>\n\n<p>Here is a code example:</p>\n\n<pre><code>SMTPMessage message = new SMTPMessage(session);\nmessage.setEnvelopeFrom(\"returnpath@hotmail.com\");\n...\ntransport.sendMessage(message, message.getAllRecipients());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16150584,"reputation":11,"user_id":11659140,"display_name":"davepletcher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560799751,"creation_date":1560799751,"answer_id":56637753,"question_id":1782659,"body_markdown":"I found that if the &#39;mail.protocol&#39; property is set to something other than &#39;smtp&#39; (like &#39;smtps&#39;), then only the following would work:\r\n\r\n    props.put(&quot;mail.smtps.from&quot;, &quot;replyto@example.com&quot;);\r\n\r\nThis allowed me to avoid using the SMTPMessage class as described in GiorgosDev&#39;s answer (classes in the &#39;com.sun&#39; package aren&#39;t intended to be public API).","title":"How to set the Return-Path to an email address other than Sender address using JavaMail?","body":"<p>I found that if the 'mail.protocol' property is set to something other than 'smtp' (like 'smtps'), then only the following would work:</p>\n\n<pre><code>props.put(\"mail.smtps.from\", \"replyto@example.com\");\n</code></pre>\n\n<p>This allowed me to avoid using the SMTPMessage class as described in GiorgosDev's answer (classes in the 'com.sun' package aren't intended to be public API).</p>\n"}],"owner":{"account_id":34681,"reputation":1015,"user_id":98070,"accept_rate":65,"display_name":"Ricardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22625,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":1782730,"answer_count":3,"score":18,"last_activity_date":1662852050,"creation_date":1258976890,"question_id":1782659,"body_markdown":"How to set the Return-Path to an email address other than Sender address using JavaMail?","title":"How to set the Return-Path to an email address other than Sender address using JavaMail?","body":"<p>How to set the Return-Path to an email address other than Sender address using JavaMail?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1613479935,"post_id":66213020,"comment_id":117082447,"body_markdown":"Why did you remove your code from your question?  Doing so made your question useless to future readers. I had no idea what Edgar was talking about, until I noticed you had edited your question.","body":"Why did you remove your code from your question?  Doing so made your question useless to future readers. I had no idea what Edgar was talking about, until I noticed you had edited your question."}],"answers":[{"tags":[],"owner":{"account_id":18651296,"reputation":557,"user_id":13594705,"display_name":"Edgar Magallon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1613415400,"creation_date":1613415400,"answer_id":66213825,"question_id":66213020,"body_markdown":"I&#39;m not sure about how really Scanner class works. But, what I know is that Scanner read line per line, and not character by character (I&#39;m not sure if there is a way to read like that).\r\nSo, you first mistake is you are reading a String in one line, so, when you do this:\r\n\r\n    scanner.next()\r\n\r\nThe scanner really returns your full string `&quot;345*+&quot;`. You can fix this, using `\\n` in each character:\r\n\r\n    calc.postfix(&quot;3\\n4\\n5\\n*\\n+&quot;);\r\n\r\n\r\nNow, inside your postfix method, you have a mistake about reading with scanner:\r\n\r\n    else {\r\n                if (scanner.next().equals(&quot;+&quot;)){}\r\n                if (scanner.next().equals(&quot;-&quot;)){}\r\n    ....\r\n    }\r\n\r\nIf you see, you are using inside the if conditions `scanner.next()`. When you use that method, you are moving the pointer of the Scanner to the next input.\r\n\r\nFor example, you have the next input: `&quot;Hello\\nWorld\\nFuzz&quot;`\r\nWhen you use `scanner.next()` the first time, the pointer will be in `&quot;Hello&quot;`.\r\nThe second time you use it, will be in `&quot;World&quot;` and finally when read `&quot;Fuzz&quot;` and you use `scanner.next()` the pointer will be in the EOF(end of file).\r\nThen, the `scanner.hasNext()` method will return false.\r\n\r\nTo fix that mistake, you have to assign what `scanner.next()` returns to a String variable, and then, use that one for comparing.\r\n\r\nYour code must be like this:\r\n\r\n    private int x;\r\n    private int y;\r\n\r\n    public static void main (String[] args) {\r\n\t\t\r\n\t\tCalculator calc = new Calculator();\r\n        System.out.println(calc.postfix(&quot;3\\n4\\n5\\n*\\n+&quot;));\r\n    }\r\n\r\n    public int postfix(String string){\r\n        Scanner scanner = new Scanner(string);\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n        \r\n        while (scanner.hasNext()){\r\n\t\t\t\r\n            if (scanner.hasNextInt())\r\n            {\r\n\t\t\t\r\n                stack.push(scanner.nextInt());\r\n\r\n            } else {\r\n\t\t\t\tString next=scanner.next();\r\n\t\t\t\r\n                if (next.equals(&quot;+&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    \r\n                    stack.push(x+y);\r\n                }\r\n                if (next.equals(&quot;-&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    \r\n                    stack.push(x-y);\r\n                }\r\n                if (next.equals(&quot;*&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    \r\n                    stack.push(x*y);\r\n                }\r\n                if (next.equals(&quot;/&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    \r\n                    stack.push(x/y);\r\n                }\r\n                if (next.equals(&quot;%&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    \r\n                    stack.push(x%y);\r\n                }\r\n                                \r\n            }\r\n        }\r\n        return stack.pop();\r\n    }\r\n\r\n&gt; I had to remove the lines `stack.pop();` inside the `postfix()` method, because that was causing an EmptyStackException","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException errorr","body":"<p>I'm not sure about how really Scanner class works. But, what I know is that Scanner read line per line, and not character by character (I'm not sure if there is a way to read like that).\nSo, you first mistake is you are reading a String in one line, so, when you do this:</p>\n<pre><code>scanner.next()\n</code></pre>\n<p>The scanner really returns your full string <code>&quot;345*+&quot;</code>. You can fix this, using <code>\\n</code> in each character:</p>\n<pre><code>calc.postfix(&quot;3\\n4\\n5\\n*\\n+&quot;);\n</code></pre>\n<p>Now, inside your postfix method, you have a mistake about reading with scanner:</p>\n<pre><code>else {\n            if (scanner.next().equals(&quot;+&quot;)){}\n            if (scanner.next().equals(&quot;-&quot;)){}\n....\n}\n</code></pre>\n<p>If you see, you are using inside the if conditions <code>scanner.next()</code>. When you use that method, you are moving the pointer of the Scanner to the next input.</p>\n<p>For example, you have the next input: <code>&quot;Hello\\nWorld\\nFuzz&quot;</code>\nWhen you use <code>scanner.next()</code> the first time, the pointer will be in <code>&quot;Hello&quot;</code>.\nThe second time you use it, will be in <code>&quot;World&quot;</code> and finally when read <code>&quot;Fuzz&quot;</code> and you use <code>scanner.next()</code> the pointer will be in the EOF(end of file).\nThen, the <code>scanner.hasNext()</code> method will return false.</p>\n<p>To fix that mistake, you have to assign what <code>scanner.next()</code> returns to a String variable, and then, use that one for comparing.</p>\n<p>Your code must be like this:</p>\n<pre><code>private int x;\nprivate int y;\n\npublic static void main (String[] args) {\n    \n    Calculator calc = new Calculator();\n    System.out.println(calc.postfix(&quot;3\\n4\\n5\\n*\\n+&quot;));\n}\n\npublic int postfix(String string){\n    Scanner scanner = new Scanner(string);\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n    \n    while (scanner.hasNext()){\n        \n        if (scanner.hasNextInt())\n        {\n        \n            stack.push(scanner.nextInt());\n\n        } else {\n            String next=scanner.next();\n        \n            if (next.equals(&quot;+&quot;)){\n                y = stack.pop();\n                x = stack.pop();\n                \n                stack.push(x+y);\n            }\n            if (next.equals(&quot;-&quot;)){\n                y = stack.pop();\n                x = stack.pop();\n                \n                stack.push(x-y);\n            }\n            if (next.equals(&quot;*&quot;)){\n                y = stack.pop();\n                x = stack.pop();\n                \n                stack.push(x*y);\n            }\n            if (next.equals(&quot;/&quot;)){\n                y = stack.pop();\n                x = stack.pop();\n                \n                stack.push(x/y);\n            }\n            if (next.equals(&quot;%&quot;)){\n                y = stack.pop();\n                x = stack.pop();\n                \n                stack.push(x%y);\n            }\n                            \n        }\n    }\n    return stack.pop();\n}\n</code></pre>\n<blockquote>\n<p>I had to remove the lines <code>stack.pop();</code> inside the <code>postfix()</code> method, because that was causing an EmptyStackException</p>\n</blockquote>\n"}],"owner":{"account_id":18582324,"reputation":3,"user_id":15134366,"display_name":"Jake Hawkins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66213825,"answer_count":1,"score":0,"last_activity_date":1662851949,"creation_date":1613411651,"question_id":66213020,"body_markdown":"I&#39;m creating a postfix calculator. I&#39;ve read elsewhere and the issues usually are because of the Scanner. So, maybe that will be a head start for you? I have a `Calculator.java` class and a `CalculatorTester.java` class below.\r\n\r\nCode:\r\n```\r\npublic class Calculator {\r\n    private int x;\r\n    private int y;\r\n\r\n    public static void main (String[] args) {\r\n    }\r\n\r\n    public int postfix(String string){\r\n        Scanner scanner = new Scanner(string);\r\n        LLStack&lt;Integer&gt; stack = new LLStack&lt;Integer&gt;();\r\n        while (scanner.hasNext()){\r\n            if (scanner.hasNextInt()){\r\n                stack.push(scanner.nextInt());\r\n            } else {\r\n                if (scanner.next().equals(&quot;+&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x+y);\r\n                }\r\n                if (scanner.next().equals(&quot;-&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x-y);\r\n                }\r\n                if (scanner.next().equals(&quot;*&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x*y);\r\n                }\r\n                if (scanner.next().equals(&quot;/&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x/y);\r\n                }\r\n                if (scanner.next().equals(&quot;%&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x%y);\r\n                }\r\n            }\r\n        }\r\n        return stack.pop();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Calculator {\r\n    private int x;\r\n    private int y;\r\n\r\n    public static void main (String[] args) {\r\n    }\r\n\r\n    public int postfix(String string){\r\n        Scanner scanner = new Scanner(string);\r\n        LLStack&lt;Integer&gt; stack = new LLStack&lt;Integer&gt;();\r\n        while (scanner.hasNext()){\r\n            if (scanner.hasNextInt()){\r\n                stack.push(scanner.nextInt());\r\n            } else {\r\n                if (scanner.next().equals(&quot;+&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x+y);\r\n                }\r\n                if (scanner.next().equals(&quot;-&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x-y);\r\n                }\r\n                if (scanner.next().equals(&quot;*&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x*y);\r\n                }\r\n                if (scanner.next().equals(&quot;/&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x/y);\r\n                }\r\n                if (scanner.next().equals(&quot;%&quot;)){\r\n                    y = stack.pop();\r\n                    x = stack.pop();\r\n                    stack.pop();\r\n                    stack.push(x%y);\r\n                }\r\n            }\r\n        }\r\n        return stack.pop();\r\n    }\r\n}\r\n```\r\n\r\nTerminal output:\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1478)\r\n\tat Calculator.postfix(Calculator.java:23)\r\n\tat CalculatorTester.main(CalculatorTester.java:4)\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException errorr","body":"<p>I'm creating a postfix calculator. I've read elsewhere and the issues usually are because of the Scanner. So, maybe that will be a head start for you? I have a <code>Calculator.java</code> class and a <code>CalculatorTester.java</code> class below.</p>\n<p>Code:</p>\n<pre><code>public class Calculator {\n    private int x;\n    private int y;\n\n    public static void main (String[] args) {\n    }\n\n    public int postfix(String string){\n        Scanner scanner = new Scanner(string);\n        LLStack&lt;Integer&gt; stack = new LLStack&lt;Integer&gt;();\n        while (scanner.hasNext()){\n            if (scanner.hasNextInt()){\n                stack.push(scanner.nextInt());\n            } else {\n                if (scanner.next().equals(&quot;+&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x+y);\n                }\n                if (scanner.next().equals(&quot;-&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x-y);\n                }\n                if (scanner.next().equals(&quot;*&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x*y);\n                }\n                if (scanner.next().equals(&quot;/&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x/y);\n                }\n                if (scanner.next().equals(&quot;%&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x%y);\n                }\n            }\n        }\n        return stack.pop();\n    }\n}\n</code></pre>\n<pre><code>public class Calculator {\n    private int x;\n    private int y;\n\n    public static void main (String[] args) {\n    }\n\n    public int postfix(String string){\n        Scanner scanner = new Scanner(string);\n        LLStack&lt;Integer&gt; stack = new LLStack&lt;Integer&gt;();\n        while (scanner.hasNext()){\n            if (scanner.hasNextInt()){\n                stack.push(scanner.nextInt());\n            } else {\n                if (scanner.next().equals(&quot;+&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x+y);\n                }\n                if (scanner.next().equals(&quot;-&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x-y);\n                }\n                if (scanner.next().equals(&quot;*&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x*y);\n                }\n                if (scanner.next().equals(&quot;/&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x/y);\n                }\n                if (scanner.next().equals(&quot;%&quot;)){\n                    y = stack.pop();\n                    x = stack.pop();\n                    stack.pop();\n                    stack.push(x%y);\n                }\n            }\n        }\n        return stack.pop();\n    }\n}\n</code></pre>\n<p>Terminal output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\n    at Calculator.postfix(Calculator.java:23)\n    at CalculatorTester.main(CalculatorTester.java:4)\n</code></pre>\n"},{"tags":["java","reactive-programming","reactive","reactor-kafka"],"answers":[{"tags":[],"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662829388,"creation_date":1662829388,"answer_id":73673676,"question_id":73665495,"body_markdown":"This is because `consumerRecords` is a singular ConsumerRecord, and thus cannot be put into `Flux.fromIterable`. A Flux is already a collection of items, but with some unknown time between the received items.\r\n\r\nYou can solve this by directly calling the processMessage method: `.map(consumerRecord -&gt; processMessage(consumerRecord.getValue())`, this will transform the Flux into a Flux of the type processMessage returns. If processMessage is itself reactive (it returns a Flux or Mono), you should use `.concat` (if it should be processed sequentially) or `.flatMap` (if it should be processed parallel) instead.\r\n\r\nThere is also a bug in your example: `Flux.subscribe` should not be called in the middle of the Flux pipeline. Now whenever `kafkaConsumer.receiveMessage()` is called the inner `.subscribe` will start the Flux and process items even though the returned Flux is not yet subscribed to, causing items to be processed twice. You can solve this by replacing it with `.doOnNext`:\r\n\r\n```java\r\npublic Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; receiveMessage() {\r\n    return receiver.receiveAtmostOnce()\r\n                .doOnNext(r -&gt; log.info(&quot;Received message: %s \\n&quot;, r));\r\n}\r\n```","title":"How to fetch value from Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; and call some method for every record","body":"<p>This is because <code>consumerRecords</code> is a singular ConsumerRecord, and thus cannot be put into <code>Flux.fromIterable</code>. A Flux is already a collection of items, but with some unknown time between the received items.</p>\n<p>You can solve this by directly calling the processMessage method: <code>.map(consumerRecord -&gt; processMessage(consumerRecord.getValue())</code>, this will transform the Flux into a Flux of the type processMessage returns. If processMessage is itself reactive (it returns a Flux or Mono), you should use <code>.concat</code> (if it should be processed sequentially) or <code>.flatMap</code> (if it should be processed parallel) instead.</p>\n<p>There is also a bug in your example: <code>Flux.subscribe</code> should not be called in the middle of the Flux pipeline. Now whenever <code>kafkaConsumer.receiveMessage()</code> is called the inner <code>.subscribe</code> will start the Flux and process items even though the returned Flux is not yet subscribed to, causing items to be processed twice. You can solve this by replacing it with <code>.doOnNext</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; receiveMessage() {\n    return receiver.receiveAtmostOnce()\n                .doOnNext(r -&gt; log.info(&quot;Received message: %s \\n&quot;, r));\n}\n</code></pre>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73673676,"answer_count":1,"score":0,"last_activity_date":1662851854,"creation_date":1662743715,"question_id":73665495,"body_markdown":"I&#39;m new to reactive programming and trying to fetch records from Flux if Consumer records and forward that record for further processing. \r\n\r\n\r\n\r\n    @Slf4j\r\n    public class OMSKafkaConsumer&lt;K, V&gt; {\r\n\r\n\tprivate final KafkaReceiver&lt;K, V&gt; receiver;\r\n\r\n\tpublic OMSKafkaConsumer(KafkaConsumerConfig&lt;K, V&gt; consumerConfig) {\r\n\t\tfinal ReceiverOptions&lt;K, V&gt; receiverOptions = ReceiverOptions.&lt;K, V&gt;create(consumerConfig.consumerConfigs())\r\n\t\t\t\t.subscription(Collections.singleton(consumerConfig.getTopic()));\r\n\t\treceiver = KafkaReceiver.create(receiverOptions);\r\n\t}\r\n\r\n\tpublic Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; receiveMessage() {\r\n\t\tfinal Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; inboundFlux = receiver.receiveAtmostOnce();\r\n\t\tinboundFlux.subscribe(r -&gt; log.info(&quot;Received message: %s \\n&quot;, r));\r\n\t\treturn inboundFlux;\r\n\t}\r\n\r\n    }\r\n\r\nThis is how I&#39;m trying to access the record received from Kafka in my consumer class but I&#39;m getting an error at `fromIterable` as it only expects list. Not sure how I can loop for consumer records and process them in a reactive way.\r\n\r\n    return kafkaConsumer.receiveMessage()\r\n\t\t\t      .map(consumerRecords -&gt; Flux.fromIterable(consumerRecords)\r\n\t\t\t                    .doOnNext(() -&gt; {\r\n\t\t\t                      for (ConsumerRecord&lt;K, V&gt; r : consumerRecords)\r\n\t\t\t                        processMessage(r.getValue());\r\n\t\t\t                    }));\r\n\t\t\r\n","title":"How to fetch value from Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; and call some method for every record","body":"<p>I'm new to reactive programming and trying to fetch records from Flux if Consumer records and forward that record for further processing.</p>\n<pre><code>@Slf4j\npublic class OMSKafkaConsumer&lt;K, V&gt; {\n\nprivate final KafkaReceiver&lt;K, V&gt; receiver;\n\npublic OMSKafkaConsumer(KafkaConsumerConfig&lt;K, V&gt; consumerConfig) {\n    final ReceiverOptions&lt;K, V&gt; receiverOptions = ReceiverOptions.&lt;K, V&gt;create(consumerConfig.consumerConfigs())\n            .subscription(Collections.singleton(consumerConfig.getTopic()));\n    receiver = KafkaReceiver.create(receiverOptions);\n}\n\npublic Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; receiveMessage() {\n    final Flux&lt;ConsumerRecord&lt;K, V&gt;&gt; inboundFlux = receiver.receiveAtmostOnce();\n    inboundFlux.subscribe(r -&gt; log.info(&quot;Received message: %s \\n&quot;, r));\n    return inboundFlux;\n}\n\n}\n</code></pre>\n<p>This is how I'm trying to access the record received from Kafka in my consumer class but I'm getting an error at <code>fromIterable</code> as it only expects list. Not sure how I can loop for consumer records and process them in a reactive way.</p>\n<pre><code>return kafkaConsumer.receiveMessage()\n              .map(consumerRecords -&gt; Flux.fromIterable(consumerRecords)\n                            .doOnNext(() -&gt; {\n                              for (ConsumerRecord&lt;K, V&gt; r : consumerRecords)\n                                processMessage(r.getValue());\n                            }));\n    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1662777585,"post_id":73668888,"comment_id":130090760,"body_markdown":"You should check the cast yourself, which you are already doing, to some extent.","body":"You should check the cast yourself, which you are already doing, to some extent."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662777788,"post_id":73668888,"comment_id":130090777,"body_markdown":"From the type-checker&#39;s point of view, there&#39;s no guarantee that `NameParser` is returned when `parserType` is `Name`.","body":"From the type-checker&#39;s point of view, there&#39;s no guarantee that <code>NameParser</code> is returned when <code>parserType</code> is <code>Name</code>."},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1662779792,"post_id":73668888,"comment_id":130090935,"body_markdown":"Thx for the hint, but I still do not get it. The code quality checker and IntelliJ IDEA still show the ugly code quality WARNING.","body":"Thx for the hint, but I still do not get it. The code quality checker and IntelliJ IDEA still show the ugly code quality WARNING."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662780389,"post_id":73668888,"comment_id":130091000,"body_markdown":"Yes, because what you are doing is not statically safe. You will need to make sure that you have a unit test which covers all the branches in `build`.","body":"Yes, because what you are doing is not statically safe. You will need to make sure that you have a unit test which covers all the branches in <code>build</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662850441,"creation_date":1662783212,"answer_id":73669228,"question_id":73668888,"body_markdown":"It&#39;s only a *warning* to let you know the compiler can&#39;t *guarantee* the cast won&#39;t fail at runtime. You know it will work, but the compiler isn&#39;t sophisticated enough to figure it out too.\r\n\r\nSuppress the warning with an annotation.\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprotected static &lt;T&gt; Parser&lt;T&gt; build(Class&lt;T&gt; parserType, InputArgGroup arguments) {\r\n   // ...\r\n}\r\n```\r\n\r\nUsing this annotation is not circumventing the compiler - you got a warning and after analysis and running tests you verified the cast will never actually fail at runtime. Anyone seeing this annotation should interpret it as a record of your analysis and finding.\r\n\r\n","title":"Java generic: Unchecked cast","body":"<p>It's only a <em>warning</em> to let you know the compiler can't <em>guarantee</em> the cast won't fail at runtime. You know it will work, but the compiler isn't sophisticated enough to figure it out too.</p>\n<p>Suppress the warning with an annotation.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nprotected static &lt;T&gt; Parser&lt;T&gt; build(Class&lt;T&gt; parserType, InputArgGroup arguments) {\n   // ...\n}\n</code></pre>\n<p>Using this annotation is not circumventing the compiler - you got a warning and after analysis and running tests you verified the cast will never actually fail at runtime. Anyone seeing this annotation should interpret it as a record of your analysis and finding.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662850441,"creation_date":1662776513,"question_id":73668888,"body_markdown":"I must use Java 17 (LTS).\r\n\r\nThe following code works fine, but I have the following warning: \r\n\r\n    Unchecked cast...\r\n\r\nI am not able to get rid of this warning, whatever I do with my classes.\r\n\r\n\r\n**The class where the warning appears:**\r\n\r\n    public abstract class Parser&lt;T&gt; {\r\n    \r\n        protected static &lt;T&gt; Parser&lt;T&gt; build(Class&lt;T&gt; parserType, InputArgGroup arguments) {\r\n            Parser&lt;T&gt; parser;\r\n            if (parserType.isAssignableFrom(Name.class)) {\r\n                parser = (Parser&lt;T&gt;) new NameParser();    &lt;- UNCHECKED CAST: x.NameParser to x.Parser&lt;T&gt;\r\n            } else {\r\n                parser = (Parser&lt;T&gt;) new AddressParser(); &lt;- UNCHECKED CAST: x.AddressParser to x.Parser&lt;T&gt;\r\n            }\r\n    \r\n            parser.hasTitle(arguments.hasTitle());\r\n            parser.hasHeader(arguments.hasHeader());\r\n            parser.setDateTimePattern(arguments.getDateTimePattern());\r\n            ...\r\n            return parser;\r\n        }\r\n\r\n        ... common methods ...\r\n\r\n        public abstract List&lt;T&gt; parse(String file);\r\n    }\r\n\r\n\r\n**Parser 1:**\r\n\r\n    public class NameParser extends Parser&lt;Name&gt; {\r\n        @Override\r\n        public List&lt;Name&gt; parse(String file) {\r\n            System.out.println(&quot;parse name CSV&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n**Parser 2:**\r\n\r\n    public class AddressParser extends Parser&lt;Address&gt; {\r\n        @Override\r\n        public List&lt;Address&gt; parse(String file) {\r\n            System.out.println(&quot;parse address CSV&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n**Test:**\r\n\r\n    public class Aaa {\r\n        public Aaa() {\r\n            var addressParser = Parser.build(Address.class, ...);\r\n            var nameParser = Parser.build(Name.class, ...);\r\n    \r\n            List&lt;Address&gt; addresses = addressParser.parse(&quot;addresses.csv&quot;);\r\n            List&lt;Name&gt; names = nameParser.parse(&quot;names.csv&quot;);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Aaa();\r\n        }\r\n    }\r\n\r\nAny help is appreciated.\r\n\r\n\r\n","title":"Java generic: Unchecked cast","body":"<p>I must use Java 17 (LTS).</p>\n<p>The following code works fine, but I have the following warning:</p>\n<pre><code>Unchecked cast...\n</code></pre>\n<p>I am not able to get rid of this warning, whatever I do with my classes.</p>\n<p><strong>The class where the warning appears:</strong></p>\n<pre><code>public abstract class Parser&lt;T&gt; {\n\n    protected static &lt;T&gt; Parser&lt;T&gt; build(Class&lt;T&gt; parserType, InputArgGroup arguments) {\n        Parser&lt;T&gt; parser;\n        if (parserType.isAssignableFrom(Name.class)) {\n            parser = (Parser&lt;T&gt;) new NameParser();    &lt;- UNCHECKED CAST: x.NameParser to x.Parser&lt;T&gt;\n        } else {\n            parser = (Parser&lt;T&gt;) new AddressParser(); &lt;- UNCHECKED CAST: x.AddressParser to x.Parser&lt;T&gt;\n        }\n\n        parser.hasTitle(arguments.hasTitle());\n        parser.hasHeader(arguments.hasHeader());\n        parser.setDateTimePattern(arguments.getDateTimePattern());\n        ...\n        return parser;\n    }\n\n    ... common methods ...\n\n    public abstract List&lt;T&gt; parse(String file);\n}\n</code></pre>\n<p><strong>Parser 1:</strong></p>\n<pre><code>public class NameParser extends Parser&lt;Name&gt; {\n    @Override\n    public List&lt;Name&gt; parse(String file) {\n        System.out.println(&quot;parse name CSV&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Parser 2:</strong></p>\n<pre><code>public class AddressParser extends Parser&lt;Address&gt; {\n    @Override\n    public List&lt;Address&gt; parse(String file) {\n        System.out.println(&quot;parse address CSV&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Test:</strong></p>\n<pre><code>public class Aaa {\n    public Aaa() {\n        var addressParser = Parser.build(Address.class, ...);\n        var nameParser = Parser.build(Name.class, ...);\n\n        List&lt;Address&gt; addresses = addressParser.parse(&quot;addresses.csv&quot;);\n        List&lt;Name&gt; names = nameParser.parse(&quot;names.csv&quot;);\n\n    }\n\n    public static void main(String[] args) {\n        new Aaa();\n    }\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662849852,"creation_date":1662849852,"answer_id":73675657,"question_id":73675617,"body_markdown":"A &quot;collision&quot; in the broader context of using hashes is a *hash collision*.\r\n\r\nIn the context of a `HashMap`, a &quot;collision&quot; means the hash code of two objects resulted in them being stored in the same bucket. Of course, this can result from the two objects returning the same value from `hashCode()`, but also (more likely) that their hash codes when used to compute the bucket resulted in the same bucket.\r\n\r\n","title":"What is the correct definition for a HashMap Collision?","body":"<p>A &quot;collision&quot; in the broader context of using hashes is a <em>hash collision</em>.</p>\n<p>In the context of a <code>HashMap</code>, a &quot;collision&quot; means the hash code of two objects resulted in them being stored in the same bucket. Of course, this can result from the two objects returning the same value from <code>hashCode()</code>, but also (more likely) that their hash codes when used to compute the bucket resulted in the same bucket.</p>\n"}],"owner":{"account_id":22347260,"reputation":1,"user_id":16566031,"display_name":"DXinhua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664058203,"accepted_answer_id":73675657,"answer_count":1,"score":-1,"last_activity_date":1662849852,"creation_date":1662849343,"question_id":73675617,"body_markdown":"I have been reading up on HashMap Collisions and I have found two different definitions and am not sure which is the correct one.\r\n\r\nhttps://stackoverflow.com/questions/19691920/collision-resolution-in-java-hashmap\r\n\r\n1. The top answer in this is &quot;Collision happens when multiple keys hash to the same bucket.&quot; \r\n\r\n2. I see another answer in the same question that is &quot;A collision happens when two different keys happen to have the same hash code, or two keys with different hash codes happen to map into the same bucket in the underlying array.&quot;\r\n\r\nFor #1, multiple keys can hash to the same bucket, but have different hashCodes. Different HashCodes can be % or &amp; to the same bucket, but be different numbers.\r\n\r\nFor #2, it is saying multiple keys have the same hashCode, and therefore hashing to the same bucket. \r\n\r\nWhich is the correct definition? Or are there different terms for both these occurences?\r\n\r\nEdit: I cannot comment on the answers for clarification unfortunately, as I do not have the points for it. Thanks","title":"What is the correct definition for a HashMap Collision?","body":"<p>I have been reading up on HashMap Collisions and I have found two different definitions and am not sure which is the correct one.</p>\n<p><a href=\"https://stackoverflow.com/questions/19691920/collision-resolution-in-java-hashmap\">Collision resolution in Java HashMap</a></p>\n<ol>\n<li><p>The top answer in this is &quot;Collision happens when multiple keys hash to the same bucket.&quot;</p>\n</li>\n<li><p>I see another answer in the same question that is &quot;A collision happens when two different keys happen to have the same hash code, or two keys with different hash codes happen to map into the same bucket in the underlying array.&quot;</p>\n</li>\n</ol>\n<p>For #1, multiple keys can hash to the same bucket, but have different hashCodes. Different HashCodes can be % or &amp; to the same bucket, but be different numbers.</p>\n<p>For #2, it is saying multiple keys have the same hashCode, and therefore hashing to the same bucket.</p>\n<p>Which is the correct definition? Or are there different terms for both these occurences?</p>\n<p>Edit: I cannot comment on the answers for clarification unfortunately, as I do not have the points for it. Thanks</p>\n"},{"tags":["java","spring","thymeleaf","bootstrap-5"],"answers":[{"tags":[],"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662849805,"creation_date":1662448117,"answer_id":73617999,"question_id":73606088,"body_markdown":"UPDATE!\r\n\r\nI have already found the solution to my problem; it seems the reason why the dropdown was not displaying the values in my `Enum` class is because of having the oldest version of bootstrap bundle of js and css.\r\n\r\nAlready changed it to the latest version of bootstrap and it works just as I wanted.","title":"How to display all enum values in Spring using Thymeleaf and Bootstrap","body":"<p>UPDATE!</p>\n<p>I have already found the solution to my problem; it seems the reason why the dropdown was not displaying the values in my <code>Enum</code> class is because of having the oldest version of bootstrap bundle of js and css.</p>\n<p>Already changed it to the latest version of bootstrap and it works just as I wanted.</p>\n"}],"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662849805,"creation_date":1662364168,"question_id":73606088,"body_markdown":"Here is my domain model object.\r\n\r\n```java\r\n@ToString\r\npublic class Events {\r\n\r\n    private long id;\r\n    private static long nextId = 1L;\r\n\r\n    @NotBlank(message = &quot;name required&quot;)\r\n    @Size(max = 50, message = &quot;name too long&quot;)\r\n    private String eventName;\r\n\r\n    @NotBlank(message = &quot;description required&quot;)\r\n    @Size(max = 200, message = &quot;description too long&quot;)\r\n    private String eventDescription;\r\n\r\n    @NotBlank(message = &quot;email required&quot;)\r\n    @Email(message = &quot;invalid email address&quot;)\r\n    private String emailAddress;\r\n\r\n    private TypeOfEvents typeOfEvents;\r\n\r\n    public Events(String eventName, String eventDescription, String emailAddress, TypeOfEvents typeOfEvents) {\r\n        this.eventName = eventName;\r\n        this.emailAddress = emailAddress;\r\n        this.eventDescription = eventDescription;\r\n        this.typeOfEvents = typeOfEvents;\r\n        this.id = nextId;\r\n        nextId = nextId + 1;\r\n    }\r\n\r\n    public Events(){}\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getEventName() {\r\n        return eventName;\r\n    }\r\n\r\n    public void setEventName(String eventName) {\r\n        this.eventName = eventName;\r\n    }\r\n\r\n    public String getEventDescription() {\r\n        return eventDescription;\r\n    }\r\n\r\n    public void setEventDescription(String eventDescription) {\r\n        this.eventDescription = eventDescription;\r\n    }\r\n    public void setEmailAddress(String emailAddress) {\r\n        this.emailAddress = emailAddress;\r\n    }\r\n    public String getEmailAddress() {\r\n        return emailAddress;\r\n    }\r\n\r\n    public TypeOfEvents getTypeOfEvents() {\r\n        return typeOfEvents;\r\n    }\r\n\r\n    public void setTypeOfEvents(TypeOfEvents typeOfEvents) {\r\n        this.typeOfEvents = typeOfEvents;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Events events = (Events) o;\r\n        return Objects.equals(eventName, events.eventName) &amp;&amp; Objects.equals(eventDescription, events.eventDescription);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(eventName, eventDescription);\r\n    }\r\n```\r\n\r\nAnd here is my enum class.\r\n\r\n```java\r\npublic enum TypeOfEvents {\r\n\r\n    SEMINAR(&quot;Seminar&quot;),\r\n    BOOTCAMP(&quot;Bootcamp&quot;),\r\n    CRASHCOURSE(&quot;Crashcourse&quot;),\r\n    LIVEMEETING(&quot;LiveMeeting&quot;),\r\n    GATHERING(&quot;Gathering&quot;);\r\n\r\n    private final String displayEventType;\r\n\r\n    TypeOfEvents(String displayEventType) {\r\n        this.displayEventType = displayEventType;\r\n    }\r\n\r\n    public String getDisplayEventType(){\r\n        return displayEventType;\r\n    }\r\n```\r\nThis is my controller.\r\n```java\r\n// this will render the create view template in localhost8080:events/create\r\n@GetMapping(&quot;create&quot;)\r\npublic String renderCreateFormView(Model model) {\r\n    model.addAttribute(&quot;title&quot;, &quot;Create Event Form&quot;);\r\n    model.addAttribute(new Events());\r\n    // Here is where i pass all the enum values.\r\n    model.addAttribute(&quot;types&quot;, TypeOfEvents.values());\r\n    return &quot;events/create&quot;;\r\n}\r\n```\r\n\r\nHere is the template looks like \r\n\r\n```html\r\n&lt;label&gt;Type of Event&lt;/label&gt;\r\n&lt;div class=&quot;dropdown&quot;&gt;\r\n    &lt;button class=&quot;btn btn-secondary dropdown-toggle&quot; type=&quot;button&quot; id=&quot;dropDownMenu2&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;Select&lt;/button&gt;\r\n    &lt;div class=&quot;dropdown-menu&quot; aria-labelledby=&quot;dropDownMenu2&quot; th:field=&quot;${events.typeOfEvents}&quot;&gt;\r\n        &lt;button class=&quot;dropdown-item&quot; type=&quot;button&quot; th:each=&quot;type :${types}&quot; th:value=&quot;${type}&quot;\r\n                th:text=&quot;${type.displayEventType}&quot;&gt;\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\nThe problem is that I&#39;m using Thymeleaf + Bootstrap for the first time and every time that I run my application, the dropdown menu items are not showing up (which is my enum class) although when I check it using inspect element from my browser all the values are there.\r\n\r\n[inspect element from my browser screen shot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9peP1.png","title":"How to display all enum values in Spring using Thymeleaf and Bootstrap","body":"<p>Here is my domain model object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\npublic class Events {\n\n    private long id;\n    private static long nextId = 1L;\n\n    @NotBlank(message = &quot;name required&quot;)\n    @Size(max = 50, message = &quot;name too long&quot;)\n    private String eventName;\n\n    @NotBlank(message = &quot;description required&quot;)\n    @Size(max = 200, message = &quot;description too long&quot;)\n    private String eventDescription;\n\n    @NotBlank(message = &quot;email required&quot;)\n    @Email(message = &quot;invalid email address&quot;)\n    private String emailAddress;\n\n    private TypeOfEvents typeOfEvents;\n\n    public Events(String eventName, String eventDescription, String emailAddress, TypeOfEvents typeOfEvents) {\n        this.eventName = eventName;\n        this.emailAddress = emailAddress;\n        this.eventDescription = eventDescription;\n        this.typeOfEvents = typeOfEvents;\n        this.id = nextId;\n        nextId = nextId + 1;\n    }\n\n    public Events(){}\n\n    public long getId() {\n        return id;\n    }\n\n    public String getEventName() {\n        return eventName;\n    }\n\n    public void setEventName(String eventName) {\n        this.eventName = eventName;\n    }\n\n    public String getEventDescription() {\n        return eventDescription;\n    }\n\n    public void setEventDescription(String eventDescription) {\n        this.eventDescription = eventDescription;\n    }\n    public void setEmailAddress(String emailAddress) {\n        this.emailAddress = emailAddress;\n    }\n    public String getEmailAddress() {\n        return emailAddress;\n    }\n\n    public TypeOfEvents getTypeOfEvents() {\n        return typeOfEvents;\n    }\n\n    public void setTypeOfEvents(TypeOfEvents typeOfEvents) {\n        this.typeOfEvents = typeOfEvents;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Events events = (Events) o;\n        return Objects.equals(eventName, events.eventName) &amp;&amp; Objects.equals(eventDescription, events.eventDescription);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(eventName, eventDescription);\n    }\n</code></pre>\n<p>And here is my enum class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum TypeOfEvents {\n\n    SEMINAR(&quot;Seminar&quot;),\n    BOOTCAMP(&quot;Bootcamp&quot;),\n    CRASHCOURSE(&quot;Crashcourse&quot;),\n    LIVEMEETING(&quot;LiveMeeting&quot;),\n    GATHERING(&quot;Gathering&quot;);\n\n    private final String displayEventType;\n\n    TypeOfEvents(String displayEventType) {\n        this.displayEventType = displayEventType;\n    }\n\n    public String getDisplayEventType(){\n        return displayEventType;\n    }\n</code></pre>\n<p>This is my controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this will render the create view template in localhost8080:events/create\n@GetMapping(&quot;create&quot;)\npublic String renderCreateFormView(Model model) {\n    model.addAttribute(&quot;title&quot;, &quot;Create Event Form&quot;);\n    model.addAttribute(new Events());\n    // Here is where i pass all the enum values.\n    model.addAttribute(&quot;types&quot;, TypeOfEvents.values());\n    return &quot;events/create&quot;;\n}\n</code></pre>\n<p>Here is the template looks like</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label&gt;Type of Event&lt;/label&gt;\n&lt;div class=&quot;dropdown&quot;&gt;\n    &lt;button class=&quot;btn btn-secondary dropdown-toggle&quot; type=&quot;button&quot; id=&quot;dropDownMenu2&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;Select&lt;/button&gt;\n    &lt;div class=&quot;dropdown-menu&quot; aria-labelledby=&quot;dropDownMenu2&quot; th:field=&quot;${events.typeOfEvents}&quot;&gt;\n        &lt;button class=&quot;dropdown-item&quot; type=&quot;button&quot; th:each=&quot;type :${types}&quot; th:value=&quot;${type}&quot;\n                th:text=&quot;${type.displayEventType}&quot;&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The problem is that I'm using Thymeleaf + Bootstrap for the first time and every time that I run my application, the dropdown menu items are not showing up (which is my enum class) although when I check it using inspect element from my browser all the values are there.</p>\n<p><a href=\"https://i.stack.imgur.com/9peP1.png\" rel=\"nofollow noreferrer\">inspect element from my browser screen shot</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1662844898,"post_id":73675218,"comment_id":130101389,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1662845599,"post_id":73675218,"comment_id":130101498,"body_markdown":"Because `default` methods for interfaces were added in Java 8 and `private` methods for interfaces were added in Java 9 (the latter support the implementations of the former, if needed).","body":"Because <code>default</code> methods for interfaces were added in Java 8 and <code>private</code> methods for interfaces were added in Java 9 (the latter support the implementations of the former, if needed)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662848763,"creation_date":1662846164,"answer_id":73675359,"question_id":73675218,"body_markdown":"Because\r\n\r\n&gt; I thought interfaces could **only** contain abstract methods and abstract methods\r\n\r\nis incorrect. Or rather, it was correct until java 1.7, and has been incorrect since then, as java8 introduced the [interface `default` methods mechanism](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html). In other words, it has been incorrect for about 15 years at this point.\r\n\r\nThis is legal java, now:\r\n\r\n```\r\ninterface Map&lt;K, V&gt; {\r\n  public V get(Object key);\r\n  public boolean containsKey(Object key);\r\n\r\n  public default V getOrDefault(Object key, V defaultValue) {\r\n    return containsKey(key) ? get(key) : defaultValue;\r\n  }\r\n}\r\n```\r\n\r\n`default` methods blur the lines more between abstract classes and interfaces. Any implementation can override them if it wants. A few rules about them:\r\n\r\n* There is no hierarchy to these. If you define a class that ends up `implements`ing more than one interface, and this results in inheriting more than one such &#39;default implementation&#39; for the same method, __the compiler will refuse to compile this__, and the only way out is to explicitly define that method. You can refer to whatever impl you want using `InterfaceName.super.methodName(params);` if you like. This &#39;solves&#39; the &quot;diamond problem&quot; this causes. In other words, the ordering in which you place your interface types in an `implements` clause still does not matter.\r\n* interfaces still can&#39;t declare fields (or rather, they become constants - implicitly `public static final`).\r\n* They are intended for adding utility methods in a version update that are built on top of existing methods, such as `getOrDefault` (which [actually exists](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-)) and has done so since java 8). Generally they aren&#39;t really &#39;meant&#39; for expanding on what an interface represents, given that you can&#39;t wave a magic wand and get implementors to just grow implementations out of nowhere. In rare cases you can expand on what an interface represents based entirely on default behaviour that doesn&#39;t involve any fields. In that specific case, you could use the `default` mechanism too.\r\n* The `default` keyword is required.\r\n* The same update also included the ability to stick `static` methods in them, which is nice.\r\n* You can also write `private` methods now. This functionality exists solely to let you write helper methods for your `default` methods.\r\n","title":"Can interfaces contain methods that have an implementation?","body":"<p>Because</p>\n<blockquote>\n<p>I thought interfaces could <strong>only</strong> contain abstract methods and abstract methods</p>\n</blockquote>\n<p>is incorrect. Or rather, it was correct until java 1.7, and has been incorrect since then, as java8 introduced the <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">interface <code>default</code> methods mechanism</a>. In other words, it has been incorrect for about 15 years at this point.</p>\n<p>This is legal java, now:</p>\n<pre><code>interface Map&lt;K, V&gt; {\n  public V get(Object key);\n  public boolean containsKey(Object key);\n\n  public default V getOrDefault(Object key, V defaultValue) {\n    return containsKey(key) ? get(key) : defaultValue;\n  }\n}\n</code></pre>\n<p><code>default</code> methods blur the lines more between abstract classes and interfaces. Any implementation can override them if it wants. A few rules about them:</p>\n<ul>\n<li>There is no hierarchy to these. If you define a class that ends up <code>implements</code>ing more than one interface, and this results in inheriting more than one such 'default implementation' for the same method, <strong>the compiler will refuse to compile this</strong>, and the only way out is to explicitly define that method. You can refer to whatever impl you want using <code>InterfaceName.super.methodName(params);</code> if you like. This 'solves' the &quot;diamond problem&quot; this causes. In other words, the ordering in which you place your interface types in an <code>implements</code> clause still does not matter.</li>\n<li>interfaces still can't declare fields (or rather, they become constants - implicitly <code>public static final</code>).</li>\n<li>They are intended for adding utility methods in a version update that are built on top of existing methods, such as <code>getOrDefault</code> (which <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\">actually exists</a>) and has done so since java 8). Generally they aren't really 'meant' for expanding on what an interface represents, given that you can't wave a magic wand and get implementors to just grow implementations out of nowhere. In rare cases you can expand on what an interface represents based entirely on default behaviour that doesn't involve any fields. In that specific case, you could use the <code>default</code> mechanism too.</li>\n<li>The <code>default</code> keyword is required.</li>\n<li>The same update also included the ability to stick <code>static</code> methods in them, which is nice.</li>\n<li>You can also write <code>private</code> methods now. This functionality exists solely to let you write helper methods for your <code>default</code> methods.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662846499,"creation_date":1662846175,"answer_id":73675361,"question_id":73675218,"body_markdown":"[Default methods][1] are a way to put implementation within an interface.\r\n\r\nBut be aware: Default methods were added to Java to solve the problems of adding support for [lambdas][2] without breaking the backward-compatibility for which Java is so famous.\r\n\r\n&#128073; Generally, **adding a default method should be a last resort**, not your first option. \r\n\r\nUsually best to regard an interface as **strictly a [contract][3]**, a promise to be made by a separate class to implement certain behavior. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [3]: https://en.wikipedia.org/wiki/Design_by_contract","title":"Can interfaces contain methods that have an implementation?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">Default methods</a> are a way to put implementation within an interface.</p>\n<p>But be aware: Default methods were added to Java to solve the problems of adding support for <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambdas</a> without breaking the backward-compatibility for which Java is so famous.</p>\n<p>👉 Generally, <strong>adding a default method should be a last resort</strong>, not your first option.</p>\n<p>Usually best to regard an interface as <strong>strictly a <a href=\"https://en.wikipedia.org/wiki/Design_by_contract\" rel=\"nofollow noreferrer\">contract</a></strong>, a promise to be made by a separate class to implement certain behavior.</p>\n"}],"owner":{"account_id":15691069,"reputation":17,"user_id":13402985,"display_name":"Ell1357"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1662900068,"answer_count":2,"score":0,"last_activity_date":1662848763,"creation_date":1662844767,"question_id":73675218,"body_markdown":"The Oracle docs say the following, &quot;Abstract classes are similar to interfaces. You cannot instantiate them, and **they may contain a mix of methods declared with or without an implementation**. However, with abstract classes, you can declare fields that are not static and final, and define public, protected, and private concrete methods...&quot;\r\n\r\nI thought interfaces could **only** contain abstract methods and abstract methods, by definition, have no implementation. So why do the Java docs say abstract classes are similar to interfaces in that they may contain a mix of methods declared with or without an implementation?\r\n\r\n[link to the docs][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","title":"Can interfaces contain methods that have an implementation?","body":"<p>The Oracle docs say the following, &quot;Abstract classes are similar to interfaces. You cannot instantiate them, and <strong>they may contain a mix of methods declared with or without an implementation</strong>. However, with abstract classes, you can declare fields that are not static and final, and define public, protected, and private concrete methods...&quot;</p>\n<p>I thought interfaces could <strong>only</strong> contain abstract methods and abstract methods, by definition, have no implementation. So why do the Java docs say abstract classes are similar to interfaces in that they may contain a mix of methods declared with or without an implementation?</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">link to the docs</a></p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5797887,"reputation":366,"user_id":4573103,"display_name":"Dhruv Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662847040,"creation_date":1662846681,"answer_id":73675398,"question_id":73675357,"body_markdown":"Primitive types do have default value which is what is getting set for age since it is int. Can you change it to Integer class. \r\n\r\n","title":"Annotation @NotNull not working on value objects","body":"<p>Primitive types do have default value which is what is getting set for age since it is int. Can you change it to Integer class.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662847229,"creation_date":1662847229,"answer_id":73675438,"question_id":73675357,"body_markdown":"&gt; `javax.validation.constraints.NotNull;`\r\n\r\nThe notion of validation is generally what you apply to _outside input_. You have no control over that input directly; hence, the need to validate it before continuing.\r\n\r\nCrucially, then, __it should be possible for an object that models this input to represent invalid state__. After all, invalid input _can happen_, and your code is supposed to perfectly represent such input. This input should then be deemed as invalid and rejected once you try to use it.\r\n\r\nThat means it should be _possible_ to mark something as `@NotNull` (this particular NotNull annotation, which is _specifically_ about validation, there are others that are not!), and still create an object where the value is `null` anyway. Such an object is not _valid_, and a validation framework will know it isn&#39;t, based on that annotation.\r\n\r\nThere are other takes on not null annotations. When you are using a class as a &#39;model&#39; for defining an SQL database table, annotations exist that guide the creation of the `CREATE TABLE` statement, and one can &#39;guide&#39;: Please add an SQL NOT NULL constraint. That&#39;s a completely different concept entirely and yet those annotations are also called `@NotNull`.\r\n\r\nA third concept is requesting code injection to inject a null check. This is what lombok&#39;s `@NonNull` annotation does. If you write:\r\n\r\n```\r\nvoid foo(@lombok.NonNull String hello) {\r\n  System.out.println(hello);\r\n}\r\n```\r\n\r\nthen lombok turns that into:\r\n\r\n```\r\nvoid foo(@lombok.NonNull String hello) {\r\n  if (hello == null) throw new NullPointerException(&quot;hello&quot;);\r\n  System.out.println(hello);\r\n}\r\n```\r\n\r\n\r\nAnd a fourth, yet again completely different take, is as a type system modifier. The notion &#39;the parameter to the `foo` method is a string reference that CANNOT be null. This take sounds identical to lombok&#39;s take, but it is in fact essentially the opposite. This code, is obviously silly and doesn&#39;t even compile, it&#39;s that silly:\r\n\r\n```\r\nvoid foo(String arg) {\r\n  if (arg instanceof Integer) thow new IllegalArgumentException(&quot;Please give me a string and not an integer&quot;);\r\n}\r\n```\r\n\r\nfor the exact same reason, the lombok generated code is &#39;silly&#39; if you deem that `@NonNull` to be a type modifier. It __CANNOT__ be `null` as per the type analysis, so why are you checking for an impossibility?\r\n\r\nThus, this is a 4th &#39;take&#39; and all 4 takes are __completely different in what they mean and do__. This last one doesn&#39;t &quot;work&quot; with vanilla java (which doesn&#39;t enforce non-nullity onto callers, the way java _does_ enforce that you e.g. don&#39;t pass an `Integer` instance to a method like this, and you can&#39;t get around this enforcement in any way), but there are compiler plugins and the like that add it, and if you live in a world where all compilation uses these plugins, then the null check is, indeed, warning-to-error-level unneccessary.\r\n\r\nTo add fuel to this already considerable fire, java supports annotating parameters, fields, and methods. Java _also_ supports annotating types. Some null annotations operate on p/f/ms, others operate on types, and yet again this causes significant differences in how to use them and what they actually end up causing to happen.\r\n\r\nGiven all that, hopefully you now understand why it is &#39;hard&#39; to make a `@NonNull` or `@NotNull` annotation do what you want it to do. They are all different, and there are like 20 commonly used variants.\r\n\r\nI noticed in your question you didn&#39;t actually properly describe what you want. Probably because you&#39;re not quite aware of all the various takes on what &#39;not null&#39; can mean. You can use this answer as a guide so you know precisely what you do want and then read the documentation of the various null-annotation framework(s) you have available to you, and pick the correct one. Then apply that annotation, and it&#39;ll then do what you want it to do.\r\n\r\n&gt; I want the fields in this object to be not null, that is they should always have non-blank value.\r\n\r\nan `int` cannot be &#39;blank&#39;. If you consider &#39;0&#39; to be &#39;blank&#39;, okay, you can of course add a constraint that they must not be 0, but `@NonNull` or `@NotNull`, any variant and any of the 20 takes out there on the concept, they&#39;d _all_ __NOT__ do that. Because null and 0 are very different things. Various validation frameworks do have a &#39;not this specific int value&#39; concept, you can use one of those.\r\n\r\n","title":"Annotation @NotNull not working on value objects","body":"<blockquote>\n<p><code>javax.validation.constraints.NotNull;</code></p>\n</blockquote>\n<p>The notion of validation is generally what you apply to <em>outside input</em>. You have no control over that input directly; hence, the need to validate it before continuing.</p>\n<p>Crucially, then, <strong>it should be possible for an object that models this input to represent invalid state</strong>. After all, invalid input <em>can happen</em>, and your code is supposed to perfectly represent such input. This input should then be deemed as invalid and rejected once you try to use it.</p>\n<p>That means it should be <em>possible</em> to mark something as <code>@NotNull</code> (this particular NotNull annotation, which is <em>specifically</em> about validation, there are others that are not!), and still create an object where the value is <code>null</code> anyway. Such an object is not <em>valid</em>, and a validation framework will know it isn't, based on that annotation.</p>\n<p>There are other takes on not null annotations. When you are using a class as a 'model' for defining an SQL database table, annotations exist that guide the creation of the <code>CREATE TABLE</code> statement, and one can 'guide': Please add an SQL NOT NULL constraint. That's a completely different concept entirely and yet those annotations are also called <code>@NotNull</code>.</p>\n<p>A third concept is requesting code injection to inject a null check. This is what lombok's <code>@NonNull</code> annotation does. If you write:</p>\n<pre><code>void foo(@lombok.NonNull String hello) {\n  System.out.println(hello);\n}\n</code></pre>\n<p>then lombok turns that into:</p>\n<pre><code>void foo(@lombok.NonNull String hello) {\n  if (hello == null) throw new NullPointerException(&quot;hello&quot;);\n  System.out.println(hello);\n}\n</code></pre>\n<p>And a fourth, yet again completely different take, is as a type system modifier. The notion 'the parameter to the <code>foo</code> method is a string reference that CANNOT be null. This take sounds identical to lombok's take, but it is in fact essentially the opposite. This code, is obviously silly and doesn't even compile, it's that silly:</p>\n<pre><code>void foo(String arg) {\n  if (arg instanceof Integer) thow new IllegalArgumentException(&quot;Please give me a string and not an integer&quot;);\n}\n</code></pre>\n<p>for the exact same reason, the lombok generated code is 'silly' if you deem that <code>@NonNull</code> to be a type modifier. It <strong>CANNOT</strong> be <code>null</code> as per the type analysis, so why are you checking for an impossibility?</p>\n<p>Thus, this is a 4th 'take' and all 4 takes are <strong>completely different in what they mean and do</strong>. This last one doesn't &quot;work&quot; with vanilla java (which doesn't enforce non-nullity onto callers, the way java <em>does</em> enforce that you e.g. don't pass an <code>Integer</code> instance to a method like this, and you can't get around this enforcement in any way), but there are compiler plugins and the like that add it, and if you live in a world where all compilation uses these plugins, then the null check is, indeed, warning-to-error-level unneccessary.</p>\n<p>To add fuel to this already considerable fire, java supports annotating parameters, fields, and methods. Java <em>also</em> supports annotating types. Some null annotations operate on p/f/ms, others operate on types, and yet again this causes significant differences in how to use them and what they actually end up causing to happen.</p>\n<p>Given all that, hopefully you now understand why it is 'hard' to make a <code>@NonNull</code> or <code>@NotNull</code> annotation do what you want it to do. They are all different, and there are like 20 commonly used variants.</p>\n<p>I noticed in your question you didn't actually properly describe what you want. Probably because you're not quite aware of all the various takes on what 'not null' can mean. You can use this answer as a guide so you know precisely what you do want and then read the documentation of the various null-annotation framework(s) you have available to you, and pick the correct one. Then apply that annotation, and it'll then do what you want it to do.</p>\n<blockquote>\n<p>I want the fields in this object to be not null, that is they should always have non-blank value.</p>\n</blockquote>\n<p>an <code>int</code> cannot be 'blank'. If you consider '0' to be 'blank', okay, you can of course add a constraint that they must not be 0, but <code>@NonNull</code> or <code>@NotNull</code>, any variant and any of the 20 takes out there on the concept, they'd <em>all</em> <strong>NOT</strong> do that. Because null and 0 are very different things. Various validation frameworks do have a 'not this specific int value' concept, you can use one of those.</p>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662847229,"creation_date":1662846146,"question_id":73675357,"body_markdown":"In one of my spring boot&#39;s `@RestController` methods I&#39;m getting a json object in `@RequestBody`.\r\n\r\nI want the fields in this object to be not null, that is they should always have non-blank value.\r\n\r\nBased on many answers like [these][1], I tried to use `@NotNull, @NotEmpty, @JsonProperty(required = true)` on fields, but it is not working. \r\n\r\nEven if the attribute in JSON is not present, the field is receiving a default value.\r\n\r\nMy code:\r\n\r\n**RestController:**\r\n\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MyController {\r\n    \r\n    \t@PostMapping(&quot;/save-data&quot;)\r\n    \tpublic void saveData( @RequestHeader(&quot;my-request-header&quot;) String myHeader, @RequestBody MyValueObject myValueObject) {\r\n    \t\tservice.saveData(myValueObject);\r\n    \t}\r\n    \r\n    }\r\n\r\n**POJO:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    \r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class MyValueObject {\r\n    \r\n    \t@JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    \t@NotNull\r\n        private String id;\r\n    \r\n        @JsonProperty(value = &quot;my_name&quot;)\r\n        @NotNull\r\n        private String name;\r\n    \r\n        @NotNull\r\n        private int age;\r\n    }\r\n\r\nSo if in json request I&#39;m passing only id &amp; name, I&#39;m still getting age as 0(zero).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12813319/enforce-not-null-field-in-json-object","title":"Annotation @NotNull not working on value objects","body":"<p>In one of my spring boot's <code>@RestController</code> methods I'm getting a json object in <code>@RequestBody</code>.</p>\n<p>I want the fields in this object to be not null, that is they should always have non-blank value.</p>\n<p>Based on many answers like <a href=\"https://stackoverflow.com/questions/12813319/enforce-not-null-field-in-json-object\">these</a>, I tried to use <code>@NotNull, @NotEmpty, @JsonProperty(required = true)</code> on fields, but it is not working.</p>\n<p>Even if the attribute in JSON is not present, the field is receiving a default value.</p>\n<p>My code:</p>\n<p><strong>RestController:</strong></p>\n<pre><code>import org.springframework.web.bind.annotation.*;\n\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n    @PostMapping(&quot;/save-data&quot;)\n    public void saveData( @RequestHeader(&quot;my-request-header&quot;) String myHeader, @RequestBody MyValueObject myValueObject) {\n        service.saveData(myValueObject);\n    }\n\n}\n</code></pre>\n<p><strong>POJO:</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.Getter;\nimport javax.validation.constraints.NotNull;\n\n\n@Builder\n@Getter\n@Setter\n@Data\n@AllArgsConstructor\npublic class MyValueObject {\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    @NotNull\n    private String id;\n\n    @JsonProperty(value = &quot;my_name&quot;)\n    @NotNull\n    private String name;\n\n    @NotNull\n    private int age;\n}\n</code></pre>\n<p>So if in json request I'm passing only id &amp; name, I'm still getting age as 0(zero).</p>\n"},{"tags":["java","sorting","arraylist","lexicographic","lexicographic-ordering"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662736944,"creation_date":1662734164,"answer_id":73663797,"question_id":73663484,"body_markdown":"In your compare method check for numbers first and then strings. You just have to add code to the steps you described: \r\n\r\nHere&#39;s a pseudo code of what you described\r\n\r\n\r\n```java\r\n...\r\n(a,b) -&gt; {\r\n    // Every item in the list consists of a three word sentence.\r\n    var awords = a.split(&quot; &quot;)\r\n    var bwords = a.split(&quot; &quot;)\r\n   \r\n    // I want to ignore the first word\r\n    var as = awords[1] + &quot; &quot; awords[2]\r\n    var bs ...  \r\n    //  and sort the sentence lexicographically with the 2nd and 3rd words.\r\n    var r = as.compareTo(bs) \r\n    \r\n    // If the 2nd or 3rd words contain an integer, I want to ignore sorting them but add them to the end of the list\r\n    if ( as.matches(&quot;.*\\\\d.*) ) {\r\n        return -1\r\n     } else { \r\n        return r\r\n     }\r\n\r\n}\r\n...\r\n```\r\n\r\nIt&#39;s not clear what to do if both have numbers, e.g. `a 1 a` vs `a 1 b`, but that&#39;s something you have to clarify. \r\n\r\nSo basically you just have to go, divide each of the statements in your problem and add some code that solves it (like the example below )\r\n\r\nYou might notice there are some gaps (like what to do if two of them have strings). Once you have a working solution you can clean it up. \r\n\r\n\r\nAnother alternative with a similar idea\r\n\r\n```java\r\nvar as = a.substring(a.indexOf(&quot; &quot;)) // &quot;a b c&quot; -&gt; &quot;b c&quot;\r\nvar bs = b.substring(b.indexOf(&quot; &quot;)) // &quot;a b c&quot; -&gt; &quot;b c&quot;\r\nreturn as.matches(&quot;\\\\d+&quot;) ? -1 : as.compareTo(bs);\r\n```\r\n\r\n\r\nRemember the [`compare(T,T)`][1] method returns &lt; 0 if a is &quot;lower&quot; than b, so if `a` has numbers, it will always be &quot;higher&quot; thus should return `1`, if `b` has numbers then `a` will be &quot;lower&quot;, thus it should return `-1`, otherwise just compare the strings\r\n\r\nHere&#39;s the full program:\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class Sl {\r\n\r\n      public static void main(String ... args ) {\r\n\r\n        var list = Arrays.asList(&quot;19th apple orange&quot;, &quot;17th admin 7th&quot;, &quot;19th apple table&quot;);\r\n\r\n        Collections.sort(list, (a, b) -&gt; {\r\n          // just use the last two words\r\n          var as = a.substring(a.indexOf(&quot; &quot;));\r\n          var bs = b.substring(b.indexOf(&quot; &quot;));\r\n\r\n          // if a has a number, will always be higher\r\n          return as.matches(&quot;.*\\\\d+.*&quot;) ? 1 \r\n             // if b has a number, a will always be lower\r\n             : bs.matches(&quot;.*\\\\d+.*&quot;) ? -1 \r\n             // if none of the above, compare lexicographically the strings\r\n             : as.compareTo(bs);\r\n        });\r\n\r\n        System.out.println(list);\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\r\n","title":"Sort Array List lexicographically ignoring integers","body":"<p>In your compare method check for numbers first and then strings. You just have to add code to the steps you described:</p>\n<p>Here's a pseudo code of what you described</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n(a,b) -&gt; {\n    // Every item in the list consists of a three word sentence.\n    var awords = a.split(&quot; &quot;)\n    var bwords = a.split(&quot; &quot;)\n   \n    // I want to ignore the first word\n    var as = awords[1] + &quot; &quot; awords[2]\n    var bs ...  \n    //  and sort the sentence lexicographically with the 2nd and 3rd words.\n    var r = as.compareTo(bs) \n    \n    // If the 2nd or 3rd words contain an integer, I want to ignore sorting them but add them to the end of the list\n    if ( as.matches(&quot;.*\\\\d.*) ) {\n        return -1\n     } else { \n        return r\n     }\n\n}\n...\n</code></pre>\n<p>It's not clear what to do if both have numbers, e.g. <code>a 1 a</code> vs <code>a 1 b</code>, but that's something you have to clarify.</p>\n<p>So basically you just have to go, divide each of the statements in your problem and add some code that solves it (like the example below )</p>\n<p>You might notice there are some gaps (like what to do if two of them have strings). Once you have a working solution you can clean it up.</p>\n<p>Another alternative with a similar idea</p>\n<pre class=\"lang-java prettyprint-override\"><code>var as = a.substring(a.indexOf(&quot; &quot;)) // &quot;a b c&quot; -&gt; &quot;b c&quot;\nvar bs = b.substring(b.indexOf(&quot; &quot;)) // &quot;a b c&quot; -&gt; &quot;b c&quot;\nreturn as.matches(&quot;\\\\d+&quot;) ? -1 : as.compareTo(bs);\n</code></pre>\n<p>Remember the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\"><code>compare(T,T)</code></a> method returns &lt; 0 if a is &quot;lower&quot; than b, so if <code>a</code> has numbers, it will always be &quot;higher&quot; thus should return <code>1</code>, if <code>b</code> has numbers then <code>a</code> will be &quot;lower&quot;, thus it should return <code>-1</code>, otherwise just compare the strings</p>\n<p>Here's the full program:</p>\n<pre><code>import java.util.*;\n\npublic class Sl {\n\n  public static void main(String ... args ) {\n\n    var list = Arrays.asList(&quot;19th apple orange&quot;, &quot;17th admin 7th&quot;, &quot;19th apple table&quot;);\n\n    Collections.sort(list, (a, b) -&gt; {\n      // just use the last two words\n      var as = a.substring(a.indexOf(&quot; &quot;));\n      var bs = b.substring(b.indexOf(&quot; &quot;));\n\n      // if a has a number, will always be higher\n      return as.matches(&quot;.*\\\\d+.*&quot;) ? 1 \n         // if b has a number, a will always be lower\n         : bs.matches(&quot;.*\\\\d+.*&quot;) ? -1 \n         // if none of the above, compare lexicographically the strings\n         : as.compareTo(bs);\n    });\n\n    System.out.println(list);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662846844,"creation_date":1662846844,"answer_id":73675410,"question_id":73663484,"body_markdown":"If you aren&#39;t careful, you will get an error such as `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method\r\n violates its general contract!`\r\n\r\nIn order to prevent that you can do it as follows by creating a comparator that parses the string and checks the second and third elements for integers.  If the first element has not integers but the second one does, it will be sent to the bottom since the second one is considered greater by returning a 1.  But the next condition must only check on the second element and return a -1 indicating that it is smaller than the one so gain, it goes to the bottom of the list.\r\n\r\n```\r\npublic static List&lt;String&gt; sortOrders(List&lt;String&gt; orderList) {\r\n\tComparator&lt;String&gt; comp = (a, b) -&gt; {\r\n\t\tString[] aa = a.split(&quot;\\\\s+&quot;, 2);\r\n\t\tString[] bb = b.split(&quot;\\\\s+&quot;, 2);\r\n\t\tboolean aam = aa[1].matches(&quot;.*[0-9]+.*&quot;);\r\n\t\tboolean bbm = bb[1].matches(&quot;.*[0-9]+.*&quot;);\r\n\t\t\r\n\t\treturn aam &amp;&amp; !bbm ? 1 : bbm ? -1 :\r\n\t\t   aa[1].compareTo(bb[1]);\r\n\t};\r\n\t\r\n\treturn orderList.stream().sorted(comp).toList();\t\r\n}\r\n```\r\nIf you want to preserve your original data, use the above.  If  you want to sort in place, then apply the Comparator defined above and use `Collections.sort(data, comp)`.\r\n\r\nI have tested this extensively using the following data generation code which generated random strings meeting your requirements.  I suggest you test any answers you get (including this one) to ensure it satisfies your requirements.\r\n\r\n\r\n```\r\nString letters = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\nRandom r = new Random(123);\r\nList&lt;String&gt; data = r.ints(200000, 1, 100).mapToObj(i -&gt; {\r\n\tStringBuilder sb = new StringBuilder();\r\n\tboolean first = r.nextBoolean();\r\n\tboolean second = r.nextBoolean();\r\n\tint ltr = r.nextInt(letters.length());\r\n\tString fstr = letters.substring(ltr,ltr+1);\r\n\tltr = r.nextInt(letters.length());\r\n\tString sstr = letters.substring(ltr,ltr+1);\r\n\tsb.append(fstr).append(first ? ltr : &quot;&quot;).append(&quot; &quot;);\r\n\tsb.append(fstr);\r\n\tif (first) {\r\n\t\tsb.append(r.nextInt(100));\r\n\t}\r\n\tsb.append(&quot; &quot;).append(sstr);\r\n\t\r\n\tif (!first &amp;&amp; second) {\r\n\t\tsb.append(r.nextInt(100));\r\n\t}\r\n\t \r\n\treturn sb.toString();\r\n}).collect(Collectors.toCollection(ArrayList::new));\r\n\r\n","title":"Sort Array List lexicographically ignoring integers","body":"<p>If you aren't careful, you will get an error such as <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!</code></p>\n<p>In order to prevent that you can do it as follows by creating a comparator that parses the string and checks the second and third elements for integers.  If the first element has not integers but the second one does, it will be sent to the bottom since the second one is considered greater by returning a 1.  But the next condition must only check on the second element and return a -1 indicating that it is smaller than the one so gain, it goes to the bottom of the list.</p>\n<pre><code>public static List&lt;String&gt; sortOrders(List&lt;String&gt; orderList) {\n    Comparator&lt;String&gt; comp = (a, b) -&gt; {\n        String[] aa = a.split(&quot;\\\\s+&quot;, 2);\n        String[] bb = b.split(&quot;\\\\s+&quot;, 2);\n        boolean aam = aa[1].matches(&quot;.*[0-9]+.*&quot;);\n        boolean bbm = bb[1].matches(&quot;.*[0-9]+.*&quot;);\n        \n        return aam &amp;&amp; !bbm ? 1 : bbm ? -1 :\n           aa[1].compareTo(bb[1]);\n    };\n    \n    return orderList.stream().sorted(comp).toList();    \n}\n</code></pre>\n<p>If you want to preserve your original data, use the above.  If  you want to sort in place, then apply the Comparator defined above and use <code>Collections.sort(data, comp)</code>.</p>\n<p>I have tested this extensively using the following data generation code which generated random strings meeting your requirements.  I suggest you test any answers you get (including this one) to ensure it satisfies your requirements.</p>\n<pre><code>String letters = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\nRandom r = new Random(123);\nList&lt;String&gt; data = r.ints(200000, 1, 100).mapToObj(i -&gt; {\n    StringBuilder sb = new StringBuilder();\n    boolean first = r.nextBoolean();\n    boolean second = r.nextBoolean();\n    int ltr = r.nextInt(letters.length());\n    String fstr = letters.substring(ltr,ltr+1);\n    ltr = r.nextInt(letters.length());\n    String sstr = letters.substring(ltr,ltr+1);\n    sb.append(fstr).append(first ? ltr : &quot;&quot;).append(&quot; &quot;);\n    sb.append(fstr);\n    if (first) {\n        sb.append(r.nextInt(100));\n    }\n    sb.append(&quot; &quot;).append(sstr);\n    \n    if (!first &amp;&amp; second) {\n        sb.append(r.nextInt(100));\n    }\n     \n    return sb.toString();\n}).collect(Collectors.toCollection(ArrayList::new));\n\n</code></pre>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1662846844,"creation_date":1662732787,"question_id":73663484,"body_markdown":"I have this code. I want to order a list of strings. Every item in the list consists of a three word sentence. I want to ignore the first word and sort the sentence lexicographically with the 2nd and 3rd words. If the 2nd or 3rd words contain an integer, I want to ignore sorting them but add them to the end of the list.\r\nFor example: (19th apple orange, 17th admin 7th, 19th apple table) should be sorted in the list as (19th apple orange, 19th apple table, 17th admin 7th)\r\nSo far my code only ignores the first word and sort lexicographically the rest of the lists\r\n         \r\n    public static List&lt;String&gt; sortOrders(List&lt;String&gt; orderList) {\r\n         // Write your code here\r\n        Collections.sort( orderList,\r\n        (a, b) -&gt; a.split(&quot; *&quot;, 2)[1].compareTo( b.split(&quot; *&quot;, 2)[1] )\r\n        );\r\n        \r\n        return orderList;\r\n    }","title":"Sort Array List lexicographically ignoring integers","body":"<p>I have this code. I want to order a list of strings. Every item in the list consists of a three word sentence. I want to ignore the first word and sort the sentence lexicographically with the 2nd and 3rd words. If the 2nd or 3rd words contain an integer, I want to ignore sorting them but add them to the end of the list.\nFor example: (19th apple orange, 17th admin 7th, 19th apple table) should be sorted in the list as (19th apple orange, 19th apple table, 17th admin 7th)\nSo far my code only ignores the first word and sort lexicographically the rest of the lists</p>\n<pre><code>public static List&lt;String&gt; sortOrders(List&lt;String&gt; orderList) {\n     // Write your code here\n    Collections.sort( orderList,\n    (a, b) -&gt; a.split(&quot; *&quot;, 2)[1].compareTo( b.split(&quot; *&quot;, 2)[1] )\n    );\n    \n    return orderList;\n}\n</code></pre>\n"},{"tags":["java","list","selenium","loops","testing"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1662711908,"post_id":73659267,"comment_id":130073663,"body_markdown":"Help us help you - share the code you have so far","body":"Help us help you - share the code you have so far"},{"owner":{"account_id":342518,"reputation":615,"user_id":673707,"display_name":"Helio"},"score":0,"creation_date":1662712938,"post_id":73659267,"comment_id":130073994,"body_markdown":"Images are useful in a post, but make sure the post is still clear without them. If you post images of code or error messages, copy and paste or type the actual code or message into the post directly. https://meta.stackoverflow.com/a/307500/673707","body":"Images are useful in a post, but make sure the post is still clear without them. If you post images of code or error messages, copy and paste or type the actual code or message into the post directly. <a href=\"https://meta.stackoverflow.com/a/307500/673707\">meta.stackoverflow.com/a/307500/673707</a>"}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662712724,"creation_date":1662712724,"answer_id":73659475,"question_id":73659267,"body_markdown":"I am assuming your lists are same length and in list2 empty values are null.\r\n\r\n        List&lt;String&gt; result =  new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; list1.size(); i++) {\r\n            if(list2.get(i) == null){\r\n                result.add(list1.get(i)+&quot; has&quot;);\r\n            }else{\r\n                result.add(list1.get(i)+&quot; has &quot;+ list2.get(i));\r\n            }\r\n        }\r\n        System.out.println(String.join(&quot; - &quot;,result));","title":"How to fetch two list A &amp; B with values and compare?","body":"<p>I am assuming your lists are same length and in list2 empty values are null.</p>\n<pre><code>    List&lt;String&gt; result =  new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; list1.size(); i++) {\n        if(list2.get(i) == null){\n            result.add(list1.get(i)+&quot; has&quot;);\n        }else{\n            result.add(list1.get(i)+&quot; has &quot;+ list2.get(i));\n        }\n    }\n    System.out.println(String.join(&quot; - &quot;,result));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25615865,"reputation":1,"user_id":19388481,"display_name":"Ayan Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662714408,"creation_date":1662714408,"answer_id":73659773,"question_id":73659267,"body_markdown":"You can try this. I have considered that list1 and list2 will be of same size.\r\n\r\n        List&lt;String&gt; list1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n        List&lt;String&gt; list2 = Arrays.asList(&quot;-&quot;, &quot;-&quot;, &quot;000123&quot;, &quot;-&quot;, &quot;000876&quot;);\r\n\r\n        Map&lt;String, String&gt; newList = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; list1.size(); i++) {\r\n            newList.put(list1.get(i), list2.get(i));\r\n        }\r\n\r\n        newList.forEach((key, value) -&gt; System.out.println(key + &quot; has &quot; + value));\r\n        \r\n        OutPut: \r\n        A has -\r\n        B has -\r\n        C has 000123\r\n        D has -\r\n        E has 000876","title":"How to fetch two list A &amp; B with values and compare?","body":"<p>You can try this. I have considered that list1 and list2 will be of same size.</p>\n<pre><code>    List&lt;String&gt; list1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n    List&lt;String&gt; list2 = Arrays.asList(&quot;-&quot;, &quot;-&quot;, &quot;000123&quot;, &quot;-&quot;, &quot;000876&quot;);\n\n    Map&lt;String, String&gt; newList = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; list1.size(); i++) {\n        newList.put(list1.get(i), list2.get(i));\n    }\n\n    newList.forEach((key, value) -&gt; System.out.println(key + &quot; has &quot; + value));\n    \n    OutPut: \n    A has -\n    B has -\n    C has 000123\n    D has -\n    E has 000876\n</code></pre>\n"}],"owner":{"account_id":26288748,"reputation":1,"user_id":19956047,"display_name":"QATester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662846805,"creation_date":1662711619,"question_id":73659267,"body_markdown":"I have 2 list, where as list1 has 5 values and list2 has 2 values as below,\r\n\r\n| List1 | List2    |\r\n| ----- | -------- |\r\n|  A    |   -      |\r\n|  B    |   -      |  \r\n|  C    |   000123 |\r\n|  D    |   -      |\r\n|  E    |   000876 |\r\n\r\nI need to fetch both list and check which list1 value and list2 value\r\nAnd I&#39;m looking for output as below\r\n\r\n\r\nA has -\r\n\r\nB has -\r\n\r\nC has 000123\r\n\r\nD has -\r\n\r\nE has 000876\r\n\r\nCan someone help on this?\r\nTried below screenshot of code\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hMd4o.png","title":"How to fetch two list A &amp; B with values and compare?","body":"<p>I have 2 list, where as list1 has 5 values and list2 has 2 values as below,</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>List1</th>\n<th>List2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>-</td>\n</tr>\n<tr>\n<td>B</td>\n<td>-</td>\n</tr>\n<tr>\n<td>C</td>\n<td>000123</td>\n</tr>\n<tr>\n<td>D</td>\n<td>-</td>\n</tr>\n<tr>\n<td>E</td>\n<td>000876</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I need to fetch both list and check which list1 value and list2 value\nAnd I'm looking for output as below</p>\n<p>A has -</p>\n<p>B has -</p>\n<p>C has 000123</p>\n<p>D has -</p>\n<p>E has 000876</p>\n<p>Can someone help on this?\nTried below screenshot of code\n<a href=\"https://i.stack.imgur.com/hMd4o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1662844970,"post_id":73674552,"comment_id":130101399,"body_markdown":"If I understand what you&#39;re saying, you&#39;re scheduling the Lambda function to run so the event source will never be SQS. It will be a scheduled event (example [here](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-run-lambda-schedule.html)). Your Lambda function would have to programmatically request messages from the SQS queue.","body":"If I understand what you&#39;re saying, you&#39;re scheduling the Lambda function to run so the event source will never be SQS. It will be a scheduled event (example <a href=\"https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-run-lambda-schedule.html\" rel=\"nofollow noreferrer\">here</a>). Your Lambda function would have to programmatically request messages from the SQS queue."},{"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"score":0,"creation_date":1662868951,"post_id":73674552,"comment_id":130104102,"body_markdown":"Is there a way where SQS can be the event source but the lambda executes only once per day? So the messages are in queue till the lambda runs and the lambda will process all the messages in the DLQ","body":"Is there a way where SQS can be the event source but the lambda executes only once per day? So the messages are in queue till the lambda runs and the lambda will process all the messages in the DLQ"}],"answers":[{"tags":[],"owner":{"account_id":6636682,"reputation":124,"user_id":5123667,"display_name":"Rob Croft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662846450,"creation_date":1662846450,"answer_id":73675381,"question_id":73674552,"body_markdown":"Your lambda is written as though it is subscribed to your SQS queue, which you don&#39;t want, since EventBridge will be triggering your lambda directly. You would only use SQSEvent in your handler if the lambda were being triggered by an SQS subscription rather than an EventBridge rule.\r\n\r\nTo make it run on a schedule:\r\n1. Unsubscribe your lambda from the SQS queue.\r\n2. Make your lambda the target of your EventBridge rule.\r\n3. Update the handler to receive a generic request from EventBridge, i.e.:\r\n    ```java\r\n    public class LambdaMethodHandler implements RequestHandler&lt;Map&lt;String, Object&gt;, String&gt; {\r\n    \r\n        @Override\r\n        public String handleRequest(Map&lt;String, Object&gt; event, Context context) {\r\n    ```\r\n    This is required because [there&#39;s currently no EventBridgeEvent until events v4][1].\r\n\r\n4. Receive/delete your messages manually. Lambdas that receive SQS messages on a schedule have to manually read messages from the SQS queue and delete them when they&#39;re done. In java you would use a [ReceiveMessageRequest][2] and then delete it afterward with a [DeleteMessageRequest][3].\r\n\r\n  [1]: https://github.com/aws/aws-lambda-java-libs/issues/109#issuecomment-1104429751\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-sqs-messages.html#sqs-messages-receive\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-sqs-messages.html#sqs-messages-delete","title":"Configuring Lambda to retrieve all the messages in DLQ","body":"<p>Your lambda is written as though it is subscribed to your SQS queue, which you don't want, since EventBridge will be triggering your lambda directly. You would only use SQSEvent in your handler if the lambda were being triggered by an SQS subscription rather than an EventBridge rule.</p>\n<p>To make it run on a schedule:</p>\n<ol>\n<li><p>Unsubscribe your lambda from the SQS queue.</p>\n</li>\n<li><p>Make your lambda the target of your EventBridge rule.</p>\n</li>\n<li><p>Update the handler to receive a generic request from EventBridge, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LambdaMethodHandler implements RequestHandler&lt;Map&lt;String, Object&gt;, String&gt; {\n\n    @Override\n    public String handleRequest(Map&lt;String, Object&gt; event, Context context) {\n</code></pre>\n<p>This is required because <a href=\"https://github.com/aws/aws-lambda-java-libs/issues/109#issuecomment-1104429751\" rel=\"nofollow noreferrer\">there's currently no EventBridgeEvent until events v4</a>.</p>\n</li>\n<li><p>Receive/delete your messages manually. Lambdas that receive SQS messages on a schedule have to manually read messages from the SQS queue and delete them when they're done. In java you would use a <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-sqs-messages.html#sqs-messages-receive\" rel=\"nofollow noreferrer\">ReceiveMessageRequest</a> and then delete it afterward with a <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-sqs-messages.html#sqs-messages-delete\" rel=\"nofollow noreferrer\">DeleteMessageRequest</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73675381,"answer_count":1,"score":0,"last_activity_date":1662846450,"creation_date":1662837019,"question_id":73674552,"body_markdown":"I have a lambda configured to a DLQ that may have a few messages in a day. I&#39;m using java for lambda function. My Handler class and method looks something like this: \r\n\r\n```\r\npublic class LambdaMethodHandler implements RequestHandler&lt;SQSEvent, String&gt; {\r\n\r\n    @Override\r\n    public String handleRequest(SQSEvent event, Context context){\r\n\r\n        context.getLogger().log(&quot;Started processing messages in DLQ&quot;);\r\n        List&lt;String&gt; failedMessages = new ArrayList&lt;&gt;();\r\n\r\n        event.getRecords().stream().forEach(message -&gt; {\r\n            context.getLogger().log(&quot;Message body: &quot;+message.getBody()+&quot;, Message sent on: &quot;+message.getMessageAttributes().get(&quot;timestamp&quot;)+&quot;, Message ID: &quot;+message.getMessageId());\r\n            failedMessages.add(message.getBody());\r\n        });\r\n```\r\nThe idea was to trigger this lambda once a day using EventBridge and if there are multiple messages in the DLQ, it should iterate through them and save it in a file. So I assumed that in ```SQSEvent``` the records field is a List so ideally if there are multiple messages in the DLQ then these messages will be passed as ```List&lt;SQSMessage&gt; records``` in the SQSEvent. But as I was testing(for now by manually adding messages to the DLQ before configuring the lambda), if there were multiple messages, it would just trigger the lambda multiple time. \r\n\r\nNot sure if I&#39;ve understood the concept incorrectly or is there something wrong with my implementation.\r\n","title":"Configuring Lambda to retrieve all the messages in DLQ","body":"<p>I have a lambda configured to a DLQ that may have a few messages in a day. I'm using java for lambda function. My Handler class and method looks something like this:</p>\n<pre><code>public class LambdaMethodHandler implements RequestHandler&lt;SQSEvent, String&gt; {\n\n    @Override\n    public String handleRequest(SQSEvent event, Context context){\n\n        context.getLogger().log(&quot;Started processing messages in DLQ&quot;);\n        List&lt;String&gt; failedMessages = new ArrayList&lt;&gt;();\n\n        event.getRecords().stream().forEach(message -&gt; {\n            context.getLogger().log(&quot;Message body: &quot;+message.getBody()+&quot;, Message sent on: &quot;+message.getMessageAttributes().get(&quot;timestamp&quot;)+&quot;, Message ID: &quot;+message.getMessageId());\n            failedMessages.add(message.getBody());\n        });\n</code></pre>\n<p>The idea was to trigger this lambda once a day using EventBridge and if there are multiple messages in the DLQ, it should iterate through them and save it in a file. So I assumed that in <code>SQSEvent</code> the records field is a List so ideally if there are multiple messages in the DLQ then these messages will be passed as <code>List&lt;SQSMessage&gt; records</code> in the SQSEvent. But as I was testing(for now by manually adding messages to the DLQ before configuring the lambda), if there were multiple messages, it would just trigger the lambda multiple time.</p>\n<p>Not sure if I've understood the concept incorrectly or is there something wrong with my implementation.</p>\n"},{"tags":["java","spring","comparator"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1662845021,"post_id":73675229,"comment_id":130101410,"body_markdown":"Because that&#39;s the syntax for an [anonymous class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html) which can be used for implementing interfaces as well.","body":"Because that&#39;s the syntax for an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous class</a> which can be used for implementing interfaces as well."},{"owner":{"account_id":26301849,"reputation":9,"user_id":19967077,"display_name":"Rishu Tyagi"},"score":0,"creation_date":1662845291,"post_id":73675229,"comment_id":130101456,"body_markdown":"So we can instantiate any interface directly using anonymous class?","body":"So we can instantiate any interface directly using anonymous class?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662845524,"post_id":73675229,"comment_id":130101485,"body_markdown":"@RishuTyagi Yes, we can instantiate any interface directly using anonymous class. See [the Java tutorial by Oracle](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html) doing exactly that. Bonus tip: We can define an interface locally as of Java 16+, a nice by-product of the work to implement the new [Records](https://openjdk.org/jeps/395) feature.","body":"@RishuTyagi Yes, we can instantiate any interface directly using anonymous class. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">the Java tutorial by Oracle</a> doing exactly that. Bonus tip: We can define an interface locally as of Java 16+, a nice by-product of the work to implement the new <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Records</a> feature."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1662845798,"post_id":73675229,"comment_id":130101545,"body_markdown":"You can implement any interface or extend any non-final (and non-sealed, if using Java 17+) class via an anonymous class (assuming appropriately visible constructors and abstract methods in the latter&#39;s case). And note the `java.util.Comparator` interface has only one abstract method, which means you can also implement it via a lambda expression or method reference.","body":"You can implement any interface or extend any non-final (and non-sealed, if using Java 17+) class via an anonymous class (assuming appropriately visible constructors and abstract methods in the latter&#39;s case). And note the <code>java.util.Comparator</code> interface has only one abstract method, which means you can also implement it via a lambda expression or method reference."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662845954,"creation_date":1662845363,"answer_id":73675280,"question_id":73675229,"body_markdown":"That&#39;s because this code does not instantiate `Comparator`. As you said, that&#39;s not possible.\r\n\r\nInstead, it is syntax sugar. It&#39;s short for:\r\n\r\n```\r\n// Yes, you can define a class inside a method.\r\nclass $AutoGeneratedName implements Comparator&lt;Person&gt; {\r\n  @Override public int compare(Person p1, Person p2) {\r\n    return p1.getAge() - p2.getAge();\r\n  }\r\n}\r\n\r\nCollections.sort(persons, new $AutoGeneratedName());\r\n```\r\n\r\nIn other words, short for: Define a new class, which `implements` Comparator&lt;Person&gt;. Then, instantiate this class once right away. Resolve this entire expression as a reference to this newly created instance. This construct is called an [anonymous inner class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html).\r\n\r\n----\r\n\r\nCAREFUL - this code is bad.\r\n\r\n20 years ago, that code was mostly fine, except for one detail: using `a - b` in comparisons is dangerous for very large numbers, but presumably, given that this is about &#39;age&#39;, not going to be an issue. Still, bad form; `return Integer.comparing(p1.getAge(), p2.getAge())` would be much better.\r\n\r\nBut since then, this is no longer needed. You can write the concept much shorter like so:\r\n\r\n```\r\nCollections.sort(persons, (a, b) -&gt; Integer.compare(a.getAge(), b.getAge());\r\n```\r\n\r\nWe can do even that much, much simpler, and more readably by using [`List#sort`][1] with [`Comparator.comparingInt`][2]. \r\n\r\n```\r\npersons.sort(Comparator.comparingInt(Person::getAge));\r\n```\r\n\r\nwhich does exactly what you think it does when you just read it like its english: It sorts the collection &#39;persons&#39; by comparing a specific int - which int? The one you get when you invoke `getAge()` on the person method.\r\n\r\nThis last snippet is what you should be using instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)","title":"How can we instantiate comparator while using it as an argument in sorting?","body":"<p>That's because this code does not instantiate <code>Comparator</code>. As you said, that's not possible.</p>\n<p>Instead, it is syntax sugar. It's short for:</p>\n<pre><code>// Yes, you can define a class inside a method.\nclass $AutoGeneratedName implements Comparator&lt;Person&gt; {\n  @Override public int compare(Person p1, Person p2) {\n    return p1.getAge() - p2.getAge();\n  }\n}\n\nCollections.sort(persons, new $AutoGeneratedName());\n</code></pre>\n<p>In other words, short for: Define a new class, which <code>implements</code> Comparator. Then, instantiate this class once right away. Resolve this entire expression as a reference to this newly created instance. This construct is called an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous inner class</a>.</p>\n<hr />\n<p>CAREFUL - this code is bad.</p>\n<p>20 years ago, that code was mostly fine, except for one detail: using <code>a - b</code> in comparisons is dangerous for very large numbers, but presumably, given that this is about 'age', not going to be an issue. Still, bad form; <code>return Integer.comparing(p1.getAge(), p2.getAge())</code> would be much better.</p>\n<p>But since then, this is no longer needed. You can write the concept much shorter like so:</p>\n<pre><code>Collections.sort(persons, (a, b) -&gt; Integer.compare(a.getAge(), b.getAge());\n</code></pre>\n<p>We can do even that much, much simpler, and more readably by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List#sort</code></a> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><code>Comparator.comparingInt</code></a>.</p>\n<pre><code>persons.sort(Comparator.comparingInt(Person::getAge));\n</code></pre>\n<p>which does exactly what you think it does when you just read it like its english: It sorts the collection 'persons' by comparing a specific int - which int? The one you get when you invoke <code>getAge()</code> on the person method.</p>\n<p>This last snippet is what you should be using instead.</p>\n"}],"owner":{"account_id":26301849,"reputation":9,"user_id":19967077,"display_name":"Rishu Tyagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662845954,"creation_date":1662844841,"question_id":73675229,"body_markdown":"Why we use new keyword before comparator while using it as a constructor in sorting as comparator is an interface so we cannot instantiate it?\r\n```\r\nCollections.sort(persons, new Comparator&lt;Person&gt;() {\r\n  @Override\r\n  public int compare(Person p1, Person p2) {\r\n      return p1.getAge() - p2.getAge();\r\n  }\r\n});\r\n```","title":"How can we instantiate comparator while using it as an argument in sorting?","body":"<p>Why we use new keyword before comparator while using it as a constructor in sorting as comparator is an interface so we cannot instantiate it?</p>\n<pre><code>Collections.sort(persons, new Comparator&lt;Person&gt;() {\n  @Override\n  public int compare(Person p1, Person p2) {\n      return p1.getAge() - p2.getAge();\n  }\n});\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":309198,"reputation":530,"user_id":621514,"accept_rate":91,"display_name":"pfh"},"score":0,"creation_date":1336031052,"post_id":10427109,"comment_id":13456438,"body_markdown":"You mean you need to copy the objects onto the same list? Deep copy? Sou you have identical objects in the lists but not the same reference?","body":"You mean you need to copy the objects onto the same list? Deep copy? Sou you have identical objects in the lists but not the same reference?"},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1336031441,"post_id":10427109,"comment_id":13456560,"body_markdown":"@pfh To copy Integer values from one list into another. Not references.","body":"@pfh To copy Integer values from one list into another. Not references."},{"owner":{"account_id":309198,"reputation":530,"user_id":621514,"accept_rate":91,"display_name":"pfh"},"score":1,"creation_date":1336032122,"post_id":10427109,"comment_id":13456768,"body_markdown":"Using Integer class you will use objects(references), not values(primitives). Below, check it out, you might find yourself in problems when &quot;copying&quot; the objects. Integer and the other &quot;boxed&quot; classes are immutable, but really it&#39;s a boxed int referenced by List.","body":"Using Integer class you will use objects(references), not values(primitives). Below, check it out, you might find yourself in problems when &quot;copying&quot; the objects. Integer and the other &quot;boxed&quot; classes are immutable, but really it&#39;s a boxed int referenced by List."}],"answers":[{"tags":[],"owner":{"account_id":102492,"reputation":4338,"user_id":275097,"accept_rate":86,"display_name":"Vijay Shanker Dubey"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1336030944,"creation_date":1336030944,"answer_id":10427139,"question_id":10427109,"body_markdown":"Try This.\r\n    \r\n    ListB.addAll(listA);","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>Try This.</p>\n\n<pre><code>ListB.addAll(listA);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309198,"reputation":530,"user_id":621514,"accept_rate":91,"display_name":"pfh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1336031240,"creation_date":1336031240,"answer_id":10427196,"question_id":10427109,"body_markdown":"You won&#39;t have a lot of luck with clone() and Cloneable - it will only create a shallow copy. You could use something like this - http://javatechniques.com/blog/faster-deep-copies-of-java-objects/ .","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>You won't have a lot of luck with clone() and Cloneable - it will only create a shallow copy. You could use something like this - <a href=\"http://javatechniques.com/blog/faster-deep-copies-of-java-objects/\" rel=\"nofollow\">http://javatechniques.com/blog/faster-deep-copies-of-java-objects/</a> .</p>\n"},{"tags":[],"owner":{"account_id":1207862,"reputation":3586,"user_id":1177031,"display_name":"kapandron"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1336031262,"creation_date":1336031262,"answer_id":10427198,"question_id":10427109,"body_markdown":"Use this [method](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#copy(java.util.List,%20java.util.List)) of `Collections` class to copy all elements of ArrayList to another ArrayList:\r\n\r\n    Collections.copy(listA, listB); ","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>Use this <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29\" rel=\"noreferrer\">method</a> of <code>Collections</code> class to copy all elements of ArrayList to another ArrayList:</p>\n\n<pre><code>Collections.copy(listA, listB); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1336031436,"creation_date":1336031436,"answer_id":10427232,"question_id":10427109,"body_markdown":"You can try and give a look at the [Collections.copy][1] method:\r\n\r\n&gt; public static &lt;T&gt; void copy(List&lt;? super T&gt; dest,\r\n&gt;             List&lt;? extends T&gt; src) \r\n\r\n&gt;Copies all of the elements from one list into another. After the operation, the index of each copied\r\n&gt; element in the destination list will be identical to its index in the\r\n&gt; source list. The destination list must be at least as long as the\r\n&gt; source list. If it is longer, the remaining elements in the\r\n&gt; destination list are unaffected. This method runs in linear time.\r\n&gt; \r\n&gt; Parameters: dest - The destination list. src - The source list.\r\n\r\nNote: The above should work for simple data types such as Integers, however, if you have your own objects which might in turn reference other objects, you will have to iterate over each object and copy it separately.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>You can try and give a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29\">Collections.copy</a> method:</p>\n\n<blockquote>\n  <p>public static  void copy(List dest,\n              List src) </p>\n  \n  <p>Copies all of the elements from one list into another. After the operation, the index of each copied\n  element in the destination list will be identical to its index in the\n  source list. The destination list must be at least as long as the\n  source list. If it is longer, the remaining elements in the\n  destination list are unaffected. This method runs in linear time.</p>\n  \n  <p>Parameters: dest - The destination list. src - The source list.</p>\n</blockquote>\n\n<p>Note: The above should work for simple data types such as Integers, however, if you have your own objects which might in turn reference other objects, you will have to iterate over each object and copy it separately.</p>\n"},{"tags":[],"owner":{"account_id":467264,"reputation":1915,"user_id":872501,"accept_rate":53,"display_name":"C.c"},"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1336032808,"creation_date":1336032808,"answer_id":10427521,"question_id":10427109,"body_markdown":"Try to use this, while the answers given by another guys are totally fine. But per my option, the following would be the best way:\r\n\r\n    List&lt;Integer&gt; listB = new ArrayList&lt;Integer&gt;(listA); ","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>Try to use this, while the answers given by another guys are totally fine. But per my option, the following would be the best way:</p>\n\n<pre><code>List&lt;Integer&gt; listB = new ArrayList&lt;Integer&gt;(listA); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1336045368,"creation_date":1336045368,"answer_id":10430651,"question_id":10427109,"body_markdown":"There is absolutely no reason to make a copy of an Integer. Integer is an immutable class. This means that its value is set when the Integer instance is created, and can never change. An Integer reference can thus be shared by multiple lists and threads without fear, because there&#39;s no way anybody can change its value. Your question thus makes no real sense.\r\n\r\nTo create an ArrayList `b` containing the same Integers as another List `a`, just use the following code:\r\n\r\n    List&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(a);\r\n\r\nSure the Integer won&#39;t be cloned, but this is a good thing, because cloning them is completely unnecessary.","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>There is absolutely no reason to make a copy of an Integer. Integer is an immutable class. This means that its value is set when the Integer instance is created, and can never change. An Integer reference can thus be shared by multiple lists and threads without fear, because there's no way anybody can change its value. Your question thus makes no real sense.</p>\n\n<p>To create an ArrayList <code>b</code> containing the same Integers as another List <code>a</code>, just use the following code:</p>\n\n<pre><code>List&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(a);\n</code></pre>\n\n<p>Sure the Integer won't be cloned, but this is a good thing, because cloning them is completely unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":11517847,"reputation":41,"user_id":8440698,"display_name":"Michael C."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662845924,"creation_date":1662845924,"answer_id":73675339,"question_id":10427109,"body_markdown":"For clarification.\r\n\r\n    ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;(Arrays.asList(1,2,3));\r\n    ArrayList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(a);\r\n    ArrayList&lt;Integer&gt; c = a;\r\n              \r\n    c.set(0, 5);\r\n        \r\n    System.out.println(a);\r\n    System.out.println(b);\r\n    System.out.println(c);\r\n\r\nWill print out\r\n\r\n    [5, 2, 3]\r\n    [1, 2, 3]\r\n    [5, 2, 3]\r\n\r\nUsing the new keyword will automatically take the values from an existing array and copy those to the new array.\r\n\r\nI&#39;m also just a little bit confused as to why Collections.copy(dest, src) is listed on here as an answer. Considering if the new array has just been initialized you&#39;ll get.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Source does not fit in dest\r\n\r\nThis happens because Collections.copy uses List&lt;&gt; instead of ArrayList&lt;&gt; so if the source array is larger than the destination array you&#39;ll get this error. There ARE workarounds, such as a for loop to add X number of elements for Y number of elements in the first array but considering you can just use the new keyword and all this gets done automatically I feel as if this answer should be changed to be JB Nizet&#39;s answer.\r\n\r\nI also made sure to actually run this code so all of this is up to date as of Java: 1.8.0_333","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>For clarification.</p>\n<pre><code>ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;(Arrays.asList(1,2,3));\nArrayList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(a);\nArrayList&lt;Integer&gt; c = a;\n          \nc.set(0, 5);\n    \nSystem.out.println(a);\nSystem.out.println(b);\nSystem.out.println(c);\n</code></pre>\n<p>Will print out</p>\n<pre><code>[5, 2, 3]\n[1, 2, 3]\n[5, 2, 3]\n</code></pre>\n<p>Using the new keyword will automatically take the values from an existing array and copy those to the new array.</p>\n<p>I'm also just a little bit confused as to why Collections.copy(dest, src) is listed on here as an answer. Considering if the new array has just been initialized you'll get.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Source does not fit in dest\n</code></pre>\n<p>This happens because Collections.copy uses List&lt;&gt; instead of ArrayList&lt;&gt; so if the source array is larger than the destination array you'll get this error. There ARE workarounds, such as a for loop to add X number of elements for Y number of elements in the first array but considering you can just use the new keyword and all this gets done automatically I feel as if this answer should be changed to be JB Nizet's answer.</p>\n<p>I also made sure to actually run this code so all of this is up to date as of Java: 1.8.0_333</p>\n"}],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88665,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":10427232,"answer_count":7,"score":28,"last_activity_date":1662845924,"creation_date":1336030822,"question_id":10427109,"body_markdown":"Namely, without referencing the same object, I need to copy values of elements of one list into another list. These are the lists:\r\n\r\n    List&lt;Integer&gt; listA = new ArrayList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; ListB = new ArrayList&lt;Integer&gt;();\r\n    \r\n    listA = (added some values);\r\n    \r\n    listB = (do what?)...\r\n\r\nPS. I appologize for beginner&#39;s question, but I have never done such a thing.","title":"How to copy values, not references, of List&lt;Integer&gt; into another list?","body":"<p>Namely, without referencing the same object, I need to copy values of elements of one list into another list. These are the lists:</p>\n\n<pre><code>List&lt;Integer&gt; listA = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; ListB = new ArrayList&lt;Integer&gt;();\n\nlistA = (added some values);\n\nlistB = (do what?)...\n</code></pre>\n\n<p>PS. I appologize for beginner's question, but I have never done such a thing.</p>\n"},{"tags":["java","asynchronous","log4j2","deadlock"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658212902,"creation_date":1658212902,"answer_id":73032230,"question_id":73020252,"body_markdown":"This is a false positive. Since you are using the `Async` appender, you have an instance of the [`AsyncAppenderEventDispatcher`](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/AsyncAppenderEventDispatcher.java) thread that is waiting for other threads to fill the log message queue.\r\n\r\nThat is perfectly normal if there are no messages to be logged.","title":"Log4j2 AsyncAppenderEventDispatcher: frozen thread, potential deadlock?","body":"<p>This is a false positive. Since you are using the <code>Async</code> appender, you have an instance of the <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/AsyncAppenderEventDispatcher.java\" rel=\"nofollow noreferrer\"><code>AsyncAppenderEventDispatcher</code></a> thread that is waiting for other threads to fill the log message queue.</p>\n<p>That is perfectly normal if there are no messages to be logged.</p>\n"},{"tags":[],"owner":{"account_id":1738115,"reputation":717,"user_id":1590214,"display_name":"Vladimir Kondratyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662845806,"creation_date":1662845806,"answer_id":73675326,"question_id":73020252,"body_markdown":"I want to confirm that this is a false positive. And this issue was addressed in the upcoming version 2022.9 of YourKit Java Profiler https://www.yourkit.com/eap/","title":"Log4j2 AsyncAppenderEventDispatcher: frozen thread, potential deadlock?","body":"<p>I want to confirm that this is a false positive. And this issue was addressed in the upcoming version 2022.9 of YourKit Java Profiler <a href=\"https://www.yourkit.com/eap/\" rel=\"nofollow noreferrer\">https://www.yourkit.com/eap/</a></p>\n"}],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73032230,"answer_count":2,"score":0,"last_activity_date":1662845806,"creation_date":1658137434,"question_id":73020252,"body_markdown":"YourKit warns about a potential deadlock in Log4j2&#39;s `AsyncAppenderEventDispatcher`:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Potential deadlock: frozen threads found\r\n    \r\n    It seems that the following threads have not changed their stack for more than 10 seconds.\r\n    These threads are possibly (but not necessarily!) in a deadlock or hung.\r\n    \r\n    +--------------------------------------------------------------------------------------------------------------------------------+\r\n    |                                                              Name                                                              |\r\n    +--------------------------------------------------------------------------------------------------------------------------------+\r\n    |  +---Log4j2-AsyncAppenderEventDispatcher-2-Async Frozen for at least 9m 2s &lt;Ignore a false positive&gt;                           |\r\n    |    |                                                                                                                           |\r\n    |    +---jdk.internal.misc.Unsafe.park(boolean, long) Unsafe.java (native)                                                       |\r\n    |    |                                                                                                                           |\r\n    |    +---java.util.concurrent.locks.LockSupport.park(Object) LockSupport.java:194                                                |\r\n    |    |                                                                                                                           |\r\n    |    +---java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await() AbstractQueuedSynchronizer.java:2081      |\r\n    |    |                                                                                                                           |\r\n    |    +---java.util.concurrent.ArrayBlockingQueue.take() ArrayBlockingQueue.java:417                                              |\r\n    |    |                                                                                                                           |\r\n    |    +---org.apache.logging.log4j.core.appender.AsyncAppenderEventDispatcher.dispatchAll() AsyncAppenderEventDispatcher.java:71  |\r\n    |    |                                                                                                                           |\r\n    |    +---org.apache.logging.log4j.core.appender.AsyncAppenderEventDispatcher.run() AsyncAppenderEventDispatcher.java:63          |\r\n    +--------------------------------------------------------------------------------------------------------------------------------+\r\n\r\nLog4j2&#39;s config (simplified):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot; packages=&quot;com.mycompany.logging&quot;&gt;\r\n\r\n    &lt;Appenders&gt;\r\n\r\n        &lt;RollingFile name=&quot;RollingJson&quot;\r\n                     fileName=&quot;logs/application.log.json&quot; filePattern=&quot;logs/application.log.json.%i&quot;\r\n                     bufferedIO=&quot;true&quot; bufferSize=&quot;1024&quot;&gt;\r\n            &lt;MyCompanyJsonLayout/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;1MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;Async name=&quot;Async&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingJson&quot;/&gt;\r\n        &lt;/Async&gt;\r\n\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;${env:LOG_LEVEL:-INFO}&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nNot sure how to investigate further, is this warning a false positive?","title":"Log4j2 AsyncAppenderEventDispatcher: frozen thread, potential deadlock?","body":"<p>YourKit warns about a potential deadlock in Log4j2's <code>AsyncAppenderEventDispatcher</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Potential deadlock: frozen threads found\n\nIt seems that the following threads have not changed their stack for more than 10 seconds.\nThese threads are possibly (but not necessarily!) in a deadlock or hung.\n\n+--------------------------------------------------------------------------------------------------------------------------------+\n|                                                              Name                                                              |\n+--------------------------------------------------------------------------------------------------------------------------------+\n|  +---Log4j2-AsyncAppenderEventDispatcher-2-Async Frozen for at least 9m 2s &lt;Ignore a false positive&gt;                           |\n|    |                                                                                                                           |\n|    +---jdk.internal.misc.Unsafe.park(boolean, long) Unsafe.java (native)                                                       |\n|    |                                                                                                                           |\n|    +---java.util.concurrent.locks.LockSupport.park(Object) LockSupport.java:194                                                |\n|    |                                                                                                                           |\n|    +---java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await() AbstractQueuedSynchronizer.java:2081      |\n|    |                                                                                                                           |\n|    +---java.util.concurrent.ArrayBlockingQueue.take() ArrayBlockingQueue.java:417                                              |\n|    |                                                                                                                           |\n|    +---org.apache.logging.log4j.core.appender.AsyncAppenderEventDispatcher.dispatchAll() AsyncAppenderEventDispatcher.java:71  |\n|    |                                                                                                                           |\n|    +---org.apache.logging.log4j.core.appender.AsyncAppenderEventDispatcher.run() AsyncAppenderEventDispatcher.java:63          |\n+--------------------------------------------------------------------------------------------------------------------------------+\n</code></pre>\n<p>Log4j2's config (simplified):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot; packages=&quot;com.mycompany.logging&quot;&gt;\n\n    &lt;Appenders&gt;\n\n        &lt;RollingFile name=&quot;RollingJson&quot;\n                     fileName=&quot;logs/application.log.json&quot; filePattern=&quot;logs/application.log.json.%i&quot;\n                     bufferedIO=&quot;true&quot; bufferSize=&quot;1024&quot;&gt;\n            &lt;MyCompanyJsonLayout/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;1MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;Async name=&quot;Async&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingJson&quot;/&gt;\n        &lt;/Async&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;${env:LOG_LEVEL:-INFO}&quot;&gt;\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>Not sure how to investigate further, is this warning a false positive?</p>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662658997,"creation_date":1662658327,"answer_id":73653052,"question_id":73652726,"body_markdown":"Your sort loop is functional but you are squaring each entry 4 times in a cumulative manner.  One approach is to first square all the elements and then sort.\r\n\r\nFrom your results you can see evidence:\r\n\r\n    (((3^2)^2)^2)^2 = 43046721\r\n\r\nThe second 0 is interesting:\r\n\r\n    (((-4^2)^2)^2)^2 = 4,294,967,296\r\n\r\nwhich for a 32-bit int becomes 0.\r\n\r\nAnd for 10:\r\n\r\n    (((10^2)^2)^2)^2 = 10,000,000,000,000,000\r\n\r\nrolls over to 187491924.\r\n\r\nSo your code can simply be updated by first squaring the entries and then sort:\r\n\r\n    public int[] sortedSquares(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = arr[i] * arr[i];\r\n        }\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            for(int j=i+1;j&lt;arr.length;j++){\r\n                if(arr[j]&lt;arr[i]){\r\n                    int temp=0;\r\n                    temp=arr[i];\r\n                    arr[i]=arr[j];\r\n                    arr[j]=temp;\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    }    \r\n\r\n\r\n    ","title":"Sort array after converting to squares","body":"<p>Your sort loop is functional but you are squaring each entry 4 times in a cumulative manner.  One approach is to first square all the elements and then sort.</p>\n<p>From your results you can see evidence:</p>\n<pre><code>(((3^2)^2)^2)^2 = 43046721\n</code></pre>\n<p>The second 0 is interesting:</p>\n<pre><code>(((-4^2)^2)^2)^2 = 4,294,967,296\n</code></pre>\n<p>which for a 32-bit int becomes 0.</p>\n<p>And for 10:</p>\n<pre><code>(((10^2)^2)^2)^2 = 10,000,000,000,000,000\n</code></pre>\n<p>rolls over to 187491924.</p>\n<p>So your code can simply be updated by first squaring the entries and then sort:</p>\n<pre><code>public int[] sortedSquares(int[] arr) {\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = arr[i] * arr[i];\n    }\n    for(int i = 0; i &lt; arr.length; i++){\n        for(int j=i+1;j&lt;arr.length;j++){\n            if(arr[j]&lt;arr[i]){\n                int temp=0;\n                temp=arr[i];\n                arr[i]=arr[j];\n                arr[j]=temp;\n            }\n        }\n    }\n    return arr;\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662661991,"creation_date":1662661991,"answer_id":73653659,"question_id":73652726,"body_markdown":"You are square each number multiple times during the sort.  I recommend the following solution which will still let you sort on the square values using only the nested loops. But you need to swap the sorted values and the unsorted ones to keep them in sync. \r\n```\r\npublic static int[] sortedSquares(int[] arr) {\r\n        for(int i = 0; i &lt; arr.length-1; i++){\r\n        \tint t1 = arr[i]*arr[i];\r\n            for(int j=i+1;j&lt;arr.length;j++){\r\n            \tint t2 = arr[j] * arr[j];\r\n                if(t1&lt;t2){\r\n                  int  temp=arr[i];\r\n                    arr[i]=arr[j];\r\n                    arr[j]=temp;\r\n                    temp = t1;\r\n                    t1 = t2;\r\n                    t2 = temp;\r\n                }\r\n            }\r\n            arr[i] = t1;  // now assign t1 to arr[i].  The first element will no \r\n                          // longer be accessed so it won&#39;t taint the results.\r\n            \r\n          \r\n        }\r\n        return arr;\r\n}","title":"Sort array after converting to squares","body":"<p>You are square each number multiple times during the sort.  I recommend the following solution which will still let you sort on the square values using only the nested loops. But you need to swap the sorted values and the unsorted ones to keep them in sync.</p>\n<pre><code>public static int[] sortedSquares(int[] arr) {\n        for(int i = 0; i &lt; arr.length-1; i++){\n            int t1 = arr[i]*arr[i];\n            for(int j=i+1;j&lt;arr.length;j++){\n                int t2 = arr[j] * arr[j];\n                if(t1&lt;t2){\n                  int  temp=arr[i];\n                    arr[i]=arr[j];\n                    arr[j]=temp;\n                    temp = t1;\n                    t1 = t2;\n                    t2 = temp;\n                }\n            }\n            arr[i] = t1;  // now assign t1 to arr[i].  The first element will no \n                          // longer be accessed so it won't taint the results.\n            \n          \n        }\n        return arr;\n}\n</code></pre>\n"}],"owner":{"account_id":23448076,"reputation":37,"user_id":17504599,"display_name":"Jeevan Jitu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73653052,"answer_count":2,"score":0,"last_activity_date":1662845441,"creation_date":1662656562,"question_id":73652726,"body_markdown":"    class Solution {\r\n        public int[] sortedSquares(int[] arr) {\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                for(int j=i+1;j&lt;arr.length;j++){\r\n                    arr[i]=arr[i]*arr[i];\r\n                    arr[j]=arr[j]*arr[j];\r\n                    if(arr[j]&lt;arr[i]){\r\n                        int temp=0;\r\n                        temp=arr[i];\r\n                        arr[i]=arr[j];\r\n                        arr[j]=temp;\r\n                        \r\n                        \r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n    }\r\n    }\r\n\r\n---\r\nCan you tell me where am going wrong? For input `[-4,-1,0,3,10]`, output should be `[0,1,9,16,100]` . My current output is `[0,1,43046721,0,1874919424]`. I don&#39;t want to use `Array.sort()`  . I wanted to write my own code. ","title":"Sort array after converting to squares","body":"<pre><code>class Solution {\n    public int[] sortedSquares(int[] arr) {\n        for(int i = 0; i &lt; arr.length; i++){\n            for(int j=i+1;j&lt;arr.length;j++){\n                arr[i]=arr[i]*arr[i];\n                arr[j]=arr[j]*arr[j];\n                if(arr[j]&lt;arr[i]){\n                    int temp=0;\n                    temp=arr[i];\n                    arr[i]=arr[j];\n                    arr[j]=temp;\n                    \n                    \n                }\n            }\n        }\n        return arr;\n}\n}\n</code></pre>\n<hr />\n<p>Can you tell me where am going wrong? For input <code>[-4,-1,0,3,10]</code>, output should be <code>[0,1,9,16,100]</code> . My current output is <code>[0,1,43046721,0,1874919424]</code>. I don't want to use <code>Array.sort()</code>  . I wanted to write my own code.</p>\n"},{"tags":["java","string","sorting","recursion"],"comments":[{"owner":{"account_id":16848005,"reputation":127,"user_id":12245064,"display_name":"Safwan Abrar"},"score":0,"creation_date":1662844166,"post_id":73675149,"comment_id":130101298,"body_markdown":"this is supposed to be like a helper function for checking if two strings are anagrams of each other through recursion. I thought it&#39;d be easier to sort the strings first and then recursively check if they match up, if they do then the two strings would be anagrams. If there&#39;s a better way to do anagrams function, please let me know too.","body":"this is supposed to be like a helper function for checking if two strings are anagrams of each other through recursion. I thought it&#39;d be easier to sort the strings first and then recursively check if they match up, if they do then the two strings would be anagrams. If there&#39;s a better way to do anagrams function, please let me know too."},{"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"score":0,"creation_date":1662844306,"post_id":73675149,"comment_id":130101318,"body_markdown":"If your goal is to simply sort a String, you could use `String sortedString = new String(Arrays.sort(str.toCharArray()));` where `str` is your actual String.","body":"If your goal is to simply sort a String, you could use <code>String sortedString = new String(Arrays.sort(str.toCharArray()));</code> where <code>str</code> is your actual String."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662846077,"post_id":73675149,"comment_id":130101592,"body_markdown":"if you want to do it on your own, you still should work with a `char[]` instead of creating new strings over and over again. Next step: search a proper sorting algorithm and implement that. You can do that on [Wikipedia: Sorting algorithm](https://en.wikipedia.org/wiki/Sorting_algorithm) (or for more fun you can find one of the funny explanation with dances video playlists on [youtube](https://www.youtube.com/watch?v=EdIKIf9mHk0&amp;list=PLOmdoKois7_FK-ySGwHBkltzB11snW7KQ) )","body":"if you want to do it on your own, you still should work with a <code>char[]</code> instead of creating new strings over and over again. Next step: search a proper sorting algorithm and implement that. You can do that on <a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm\" rel=\"nofollow noreferrer\">Wikipedia: Sorting algorithm</a> (or for more fun you can find one of the funny explanation with dances video playlists on <a href=\"https://www.youtube.com/watch?v=EdIKIf9mHk0&amp;list=PLOmdoKois7_FK-ySGwHBkltzB11snW7KQ\" rel=\"nofollow noreferrer\">youtube</a> )"}],"owner":{"account_id":16848005,"reputation":127,"user_id":12245064,"display_name":"Safwan Abrar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662844307,"creation_date":1662843954,"question_id":73675149,"body_markdown":"So I&#39;m trying to write a function that sorts a string alphabetically.\r\nHere is what I&#39;ve done:\r\n\r\n```\r\npublic static String stringSort(String s) {\r\n    if(s.length()&lt;2) {\r\n\t\treturn s;\r\n\t}\r\n\tString recursion = stringSort(s.substring(0, s.length()-1));\r\n\trecursion += s.substring(recursion.length()); \r\n\tif(recursion.charAt(recursion.length()-2)&lt;recursion.charAt(recursion.length()-1)) {\r\n\t    return recursion;\r\n\t}\r\n\tchar a = recursion.charAt(recursion.length()-2);\r\n\tchar b = recursion.charAt(recursion.length()-1);\r\n\tif(recursion.length()&gt;2) {\r\n\t    recursion = recursion.substring(0, recursion.length()-2)+b+a;\r\n\t} else {\r\n\t\trecursion = &quot;&quot;+b+a;\r\n\t}\r\n\tString recursion2 = stringSort(recursion);\r\n\treturn recursion2;\r\n}\r\n```\r\n\r\nBasically, it checks the first two letters, swaps if needed and checks again or it continues to check the next two letters.  \r\n\r\nIt seems to work for some words (I tried man and superman), but I get a stack overflow error for other words (splendid). Is there a more efficient way of doing this so I don&#39;t get stack overflow?","title":"Java function to sort string recursively","body":"<p>So I'm trying to write a function that sorts a string alphabetically.\nHere is what I've done:</p>\n<pre><code>public static String stringSort(String s) {\n    if(s.length()&lt;2) {\n        return s;\n    }\n    String recursion = stringSort(s.substring(0, s.length()-1));\n    recursion += s.substring(recursion.length()); \n    if(recursion.charAt(recursion.length()-2)&lt;recursion.charAt(recursion.length()-1)) {\n        return recursion;\n    }\n    char a = recursion.charAt(recursion.length()-2);\n    char b = recursion.charAt(recursion.length()-1);\n    if(recursion.length()&gt;2) {\n        recursion = recursion.substring(0, recursion.length()-2)+b+a;\n    } else {\n        recursion = &quot;&quot;+b+a;\n    }\n    String recursion2 = stringSort(recursion);\n    return recursion2;\n}\n</code></pre>\n<p>Basically, it checks the first two letters, swaps if needed and checks again or it continues to check the next two letters.</p>\n<p>It seems to work for some words (I tried man and superman), but I get a stack overflow error for other words (splendid). Is there a more efficient way of doing this so I don't get stack overflow?</p>\n"},{"tags":["java","docker","maven","kubernetes"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662688388,"post_id":73656515,"comment_id":130069075,"body_markdown":"1. run your new image in docker locally and make sure it does what you expect. 2. look at your running pod and see that the image has the tag you expect.","body":"1. run your new image in docker locally and make sure it does what you expect. 2. look at your running pod and see that the image has the tag you expect."}],"answers":[{"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662690951,"creation_date":1662690951,"answer_id":73656783,"question_id":73656515,"body_markdown":"mvn install will just install the package.\r\n\r\nYou should do mvn package before install to make new jar file.","title":"mvn install -P docker-buld-image is not producing an updated jar file after changes","body":"<p>mvn install will just install the package.</p>\n<p>You should do mvn package before install to make new jar file.</p>\n"},{"tags":[],"owner":{"account_id":8656955,"reputation":1,"user_id":6480893,"display_name":"Nigel Carty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662843420,"creation_date":1662843420,"answer_id":73675119,"question_id":73656515,"body_markdown":"The problem I was experiencing resulted from the docker-building module was using an old snapshot to build the docker image. The wrong dependency was being used in the POM file of that module. I changed the dependency and everything worked just fine.","title":"mvn install -P docker-buld-image is not producing an updated jar file after changes","body":"<p>The problem I was experiencing resulted from the docker-building module was using an old snapshot to build the docker image. The wrong dependency was being used in the POM file of that module. I changed the dependency and everything worked just fine.</p>\n"}],"owner":{"account_id":8656955,"reputation":1,"user_id":6480893,"display_name":"Nigel Carty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662843420,"creation_date":1662687628,"question_id":73656515,"body_markdown":"I have a Spring project to which I have made two very basic changes:\r\n 1. ```logger.info(&quot;testing changes made&quot;);```\r\n 2. ```return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT); //previously HttpStatus.OK```\r\n\r\nI then:\r\n 1. git committed the changes (not really necessary)\r\n 2. ```mvn clean install -P docker-build-image```\r\n 3. ```docker tag my-service:old-tag  my-service:new-tag```\r\n\r\nI then used this image to install the service in a kubernetes pod as follows:\r\n\r\n```kubectl cluster-info --context kind-kind\r\necho &quot;&#128994; deploying auth service&quot;\r\nhelm uninstall auth\r\nkubectl delete pod -l app.kubernetes.io/name=auth\r\nkind load docker-image my-service:new-tag\r\nhelm install auth ./auth --wait\r\n```\r\n\r\nThe trouble is: I am never getting any changes. I only see the output from the old version of the application.\r\n\r\nWhat is going on here? This is very strange to me. This feels very much like a maven|docker plugin kind of problem. Or, is it a kubernetes|kind|helm problem?","title":"mvn install -P docker-buld-image is not producing an updated jar file after changes","body":"<p>I have a Spring project to which I have made two very basic changes:</p>\n<ol>\n<li><code>logger.info(&quot;testing changes made&quot;);</code></li>\n<li><code>return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT); //previously HttpStatus.OK</code></li>\n</ol>\n<p>I then:</p>\n<ol>\n<li>git committed the changes (not really necessary)</li>\n<li><code>mvn clean install -P docker-build-image</code></li>\n<li><code>docker tag my-service:old-tag  my-service:new-tag</code></li>\n</ol>\n<p>I then used this image to install the service in a kubernetes pod as follows:</p>\n<pre><code>echo &quot;🟢 deploying auth service&quot;\nhelm uninstall auth\nkubectl delete pod -l app.kubernetes.io/name=auth\nkind load docker-image my-service:new-tag\nhelm install auth ./auth --wait\n</code></pre>\n<p>The trouble is: I am never getting any changes. I only see the output from the old version of the application.</p>\n<p>What is going on here? This is very strange to me. This feels very much like a maven|docker plugin kind of problem. Or, is it a kubernetes|kind|helm problem?</p>\n"},{"tags":["java","arrays","jpa","arraylist","linked-list"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1662812868,"post_id":73671578,"comment_id":130095508,"body_markdown":"Faster in which aspect, adding elements to the list, or the subsequent iteration of the list?","body":"Faster in which aspect, adding elements to the list, or the subsequent iteration of the list?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1662827507,"post_id":73671578,"comment_id":130098346,"body_markdown":"They way you use them, they would perform the same.","body":"They way you use them, they would perform the same."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1662843911,"post_id":73671578,"comment_id":130101257,"body_markdown":"JPA tends to write to databases and thus to disks. The performance of *that* write will severely outweigh any performance difference you could have between `ArrayList` and `LinkedList`, so forget about it. Also: forget about `LinkedList&#180;, there&#39;s no good reason to ever use it.  [Even the creator agrees](https://twitter.com/joshbloch/status/583813919019573248).","body":"JPA tends to write to databases and thus to disks. The performance of <i>that</i> write will severely outweigh any performance difference you could have between <code>ArrayList</code> and <code>LinkedList</code>, so forget about it. Also: forget about `LinkedList&#180;, there&#39;s no good reason to ever use it.  <a href=\"https://twitter.com/joshbloch/status/583813919019573248\" rel=\"nofollow noreferrer\">Even the creator agrees</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662868452,"post_id":73671578,"comment_id":130104049,"body_markdown":"There are complicated secondary effects due to garbage collection and memory locality which will affect `ArrayList` and `LinkedList` differently.   Especially for large lists.  Also, if you can set the correct *capacity* of the `ArrayList` it will be a lot more efficient than a `LinkedList`; i.e. &quot;LinkedList is faster in add element&quot; won&#39;t be true.","body":"There are complicated secondary effects due to garbage collection and memory locality which will affect <code>ArrayList</code> and <code>LinkedList</code> differently.   Especially for large lists.  Also, if you can set the correct <i>capacity</i> of the <code>ArrayList</code> it will be a lot more efficient than a <code>LinkedList</code>; i.e. &quot;LinkedList is faster in add element&quot; won&#39;t be true."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662868543,"post_id":73671578,"comment_id":130104056,"body_markdown":"Frankly, this question has the whiff of *premature optimization*.","body":"Frankly, this question has the whiff of <i>premature optimization</i>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662910750,"post_id":73671578,"comment_id":130110557,"body_markdown":"As a basic rule of thumb, in almost all cases, ArrayList is actually faster than LinkedList, so use ArrayList, unless you have proven that LinkedList is faster for your use case.","body":"As a basic rule of thumb, in almost all cases, ArrayList is actually faster than LinkedList, so use ArrayList, unless you have proven that LinkedList is faster for your use case."}],"answers":[{"tags":[],"owner":{"account_id":11858806,"reputation":101,"user_id":8678114,"display_name":"NightStorm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662814749,"creation_date":1662814749,"answer_id":73671982,"question_id":73671578,"body_markdown":"It would be better seeing the definition of ```personRepository.saveAll(personList)``` \r\n\r\nRegardless, ArrayList internally uses an array. I expect a read operation to be hence faster, so I&#39;d go with the ArrayList\r\n\r\nsee [linked_list_implementation here][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/","title":"Save ArrayList or LinkedList is faster in JPA?","body":"<p>It would be better seeing the definition of <code>personRepository.saveAll(personList)</code></p>\n<p>Regardless, ArrayList internally uses an array. I expect a read operation to be hence faster, so I'd go with the ArrayList</p>\n<p>see <a href=\"https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/\" rel=\"nofollow noreferrer\">linked_list_implementation here</a></p>\n"}],"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662910814,"answer_count":1,"score":0,"last_activity_date":1662842618,"creation_date":1662810622,"question_id":73671578,"body_markdown":"`LinkedList` is faster in add element. But `ArrayList` is better in stored data.\r\n\r\nI suppose that I will have 1 million elements to add to the List. Then I will use method `saveAll()` to save them in DB. Code like below:\r\n\r\n    //ArrayList\r\n    List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n    fullPersonList.forEach(item -&gt; {\r\n        if (item.isMale())\r\n            personList.add(item);\r\n    });\r\n    personRepository.saveAll(personList);\r\n    \r\n    //LinkedList\r\n    List&lt;Person&gt; personList = new LinkedList&lt;&gt;();\r\n    fullPersonList.forEach(item -&gt; {\r\n        if (item.isMale())\r\n            personList.add(item);\r\n    });\r\n    personRepository.saveAll(personList);","title":"Save ArrayList or LinkedList is faster in JPA?","body":"<p><code>LinkedList</code> is faster in add element. But <code>ArrayList</code> is better in stored data.</p>\n<p>I suppose that I will have 1 million elements to add to the List. Then I will use method <code>saveAll()</code> to save them in DB. Code like below:</p>\n<pre><code>//ArrayList\nList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\nfullPersonList.forEach(item -&gt; {\n    if (item.isMale())\n        personList.add(item);\n});\npersonRepository.saveAll(personList);\n\n//LinkedList\nList&lt;Person&gt; personList = new LinkedList&lt;&gt;();\nfullPersonList.forEach(item -&gt; {\n    if (item.isMale())\n        personList.add(item);\n});\npersonRepository.saveAll(personList);\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":0,"creation_date":1662830540,"post_id":73672625,"comment_id":130098952,"body_markdown":"I would argue that it is not possible to have a different amount of columns depending on the row. Spark creates the logical execution plan (if we ignore optimizations for a second) simply based the the DAG without looking at the data, so the number of columns returned by the UDF has to be a fixed number. So either you know in advance the maximum number of years and fill up the remaining columns with nulls or you could return an array or a map.","body":"I would argue that it is not possible to have a different amount of columns depending on the row. Spark creates the logical execution plan (if we ignore optimizations for a second) simply based the the DAG without looking at the data, so the number of columns returned by the UDF has to be a fixed number. So either you know in advance the maximum number of years and fill up the remaining columns with nulls or you could return an array or a map."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1662831681,"post_id":73672625,"comment_id":130099187,"body_markdown":"What about a map column? How would I return a map column from my UDF? Or do you have a better suggestion? My question is asking for the best approach to address this use case—and this use case doesn&#39;t seem strange, rare, or unreasonable to me.","body":"What about a map column? How would I return a map column from my UDF? Or do you have a better suggestion? My question is asking for the best approach to address this use case—and this use case doesn&#39;t seem strange, rare, or unreasonable to me."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1662839334,"post_id":73672625,"comment_id":130100540,"body_markdown":"Why try and not use the product as it is. It does not have column families.","body":"Why try and not use the product as it is. It does not have column families."}],"answers":[{"tags":[],"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662841763,"creation_date":1662841763,"answer_id":73674977,"question_id":73672625,"body_markdown":"You can return a map from the UDF:\r\n```lang-java\r\nMapType salarySchema2 = createMapType(StringType, createDecimalType(12, 2));\r\nUserDefinedFunction lookupSalariesForId2 = udf((String id) -&gt; {\r\n    //the Java map containg the result of the UDF\r\n    Map&lt;String, BigDecimal&gt; result = new HashMap&lt;String, BigDecimal&gt;();\r\n    //Generate some random test data\r\n    Random r = new Random();\r\n    int years = r.nextInt(10) + 1; // max 10 years\r\n    int startYear = r.nextInt(5) + 2010;\r\n    for (int i = 0; i &lt; years; i++) {\r\n        result.put(&quot;salary&quot; + (startYear + i), new BigDecimal(r.nextDouble() * 1000));\r\n    }\r\n    return result;\r\n}, salarySchema2).asNondeterministic();\r\n\r\ndf = df.withColumn(&quot;salaries2&quot;, lookupSalariesForId2.apply(col(&quot;id&quot;))).cache();\r\ndf.show(false);\r\n```\r\nOutput:\r\n```lang-none\r\n+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n|id |salaries2                                                                                                                                                |\r\n+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n|1  |{salary2014 -&gt; 333.74}                                                                                                                                   |\r\n|2  |{salary2010 -&gt; 841.83, salary2011 -&gt; 764.24, salary2012 -&gt; 703.35, salary2013 -&gt; 727.06, salary2014 -&gt; 314.52}                                           |\r\n|3  |{salary2012 -&gt; 770.90, salary2013 -&gt; 790.92}                                                                                                             |\r\n|4  |{salary2011 -&gt; 696.24, salary2012 -&gt; 420.56, salary2013 -&gt; 566.10, salary2014 -&gt; 160.99}                                                                 |\r\n|5  |{salary2011 -&gt; 60.59, salary2012 -&gt; 313.57, salary2013 -&gt; 770.82, salary2014 -&gt; 641.90, salary2015 -&gt; 776.13, salary2016 -&gt; 145.28, salary2017 -&gt; 216.02}|\r\n|6  |{salary2011 -&gt; 842.02, salary2012 -&gt; 565.32}                                                                                                             |\r\n+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n```\r\nThe reason for the `cache` in the second last line is the second part: Using some [sql functions](https://spark.apache.org/docs/3.3.0/api/java/org/apache/spark/sql/functions.html) it is possible to get a (Java) collection of all keys in the map column. This collection can then be used to create a single column for each year:\r\n```lang-java\r\nCollection&lt;String&gt; years = JavaConverters.asJavaCollection((WrappedArray&lt;String&gt;)\r\n        df.withColumn(&quot;years&quot;, functions.map_keys(col(&quot;salaries2&quot;)))\r\n                .agg(functions.array_sort(\r\n                        functions.array_distinct(\r\n                                functions.flatten(\r\n                                        functions.collect_set(col(&quot;years&quot;))))))\r\n                .first().get(0));\r\n\r\nList&lt;Column&gt; salaries2 = years.stream().map((year) -&gt; \r\n    col(&quot;salaries2&quot;).getItem(year).alias(year)).collect(Collectors.toList());\r\nsalaries2.add(0, col(&quot;id&quot;));\r\n\r\ndf.select(salaries2.toArray(new Column[0])).show();\r\n```\r\nOutput:\r\n```lang-none\r\n+---+----------+----------+----------+----------+----------+----------+----------+----------+\r\n| id|salary2010|salary2011|salary2012|salary2013|salary2014|salary2015|salary2016|salary2017|\r\n+---+----------+----------+----------+----------+----------+----------+----------+----------+\r\n|  1|      null|      null|      null|      null|    333.74|      null|      null|      null|\r\n|  2|    841.83|    764.24|    703.35|    727.06|    314.52|      null|      null|      null|\r\n|  3|      null|      null|    770.90|    790.92|      null|      null|      null|      null|\r\n|  4|      null|    696.24|    420.56|    566.10|    160.99|      null|      null|      null|\r\n|  5|      null|     60.59|    313.57|    770.82|    641.90|    776.13|    145.28|    216.02|\r\n|  6|      null|    842.02|    565.32|      null|      null|      null|      null|      null|\r\n+---+----------+----------+----------+----------+----------+----------+----------+----------+\r\n```\r\nCollecting all years in all maps could take some time on large datasets as Spark has to process all UDF calls first and then collect the map keys.","title":"Adding multiple, arbitrary Spark columns per row using Java","body":"<p>You can return a map from the UDF:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MapType salarySchema2 = createMapType(StringType, createDecimalType(12, 2));\nUserDefinedFunction lookupSalariesForId2 = udf((String id) -&gt; {\n    //the Java map containg the result of the UDF\n    Map&lt;String, BigDecimal&gt; result = new HashMap&lt;String, BigDecimal&gt;();\n    //Generate some random test data\n    Random r = new Random();\n    int years = r.nextInt(10) + 1; // max 10 years\n    int startYear = r.nextInt(5) + 2010;\n    for (int i = 0; i &lt; years; i++) {\n        result.put(&quot;salary&quot; + (startYear + i), new BigDecimal(r.nextDouble() * 1000));\n    }\n    return result;\n}, salarySchema2).asNondeterministic();\n\ndf = df.withColumn(&quot;salaries2&quot;, lookupSalariesForId2.apply(col(&quot;id&quot;))).cache();\ndf.show(false);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\n|id |salaries2                                                                                                                                                |\n+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\n|1  |{salary2014 -&gt; 333.74}                                                                                                                                   |\n|2  |{salary2010 -&gt; 841.83, salary2011 -&gt; 764.24, salary2012 -&gt; 703.35, salary2013 -&gt; 727.06, salary2014 -&gt; 314.52}                                           |\n|3  |{salary2012 -&gt; 770.90, salary2013 -&gt; 790.92}                                                                                                             |\n|4  |{salary2011 -&gt; 696.24, salary2012 -&gt; 420.56, salary2013 -&gt; 566.10, salary2014 -&gt; 160.99}                                                                 |\n|5  |{salary2011 -&gt; 60.59, salary2012 -&gt; 313.57, salary2013 -&gt; 770.82, salary2014 -&gt; 641.90, salary2015 -&gt; 776.13, salary2016 -&gt; 145.28, salary2017 -&gt; 216.02}|\n|6  |{salary2011 -&gt; 842.02, salary2012 -&gt; 565.32}                                                                                                             |\n+---+---------------------------------------------------------------------------------------------------------------------------------------------------------+\n</code></pre>\n<p>The reason for the <code>cache</code> in the second last line is the second part: Using some <a href=\"https://spark.apache.org/docs/3.3.0/api/java/org/apache/spark/sql/functions.html\" rel=\"nofollow noreferrer\">sql functions</a> it is possible to get a (Java) collection of all keys in the map column. This collection can then be used to create a single column for each year:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;String&gt; years = JavaConverters.asJavaCollection((WrappedArray&lt;String&gt;)\n        df.withColumn(&quot;years&quot;, functions.map_keys(col(&quot;salaries2&quot;)))\n                .agg(functions.array_sort(\n                        functions.array_distinct(\n                                functions.flatten(\n                                        functions.collect_set(col(&quot;years&quot;))))))\n                .first().get(0));\n\nList&lt;Column&gt; salaries2 = years.stream().map((year) -&gt; \n    col(&quot;salaries2&quot;).getItem(year).alias(year)).collect(Collectors.toList());\nsalaries2.add(0, col(&quot;id&quot;));\n\ndf.select(salaries2.toArray(new Column[0])).show();\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+---+----------+----------+----------+----------+----------+----------+----------+----------+\n| id|salary2010|salary2011|salary2012|salary2013|salary2014|salary2015|salary2016|salary2017|\n+---+----------+----------+----------+----------+----------+----------+----------+----------+\n|  1|      null|      null|      null|      null|    333.74|      null|      null|      null|\n|  2|    841.83|    764.24|    703.35|    727.06|    314.52|      null|      null|      null|\n|  3|      null|      null|    770.90|    790.92|      null|      null|      null|      null|\n|  4|      null|    696.24|    420.56|    566.10|    160.99|      null|      null|      null|\n|  5|      null|     60.59|    313.57|    770.82|    641.90|    776.13|    145.28|    216.02|\n|  6|      null|    842.02|    565.32|      null|      null|      null|      null|      null|\n+---+----------+----------+----------+----------+----------+----------+----------+----------+\n</code></pre>\n<p>Collecting all years in all maps could take some time on large datasets as Spark has to process all UDF calls first and then collect the map keys.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1662841763,"creation_date":1662820355,"question_id":73672625,"body_markdown":"I figured out how to get a Spark UDF to return a fixed number of columns known ahead of time. But how can a Spark UDF return an arbitrary number of columns which might be different for each row?\r\n\r\nI&#39;m using Spark 3.3.0 with Java 17. Let&#39;s say I have a DataFrame containing 1,000,000 people. For each person I want to look up each year&#39;s salary (e.g. from a database), but each person might have salaries for different years available. If I knew just had years 2020 and 2021 available, I would do this:\r\n\r\n\r\n```java\r\nStructType salarySchema = createStructType(List.of(createStructField(&quot;salary2020&quot;,\r\n    createDecimalType(12, 2), true), createStructField(&quot;salary2021&quot;,\r\n    createDecimalType(12, 2), true)));\r\nUserDefinedFunction lookupSalariesForId = udf((String id) -&gt; {\r\n  // TODO look up salaries\r\n  return RowFactory.create(salary2020, salary2021);\r\n}, salarySchema).asNondeterministic();\r\n\r\ndf = df.withColumn(&quot;salaries&quot;, lookupSalariesForId.apply(col(&quot;id&quot;)))\r\n    .select(&quot;*&quot;, &quot;salaries.*&quot;);\r\n```\r\n\r\nThat is Spark&#39;s roundabout way of loading multiple values from a UDF into a single column and then splitting them out into separate columns. &#129327;\r\n\r\nSo what if one person only has salaries from 2003 and 2004, while another person has salaries from 2007, 2008, and 2009? I would want to create columns `salary2003` and `salary2004` for the first person; and then `salary2007`, `salary2008`, `salary2009` for the second person. How would I do that with a UDF? (I know how to dynamically create an array to pass back via `RowFactory.create()`. The problem is that the schema related to the UDF schema is defined outside the UDF logic.)\r\n\r\nOr is there some better approach altogether with Spark? Should I be creating a separate lookup DataFrame altogether of just person IDs and a column for each possible salary year, and then join them somehow, like we would do in the relational database world? But what benefit would a separate DataFrame give me, and wouldn&#39;t I be back to square one to construct it? Of course I could construct it manually in Java, but I wouldn&#39;t gain the benefit of the Spark engine, parallel executors, etc.\r\n\r\nIn short, **what is the best way in Spark to dynamically add an arbitrary number of columns for each row in an existing DataFrame, based upon each row&#39;s identifier**?","title":"Adding multiple, arbitrary Spark columns per row using Java","body":"<p>I figured out how to get a Spark UDF to return a fixed number of columns known ahead of time. But how can a Spark UDF return an arbitrary number of columns which might be different for each row?</p>\n<p>I'm using Spark 3.3.0 with Java 17. Let's say I have a DataFrame containing 1,000,000 people. For each person I want to look up each year's salary (e.g. from a database), but each person might have salaries for different years available. If I knew just had years 2020 and 2021 available, I would do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StructType salarySchema = createStructType(List.of(createStructField(&quot;salary2020&quot;,\n    createDecimalType(12, 2), true), createStructField(&quot;salary2021&quot;,\n    createDecimalType(12, 2), true)));\nUserDefinedFunction lookupSalariesForId = udf((String id) -&gt; {\n  // TODO look up salaries\n  return RowFactory.create(salary2020, salary2021);\n}, salarySchema).asNondeterministic();\n\ndf = df.withColumn(&quot;salaries&quot;, lookupSalariesForId.apply(col(&quot;id&quot;)))\n    .select(&quot;*&quot;, &quot;salaries.*&quot;);\n</code></pre>\n<p>That is Spark's roundabout way of loading multiple values from a UDF into a single column and then splitting them out into separate columns. 🤯</p>\n<p>So what if one person only has salaries from 2003 and 2004, while another person has salaries from 2007, 2008, and 2009? I would want to create columns <code>salary2003</code> and <code>salary2004</code> for the first person; and then <code>salary2007</code>, <code>salary2008</code>, <code>salary2009</code> for the second person. How would I do that with a UDF? (I know how to dynamically create an array to pass back via <code>RowFactory.create()</code>. The problem is that the schema related to the UDF schema is defined outside the UDF logic.)</p>\n<p>Or is there some better approach altogether with Spark? Should I be creating a separate lookup DataFrame altogether of just person IDs and a column for each possible salary year, and then join them somehow, like we would do in the relational database world? But what benefit would a separate DataFrame give me, and wouldn't I be back to square one to construct it? Of course I could construct it manually in Java, but I wouldn't gain the benefit of the Spark engine, parallel executors, etc.</p>\n<p>In short, <strong>what is the best way in Spark to dynamically add an arbitrary number of columns for each row in an existing DataFrame, based upon each row's identifier</strong>?</p>\n"},{"tags":["java","android","android-activity","service","notifications"],"comments":[{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1537533375,"post_id":52249563,"comment_id":91830478,"body_markdown":"hello @JonDeal check this link it will help you to solve problem  https://stackoverflow.com/questions/12043671/notification-click-activity-already-open","body":"hello @JonDeal check this link it will help you to solve problem  <a href=\"https://stackoverflow.com/questions/12043671/notification-click-activity-already-open\" title=\"notification click activity already open\">stackoverflow.com/questions/12043671/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1349147,"reputation":411,"user_id":1289285,"display_name":"LifeStyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536542561,"creation_date":1536542561,"answer_id":52249941,"question_id":52249563,"body_markdown":"Try to remove flag: `Intent.FLAG_ACTIVITY_CLEAR_TOP`\r\nand add instead next one: `Intent.FLAG_ACTIVITY_REORDER_TO_FRONT`","title":"Notification always creates new activity instead of resuming previous activity","body":"<p>Try to remove flag: <code>Intent.FLAG_ACTIVITY_CLEAR_TOP</code>\nand add instead next one: <code>Intent.FLAG_ACTIVITY_REORDER_TO_FRONT</code></p>\n"},{"tags":[],"owner":{"account_id":2412384,"reputation":150,"user_id":2107192,"accept_rate":50,"display_name":"nikhil_salunke"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662840423,"creation_date":1536557370,"answer_id":52251614,"question_id":52249563,"body_markdown":"You can use [launch modes][1] for an activity.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/activity-element#lmode\r\n\r\n       \r\n\r\n\r\n    &lt;activity android:name=&quot;.MainActivity&quot;\r\n              android:launchMode=&quot;singleTop&quot;\r\n\r\n\r\n&gt;singleTop: If an instance of the activity already exists at the top of the target task, the system routes the intent to that instance through a call to its onNewIntent() method, rather than creating a new instance of the activity.","title":"Notification always creates new activity instead of resuming previous activity","body":"<p>You can use <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#lmode\" rel=\"nofollow noreferrer\">launch modes</a> for an activity.</p>\n<pre><code>&lt;activity android:name=&quot;.MainActivity&quot;\n          android:launchMode=&quot;singleTop&quot;\n</code></pre>\n<blockquote>\n<p>singleTop: If an instance of the activity already exists at the top of the target task, the system routes the intent to that instance through a call to its onNewIntent() method, rather than creating a new instance of the activity.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14261656,"reputation":83,"user_id":10302219,"display_name":"JonDal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1536633324,"creation_date":1536632261,"answer_id":52267795,"question_id":52249563,"body_markdown":"I&#39;ve solved the problem. I needed to call the setSessionActivity() method on my media session, like so:\r\n\r\n    Intent intent = new Intent(context, MainActivity.class);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(context, MediaPlayerContract.REQUEST_CODE,\r\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n    mediaSessionCompat.setSessionActivity(pendingIntent);\r\n\r\nEDIT:\r\n\r\nyou can also create an intent by simply calling\r\n\r\n    setContentIntent(controller.getSessionActivity())\r\n\r\nafter calling setSessionActivity, where controller is your MediaSessionController.","title":"Notification always creates new activity instead of resuming previous activity","body":"<p>I've solved the problem. I needed to call the setSessionActivity() method on my media session, like so:</p>\n\n<pre><code>Intent intent = new Intent(context, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, MediaPlayerContract.REQUEST_CODE,\n                intent, PendingIntent.FLAG_UPDATE_CURRENT);\nmediaSessionCompat.setSessionActivity(pendingIntent);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>you can also create an intent by simply calling</p>\n\n<pre><code>setContentIntent(controller.getSessionActivity())\n</code></pre>\n\n<p>after calling setSessionActivity, where controller is your MediaSessionController.</p>\n"},{"tags":[],"owner":{"account_id":16291509,"reputation":1683,"user_id":11764886,"display_name":"Waldmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648185982,"creation_date":1648185632,"answer_id":71612493,"question_id":52249563,"body_markdown":"In my case the problem has been caused by `TaskStackBuilder`. Solved by creating a pending intent via `PendingIntent.getActivity()`.  \r\nSo the way to go is:  \r\n**1.** Set a proper `launchMode` for activity (Single top e.g.)  \r\n**2.** call `MediaSession.setSessionActivity(pendingIntent)` before `build()` in `onCreate()` of your service.  \r\n**3.** Create a pending intent using `PendingIntent.getActivity()` instead of `TaskStackBuilder`. If this one did the trick, seek the problem deeper in `TaskStackBuilder`(if you really need to use it)","title":"Notification always creates new activity instead of resuming previous activity","body":"<p>In my case the problem has been caused by <code>TaskStackBuilder</code>. Solved by creating a pending intent via <code>PendingIntent.getActivity()</code>.<br />\nSo the way to go is:<br />\n<strong>1.</strong> Set a proper <code>launchMode</code> for activity (Single top e.g.)<br />\n<strong>2.</strong> call <code>MediaSession.setSessionActivity(pendingIntent)</code> before <code>build()</code> in <code>onCreate()</code> of your service.<br />\n<strong>3.</strong> Create a pending intent using <code>PendingIntent.getActivity()</code> instead of <code>TaskStackBuilder</code>. If this one did the trick, seek the problem deeper in <code>TaskStackBuilder</code>(if you really need to use it)</p>\n"}],"owner":{"account_id":14261656,"reputation":83,"user_id":10302219,"display_name":"JonDal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52267795,"answer_count":4,"score":2,"last_activity_date":1662840423,"creation_date":1536537491,"question_id":52249563,"body_markdown":"I&#39;m making a music app which displays a notification while audio is playing. When clicked, this notification opens the main (UI) activity through an intent.\r\n\r\nWhile this should be a pretty simple process, for some reason no matter what I do the main activity is always destroyed when the notification is pressed. I&#39;ve tried singleTop, singleTask (both as intent flags and manifest values), saving instance state bundles, onNewIntent, basically anything close to a solution I can find. But the activity is ALWAYS destroyed. I can only get the intent through getIntent.\r\n\r\nMain Activity: https://pastebin.com/32uuK33E\r\n\r\nAudio Service: https://pastebin.com/ShiUfBMc\r\n\r\nManifest: https://pastebin.com/kPp7RSYK\r\n\r\n---\r\n\r\nsince &quot;links to pastebin must be accompanied by code&quot; \r\n\r\n**here&#39;s the intent** (i&#39;ve tried every combination of relevant flags so I really doubt that&#39;s the issue)\r\n\r\n    // creates an intent which opens the application when the notification is pressed\r\n            private PendingIntent getPendingIntent(Context context) {\r\n                Intent intent = getIntent(this);\r\n                TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\r\n                stackBuilder.addNextIntent(intent);\r\n                return stackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n    \r\n            // returns an intent which resumes the Main Activity and passes various song information\r\n            private Intent getIntent(Context context) {\r\n                int duration = player != null ? player.getDuration() : 0;\r\n                boolean playing = player != null &amp;&amp; player.isPlaying();\r\n    \r\n                Intent intent = new Intent(this, MainActivity.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n                intent.putExtra(MediaPlayerContract.INTENT_EXTRA_SONG_INFO, getSongInfo());\r\n                intent.putExtra(MediaPlayerContract.INTENT_EXTRA_POS, currentQueuePos);\r\n                intent.putExtra(MediaPlayerContract.INTENT_EXTRA_DURATION, duration);\r\n                intent.putExtra(MediaPlayerContract.INTENT_EXTRA_IS_PLAYING, playing);\r\n                return intent;\r\n            }\r\n\r\n**and here&#39;s where i&#39;m trying to read the data**\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        Log.e(LOG_TAG, &quot;flag got intent&quot;);\r\n        String[] info = intent.getStringArrayExtra(MediaPlayerContract.INTENT_EXTRA_SONG_INFO);\r\n        int pos = intent.getIntExtra(MediaPlayerContract.INTENT_EXTRA_POS, 0);\r\n        int duration = intent.getIntExtra(MediaPlayerContract.INTENT_EXTRA_DURATION, 0);\r\n        unpackageSongInfo(info);\r\n        currentQueuePos = pos;\r\n        seekBar.setMax(duration);\r\n        setIntent(intent);\r\n    }\r\n\r\n","title":"Notification always creates new activity instead of resuming previous activity","body":"<p>I'm making a music app which displays a notification while audio is playing. When clicked, this notification opens the main (UI) activity through an intent.</p>\n\n<p>While this should be a pretty simple process, for some reason no matter what I do the main activity is always destroyed when the notification is pressed. I've tried singleTop, singleTask (both as intent flags and manifest values), saving instance state bundles, onNewIntent, basically anything close to a solution I can find. But the activity is ALWAYS destroyed. I can only get the intent through getIntent.</p>\n\n<p>Main Activity: <a href=\"https://pastebin.com/32uuK33E\" rel=\"nofollow noreferrer\">https://pastebin.com/32uuK33E</a></p>\n\n<p>Audio Service: <a href=\"https://pastebin.com/ShiUfBMc\" rel=\"nofollow noreferrer\">https://pastebin.com/ShiUfBMc</a></p>\n\n<p>Manifest: <a href=\"https://pastebin.com/kPp7RSYK\" rel=\"nofollow noreferrer\">https://pastebin.com/kPp7RSYK</a></p>\n\n<hr>\n\n<p>since \"links to pastebin must be accompanied by code\" </p>\n\n<p><strong>here's the intent</strong> (i've tried every combination of relevant flags so I really doubt that's the issue)</p>\n\n<pre><code>// creates an intent which opens the application when the notification is pressed\n        private PendingIntent getPendingIntent(Context context) {\n            Intent intent = getIntent(this);\n            TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\n            stackBuilder.addNextIntent(intent);\n            return stackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n\n        // returns an intent which resumes the Main Activity and passes various song information\n        private Intent getIntent(Context context) {\n            int duration = player != null ? player.getDuration() : 0;\n            boolean playing = player != null &amp;&amp; player.isPlaying();\n\n            Intent intent = new Intent(this, MainActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n            intent.putExtra(MediaPlayerContract.INTENT_EXTRA_SONG_INFO, getSongInfo());\n            intent.putExtra(MediaPlayerContract.INTENT_EXTRA_POS, currentQueuePos);\n            intent.putExtra(MediaPlayerContract.INTENT_EXTRA_DURATION, duration);\n            intent.putExtra(MediaPlayerContract.INTENT_EXTRA_IS_PLAYING, playing);\n            return intent;\n        }\n</code></pre>\n\n<p><strong>and here's where i'm trying to read the data</strong></p>\n\n<pre><code>@Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    Log.e(LOG_TAG, \"flag got intent\");\n    String[] info = intent.getStringArrayExtra(MediaPlayerContract.INTENT_EXTRA_SONG_INFO);\n    int pos = intent.getIntExtra(MediaPlayerContract.INTENT_EXTRA_POS, 0);\n    int duration = intent.getIntExtra(MediaPlayerContract.INTENT_EXTRA_DURATION, 0);\n    unpackageSongInfo(info);\n    currentQueuePos = pos;\n    seekBar.setMax(duration);\n    setIntent(intent);\n}\n</code></pre>\n"},{"tags":["java","docker","jdbc","informix","dbeaver"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1621111607,"post_id":67550979,"comment_id":119398582,"body_markdown":"Documentation appears to be [here](https://github.com/informix/informix-dockerhub-readme/blob/master/12.10.FC12/informix-developer-database.md).","body":"Documentation appears to be <a href=\"https://github.com/informix/informix-dockerhub-readme/blob/master/12.10.FC12/informix-developer-database.md\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1621112036,"post_id":67550979,"comment_id":119398671,"body_markdown":"What port did you expose from your docker container when you started it? Also, what OS are you running this on?","body":"What port did you expose from your docker container when you started it? Also, what OS are you running this on?"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1621112943,"post_id":67550979,"comment_id":119398884,"body_markdown":"I use this command to start it  docker run -it --name ifx -h ifx --privileged -p 9089088 -p 9089:9089 -p 27017:27017 -p 27018:27018 -p 27883:27883 -e LICENSE=accept ibmcom/informix-developer-database:latest","body":"I use this command to start it  docker run -it --name ifx -h ifx --privileged -p 9089088 -p 9089:9089 -p 27017:27017 -p 27018:27018 -p 27883:27883 -e LICENSE=accept ibmcom/informix-developer-database:latest"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1621112984,"post_id":67550979,"comment_id":119398895,"body_markdown":"running docker on Mac OS","body":"running docker on Mac OS"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1621113105,"post_id":67550979,"comment_id":119398920,"body_markdown":"@ElliottFrisch yeah but they don&#39;t provide any JDBC url.","body":"@ElliottFrisch yeah but they don&#39;t provide any JDBC url."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1621118521,"post_id":67550979,"comment_id":119400044,"body_markdown":"Try `INFORMIXSERVER=informix` instead of `INFORMIXSERVER=ifx`, That works for me. If it works for you, I&#39;ll provide more details on how I determined that.","body":"Try <code>INFORMIXSERVER=informix</code> instead of <code>INFORMIXSERVER=ifx</code>, That works for me. If it works for you, I&#39;ll provide more details on how I determined that."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1621119973,"post_id":67550979,"comment_id":119400248,"body_markdown":"@andrewjames Awesome! That does work!  You should post it as an answer and I&#39;ll give you the credit. Thanks!","body":"@andrewjames Awesome! That does work!  You should post it as an answer and I&#39;ll give you the credit. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621121983,"creation_date":1621121983,"answer_id":67552074,"question_id":67550979,"body_markdown":"You can use the following JDBC URL string:\r\n\r\n    jdbc:informix-sqli://localhost:9088/sysmaster:INFORMIXSERVER=informix\r\n\r\nYou can check the correct value to use for the `INFORMIXSERVER` parameter as follows:\r\n\r\n1) Connect to your Docker instance as follows:\r\n\r\n```\r\ndocker exec -it ifx bash\r\n```\r\n\r\n2) At the command line, check the contents of the `sqlhosts` file:\r\n\r\n```\r\ncat $INFORMIXDIR/etc/sqlhosts\r\n```\r\nYou will see something similar to this (assuming a vanilla Docker installation):\r\n\r\n```\r\n############################################################\r\n### DO NOT MODIFY THIS COMMENT SECTION\r\n### HOST NAME = 6b4943a932ab\r\n############################################################\r\ninformix        onsoctcp        *6b4943a932ab         9088\r\ninformix_dr     drsoctcp        *6b4943a932ab         9089\r\n```\r\n\r\nThe entry for port 9088 has the name `informix`.","title":"Trying to connect to IBM&#39;s Informix docker edition with JDBC","body":"<p>You can use the following JDBC URL string:</p>\n<pre><code>jdbc:informix-sqli://localhost:9088/sysmaster:INFORMIXSERVER=informix\n</code></pre>\n<p>You can check the correct value to use for the <code>INFORMIXSERVER</code> parameter as follows:</p>\n<ol>\n<li>Connect to your Docker instance as follows:</li>\n</ol>\n<pre><code>docker exec -it ifx bash\n</code></pre>\n<ol start=\"2\">\n<li>At the command line, check the contents of the <code>sqlhosts</code> file:</li>\n</ol>\n<pre><code>cat $INFORMIXDIR/etc/sqlhosts\n</code></pre>\n<p>You will see something similar to this (assuming a vanilla Docker installation):</p>\n<pre><code>############################################################\n### DO NOT MODIFY THIS COMMENT SECTION\n### HOST NAME = 6b4943a932ab\n############################################################\ninformix        onsoctcp        *6b4943a932ab         9088\ninformix_dr     drsoctcp        *6b4943a932ab         9089\n</code></pre>\n<p>The entry for port 9088 has the name <code>informix</code>.</p>\n"},{"tags":[],"owner":{"account_id":11367635,"reputation":683,"user_id":8334122,"display_name":"Brian Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621343850,"creation_date":1621343850,"answer_id":67587043,"question_id":67550979,"body_markdown":"`INFORMIXSERVER=informix` is not required unless you are trying to look up stuff from a SQLHOST file using JDBC. As long as you have a host:post, you can omit INFORMIXSERVER altogether and using a 4.10.JC6 or higher JDBC driver.\r\n\r\nThis saves you the trouble of knowing the name of each Informix server","title":"Trying to connect to IBM&#39;s Informix docker edition with JDBC","body":"<p><code>INFORMIXSERVER=informix</code> is not required unless you are trying to look up stuff from a SQLHOST file using JDBC. As long as you have a host:post, you can omit INFORMIXSERVER altogether and using a 4.10.JC6 or higher JDBC driver.</p>\n<p>This saves you the trouble of knowing the name of each Informix server</p>\n"}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67552074,"answer_count":2,"score":1,"last_activity_date":1662840231,"creation_date":1621110830,"question_id":67550979,"body_markdown":"I&#39;m trying to write some Java tests for Informix. I have the docker running from here:\r\n\r\nhttps://hub.docker.com/r/ibmcom/informix-developer-database/\r\n\r\nI cannot find any example of the JDBC connection string to use to connect to it.\r\n\r\n\r\nI used this to run it:  docker run -it --name ifx -h ifx --privileged -p 9089088 -p 9089:9089 -p 27017:27017 -p 27018:27018 -p 27883:27883 -e LICENSE=accept ibmcom/informix-developer-database:latest\r\n\r\n\r\nI&#39;m trying this jdbc:informix-sqli://localhost:9088/sysmaster:INFORMIXSERVER=ifx with their default username and password but I&#39;m getting &quot;INFORMIXSERVER does not match either DBSERVERNAME or DBSERVERALIASES.&quot;\r\n\r\nI also tried with INFORMIXSERVER=dev - same error.\r\n\r\nAnyone know what the jdbc url would be for this docker image?\r\n\r\n\r\n\r\n","title":"Trying to connect to IBM&#39;s Informix docker edition with JDBC","body":"<p>I'm trying to write some Java tests for Informix. I have the docker running from here:</p>\n<p><a href=\"https://hub.docker.com/r/ibmcom/informix-developer-database/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/ibmcom/informix-developer-database/</a></p>\n<p>I cannot find any example of the JDBC connection string to use to connect to it.</p>\n<p>I used this to run it:  docker run -it --name ifx -h ifx --privileged -p 9089088 -p 9089:9089 -p 27017:27017 -p 27018:27018 -p 27883:27883 -e LICENSE=accept ibmcom/informix-developer-database:latest</p>\n<p>I'm trying this jdbc:informix-sqli://localhost:9088/sysmaster:INFORMIXSERVER=ifx with their default username and password but I'm getting &quot;INFORMIXSERVER does not match either DBSERVERNAME or DBSERVERALIASES.&quot;</p>\n<p>I also tried with INFORMIXSERVER=dev - same error.</p>\n<p>Anyone know what the jdbc url would be for this docker image?</p>\n"},{"tags":["java","performance","hash","out-of-memory","slowdown"],"comments":[{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1662838975,"post_id":73674681,"comment_id":130100475,"body_markdown":"Bcrypt is not appropriate for hashing large files, it&#39;s not meant for that. Why are you using Bcrypt?","body":"Bcrypt is not appropriate for hashing large files, it&#39;s not meant for that. Why are you using Bcrypt?"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":3,"creation_date":1662839028,"post_id":73674681,"comment_id":130100481,"body_markdown":"Bcrypt is designed for password hashing. It is intentionally very, very slow, in order to slow down cracking attempts. It&#39;s not suitable for file hashing, especially not 5GB worth.","body":"Bcrypt is designed for password hashing. It is intentionally very, very slow, in order to slow down cracking attempts. It&#39;s not suitable for file hashing, especially not 5GB worth."},{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":1,"creation_date":1662839045,"post_id":73674681,"comment_id":130100486,"body_markdown":"Why do you use bcrypt? It is purposely built to be slow. Sha2 would probably be a better choice.","body":"Why do you use bcrypt? It is purposely built to be slow. Sha2 would probably be a better choice."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662839062,"post_id":73674681,"comment_id":130100489,"body_markdown":"First sentence [at Wikipedia](https://en.wikipedia.org/wiki/Bcrypt): *bcrypt is a password-hashing function*","body":"First sentence <a href=\"https://en.wikipedia.org/wiki/Bcrypt\" rel=\"nofollow noreferrer\">at Wikipedia</a>: <i>bcrypt is a password-hashing function</i>"},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1662839452,"post_id":73674681,"comment_id":130100556,"body_markdown":"@PresidentJamesK.Polk , JohnKugelman , BasilBourque Dear all, I completely aware of that, this is an experimental project. I would like to simply try to speed it up as much as possible. (I dont want to decrease iterations of the algorithm or anything) I want to implement in a program similar to Quickhash)","body":"@PresidentJamesK.Polk , JohnKugelman , BasilBourque Dear all, I completely aware of that, this is an experimental project. I would like to simply try to speed it up as much as possible. (I dont want to decrease iterations of the algorithm or anything) I want to implement in a program similar to Quickhash)"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1662840279,"post_id":73674681,"comment_id":130100678,"body_markdown":"What is the purpose of your experiment? I don&#39;t see the sense in trying to make bcrypt work fast on large files. That&#39;s not what it&#39;s used for. It would make more sense if you wanted bcrypt to run faster when feeding it passwords, or if you fed your large files to a different hashing algorithm like SHA-2 or SHA-3.","body":"What is the purpose of your experiment? I don&#39;t see the sense in trying to make bcrypt work fast on large files. That&#39;s not what it&#39;s used for. It would make more sense if you wanted bcrypt to run faster when feeding it passwords, or if you fed your large files to a different hashing algorithm like SHA-2 or SHA-3."}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662839024,"creation_date":1662838458,"question_id":73674681,"body_markdown":"I have a very simple code, which is designed to avoid OutOfMemory exceptions. To this reason, the file is streamed and chunks are created, each chunk is hashed, and the final hash is generated from these (this called a Hash tree: https://en.wikipedia.org/wiki/Hash_list). \r\n\r\nMy questions are the following: \r\n\r\n- Hashing with [bcrypt][1] takes very long time (246sec for a 5GB file), I&#39;m not sure it is a real problem (or is it normal?), but I consider the time very-very long. (will it freeze the program?) \r\n- Also, is it possible to speed it up? I planning to parallelize hashing each list elements, it is a good approach? Should I do it?\r\n\r\nThe code sample is using a 5GB test file downloaded from: https://testfiledownload.com/\r\n\r\nMy code is the following:\r\n\r\n    package main;\r\n    \r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.util.StopWatch;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            // Sample test file downloaded from: https://testfiledownload.com/\r\n            StopWatch sw = new StopWatch();\r\n            sw.start();\r\n            String h_text = encryptor(iparser(&quot;C:\\\\Users\\\\Thend\\\\Desktop\\\\test_5gb\\\\5gb.test&quot;));\r\n            sw.stop();\r\n            System.out.println(&quot; Hash: &quot;+h_text+&quot; | Execution time: &quot;+String.format(&quot;%.5f&quot;, sw.getTotalTimeMillis() / 1000.0f)+&quot;sec&quot;);\r\n    \r\n        }\r\n    \r\n    \r\n        public static List&lt;byte[]&gt; iparser (String file) throws IOException {\r\n    \r\n            List&lt;byte[]&gt; temp = new ArrayList&lt;&gt;();\r\n            if (Files.size(Path.of(file)) &gt; 104857600) { // 100 MB = 104857600 Bytes (in binary)\r\n    \r\n                    // Add chunk by chunk\r\n                try (FileInputStream fis = new FileInputStream(file)) {\r\n                    byte[] buffer = new byte[10485760]; //  10 MB chunk\r\n                    int len;\r\n                    while ((len = fis.read(buffer)) &gt; 0) {\r\n                        temp.add(buffer);\r\n                    }\r\n                    return temp;\r\n                }\r\n    \r\n            } else {\r\n    \r\n                // Add whole\r\n                try (FileInputStream fis = new FileInputStream(file)) {\r\n                    byte[] buffer = new byte[(int) file.length()]; //  Add whole\r\n                    int len;\r\n                    while ((len = fis.read(buffer)) &gt; 0) {\r\n                        temp.add(buffer);\r\n                    }\r\n                    return temp;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static String encryptor(List&lt;byte[]&gt; list) {\r\n    \r\n            BCryptPasswordEncoder bcpe = new BCryptPasswordEncoder();\r\n            ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n    \r\n            if (list.size() &gt; 1) {\r\n    \r\n                // If there is more than one element in the list\r\n                list.forEach((n) -&gt; {\r\n                    //String tohash = new String(n, StandardCharsets.UTF_8);\r\n                    String tohash = new String(n);\r\n                    String hashedByteArray = bcpe.encode(tohash);\r\n                    temp.add((hashedByteArray.split(Pattern.quote(&quot;$&quot;))[3]).substring(22));\r\n    \r\n                });\r\n                return bcpe.encode(String.join(&quot;&quot;, temp));\r\n    \r\n            } else {\r\n    \r\n                // If there is only one element in the list\r\n                return bcpe.encode(String.join(&quot;&quot;, temp));\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nThe console output:\r\n\r\n    Hash: $2a$10$60BSOrudT4BT3RC4dqcooupGd6fmg0/LU0RLGhBTSLvbZgypGuyBq | Execution time: 246,88400sec\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bcrypt","title":"Large file (5 GB) hashing with bcrypt takes long time (246sec, ~4 minutes)","body":"<p>I have a very simple code, which is designed to avoid OutOfMemory exceptions. To this reason, the file is streamed and chunks are created, each chunk is hashed, and the final hash is generated from these (this called a Hash tree: <a href=\"https://en.wikipedia.org/wiki/Hash_list\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hash_list</a>).</p>\n<p>My questions are the following:</p>\n<ul>\n<li>Hashing with <a href=\"https://en.wikipedia.org/wiki/Bcrypt\" rel=\"nofollow noreferrer\">bcrypt</a> takes very long time (246sec for a 5GB file), I'm not sure it is a real problem (or is it normal?), but I consider the time very-very long. (will it freeze the program?)</li>\n<li>Also, is it possible to speed it up? I planning to parallelize hashing each list elements, it is a good approach? Should I do it?</li>\n</ul>\n<p>The code sample is using a 5GB test file downloaded from: <a href=\"https://testfiledownload.com/\" rel=\"nofollow noreferrer\">https://testfiledownload.com/</a></p>\n<p>My code is the following:</p>\n<pre><code>package main;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.util.StopWatch;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Pattern;\n\npublic class Test {\n\n    public static void main(String[] args) throws IOException {\n\n        // Sample test file downloaded from: https://testfiledownload.com/\n        StopWatch sw = new StopWatch();\n        sw.start();\n        String h_text = encryptor(iparser(&quot;C:\\\\Users\\\\Thend\\\\Desktop\\\\test_5gb\\\\5gb.test&quot;));\n        sw.stop();\n        System.out.println(&quot; Hash: &quot;+h_text+&quot; | Execution time: &quot;+String.format(&quot;%.5f&quot;, sw.getTotalTimeMillis() / 1000.0f)+&quot;sec&quot;);\n\n    }\n\n\n    public static List&lt;byte[]&gt; iparser (String file) throws IOException {\n\n        List&lt;byte[]&gt; temp = new ArrayList&lt;&gt;();\n        if (Files.size(Path.of(file)) &gt; 104857600) { // 100 MB = 104857600 Bytes (in binary)\n\n                // Add chunk by chunk\n            try (FileInputStream fis = new FileInputStream(file)) {\n                byte[] buffer = new byte[10485760]; //  10 MB chunk\n                int len;\n                while ((len = fis.read(buffer)) &gt; 0) {\n                    temp.add(buffer);\n                }\n                return temp;\n            }\n\n        } else {\n\n            // Add whole\n            try (FileInputStream fis = new FileInputStream(file)) {\n                byte[] buffer = new byte[(int) file.length()]; //  Add whole\n                int len;\n                while ((len = fis.read(buffer)) &gt; 0) {\n                    temp.add(buffer);\n                }\n                return temp;\n            }\n        }\n    }\n\n    public static String encryptor(List&lt;byte[]&gt; list) {\n\n        BCryptPasswordEncoder bcpe = new BCryptPasswordEncoder();\n        ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\n\n        if (list.size() &gt; 1) {\n\n            // If there is more than one element in the list\n            list.forEach((n) -&gt; {\n                //String tohash = new String(n, StandardCharsets.UTF_8);\n                String tohash = new String(n);\n                String hashedByteArray = bcpe.encode(tohash);\n                temp.add((hashedByteArray.split(Pattern.quote(&quot;$&quot;))[3]).substring(22));\n\n            });\n            return bcpe.encode(String.join(&quot;&quot;, temp));\n\n        } else {\n\n            // If there is only one element in the list\n            return bcpe.encode(String.join(&quot;&quot;, temp));\n\n        }\n    }\n}\n</code></pre>\n<p>The console output:</p>\n<pre><code>Hash: $2a$10$60BSOrudT4BT3RC4dqcooupGd6fmg0/LU0RLGhBTSLvbZgypGuyBq | Execution time: 246,88400sec\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","jvm","compiler-optimization","jit","final"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":4,"creation_date":1662864032,"post_id":73674429,"comment_id":130103638,"body_markdown":"Declaring the variable as final won&#39;t a make difference because the compiler can clearly see for itself that it&#39;s not modified. I think what you&#39;re asking for is known as &quot;partial evaluation&quot;. If the caller provided a filter which is a constant, then would a new version of the filter method be generated which is stripped down and inlined? I doubt it, unless the filter method itself is small enough to be inlined regardless. GraalVM has support for partial evaluation, but it might only be part of the Truffle framework.","body":"Declaring the variable as final won&#39;t a make difference because the compiler can clearly see for itself that it&#39;s not modified. I think what you&#39;re asking for is known as &quot;partial evaluation&quot;. If the caller provided a filter which is a constant, then would a new version of the filter method be generated which is stripped down and inlined? I doubt it, unless the filter method itself is small enough to be inlined regardless. GraalVM has support for partial evaluation, but it might only be part of the Truffle framework."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1662971884,"post_id":73674429,"comment_id":130120887,"body_markdown":"Letting debug information aside, there is no information in bytecode, whether a local variable is final or not. As boneill correctly said, it’s the JIT compiler’s duty to find out whether a local variable is modified or not. In the end, the optimizer *can* speculatively optimize for a single branch if the code always takes this one branch, even if the variable might change.","body":"Letting debug information aside, there is no information in bytecode, whether a local variable is final or not. As boneill correctly said, it’s the JIT compiler’s duty to find out whether a local variable is modified or not. In the end, the optimizer <i>can</i> speculatively optimize for a single branch if the code always takes this one branch, even if the variable might change."},{"owner":{"account_id":14683933,"reputation":95,"user_id":13145970,"display_name":"Nekoseri"},"score":0,"creation_date":1663225153,"post_id":73674429,"comment_id":130189812,"body_markdown":"@Holger That&#39;s the answer I was looking for, thank you.","body":"@Holger That&#39;s the answer I was looking for, thank you."}],"owner":{"account_id":14683933,"reputation":95,"user_id":13145970,"display_name":"Nekoseri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662838881,"creation_date":1662835739,"question_id":73674429,"body_markdown":"Assume this demo piece of code:\r\n```java\r\npublic List&lt;SomeObject&gt; filter(List&lt;SomeObject&gt; objects, final EnumFilterType filter) {\r\n  ArrayList&lt;SomeObject&gt; output = new ArrayList&lt;SomeObject&gt;();\r\n  for (SomeObject subject : objects) {\r\n    switch (filter) {\r\n      /* whatever here */\r\n    }\r\n  }\r\n  return output;\r\n}\r\n```\r\nHere, `filter` is a final variable, which means it cannot be changed during code execution, which, in a perfect scenario, would let JIT perform more runtime optimizations, such as not generating the entire jump table and only generating the specific case matching the `filter` value. Does JIT perform such optimizations? If not, is there any reasoning behind that?\r\n\r\nAs a side note, the **bytecode** control flow isn&#39;t changed after being compiled(using JDT Core).","title":"Does Java JIT compiler treat switch-over-final statements differently?","body":"<p>Assume this demo piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;SomeObject&gt; filter(List&lt;SomeObject&gt; objects, final EnumFilterType filter) {\n  ArrayList&lt;SomeObject&gt; output = new ArrayList&lt;SomeObject&gt;();\n  for (SomeObject subject : objects) {\n    switch (filter) {\n      /* whatever here */\n    }\n  }\n  return output;\n}\n</code></pre>\n<p>Here, <code>filter</code> is a final variable, which means it cannot be changed during code execution, which, in a perfect scenario, would let JIT perform more runtime optimizations, such as not generating the entire jump table and only generating the specific case matching the <code>filter</code> value. Does JIT perform such optimizations? If not, is there any reasoning behind that?</p>\n<p>As a side note, the <strong>bytecode</strong> control flow isn't changed after being compiled(using JDT Core).</p>\n"},{"tags":["java","scala","trino"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662837855,"creation_date":1662837855,"answer_id":73674617,"question_id":73674193,"body_markdown":"_Disclaimer: I&#39;m not familiar at all with Trino UDF_\r\n\r\nAccording to the examples you can find in Trino repository, the type to use for a `SqlType(&quot;map(X,y)&quot;)` is `io.trino.spi.block.Block`.\r\n\r\nThe `Block` can then be manipulated to extract its content as if it were a regular `Map`.\r\n\r\nSee for instance: https://github.com/trinodb/trino/blob/master/core/trino-main/src/main/java/io/trino/operator/scalar/MathFunctions.java#L1340\r\n\r\n\r\n","title":"Trino UDF Plugin: Which is the corresponding Java type to map(string,string)","body":"<p><em>Disclaimer: I'm not familiar at all with Trino UDF</em></p>\n<p>According to the examples you can find in Trino repository, the type to use for a <code>SqlType(&quot;map(X,y)&quot;)</code> is <code>io.trino.spi.block.Block</code>.</p>\n<p>The <code>Block</code> can then be manipulated to extract its content as if it were a regular <code>Map</code>.</p>\n<p>See for instance: <a href=\"https://github.com/trinodb/trino/blob/master/core/trino-main/src/main/java/io/trino/operator/scalar/MathFunctions.java#L1340\" rel=\"nofollow noreferrer\">https://github.com/trinodb/trino/blob/master/core/trino-main/src/main/java/io/trino/operator/scalar/MathFunctions.java#L1340</a></p>\n"}],"owner":{"account_id":3068709,"reputation":558,"user_id":2599861,"accept_rate":33,"display_name":"Andr&#233; Claudino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73674617,"answer_count":1,"score":0,"last_activity_date":1662837855,"creation_date":1662833694,"question_id":73674193,"body_markdown":"I am creating a plugin to host an UDF, it is an http_get function, receiving the `httpAddress` path, the query `parameters` and the request `headers`. It is implemeted in scala:\r\n\r\n```SCALA\r\n  @ScalarFunction(value = &quot;http_get&quot;, deterministic = true)\r\n  @Description(&quot;Returns the result of an Http Get request&quot;)\r\n  @SqlType(value = StandardTypes.VARCHAR)\r\n  def httpGetFromArrayMap(\r\n                           @SqlType(StandardTypes.VARCHAR) httpAddress: Slice,\r\n                           @SqlType(constants.STRING_MAP) parameters: ImmutableMap[Slice, Slice],\r\n                           @SqlNullable @SqlType(constants.STRING_MAP) headers: ImmutableMap[Slice, Slice],\r\n                         ): String = {\r\n\r\n    val stringHeaders = castSliceMap(headers)\r\n    val stringParams = castSliceMap(parameters)\r\n    val request = Http(httpAddress.toStringUtf8).headers(stringHeaders).params(stringParams)\r\n    val stringResponse = request.asString.body\r\n    stringResponse\r\n  }\r\n```\r\n\r\nWhen running on trino, it raises the following exception:\r\n\r\n```\r\nio.trino.spi.TrinoException: Exact implementation of http_get do not match expected java types.\r\n```\r\n\r\nThe problem is: What is the corresponding java type to `map(varchar,varchar)`?\r\n\r\nI&#39;ve tried Many:\r\n\r\n* Scala Map[String, String]\r\n* Java Map&lt;String, String&gt;\r\n* Java Map&lt;Slice, Slice&gt;\r\n* ImmutableMap&lt;String, String&gt;\r\n* ImmutableMap&lt;Slice, Slice&gt;\r\n\r\nCan&#39;t find any example of plugin implementing a function which receives a map.\r\n\r\nAny help is appreciated. Thanks","title":"Trino UDF Plugin: Which is the corresponding Java type to map(string,string)","body":"<p>I am creating a plugin to host an UDF, it is an http_get function, receiving the <code>httpAddress</code> path, the query <code>parameters</code> and the request <code>headers</code>. It is implemeted in scala:</p>\n<pre><code>  @ScalarFunction(value = &quot;http_get&quot;, deterministic = true)\n  @Description(&quot;Returns the result of an Http Get request&quot;)\n  @SqlType(value = StandardTypes.VARCHAR)\n  def httpGetFromArrayMap(\n                           @SqlType(StandardTypes.VARCHAR) httpAddress: Slice,\n                           @SqlType(constants.STRING_MAP) parameters: ImmutableMap[Slice, Slice],\n                           @SqlNullable @SqlType(constants.STRING_MAP) headers: ImmutableMap[Slice, Slice],\n                         ): String = {\n\n    val stringHeaders = castSliceMap(headers)\n    val stringParams = castSliceMap(parameters)\n    val request = Http(httpAddress.toStringUtf8).headers(stringHeaders).params(stringParams)\n    val stringResponse = request.asString.body\n    stringResponse\n  }\n</code></pre>\n<p>When running on trino, it raises the following exception:</p>\n<pre><code>io.trino.spi.TrinoException: Exact implementation of http_get do not match expected java types.\n</code></pre>\n<p>The problem is: What is the corresponding java type to <code>map(varchar,varchar)</code>?</p>\n<p>I've tried Many:</p>\n<ul>\n<li>Scala Map[String, String]</li>\n<li>Java Map&lt;String, String&gt;</li>\n<li>Java Map&lt;Slice, Slice&gt;</li>\n<li>ImmutableMap&lt;String, String&gt;</li>\n<li>ImmutableMap&lt;Slice, Slice&gt;</li>\n</ul>\n<p>Can't find any example of plugin implementing a function which receives a map.</p>\n<p>Any help is appreciated. Thanks</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1606478161,"creation_date":1606478161,"answer_id":65036962,"question_id":65036260,"body_markdown":"You want to execute `doOtherOperations();` freely in parallel, so this should not be in any (effective) `synchronized` block.\r\n\r\nBut you want `doSomeDBOperationForOrg();` to happen once per organization. As you deal with multiple threads, requirements like &quot;once per xyz&quot; need some sort of synchronization.\r\n\r\nAnd you don&#39;t want users to wait for initialization of an organization they don&#39;t belong to.\r\n\r\nSuggestions:\r\n\r\nIf you have a class (let&#39;s call it `Organization`) representing the organizations (in the sense that one organization is mapped 1:1 to exactly one instance, without duplicate instances for the same organization), then you can make `doSomeDBOperationForOrg();` a synchronized instance method of the `Organization` class, and have this method check whether the initialization is necessary. Then `doSomething()` is quite simple:\r\n\r\n    public void doSomething() {\r\n        organization.doSomeDBOperationForOrg();\r\n        doOtherOperations();\r\n    }\r\n\r\nOr, closer to you current structure:\r\n\r\n    public void doSomething() {\r\n        synchronized (organization) {\r\n            if(!orgUpdatedList.contains(organization)) {\r\n                doSomeDBOperationForOrg();\r\n                orgUpdatedList.add(organization);\r\n            }\r\n        }\r\n        doOtherOperations();\r\n    }\r\n\r\nBut make sure, you use a thread-safe `orgUpdatedList`, e.g. by wrapping `Collections.synchronizedXyz()` around it!\r\n\r\nBy synchronizing on the organization, you make sure that users from one organization can block one another, so that there&#39;s an orderly initialization, but aren&#39;t affected by users from other organizations.\r\n\r\nIf you don&#39;t have an appropriate `Organization` class (and can&#39;t introduce one), but only a `String`, you can synchronize on `organization.intern()`. That method has the property that all Strings with the same content result in the identical instance. It&#39;s kind of a hack, but should work.","title":"How to synchronize a code based on condition in Java","body":"<p>You want to execute <code>doOtherOperations();</code> freely in parallel, so this should not be in any (effective) <code>synchronized</code> block.</p>\n<p>But you want <code>doSomeDBOperationForOrg();</code> to happen once per organization. As you deal with multiple threads, requirements like &quot;once per xyz&quot; need some sort of synchronization.</p>\n<p>And you don't want users to wait for initialization of an organization they don't belong to.</p>\n<p>Suggestions:</p>\n<p>If you have a class (let's call it <code>Organization</code>) representing the organizations (in the sense that one organization is mapped 1:1 to exactly one instance, without duplicate instances for the same organization), then you can make <code>doSomeDBOperationForOrg();</code> a synchronized instance method of the <code>Organization</code> class, and have this method check whether the initialization is necessary. Then <code>doSomething()</code> is quite simple:</p>\n<pre><code>public void doSomething() {\n    organization.doSomeDBOperationForOrg();\n    doOtherOperations();\n}\n</code></pre>\n<p>Or, closer to you current structure:</p>\n<pre><code>public void doSomething() {\n    synchronized (organization) {\n        if(!orgUpdatedList.contains(organization)) {\n            doSomeDBOperationForOrg();\n            orgUpdatedList.add(organization);\n        }\n    }\n    doOtherOperations();\n}\n</code></pre>\n<p>But make sure, you use a thread-safe <code>orgUpdatedList</code>, e.g. by wrapping <code>Collections.synchronizedXyz()</code> around it!</p>\n<p>By synchronizing on the organization, you make sure that users from one organization can block one another, so that there's an orderly initialization, but aren't affected by users from other organizations.</p>\n<p>If you don't have an appropriate <code>Organization</code> class (and can't introduce one), but only a <code>String</code>, you can synchronize on <code>organization.intern()</code>. That method has the property that all Strings with the same content result in the identical instance. It's kind of a hack, but should work.</p>\n"},{"tags":[],"owner":{"account_id":14216969,"reputation":1,"user_id":10270583,"display_name":"Yogesh Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662837515,"creation_date":1662837515,"answer_id":73674588,"question_id":65036260,"body_markdown":"You can create a global hashmap as lock for the said key, and in actual code condition check if the value already present if yes then return or wait till that hashmap value gets cleared","title":"How to synchronize a code based on condition in Java","body":"<p>You can create a global hashmap as lock for the said key, and in actual code condition check if the value already present if yes then return or wait till that hashmap value gets cleared</p>\n"}],"owner":{"account_id":6299098,"reputation":375,"user_id":4894257,"display_name":"Rohan Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65036962,"answer_count":2,"score":0,"last_activity_date":1662837515,"creation_date":1606475001,"question_id":65036260,"body_markdown":"We have the following code to execute in Java:\r\n```\r\npublic void doSomething() {\r\n\tdoSomeDBOperationForOrg();\r\n\tdoOtherOperations();\r\n}\r\n\r\nvoid doSomeDBOperationForOrg() { \r\n\t//should be executed only once per organization.\r\n}\r\n\r\nvoid doOtherOperations() {\r\n\t//should be executed only when the DB operation for the organization is done, and not before\r\n}\r\n```\r\nThe method `doSomething` is being called at the same time by multiple users under multiple organizations. We need to execute method `doSomeDBOperationForOrg` only once per organization, and `doOtherOperations` for all the users calling the `doSomething` method, but only after `doSomeDBOperationForOrg` is complete.\r\n\r\nOne option is to have &quot;synchronized&quot; over `doSomething` and/or `doSomeDBOperationForOrg`, and maintain a list of updated orgaizations.\r\n```\r\npublic synchronized void doSomething() {\r\n\tif(!orgUpdatedList.contains(organization)) {\r\n\t\tdoSomeDBOperationForOrg();\r\n\t\torgUpdatedList.add(organization);\r\n\t}\r\n\t\r\n\tdoOtherOperations();\r\n}\r\n```\r\nBut that will block all the threads from users irrespective of their organizations. This is not desirable, when we have a huge list of users.\r\nCan someone please advise a better way to achieve this?","title":"How to synchronize a code based on condition in Java","body":"<p>We have the following code to execute in Java:</p>\n<pre><code>public void doSomething() {\n    doSomeDBOperationForOrg();\n    doOtherOperations();\n}\n\nvoid doSomeDBOperationForOrg() { \n    //should be executed only once per organization.\n}\n\nvoid doOtherOperations() {\n    //should be executed only when the DB operation for the organization is done, and not before\n}\n</code></pre>\n<p>The method <code>doSomething</code> is being called at the same time by multiple users under multiple organizations. We need to execute method <code>doSomeDBOperationForOrg</code> only once per organization, and <code>doOtherOperations</code> for all the users calling the <code>doSomething</code> method, but only after <code>doSomeDBOperationForOrg</code> is complete.</p>\n<p>One option is to have &quot;synchronized&quot; over <code>doSomething</code> and/or <code>doSomeDBOperationForOrg</code>, and maintain a list of updated orgaizations.</p>\n<pre><code>public synchronized void doSomething() {\n    if(!orgUpdatedList.contains(organization)) {\n        doSomeDBOperationForOrg();\n        orgUpdatedList.add(organization);\n    }\n    \n    doOtherOperations();\n}\n</code></pre>\n<p>But that will block all the threads from users irrespective of their organizations. This is not desirable, when we have a huge list of users.\nCan someone please advise a better way to achieve this?</p>\n"},{"tags":["java","spring","heroku","spring-boot"],"comments":[{"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"score":0,"creation_date":1449855575,"post_id":34228907,"comment_id":56202670,"body_markdown":"Are you sure your JAR&#39;s name is `myapp.jar`? Isn&#39;t something like `myapp-[version].jar`? Can you run your application locally with the same command Heroku is using (`java -Dserver.port=5000 -jar  build/libs/myapp.jar`)?","body":"Are you sure your JAR&#39;s name is <code>myapp.jar</code>? Isn&#39;t something like <code>myapp-[version].jar</code>? Can you run your application locally with the same command Heroku is using (<code>java -Dserver.port=5000 -jar  build&#47;libs&#47;myapp.jar</code>)?"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1449856315,"post_id":34228907,"comment_id":56203034,"body_markdown":"Also try running `heroku run ls build/libs` to see if the file is there on Heroku","body":"Also try running <code>heroku run ls build&#47;libs</code> to see if the file is there on Heroku"}],"answers":[{"tags":[],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1449856734,"creation_date":1449856734,"answer_id":34229717,"question_id":34228907,"body_markdown":"I eventually found a very helpful thread here: https://stackoverflow.com/questions/26389679/running-spring-app-built-with-gradle-on-heroku?rq=1\r\n\r\nWhich helped me with my problem - this thread seems to be more detail than Heroku&#39;s official guide.\r\n\r\nYou must add the following code to your build.gradle file:\r\n\r\n\r\n    task stage(type: Copy, dependsOn: [clean, build]) {\r\n        from jar.archivePath\r\n        into project.rootDir\r\n        rename {\r\n            &#39;app.jar&#39;\r\n        }\r\n    }\r\n    stage.mustRunAfter(clean)\r\n    \r\n    clean &lt;&lt; {\r\n        project.file(&#39;app.jar&#39;).delete()\r\n    }\r\n\r\n\r\nThen, point your Procfile to the app.jar:\r\n\r\n    web: java $JAVA_OPTS -jar app.jar","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>I eventually found a very helpful thread here: <a href=\"https://stackoverflow.com/questions/26389679/running-spring-app-built-with-gradle-on-heroku?rq=1\">Running Spring app built with gradle on Heroku</a></p>\n\n<p>Which helped me with my problem - this thread seems to be more detail than Heroku's official guide.</p>\n\n<p>You must add the following code to your build.gradle file:</p>\n\n<pre><code>task stage(type: Copy, dependsOn: [clean, build]) {\n    from jar.archivePath\n    into project.rootDir\n    rename {\n        'app.jar'\n    }\n}\nstage.mustRunAfter(clean)\n\nclean &lt;&lt; {\n    project.file('app.jar').delete()\n}\n</code></pre>\n\n<p>Then, point your Procfile to the app.jar:</p>\n\n<pre><code>web: java $JAVA_OPTS -jar app.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2766907,"reputation":83,"user_id":2382400,"display_name":"Sujan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461014575,"creation_date":1461014230,"answer_id":36704440,"question_id":34228907,"body_markdown":"You don&#39;t need to modify your stage task for that. \r\n\r\nIn your gradle.build file, make sure to give a name to your built artifact like this.  \r\n\r\n    jar {\r\n    \tbaseName = &#39;app&#39;\r\n    \tversion = &#39;0.0.1&#39;\r\n    }\r\n\r\nWith that been done, and the following in `Procfile`, it should just run fine.\r\n\r\n    web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/app-0.0.1.jar\r\n\r\n\r\nI found that if name is not explicitly defined, heroku seems to name the artifact something like `build-{buildNumber}.jar` and no wonder it will never find the `app.jar`.\r\n\r\nAlso, if not set already, the build pack needs to be set.\r\n\r\n    heroku config:set GRADLE_TASK=&quot;build&quot;","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>You don't need to modify your stage task for that. </p>\n\n<p>In your gradle.build file, make sure to give a name to your built artifact like this.  </p>\n\n<pre><code>jar {\n    baseName = 'app'\n    version = '0.0.1'\n}\n</code></pre>\n\n<p>With that been done, and the following in <code>Procfile</code>, it should just run fine.</p>\n\n<pre><code>web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/app-0.0.1.jar\n</code></pre>\n\n<p>I found that if name is not explicitly defined, heroku seems to name the artifact something like <code>build-{buildNumber}.jar</code> and no wonder it will never find the <code>app.jar</code>.</p>\n\n<p>Also, if not set already, the build pack needs to be set.</p>\n\n<pre><code>heroku config:set GRADLE_TASK=\"build\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8130439,"reputation":1754,"user_id":6123901,"display_name":"Anthony Drogon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513000418,"creation_date":1513000418,"answer_id":47754461,"question_id":34228907,"body_markdown":"According to the [documentation][1]:\r\n\r\n&gt; The Gradle buildpack will automatically detect the use of the Spring Boot and Ratpack web frameworks.\r\n\r\nThe `web` command should be overridden only if needed. If you&#39;re using Spring Boot, you shouldn&#39;t need to specify a `Procfile` at all.\r\n\r\nDelete it, and get your app running without further configuration.\r\n\r\n  [1]: https://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>According to the <a href=\"https://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The Gradle buildpack will automatically detect the use of the Spring Boot and Ratpack web frameworks.</p>\n</blockquote>\n\n<p>The <code>web</code> command should be overridden only if needed. If you're using Spring Boot, you shouldn't need to specify a <code>Procfile</code> at all.</p>\n\n<p>Delete it, and get your app running without further configuration.</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646168717,"creation_date":1646168717,"answer_id":71314642,"question_id":34228907,"body_markdown":"A simpler solution:\r\n\r\nI was also encountering the same error and it was a serious waste of time for me. Unlike the ones here, I solved the problem as follows.\r\n\r\nFirst of all, we need to know this.\r\n\r\n&gt; Heroku creates a new version after each build.\r\n\r\nFor this reason, if you use a command that contains a fixed version definition in the `Procfile` file like `build/libs/app-0.0.1-SNAPSHOT.jar`, it will cause an error like this.\r\n\r\n    2022-03-02T18:19:30.797673+00:00 app[web.1]: Error: Unable to access jarfile build/libs/app-0.0.1-SNAPSHOT.jar\r\n\r\nAfter the build task, `Gradle` creates 2 jars named `app-0.0.1-SNAPSHOT.jar` and `app-0.0.1-SNAPSHOT-plain.jar` under `libs/` folder. `app-0.0.1-SNAPSHOT.jar` is our application including all dependencies. So I first blocked the rendering of `app-0.0.1-SNAPSHOT-plain.jar` as below.\r\n\r\n    jar {\r\n        enabled = false\r\n    }\r\n\r\n\r\nThen I used the following wildcard definition in `Procfile` which is not affected by version changes.\r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar build/libs/*.jar\r\n\r\nThe problem can also be solved in this way.","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>A simpler solution:</p>\n<p>I was also encountering the same error and it was a serious waste of time for me. Unlike the ones here, I solved the problem as follows.</p>\n<p>First of all, we need to know this.</p>\n<blockquote>\n<p>Heroku creates a new version after each build.</p>\n</blockquote>\n<p>For this reason, if you use a command that contains a fixed version definition in the <code>Procfile</code> file like <code>build/libs/app-0.0.1-SNAPSHOT.jar</code>, it will cause an error like this.</p>\n<pre><code>2022-03-02T18:19:30.797673+00:00 app[web.1]: Error: Unable to access jarfile build/libs/app-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>After the build task, <code>Gradle</code> creates 2 jars named <code>app-0.0.1-SNAPSHOT.jar</code> and <code>app-0.0.1-SNAPSHOT-plain.jar</code> under <code>libs/</code> folder. <code>app-0.0.1-SNAPSHOT.jar</code> is our application including all dependencies. So I first blocked the rendering of <code>app-0.0.1-SNAPSHOT-plain.jar</code> as below.</p>\n<pre><code>jar {\n    enabled = false\n}\n</code></pre>\n<p>Then I used the following wildcard definition in <code>Procfile</code> which is not affected by version changes.</p>\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar build/libs/*.jar\n</code></pre>\n<p>The problem can also be solved in this way.</p>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662836010,"creation_date":1662836010,"answer_id":73674453,"question_id":34228907,"body_markdown":"For deploying Gradle App on Heroku. Just add below lines in build.gradle file.\r\n\r\n        task stage(type: Copy, dependsOn: [clean, build]) {\r\n    \tfrom jar.archivePath\r\n    \tinto project.rootDir\r\n    \trename {\r\n    \t\t&#39;app.jar&#39;\r\n    \t}\r\n    }\r\n    stage.mustRunAfter(clean)\r\n\r\nThis also in build.gradle file for running jar file.\r\n\r\n   \r\n\r\n     jar {\r\n    \texclude &#39;META-INF/*.SF&#39;, &#39;META-INF/*.DSA&#39;, &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.MF&#39;\r\n    \tmanifest {\r\n    \t\tattributes(\r\n    \t\t\t\t&#39;Main-Class&#39;: &#39;com.heroku.herokudemo.HerokuDemoApplication&#39;\r\n    \t\t)\r\n    \t}\r\n    }\r\n\r\nAfter this create a txt file named Procfile and add the following content.\r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar build/libs/heroku-demo-0.0.1-SNAPSHOT.jar\r\n\r\n","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>For deploying Gradle App on Heroku. Just add below lines in build.gradle file.</p>\n<pre><code>    task stage(type: Copy, dependsOn: [clean, build]) {\n    from jar.archivePath\n    into project.rootDir\n    rename {\n        'app.jar'\n    }\n}\nstage.mustRunAfter(clean)\n</code></pre>\n<p>This also in build.gradle file for running jar file.</p>\n<pre><code> jar {\n    exclude 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.MF'\n    manifest {\n        attributes(\n                'Main-Class': 'com.heroku.herokudemo.HerokuDemoApplication'\n        )\n    }\n}\n</code></pre>\n<p>After this create a txt file named Procfile and add the following content.</p>\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar build/libs/heroku-demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n"}],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7080,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34229717,"answer_count":5,"score":3,"last_activity_date":1662836010,"creation_date":1449853877,"question_id":34228907,"body_markdown":"I have a spring boot gradle app which I could run successfully on my PC by doing:\r\n\r\n    heroku local\r\n\r\nIt can also deploy on heroku successfully when I go:\r\n\r\n    git push heroku master\r\n\r\nThis is my result:\r\n\r\n    Counting objects: 17, done.\r\n    Delta compression using up to 4 threads.\r\n    Compressing objects: 100% (5/5), done.\r\n    Writing objects: 100% (9/9), 596 bytes | 0 bytes/s, done.\r\n    Total 9 (delta 3), reused 0 (delta 0)\r\n    remote: Compressing source files... done.\r\n    remote: Building source:\r\n    remote:\r\n    remote: -----&gt; Fetching set buildpack https://github.com/heroku/heroku-buildpack-gradle... done\r\n    \r\n    remote: -----&gt; Gradle app detected\r\n    remote: -----&gt; Installing OpenJDK 1.8... done\r\n    remote: -----&gt; Building Gradle app...\r\n    remote:        WARNING: The Gradle buildpack is currently in Beta.\r\n    remote: -----&gt; executing ./gradlew build\r\n    remote:        :compileJavaNote: Some input files use unchecked or unsafe operations.\r\n    remote:        Note: Recompile with -Xlint:unchecked for details.\r\n    remote:\r\n    remote:        :processResources\r\n    remote:        :classes\r\n    remote:        :jar\r\n    remote:        :bootRepackage\r\n    remote:        :assemble\r\n    remote:        :compileTestJava UP-TO-DATE\r\n    remote:        :processTestResources UP-TO-DATE\r\n    remote:        :testClasses UP-TO-DATE\r\n    remote:        :test UP-TO-DATE\r\n    remote:        :check UP-TO-DATE\r\n    remote:        :build\r\n    remote:\r\n    remote:        BUILD SUCCESSFUL\r\n    remote:\r\n    remote:        Total time: 11.935 secs\r\n    remote:\r\n    remote: -----&gt; Discovering process types\r\n    remote:        Procfile declares types -&gt; web\r\n    remote:\r\n    remote: -----&gt; Compressing... done, 72.3MB\r\n    remote: -----&gt; Launching... done, v9\r\n    remote:        https://myapp.herokuapp.com/ deployed to Heroku\r\n    remote:\r\n    remote: Verifying deploy... done.\r\n    To https://git.heroku.com/myapp.git\r\n       6326429..291326d  master -&gt; master\r\n\r\nBut when I try to access it on heroku, it crashes. The heroku logs says this:\r\n\r\n    2015-12-11T17:05:46.096985+00:00 heroku[api]: Deploy 291326d by xxx@gmail.com\r\n    2015-12-11T17:05:46.097021+00:00 heroku[api]: Release v9 created by xxx@gmail.com\r\n    2015-12-11T17:05:46.378258+00:00 heroku[slug-compiler]: Slug compilation started\r\n    2015-12-11T17:05:46.378269+00:00 heroku[slug-compiler]: Slug compilation finished\r\n    2015-12-11T17:05:46.755655+00:00 heroku[web.1]: State changed from crashed to starting\r\n    2015-12-11T17:05:53.121398+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=5000 -jar  build/libs/myapp.jar`\r\n    2015-12-11T17:05:54.260741+00:00 app[web.1]: Error: Unable to access jarfile build/libs/myapp.jar\r\n    2015-12-11T17:05:54.784064+00:00 heroku[web.1]: State changed from starting to crashed\r\n    2015-12-11T17:05:54.773714+00:00 heroku[web.1]: Process exited with status 1\r\n    2015-12-11T17:05:54.788248+00:00 heroku[web.1]: State changed from crashed to starting\r\n\r\nWhy is it `Unable to access jarfile build/libs/myapp.jar` ? \r\n\r\nWhen I navigate to that folder on my local PC, the jarfile is there.\r\n\r\nI&#39;m running out of ideas on how to solve this.","title":"Spring Boot Gradle app on Heroku: Unable to access jarfile","body":"<p>I have a spring boot gradle app which I could run successfully on my PC by doing:</p>\n\n<pre><code>heroku local\n</code></pre>\n\n<p>It can also deploy on heroku successfully when I go:</p>\n\n<pre><code>git push heroku master\n</code></pre>\n\n<p>This is my result:</p>\n\n<pre><code>Counting objects: 17, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (5/5), done.\nWriting objects: 100% (9/9), 596 bytes | 0 bytes/s, done.\nTotal 9 (delta 3), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote:\nremote: -----&gt; Fetching set buildpack https://github.com/heroku/heroku-buildpack-gradle... done\n\nremote: -----&gt; Gradle app detected\nremote: -----&gt; Installing OpenJDK 1.8... done\nremote: -----&gt; Building Gradle app...\nremote:        WARNING: The Gradle buildpack is currently in Beta.\nremote: -----&gt; executing ./gradlew build\nremote:        :compileJavaNote: Some input files use unchecked or unsafe operations.\nremote:        Note: Recompile with -Xlint:unchecked for details.\nremote:\nremote:        :processResources\nremote:        :classes\nremote:        :jar\nremote:        :bootRepackage\nremote:        :assemble\nremote:        :compileTestJava UP-TO-DATE\nremote:        :processTestResources UP-TO-DATE\nremote:        :testClasses UP-TO-DATE\nremote:        :test UP-TO-DATE\nremote:        :check UP-TO-DATE\nremote:        :build\nremote:\nremote:        BUILD SUCCESSFUL\nremote:\nremote:        Total time: 11.935 secs\nremote:\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; web\nremote:\nremote: -----&gt; Compressing... done, 72.3MB\nremote: -----&gt; Launching... done, v9\nremote:        https://myapp.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\nTo https://git.heroku.com/myapp.git\n   6326429..291326d  master -&gt; master\n</code></pre>\n\n<p>But when I try to access it on heroku, it crashes. The heroku logs says this:</p>\n\n<pre><code>2015-12-11T17:05:46.096985+00:00 heroku[api]: Deploy 291326d by xxx@gmail.com\n2015-12-11T17:05:46.097021+00:00 heroku[api]: Release v9 created by xxx@gmail.com\n2015-12-11T17:05:46.378258+00:00 heroku[slug-compiler]: Slug compilation started\n2015-12-11T17:05:46.378269+00:00 heroku[slug-compiler]: Slug compilation finished\n2015-12-11T17:05:46.755655+00:00 heroku[web.1]: State changed from crashed to starting\n2015-12-11T17:05:53.121398+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=5000 -jar  build/libs/myapp.jar`\n2015-12-11T17:05:54.260741+00:00 app[web.1]: Error: Unable to access jarfile build/libs/myapp.jar\n2015-12-11T17:05:54.784064+00:00 heroku[web.1]: State changed from starting to crashed\n2015-12-11T17:05:54.773714+00:00 heroku[web.1]: Process exited with status 1\n2015-12-11T17:05:54.788248+00:00 heroku[web.1]: State changed from crashed to starting\n</code></pre>\n\n<p>Why is it <code>Unable to access jarfile build/libs/myapp.jar</code> ? </p>\n\n<p>When I navigate to that folder on my local PC, the jarfile is there.</p>\n\n<p>I'm running out of ideas on how to solve this.</p>\n"},{"tags":["java","java-7","operator-precedence"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":7,"creation_date":1476630677,"post_id":40071805,"comment_id":67416947,"body_markdown":"The operators also short-circuit.","body":"The operators also short-circuit."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1476632346,"post_id":40071805,"comment_id":67417529,"body_markdown":"precedence != order of evaluation. `expr2` and `expr3` are grouped by it still evaluates left to right.","body":"precedence != order of evaluation. <code>expr2</code> and <code>expr3</code> are grouped by it still evaluates left to right."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":2,"creation_date":1476666912,"post_id":40071805,"comment_id":67427490,"body_markdown":"I find Eric Lippert&#39;s article on [Precedence vs Associativity vs Order](https://blogs.msdn.microsoft.com/ericlippert/2008/05/23/precedence-vs-associativity-vs-order/) to be a good explanation of this. It&#39;s about C#, not Java, but the important thing is the distinction between order of evaluation and operator precedence, which is equally applicable here.","body":"I find Eric Lippert&#39;s article on <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/05/23/precedence-vs-associativity-vs-order/\" rel=\"nofollow noreferrer\">Precedence vs Associativity vs Order</a> to be a good explanation of this. It&#39;s about C#, not Java, but the important thing is the distinction between order of evaluation and operator precedence, which is equally applicable here."},{"owner":{"account_id":15124417,"reputation":1714,"user_id":10969548,"display_name":"financial_physician"},"score":0,"creation_date":1670055159,"post_id":40071805,"comment_id":131787593,"body_markdown":"I know this is old but maybe you&#39;re thinking PEMDAS but in this case the || operator is evaluated before parenthesis","body":"I know this is old but maybe you&#39;re thinking PEMDAS but in this case the || operator is evaluated before parenthesis"}],"answers":[{"tags":[],"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1476630660,"creation_date":1476630660,"answer_id":40071825,"question_id":40071805,"body_markdown":"The first line prints `true` because of short-circuiting the `||` operator.\r\n\r\n`a1 &lt; a2` is true and so the rest of the boolean expression doesn&#39;t need to be evaluated and `true` is returned.\r\n\r\n&gt; expr2 should be evaluated before expr1\r\n\r\nis incorrect, as operator precedence affects the structure of the expression, rather then the evaluation order (in most cases). If you were to re-order the expression so that it was `(expr2 &amp;&amp; expr3) || expr1`, then yes, `expr2` would be evaluated before `expr1`","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p>The first line prints <code>true</code> because of short-circuiting the <code>||</code> operator.</p>\n\n<p><code>a1 &lt; a2</code> is true and so the rest of the boolean expression doesn't need to be evaluated and <code>true</code> is returned.</p>\n\n<blockquote>\n  <p>expr2 should be evaluated before expr1</p>\n</blockquote>\n\n<p>is incorrect, as operator precedence affects the structure of the expression, rather then the evaluation order (in most cases). If you were to re-order the expression so that it was <code>(expr2 &amp;&amp; expr3) || expr1</code>, then yes, <code>expr2</code> would be evaluated before <code>expr1</code></p>\n"},{"tags":[],"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1502153172,"creation_date":1476630676,"answer_id":40071830,"question_id":40071805,"body_markdown":"The expression is [short-circuiting](https://en.m.wikipedia.org/wiki/Short-circuit_evaluation). From the link:\n\n&gt; when the first argument of the AND function evaluates to false, the overall value must be false; and when the first argument of the OR function evaluates to true, the overall value must be true. \n\nIt sees that the rest of the condition doesn&#39;t matter because one of the operands of `||` is already true (10 &lt; 20). If one of the operands is true, then no matter what the rest of the condition is, it&#39;s true.\n\nYou may use bitwise `&amp;` and `|` to prevent this.\n\n---\n\n&gt; But, the ( expr2 &amp;&amp; expr3 ) should be evaluated before expr1, no ?\n\nNo. You have to separate concepts of **precedence** and **evaluation order**.\n\n- **Precedence**: Dictates *the parenthesization* of an expression, not the order in which an expression is evaluated. For an example:\n\n        true || false &amp;&amp; false\n\n    Is parenthesized to this because `&amp;&amp;` has higher precedence than `||`:\n\n        true || (false &amp;&amp; false)\n\n    This does not mean that things in parentheses is evaluated first in Java&#39;s case. Precedence just clarifies what the operands of an operator are, in this case `false` and `false`, where as in *this* case:\n\n        (true || false) &amp;&amp; (false || false)\n\n    The operands for `&amp;&amp;` are `true` and `false`, not `false` and `false`.  \n\n- **Evaluation Order**: Describes in what order each operand is evaluated and operator is applied and is sometimes language specific. This dictates how an expression is evaluated, unlike precedence.\n\nIn this case, your example:\n\n    true || false &amp;&amp; false\n\nAs established earlier, becomes this due to precedence:\n\n    true || (false &amp;&amp; false)\n\nBut Java, unlike C++, JavaScript, or a number of other languages has a strictly left to right evaluation. Per the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/):\n\n&gt; ### 15.7. Evaluation Order\n&gt;\n&gt; The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.\n&gt;\n&gt; ### 15.7.1. Evaluate Left-Hand Operand First\n&gt;\n&gt; The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.\n\nSo, when you have:\n\n    true || (false &amp;&amp; false)\n\nJava *first evaluates the left operand* which turns out to be `true`. Then the whole condition short circuits. The right operand of `||` in the parentheses is never evaluated at all. The same goes for your other example:\n\n    a1 &lt; a2 || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n               Step 0, precedence and parenthesization\n\n---\n\n    a1 &lt; a2 || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n    ^^^^^^^\n    Step 1, left operand evaluated, variables resolved to values 10 and 20, condition is true\n\n---\n\n    true || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n    ^^^^\n    Step 2, short circuits, left operand is not evaluated\n\n---\n\nTake another more complex example:\n\n    false || false || true &amp;&amp; (false || true) || false\n\nDue to precedence, it becomes:\n\n    false || false || (true &amp;&amp; (false || true)) || false\n\nThen, evaluation begins, left to right:\n\n    false || false || (true &amp;&amp; (false || true)) || false\n    ^^^^^^^^^^^^^^\n    Step 1, false || false, does not short circuit, right operand is evaluated, is false\n\n---\n\n    false || (true &amp;&amp; (false || true)) || false\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    Step 2, false || (true &amp;&amp; (false || true)), does not short circuit, right operand is evaluated\n    Step 2A, (true &amp;&amp; (false || true)), does not short circuit, right operand is evaluated\n    Step 2B, (false || true), does not short circuit, right operand is evaluated, is true\n    Step 2C, (true &amp;&amp; true), does not short circuit, right operand is evaluated, is true\n    Step 2D, false || true, does not short circuit, right operand is evaluated, is true\n\n---\n\n    true || false\n    ^^^^\n    Step 3, true || false short circuits, right operand is not evaluated, is true\n\n---\n\nThus the whole expression evaluates to `true`. The whole expression was evaluated left to right the whole way through. Precedence only dictated the operands of an operator via parenthesization, not the evaluation order.\n\n\nFurther reading at [Eric Lippert&#39;s explanatory article](https://blogs.msdn.microsoft.com/ericlippert/2008/05/23/precedence-vs-associativity-vs-order/) on precedence vs associativity vs evaluation order as mentioned by [Daniel Pryden](https://stackoverflow.com/questions/40071805/java-confusing-example-about-and-precedence#comment67427490_40071805), it clears up a lot of the confusion.\n\nThe main takeaway is that *precedence* does not dictate in what an expression is evaluated. It only dictates how an expression should be parenthesized. *Evaluation order*, on the other hand, tells us exactly how an expression is evaluated, and in Java&#39;s case is **always** left to right.","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p>The expression is <a href=\"https://en.m.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuiting</a>. From the link:</p>\n<blockquote>\n<p>when the first argument of the AND function evaluates to false, the overall value must be false; and when the first argument of the OR function evaluates to true, the overall value must be true.</p>\n</blockquote>\n<p>It sees that the rest of the condition doesn't matter because one of the operands of <code>||</code> is already true (10 &lt; 20). If one of the operands is true, then no matter what the rest of the condition is, it's true.</p>\n<p>You may use bitwise <code>&amp;</code> and <code>|</code> to prevent this.</p>\n<hr />\n<blockquote>\n<p>But, the ( expr2 &amp;&amp; expr3 ) should be evaluated before expr1, no ?</p>\n</blockquote>\n<p>No. You have to separate concepts of <strong>precedence</strong> and <strong>evaluation order</strong>.</p>\n<ul>\n<li><p><strong>Precedence</strong>: Dictates <em>the parenthesization</em> of an expression, not the order in which an expression is evaluated. For an example:</p>\n<pre><code>  true || false &amp;&amp; false\n</code></pre>\n<p>Is parenthesized to this because <code>&amp;&amp;</code> has higher precedence than <code>||</code>:</p>\n<pre><code>  true || (false &amp;&amp; false)\n</code></pre>\n<p>This does not mean that things in parentheses is evaluated first in Java's case. Precedence just clarifies what the operands of an operator are, in this case <code>false</code> and <code>false</code>, where as in <em>this</em> case:</p>\n<pre><code>  (true || false) &amp;&amp; (false || false)\n</code></pre>\n<p>The operands for <code>&amp;&amp;</code> are <code>true</code> and <code>false</code>, not <code>false</code> and <code>false</code>.</p>\n</li>\n<li><p><strong>Evaluation Order</strong>: Describes in what order each operand is evaluated and operator is applied and is sometimes language specific. This dictates how an expression is evaluated, unlike precedence.</p>\n</li>\n</ul>\n<p>In this case, your example:</p>\n<pre><code>true || false &amp;&amp; false\n</code></pre>\n<p>As established earlier, becomes this due to precedence:</p>\n<pre><code>true || (false &amp;&amp; false)\n</code></pre>\n<p>But Java, unlike C++, JavaScript, or a number of other languages has a strictly left to right evaluation. Per the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/\" rel=\"noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<h3>15.7. Evaluation Order</h3>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n<h3>15.7.1. Evaluate Left-Hand Operand First</h3>\n<p>The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.</p>\n</blockquote>\n<p>So, when you have:</p>\n<pre><code>true || (false &amp;&amp; false)\n</code></pre>\n<p>Java <em>first evaluates the left operand</em> which turns out to be <code>true</code>. Then the whole condition short circuits. The right operand of <code>||</code> in the parentheses is never evaluated at all. The same goes for your other example:</p>\n<pre><code>a1 &lt; a2 || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n           Step 0, precedence and parenthesization\n</code></pre>\n<hr />\n<pre><code>a1 &lt; a2 || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n^^^^^^^\nStep 1, left operand evaluated, variables resolved to values 10 and 20, condition is true\n</code></pre>\n<hr />\n<pre><code>true || (++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1)\n^^^^\nStep 2, short circuits, left operand is not evaluated\n</code></pre>\n<hr />\n<p>Take another more complex example:</p>\n<pre><code>false || false || true &amp;&amp; (false || true) || false\n</code></pre>\n<p>Due to precedence, it becomes:</p>\n<pre><code>false || false || (true &amp;&amp; (false || true)) || false\n</code></pre>\n<p>Then, evaluation begins, left to right:</p>\n<pre><code>false || false || (true &amp;&amp; (false || true)) || false\n^^^^^^^^^^^^^^\nStep 1, false || false, does not short circuit, right operand is evaluated, is false\n</code></pre>\n<hr />\n<pre><code>false || (true &amp;&amp; (false || true)) || false\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nStep 2, false || (true &amp;&amp; (false || true)), does not short circuit, right operand is evaluated\nStep 2A, (true &amp;&amp; (false || true)), does not short circuit, right operand is evaluated\nStep 2B, (false || true), does not short circuit, right operand is evaluated, is true\nStep 2C, (true &amp;&amp; true), does not short circuit, right operand is evaluated, is true\nStep 2D, false || true, does not short circuit, right operand is evaluated, is true\n</code></pre>\n<hr />\n<pre><code>true || false\n^^^^\nStep 3, true || false short circuits, right operand is not evaluated, is true\n</code></pre>\n<hr />\n<p>Thus the whole expression evaluates to <code>true</code>. The whole expression was evaluated left to right the whole way through. Precedence only dictated the operands of an operator via parenthesization, not the evaluation order.</p>\n<p>Further reading at <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/05/23/precedence-vs-associativity-vs-order/\" rel=\"noreferrer\">Eric Lippert's explanatory article</a> on precedence vs associativity vs evaluation order as mentioned by <a href=\"https://stackoverflow.com/questions/40071805/java-confusing-example-about-and-precedence#comment67427490_40071805\">Daniel Pryden</a>, it clears up a lot of the confusion.</p>\n<p>The main takeaway is that <em>precedence</em> does not dictate in what an expression is evaluated. It only dictates how an expression should be parenthesized. <em>Evaluation order</em>, on the other hand, tells us exactly how an expression is evaluated, and in Java's case is <strong>always</strong> left to right.</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476630829,"creation_date":1476630829,"answer_id":40071859,"question_id":40071805,"body_markdown":"Even when you use explicit parentheses as in \r\n\r\n    if (expr1 || (expr2 &amp;&amp; expr3))\r\n\r\n`expr1` is evaluated first, since the operands of operators are evaluated from left to right. Since `||` is a short circuited operator, the second operand (`(expr2 &amp;&amp; expr3)` in your case) will only be evaluated if `expr1` is `false`.\r\n\r\nWhen you remove the parentheses, the operator precedence only comes into play if `expr1` is false. In that case the `&amp;&amp;` operand will be evaluated before the `||` operator and its value will be the second operand of the `||` operator.\r\n","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p>Even when you use explicit parentheses as in </p>\n\n<pre><code>if (expr1 || (expr2 &amp;&amp; expr3))\n</code></pre>\n\n<p><code>expr1</code> is evaluated first, since the operands of operators are evaluated from left to right. Since <code>||</code> is a short circuited operator, the second operand (<code>(expr2 &amp;&amp; expr3)</code> in your case) will only be evaluated if <code>expr1</code> is <code>false</code>.</p>\n\n<p>When you remove the parentheses, the operator precedence only comes into play if <code>expr1</code> is false. In that case the <code>&amp;&amp;</code> operand will be evaluated before the <code>||</code> operator and its value will be the second operand of the <code>||</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476633813,"creation_date":1476633813,"answer_id":40072323,"question_id":40071805,"body_markdown":"**Precedence:**\r\n\r\n    boolean result = a || b &amp;&amp; c\r\n\r\nIn order to have the correct value according to the rules of precedence, the compiler must logically evaluate this as:\r\n\r\n    boolean x = b &amp;&amp; c\r\n    boolean result = a || x\r\n\r\nThis speaks to your point that `b &amp;&amp; c` must be evaluated before `result` can be calculated.  However, in Boolean algebra, it is possible to write expressions whose results *do not depend on all the operands*.  This fact is exploited to enable a compiler optimization called *short circuiting*.\r\n\r\n**Short Circuiting:**\r\n\r\nFor any Boolean expression:\r\n\r\n    a || b\r\n\r\nthe result does not depend on `b` if `a` evaluates to `true`.  When `a` is `true`, it does not matter if `b` evaluates to true or false.  Because of this, the compiler executes:\r\n\r\n    a || b &amp;&amp; c\r\n\r\nas if it had been written:\r\n\r\n    boolean result = a;\r\n    if (!a) result = b &amp;&amp; c;\r\n\r\nNote that executed this way, the rules of precedence are still respected.  The expression is not evaluated as `(a || b) &amp;&amp; c`.  Since the overall result of the expression does not depend on `(b &amp;&amp; c)` in the case where `a` is true, `b &amp;&amp; c` is simply never evaluated.\r\n\r\nThis is a good thing.  Short circuiting allows you to write correct programs when the correctness of one operand depends on the correctness of another.  For example:\r\n\r\n    if (myString == null || !myString.isEmpty() &amp;&amp; myString != &quot;break&quot;) return;\r\n\r\nWithout short circuit evaluation, the boolean expression could throw a `NullPointerException`.  However, because of short circuit evaluation, this expression, as written, can never throw a `NullPointerException`.\r\n\r\nShort circuiting can also be used as a performance optimization.  If evaluating one operand is extremely expensive, evaluating another first can save the execution time needed to evaluate an operand whose value does not influence the final result of the whole expression.","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p><strong>Precedence:</strong></p>\n\n<pre><code>boolean result = a || b &amp;&amp; c\n</code></pre>\n\n<p>In order to have the correct value according to the rules of precedence, the compiler must logically evaluate this as:</p>\n\n<pre><code>boolean x = b &amp;&amp; c\nboolean result = a || x\n</code></pre>\n\n<p>This speaks to your point that <code>b &amp;&amp; c</code> must be evaluated before <code>result</code> can be calculated.  However, in Boolean algebra, it is possible to write expressions whose results <em>do not depend on all the operands</em>.  This fact is exploited to enable a compiler optimization called <em>short circuiting</em>.</p>\n\n<p><strong>Short Circuiting:</strong></p>\n\n<p>For any Boolean expression:</p>\n\n<pre><code>a || b\n</code></pre>\n\n<p>the result does not depend on <code>b</code> if <code>a</code> evaluates to <code>true</code>.  When <code>a</code> is <code>true</code>, it does not matter if <code>b</code> evaluates to true or false.  Because of this, the compiler executes:</p>\n\n<pre><code>a || b &amp;&amp; c\n</code></pre>\n\n<p>as if it had been written:</p>\n\n<pre><code>boolean result = a;\nif (!a) result = b &amp;&amp; c;\n</code></pre>\n\n<p>Note that executed this way, the rules of precedence are still respected.  The expression is not evaluated as <code>(a || b) &amp;&amp; c</code>.  Since the overall result of the expression does not depend on <code>(b &amp;&amp; c)</code> in the case where <code>a</code> is true, <code>b &amp;&amp; c</code> is simply never evaluated.</p>\n\n<p>This is a good thing.  Short circuiting allows you to write correct programs when the correctness of one operand depends on the correctness of another.  For example:</p>\n\n<pre><code>if (myString == null || !myString.isEmpty() &amp;&amp; myString != \"break\") return;\n</code></pre>\n\n<p>Without short circuit evaluation, the boolean expression could throw a <code>NullPointerException</code>.  However, because of short circuit evaluation, this expression, as written, can never throw a <code>NullPointerException</code>.</p>\n\n<p>Short circuiting can also be used as a performance optimization.  If evaluating one operand is extremely expensive, evaluating another first can save the execution time needed to evaluate an operand whose value does not influence the final result of the whole expression.</p>\n"},{"tags":[],"owner":{"account_id":5964935,"reputation":377,"user_id":4688929,"display_name":"kemparaj565"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662835761,"creation_date":1662835761,"answer_id":73674431,"question_id":40071805,"body_markdown":"This is because of short-circuiting. Where the first expression is evaluated first and if it&#39;s able to derive the result as true then it concludes there &amp; would not even go for rest of the expression.If the first expression results as false then the other condition will be checked and the outcome will be derived.\r\n\r\nTo know more on operator precedence. Please refer below.\r\n\r\nhttps://introcs.cs.princeton.edu/java/11precedence/\r\n\r\n\r\n","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p>This is because of short-circuiting. Where the first expression is evaluated first and if it's able to derive the result as true then it concludes there &amp; would not even go for rest of the expression.If the first expression results as false then the other condition will be checked and the outcome will be derived.</p>\n<p>To know more on operator precedence. Please refer below.</p>\n<p><a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/11precedence/</a></p>\n"}],"owner":{"account_id":8689931,"reputation":289,"user_id":6503105,"display_name":"AbdelRahmane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2944,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":40071830,"answer_count":5,"score":8,"last_activity_date":1662835761,"creation_date":1476630547,"question_id":40071805,"body_markdown":"I was testing the precedence between `&amp;&amp;` and `||` and I had an example that was confusing. In Java, `&amp;&amp;` has higher operator precedence than the operator `||`.\r\n\r\nSo if we have those 3 expressions: \r\n\r\n    //expr1  = true , expr2 = false; expr3 = false;\r\n\r\n    if(expr1 || expr2 &amp;&amp; expr3);\r\n\r\nIt should be evaluated as:\r\n\r\n    if(expr1 || (expr2 &amp;&amp; expr3));\n\r\nSo `expr2 &amp;&amp; expr3` should be evaluated before `expr1`. However, this example:\r\n\r\n\tint a1 = 10;\r\n\tint a2 = 20;\r\n\tSystem.out.println(a1 &lt; a2 || ++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1);\r\n\tSystem.out.println(a1);\r\n\tSystem.out.println(a2);\n\r\nOutputs: \r\n\r\n    true\r\n    10\r\n    20\r\n\r\nThat proves that only  `a1 &lt; a2` is evaluated.\r\nCan you explain why this is the case?","title":"Confusing example about &#39;&amp;&amp;&#39; and &#39;||&#39; precedence","body":"<p>I was testing the precedence between <code>&amp;&amp;</code> and <code>||</code> and I had an example that was confusing. In Java, <code>&amp;&amp;</code> has higher operator precedence than the operator <code>||</code>.</p>\n\n<p>So if we have those 3 expressions: </p>\n\n<pre><code>//expr1  = true , expr2 = false; expr3 = false;\n\nif(expr1 || expr2 &amp;&amp; expr3);\n</code></pre>\n\n<p>It should be evaluated as:</p>\n\n<pre><code>if(expr1 || (expr2 &amp;&amp; expr3));\n</code></pre>\n\n<p>So <code>expr2 &amp;&amp; expr3</code> should be evaluated before <code>expr1</code>. However, this example:</p>\n\n<pre><code>int a1 = 10;\nint a2 = 20;\nSystem.out.println(a1 &lt; a2 || ++a1 &gt; a2 &amp;&amp; ++a2 &lt; a1);\nSystem.out.println(a1);\nSystem.out.println(a2);\n</code></pre>\n\n<p>Outputs: </p>\n\n<pre><code>true\n10\n20\n</code></pre>\n\n<p>That proves that only  <code>a1 &lt; a2</code> is evaluated.\nCan you explain why this is the case?</p>\n"},{"tags":["java","multithreading","asynchronous","concurrency","concurrentskiplistmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1661197219,"post_id":73450242,"comment_id":129710248,"body_markdown":"Why go to all this effort instead of using e.g. a ConcurrentSkipListMap which sorts the data smoothly as it arrives?","body":"Why go to all this effort instead of using e.g. a ConcurrentSkipListMap which sorts the data smoothly as it arrives?"},{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1661199072,"post_id":73450242,"comment_id":129710800,"body_markdown":"@LouisWasserman I have not used that before but I just looked it up and it seems like it might work perfectly however I need to sort by value not by keys. I have bee googling it for a bit but cant find anything directly stating how to include a custom comparator object as a parameter to the ConcurrentSkipListMap. Here I will update my main post of code to see the issue.","body":"@LouisWasserman I have not used that before but I just looked it up and it seems like it might work perfectly however I need to sort by value not by keys. I have bee googling it for a bit but cant find anything directly stating how to include a custom comparator object as a parameter to the ConcurrentSkipListMap. Here I will update my main post of code to see the issue."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661199831,"post_id":73450242,"comment_id":129711019,"body_markdown":"or you can use SortedMap","body":"or you can use SortedMap"},{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1661200052,"post_id":73450242,"comment_id":129711097,"body_markdown":"@muhammedozbilici is that concurrent though?","body":"@muhammedozbilici is that concurrent though?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661200207,"post_id":73450242,"comment_id":129711142,"body_markdown":"@IDontWantToMakeAnotherAccount nope. for that use ConcurrentSkipListMap or synchronized keyword for method.","body":"@IDontWantToMakeAnotherAccount nope. for that use ConcurrentSkipListMap or synchronized keyword for method."},{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1661200925,"post_id":73450242,"comment_id":129711345,"body_markdown":"@muhammedozbilici Will do do you have an idea how I can add a comparator as a parameter to ConcurrentSkipListMap so I can sort by value? Look at the code at the bottom of my original question.","body":"@muhammedozbilici Will do do you have an idea how I can add a comparator as a parameter to ConcurrentSkipListMap so I can sort by value? Look at the code at the bottom of my original question."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1661201004,"post_id":73450242,"comment_id":129711362,"body_markdown":"No, that&#39;s completely impossible.","body":"No, that&#39;s completely impossible."},{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1661201862,"post_id":73450242,"comment_id":129711601,"body_markdown":"@LouisWasserman So I should just stick with the synchronized version? It does work the way I explained it right?","body":"@LouisWasserman So I should just stick with the synchronized version? It does work the way I explained it right?"}],"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662835317,"creation_date":1661197077,"question_id":73450242,"body_markdown":"I have a main thread that handles giving every player updated information when they open a gui. But I first need to sort that information every 30min which is done by a separate thread in order to not cause lag spikes on that main thread. Now my sorting algorithm clears a private static LinkedHashMap then I query the new data before adding all of the new entries to each map. \r\n\r\nNow I know that the actual sorting is thread safe and I also know that my sortsMap() method will only be called once every 30min from my async thread. I think the only issue would be if a player opens a gui as I call the sortMaps() method asynchronously since it would be trying to clear data while its being read. I think this could be solved by using the synchronized keyword however I am not sure the best way to use it. If I make my sortMaps() synchronized I assume it would still cause issues since my async thread is calling sortMaps() while the main thread gui updater is calling the getter. \r\n\r\nSo how can I properly synchronize this so that the sortMap() method that it&#39;s being called asynchronously will wait to update the map till after the main thread is done querying the data and make the main thread wait to query the data till after I finish updating the maps. The following is a sort of sudo code of my issue so you can understand my structures but I removed most of the inner code since this is not an algorithm question. \r\n\r\n    private static final Map&lt;String, Integer&gt; sortedDataForGUI = new LinkedHashMap&lt;&gt;();\r\n\r\n    /**\r\n     * This method is called asynchronously every 30min\r\n     */\r\n    public static void sortMaps() {\r\n        sortedDataForGUI.clear();\r\n        // Then I gather general player info before sorting and adding them to the map above.\r\n    }\r\n\r\n    /**\r\n     * This is called by the main thread when a player opens a gui\r\n     */\r\n    public static Map&lt;String, Integer&gt; getSortedDataForGUI() {\r\n        return sortedDataForGUI;\r\n    }\r\n\r\nWhat if I made a single method like the following so that I can my async thread can pass in true to update the data while my gui&#39;s can pass in false to get the info would this achieve everything I talked about above and is it the best way? I hope this made sense I have been just throwing out everything I thought of and everything I know since people on here respond poorly to questions where the poster never made any attempts. \r\n\r\n     public static synchronized Map&lt;String, Integer&gt; getSortedMap(boolean sort) {\r\n        if(sort) {\r\n            // My sorting algorithm would go here which is only called asynchronously.\r\n        }\r\n        return sortedDataForGUI;\r\n    }\r\n\r\nEdit:\r\nDue to the comment bellow I added some extra sudo code to depict me trying to take info from two separate maps and sort them based on value. Keep in mind one takes in an Object as the value while the other takes in an Integer. Previously to this I used a comparator with a linkedList in order to sort my map however it seems like I now need to include my comparator as a parameter to my ConcurrentSkipListMap but I dont know exactly how to do that.\r\n\r\n    public static void sortMaps() {\r\n        final ConcurrentSkipListMap&lt;String , Integer&gt; maps = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\n        for(Map.Entry&lt;String, Integer&gt; map1 : DataManager.MEMBER_DATA.entrySet()) {\r\n            maps.put(map1.getKey(), map1.getValue());\r\n        }\r\n\r\n        for(Map.Entry&lt;String, MemberObject&gt; map2 : DataManager.LAST_MEMBER_DATA.entrySet()) {\r\n            maps.put(map2.getKey(), map2.getValue().getNum());\r\n        }\r\n    }","title":"Sort data asynchronously","body":"<p>I have a main thread that handles giving every player updated information when they open a gui. But I first need to sort that information every 30min which is done by a separate thread in order to not cause lag spikes on that main thread. Now my sorting algorithm clears a private static LinkedHashMap then I query the new data before adding all of the new entries to each map.</p>\n<p>Now I know that the actual sorting is thread safe and I also know that my sortsMap() method will only be called once every 30min from my async thread. I think the only issue would be if a player opens a gui as I call the sortMaps() method asynchronously since it would be trying to clear data while its being read. I think this could be solved by using the synchronized keyword however I am not sure the best way to use it. If I make my sortMaps() synchronized I assume it would still cause issues since my async thread is calling sortMaps() while the main thread gui updater is calling the getter.</p>\n<p>So how can I properly synchronize this so that the sortMap() method that it's being called asynchronously will wait to update the map till after the main thread is done querying the data and make the main thread wait to query the data till after I finish updating the maps. The following is a sort of sudo code of my issue so you can understand my structures but I removed most of the inner code since this is not an algorithm question.</p>\n<pre><code>private static final Map&lt;String, Integer&gt; sortedDataForGUI = new LinkedHashMap&lt;&gt;();\n\n/**\n * This method is called asynchronously every 30min\n */\npublic static void sortMaps() {\n    sortedDataForGUI.clear();\n    // Then I gather general player info before sorting and adding them to the map above.\n}\n\n/**\n * This is called by the main thread when a player opens a gui\n */\npublic static Map&lt;String, Integer&gt; getSortedDataForGUI() {\n    return sortedDataForGUI;\n}\n</code></pre>\n<p>What if I made a single method like the following so that I can my async thread can pass in true to update the data while my gui's can pass in false to get the info would this achieve everything I talked about above and is it the best way? I hope this made sense I have been just throwing out everything I thought of and everything I know since people on here respond poorly to questions where the poster never made any attempts.</p>\n<pre><code> public static synchronized Map&lt;String, Integer&gt; getSortedMap(boolean sort) {\n    if(sort) {\n        // My sorting algorithm would go here which is only called asynchronously.\n    }\n    return sortedDataForGUI;\n}\n</code></pre>\n<p>Edit:\nDue to the comment bellow I added some extra sudo code to depict me trying to take info from two separate maps and sort them based on value. Keep in mind one takes in an Object as the value while the other takes in an Integer. Previously to this I used a comparator with a linkedList in order to sort my map however it seems like I now need to include my comparator as a parameter to my ConcurrentSkipListMap but I dont know exactly how to do that.</p>\n<pre><code>public static void sortMaps() {\n    final ConcurrentSkipListMap&lt;String , Integer&gt; maps = new ConcurrentSkipListMap&lt;&gt;();\n\n    for(Map.Entry&lt;String, Integer&gt; map1 : DataManager.MEMBER_DATA.entrySet()) {\n        maps.put(map1.getKey(), map1.getValue());\n    }\n\n    for(Map.Entry&lt;String, MemberObject&gt; map2 : DataManager.LAST_MEMBER_DATA.entrySet()) {\n        maps.put(map2.getKey(), map2.getValue().getNum());\n    }\n}\n</code></pre>\n"},{"tags":["java","git","github","bfg-repo-cleaner"],"answers":[{"tags":[],"owner":{"account_id":8590798,"reputation":496,"user_id":9330647,"display_name":"ElderFuthark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662835124,"creation_date":1662835124,"answer_id":73674357,"question_id":73673092,"body_markdown":"I&#39;ve never used BFG before. It sounds useful if you&#39;re in this situation of having large files that you need to remove. However, I&#39;ll try to explain the overall process, as I understand it.\r\n\r\n**Before we begin**, note that BFG will rewrite the history of the the remote repository, and pushing it will require **everyone** on your team to re-clone the repository and transfer their local-only branches over.\r\n\r\nAccording to git&#39;s documentation, `git clone --mirror`\r\n\r\n&gt; Set up a mirror of the source repository. This implies --bare. Compared to --bare, --mirror not only maps local branches of the source to local branches of the target, it maps all refs (including remote-tracking branches, notes etc.) and sets up a refspec configuration such that all these refs are overwritten by a git remote update in the target repository.\r\n\r\nThis means that the clone will create an exact copy of the remote repository on your machine. As the BFG docs say, you should create a backup of this clone in case you need it later.\r\n\r\n```\r\njava -jar bfg.jar --strip-blobs-bigger-than 100M some-big-repo.git\r\n```\r\n\r\nWill target the clone you made with `git clone --mirror` and will clean all commits of files containing &gt; 100M except the most recent commit (as mentioned in the BFG docs). BFG won&#39;t delete the old data automatically. It will stop, let you confirm everything looks good and then leave you to clean up the rest.\r\n\r\n```\r\ncd /Users/me/myrepomirror.git \r\n```\r\n\r\nWill navigate to the bare repository. You may have to change the path accordingly.\r\n\r\n```\r\ngit reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive\r\n```\r\nLet&#39;s break this command up into it&#39;s two logical parts:\r\n\r\n1. `git reflog expire --expire=now --all`\r\n     - The expire subcommand will prune older reflog entries. The reflog is a log of the refs the HEAD has pointed to. `--expire=now` tells git to expire all reflogs prior to the current time.\r\n     - `--all` means across all references. Without --all, the expiration would only happen for the branch you&#39;re currently on, rather than all branches.\r\n2. `git gc --prune=now --aggressive`\r\n     - git gc handles garbage collection for git. Normally, it&#39;ll run in the background on its own, but it is useful to be able to run it sometimes.\r\n     - `--prune=now` tells git gc to remove loose objects prior to the current time.\r\n     - `--aggressive` will cause git gc to spend more time cleaning the repository of unnecessary files and provide greater optimization. The `git gc` docs have some additional info on it.\r\n\r\nOnce all of that is done, `git push` will overwrite the remote version of all of the branches with the newly cleaned ones.\r\n\r\nYou would now have to re-clone the repository in a different directory with `git clone` to obtain a non-bare version. \r\n\r\nEssentially what we&#39;ve done with this process is create a copy of the remote repository, removed the offending files and rewritten the commit history in the process, pushed the rewritten remote and overwritten what was there previously, and cloned a new copy of that repository for us to continue working.\r\n\r\n\r\n## Preventative measures ##\r\n\r\nI&#39;d suggest some preventative measures to avoid having to constantly remove these files. `BFG` shouldn&#39;t be run frequently, since it rewrites the repository&#39;s history.\r\n\r\nUnfortunately, .gitignore doesn&#39;t support ignoring files larger than a given size. However, there may be some options available to you, regardless.\r\n\r\n 1. If all of these large files have a particular file extension or are in a specific directory, simply add them to the .gitignore file to prevent git from tracking them.\r\n 2. Create a pre-commit hook which will prevent files above a certain size from being added. There seems to be a script (I haven&#39;t tested it) in response to [this SO post][1].\r\n     - This is a client-side githook, meaning it will need to be distributed to other developers on your team.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39576257/how-to-limit-file-size-on-commit","title":"How to use BFG Repo-Cleaner","body":"<p>I've never used BFG before. It sounds useful if you're in this situation of having large files that you need to remove. However, I'll try to explain the overall process, as I understand it.</p>\n<p><strong>Before we begin</strong>, note that BFG will rewrite the history of the the remote repository, and pushing it will require <strong>everyone</strong> on your team to re-clone the repository and transfer their local-only branches over.</p>\n<p>According to git's documentation, <code>git clone --mirror</code></p>\n<blockquote>\n<p>Set up a mirror of the source repository. This implies --bare. Compared to --bare, --mirror not only maps local branches of the source to local branches of the target, it maps all refs (including remote-tracking branches, notes etc.) and sets up a refspec configuration such that all these refs are overwritten by a git remote update in the target repository.</p>\n</blockquote>\n<p>This means that the clone will create an exact copy of the remote repository on your machine. As the BFG docs say, you should create a backup of this clone in case you need it later.</p>\n<pre><code>java -jar bfg.jar --strip-blobs-bigger-than 100M some-big-repo.git\n</code></pre>\n<p>Will target the clone you made with <code>git clone --mirror</code> and will clean all commits of files containing &gt; 100M except the most recent commit (as mentioned in the BFG docs). BFG won't delete the old data automatically. It will stop, let you confirm everything looks good and then leave you to clean up the rest.</p>\n<pre><code>cd /Users/me/myrepomirror.git \n</code></pre>\n<p>Will navigate to the bare repository. You may have to change the path accordingly.</p>\n<pre><code>git reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive\n</code></pre>\n<p>Let's break this command up into it's two logical parts:</p>\n<ol>\n<li><code>git reflog expire --expire=now --all</code>\n<ul>\n<li>The expire subcommand will prune older reflog entries. The reflog is a log of the refs the HEAD has pointed to. <code>--expire=now</code> tells git to expire all reflogs prior to the current time.</li>\n<li><code>--all</code> means across all references. Without --all, the expiration would only happen for the branch you're currently on, rather than all branches.</li>\n</ul>\n</li>\n<li><code>git gc --prune=now --aggressive</code>\n<ul>\n<li>git gc handles garbage collection for git. Normally, it'll run in the background on its own, but it is useful to be able to run it sometimes.</li>\n<li><code>--prune=now</code> tells git gc to remove loose objects prior to the current time.</li>\n<li><code>--aggressive</code> will cause git gc to spend more time cleaning the repository of unnecessary files and provide greater optimization. The <code>git gc</code> docs have some additional info on it.</li>\n</ul>\n</li>\n</ol>\n<p>Once all of that is done, <code>git push</code> will overwrite the remote version of all of the branches with the newly cleaned ones.</p>\n<p>You would now have to re-clone the repository in a different directory with <code>git clone</code> to obtain a non-bare version.</p>\n<p>Essentially what we've done with this process is create a copy of the remote repository, removed the offending files and rewritten the commit history in the process, pushed the rewritten remote and overwritten what was there previously, and cloned a new copy of that repository for us to continue working.</p>\n<h2>Preventative measures</h2>\n<p>I'd suggest some preventative measures to avoid having to constantly remove these files. <code>BFG</code> shouldn't be run frequently, since it rewrites the repository's history.</p>\n<p>Unfortunately, .gitignore doesn't support ignoring files larger than a given size. However, there may be some options available to you, regardless.</p>\n<ol>\n<li>If all of these large files have a particular file extension or are in a specific directory, simply add them to the .gitignore file to prevent git from tracking them.</li>\n<li>Create a pre-commit hook which will prevent files above a certain size from being added. There seems to be a script (I haven't tested it) in response to <a href=\"https://stackoverflow.com/questions/39576257/how-to-limit-file-size-on-commit\">this SO post</a>.\n<ul>\n<li>This is a client-side githook, meaning it will need to be distributed to other developers on your team.</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":23589736,"reputation":29,"user_id":17627698,"display_name":"Socorro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662835124,"creation_date":1662824120,"question_id":73673092,"body_markdown":"I&#39;ve been advised to use the BFG Repo-Cleaner as my local repo that I want to push contains files too large to push to GitHub. These files (above about 50MB) I don&#39;t mind if they get deleted and I accidentally committed them a while back.\r\n\r\nOn the online instructions: https://rtyley.github.io/bfg-repo-cleaner/\r\n\r\nIt suggests I should clone a fresh copy of my repo using the --mirror flag (this is seemingly an online version, not the local version). Then to do the Java -jar bfg.jar ... command. And following this to cd back into that local mirror copy of the online repo, and then to push the information back. \r\n\r\nI don&#39;t quite understand how this applies for local copies. For local copies that are too big to push should I e.g. do: \r\n\r\ngit clone --mirror /Users/me/myrepo\r\n\r\njava -jar bfg.jar --strip-blobs-bigger-than 100M /Users/me/myrepomirror.git\r\n\r\nThen I don&#39;t also understand how the next steps:\r\n\r\ncd /Users/me/myrepomirror.git\r\ngit reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive\r\ngit push\r\n\r\nwould address anything to do with my non-mirrored local repo:\r\n\r\n/Users/me/myrepo\r\n\r\nI am not sure if they imply that I should then do after this:\r\n\r\njava -jar bfg.jar --strip-blobs-bigger-than 50M  my-repo.git\r\n\r\nAnd again I do not know how this addresses the actual repo (not a mirror or an online version) that I want to prune so that I can push it.\r\n\r\nPerhaps I am being a bit dull? The documentation doesn&#39;t seem very explicit/extensive for something so potentially useful. Any help here would be great. Thanks!","title":"How to use BFG Repo-Cleaner","body":"<p>I've been advised to use the BFG Repo-Cleaner as my local repo that I want to push contains files too large to push to GitHub. These files (above about 50MB) I don't mind if they get deleted and I accidentally committed them a while back.</p>\n<p>On the online instructions: <a href=\"https://rtyley.github.io/bfg-repo-cleaner/\" rel=\"nofollow noreferrer\">https://rtyley.github.io/bfg-repo-cleaner/</a></p>\n<p>It suggests I should clone a fresh copy of my repo using the --mirror flag (this is seemingly an online version, not the local version). Then to do the Java -jar bfg.jar ... command. And following this to cd back into that local mirror copy of the online repo, and then to push the information back.</p>\n<p>I don't quite understand how this applies for local copies. For local copies that are too big to push should I e.g. do:</p>\n<p>git clone --mirror /Users/me/myrepo</p>\n<p>java -jar bfg.jar --strip-blobs-bigger-than 100M /Users/me/myrepomirror.git</p>\n<p>Then I don't also understand how the next steps:</p>\n<p>cd /Users/me/myrepomirror.git\ngit reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive\ngit push</p>\n<p>would address anything to do with my non-mirrored local repo:</p>\n<p>/Users/me/myrepo</p>\n<p>I am not sure if they imply that I should then do after this:</p>\n<p>java -jar bfg.jar --strip-blobs-bigger-than 50M  my-repo.git</p>\n<p>And again I do not know how this addresses the actual repo (not a mirror or an online version) that I want to prune so that I can push it.</p>\n<p>Perhaps I am being a bit dull? The documentation doesn't seem very explicit/extensive for something so potentially useful. Any help here would be great. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":4,"creation_date":1662829452,"post_id":73673632,"comment_id":130098744,"body_markdown":"possible duplicate of [Spring Security - Encoded Password Does Not Look Like BCrypt](https://stackoverflow.com/questions/60166583/spring-security-encoded-password-does-not-look-like-bcrypt)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/60166583/spring-security-encoded-password-does-not-look-like-bcrypt\">Spring Security - Encoded Password Does Not Look Like BCrypt</a>"},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":3,"creation_date":1662829496,"post_id":73673632,"comment_id":130098752,"body_markdown":"possible duplicate of [Login errors in spring boot: Encoded password does not look like BCrypt](https://stackoverflow.com/questions/51103378/login-errors-in-spring-boot-encoded-password-does-not-look-like-bcrypt)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/51103378/login-errors-in-spring-boot-encoded-password-does-not-look-like-bcrypt\">Login errors in spring boot: Encoded password does not look like BCrypt</a>"},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":3,"creation_date":1662829538,"post_id":73673632,"comment_id":130098760,"body_markdown":"possible duplicate of [Encoded password does not look like BCrypt](https://stackoverflow.com/questions/49582971/encoded-password-does-not-look-like-bcrypt)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/49582971/encoded-password-does-not-look-like-bcrypt\">Encoded password does not look like BCrypt</a>"}],"answers":[{"tags":[],"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662835101,"creation_date":1662835101,"answer_id":73674356,"question_id":73673632,"body_markdown":"I solved this\r\n\r\n**WebSecurityConfig.java**\r\n```\r\npackage com.todo.todo.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport com.todo.todo.services.UserService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t.antMatchers(&quot;/&quot;,\r\n\t\t\t\t&quot;/index&quot;,\r\n\t\t\t\t&quot;/tasks&quot;,\r\n\t\t\t\t&quot;/users&quot;,\r\n\t\t\t\t&quot;/registrate&quot;,\r\n\t\t\t\t&quot;/logout&quot;,\r\n\t\t\t\t&quot;/deleteuser/**&quot;,\r\n\t\t\t\t&quot;/create&quot;,\r\n\t\t\t\t&quot;/delete/**&quot;,\r\n\t\t\t\t&quot;/update/**&quot;,\r\n\t\t\t\t&quot;/create_task&quot;,\r\n\t\t\t\t&quot;/update_task&quot;,\r\n\t\t\t\t&quot;/h2-console/**&quot;,\r\n\t\t\t\t&quot;/webjars/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n\t\t\t.formLogin((form) -&gt; form\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t)\r\n\t\t\t.logout((logout) -&gt; logout.permitAll());\r\n    }\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth\r\n\t\t.userDetailsService(userService)\r\n\t\t.passwordEncoder(new BCryptPasswordEncoder());\r\n    }\r\n}\r\n```\r\n\r\n**UserController.java**\r\nAdded encoding password in @PostMapping(&quot;/registrate&quot;)\r\n```\r\n// some imports here\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n// some methods here\r\n\r\n@PostMapping(&quot;/registrate&quot;)\r\n    public String registrateUser(@Valid User user, Map&lt;String, Object&gt; map){\r\n        User userFromDatabase = userRepository.findByUsername(user.getUsername());\r\n        if(userFromDatabase != null){\r\n            map.put(&quot;message&quot;, &quot;User has been already registrated!&quot;);\r\n            return registratePage;\r\n        }\r\n        String encodedPassword = new BCryptPasswordEncoder().encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n        user.setCreatedDate(Instant.now());\r\n        user.setRoles(Collections.singleton(Role.USER));\r\n        userRepository.save(user);\r\n        map.put(&quot;message&quot;, &quot;User has been successfully registrated!&quot;);\r\n        return redirectLoginPage;\r\n    }\r\n```","title":"Encoded password does not look like BCrypt. How to fix?","body":"<p>I solved this</p>\n<p><strong>WebSecurityConfig.java</strong></p>\n<pre><code>package com.todo.todo.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport com.todo.todo.services.UserService;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserService userService;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((requests) -&gt; requests\n                .antMatchers(&quot;/&quot;,\n                &quot;/index&quot;,\n                &quot;/tasks&quot;,\n                &quot;/users&quot;,\n                &quot;/registrate&quot;,\n                &quot;/logout&quot;,\n                &quot;/deleteuser/**&quot;,\n                &quot;/create&quot;,\n                &quot;/delete/**&quot;,\n                &quot;/update/**&quot;,\n                &quot;/create_task&quot;,\n                &quot;/update_task&quot;,\n                &quot;/h2-console/**&quot;,\n                &quot;/webjars/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n    }\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n        .userDetailsService(userService)\n        .passwordEncoder(new BCryptPasswordEncoder());\n    }\n}\n</code></pre>\n<p><strong>UserController.java</strong>\nAdded encoding password in @PostMapping(&quot;/registrate&quot;)</p>\n<pre><code>// some imports here\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n// some methods here\n\n@PostMapping(&quot;/registrate&quot;)\n    public String registrateUser(@Valid User user, Map&lt;String, Object&gt; map){\n        User userFromDatabase = userRepository.findByUsername(user.getUsername());\n        if(userFromDatabase != null){\n            map.put(&quot;message&quot;, &quot;User has been already registrated!&quot;);\n            return registratePage;\n        }\n        String encodedPassword = new BCryptPasswordEncoder().encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        user.setCreatedDate(Instant.now());\n        user.setRoles(Collections.singleton(Role.USER));\n        userRepository.save(user);\n        map.put(&quot;message&quot;, &quot;User has been successfully registrated!&quot;);\n        return redirectLoginPage;\n    }\n</code></pre>\n"}],"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2650,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73674356,"answer_count":1,"score":-1,"last_activity_date":1662835101,"creation_date":1662828962,"question_id":73673632,"body_markdown":"I try to realise an authorization, but cannot get the cause of this problem: `Encoded password does not look like BCrypt`\r\nMy actions sequence: open `localhost:8080/login`, write &quot;user&quot; in login input and &quot;password&quot; in password (user with such login and password is guaranteed to exist), submit, here the problem appears (`Encoded password does not look like BCrypt` is written in console), login is failed.\r\nI am new at Spring, so I need your experienced advice. I guess, the reason is in the `auth.userDetailsService(userService).passwordEncoder(passwordEncoder());` in `protected void configure(AuthenticationManagerBuilder auth)` method in `WebSecurityConfig.java`, but I cannot apply any solution I&#39;ve found.\r\n\r\n**WebSecurityConfig.java**\r\n```\r\npackage com.todo.todo.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport com.todo.todo.services.UserService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig{\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t.antMatchers(&quot;/&quot;,\r\n\t\t\t\t&quot;/index&quot;,\r\n\t\t\t\t&quot;/users&quot;,\r\n\t\t\t\t&quot;/registrate&quot;,\r\n\t\t\t\t&quot;/deleteuser/**&quot;,\r\n\t\t\t\t&quot;/webjars/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n\t\t\t.formLogin((form) -&gt; form\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t)\r\n\t\t\t.logout((logout) -&gt; logout.permitAll());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder());\r\n    }\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n```\r\n\r\n**UserService.java**\r\n```\r\npackage com.todo.todo.services;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport com.todo.todo.repositories.UserRepository;\r\n\r\n@Service\r\npublic class UserService implements UserDetailsService{\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        UserDetails userDetails = userRepository.findByUsername(username);\r\n        if(userDetails == null) throw new UsernameNotFoundException(&quot;No such username&quot;);\r\n        return userDetails;\r\n    }\r\n}\r\n```\r\n\r\n**UserRepository.java**\r\n```\r\npackage com.todo.todo.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.todo.todo.models.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    User findByUsername(String username);\r\n}\r\n```\r\n\r\n**UserController.java**\r\n```\r\npackage com.todo.todo.controllers;\r\n\r\nimport java.time.Instant;\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.NoSuchElementException;\r\nimport javax.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport com.todo.todo.models.Role;\r\nimport com.todo.todo.models.User;\r\nimport com.todo.todo.repositories.UserRepository;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n    private final String registratePage = &quot;registrate&quot;;\r\n    // private final String loginPage = &quot;login&quot;;\r\n    private final String redirectLoginPage = &quot;redirect:/login&quot;;\r\n    private final String redirectUsersPage = &quot;redirect:/users&quot;;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public ModelAndView getHomePage(@AuthenticationPrincipal User user){\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;users&quot;);\r\n        modelAndView.addObject(&quot;users&quot;, userRepository.findAll());\r\n        return modelAndView;\r\n    }\r\n\r\n    @GetMapping(&quot;/deleteuser/{id}&quot;)\r\n    public String deleteTask(@PathVariable(&quot;id&quot;) Long id, Model model){\r\n        User user = userRepository.findById(id).orElseThrow(() -&gt; new NoSuchElementException(&quot;User not found by id = &quot; + id));\r\n        userRepository.delete(user);\r\n        return redirectUsersPage;\r\n    }\r\n    \r\n    @GetMapping(&quot;/registrate&quot;)\r\n    public String getRegistratePage(){\r\n        return registratePage;\r\n    }\r\n\r\n    @PostMapping(&quot;/registrate&quot;)\r\n    public String registrateUser(@Valid User user, Map&lt;String, Object&gt; map){\r\n        User userFromDatabase = userRepository.findByUsername(user.getUsername());\r\n        if(userFromDatabase != null){\r\n            map.put(&quot;message&quot;, &quot;User has been already registrated!&quot;);\r\n            return registratePage;\r\n        }\r\n        user.setCreatedDate(Instant.now());\r\n        user.setRoles(Collections.singleton(Role.USER));\r\n        userRepository.save(user);\r\n        map.put(&quot;message&quot;, &quot;User has been successfully registrated!&quot;);\r\n        return redirectLoginPage;\r\n    }\r\n}\r\n```\r\n\r\n**User.java**\r\n```\r\npackage com.todo.todo.models;\r\n\r\nimport java.time.Instant;\r\nimport java.util.Collection;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport javax.persistence.CollectionTable;\r\nimport javax.persistence.ElementCollection;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;usr&quot;)\r\npublic class User implements UserDetails{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Fill username&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;Fill password&quot;)\r\n    private String password;\r\n\r\n    private Instant createdDate;\r\n\r\n    @ElementCollection(targetClass = Role.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public User() {\r\n    }\r\n    public User(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.createdDate = Instant.now();\r\n        this.roles = new HashSet&lt;&gt;();\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;User{id=%d, username=&#39;%s&#39;, password=&#39;%s&#39;, createdDate=&#39;%s&#39;}&quot;,\r\n        id, username, password, createdDate);\r\n    }\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return getRoles();\r\n    }\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    } \r\n}\r\n```\r\n\r\n**login.html**\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;\r\n      xmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;LOGIN&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div th:if=&quot;${param.error}&quot;&gt;\r\n            Invalid username and password.\r\n        &lt;/div&gt;\r\n        &lt;div th:if=&quot;${param.logout}&quot;&gt;\r\n            You have been logged out.\r\n        &lt;/div&gt;\r\n        &lt;span th:text=&quot;${message}&quot;&gt;&lt;/span&gt;\r\n        &lt;form th:action=&quot;@{/login}&quot; method=&quot;POST&quot;&gt;\r\n            &lt;div&gt;&lt;label&gt; Username : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\r\n        &lt;/form&gt;\r\n        &lt;a href=&quot;/registrate&quot;&gt;Create new user&lt;/a&gt;\r\n        &lt;a href=&quot;/users&quot;&gt;To users&lt;/a&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Encoded password does not look like BCrypt. How to fix?","body":"<p>I try to realise an authorization, but cannot get the cause of this problem: <code>Encoded password does not look like BCrypt</code>\nMy actions sequence: open <code>localhost:8080/login</code>, write &quot;user&quot; in login input and &quot;password&quot; in password (user with such login and password is guaranteed to exist), submit, here the problem appears (<code>Encoded password does not look like BCrypt</code> is written in console), login is failed.\nI am new at Spring, so I need your experienced advice. I guess, the reason is in the <code>auth.userDetailsService(userService).passwordEncoder(passwordEncoder());</code> in <code>protected void configure(AuthenticationManagerBuilder auth)</code> method in <code>WebSecurityConfig.java</code>, but I cannot apply any solution I've found.</p>\n<p><strong>WebSecurityConfig.java</strong></p>\n<pre><code>package com.todo.todo.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport com.todo.todo.services.UserService;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig{\n    @Autowired\n    private UserService userService;\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((requests) -&gt; requests\n                .antMatchers(&quot;/&quot;,\n                &quot;/index&quot;,\n                &quot;/users&quot;,\n                &quot;/registrate&quot;,\n                &quot;/deleteuser/**&quot;,\n                &quot;/webjars/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder());\n    }\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p><strong>UserService.java</strong></p>\n<pre><code>package com.todo.todo.services;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport com.todo.todo.repositories.UserRepository;\n\n@Service\npublic class UserService implements UserDetailsService{\n    @Autowired\n    private UserRepository userRepository;\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        UserDetails userDetails = userRepository.findByUsername(username);\n        if(userDetails == null) throw new UsernameNotFoundException(&quot;No such username&quot;);\n        return userDetails;\n    }\n}\n</code></pre>\n<p><strong>UserRepository.java</strong></p>\n<pre><code>package com.todo.todo.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.todo.todo.models.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n    User findByUsername(String username);\n}\n</code></pre>\n<p><strong>UserController.java</strong></p>\n<pre><code>package com.todo.todo.controllers;\n\nimport java.time.Instant;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.NoSuchElementException;\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.servlet.ModelAndView;\nimport com.todo.todo.models.Role;\nimport com.todo.todo.models.User;\nimport com.todo.todo.repositories.UserRepository;\n\n@Controller\npublic class UserController {\n\n    private final String registratePage = &quot;registrate&quot;;\n    // private final String loginPage = &quot;login&quot;;\n    private final String redirectLoginPage = &quot;redirect:/login&quot;;\n    private final String redirectUsersPage = &quot;redirect:/users&quot;;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping(&quot;/users&quot;)\n    public ModelAndView getHomePage(@AuthenticationPrincipal User user){\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;users&quot;);\n        modelAndView.addObject(&quot;users&quot;, userRepository.findAll());\n        return modelAndView;\n    }\n\n    @GetMapping(&quot;/deleteuser/{id}&quot;)\n    public String deleteTask(@PathVariable(&quot;id&quot;) Long id, Model model){\n        User user = userRepository.findById(id).orElseThrow(() -&gt; new NoSuchElementException(&quot;User not found by id = &quot; + id));\n        userRepository.delete(user);\n        return redirectUsersPage;\n    }\n    \n    @GetMapping(&quot;/registrate&quot;)\n    public String getRegistratePage(){\n        return registratePage;\n    }\n\n    @PostMapping(&quot;/registrate&quot;)\n    public String registrateUser(@Valid User user, Map&lt;String, Object&gt; map){\n        User userFromDatabase = userRepository.findByUsername(user.getUsername());\n        if(userFromDatabase != null){\n            map.put(&quot;message&quot;, &quot;User has been already registrated!&quot;);\n            return registratePage;\n        }\n        user.setCreatedDate(Instant.now());\n        user.setRoles(Collections.singleton(Role.USER));\n        userRepository.save(user);\n        map.put(&quot;message&quot;, &quot;User has been successfully registrated!&quot;);\n        return redirectLoginPage;\n    }\n}\n</code></pre>\n<p><strong>User.java</strong></p>\n<pre><code>package com.todo.todo.models;\n\nimport java.time.Instant;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.CollectionTable;\nimport javax.persistence.ElementCollection;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;usr&quot;)\npublic class User implements UserDetails{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @NotBlank(message = &quot;Fill username&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;Fill password&quot;)\n    private String password;\n\n    private Instant createdDate;\n\n    @ElementCollection(targetClass = Role.class, fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @Enumerated(EnumType.STRING)\n    private Set&lt;Role&gt; roles;\n\n    public User() {\n    }\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n        this.createdDate = Instant.now();\n        this.roles = new HashSet&lt;&gt;();\n    }\n    @Override\n    public String toString() {\n        return String.format(&quot;User{id=%d, username='%s', password='%s', createdDate='%s'}&quot;,\n        id, username, password, createdDate);\n    }\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return getRoles();\n    }\n    @Override\n    public String getUsername() {\n        return username;\n    }\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n    @Override\n    public boolean isEnabled() {\n        return true;\n    } \n}\n</code></pre>\n<p><strong>login.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;LOGIN&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div th:if=&quot;${param.error}&quot;&gt;\n            Invalid username and password.\n        &lt;/div&gt;\n        &lt;div th:if=&quot;${param.logout}&quot;&gt;\n            You have been logged out.\n        &lt;/div&gt;\n        &lt;span th:text=&quot;${message}&quot;&gt;&lt;/span&gt;\n        &lt;form th:action=&quot;@{/login}&quot; method=&quot;POST&quot;&gt;\n            &lt;div&gt;&lt;label&gt; Username : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\n        &lt;/form&gt;\n        &lt;a href=&quot;/registrate&quot;&gt;Create new user&lt;/a&gt;\n        &lt;a href=&quot;/users&quot;&gt;To users&lt;/a&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","regex","string","java-stream","option-type"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662813384,"post_id":73671841,"comment_id":130095570,"body_markdown":"What is the logic behind this, why `&lt;sup&gt;D&lt;/sup&gt;` only `[D]` not `[D-value}`?","body":"What is the logic behind this, why <code>&lt;sup&gt;D&lt;&#47;sup&gt;</code> only <code>[D]</code> not <code>[D-value}</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1662814221,"post_id":73671841,"comment_id":130095705,"body_markdown":"I would use a `Map&lt;String, Dictionary&gt;` with keys being Dictionary.key -  O(1) search time, instead of `List&lt;Dictionary&gt;` - O(N) search time.","body":"I would use a <code>Map&lt;String, Dictionary&gt;</code> with keys being Dictionary.key -  O(1) search time, instead of <code>List&lt;Dictionary&gt;</code> - O(N) search time."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1662916019,"post_id":73671841,"comment_id":130111673,"body_markdown":"@Jens - it is just a simplified example.","body":"@Jens - it is just a simplified example."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662823373,"creation_date":1662823373,"answer_id":73673000,"question_id":73671841,"body_markdown":"Create a map from your list using `key` as key and `value` as value, use the `Matcher#appendReplacement` method to replace matches using the above map and calling `Map.getOrDefault`, use the `group(1)` value as default value. Use String#join to put the replacements in square braces\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        List&lt;Dictionary&gt; dictionary = List.of(\r\n                new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\r\n                new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;));\r\n\r\n        Map&lt;String,String&gt; myMap = dictionary.stream()\r\n                                             .collect(Collectors.toMap(Dictionary::key, Dictionary::value));\r\n\r\n        String theText  = &quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;;\r\n        Matcher matcher = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (matcher.find()) {\r\n            matcher.appendReplacement(sb, \r\n                      String.join(&quot;&quot;, &quot;[&quot;, myMap.getOrDefault(matcher.group(1), matcher.group(1)), &quot;]&quot;));\r\n        }\r\n        matcher.appendTail(sb);\r\n        System.out.println(sb.toString());\r\n    }\r\n\r\n    record Dictionary( String key, String value, String other) {};\r\n","title":"Java-Stream &amp; Optional - Find a value that matches to a stream-element or provide a Default value","body":"<p>Create a map from your list using <code>key</code> as key and <code>value</code> as value, use the <code>Matcher#appendReplacement</code> method to replace matches using the above map and calling <code>Map.getOrDefault</code>, use the <code>group(1)</code> value as default value. Use String#join to put the replacements in square braces</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Dictionary&gt; dictionary = List.of(\n            new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\n            new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;));\n\n    Map&lt;String,String&gt; myMap = dictionary.stream()\n                                         .collect(Collectors.toMap(Dictionary::key, Dictionary::value));\n\n    String theText  = &quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;;\n    Matcher matcher = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText);\n\n    StringBuilder sb = new StringBuilder();\n    while (matcher.find()) {\n        matcher.appendReplacement(sb, \n                  String.join(&quot;&quot;, &quot;[&quot;, myMap.getOrDefault(matcher.group(1), matcher.group(1)), &quot;]&quot;));\n    }\n    matcher.appendTail(sb);\n    System.out.println(sb.toString());\n}\n\nrecord Dictionary( String key, String value, String other) {};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662834973,"creation_date":1662824020,"answer_id":73673077,"question_id":73671841,"body_markdown":"# Map vs List\r\n\r\nAs *@Chaosfire* has pointed out in the comment, a `Map` is more suitable collection for the task than a `List`, because it eliminates the need of iterating over collection to access a particular element\r\n\r\n```\r\nMap&lt;String, Dictionary&gt; dictByKey = Map.of(\r\n    &quot;a&quot;, new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\r\n    &quot;b&quot;, new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;)\r\n);\r\n```\r\n\r\nAnd I would also recommend wrapping the `Map` with a class in order to provide continent access to the string-values of the dictionary, otherwise we are forced to check whether a dictionary returned from the map is not `null` and only then make a call to obtain the required value, which is inconvenient. The utility class can facilitate getting the target value in a single method call.\r\n\r\nTo avoid complicating the answer, I would not implement such a utility class, and for simplicity I&#39;ll go with a `Map&lt;String,String&gt;` (which basically would act as a utility class intended to act - providing the value within a single call).\r\n\r\n```\r\npublic static final Map&lt;String, String&gt; dictByKey = Map.of(\r\n    &quot;a&quot;, &quot;a-value&quot;,\r\n    &quot;b&quot;, &quot;b-value&quot;\r\n);\r\n```\r\n\r\n# Pattern.splitAsStream()\r\n\r\nWe can replace `while`-loop with a stream created via [`splitAsStream()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)) .\r\n\r\nIn order to distinguish between string-values enclosed with tags `&lt;sup&gt;text&lt;/sup&gt;` we can make use of the special constructs which are called *Lookbehind* (`?&lt;=&lt;/sup&gt;`) and *Lookahead* (`?=&lt;sup&gt;`).\r\n\r\n* `(?&lt;=foo)` - matches a position that immediately precedes the `foo`.\r\n* `(?=foo)` - matches a position that immediately follows after the `foo`;\r\n\r\n&lt;sup&gt;For more information, [have a look at this tutorial](https://www.regular-expressions.info/lookaround.html)&lt;/sup&gt;\r\n\r\nThe *pattern* `&quot;(?=&lt;sup&gt;)|(?&lt;=&lt;/sup&gt;)&quot;` would match a position in the given string right before the *opening tag* and immediately after the *closing tag*. So when we apply this *pattern* splitting the string with `splitAsStream()`, it would produce a stream containing elements like `&quot;&lt;sup&gt;a&lt;/sup&gt;&quot;` enclosed with *tags*, and plain string like `&quot;One&quot;`, `&quot;Two&quot;`, `&quot;Three&quot;`.\r\n\r\nNote that in order to reuse the *pattern* without recompiling, it can be declared on a class level:\r\n\r\n```\r\npublic static final Pattern pattern = Pattern.compile(&quot;(?=&lt;sup&gt;)|(?&lt;=&lt;/sup&gt;)&quot;);\r\n```\r\n\r\nThe final solution would result in lean and simple stream:\r\n\r\n    public static void foo(String text) {\r\n\r\n        String result = pattern.splitAsStream(text)\r\n            .map(str -&gt; getValue(str))      // or MyClass::getValue\r\n            .collect(Collectors.joining());\r\n    \r\n        System.out.println(result);\r\n    }\r\n\r\nInstead of tackling conditional logic inside a lambda, it&#39;s often better to extract it into a separate method (*sure, you can use a ternary operator and place this logic right inside the* `map` *operation in the stream if you wish instead of having this method, but it&#39;ll be a bit messy*):\r\n\r\n    public static String getValue(String str) {\r\n        if (str.matches(&quot;&lt;sup&gt;\\\\p{Alpha}+&lt;/sup&gt;&quot;)) {\r\n            String key = str.replaceAll(&quot;&lt;sup&gt;|&lt;/sup&gt;&quot;, &quot;&quot;);\r\n            return &quot;[&quot; + dictByKey.getOrDefault(key, key) + &quot;]&quot;;\r\n        }\r\n        return str;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        foo(&quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;);\r\n    }\r\n\r\n*Output:*\r\n```\r\nResult: One [a-value] Two [b-value] Three [D] Four\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/v1T)","title":"Java-Stream &amp; Optional - Find a value that matches to a stream-element or provide a Default value","body":"<h1>Map vs List</h1>\n<p>As <em>@Chaosfire</em> has pointed out in the comment, a <code>Map</code> is more suitable collection for the task than a <code>List</code>, because it eliminates the need of iterating over collection to access a particular element</p>\n<pre><code>Map&lt;String, Dictionary&gt; dictByKey = Map.of(\n    &quot;a&quot;, new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\n    &quot;b&quot;, new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;)\n);\n</code></pre>\n<p>And I would also recommend wrapping the <code>Map</code> with a class in order to provide continent access to the string-values of the dictionary, otherwise we are forced to check whether a dictionary returned from the map is not <code>null</code> and only then make a call to obtain the required value, which is inconvenient. The utility class can facilitate getting the target value in a single method call.</p>\n<p>To avoid complicating the answer, I would not implement such a utility class, and for simplicity I'll go with a <code>Map&lt;String,String&gt;</code> (which basically would act as a utility class intended to act - providing the value within a single call).</p>\n<pre><code>public static final Map&lt;String, String&gt; dictByKey = Map.of(\n    &quot;a&quot;, &quot;a-value&quot;,\n    &quot;b&quot;, &quot;b-value&quot;\n);\n</code></pre>\n<h1>Pattern.splitAsStream()</h1>\n<p>We can replace <code>while</code>-loop with a stream created via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>splitAsStream()</code></a> .</p>\n<p>In order to distinguish between string-values enclosed with tags <code>&lt;sup&gt;text&lt;/sup&gt;</code> we can make use of the special constructs which are called <em>Lookbehind</em> (<code>?&lt;=&lt;/sup&gt;</code>) and <em>Lookahead</em> (<code>?=&lt;sup&gt;</code>).</p>\n<ul>\n<li><code>(?&lt;=foo)</code> - matches a position that immediately precedes the <code>foo</code>.</li>\n<li><code>(?=foo)</code> - matches a position that immediately follows after the <code>foo</code>;</li>\n</ul>\n<p><sup>For more information, <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">have a look at this tutorial</a></sup></p>\n<p>The <em>pattern</em> <code>&quot;(?=&lt;sup&gt;)|(?&lt;=&lt;/sup&gt;)&quot;</code> would match a position in the given string right before the <em>opening tag</em> and immediately after the <em>closing tag</em>. So when we apply this <em>pattern</em> splitting the string with <code>splitAsStream()</code>, it would produce a stream containing elements like <code>&quot;&lt;sup&gt;a&lt;/sup&gt;&quot;</code> enclosed with <em>tags</em>, and plain string like <code>&quot;One&quot;</code>, <code>&quot;Two&quot;</code>, <code>&quot;Three&quot;</code>.</p>\n<p>Note that in order to reuse the <em>pattern</em> without recompiling, it can be declared on a class level:</p>\n<pre><code>public static final Pattern pattern = Pattern.compile(&quot;(?=&lt;sup&gt;)|(?&lt;=&lt;/sup&gt;)&quot;);\n</code></pre>\n<p>The final solution would result in lean and simple stream:</p>\n<pre><code>public static void foo(String text) {\n\n    String result = pattern.splitAsStream(text)\n        .map(str -&gt; getValue(str))      // or MyClass::getValue\n        .collect(Collectors.joining());\n\n    System.out.println(result);\n}\n</code></pre>\n<p>Instead of tackling conditional logic inside a lambda, it's often better to extract it into a separate method (<em>sure, you can use a ternary operator and place this logic right inside the</em> <code>map</code> <em>operation in the stream if you wish instead of having this method, but it'll be a bit messy</em>):</p>\n<pre><code>public static String getValue(String str) {\n    if (str.matches(&quot;&lt;sup&gt;\\\\p{Alpha}+&lt;/sup&gt;&quot;)) {\n        String key = str.replaceAll(&quot;&lt;sup&gt;|&lt;/sup&gt;&quot;, &quot;&quot;);\n        return &quot;[&quot; + dictByKey.getOrDefault(key, key) + &quot;]&quot;;\n    }\n    return str;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    foo(&quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Result: One [a-value] Two [b-value] Three [D] Four\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/v1T\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662824190,"creation_date":1662824190,"answer_id":73673097,"question_id":73671841,"body_markdown":"Since Java 9, [`Matcher#replaceAll`](https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-) can accept a callback function to return the replacement for each matched value.\r\n\r\n```java\r\nString result = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText)\r\n    .replaceAll(mr -&gt; &quot;[&quot; + dictionary.stream().filter(f -&gt; f.key().equals(mr.group(1)))\r\n                  .findFirst().map(Dictionary::value)\r\n                  .orElse(mr.group(1)) + &quot;]&quot;);\r\n```","title":"Java-Stream &amp; Optional - Find a value that matches to a stream-element or provide a Default value","body":"<p>Since Java 9, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Matcher#replaceAll</code></a> can accept a callback function to return the replacement for each matched value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText)\n    .replaceAll(mr -&gt; &quot;[&quot; + dictionary.stream().filter(f -&gt; f.key().equals(mr.group(1)))\n                  .findFirst().map(Dictionary::value)\n                  .orElse(mr.group(1)) + &quot;]&quot;);\n</code></pre>\n"}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73673097,"answer_count":3,"score":2,"last_activity_date":1662834973,"creation_date":1662813176,"question_id":73671841,"body_markdown":"I have a `Dictionary` object which consists of several entries:\r\n\r\n```\r\nrecord Dictionary(String key, String value, String other) {};\r\n```\r\n\r\nI would like to replace words in the given `String` my a which are present as a &quot;key&quot; in one of the dictionaries with the corresponding value. I can achieve it like this, but I guess, there must be a better way to do this. \r\n\r\nAn example: \r\n\r\n    &gt; Input: One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four\r\n    &gt; Output: One [a-value] Two [b-value] Three [D] Four\r\n\r\nThe code to be improved: \r\n\r\n    public class ReplaceStringWithDictionaryEntries {\r\n        public static void main(String[] args) {\r\n            List&lt;Dictionary&gt; dictionary = List.of(new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\r\n                    new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;));\r\n            String theText = &quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;;\r\n            Matcher matcher = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText);\r\n            StringBuilder sb = new StringBuilder();\r\n            int matchLast = 0;\r\n            while (matcher.find()) {\r\n                sb.append(theText, matchLast, matcher.start());\r\n                Optional&lt;Dictionary&gt; dict = dictionary.stream().filter(f -&gt; f.key().equals(matcher.group(1))).findFirst();\r\n                if (dict.isPresent()) {\r\n                    sb.append(&quot;[&quot;).append(dict.get().value()).append(&quot;]&quot;);\r\n                } else {\r\n                    sb.append(&quot;[&quot;).append(matcher.group(1)).append(&quot;]&quot;);\r\n                }\r\n    \r\n                matchLast = matcher.end();\r\n            }\r\n            if (matchLast != 0) {\r\n                sb.append(theText.substring(matchLast));\r\n            }\r\n            System.out.println(&quot;Result: &quot; + sb.toString());\r\n        }\r\n    }\r\n    \r\n*Output:*\r\n\r\n```\r\nResult: One [a-value] Two [b-value] Three [D] Four\r\n```\r\n\r\nDo you have a more elegant way to do this? ","title":"Java-Stream &amp; Optional - Find a value that matches to a stream-element or provide a Default value","body":"<p>I have a <code>Dictionary</code> object which consists of several entries:</p>\n<pre><code>record Dictionary(String key, String value, String other) {};\n</code></pre>\n<p>I would like to replace words in the given <code>String</code> my a which are present as a &quot;key&quot; in one of the dictionaries with the corresponding value. I can achieve it like this, but I guess, there must be a better way to do this.</p>\n<p>An example:</p>\n<pre><code>&gt; Input: One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four\n&gt; Output: One [a-value] Two [b-value] Three [D] Four\n</code></pre>\n<p>The code to be improved:</p>\n<pre><code>public class ReplaceStringWithDictionaryEntries {\n    public static void main(String[] args) {\n        List&lt;Dictionary&gt; dictionary = List.of(new Dictionary(&quot;a&quot;, &quot;a-value&quot;, &quot;a-other&quot;),\n                new Dictionary(&quot;b&quot;, &quot;b-value&quot;, &quot;b-other&quot;));\n        String theText = &quot;One &lt;sup&gt;a&lt;/sup&gt; Two &lt;sup&gt;b&lt;/sup&gt; Three &lt;sup&gt;D&lt;/sup&gt; Four&quot;;\n        Matcher matcher = Pattern.compile(&quot;&lt;sup&gt;([A-Za-z]+)&lt;/sup&gt;&quot;).matcher(theText);\n        StringBuilder sb = new StringBuilder();\n        int matchLast = 0;\n        while (matcher.find()) {\n            sb.append(theText, matchLast, matcher.start());\n            Optional&lt;Dictionary&gt; dict = dictionary.stream().filter(f -&gt; f.key().equals(matcher.group(1))).findFirst();\n            if (dict.isPresent()) {\n                sb.append(&quot;[&quot;).append(dict.get().value()).append(&quot;]&quot;);\n            } else {\n                sb.append(&quot;[&quot;).append(matcher.group(1)).append(&quot;]&quot;);\n            }\n\n            matchLast = matcher.end();\n        }\n        if (matchLast != 0) {\n            sb.append(theText.substring(matchLast));\n        }\n        System.out.println(&quot;Result: &quot; + sb.toString());\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Result: One [a-value] Two [b-value] Three [D] Four\n</code></pre>\n<p>Do you have a more elegant way to do this?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1662833137,"post_id":73674067,"comment_id":130099480,"body_markdown":"The `implementation` configuration specifically does _not_ make the dependency of project X visible to any other projects which themselves depend on project X. Apply the [Java Library](https://docs.gradle.org/current/userguide/java_library_plugin.html) plugin and use the `api` configuration.","body":"The <code>implementation</code> configuration specifically does <i>not</i> make the dependency of project X visible to any other projects which themselves depend on project X. Apply the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">Java Library</a> plugin and use the <code>api</code> configuration."},{"owner":{"account_id":975245,"reputation":1402,"user_id":996709,"accept_rate":87,"display_name":"ceran"},"score":0,"creation_date":1662833495,"post_id":73674067,"comment_id":130099532,"body_markdown":"@Slaw ah, you are right. My impression was that `java-library` is not the right tool for the job if I don&#39;t want to publish an actual library to the outside world, but I was obviously wrong about that. If you add your comment as an answer, I can accept it.","body":"@Slaw ah, you are right. My impression was that <code>java-library</code> is not the right tool for the job if I don&#39;t want to publish an actual library to the outside world, but I was obviously wrong about that. If you add your comment as an answer, I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662833776,"creation_date":1662833776,"answer_id":73674202,"question_id":73674067,"body_markdown":"This is expected behavior for the `implementation` configuration. You should apply the [Java Library Plugin][1] and use the `api` configuration.\r\n\r\n&gt; The key difference between the standard Java plugin and the Java Library plugin is that the latter introduces the concept of an _API_ exposed to consumers. A library is a Java component meant to be consumed by other components. **It’s a very common use case in multi-project builds** _[emphasis added]_, but also as soon as you have external dependencies.\r\n&gt;\r\n&gt; The plugin exposes two [configurations][2] that can be used to declare dependencies: `api` and `implementation`. The `api` configuration should be used to declare dependencies which are exported by the library API, whereas the `implementation` configuration should be used to declare dependencies which are internal to the component.\r\n&gt;\r\n&gt; _[...]_\r\n&gt;\r\n&gt; Dependencies appearing in the `api` configurations will be transitively exposed to consumers of the library, and as such will appear on the compile classpath of consumers. Dependencies found in the `implementation` configuration will, on the other hand, not be exposed to consumers, and therefore not leak into the consumers&#39; compile classpath. _[...]_\r\n\r\nIn `sub-project-commons` (Kotlin DSL):\r\n\r\n```lang-kotlin\r\nplugins {\r\n    ...\r\n\r\n    `java-library`\r\n}\r\n\r\n...\r\n\r\ndependencies {\r\n    api(project(&quot;:sub-project-abstract&quot;))\r\n}\r\n\r\n...\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html\r\n  [2]: https://docs.gradle.org/current/userguide/declaring_dependencies.html#sec:what-are-dependency-configurations","title":"Gradle project does not export implementation-dependency to other projects","body":"<p>This is expected behavior for the <code>implementation</code> configuration. You should apply the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">Java Library Plugin</a> and use the <code>api</code> configuration.</p>\n<blockquote>\n<p>The key difference between the standard Java plugin and the Java Library plugin is that the latter introduces the concept of an <em>API</em> exposed to consumers. A library is a Java component meant to be consumed by other components. <strong>It’s a very common use case in multi-project builds</strong> <em>[emphasis added]</em>, but also as soon as you have external dependencies.</p>\n<p>The plugin exposes two <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html#sec:what-are-dependency-configurations\" rel=\"nofollow noreferrer\">configurations</a> that can be used to declare dependencies: <code>api</code> and <code>implementation</code>. The <code>api</code> configuration should be used to declare dependencies which are exported by the library API, whereas the <code>implementation</code> configuration should be used to declare dependencies which are internal to the component.</p>\n<p><em>[...]</em></p>\n<p>Dependencies appearing in the <code>api</code> configurations will be transitively exposed to consumers of the library, and as such will appear on the compile classpath of consumers. Dependencies found in the <code>implementation</code> configuration will, on the other hand, not be exposed to consumers, and therefore not leak into the consumers' compile classpath. <em>[...]</em></p>\n</blockquote>\n<p>In <code>sub-project-commons</code> (Kotlin DSL):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    ...\n\n    `java-library`\n}\n\n...\n\ndependencies {\n    api(project(&quot;:sub-project-abstract&quot;))\n}\n\n...\n</code></pre>\n"}],"owner":{"account_id":975245,"reputation":1402,"user_id":996709,"accept_rate":87,"display_name":"ceran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73674202,"answer_count":1,"score":1,"last_activity_date":1662833776,"creation_date":1662832547,"question_id":73674067,"body_markdown":"My gradle project contains 3 sub-projects with one source file each:\r\n\r\n    root-project\\\r\n        sub-project-abstract\\\r\n            ...AbstractFoo.java\r\n        sub-project-commons\\\r\n            ...ConcreteFoo.java (extends AbstractFoo)\r\n        sub-project-main\\\r\n            ...Main.java (instantiates ConcreteFoo)\r\n\r\nbuild.gradle of `sub-project-commons`:\r\n\r\n    dependencies {\r\n        implementation(project(:sub-project-abstract))\r\n    }\r\n\r\nbuild.gradle of `sub-project-main`:\r\n\r\n    dependencies {\r\n        implementation(project(:sub-project-commons))\r\n    }\r\n\r\nThe Main-class in `sub-project-main` is aware of `ConcreteFoo`, however, **compilation fails with `cannot access AbstractFoo`**.\r\n\r\nFor some reason, I expected `sub-project-commons` to &quot;export&quot; `ConcreteFoo` **and** `AbstractFoo`, since it&#39;s a implementation-dependency. Or in other words, form the perspective of `sub-project-main`, `AbstractFoo` is a transitive dependency.\r\n\r\nHowever, this doesn&#39;t seem to be the case.\r\nI know that I could probably make it work by explicitly adding `sub-project-abstract` as a direct dependency to `sub-project-main`. However, that&#39;s something I want to avoid due to the nature of the commons project (my actual project contains up to 10 subprojects, and it should be possible to reuse the commons-project without declaring a dependency to `sub-project-abstract` every single time the commons-project is referenced.\r\n\r\nIs there a way to make the Main-class aware of `AbstractFoo` without directly declaring `sub-project-abstract` as a dependency (but indirectly via `sub-project-commons`)? \r\n\r\n","title":"Gradle project does not export implementation-dependency to other projects","body":"<p>My gradle project contains 3 sub-projects with one source file each:</p>\n<pre><code>root-project\\\n    sub-project-abstract\\\n        ...AbstractFoo.java\n    sub-project-commons\\\n        ...ConcreteFoo.java (extends AbstractFoo)\n    sub-project-main\\\n        ...Main.java (instantiates ConcreteFoo)\n</code></pre>\n<p>build.gradle of <code>sub-project-commons</code>:</p>\n<pre><code>dependencies {\n    implementation(project(:sub-project-abstract))\n}\n</code></pre>\n<p>build.gradle of <code>sub-project-main</code>:</p>\n<pre><code>dependencies {\n    implementation(project(:sub-project-commons))\n}\n</code></pre>\n<p>The Main-class in <code>sub-project-main</code> is aware of <code>ConcreteFoo</code>, however, <strong>compilation fails with <code>cannot access AbstractFoo</code></strong>.</p>\n<p>For some reason, I expected <code>sub-project-commons</code> to &quot;export&quot; <code>ConcreteFoo</code> <strong>and</strong> <code>AbstractFoo</code>, since it's a implementation-dependency. Or in other words, form the perspective of <code>sub-project-main</code>, <code>AbstractFoo</code> is a transitive dependency.</p>\n<p>However, this doesn't seem to be the case.\nI know that I could probably make it work by explicitly adding <code>sub-project-abstract</code> as a direct dependency to <code>sub-project-main</code>. However, that's something I want to avoid due to the nature of the commons project (my actual project contains up to 10 subprojects, and it should be possible to reuse the commons-project without declaring a dependency to <code>sub-project-abstract</code> every single time the commons-project is referenced.</p>\n<p>Is there a way to make the Main-class aware of <code>AbstractFoo</code> without directly declaring <code>sub-project-abstract</code> as a dependency (but indirectly via <code>sub-project-commons</code>)?</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1662859041,"post_id":73674186,"comment_id":130103181,"body_markdown":"Beginning with API 31, Bluetooth requests must first obtain user permission, specifically the BLUETOOTH CONNECT permission, in order to access a paired Bluetooth device.","body":"Beginning with API 31, Bluetooth requests must first obtain user permission, specifically the BLUETOOTH CONNECT permission, in order to access a paired Bluetooth device."},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1662859256,"post_id":73674186,"comment_id":130103197,"body_markdown":"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices","body":"<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"}],"owner":{"account_id":18582583,"reputation":1,"user_id":13541774,"display_name":"CoNe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662833650,"creation_date":1662833650,"question_id":73674186,"body_markdown":"I have to receive data from bluetooth (bytes), and when I display it in console, it works fine, as expected. But app does not run, it just stops loading and that&#39;s all. That&#39;s a case when I use while (true), otherwise it does not work in real time. \r\n\r\nMain attention to while loop and \r\n\r\n    static final UUID mUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n    // TextView myAwesomeTextView = (TextView)findViewById(R.id.textView);\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        BluetoothAdapter btadapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        Button button1 = (Button) findViewById(R.id.button);\r\n\r\n        System.out.println(btadapter.getBondedDevices());\r\n        BluetoothDevice hc06 = btadapter.getRemoteDevice(&quot;98:D3:31:B3:15:81&quot;);\r\n        System.out.println(hc06.getName());\r\n        BluetoothSocket btSocket = null;\r\n        int counter = 0;\r\n        do {\r\n            try {\r\n                btSocket = hc06.createRfcommSocketToServiceRecord(mUUID);\r\n                System.out.println(btSocket);\r\n                btSocket.connect();\r\n                System.out.println(btSocket.isConnected());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            counter++;\r\n        } while (!btSocket.isConnected() &amp;&amp; counter &lt; 3);\r\n\r\n\r\n        InputStream inputStream = null;\r\n        try {\r\n\r\n            inputStream = btSocket.getInputStream();\r\n            inputStream.skip(inputStream.available());\r\n            byte[] b = new byte[6];\r\n\r\n\r\n            while (true) {\r\n\r\n                //inputStream.read(b);\r\n                System.out.println(b[0]);\r\n                inputStream.read(b);\r\n\r\n                if (b[0] == 2) {\r\n                    button1.setBackgroundColor(Color.GREEN);\r\n                } else {\r\n                    button1.setBackgroundColor(Color.RED);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n","title":"App does not run, receiving data from bluetooth, Android Java","body":"<p>I have to receive data from bluetooth (bytes), and when I display it in console, it works fine, as expected. But app does not run, it just stops loading and that's all. That's a case when I use while (true), otherwise it does not work in real time.</p>\n<p>Main attention to while loop and</p>\n<pre><code>static final UUID mUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n// TextView myAwesomeTextView = (TextView)findViewById(R.id.textView);\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    BluetoothAdapter btadapter = BluetoothAdapter.getDefaultAdapter();\n\n    Button button1 = (Button) findViewById(R.id.button);\n\n    System.out.println(btadapter.getBondedDevices());\n    BluetoothDevice hc06 = btadapter.getRemoteDevice(&quot;98:D3:31:B3:15:81&quot;);\n    System.out.println(hc06.getName());\n    BluetoothSocket btSocket = null;\n    int counter = 0;\n    do {\n        try {\n            btSocket = hc06.createRfcommSocketToServiceRecord(mUUID);\n            System.out.println(btSocket);\n            btSocket.connect();\n            System.out.println(btSocket.isConnected());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        counter++;\n    } while (!btSocket.isConnected() &amp;&amp; counter &lt; 3);\n\n\n    InputStream inputStream = null;\n    try {\n\n        inputStream = btSocket.getInputStream();\n        inputStream.skip(inputStream.available());\n        byte[] b = new byte[6];\n\n\n        while (true) {\n\n            //inputStream.read(b);\n            System.out.println(b[0]);\n            inputStream.read(b);\n\n            if (b[0] == 2) {\n                button1.setBackgroundColor(Color.GREEN);\n            } else {\n                button1.setBackgroundColor(Color.RED);\n            }\n\n        }\n\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662826600,"post_id":73673343,"comment_id":130098184,"body_markdown":"`but it doesn&#39;t work` - that&#39;s not a good description of the problem, consider improving it.","body":"<code>but it doesn&#39;t work</code> - that&#39;s not a good description of the problem, consider improving it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1662827043,"post_id":73673343,"comment_id":130098258,"body_markdown":"**A hint:** this statament `int newArr[][] = new int[one_d_array.length + 1][one_d_array.length + 1];` creates a nested array, which contains one additional inner array, and all inner array has a *length* of `3` (`1` + length initial of the initial nested array which is `2`). So I suspect you&#39;re getting an `ArrayIndexOutOfBounds` in the for loop because `one_d_array[0].length` is `4`.","body":"<b>A hint:</b> this statament <code>int newArr[][] = new int[one_d_array.length + 1][one_d_array.length + 1];</code> creates a nested array, which contains one additional inner array, and all inner array has a <i>length</i> of <code>3</code> (<code>1</code> + length initial of the initial nested array which is <code>2</code>). So I suspect you&#39;re getting an <code>ArrayIndexOutOfBounds</code> in the for loop because <code>one_d_array[0].length</code> is <code>4</code>."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1662827110,"post_id":73673343,"comment_id":130098276,"body_markdown":"Not sure I understand what you are trying to do with your code.  Can you provide the content of the original array, then the input, and what the output should look like?","body":"Not sure I understand what you are trying to do with your code.  Can you provide the content of the original array, then the input, and what the output should look like?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662827128,"post_id":73673343,"comment_id":130098280,"body_markdown":"*Unrelated:* stick to the [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"<i>Unrelated:</i> stick to the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662827302,"post_id":73673343,"comment_id":130098305,"body_markdown":"`3x3 2D array` - that&#39;s not correct. `2x4` - you have two inner arrays of length `4`.","body":"<code>3x3 2D array</code> - that&#39;s not correct. <code>2x4</code> - you have two inner arrays of length <code>4</code>."},{"owner":{"display_name":"user17893652"},"score":0,"creation_date":1662827493,"post_id":73673343,"comment_id":130098339,"body_markdown":"@AlexanderIvanchenko yes, I got that when I compiled and executed the code. I took it out and run it again, and this time it rather displayed the address of the array to me.","body":"@AlexanderIvanchenko yes, I got that when I compiled and executed the code. I took it out and run it again, and this time it rather displayed the address of the array to me."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1662827668,"post_id":73673343,"comment_id":130098376,"body_markdown":"@KB21 [Update the question](https://stackoverflow.com/posts/73673343/edit) - edit the code (your current code will not compile) and describe this behavior.","body":"@KB21 <a href=\"https://stackoverflow.com/posts/73673343/edit\">Update the question</a> - edit the code (your current code will not compile) and describe this behavior."},{"owner":{"display_name":"user17893652"},"score":0,"creation_date":1662828968,"post_id":73673343,"comment_id":130098634,"body_markdown":"@AlexanderIvanchenko I am rephrasing the question. Hold  on.","body":"@AlexanderIvanchenko I am rephrasing the question. Hold  on."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662833355,"creation_date":1662833355,"answer_id":73674156,"question_id":73673343,"body_markdown":"Here is a break-down of one way this can be done. Read the comments in code:\r\n\r\n    // A 2x4 int[] array (2 Rows by 4 Columns in Each Row):\r\n    int[][] one_d_array = { // C0 C1 C2 C3      C = Column\r\n                             { 2, 4, 6, 8 },    // Row 0\r\n                             { 3, 5, 7, 9 }     // Row 1  \r\n                          };\r\n        \r\n    // Display the current Array into the Console window:\r\n    System.out.println(&quot;Your Current 2D Array (one_d_array):&quot;);\r\n    for (int[] ary : one_d_array) {\r\n        System.out.println(Arrays.toString(ary));\r\n    }\r\n    System.out.println();\r\n        \r\n    /* Adding an additional Column to each Row:\r\n       One way to do this is to recreate the original \r\n       Array with the help of a temporary array:   */\r\n    /* If you don&#39;t want to change the number of Rows\r\n       then remove the `+ 1` from newNumberOfRows:  */\r\n    int newNumberOfRows    = one_d_array.length;      // one_d_array.length + 1;\r\n    int newNumberOfColumns = one_d_array[0].length + 1;\r\n        \r\n    /* Declare and initialize a new 2D Array to accommodate \r\n       your desired new size (in this case columns +1).   */\r\n    int[][] newArr = new int[newNumberOfRows][newNumberOfColumns];\r\n        \r\n    /* Copy the Original Array (one_d_array) into the new Array (newArr). \r\n       We&#39;ll use the `System.arraycopy()` method to do this. This will fill\r\n       your new 2D array with the data from the Original 2D Array except \r\n       for the new Column(s) you added.                             */\r\n    for (int i = 0; i &lt; one_d_array.length; i++) {\r\n        System.arraycopy(one_d_array[i], 0, newArr[i], 0, one_d_array[i].length);\r\n    }\r\n        \r\n    Scanner sc = new Scanner(System.in); // Open a Stream for keyboard input.\r\n       \r\n    // User to supply Data values to the new columns in each row:\r\n    int num;\r\n    for (int i = 0; i &lt; newNumberOfRows; i++) {\r\n        System.out.print(&quot;Enter your desired number for Column #&quot; \r\n                     + newNumberOfColumns + &quot; of Row #&quot; + (i+1) + &quot;: -&gt; &quot;);\r\n        num = sc.nextInt();\r\n        /* We subtract 1 from newNumberOfColumns because array \r\n           indexes start from 0. newNumberOfColumns holds a literal\r\n           value.                             */\r\n        newArr[i][newNumberOfColumns - 1] = num; \r\n    }\r\n        \r\n    // Copy the new Array (newArr) into the Original Array (one_d_array)\r\n    one_d_array = new int[newArr.length][newArr[0].length];\r\n    for (int i = 0; i &lt; newArr.length; i++) {\r\n        System.arraycopy(newArr[i], 0, one_d_array[i], 0, newArr[i].length);\r\n    }\r\n        \r\n    // Print the Modified Original Array to the Console Window:\r\n    System.out.println();\r\n    System.out.println(&quot;Your Modified 2D Array (one_d_array):&quot;);\r\n    for (int[] ary : one_d_array) {\r\n        System.out.println(Arrays.toString(ary));\r\n    }\r\n\r\nWhen run, your console output should look something like this:\r\n\r\n    Your Current 2D Array (one_d_array):\r\n    [2, 4, 6, 8]\r\n    [3, 5, 7, 9]\r\n\r\n    Enter your desired number for Column #5 of Row #1: -&gt; 24\r\n    Enter your desired number for Column #5 of Row #2: -&gt; 36\r\n\r\n    Your Modified 2D Array (one_d_array):\r\n    [2, 4, 6, 8, 24]\r\n    [3, 5, 7, 9, 36]\r\n\r\nConsider using a `List` or an `ArrayList` as these can grow and shrink dynamically.","title":"Add more element to a 3x3 2D array","body":"<p>Here is a break-down of one way this can be done. Read the comments in code:</p>\n<pre><code>// A 2x4 int[] array (2 Rows by 4 Columns in Each Row):\nint[][] one_d_array = { // C0 C1 C2 C3      C = Column\n                         { 2, 4, 6, 8 },    // Row 0\n                         { 3, 5, 7, 9 }     // Row 1  \n                      };\n    \n// Display the current Array into the Console window:\nSystem.out.println(&quot;Your Current 2D Array (one_d_array):&quot;);\nfor (int[] ary : one_d_array) {\n    System.out.println(Arrays.toString(ary));\n}\nSystem.out.println();\n    \n/* Adding an additional Column to each Row:\n   One way to do this is to recreate the original \n   Array with the help of a temporary array:   */\n/* If you don't want to change the number of Rows\n   then remove the `+ 1` from newNumberOfRows:  */\nint newNumberOfRows    = one_d_array.length;      // one_d_array.length + 1;\nint newNumberOfColumns = one_d_array[0].length + 1;\n    \n/* Declare and initialize a new 2D Array to accommodate \n   your desired new size (in this case columns +1).   */\nint[][] newArr = new int[newNumberOfRows][newNumberOfColumns];\n    \n/* Copy the Original Array (one_d_array) into the new Array (newArr). \n   We'll use the `System.arraycopy()` method to do this. This will fill\n   your new 2D array with the data from the Original 2D Array except \n   for the new Column(s) you added.                             */\nfor (int i = 0; i &lt; one_d_array.length; i++) {\n    System.arraycopy(one_d_array[i], 0, newArr[i], 0, one_d_array[i].length);\n}\n    \nScanner sc = new Scanner(System.in); // Open a Stream for keyboard input.\n   \n// User to supply Data values to the new columns in each row:\nint num;\nfor (int i = 0; i &lt; newNumberOfRows; i++) {\n    System.out.print(&quot;Enter your desired number for Column #&quot; \n                 + newNumberOfColumns + &quot; of Row #&quot; + (i+1) + &quot;: -&gt; &quot;);\n    num = sc.nextInt();\n    /* We subtract 1 from newNumberOfColumns because array \n       indexes start from 0. newNumberOfColumns holds a literal\n       value.                             */\n    newArr[i][newNumberOfColumns - 1] = num; \n}\n    \n// Copy the new Array (newArr) into the Original Array (one_d_array)\none_d_array = new int[newArr.length][newArr[0].length];\nfor (int i = 0; i &lt; newArr.length; i++) {\n    System.arraycopy(newArr[i], 0, one_d_array[i], 0, newArr[i].length);\n}\n    \n// Print the Modified Original Array to the Console Window:\nSystem.out.println();\nSystem.out.println(&quot;Your Modified 2D Array (one_d_array):&quot;);\nfor (int[] ary : one_d_array) {\n    System.out.println(Arrays.toString(ary));\n}\n</code></pre>\n<p>When run, your console output should look something like this:</p>\n<pre><code>Your Current 2D Array (one_d_array):\n[2, 4, 6, 8]\n[3, 5, 7, 9]\n\nEnter your desired number for Column #5 of Row #1: -&gt; 24\nEnter your desired number for Column #5 of Row #2: -&gt; 36\n\nYour Modified 2D Array (one_d_array):\n[2, 4, 6, 8, 24]\n[3, 5, 7, 9, 36]\n</code></pre>\n<p>Consider using a <code>List</code> or an <code>ArrayList</code> as these can grow and shrink dynamically.</p>\n"}],"owner":{"display_name":"user17893652"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73674156,"answer_count":1,"score":-2,"last_activity_date":1662833355,"creation_date":1662826385,"question_id":73673343,"body_markdown":"I&#39;m writing an inventory list program, that provides the user with option of adding an item to the list of exiting the program. To add an item the user enters 1 and is promoted to enter the item details( item name, price and quantity of the items). The information enter by the user is entered into a 3x3 2D array table, which already has a few values in it. \r\nThe problem here is that I am finding it difficult to update/add new elements to the 3x3 2D array table. I&#39;ve searched the internet for solutions, but I couldn&#39;t find any.\r\nBelow is a code snippet of the 3x3 2D array table I wrote.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // put your code here\r\n            int[][] one_d_array = {{2, 4, 6, 8}, {3, 5, 7, 9}};\r\n            int newArr[][] = new int[one_d_array.length + 1][one_d_array.length + 1];\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your desired number:&quot;);\r\n            int num = sc.nextInt();\r\n            System.out.println(&quot;Enter your desired number:&quot;);\r\n            int num2 = sc.nextInt();\r\n            //System.out.println(Arrays.toString(oned_array));\r\n            for (int i = 0; i &lt; one_d_array.length; i++) {\r\n                for (int j = 0; j &lt; one_d_array.length; j++) {\r\n                    newArr[i][j] = one_d_array[i][j];\r\n                }\r\n            }\r\n            newArr[one_d_array.length][one_d_array.length] = ;\r\n            System.out.println(Arrays.toString(newArr));\r\n        }\r\n    }\r\nP.S \r\n   I&#39;m new to arrays and don&#39;t really know how to use them.","title":"Add more element to a 3x3 2D array","body":"<p>I'm writing an inventory list program, that provides the user with option of adding an item to the list of exiting the program. To add an item the user enters 1 and is promoted to enter the item details( item name, price and quantity of the items). The information enter by the user is entered into a 3x3 2D array table, which already has a few values in it.\nThe problem here is that I am finding it difficult to update/add new elements to the 3x3 2D array table. I've searched the internet for solutions, but I couldn't find any.\nBelow is a code snippet of the 3x3 2D array table I wrote.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        // put your code here\n        int[][] one_d_array = {{2, 4, 6, 8}, {3, 5, 7, 9}};\n        int newArr[][] = new int[one_d_array.length + 1][one_d_array.length + 1];\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your desired number:&quot;);\n        int num = sc.nextInt();\n        System.out.println(&quot;Enter your desired number:&quot;);\n        int num2 = sc.nextInt();\n        //System.out.println(Arrays.toString(oned_array));\n        for (int i = 0; i &lt; one_d_array.length; i++) {\n            for (int j = 0; j &lt; one_d_array.length; j++) {\n                newArr[i][j] = one_d_array[i][j];\n            }\n        }\n        newArr[one_d_array.length][one_d_array.length] = ;\n        System.out.println(Arrays.toString(newArr));\n    }\n}\n</code></pre>\n<p>P.S\nI'm new to arrays and don't really know how to use them.</p>\n"},{"tags":["java","algorithm","alpha-beta-pruning","negamax"],"comments":[{"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"score":0,"creation_date":1663395200,"post_id":73674043,"comment_id":130234038,"body_markdown":"Are you sure that it works correctly without pruning, more than checking just the starting position? You should make sure that your evaluation function is correct and that it plays correctly with normal negamax. Alpha/beta pruning should be super easy to implement after you get everything else to work, it is basically 2-3 lines of code, and it looks to me like you wrote them correctly, given the &quot;template&quot; from e.g. Wikipedia.","body":"Are you sure that it works correctly without pruning, more than checking just the starting position? You should make sure that your evaluation function is correct and that it plays correctly with normal negamax. Alpha/beta pruning should be super easy to implement after you get everything else to work, it is basically 2-3 lines of code, and it looks to me like you wrote them correctly, given the &quot;template&quot; from e.g. Wikipedia."}],"owner":{"account_id":26234919,"reputation":66,"user_id":19910241,"display_name":"Marco Coppola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662832259,"creation_date":1662832259,"question_id":73674043,"body_markdown":"I&#39;m struggling to get this code working, there is a problem somewhere but I can&#39;t understand where.\r\n\r\nI&#39;m developing a simple AI for a generalized TicTacToe and I would like to use negamax instead of MiniMax, with alpha-beta pruning. \r\n\r\nThe problem is that the algorithm works fine if I don&#39;t prune at the end, but as soon as I uncomment the pruning it stops working.\r\n\r\nThis is the main cicle where I call the minimax algorithm:\r\n\r\n    //Cycle through all possible cells\r\n\t\tfor(MNKCell d : FC) {\r\n\r\n\t\t\tB.markCell(d.i, d.j);\r\n\r\n\t\t\t//Apply minimax algorithm on the cell\r\n            Integer MoveVal = -negaMax(-1, Integer.MAX_VALUE, Integer.MIN_VALUE);\r\n\r\n\t\t\tB.unmarkCell();\r\n\r\n\t\t\t//DEBUG\r\n\t\t\tDebug.PrintMiddleCicle(B, d, MoveVal);\r\n\r\n\t\t\t//Check if found a better move\r\n\t\t\tif(MoveVal &gt; MaxMoveValue){\r\n\t\t\t\tMaxMoveValue = MoveVal;\r\n\t\t\t\tBestMove = d;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\nThis is the algorithm:\r\n\r\n    public Integer negaMax(int sign, int alpha, int beta){\r\n\r\n\t\t//Base case, evaluation detected gameover or timeout soon\r\n\t\tif(B.gameState() != MNKGameState.OPEN || utility.isTimeExpiring())// || depth == 0)\r\n\t\t{\r\n\t\t\treturn utility.evaluateBoard(B,0)*sign;\r\n\t\t}\r\n\r\n\t\t\t//Relax technique, assume the worst case scenario and relax on each step\r\n\t\t\tInteger bestValue = Integer.MIN_VALUE;\r\n\r\n\t\t\t//Cycle through all possible moves\r\n\t\t\tMNKCell FC[] = B.getFreeCells();\r\n\t\t\tfor(MNKCell current : FC) {\r\n\r\n\t\t\t\t//Mark this cell as player move\r\n\t\t\t\tB.markCell(current.i, current.j);\r\n\r\n\t\t\t\t//Recursively call minmax on this board scenario\r\n\t\t\t\tbestValue = Math.max(bestValue, -negaMax(-sign, -alpha, -beta));\r\n\t\t\t\talpha = Math.max(alpha, bestValue);\r\n\r\n\t\t\t\t//Revert move \r\n\t\t\t\tB.unmarkCell();\r\n\t\t\r\n\t\t\t\t//if(alpha &gt;= beta)\r\n\t\t\t\t//\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t//Return the best value obtained\r\n\t\t\treturn bestValue;\r\n    }\r\n\r\nI know that there is a problem because I implemented a function that outputs the best possible evaluation for each cell (PrintMiddleCicle in the main cicle), these are the outputs with pruning off in a 3x3 game:\r\n\r\n[Pruning off][1]\r\n\r\nAnd these are the outputs with pruning on:\r\n\r\n[Pruning on][2]\r\n\r\nI know the first one is correct because with an empty table in a 3x3 game, assuming both players with perfect strategy, every cell should point to a draw (evaluation=0)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UzMFg.png\r\n  [2]: https://i.stack.imgur.com/H2b9C.png","title":"Can&#39;t implement alpha beta pruning on negamax","body":"<p>I'm struggling to get this code working, there is a problem somewhere but I can't understand where.</p>\n<p>I'm developing a simple AI for a generalized TicTacToe and I would like to use negamax instead of MiniMax, with alpha-beta pruning.</p>\n<p>The problem is that the algorithm works fine if I don't prune at the end, but as soon as I uncomment the pruning it stops working.</p>\n<p>This is the main cicle where I call the minimax algorithm:</p>\n<pre><code>//Cycle through all possible cells\n    for(MNKCell d : FC) {\n\n        B.markCell(d.i, d.j);\n\n        //Apply minimax algorithm on the cell\n        Integer MoveVal = -negaMax(-1, Integer.MAX_VALUE, Integer.MIN_VALUE);\n\n        B.unmarkCell();\n\n        //DEBUG\n        Debug.PrintMiddleCicle(B, d, MoveVal);\n\n        //Check if found a better move\n        if(MoveVal &gt; MaxMoveValue){\n            MaxMoveValue = MoveVal;\n            BestMove = d;\n        }\n\n    }\n</code></pre>\n<p>This is the algorithm:</p>\n<pre><code>public Integer negaMax(int sign, int alpha, int beta){\n\n    //Base case, evaluation detected gameover or timeout soon\n    if(B.gameState() != MNKGameState.OPEN || utility.isTimeExpiring())// || depth == 0)\n    {\n        return utility.evaluateBoard(B,0)*sign;\n    }\n\n        //Relax technique, assume the worst case scenario and relax on each step\n        Integer bestValue = Integer.MIN_VALUE;\n\n        //Cycle through all possible moves\n        MNKCell FC[] = B.getFreeCells();\n        for(MNKCell current : FC) {\n\n            //Mark this cell as player move\n            B.markCell(current.i, current.j);\n\n            //Recursively call minmax on this board scenario\n            bestValue = Math.max(bestValue, -negaMax(-sign, -alpha, -beta));\n            alpha = Math.max(alpha, bestValue);\n\n            //Revert move \n            B.unmarkCell();\n    \n            //if(alpha &gt;= beta)\n            //  break;\n        }\n\n        //Return the best value obtained\n        return bestValue;\n}\n</code></pre>\n<p>I know that there is a problem because I implemented a function that outputs the best possible evaluation for each cell (PrintMiddleCicle in the main cicle), these are the outputs with pruning off in a 3x3 game:</p>\n<p><a href=\"https://i.stack.imgur.com/UzMFg.png\" rel=\"nofollow noreferrer\">Pruning off</a></p>\n<p>And these are the outputs with pruning on:</p>\n<p><a href=\"https://i.stack.imgur.com/H2b9C.png\" rel=\"nofollow noreferrer\">Pruning on</a></p>\n<p>I know the first one is correct because with an empty table in a 3x3 game, assuming both players with perfect strategy, every cell should point to a draw (evaluation=0)</p>\n"},{"tags":["java","string","ip","subnet"],"answers":[{"tags":[],"owner":{"account_id":9050307,"reputation":490,"user_id":6740783,"display_name":"Luca Negrini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505835673,"creation_date":1505835673,"answer_id":46304600,"question_id":46304350,"body_markdown":"    String ip = &quot;192.168.1.97&quot;;\r\n\r\n    // cut the last octet from ip (if you want to keep the . at the end, add 1 to the second parameter\r\n    String firstThreeOctets = ip.substring(0, ip.lastIndexOf(&quot;.&quot;)); // 192.168.1\r\n\r\n    String lastOctet = ip.substring(ip.lastIndexOf(&quot;.&quot;) + 1); // 97\r\n\r\nThen, if you want to set the last octet to 100, simply do:\r\n\r\n    String newIp = firstThreeOctet + &quot;.100&quot;; // 192.168.1.100","title":"Java how to Modify IP Address that was input as a string","body":"<pre><code>String ip = \"192.168.1.97\";\n\n// cut the last octet from ip (if you want to keep the . at the end, add 1 to the second parameter\nString firstThreeOctets = ip.substring(0, ip.lastIndexOf(\".\")); // 192.168.1\n\nString lastOctet = ip.substring(ip.lastIndexOf(\".\") + 1); // 97\n</code></pre>\n\n<p>Then, if you want to set the last octet to 100, simply do:</p>\n\n<pre><code>String newIp = firstThreeOctet + \".100\"; // 192.168.1.100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505835685,"creation_date":1505835685,"answer_id":46304606,"question_id":46304350,"body_markdown":"You can use these methods\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public static byte getLastOctet(String ip) {\r\n        String octet = ip.substring (ip.lastIndexOf(&#39;.&#39;) + 1);\r\n        return Byte.parseByte(octet);\r\n    }\r\n    \r\n    public static String setLastOctet(String ip, byte octet) {\r\n        return ip.substring(0, ip.lastIndexOf (&#39;.&#39;) + 1) + octet;\r\n    }","title":"Java how to Modify IP Address that was input as a string","body":"<p>You can use these methods\n</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static byte getLastOctet(String ip) {\n    String octet = ip.substring (ip.lastIndexOf('.') + 1);\n    return Byte.parseByte(octet);\n}\n\npublic static String setLastOctet(String ip, byte octet) {\n    return ip.substring(0, ip.lastIndexOf ('.') + 1) + octet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505836029,"creation_date":1505836029,"answer_id":46304741,"question_id":46304350,"body_markdown":"Replace the number at the end of the input. \r\n\r\n    String ipAddress = &quot;192.168.1.97&quot;;\r\n    String newIpAddress = ipAddress.replaceFirst(&quot;\\\\d+$&quot;, &quot;100&quot;)","title":"Java how to Modify IP Address that was input as a string","body":"<p>Replace the number at the end of the input. </p>\n\n<pre><code>String ipAddress = \"192.168.1.97\";\nString newIpAddress = ipAddress.replaceFirst(\"\\\\d+$\", \"100\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662832138,"creation_date":1662776363,"answer_id":73668880,"question_id":46304350,"body_markdown":"You can do this with the [IPAddress Java library](https://seancfoley.github.io/IPAddress/) as follows.  Doing it this way validates the input string and octet value.  Disclaimer: I am the project manager.\r\n\r\n```java\r\nstatic IPv4Address change(String str, int lastOctet) {\r\n\tIPv4Address addr = new IPAddressString(str).getAddress().toIPv4();\r\n\tIPv4AddressSegment segs[] = addr.getSegments();\r\n\tsegs[segs.length - 1] = new IPv4AddressSegment(lastOctet);\r\n\treturn new IPv4Address(segs);\r\n}\r\n\r\nIPv4Address next = change(&quot;192.168.1.97&quot;, 100);\r\nSystem.out.println(next);\r\n```\r\nOutput:\r\n```\r\n192.168.1.100\r\n```","title":"Java how to Modify IP Address that was input as a string","body":"<p>You can do this with the <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">IPAddress Java library</a> as follows.  Doing it this way validates the input string and octet value.  Disclaimer: I am the project manager.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static IPv4Address change(String str, int lastOctet) {\n    IPv4Address addr = new IPAddressString(str).getAddress().toIPv4();\n    IPv4AddressSegment segs[] = addr.getSegments();\n    segs[segs.length - 1] = new IPv4AddressSegment(lastOctet);\n    return new IPv4Address(segs);\n}\n\nIPv4Address next = change(&quot;192.168.1.97&quot;, 100);\nSystem.out.println(next);\n</code></pre>\n<p>Output:</p>\n<pre><code>192.168.1.100\n</code></pre>\n"}],"owner":{"account_id":11646467,"reputation":55,"user_id":8529180,"accept_rate":50,"display_name":"Edward A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46304600,"answer_count":4,"score":0,"last_activity_date":1662832138,"creation_date":1505834966,"question_id":46304350,"body_markdown":"I have a program that will take a LAN IP provided, I then need to be able to modify just the last octet of the IP&#39;s, the first 3 will remain the same based on what was input in the LAN IP Text Field.\r\n\r\nFor example:\r\nUser enter 192.168.1.97 as the LAN IP I need to be able to manipulate the last octet &quot;97&quot;, how would I go about doing that so I can have another variable or string that would have say 192.168.1.100 or whatever else i want to set in the last octet.","title":"Java how to Modify IP Address that was input as a string","body":"<p>I have a program that will take a LAN IP provided, I then need to be able to modify just the last octet of the IP's, the first 3 will remain the same based on what was input in the LAN IP Text Field.</p>\n\n<p>For example:\nUser enter 192.168.1.97 as the LAN IP I need to be able to manipulate the last octet \"97\", how would I go about doing that so I can have another variable or string that would have say 192.168.1.100 or whatever else i want to set in the last octet.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1662831850,"post_id":73673834,"comment_id":130099232,"body_markdown":"&quot;I use TreeSet for this project&quot; TreeSet will not automatically sort itself just because element was updated since ***it doesn&#39;t know that element was updated***. Instead you can first *remove* that element from set, update it, and after that add it to set again so it could insert it on its proper position.","body":"&quot;I use TreeSet for this project&quot; TreeSet will not automatically sort itself just because element was updated since <b><i>it doesn&#39;t know that element was updated</i></b>. Instead you can first <i>remove</i> that element from set, update it, and after that add it to set again so it could insert it on its proper position."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662831857,"creation_date":1662831857,"answer_id":73673984,"question_id":73673834,"body_markdown":"Elements are added to a collection at a position based on how they compare to elements *at insertion time*. If you change an element so that its ordering changes, then all of the invariants of a data structure like `TreeSet` are broken, and anything could happen. You should *never* change these properties of an element after inserting it into a data structure that relies upon them. That means that, when using ordering-based data structures like `TreeSet`, you shouldn&#39;t change fields that alter the order, and when using hash-based structures like `HashSet`, you shouldn&#39;t change fields that alter the hash code.\r\n\r\nIf you really need to mutate the value, you need to remove it from the `TreeSet`, then mutate it, then put it back in with the new ordering. Or, even better, have an immutable class and simply create a new instance to replace it. Having classes immutable by default avoids all of this messy business in the first place.","title":"The program cannot do compareTo function after the object&#39;s update information","body":"<p>Elements are added to a collection at a position based on how they compare to elements <em>at insertion time</em>. If you change an element so that its ordering changes, then all of the invariants of a data structure like <code>TreeSet</code> are broken, and anything could happen. You should <em>never</em> change these properties of an element after inserting it into a data structure that relies upon them. That means that, when using ordering-based data structures like <code>TreeSet</code>, you shouldn't change fields that alter the order, and when using hash-based structures like <code>HashSet</code>, you shouldn't change fields that alter the hash code.</p>\n<p>If you really need to mutate the value, you need to remove it from the <code>TreeSet</code>, then mutate it, then put it back in with the new ordering. Or, even better, have an immutable class and simply create a new instance to replace it. Having classes immutable by default avoids all of this messy business in the first place.</p>\n"}],"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73673984,"answer_count":1,"score":1,"last_activity_date":1662831857,"creation_date":1662830614,"question_id":73673834,"body_markdown":"I am trying to change the position of the product in the print menu after updating some information of the product. Specifically, arrange &quot;Quantity&quot; in descending order. If the products have same quantity, the list will be sorted with the ascending &quot;UnitPrice&quot; field.\r\n\r\nInitially, if i add one more product, compareTo() function works fine, but after i use product update function, the compareTo() function doesn&#39;t work. I use TreeSet for this project. Can anyone explain this case to me? Thank you very much.\r\n\r\n**This is my compareTo() function**\r\n\r\n        @Override\r\n    public int compareTo(Product o) {\r\n        if (this.getQuantity() &lt; o.getQuantity()) {\r\n            return 1;\r\n        }\r\n        if (this.getQuantity() == o.getQuantity()) {\r\n            return this.unitPrice-o.unitPrice;\r\n        }\r\n        return -1;\r\n    }\r\n**This is my update function**\r\n\r\n        public void updateInfo() {\r\n        Scanner sc = new Scanner(System.in);\r\n        String id, productName, quantity, unitPrice, numberForAvail;\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Input products&#39;s id: &quot;);\r\n                id = sc.nextLine().toUpperCase();\r\n                if (id.isEmpty()) {\r\n                    this.id = this.id;\r\n                } else {\r\n                    if (!id.matches(letter_regEx) || id.length() &lt; 5) {\r\n                        throw new Exception();\r\n                    }\r\n                    this.id = id;\r\n                }\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;ID must be character and lenght &gt; 5&quot;);\r\n            }\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Input prodct&#39;s name: &quot;);\r\n                productName = sc.nextLine().toUpperCase();\r\n                if (productName.isEmpty()) {\r\n                    this.productName = this.productName;\r\n                } else {\r\n                    if (!productName.matches(letter_regEx)) {\r\n                        throw new Exception();\r\n                    }\r\n                    this.productName = productName;\r\n                }\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Invalid name&quot;);\r\n            }\r\n        }\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Input Unit Price: &quot;);\r\n                unitPrice = sc.nextLine();\r\n                if (unitPrice.isEmpty()) {\r\n                    this.unitPrice = this.unitPrice;\r\n                } else {\r\n                    if (!unitPrice.matches(&quot;^([1-9][0-9]{0,3}|10000)$&quot;)) {\r\n                        throw new Exception();\r\n                    }\r\n                    this.unitPrice = Integer.parseInt(unitPrice);\r\n                }\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Unit price must be &gt; 0 and &lt; 10000&quot;);\r\n            }\r\n        }\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Input quantity: &quot;);\r\n                quantity = sc.nextLine();\r\n                if (quantity.isEmpty()) {\r\n                    this.quantity = this.quantity;\r\n                } else {\r\n                    if (!quantity.matches(&quot;^([1-9][0-9]{0,2}|1000)$&quot;)) {\r\n                        throw new Exception();\r\n                    }\r\n                    this.quantity = Integer.parseInt(quantity);\r\n                }\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Quantity must be &gt; 0 and &lt; 1000&quot;);\r\n            }\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Input status [0(not available)/ 1 (available)]: &quot;);\r\n                numberForAvail = sc.nextLine();\r\n                if (numberForAvail.isEmpty()) {\r\n                    this.numberForAvail = this.numberForAvail;\r\n                } else {\r\n                    if (!numberForAvail.matches(&quot;^[01]$&quot;)) {\r\n                        throw new Exception();\r\n                    }\r\n                    this.numberForAvail = Integer.parseInt(numberForAvail);\r\n                    break;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Status must 0 for NOT AVAILABLE and 1 for AVAILABLE&quot;);\r\n            }\r\n        }\r\n        if (this.numberForAvail == 0) {\r\n            status = &quot;Not available&quot;;\r\n        } else {\r\n            status = &quot;Available&quot;;\r\n        }\r\n\r\n    }\r\n**This is my output**\r\n\r\nWhen I add in a product: \r\n![When I add in a product:][1]\r\n\r\nWhen I changed NGUYEN&#39;s quantity to 125, it didn&#39;t work\r\n![When I changed NGUYEN&#39;s quantity to 125, it didn&#39;t work][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3I6w.png\r\n  [2]: https://i.stack.imgur.com/jlTjN.png","title":"The program cannot do compareTo function after the object&#39;s update information","body":"<p>I am trying to change the position of the product in the print menu after updating some information of the product. Specifically, arrange &quot;Quantity&quot; in descending order. If the products have same quantity, the list will be sorted with the ascending &quot;UnitPrice&quot; field.</p>\n<p>Initially, if i add one more product, compareTo() function works fine, but after i use product update function, the compareTo() function doesn't work. I use TreeSet for this project. Can anyone explain this case to me? Thank you very much.</p>\n<p><strong>This is my compareTo() function</strong></p>\n<pre><code>    @Override\npublic int compareTo(Product o) {\n    if (this.getQuantity() &lt; o.getQuantity()) {\n        return 1;\n    }\n    if (this.getQuantity() == o.getQuantity()) {\n        return this.unitPrice-o.unitPrice;\n    }\n    return -1;\n}\n</code></pre>\n<p><strong>This is my update function</strong></p>\n<pre><code>    public void updateInfo() {\n    Scanner sc = new Scanner(System.in);\n    String id, productName, quantity, unitPrice, numberForAvail;\n    while (true) {\n        try {\n            System.out.print(&quot;Input products's id: &quot;);\n            id = sc.nextLine().toUpperCase();\n            if (id.isEmpty()) {\n                this.id = this.id;\n            } else {\n                if (!id.matches(letter_regEx) || id.length() &lt; 5) {\n                    throw new Exception();\n                }\n                this.id = id;\n            }\n            break;\n        } catch (Exception e) {\n            System.out.println(&quot;ID must be character and lenght &gt; 5&quot;);\n        }\n    }\n\n    while (true) {\n        try {\n            System.out.print(&quot;Input prodct's name: &quot;);\n            productName = sc.nextLine().toUpperCase();\n            if (productName.isEmpty()) {\n                this.productName = this.productName;\n            } else {\n                if (!productName.matches(letter_regEx)) {\n                    throw new Exception();\n                }\n                this.productName = productName;\n            }\n            break;\n        } catch (Exception e) {\n            System.out.println(&quot;Invalid name&quot;);\n        }\n    }\n    while (true) {\n        try {\n            System.out.print(&quot;Input Unit Price: &quot;);\n            unitPrice = sc.nextLine();\n            if (unitPrice.isEmpty()) {\n                this.unitPrice = this.unitPrice;\n            } else {\n                if (!unitPrice.matches(&quot;^([1-9][0-9]{0,3}|10000)$&quot;)) {\n                    throw new Exception();\n                }\n                this.unitPrice = Integer.parseInt(unitPrice);\n            }\n            break;\n        } catch (Exception e) {\n            System.out.println(&quot;Unit price must be &gt; 0 and &lt; 10000&quot;);\n        }\n    }\n    while (true) {\n        try {\n            System.out.print(&quot;Input quantity: &quot;);\n            quantity = sc.nextLine();\n            if (quantity.isEmpty()) {\n                this.quantity = this.quantity;\n            } else {\n                if (!quantity.matches(&quot;^([1-9][0-9]{0,2}|1000)$&quot;)) {\n                    throw new Exception();\n                }\n                this.quantity = Integer.parseInt(quantity);\n            }\n            break;\n        } catch (Exception e) {\n            System.out.println(&quot;Quantity must be &gt; 0 and &lt; 1000&quot;);\n        }\n    }\n\n    while (true) {\n        try {\n            System.out.print(&quot;Input status [0(not available)/ 1 (available)]: &quot;);\n            numberForAvail = sc.nextLine();\n            if (numberForAvail.isEmpty()) {\n                this.numberForAvail = this.numberForAvail;\n            } else {\n                if (!numberForAvail.matches(&quot;^[01]$&quot;)) {\n                    throw new Exception();\n                }\n                this.numberForAvail = Integer.parseInt(numberForAvail);\n                break;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Status must 0 for NOT AVAILABLE and 1 for AVAILABLE&quot;);\n        }\n    }\n    if (this.numberForAvail == 0) {\n        status = &quot;Not available&quot;;\n    } else {\n        status = &quot;Available&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>This is my output</strong></p>\n<p>When I add in a product:\n<img src=\"https://i.stack.imgur.com/M3I6w.png\" alt=\"When I add in a product:\" /></p>\n<p>When I changed NGUYEN's quantity to 125, it didn't work\n<img src=\"https://i.stack.imgur.com/jlTjN.png\" alt=\"When I changed NGUYEN's quantity to 125, it didn't work\" /></p>\n"},{"tags":["java","java-module"],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662831347,"creation_date":1662823526,"question_id":73673017,"body_markdown":"I am studying **java modules** and faced with this error:\r\n\r\nI tried to put this &quot;module in my declaration&quot;\r\n\r\n    module mymodule {\r\n      requires org.slf4j;\r\n    } \r\n\r\n-- \r\n`mvn clean package`\r\n\r\n`Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile module not found: org.slf4j`\r\n\r\n\r\nMy pom.xml:\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI found that the &quot;Automatic module name is&quot;: \r\n\r\n    module mymodule {\r\n      requires org.apache.logging.log4j.slf4j;\r\n    }\r\n\r\nBut now I have this error: \r\n\r\n    (package org.slf4j is declared in the unnamed module, but module org.slf4j does not read it)\r\n\r\nHow can I solve this? Whys this is happening?\r\n","title":"Java modules - module not found: org.slf4j","body":"<p>I am studying <strong>java modules</strong> and faced with this error:</p>\n<p>I tried to put this &quot;module in my declaration&quot;</p>\n<pre><code>module mymodule {\n  requires org.slf4j;\n} \n</code></pre>\n<p>--\n<code>mvn clean package</code></p>\n<p><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile module not found: org.slf4j</code></p>\n<p>My pom.xml:</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I found that the &quot;Automatic module name is&quot;:</p>\n<pre><code>module mymodule {\n  requires org.apache.logging.log4j.slf4j;\n}\n</code></pre>\n<p>But now I have this error:</p>\n<pre><code>(package org.slf4j is declared in the unnamed module, but module org.slf4j does not read it)\n</code></pre>\n<p>How can I solve this? Whys this is happening?</p>\n"},{"tags":["java","increment"],"comments":[{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":1,"creation_date":1662820537,"post_id":73672630,"comment_id":130096907,"body_markdown":"&#39;_I can&#39;t think of a way to add it._&#39; - you are already doing similar operation by summing up all inputs so what&#39;s the difference and what&#39;s the problem?","body":"&#39;<i>I can&#39;t think of a way to add it.</i>&#39; - you are already doing similar operation by summing up all inputs so what&#39;s the difference and what&#39;s the problem?"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1662820583,"post_id":73672630,"comment_id":130096918,"body_markdown":"why don\\`t you use a hashmap or something like that to store the count?","body":"why don`t you use a hashmap or something like that to store the count?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1662820761,"post_id":73672630,"comment_id":130096941,"body_markdown":"use another variable that you increase of 1 in the loop ?","body":"use another variable that you increase of 1 in the loop ?"},{"owner":{"account_id":24144495,"reputation":1,"user_id":18110309,"display_name":"Fire Boy"},"score":0,"creation_date":1662820807,"post_id":73672630,"comment_id":130096949,"body_markdown":"the difference is that sum variable is for the sum of the all numbers entered and other one is for the how many times user has entered the number. Suppose i write 5,3,2,-1 the sum would be 10 and the other variable would be 3 which is the number of inputs entered. Is it understandable? i cant come with a way to make it possible","body":"the difference is that sum variable is for the sum of the all numbers entered and other one is for the how many times user has entered the number. Suppose i write 5,3,2,-1 the sum would be 10 and the other variable would be 3 which is the number of inputs entered. Is it understandable? i cant come with a way to make it possible"},{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":1,"creation_date":1662823004,"post_id":73672630,"comment_id":130097444,"body_markdown":"create another variable: int count = 0, before the while statement. after calculating sum += number; also do: count++;. In the end, the count variable will be equal to the number of times the user inputed a number not equal to -1","body":"create another variable: int count = 0, before the while statement. after calculating sum += number; also do: count++;. In the end, the count variable will be equal to the number of times the user inputed a number not equal to -1"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662827309,"post_id":73672630,"comment_id":130098309,"body_markdown":"@FireBoy Glad you solved it.  Now you can post and accept an Answer to your own Question, for posterity.","body":"@FireBoy Glad you solved it.  Now you can post and accept an Answer to your own Question, for posterity."}],"answers":[{"tags":[],"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662830776,"creation_date":1662830776,"answer_id":73673862,"question_id":73672630,"body_markdown":"Solution of the problem is already given in the comment section. I&#39;m just adding it as an answer with code.\r\n\r\nSolution:\r\n\r\nMaintain another variable to count the number of given inputs.\r\n\r\nCode:\r\n\r\n```\r\nSystem.out.println(&quot;Type numbers:&quot;);\r\n\r\nint sum = 0;\r\nint inputCount = 0;\r\n\r\nwhile (true) {\r\n    int number = Integer.parseInt(scanner.nextLine());\r\n    if (number == -1) {\r\n        break;\r\n    }\r\n    inputCount++;   // incrementing number of valid input\r\n    sum += number;\r\n}\r\n\r\nSystem.out.println(&quot;Thank you and see you later&quot;);\r\nSystem.out.println(&quot;The sum of the numbers is &quot; + sum);\r\nSystem.out.println(&quot;Count of given input &quot; + inputCount);\r\n```","title":"display count of times the number has been entered","body":"<p>Solution of the problem is already given in the comment section. I'm just adding it as an answer with code.</p>\n<p>Solution:</p>\n<p>Maintain another variable to count the number of given inputs.</p>\n<p>Code:</p>\n<pre><code>System.out.println(&quot;Type numbers:&quot;);\n\nint sum = 0;\nint inputCount = 0;\n\nwhile (true) {\n    int number = Integer.parseInt(scanner.nextLine());\n    if (number == -1) {\n        break;\n    }\n    inputCount++;   // incrementing number of valid input\n    sum += number;\n}\n\nSystem.out.println(&quot;Thank you and see you later&quot;);\nSystem.out.println(&quot;The sum of the numbers is &quot; + sum);\nSystem.out.println(&quot;Count of given input &quot; + inputCount);\n</code></pre>\n"}],"owner":{"account_id":24144495,"reputation":1,"user_id":18110309,"display_name":"Fire Boy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662830776,"creation_date":1662820382,"question_id":73672630,"body_markdown":"im doing an excercise, it wants to display the number of times the user has entered the number till he enter -1 which breaks the program. I can&#39;t think of a way to add it. I&#39;d like you to add a variable which will store the number of times user entered a number and display it at the bottom\r\n\t\t\r\n\t\tSystem.out.println(&quot;Type numbers:&quot;);\r\n\t\t\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\twhile(true) {\t\r\n\t\t\tint number = Integer.parseInt(scanner.nextLine());\r\n\t\t\tif(number == -1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsum += number;\r\n\t\t\t\r\n\t\t} \r\n\t\t\r\n\t\tSystem.out.println(&quot;Thank you and see you later&quot;);\r\n\t\tSystem.out.println(&quot;The sum of the numbers is &quot;+sum);\r\n \t}\t\r\n\t\r\n}","title":"display count of times the number has been entered","body":"<p>im doing an excercise, it wants to display the number of times the user has entered the number till he enter -1 which breaks the program. I can't think of a way to add it. I'd like you to add a variable which will store the number of times user entered a number and display it at the bottom</p>\n<pre><code>    System.out.println(&quot;Type numbers:&quot;);\n    \n    int sum = 0;\n    \n    while(true) {   \n        int number = Integer.parseInt(scanner.nextLine());\n        if(number == -1) {\n            break;\n        }\n        \n        sum += number;\n        \n    } \n    \n    System.out.println(&quot;Thank you and see you later&quot;);\n    System.out.println(&quot;The sum of the numbers is &quot;+sum);\n}   \n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1662820822,"post_id":73672664,"comment_id":130096952,"body_markdown":"`doNothing()` is not a valid expression, because you cannot use it e.g. in `Object x = doNothing()`, or any other expression context. But you can use it as a statement","body":"<code>doNothing()</code> is not a valid expression, because you cannot use it e.g. in <code>Object x = doNothing()</code>, or any other expression context. But you can use it as a statement"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662830768,"post_id":73672664,"comment_id":130099007,"body_markdown":"The language specification begs to differ. See my answer.","body":"The language specification begs to differ. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662825570,"creation_date":1662824744,"answer_id":73673158,"question_id":73672664,"body_markdown":"`doNothing()` is a method invocation, not an expression. As you quoted, an *expression* is a construct made up of *variables*, *operators*, **AND** *method invocations*... that evaluates to a single value. It would be the same as asking if a word, or a phrase is a sentence.\r\n\r\nConsider the `Map#put(K,V)` method. The invocation of this method by itself, even when it returns a value, does not represent an expression in itself.\r\n\r\n```\r\n1  Map&lt;String, Integer&gt; numbers = new HashMap&lt;&gt;();\r\n2  Integer oldVal = numbers.put(&quot;one&quot;, 1); // not an expression\r\n3  boolean notNull = oldVal != null); // an expression\r\n```\r\nThe main reason why the code on line 2 is not an expression is because no evaluation is being done. Line 2 is a simple method invocation, even though it returns a value. In contrast, line 3 is an expression because an evaluation is being done (the comparison of the `notNull` variable against `null`.\r\n\r\n\r\n```\r\n1  int value1 = 1 + 2; // an expression\r\n2  int value2 = 5 * 2; // an expression\r\n3  if (value1 == value2) {...} // an expression\r\n```\r\nIn the above snippet, all 3 lines contain an expression. The obvious is line 3 (`value1 == value2`). The other two are mathematical expressions. Why? Because each one is a construct that has two operands, and an operator.\r\n\r\nGoing back to the method `doNothing()`, the invocation of this method **cannot** be used to construct an expression because it doesn&#39;t return a value. Therefore, it cannot be used to build an evaluation.\r\n\r\nI hope this helps clarify what an *expression* is.","title":"What value does a Method Invocation Expression for a function with void as a return type evaluate to?","body":"<p><code>doNothing()</code> is a method invocation, not an expression. As you quoted, an <em>expression</em> is a construct made up of <em>variables</em>, <em>operators</em>, <strong>AND</strong> <em>method invocations</em>... that evaluates to a single value. It would be the same as asking if a word, or a phrase is a sentence.</p>\n<p>Consider the <code>Map#put(K,V)</code> method. The invocation of this method by itself, even when it returns a value, does not represent an expression in itself.</p>\n<pre><code>1  Map&lt;String, Integer&gt; numbers = new HashMap&lt;&gt;();\n2  Integer oldVal = numbers.put(&quot;one&quot;, 1); // not an expression\n3  boolean notNull = oldVal != null); // an expression\n</code></pre>\n<p>The main reason why the code on line 2 is not an expression is because no evaluation is being done. Line 2 is a simple method invocation, even though it returns a value. In contrast, line 3 is an expression because an evaluation is being done (the comparison of the <code>notNull</code> variable against <code>null</code>.</p>\n<pre><code>1  int value1 = 1 + 2; // an expression\n2  int value2 = 5 * 2; // an expression\n3  if (value1 == value2) {...} // an expression\n</code></pre>\n<p>In the above snippet, all 3 lines contain an expression. The obvious is line 3 (<code>value1 == value2</code>). The other two are mathematical expressions. Why? Because each one is a construct that has two operands, and an operator.</p>\n<p>Going back to the method <code>doNothing()</code>, the invocation of this method <strong>cannot</strong> be used to construct an expression because it doesn't return a value. Therefore, it cannot be used to build an evaluation.</p>\n<p>I hope this helps clarify what an <em>expression</em> is.</p>\n"},{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662830708,"creation_date":1662830708,"answer_id":73673851,"question_id":73672664,"body_markdown":"The [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html) is the authoratative source, rather than a tutorial.\r\n\r\n&gt; When an expression in a program is evaluated (executed), the result\r\n&gt; denotes one of three things:\r\n&gt; \r\n&gt; A variable (&#167;4.12) (in C, this would be called an lvalue)\r\n&gt; \r\n&gt; A value (&#167;4.2, &#167;4.3)\r\n&gt; \r\n&gt; Nothing (the expression is said to be void)\r\n\r\nThus your `doNothing()` call is an expression, and your intuition is correct - it returns nothing.\r\n\r\nVoid expressions are subject to limitations:\r\n\r\n&gt; An expression denotes nothing if and only if it is a method invocation\r\n&gt; (&#167;15.12) that invokes a method that does not return a value, that is,\r\n&gt; a method declared void (&#167;8.4). Such an expression can be used only as\r\n&gt; an expression statement (&#167;14.8) or as the single expression of a\r\n&gt; lambda body (&#167;15.27.2), because every other context in which an\r\n&gt; expression can appear requires the expression to denote something.\r\n\r\n","title":"What value does a Method Invocation Expression for a function with void as a return type evaluate to?","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html\" rel=\"nofollow noreferrer\">Java Language Specification</a> is the authoratative source, rather than a tutorial.</p>\n<blockquote>\n<p>When an expression in a program is evaluated (executed), the result\ndenotes one of three things:</p>\n<p>A variable (§4.12) (in C, this would be called an lvalue)</p>\n<p>A value (§4.2, §4.3)</p>\n<p>Nothing (the expression is said to be void)</p>\n</blockquote>\n<p>Thus your <code>doNothing()</code> call is an expression, and your intuition is correct - it returns nothing.</p>\n<p>Void expressions are subject to limitations:</p>\n<blockquote>\n<p>An expression denotes nothing if and only if it is a method invocation\n(§15.12) that invokes a method that does not return a value, that is,\na method declared void (§8.4). Such an expression can be used only as\nan expression statement (§14.8) or as the single expression of a\nlambda body (§15.27.2), because every other context in which an\nexpression can appear requires the expression to denote something.</p>\n</blockquote>\n"}],"owner":{"account_id":1261595,"reputation":544,"user_id":1219728,"accept_rate":60,"display_name":"efie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662830708,"creation_date":1662820711,"question_id":73672664,"body_markdown":"The [oracle java tutorial][1] states: (emphasis by me)\r\n\r\n&gt; An expression is a construct made up of variables, operators, and method invocations, which are constructed according to the syntax of the language, **that evaluates to a single value**. \r\n\r\nGiven a function \r\n\r\n    public void doNothing() { }\r\n\r\nwhat values does the Method Invocation Expression `doNothing()` evaluate to?\r\n\r\nI&#39;m wondering this because in my understanding `void` suggests that this function doesn&#39;t return anything. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html","title":"What value does a Method Invocation Expression for a function with void as a return type evaluate to?","body":"<p>The <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">oracle java tutorial</a> states: (emphasis by me)</p>\n<blockquote>\n<p>An expression is a construct made up of variables, operators, and method invocations, which are constructed according to the syntax of the language, <strong>that evaluates to a single value</strong>.</p>\n</blockquote>\n<p>Given a function</p>\n<pre><code>public void doNothing() { }\n</code></pre>\n<p>what values does the Method Invocation Expression <code>doNothing()</code> evaluate to?</p>\n<p>I'm wondering this because in my understanding <code>void</code> suggests that this function doesn't return anything.</p>\n"},{"tags":["java","list","date"],"comments":[{"owner":{"account_id":331735,"reputation":10124,"user_id":656600,"accept_rate":93,"display_name":"rptwsthi"},"score":1,"creation_date":1379913967,"post_id":18952232,"comment_id":27988696,"body_markdown":"What have you tried, you must come up with your solution that you have been working on and what problem you faced in that?","body":"What have you tried, you must come up with your solution that you have been working on and what problem you faced in that?"},{"owner":{"account_id":3141394,"reputation":743,"user_id":2656795,"accept_rate":67,"display_name":"Chaitanya Chauhan"},"score":0,"creation_date":1379914097,"post_id":18952232,"comment_id":27988743,"body_markdown":"ma&#39;am, i am not getting the idea for that, thats why i post my question here.","body":"ma&#39;am, i am not getting the idea for that, thats why i post my question here."}],"answers":[{"tags":[],"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379914012,"creation_date":1379914012,"answer_id":18952269,"question_id":18952232,"body_markdown":"A simple date comparison program taken from\r\n\r\n[http://www.mkyong.com/java/how-to-compare-dates-in-java/][1]\r\n\r\nI hope you would be able to build your logic on this.\r\n\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n     \r\n    public class App \r\n    {\r\n         public static void main( String[] args ) \r\n        {\r\n        \ttry{\r\n     \r\n        \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            \tDate date1 = sdf.parse(&quot;2009-12-31&quot;);\r\n            \tDate date2 = sdf.parse(&quot;2010-01-31&quot;);\r\n     \r\n            \tSystem.out.println(sdf.format(date1));\r\n            \tSystem.out.println(sdf.format(date2));\r\n     \r\n            \tif(date1.compareTo(date2)&gt;0){\r\n            \t\tSystem.out.println(&quot;Date1 is after Date2&quot;);\r\n            \t}else if(date1.compareTo(date2)&lt;0){\r\n            \t\tSystem.out.println(&quot;Date1 is before Date2&quot;);\r\n            \t}else if(date1.compareTo(date2)==0){\r\n            \t\tSystem.out.println(&quot;Date1 is equal to Date2&quot;);\r\n            \t}else{\r\n            \t\tSystem.out.println(&quot;How to get here?&quot;);\r\n            \t}\r\n     \r\n        \t}catch(ParseException ex){\r\n        \t\tex.printStackTrace();\r\n        \t}\r\n        }\r\n    }\r\n\r\n  [1]: http://www.mkyong.com/java/how-to-compare-dates-in-java/","title":"check given date is between two dates in List","body":"<p>A simple date comparison program taken from</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-to-compare-dates-in-java/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-compare-dates-in-java/</a></p>\n\n<p>I hope you would be able to build your logic on this.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class App \n{\n     public static void main( String[] args ) \n    {\n        try{\n\n            SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n            Date date1 = sdf.parse(\"2009-12-31\");\n            Date date2 = sdf.parse(\"2010-01-31\");\n\n            System.out.println(sdf.format(date1));\n            System.out.println(sdf.format(date2));\n\n            if(date1.compareTo(date2)&gt;0){\n                System.out.println(\"Date1 is after Date2\");\n            }else if(date1.compareTo(date2)&lt;0){\n                System.out.println(\"Date1 is before Date2\");\n            }else if(date1.compareTo(date2)==0){\n                System.out.println(\"Date1 is equal to Date2\");\n            }else{\n                System.out.println(\"How to get here?\");\n            }\n\n        }catch(ParseException ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189097,"reputation":2314,"user_id":3732965,"accept_rate":29,"display_name":"Digital Alchemist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1598958735,"creation_date":1379914085,"answer_id":18952281,"question_id":18952232,"body_markdown":"     Date minDate, maxDate;   // assume these are set to something\r\n     Date date;               // the date in question\r\n    \r\n     return date.after(minDate) &amp;&amp; date.before(maxDate);\r\n\r\n    \r\n\r\n&gt; You can do something like this\r\n\r\n        Date a = new Date(&quot;21/03/2000&quot;);\r\n\t\tDate b = new Date(&quot;21/03/2006&quot;);\r\n\t\tDate c = new Date(&quot;18/09/2008&quot;);\r\n\t\t\r\n\t\tList&lt;Date&gt; dateList = new ArrayList&lt;Date&gt;();\r\n\t\t\r\n\t\tDate date = new Date(&quot;18/09/2005&quot;);\r\n\t\t\r\n\t\tdateList.add(a);\r\n\t\tdateList.add(b);\r\n\t\tdateList.add(c);\r\n\t\t\r\n\t\tfor (Date minDate : dateList) {\r\n\t\t\tfor (Date maxDate : dateList) {\r\n\t\t\t\t//System.out.println(&quot;After &quot; + date.after(minDate));\r\n\t\t\t\t//System.out.println(&quot;Before &quot; + date.before(maxDate));\r\n\t\t\t\tSystem.out.println(&quot;Date &quot; + date + &quot; is After &quot; + minDate + &quot; and Before &quot; + maxDate + &quot; : &quot; + String.valueOf(date.after(minDate) &amp;&amp; date.before(maxDate)));\r\n\t\t\t}\r\n\t\t}\r\n","title":"check given date is between two dates in List","body":"<pre><code> Date minDate, maxDate;   // assume these are set to something\n Date date;               // the date in question\n\n return date.after(minDate) &amp;&amp; date.before(maxDate);\n</code></pre>\n<blockquote>\n<p>You can do something like this</p>\n</blockquote>\n<pre><code>    Date a = new Date(&quot;21/03/2000&quot;);\n    Date b = new Date(&quot;21/03/2006&quot;);\n    Date c = new Date(&quot;18/09/2008&quot;);\n    \n    List&lt;Date&gt; dateList = new ArrayList&lt;Date&gt;();\n    \n    Date date = new Date(&quot;18/09/2005&quot;);\n    \n    dateList.add(a);\n    dateList.add(b);\n    dateList.add(c);\n    \n    for (Date minDate : dateList) {\n        for (Date maxDate : dateList) {\n            //System.out.println(&quot;After &quot; + date.after(minDate));\n            //System.out.println(&quot;Before &quot; + date.before(maxDate));\n            System.out.println(&quot;Date &quot; + date + &quot; is After &quot; + minDate + &quot; and Before &quot; + maxDate + &quot; : &quot; + String.valueOf(date.after(minDate) &amp;&amp; date.before(maxDate)));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1467617,"reputation":266,"user_id":1380043,"display_name":"Bipul Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662830561,"creation_date":1379922461,"answer_id":18954147,"question_id":18952232,"body_markdown":"Try using Joda-Time instead of playing with java.util.Date directly. Joda-time is class one API for playing with date in Java. It provides lot of utility methods which you can use directly instead of rewriting the same thing again and again.\r\nIf you are using maven, you can simply add its dependency and download it.\r\n","title":"check given date is between two dates in List","body":"<p>Try using Joda-Time instead of playing with java.util.Date directly. Joda-time is class one API for playing with date in Java. It provides lot of utility methods which you can use directly instead of rewriting the same thing again and again.\nIf you are using maven, you can simply add its dependency and download it.</p>\n"}],"owner":{"account_id":3141394,"reputation":743,"user_id":2656795,"accept_rate":67,"display_name":"Chaitanya Chauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4126,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1467587667,"accepted_answer_id":18952281,"answer_count":3,"score":-2,"last_activity_date":1662830561,"creation_date":1379913808,"question_id":18952232,"body_markdown":"I have `LinkedList` of generic `Date`\r\n\r\n    LinkedList&lt;Date&gt; dateList = new LinkedList&lt;Date&gt;();`\r\n    \t\ttry\r\n    \t\t{\r\n    \t\ta= sdf.parse(&quot;21/03/2000&quot;);\r\n    \t\tb= sdf.parse(&quot;21/03/2006&quot;);\r\n    \t\tc= sdf.parse(&quot;18/09/2008&quot;);\r\n    \t\t}catch(ParseException pe)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;not a date formate&quot;);\r\n    \t\t}\r\n    \t\tdateList.add(a);\r\n    \t\tdateList.add(b);\r\n    \t\tdateList.add(c);\r\n\r\nif a user enters a date i.e 12/05/2002, so the user should get a prompt that the entered date is between `21/03/2000` and `21/03/2006` and also it should give the answer that &quot;the given date is coming after `21/03/2000`&quot;.\r\n\r\nI tried sorting. but didn&#39;t work. new to `Date` class.","title":"check given date is between two dates in List","body":"<p>I have <code>LinkedList</code> of generic <code>Date</code></p>\n\n<pre><code>LinkedList&lt;Date&gt; dateList = new LinkedList&lt;Date&gt;();`\n        try\n        {\n        a= sdf.parse(\"21/03/2000\");\n        b= sdf.parse(\"21/03/2006\");\n        c= sdf.parse(\"18/09/2008\");\n        }catch(ParseException pe)\n        {\n            System.out.println(\"not a date formate\");\n        }\n        dateList.add(a);\n        dateList.add(b);\n        dateList.add(c);\n</code></pre>\n\n<p>if a user enters a date i.e 12/05/2002, so the user should get a prompt that the entered date is between <code>21/03/2000</code> and <code>21/03/2006</code> and also it should give the answer that \"the given date is coming after <code>21/03/2000</code>\".</p>\n\n<p>I tried sorting. but didn't work. new to <code>Date</code> class.</p>\n"},{"tags":["javascript","java","arrays","integer","unsigned-integer"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1662825996,"post_id":73673288,"comment_id":130098059,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html</a>"},{"owner":{"account_id":2739007,"reputation":93,"user_id":2360958,"display_name":"Unnikuttan Kaveth"},"score":0,"creation_date":1662829301,"post_id":73673288,"comment_id":130098703,"body_markdown":"@IłyaBursov could you please elaborate how to achieve this using ByteBuffer.\n`ByteBuffer bb = ByteBuffer.allocate(4);`\n`bb.put((byte) 0xe4);`\n`bb.put((byte) 0x0e);`\n`bb.put((byte) 0x00);`\n`bb.put((byte) 0x00);`\n`bb.rewind();`\n`int val = bb.getInt();`\n\nThis code returns a different value.","body":"@IłyaBursov could you please elaborate how to achieve this using ByteBuffer. <code>ByteBuffer bb = ByteBuffer.allocate(4);</code> <code>bb.put((byte) 0xe4);</code> <code>bb.put((byte) 0x0e);</code> <code>bb.put((byte) 0x00);</code> <code>bb.put((byte) 0x00);</code> <code>bb.rewind();</code> <code>int val = bb.getInt();</code>  This code returns a different value."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1662829527,"post_id":73673288,"comment_id":130098757,"body_markdown":"something like `ByteBuffer.wrap(bytes).getInt();`","body":"something like <code>ByteBuffer.wrap(bytes).getInt();</code>"},{"owner":{"account_id":2739007,"reputation":93,"user_id":2360958,"display_name":"Unnikuttan Kaveth"},"score":0,"creation_date":1662829635,"post_id":73673288,"comment_id":130098773,"body_markdown":"`ByteBuffer.wrap(bytes).getInt();` returns -468844544","body":"<code>ByteBuffer.wrap(bytes).getInt();</code> returns -468844544"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1662829670,"post_id":73673288,"comment_id":130098784,"body_markdown":"ah, you need LE then `ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).getInt()`","body":"ah, you need LE then <code>ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).getInt&zwnj;&#8203;()</code>"},{"owner":{"account_id":2739007,"reputation":93,"user_id":2360958,"display_name":"Unnikuttan Kaveth"},"score":0,"creation_date":1662830156,"post_id":73673288,"comment_id":130098878,"body_markdown":"Cool. Its working. I am able to get the same output.","body":"Cool. Its working. I am able to get the same output."}],"answers":[{"tags":[],"owner":{"account_id":2739007,"reputation":93,"user_id":2360958,"display_name":"Unnikuttan Kaveth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662830295,"creation_date":1662830295,"answer_id":73673787,"question_id":73673288,"body_markdown":"As Ilya Bursov commented, I could able to achieve the same using the following Java code snippet.\r\n\r\n    byte[] bytes = {(byte) 0xe4, 0x0e, 0x00, 0x00};\r\n    int anInt = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n    System.out.println(anInt);","title":"Javascript byte array to Int32Array equivalent in Java","body":"<p>As Ilya Bursov commented, I could able to achieve the same using the following Java code snippet.</p>\n<pre><code>byte[] bytes = {(byte) 0xe4, 0x0e, 0x00, 0x00};\nint anInt = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).getInt();\nSystem.out.println(anInt);\n</code></pre>\n"}],"owner":{"account_id":2739007,"reputation":93,"user_id":2360958,"display_name":"Unnikuttan Kaveth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662830295,"creation_date":1662825831,"question_id":73673288,"body_markdown":"I have a javascript snippet which will take 4 byte and convert that in to int value.\r\n\r\n    var bufView = new Uint8Array([0xe4, 0x0e, 0x00, 0x00]);\r\n    var a = new Int32Array(bufView.buffer.slice(0,4))[0]\r\n    console.log(a);\r\n\r\nOutput of the above code is **3812**\r\n\r\nI want to do the same operation in Java as well where I have \r\n\r\n    byte[] bytes = {(byte) 0xe4, 0x0e, 0x00, 0x00};\r\n\r\nI have searched whole internet but I could not see any results related to this. How can we achieve this?\r\n\r\n","title":"Javascript byte array to Int32Array equivalent in Java","body":"<p>I have a javascript snippet which will take 4 byte and convert that in to int value.</p>\n<pre><code>var bufView = new Uint8Array([0xe4, 0x0e, 0x00, 0x00]);\nvar a = new Int32Array(bufView.buffer.slice(0,4))[0]\nconsole.log(a);\n</code></pre>\n<p>Output of the above code is <strong>3812</strong></p>\n<p>I want to do the same operation in Java as well where I have</p>\n<pre><code>byte[] bytes = {(byte) 0xe4, 0x0e, 0x00, 0x00};\n</code></pre>\n<p>I have searched whole internet but I could not see any results related to this. How can we achieve this?</p>\n"},{"tags":["java","arcgis","esri","arcgis-runtime"],"answers":[{"tags":[],"owner":{"account_id":1515055,"reputation":464,"user_id":1416253,"display_name":"Nixta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261963,"creation_date":1635261963,"answer_id":69725894,"question_id":69723306,"body_markdown":"Visit the [ArcGIS Runtime SDK for Java sample code][1] page and search for KML at the top of the Table of Contents.\r\n\r\n\r\n  [1]: https://developers.arcgis.com/java/sample-code/","title":"Package com.esri.arcgisruntime.ogc.kml for Arcgis API of Java","body":"<p>Visit the <a href=\"https://developers.arcgis.com/java/sample-code/\" rel=\"nofollow noreferrer\">ArcGIS Runtime SDK for Java sample code</a> page and search for KML at the top of the Table of Contents.</p>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662829841,"creation_date":1662827068,"answer_id":73673416,"question_id":69723306,"body_markdown":"That library looks good, I reached the same conclusions, but this lib is quite complex, it needs 480 MBs of native code extracted to specific location(s) (see copyNatives in the [example project](https://github.com/Esri/arcgis-runtime-samples-java/tree/main/kml/create-and-save-kml-file)) to execute this code:\r\n```kotlin\r\nval kmlDocument = KmlDocument()\r\n// Call .get() to make sure it&#39;s synchronously saved.\r\nkmlDocument.saveAsAsync(File(&quot;test.kmz&quot;).absolutePath).get()\r\n```\r\nadditionally \r\n * it needs a custom maven repository reference (mavenCentral is not enough)\r\n * it might also need a licence\r\n\r\n\r\nI also looked at other libraries:\r\n * [This API from Nasa](https://worldwind.arc.nasa.gov/java/latest/javadoc/gov/nasa/worldwind/ogc/kml/package-summary.html) also looked promising, but it&#39;s only reading KML files; additionally it&#39;s a ZIP, not distributed on mavenCentral().\r\n * [Java API for KML](https://github.com/micromata/javaapiforkml) which actually works, here&#39;s an [example](https://github.com/usc-isi-i2/Web-Karma/blob/master/karma-commands/commands-import/import-spatial/src/main/java/edu/isi/karma/geospatial/WorksheetGeospatialContent.java#L332).\r\n\r\n","title":"Package com.esri.arcgisruntime.ogc.kml for Arcgis API of Java","body":"<p>That library looks good, I reached the same conclusions, but this lib is quite complex, it needs 480 MBs of native code extracted to specific location(s) (see copyNatives in the <a href=\"https://github.com/Esri/arcgis-runtime-samples-java/tree/main/kml/create-and-save-kml-file\" rel=\"nofollow noreferrer\">example project</a>) to execute this code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val kmlDocument = KmlDocument()\n// Call .get() to make sure it's synchronously saved.\nkmlDocument.saveAsAsync(File(&quot;test.kmz&quot;).absolutePath).get()\n</code></pre>\n<p>additionally</p>\n<ul>\n<li>it needs a custom maven repository reference (mavenCentral is not enough)</li>\n<li>it might also need a licence</li>\n</ul>\n<p>I also looked at other libraries:</p>\n<ul>\n<li><a href=\"https://worldwind.arc.nasa.gov/java/latest/javadoc/gov/nasa/worldwind/ogc/kml/package-summary.html\" rel=\"nofollow noreferrer\">This API from Nasa</a> also looked promising, but it's only reading KML files; additionally it's a ZIP, not distributed on mavenCentral().</li>\n<li><a href=\"https://github.com/micromata/javaapiforkml\" rel=\"nofollow noreferrer\">Java API for KML</a> which actually works, here's an <a href=\"https://github.com/usc-isi-i2/Web-Karma/blob/master/karma-commands/commands-import/import-spatial/src/main/java/edu/isi/karma/geospatial/WorksheetGeospatialContent.java#L332\" rel=\"nofollow noreferrer\">example</a>.</li>\n</ul>\n"}],"owner":{"account_id":23052444,"reputation":103,"user_id":17169050,"display_name":"Rizwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662829841,"creation_date":1635252097,"question_id":69723306,"body_markdown":"I am currently working on a project where I have to convert my data into kml. So, I go through this java package `com.esri.arcgisruntime.ogc.kml` on the developers website of ESRI. \r\n\r\nThis package basically provides interfaces and classes for working with Keyhole Markup Language (KML). KML is an XML-based data format that defines a range of geographic data structures such as placemarks, descriptions, ground overlays, paths, and polygons.\r\n\r\nWith this packages we  can:\r\n\r\n\r\n - Determines how altitude values should be interpreted.\r\n - Defines a KML color mode.\r\n - The list of KML list item types.\r\n - The list of KML geometry types.\r\n - KML node refresh statuses.\r\n - The list of KML graphic types.\r\n - KML refresh modes.\r\n - KML tour execution status.\r\n - A KML units type.\r\n - The list of view types.\r\n - List of KML view refresh modes.\r\n\r\nNow, I need some working example or reference of this package, so that I can modify my java project accordingly because on the ESRI website , only details of the package are there and there is no such working example that how this package works.\r\n\r\n","title":"Package com.esri.arcgisruntime.ogc.kml for Arcgis API of Java","body":"<p>I am currently working on a project where I have to convert my data into kml. So, I go through this java package <code>com.esri.arcgisruntime.ogc.kml</code> on the developers website of ESRI.</p>\n<p>This package basically provides interfaces and classes for working with Keyhole Markup Language (KML). KML is an XML-based data format that defines a range of geographic data structures such as placemarks, descriptions, ground overlays, paths, and polygons.</p>\n<p>With this packages we  can:</p>\n<ul>\n<li>Determines how altitude values should be interpreted.</li>\n<li>Defines a KML color mode.</li>\n<li>The list of KML list item types.</li>\n<li>The list of KML geometry types.</li>\n<li>KML node refresh statuses.</li>\n<li>The list of KML graphic types.</li>\n<li>KML refresh modes.</li>\n<li>KML tour execution status.</li>\n<li>A KML units type.</li>\n<li>The list of view types.</li>\n<li>List of KML view refresh modes.</li>\n</ul>\n<p>Now, I need some working example or reference of this package, so that I can modify my java project accordingly because on the ESRI website , only details of the package are there and there is no such working example that how this package works.</p>\n"},{"tags":["java","select","struts2","tags"],"answers":[{"tags":[],"owner":{"account_id":3944429,"reputation":188,"user_id":3257635,"display_name":"Pravin Varpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399100611,"creation_date":1399100611,"answer_id":23441341,"question_id":23440767,"body_markdown":"if you want to add one more option field with null value at the begining of the list you can use `headerKey` &amp; `headerValue` attribute of `s:select` tag. \r\n\r\nCheck example given below.\r\n\r\n    &lt;s:select list=&quot;myList&quot; listKey=&quot;myListVal&quot;  listValue=&quot;myListDesc&quot;  headerKey=&quot;0&quot; headerValue=&quot;&quot; &gt;&lt;/s:select&gt;    \r\n\r\nSo the first element of your list will be empty &amp; it&#39;s value will be 0(zero) here.\r\n\r\nIt will be render as\r\n\r\n    &lt;select data-inputs=&quot;myListInput&quot; &gt;\r\n         &lt;option value=&quot;&quot; &gt;0&lt;/option&gt;\r\n         &lt;option value=&quot;myListVal1&quot; &gt;myListDesc1&lt;/option&gt;\r\n         &lt;option value=&quot;myListVal2&quot; &gt;myListDesc2&lt;/option&gt;\r\n         &lt;option value=&quot;myListVal3&quot; &gt;myListDesc3&lt;/option&gt;\r\n    &lt;/select&gt;\r\nYou can set any value on place of 0 (zero).\r\n\r\nHope this will help you.","title":"Add one more option field in the Struts2 select tag","body":"<p>if you want to add one more option field with null value at the begining of the list you can use <code>headerKey</code> &amp; <code>headerValue</code> attribute of <code>s:select</code> tag. </p>\n\n<p>Check example given below.</p>\n\n<pre><code>&lt;s:select list=\"myList\" listKey=\"myListVal\"  listValue=\"myListDesc\"  headerKey=\"0\" headerValue=\"\" &gt;&lt;/s:select&gt;    \n</code></pre>\n\n<p>So the first element of your list will be empty &amp; it's value will be 0(zero) here.</p>\n\n<p>It will be render as</p>\n\n<pre><code>&lt;select data-inputs=\"myListInput\" &gt;\n     &lt;option value=\"\" &gt;0&lt;/option&gt;\n     &lt;option value=\"myListVal1\" &gt;myListDesc1&lt;/option&gt;\n     &lt;option value=\"myListVal2\" &gt;myListDesc2&lt;/option&gt;\n     &lt;option value=\"myListVal3\" &gt;myListDesc3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>You can set any value on place of 0 (zero).</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3468133,"reputation":111,"user_id":3094723,"display_name":"Vinoth Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1399874655,"creation_date":1399874655,"answer_id":23602040,"question_id":23440767,"body_markdown":"There is an Attribute called `emptyOption` in the select tag.\r\nIt worked as below.\r\n\r\n    &lt;s:select list=&quot;myList&quot; listKey=&quot;myListVal&quot;  listValue=&quot;myListDesc&quot; emptyOption=&quot;true&quot;  &gt;&lt;/s:select&gt; \r\n\r\n  ","title":"Add one more option field in the Struts2 select tag","body":"<p>There is an Attribute called <code>emptyOption</code> in the select tag.\nIt worked as below.</p>\n\n<pre><code>&lt;s:select list=\"myList\" listKey=\"myListVal\"  listValue=\"myListDesc\" emptyOption=\"true\"  &gt;&lt;/s:select&gt; \n</code></pre>\n"}],"owner":{"account_id":3468133,"reputation":111,"user_id":3094723,"display_name":"Vinoth Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23602040,"answer_count":2,"score":1,"last_activity_date":1662829495,"creation_date":1399095943,"question_id":23440767,"body_markdown":"i have one struts 2 select tag like below.\r\n\r\n    &lt;s:select list=&quot;myList&quot; listKey=&quot;myListVal&quot;  listValue=&quot;myListDesc&quot;&gt;&lt;/s:select&gt;\r\n\r\nit rendered as below\r\n\r\n    &lt;select data-inputs=&quot;myListInput&quot; &gt;\r\n         &lt;option value=&quot;myListVal1&quot; &gt;myListDesc1&lt;/option&gt;\r\n         &lt;option value=&quot;myListVal2&quot; &gt;myListDesc2&lt;/option&gt;\r\n         &lt;option value=&quot;myListVal3&quot; &gt;myListDesc3&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\ni want to add one more option field with null value\r\n \r\n\r\n    &lt;option value=&quot;&quot; &gt;&lt;/option&gt;\r\n\r\nto the Option field with modification in the list.\r\n\r\nIn struts 1 it is possible like below\r\n\r\n \r\n\r\n    &lt;html:option value=&quot;&quot;&gt;&lt;/html:option&gt;\r\n\r\nlike that is it possible in the struts 2\r\n\r\n&gt; **note:i couldn&#39;t able to modifiy the list before the page load in the java**","title":"Add one more option field in the Struts2 select tag","body":"<p>i have one struts 2 select tag like below.</p>\n\n<pre><code>&lt;s:select list=\"myList\" listKey=\"myListVal\"  listValue=\"myListDesc\"&gt;&lt;/s:select&gt;\n</code></pre>\n\n<p>it rendered as below</p>\n\n<pre><code>&lt;select data-inputs=\"myListInput\" &gt;\n     &lt;option value=\"myListVal1\" &gt;myListDesc1&lt;/option&gt;\n     &lt;option value=\"myListVal2\" &gt;myListDesc2&lt;/option&gt;\n     &lt;option value=\"myListVal3\" &gt;myListDesc3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>i want to add one more option field with null value</p>\n\n<pre><code>&lt;option value=\"\" &gt;&lt;/option&gt;\n</code></pre>\n\n<p>to the Option field with modification in the list.</p>\n\n<p>In struts 1 it is possible like below</p>\n\n<pre><code>&lt;html:option value=\"\"&gt;&lt;/html:option&gt;\n</code></pre>\n\n<p>like that is it possible in the struts 2</p>\n\n<blockquote>\n  <p><strong>note:i couldn't able to modifiy the list before the page load in the java</strong></p>\n</blockquote>\n"},{"tags":["java","android","gluon-mobile"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1662748564,"post_id":73666158,"comment_id":130086017,"body_markdown":"Do all your dependencies support an sdk version that low?  Also, targetSdkVersion 24 won&#39;t be allowed on the Play store.  Their minimum target sdk is 31 for new apps, 30 for updates (which becomes 31 in November) and they bump this annually.","body":"Do all your dependencies support an sdk version that low?  Also, targetSdkVersion 24 won&#39;t be allowed on the Play store.  Their minimum target sdk is 31 for new apps, 30 for updates (which becomes 31 in November) and they bump this annually."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1662749071,"post_id":73666158,"comment_id":130086150,"body_markdown":"`application is not compatible with the device` could mean that your device has 32 bits, which is [not supported](https://docs.gluonhq.com/#_platforms), because GraalVM is only for 64 bits. Can you verify that?","body":"<code>application is not compatible with the device</code> could mean that your device has 32 bits, which is <a href=\"https://docs.gluonhq.com/#_platforms\" rel=\"nofollow noreferrer\">not supported</a>, because GraalVM is only for 64 bits. Can you verify that?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1662756776,"post_id":73666158,"comment_id":130087950,"body_markdown":"@Jos&#233;Pereda My dependencies are rather simple: gluon mobile stuff (charm, attach, glisten), Jackson, and JavaFX. For now, I&#39;m installing the apk directly on the device, I&#39;ll worry about the play store later. The device doesn&#39;t show if it&#39;s 32 or 64 bits, the info it gives is kernel version 3.18.35 and ARMv7 processor rev 4 (v71).","body":"@Jos&#233;Pereda My dependencies are rather simple: gluon mobile stuff (charm, attach, glisten), Jackson, and JavaFX. For now, I&#39;m installing the apk directly on the device, I&#39;ll worry about the play store later. The device doesn&#39;t show if it&#39;s 32 or 64 bits, the info it gives is kernel version 3.18.35 and ARMv7 processor rev 4 (v71)."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1662763206,"post_id":73666158,"comment_id":130089158,"body_markdown":"ARMv7 is 32 bits. If you check the generated APK file, it has ARMv8 libraries only (64bits).","body":"ARMv7 is 32 bits. If you check the generated APK file, it has ARMv8 libraries only (64bits)."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1662764593,"post_id":73666158,"comment_id":130089383,"body_markdown":"@Jos&#233;Pereda I see, so in general, all Gluon Mobile applications I create are for 64 bits only? I should alerts the potential users if that&#39;s the case.","body":"@Jos&#233;Pereda I see, so in general, all Gluon Mobile applications I create are for 64 bits only? I should alerts the potential users if that&#39;s the case."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1662770785,"post_id":73666158,"comment_id":130090038,"body_markdown":"Yes, the JavaFX/Gluon Mobile applications leverage GraalVM, via GluonFX plugin, to create native images, but it has only 64 bits support.","body":"Yes, the JavaFX/Gluon Mobile applications leverage GraalVM, via GluonFX plugin, to create native images, but it has only 64 bits support."}],"answers":[{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662828879,"creation_date":1662828879,"answer_id":73673623,"question_id":73666158,"body_markdown":"As mentioned in the comments, the device uses an ARMv7 processor, which uses a 32bit architecture. GraalVM supports only 64 bits, so the APKs produced by it will work only on devices with 64bits, like those with ARMv8.","title":"Application not compatible with older Android versions","body":"<p>As mentioned in the comments, the device uses an ARMv7 processor, which uses a 32bit architecture. GraalVM supports only 64 bits, so the APKs produced by it will work only on devices with 64bits, like those with ARMv8.</p>\n"}],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73673623,"answer_count":1,"score":0,"last_activity_date":1662828879,"creation_date":1662747760,"question_id":73666158,"body_markdown":"I&#39;m generating an Android application via `mvn -Pandroid gluonfx:build gluonfx:package`. Here are the versions from the POM:\r\n\r\n```\r\n\t\t&lt;maven-compiler-plugin-version&gt;3.10.1&lt;/maven-compiler-plugin-version&gt;\r\n\t\t&lt;maven-surefire-plugin-version&gt;3.0.0-M6&lt;/maven-surefire-plugin-version&gt;\r\n\t\t&lt;javafx-maven-plugin-version&gt;0.0.8&lt;/javafx-maven-plugin-version&gt;\r\n\t\t&lt;gluonfx-maven-plugin-version&gt;1.0.14&lt;/gluonfx-maven-plugin-version&gt;\r\n\r\n\t\t&lt;java-version&gt;17&lt;/java-version&gt;\r\n\t\t&lt;javafx-version&gt;18.0.1&lt;/javafx-version&gt;\r\n\t\t&lt;charm-version&gt;6.1.0&lt;/charm-version&gt;\r\n\t\t&lt;attach-version&gt;4.0.15&lt;/attach-version&gt;\r\n```\r\n\r\nUsing graalvm-svm-java17-linux-gluon-22.1.0.1-Final\r\n\r\nThe application works well on Android 8. However, when trying to install it on Android 7.0, a message pops up saying that the application is not compatible with the device. I&#39;m not sure where the default version is specified, but following the [instructions](https://docs.gluonhq.com/#platforms_android_distribution_manifest), I copied the manifest file, which was\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39;?&gt;\r\n&lt;manifest xmlns:android=&#39;http://schemas.android.com/apk/res/android&#39; package=&#39;my.app.demo&#39; android:versionCode=&#39;1&#39; android:versionName=&#39;1.0&#39;&gt;\r\n    &lt;supports-screens android:xlargeScreens=&quot;true&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    \r\n    &lt;application android:label=&#39;MyApp&#39; android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity android:name=&#39;com.gluonhq.helloandroid.MainActivity&#39; android:configChanges=&quot;orientation|keyboardHidden&quot;&gt;\r\n             &lt;intent-filter&gt;\r\n                &lt;category android:name=&#39;android.intent.category.LAUNCHER&#39;/&gt;\r\n                &lt;action android:name=&#39;android.intent.action.MAIN&#39;/&gt;\r\n             &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&#39;com.gluonhq.helloandroid.PermissionRequestActivity&#39;/&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nand added a line for supporting sdk 24 ([matches](https://developer.android.com/studio/releases/platforms#7.0) Android 7.0):\r\n```\r\n    ...\r\n    &lt;supports-screens android:xlargeScreens=&quot;true&quot;/&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;24&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    ...\r\n```\r\nThen I put it in my project under `src/android/AndroidManifest.xml` and ran `mvn -Pandroid gluonfx:build gluonfx:package` again. The APK was generated successfully, but upon installation the same error message appeared.\r\n\r\nHow do I install the app on Android 7.0?","title":"Application not compatible with older Android versions","body":"<p>I'm generating an Android application via <code>mvn -Pandroid gluonfx:build gluonfx:package</code>. Here are the versions from the POM:</p>\n<pre><code>        &lt;maven-compiler-plugin-version&gt;3.10.1&lt;/maven-compiler-plugin-version&gt;\n        &lt;maven-surefire-plugin-version&gt;3.0.0-M6&lt;/maven-surefire-plugin-version&gt;\n        &lt;javafx-maven-plugin-version&gt;0.0.8&lt;/javafx-maven-plugin-version&gt;\n        &lt;gluonfx-maven-plugin-version&gt;1.0.14&lt;/gluonfx-maven-plugin-version&gt;\n\n        &lt;java-version&gt;17&lt;/java-version&gt;\n        &lt;javafx-version&gt;18.0.1&lt;/javafx-version&gt;\n        &lt;charm-version&gt;6.1.0&lt;/charm-version&gt;\n        &lt;attach-version&gt;4.0.15&lt;/attach-version&gt;\n</code></pre>\n<p>Using graalvm-svm-java17-linux-gluon-22.1.0.1-Final</p>\n<p>The application works well on Android 8. However, when trying to install it on Android 7.0, a message pops up saying that the application is not compatible with the device. I'm not sure where the default version is specified, but following the <a href=\"https://docs.gluonhq.com/#platforms_android_distribution_manifest\" rel=\"nofollow noreferrer\">instructions</a>, I copied the manifest file, which was</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;manifest xmlns:android='http://schemas.android.com/apk/res/android' package='my.app.demo' android:versionCode='1' android:versionName='1.0'&gt;\n    &lt;supports-screens android:xlargeScreens=&quot;true&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    \n    &lt;application android:label='MyApp' android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity android:name='com.gluonhq.helloandroid.MainActivity' android:configChanges=&quot;orientation|keyboardHidden&quot;&gt;\n             &lt;intent-filter&gt;\n                &lt;category android:name='android.intent.category.LAUNCHER'/&gt;\n                &lt;action android:name='android.intent.action.MAIN'/&gt;\n             &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name='com.gluonhq.helloandroid.PermissionRequestActivity'/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>and added a line for supporting sdk 24 (<a href=\"https://developer.android.com/studio/releases/platforms#7.0\" rel=\"nofollow noreferrer\">matches</a> Android 7.0):</p>\n<pre><code>    ...\n    &lt;supports-screens android:xlargeScreens=&quot;true&quot;/&gt;\n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;24&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    ...\n</code></pre>\n<p>Then I put it in my project under <code>src/android/AndroidManifest.xml</code> and ran <code>mvn -Pandroid gluonfx:build gluonfx:package</code> again. The APK was generated successfully, but upon installation the same error message appeared.</p>\n<p>How do I install the app on Android 7.0?</p>\n"},{"tags":["java","rest","jersey","client"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634045133,"post_id":69451482,"comment_id":122916706,"body_markdown":"have you read https://stackoverflow.com/a/33500913/175554 ?","body":"have you read <a href=\"https://stackoverflow.com/a/33500913/175554\">stackoverflow.com/a/33500913/175554</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":11935689,"reputation":11,"user_id":8734252,"display_name":"Supun Senanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662828819,"creation_date":1662828819,"answer_id":73673614,"question_id":69451482,"body_markdown":"I found the solution. I just need to add certificate to the java KeyStore [This helped me][1]\r\n\r\n\r\n  [1]: https://support.code42.com/CP/Admin/On-premises/6/Configuring/Install_a_CA-signed_SSL_certificate_for_HTTPS_console_access","title":"How do I use an SSL client certificate with jersey client in java","body":"<p>I found the solution. I just need to add certificate to the java KeyStore <a href=\"https://support.code42.com/CP/Admin/On-premises/6/Configuring/Install_a_CA-signed_SSL_certificate_for_HTTPS_console_access\" rel=\"nofollow noreferrer\">This helped me</a></p>\n"}],"owner":{"account_id":11935689,"reputation":11,"user_id":8734252,"display_name":"Supun Senanayake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73673614,"answer_count":1,"score":1,"last_activity_date":1662828819,"creation_date":1633440901,"question_id":69451482,"body_markdown":"I am trying to connect server using https url But still could not understand how should I add SSL certificate to jersey client\r\n\r\n   private static String post() throws Exception {\r\n        String url =&quot;https://www.test.lk/services/erl/es/erl/view/index.action&quot;;\r\n\r\n        Client client =createClient();\r\n        try {\r\n            return client\r\n                    .target(url)\r\n                    .request()\r\n                    .get()\r\n                    .readEntity(String.class);\r\n        } finally {\r\n            client.close();\r\n        }\r\n    }\r\n\t\r\n\t\r\n\tprivate static Client createClient() throws Exception {\r\n\t\tSSLContext ctx = SSLContext.getInstance(&quot;SL&quot;);\r\n\t\tctx.init(null, getTrustManager(), new SecureRandom());\r\n\r\n\t\tHostnameVerifier verifier = new HostnameVerifier() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean verify(String hostName, SSLSession sslSession) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn ClientBuilder.newBuilder().sslContext(ctx).hostnameVerifier(verifier).build();\r\n\t}\r\n\t\r\n\tprivate static TrustManager[] getTrustManager() {\r\n\t\treturn new TrustManager[] { new X509TrustManager() {\r\n\t\t\t\r\n\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\treturn new X509Certificate[0];\r\n\t\t\t}\r\n\r\n\t\t\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\t\t\t// Trust all servers\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\t\t\t// Trust all clients\r\n\t\t\t}\r\n\t\t} };\r\n\t}","title":"How do I use an SSL client certificate with jersey client in java","body":"<p>I am trying to connect server using https url But still could not understand how should I add SSL certificate to jersey client</p>\n<p>private static String post() throws Exception {\nString url =&quot;https://www.test.lk/services/erl/es/erl/view/index.action&quot;;</p>\n<pre><code>    Client client =createClient();\n    try {\n        return client\n                .target(url)\n                .request()\n                .get()\n                .readEntity(String.class);\n    } finally {\n        client.close();\n    }\n}\n\n\nprivate static Client createClient() throws Exception {\n    SSLContext ctx = SSLContext.getInstance(&quot;SL&quot;);\n    ctx.init(null, getTrustManager(), new SecureRandom());\n\n    HostnameVerifier verifier = new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostName, SSLSession sslSession) {\n            return true;\n        }\n    };\n\n    return ClientBuilder.newBuilder().sslContext(ctx).hostnameVerifier(verifier).build();\n}\n\nprivate static TrustManager[] getTrustManager() {\n    return new TrustManager[] { new X509TrustManager() {\n        \n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            // Trust all servers\n        }\n        \n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            // Trust all clients\n        }\n    } };\n}\n</code></pre>\n"},{"tags":["java","constraints","drools","optaplanner"],"comments":[{"owner":{"account_id":3252792,"reputation":1390,"user_id":2742642,"accept_rate":75,"display_name":"Uli"},"score":0,"creation_date":1662965861,"post_id":73669520,"comment_id":130119222,"body_markdown":"The post is quite long and the two questions are hidden between the text. Try to extract the questions so that readers can faster know and concentrate on what&#39;s your problem/question.","body":"The post is quite long and the two questions are hidden between the text. Try to extract the questions so that readers can faster know and concentrate on what&#39;s your problem/question."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1662969073,"post_id":73669520,"comment_id":130120080,"body_markdown":"**Note for others reading this post: there is a [migration guide from scoreDRL to ConstraintStreams](https://www.optaplanner.org/download/upgradeRecipe/drl-to-constraint-streams-migration.html)** - Thanks for the kind words, Mischa, great feedback!","body":"<b>Note for others reading this post: there is a <a href=\"https://www.optaplanner.org/download/upgradeRecipe/drl-to-constraint-streams-migration.html\" rel=\"nofollow noreferrer\">migration guide from scoreDRL to ConstraintStreams</a></b> - Thanks for the kind words, Mischa, great feedback!"}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662828452,"creation_date":1662811203,"answer_id":73671648,"question_id":73669520,"body_markdown":"First of all, thank you for your kind words, we appreciate that. If I may make one suggestion for your next question - ask your questions separately, as this &quot;aggregate question&quot; will make the answer needlessly hard to read and search.\r\n\r\nWrt. the experimental constraint collector - indeed, the performance of it is not ideal. It does a lot of things to give you a nice and useful API, at the expense of runtime performance. Wrt. using it in your own project - until we decide to make it a public API, copying it is how the collector is intended to be used.\r\n\r\nWrt. insertLogical - you are right that there is no such thing in Constraint Streams, and likely never will be. It may be a natural concept to people coming from Drools, and pretty much no one else. :-) The use case you describe (counting hours of sleep) may possibly be accomplished with [shadow variables][1]; the line between what should be done in shadow variables and in constraints is somewhat blurry.\r\n\r\nFinally, when it comes to disabled constraints - you are right. We have a JIRA filed to eventually address that shortcoming.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/shadow-variable/shadow-variable.html","title":"Optaplanner: Convert DRL to ConstraintStreams","body":"<p>First of all, thank you for your kind words, we appreciate that. If I may make one suggestion for your next question - ask your questions separately, as this &quot;aggregate question&quot; will make the answer needlessly hard to read and search.</p>\n<p>Wrt. the experimental constraint collector - indeed, the performance of it is not ideal. It does a lot of things to give you a nice and useful API, at the expense of runtime performance. Wrt. using it in your own project - until we decide to make it a public API, copying it is how the collector is intended to be used.</p>\n<p>Wrt. insertLogical - you are right that there is no such thing in Constraint Streams, and likely never will be. It may be a natural concept to people coming from Drools, and pretty much no one else. :-) The use case you describe (counting hours of sleep) may possibly be accomplished with <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/shadow-variable/shadow-variable.html\" rel=\"nofollow noreferrer\">shadow variables</a>; the line between what should be done in shadow variables and in constraints is somewhat blurry.</p>\n<p>Finally, when it comes to disabled constraints - you are right. We have a JIRA filed to eventually address that shortcoming.</p>\n"}],"owner":{"account_id":13130947,"reputation":11,"user_id":9485470,"display_name":"Mischa Stone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662828452,"creation_date":1662788257,"question_id":73669520,"body_markdown":"I have an employee rostering application. Some of the rules are quite similar as in the Nurse Rostering example.\r\n\r\nIn the last two months I had to convert around 30 rules written in DRL to ConstraintSteams. After struggeling at the beginning I started to like it more and more. At the end I really liked it. Thanks a lot for this awesome work!\r\n\r\nI want to mention and ask a few things:\r\n\r\n - ConsecutiveWorkingDays: Here I use the `org.optaplanner.examples.common.experimental.ExperimentalConstraintCollectors` to solve it. It works perfect. But comparing to the most other rules (I benchmarked the one by one as described in the documentation), it performes not that good (12,150/s), comparing to dayOffRequest (27,384/s) or fairDistributionGroup (21,864/s). But I imagine thats the complexity of the problem.\r\n - Consecutive Working Days 2: What is the best way to include `org.optaplanner.examples.common.experimental.ExperimentalConstraintCollectors` and these classes in the project? I copied them from the example to the Project.\r\n - SleepTime: The law in Switzerland has several rules for how much sleep time are legal. The description here, is minimal simplified:\r\n   - Less then 8 hours sleep is allways illegal\r\n   - Twice less the 11 hours sleep in one week is also allways illegal\r\n   - Once less then eleven hours sleep is illegal, if the average sleep time in the week is less then 11 hours.\r\n \r\n    With the drl I did an `InsertLogical` of `Freetime-Objects`. A Freetime starts at the end of the last shift of a day and ends with the beginning of the next shift, where `nexShift.dayIndex &gt; firstShift.DayIndex`. This calculation is quite intensive, because an employee can have more then one shift per day. \r\n   These `Freetime-Objects` I also used to calculate the rule TwoDaysOfInARowPerWeek. \r\n   With the ConstraintStreams the selection of the relevant shifts is done for every of the four rules. This decreased the calculation speed quite a lot. With the drl it was between 3000/s and 4000/s. With ConstraintStreams it decreased to 1500/s to 2000/s.\r\n   Now I managed to do all the sleep time rules in one rule, so the selection of the shifts has not to be done 4 times, but only 2 times. And now the speed is okay (2700/s to 3500/s). But still, there is no way to do something like `InsertLogical`? Or what alternatives are there?\r\n   Here the code, how I select this shifts:\r\n   ```\r\n     private BiConstraintStream&lt;Shift, Shift&gt; getEmployeeFreetimeRelevantShifts(ConstraintFactory constraintFactory) {\r\n      // Shift (1): Employee works on the Shift\r\n      return constraintFactory.forEach(Shift.class)\r\n          .filter(shift -&gt; shift.isNotEmptyShift() &amp;&amp; shift.getHelperShiftForFreetime() != &quot;last&quot;)\r\n          // No later Shift on the same day as Shift (1)\r\n          .ifNotExistsOther(\r\n              Shift.class,\r\n              Joiners.equal(Shift::getEmployee),\r\n              Joiners.equal(Shift::getDayIndex),\r\n              Joiners.filtering((shift_1, shift_2)-&gt; shift_2.isNotHelperShiftForFreetime()),\r\n              Joiners.filtering((shift_1, later_shift_on_same_day)-&gt; shift_1.getEndDatetimeInMinutesOfDay() &lt; later_shift_on_same_day.getEndDatetimeInMinutesOfDay())\r\n          )\r\n          // Shift (2) a shift on a later day than shift 1\r\n          .join(\r\n               Shift.class,\r\n               Joiners.equal(Shift::getEmployee),\r\n               Joiners.filtering((shift_1, shift_2)-&gt; shift_2.getHelperShiftForFreetime() != &quot;first&quot;),\r\n               Joiners.filtering((shift_1, shift_2)-&gt; shift_1.getDayIndex() &lt; shift_2.getDayIndex())\r\n           )\r\n          // There is no shift after Shift 2 on a earlier day between 1 and 2\r\n          .ifNotExists(\r\n              Shift.class,\r\n              Joiners.equal((shift_1, shift_2)-&gt; shift_1.getEmployee().getId(), not_existing_shift -&gt; not_existing_shift.getEmployee().getId()),\r\n              Joiners.filtering((shift_1, shift_2, shift_between_1_and_2 )-&gt; {\r\n                return shift_between_1_and_2.isNotHelperShiftForFreetime();\r\n              }),\r\n              Joiners.filtering((shift_1, shift_2, shift_between_1_and_2 )-&gt; {\r\n                return shift_between_1_and_2.getDayIndex() &gt; shift_1.getDayIndex() &amp;&amp; shift_between_1_and_2.getDayIndex() &lt; shift_2.getDayIndex();\r\n              })\r\n           )\r\n          // and there is no earlier shift on the same day before Shift 2\r\n          .ifNotExists(\r\n              Shift.class,\r\n              Joiners.equal((shift_1, shift_2)-&gt; shift_1.getEmployee().getId(), not_existing_shift -&gt; not_existing_shift.getEmployee().getId()),\r\n              Joiners.equal((shift_1, shift_2)-&gt; shift_2.getDayIndex(), not_existing_shift -&gt; not_existing_shift.getDayIndex()),\r\n              Joiners.filtering((shift_1, shift_2, not_existing_shift_before_shift_2 )-&gt; {\r\n                return not_existing_shift_before_shift_2.isNotHelperShiftForFreetime();\r\n              }),\r\n              Joiners.filtering((shift_1, shift_2, not_existing_shift_before_shift_2 )-&gt; {\r\n                return shift_2.getStartDatetimeInMinutesOfDay() &gt; not_existing_shift_before_shift_2.getStartDatetimeInMinutesOfDay();\r\n              })\r\n           );\r\n    }\r\n\r\n - Execution of Rules with 0 score: In my case a user can select which rules he wants to be executed, if it should be a hard or a soft constraint and he can change the penalty value. I solve this with a `@ConstraintConfiguration`. But as far as I can see, also the rules with a penalty value of 0 are executed (but not penaltized). So if I disable all rules except of one rule, the speed is not higher then when I select all rules. is that correct? And is there a possibility to do that in a different way?\r\n\r\n\r\nAgain, thanks a lot for this awesome project!\r\n\r\n\r\n \r\n\r\n ","title":"Optaplanner: Convert DRL to ConstraintStreams","body":"<p>I have an employee rostering application. Some of the rules are quite similar as in the Nurse Rostering example.</p>\n<p>In the last two months I had to convert around 30 rules written in DRL to ConstraintSteams. After struggeling at the beginning I started to like it more and more. At the end I really liked it. Thanks a lot for this awesome work!</p>\n<p>I want to mention and ask a few things:</p>\n<ul>\n<li><p>ConsecutiveWorkingDays: Here I use the <code>org.optaplanner.examples.common.experimental.ExperimentalConstraintCollectors</code> to solve it. It works perfect. But comparing to the most other rules (I benchmarked the one by one as described in the documentation), it performes not that good (12,150/s), comparing to dayOffRequest (27,384/s) or fairDistributionGroup (21,864/s). But I imagine thats the complexity of the problem.</p>\n</li>\n<li><p>Consecutive Working Days 2: What is the best way to include <code>org.optaplanner.examples.common.experimental.ExperimentalConstraintCollectors</code> and these classes in the project? I copied them from the example to the Project.</p>\n</li>\n<li><p>SleepTime: The law in Switzerland has several rules for how much sleep time are legal. The description here, is minimal simplified:</p>\n<ul>\n<li>Less then 8 hours sleep is allways illegal</li>\n<li>Twice less the 11 hours sleep in one week is also allways illegal</li>\n<li>Once less then eleven hours sleep is illegal, if the average sleep time in the week is less then 11 hours.</li>\n</ul>\n<p>With the drl I did an <code>InsertLogical</code> of <code>Freetime-Objects</code>. A Freetime starts at the end of the last shift of a day and ends with the beginning of the next shift, where <code>nexShift.dayIndex &gt; firstShift.DayIndex</code>. This calculation is quite intensive, because an employee can have more then one shift per day.\nThese <code>Freetime-Objects</code> I also used to calculate the rule TwoDaysOfInARowPerWeek.\nWith the ConstraintStreams the selection of the relevant shifts is done for every of the four rules. This decreased the calculation speed quite a lot. With the drl it was between 3000/s and 4000/s. With ConstraintStreams it decreased to 1500/s to 2000/s.\nNow I managed to do all the sleep time rules in one rule, so the selection of the shifts has not to be done 4 times, but only 2 times. And now the speed is okay (2700/s to 3500/s). But still, there is no way to do something like <code>InsertLogical</code>? Or what alternatives are there?\nHere the code, how I select this shifts:</p>\n<pre><code>  private BiConstraintStream&lt;Shift, Shift&gt; getEmployeeFreetimeRelevantShifts(ConstraintFactory constraintFactory) {\n   // Shift (1): Employee works on the Shift\n   return constraintFactory.forEach(Shift.class)\n       .filter(shift -&gt; shift.isNotEmptyShift() &amp;&amp; shift.getHelperShiftForFreetime() != &quot;last&quot;)\n       // No later Shift on the same day as Shift (1)\n       .ifNotExistsOther(\n           Shift.class,\n           Joiners.equal(Shift::getEmployee),\n           Joiners.equal(Shift::getDayIndex),\n           Joiners.filtering((shift_1, shift_2)-&gt; shift_2.isNotHelperShiftForFreetime()),\n           Joiners.filtering((shift_1, later_shift_on_same_day)-&gt; shift_1.getEndDatetimeInMinutesOfDay() &lt; later_shift_on_same_day.getEndDatetimeInMinutesOfDay())\n       )\n       // Shift (2) a shift on a later day than shift 1\n       .join(\n            Shift.class,\n            Joiners.equal(Shift::getEmployee),\n            Joiners.filtering((shift_1, shift_2)-&gt; shift_2.getHelperShiftForFreetime() != &quot;first&quot;),\n            Joiners.filtering((shift_1, shift_2)-&gt; shift_1.getDayIndex() &lt; shift_2.getDayIndex())\n        )\n       // There is no shift after Shift 2 on a earlier day between 1 and 2\n       .ifNotExists(\n           Shift.class,\n           Joiners.equal((shift_1, shift_2)-&gt; shift_1.getEmployee().getId(), not_existing_shift -&gt; not_existing_shift.getEmployee().getId()),\n           Joiners.filtering((shift_1, shift_2, shift_between_1_and_2 )-&gt; {\n             return shift_between_1_and_2.isNotHelperShiftForFreetime();\n           }),\n           Joiners.filtering((shift_1, shift_2, shift_between_1_and_2 )-&gt; {\n             return shift_between_1_and_2.getDayIndex() &gt; shift_1.getDayIndex() &amp;&amp; shift_between_1_and_2.getDayIndex() &lt; shift_2.getDayIndex();\n           })\n        )\n       // and there is no earlier shift on the same day before Shift 2\n       .ifNotExists(\n           Shift.class,\n           Joiners.equal((shift_1, shift_2)-&gt; shift_1.getEmployee().getId(), not_existing_shift -&gt; not_existing_shift.getEmployee().getId()),\n           Joiners.equal((shift_1, shift_2)-&gt; shift_2.getDayIndex(), not_existing_shift -&gt; not_existing_shift.getDayIndex()),\n           Joiners.filtering((shift_1, shift_2, not_existing_shift_before_shift_2 )-&gt; {\n             return not_existing_shift_before_shift_2.isNotHelperShiftForFreetime();\n           }),\n           Joiners.filtering((shift_1, shift_2, not_existing_shift_before_shift_2 )-&gt; {\n             return shift_2.getStartDatetimeInMinutesOfDay() &gt; not_existing_shift_before_shift_2.getStartDatetimeInMinutesOfDay();\n           })\n        );\n }\n\n</code></pre>\n</li>\n<li><p>Execution of Rules with 0 score: In my case a user can select which rules he wants to be executed, if it should be a hard or a soft constraint and he can change the penalty value. I solve this with a <code>@ConstraintConfiguration</code>. But as far as I can see, also the rules with a penalty value of 0 are executed (but not penaltized). So if I disable all rules except of one rule, the speed is not higher then when I select all rules. is that correct? And is there a possibility to do that in a different way?</p>\n</li>\n</ul>\n<p>Again, thanks a lot for this awesome project!</p>\n"},{"tags":["java","multithreading","eclipse","debugging"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1662733244,"post_id":73663517,"comment_id":130081319,"body_markdown":"Well, the first rule is to not write convoluted multi-threaded code in the first place.  I&#39;m not joking about that, it&#39;s basically an impossible situation to deal with.  The code itself is the problem, you have to fix that.  For monitoring variables that other threads are changing, I don&#39;t really have a solution for that, it&#39;s just not practical.  I think the best solution would be to instrument the code itself (use logging statements for example) so that you can locate problems as they occur.","body":"Well, the first rule is to not write convoluted multi-threaded code in the first place.  I&#39;m not joking about that, it&#39;s basically an impossible situation to deal with.  The code itself is the problem, you have to fix that.  For monitoring variables that other threads are changing, I don&#39;t really have a solution for that, it&#39;s just not practical.  I think the best solution would be to instrument the code itself (use logging statements for example) so that you can locate problems as they occur."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1662734472,"post_id":73663517,"comment_id":130081753,"body_markdown":"`demo` is `final`, but its field `t` is not `volatile` and there is no synchronization. So thread `t2` might not seeing the changes done in thread `t1`. The _Variables_ view shows the values that are reported by the Java VM via the [Java Debug Wire Protocol](https://docs.oracle.com/en/java/javase/18/docs/specs/jdwp/jdwp-spec.html) to the IDE.","body":"<code>demo</code> is <code>final</code>, but its field <code>t</code> is not <code>volatile</code> and there is no synchronization. So thread <code>t2</code> might not seeing the changes done in thread <code>t1</code>. The <i>Variables</i> view shows the values that are reported by the Java VM via the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/jdwp/jdwp-spec.html\" rel=\"nofollow noreferrer\">Java Debug Wire Protocol</a> to the IDE."},{"owner":{"account_id":16122678,"reputation":86,"user_id":11638256,"display_name":"Fogux"},"score":0,"creation_date":1662740325,"post_id":73663517,"comment_id":130083736,"body_markdown":"Logging statement usually involve some kind of synchronized code, which will induce flushing of the thread cache and thus hide the problem. Even if you can somehow avoid that, any logging will anyway induce delays and make reproducibility worse.","body":"Logging statement usually involve some kind of synchronized code, which will induce flushing of the thread cache and thus hide the problem. Even if you can somehow avoid that, any logging will anyway induce delays and make reproducibility worse."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1662791518,"post_id":73663517,"comment_id":130092095,"body_markdown":"I see what you mean, it would be nice to know what local values are in each thread. But these values cannot be accessed by debugging. Probably because it would be more complex for the Java VM and would prevent optimization during just-in-time compilation of the bytecode, which would make the Java VM slower. However, the code is not deterministic, it can behave differently. I guess in most cases, in `t2` `demo.t` will be `0` because synchronization is avoided for performance reasons, but there is no guarantee for that.","body":"I see what you mean, it would be nice to know what local values are in each thread. But these values cannot be accessed by debugging. Probably because it would be more complex for the Java VM and would prevent optimization during just-in-time compilation of the bytecode, which would make the Java VM slower. However, the code is not deterministic, it can behave differently. I guess in most cases, in <code>t2</code> <code>demo.t</code> will be <code>0</code> because synchronization is avoided for performance reasons, but there is no guarantee for that."}],"owner":{"account_id":16122678,"reputation":86,"user_id":11638256,"display_name":"Fogux"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662827382,"creation_date":1662732939,"question_id":73663517,"body_markdown":"I&#39;m trying to diagnose convoluted multithreading operations in java.\r\nI want to use the debug perspective to do so, but I encounter the following issue :\r\n\r\nExpected behavior :\r\nWhen pausing a thread (through the Debug view), the &quot;Variables&quot; view should show the variables\r\nas seen by the thread I paused.\r\nUsing the Step over / step into operation multiple times should not modify variables in the thread.\r\n\r\nCode (Using java 17):\r\n```java\r\npackage fr.fgoux.debugbugdemo;\r\n\r\npublic class DebugDemoMain\r\n{\r\n    public int t;\r\n\r\n    public DebugDemoMain()\r\n    {\r\n        this.t = 0;\r\n    }\r\n\r\n    public static void main(final String[] args)\r\n    {\r\n        final DebugDemoMain demo = new DebugDemoMain();\r\n        final Thread t1 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run()\r\n            {\r\n                for (int i = 0; i &lt; 100; i++)\r\n                {\r\n                    try\r\n                    {\r\n                        Thread.sleep(5);\r\n                    } catch (final InterruptedException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                    demo.t++;\r\n                }\r\n                System.out.println(&quot;Write terminated&quot;);\r\n            }\r\n        });\r\n        final Thread t2 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run()\r\n            {\r\n                while (demo.t != 100)\r\n                {\r\n\r\n                }\r\n                System.out.println(&quot;READ terminated&quot;);\r\n            }\r\n        });\r\n        t1.start();\r\n        t2.start();\r\n        try\r\n        {\r\n            t1.join();\r\n            t2.join();\r\n        } catch (final InterruptedException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;END&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nBehavior :\r\nWhen I run this in debug mode, I get the output :\r\n```\r\nWrite terminated\r\n```\r\n\r\nAnd the other thread keeps running.\r\n\r\nIf I pause the running thread, the debugger shows me it&#39;s stuck at &quot;while (demo.t != 100)&quot;.\r\nBut the &quot;variables&quot; tab shows me t=100.\r\nIf I resume / pause this thread, it stays at the &quot;while (demo.t != 100)&quot; and keeps running.\r\n\r\nIf I press a step by step button, the thread execution line jumps out of the while loop, and then If I resume execution, the thread terminates with &quot;READ terminated&quot;.\r\n\r\nPersonnal interpretation : \r\n\r\nThe reading thread that does the &quot;demo.t != 100&quot; caches the variable demo.t so that it does not notice that the other thread changed demo.t value (which is expected since there is no synchronization). It cannot make progress.\r\n\r\nThe &quot;Variables&quot; view does not show locally cached variables of the thread, but only some global representation of the variables (maybe in the shared memory).\r\n\r\nThe step by step operations cause the thread to update it&#39;s cache from the shared memory.\r\n\r\nQuestion :\r\nIs there a better debugging tool that would allow me to show these cached variables and diagnose these issues ?","title":"Eclipse debug mode introduces unwanted synchronization","body":"<p>I'm trying to diagnose convoluted multithreading operations in java.\nI want to use the debug perspective to do so, but I encounter the following issue :</p>\n<p>Expected behavior :\nWhen pausing a thread (through the Debug view), the &quot;Variables&quot; view should show the variables\nas seen by the thread I paused.\nUsing the Step over / step into operation multiple times should not modify variables in the thread.</p>\n<p>Code (Using java 17):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.fgoux.debugbugdemo;\n\npublic class DebugDemoMain\n{\n    public int t;\n\n    public DebugDemoMain()\n    {\n        this.t = 0;\n    }\n\n    public static void main(final String[] args)\n    {\n        final DebugDemoMain demo = new DebugDemoMain();\n        final Thread t1 = new Thread(new Runnable() {\n\n            @Override\n            public void run()\n            {\n                for (int i = 0; i &lt; 100; i++)\n                {\n                    try\n                    {\n                        Thread.sleep(5);\n                    } catch (final InterruptedException e)\n                    {\n                        e.printStackTrace();\n                    }\n                    demo.t++;\n                }\n                System.out.println(&quot;Write terminated&quot;);\n            }\n        });\n        final Thread t2 = new Thread(new Runnable() {\n\n            @Override\n            public void run()\n            {\n                while (demo.t != 100)\n                {\n\n                }\n                System.out.println(&quot;READ terminated&quot;);\n            }\n        });\n        t1.start();\n        t2.start();\n        try\n        {\n            t1.join();\n            t2.join();\n        } catch (final InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;END&quot;);\n    }\n\n}\n</code></pre>\n<p>Behavior :\nWhen I run this in debug mode, I get the output :</p>\n<pre><code>Write terminated\n</code></pre>\n<p>And the other thread keeps running.</p>\n<p>If I pause the running thread, the debugger shows me it's stuck at &quot;while (demo.t != 100)&quot;.\nBut the &quot;variables&quot; tab shows me t=100.\nIf I resume / pause this thread, it stays at the &quot;while (demo.t != 100)&quot; and keeps running.</p>\n<p>If I press a step by step button, the thread execution line jumps out of the while loop, and then If I resume execution, the thread terminates with &quot;READ terminated&quot;.</p>\n<p>Personnal interpretation :</p>\n<p>The reading thread that does the &quot;demo.t != 100&quot; caches the variable demo.t so that it does not notice that the other thread changed demo.t value (which is expected since there is no synchronization). It cannot make progress.</p>\n<p>The &quot;Variables&quot; view does not show locally cached variables of the thread, but only some global representation of the variables (maybe in the shared memory).</p>\n<p>The step by step operations cause the thread to update it's cache from the shared memory.</p>\n<p>Question :\nIs there a better debugging tool that would allow me to show these cached variables and diagnose these issues ?</p>\n"},{"tags":["java","grails","statsd"],"answers":[{"tags":[],"owner":{"account_id":880306,"reputation":385,"user_id":223802,"display_name":"Sharebear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372316163,"creation_date":1372316163,"answer_id":17336494,"question_id":17243168,"body_markdown":"After sleeping on this for a week I think I&#39;m going to go ahead and use the existing grails StatsD plugin. The rationale for this being that although I could achieve a _similar_ effect using an Executor for handling concurrency, without using an object pool this would still be bound to a single client/socket instance, in theory a rather obvious bottleneck in the application. Therefore if I need a pool anyway, I may as well use one where someone else has done all the hard work :)","title":"Which StatsD client should I use for a java/grails project?","body":"<p>After sleeping on this for a week I think I'm going to go ahead and use the existing grails StatsD plugin. The rationale for this being that although I could achieve a <em>similar</em> effect using an Executor for handling concurrency, without using an object pool this would still be bound to a single client/socket instance, in theory a rather obvious bottleneck in the application. Therefore if I need a pool anyway, I may as well use one where someone else has done all the hard work :)</p>\n"},{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406740907,"creation_date":1399501349,"answer_id":23529524,"question_id":17243168,"body_markdown":"I came across [StatsD over SLF4J][1] during a similar search for a pure Java StatsD client and compared it to [Java StatsD Client][2], which you mentioned had several issues. Just based on reading the source, I came up with this breakdown relating to the issues.\r\n\r\n**EDIT:** the table below has been updated for version 3.0.1 of java-statsd-client in which many of the original issues have been addressed.\r\n\r\n&lt;pre&gt;\r\n                          |   java-statsd-client   |   statsd-over-slf4j\r\n——————————————————————————+————————————————————————+————————————————————\r\nmessages support sampling |          yes           |        yes\r\n——————————————————————————+————————————————————————+————————————————————\r\nactual sampling performed |   no, left to caller   | yes, using java.util.Random\r\n——————————————————————————+————————————————————————+————————————————————\r\nnonblocking impl worker   |  single daemon thread  | single daemon thread\r\n——————————————————————————+————————————————————————+————————————————————\r\nnonblocking impl queue    |       unbounded        | caller-specified bound\r\n——————————————————————————+————————————————————————+————————————————————\r\nString.format locale      |         none*          |     Locale.US\r\n——————————————————————————+————————————————————————+————————————————————\r\ncharset for message bytes |        UTF-8**         | default, can be overridden\r\n\r\n* no localisation is applied\r\n** this is the charset that StatsD reads with\r\n&lt;/pre&gt;\r\n\r\n  [1]: https://github.com/nzjess/statsd-over-slf4j\r\n  [2]: https://github.com/youdevise/java-statsd-client","title":"Which StatsD client should I use for a java/grails project?","body":"<p>I came across <a href=\"https://github.com/nzjess/statsd-over-slf4j\" rel=\"nofollow\">StatsD over SLF4J</a> during a similar search for a pure Java StatsD client and compared it to <a href=\"https://github.com/youdevise/java-statsd-client\" rel=\"nofollow\">Java StatsD Client</a>, which you mentioned had several issues. Just based on reading the source, I came up with this breakdown relating to the issues.</p>\n\n<p><strong>EDIT:</strong> the table below has been updated for version 3.0.1 of java-statsd-client in which many of the original issues have been addressed.</p>\n\n<pre>\n                          |   java-statsd-client   |   statsd-over-slf4j\n——————————————————————————+————————————————————————+————————————————————\nmessages support sampling |          yes           |        yes\n——————————————————————————+————————————————————————+————————————————————\nactual sampling performed |   no, left to caller   | yes, using java.util.Random\n——————————————————————————+————————————————————————+————————————————————\nnonblocking impl worker   |  single daemon thread  | single daemon thread\n——————————————————————————+————————————————————————+————————————————————\nnonblocking impl queue    |       unbounded        | caller-specified bound\n——————————————————————————+————————————————————————+————————————————————\nString.format locale      |         none*          |     Locale.US\n——————————————————————————+————————————————————————+————————————————————\ncharset for message bytes |        UTF-8**         | default, can be overridden\n\n* no localisation is applied\n** this is the charset that StatsD reads with\n</pre>\n"},{"tags":[],"owner":{"account_id":73256,"reputation":4752,"user_id":211070,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406561954,"creation_date":1406561954,"answer_id":24998877,"question_id":17243168,"body_markdown":"Speaking as the primary committer of the [java-statsd-client][1], as well as someone who uses this library in production, I&#39;d like to attempt to allay your fears regarding &quot;having an infinite queue that fills up my heap.&quot;\r\n\r\nI think you pretty much nailed it with your analysis of the Etsy StatsD client example when you said &quot;due to the fire and forget nature of sending UDP packets, this should happen quickly, avoiding the huge overhead that we usually associate with network connections.&quot;\r\n\r\nIt is my understanding that, the way that the java-statsd-client is currently implemented, the constraint for the build-up of a large queue of outbound messages is the speed of fire-and-forget UDP packet sending.  I&#39;m not an expert in this area, but I&#39;m unaware of any way in which this could block such that an infinite queue might build up.\r\n\r\nWhen you originally did your evaluation, there were a number of outstanding issues with the java-statsd-client (e.g. Locale/character encoding ambiguities, and a lack of sampling support), but these have recently been addressed.  What remains is the question of whether there is a genuine risk of filling up the heap.  I&#39;d be keen to hear thoughts from the community on this matter, and, if the consensus is that there is an issue, I would be delighted to explore the introduction of a limiting queue into the library.\r\n\r\n  [1]: https://github.com/tim-group/java-statsd-client","title":"Which StatsD client should I use for a java/grails project?","body":"<p>Speaking as the primary committer of the <a href=\"https://github.com/tim-group/java-statsd-client\">java-statsd-client</a>, as well as someone who uses this library in production, I'd like to attempt to allay your fears regarding \"having an infinite queue that fills up my heap.\"</p>\n\n<p>I think you pretty much nailed it with your analysis of the Etsy StatsD client example when you said \"due to the fire and forget nature of sending UDP packets, this should happen quickly, avoiding the huge overhead that we usually associate with network connections.\"</p>\n\n<p>It is my understanding that, the way that the java-statsd-client is currently implemented, the constraint for the build-up of a large queue of outbound messages is the speed of fire-and-forget UDP packet sending.  I'm not an expert in this area, but I'm unaware of any way in which this could block such that an infinite queue might build up.</p>\n\n<p>When you originally did your evaluation, there were a number of outstanding issues with the java-statsd-client (e.g. Locale/character encoding ambiguities, and a lack of sampling support), but these have recently been addressed.  What remains is the question of whether there is a genuine risk of filling up the heap.  I'd be keen to hear thoughts from the community on this matter, and, if the consensus is that there is an issue, I would be delighted to explore the introduction of a limiting queue into the library.</p>\n"}],"owner":{"account_id":880306,"reputation":385,"user_id":223802,"display_name":"Sharebear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7924,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":17336494,"answer_count":3,"score":20,"last_activity_date":1662827370,"creation_date":1371843882,"question_id":17243168,"body_markdown":"I&#39;m looking at adding StatsD data collection to my grails application and looking around at existing libraries and code has left me a little confused as to what would be a good scalable solution. To put the question into context a little I&#39;m working on an online gaming type project where I will naturally be monitoring user interactions with the game engine, these will naturally cluster around particular moments in time where X users will be performing interactions within the window of a second or two, then repeating after a 10-20 second pause.\r\n\r\nHere is my analysis of the options that are available today.\r\n\r\nEtsy StatsD client example\r\n==========================\r\n\r\nhttps://github.com/etsy/statsd/blob/master/examples/StatsdClient.java\r\n\r\nThe &quot;simplest thing that could possibly work&quot; solution, I could pull this class into my project and instanciate a singleton instance as a spring bean and use it directly. However after noticing that the grails-statsd plugin creates a pool of client instances I started wondering about the scalability of this approach.\r\n\r\nIt seems that the `doSend` method *could* become a bottleneck if many threads are trying to send events at the same time, however as I understand it, due to the fire and forget nature of sending UDP packets, this should happen quickly, avoiding the huge overhead that we usually associate with network connections.\r\n\r\ngrails-statsd plugin\r\n====================\r\n\r\nhttps://github.com/charliek/grails-statsd/\r\n\r\nSomeone has already created a StatsD plugin for grails that includes some nice features, such as the annotations and `withTimer` method. However I see that the implementation there is missing some bug fixes from the example implementation such as specifying the locale on calls to `String.format`. I&#39;m also not a huge fan of pulling in apache commons-pool just for this, when a standard Executor could achieve a similar effect.\r\n\r\njava-statsd-client\r\n==================\r\n\r\nhttps://github.com/tim-group/java-statsd-client/\r\n\r\nThis is an alternative pure java library that operates asynchronously by maintaining its own ExecutorService. It supports the entire StatsD API, including sets and sampling, but doesn&#39;t provide any hooks for configuring the thread pool and queue size. In the case of problems, for non-critical things such as monitoring, I think I would prefer a finite queue and losing events than having an infinite queue that fills up my heap.\r\n\r\nPlay statsd plugin\r\n==================\r\n\r\nhttps://github.com/vznet/play-statsd/\r\n\r\nNow I can&#39;t use this code directly in my grails project but I thought it was worth a look to see how things were implemented. Generally I love the way the code in `StatsdClient.scala` is built up, very clean and readable. Also appears to have the locale bug, but otherwise feature complete with the etsy sample. Interestingly, unless there is some scala magic that I&#39;ve not understood, this appears to create a new socket for each data point that is sent to StatsD. While this approach nicely avoids the necessity for an object pool or executor thread I can&#39;t imagine it&#39;s terribly efficient, potentially performing DNS lookups within the request thread that should be returning to the user as soon as possible.\r\n\r\nThe questions\r\n=============\r\n1. Judging by the fact that all the other implementations appear to have implemented another strategy for handling concurrency, can I assume that the Etsy example is a little too na&#239;ve for production use?\r\n1. Does my analysis here appear to be correct?\r\n1. What are other people using for statsd in java/groovy?\r\n\r\nSo far it looks like the best existing solution is the grails plugin as long as I can accept the commons-pool dependency, but right now I&#39;m seriously considering spending Sunday writing my own version that combines the best parts of each implementation.","title":"Which StatsD client should I use for a java/grails project?","body":"<p>I'm looking at adding StatsD data collection to my grails application and looking around at existing libraries and code has left me a little confused as to what would be a good scalable solution. To put the question into context a little I'm working on an online gaming type project where I will naturally be monitoring user interactions with the game engine, these will naturally cluster around particular moments in time where X users will be performing interactions within the window of a second or two, then repeating after a 10-20 second pause.</p>\n\n<p>Here is my analysis of the options that are available today.</p>\n\n<h1>Etsy StatsD client example</h1>\n\n<p><a href=\"https://github.com/etsy/statsd/blob/master/examples/StatsdClient.java\">https://github.com/etsy/statsd/blob/master/examples/StatsdClient.java</a></p>\n\n<p>The \"simplest thing that could possibly work\" solution, I could pull this class into my project and instanciate a singleton instance as a spring bean and use it directly. However after noticing that the grails-statsd plugin creates a pool of client instances I started wondering about the scalability of this approach.</p>\n\n<p>It seems that the <code>doSend</code> method <em>could</em> become a bottleneck if many threads are trying to send events at the same time, however as I understand it, due to the fire and forget nature of sending UDP packets, this should happen quickly, avoiding the huge overhead that we usually associate with network connections.</p>\n\n<h1>grails-statsd plugin</h1>\n\n<p><a href=\"https://github.com/charliek/grails-statsd/\">https://github.com/charliek/grails-statsd/</a></p>\n\n<p>Someone has already created a StatsD plugin for grails that includes some nice features, such as the annotations and <code>withTimer</code> method. However I see that the implementation there is missing some bug fixes from the example implementation such as specifying the locale on calls to <code>String.format</code>. I'm also not a huge fan of pulling in apache commons-pool just for this, when a standard Executor could achieve a similar effect.</p>\n\n<h1>java-statsd-client</h1>\n\n<p><a href=\"https://github.com/tim-group/java-statsd-client/\">https://github.com/tim-group/java-statsd-client/</a></p>\n\n<p>This is an alternative pure java library that operates asynchronously by maintaining its own ExecutorService. It supports the entire StatsD API, including sets and sampling, but doesn't provide any hooks for configuring the thread pool and queue size. In the case of problems, for non-critical things such as monitoring, I think I would prefer a finite queue and losing events than having an infinite queue that fills up my heap.</p>\n\n<h1>Play statsd plugin</h1>\n\n<p><a href=\"https://github.com/vznet/play-statsd/\">https://github.com/vznet/play-statsd/</a></p>\n\n<p>Now I can't use this code directly in my grails project but I thought it was worth a look to see how things were implemented. Generally I love the way the code in <code>StatsdClient.scala</code> is built up, very clean and readable. Also appears to have the locale bug, but otherwise feature complete with the etsy sample. Interestingly, unless there is some scala magic that I've not understood, this appears to create a new socket for each data point that is sent to StatsD. While this approach nicely avoids the necessity for an object pool or executor thread I can't imagine it's terribly efficient, potentially performing DNS lookups within the request thread that should be returning to the user as soon as possible.</p>\n\n<h1>The questions</h1>\n\n<ol>\n<li>Judging by the fact that all the other implementations appear to have implemented another strategy for handling concurrency, can I assume that the Etsy example is a little too naïve for production use?</li>\n<li>Does my analysis here appear to be correct?</li>\n<li>What are other people using for statsd in java/groovy?</li>\n</ol>\n\n<p>So far it looks like the best existing solution is the grails plugin as long as I can accept the commons-pool dependency, but right now I'm seriously considering spending Sunday writing my own version that combines the best parts of each implementation.</p>\n"},{"tags":["java","parsing","cup"],"answers":[{"tags":[],"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662825363,"creation_date":1662825363,"answer_id":73673233,"question_id":73670851,"body_markdown":"You need to get rid of those uses of `epsilon`. All of them. They are not contributing anything, and they are a huge source of conflicts.\r\n\r\nYou seem to be basing your grammar style on something vaguely similar to a top-down grammar, for no particular reason since Java CUP generates bottom-up parsers; trying to eliminate left-recursion is counter-productive. If you just wrote your grammar in a natural style, it would be easier to read, easier to maintain, more efficient and less prone to parsing conflicts. In addition, since you have not attempted to left-factor, your grammar cannot be used for top-down parsing either.\r\n\r\nThe usual way of writing a grammar for a list is as follows:\r\n```none\r\nx_list ::= x\r\n         | x_list x;\r\n```\r\nThat assumes that `x` is not nullable --cannot derive ε-- and that the list is required. If the list is not required in some context, you should write two rules for that context, one with the list and one without. So you might end up with something like this:\r\n```none\r\nfunctionBody ::= declarationList statementList\r\n               | statementList\r\n               | declarationList;\r\n```\r\nrather than making the two lists nullable. \r\n\r\nThat&#39;s not always necessary, but it&#39;s safer. You can get away with nullable lists when the repeated elements are distinguished by their first token, but that is often not the case. In your grammar, for example, both `sentencia` and `declaracionVariable` can start with `ID`, which is precisely the problem that leads to your shift-reduce conflict.\r\n\r\nTo see that, let&#39;s rewrite the above using optional lists:\r\n```none\r\ndeclaracionListaOpcional ::= declaracionLista | epsilon;\r\nsentenciaListaOpcional ::= sentenciaLista | epsilon;\r\ncuerpoDeFuncion ::= declaracionListaOpcional sentenciaListaOpcional;\r\n```\r\nNow, what happens when the parser sees `ID`? It cannot know whether that&#39;s the start of a declaration or a statement. But it has to make that decision immediately, in order to know whether to create an empty declaration list. If it doesn&#39;t create the empty list immediately, it won&#39;t be able to do so later, when it sees the token after the `ID`, because the rule is that reductions must be made exactly at the end of the rule, not retroactively.\r\n\r\nA top-down parser wouldn&#39;t be able to handle this conflict. You&#39;d have to left factor in order to create something which starts with `ID` and encompasses both possibilities. Fortunately, that&#39;s not necessary because bottom-up parsers can defer the decision until the end if the rule. So when we write (as above):\r\n```none\r\ncuerpoDeFuncion ::= declarationLista sentenciaLista\r\n               | sentenciaLista\r\n               | declarationLista;\r\n```\r\nthe bottom-up parser reads the `ID` and keeps all of the rules active. It doesn&#39;t have to decide right away, because no rule has ended.","title":"Java CUP (Parser) produces a shift/reduce conflict when the type of a variable is user defined","body":"<p>You need to get rid of those uses of <code>epsilon</code>. All of them. They are not contributing anything, and they are a huge source of conflicts.</p>\n<p>You seem to be basing your grammar style on something vaguely similar to a top-down grammar, for no particular reason since Java CUP generates bottom-up parsers; trying to eliminate left-recursion is counter-productive. If you just wrote your grammar in a natural style, it would be easier to read, easier to maintain, more efficient and less prone to parsing conflicts. In addition, since you have not attempted to left-factor, your grammar cannot be used for top-down parsing either.</p>\n<p>The usual way of writing a grammar for a list is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>x_list ::= x\n         | x_list x;\n</code></pre>\n<p>That assumes that <code>x</code> is not nullable --cannot derive ε-- and that the list is required. If the list is not required in some context, you should write two rules for that context, one with the list and one without. So you might end up with something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>functionBody ::= declarationList statementList\n               | statementList\n               | declarationList;\n</code></pre>\n<p>rather than making the two lists nullable.</p>\n<p>That's not always necessary, but it's safer. You can get away with nullable lists when the repeated elements are distinguished by their first token, but that is often not the case. In your grammar, for example, both <code>sentencia</code> and <code>declaracionVariable</code> can start with <code>ID</code>, which is precisely the problem that leads to your shift-reduce conflict.</p>\n<p>To see that, let's rewrite the above using optional lists:</p>\n<pre class=\"lang-none prettyprint-override\"><code>declaracionListaOpcional ::= declaracionLista | epsilon;\nsentenciaListaOpcional ::= sentenciaLista | epsilon;\ncuerpoDeFuncion ::= declaracionListaOpcional sentenciaListaOpcional;\n</code></pre>\n<p>Now, what happens when the parser sees <code>ID</code>? It cannot know whether that's the start of a declaration or a statement. But it has to make that decision immediately, in order to know whether to create an empty declaration list. If it doesn't create the empty list immediately, it won't be able to do so later, when it sees the token after the <code>ID</code>, because the rule is that reductions must be made exactly at the end of the rule, not retroactively.</p>\n<p>A top-down parser wouldn't be able to handle this conflict. You'd have to left factor in order to create something which starts with <code>ID</code> and encompasses both possibilities. Fortunately, that's not necessary because bottom-up parsers can defer the decision until the end if the rule. So when we write (as above):</p>\n<pre class=\"lang-none prettyprint-override\"><code>cuerpoDeFuncion ::= declarationLista sentenciaLista\n               | sentenciaLista\n               | declarationLista;\n</code></pre>\n<p>the bottom-up parser reads the <code>ID</code> and keeps all of the rules active. It doesn't have to decide right away, because no rule has ended.</p>\n"}],"owner":{"account_id":18824795,"reputation":1,"user_id":13729976,"display_name":"Aar&#243;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662825363,"creation_date":1662803585,"question_id":73670851,"body_markdown":"My grammar needs to have custom types defined by the user, but the problem is that when I add ```tvariable ::= ENTERO | ID``` it generates the following:\r\n\r\n```\r\n[cup] Warning : *** Shift/Reduce conflict found in state #21\r\n      [cup]   between epsilon ::= (*) \r\n      [cup]   and     tvariable ::= (*) ID \r\n      [cup]   under symbol ID\r\n      [cup]   Resolved in favor of shifting.\r\n      [cup] Warning : *** Shift/Reduce conflict found in state #24\r\n      [cup]   between epsilon ::= (*) \r\n      [cup]   and     tvariable ::= (*) ID \r\n      [cup]   under symbol ID\r\n      [cup]   Resolved in favor of shifting.\r\n      [cup]   Checking for non-reduced productions...\r\n      [cup] Error : *** More conflicts encountered than expected -- parser generation aborted\r\n```\r\n\r\n```\r\npackage compiler.syntax;\r\n\r\n// Declaracion de importaciones \r\n//(No modificar las proporcionadas. Se pueden agregar mas)\r\n\r\nimport java_cup.runtime.Symbol;\r\nimport java.util.*;\r\n\r\nimport es.uned.lsi.compiler.lexical.*;\r\nimport es.uned.lsi.compiler.code.*;\r\nimport es.uned.lsi.compiler.intermediate.*;\r\nimport es.uned.lsi.compiler.semantic.*;\r\nimport es.uned.lsi.compiler.semantic.symbol.*;\r\nimport es.uned.lsi.compiler.semantic.type.*;\r\nimport es.uned.lsi.compiler.syntax.*;\r\n\r\nimport compiler.CompilerContext;\r\nimport compiler.lexical.*;\r\nimport compiler.syntax.nonTerminal.*;\r\n\r\nimport compiler.semantic.symbol.*;\r\nimport compiler.semantic.type.*;\r\nimport compiler.intermediate.*;\r\nimport compiler.code.*;\r\n\r\n// Declaracion del codigo de usuario\r\n\r\naction code {:\r\n\t\r\n\tSyntaxErrorManager   syntaxErrorManager   = CompilerContext.getSyntaxErrorManager();\r\n\tSemanticErrorManager semanticErrorManager = CompilerContext.getSemanticErrorManager ();\r\n\tScopeManagerIF       scopeManager         = CompilerContext.getScopeManager ();\r\n\tFinalCodeFactoryIF   finalCodeFactory     = CompilerContext.getFinalCodeFactory ();\r\n\r\n:}\t\r\n\r\nparser code {:\r\n\tSyntaxErrorManager syntaxErrorManager = CompilerContext.getSyntaxErrorManager();\r\n\t\r\n\tpublic void syntax_error(Symbol symbol)\r\n\t{ \r\n\t    Token token = (Token) symbol.value;\r\n\t    syntaxErrorManager.syntaxError (&quot;Error sintactico&quot;, token);\t    \r\n\t}\r\n\t\t\r\n\tpublic void unrecovered_syntax_error(java_cup.runtime.Symbol symbol)\r\n\t{\t\r\n\t    Token token = (Token) symbol.value;\r\n\t    syntaxErrorManager.syntaxFatalError (&quot;Error fatal&quot;, token);\r\n\t}\r\n:}\r\n\r\n// Declaracion de terminales (Ejemplo)\r\n\r\nterminal Token PLUS;\r\nterminal Token MULT;\r\nterminal Token MENOR;\r\nterminal Token IGUAL;\r\nterminal Token AND;\r\nterminal Token NOT;\r\nterminal Token AUTOINCREMENTO;\r\nterminal Token ASIGNACION;\r\nterminal Token ASIGNACION_CON_SUMA;\r\nterminal Token ABRIR_PARENTESIS;\r\nterminal Token CERRAR_PARENTESIS;\r\nterminal Token ABRIR_BRACKET;\r\nterminal Token CERRAR_BRACKET;\r\nterminal Token COMA;\r\nterminal Token PUNTO_COMA;\r\nterminal Token DOS_PUNTOS;\r\nterminal Token ABRIR_LLAVE;\r\nterminal Token CERRAR_LLAVE;\r\nterminal Token CASO;\r\nterminal Token CONSTANTE;\r\nterminal Token CORTE;\r\nterminal Token ENTERO;\r\nterminal Token ESCRIBE;\r\nterminal Token ESCRIBE_ENT;\r\nterminal Token ALTERNATIVAS;\r\nterminal Token MIENTRAS;\r\nterminal Token PORDEFECTO;\r\nterminal Token PRINCIPAL;\r\nterminal Token DEVUELVE;\r\nterminal Token SI;\r\nterminal Token SINO;\r\nterminal Token TIPO;\r\nterminal Token VACIO;\r\nterminal Token DIGITOS;\r\nterminal Token LIT_INTEGER;\r\nterminal Token ID;\r\n//terminal Token CONST;\r\nterminal Token CADENA_CARACTERES;\r\nterminal Token CADENA;\r\n// ...\r\n\r\n\r\n// Declaracion de no terminales\r\n// no modificar los propuestos\r\n\r\nnon terminal  \t\t\tprogram;\r\nnon terminal Axiom\t\taxiom;\r\nnon terminal\t\t\tepsilon;\r\nnon terminal\t\t\tdeclaraciones;\r\n\r\n\r\nnon terminal\t\t\tdeclaracionConstantes;\r\nnon terminal\t\t\tconstantes;\r\nnon terminal\t\t\tconstante;\r\nnon terminal\t\t\tfconstante;\r\n\r\nnon terminal\t\t\tdeclaracionVariables;\r\nnon terminal\t\t\tvariables;\r\nnon terminal\t\t\ttdvariable;\r\nnon terminal\t\t\tftdvariable;\r\nnon terminal\t\t\ttvariable;\r\nnon terminal\t\t\tdvariable;\r\nnon terminal\t\t\tFid;\r\nnon terminal\t\t\tasigvariable;\r\nnon terminal\t\t\tfasigvariable;\r\n\r\nnon terminal\t\t\tvector;\r\n\r\nnon terminal\t\t\texpresion;\r\nnon terminal\t\t\texpresion2;\r\nnon terminal\t\t\texpresion3;\r\nnon terminal\t\t\texpresion4;\r\nnon terminal\t\t\texpresion5;\r\nnon terminal\t\t\texpresion6;\r\nnon terminal\t\t\texpAutoincremento;\r\n\r\nnon terminal\t\t\tsentencias;\r\nnon terminal\t\t\tsentencia;\r\nnon terminal\t\t\tsentenciaDevuelve;\r\nnon terminal\t\t\tsentenciaSalida;\r\nnon terminal\t\t\tsentenciaAsignacion;\r\nnon terminal\t\t\tsentenciaSuma;\r\nnon terminal\t\t\tsentenciaAutoincremento;\r\nnon terminal\t\t\tcadenaSalida;\r\nnon terminal\t\t\tsentenciaSalidaEnt;\r\nnon terminal\t\t\tcadenaSalidaEnt;\r\nnon terminal\t\t\ttipoReferencia;\r\n\r\nnon terminal\t\t\tfuncionPrincipal;\r\n// ...\r\n\r\n\r\n// Declaracion de relaciones de precedencia\r\nprecedence left\t\t\tPLUS, MULT, MENOR, AND, NOT, AUTOINCREMENTO, IGUAL, COMA, ABRIR_BRACKET, \r\n\t\t\t\t\t\tCERRAR_BRACKET, ABRIR_PARENTESIS, CERRAR_PARENTESIS;\r\n\r\n\r\n// Declaraci&#239;&#191;&#189;n de reglas de produccion\r\n\r\n\r\nstart with program;\r\n\r\nprogram ::= \r\n  {: \r\n        syntaxErrorManager.syntaxInfo (&quot;Starting parsing...&quot;); \r\n   :}\r\n  axiom:ax\r\n  {:   \t\t\r\n  \t\t\r\n  \t\tsyntaxErrorManager.syntaxInfo (&quot;Parsing process ended.&quot;);\r\n   :};\r\n\r\naxiom ::= funcionPrincipal;\r\n   \r\nepsilon ::= ;\r\n\r\ndeclaraciones ::= declaracionConstantes;\r\n\r\n// DECLARACION DE CONSTANTES\r\ndeclaracionConstantes ::= constantes | epsilon  {: syntaxErrorManager.syntaxInfo (&quot;Reconocida una declaraci&#243;n de CONSTANTE&quot;); :};\r\nconstantes ::= constante fconstante;\r\nfconstante ::= constantes | epsilon;\r\nconstante ::= CONSTANTE ID DIGITOS PUNTO_COMA;\r\n\r\n// DECLARACION DE VARIABLES\r\ndeclaracionVariables ::= variables | epsilon;\r\nvariables ::= tdvariable ftdvariable;\r\nftdvariable ::= variables | epsilon;\r\ntdvariable ::= tvariable dvariable;\r\ntvariable ::= ENTERO | ID;\r\ndvariable ::= ID Fid;\r\nFid ::= asigvariable fasigvariable;\r\nfasigvariable ::= PUNTO_COMA | COMA dvariable;\r\nasigvariable ::= ASIGNACION DIGITOS | epsilon;\r\n\r\n// DECLARACION DE FUNCIONES\r\n// Funcion principal\r\nfuncionPrincipal ::= declaraciones VACIO PRINCIPAL ABRIR_PARENTESIS CERRAR_PARENTESIS ABRIR_LLAVE declaracionVariables sentencias CERRAR_LLAVE;\r\n\r\n// EXPRESIONES\r\nexpresion ::= DIGITOS | ID | expresion2;\r\nexpresion2 ::= expresion PLUS expresion | expresion3;\r\nexpresion3 ::= expresion IGUAL expresion | expresion4;\r\nexpresion4 ::= expresion MULT expresion | expresion5;\r\nexpresion5 ::= expAutoincremento | expresion6;\r\nexpresion6 ::= ABRIR_PARENTESIS expresion CERRAR_PARENTESIS;\r\n\r\n// Expresi&#243;n vectorial\r\nvector ::= ID ABRIR_BRACKET expresion CERRAR_BRACKET;\r\n\r\n// Expresi&#243;n autoincremento\r\nexpAutoincremento ::= tipoReferencia AUTOINCREMENTO;\r\n\r\n\r\n// SENTENCIAS\r\nsentencias ::= sentencia sentencias | epsilon;\r\nsentencia ::= sentenciaDevuelve\r\n\t\t\t| sentenciaSalidaEnt\r\n\t\t\t| sentenciaSalida\r\n\t\t\t| sentenciaAsignacion\r\n\t\t\t| sentenciaSuma\r\n\t\t\t| sentenciaAutoincremento;\r\n\r\n// SENTENCIA DEVUELVE\r\nsentenciaDevuelve ::= DEVUELVE PUNTO_COMA;\r\n\r\n// SENTENCIA SALIDA\r\nsentenciaSalida ::= ESCRIBE ABRIR_PARENTESIS cadenaSalida CERRAR_PARENTESIS PUNTO_COMA {: syntaxErrorManager.syntaxInfo (&quot;Reconocida una sentencia de SALIDA&quot;); :};\r\ncadenaSalida ::= CADENA | epsilon;\r\nsentenciaSalidaEnt ::= ESCRIBE_ENT ABRIR_PARENTESIS cadenaSalidaEnt CERRAR_PARENTESIS PUNTO_COMA;\r\ncadenaSalidaEnt ::= expresion | epsilon;\r\n\r\n// SENTENCIA ASIGNACION\r\nsentenciaAsignacion ::= tipoReferencia ASIGNACION expresion PUNTO_COMA;\r\ntipoReferencia ::= vector | ID;\r\n\r\n// SENTENCIA ASIGNACION CON SUMA\r\nsentenciaSuma ::= tipoReferencia ASIGNACION_CON_SUMA expresion PUNTO_COMA;\r\n\r\n// SENTENCIA AUTOINCREMENTO\r\nsentenciaAutoincremento ::= expAutoincremento PUNTO_COMA;\r\n\r\n```\r\n\r\nI&#39;ve tried everything that came into mind, but it doesn&#39;t seem to work. If I remove the ID from ```tvariable ::= ENTERO | ID``` and just define ```tvariable ::= ENTERO``` it works just fine, but I need the user defined types.","title":"Java CUP (Parser) produces a shift/reduce conflict when the type of a variable is user defined","body":"<p>My grammar needs to have custom types defined by the user, but the problem is that when I add <code>tvariable ::= ENTERO | ID</code> it generates the following:</p>\n<pre><code>[cup] Warning : *** Shift/Reduce conflict found in state #21\n      [cup]   between epsilon ::= (*) \n      [cup]   and     tvariable ::= (*) ID \n      [cup]   under symbol ID\n      [cup]   Resolved in favor of shifting.\n      [cup] Warning : *** Shift/Reduce conflict found in state #24\n      [cup]   between epsilon ::= (*) \n      [cup]   and     tvariable ::= (*) ID \n      [cup]   under symbol ID\n      [cup]   Resolved in favor of shifting.\n      [cup]   Checking for non-reduced productions...\n      [cup] Error : *** More conflicts encountered than expected -- parser generation aborted\n</code></pre>\n<pre><code>package compiler.syntax;\n\n// Declaracion de importaciones \n//(No modificar las proporcionadas. Se pueden agregar mas)\n\nimport java_cup.runtime.Symbol;\nimport java.util.*;\n\nimport es.uned.lsi.compiler.lexical.*;\nimport es.uned.lsi.compiler.code.*;\nimport es.uned.lsi.compiler.intermediate.*;\nimport es.uned.lsi.compiler.semantic.*;\nimport es.uned.lsi.compiler.semantic.symbol.*;\nimport es.uned.lsi.compiler.semantic.type.*;\nimport es.uned.lsi.compiler.syntax.*;\n\nimport compiler.CompilerContext;\nimport compiler.lexical.*;\nimport compiler.syntax.nonTerminal.*;\n\nimport compiler.semantic.symbol.*;\nimport compiler.semantic.type.*;\nimport compiler.intermediate.*;\nimport compiler.code.*;\n\n// Declaracion del codigo de usuario\n\naction code {:\n    \n    SyntaxErrorManager   syntaxErrorManager   = CompilerContext.getSyntaxErrorManager();\n    SemanticErrorManager semanticErrorManager = CompilerContext.getSemanticErrorManager ();\n    ScopeManagerIF       scopeManager         = CompilerContext.getScopeManager ();\n    FinalCodeFactoryIF   finalCodeFactory     = CompilerContext.getFinalCodeFactory ();\n\n:}  \n\nparser code {:\n    SyntaxErrorManager syntaxErrorManager = CompilerContext.getSyntaxErrorManager();\n    \n    public void syntax_error(Symbol symbol)\n    { \n        Token token = (Token) symbol.value;\n        syntaxErrorManager.syntaxError (&quot;Error sintactico&quot;, token);     \n    }\n        \n    public void unrecovered_syntax_error(java_cup.runtime.Symbol symbol)\n    {   \n        Token token = (Token) symbol.value;\n        syntaxErrorManager.syntaxFatalError (&quot;Error fatal&quot;, token);\n    }\n:}\n\n// Declaracion de terminales (Ejemplo)\n\nterminal Token PLUS;\nterminal Token MULT;\nterminal Token MENOR;\nterminal Token IGUAL;\nterminal Token AND;\nterminal Token NOT;\nterminal Token AUTOINCREMENTO;\nterminal Token ASIGNACION;\nterminal Token ASIGNACION_CON_SUMA;\nterminal Token ABRIR_PARENTESIS;\nterminal Token CERRAR_PARENTESIS;\nterminal Token ABRIR_BRACKET;\nterminal Token CERRAR_BRACKET;\nterminal Token COMA;\nterminal Token PUNTO_COMA;\nterminal Token DOS_PUNTOS;\nterminal Token ABRIR_LLAVE;\nterminal Token CERRAR_LLAVE;\nterminal Token CASO;\nterminal Token CONSTANTE;\nterminal Token CORTE;\nterminal Token ENTERO;\nterminal Token ESCRIBE;\nterminal Token ESCRIBE_ENT;\nterminal Token ALTERNATIVAS;\nterminal Token MIENTRAS;\nterminal Token PORDEFECTO;\nterminal Token PRINCIPAL;\nterminal Token DEVUELVE;\nterminal Token SI;\nterminal Token SINO;\nterminal Token TIPO;\nterminal Token VACIO;\nterminal Token DIGITOS;\nterminal Token LIT_INTEGER;\nterminal Token ID;\n//terminal Token CONST;\nterminal Token CADENA_CARACTERES;\nterminal Token CADENA;\n// ...\n\n\n// Declaracion de no terminales\n// no modificar los propuestos\n\nnon terminal            program;\nnon terminal Axiom      axiom;\nnon terminal            epsilon;\nnon terminal            declaraciones;\n\n\nnon terminal            declaracionConstantes;\nnon terminal            constantes;\nnon terminal            constante;\nnon terminal            fconstante;\n\nnon terminal            declaracionVariables;\nnon terminal            variables;\nnon terminal            tdvariable;\nnon terminal            ftdvariable;\nnon terminal            tvariable;\nnon terminal            dvariable;\nnon terminal            Fid;\nnon terminal            asigvariable;\nnon terminal            fasigvariable;\n\nnon terminal            vector;\n\nnon terminal            expresion;\nnon terminal            expresion2;\nnon terminal            expresion3;\nnon terminal            expresion4;\nnon terminal            expresion5;\nnon terminal            expresion6;\nnon terminal            expAutoincremento;\n\nnon terminal            sentencias;\nnon terminal            sentencia;\nnon terminal            sentenciaDevuelve;\nnon terminal            sentenciaSalida;\nnon terminal            sentenciaAsignacion;\nnon terminal            sentenciaSuma;\nnon terminal            sentenciaAutoincremento;\nnon terminal            cadenaSalida;\nnon terminal            sentenciaSalidaEnt;\nnon terminal            cadenaSalidaEnt;\nnon terminal            tipoReferencia;\n\nnon terminal            funcionPrincipal;\n// ...\n\n\n// Declaracion de relaciones de precedencia\nprecedence left         PLUS, MULT, MENOR, AND, NOT, AUTOINCREMENTO, IGUAL, COMA, ABRIR_BRACKET, \n                        CERRAR_BRACKET, ABRIR_PARENTESIS, CERRAR_PARENTESIS;\n\n\n// Declaraciï¿½n de reglas de produccion\n\n\nstart with program;\n\nprogram ::= \n  {: \n        syntaxErrorManager.syntaxInfo (&quot;Starting parsing...&quot;); \n   :}\n  axiom:ax\n  {:        \n        \n        syntaxErrorManager.syntaxInfo (&quot;Parsing process ended.&quot;);\n   :};\n\naxiom ::= funcionPrincipal;\n   \nepsilon ::= ;\n\ndeclaraciones ::= declaracionConstantes;\n\n// DECLARACION DE CONSTANTES\ndeclaracionConstantes ::= constantes | epsilon  {: syntaxErrorManager.syntaxInfo (&quot;Reconocida una declaración de CONSTANTE&quot;); :};\nconstantes ::= constante fconstante;\nfconstante ::= constantes | epsilon;\nconstante ::= CONSTANTE ID DIGITOS PUNTO_COMA;\n\n// DECLARACION DE VARIABLES\ndeclaracionVariables ::= variables | epsilon;\nvariables ::= tdvariable ftdvariable;\nftdvariable ::= variables | epsilon;\ntdvariable ::= tvariable dvariable;\ntvariable ::= ENTERO | ID;\ndvariable ::= ID Fid;\nFid ::= asigvariable fasigvariable;\nfasigvariable ::= PUNTO_COMA | COMA dvariable;\nasigvariable ::= ASIGNACION DIGITOS | epsilon;\n\n// DECLARACION DE FUNCIONES\n// Funcion principal\nfuncionPrincipal ::= declaraciones VACIO PRINCIPAL ABRIR_PARENTESIS CERRAR_PARENTESIS ABRIR_LLAVE declaracionVariables sentencias CERRAR_LLAVE;\n\n// EXPRESIONES\nexpresion ::= DIGITOS | ID | expresion2;\nexpresion2 ::= expresion PLUS expresion | expresion3;\nexpresion3 ::= expresion IGUAL expresion | expresion4;\nexpresion4 ::= expresion MULT expresion | expresion5;\nexpresion5 ::= expAutoincremento | expresion6;\nexpresion6 ::= ABRIR_PARENTESIS expresion CERRAR_PARENTESIS;\n\n// Expresión vectorial\nvector ::= ID ABRIR_BRACKET expresion CERRAR_BRACKET;\n\n// Expresión autoincremento\nexpAutoincremento ::= tipoReferencia AUTOINCREMENTO;\n\n\n// SENTENCIAS\nsentencias ::= sentencia sentencias | epsilon;\nsentencia ::= sentenciaDevuelve\n            | sentenciaSalidaEnt\n            | sentenciaSalida\n            | sentenciaAsignacion\n            | sentenciaSuma\n            | sentenciaAutoincremento;\n\n// SENTENCIA DEVUELVE\nsentenciaDevuelve ::= DEVUELVE PUNTO_COMA;\n\n// SENTENCIA SALIDA\nsentenciaSalida ::= ESCRIBE ABRIR_PARENTESIS cadenaSalida CERRAR_PARENTESIS PUNTO_COMA {: syntaxErrorManager.syntaxInfo (&quot;Reconocida una sentencia de SALIDA&quot;); :};\ncadenaSalida ::= CADENA | epsilon;\nsentenciaSalidaEnt ::= ESCRIBE_ENT ABRIR_PARENTESIS cadenaSalidaEnt CERRAR_PARENTESIS PUNTO_COMA;\ncadenaSalidaEnt ::= expresion | epsilon;\n\n// SENTENCIA ASIGNACION\nsentenciaAsignacion ::= tipoReferencia ASIGNACION expresion PUNTO_COMA;\ntipoReferencia ::= vector | ID;\n\n// SENTENCIA ASIGNACION CON SUMA\nsentenciaSuma ::= tipoReferencia ASIGNACION_CON_SUMA expresion PUNTO_COMA;\n\n// SENTENCIA AUTOINCREMENTO\nsentenciaAutoincremento ::= expAutoincremento PUNTO_COMA;\n\n</code></pre>\n<p>I've tried everything that came into mind, but it doesn't seem to work. If I remove the ID from <code>tvariable ::= ENTERO | ID</code> and just define <code>tvariable ::= ENTERO</code> it works just fine, but I need the user defined types.</p>\n"},{"tags":["java","reflection","string-pool"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1662670649,"post_id":73654810,"comment_id":130066214,"body_markdown":"Strangely, in the case where `newString` is `var`, you get &quot;A string&quot; only if `input` is `final`.","body":"Strangely, in the case where <code>newString</code> is <code>var</code>, you get &quot;A string&quot; only if <code>input</code> is <code>final</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1662671392,"post_id":73654810,"comment_id":130066395,"body_markdown":"Hmm... very strange... [here (`ideone.com`)](https://ideone.com/yr5wgA) is a Java 11 version, without JUnit&#39;s `assertEquals(...)`, showing the same behaviour.","body":"Hmm... very strange... <a href=\"https://ideone.com/yr5wgA\" rel=\"nofollow noreferrer\">here (<code>ideone.com</code>)</a> is a Java 11 version, without JUnit&#39;s <code>assertEquals(...)</code>, showing the same behaviour."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1662671795,"post_id":73654810,"comment_id":130066487,"body_markdown":"Also added @rgettman&#39;s observation to this test case.","body":"Also added @rgettman&#39;s observation to this test case."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1662726576,"post_id":73654810,"comment_id":130078723,"body_markdown":"according to the bug report analysis, it sounds like the bug is that `input` has an internal type like `constant string &quot;A string&quot;` (which helps optimizations) instead of just `String`. Then, the compiler figures that `newString` is also an instance of `constant string &quot;A string&quot;`. Writing String forces it to be String type.","body":"according to the bug report analysis, it sounds like the bug is that <code>input</code> has an internal type like <code>constant string &quot;A string&quot;</code> (which helps optimizations) instead of just <code>String</code>. Then, the compiler figures that <code>newString</code> is also an instance of <code>constant string &quot;A string&quot;</code>. Writing String forces it to be String type."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1662674520,"creation_date":1662672160,"answer_id":73655162,"question_id":73654810,"body_markdown":"Java17, same problem. The explanation is clearly: bug.\r\n\r\ndecompiling it, the relevant section:\r\n\r\n```\r\n        20: anewarray     #2                  // class java/lang/Object\r\n        23: invokevirtual #35                 // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;\r\n        26: checkcast     #41                 // class java/lang/String\r\n        29: astore        4\r\n        31: ldc           #23                 // String A string\r\n        33: ldc           #23                 // String A string\r\n        35: invokevirtual #43                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n```\r\n\r\n`astore 4` is where the result goes, which is nowhere: slot 4 is not used any further. Instead, the same string constant is loaded twice, trivially resulting in, effectively, `&quot;A string&quot;.equals(&quot;A string&quot;)`, which is of course `true`.\r\n\r\nReplacing `var` with String, recompiling, and rerunning `javap`:\r\n\r\n```\r\n        20: anewarray     #2                  // class java/lang/Object\r\n        23: invokevirtual #35                 // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;\r\n        26: checkcast     #41                 // class java/lang/String\r\n        29: astore        4\r\n        31: ldc           #23                 // String A string\r\n        33: aload         4\r\n        35: invokevirtual #43                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n```\r\n\r\nIdentical in every way, except the second `ldc` is the correct `aload 4`.\r\n\r\nI&#39;m having a hard time figuring out what&#39;s happening here. It feels more like the `var` is somehow causing that `ldc` to duplicate (in contrast to an analysis incorrectly thinking that the values are guaranteed to be identical; javac intentionally does very little such optimizations).\r\n\r\nI&#39;m having a _really_ hard time figuring out how this has been in __2__ LTS releases. Impressive find.\r\n\r\nNext step is to verify on the [latest JDK (18)](https://jdk.java.net/18/), and then to [file a bug](https://bugs.java.com/bugdatabase/). I did a quick look if it has been reported already, but I&#39;m not sure what search terms to use. I didn&#39;t find any report in my search, though.\r\n\r\nNB: The decompilation traces were produced using `javap -c -v NewInstanceUsingReflection`.\r\n\r\nEDIT: Just tried on ecj (`Eclipse Compiler for Java(TM) v20210223-0522, 3.25.0, Copyright IBM Corp 2000, 2020. All rights reserved.`) - bug doesn&#39;t happen there.","title":"Why does String creation using `newInstance()` method behave different when using `var` compared to using explicit type `String`?","body":"<p>Java17, same problem. The explanation is clearly: bug.</p>\n<p>decompiling it, the relevant section:</p>\n<pre><code>        20: anewarray     #2                  // class java/lang/Object\n        23: invokevirtual #35                 // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;\n        26: checkcast     #41                 // class java/lang/String\n        29: astore        4\n        31: ldc           #23                 // String A string\n        33: ldc           #23                 // String A string\n        35: invokevirtual #43                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n</code></pre>\n<p><code>astore 4</code> is where the result goes, which is nowhere: slot 4 is not used any further. Instead, the same string constant is loaded twice, trivially resulting in, effectively, <code>&quot;A string&quot;.equals(&quot;A string&quot;)</code>, which is of course <code>true</code>.</p>\n<p>Replacing <code>var</code> with String, recompiling, and rerunning <code>javap</code>:</p>\n<pre><code>        20: anewarray     #2                  // class java/lang/Object\n        23: invokevirtual #35                 // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;\n        26: checkcast     #41                 // class java/lang/String\n        29: astore        4\n        31: ldc           #23                 // String A string\n        33: aload         4\n        35: invokevirtual #43                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n</code></pre>\n<p>Identical in every way, except the second <code>ldc</code> is the correct <code>aload 4</code>.</p>\n<p>I'm having a hard time figuring out what's happening here. It feels more like the <code>var</code> is somehow causing that <code>ldc</code> to duplicate (in contrast to an analysis incorrectly thinking that the values are guaranteed to be identical; javac intentionally does very little such optimizations).</p>\n<p>I'm having a <em>really</em> hard time figuring out how this has been in <strong>2</strong> LTS releases. Impressive find.</p>\n<p>Next step is to verify on the <a href=\"https://jdk.java.net/18/\" rel=\"noreferrer\">latest JDK (18)</a>, and then to <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"noreferrer\">file a bug</a>. I did a quick look if it has been reported already, but I'm not sure what search terms to use. I didn't find any report in my search, though.</p>\n<p>NB: The decompilation traces were produced using <code>javap -c -v NewInstanceUsingReflection</code>.</p>\n<p>EDIT: Just tried on ecj (<code>Eclipse Compiler for Java(TM) v20210223-0522, 3.25.0, Copyright IBM Corp 2000, 2020. All rights reserved.</code>) - bug doesn't happen there.</p>\n"}],"owner":{"account_id":26284874,"reputation":583,"user_id":19952766,"display_name":"hanszt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2229,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":73655162,"answer_count":1,"score":71,"last_activity_date":1662825356,"creation_date":1662669590,"question_id":73654810,"body_markdown":"I am learning about reflection in Java. By accident, I discovered the following, for me unexpected behavior.\r\n\r\nBoth tests as written below succeed.\r\n\r\n```java\r\nclass NewInstanceUsingReflection {\r\n    @Test\r\n    void testClassNewInstance()\r\n        throws NoSuchMethodException, InvocationTargetException,\r\n        InstantiationException, IllegalAccessException\r\n    {\r\n        final var input = &quot;A string&quot;;\r\n        final var theClass = input.getClass();\r\n        final var constructor = theClass.getConstructor();\r\n        final String newString = constructor.newInstance();\r\n\r\n        assertEquals(&quot;&quot;, newString);\r\n    }\r\n\r\n    @Test\r\n    void testClassNewInstanceWithVarOnly()\r\n        throws NoSuchMethodException, InvocationTargetException,\r\n        InstantiationException, IllegalAccessException\r\n    {\r\n        final var input = &quot;A string&quot;;\r\n        final var theClass = input.getClass();\r\n        final var constructor = theClass.getConstructor();\r\n        final var newString = constructor.newInstance();\r\n\r\n        assertEquals(&quot;A string&quot;, newString);\r\n    }\r\n}\r\n```\r\n\r\nThe only difference apart from the assertion is that the **`newString`** variable type is explicit in the first test and declared as `var` in the second test.\r\n\r\nI&#39;m using java 17 and the junit5 test framework.\r\n\r\nWhy is the value of `newString` an empty string in the first test and the `input` string value in the second test?\r\n\r\nDoes it have something todo with the string-pool?\r\n\r\nOr is something else going on?\r\n","title":"Why does String creation using `newInstance()` method behave different when using `var` compared to using explicit type `String`?","body":"<p>I am learning about reflection in Java. By accident, I discovered the following, for me unexpected behavior.</p>\n<p>Both tests as written below succeed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NewInstanceUsingReflection {\n    @Test\n    void testClassNewInstance()\n        throws NoSuchMethodException, InvocationTargetException,\n        InstantiationException, IllegalAccessException\n    {\n        final var input = &quot;A string&quot;;\n        final var theClass = input.getClass();\n        final var constructor = theClass.getConstructor();\n        final String newString = constructor.newInstance();\n\n        assertEquals(&quot;&quot;, newString);\n    }\n\n    @Test\n    void testClassNewInstanceWithVarOnly()\n        throws NoSuchMethodException, InvocationTargetException,\n        InstantiationException, IllegalAccessException\n    {\n        final var input = &quot;A string&quot;;\n        final var theClass = input.getClass();\n        final var constructor = theClass.getConstructor();\n        final var newString = constructor.newInstance();\n\n        assertEquals(&quot;A string&quot;, newString);\n    }\n}\n</code></pre>\n<p>The only difference apart from the assertion is that the <strong><code>newString</code></strong> variable type is explicit in the first test and declared as <code>var</code> in the second test.</p>\n<p>I'm using java 17 and the junit5 test framework.</p>\n<p>Why is the value of <code>newString</code> an empty string in the first test and the <code>input</code> string value in the second test?</p>\n<p>Does it have something todo with the string-pool?</p>\n<p>Or is something else going on?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-popupwindow"],"answers":[{"tags":[],"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662825305,"creation_date":1662825305,"answer_id":73673223,"question_id":73671586,"body_markdown":"Update this and you should see a pop window below button. \r\n\r\n    popup_window.contentView = inflator.rootView\r\n\r\nAfter that it logcat will print  `No adapter attached; skipping layout` thats where you initiate your reyclerview and adapter and attach the adapter to your recyclerview inside popup_list.\r\n\r\nI am not going to be in very detail as this answer is very well asked and answered [Here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39492447/show-recyclerview-in-popup-window.\r\n\r\n","title":"How to use RecyclerView inside PopupWindow","body":"<p>Update this and you should see a pop window below button.</p>\n<pre><code>popup_window.contentView = inflator.rootView\n</code></pre>\n<p>After that it logcat will print  <code>No adapter attached; skipping layout</code> thats where you initiate your reyclerview and adapter and attach the adapter to your recyclerview inside popup_list.</p>\n<p>I am not going to be in very detail as this answer is very well asked and answered <a href=\"https://stackoverflow.com/questions/39492447/show-recyclerview-in-popup-window.\">Here</a>.</p>\n"}],"owner":{"account_id":24633201,"reputation":13,"user_id":18532180,"display_name":"Adrian Barbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73673223,"answer_count":1,"score":0,"last_activity_date":1662825305,"creation_date":1662810716,"question_id":73671586,"body_markdown":"I have and simple app form (Android dev course) and I learn to use RecyclerView. The code works fine (if I use RecyclerView in MainActivity) but if I want to put that RecyclerView inside a PopupWindow, the app crashes (in most of my attempts: ```The specified child already has a parent```, and I can&#39;t use ```removeView()```).\r\n   \r\nSo how can I use the RecyclerView inside PopupWindow?\r\n\r\n \r\nThis is ItemAdapter:\r\n```\r\nclass ItemAdapter(\r\n    private val context: Context,\r\n    private val dataset: List&lt;Affirmation&gt;\r\n) : RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt;() {\r\n\r\n    class ItemViewHolder(private val view: View) : RecyclerView.ViewHolder(view) {\r\n        val textView: TextView = view.findViewById(R.id.item_title)\r\n\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemViewHolder {\r\n        val adapterLayout = LayoutInflater.from(parent.context)\r\n            .inflate(R.layout.list_item, parent, false)\r\n\r\n        return ItemViewHolder(adapterLayout)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ItemViewHolder, position: Int) {\r\n        val item = dataset[position]\r\n        holder.textView.text =  context.resources.getString(item.stringResourceId)\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return dataset.size\r\n    }\r\n}\r\n```\r\n\r\nThis is MainActivity:\r\n``` \r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val myDataset = Datasource().loadAffirmations()\r\n\r\n        val btn = findViewById&lt;Button&gt;(R.id.button)\r\n        btn.setOnClickListener {\r\n\r\n            val popup_window = PopupWindow(this)\r\n            val inflator = layoutInflater.inflate(R.layout.popup_list, null)\r\n            \r\n            popup_window.contentView = ???\r\n            \r\n            popup_window.showAsDropDown(btn)\r\n            \r\n}}}\r\n``` \r\n\r\nThis is popup_list.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_view&quot;\r\n        app:layoutManager=&quot;LinearLayoutManager&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n```list_item.xml``` is a simple ```TextView``` and in ```activity_main.xml``` I have just a Button for open the PopupWindow \r\n\r\n\r\n\r\n","title":"How to use RecyclerView inside PopupWindow","body":"<p>I have and simple app form (Android dev course) and I learn to use RecyclerView. The code works fine (if I use RecyclerView in MainActivity) but if I want to put that RecyclerView inside a PopupWindow, the app crashes (in most of my attempts: <code>The specified child already has a parent</code>, and I can't use <code>removeView()</code>).</p>\n<p>So how can I use the RecyclerView inside PopupWindow?</p>\n<p>This is ItemAdapter:</p>\n<pre><code>class ItemAdapter(\n    private val context: Context,\n    private val dataset: List&lt;Affirmation&gt;\n) : RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt;() {\n\n    class ItemViewHolder(private val view: View) : RecyclerView.ViewHolder(view) {\n        val textView: TextView = view.findViewById(R.id.item_title)\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemViewHolder {\n        val adapterLayout = LayoutInflater.from(parent.context)\n            .inflate(R.layout.list_item, parent, false)\n\n        return ItemViewHolder(adapterLayout)\n    }\n\n    override fun onBindViewHolder(holder: ItemViewHolder, position: Int) {\n        val item = dataset[position]\n        holder.textView.text =  context.resources.getString(item.stringResourceId)\n\n    }\n\n    override fun getItemCount(): Int {\n        return dataset.size\n    }\n}\n</code></pre>\n<p>This is MainActivity:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val myDataset = Datasource().loadAffirmations()\n\n        val btn = findViewById&lt;Button&gt;(R.id.button)\n        btn.setOnClickListener {\n\n            val popup_window = PopupWindow(this)\n            val inflator = layoutInflater.inflate(R.layout.popup_list, null)\n            \n            popup_window.contentView = ???\n            \n            popup_window.showAsDropDown(btn)\n            \n}}}\n</code></pre>\n<p>This is popup_list.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_view&quot;\n        app:layoutManager=&quot;LinearLayoutManager&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><code>list_item.xml</code> is a simple <code>TextView</code> and in <code>activity_main.xml</code> I have just a Button for open the PopupWindow</p>\n"},{"tags":["java","spring-boot","spring-security","tinkerpop3","gremlin-java"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662823891,"creation_date":1662823891,"answer_id":73673066,"question_id":73672549,"body_markdown":"Found the problem. `g` dosen&#39;t have access to Application Context. We need to set the `g` in the `CustomMethodSecurityExpressionRoot` instance to be able to use it.\r\n\r\n    public class AuctionMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n\t\r\n\tprivate ApplicationContext applicationContext;\r\n\tprivate AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n\r\n\t@Override\r\n\tprotected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n\t\t\tMethodInvocation invocation) {\r\n\t\tAuctionMethodSecurityExpressionRoot root = new AuctionMethodSecurityExpressionRoot(authentication);\r\n\t\troot.setPermissionEvaluator(getPermissionEvaluator());\r\n\t\troot.setTrustResolver(this.trustResolver);\r\n\t\troot.setRoleHierarchy(getRoleHierarchy());\r\n\t\troot.setG(this.applicationContext.getBean(GraphTraversalSource.class));\r\n\t\treturn root;\r\n\t}\r\n\t\r\n\t@Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n        super.setApplicationContext(applicationContext);\r\n        this.applicationContext=applicationContext;\r\n    }\r\n    }\r\n\r\nand\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n\r\n\t     Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\t     @Autowired\r\n         private ApplicationContext applicationContext;\r\n\t\r\n\t    @Override\r\n\t    protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n\t\t    CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\r\n\t\t    expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\r\n\t\t    expressionHandler.setApplicationContext(applicationContext);\r\n\t\t    logger.debug(&quot;Method security expression handler configured to CustomMethodSecurityExpressionHandler&quot;);\r\n\t\t    return expressionHandler;\r\n\t     }\r\n\t\r\n    }\r\n","title":"Autowired is not working in CustomMethodSecurityExpressionRoot always returning NULL","body":"<p>Found the problem. <code>g</code> dosen't have access to Application Context. We need to set the <code>g</code> in the <code>CustomMethodSecurityExpressionRoot</code> instance to be able to use it.</p>\n<pre><code>public class AuctionMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\nprivate ApplicationContext applicationContext;\nprivate AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n@Override\nprotected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n        MethodInvocation invocation) {\n    AuctionMethodSecurityExpressionRoot root = new AuctionMethodSecurityExpressionRoot(authentication);\n    root.setPermissionEvaluator(getPermissionEvaluator());\n    root.setTrustResolver(this.trustResolver);\n    root.setRoleHierarchy(getRoleHierarchy());\n    root.setG(this.applicationContext.getBean(GraphTraversalSource.class));\n    return root;\n}\n\n@Override\npublic void setApplicationContext(ApplicationContext applicationContext) {\n    super.setApplicationContext(applicationContext);\n    this.applicationContext=applicationContext;\n}\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n\n     Logger logger = LoggerFactory.getLogger(this.getClass());\n     @Autowired\n     private ApplicationContext applicationContext;\n\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\n        expressionHandler.setApplicationContext(applicationContext);\n        logger.debug(&quot;Method security expression handler configured to CustomMethodSecurityExpressionHandler&quot;);\n        return expressionHandler;\n     }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73673066,"answer_count":1,"score":0,"last_activity_date":1662823891,"creation_date":1662819729,"question_id":73672549,"body_markdown":"Autowired is not working in CustomMethodSecurityExpressionRoot always returning NULL. here is the custom method security. \r\n\r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n\t    Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    \t\r\n    \tprivate Object filterObject;\r\n    \tprivate Object returnObject;\r\n    \t\r\n    \t@Autowired GraphTraversalSource g;\r\n    \t    \r\n    \tpublic CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n    \t\tsuper(authentication);\r\n    \t}\r\n    \r\n    \tpublic boolean isMember(String orgId) {\r\n    \t\tSystem.out.println(g);\r\n    \t\tString user = this.authentication.getName();\r\n    \t\tlogger.debug(&quot;Check the permission for the user {}&quot;, user);\r\n    \t\tSystem.out.println(g);\r\n    \t\treturn true;\r\n        }\r\n    \t\r\n    \t@Override\r\n        public void setFilterObject(Object obj) {\r\n            this.filterObject = obj;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic Object getFilterObject() {\r\n    \t\treturn this.filterObject;\r\n    \t}\r\n    \r\n        @Override\r\n        public void setReturnObject(Object obj) {\r\n            this.returnObject = obj;\r\n        }\r\n        \r\n    \t@Override\r\n    \tpublic Object getReturnObject() {\r\n    \t\treturn this.returnObject;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getThis() {\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    }\r\n---\r\nTried the following too\r\n\r\n       public void setG(GraphTraversalSource g) {\r\n    \t\tthis.g = g;\r\n    \t}\r\n\r\nWhy it is return in `g` as NULL always. In other place controller / service, I am getting the expected value `Traversalsource[emptygraph[empty], standard]`.\r\n\r\n","title":"Autowired is not working in CustomMethodSecurityExpressionRoot always returning NULL","body":"<p>Autowired is not working in CustomMethodSecurityExpressionRoot always returning NULL. here is the custom method security.</p>\n<pre><code>public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    Logger logger = LoggerFactory.getLogger(this.getClass());\n    \n    private Object filterObject;\n    private Object returnObject;\n    \n    @Autowired GraphTraversalSource g;\n        \n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    public boolean isMember(String orgId) {\n        System.out.println(g);\n        String user = this.authentication.getName();\n        logger.debug(&quot;Check the permission for the user {}&quot;, user);\n        System.out.println(g);\n        return true;\n    }\n    \n    @Override\n    public void setFilterObject(Object obj) {\n        this.filterObject = obj;\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return this.filterObject;\n    }\n\n    @Override\n    public void setReturnObject(Object obj) {\n        this.returnObject = obj;\n    }\n    \n    @Override\n    public Object getReturnObject() {\n        return this.returnObject;\n    }\n\n    @Override\n    public Object getThis() {\n        return this;\n    }\n\n}\n</code></pre>\n<hr />\n<p>Tried the following too</p>\n<pre><code>   public void setG(GraphTraversalSource g) {\n        this.g = g;\n    }\n</code></pre>\n<p>Why it is return in <code>g</code> as NULL always. In other place controller / service, I am getting the expected value <code>Traversalsource[emptygraph[empty], standard]</code>.</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":15275486,"reputation":376,"user_id":11021331,"display_name":"Kelvin Ho"},"score":1,"creation_date":1614727068,"post_id":66447890,"comment_id":117472498,"body_markdown":"The link below shows how to count the second most frequent character in a string:\nhttps://www.geeksforgeeks.org/c-program-find-second-frequent-character/\nMaybe you can get some insight from it.","body":"The link below shows how to count the second most frequent character in a string: <a href=\"https://www.geeksforgeeks.org/c-program-find-second-frequent-character/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/c-program-find-second-frequent-character</a> Maybe you can get some insight from it."}],"answers":[{"tags":[],"owner":{"account_id":3836161,"reputation":11,"user_id":3180389,"display_name":"sasquach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614724350,"creation_date":1614724350,"answer_id":66448103,"question_id":66447890,"body_markdown":"Maybe try finding the number that is repeated the most times. Remove all of it from the array and then find the number that is repeated the most times again. The end result should be 2.\r\n\r\nThis is probably inefficient but it&#39;s the only think I can think of right now.","title":"How to find the second most repeated integer - java","body":"<p>Maybe try finding the number that is repeated the most times. Remove all of it from the array and then find the number that is repeated the most times again. The end result should be 2.</p>\n<p>This is probably inefficient but it's the only think I can think of right now.</p>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614724555,"creation_date":1614724555,"answer_id":66448134,"question_id":66447890,"body_markdown":"Here&#39;s a super inefficient way to do it using `Stream` with a `groupingBy` `Collector`:\r\n\r\n```java\r\nMap&lt;Integer, Long&gt; map = IntStream.of(1,1,1,1,1,2,2,2,2,3,4)\r\n\t.boxed()\r\n\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n// map = {\r\n//   1: 5\r\n//   2: 4\r\n//   3: 1\r\n//   4: 1\r\n// }\r\n```\r\n\r\nNow we have the count for each number. Then find the max entry:\r\n\r\n```java\r\nOptional&lt;Entry&lt;Integer, Long&gt;&gt; maxEntry = map.entrySet()\r\n        .stream()\r\n        .max(Comparator.comparing(Map.Entry::getValue));\r\n```\r\n\r\nThen check if any entry was found, if yes: remove this entry from the map, and search again.\r\n\r\n```java\r\nmaxEntry.ifPresent(entry -&gt; map.remove(entry.getKey()));\r\n\r\nOptional&lt;Entry&lt;Integer, Long&gt;&gt; secondMaxKey = maxEntry.flatMap(_ -&gt; map.entrySet()\r\n\t\t\t.stream()\r\n\t        .max(Comparator.comparing(Map.Entry::getValue))\r\n\t    )\r\n\t\t.map(entry -&gt; entry.getKey());\r\n```\r\n\r\nAnd now you maybe got the second max entry. &quot;maybe&quot;, because the `map` could have had zero or only one element and though there would be no second highest element.\r\n\r\n```java\r\nsecondMaxKey.ifPresent(value -&gt; System.out.println(value));\r\n```","title":"How to find the second most repeated integer - java","body":"<p>Here's a super inefficient way to do it using <code>Stream</code> with a <code>groupingBy</code> <code>Collector</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Long&gt; map = IntStream.of(1,1,1,1,1,2,2,2,2,3,4)\n    .boxed()\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n// map = {\n//   1: 5\n//   2: 4\n//   3: 1\n//   4: 1\n// }\n</code></pre>\n<p>Now we have the count for each number. Then find the max entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Entry&lt;Integer, Long&gt;&gt; maxEntry = map.entrySet()\n        .stream()\n        .max(Comparator.comparing(Map.Entry::getValue));\n</code></pre>\n<p>Then check if any entry was found, if yes: remove this entry from the map, and search again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>maxEntry.ifPresent(entry -&gt; map.remove(entry.getKey()));\n\nOptional&lt;Entry&lt;Integer, Long&gt;&gt; secondMaxKey = maxEntry.flatMap(_ -&gt; map.entrySet()\n            .stream()\n            .max(Comparator.comparing(Map.Entry::getValue))\n        )\n        .map(entry -&gt; entry.getKey());\n</code></pre>\n<p>And now you maybe got the second max entry. &quot;maybe&quot;, because the <code>map</code> could have had zero or only one element and though there would be no second highest element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>secondMaxKey.ifPresent(value -&gt; System.out.println(value));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614728910,"creation_date":1614728910,"answer_id":66448752,"question_id":66447890,"body_markdown":"It may be worth to store the frequencies in a sorted set of map entries, then it would be easier to find the element with max frequency, skip the element(s) with this frequency using Java 9 `Stream::dropWhile` and pick up the next element.\r\n```java\r\npublic static int secondMostRepeatable(int ... arr) {\r\n\tSet&lt;Map.Entry&lt;Integer, Integer&gt;&gt; freq = Arrays.stream(arr)\r\n\t\t.boxed()\r\n\t\t.collect(Collectors.groupingBy(x -&gt; x, Collectors.summingInt(x -&gt; 1)))\r\n\t\t.entrySet().stream()\r\n\t\t.sorted(Map.Entry.&lt;Integer, Integer&gt;comparingByValue().reversed())\r\n\t\t.collect(Collectors.toCollection(LinkedHashSet::new));\r\n\tSystem.out.print(freq); // debug print\r\n\t\r\n\tint max = freq.iterator().hasNext() ? freq.iterator().next().getValue() : -1;\r\n\tSystem.out.print(&quot;; max freq=&quot; + max + &quot;  &quot;); // debug print\r\n\treturn freq.stream()\r\n\t\t\t.dropWhile(e -&gt; e.getValue() == max)\r\n\t\t\t.findFirst()\r\n\t\t\t.map(Map.Entry::getKey)\r\n\t\t\t.orElse(-1);\r\n}\r\n```\r\nTests:\r\n```java\r\nSystem.out.println(secondMostRepeatable());\r\nSystem.out.println(secondMostRepeatable(1));\r\nSystem.out.println(secondMostRepeatable(1, 1, 1));\r\nSystem.out.println(secondMostRepeatable(1, 2, 3, 4));\r\nSystem.out.println(secondMostRepeatable(1, 2, 2, 3, 4));\r\nSystem.out.println(secondMostRepeatable(1, 2, 2, 2, 3, 3, 4));\t\r\n```\r\nOutput\r\n```\r\n[]; max freq=-1  -1\r\n[1=1]; max freq=1  -1\r\n[1=3]; max freq=3  -1\r\n[1=1, 2=1, 3=1, 4=1]; max freq=1  -1\r\n[2=2, 1=1, 3=1, 4=1]; max freq=2  1\r\n[2=3, 3=2, 1=1, 4=1]; max freq=3  3\r\n```","title":"How to find the second most repeated integer - java","body":"<p>It may be worth to store the frequencies in a sorted set of map entries, then it would be easier to find the element with max frequency, skip the element(s) with this frequency using Java 9 <code>Stream::dropWhile</code> and pick up the next element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int secondMostRepeatable(int ... arr) {\n    Set&lt;Map.Entry&lt;Integer, Integer&gt;&gt; freq = Arrays.stream(arr)\n        .boxed()\n        .collect(Collectors.groupingBy(x -&gt; x, Collectors.summingInt(x -&gt; 1)))\n        .entrySet().stream()\n        .sorted(Map.Entry.&lt;Integer, Integer&gt;comparingByValue().reversed())\n        .collect(Collectors.toCollection(LinkedHashSet::new));\n    System.out.print(freq); // debug print\n    \n    int max = freq.iterator().hasNext() ? freq.iterator().next().getValue() : -1;\n    System.out.print(&quot;; max freq=&quot; + max + &quot;  &quot;); // debug print\n    return freq.stream()\n            .dropWhile(e -&gt; e.getValue() == max)\n            .findFirst()\n            .map(Map.Entry::getKey)\n            .orElse(-1);\n}\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(secondMostRepeatable());\nSystem.out.println(secondMostRepeatable(1));\nSystem.out.println(secondMostRepeatable(1, 1, 1));\nSystem.out.println(secondMostRepeatable(1, 2, 3, 4));\nSystem.out.println(secondMostRepeatable(1, 2, 2, 3, 4));\nSystem.out.println(secondMostRepeatable(1, 2, 2, 2, 3, 3, 4));  \n</code></pre>\n<p>Output</p>\n<pre><code>[]; max freq=-1  -1\n[1=1]; max freq=1  -1\n[1=3]; max freq=3  -1\n[1=1, 2=1, 3=1, 4=1]; max freq=1  -1\n[2=2, 1=1, 3=1, 4=1]; max freq=2  1\n[2=3, 3=2, 1=1, 4=1]; max freq=3  3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614734221,"creation_date":1614732190,"answer_id":66449145,"question_id":66447890,"body_markdown":"You can do it pretty easily as follows.  it is also relatively efficient since it does not require sorting the values.\r\n```\r\nint[] numbers = {1,1,1,1,1,3,3,3,3,3,2,2,2,2,4,4,4};\r\n```\r\nFirst, do a frequency count\r\n``` \r\nMap&lt;Integer,Long&gt; map = Arrays.stream(numbers).boxed()\r\n        .collect(Collectors.groupingBy(a-&gt;a,\r\n\t\t     Collectors.counting()));\r\n```\r\nNow for each entry, simply find the first and second values with the largest count.  If the first and second are equal in size then continue to find the second largest.\r\n```\r\nEntry&lt;Integer, Long&gt; e1;\r\nEntry&lt;Integer, Long&gt; e2;\r\nSet&lt;Entry&lt;Integer, Long&gt;&gt; set = map.entrySet();\r\nwhile (true) {\r\n\te1 = new AbstractMap.SimpleEntry&lt;&gt;(-1, Long.MIN_VALUE);\r\n\te2 = new AbstractMap.SimpleEntry&lt;&gt;(-1, Long.MIN_VALUE);\r\n\t\r\n\tfor (Entry&lt;Integer, Long&gt; e : set) {\r\n\t\tif (e.getValue() &gt; e1.getValue()) {\r\n\t\t\te2 = e1;\r\n\t\t\te1 = e;\r\n\t\t} else {\r\n\t\t\tif (e.getValue() &gt; e2.getValue()) {\r\n\t\t\t\te2 = e;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (e1.getValue() == e2.getValue() &amp;&amp; set.size() &gt; 2) {\r\n\t\tset.remove(e1);\r\n        continue;\r\n\t}\r\n    break;\r\n}\r\n\r\nSystem.out.println(&quot;The value &quot; + e2.getKey() + &quot; occurred &quot; + e2.getValue() + &quot; time(s)&quot;);\r\n```\r\nPrints\r\n```\r\nThe value 2 occurred 4 time(s)\r\n\r\n```\r\n","title":"How to find the second most repeated integer - java","body":"<p>You can do it pretty easily as follows.  it is also relatively efficient since it does not require sorting the values.</p>\n<pre><code>int[] numbers = {1,1,1,1,1,3,3,3,3,3,2,2,2,2,4,4,4};\n</code></pre>\n<p>First, do a frequency count</p>\n<pre><code>Map&lt;Integer,Long&gt; map = Arrays.stream(numbers).boxed()\n        .collect(Collectors.groupingBy(a-&gt;a,\n             Collectors.counting()));\n</code></pre>\n<p>Now for each entry, simply find the first and second values with the largest count.  If the first and second are equal in size then continue to find the second largest.</p>\n<pre><code>Entry&lt;Integer, Long&gt; e1;\nEntry&lt;Integer, Long&gt; e2;\nSet&lt;Entry&lt;Integer, Long&gt;&gt; set = map.entrySet();\nwhile (true) {\n    e1 = new AbstractMap.SimpleEntry&lt;&gt;(-1, Long.MIN_VALUE);\n    e2 = new AbstractMap.SimpleEntry&lt;&gt;(-1, Long.MIN_VALUE);\n    \n    for (Entry&lt;Integer, Long&gt; e : set) {\n        if (e.getValue() &gt; e1.getValue()) {\n            e2 = e1;\n            e1 = e;\n        } else {\n            if (e.getValue() &gt; e2.getValue()) {\n                e2 = e;\n            }\n        }\n    }\n    if (e1.getValue() == e2.getValue() &amp;&amp; set.size() &gt; 2) {\n        set.remove(e1);\n        continue;\n    }\n    break;\n}\n\nSystem.out.println(&quot;The value &quot; + e2.getKey() + &quot; occurred &quot; + e2.getValue() + &quot; time(s)&quot;);\n</code></pre>\n<p>Prints</p>\n<pre><code>The value 2 occurred 4 time(s)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5092982,"reputation":898,"user_id":4085383,"accept_rate":100,"display_name":"Amit Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662822978,"creation_date":1662822978,"answer_id":73672947,"question_id":66447890,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tint[] arr = new int[] { 1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 4 };\r\n    \r\n    \t\tLinkedHashMap&lt;Integer, Integer&gt; freq = new LinkedHashMap&lt;&gt;();\r\n    \r\n    \t\tfor (int i : arr) {\r\n    \t\t\tif (freq.containsKey(i)) {\r\n    \t\t\t\tfreq.put(i, freq.get(i) + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\tfreq.put(i, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(freq);\r\n    \r\n    \t\tint firstFreq = -1;\r\n    \t\tint secondFreq = -1;\r\n    \t\tint firstFreqDigit = -1;\r\n    \t\tint secondFreqDigit = -1;\r\n    \r\n    \t\tfor (Entry&lt;Integer, Integer&gt; entry : freq.entrySet()) {\r\n    \t\t\tint currentFreq = entry.getValue();\r\n    \t\t\tif (currentFreq &gt; firstFreq) {\r\n    \t\t\t\tsecondFreq = firstFreq;\r\n    \t\t\t\tsecondFreqDigit = firstFreqDigit;\r\n    \t\t\t\tfirstFreq = currentFreq;\r\n    \t\t\t\tfirstFreqDigit = entry.getKey();\r\n    \t\t\t} else if (currentFreq != firstFreq &amp;&amp; currentFreq &gt; secondFreq) {\r\n    \t\t\t\tsecondFreq = currentFreq;\r\n    \t\t\t\tsecondFreqDigit = entry.getKey();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(secondFreqDigit + &quot;:&quot; + secondFreq);\r\n    \r\n    \t}","title":"How to find the second most repeated integer - java","body":"<pre><code>public static void main(String[] args) {\n        int[] arr = new int[] { 1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 4 };\n\n        LinkedHashMap&lt;Integer, Integer&gt; freq = new LinkedHashMap&lt;&gt;();\n\n        for (int i : arr) {\n            if (freq.containsKey(i)) {\n                freq.put(i, freq.get(i) + 1);\n            } else {\n                freq.put(i, 1);\n            }\n        }\n\n        System.out.println(freq);\n\n        int firstFreq = -1;\n        int secondFreq = -1;\n        int firstFreqDigit = -1;\n        int secondFreqDigit = -1;\n\n        for (Entry&lt;Integer, Integer&gt; entry : freq.entrySet()) {\n            int currentFreq = entry.getValue();\n            if (currentFreq &gt; firstFreq) {\n                secondFreq = firstFreq;\n                secondFreqDigit = firstFreqDigit;\n                firstFreq = currentFreq;\n                firstFreqDigit = entry.getKey();\n            } else if (currentFreq != firstFreq &amp;&amp; currentFreq &gt; secondFreq) {\n                secondFreq = currentFreq;\n                secondFreqDigit = entry.getKey();\n            }\n        }\n\n        System.out.println(secondFreqDigit + &quot;:&quot; + secondFreq);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12577818,"reputation":93,"user_id":9149637,"accept_rate":40,"display_name":"qwe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2177,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":5,"score":-4,"last_activity_date":1662822978,"creation_date":1614723114,"question_id":66447890,"body_markdown":"If I have an int[], how do I find the number that is repeated the second most amount of times?\r\nSo say I have this array:\r\n\r\n```int[] numbers = {1,1,1,1,1,2,2,2,2,3,4};```\r\n\r\nI want my console to output 2 since it is the second most repeated number in the array. ","title":"How to find the second most repeated integer - java","body":"<p>If I have an int[], how do I find the number that is repeated the second most amount of times?\nSo say I have this array:</p>\n<p><code>int[] numbers = {1,1,1,1,1,2,2,2,2,3,4};</code></p>\n<p>I want my console to output 2 since it is the second most repeated number in the array.</p>\n"},{"tags":["java","android","bottom-navigation-bar"],"comments":[{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1662665615,"post_id":73509553,"comment_id":130064888,"body_markdown":"Have you tried getting the menuItem like this and setting the setChecked(false);\n`[MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home);\nmenuItem.setCheckable(false);]`","body":"Have you tried getting the menuItem like this and setting the setChecked(false); <code>[MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home); menuItem.setCheckable(false);]</code>"},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1662665878,"post_id":73509553,"comment_id":130064970,"body_markdown":"by my initial debugging `[item.getItemId()]` - `[navView.getSelectedItemId()]` - `[menuItem.getItemId()]` seems to be returning different set of id&#39;s. so which is the actually pointing to the menu item seems to be unclear at the moment.","body":"by my initial debugging <code>[item.getItemId()]</code> - <code>[navView.getSelectedItemId()]</code> - <code>[menuItem.getItemId()]</code> seems to be returning different set of id&#39;s. so which is the actually pointing to the menu item seems to be unclear at the moment."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1662737747,"post_id":73509553,"comment_id":130082911,"body_markdown":"@MalikSaifullah: Thanks for your comments. Actually I don&#39;t really understand your instruction. What exactly shall I do and why are you always using the square brackets? Further, generally when you set setCheckable(false), the bottom is completely deactivated, meaning that you can&#39;t press it anymore. This is not what I want. Normally `item.setChecked(false);` should do what I want but strantely it does not work here. Do you know why or what I can do in order to remove the highlight from one button.","body":"@MalikSaifullah: Thanks for your comments. Actually I don&#39;t really understand your instruction. What exactly shall I do and why are you always using the square brackets? Further, generally when you set setCheckable(false), the bottom is completely deactivated, meaning that you can&#39;t press it anymore. This is not what I want. Normally <code>item.setChecked(false);</code> should do what I want but strantely it does not work here. Do you know why or what I can do in order to remove the highlight from one button."},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1662737948,"post_id":73509553,"comment_id":130082959,"body_markdown":"My bad i must have not proof read it. \napart from square brackets you could go on and try the this code.\n`MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home); menuItem.setCheckable(false);`\n\nin your  if (item.getItemId()== R.id.BottomNavigation_Back) { }","body":"My bad i must have not proof read it.  apart from square brackets you could go on and try the this code. <code>MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home); menuItem.setCheckable(false);</code>  in your  if (item.getItemId()== R.id.BottomNavigation_Back) { }"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1662738282,"post_id":73509553,"comment_id":130083086,"body_markdown":"@MalikSaifullah: Thanks for your comments. When using your suggested code I get 2 error messages: &quot;Cannot resolve symbol &#39;navView&#39;&quot; and &quot;Cannot resolve symbol &#39;navigation_home&#39;&quot;","body":"@MalikSaifullah: Thanks for your comments. When using your suggested code I get 2 error messages: &quot;Cannot resolve symbol &#39;navView&#39;&quot; and &quot;Cannot resolve symbol &#39;navigation_home&#39;&quot;"},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1662738389,"post_id":73509553,"comment_id":130083125,"body_markdown":"that&#39;s because you have to replace that with your id&#39;s of bottomNavigation and  BottomNavigation_Back","body":"that&#39;s because you have to replace that with your id&#39;s of bottomNavigation and  BottomNavigation_Back"},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1662738415,"post_id":73509553,"comment_id":130083136,"body_markdown":"`navView` replace  with `bottomNavigation`\n`navigation_home` replace with  `BottomNavigation_Back`","body":"<code>navView</code> replace  with <code>bottomNavigation</code> <code>navigation_home</code> replace with  <code>BottomNavigation_Back</code>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1662740374,"post_id":73509553,"comment_id":130083756,"body_markdown":"@MalikSaifullah: Thanks for your answer. Actually it works as it should. It&#39;ll be cool, if you write your comments in an answer. Then I&#39;ll accept it and award the bounty to you (and it might be helpful for others).","body":"@MalikSaifullah: Thanks for your answer. Actually it works as it should. It&#39;ll be cool, if you write your comments in an answer. Then I&#39;ll accept it and award the bounty to you (and it might be helpful for others)."}],"answers":[{"tags":[],"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662822267,"creation_date":1662744361,"answer_id":73665612,"question_id":73509553,"body_markdown":"You could access the menu item which is being selected like this and not set it checkable and rest should work as is.\r\n\r\n    MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home); \r\n    menuItem.setCheckable(false);\r\n\r\n\r\nYou can choose which item should be selected by default by `(Replace R.id.navigation_dashboard with your relevant id)`\r\n\r\n\r\n    binding.navView.setSelectedItemId(R.id.navigation_dashboard);\r\n\r\nThis will only change the selection now to set the correct fragment according to the id do this. \r\n\r\n    navController.navigate(R.id.navigation_dashboard);\r\n\r\n\r\n\r\n\r\n","title":"How to remove highlight from one specific icon in a Botton Navigation Bar in Android","body":"<p>You could access the menu item which is being selected like this and not set it checkable and rest should work as is.</p>\n<pre><code>MenuItem menuItem =binding.navView.getMenu().findItem(R.id.navigation_home); \nmenuItem.setCheckable(false);\n</code></pre>\n<p>You can choose which item should be selected by default by <code>(Replace R.id.navigation_dashboard with your relevant id)</code></p>\n<pre><code>binding.navView.setSelectedItemId(R.id.navigation_dashboard);\n</code></pre>\n<p>This will only change the selection now to set the correct fragment according to the id do this.</p>\n<pre><code>navController.navigate(R.id.navigation_dashboard);\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73665612,"answer_count":1,"score":1,"last_activity_date":1662822267,"creation_date":1661590127,"question_id":73509553,"body_markdown":"I have a Bottom Navigation Bar in Android with 4 icons. At the moment, when I click on an icon it gets highlighted (change of color) until another button is pressed on the Bottom Navigation Bar. While this is good for 3 of the 4 icons, I also have a &quot;Back&quot; button where this should not be the case. So if the Back button is pressed, it should either not be highlited at all, or it should just be highlighted for a very short period of time. Can you tell me how to do this in the Java code?\r\n\r\nHere is the code that defines what happens if a button is pressed on the Botton Navigation Bar inside the `onCreate` method of the main acticity:\r\n\r\n    binding.bottomNavigation.setOnNavigationItemSelectedListener(\r\n                    new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                        @Override\r\n                        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                            if (item.getItemId()== R.id.BottomNavigation_Back) {\r\n    \r\n                                item.setChecked(false);\r\n                                navController.navigateUp();\r\n    \r\n                            }\r\n    \r\n                            if (item.getItemId()== R.id.BottomNavigation_Language) {\r\n                                navController.navigate(R.id.FR_LanguageSelection);\r\n                            }\r\n    \r\n                            if (item.getItemId()== R.id.BottomNavigation_Info) {\r\n                                navController.navigate(R.id.FR_Info);\r\n                            }\r\n    \r\n                            if (item.getItemId()== R.id.BottomNavigation_Menu) {\r\n                                navController.navigate(R.id.FR_Menu);\r\n                            }\r\n    \r\n    \r\n                            return true;\r\n                        }\r\n                    });\r\n\r\nThe relevant chase is the first one `if (item.getItemId()== R.id.BottomNavigation_Back) `. I tried to use `item.setChecked(false);` but this does not work (as you can see in the screenshot). The Back Icon is still highlighted until another button is pressed. Any idea how to do this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Reminder**: Does anybody have an idea how to do this or why the command `item.setChecked(false);` does not work? Strangely when using `item.setChecked(true);` the behaviour is exactly the same. Is there a way how to disable the highlight from this specific button after is has been pressed?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1gouY.png","title":"How to remove highlight from one specific icon in a Botton Navigation Bar in Android","body":"<p>I have a Bottom Navigation Bar in Android with 4 icons. At the moment, when I click on an icon it gets highlighted (change of color) until another button is pressed on the Bottom Navigation Bar. While this is good for 3 of the 4 icons, I also have a &quot;Back&quot; button where this should not be the case. So if the Back button is pressed, it should either not be highlited at all, or it should just be highlighted for a very short period of time. Can you tell me how to do this in the Java code?</p>\n<p>Here is the code that defines what happens if a button is pressed on the Botton Navigation Bar inside the <code>onCreate</code> method of the main acticity:</p>\n<pre><code>binding.bottomNavigation.setOnNavigationItemSelectedListener(\n                new BottomNavigationView.OnNavigationItemSelectedListener() {\n                    @Override\n                    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                        if (item.getItemId()== R.id.BottomNavigation_Back) {\n\n                            item.setChecked(false);\n                            navController.navigateUp();\n\n                        }\n\n                        if (item.getItemId()== R.id.BottomNavigation_Language) {\n                            navController.navigate(R.id.FR_LanguageSelection);\n                        }\n\n                        if (item.getItemId()== R.id.BottomNavigation_Info) {\n                            navController.navigate(R.id.FR_Info);\n                        }\n\n                        if (item.getItemId()== R.id.BottomNavigation_Menu) {\n                            navController.navigate(R.id.FR_Menu);\n                        }\n\n\n                        return true;\n                    }\n                });\n</code></pre>\n<p>The relevant chase is the first one <code>if (item.getItemId()== R.id.BottomNavigation_Back) </code>. I tried to use <code>item.setChecked(false);</code> but this does not work (as you can see in the screenshot). The Back Icon is still highlighted until another button is pressed. Any idea how to do this?</p>\n<p><a href=\"https://i.stack.imgur.com/1gouY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1gouY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Reminder</strong>: Does anybody have an idea how to do this or why the command <code>item.setChecked(false);</code> does not work? Strangely when using <code>item.setChecked(true);</code> the behaviour is exactly the same. Is there a way how to disable the highlight from this specific button after is has been pressed?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3784598,"reputation":3859,"user_id":3142971,"accept_rate":100,"display_name":"Steampunkery"},"score":1,"creation_date":1507065476,"post_id":46553489,"comment_id":80061541,"body_markdown":"You increment you i variable twice in your nested loops. In your j loop you have i++ where it should be j++","body":"You increment you i variable twice in your nested loops. In your j loop you have i++ where it should be j++"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1507065642,"post_id":46553489,"comment_id":80061607,"body_markdown":"@T Jones Are you allowed to use array?","body":"@T Jones Are you allowed to use array?"},{"owner":{"account_id":3784598,"reputation":3859,"user_id":3142971,"accept_rate":100,"display_name":"Steampunkery"},"score":0,"creation_date":1507065736,"post_id":46553489,"comment_id":80061653,"body_markdown":"Are you allowed to get the ASCII values of each char? Because then you could add the values up and check for equality","body":"Are you allowed to get the ASCII values of each char? Because then you could add the values up and check for equality"},{"owner":{"account_id":2056173,"reputation":2037,"user_id":1833878,"accept_rate":68,"display_name":"Chris Phillips"},"score":0,"creation_date":1507066112,"post_id":46553489,"comment_id":80061799,"body_markdown":"You could alternatively solve this using `String.replaceFirst(String regex, String replacement)` and iterate through substrings","body":"You could alternatively solve this using <code>String.replaceFirst(String regex, String replacement)</code> and iterate through substrings"}],"answers":[{"tags":[],"owner":{"account_id":2056173,"reputation":2037,"user_id":1833878,"accept_rate":68,"display_name":"Chris Phillips"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507065748,"creation_date":1507065748,"answer_id":46553653,"question_id":46553489,"body_markdown":"In the 2nd level of your for-loop, your are incrementing i instead of j. Because j is never incremented, (j &lt; s1.length) is always true.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class anagram {\r\n      public static void main (String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter two strings&quot;);\r\n    \r\n        String s1 = scanner.next();\r\n        String s2 = scanner.next();\r\n    \r\n    \r\n        int counter = 0;\r\n    \r\n        int number1 = 0;\r\n        int number2 = 0;\r\n    \r\n        if(s1.length() != s2.length()) {\r\n            System.out.println(&quot;The strings are not anagrams&quot;);\r\n        }   else {\r\n    \r\n    \r\n            for(int i = 0; i &lt; s1.length() ; i++) {\r\n                for(int j = 0; j &lt; s1.length() ; j++) { //LOOK HERE &lt;======\r\n    \r\n                    // number1 = i;\r\n                    // number2 = j;\r\n    \r\n                    if(i == s1.length()){\r\n                        number1 = i - 1;\r\n                    }\r\n                    if(j == s2.length()){\r\n                        number2 = j - 1;\r\n                    }\r\n    \r\n    \r\n                    if(s1.charAt(number1) == s2.charAt(number2)) {\r\n                        counter ++ ;\r\n                        System.out.println(counter);\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n            System.out.println(counter);\r\n    \r\n        }\r\n    \r\n        System.out.println(s1 + &quot; &quot; + s2 + &quot; &quot; + counter);\r\n    \r\n    }\r\n    }","title":"Check for an anagram using only the string class in java","body":"<p>In the 2nd level of your for-loop, your are incrementing i instead of j. Because j is never incremented, (j &lt; s1.length) is always true.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class anagram {\n  public static void main (String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(\"Enter two strings\");\n\n    String s1 = scanner.next();\n    String s2 = scanner.next();\n\n\n    int counter = 0;\n\n    int number1 = 0;\n    int number2 = 0;\n\n    if(s1.length() != s2.length()) {\n        System.out.println(\"The strings are not anagrams\");\n    }   else {\n\n\n        for(int i = 0; i &lt; s1.length() ; i++) {\n            for(int j = 0; j &lt; s1.length() ; j++) { //LOOK HERE &lt;======\n\n                // number1 = i;\n                // number2 = j;\n\n                if(i == s1.length()){\n                    number1 = i - 1;\n                }\n                if(j == s2.length()){\n                    number2 = j - 1;\n                }\n\n\n                if(s1.charAt(number1) == s2.charAt(number2)) {\n                    counter ++ ;\n                    System.out.println(counter);\n                }\n\n            }\n\n        }\n        System.out.println(counter);\n\n    }\n\n    System.out.println(s1 + \" \" + s2 + \" \" + counter);\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507066043,"creation_date":1507066043,"answer_id":46553705,"question_id":46553489,"body_markdown":"Your problem lies here\r\n\r\n     for(int j = 0; j &lt; s1.length() ; j++) {   ///change i to j\r\n\r\nYou are checking `n^2`times, however this could be done with only `2n` times.\r\n\r\n1. Get the occurrences of all letters from 1st String (store in array)\r\n2. Get the occurrences of all letters from 2nd String (store in array)\r\n3. Loop through both arrays concurrently and compare whether all occurrences are the same.\r\n\r\nYour array will have 26 elements storing the occurrences of `a-z` (if case is not  sensitive)","title":"Check for an anagram using only the string class in java","body":"<p>Your problem lies here</p>\n\n<pre><code> for(int j = 0; j &lt; s1.length() ; j++) {   ///change i to j\n</code></pre>\n\n<p>You are checking <code>n^2</code>times, however this could be done with only <code>2n</code> times.</p>\n\n<ol>\n<li>Get the occurrences of all letters from 1st String (store in array)</li>\n<li>Get the occurrences of all letters from 2nd String (store in array)</li>\n<li>Loop through both arrays concurrently and compare whether all occurrences are the same.</li>\n</ol>\n\n<p>Your array will have 26 elements storing the occurrences of <code>a-z</code> (if case is not  sensitive)</p>\n"},{"tags":[],"owner":{"account_id":19011544,"reputation":11,"user_id":13877368,"display_name":"Akshaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662821726,"creation_date":1662821726,"answer_id":73672788,"question_id":46553489,"body_markdown":"\r\n\r\n    public class Main {\r\n    \r\n        static boolean isAnagram(String a, String b) {\r\n            // Complete the function\r\n            boolean flag = true;\r\n            if (a.length() != b.length())\r\n                return false;\r\n            char str1[] = a.toCharArray();\r\n            char str2[] = b.toCharArray();\r\n            int countstr1[] = countLetters(str1);\r\n            int countstr2[] = countLetters(str2);\r\n            for (int i = 0; i &lt; countstr1.length; i++) {\r\n                if (countstr1[i] != countstr2[i])\r\n                    flag = false;\r\n            }\r\n    \r\n            return flag;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String a = &quot;anagram&quot;;\r\n            String b = &quot;margana&quot;;\r\n            boolean ret = isAnagram(a, b);\r\n            System.out.println((ret) ? &quot;Anagrams&quot; : &quot;Not Anagrams&quot;);\r\n        }\r\n    \r\n        /** Count the occurrences of each letter */\r\n        public static int[] countLetters(char[] chars) {\r\n            // Declare and create an array of 26 int\r\n            int[] counts = new int[26];\r\n            // For each lowercase letter in the array, count it\r\n            for (int i = 0; i &lt; chars.length; i++)\r\n                counts[Character.toLowerCase(chars[i]) - &#39;a&#39;]++;\r\n            return counts;\r\n        }\r\n    \r\n    }\r\nThe **countLetters** method is the real hero in this program. This method counts and stores the frequency of each character in an array and returns the array to the calling method. \r\nThis program ignores the case and determines whether the two strings are anagrams","title":"Check for an anagram using only the string class in java","body":"<pre><code>public class Main {\n\n    static boolean isAnagram(String a, String b) {\n        // Complete the function\n        boolean flag = true;\n        if (a.length() != b.length())\n            return false;\n        char str1[] = a.toCharArray();\n        char str2[] = b.toCharArray();\n        int countstr1[] = countLetters(str1);\n        int countstr2[] = countLetters(str2);\n        for (int i = 0; i &lt; countstr1.length; i++) {\n            if (countstr1[i] != countstr2[i])\n                flag = false;\n        }\n\n        return flag;\n    }\n\n    public static void main(String[] args) {\n        String a = &quot;anagram&quot;;\n        String b = &quot;margana&quot;;\n        boolean ret = isAnagram(a, b);\n        System.out.println((ret) ? &quot;Anagrams&quot; : &quot;Not Anagrams&quot;);\n    }\n\n    /** Count the occurrences of each letter */\n    public static int[] countLetters(char[] chars) {\n        // Declare and create an array of 26 int\n        int[] counts = new int[26];\n        // For each lowercase letter in the array, count it\n        for (int i = 0; i &lt; chars.length; i++)\n            counts[Character.toLowerCase(chars[i]) - 'a']++;\n        return counts;\n    }\n\n}\n</code></pre>\n<p>The <strong>countLetters</strong> method is the real hero in this program. This method counts and stores the frequency of each character in an array and returns the array to the calling method.\nThis program ignores the case and determines whether the two strings are anagrams</p>\n"}],"owner":{"account_id":11911453,"reputation":11,"user_id":8716566,"display_name":"T Jones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1483,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46553705,"answer_count":3,"score":0,"last_activity_date":1662821726,"creation_date":1507065072,"question_id":46553489,"body_markdown":"I have an assignment to write a program that accepts 2 words and then returns whether they are an anagram of one another. Currently I am trying to loop through every letter of the first one, and check whether it matches with a letter in the second word. I will then compare the counter int with the total length of either word, which should be equal if they are anagrams.\r\n\r\nI have an error where currently I get an infinite loop of counting upwards if the words are anagrams, and have a count to the number of letters in the words ending in the program not closing if not.\r\n\r\nThe assignment states &quot;Use only the methods available in the String class. Do not use other Java library utilities&quot;, so I am unable to put the words into an array and use arrays.Sort.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class anagram {\r\n\t  public static void main (String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter two strings&quot;);\r\n\t\t\r\n\t\tString s1 = scanner.next();\r\n\t\tString s2 = scanner.next();\r\n\r\n\r\n\t\tint counter = 0;\r\n\r\n\t\tint number1 = 0;\r\n\t\tint number2 = 0;\r\n\r\n\t\tif(s1.length() != s2.length()) {\r\n\t\t\tSystem.out.println(&quot;The strings are not anagrams&quot;);\r\n\t\t}\telse {\r\n\r\n\t\t\r\n\t\t\tfor(int i = 0; i &lt; s1.length() ; i++) {\r\n\t\t\t\tfor(int j = 0; j &lt; s1.length() ; i++) {\r\n\r\n\t\t\t\t\t// number1 = i;\r\n\t\t\t\t\t// number2 = j;\r\n\r\n\t\t\t\t\tif(i == s1.length()){\r\n\t\t\t\t\t\tnumber1 = i - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(j == s2.length()){\r\n\t\t\t\t\t\tnumber2 = j - 1;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif(s1.charAt(number1) == s2.charAt(number2)) {\r\n\t\t\t\t\t\tcounter ++ ;\r\n\t\t\t\t\t\tSystem.out.println(counter);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tSystem.out.println(counter);\r\n\r\n\t\t}\r\n\r\n\t\tSystem.out.println(s1 + &quot; &quot; + s2 + &quot; &quot; + counter);\r\n\t\t\r\n\t}\r\n}","title":"Check for an anagram using only the string class in java","body":"<p>I have an assignment to write a program that accepts 2 words and then returns whether they are an anagram of one another. Currently I am trying to loop through every letter of the first one, and check whether it matches with a letter in the second word. I will then compare the counter int with the total length of either word, which should be equal if they are anagrams.</p>\n\n<p>I have an error where currently I get an infinite loop of counting upwards if the words are anagrams, and have a count to the number of letters in the words ending in the program not closing if not.</p>\n\n<p>The assignment states \"Use only the methods available in the String class. Do not use other Java library utilities\", so I am unable to put the words into an array and use arrays.Sort.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class anagram {\n  public static void main (String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(\"Enter two strings\");\n\n    String s1 = scanner.next();\n    String s2 = scanner.next();\n\n\n    int counter = 0;\n\n    int number1 = 0;\n    int number2 = 0;\n\n    if(s1.length() != s2.length()) {\n        System.out.println(\"The strings are not anagrams\");\n    }   else {\n\n\n        for(int i = 0; i &lt; s1.length() ; i++) {\n            for(int j = 0; j &lt; s1.length() ; i++) {\n\n                // number1 = i;\n                // number2 = j;\n\n                if(i == s1.length()){\n                    number1 = i - 1;\n                }\n                if(j == s2.length()){\n                    number2 = j - 1;\n                }\n\n\n                if(s1.charAt(number1) == s2.charAt(number2)) {\n                    counter ++ ;\n                    System.out.println(counter);\n                }\n\n            }\n\n        }\n        System.out.println(counter);\n\n    }\n\n    System.out.println(s1 + \" \" + s2 + \" \" + counter);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662821411,"creation_date":1662821411,"answer_id":73672762,"question_id":73672401,"body_markdown":"The problem is the lines where you encrypt the shared secret and the verify token:\r\n```java\r\nbyte[] encryptedSecret = encrypt(publicKeyBytes, Arrays.toString(secret.getEncoded()).getBytes(StandardCharsets.UTF_8), ALGORITHM);\r\n...\r\nbyte[] encryptedVerifyToken = encrypt(publicKeyBytes, Arrays.toString(verifyTokenBytes).getBytes(StandardCharsets.UTF_8), ALGORITHM);\r\n```\r\nThese should be:\r\n```java\r\nbyte[] encryptedSecret = encrypt(publicKeyBytes, secret.getEncoded(), ALGORITHM);\r\n...\r\nbyte[] encryptedVerifyToken = encrypt(publicKeyBytes, verifyTokenBytes, ALGORITHM);\r\n```\r\nYou want to encrypt the actual bytes of the shared secret / verify token, not the bytes of the string representation of the byte array.","title":"Java IllegalStateException: Protocol error from sending a Encryption Response packet to server","body":"<p>The problem is the lines where you encrypt the shared secret and the verify token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] encryptedSecret = encrypt(publicKeyBytes, Arrays.toString(secret.getEncoded()).getBytes(StandardCharsets.UTF_8), ALGORITHM);\n...\nbyte[] encryptedVerifyToken = encrypt(publicKeyBytes, Arrays.toString(verifyTokenBytes).getBytes(StandardCharsets.UTF_8), ALGORITHM);\n</code></pre>\n<p>These should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] encryptedSecret = encrypt(publicKeyBytes, secret.getEncoded(), ALGORITHM);\n...\nbyte[] encryptedVerifyToken = encrypt(publicKeyBytes, verifyTokenBytes, ALGORITHM);\n</code></pre>\n<p>You want to encrypt the actual bytes of the shared secret / verify token, not the bytes of the string representation of the byte array.</p>\n"}],"owner":{"account_id":26299240,"reputation":15,"user_id":19964959,"display_name":"EnderPoint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73672762,"answer_count":1,"score":0,"last_activity_date":1662821411,"creation_date":1662818484,"question_id":73672401,"body_markdown":"I am trying to make a java program to be able to login to a minecraft server.\r\nFrom [this][1] and help of some other related posts like [this][2] I have been able to deal with the [Handshake][3], [Login Start][4] and Encryption Request packets. The problem is in the [Encryption Response][5] packet, I managed to generate and encrypt the shared secret and VerifyToken with the server&#39;s public key which have to be sent in this packet and send it; but instead of the server responding with [Login Success][6], it gives a [Disconnect][7] packet with the error:\r\n\r\n&gt; {&quot;translate&quot;:&quot;disconnect.genericReason&quot;,&quot;with&quot;:[&quot;Internal Exception: java.lang.IllegalStateException: Protocol error&quot;]}\r\n\r\nhere is my code related to Encryption Response: \r\n```java\r\nSystem.out.println(&quot;Proceeding with Encryption Response...&quot;);\r\n        byte[] encryptionResponse = encryptionResponse(encryptedSecret.length, encryptedSecret,\r\n                encryptedVerifyToken.length, encryptedVerifyToken);\r\n        // C-&gt;S Encryption Response\r\n        writeVarInt(output, encryptionResponse.length);\r\n        output.write(encryptionResponse);\r\n\r\n\r\n        System.out.println(&quot;Response length: &quot; + encryptionResponse.length + &quot; Response: &quot; + Arrays.toString(encryptionResponse));\r\n        System.out.println(&quot;Done!&quot;);\r\n```\r\n\r\n```java\r\npublic static byte [] encryptionResponse(int secretLen, byte[] secret, int tokenLen, byte[] token) throws IOException {\r\n        ByteArrayOutputStream buffers = new ByteArrayOutputStream();\r\n\r\n        DataOutputStream response = new DataOutputStream(buffers);\r\n\r\n        System.out.println(secretLen + &quot; &quot; + tokenLen);\r\n        System.out.println(&quot;Secret: &quot; + Arrays.toString(secret));\r\n        System.out.println(&quot;Token: &quot; + Arrays.toString(token));\r\n\r\n\r\n        response.writeByte(0x01); //packet id for Encryption Response\r\n\r\n        writeVarInt(response, secretLen); //secret length\r\n        for (byte b : secret){ // send secret\r\n            response.writeByte(b);\r\n        }\r\n\r\n        response.writeBoolean(true); // we have the verifyToken\r\n        writeVarInt(response, tokenLen); // send the length of token\r\n        for (byte b : token){ // send the token\r\n            response.writeByte(b);\r\n        }\r\n\r\n        return buffers.toByteArray();\r\n    }\r\n```\r\n\r\nThis is the things that get printed to the console(or log or whatever):\r\n\r\n&gt; Proceeding with Encryption Response...\r\n\r\n&gt; 128 128\r\n\r\n&gt; Secret: [2, 105, 39, 117, -19, 27, -103, -102, -126, 58, 31, -75, 48, 26, -4, 116, 60, 52, 119, -37, -102, 127, 120, -21, 66, 72, 12, 127, -122, -27, -67, 53, -98, -23, -79, 28, 41, 10, 105, 45, 80, 14, -117, -4, 121, -82, 79, -57, 109, 31, 55, -36, -122, -78, -17, 33, -101, 67, -103, -103, -7, -99, -113, -86, -90, -1, 11, -75, -57, -90, -17, 97, 56, 39, 49, -107, -40, 119, 28, 52, -23, 75, -115, -9, 45, -117, -24, -49, -33, 19, -91, -45, 62, 119, 32, 52, -117, -121, -82, -44, -74, -17, -58, 54, 123, -114, 65, -75, 114, 62, -8, -6, 11, -35, -113, 64, 18, 33, -108, -62, -72, -119, -55, 96, 110, -75, 81, -84]\r\n\r\n&gt; Token: [47, 114, -1, 115, -95, -35, 90, -27, -117, 92, 13, -78, -43, -96, 71, 112, 56, 34, 27, 127, 1, -22, -32, 123, 32, 88, -38, 28, -92, 24, -106, 57, 97, -25, -2, 87, 39, -57, -67, 48, -126, 113, -44, -31, 79, -72, 17, -97, 62, 90, -123, -117, 119, 37, 88, -116, 63, 84, -100, -92, 71, -88, 102, 55, 24, 100, -69, -115, 30, 27, -41, 123, -115, 67, 18, -110, -23, -71, 84, 38, -114, -32, 72, 10, -110, 22, -89, 24, -82, 110, 51, 46, 38, -112, 29, -65, -49, 83, 115, -70, 110, 32, -96, 35, -31, 7, -59, -71, -98, 22, 28, -108, -126, -83, 0, -18, 107, 125, -120, -50, -79, -44, -94, 111, -117, -53, 32, 51]\r\n\r\n&gt; Response length: 262. Response: [1, -128, 1, 2, 105, 39, 117, -19, 27, -103, -102, -126, 58, 31, -75, 48, 26, -4, 116, 60, 52, 119, -37, -102, 127, 120, -21, 66, 72, 12, 127, -122, -27, -67, 53, -98, -23, -79, 28, 41, 10, 105, 45, 80, 14, -117, -4, 121, -82, 79, -57, 109, 31, 55, -36, -122, -78, -17, 33, -101, 67, -103, -103, -7, -99, -113, -86, -90, -1, 11, -75, -57, -90, -17, 97, 56, 39, 49, -107, -40, 119, 28, 52, -23, 75, -115, -9, 45, -117, -24, -49, -33, 19, -91, -45, 62, 119, 32, 52, -117, -121, -82, -44, -74, -17, -58, 54, 123, -114, 65, -75, 114, 62, -8, -6, 11, -35, -113, 64, 18, 33, -108, -62, -72, -119, -55, 96, 110, -75, 81, -84, 1, -128, 1, 47, 114, -1, 115, -95, -35, 90, -27, -117, 92, 13, -78, -43, -96, 71, 112, 56, 34, 27, 127, 1, -22, -32, 123, 32, 88, -38, 28, -92, 24, -106, 57, 97, -25, -2, 87, 39, -57, -67, 48, -126, 113, -44, -31, 79, -72, 17, -97, 62, 90, -123, -117, 119, 37, 88, -116, 63, 84, -100, -92, 71, -88, 102, 55, 24, 100, -69, -115, 30, 27, -41, 123, -115, 67, 18, -110, -23, -71, 84, 38, -114, -32, 72, 10, -110, 22, -89, 24, -82, 110, 51, 46, 38, -112, 29, -65, -49, 83, 115, -70, 110, 32, -96, 35, -31, 7, -59, -71, -98, 22, 28, -108, -126, -83, 0, -18, 107, 125, -120, -50, -79, -44, -94, 111, -117, -53, 32, 51]\r\n\r\n&gt; Done!\r\n\r\nmore information on this can be found [here][1]\r\n\r\n[here][8] is all of the code of my program\r\n\r\n\r\n  [1]: https://wiki.vg/Protocol_Encryption\r\n  [2]: https://stackoverflow.com/questions/30768091/java-sending-handshake-packets-to-minecraft-server\r\n  [3]: https://wiki.vg/Protocol#Encryption_Request\r\n  [4]: https://wiki.vg/Protocol#Login_Start\r\n  [5]: https://wiki.vg/Protocol#Encryption_Response\r\n  [6]: https://wiki.vg/Protocol#Login_Success\r\n  [7]: https://wiki.vg/Protocol#Disconnect_.28login.29\r\n  [8]: https://github.com/EnderPoint07/Fake-Minecraft-Client/blob/master/src/LoginToServer.java","title":"Java IllegalStateException: Protocol error from sending a Encryption Response packet to server","body":"<p>I am trying to make a java program to be able to login to a minecraft server.\nFrom <a href=\"https://wiki.vg/Protocol_Encryption\" rel=\"nofollow noreferrer\">this</a> and help of some other related posts like <a href=\"https://stackoverflow.com/questions/30768091/java-sending-handshake-packets-to-minecraft-server\">this</a> I have been able to deal with the <a href=\"https://wiki.vg/Protocol#Encryption_Request\" rel=\"nofollow noreferrer\">Handshake</a>, <a href=\"https://wiki.vg/Protocol#Login_Start\" rel=\"nofollow noreferrer\">Login Start</a> and Encryption Request packets. The problem is in the <a href=\"https://wiki.vg/Protocol#Encryption_Response\" rel=\"nofollow noreferrer\">Encryption Response</a> packet, I managed to generate and encrypt the shared secret and VerifyToken with the server's public key which have to be sent in this packet and send it; but instead of the server responding with <a href=\"https://wiki.vg/Protocol#Login_Success\" rel=\"nofollow noreferrer\">Login Success</a>, it gives a <a href=\"https://wiki.vg/Protocol#Disconnect_.28login.29\" rel=\"nofollow noreferrer\">Disconnect</a> packet with the error:</p>\n<blockquote>\n<p>{&quot;translate&quot;:&quot;disconnect.genericReason&quot;,&quot;with&quot;:[&quot;Internal Exception: java.lang.IllegalStateException: Protocol error&quot;]}</p>\n</blockquote>\n<p>here is my code related to Encryption Response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Proceeding with Encryption Response...&quot;);\n        byte[] encryptionResponse = encryptionResponse(encryptedSecret.length, encryptedSecret,\n                encryptedVerifyToken.length, encryptedVerifyToken);\n        // C-&gt;S Encryption Response\n        writeVarInt(output, encryptionResponse.length);\n        output.write(encryptionResponse);\n\n\n        System.out.println(&quot;Response length: &quot; + encryptionResponse.length + &quot; Response: &quot; + Arrays.toString(encryptionResponse));\n        System.out.println(&quot;Done!&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte [] encryptionResponse(int secretLen, byte[] secret, int tokenLen, byte[] token) throws IOException {\n        ByteArrayOutputStream buffers = new ByteArrayOutputStream();\n\n        DataOutputStream response = new DataOutputStream(buffers);\n\n        System.out.println(secretLen + &quot; &quot; + tokenLen);\n        System.out.println(&quot;Secret: &quot; + Arrays.toString(secret));\n        System.out.println(&quot;Token: &quot; + Arrays.toString(token));\n\n\n        response.writeByte(0x01); //packet id for Encryption Response\n\n        writeVarInt(response, secretLen); //secret length\n        for (byte b : secret){ // send secret\n            response.writeByte(b);\n        }\n\n        response.writeBoolean(true); // we have the verifyToken\n        writeVarInt(response, tokenLen); // send the length of token\n        for (byte b : token){ // send the token\n            response.writeByte(b);\n        }\n\n        return buffers.toByteArray();\n    }\n</code></pre>\n<p>This is the things that get printed to the console(or log or whatever):</p>\n<blockquote>\n<p>Proceeding with Encryption Response...</p>\n</blockquote>\n<blockquote>\n<p>128 128</p>\n</blockquote>\n<blockquote>\n<p>Secret: [2, 105, 39, 117, -19, 27, -103, -102, -126, 58, 31, -75, 48, 26, -4, 116, 60, 52, 119, -37, -102, 127, 120, -21, 66, 72, 12, 127, -122, -27, -67, 53, -98, -23, -79, 28, 41, 10, 105, 45, 80, 14, -117, -4, 121, -82, 79, -57, 109, 31, 55, -36, -122, -78, -17, 33, -101, 67, -103, -103, -7, -99, -113, -86, -90, -1, 11, -75, -57, -90, -17, 97, 56, 39, 49, -107, -40, 119, 28, 52, -23, 75, -115, -9, 45, -117, -24, -49, -33, 19, -91, -45, 62, 119, 32, 52, -117, -121, -82, -44, -74, -17, -58, 54, 123, -114, 65, -75, 114, 62, -8, -6, 11, -35, -113, 64, 18, 33, -108, -62, -72, -119, -55, 96, 110, -75, 81, -84]</p>\n</blockquote>\n<blockquote>\n<p>Token: [47, 114, -1, 115, -95, -35, 90, -27, -117, 92, 13, -78, -43, -96, 71, 112, 56, 34, 27, 127, 1, -22, -32, 123, 32, 88, -38, 28, -92, 24, -106, 57, 97, -25, -2, 87, 39, -57, -67, 48, -126, 113, -44, -31, 79, -72, 17, -97, 62, 90, -123, -117, 119, 37, 88, -116, 63, 84, -100, -92, 71, -88, 102, 55, 24, 100, -69, -115, 30, 27, -41, 123, -115, 67, 18, -110, -23, -71, 84, 38, -114, -32, 72, 10, -110, 22, -89, 24, -82, 110, 51, 46, 38, -112, 29, -65, -49, 83, 115, -70, 110, 32, -96, 35, -31, 7, -59, -71, -98, 22, 28, -108, -126, -83, 0, -18, 107, 125, -120, -50, -79, -44, -94, 111, -117, -53, 32, 51]</p>\n</blockquote>\n<blockquote>\n<p>Response length: 262. Response: [1, -128, 1, 2, 105, 39, 117, -19, 27, -103, -102, -126, 58, 31, -75, 48, 26, -4, 116, 60, 52, 119, -37, -102, 127, 120, -21, 66, 72, 12, 127, -122, -27, -67, 53, -98, -23, -79, 28, 41, 10, 105, 45, 80, 14, -117, -4, 121, -82, 79, -57, 109, 31, 55, -36, -122, -78, -17, 33, -101, 67, -103, -103, -7, -99, -113, -86, -90, -1, 11, -75, -57, -90, -17, 97, 56, 39, 49, -107, -40, 119, 28, 52, -23, 75, -115, -9, 45, -117, -24, -49, -33, 19, -91, -45, 62, 119, 32, 52, -117, -121, -82, -44, -74, -17, -58, 54, 123, -114, 65, -75, 114, 62, -8, -6, 11, -35, -113, 64, 18, 33, -108, -62, -72, -119, -55, 96, 110, -75, 81, -84, 1, -128, 1, 47, 114, -1, 115, -95, -35, 90, -27, -117, 92, 13, -78, -43, -96, 71, 112, 56, 34, 27, 127, 1, -22, -32, 123, 32, 88, -38, 28, -92, 24, -106, 57, 97, -25, -2, 87, 39, -57, -67, 48, -126, 113, -44, -31, 79, -72, 17, -97, 62, 90, -123, -117, 119, 37, 88, -116, 63, 84, -100, -92, 71, -88, 102, 55, 24, 100, -69, -115, 30, 27, -41, 123, -115, 67, 18, -110, -23, -71, 84, 38, -114, -32, 72, 10, -110, 22, -89, 24, -82, 110, 51, 46, 38, -112, 29, -65, -49, 83, 115, -70, 110, 32, -96, 35, -31, 7, -59, -71, -98, 22, 28, -108, -126, -83, 0, -18, 107, 125, -120, -50, -79, -44, -94, 111, -117, -53, 32, 51]</p>\n</blockquote>\n<blockquote>\n<p>Done!</p>\n</blockquote>\n<p>more information on this can be found <a href=\"https://wiki.vg/Protocol_Encryption\" rel=\"nofollow noreferrer\">here</a></p>\n<p><a href=\"https://github.com/EnderPoint07/Fake-Minecraft-Client/blob/master/src/LoginToServer.java\" rel=\"nofollow noreferrer\">here</a> is all of the code of my program</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662799690,"post_id":73670347,"comment_id":130093276,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"score":0,"creation_date":1662806828,"post_id":73670347,"comment_id":130094465,"body_markdown":"The issue is the data returned by the onChildAdded getting duplicated(When I open the logs, I show that this function is executed multiple times with duplicated data, but in the console no duplicated data is found, so the data in the console is fine, but I don&#39;t want the onCHild added to executed multiple times duo to duplication of data )","body":"The issue is the data returned by the onChildAdded getting duplicated(When I open the logs, I show that this function is executed multiple times with duplicated data, but in the console no duplicated data is found, so the data in the console is fine, but I don&#39;t want the onCHild added to executed multiple times duo to duplication of data )"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662813599,"post_id":73670347,"comment_id":130095595,"body_markdown":"How is `board0DBRef` defined? Pease also edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"How is <code>board0DBRef</code> defined? Pease also edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"score":0,"creation_date":1662817189,"post_id":73670347,"comment_id":130096228,"body_markdown":"Dear Alex, I have added the JSON file in the issue description, thank you for your comment.","body":"Dear Alex, I have added the JSON file in the issue description, thank you for your comment."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662817268,"post_id":73670347,"comment_id":130096246,"body_markdown":"And how is `board0DBRef` defined?","body":"And how is <code>board0DBRef</code> defined?"},{"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"score":0,"creation_date":1662817700,"post_id":73670347,"comment_id":130096337,"body_markdown":"I have just created an object of the firebase DB, and made a child called &quot;Board 0&quot;, this will be held at the reference board0DBRef","body":"I have just created an object of the firebase DB, and made a child called &quot;Board 0&quot;, this will be held at the reference board0DBRef"},{"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"score":0,"creation_date":1662817723,"post_id":73670347,"comment_id":130096342,"body_markdown":"FirebaseDatabase firebaseDatabase;\n    DatabaseReference board0DBRef;\n   firebaseDatabase = FirebaseDatabase.getInstance(); \nboard0DBRef =  firebaseDatabase.getReference().child(&quot;Board0&quot;);","body":"FirebaseDatabase firebaseDatabase;     DatabaseReference board0DBRef;    firebaseDatabase = FirebaseDatabase.getInstance();  board0DBRef =  firebaseDatabase.getReference().child(&quot;Board0&quot;);"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1662821314,"post_id":73670347,"comment_id":130097060,"body_markdown":"I&#39;m not sure I understand the problem. Can you show the output from `println` that highlights the duplicate calls?","body":"I&#39;m not sure I understand the problem. Can you show the output from <code>println</code> that highlights the duplicate calls?"}],"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662820902,"creation_date":1662798320,"question_id":73670347,"body_markdown":"My Issue is that when A stores a java object using the setValue function, it will be reflected in the firebase console with no duplications, but unfortunatly onChildAdded will be executed multiple times according to the number of duplications it returns.\r\n\r\n\r\nImportant note: when my application is fired and I have added no value\r\nat this time, onChildAdded will return the exact &amp; non-duplicated values that have been stored in the firebase console. But as mentioned above, the issue happens when I store a new data object, where it will be stored in the firebase console without duplication, but the onChildAdded will create multiple duplications for this new stored object!\r\n\r\nThe code of the Data Model class that has been stored in the Firebase&#39;s console:\r\n\r\n```\r\npackage drawingModelData;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Pen {\r\n\r\n    private  ArrayList&lt;Float&gt; moveToCoordinates;\r\n    private  ArrayList &lt;Float&gt; lineToCoordinates;\r\n    private ArrayList&lt;Float&gt; quadToCoordinates;\r\n    private int strokeColor;\r\n    private int strokeWidth;\r\n\r\n    public Pen (){\r\n        moveToCoordinates = new ArrayList&lt;&gt;(2);\r\n        lineToCoordinates = new ArrayList&lt;&gt;(2);\r\n        quadToCoordinates = new ArrayList&lt;Float&gt;();\r\n    }\r\n\r\n    public void setMoveToCoordinates(float x, float y) {\r\n        moveToCoordinates.add(0f);\r\n        moveToCoordinates.add(0f);\r\n\r\n        moveToCoordinates.set(0, x);\r\n        moveToCoordinates.set(1, y);\r\n    }\r\n\r\n\r\n    public void setLineToCoordinates(float x, float y) {\r\n        lineToCoordinates.add(0f);\r\n        lineToCoordinates.add(0f);\r\n\r\n        lineToCoordinates.set(0, x);\r\n        lineToCoordinates.set(1, y);\r\n    }\r\n\r\n    public void setQuadToCoordinates(float x1, float y1, float x2, float y2) {\r\n        quadToCoordinates.add(x1);\r\n        quadToCoordinates.add(y1);\r\n        quadToCoordinates.add(x2);\r\n        quadToCoordinates.add(y2);\r\n    }\r\n\r\n    public void setStrokeColor(int strokeColor) {\r\n        this.strokeColor = strokeColor;\r\n    }\r\n\r\n    public void setStrokeWidth(int strokeWidth) {\r\n        this.strokeWidth = strokeWidth;\r\n    }\r\n\r\n    public int getStrokeColor() {\r\n        return strokeColor;\r\n    }\r\n\r\n    public int getStrokeWidth() {\r\n        return strokeWidth;\r\n    }\r\n\r\n    public ArrayList&lt;Float&gt; getMoveToCoordinates() {\r\n        return moveToCoordinates;\r\n    }\r\n\r\n    public ArrayList&lt;Float&gt; getLineToCoordinates() {\r\n        return lineToCoordinates;\r\n    }\r\n\r\n    public ArrayList&lt;Float&gt; getQuadToCoordinates() {\r\n        return quadToCoordinates;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe Firebases&#39;s Codes that been used to store and return the data:\r\n```\r\nboard0DBRef.addChildEventListener(new ChildEventListener() {\r\n    @Override\r\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n        System.out.println(&quot;Key: &quot; + snapshot.getKey() + &quot;, Value &quot; + snapshot.getValue());\r\n    }\r\n\r\n    @Override\r\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n    }\r\n});\r\n\r\nString boardItemForDB = board0DBRef.push().getKey();\r\n\r\nMap&lt;String, Object&gt; DATA  = new HashMap&lt;String, Object&gt;();\r\n\r\nDATA.put( &quot;a&quot;, pen.getQuadToCoordinates());\r\nDATA.put(&quot;b&quot; ,pen.getLineToCoordinates());\r\nDATA.put(&quot;c&quot;, pen.getMoveToCoordinates());\r\n\r\nboard0DBRef.child(boardItemForDB).setValue(DATA);\r\n```\r\n\r\nWith:\r\n```\r\nFirebaseDatabase firebaseDatabase; \r\nDatabaseReference board0DBRef; \r\n\r\nfirebaseDatabase = FirebaseDatabase.getInstance(); \r\nboard0DBRef = firebaseDatabase.getReference().child(&quot;Board0&quot;);\r\n```\r\n\r\nAnd this is the JSON file exported from the real-time database console\r\n\r\n```\r\n{\r\n  &quot;Board0&quot;: {\r\n    &quot;-NBaQ1hsWEdQ8e8jfno0&quot;: {\r\n      &quot;a&quot;: [\r\n        287.40234375,\r\n        914.2578125,\r\n        285.8282165527344,\r\n        911.815185546875,\r\n        284.25408935546875,\r\n        909.37255859375,\r\n        282.2027282714844,\r\n        906.395263671875,\r\n        280.1513671875,\r\n        903.41796875,\r\n        276.78955078125,\r\n        898.291015625,\r\n        273.427734375,\r\n        893.1640625,\r\n        263.05816650390625,\r\n        875.205810546875,\r\n        252.68862915039062,\r\n        857.24755859375,\r\n        244.23464965820312,\r\n        836.911865234375,\r\n        235.78067016601562,\r\n        816.576171875,\r\n        231.94952392578125,\r\n        796.96484375,\r\n        228.1183624267578,\r\n        777.353515625,\r\n        227.5712432861328,\r\n        755.10546875,\r\n        227.0241241455078,\r\n        732.857421875,\r\n        228.2040557861328,\r\n        712.0361328125,\r\n        229.3839874267578,\r\n        691.21484375,\r\n        232.53750610351562,\r\n        669.8369140625,\r\n        235.69100952148438,\r\n        648.458984375,\r\n        241.21624755859375,\r\n        627.6552734375,\r\n        246.7415008544922,\r\n        606.8515625,\r\n        253.85009765625,\r\n        585.7490234375,\r\n        260.95867919921875,\r\n        564.646484375,\r\n        270.43902587890625,\r\n        545.890625,\r\n        279.9193420410156,\r\n        527.134765625,\r\n        291.63824462890625,\r\n        506.9345703125,\r\n        303.35711669921875,\r\n        486.734375,\r\n        319.550537109375,\r\n        467.6796875,\r\n        335.74395751953125,\r\n        448.625,\r\n        351.7040100097656,\r\n        431.328125,\r\n        367.6640625,\r\n        414.03125,\r\n        383.87725830078125,\r\n        400.537109375,\r\n        400.0904235839844,\r\n        387.04296875,\r\n        414.1638488769531,\r\n        376.61773681640625,\r\n        428.2372741699219,\r\n        366.1925048828125,\r\n        442.07720947265625,\r\n        358.2266845703125,\r\n        455.91717529296875,\r\n        350.2608642578125,\r\n        470.58245849609375,\r\n        344.24908447265625,\r\n        485.24774169921875,\r\n        338.2373046875,\r\n        502.2078552246094,\r\n        333.6962890625,\r\n        519.16796875,\r\n        329.1552734375,\r\n        537.0115966796875,\r\n        326.99169921875,\r\n        554.8552856445312,\r\n        324.828125,\r\n        573.3057250976562,\r\n        324.23046875,\r\n        591.7561645507812,\r\n        323.6328125,\r\n        609.4300537109375,\r\n        325.9619140625,\r\n        627.10400390625,\r\n        328.291015625,\r\n        643.134521484375,\r\n        333.2373046875,\r\n        659.1649780273438,\r\n        338.18359375,\r\n        672.086669921875,\r\n        344.4005432128906,\r\n        685.00830078125,\r\n        350.61749267578125,\r\n        695.598388671875,\r\n        357.0929260253906,\r\n        706.1884765625,\r\n        363.568359375,\r\n        716.1141357421875,\r\n        372.1502990722656,\r\n        726.0397338867188,\r\n        380.73223876953125,\r\n        733.9068603515625,\r\n        391.54205322265625,\r\n        741.77392578125,\r\n        402.35186767578125,\r\n        747.01904296875,\r\n        415.7406005859375,\r\n        752.26416015625,\r\n        429.12933349609375,\r\n        754.2264404296875,\r\n        446.02850341796875,\r\n        756.1887817382812,\r\n        462.92767333984375,\r\n        754.3673095703125,\r\n        480.7870788574219,\r\n        752.5458984375,\r\n        498.646484375,\r\n        744.2771606445312,\r\n        519.4296875,\r\n        736.0084228515625,\r\n        540.212890625,\r\n        724.942138671875,\r\n        563.345703125,\r\n        713.8757934570312,\r\n        586.478515625,\r\n        700.701416015625,\r\n        610.2060546875,\r\n        687.5270385742188,\r\n        633.93359375,\r\n        673.2900390625,\r\n        657.95703125,\r\n        659.0531005859375,\r\n        681.98046875,\r\n        644.9493408203125,\r\n        706.009765625,\r\n        630.8455200195312,\r\n        730.0390625,\r\n        616.2130126953125,\r\n        754.642578125,\r\n        601.58056640625,\r\n        779.24609375,\r\n        587.6033325195312,\r\n        803.85546875,\r\n        573.6260986328125,\r\n        828.46484375,\r\n        561.6184692382812,\r\n        853.6572265625,\r\n        549.61083984375,\r\n        878.849609375,\r\n        539.8404541015625,\r\n        901.712890625,\r\n        530.0701293945312,\r\n        924.576171875,\r\n        523.724853515625,\r\n        946.5576171875,\r\n        517.3795776367188,\r\n        968.5390625,\r\n        514.0665283203125,\r\n        988.7568359375,\r\n        510.7535095214844,\r\n        1008.974609375,\r\n        510.87347412109375,\r\n        1027.443359375,\r\n        510.99346923828125,\r\n        1045.912109375,\r\n        514.531982421875,\r\n        1063.783203125,\r\n        518.0704345703125,\r\n        1081.654296875,\r\n        524.076904296875,\r\n        1097.08642578125,\r\n        530.0833740234375,\r\n        1112.5184326171875,\r\n        539.637939453125,\r\n        1127.494140625,\r\n        549.1925048828125,\r\n        1142.4698486328125,\r\n        561.935302734375,\r\n        1155.6396484375,\r\n        574.6781616210938,\r\n        1168.8095703125,\r\n        592.721923828125,\r\n        1175.864013671875,\r\n        610.765625,\r\n        1182.91845703125,\r\n        624.5576171875,\r\n        1182.474853515625\r\n      ],\r\n      &quot;b&quot;: [\r\n        638.349609375,\r\n        1182.03125\r\n      ],\r\n      &quot;c&quot;: [\r\n        287.40234375,\r\n        914.2578125\r\n      ]\r\n    },\r\n    &quot;-NBaQO22Ehat0ALjMWjM&quot;: {\r\n      &quot;a&quot;: [\r\n        462.744140625,\r\n        313.0859375,\r\n        461.35986328125,\r\n        318.212890625,\r\n        459.9755859375,\r\n        323.33984375,\r\n        459.0217590332031,\r\n        335.429931640625,\r\n        458.06793212890625,\r\n        347.52001953125,\r\n        457.765380859375,\r\n        377.057861328125,\r\n        457.4627990722656,\r\n        406.595703125,\r\n        460.219482421875,\r\n        430.9150390625,\r\n        462.9761657714844,\r\n        455.234375,\r\n        466.402587890625,\r\n        476.919921875,\r\n        469.8290100097656,\r\n        498.60546875,\r\n        473.2528076171875,\r\n        520.578125,\r\n        476.67657470703125,\r\n        542.55078125,\r\n        479.7127685546875,\r\n        565.396484375,\r\n        482.7489318847656,\r\n        588.2421875,\r\n        486.1727294921875,\r\n        611.9638671875,\r\n        489.59649658203125,\r\n        635.685546875,\r\n        493.16131591796875,\r\n        659.7177734375,\r\n        496.7261657714844,\r\n        683.75,\r\n        500.152587890625,\r\n        705.734375,\r\n        503.5790100097656,\r\n        727.71875,\r\n        505.56048583984375,\r\n        746.48046875,\r\n        507.5419921875,\r\n        765.2421875,\r\n        507.82147216796875,\r\n        782.5390625,\r\n        508.1009826660156,\r\n        799.8359375,\r\n        507.18707275390625,\r\n        814.2700805664062,\r\n        506.273193359375,\r\n        828.7042236328125,\r\n        507.20489501953125,\r\n        840.8909301757812,\r\n        508.1366271972656,\r\n        853.07763671875,\r\n        509.2940979003906,\r\n        863.48193359375,\r\n        510.4515686035156,\r\n        873.88623046875,\r\n        511.78076171875,\r\n        882.4845581054688,\r\n        513.1099853515625,\r\n        891.0828857421875,\r\n        514.0345458984375,\r\n        897.1476440429688,\r\n        514.9590454101562,\r\n        903.21240234375,\r\n        515.482421875,\r\n        906.684326171875\r\n      ],\r\n      &quot;b&quot;: [\r\n        516.005859375,\r\n        910.15625\r\n      ],\r\n      &quot;c&quot;: [\r\n        462.744140625,\r\n        313.0859375\r\n      ]\r\n    },\r\n    &quot;-NBb9loplZIj60V5cN9o&quot;: {\r\n      &quot;a&quot;: [\r\n        286.875,\r\n        781.25,\r\n        285.38031005859375,\r\n        778.807373046875,\r\n        283.8856201171875,\r\n        776.36474609375,\r\n        279.40582275390625,\r\n        763.452880859375,\r\n        274.9260559082031,\r\n        750.541015625,\r\n        268.792724609375,\r\n        728.7763671875,\r\n        262.65936279296875,\r\n        707.01171875,\r\n        260.27447509765625,\r\n        688.853515625,\r\n        257.8895568847656,\r\n        670.6953125,\r\n        258.273193359375,\r\n        648.16015625,\r\n        258.6568298339844,\r\n        625.625,\r\n        263.25,\r\n        602.7587890625,\r\n        267.8431701660156,\r\n        579.892578125,\r\n        274.291259765625,\r\n        559.677734375,\r\n        280.7393493652344,\r\n        539.462890625,\r\n        288.5150146484375,\r\n        522.154296875,\r\n        296.29071044921875,\r\n        504.845703125,\r\n        304.5374755859375,\r\n        490.30426025390625,\r\n        312.7842102050781,\r\n        475.7628173828125,\r\n        321.53802490234375,\r\n        462.7079772949219,\r\n        330.2918395996094,\r\n        449.65313720703125,\r\n        341.31427001953125,\r\n        435.6225280761719,\r\n        352.33673095703125,\r\n        421.5919189453125,\r\n        366.1409912109375,\r\n        407.654052734375,\r\n        379.94525146484375,\r\n        393.7161865234375,\r\n        396.195068359375,\r\n        381.03851318359375,\r\n        412.44488525390625,\r\n        368.36083984375,\r\n        429.073974609375,\r\n        356.889404296875,\r\n        445.7030334472656,\r\n        345.41796875,\r\n        462.96563720703125,\r\n        336.9072265625,\r\n        480.22821044921875,\r\n        328.396484375,\r\n        498.4242248535156,\r\n        322.2353515625,\r\n        516.6202392578125,\r\n        316.07421875,\r\n        534.6790771484375,\r\n        312.833984375,\r\n        552.7379760742188,\r\n        309.59375,\r\n        569.884521484375,\r\n        309.2861328125,\r\n        587.0311279296875,\r\n        308.978515625,\r\n        602.824951171875,\r\n        311.5929870605469,\r\n        618.6187744140625,\r\n        314.20745849609375,\r\n        631.9264526367188,\r\n        319.0470886230469,\r\n        645.234130859375,\r\n        323.88671875,\r\n        656.0743408203125,\r\n        331.1795654296875,\r\n        666.91455078125,\r\n        338.472412109375,\r\n        676.9518432617188,\r\n        346.9519348144531,\r\n        686.9891357421875,\r\n        355.43145751953125,\r\n        696.461181640625,\r\n        365.9828186035156,\r\n        705.9332275390625,\r\n        376.5341796875,\r\n        714.7192993164062,\r\n        390.51422119140625,\r\n        723.50537109375,\r\n        404.4942626953125,\r\n        730.869140625,\r\n        419.087890625,\r\n        738.2328491210938,\r\n        433.6815185546875,\r\n        743.1556396484375,\r\n        449.69677734375,\r\n        748.078369140625,\r\n        465.7120361328125,\r\n        750.9462890625,\r\n        483.06402587890625,\r\n        753.8141479492188,\r\n        500.416015625,\r\n        755.2696533203125,\r\n        517.701171875,\r\n        756.72509765625,\r\n        534.986328125,\r\n        755.9486083984375,\r\n        553.431640625,\r\n        755.1720581054688,\r\n        571.876953125,\r\n        752.6737670898438,\r\n        590.9169921875,\r\n        750.1754760742188,\r\n        609.95703125,\r\n        746.360107421875,\r\n        630.4619140625,\r\n        742.5447998046875,\r\n        650.966796875,\r\n        737.1474609375,\r\n        672.0517578125,\r\n        731.7501220703125,\r\n        693.13671875,\r\n        725.16357421875,\r\n        715.40234375,\r\n        718.5770263671875,\r\n        737.66796875,\r\n        710.6748046875,\r\n        761.1025390625,\r\n        702.7725830078125,\r\n        784.537109375,\r\n        694.2032470703125,\r\n        808.5546875,\r\n        685.6339111328125,\r\n        832.572265625,\r\n        676.80224609375,\r\n        856.595703125,\r\n        667.9705200195312,\r\n        880.619140625,\r\n        659.66357421875,\r\n        905.22265625,\r\n        651.3565673828125,\r\n        929.826171875,\r\n        642.7832641601562,\r\n        955.0185546875,\r\n        634.2099609375,\r\n        980.2109375,\r\n        626.5582275390625,\r\n        1005.412109375,\r\n        618.9064331054688,\r\n        1030.61328125,\r\n        613.62109375,\r\n        1055.8056640625,\r\n        608.3358154296875,\r\n        1080.998046875,\r\n        603.7189331054688,\r\n        1104.4443359375,\r\n        599.10205078125,\r\n        1127.890625,\r\n        598.0302124023438,\r\n        1149.5849609375,\r\n        596.9583740234375,\r\n        1171.279296875,\r\n        597.8680419921875,\r\n        1190.9169921875,\r\n        598.7777099609375,\r\n        1210.5546875,\r\n        602.5545654296875,\r\n        1226.28271484375,\r\n        606.3314208984375,\r\n        1242.0106201171875,\r\n        613.6282348632812,\r\n        1255.324951171875,\r\n        620.925048828125,\r\n        1268.639404296875,\r\n        630.5732421875,\r\n        1279.55419921875,\r\n        640.221435546875,\r\n        1290.468994140625,\r\n        652.9228515625,\r\n        1299.1455078125,\r\n        665.6243286132812,\r\n        1307.8218994140625,\r\n        682.8577270507812,\r\n        1313.30517578125,\r\n        700.0911254882812,\r\n        1318.7884521484375,\r\n        718.96337890625,\r\n        1320.426513671875,\r\n        737.8356323242188,\r\n        1322.064453125,\r\n        756.2913818359375,\r\n        1320.0341796875,\r\n        774.7470703125,\r\n        1318.00390625,\r\n        794.647705078125,\r\n        1310.416015625,\r\n        814.54833984375,\r\n        1302.828125,\r\n        833.2782592773438,\r\n        1290.248046875,\r\n        852.0081787109375,\r\n        1277.66796875,\r\n        868.888427734375,\r\n        1261.2763671875,\r\n        885.7687377929688,\r\n        1244.884765625,\r\n        899.1092529296875,\r\n        1228.7744140625,\r\n        912.44970703125,\r\n        1212.6640625,\r\n        920.2583618164062,\r\n        1196.55078125,\r\n        928.0670166015625,\r\n        1180.4375,\r\n        931.6397705078125,\r\n        1164.6142578125,\r\n        935.2125244140625,\r\n        1148.791015625,\r\n        933.9205322265625,\r\n        1133.263671875,\r\n        932.6285400390625,\r\n        1117.736328125,\r\n        928.1593017578125,\r\n        1101.6259765625,\r\n        923.6900634765625,\r\n        1085.515625,\r\n        916.7364501953125,\r\n        1070.322021484375,\r\n        909.7827758789062,\r\n        1055.1285400390625,\r\n        901.1302490234375,\r\n        1040.73046875,\r\n        892.4777221679688,\r\n        1026.332275390625,\r\n        880.4939575195312,\r\n        1014.0601196289062,\r\n        868.5101928710938,\r\n        1001.7879638671875,\r\n        854.4459228515625,\r\n        991.6820068359375,\r\n        840.3817138671875,\r\n        981.5760498046875,\r\n        821.6927490234375,\r\n        973.5603637695312,\r\n        803.0037841796875,\r\n        965.544677734375,\r\n        782.0819091796875,\r\n        960.7225341796875,\r\n        761.1600341796875,\r\n        955.900390625,\r\n        738.4935302734375,\r\n        953.2548828125,\r\n        715.8269653320312,\r\n        950.609375,\r\n        693.4188232421875,\r\n        949.138671875,\r\n        671.0106201171875,\r\n        947.66796875,\r\n        648.3309326171875,\r\n        947.0791015625,\r\n        625.6511840820312,\r\n        946.490234375,\r\n        605.07421875,\r\n        945.6142578125,\r\n        584.4972534179688,\r\n        944.73828125,\r\n        567.0791015625,\r\n        942.11328125,\r\n        549.6609497070312,\r\n        939.48828125,\r\n        535.9382934570312,\r\n        935.7993774414062,\r\n        522.2156372070312,\r\n        932.1104736328125,\r\n        511.81805419921875,\r\n        926.3345336914062,\r\n        501.4204406738281,\r\n        920.55859375,\r\n        493.36309814453125,\r\n        912.709228515625,\r\n        485.3057861328125,\r\n        904.85986328125,\r\n        480.9227600097656,\r\n        895.1206665039062,\r\n        476.53973388671875,\r\n        885.3814697265625,\r\n        477.9674072265625,\r\n        868.1383666992188,\r\n        479.39508056640625,\r\n        850.895263671875,\r\n        486.45751953125,\r\n        830.8206787109375,\r\n        493.5199279785156,\r\n        810.74609375,\r\n        502.87103271484375,\r\n        790.82421875,\r\n        512.22216796875,\r\n        770.90234375,\r\n        522.894287109375,\r\n        750.1015625\r\n      ],\r\n      &quot;b&quot;: [\r\n        533.56640625,\r\n        729.30078125\r\n      ],\r\n      &quot;c&quot;: [\r\n        286.875,\r\n        781.25\r\n      ]\r\n    },\r\n    &quot;-NBbWVa2cPI6Di4pTGgd&quot;: {\r\n      &quot;a&quot;: [\r\n        228.8671875,\r\n        1125.78125,\r\n        226.8626251220703,\r\n        1122.459716796875,\r\n        224.85806274414062,\r\n        1119.13818359375,\r\n        224.1599884033203,\r\n        1116.453857421875,\r\n        223.4619140625,\r\n        1113.76953125,\r\n        228.27293395996094,\r\n        1102.779541015625,\r\n        233.08395385742188,\r\n        1091.78955078125,\r\n        271.62847900390625,\r\n        1045.445556640625,\r\n        310.17303466796875,\r\n        999.1015625,\r\n        367.5770263671875,\r\n        946.6748046875,\r\n        424.9810485839844,\r\n        894.248046875,\r\n        473.43603515625,\r\n        856.091796875,\r\n        521.8909912109375,\r\n        817.935546875,\r\n        553.8743896484375,\r\n        795.2919921875,\r\n        585.8577880859375,\r\n        772.6484375,\r\n        600.555908203125,\r\n        764.0286865234375,\r\n        615.2540893554688,\r\n        755.408935546875,\r\n        618.8121337890625,\r\n        755.47998046875,\r\n        622.3702392578125,\r\n        755.5510864257812,\r\n        621.8701171875,\r\n        764.5994873046875,\r\n        621.3700561523438,\r\n        773.6478881835938,\r\n        609.2318115234375,\r\n        803.08251953125,\r\n        597.093505859375,\r\n        832.5172119140625,\r\n        579.4390258789062,\r\n        867.6394653320312,\r\n        561.7845458984375,\r\n        902.76171875,\r\n        548.6998291015625,\r\n        933.8515625,\r\n        535.6151123046875,\r\n        964.94140625,\r\n        535.14404296875,\r\n        981.8939819335938,\r\n        534.6729736328125,\r\n        998.8465576171875,\r\n        542.7091674804688,\r\n        1004.682373046875,\r\n        550.745361328125,\r\n        1010.5181884765625,\r\n        567.2940673828125,\r\n        1005.7432861328125,\r\n        583.8427124023438,\r\n        1000.9683837890625,\r\n        608.8720703125,\r\n        985.8201293945312,\r\n        633.9014892578125,\r\n        970.671875,\r\n        656.3201904296875,\r\n        953.685546875,\r\n        678.7388916015625,\r\n        936.69921875,\r\n        697.34619140625,\r\n        920.5712890625,\r\n        715.9534912109375,\r\n        904.443359375,\r\n        728.1439208984375,\r\n        897.5314331054688,\r\n        740.3344116210938,\r\n        890.6195068359375,\r\n        745.447265625,\r\n        889.2550659179688,\r\n        750.56005859375,\r\n        887.890625,\r\n        753.517333984375,\r\n        888.916015625,\r\n        756.474609375,\r\n        889.94140625,\r\n        761.6083984375,\r\n        893.1914672851562,\r\n        766.7421875,\r\n        896.4415283203125,\r\n        784.9820556640625,\r\n        897.8349609375,\r\n        803.2219848632812,\r\n        899.2283935546875,\r\n        844.113037109375,\r\n        892.4257202148438,\r\n        885.0040893554688,\r\n        885.623046875,\r\n        928.599609375,\r\n        878.01171875\r\n      ],\r\n      &quot;b&quot;: [\r\n        972.1951293945312,\r\n        870.400390625\r\n      ],\r\n      &quot;c&quot;: [\r\n        228.8671875,\r\n        1125.78125\r\n      ]\r\n    },\r\n    &quot;-NBbWVhTA8prRxo6Ncal&quot;: {\r\n      &quot;a&quot;: [\r\n        275.009765625,\r\n        1599.21875,\r\n        275.20355224609375,\r\n        1594.62646484375,\r\n        275.3973693847656,\r\n        1590.0341796875,\r\n        281.7419738769531,\r\n        1575.442138671875,\r\n        288.0865783691406,\r\n        1560.85009765625,\r\n        313.8519287109375,\r\n        1526.257080078125,\r\n        339.6172790527344,\r\n        1491.6640625,\r\n        373.3277282714844,\r\n        1474.900390625,\r\n        407.0381774902344,\r\n        1458.13671875,\r\n        437.6478271484375,\r\n        1456.8798828125,\r\n        468.25750732421875,\r\n        1455.623046875,\r\n        482.6756591796875,\r\n        1468.997314453125,\r\n        497.09381103515625,\r\n        1482.3714599609375,\r\n        506.9387512207031,\r\n        1498.676025390625,\r\n        516.78369140625,\r\n        1514.980712890625,\r\n        524.2693481445312,\r\n        1532.1124267578125,\r\n        531.7550048828125,\r\n        1549.244140625,\r\n        538.1934204101562,\r\n        1562.647216796875,\r\n        544.6318359375,\r\n        1576.0501708984375,\r\n        551.3106689453125,\r\n        1581.963623046875,\r\n        557.9894409179688,\r\n        1587.876953125,\r\n        568.3466796875,\r\n        1586.3785400390625,\r\n        578.7039794921875,\r\n        1584.880126953125,\r\n        594.7960815429688,\r\n        1573.2850341796875,\r\n        610.88818359375,\r\n        1561.68994140625,\r\n        628.3709716796875,\r\n        1551.53125,\r\n        645.8536987304688,\r\n        1541.37255859375,\r\n        663.8954467773438,\r\n        1544.482177734375,\r\n        681.9371948242188,\r\n        1547.591796875,\r\n        698.556396484375,\r\n        1560.4384765625,\r\n        715.1756591796875,\r\n        1573.28515625,\r\n        730.3394775390625,\r\n        1585.9033203125,\r\n        745.5032348632812,\r\n        1598.521484375,\r\n        763.94580078125,\r\n        1604.421875,\r\n        782.3883056640625,\r\n        1610.322265625,\r\n        791.9754028320312,\r\n        1609.1650390625\r\n      ],\r\n      &quot;b&quot;: [\r\n        801.5625,\r\n        1608.0078125\r\n      ],\r\n      &quot;c&quot;: [\r\n        275.009765625,\r\n        1599.21875\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"onChildAdded returns duplicated data","body":"<p>My Issue is that when A stores a java object using the setValue function, it will be reflected in the firebase console with no duplications, but unfortunatly onChildAdded will be executed multiple times according to the number of duplications it returns.</p>\n<p>Important note: when my application is fired and I have added no value\nat this time, onChildAdded will return the exact &amp; non-duplicated values that have been stored in the firebase console. But as mentioned above, the issue happens when I store a new data object, where it will be stored in the firebase console without duplication, but the onChildAdded will create multiple duplications for this new stored object!</p>\n<p>The code of the Data Model class that has been stored in the Firebase's console:</p>\n<pre><code>package drawingModelData;\n\nimport java.util.ArrayList;\n\npublic class Pen {\n\n    private  ArrayList&lt;Float&gt; moveToCoordinates;\n    private  ArrayList &lt;Float&gt; lineToCoordinates;\n    private ArrayList&lt;Float&gt; quadToCoordinates;\n    private int strokeColor;\n    private int strokeWidth;\n\n    public Pen (){\n        moveToCoordinates = new ArrayList&lt;&gt;(2);\n        lineToCoordinates = new ArrayList&lt;&gt;(2);\n        quadToCoordinates = new ArrayList&lt;Float&gt;();\n    }\n\n    public void setMoveToCoordinates(float x, float y) {\n        moveToCoordinates.add(0f);\n        moveToCoordinates.add(0f);\n\n        moveToCoordinates.set(0, x);\n        moveToCoordinates.set(1, y);\n    }\n\n\n    public void setLineToCoordinates(float x, float y) {\n        lineToCoordinates.add(0f);\n        lineToCoordinates.add(0f);\n\n        lineToCoordinates.set(0, x);\n        lineToCoordinates.set(1, y);\n    }\n\n    public void setQuadToCoordinates(float x1, float y1, float x2, float y2) {\n        quadToCoordinates.add(x1);\n        quadToCoordinates.add(y1);\n        quadToCoordinates.add(x2);\n        quadToCoordinates.add(y2);\n    }\n\n    public void setStrokeColor(int strokeColor) {\n        this.strokeColor = strokeColor;\n    }\n\n    public void setStrokeWidth(int strokeWidth) {\n        this.strokeWidth = strokeWidth;\n    }\n\n    public int getStrokeColor() {\n        return strokeColor;\n    }\n\n    public int getStrokeWidth() {\n        return strokeWidth;\n    }\n\n    public ArrayList&lt;Float&gt; getMoveToCoordinates() {\n        return moveToCoordinates;\n    }\n\n    public ArrayList&lt;Float&gt; getLineToCoordinates() {\n        return lineToCoordinates;\n    }\n\n    public ArrayList&lt;Float&gt; getQuadToCoordinates() {\n        return quadToCoordinates;\n    }\n}\n\n</code></pre>\n<p>The Firebases's Codes that been used to store and return the data:</p>\n<pre><code>board0DBRef.addChildEventListener(new ChildEventListener() {\n    @Override\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n        System.out.println(&quot;Key: &quot; + snapshot.getKey() + &quot;, Value &quot; + snapshot.getValue());\n    }\n\n    @Override\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n    }\n\n    @Override\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n    }\n});\n\nString boardItemForDB = board0DBRef.push().getKey();\n\nMap&lt;String, Object&gt; DATA  = new HashMap&lt;String, Object&gt;();\n\nDATA.put( &quot;a&quot;, pen.getQuadToCoordinates());\nDATA.put(&quot;b&quot; ,pen.getLineToCoordinates());\nDATA.put(&quot;c&quot;, pen.getMoveToCoordinates());\n\nboard0DBRef.child(boardItemForDB).setValue(DATA);\n</code></pre>\n<p>With:</p>\n<pre><code>FirebaseDatabase firebaseDatabase; \nDatabaseReference board0DBRef; \n\nfirebaseDatabase = FirebaseDatabase.getInstance(); \nboard0DBRef = firebaseDatabase.getReference().child(&quot;Board0&quot;);\n</code></pre>\n<p>And this is the JSON file exported from the real-time database console</p>\n<pre><code>{\n  &quot;Board0&quot;: {\n    &quot;-NBaQ1hsWEdQ8e8jfno0&quot;: {\n      &quot;a&quot;: [\n        287.40234375,\n        914.2578125,\n        285.8282165527344,\n        911.815185546875,\n        284.25408935546875,\n        909.37255859375,\n        282.2027282714844,\n        906.395263671875,\n        280.1513671875,\n        903.41796875,\n        276.78955078125,\n        898.291015625,\n        273.427734375,\n        893.1640625,\n        263.05816650390625,\n        875.205810546875,\n        252.68862915039062,\n        857.24755859375,\n        244.23464965820312,\n        836.911865234375,\n        235.78067016601562,\n        816.576171875,\n        231.94952392578125,\n        796.96484375,\n        228.1183624267578,\n        777.353515625,\n        227.5712432861328,\n        755.10546875,\n        227.0241241455078,\n        732.857421875,\n        228.2040557861328,\n        712.0361328125,\n        229.3839874267578,\n        691.21484375,\n        232.53750610351562,\n        669.8369140625,\n        235.69100952148438,\n        648.458984375,\n        241.21624755859375,\n        627.6552734375,\n        246.7415008544922,\n        606.8515625,\n        253.85009765625,\n        585.7490234375,\n        260.95867919921875,\n        564.646484375,\n        270.43902587890625,\n        545.890625,\n        279.9193420410156,\n        527.134765625,\n        291.63824462890625,\n        506.9345703125,\n        303.35711669921875,\n        486.734375,\n        319.550537109375,\n        467.6796875,\n        335.74395751953125,\n        448.625,\n        351.7040100097656,\n        431.328125,\n        367.6640625,\n        414.03125,\n        383.87725830078125,\n        400.537109375,\n        400.0904235839844,\n        387.04296875,\n        414.1638488769531,\n        376.61773681640625,\n        428.2372741699219,\n        366.1925048828125,\n        442.07720947265625,\n        358.2266845703125,\n        455.91717529296875,\n        350.2608642578125,\n        470.58245849609375,\n        344.24908447265625,\n        485.24774169921875,\n        338.2373046875,\n        502.2078552246094,\n        333.6962890625,\n        519.16796875,\n        329.1552734375,\n        537.0115966796875,\n        326.99169921875,\n        554.8552856445312,\n        324.828125,\n        573.3057250976562,\n        324.23046875,\n        591.7561645507812,\n        323.6328125,\n        609.4300537109375,\n        325.9619140625,\n        627.10400390625,\n        328.291015625,\n        643.134521484375,\n        333.2373046875,\n        659.1649780273438,\n        338.18359375,\n        672.086669921875,\n        344.4005432128906,\n        685.00830078125,\n        350.61749267578125,\n        695.598388671875,\n        357.0929260253906,\n        706.1884765625,\n        363.568359375,\n        716.1141357421875,\n        372.1502990722656,\n        726.0397338867188,\n        380.73223876953125,\n        733.9068603515625,\n        391.54205322265625,\n        741.77392578125,\n        402.35186767578125,\n        747.01904296875,\n        415.7406005859375,\n        752.26416015625,\n        429.12933349609375,\n        754.2264404296875,\n        446.02850341796875,\n        756.1887817382812,\n        462.92767333984375,\n        754.3673095703125,\n        480.7870788574219,\n        752.5458984375,\n        498.646484375,\n        744.2771606445312,\n        519.4296875,\n        736.0084228515625,\n        540.212890625,\n        724.942138671875,\n        563.345703125,\n        713.8757934570312,\n        586.478515625,\n        700.701416015625,\n        610.2060546875,\n        687.5270385742188,\n        633.93359375,\n        673.2900390625,\n        657.95703125,\n        659.0531005859375,\n        681.98046875,\n        644.9493408203125,\n        706.009765625,\n        630.8455200195312,\n        730.0390625,\n        616.2130126953125,\n        754.642578125,\n        601.58056640625,\n        779.24609375,\n        587.6033325195312,\n        803.85546875,\n        573.6260986328125,\n        828.46484375,\n        561.6184692382812,\n        853.6572265625,\n        549.61083984375,\n        878.849609375,\n        539.8404541015625,\n        901.712890625,\n        530.0701293945312,\n        924.576171875,\n        523.724853515625,\n        946.5576171875,\n        517.3795776367188,\n        968.5390625,\n        514.0665283203125,\n        988.7568359375,\n        510.7535095214844,\n        1008.974609375,\n        510.87347412109375,\n        1027.443359375,\n        510.99346923828125,\n        1045.912109375,\n        514.531982421875,\n        1063.783203125,\n        518.0704345703125,\n        1081.654296875,\n        524.076904296875,\n        1097.08642578125,\n        530.0833740234375,\n        1112.5184326171875,\n        539.637939453125,\n        1127.494140625,\n        549.1925048828125,\n        1142.4698486328125,\n        561.935302734375,\n        1155.6396484375,\n        574.6781616210938,\n        1168.8095703125,\n        592.721923828125,\n        1175.864013671875,\n        610.765625,\n        1182.91845703125,\n        624.5576171875,\n        1182.474853515625\n      ],\n      &quot;b&quot;: [\n        638.349609375,\n        1182.03125\n      ],\n      &quot;c&quot;: [\n        287.40234375,\n        914.2578125\n      ]\n    },\n    &quot;-NBaQO22Ehat0ALjMWjM&quot;: {\n      &quot;a&quot;: [\n        462.744140625,\n        313.0859375,\n        461.35986328125,\n        318.212890625,\n        459.9755859375,\n        323.33984375,\n        459.0217590332031,\n        335.429931640625,\n        458.06793212890625,\n        347.52001953125,\n        457.765380859375,\n        377.057861328125,\n        457.4627990722656,\n        406.595703125,\n        460.219482421875,\n        430.9150390625,\n        462.9761657714844,\n        455.234375,\n        466.402587890625,\n        476.919921875,\n        469.8290100097656,\n        498.60546875,\n        473.2528076171875,\n        520.578125,\n        476.67657470703125,\n        542.55078125,\n        479.7127685546875,\n        565.396484375,\n        482.7489318847656,\n        588.2421875,\n        486.1727294921875,\n        611.9638671875,\n        489.59649658203125,\n        635.685546875,\n        493.16131591796875,\n        659.7177734375,\n        496.7261657714844,\n        683.75,\n        500.152587890625,\n        705.734375,\n        503.5790100097656,\n        727.71875,\n        505.56048583984375,\n        746.48046875,\n        507.5419921875,\n        765.2421875,\n        507.82147216796875,\n        782.5390625,\n        508.1009826660156,\n        799.8359375,\n        507.18707275390625,\n        814.2700805664062,\n        506.273193359375,\n        828.7042236328125,\n        507.20489501953125,\n        840.8909301757812,\n        508.1366271972656,\n        853.07763671875,\n        509.2940979003906,\n        863.48193359375,\n        510.4515686035156,\n        873.88623046875,\n        511.78076171875,\n        882.4845581054688,\n        513.1099853515625,\n        891.0828857421875,\n        514.0345458984375,\n        897.1476440429688,\n        514.9590454101562,\n        903.21240234375,\n        515.482421875,\n        906.684326171875\n      ],\n      &quot;b&quot;: [\n        516.005859375,\n        910.15625\n      ],\n      &quot;c&quot;: [\n        462.744140625,\n        313.0859375\n      ]\n    },\n    &quot;-NBb9loplZIj60V5cN9o&quot;: {\n      &quot;a&quot;: [\n        286.875,\n        781.25,\n        285.38031005859375,\n        778.807373046875,\n        283.8856201171875,\n        776.36474609375,\n        279.40582275390625,\n        763.452880859375,\n        274.9260559082031,\n        750.541015625,\n        268.792724609375,\n        728.7763671875,\n        262.65936279296875,\n        707.01171875,\n        260.27447509765625,\n        688.853515625,\n        257.8895568847656,\n        670.6953125,\n        258.273193359375,\n        648.16015625,\n        258.6568298339844,\n        625.625,\n        263.25,\n        602.7587890625,\n        267.8431701660156,\n        579.892578125,\n        274.291259765625,\n        559.677734375,\n        280.7393493652344,\n        539.462890625,\n        288.5150146484375,\n        522.154296875,\n        296.29071044921875,\n        504.845703125,\n        304.5374755859375,\n        490.30426025390625,\n        312.7842102050781,\n        475.7628173828125,\n        321.53802490234375,\n        462.7079772949219,\n        330.2918395996094,\n        449.65313720703125,\n        341.31427001953125,\n        435.6225280761719,\n        352.33673095703125,\n        421.5919189453125,\n        366.1409912109375,\n        407.654052734375,\n        379.94525146484375,\n        393.7161865234375,\n        396.195068359375,\n        381.03851318359375,\n        412.44488525390625,\n        368.36083984375,\n        429.073974609375,\n        356.889404296875,\n        445.7030334472656,\n        345.41796875,\n        462.96563720703125,\n        336.9072265625,\n        480.22821044921875,\n        328.396484375,\n        498.4242248535156,\n        322.2353515625,\n        516.6202392578125,\n        316.07421875,\n        534.6790771484375,\n        312.833984375,\n        552.7379760742188,\n        309.59375,\n        569.884521484375,\n        309.2861328125,\n        587.0311279296875,\n        308.978515625,\n        602.824951171875,\n        311.5929870605469,\n        618.6187744140625,\n        314.20745849609375,\n        631.9264526367188,\n        319.0470886230469,\n        645.234130859375,\n        323.88671875,\n        656.0743408203125,\n        331.1795654296875,\n        666.91455078125,\n        338.472412109375,\n        676.9518432617188,\n        346.9519348144531,\n        686.9891357421875,\n        355.43145751953125,\n        696.461181640625,\n        365.9828186035156,\n        705.9332275390625,\n        376.5341796875,\n        714.7192993164062,\n        390.51422119140625,\n        723.50537109375,\n        404.4942626953125,\n        730.869140625,\n        419.087890625,\n        738.2328491210938,\n        433.6815185546875,\n        743.1556396484375,\n        449.69677734375,\n        748.078369140625,\n        465.7120361328125,\n        750.9462890625,\n        483.06402587890625,\n        753.8141479492188,\n        500.416015625,\n        755.2696533203125,\n        517.701171875,\n        756.72509765625,\n        534.986328125,\n        755.9486083984375,\n        553.431640625,\n        755.1720581054688,\n        571.876953125,\n        752.6737670898438,\n        590.9169921875,\n        750.1754760742188,\n        609.95703125,\n        746.360107421875,\n        630.4619140625,\n        742.5447998046875,\n        650.966796875,\n        737.1474609375,\n        672.0517578125,\n        731.7501220703125,\n        693.13671875,\n        725.16357421875,\n        715.40234375,\n        718.5770263671875,\n        737.66796875,\n        710.6748046875,\n        761.1025390625,\n        702.7725830078125,\n        784.537109375,\n        694.2032470703125,\n        808.5546875,\n        685.6339111328125,\n        832.572265625,\n        676.80224609375,\n        856.595703125,\n        667.9705200195312,\n        880.619140625,\n        659.66357421875,\n        905.22265625,\n        651.3565673828125,\n        929.826171875,\n        642.7832641601562,\n        955.0185546875,\n        634.2099609375,\n        980.2109375,\n        626.5582275390625,\n        1005.412109375,\n        618.9064331054688,\n        1030.61328125,\n        613.62109375,\n        1055.8056640625,\n        608.3358154296875,\n        1080.998046875,\n        603.7189331054688,\n        1104.4443359375,\n        599.10205078125,\n        1127.890625,\n        598.0302124023438,\n        1149.5849609375,\n        596.9583740234375,\n        1171.279296875,\n        597.8680419921875,\n        1190.9169921875,\n        598.7777099609375,\n        1210.5546875,\n        602.5545654296875,\n        1226.28271484375,\n        606.3314208984375,\n        1242.0106201171875,\n        613.6282348632812,\n        1255.324951171875,\n        620.925048828125,\n        1268.639404296875,\n        630.5732421875,\n        1279.55419921875,\n        640.221435546875,\n        1290.468994140625,\n        652.9228515625,\n        1299.1455078125,\n        665.6243286132812,\n        1307.8218994140625,\n        682.8577270507812,\n        1313.30517578125,\n        700.0911254882812,\n        1318.7884521484375,\n        718.96337890625,\n        1320.426513671875,\n        737.8356323242188,\n        1322.064453125,\n        756.2913818359375,\n        1320.0341796875,\n        774.7470703125,\n        1318.00390625,\n        794.647705078125,\n        1310.416015625,\n        814.54833984375,\n        1302.828125,\n        833.2782592773438,\n        1290.248046875,\n        852.0081787109375,\n        1277.66796875,\n        868.888427734375,\n        1261.2763671875,\n        885.7687377929688,\n        1244.884765625,\n        899.1092529296875,\n        1228.7744140625,\n        912.44970703125,\n        1212.6640625,\n        920.2583618164062,\n        1196.55078125,\n        928.0670166015625,\n        1180.4375,\n        931.6397705078125,\n        1164.6142578125,\n        935.2125244140625,\n        1148.791015625,\n        933.9205322265625,\n        1133.263671875,\n        932.6285400390625,\n        1117.736328125,\n        928.1593017578125,\n        1101.6259765625,\n        923.6900634765625,\n        1085.515625,\n        916.7364501953125,\n        1070.322021484375,\n        909.7827758789062,\n        1055.1285400390625,\n        901.1302490234375,\n        1040.73046875,\n        892.4777221679688,\n        1026.332275390625,\n        880.4939575195312,\n        1014.0601196289062,\n        868.5101928710938,\n        1001.7879638671875,\n        854.4459228515625,\n        991.6820068359375,\n        840.3817138671875,\n        981.5760498046875,\n        821.6927490234375,\n        973.5603637695312,\n        803.0037841796875,\n        965.544677734375,\n        782.0819091796875,\n        960.7225341796875,\n        761.1600341796875,\n        955.900390625,\n        738.4935302734375,\n        953.2548828125,\n        715.8269653320312,\n        950.609375,\n        693.4188232421875,\n        949.138671875,\n        671.0106201171875,\n        947.66796875,\n        648.3309326171875,\n        947.0791015625,\n        625.6511840820312,\n        946.490234375,\n        605.07421875,\n        945.6142578125,\n        584.4972534179688,\n        944.73828125,\n        567.0791015625,\n        942.11328125,\n        549.6609497070312,\n        939.48828125,\n        535.9382934570312,\n        935.7993774414062,\n        522.2156372070312,\n        932.1104736328125,\n        511.81805419921875,\n        926.3345336914062,\n        501.4204406738281,\n        920.55859375,\n        493.36309814453125,\n        912.709228515625,\n        485.3057861328125,\n        904.85986328125,\n        480.9227600097656,\n        895.1206665039062,\n        476.53973388671875,\n        885.3814697265625,\n        477.9674072265625,\n        868.1383666992188,\n        479.39508056640625,\n        850.895263671875,\n        486.45751953125,\n        830.8206787109375,\n        493.5199279785156,\n        810.74609375,\n        502.87103271484375,\n        790.82421875,\n        512.22216796875,\n        770.90234375,\n        522.894287109375,\n        750.1015625\n      ],\n      &quot;b&quot;: [\n        533.56640625,\n        729.30078125\n      ],\n      &quot;c&quot;: [\n        286.875,\n        781.25\n      ]\n    },\n    &quot;-NBbWVa2cPI6Di4pTGgd&quot;: {\n      &quot;a&quot;: [\n        228.8671875,\n        1125.78125,\n        226.8626251220703,\n        1122.459716796875,\n        224.85806274414062,\n        1119.13818359375,\n        224.1599884033203,\n        1116.453857421875,\n        223.4619140625,\n        1113.76953125,\n        228.27293395996094,\n        1102.779541015625,\n        233.08395385742188,\n        1091.78955078125,\n        271.62847900390625,\n        1045.445556640625,\n        310.17303466796875,\n        999.1015625,\n        367.5770263671875,\n        946.6748046875,\n        424.9810485839844,\n        894.248046875,\n        473.43603515625,\n        856.091796875,\n        521.8909912109375,\n        817.935546875,\n        553.8743896484375,\n        795.2919921875,\n        585.8577880859375,\n        772.6484375,\n        600.555908203125,\n        764.0286865234375,\n        615.2540893554688,\n        755.408935546875,\n        618.8121337890625,\n        755.47998046875,\n        622.3702392578125,\n        755.5510864257812,\n        621.8701171875,\n        764.5994873046875,\n        621.3700561523438,\n        773.6478881835938,\n        609.2318115234375,\n        803.08251953125,\n        597.093505859375,\n        832.5172119140625,\n        579.4390258789062,\n        867.6394653320312,\n        561.7845458984375,\n        902.76171875,\n        548.6998291015625,\n        933.8515625,\n        535.6151123046875,\n        964.94140625,\n        535.14404296875,\n        981.8939819335938,\n        534.6729736328125,\n        998.8465576171875,\n        542.7091674804688,\n        1004.682373046875,\n        550.745361328125,\n        1010.5181884765625,\n        567.2940673828125,\n        1005.7432861328125,\n        583.8427124023438,\n        1000.9683837890625,\n        608.8720703125,\n        985.8201293945312,\n        633.9014892578125,\n        970.671875,\n        656.3201904296875,\n        953.685546875,\n        678.7388916015625,\n        936.69921875,\n        697.34619140625,\n        920.5712890625,\n        715.9534912109375,\n        904.443359375,\n        728.1439208984375,\n        897.5314331054688,\n        740.3344116210938,\n        890.6195068359375,\n        745.447265625,\n        889.2550659179688,\n        750.56005859375,\n        887.890625,\n        753.517333984375,\n        888.916015625,\n        756.474609375,\n        889.94140625,\n        761.6083984375,\n        893.1914672851562,\n        766.7421875,\n        896.4415283203125,\n        784.9820556640625,\n        897.8349609375,\n        803.2219848632812,\n        899.2283935546875,\n        844.113037109375,\n        892.4257202148438,\n        885.0040893554688,\n        885.623046875,\n        928.599609375,\n        878.01171875\n      ],\n      &quot;b&quot;: [\n        972.1951293945312,\n        870.400390625\n      ],\n      &quot;c&quot;: [\n        228.8671875,\n        1125.78125\n      ]\n    },\n    &quot;-NBbWVhTA8prRxo6Ncal&quot;: {\n      &quot;a&quot;: [\n        275.009765625,\n        1599.21875,\n        275.20355224609375,\n        1594.62646484375,\n        275.3973693847656,\n        1590.0341796875,\n        281.7419738769531,\n        1575.442138671875,\n        288.0865783691406,\n        1560.85009765625,\n        313.8519287109375,\n        1526.257080078125,\n        339.6172790527344,\n        1491.6640625,\n        373.3277282714844,\n        1474.900390625,\n        407.0381774902344,\n        1458.13671875,\n        437.6478271484375,\n        1456.8798828125,\n        468.25750732421875,\n        1455.623046875,\n        482.6756591796875,\n        1468.997314453125,\n        497.09381103515625,\n        1482.3714599609375,\n        506.9387512207031,\n        1498.676025390625,\n        516.78369140625,\n        1514.980712890625,\n        524.2693481445312,\n        1532.1124267578125,\n        531.7550048828125,\n        1549.244140625,\n        538.1934204101562,\n        1562.647216796875,\n        544.6318359375,\n        1576.0501708984375,\n        551.3106689453125,\n        1581.963623046875,\n        557.9894409179688,\n        1587.876953125,\n        568.3466796875,\n        1586.3785400390625,\n        578.7039794921875,\n        1584.880126953125,\n        594.7960815429688,\n        1573.2850341796875,\n        610.88818359375,\n        1561.68994140625,\n        628.3709716796875,\n        1551.53125,\n        645.8536987304688,\n        1541.37255859375,\n        663.8954467773438,\n        1544.482177734375,\n        681.9371948242188,\n        1547.591796875,\n        698.556396484375,\n        1560.4384765625,\n        715.1756591796875,\n        1573.28515625,\n        730.3394775390625,\n        1585.9033203125,\n        745.5032348632812,\n        1598.521484375,\n        763.94580078125,\n        1604.421875,\n        782.3883056640625,\n        1610.322265625,\n        791.9754028320312,\n        1609.1650390625\n      ],\n      &quot;b&quot;: [\n        801.5625,\n        1608.0078125\n      ],\n      &quot;c&quot;: [\n        275.009765625,\n        1599.21875\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","string","hashmap","compare","hashtable"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1662796772,"post_id":73670125,"comment_id":130092821,"body_markdown":"What is to be output when the second unique set is encountered....1? In your example, each substring set is unique so the output would be: `0,1,2,3,4` Or are you talking about unique to the Array of substrings?","body":"What is to be output when the second unique set is encountered....1? In your example, each substring set is unique so the output would be: <code>0,1,2,3,4</code> Or are you talking about unique to the Array of substrings?"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662797238,"post_id":73670125,"comment_id":130092892,"body_markdown":"Yes I think I was very unclear. Unique to the Array of substrings @DevilsHnd","body":"Yes I think I was very unclear. Unique to the Array of substrings @DevilsHnd"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662797940,"post_id":73670125,"comment_id":130092994,"body_markdown":"Hi&amp;Welcome to [so]! Please show what you tried with a hashmap.. Maybe some &quot;regex magician&quot; can `replace` that, but I think a (O(n)) loop + a hashmap (with n-character-keys, and index as value) is the way to go","body":"Hi&amp;Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! Please show what you tried with a hashmap.. Maybe some &quot;regex magician&quot; can <code>replace</code> that, but I think a (O(n)) loop + a hashmap (with n-character-keys, and index as value) is the way to go"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662798138,"post_id":73670125,"comment_id":130093023,"body_markdown":"@xerx593 there u go","body":"@xerx593 there u go"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662798193,"post_id":73670125,"comment_id":130093030,"body_markdown":"@user16320675 and...","body":"@user16320675 and..."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662798261,"post_id":73670125,"comment_id":130093047,"body_markdown":"Its not duplicate? Read and compare","body":"Its not duplicate? Read and compare"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662798355,"post_id":73670125,"comment_id":130093063,"body_markdown":"@user16320675 ok?","body":"@user16320675 ok?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1662810671,"creation_date":1662800815,"answer_id":73670590,"question_id":73670125,"body_markdown":"Please try mine:\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.HashMap;\r\nimport java.util.LinkedHashSet;\r\n\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    String originalString = &quot;AAAB&quot;; //little trickier input! ;)\r\n    int n = 1;\r\n\r\n    LinkedHashSet&lt;String&gt; uniques = new LinkedHashSet&lt;&gt;();\r\n    HashSet&lt;String&gt; dupes = new HashSet&lt;&gt;();\r\n    HashMap&lt;String, Integer&gt; str2Idx = new HashMap&lt;&gt;();\r\n\r\n    for (int cur = 0; cur &lt;= originalString.length() - n; cur++) {\r\n\r\n      String substr = originalString.substring(cur, cur + n);\r\n\r\n      if (uniques.contains(substr)) { // cleanup\r\n        uniques.remove(substr);\r\n        str2Idx.remove(substr);\r\n        dupes.add(substr);\r\n      } else if(!dupes.contains(substr)){ // store\r\n        uniques.add(substr);\r\n        str2Idx.put(substr, cur);\r\n      }\r\n    }\r\n    // when the input is &quot;external&quot;/unknown, we should also avoid:\r\n    if (uniques.isEmpty()) {\r\n      System.out.println(-1);\r\n    } else {\r\n      // Print(get the index of (first element of uniques))\r\n      System.out.println(str2Idx.get(uniques.iterator().next()));\r\n      // Prints &quot;3&quot; with the given input\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSo basically:\r\n\r\n-  a `LinkedHashSet` for unique substrings.\r\n\r\n   - &quot;Linked&quot;: preserves order\r\n   - and &quot;Hash&quot;: makes `contains` operation faster\r\n- a `HashMap&lt;String, Integer`, as the (variable) name suggest:\r\n   \r\n   - With (unique) substrings as keys\r\n   - and their index (of first occurrence) as value\r\n- an additional &quot;dupes&quot; storage, to avoid re-adding.\r\n\r\nPlease test it deeper. ","title":"Java using hashmap for searching string","body":"<p>Please try mine:</p>\n<pre><code>import java.util.HashSet;\nimport java.util.HashMap;\nimport java.util.LinkedHashSet;\n\n\npublic class Main {\n\n  public static void main(String[] args) {\n    String originalString = &quot;AAAB&quot;; //little trickier input! ;)\n    int n = 1;\n\n    LinkedHashSet&lt;String&gt; uniques = new LinkedHashSet&lt;&gt;();\n    HashSet&lt;String&gt; dupes = new HashSet&lt;&gt;();\n    HashMap&lt;String, Integer&gt; str2Idx = new HashMap&lt;&gt;();\n\n    for (int cur = 0; cur &lt;= originalString.length() - n; cur++) {\n\n      String substr = originalString.substring(cur, cur + n);\n\n      if (uniques.contains(substr)) { // cleanup\n        uniques.remove(substr);\n        str2Idx.remove(substr);\n        dupes.add(substr);\n      } else if(!dupes.contains(substr)){ // store\n        uniques.add(substr);\n        str2Idx.put(substr, cur);\n      }\n    }\n    // when the input is &quot;external&quot;/unknown, we should also avoid:\n    if (uniques.isEmpty()) {\n      System.out.println(-1);\n    } else {\n      // Print(get the index of (first element of uniques))\n      System.out.println(str2Idx.get(uniques.iterator().next()));\n      // Prints &quot;3&quot; with the given input\n    }\n  }\n}\n</code></pre>\n<p>So basically:</p>\n<ul>\n<li><p>a <code>LinkedHashSet</code> for unique substrings.</p>\n<ul>\n<li>&quot;Linked&quot;: preserves order</li>\n<li>and &quot;Hash&quot;: makes <code>contains</code> operation faster</li>\n</ul>\n</li>\n<li><p>a <code>HashMap&lt;String, Integer</code>, as the (variable) name suggest:</p>\n<ul>\n<li>With (unique) substrings as keys</li>\n<li>and their index (of first occurrence) as value</li>\n</ul>\n</li>\n<li><p>an additional &quot;dupes&quot; storage, to avoid re-adding.</p>\n</li>\n</ul>\n<p>Please test it deeper.</p>\n"}],"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"closed_date":1663104447,"accepted_answer_id":73670590,"answer_count":1,"score":-3,"last_activity_date":1662820370,"creation_date":1662795966,"question_id":73670125,"body_markdown":"Is it possible to compare characters from a **string** and print out the position of the first unique one? Is there maybe something from the String class that can help me do this? \r\n\r\nPseudocode:\r\n\r\n    enter code here\r\n    String s = &quot;ABC456&quot;;\r\n    int n = 2;\r\n   \r\n\r\n    ArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n    Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, \r\n    Long&gt;();\r\n    for(String val : str){\r\n        long count = counts2.getOrDefault(val, 0L);\r\n        counts2.put(val, ++count);\r\n    }\r\n    for(String key: counts2.keySet()){\r\n        if(counts2.get(key)==1){\r\n            System.out.println(list.indexOf(key));\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"Java using hashmap for searching string","body":"<p>Is it possible to compare characters from a <strong>string</strong> and print out the position of the first unique one? Is there maybe something from the String class that can help me do this?</p>\n<p>Pseudocode:</p>\n<pre><code>enter code here\nString s = &quot;ABC456&quot;;\nint n = 2;\n\n\nArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, \nLong&gt;();\nfor(String val : str){\n    long count = counts2.getOrDefault(val, 0L);\n    counts2.put(val, ++count);\n}\nfor(String key: counts2.keySet()){\n    if(counts2.get(key)==1){\n        System.out.println(list.indexOf(key));\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","kryo","ical4j"],"answers":[{"tags":[],"owner":{"account_id":54555,"reputation":711,"user_id":163223,"display_name":"fortuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662819439,"creation_date":1662819439,"answer_id":73672515,"question_id":73664819,"body_markdown":"If you are building your calendar object in code (i.e. as opposed to parsing a file), you may want to try without immutable properties.\r\n\r\nFor example, with CalScale you could try:\r\n\r\n    new CalScale(CalScale.VALUE_GREGORIAN)\r\n\r\nWhilst immutable properties don&#39;t have a default constructor, the mutable properties do.","title":"kryo serializer serializing iCal4j Calendar fails &quot;Class cannot be created (missing no-arg constructor)&quot;","body":"<p>If you are building your calendar object in code (i.e. as opposed to parsing a file), you may want to try without immutable properties.</p>\n<p>For example, with CalScale you could try:</p>\n<pre><code>new CalScale(CalScale.VALUE_GREGORIAN)\n</code></pre>\n<p>Whilst immutable properties don't have a default constructor, the mutable properties do.</p>\n"}],"owner":{"account_id":4612422,"reputation":129,"user_id":3740082,"accept_rate":55,"display_name":"user3740082"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662819439,"creation_date":1662739543,"question_id":73664819,"body_markdown":"I try to implement kryo into an existing project.\r\n\r\nMy project has a class &quot;Calender&quot;, with an iCal4j object:\r\n\r\n    public class Calendar implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate net.fortuna.ical4j.model.Calendar calendar;\r\n\tprivate VTimeZone timezone;\r\n\t\r\n\t\r\n\t/*\r\n\t * constructor\r\n\t */\r\n\tpublic Calendar() {\r\n\t\tsuper();\r\n\t\t\r\n\t\t//Create a TimeZone\r\n\t\tTimeZoneRegistry registry = TimeZoneRegistryFactory.getInstance().createRegistry();\r\n\t\tthis.timezone = registry.getTimeZone(&quot;Europe/Berlin&quot;).getVTimeZone();\r\n\t\t\r\n\t\t// Create a calendar\r\n\t\tthis.calendar = createCalendar();\r\n\t}\r\n\r\n\r\nkryo code:\r\n\r\n    Kryo kryo = new Kryo();\r\n\tkryo.setRegistrationRequired(false);\r\n\tkryo.setReferences(true);\r\n\r\n\r\n    kryo.register(DateTime.class, new JodaDateTimeSerializer());\r\n\tkryo.register(java.util.UUID.class, new UUIDSerializer());\r\n    kryo.register(net.fortuna.ical4j.model.component.VEvent.class, new Ical4jVEventSerializer());\r\n\tkryo.register(net.fortuna.ical4j.model.property.CalScale.class, new JavaSerializer());\r\n\r\n    EstateManager earth = (EstateManager) o;\r\n\r\n    Output output = new Output(new FileOutputStream(filekyro));\r\n\tkryo.writeClassAndObject(output, earth.getApplicants().get(0));\r\n\toutput.close();\r\n\r\nWhen a try to serialize i got the following error:\r\n\r\n    com.esotericsoftware.kryo.KryoException: Class cannot be created (missing no-arg \r\n    constructor): net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale\r\n    Serialization trace:\r\n    properties (net.fortuna.ical4j.model.Calendar)\r\n    calendar (core.Calendar)\r\n    calendar (core.EstateManager)\r\n    earth (core.Country)\r\n    country (core.City)\r\n    city (core.Applicant)\r\n\tat com.esotericsoftware.kryo.util.DefaultInstantiatorStrategy.newInstantiatorOf(DefaultInstantiatorStrategy.java:111)\r\n\tat com.esotericsoftware.kryo.Kryo.newInstantiator(Kryo.java:1190)\r\n\tat com.esotericsoftware.kryo.Kryo.newInstance(Kryo.java:1199)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.create(FieldSerializer.java:163)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:122)\r\n\r\n\r\nFrom my understanding kryo comes with a lot of standard serializers and tries to use one of them, often this field serializer, and I can either write my own serializer for ical4j or with all the drawbacks use the java serializer (which I did in the code above) and even that fails.\r\n\r\nI also tried to find a dedicated ical4j-serializer, found this https://github.com/ical4j/ical4j-serializer but in my opinion I can&#39;t use this with kryo, because it does not implement kryo interface, right?\r\n\r\nOr is there a problem, that I provide a serializer for &quot;net.fortuna.ical4j.model.property.CalScale&quot; but not for &quot;net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale&quot;? If so, how would I do that?\r\n\r\n    kryo.register(net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale, new JavaSerializer());\r\n\r\nfails also (cannot be resolved to a type)\r\n\r\nSo what are my options here or what am I missing?\r\nAny help well appreciated :-)\r\n","title":"kryo serializer serializing iCal4j Calendar fails &quot;Class cannot be created (missing no-arg constructor)&quot;","body":"<p>I try to implement kryo into an existing project.</p>\n<p>My project has a class &quot;Calender&quot;, with an iCal4j object:</p>\n<pre><code>public class Calendar implements Serializable{\n\nprivate static final long serialVersionUID = 1L;\n\nprivate net.fortuna.ical4j.model.Calendar calendar;\nprivate VTimeZone timezone;\n\n\n/*\n * constructor\n */\npublic Calendar() {\n    super();\n    \n    //Create a TimeZone\n    TimeZoneRegistry registry = TimeZoneRegistryFactory.getInstance().createRegistry();\n    this.timezone = registry.getTimeZone(&quot;Europe/Berlin&quot;).getVTimeZone();\n    \n    // Create a calendar\n    this.calendar = createCalendar();\n}\n</code></pre>\n<p>kryo code:</p>\n<pre><code>Kryo kryo = new Kryo();\nkryo.setRegistrationRequired(false);\nkryo.setReferences(true);\n\n\nkryo.register(DateTime.class, new JodaDateTimeSerializer());\nkryo.register(java.util.UUID.class, new UUIDSerializer());\nkryo.register(net.fortuna.ical4j.model.component.VEvent.class, new Ical4jVEventSerializer());\nkryo.register(net.fortuna.ical4j.model.property.CalScale.class, new JavaSerializer());\n\nEstateManager earth = (EstateManager) o;\n\nOutput output = new Output(new FileOutputStream(filekyro));\nkryo.writeClassAndObject(output, earth.getApplicants().get(0));\noutput.close();\n</code></pre>\n<p>When a try to serialize i got the following error:</p>\n<pre><code>com.esotericsoftware.kryo.KryoException: Class cannot be created (missing no-arg \nconstructor): net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale\nSerialization trace:\nproperties (net.fortuna.ical4j.model.Calendar)\ncalendar (core.Calendar)\ncalendar (core.EstateManager)\nearth (core.Country)\ncountry (core.City)\ncity (core.Applicant)\nat com.esotericsoftware.kryo.util.DefaultInstantiatorStrategy.newInstantiatorOf(DefaultInstantiatorStrategy.java:111)\nat com.esotericsoftware.kryo.Kryo.newInstantiator(Kryo.java:1190)\nat com.esotericsoftware.kryo.Kryo.newInstance(Kryo.java:1199)\nat com.esotericsoftware.kryo.serializers.FieldSerializer.create(FieldSerializer.java:163)\nat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:122)\n</code></pre>\n<p>From my understanding kryo comes with a lot of standard serializers and tries to use one of them, often this field serializer, and I can either write my own serializer for ical4j or with all the drawbacks use the java serializer (which I did in the code above) and even that fails.</p>\n<p>I also tried to find a dedicated ical4j-serializer, found this <a href=\"https://github.com/ical4j/ical4j-serializer\" rel=\"nofollow noreferrer\">https://github.com/ical4j/ical4j-serializer</a> but in my opinion I can't use this with kryo, because it does not implement kryo interface, right?</p>\n<p>Or is there a problem, that I provide a serializer for &quot;net.fortuna.ical4j.model.property.CalScale&quot; but not for &quot;net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale&quot;? If so, how would I do that?</p>\n<pre><code>kryo.register(net.fortuna.ical4j.model.property.CalScale$ImmutableCalScale, new JavaSerializer());\n</code></pre>\n<p>fails also (cannot be resolved to a type)</p>\n<p>So what are my options here or what am I missing?\nAny help well appreciated :-)</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":26186343,"reputation":70,"user_id":19868833,"display_name":"Oussama Abouzid"},"score":0,"creation_date":1662737789,"post_id":73664400,"comment_id":130082918,"body_markdown":"can you share with us the gradle.build file and folder structure of the project","body":"can you share with us the gradle.build file and folder structure of the project"},{"owner":{"account_id":26291972,"reputation":21,"user_id":19958864,"display_name":"Bartosz Bujnicki"},"score":0,"creation_date":1662741851,"post_id":73664400,"comment_id":130084180,"body_markdown":"I updated the question with build.gradle and project structure. Thanks","body":"I updated the question with build.gradle and project structure. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662771114,"creation_date":1662771114,"answer_id":73668599,"question_id":73664400,"body_markdown":"You have to add `mainClassName` for the spring boot application.\r\n\r\n```\r\nmainClassName = &#39;com.example.MySpringBootApplication&#39;\r\n```","title":"Gradle, Spring boot. Error: Could not find or load main class","body":"<p>You have to add <code>mainClassName</code> for the spring boot application.</p>\n<pre><code>mainClassName = 'com.example.MySpringBootApplication'\n</code></pre>\n"}],"owner":{"account_id":26291972,"reputation":21,"user_id":19958864,"display_name":"Bartosz Bujnicki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662819417,"creation_date":1662737193,"question_id":73664400,"body_markdown":"[Project structure][1]\r\n\r\nI have a spring boot application, which is integrated with Gradle. After I executed task instalDist, which create a executable script. I can not run this script, because I&#39;m getting error like:\r\n\r\n```\r\nError: Could not find or load main class some.package\r\nCaused by: java.lang.ClassNotFoundException: some.package\r\n```\r\n\r\n\r\n\r\nI can execute jar file, it is no problem. I can also run project by IDE. But I cannot run it with this script after ran the instalDist\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n        id &#39;application-plugin&#39;\r\n        id &#39;groovy&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;2.3.1.RELEASE&quot;\r\n    \r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    some dependencies ..\r\n    }\r\n\r\nBtw. I created similar project with same settings and it works corectly, but this doesn&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/8MFsS.png\r\n\r\n","title":"Gradle, Spring boot. Error: Could not find or load main class","body":"<p><a href=\"https://i.stack.imgur.com/8MFsS.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n<p>I have a spring boot application, which is integrated with Gradle. After I executed task instalDist, which create a executable script. I can not run this script, because I'm getting error like:</p>\n<pre><code>Error: Could not find or load main class some.package\nCaused by: java.lang.ClassNotFoundException: some.package\n</code></pre>\n<p>I can execute jar file, it is no problem. I can also run project by IDE. But I cannot run it with this script after ran the instalDist</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'application-plugin'\n    id 'groovy'\n    id &quot;org.springframework.boot&quot; version &quot;2.3.1.RELEASE&quot;\n\n}\n\n\ndependencies {\nsome dependencies ..\n}\n</code></pre>\n<p>Btw. I created similar project with same settings and it works corectly, but this doesn't work.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1662814557,"post_id":73671908,"comment_id":130095766,"body_markdown":"Firebase database operations are asyncronous and return immediately.  The listener you provide won&#39;t be invoked until some time later, after your `upload` method has already returned.  You can&#39;t make the listener return a value from the enclosing `upload` function.","body":"Firebase database operations are asyncronous and return immediately.  The listener you provide won&#39;t be invoked until some time later, after your <code>upload</code> method has already returned.  You can&#39;t make the listener return a value from the enclosing <code>upload</code> function."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":2,"creation_date":1662814862,"post_id":73671908,"comment_id":130095815,"body_markdown":"You’ll have to use a callback for this.","body":"You’ll have to use a callback for this."},{"owner":{"account_id":25313736,"reputation":3,"user_id":19136145,"display_name":"GajjarSVNIT"},"score":0,"creation_date":1662814883,"post_id":73671908,"comment_id":130095816,"body_markdown":"@DougStevenson yes Doug so actually my problem is I want to set many values in my firebase database and after all, the values are successfully uploaded then I want to show a message that says &quot;successfully uploaded&quot; so with the help of addOnSuccesListner i can only check one value either set or not but how can I check simultaneously wether all values successfully uploaded or not?","body":"@DougStevenson yes Doug so actually my problem is I want to set many values in my firebase database and after all, the values are successfully uploaded then I want to show a message that says &quot;successfully uploaded&quot; so with the help of addOnSuccesListner i can only check one value either set or not but how can I check simultaneously wether all values successfully uploaded or not?"},{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1662816477,"post_id":73671908,"comment_id":130096079,"body_markdown":"That sounds like a different question than the one you posted.  Maybe you would like to edit the question to better explain what you&#39;re trying to accomplish and where you are stuck implementing that.","body":"That sounds like a different question than the one you posted.  Maybe you would like to edit the question to better explain what you&#39;re trying to accomplish and where you are stuck implementing that."},{"owner":{"account_id":25313736,"reputation":3,"user_id":19136145,"display_name":"GajjarSVNIT"},"score":0,"creation_date":1662817301,"post_id":73671908,"comment_id":130096252,"body_markdown":"@DougStevenson I posted both the questions.","body":"@DougStevenson I posted both the questions."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662884573,"post_id":73671908,"comment_id":130105883,"body_markdown":"I also think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help. Isn&#39;t about adding data, but reading, but I think you&#39;ll get the idea, as both operations are asynchronous.","body":"I also think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help. Isn&#39;t about adding data, but reading, but I think you&#39;ll get the idea, as both operations are asynchronous."}],"owner":{"account_id":25313736,"reputation":3,"user_id":19136145,"display_name":"GajjarSVNIT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662818014,"answer_count":0,"score":0,"last_activity_date":1662818116,"creation_date":1662813944,"question_id":73671908,"body_markdown":"I want to return value from the inbuilt void method. How can I do so?\r\n\r\ncode \r\n```\r\n public static boolean upload(DatabaseReference reference, String path, String userUid, String value)\r\n    {\r\n\r\n        reference.child(path).setValue(value).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void unused) {\r\n                return true;\r\n            }\r\n        })\r\n\r\n        return false;\r\n    }\r\n```\r\n\r\nError:\r\n\r\n```\r\nCannot return a value from a method with void result type\r\n```\r\n\r\nEdit:\r\n\r\nActually, the code that I am currently using which is not readable at all I know is\r\n\r\n```\r\n  DatabaseReference reference = mDatabase.getReference().child(FirebaseVar.USERS).child(mUser.getUid());\r\n\r\n                        reference.child(FirebaseVar.NAME).setValue(binding.nameSignUp.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n                                reference.child(FirebaseVar.ROLE).setValue(selectedRoles).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        reference.child(FirebaseVar.BRANCH).setValue(selectedBranch).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onSuccess(Void unused) {\r\n                                                reference.child(FirebaseVar.HOSTEL).setValue(selectedHostels).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                                    @Override\r\n                                                    public void onSuccess(Void unused) {\r\n                                                        reference.child(FirebaseVar.GENDER).setValue(checkedbutton.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                                            @Override\r\n                                                            public void onSuccess(Void unused) {\r\n                                                                Toast.makeText(SignUpDetailActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                                            }\r\n                                                        });\r\n                                                    }\r\n                                                });\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n```\r\n\r\nSO my question is how to improve my given code?","title":"how to return from void inbuilt methods in android","body":"<p>I want to return value from the inbuilt void method. How can I do so?</p>\n<p>code</p>\n<pre><code> public static boolean upload(DatabaseReference reference, String path, String userUid, String value)\n    {\n\n        reference.child(path).setValue(value).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void unused) {\n                return true;\n            }\n        })\n\n        return false;\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>Cannot return a value from a method with void result type\n</code></pre>\n<p>Edit:</p>\n<p>Actually, the code that I am currently using which is not readable at all I know is</p>\n<pre><code>  DatabaseReference reference = mDatabase.getReference().child(FirebaseVar.USERS).child(mUser.getUid());\n\n                        reference.child(FirebaseVar.NAME).setValue(binding.nameSignUp.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n                                reference.child(FirebaseVar.ROLE).setValue(selectedRoles).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onSuccess(Void unused) {\n                                        reference.child(FirebaseVar.BRANCH).setValue(selectedBranch).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                            @Override\n                                            public void onSuccess(Void unused) {\n                                                reference.child(FirebaseVar.HOSTEL).setValue(selectedHostels).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                                    @Override\n                                                    public void onSuccess(Void unused) {\n                                                        reference.child(FirebaseVar.GENDER).setValue(checkedbutton.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                                            @Override\n                                                            public void onSuccess(Void unused) {\n                                                                Toast.makeText(SignUpDetailActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                                                            }\n                                                        });\n                                                    }\n                                                });\n                                            }\n                                        });\n                                    }\n                                });\n                            }\n                        });\n</code></pre>\n<p>SO my question is how to improve my given code?</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1644932498,"post_id":71122117,"comment_id":125731813,"body_markdown":"I think this is left unspecified because there can be race conditions: if both `CompletableFuture`s complete at the same time it is non-deterministic (because of race conditions) which result will be used. On the other hand, if one of the `CompletableFuture`s completes way ahead of the other I would expect it to use the first available result.","body":"I think this is left unspecified because there can be race conditions: if both <code>CompletableFuture</code>s complete at the same time it is non-deterministic (because of race conditions) which result will be used. On the other hand, if one of the <code>CompletableFuture</code>s completes way ahead of the other I would expect it to use the first available result."}],"answers":[{"tags":[],"owner":{"account_id":8089040,"reputation":392,"user_id":6095603,"display_name":"Frido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662817031,"creation_date":1662817031,"answer_id":73672244,"question_id":71122117,"body_markdown":"It chooses the first completed future.\r\n\r\n```\r\nCompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; task(&quot;Peter&quot;, 100)); // Generate &quot;Peter&quot;, sleep 100ms\r\nCompletableFuture&lt;String&gt; future2 = CompletableFuture.supplyAsync(() -&gt; task(&quot;John&quot;, 200)); // Generate &quot;John&quot;, sleep 200ms\r\n\r\nCompletableFuture&lt;Void&gt; future3 = future2.acceptEither(future1, (text) -&gt; {\r\n  Truth.assertThat(text).isEqualTo(&quot;Peter&quot;); // Expected value is &quot;Peter&quot; from future1   \r\n});\r\n\r\nfuture3.get()\r\n```\r\n\r\nThe result is the same as swapped future variables:\r\n\r\n```\r\nCompletableFuture&lt;Void&gt; future3 = future1.acceptEither(future2, (text) -&gt; {\r\n  Truth.assertThat(text).isEqualTo(&quot;Peter&quot;); // Expected value is &quot;Peter&quot; from future1   \r\n});\r\n```","title":"Java CompletableFuture applyToEither method operates on the first completed future or randomly chooses one from two?","body":"<p>It chooses the first completed future.</p>\n<pre><code>CompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; task(&quot;Peter&quot;, 100)); // Generate &quot;Peter&quot;, sleep 100ms\nCompletableFuture&lt;String&gt; future2 = CompletableFuture.supplyAsync(() -&gt; task(&quot;John&quot;, 200)); // Generate &quot;John&quot;, sleep 200ms\n\nCompletableFuture&lt;Void&gt; future3 = future2.acceptEither(future1, (text) -&gt; {\n  Truth.assertThat(text).isEqualTo(&quot;Peter&quot;); // Expected value is &quot;Peter&quot; from future1   \n});\n\nfuture3.get()\n</code></pre>\n<p>The result is the same as swapped future variables:</p>\n<pre><code>CompletableFuture&lt;Void&gt; future3 = future1.acceptEither(future2, (text) -&gt; {\n  Truth.assertThat(text).isEqualTo(&quot;Peter&quot;); // Expected value is &quot;Peter&quot; from future1   \n});\n</code></pre>\n"}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662817031,"creation_date":1644907576,"question_id":71122117,"body_markdown":"From Oracle document: https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CompletionStage.html#applyToEither(java.util.concurrent.CompletionStage,java.util.function.Function)\r\n\r\n&gt; `applyToEither`\r\n\r\n&gt; `&lt;U&gt; CompletionStage&lt;U&gt; applyToEither​(CompletionStage&lt;? extends T&gt; other,\r\n                                     Function&lt;? super T,U&gt; fn)`\r\n\r\n&gt; Returns a new CompletionStage that, when **either this or the other given stage** complete normally, is executed with the corresponding result as argument to the supplied function. See the CompletionStage documentation for rules covering exceptional completion.\r\n\r\nIt says it applies to &quot;either this or the other&quot;, which I think is not clear. I wonder whether it chooses the first completed future or just randomly picks up one from the two?","title":"Java CompletableFuture applyToEither method operates on the first completed future or randomly chooses one from two?","body":"<p>From Oracle document: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CompletionStage.html#applyToEither(java.util.concurrent.CompletionStage,java.util.function.Function)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CompletionStage.html#applyToEither(java.util.concurrent.CompletionStage,java.util.function.Function)</a></p>\n<blockquote>\n<p><code>applyToEither</code></p>\n</blockquote>\n<blockquote>\n<p><code>&lt;U&gt; CompletionStage&lt;U&gt; applyToEither​(CompletionStage&lt;? extends T&gt; other, Function&lt;? super T,U&gt; fn)</code></p>\n</blockquote>\n<blockquote>\n<p>Returns a new CompletionStage that, when <strong>either this or the other given stage</strong> complete normally, is executed with the corresponding result as argument to the supplied function. See the CompletionStage documentation for rules covering exceptional completion.</p>\n</blockquote>\n<p>It says it applies to &quot;either this or the other&quot;, which I think is not clear. I wonder whether it chooses the first completed future or just randomly picks up one from the two?</p>\n"},{"tags":["java","eclipse","libraries","apache-stringutils"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1662810229,"post_id":73671491,"comment_id":130095059,"body_markdown":"You really should be using an html or tag api to do this, not random substringing","body":"You really should be using an html or tag api to do this, not random substringing"},{"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"score":0,"creation_date":1662810799,"post_id":73671491,"comment_id":130095161,"body_markdown":"I am actually reading through the apache documentations and as soon as i see, you are completely right - i have to switch, because the StringUtils.substringBetween() only extracts the first occurence. Indeed i would need StringUtils methods later in another context, so i also need to solve that error.","body":"I am actually reading through the apache documentations and as soon as i see, you are completely right - i have to switch, because the StringUtils.substringBetween() only extracts the first occurence. Indeed i would need StringUtils methods later in another context, so i also need to solve that error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1662815001,"post_id":73671491,"comment_id":130095840,"body_markdown":"That doesn&#39;t *look* like a Maven project. I would encourage you to use Maven projects. The Maven part should handle your dependencies properly. Any given Commons api usually has dependencies on others. Watch your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)\n - class names begin upper case. Never underscores in Java apart from in (all upper case) constant names","body":"That doesn&#39;t <i>look</i> like a Maven project. I would encourage you to use Maven projects. The Maven part should handle your dependencies properly. Any given Commons api usually has dependencies on others. Watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a>  - class names begin upper case. Never underscores in Java apart from in (all upper case) constant names"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1662815468,"post_id":73671491,"comment_id":130095919,"body_markdown":"btw scraping that page should be non-problematic with the correct api - it&#39;s xhtml","body":"btw scraping that page should be non-problematic with the correct api - it&#39;s xhtml"},{"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"score":0,"creation_date":1662834179,"post_id":73671491,"comment_id":130099678,"body_markdown":"I migrated the Java project to a Maven Project now and integrated the libraries in the dependencies.","body":"I migrated the Java project to a Maven Project now and integrated the libraries in the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662815978,"creation_date":1662815978,"answer_id":73672125,"question_id":73671491,"body_markdown":"When parsing HTML, you should use a HTML-parser instead of trying manualy to manipulate using string methods or regex. Among many, [Jsoup][1] is one of the best known and in my opinion the most intuitive and easiest parser you can use when working with HTML using Java. Look at this examples to get familiar with the [selector syntax][2] or/and read the documentation of the [Selector API][3]\r\n\r\nGet the jar or dependency from Maven central [jsoup 1.15.3][4]\r\n\r\nUsing Jsoup and assuming you are interessted in the content of the table body of that page from your question, something like below should give you a starting point:\r\n\r\n    import java.io.IOException;\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.select.Elements;\r\n\r\n    public final class Example2 {\r\n\r\n        public static void main(String args[]) throws IOException {\r\n            Document doc = Jsoup.connect(&quot;https://www.tradegate.de/indizes.php?buchstabe=A&quot;).get();\r\n\r\n            Elements tableRows = doc.getElementById(&quot;kursliste_abc&quot;).select(&quot;tr&quot;);\r\n\r\n            tableRows.forEach(tr -&gt; {\r\n                String gattung    = tr.child(0).text();\r\n                String bid        = tr.child(1).text();\r\n                String ask        = tr.child(2).text();\r\n                String stueck     = tr.child(3).text();\r\n                String ausgOrders = tr.child(4).text();\r\n                String change     = tr.child(5).text();\r\n                String link       = tr.child(0).selectFirst(&quot;a&quot;).absUrl(&quot;href&quot;);\r\n\r\n                System.out.printf(&quot;%-45s  %-10s  %-10s  %-10s %-10s  %-10s %-70s%n&quot;,\r\n                                  gattung, bid, ask, stueck, ausgOrders, change, link);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    A-Cap Energy Ltd.                              0,07        0,09        0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=AU000000ACB7              \r\n    A-Mark Precious Metals Inc.                    28,80       29,08       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=US00181T1079              \r\n    A.P.Moeller-M&#230;rsk A/S                          2 116,00    2 138,00    128        55          +0,09%     https://www.tradegate.de/orderbuch.php?isin=DK0010244425              \r\n    A.P.Moeller-M&#230;rsk A/S B                        2 200,00    2 214,00    911        165         +1,37%     https://www.tradegate.de/orderbuch.php?isin=DK0010244508              \r\n    A.S. Cr&#233;ation Tapeten AG                       12,70       13,30       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=DE000A1TNNN5              \r\n    A.S. Roma S.p.A.                               0,4465      0,455       1          1           +1,68%     https://www.tradegate.de/orderbuch.php?isin=IT0001008876              \r\n    A10 Networks Inc.                              13,40       13,745      160        2           +1,03%     https://www.tradegate.de/orderbuch.php?isin=US0021211018              \r\n    a2 Milk Co. Ltd., The                          3,7035      3,7665      822        2           +0,09%     https://www.tradegate.de/orderbuch.php?isin=NZATME0002S8              \r\n    A2A S.p.A.                                     1,1205      1,1315      1 000      1           +2,21%     https://www.tradegate.de/orderbuch.php?isin=IT0001233417              \r\n    A2B Australia Ltd.                             0,79        0,825       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=AU0000032187              \r\n    AAC Technologies Holdings Inc.                 1,799       1,8785      0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=KYG2953R1149              \r\n    Aadi Biosciences Inc.                          12,245      12,78       33         1           -1,98%     https://www.tradegate.de/orderbuch.php?isin=US00032Q1040              \r\n    AAK AB                                         14,88       15,02       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=SE0011337708              \r\n    Aalberts N.V.                                  36,65       37,03       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=NL0000852564   \r\n    ....\r\n\r\n\r\n  [1]: https://jsoup.org/\r\n  [2]: https://jsoup.org/cookbook/extracting-data/selector-syntax\r\n  [3]: https://jsoup.org/apidocs/org/jsoup/select/Selector.html\r\n  [4]: https://mvnrepository.com/artifact/org.jsoup/jsoup/1.15.3","title":"StringUtils not found in Eclipse (java.lang.NoClassDefFoundError), although referenced as a library","body":"<p>When parsing HTML, you should use a HTML-parser instead of trying manualy to manipulate using string methods or regex. Among many, <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a> is one of the best known and in my opinion the most intuitive and easiest parser you can use when working with HTML using Java. Look at this examples to get familiar with the <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">selector syntax</a> or/and read the documentation of the <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow noreferrer\">Selector API</a></p>\n<p>Get the jar or dependency from Maven central <a href=\"https://mvnrepository.com/artifact/org.jsoup/jsoup/1.15.3\" rel=\"nofollow noreferrer\">jsoup 1.15.3</a></p>\n<p>Using Jsoup and assuming you are interessted in the content of the table body of that page from your question, something like below should give you a starting point:</p>\n<pre><code>import java.io.IOException;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.select.Elements;\n\npublic final class Example2 {\n\n    public static void main(String args[]) throws IOException {\n        Document doc = Jsoup.connect(&quot;https://www.tradegate.de/indizes.php?buchstabe=A&quot;).get();\n\n        Elements tableRows = doc.getElementById(&quot;kursliste_abc&quot;).select(&quot;tr&quot;);\n\n        tableRows.forEach(tr -&gt; {\n            String gattung    = tr.child(0).text();\n            String bid        = tr.child(1).text();\n            String ask        = tr.child(2).text();\n            String stueck     = tr.child(3).text();\n            String ausgOrders = tr.child(4).text();\n            String change     = tr.child(5).text();\n            String link       = tr.child(0).selectFirst(&quot;a&quot;).absUrl(&quot;href&quot;);\n\n            System.out.printf(&quot;%-45s  %-10s  %-10s  %-10s %-10s  %-10s %-70s%n&quot;,\n                              gattung, bid, ask, stueck, ausgOrders, change, link);\n        });\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>A-Cap Energy Ltd.                              0,07        0,09        0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=AU000000ACB7              \nA-Mark Precious Metals Inc.                    28,80       29,08       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=US00181T1079              \nA.P.Moeller-Mærsk A/S                          2 116,00    2 138,00    128        55          +0,09%     https://www.tradegate.de/orderbuch.php?isin=DK0010244425              \nA.P.Moeller-Mærsk A/S B                        2 200,00    2 214,00    911        165         +1,37%     https://www.tradegate.de/orderbuch.php?isin=DK0010244508              \nA.S. Création Tapeten AG                       12,70       13,30       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=DE000A1TNNN5              \nA.S. Roma S.p.A.                               0,4465      0,455       1          1           +1,68%     https://www.tradegate.de/orderbuch.php?isin=IT0001008876              \nA10 Networks Inc.                              13,40       13,745      160        2           +1,03%     https://www.tradegate.de/orderbuch.php?isin=US0021211018              \na2 Milk Co. Ltd., The                          3,7035      3,7665      822        2           +0,09%     https://www.tradegate.de/orderbuch.php?isin=NZATME0002S8              \nA2A S.p.A.                                     1,1205      1,1315      1 000      1           +2,21%     https://www.tradegate.de/orderbuch.php?isin=IT0001233417              \nA2B Australia Ltd.                             0,79        0,825       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=AU0000032187              \nAAC Technologies Holdings Inc.                 1,799       1,8785      0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=KYG2953R1149              \nAadi Biosciences Inc.                          12,245      12,78       33         1           -1,98%     https://www.tradegate.de/orderbuch.php?isin=US00032Q1040              \nAAK AB                                         14,88       15,02       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=SE0011337708              \nAalberts N.V.                                  36,65       37,03       0          0           0,00%      https://www.tradegate.de/orderbuch.php?isin=NL0000852564   \n....\n</code></pre>\n"}],"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73672125,"answer_count":1,"score":0,"last_activity_date":1662815978,"creation_date":1662809863,"question_id":73671491,"body_markdown":"I want to filtrate website content that I have stored in a `String` with `StringUtils`.\r\nGot some problems with the libraries.\r\n\r\n**Java-code:**\r\n\r\n    import java.io.*;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import org.apache.commons.lang3.*;\r\n    \r\n    public class URLConnectionReader {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t    String siteContent  = getUrlContents(&quot;https://www.tradegate.de/indizes.php?buchstabe=A&quot;);  \r\n    \t    \r\n    \t    System.out.println(siteContent);\r\n    \t    inputHandler(siteContent);\r\n    \t}\r\n    \t\r\n    \tpublic static void inputHandler(String input) {\r\n    \t\t\r\n    \t\tString str = StringUtils.substringBetween(input, &quot;&lt;a id=&quot;, &quot;&lt;/a&gt;&quot;);\r\n    \t\tSystem.out.println(str);\t\r\n    \t}\r\n    \t\r\n    \tprivate static String getUrlContents(String theUrl)  \r\n    \t  {  \r\n    \t    StringBuilder content = new StringBuilder();  \r\n    \t    \r\n    \t    try  \r\n    \t    {   \t\r\n    \t      URL url = new URL(theUrl); \r\n    \t      URLConnection urlConnection = url.openConnection(); \r\n    \t  \r\n    \t      BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));  \r\n    \t      String line;\r\n    \t    \r\n    \t      while ((line = bufferedReader.readLine()) != null)  \r\n    \t      {  \r\n    \t        content.append(line + &quot;\\n&quot;);  \r\n    \t      }  \r\n    \t      bufferedReader.close();  \r\n    \t    }  \r\n    \t    catch(Exception e)  \r\n    \t    {  \r\n    \t      e.printStackTrace();  \r\n    \t    }  \r\n    \t    return content.toString();  \r\n    \t  }  \r\n    \t}  \r\n\t\r\n**The following steps were performed:**\r\n\r\n1) Downloading commons-lang3-3.12.0-bin.zip\r\n2) Unpacking and saving the JAR-files to the eclipse directory\r\n3) Add the external libraries to the JAVA build path and apply changes\r\n4) Deleting and reassigning, restarting ECLIPSE\r\n5) autobuild function = on\r\n\r\nAlthough it is referenced as an external library, this exception happens:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\r\n    \tat URLConnectionReader.inputHandler(URLConnectionReader.java:21)\r\n    \tat URLConnectionReader.main(URLConnectionReader.java:16)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.StringUtils\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 2 more\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FjEiD.png\r\n\r\nI searched some threads for troubleshooting, but i don&#180;t get a clue at which point i made the mistake.","title":"StringUtils not found in Eclipse (java.lang.NoClassDefFoundError), although referenced as a library","body":"<p>I want to filtrate website content that I have stored in a <code>String</code> with <code>StringUtils</code>.\nGot some problems with the libraries.</p>\n<p><strong>Java-code:</strong></p>\n<pre><code>import java.io.*;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport org.apache.commons.lang3.*;\n\npublic class URLConnectionReader {\n    \n    public static void main(String[] args) {\n        \n        String siteContent  = getUrlContents(&quot;https://www.tradegate.de/indizes.php?buchstabe=A&quot;);  \n        \n        System.out.println(siteContent);\n        inputHandler(siteContent);\n    }\n    \n    public static void inputHandler(String input) {\n        \n        String str = StringUtils.substringBetween(input, &quot;&lt;a id=&quot;, &quot;&lt;/a&gt;&quot;);\n        System.out.println(str);    \n    }\n    \n    private static String getUrlContents(String theUrl)  \n      {  \n        StringBuilder content = new StringBuilder();  \n        \n        try  \n        {       \n          URL url = new URL(theUrl); \n          URLConnection urlConnection = url.openConnection(); \n      \n          BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));  \n          String line;\n        \n          while ((line = bufferedReader.readLine()) != null)  \n          {  \n            content.append(line + &quot;\\n&quot;);  \n          }  \n          bufferedReader.close();  \n        }  \n        catch(Exception e)  \n        {  \n          e.printStackTrace();  \n        }  \n        return content.toString();  \n      }  \n    }  \n</code></pre>\n<p><strong>The following steps were performed:</strong></p>\n<ol>\n<li>Downloading commons-lang3-3.12.0-bin.zip</li>\n<li>Unpacking and saving the JAR-files to the eclipse directory</li>\n<li>Add the external libraries to the JAVA build path and apply changes</li>\n<li>Deleting and reassigning, restarting ECLIPSE</li>\n<li>autobuild function = on</li>\n</ol>\n<p>Although it is referenced as an external library, this exception happens:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\n    at URLConnectionReader.inputHandler(URLConnectionReader.java:21)\n    at URLConnectionReader.main(URLConnectionReader.java:16)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.StringUtils\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 2 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FjEiD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjEiD.png\" alt=\"enter image description here\" /></a></p>\n<p>I searched some threads for troubleshooting, but i don´t get a clue at which point i made the mistake.</p>\n"},{"tags":["java","spring-boot","azure","azure-web-app-service","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":3094547,"reputation":874,"user_id":2620025,"display_name":"SoySolisCarlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662815479,"creation_date":1662815479,"answer_id":73672070,"question_id":73670894,"body_markdown":"In an App Service, the only directory where you can write is in /home/site\r\n\r\nThe destination directory should be /home/site/wwwroot","title":"Spring Boot with Azure Application Insights Enabled Starts with Error -read Only File system","body":"<p>In an App Service, the only directory where you can write is in /home/site</p>\n<p>The destination directory should be /home/site/wwwroot</p>\n"}],"owner":{"account_id":2551997,"reputation":384,"user_id":2215578,"accept_rate":75,"display_name":"anuu_online"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662815479,"creation_date":1662803940,"question_id":73670894,"body_markdown":"Spring boot application running in Linux Azure App Service (Java SE) starts with below warning if Application Insights is enabled. Application Insights doesn&#39;t show any data related tot the application.\r\n\r\n\r\n&gt; Running STARTUP_COMMAND: java -jar -Dspring.profiles.active=test\r\n&gt; /home/site/wwwroot/app.jar -Dserver.port=80\r\n&gt; -Duser.dir=/local/site/wwwroot\r\n&gt; \r\n\r\nFollowing line is printed in the logs.\r\n\r\n&gt;  m.applicationinsights.agent - Detected running on a read-only file\r\n&gt; system. Status json file won&#39;t be created. If this is unexpected,\r\n&gt; please check that process has write access to the directory:\r\n&gt; /root/LogFiles/ApplicationInsights/status\r\n\r\nDoes this file permission error causes no telemetry data being send to Application Insights? No other error found in the application logs.","title":"Spring Boot with Azure Application Insights Enabled Starts with Error -read Only File system","body":"<p>Spring boot application running in Linux Azure App Service (Java SE) starts with below warning if Application Insights is enabled. Application Insights doesn't show any data related tot the application.</p>\n<blockquote>\n<p>Running STARTUP_COMMAND: java -jar -Dspring.profiles.active=test\n/home/site/wwwroot/app.jar -Dserver.port=80\n-Duser.dir=/local/site/wwwroot</p>\n</blockquote>\n<p>Following line is printed in the logs.</p>\n<blockquote>\n<p>m.applicationinsights.agent - Detected running on a read-only file\nsystem. Status json file won't be created. If this is unexpected,\nplease check that process has write access to the directory:\n/root/LogFiles/ApplicationInsights/status</p>\n</blockquote>\n<p>Does this file permission error causes no telemetry data being send to Application Insights? No other error found in the application logs.</p>\n"},{"tags":["java","integer","compression"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662747859,"post_id":73666137,"comment_id":130085826,"body_markdown":"Does this answer your question? [An efficient compression algorithm for short text strings](https://stackoverflow.com/questions/1138345/an-efficient-compression-algorithm-for-short-text-strings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1138345/an-efficient-compression-algorithm-for-short-text-strings\">An efficient compression algorithm for short text strings</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662748018,"post_id":73666137,"comment_id":130085874,"body_markdown":"By the way, out of curiosity: you&#39;ve been asking these kind of question for close to two weeks. Are you doing some weird exercise, asking out of intellectual curiosity or are you trying to do something practical? Because if it&#39;s the latter telling us what you&#39;re trying to do may result in better answers and suggestions.","body":"By the way, out of curiosity: you&#39;ve been asking these kind of question for close to two weeks. Are you doing some weird exercise, asking out of intellectual curiosity or are you trying to do something practical? Because if it&#39;s the latter telling us what you&#39;re trying to do may result in better answers and suggestions."},{"owner":{"account_id":26169028,"reputation":56,"user_id":19854361,"display_name":"Noname"},"score":0,"creation_date":1662750856,"post_id":73666137,"comment_id":130086576,"body_markdown":"I am looking for a way inside a java program to compress and decompress a number, I can not rely on other languages ​​to compress the string, I thought there was some algorithm applicable in java that given a number in input returns a shorter and reversible output to be used for place of the larger number, but knowing that it is that larger but compressed number.","body":"I am looking for a way inside a java program to compress and decompress a number, I can not rely on other languages ​​to compress the string, I thought there was some algorithm applicable in java that given a number in input returns a shorter and reversible output to be used for place of the larger number, but knowing that it is that larger but compressed number."},{"owner":{"account_id":26169028,"reputation":56,"user_id":19854361,"display_name":"Noname"},"score":0,"creation_date":1662750981,"post_id":73666137,"comment_id":130086610,"body_markdown":"thanks for the curiosity, I&#39;m creating a java program that analyzes images over time and defines aspects of the past, according to some mathematical functions and other similar images, im using a lot of variables that act as image containers. It is something weird but very useful for reconstructing past images.","body":"thanks for the curiosity, I&#39;m creating a java program that analyzes images over time and defines aspects of the past, according to some mathematical functions and other similar images, im using a lot of variables that act as image containers. It is something weird but very useful for reconstructing past images."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662752118,"post_id":73666137,"comment_id":130086876,"body_markdown":"if you have an integer value `n`,such that  0 &lt;= n &lt;= m, `n` can be any value between 0 and m, and the values of `n` are evenly distributed, it isn&#39;t possible to have a lossless reversible compression algorithm for `n`.","body":"if you have an integer value <code>n</code>,such that  0 &lt;= n &lt;= m, <code>n</code> can be any value between 0 and m, and the values of <code>n</code> are evenly distributed, it isn&#39;t possible to have a lossless reversible compression algorithm for <code>n</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662806545,"post_id":73666137,"comment_id":130094408,"body_markdown":"Regarding my previous comment, there&#39;s another requirement: For what I wrote to be true, the values of `n` should be independent of each other. I&#39;ll update my answer.","body":"Regarding my previous comment, there&#39;s another requirement: For what I wrote to be true, the values of <code>n</code> should be independent of each other. I&#39;ll update my answer."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662757348,"creation_date":1662757348,"answer_id":73667460,"question_id":73666137,"body_markdown":"You can&#39;t compress all 10-digit numbers to something smaller, and be able to decompress them back to the originals. This should be obvious. If you compressed them, say, to 9-digit numbers, then when you decompressed all of those 9-digit numbers, of which there are 10&lt;sup&gt;9&lt;/sup&gt;, you could only get 1/10th of the original numbers, of which there are 10&lt;sup&gt;10&lt;/sup&gt;. 90% of the original numbers would not be reproduced.","title":"Compress big numbers into small numbers. Reversibile","body":"<p>You can't compress all 10-digit numbers to something smaller, and be able to decompress them back to the originals. This should be obvious. If you compressed them, say, to 9-digit numbers, then when you decompressed all of those 9-digit numbers, of which there are 10<sup>9</sup>, you could only get 1/10th of the original numbers, of which there are 10<sup>10</sup>. 90% of the original numbers would not be reproduced.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662814926,"creation_date":1662767619,"answer_id":73668404,"question_id":73666137,"body_markdown":"Version 2: Added the possibility of compression based on knowing values are related.\r\n\r\nNo, and maybe.\r\n\r\nSuppose the values you want to compress are represented by the variable `n`, and `0 &lt;= n &lt;= m`. If the values of `n` are evenly distributed over the range, all values in the range are possible, and each value is independent of the others, then it is not possible to have a lossless compression algorithm. \r\n\r\n\r\nHowever, it **might** be that the possible values of `n` in _your_ data are not evenly distributed. That is, some values are common, but others values are rare. Maybe some don&#39;t occur. If that is the case, there is a possibility you could use [Huffman coding][1] or something similar. \r\n\r\nHuffman compression represents values using a variable number of bits for the values to be represented: The more common values are represented by fewer bits, the less common values by more bits. \r\n\r\nOne way to use Huffman coding is to sample your data, and create a &quot;standard&quot; table for use in all your coding and decoding of `n`. This can reduce processing time.  If you don&#39;t create a &quot;standard&quot; table, you would build a table each time you compress by running through your data and looking at the values of `n`, count how many times each value occurs, and sort by number of occurrences. This requires more processing, but the table will be fine-tuned to that particular run. It also requires the resulting table be carried with the compressed data. \r\n\r\nBut, if your data doesn&#39;t have values that are more common than other values, Huffman coding won&#39;t be useful. \r\n\r\nAnother, and perhaps more likely possibility in your case, is compression based on knowledge of interrelationship of the values. If there are circumstances that allow you to predict one value given information about another value, it might be possible to use that for data compression.  I can best explain that with two examples.\r\n\r\nAbout 11 years ago, I was looking at the Topcoder (topcoder.com) website. There was a contest there to compress data from DNA sequencing. The winning algorithms did this:  For each block of data, create a new block with the same length (number of elements). The first value in the new block was a copy of the first value in the original block.  But, each subsequent value `v[n]` in the new block would be the difference between two adjacent values in the original block:  `new block v[n] = original block v[n] - original block v[n - 1]`.  The set of new blocks would then be compressed using Huffman coding.\r\n\r\nThat worked because the difference between the minimum and maximum _difference_ between successive values was much smaller than the range of an individual value, and some differences were a lot more common than others. \r\n\r\nAnother example was for medical image processing. An algorithm looked at images from MRI or CT scans for closed loops. When it found a closed loop, it recorded, in order, the positions of each pixel in the loop.  The data was sent to another lab for analysis. \r\n\r\nA block of compressed data would represent one loop. A block began with a copy of the location of the first pixel. The location of each subsequent pixel was coded _relative_ to the previous pixel in the sequence. Because a loop was continuous, each pixel in the loop had to be orthogonally or diagonally adjacent to the previous. This allowed relative locations to be coded using 3 bits. For one loop, the compression / decompression algorithm ran until the calculated position of a pixel was the same as the original pixel. Then, the next block would be processed. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Huffman_coding\r\n","title":"Compress big numbers into small numbers. Reversibile","body":"<p>Version 2: Added the possibility of compression based on knowing values are related.</p>\n<p>No, and maybe.</p>\n<p>Suppose the values you want to compress are represented by the variable <code>n</code>, and <code>0 &lt;= n &lt;= m</code>. If the values of <code>n</code> are evenly distributed over the range, all values in the range are possible, and each value is independent of the others, then it is not possible to have a lossless compression algorithm.</p>\n<p>However, it <strong>might</strong> be that the possible values of <code>n</code> in <em>your</em> data are not evenly distributed. That is, some values are common, but others values are rare. Maybe some don't occur. If that is the case, there is a possibility you could use <a href=\"https://en.wikipedia.org/wiki/Huffman_coding\" rel=\"nofollow noreferrer\">Huffman coding</a> or something similar.</p>\n<p>Huffman compression represents values using a variable number of bits for the values to be represented: The more common values are represented by fewer bits, the less common values by more bits.</p>\n<p>One way to use Huffman coding is to sample your data, and create a &quot;standard&quot; table for use in all your coding and decoding of <code>n</code>. This can reduce processing time.  If you don't create a &quot;standard&quot; table, you would build a table each time you compress by running through your data and looking at the values of <code>n</code>, count how many times each value occurs, and sort by number of occurrences. This requires more processing, but the table will be fine-tuned to that particular run. It also requires the resulting table be carried with the compressed data.</p>\n<p>But, if your data doesn't have values that are more common than other values, Huffman coding won't be useful.</p>\n<p>Another, and perhaps more likely possibility in your case, is compression based on knowledge of interrelationship of the values. If there are circumstances that allow you to predict one value given information about another value, it might be possible to use that for data compression.  I can best explain that with two examples.</p>\n<p>About 11 years ago, I was looking at the Topcoder (topcoder.com) website. There was a contest there to compress data from DNA sequencing. The winning algorithms did this:  For each block of data, create a new block with the same length (number of elements). The first value in the new block was a copy of the first value in the original block.  But, each subsequent value <code>v[n]</code> in the new block would be the difference between two adjacent values in the original block:  <code>new block v[n] = original block v[n] - original block v[n - 1]</code>.  The set of new blocks would then be compressed using Huffman coding.</p>\n<p>That worked because the difference between the minimum and maximum <em>difference</em> between successive values was much smaller than the range of an individual value, and some differences were a lot more common than others.</p>\n<p>Another example was for medical image processing. An algorithm looked at images from MRI or CT scans for closed loops. When it found a closed loop, it recorded, in order, the positions of each pixel in the loop.  The data was sent to another lab for analysis.</p>\n<p>A block of compressed data would represent one loop. A block began with a copy of the location of the first pixel. The location of each subsequent pixel was coded <em>relative</em> to the previous pixel in the sequence. Because a loop was continuous, each pixel in the loop had to be orthogonally or diagonally adjacent to the previous. This allowed relative locations to be coded using 3 bits. For one loop, the compression / decompression algorithm ran until the calculated position of a pixel was the same as the original pixel. Then, the next block would be processed.</p>\n"}],"owner":{"account_id":26169028,"reputation":56,"user_id":19854361,"display_name":"Noname"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73668404,"answer_count":2,"score":0,"last_activity_date":1662814926,"creation_date":1662747642,"question_id":73666137,"body_markdown":"I am looking for a **compression** algorithm for integers of 10 digits (ex: 5289412587), the aim would be to reduce the compressed result to a number with the fewest digits possible (ex: 125), an algorithm that is reversible, therefore from the result I should then reconstruct the original number, is there something that is right for me? Thank you.","title":"Compress big numbers into small numbers. Reversibile","body":"<p>I am looking for a <strong>compression</strong> algorithm for integers of 10 digits (ex: 5289412587), the aim would be to reduce the compressed result to a number with the fewest digits possible (ex: 125), an algorithm that is reversible, therefore from the result I should then reconstruct the original number, is there something that is right for me? Thank you.</p>\n"},{"tags":["java","android","android-studio","broadcastreceiver"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1662816644,"post_id":73671995,"comment_id":130096103,"body_markdown":"Your receiver app will only receive the broadcast while that activity is in the foreground. Your sender app sends the broadcast when you click the button, which implies that its own activity is in the foreground. On most phones, only one of those things will be in the foreground at once. So, if you click the button, the receiver app is not in the foreground, and so it will not receive the broadcast.","body":"Your receiver app will only receive the broadcast while that activity is in the foreground. Your sender app sends the broadcast when you click the button, which implies that its own activity is in the foreground. On most phones, only one of those things will be in the foreground at once. So, if you click the button, the receiver app is not in the foreground, and so it will not receive the broadcast."},{"owner":{"account_id":22248513,"reputation":25,"user_id":16481825,"display_name":"vibhum mohan"},"score":0,"creation_date":1662817054,"post_id":73671995,"comment_id":130096204,"body_markdown":"@CommonsWare oh yes i need to register it in onCreate and unregister it in onDestroy ... Slipped my mind thanks.","body":"@CommonsWare oh yes i need to register it in onCreate and unregister it in onDestroy ... Slipped my mind thanks."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1662817226,"post_id":73671995,"comment_id":130096236,"body_markdown":"Yes, that should work better for your experiment.","body":"Yes, that should work better for your experiment."}],"owner":{"account_id":22248513,"reputation":25,"user_id":16481825,"display_name":"vibhum mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662814879,"creation_date":1662814879,"question_id":73671995,"body_markdown":"I was learning broadcast receiver concept, so I tried making demo apps for sending broadcast and receiving custom private broadcast\r\n\r\nThis is my Broadcast Sender App code :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView senderTextView;\r\n    Button sendButton;\r\n    private int counter;\r\n\r\n    //This is our anonymous class which will receive broadcast when sent from send button and set our text view\r\n    private final BroadcastReceiver innerReceiverAnonymousClass = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            //if our (com.example.PRIVATE_BROADCAST) broadcast equals to the intent received here from intent filter\r\n            if(&quot;com.example.PRIVATE_BROADCAST&quot;.equals(intent.getAction())){\r\n                //counter variable for tracking no. of times broadcast is sent\r\n                counter++;\r\n                //then this means broadcast has been sent in mobile\r\n                //set text\r\n                senderTextView.setText(&quot;Broadcast Sent &quot; + counter + &quot; times&quot;);\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //initializing views\r\n        senderTextView = findViewById(R.id.senderTextView);\r\n        sendButton = findViewById(R.id.sendButton);\r\n        //Setting onClick Listener on sendButton\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Calling Broadcast Method\r\n                Broadcast();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    //Broadcast Method\r\n    private void Broadcast(){\r\n        //Creating private broadcast event\r\n        Intent intent = new Intent(&quot;com.example.PRIVATE_BROADCAST&quot;);\r\n        //Adding String to our intent\r\n        intent.putExtra(&quot;BROADCAST_EXTRA_DATA&quot;,&quot;This is Private Broadcast&quot;);\r\n        //Sending our private broadcast to our android mobile\r\n        sendBroadcast(intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        //Intent filter will filter out intent from all the broadcasts happening in mobile\r\n        // on basis of action and pass it to innerReceiverAnonymousClass\r\n        IntentFilter intentFilter = new IntentFilter(&quot;com.example.PRIVATE_BROADCAST&quot;);\r\n        registerReceiver(innerReceiverAnonymousClass,intentFilter);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        unregisterReceiver(innerReceiverAnonymousClass);\r\n    }\r\n\r\nThis is my Broadcast Receiver app :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView receiverTextView;\r\n    \r\n    //Our anonymous private broadcast receiver class\r\n    //We can also make a separate class java class that will extend BroadcastReceiver class\r\n    //But we are using an anonymous so that we can get control of text view i.e. UI\r\n    private final BroadcastReceiver privateBroadcastReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(&quot;com.example.PRIVATE_BROADCAST&quot;.equals(intent.getAction())){\r\n                Log.d(&quot;APP_LOGS&quot;, &quot;Broadcast Received&quot;);\r\n                Toast.makeText(context, &quot;Private Broadcast Received&quot;, Toast.LENGTH_SHORT).show();\r\n                String broadcastString = intent.getStringExtra(&quot;BROADCAST_EXTRA_DATA&quot;);\r\n                receiverTextView.setText(&quot;Broadcast Received : &quot; + broadcastString);\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        receiverTextView = findViewById(R.id.receiverTextView);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        IntentFilter intentFilter = new IntentFilter(&quot;com.example.PRIVATE_BROADCAST&quot;);\r\n        registerReceiver(privateBroadcastReceiver,intentFilter);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        unregisterReceiver(privateBroadcastReceiver);\r\n    }\r\n\r\nWhen I press send Broadcast button textview inside sender activity sets to &quot;Broadcast sent 1 times which means our intent is getting broadcasted but toast from my receiver app doesn&#39;t show which means I am not able to get broadcast there.\r\nCan someone help me with this.\r\nThanks in advance. \r\n\r\n ","title":"Not able to receive broadcast in other app","body":"<p>I was learning broadcast receiver concept, so I tried making demo apps for sending broadcast and receiving custom private broadcast</p>\n<p>This is my Broadcast Sender App code :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView senderTextView;\nButton sendButton;\nprivate int counter;\n\n//This is our anonymous class which will receive broadcast when sent from send button and set our text view\nprivate final BroadcastReceiver innerReceiverAnonymousClass = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        //if our (com.example.PRIVATE_BROADCAST) broadcast equals to the intent received here from intent filter\n        if(&quot;com.example.PRIVATE_BROADCAST&quot;.equals(intent.getAction())){\n            //counter variable for tracking no. of times broadcast is sent\n            counter++;\n            //then this means broadcast has been sent in mobile\n            //set text\n            senderTextView.setText(&quot;Broadcast Sent &quot; + counter + &quot; times&quot;);\n        }\n    }\n};\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //initializing views\n    senderTextView = findViewById(R.id.senderTextView);\n    sendButton = findViewById(R.id.sendButton);\n    //Setting onClick Listener on sendButton\n    sendButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //Calling Broadcast Method\n            Broadcast();\n        }\n    });\n\n\n}\n//Broadcast Method\nprivate void Broadcast(){\n    //Creating private broadcast event\n    Intent intent = new Intent(&quot;com.example.PRIVATE_BROADCAST&quot;);\n    //Adding String to our intent\n    intent.putExtra(&quot;BROADCAST_EXTRA_DATA&quot;,&quot;This is Private Broadcast&quot;);\n    //Sending our private broadcast to our android mobile\n    sendBroadcast(intent);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    //Intent filter will filter out intent from all the broadcasts happening in mobile\n    // on basis of action and pass it to innerReceiverAnonymousClass\n    IntentFilter intentFilter = new IntentFilter(&quot;com.example.PRIVATE_BROADCAST&quot;);\n    registerReceiver(innerReceiverAnonymousClass,intentFilter);\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    unregisterReceiver(innerReceiverAnonymousClass);\n}\n</code></pre>\n<p>This is my Broadcast Receiver app :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView receiverTextView;\n\n//Our anonymous private broadcast receiver class\n//We can also make a separate class java class that will extend BroadcastReceiver class\n//But we are using an anonymous so that we can get control of text view i.e. UI\nprivate final BroadcastReceiver privateBroadcastReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(&quot;com.example.PRIVATE_BROADCAST&quot;.equals(intent.getAction())){\n            Log.d(&quot;APP_LOGS&quot;, &quot;Broadcast Received&quot;);\n            Toast.makeText(context, &quot;Private Broadcast Received&quot;, Toast.LENGTH_SHORT).show();\n            String broadcastString = intent.getStringExtra(&quot;BROADCAST_EXTRA_DATA&quot;);\n            receiverTextView.setText(&quot;Broadcast Received : &quot; + broadcastString);\n        }\n    }\n};\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    receiverTextView = findViewById(R.id.receiverTextView);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    IntentFilter intentFilter = new IntentFilter(&quot;com.example.PRIVATE_BROADCAST&quot;);\n    registerReceiver(privateBroadcastReceiver,intentFilter);\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    unregisterReceiver(privateBroadcastReceiver);\n}\n</code></pre>\n<p>When I press send Broadcast button textview inside sender activity sets to &quot;Broadcast sent 1 times which means our intent is getting broadcasted but toast from my receiver app doesn't show which means I am not able to get broadcast there.\nCan someone help me with this.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot","authorization","spring-security-oauth2","spring-oauth2"],"comments":[{"owner":{"account_id":4571972,"reputation":936,"user_id":3711445,"accept_rate":50,"display_name":"kaizokun"},"score":0,"creation_date":1626159701,"post_id":68250205,"comment_id":120811341,"body_markdown":"aren&#39;t the client id and password missing in you request ?","body":"aren&#39;t the client id and password missing in you request ?"},{"owner":{"account_id":19832738,"reputation":137,"user_id":14526919,"display_name":"Loi Nguyen Tri"},"score":0,"creation_date":1626187299,"post_id":68250205,"comment_id":120822952,"body_markdown":"@Kaizokun i use basic authen. Y2xpZW50OnNlY3JldA== is client/secret","body":"@Kaizokun i use basic authen. Y2xpZW50OnNlY3JldA== is client/secret"}],"answers":[{"tags":[],"owner":{"account_id":12037066,"reputation":65,"user_id":8805199,"display_name":"Tay Ta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630264460,"creation_date":1630264460,"answer_id":68976145,"question_id":68250205,"body_markdown":"You can try upgrading `spring-security-oauth2-authorization-server` to newer version **0.2.0**\r\n\r\nI ran into the same problem with `client_secret_post`, but then upgrading the version works for me.","title":"spring-security-oauth2-authorization-server:0.1.1 get token error invalid_client","body":"<p>You can try upgrading <code>spring-security-oauth2-authorization-server</code> to newer version <strong>0.2.0</strong></p>\n<p>I ran into the same problem with <code>client_secret_post</code>, but then upgrading the version works for me.</p>\n"},{"tags":[],"owner":{"account_id":2836080,"reputation":369,"user_id":2436675,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662814616,"creation_date":1662814616,"answer_id":73671965,"question_id":68250205,"body_markdown":"What is the **groupId** of the artifact you are using? `0.1.2` appears to be the latest version of the `groupId = org.springframework.security.experimental`\r\n\r\nIf you change your groupId to `org.springframework.security` you&#39;ll see version `0.2.2` and higher\r\n","title":"spring-security-oauth2-authorization-server:0.1.1 get token error invalid_client","body":"<p>What is the <strong>groupId</strong> of the artifact you are using? <code>0.1.2</code> appears to be the latest version of the <code>groupId = org.springframework.security.experimental</code></p>\n<p>If you change your groupId to <code>org.springframework.security</code> you'll see version <code>0.2.2</code> and higher</p>\n"}],"owner":{"account_id":19832738,"reputation":137,"user_id":14526919,"display_name":"Loi Nguyen Tri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1662814616,"creation_date":1625452631,"question_id":68250205,"body_markdown":"i&#39;m using spring authorization server, but i cannot get token. \r\nThis is my code and example. pls help me know correct request\r\n\r\n    @Bean\r\n\tpublic RegisteredClientRepository registeredClientRepository() {\r\n\t\tRegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n\t\t\t\t.clientId(&quot;client&quot;)\r\n\t\t\t\t.clientSecret(&quot;secret&quot;)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_JWT)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.PRIVATE_KEY_JWT)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.JWT_BEARER)\r\n\t\t\t\t.clientSettings(clientSettings -&gt; clientSettings.requireUserConsent(true))\r\n\t\t\t\t.build();\r\n\t\treturn new InMemoryRegisteredClientRepository(registeredClient);\r\n\t}\r\n\r\nThis is my request with basic auth client/secret\r\n&gt; curl --location --request POST &#39;http://localhost:9000/oauth2/token&#39; \\\r\n--header &#39;Authorization: Basic Y2xpZW50OnNlY3JldA==&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--header &#39;Cookie: JSESSIONID=557C0348994EFC10DB8E7F06C2FDFF21&#39; \\\r\n--data-urlencode &#39;grant_type=client_credentials&#39;\r\n\r\nresponse 401: \r\n\r\n&gt; {\r\n    &quot;error&quot;: &quot;invalid_client&quot;\r\n}","title":"spring-security-oauth2-authorization-server:0.1.1 get token error invalid_client","body":"<p>i'm using spring authorization server, but i cannot get token.\nThis is my code and example. pls help me know correct request</p>\n<pre><code>@Bean\npublic RegisteredClientRepository registeredClientRepository() {\n    RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n            .clientId(&quot;client&quot;)\n            .clientSecret(&quot;secret&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_JWT)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.PRIVATE_KEY_JWT)\n            .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n            .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n            .authorizationGrantType(AuthorizationGrantType.JWT_BEARER)\n            .clientSettings(clientSettings -&gt; clientSettings.requireUserConsent(true))\n            .build();\n    return new InMemoryRegisteredClientRepository(registeredClient);\n}\n</code></pre>\n<p>This is my request with basic auth client/secret</p>\n<blockquote>\n<p>curl --location --request POST 'http://localhost:9000/oauth2/token' <br />\n--header 'Authorization: Basic Y2xpZW50OnNlY3JldA==' <br />\n--header 'Content-Type: application/x-www-form-urlencoded' <br />\n--header 'Cookie: JSESSIONID=557C0348994EFC10DB8E7F06C2FDFF21' <br />\n--data-urlencode 'grant_type=client_credentials'</p>\n</blockquote>\n<p>response 401:</p>\n<blockquote>\n<p>{\n&quot;error&quot;: &quot;invalid_client&quot;\n}</p>\n</blockquote>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":2068496,"reputation":824,"user_id":1843508,"display_name":"Ofer Lando"},"score":2,"creation_date":1421931235,"post_id":28089215,"comment_id":44555127,"body_markdown":"Be careful if/when you change this - a list can be initialized and empty - but if you try list.isEmpty() on a null list - you&#39;ll get a NullPointerException.","body":"Be careful if/when you change this - a list can be initialized and empty - but if you try list.isEmpty() on a null list - you&#39;ll get a NullPointerException."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1421931257,"post_id":28089215,"comment_id":44555140,"body_markdown":"*&quot;But why use this construction when we have `list.isEmpty()` method...&quot;* Because if you use `list.isEmpty()` on a `list` variable for which `list == null` is true, it&#39;ll throw a `NullPointerException`. The two checks are fundamentally, completely, different.","body":"<i>&quot;But why use this construction when we have <code>list.isEmpty()</code> method...&quot;</i> Because if you use <code>list.isEmpty()</code> on a <code>list</code> variable for which <code>list == null</code> is true, it&#39;ll throw a <code>NullPointerException</code>. The two checks are fundamentally, completely, different."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1421931398,"creation_date":1421931012,"answer_id":28089242,"question_id":28089215,"body_markdown":"The first tells you whether the `list` variable has been assigned a List instance or not.\r\n\r\nThe second tells you if the List referenced by the `list` variable is empty.\r\nIf `list` is null, the second line will throw a `NullPointerException`.\r\n\r\nIf you want to so something only when the list is empty, it is safer to write :\r\n\r\n    if (list != null &amp;&amp; list.isEmpty()) { do something }\r\n\r\nIf you want to do something if the list is either null or empty, you can write :\r\n\r\n    if (list == null || list.isEmpty()) { do something }\r\n\r\nIf you want to do something if the list is not empty, you can write :\r\n\r\n    if (list != null &amp;&amp; !list.isEmpty()) { do something }","title":"Two ways to check if a list is empty - differences?","body":"<p>The first tells you whether the <code>list</code> variable has been assigned a List instance or not.</p>\n\n<p>The second tells you if the List referenced by the <code>list</code> variable is empty.\nIf <code>list</code> is null, the second line will throw a <code>NullPointerException</code>.</p>\n\n<p>If you want to so something only when the list is empty, it is safer to write :</p>\n\n<pre><code>if (list != null &amp;&amp; list.isEmpty()) { do something }\n</code></pre>\n\n<p>If you want to do something if the list is either null or empty, you can write :</p>\n\n<pre><code>if (list == null || list.isEmpty()) { do something }\n</code></pre>\n\n<p>If you want to do something if the list is not empty, you can write :</p>\n\n<pre><code>if (list != null &amp;&amp; !list.isEmpty()) { do something }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662813872,"creation_date":1421931303,"answer_id":28089326,"question_id":28089215,"body_markdown":"`if (list == null)` checks whether the list is `null` or not.\r\n\r\n`if (list.isEmpty())` checks whether the list is empty or not. If the list is `null` and if you call `isEmpty()`, then it will give you a `NullPointerException`. \r\n\r\nIt&#39;s better to check whether the list is `null` or not first, and then check if it is empty or not.\r\n\r\n    if (list != null &amp;&amp; !list.isEmpty()) {\r\n        // do your code here\r\n    }","title":"Two ways to check if a list is empty - differences?","body":"<p><code>if (list == null)</code> checks whether the list is <code>null</code> or not.</p>\n<p><code>if (list.isEmpty())</code> checks whether the list is empty or not. If the list is <code>null</code> and if you call <code>isEmpty()</code>, then it will give you a <code>NullPointerException</code>.</p>\n<p>It's better to check whether the list is <code>null</code> or not first, and then check if it is empty or not.</p>\n<pre><code>if (list != null &amp;&amp; !list.isEmpty()) {\n    // do your code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1446073,"reputation":1983,"user_id":1364499,"accept_rate":88,"display_name":"josivan"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1608026610,"creation_date":1421931488,"answer_id":28089381,"question_id":28089215,"body_markdown":"Another approach is to use [Apache Commons Collections](http://commons.apache.org/proper/commons-collections/). \r\n\r\nTake a look in method [CollectionUtils.isEmpty()][1]. It is more concise.\r\n\r\n[1]:http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-","title":"Two ways to check if a list is empty - differences?","body":"<p>Another approach is to use <a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections</a>.</p>\n<p>Take a look in method <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-\" rel=\"noreferrer\">CollectionUtils.isEmpty()</a>. It is more concise.</p>\n"},{"tags":[],"owner":{"account_id":12795274,"reputation":595,"user_id":9258519,"display_name":"Saad Joudi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1632817709,"creation_date":1632817709,"answer_id":69358267,"question_id":28089215,"body_markdown":"For Spring developers, there&#39;s another way to check this with only one condition : \r\n\r\n        !CollectionUtils.isEmpty(yourList)\r\n\r\nThis allow you to test if list !=null and !list.isEmpty()\r\n\r\nPS : should import it from  org.springframework.util.CollectionUtils","title":"Two ways to check if a list is empty - differences?","body":"<p>For Spring developers, there's another way to check this with only one condition :</p>\n<pre><code>    !CollectionUtils.isEmpty(yourList)\n</code></pre>\n<p>This allow you to test if list !=null and !list.isEmpty()</p>\n<p>PS : should import it from  org.springframework.util.CollectionUtils</p>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117664,"favorite_count":0,"down_vote_count":2,"up_vote_count":31,"accepted_answer_id":28089242,"answer_count":4,"score":29,"last_activity_date":1662813872,"creation_date":1421930934,"question_id":28089215,"body_markdown":"I have a short question.\r\n\r\nLets assume we have a `List` which is an `ArrayList` called `list`. We want to check if the list is empty.\r\n\r\nWhat is the difference (if there is any) between:\r\n\r\n    if (list == null) { do something }\r\n\r\nand\r\n\r\n    if (list.isEmpty()) { do something }\r\n\r\nI&#39;m working on an ancient code (written around 2007 by someone else) and it is using the `list == null` construction. But why use this construction when we have `list.isEmpty()` method...","title":"Two ways to check if a list is empty - differences?","body":"<p>I have a short question.</p>\n\n<p>Lets assume we have a <code>List</code> which is an <code>ArrayList</code> called <code>list</code>. We want to check if the list is empty.</p>\n\n<p>What is the difference (if there is any) between:</p>\n\n<pre><code>if (list == null) { do something }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if (list.isEmpty()) { do something }\n</code></pre>\n\n<p>I'm working on an ancient code (written around 2007 by someone else) and it is using the <code>list == null</code> construction. But why use this construction when we have <code>list.isEmpty()</code> method...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3221956,"reputation":4391,"user_id":2719186,"display_name":"Dave Morrissey"},"score":1,"creation_date":1411238264,"post_id":25952086,"comment_id":40629803,"body_markdown":"In the Customer class, use a `List&lt;Account&gt;` instead of individual fields.","body":"In the Customer class, use a <code>List&lt;Account&gt;</code> instead of individual fields."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1411238280,"post_id":25952086,"comment_id":40629813,"body_markdown":"Give Customer a collection of Accounts such as an `ArrayList&lt;Account&gt;` with which it can hold multiple Account objects. Note, @DaveMorrissey gives the better response, to make the accountList variable of type `List&lt;Account&gt;` since it is almost always best to &quot;code to the interface&quot; rather than the concrete class, but that&#39;s the subject of another discussion.","body":"Give Customer a collection of Accounts such as an <code>ArrayList&lt;Account&gt;</code> with which it can hold multiple Account objects. Note, @DaveMorrissey gives the better response, to make the accountList variable of type <code>List&lt;Account&gt;</code> since it is almost always best to &quot;code to the interface&quot; rather than the concrete class, but that&#39;s the subject of another discussion."}],"answers":[{"tags":[],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411239882,"creation_date":1411238357,"answer_id":25952119,"question_id":25952086,"body_markdown":"First off rename Account to AbstractAccount and create an Account interface, your Credit and Saving accounts are concrete implementations. Then in your Customer class declare a variable accounts which is a List&lt;Account&gt; accounts. Something like\r\n\r\n    public class Customer {\r\n        private String firstName;\r\n        private String lastName;\r\n        private String number;\r\n\r\n        private List&lt;Account&gt; accounts;\r\n\r\nYour Account interface might look like\r\n\r\n    interface Account {\r\n    \r\n        public void deposit(double amount); \r\n\r\n        public void withdraw(double amount);\r\n\r\n        public double getBalance();\r\n\r\n        public String getAccountId();\r\n    }\r\n\r\nYour existing class gets refactored\r\n\r\n     public abstract AbstractAccount implements Account {\r\n         ....\r\n     }\r\n\r\nYour SavingAccount becomes\r\n\r\n     public SavingAccount extends AbstractAccount {\r\n      ....\r\n     }\r\n\r\nI&#39;d be a little worried that this method is declared as abstract on the Account class. Why would a transfer be implemented differently on two different classes?\r\n\r\n     public abstract void transfer(double amount, Account account);\r\n\r\nI suggest this method would be belong more to an AccountManager class which would ensure the correct amount is credited/debited from two accounts. \r\n\r\n     public void transfer(double amount, Account fromAccount, Account toAccount);\r\n\r\nThis class could then check that the &#39;fromAccount&#39; has the required funds available to transfer as a validation step before the actual transfer happens.","title":"Java Bank program. How to let customer have multiple accounts?","body":"<p>First off rename Account to AbstractAccount and create an Account interface, your Credit and Saving accounts are concrete implementations. Then in your Customer class declare a variable accounts which is a List accounts. Something like</p>\n\n<pre><code>public class Customer {\n    private String firstName;\n    private String lastName;\n    private String number;\n\n    private List&lt;Account&gt; accounts;\n</code></pre>\n\n<p>Your Account interface might look like</p>\n\n<pre><code>interface Account {\n\n    public void deposit(double amount); \n\n    public void withdraw(double amount);\n\n    public double getBalance();\n\n    public String getAccountId();\n}\n</code></pre>\n\n<p>Your existing class gets refactored</p>\n\n<pre><code> public abstract AbstractAccount implements Account {\n     ....\n }\n</code></pre>\n\n<p>Your SavingAccount becomes</p>\n\n<pre><code> public SavingAccount extends AbstractAccount {\n  ....\n }\n</code></pre>\n\n<p>I'd be a little worried that this method is declared as abstract on the Account class. Why would a transfer be implemented differently on two different classes?</p>\n\n<pre><code> public abstract void transfer(double amount, Account account);\n</code></pre>\n\n<p>I suggest this method would be belong more to an AccountManager class which would ensure the correct amount is credited/debited from two accounts. </p>\n\n<pre><code> public void transfer(double amount, Account fromAccount, Account toAccount);\n</code></pre>\n\n<p>This class could then check that the 'fromAccount' has the required funds available to transfer as a validation step before the actual transfer happens.</p>\n"},{"tags":[],"owner":{"account_id":2290397,"reputation":144,"user_id":2013377,"display_name":"tomer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411239212,"creation_date":1411239212,"answer_id":25952230,"question_id":25952086,"body_markdown":"Instead of get to Customer&#39;s object constructor SavingsAccount or CreditAccount,\r\nyou may use:\r\n\r\n    Customer(String firstName, String lastName, String number) { \t\r\n\t...\r\n    }\r\n\r\n\r\nAnd add set method to account and cAccount:\r\n\r\n    Public void setAccount(SavingAccount account) {\r\n    \tThis.account = account;\r\n    }\r\n\r\nof course you could create a list like in the previous comment:\r\n\r\nand add method:\r\n\r\n    public void addAccount(Account account) {\r\n        accounts.add(account);\r\n    }\r\n\r\n","title":"Java Bank program. How to let customer have multiple accounts?","body":"<p>Instead of get to Customer's object constructor SavingsAccount or CreditAccount,\nyou may use:</p>\n\n<pre><code>Customer(String firstName, String lastName, String number) {    \n...\n}\n</code></pre>\n\n<p>And add set method to account and cAccount:</p>\n\n<pre><code>Public void setAccount(SavingAccount account) {\n    This.account = account;\n}\n</code></pre>\n\n<p>of course you could create a list like in the previous comment:</p>\n\n<p>and add method:</p>\n\n<pre><code>public void addAccount(Account account) {\n    accounts.add(account);\n}\n</code></pre>\n"}],"owner":{"account_id":3515829,"reputation":803,"user_id":2939293,"accept_rate":76,"display_name":"user2939293"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35828,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1662812520,"creation_date":1411238136,"question_id":25952086,"body_markdown":"I&#39;m making a bank program in java and have 5 classes:\r\nAccount, SavingsAccount (inherits Account), CreditAccount (inherits Account), Bank, Customer.\r\n\r\nThe program is working as it is, but I can&#39;t figure out how to make a customer have two or more accounts. Lets say that one customer wants both a credit account AND a savings account, or maybe two savings accounts.\r\n\r\nCan anyone give me some suggestions? Thank you\r\n\r\nBank class:\r\n\r\n    public class Bank {\r\n        String bankName;\r\n        private Customer[] customers = new Customer[100];\r\n        \r\n        Bank(String bankName) {\r\n            this.bankName = bankName;\r\n        }\r\n    \r\n        public Customer[] getCustomer() {\r\n            return customers;\r\n        }  \r\n    \r\n       public String getBankname() {\r\n           return bankName;\r\n       }\r\n    }\r\n\r\nAccount class:\r\n\r\n    public abstract class Account {\r\n        protected double balance = 0;\r\n        protected String accountId;\r\n     \r\n       public Account() {}  //Defaultkonstruktor\r\n      \r\n       public Account(double bal, String id) {   //Konstruktor\r\n           if (balance &gt;= 0) {\r\n               balance = bal;\r\n           }\r\n           else {\r\n               balance = 0;\r\n           }\r\n           accountId = id;\r\n       }\r\n   \r\n       public abstract void deposit(double amount); \r\n   \r\n       public abstract void withdraw(double amount);\r\n      \r\n       public abstract double getBalance();\r\n      \r\n       public abstract String getAccountId();\r\n   \r\n       public abstract void transfer(double amount, Account account);\r\n    }\r\n\r\nSavingsAccount class: (CreditAccount class is similar)\r\n     \r\n    public class SavingsAccount extends Account{ \r\n        private double interest = 2.9;\r\n    \r\n        public SavingsAccount() {      //Konstruktor\r\n            super();\r\n        }\r\n    \r\n        public SavingsAccount(double balance, String id) {   //Konstruktor\r\n            super(bal,id);\r\n        }\r\n    \r\n        public void setInterest(Customer customer) {\r\n          //code\r\n        }\r\n\r\n        public void setBalance(double balance) {\r\n           //code\r\n        }\r\n   \r\n        @Override\r\n        public void deposit(double amount) {\r\n           //code\r\n        }\r\n    \r\n        @Override\r\n        public void withdraw(double amount) {\r\n           //code\r\n        }\r\n    \r\n        @Override\r\n        public double getBalance(){\r\n           //code\r\n        }\r\n    \r\n        @Override\r\n        public String getAccountId(){\r\n           //code\r\n        }\r\n  \r\n        @Override\r\n        public void transfer(double amount, Account account) {\r\n           //code\r\n        }\r\n    \r\n        public void setInterest(double interest){\r\n           //code\r\n        }\r\n    \r\n        public double getInterest(){\r\n          //code\r\n        }\r\n    }\r\n\r\nCustomer class:\r\n\r\n    public class Customer {\r\n        private String firstName;\r\n        private String lastName;\r\n        private String number;\r\n    \r\n        private SavingsAccount account = new SavingsAccount();\r\n        private CreditAccount cAccount = new CreditAccount();\r\n    \r\n        Customer(String firstName, String lastName, String number, SavingsAccount account) {   \r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.number = number;\r\n            this.account = account;\r\n         }\r\n    \r\n        Customer(String firstName, String lastName, String number, CreditAccount cAccount) {   \r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.number = number;\r\n            this.cAccount = cAccount;\r\n        }\r\n                       \r\n        public SavingsAccount getAccount() {\r\n            return account;\r\n        }\r\n    \r\n        public CreditAccount getCreditAccount() {\r\n            return cAccount;\r\n        }       \t \r\n    }\r\n\r\nMain:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int choice;\r\n        int numberOfCustomers = 0;\r\n        boolean endProgram = false;\r\n        String bankName;   \r\n        System.out.print(&quot;Name of bank: &quot;);\r\n        bankName = input.next();\r\n        Bank bank = new Bank(bankName);\r\n        String accountId;\r\n        \r\n        SavingsAccount acc = new SavingsAccount();  \r\n        Customer[] customer = bank.getCustomer();            \r\n       \r\n        do {        \r\n            System.out.println(&quot;    &quot; + bank.getBankname() + &quot;\\n&quot;);\r\n            System.out.println(&quot;    1. See balance                          &quot;);\r\n            System.out.println(&quot;    2. Withdraw                             &quot;);\r\n            System.out.println(&quot;    3. Deposit                              &quot;);\r\n            System.out.println(&quot;    4. Transfer                             &quot;);\r\n            System.out.println(&quot;    5. Add interest                         &quot;);\r\n            System.out.println(&quot;    6. Add new customer                     &quot;);\r\n            System.out.println(&quot;    7. Show customers                       &quot;);\r\n            System.out.println(&quot;    8. Change interest                      &quot;);\r\n            System.out.println(&quot;    0. Exit                                 &quot;);            \r\n        \r\n            choice = input.nextInt();\r\n        \r\n            switch(choice) {\r\n                \r\n                case 1:  \r\n                    //code                        \r\n                    break;\r\n                    \r\n                    \r\n                case 2: \r\n                    //code\r\n                    break;\r\n                    \r\n                    \r\n                case 3: \r\n                    //code\r\n                    break;\r\n                    \r\n                    \r\n                case 4: \r\n                    //code\r\n                    break;                   \r\n                    \r\n                    \r\n                case 5: \r\n                    //code\r\n                    break;\r\n                    \r\n                    \r\n                case 6: //Add customer                   \r\n                    System.out.println(&quot;Choose account: &quot;);\r\n                    System.out.println(&quot;1. Savings account&quot;);\r\n                    System.out.println(&quot;2. Credit account&quot;);\r\n                    choice = input.nextInt();\r\n                    switch(choice) {\r\n                        \r\n                        case 1:     //Create savings account\r\n                            System.out.print(&quot;Enter amount to deposit: &quot;);\r\n                            double amount = input.nextDouble();\r\n                            System.out.println(&quot;Account number is: &quot; + numberOfCustomers);\r\n                            SavingsAccount savingsAccount = new SavingsAccount(amount, String.valueOf(numberOfCustomers));                    \r\n                            System.out.print(&quot;First name: &quot;);\r\n                            String firstName = input.next();\r\n                            System.out.print(&quot;Last name: &quot;);\r\n                            String lastName = input.next();\r\n                            System.out.print(&quot;Customer number: &quot;);\r\n                            String pnumber = input.next();\r\n                            \r\n                            Customer newCustomer = new Customer(firstName, lastName, pnumber, savingsAccount);\r\n                            customer[numberOfCustomers] = newCustomer;\r\n                            numberOfCustomers++;              \r\n                                                         \r\n                            break;\r\n                            \r\n                        case 2:     //Create credit account\r\n                            System.out.print(&quot;Enter amount to deposit: &quot;);\r\n                            double amount = input.nextDouble();\r\n                            System.out.println(&quot;Account number is: &quot; + numberOfCustomers);\r\n                            CreditAccount creditAccount = new CreditAccount(amount, String.valueOf(numberOfCustomers));                    \r\n                            System.out.print(&quot;First name: &quot;);\r\n                            String firstName = input.next();\r\n                            System.out.print(&quot;Last name: &quot;);\r\n                            String lastName = input.next();\r\n                            System.out.print(&quot;Customer number: &quot;);\r\n                            String pnumber = input.next();\r\n                            \r\n                            Customer newCustomer = new Customer(firstName, lastName, pnumber, creditAccount);\r\n                            customer[numberOfCustomers] = newCustomer;\r\n                            numberOfCustomers++;                    \r\n                                \r\n                            break;                            \r\n                    }\r\n                    break;\r\n                \r\n                    \r\n                case 7: \r\n                    //code\r\n                    break;\r\n                    \r\n                    \r\n                case 8: \r\n                    //code                    \r\n                    break;  \r\n                    \r\n                    \r\n                case 0: \r\n                    //code\r\n                    break;\r\n            }\r\n        } while (!endProgram);\r\n    }\r\n\r\n        \r\n      ","title":"Java Bank program. How to let customer have multiple accounts?","body":"<p>I'm making a bank program in java and have 5 classes:\nAccount, SavingsAccount (inherits Account), CreditAccount (inherits Account), Bank, Customer.</p>\n\n<p>The program is working as it is, but I can't figure out how to make a customer have two or more accounts. Lets say that one customer wants both a credit account AND a savings account, or maybe two savings accounts.</p>\n\n<p>Can anyone give me some suggestions? Thank you</p>\n\n<p>Bank class:</p>\n\n<pre><code>public class Bank {\n    String bankName;\n    private Customer[] customers = new Customer[100];\n\n    Bank(String bankName) {\n        this.bankName = bankName;\n    }\n\n    public Customer[] getCustomer() {\n        return customers;\n    }  \n\n   public String getBankname() {\n       return bankName;\n   }\n}\n</code></pre>\n\n<p>Account class:</p>\n\n<pre><code>public abstract class Account {\n    protected double balance = 0;\n    protected String accountId;\n\n   public Account() {}  //Defaultkonstruktor\n\n   public Account(double bal, String id) {   //Konstruktor\n       if (balance &gt;= 0) {\n           balance = bal;\n       }\n       else {\n           balance = 0;\n       }\n       accountId = id;\n   }\n\n   public abstract void deposit(double amount); \n\n   public abstract void withdraw(double amount);\n\n   public abstract double getBalance();\n\n   public abstract String getAccountId();\n\n   public abstract void transfer(double amount, Account account);\n}\n</code></pre>\n\n<p>SavingsAccount class: (CreditAccount class is similar)</p>\n\n<pre><code>public class SavingsAccount extends Account{ \n    private double interest = 2.9;\n\n    public SavingsAccount() {      //Konstruktor\n        super();\n    }\n\n    public SavingsAccount(double balance, String id) {   //Konstruktor\n        super(bal,id);\n    }\n\n    public void setInterest(Customer customer) {\n      //code\n    }\n\n    public void setBalance(double balance) {\n       //code\n    }\n\n    @Override\n    public void deposit(double amount) {\n       //code\n    }\n\n    @Override\n    public void withdraw(double amount) {\n       //code\n    }\n\n    @Override\n    public double getBalance(){\n       //code\n    }\n\n    @Override\n    public String getAccountId(){\n       //code\n    }\n\n    @Override\n    public void transfer(double amount, Account account) {\n       //code\n    }\n\n    public void setInterest(double interest){\n       //code\n    }\n\n    public double getInterest(){\n      //code\n    }\n}\n</code></pre>\n\n<p>Customer class:</p>\n\n<pre><code>public class Customer {\n    private String firstName;\n    private String lastName;\n    private String number;\n\n    private SavingsAccount account = new SavingsAccount();\n    private CreditAccount cAccount = new CreditAccount();\n\n    Customer(String firstName, String lastName, String number, SavingsAccount account) {   \n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.number = number;\n        this.account = account;\n     }\n\n    Customer(String firstName, String lastName, String number, CreditAccount cAccount) {   \n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.number = number;\n        this.cAccount = cAccount;\n    }\n\n    public SavingsAccount getAccount() {\n        return account;\n    }\n\n    public CreditAccount getCreditAccount() {\n        return cAccount;\n    }            \n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int choice;\n    int numberOfCustomers = 0;\n    boolean endProgram = false;\n    String bankName;   \n    System.out.print(\"Name of bank: \");\n    bankName = input.next();\n    Bank bank = new Bank(bankName);\n    String accountId;\n\n    SavingsAccount acc = new SavingsAccount();  \n    Customer[] customer = bank.getCustomer();            \n\n    do {        \n        System.out.println(\"    \" + bank.getBankname() + \"\\n\");\n        System.out.println(\"    1. See balance                          \");\n        System.out.println(\"    2. Withdraw                             \");\n        System.out.println(\"    3. Deposit                              \");\n        System.out.println(\"    4. Transfer                             \");\n        System.out.println(\"    5. Add interest                         \");\n        System.out.println(\"    6. Add new customer                     \");\n        System.out.println(\"    7. Show customers                       \");\n        System.out.println(\"    8. Change interest                      \");\n        System.out.println(\"    0. Exit                                 \");            \n\n        choice = input.nextInt();\n\n        switch(choice) {\n\n            case 1:  \n                //code                        \n                break;\n\n\n            case 2: \n                //code\n                break;\n\n\n            case 3: \n                //code\n                break;\n\n\n            case 4: \n                //code\n                break;                   \n\n\n            case 5: \n                //code\n                break;\n\n\n            case 6: //Add customer                   \n                System.out.println(\"Choose account: \");\n                System.out.println(\"1. Savings account\");\n                System.out.println(\"2. Credit account\");\n                choice = input.nextInt();\n                switch(choice) {\n\n                    case 1:     //Create savings account\n                        System.out.print(\"Enter amount to deposit: \");\n                        double amount = input.nextDouble();\n                        System.out.println(\"Account number is: \" + numberOfCustomers);\n                        SavingsAccount savingsAccount = new SavingsAccount(amount, String.valueOf(numberOfCustomers));                    \n                        System.out.print(\"First name: \");\n                        String firstName = input.next();\n                        System.out.print(\"Last name: \");\n                        String lastName = input.next();\n                        System.out.print(\"Customer number: \");\n                        String pnumber = input.next();\n\n                        Customer newCustomer = new Customer(firstName, lastName, pnumber, savingsAccount);\n                        customer[numberOfCustomers] = newCustomer;\n                        numberOfCustomers++;              \n\n                        break;\n\n                    case 2:     //Create credit account\n                        System.out.print(\"Enter amount to deposit: \");\n                        double amount = input.nextDouble();\n                        System.out.println(\"Account number is: \" + numberOfCustomers);\n                        CreditAccount creditAccount = new CreditAccount(amount, String.valueOf(numberOfCustomers));                    \n                        System.out.print(\"First name: \");\n                        String firstName = input.next();\n                        System.out.print(\"Last name: \");\n                        String lastName = input.next();\n                        System.out.print(\"Customer number: \");\n                        String pnumber = input.next();\n\n                        Customer newCustomer = new Customer(firstName, lastName, pnumber, creditAccount);\n                        customer[numberOfCustomers] = newCustomer;\n                        numberOfCustomers++;                    \n\n                        break;                            \n                }\n                break;\n\n\n            case 7: \n                //code\n                break;\n\n\n            case 8: \n                //code                    \n                break;  \n\n\n            case 0: \n                //code\n                break;\n        }\n    } while (!endProgram);\n}\n</code></pre>\n"},{"tags":["java","android","resources","carousel"],"answers":[{"tags":[],"owner":{"account_id":1612293,"reputation":1467,"user_id":1490902,"display_name":"Jayesh Elamgodil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433790852,"creation_date":1433790852,"answer_id":30717263,"question_id":30716865,"body_markdown":"In addition to comparing with ids, there is an additional way to use a &#39;tag&#39;. You can set a tag on the imageView using the **setTag** method and then in the onClick method you can compare this tag. ","title":"creating unique onClick listener for each item in a carousel - Android / Java","body":"<p>In addition to comparing with ids, there is an additional way to use a 'tag'. You can set a tag on the imageView using the <strong>setTag</strong> method and then in the onClick method you can compare this tag. </p>\n"},{"tags":[],"owner":{"account_id":9956303,"reputation":121,"user_id":7367098,"display_name":"zoulou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662811760,"creation_date":1662810934,"answer_id":73671615,"question_id":30716865,"body_markdown":"To add a View.OnClickListener on items in a Carousel with [MotionLayout][1] is not different to any other scenarios.\r\nAssume a `motionlayout.xml` as\r\n\r\n    &lt;androidx.constraintlayout.motion.widget.MotionLayout ...\r\n        android:id=&quot;@+id/motionLayoutCarousel&quot;\r\n        ...\r\n        &lt;ImageView android:id=&quot;@+id/item1&quot; .../&gt;\r\n        &lt;ImageView android:id=&quot;@+id/item2&quot; .../&gt;\r\n        ...\r\n        &lt;ImageView android:id=&quot;@+id/item5&quot; .../&gt;\r\n        &lt;androidx.constraintlayout.helper.widget.Carousel \r\n            ... /&gt;\r\n    &lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;        \r\n\r\nthen in the Fragment (or Activity) where the `motionLayoutCarousel` is inflated, simply add code like below. Note: example below uses [View Binding][2], but this is actually irrelevant.\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        \r\n        MotionlayoutBinding binding = MotionlayoutBinding.inflate(inflater, container, false);\r\n\r\n        final @IdRes int[] clickableViews = {\r\n                R.id.item1, R.id.item2, R.id.item3, R.id.item4, R.id.item5\r\n        };\r\n        for (@IdRes int v : clickableViews) {\r\n            View clickView = binding.motionLayoutCarousel.findViewById(v);\r\n            \r\n            clickView.setOnClickListener(this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        final @IdRes int id = v.getId();\r\n        Integer idx = (Integer) v.getTag();\r\n        Log.i(LOGTAG, &quot;onClick 0x&quot; + Integer.toHexString(id) + &quot; idx &quot; + idx);\r\n    }\r\n\r\nIn the Adapter of the Carousel you need to assign the index of a certain item via `setTag`. Then the `onClick(View)` will allow you to know, which index into the data was actually clicked.\r\n\r\n    @Override\r\n    public void populate(View view, int index) {\r\n        view.setTag(index)\r\n        ...\r\n    }\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/animations/motionlayout/carousel\r\n  [2]: https://developer.android.com/topic/libraries/view-binding","title":"creating unique onClick listener for each item in a carousel - Android / Java","body":"<p>To add a View.OnClickListener on items in a Carousel with <a href=\"https://developer.android.com/develop/ui/views/animations/motionlayout/carousel\" rel=\"nofollow noreferrer\">MotionLayout</a> is not different to any other scenarios.\nAssume a <code>motionlayout.xml</code> as</p>\n<pre><code>&lt;androidx.constraintlayout.motion.widget.MotionLayout ...\n    android:id=&quot;@+id/motionLayoutCarousel&quot;\n    ...\n    &lt;ImageView android:id=&quot;@+id/item1&quot; .../&gt;\n    &lt;ImageView android:id=&quot;@+id/item2&quot; .../&gt;\n    ...\n    &lt;ImageView android:id=&quot;@+id/item5&quot; .../&gt;\n    &lt;androidx.constraintlayout.helper.widget.Carousel \n        ... /&gt;\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;        \n</code></pre>\n<p>then in the Fragment (or Activity) where the <code>motionLayoutCarousel</code> is inflated, simply add code like below. Note: example below uses <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">View Binding</a>, but this is actually irrelevant.</p>\n<pre><code>@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    \n    MotionlayoutBinding binding = MotionlayoutBinding.inflate(inflater, container, false);\n\n    final @IdRes int[] clickableViews = {\n            R.id.item1, R.id.item2, R.id.item3, R.id.item4, R.id.item5\n    };\n    for (@IdRes int v : clickableViews) {\n        View clickView = binding.motionLayoutCarousel.findViewById(v);\n        \n        clickView.setOnClickListener(this);\n    }\n}\n\n@Override\npublic void onClick(View v) {\n    final @IdRes int id = v.getId();\n    Integer idx = (Integer) v.getTag();\n    Log.i(LOGTAG, &quot;onClick 0x&quot; + Integer.toHexString(id) + &quot; idx &quot; + idx);\n}\n</code></pre>\n<p>In the Adapter of the Carousel you need to assign the index of a certain item via <code>setTag</code>. Then the <code>onClick(View)</code> will allow you to know, which index into the data was actually clicked.</p>\n<pre><code>@Override\npublic void populate(View view, int index) {\n    view.setTag(index)\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6296857,"reputation":217,"user_id":4892778,"accept_rate":50,"display_name":"Jackie Deezner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662811760,"creation_date":1433789508,"question_id":30716865,"body_markdown":"\r\nI&#39;m attempting to create an onClick listener for each item in my imageCarousel  - however I&#39;m unable to create a unique listener for each object in the carousel. \r\n\r\nCurrently - the listener functions - but it applies to all items in the carousel - and my attempts at finding/using the unique ID for each item has failed. \r\n\r\n\r\nCurrent implementation: \r\n---\r\n\r\n\r\n\r\n\r\n\t\tfor (int i = 0; i &lt; titleResourcesTypedArray.length(); ++i) {\r\n\t\t\t// Create new ImageView\r\n\t\t\timageItem = new ImageView(this);\r\n\r\n\t\t\t// Set the shadow background\r\n\t\t\timageItem.setBackgroundResource(R.drawable.shadow);\r\n\r\n\t\t\t// Set the image view resource\r\n\t\t\timageItem.setImageResource(titleResourcesTypedArray.getResourceId(\r\n\t\t\t\t\ti, -1));\r\n\r\n\t\t\t// Set the size of the image view to the previously computed value\r\n\t\t\timageItem.setLayoutParams(new LinearLayout.LayoutParams(imageWidth,\r\n\t\t\t\t\timageWidth));\r\n\t\t\t\r\n\t\t\t//imageItem.setOnClickListener(this);\r\n\t\t\t\r\n\t\t\t// Add image to the carousel\r\n\t\t\tmCarouselContainer1.addView(imageItem);\r\n\r\n\t\t\timageItem.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t// create an onClick Listener\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\t// create an onClick Event (Start the Map Download)\r\n\t\t\t\t\tIntent intent = new Intent(Home.this, Download.class);\r\n\t\t\t\t\tstartActivity(intent);\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\r\nDesired implementation: \r\n---\r\n\r\n\r\nI believe I should be using something along the lines of:\r\n\r\n\r\n\t\t\timageItem.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\ttitleResourcesTypedArray.getResources();\r\n\t\t\t\t\tif (v.getId() = 7) {\r\n\t\t\t\t\t\tIntent intent = new Intent(Home.this, Download.class);\r\n\t\t\t\t\t\tstartActivity(intent);\r\n\r\n\r\n\t\t\t\t\t\t...\r\n\r\n\r\n\r\n\r\n\r\nor perhaps: \r\n\r\n\r\n\r\n\t\t\timageItem.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\ttitleResourcesTypedArray.getResources();\r\n\t\t\t\t if (v.getResources() = 10) {\r\n\t\t\t\t \t\t\t// Do Stuff\r\n\t\t\t\t\t\t\tIntent intent = new Intent(Home.this, Download.class);\r\n\t\t\t\t\t\t\tstartActivity(intent);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\nHow might I properly identify the ID of each item in a carousel? ","title":"creating unique onClick listener for each item in a carousel - Android / Java","body":"<p>I'm attempting to create an onClick listener for each item in my imageCarousel  - however I'm unable to create a unique listener for each object in the carousel. </p>\n\n<p>Currently - the listener functions - but it applies to all items in the carousel - and my attempts at finding/using the unique ID for each item has failed. </p>\n\n<h2>Current implementation:</h2>\n\n<pre><code>    for (int i = 0; i &lt; titleResourcesTypedArray.length(); ++i) {\n        // Create new ImageView\n        imageItem = new ImageView(this);\n\n        // Set the shadow background\n        imageItem.setBackgroundResource(R.drawable.shadow);\n\n        // Set the image view resource\n        imageItem.setImageResource(titleResourcesTypedArray.getResourceId(\n                i, -1));\n\n        // Set the size of the image view to the previously computed value\n        imageItem.setLayoutParams(new LinearLayout.LayoutParams(imageWidth,\n                imageWidth));\n\n        //imageItem.setOnClickListener(this);\n\n        // Add image to the carousel\n        mCarouselContainer1.addView(imageItem);\n\n        imageItem.setOnClickListener(new View.OnClickListener() {\n            // create an onClick Listener\n            @Override\n            public void onClick(View v) {\n                // create an onClick Event (Start the Map Download)\n                Intent intent = new Intent(Home.this, Download.class);\n                startActivity(intent);\n\n            }\n        });\n\n    }\n</code></pre>\n\n<h2>Desired implementation:</h2>\n\n<p>I believe I should be using something along the lines of:</p>\n\n<pre><code>        imageItem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                titleResourcesTypedArray.getResources();\n                if (v.getId() = 7) {\n                    Intent intent = new Intent(Home.this, Download.class);\n                    startActivity(intent);\n\n\n                    ...\n</code></pre>\n\n<p>or perhaps: </p>\n\n<pre><code>        imageItem.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                titleResourcesTypedArray.getResources();\n             if (v.getResources() = 10) {\n                        // Do Stuff\n                        Intent intent = new Intent(Home.this, Download.class);\n                        startActivity(intent);                          \n                    }\n\n\n                }\n            }\n</code></pre>\n\n<p>How might I properly identify the ID of each item in a carousel? </p>\n"},{"tags":["java","spring-boot","java-11","openfeign"],"owner":{"account_id":26228692,"reputation":11,"user_id":19905021,"display_name":"Fernandoavf7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662811524,"creation_date":1662130344,"question_id":73584429,"body_markdown":"I have tried dynamic headers sending them as HashMap like this:\r\n```\r\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;x-country&quot;, &quot;CL&quot;);\r\n```\r\nand all works fine, but I need to send them as static headers, and I am doing it this way:\r\n```\r\n//feign client interface:\r\n@FeignClient(name = &quot;ms-enterprise-api&quot;, url = &quot;http://localhost:8082&quot;)\r\npublic interface ApiFeignClient {\r\n    \r\n    @PostMapping(value = &quot;/v1/msService/getData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    @Headers({&quot;Content-Type: application/json&quot;,&quot;x-country: CL&quot;})\r\n    ResponseEntity&lt;PayResponseDTO&gt; getVoucher(@RequestBody PayRequestDTO request);\r\n    \r\n    @PostMapping(value = &quot;/v1/msService/getData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;PayResponseDTO&gt; getVoucherOld(@RequestHeader Map&lt;String, String&gt; headerMap, @RequestBody PayRequestDTO request);\r\n    \r\n}\r\n```\r\nThe error I get in the API requested:\r\n\r\n&gt; feign.FeignException$BadRequest: [400] during [POST] to\r\n&gt; [http://localhost:8082/v1/...getData]\r\n&gt; [ApiFeignClient#getVoucher(PayRequestDTO)]:\r\n&gt; [{&quot;timestamp&quot;:&quot;2022-09-02T14:33:57.360+00:00&quot;,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad\r\n&gt; Request&quot;,&quot;trace&quot;:&quot;org.springframework.web.bind.MissingRequestHeaderException:\r\n&gt; Required request header &#39;x-country&#39; for method para... (6239 bytes)]\r\n\r\nAm I doing something bad?","title":"open feign does not recognize static headers","body":"<p>I have tried dynamic headers sending them as HashMap like this:</p>\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;x-country&quot;, &quot;CL&quot;);\n</code></pre>\n<p>and all works fine, but I need to send them as static headers, and I am doing it this way:</p>\n<pre><code>//feign client interface:\n@FeignClient(name = &quot;ms-enterprise-api&quot;, url = &quot;http://localhost:8082&quot;)\npublic interface ApiFeignClient {\n    \n    @PostMapping(value = &quot;/v1/msService/getData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    @Headers({&quot;Content-Type: application/json&quot;,&quot;x-country: CL&quot;})\n    ResponseEntity&lt;PayResponseDTO&gt; getVoucher(@RequestBody PayRequestDTO request);\n    \n    @PostMapping(value = &quot;/v1/msService/getData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;PayResponseDTO&gt; getVoucherOld(@RequestHeader Map&lt;String, String&gt; headerMap, @RequestBody PayRequestDTO request);\n    \n}\n</code></pre>\n<p>The error I get in the API requested:</p>\n<blockquote>\n<p>feign.FeignException$BadRequest: [400] during [POST] to\n[http://localhost:8082/v1/...getData]\n[ApiFeignClient#getVoucher(PayRequestDTO)]:\n[{&quot;timestamp&quot;:&quot;2022-09-02T14:33:57.360+00:00&quot;,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad\nRequest&quot;,&quot;trace&quot;:&quot;org.springframework.web.bind.MissingRequestHeaderException:\nRequired request header 'x-country' for method para... (6239 bytes)]</p>\n</blockquote>\n<p>Am I doing something bad?</p>\n"},{"tags":["java","android-studio","android-fragments","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":23998144,"reputation":155,"user_id":17983433,"display_name":"Gum Naam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662811355,"creation_date":1662811355,"answer_id":73671668,"question_id":73670918,"body_markdown":"It&#39;s pretty much simple. Write the following code in your adapter class\r\n\r\n   \r\n\r\n     holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n             Intent intent = new Intent(context, bok_Fragment.class)                 \r\n             intent.putExtra(&quot;fortest&quot;,list.get(position).getFortest());\r\n             intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n             context.startActivity(intent);\r\n                }\r\n                    });\r\n\r\nWrite this code in the Fragment in which you want to show the data\r\n\r\n    String anyname= getIntent().getStringExtra(&quot;fortest&quot;);\r\n    bokData.setText(anyname)\r\n","title":"Send RecylerView Items Data To Another Fragment. I Am Getting Data From Firebase RealTime Database","body":"<p>It's pretty much simple. Write the following code in your adapter class</p>\n<pre><code> holder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n         Intent intent = new Intent(context, bok_Fragment.class)                 \n         intent.putExtra(&quot;fortest&quot;,list.get(position).getFortest());\n         intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n         context.startActivity(intent);\n            }\n                });\n</code></pre>\n<p>Write this code in the Fragment in which you want to show the data</p>\n<pre><code>String anyname= getIntent().getStringExtra(&quot;fortest&quot;);\nbokData.setText(anyname)\n</code></pre>\n"}],"owner":{"account_id":26297499,"reputation":1,"user_id":19963496,"display_name":"asif ullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73671668,"answer_count":1,"score":-1,"last_activity_date":1662811355,"creation_date":1662804203,"question_id":73670918,"body_markdown":"***Adapter***\r\nThis is my Adapter Class .I am Getting data from Firebase Realtime Database. When i click on the recyclerView Items I want that items Data To Show on Another Fragments TextView.\r\n\r\n    public class MyAdapter_2 extends RecyclerView.Adapter&lt;MyAdapter_2.MyViewholder&gt; {\r\n    \r\n        Context context;\r\n        ArrayList&lt;Model&gt; list;\r\n    \r\n        public MyAdapter_2(Context context, ArrayList&lt;Model&gt; list) {\r\n            this.context = context;\r\n            this.list = list;\r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyAdapter_2.MyViewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n    \r\n            View v = LayoutInflater.from(context).inflate(R.layout.fetch_data, parent, false);\r\n    \r\n            return new MyViewholder(v);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyAdapter_2.MyViewholder holder, int position) {\r\n    //        Chat_Fragment chat_fragment = new Chat_Fragment();\r\n    \r\n    \r\n            Model model = list.get(position);\r\n    \r\n            holder.speach.setText(model.getSpeach());\r\n    \r\n    \r\n            holder.remove.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    FirebaseAuth mAuth;\r\n                    String userId;\r\n    \r\n                    mAuth = FirebaseAuth.getInstance();\r\n                    userId = mAuth.getCurrentUser().getUid();\r\n    \r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(holder.speach.getContext());\r\n                    builder.setTitle(&quot;Are you sure !&quot;);\r\n                    builder.setMessage(&quot;Deleted data cant be undo&quot;);\r\n                    builder.setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n    \r\n    \r\n                            FirebaseDatabase.getInstance().getReference()\r\n                                    .child(&quot;User &quot; + userId)\r\n                                    .child(model.getKey())\r\n                                    .removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                Toast.makeText(v.getContext(), &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                    }).addOnFailureListener(new OnFailureListener() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Exception e) {\r\n                                            Toast.makeText(v.getContext(), &quot;Failed  &quot; + e, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    });\r\n                        }\r\n                    }).setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                        }\r\n                    });\r\n                    builder.show();\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    \r\n    \r\n        public class MyViewholder extends RecyclerView.ViewHolder {\r\n    \r\n    \r\n            TextView speach, fortest;\r\n            TextView remove;\r\n    \r\n            public MyViewholder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                speach = itemView.findViewById(R.id.savedDialogue);\r\n                remove = itemView.findViewById(R.id.remove);\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n***BottomSheetFragment***\r\nThis tis the Fragment Where i set My RecyclerView.\r\n\r\n\r\n    public class Bottom_recycler extends BottomSheetFragment {\r\n    \r\n        RecyclerView recyclerView2;\r\n        FirebaseAuth mAuth;\r\n    \r\n    \r\n        DatabaseReference root;\r\n    \r\n        MyAdapter_2 MyAdapter_2;\r\n        ArrayList&lt;Model&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        String userId;\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_bottom_recycler, container, false);\r\n    \r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n            userId = mAuth.getCurrentUser().getUid();\r\n    \r\n    \r\n            recyclerView2 = view.findViewById(R.id.recyclerView2);\r\n            recyclerView2.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    \r\n            MyAdapter_2 = new MyAdapter_2(getContext(), list);\r\n            recyclerView2.setHasFixedSize(true);\r\n            recyclerView2.setAdapter(MyAdapter_2);\r\n    \r\n    \r\n            root = FirebaseDatabase.getInstance().getReference().child(&quot;User &quot; + userId);\r\n            root.keepSynced(true);\r\n    \r\n            root.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    list.clear();\r\n                    for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n    \r\n                        Model model = snapshot1.getValue(Model.class);\r\n    \r\n                        list.add(model);\r\n    \r\n                    }\r\n                    MyAdapter_2.notifyDataSetChanged();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(getContext(), &quot;&quot; + error, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n    \r\n            return view;\r\n        }\r\n    \r\n    \r\n    }\r\n***Fragment***\r\nThis is  The fragment, I want That RecyclerView data . And Show it in my Text View. When User click RecyclerView Item.\r\n\r\n    public class bok_Fragment extends Fragment {\r\n    \r\n        TextView bokData;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n          View view = inflater.inflate(R.layout.fragment_bok_, container, false);\r\n    \r\n    \r\n    \r\n            bokData = view.findViewById(R.id.bokData);\r\n    \r\n    \r\n    \r\n           return view;\r\n        }\r\n    }\r\n\r\n","title":"Send RecylerView Items Data To Another Fragment. I Am Getting Data From Firebase RealTime Database","body":"<p><em><strong>Adapter</strong></em>\nThis is my Adapter Class .I am Getting data from Firebase Realtime Database. When i click on the recyclerView Items I want that items Data To Show on Another Fragments TextView.</p>\n<pre><code>public class MyAdapter_2 extends RecyclerView.Adapter&lt;MyAdapter_2.MyViewholder&gt; {\n\n    Context context;\n    ArrayList&lt;Model&gt; list;\n\n    public MyAdapter_2(Context context, ArrayList&lt;Model&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n\n    @NonNull\n    @Override\n    public MyAdapter_2.MyViewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n\n        View v = LayoutInflater.from(context).inflate(R.layout.fetch_data, parent, false);\n\n        return new MyViewholder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter_2.MyViewholder holder, int position) {\n//        Chat_Fragment chat_fragment = new Chat_Fragment();\n\n\n        Model model = list.get(position);\n\n        holder.speach.setText(model.getSpeach());\n\n\n        holder.remove.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                FirebaseAuth mAuth;\n                String userId;\n\n                mAuth = FirebaseAuth.getInstance();\n                userId = mAuth.getCurrentUser().getUid();\n\n                AlertDialog.Builder builder = new AlertDialog.Builder(holder.speach.getContext());\n                builder.setTitle(&quot;Are you sure !&quot;);\n                builder.setMessage(&quot;Deleted data cant be undo&quot;);\n                builder.setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n\n                        FirebaseDatabase.getInstance().getReference()\n                                .child(&quot;User &quot; + userId)\n                                .child(model.getKey())\n                                .removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            Toast.makeText(v.getContext(), &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    }\n                                }).addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n                                        Toast.makeText(v.getContext(), &quot;Failed  &quot; + e, Toast.LENGTH_SHORT).show();\n                                    }\n                                });\n                    }\n                }).setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                    }\n                });\n                builder.show();\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n\n    public class MyViewholder extends RecyclerView.ViewHolder {\n\n\n        TextView speach, fortest;\n        TextView remove;\n\n        public MyViewholder(@NonNull View itemView) {\n            super(itemView);\n\n            speach = itemView.findViewById(R.id.savedDialogue);\n            remove = itemView.findViewById(R.id.remove);\n\n\n        }\n\n\n    }\n\n\n}\n</code></pre>\n<p><em><strong>BottomSheetFragment</strong></em>\nThis tis the Fragment Where i set My RecyclerView.</p>\n<pre><code>public class Bottom_recycler extends BottomSheetFragment {\n\n    RecyclerView recyclerView2;\n    FirebaseAuth mAuth;\n\n\n    DatabaseReference root;\n\n    MyAdapter_2 MyAdapter_2;\n    ArrayList&lt;Model&gt; list = new ArrayList&lt;&gt;();\n\n    String userId;\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_bottom_recycler, container, false);\n\n\n        mAuth = FirebaseAuth.getInstance();\n        userId = mAuth.getCurrentUser().getUid();\n\n\n        recyclerView2 = view.findViewById(R.id.recyclerView2);\n        recyclerView2.setLayoutManager(new LinearLayoutManager(getContext()));\n\n        MyAdapter_2 = new MyAdapter_2(getContext(), list);\n        recyclerView2.setHasFixedSize(true);\n        recyclerView2.setAdapter(MyAdapter_2);\n\n\n        root = FirebaseDatabase.getInstance().getReference().child(&quot;User &quot; + userId);\n        root.keepSynced(true);\n\n        root.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                list.clear();\n                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n\n                    Model model = snapshot1.getValue(Model.class);\n\n                    list.add(model);\n\n                }\n                MyAdapter_2.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(getContext(), &quot;&quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n        return view;\n    }\n\n\n}\n</code></pre>\n<p><em><strong>Fragment</strong></em>\nThis is  The fragment, I want That RecyclerView data . And Show it in my Text View. When User click RecyclerView Item.</p>\n<pre><code>public class bok_Fragment extends Fragment {\n\n    TextView bokData;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n      View view = inflater.inflate(R.layout.fragment_bok_, container, false);\n\n\n\n        bokData = view.findViewById(R.id.bokData);\n\n\n\n       return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","compose-desktop","jetbrains-compose"],"answers":[{"tags":[],"owner":{"account_id":6356369,"reputation":66,"user_id":4933487,"display_name":"succlz123"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662810898,"creation_date":1662810498,"answer_id":73671567,"question_id":70764268,"body_markdown":"You can have a try like this\r\n    \r\n    compose.desktop {\r\n        application {\r\n            mainClass = &quot;MainKt&quot;\r\n            nativeDistributions {\r\n            targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb)\r\n                packageName = &quot;untitled&quot;\r\n                packageVersion = &quot;1.0.0&quot;\r\n                modules(&quot;java.net.http&quot;)\r\n            }\r\n        }\r\n    }\r\n","title":"Compose Desktop application crashing: ClassNotFoundException: java.net.http.HttpClient","body":"<p>You can have a try like this</p>\n<pre><code>compose.desktop {\n    application {\n        mainClass = &quot;MainKt&quot;\n        nativeDistributions {\n        targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb)\n            packageName = &quot;untitled&quot;\n            packageVersion = &quot;1.0.0&quot;\n            modules(&quot;java.net.http&quot;)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14636108,"reputation":1436,"user_id":10570201,"display_name":"nhcodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662810898,"creation_date":1642555096,"question_id":70764268,"body_markdown":"I want to use the java.net.http package in my compose desktop application. When I run the application in IntelliJ, everything works fine. But when I build a .deb file using packageDeb and install it via apt, the application crashes due to a ```java.lang.ClassNotFoundException: java.net.http.HttpClient``` when I click on the &quot;Start&quot; button.\r\n\r\nHere&#39;s the example code:\r\n```\r\nimport androidx.compose.desktop.ui.tooling.preview.Preview\r\nimport androidx.compose.foundation.layout.Box\r\nimport androidx.compose.foundation.layout.fillMaxSize\r\nimport androidx.compose.material.Button\r\nimport androidx.compose.material.MaterialTheme\r\nimport androidx.compose.material.Text\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.Alignment\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.window.Window\r\nimport androidx.compose.ui.window.application\r\nimport java.net.http.HttpClient\r\n\r\n@Composable\r\n@Preview\r\nfun App() {\r\n    MaterialTheme {\r\n        Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {\r\n            Button(onClick = {\r\n                println(&quot;getting httpClient&quot;)\r\n                val httpClient: HttpClient = HttpClient.newHttpClient()\r\n            }) {\r\n                Text(text = &quot;Start&quot;)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfun main() = application {\r\n    Window(onCloseRequest = ::exitApplication) {\r\n        App()\r\n    }\r\n}\r\n```\r\n\r\nAnd the build.gradle.kts:\r\n```\r\nimport org.jetbrains.compose.compose\r\nimport org.jetbrains.compose.desktop.application.dsl.TargetFormat\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\r\n    id(&quot;org.jetbrains.compose&quot;) version &quot;1.0.1&quot;\r\n}\r\n\r\ngroup = &quot;some.group&quot;\r\nversion = &quot;1.0&quot;\r\n\r\nrepositories {\r\n    google()\r\n    mavenCentral()\r\n    maven(&quot;https://maven.pkg.jetbrains.space/public/p/compose/dev&quot;)\r\n}\r\n\r\ndependencies {\r\n    implementation(compose.desktop.currentOs)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions.jvmTarget = &quot;16&quot;\r\n}\r\n\r\ncompose.desktop {\r\n    application {\r\n        mainClass = &quot;MainKt&quot;\r\n        nativeDistributions {\r\n            targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb)\r\n            packageName = &quot;untitled&quot;\r\n            packageVersion = &quot;1.0.0&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny ideas on how to fix this? java.net.http should be available in Java 16..\r\n\r\nThanks in advance.","title":"Compose Desktop application crashing: ClassNotFoundException: java.net.http.HttpClient","body":"<p>I want to use the java.net.http package in my compose desktop application. When I run the application in IntelliJ, everything works fine. But when I build a .deb file using packageDeb and install it via apt, the application crashes due to a <code>java.lang.ClassNotFoundException: java.net.http.HttpClient</code> when I click on the &quot;Start&quot; button.</p>\n<p>Here's the example code:</p>\n<pre><code>import androidx.compose.desktop.ui.tooling.preview.Preview\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material.Button\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.window.Window\nimport androidx.compose.ui.window.application\nimport java.net.http.HttpClient\n\n@Composable\n@Preview\nfun App() {\n    MaterialTheme {\n        Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {\n            Button(onClick = {\n                println(&quot;getting httpClient&quot;)\n                val httpClient: HttpClient = HttpClient.newHttpClient()\n            }) {\n                Text(text = &quot;Start&quot;)\n            }\n        }\n    }\n}\n\nfun main() = application {\n    Window(onCloseRequest = ::exitApplication) {\n        App()\n    }\n}\n</code></pre>\n<p>And the build.gradle.kts:</p>\n<pre><code>import org.jetbrains.compose.compose\nimport org.jetbrains.compose.desktop.application.dsl.TargetFormat\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\n    id(&quot;org.jetbrains.compose&quot;) version &quot;1.0.1&quot;\n}\n\ngroup = &quot;some.group&quot;\nversion = &quot;1.0&quot;\n\nrepositories {\n    google()\n    mavenCentral()\n    maven(&quot;https://maven.pkg.jetbrains.space/public/p/compose/dev&quot;)\n}\n\ndependencies {\n    implementation(compose.desktop.currentOs)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;16&quot;\n}\n\ncompose.desktop {\n    application {\n        mainClass = &quot;MainKt&quot;\n        nativeDistributions {\n            targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb)\n            packageName = &quot;untitled&quot;\n            packageVersion = &quot;1.0.0&quot;\n        }\n    }\n}\n</code></pre>\n<p>Any ideas on how to fix this? java.net.http should be available in Java 16..</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","reflection","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1662018108,"post_id":73561475,"comment_id":129910096,"body_markdown":"The reason is mundane, you get an exception telling you that there is no such field, because there is no such field. But not only has this field renamed and moved to a different class, it’s `static final` now, which means that a simple `setAccessible(true)` won’t be enough to make it writable.","body":"The reason is mundane, you get an exception telling you that there is no such field, because there is no such field. But not only has this field renamed and moved to a different class, it’s <code>static final</code> now, which means that a simple <code>setAccessible(true)</code> won’t be enough to make it writable."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":3,"creation_date":1662018153,"post_id":73561475,"comment_id":129910115,"body_markdown":"This hack to set java.library.path works on older JVM only. You should consider what your code is trying to achieve and whether you can workaround this using `System.load(String filename)` or by setting VM startup `-Djava.library.path=xyz`.","body":"This hack to set java.library.path works on older JVM only. You should consider what your code is trying to achieve and whether you can workaround this using <code>System.load(String filename)</code> or by setting VM startup <code>-Djava.library.path=xyz</code>."}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1662810618,"creation_date":1662810474,"answer_id":73671561,"question_id":73561475,"body_markdown":"it doesn&#39;t exist but if it did the answer would be this: \r\n\r\n    Field field;\r\n    try {\r\n        Method m = Class.class.getDeclaredMethod(&quot;getDeclaredFields0&quot;, boolean.class);\r\n        m.setAccessible(true);\r\n        for (Field f : (Field[]) m.invoke(ClassLoader.class, false)) {\r\n            if (f.getName().equals(&quot;usr_paths&quot;)) {\r\n\r\n                Method copy = Field.class.getDeclaredMethod(&quot;copy&quot;);\r\n                forceAccessible(copy);\r\n\r\n                field = (Field) copy.invoke(f);\r\n            }\r\n        }\r\n    } catch (Exception e) {}","title":"Unable to get DeclaredField &quot;usr_paths &quot; via java reflection 17.0.3","body":"<p>it doesn't exist but if it did the answer would be this:</p>\n<pre><code>Field field;\ntry {\n    Method m = Class.class.getDeclaredMethod(&quot;getDeclaredFields0&quot;, boolean.class);\n    m.setAccessible(true);\n    for (Field f : (Field[]) m.invoke(ClassLoader.class, false)) {\n        if (f.getName().equals(&quot;usr_paths&quot;)) {\n\n            Method copy = Field.class.getDeclaredMethod(&quot;copy&quot;);\n            forceAccessible(copy);\n\n            field = (Field) copy.invoke(f);\n        }\n    }\n} catch (Exception e) {}\n</code></pre>\n"}],"owner":{"account_id":26211673,"reputation":13,"user_id":19890446,"display_name":"Hard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73671561,"answer_count":1,"score":1,"last_activity_date":1662810618,"creation_date":1661977168,"question_id":73561475,"body_markdown":"I&#39;m trying to get usr_paths, but the console gives an error that it can&#39;t find this field, what should I do?\r\n\r\n    public static void addDir(String s) throws IOException {\r\n\t\ttry {\r\n\t\t\tField field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;); // there&#39;s a error here !!\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tString[] paths = (String[]) field.get(null);\r\n\t\t\tfor (int i = 0; i &lt; paths.length; i++) {\r\n\t\t\t\tif (s.equals(paths[i])) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tString[] tmp = new String[paths.length + 1];\r\n\t\t\tSystem.arraycopy(paths, 0, tmp, 0, paths.length);\r\n\t\t\ttmp[paths.length] = s;\r\n\t\t\tfield.set(null, tmp);\r\n\t\t\tSystem.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\tthrow new IOException(&quot;Failed to get permissions to set library path&quot;);\r\n\t\t} catch (NoSuchFieldException e) {\r\n\t\t\tthrow new IOException(&quot;Failed to get field handle to set library path&quot;);\r\n\t\t}\r\n\t}\r\n\r\n    \r\n    \r\n    \r\n\r\n\r\n\r\n","title":"Unable to get DeclaredField &quot;usr_paths &quot; via java reflection 17.0.3","body":"<p>I'm trying to get usr_paths, but the console gives an error that it can't find this field, what should I do?</p>\n<pre><code>public static void addDir(String s) throws IOException {\n    try {\n        Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;); // there's a error here !!\n        field.setAccessible(true);\n        String[] paths = (String[]) field.get(null);\n        for (int i = 0; i &lt; paths.length; i++) {\n            if (s.equals(paths[i])) {\n                return;\n            }\n        }\n        String[] tmp = new String[paths.length + 1];\n        System.arraycopy(paths, 0, tmp, 0, paths.length);\n        tmp[paths.length] = s;\n        field.set(null, tmp);\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\n    } catch (IllegalAccessException e) {\n        throw new IOException(&quot;Failed to get permissions to set library path&quot;);\n    } catch (NoSuchFieldException e) {\n        throw new IOException(&quot;Failed to get field handle to set library path&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","java-8","java-11","nashorn"],"comments":[{"owner":{"account_id":24995950,"reputation":1,"user_id":18856700,"display_name":"Pranav Bhandari"},"score":0,"creation_date":1650404699,"post_id":71919026,"comment_id":127106653,"body_markdown":"Yes, I printed out the available engines and their names. I did get nashorn and JavaScript. However, when I do `manager.getEngineByName(&quot;JavaScript&quot;)` I get `null`. I reinstalled java and also ran this in multiple different systems, but I get the same error.","body":"Yes, I printed out the available engines and their names. I did get nashorn and JavaScript. However, when I do <code>manager.getEngineByName(&quot;JavaScript&quot;)</code> I get <code>null</code>. I reinstalled java and also ran this in multiple different systems, but I get the same error."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1650534244,"post_id":71919026,"comment_id":127142627,"body_markdown":"Did you try a step debug? The `getEngineByName` method just iterates over the available engines and their names (literally, instead of a simple `contains` call), so it’s weird to see a difference between your iteration and their iteration.","body":"Did you try a step debug? The <code>getEngineByName</code> method just iterates over the available engines and their names (literally, instead of a simple <code>contains</code> call), so it’s weird to see a difference between your iteration and their iteration."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1650544712,"post_id":71919026,"comment_id":127146507,"body_markdown":"Are you sue you are using Java 11 and not 16 or 17? Since Java 16 Nashorn is no longer part of Java.","body":"Are you sue you are using Java 11 and not 16 or 17? Since Java 16 Nashorn is no longer part of Java."}],"answers":[{"tags":[],"owner":{"account_id":7534135,"reputation":1,"user_id":6819721,"display_name":"Romancha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662809910,"creation_date":1662809910,"answer_id":73671498,"question_id":71919026,"body_markdown":"I faced a similar issue.\r\n\r\nJava 1.8, Maven 3.8\r\n\r\nWhen i run tests via `mvn test` - nashorn javascript engine is not available and i get error `Can&#39;t find scripting engine for &#39;javascript&#39;: scriptEngine is null`. \r\nAt the same time, when the application or junit test run via idea - everything is OK.\r\n\r\nIn my case problem was in the surefire plugin configuration:\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n                        &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n                        &lt;reportsDirectory&gt;${junit.utReportFolder}&lt;/reportsDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nProblem is forkCount = 0. If remove param forkCound (go to default value) - nashorn engine becomes available.","title":"Nashorn in Java 8 maven project","body":"<p>I faced a similar issue.</p>\n<p>Java 1.8, Maven 3.8</p>\n<p>When i run tests via <code>mvn test</code> - nashorn javascript engine is not available and i get error <code>Can't find scripting engine for 'javascript': scriptEngine is null</code>.\nAt the same time, when the application or junit test run via idea - everything is OK.</p>\n<p>In my case problem was in the surefire plugin configuration:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;0&lt;/forkCount&gt;\n                    &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n                    &lt;reportsDirectory&gt;${junit.utReportFolder}&lt;/reportsDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Problem is forkCount = 0. If remove param forkCound (go to default value) - nashorn engine becomes available.</p>\n"}],"owner":{"account_id":24995950,"reputation":1,"user_id":18856700,"display_name":"Pranav Bhandari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662809910,"creation_date":1650335585,"question_id":71919026,"body_markdown":"I am facing a problem where the nashorn JavaScript engine does not work in my maven project.\r\nThe following code works in a standalone java file when I use both java 8 and java 11,\r\n```\r\nScriptEngineManager scriptEngineManager = new ScriptEngineManager();\r\nScriptEngine engine = scriptEngineManager.getEngineByName(&quot;JavaScript&quot;);\r\nif (engine == null)\r\n    System.out.println(&quot;The engine is null.&quot;);\r\n``` \r\nBut when the same code is used in my maven project it only works with java 11. When I use java 8 in the maven project, `engine` is null. I printed out the existing engines and their aliases and I see nashorn and the JavaScript alias. This was working before and I don&#39;t think it is breaking because of a change in my project. I also do not have a dependency on nashorn in my maven project (as it should exist in java 8?). Any ideas?\r\n\r\nNote: I am using java 1.8 (or Java 8), the problem disappears when I use Java 1.11 (or Java 11).\r\n","title":"Nashorn in Java 8 maven project","body":"<p>I am facing a problem where the nashorn JavaScript engine does not work in my maven project.\nThe following code works in a standalone java file when I use both java 8 and java 11,</p>\n<pre><code>ScriptEngineManager scriptEngineManager = new ScriptEngineManager();\nScriptEngine engine = scriptEngineManager.getEngineByName(&quot;JavaScript&quot;);\nif (engine == null)\n    System.out.println(&quot;The engine is null.&quot;);\n</code></pre>\n<p>But when the same code is used in my maven project it only works with java 11. When I use java 8 in the maven project, <code>engine</code> is null. I printed out the existing engines and their aliases and I see nashorn and the JavaScript alias. This was working before and I don't think it is breaking because of a change in my project. I also do not have a dependency on nashorn in my maven project (as it should exist in java 8?). Any ideas?</p>\n<p>Note: I am using java 1.8 (or Java 8), the problem disappears when I use Java 1.11 (or Java 11).</p>\n"},{"tags":["java","eclipse","maven","maven-3","m2eclipse"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662665734,"post_id":73653988,"comment_id":130064923,"body_markdown":"&quot;hanging&quot; is a good sign: process waits for a debug client to attach (you chose `suspend=y`;)","body":"&quot;hanging&quot; is a good sign: process waits for a debug client to attach (you chose <code>suspend=y</code>;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662665858,"post_id":73653988,"comment_id":130064958,"body_markdown":"The wrong port can be explained by bad syntax (address expects a port only, no wildcards, no host name...) better: `address=49875`..","body":"The wrong port can be explained by bad syntax (address expects a port only, no wildcards, no host name...) better: <code>address=49875</code>.."},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1662666204,"post_id":73653988,"comment_id":130065078,"body_markdown":"@xerx593 changing the address to the format you suggest seems to have no impact. exec plugin still launches on a random port. This seems intended, which is one point of confusion I&#39;m not sure how the two ports are related if at all.","body":"@xerx593 changing the address to the format you suggest seems to have no impact. exec plugin still launches on a random port. This seems intended, which is one point of confusion I&#39;m not sure how the two ports are related if at all."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1662672359,"post_id":73653988,"comment_id":130066615,"body_markdown":"Isn&#39;t this automatic when using current releases of Java, Eclipse, Maven, and M2E?","body":"Isn&#39;t this automatic when using current releases of Java, Eclipse, Maven, and M2E?"},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1662673462,"post_id":73653988,"comment_id":130066860,"body_markdown":"Isn&#39;t what automatic, the debugging process? You would think so. It is definitely not automatic in the version I&#39;m using and it seems to be a newer release.","body":"Isn&#39;t what automatic, the debugging process? You would think so. It is definitely not automatic in the version I&#39;m using and it seems to be a newer release."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1662704611,"post_id":73653988,"comment_id":130071450,"body_markdown":"Eclipse Luna is 8 years and 20 releases behind. It&#39;s a bit strange that you complaining about such old things. As shown in my video whose collections of links you reference in your question, it works differently and requires a more recent Eclipse version than you have: https://youtu.be/GnNnQY5ujFg?t=412","body":"Eclipse Luna is 8 years and 20 releases behind. It&#39;s a bit strange that you complaining about such old things. As shown in my video whose collections of links you reference in your question, it works differently and requires a more recent Eclipse version than you have: <a href=\"https://youtu.be/GnNnQY5ujFg?t=412\" rel=\"nofollow noreferrer\">youtu.be/GnNnQY5ujFg?t=412</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1662726054,"post_id":73653988,"comment_id":130078534,"body_markdown":"False. Current Eclipse version supports Java 8 and much older Java versions. What is the reason to run/debug it via Maven (which is slow) instead of directly (which would be faster)? Please improve your question by focusing it on your problem (tl;dr).","body":"False. Current Eclipse version supports Java 8 and much older Java versions. What is the reason to run/debug it via Maven (which is slow) instead of directly (which would be faster)? Please improve your question by focusing it on your problem (tl;dr)."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1662729093,"post_id":73653988,"comment_id":130079632,"body_markdown":"The current version of Eclipse requires at least Java 11 for itself, but it can run programs using any release of Java. You tell Eclipse about available versions of Java in the Preferences (Java &gt; Installed JREs)","body":"The current version of Eclipse requires at least Java 11 for itself, but it can run programs using any release of Java. You tell Eclipse about available versions of Java in the Preferences (Java &gt; Installed JREs)"},{"owner":{"account_id":287582,"reputation":173,"user_id":587484,"display_name":"Romulo Diniz"},"score":0,"creation_date":1662749075,"post_id":73653988,"comment_id":130086151,"body_markdown":"Since it&#39;s hanging, it seems the breakpoint is being hit. Sometimes this happens to me but the Debug view does not get activated automatically. If you open the debug view after the hand, is the breakpoint stoped there?","body":"Since it&#39;s hanging, it seems the breakpoint is being hit. Sometimes this happens to me but the Debug view does not get activated automatically. If you open the debug view after the hand, is the breakpoint stoped there?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662809453,"creation_date":1662807978,"answer_id":73671297,"question_id":73653988,"body_markdown":"I got it working like so:\r\n\r\n- Download, extract (latest!?) [Luna SR2 JavaEE Edition](https://www.eclipse.org/downloads/packages/release/luna/sr2/eclipse-ide-java-ee-developers)\r\n- set (correct) `JAVA_HOME`/`vm` in eclipse.ini (oracle-8 latest)\r\n- Welcome Screen, create new Maven project, simple, skip achetype...\r\n\r\n(So with fresh defaults, simple project):\r\n\r\n\r\nWith the following pom section :\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t  &lt;executions&gt;\r\n\t    &lt;execution&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t    &lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t  &lt;/executions&gt;\r\n\t  &lt;configuration&gt;\r\n\t    &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_333\\bin\\java.exe&lt;/executable&gt;\r\n\t\t&lt;arguments&gt;\r\n\t\t  &lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=49875&lt;/argument&gt;\r\n\t\t  &lt;argument&gt;-classpath&lt;/argument&gt;\r\n\t\t  &lt;classpath /&gt;\r\n\t\t  &lt;argument&gt;com.example.Demo&lt;/argument&gt;\r\n        &lt;/arguments&gt;\r\n\t  &lt;workingDirectory&gt;${project.build.outputDirectory&lt;/workingDirectory&gt;\r\n      &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n(very similar to yours, only significant difference: `address`, `server` is crucial in this approach, `suspend` either)\r\n\r\nWith the same (Maven) Run configuration, as you show:\r\n\r\n&gt;! &lt;img src=&quot;https://i.stack.imgur.com/IM7QB.png&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;\r\n\r\nWe now **additionally** need:\r\n\r\n- &quot;Debug Configurations...&quot;\r\n- Remote Java Application(! ..because we chose &quot;server&quot;..)\r\n- we select the (sources) project as &quot;Project&quot;\r\n- Connection Type: attach\r\n- Host: localhost \r\n- Port: the one configured in jdwp\r\n\r\nLooks like:\r\n\r\n[![run config 2][2]][2]\r\n\r\n1. Set &quot;my&quot; breakpoint in:\r\n\r\n```\r\npackage com.example;\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint x = 0;\r\n\t\tx++; // just to set breakpoint somewhere\r\n\t\tSystem.out.println(x);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n2. &quot;Run&quot; &quot;Exec_Java&quot; (suspend, and server flags (and all) have effect!)\r\n3. Console(Exec_Java) should report:\r\n        \r\n       ...\r\n       [INFO] --- exec-maven-plugin:3.0.0:exec (default-cli) @ luna-res ---\r\n       Listening for transport dt_socket at address: 49875   //!!\r\n4. &quot;Debug&quot; &quot;New_Configuration&quot;.\r\n\r\n..and the breakpoint halts(, and we get the &quot;switch perspective dialog&quot;;)\r\n\r\n[![success][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IM7QB.png\r\n  [2]: https://i.stack.imgur.com/VjSbn.png\r\n  [3]: https://i.stack.imgur.com/sCTpl.png","title":"How to debug a Maven application in Eclipse","body":"<p>I got it working like so:</p>\n<ul>\n<li>Download, extract (latest!?) <a href=\"https://www.eclipse.org/downloads/packages/release/luna/sr2/eclipse-ide-java-ee-developers\" rel=\"nofollow noreferrer\">Luna SR2 JavaEE Edition</a></li>\n<li>set (correct) <code>JAVA_HOME</code>/<code>vm</code> in eclipse.ini (oracle-8 latest)</li>\n<li>Welcome Screen, create new Maven project, simple, skip achetype...</li>\n</ul>\n<p>(So with fresh defaults, simple project):</p>\n<p>With the following pom section :</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;exec&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_333\\bin\\java.exe&lt;/executable&gt;\n        &lt;arguments&gt;\n          &lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=49875&lt;/argument&gt;\n          &lt;argument&gt;-classpath&lt;/argument&gt;\n          &lt;classpath /&gt;\n          &lt;argument&gt;com.example.Demo&lt;/argument&gt;\n        &lt;/arguments&gt;\n      &lt;workingDirectory&gt;${project.build.outputDirectory&lt;/workingDirectory&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>(very similar to yours, only significant difference: <code>address</code>, <code>server</code> is crucial in this approach, <code>suspend</code> either)</p>\n<p>With the same (Maven) Run configuration, as you show:</p>\n<blockquote class=\"spoiler\">\n<p> <img src=\"https://i.stack.imgur.com/IM7QB.png\" width=\"200\" height=\"200\"></p>\n</blockquote>\n<p>We now <strong>additionally</strong> need:</p>\n<ul>\n<li>&quot;Debug Configurations...&quot;</li>\n<li>Remote Java Application(! ..because we chose &quot;server&quot;..)</li>\n<li>we select the (sources) project as &quot;Project&quot;</li>\n<li>Connection Type: attach</li>\n<li>Host: localhost</li>\n<li>Port: the one configured in jdwp</li>\n</ul>\n<p>Looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/VjSbn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjSbn.png\" alt=\"run config 2\" /></a></p>\n<ol>\n<li>Set &quot;my&quot; breakpoint in:</li>\n</ol>\n<pre><code>package com.example;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        int x = 0;\n        x++; // just to set breakpoint somewhere\n        System.out.println(x);\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>&quot;Run&quot; &quot;Exec_Java&quot; (suspend, and server flags (and all) have effect!)</p>\n</li>\n<li><p>Console(Exec_Java) should report:</p>\n<pre><code>...\n[INFO] --- exec-maven-plugin:3.0.0:exec (default-cli) @ luna-res ---\nListening for transport dt_socket at address: 49875   //!!\n</code></pre>\n</li>\n<li><p>&quot;Debug&quot; &quot;New_Configuration&quot;.</p>\n</li>\n</ol>\n<p>..and the breakpoint halts(, and we get the &quot;switch perspective dialog&quot;;)</p>\n<p><a href=\"https://i.stack.imgur.com/sCTpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sCTpl.png\" alt=\"success\" /></a></p>\n"}],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73671297,"answer_count":1,"score":1,"last_activity_date":1662809453,"creation_date":1662664094,"question_id":73653988,"body_markdown":"\r\n\r\nLet me start by clarifying I have check every possible resource, tutorial, video, other stackoverflow questions that I could get my hands on that are related in order to try and find an answer to this. I&#39;m using `java 8` and `Eclipse Luna Service Release 2 (4.4.2) with m2e plugin`, It&#39;s quite hard to believe but it seems there isn&#39;t a single example that clearly explains how you actually debug a Maven Java application USING ECLIPSE. There are no less than 40 different sources here are some\r\n\r\n - https://stackoverflow.com/questions/62389740/debugging-with-exec-maven-plugin\r\n - https://blog.jooq.org/how-to-debug-your-maven-build-with-eclipse/\r\n - https://stackoverflow.com/questions/70369965/eclipse-not-stopping-at-java-breakpoints-during-remote-debug\r\n - https://github.com/howlger/Eclipse-IDE-improvements-videos/tree/2022-03/sample_code\r\n - https://stackoverflow.com/questions/62596666/intellij-idea-maven-project-stackoverflowerror-when-running-debug-configuration\r\n - https://stackoverflow.com/questions/2935375/debugging-in-maven/19986408#19986408\r\n\r\n**What I&#39;m trying to do is click the debug button in eclipse and run a debug configuration that allows me to hit my breakpoints.** \r\n\r\n*I have the following configuration in Eclipse*\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthis runs the exec:exec goal from my pom.xml which looks like this \r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;java&lt;/executable&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                            &lt;classpath /&gt;\r\n                            &lt;argument&gt;core.app.server&lt;/argument&gt;\r\n                            &lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=*:49875 &lt;/argument&gt;\r\n                        &lt;/arguments&gt;\r\n                        &lt;workingDirectory&gt;${project.build.outputDirectory}&lt;/workingDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nOk, so far so good. At this point if I run the debug configuration the app launches and then hangs which I&#39;m assuming it is waiting for the debugger to remotely connect based on the arguments in my pom.xml. So the app starts hangs and in Eclipse at this point I&#39;m looking at this \r\n\r\n\r\nAt this point I&#39;ve tried everything I can imagine. I notice the exec plugin launcher starts on a random port which in the picture is 51661, when in my exec arguments in the pom.xml I have it set to 49875 so this seems off. Another thing I noticed if I removed the `&lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=*:49875 &lt;/argument&gt;` line from my pom.xml the app launches completely , runs fine but this gets me no where. I have tried to connect using a &quot;Remote Java Application&quot; configuration after the app launches this also does not work. I normally use IntelliJ which makes it an absolute breeze since everything is handled OOTB, unfortunately I have to get this working in Eclipse as well in a similar fashion. \r\n\r\n**How do I configure the Debug Configuration in a way that will allow me to launch the app and hit my breakpoints?**\r\n\r\n**EDIT 1**\r\nWhen setting `suspend=n` the app still hangs when launching with the argument `agentlib:jdwp`\r\n\r\n**EDIT 2**\r\nIn an effort to get this figured out without wasting another day on something that should be effortless, I tested running a `clean install` from and debug configuration and then tested using the run as commands provided by m2e shown below and the m2e commands work perfectly where as the same exact commands ran with a debug configuration fail for missing references.\r\n\r\n**EDIT 3**\r\nReading the documentation on the exec maven plugin here https://www.mojohaus.org/exec-maven-plugin/index.html it says the difference between `exec:exec` and `exec:java` is that the ladder execute programs and Java programs in a separate process and the former execute Java programs in the same VM. I think this might be somewhat related to the issue I&#39;m having. This should be really easy to test for someone familiar with MAven/Eclipse I would think, is anyone able to create a super basic hello world app maven project and see if they can set and hit a break point in the main method, should take but 5-10 min?\r\n\r\n  [1]: https://i.stack.imgur.com/wMz6b.png","title":"How to debug a Maven application in Eclipse","body":"<p>Let me start by clarifying I have check every possible resource, tutorial, video, other stackoverflow questions that I could get my hands on that are related in order to try and find an answer to this. I'm using <code>java 8</code> and <code>Eclipse Luna Service Release 2 (4.4.2) with m2e plugin</code>, It's quite hard to believe but it seems there isn't a single example that clearly explains how you actually debug a Maven Java application USING ECLIPSE. There are no less than 40 different sources here are some</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/62389740/debugging-with-exec-maven-plugin\">Debugging with exec-maven-plugin</a></li>\n<li><a href=\"https://blog.jooq.org/how-to-debug-your-maven-build-with-eclipse/\" rel=\"nofollow noreferrer\">https://blog.jooq.org/how-to-debug-your-maven-build-with-eclipse/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70369965/eclipse-not-stopping-at-java-breakpoints-during-remote-debug\">Eclipse not stopping at java breakpoints during remote debug</a></li>\n<li><a href=\"https://github.com/howlger/Eclipse-IDE-improvements-videos/tree/2022-03/sample_code\" rel=\"nofollow noreferrer\">https://github.com/howlger/Eclipse-IDE-improvements-videos/tree/2022-03/sample_code</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62596666/intellij-idea-maven-project-stackoverflowerror-when-running-debug-configuration\">IntelliJ IDEA Maven project StackOverflowError when running debug configuration</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2935375/debugging-in-maven/19986408#19986408\">Debugging in Maven?</a></li>\n</ul>\n<p><strong>What I'm trying to do is click the debug button in eclipse and run a debug configuration that allows me to hit my breakpoints.</strong></p>\n<p><em>I have the following configuration in Eclipse</em></p>\n<p><a href=\"https://i.stack.imgur.com/wMz6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMz6b.png\" alt=\"enter image description here\" /></a></p>\n<p>this runs the exec:exec goal from my pom.xml which looks like this</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;core.app.server&lt;/argument&gt;\n                        &lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=*:49875 &lt;/argument&gt;\n                    &lt;/arguments&gt;\n                    &lt;workingDirectory&gt;${project.build.outputDirectory}&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Ok, so far so good. At this point if I run the debug configuration the app launches and then hangs which I'm assuming it is waiting for the debugger to remotely connect based on the arguments in my pom.xml. So the app starts hangs and in Eclipse at this point I'm looking at this</p>\n<p>At this point I've tried everything I can imagine. I notice the exec plugin launcher starts on a random port which in the picture is 51661, when in my exec arguments in the pom.xml I have it set to 49875 so this seems off. Another thing I noticed if I removed the <code>&lt;argument&gt;-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=*:49875 &lt;/argument&gt;</code> line from my pom.xml the app launches completely , runs fine but this gets me no where. I have tried to connect using a &quot;Remote Java Application&quot; configuration after the app launches this also does not work. I normally use IntelliJ which makes it an absolute breeze since everything is handled OOTB, unfortunately I have to get this working in Eclipse as well in a similar fashion.</p>\n<p><strong>How do I configure the Debug Configuration in a way that will allow me to launch the app and hit my breakpoints?</strong></p>\n<p><strong>EDIT 1</strong>\nWhen setting <code>suspend=n</code> the app still hangs when launching with the argument <code>agentlib:jdwp</code></p>\n<p><strong>EDIT 2</strong>\nIn an effort to get this figured out without wasting another day on something that should be effortless, I tested running a <code>clean install</code> from and debug configuration and then tested using the run as commands provided by m2e shown below and the m2e commands work perfectly where as the same exact commands ran with a debug configuration fail for missing references.</p>\n<p><strong>EDIT 3</strong>\nReading the documentation on the exec maven plugin here <a href=\"https://www.mojohaus.org/exec-maven-plugin/index.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/exec-maven-plugin/index.html</a> it says the difference between <code>exec:exec</code> and <code>exec:java</code> is that the ladder execute programs and Java programs in a separate process and the former execute Java programs in the same VM. I think this might be somewhat related to the issue I'm having. This should be really easy to test for someone familiar with MAven/Eclipse I would think, is anyone able to create a super basic hello world app maven project and see if they can set and hit a break point in the main method, should take but 5-10 min?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662808571,"post_id":73671276,"comment_id":130094773,"body_markdown":"That value has a precision of 4.","body":"That value has a precision of 4."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1662809056,"post_id":73671276,"comment_id":130094858,"body_markdown":"You don&#39;t specify an expected result, but I guess you want `java.math.BigDecimal.valueOf(0.004798).setScale(5, RoundingMode.HALF_UP)` (= 0.00480). As an aside, given doubles are inherently imprecise, it is better not to use them for creating a BigDecimal.","body":"You don&#39;t specify an expected result, but I guess you want <code>java.math.BigDecimal.valueOf(0.004798).setScale(5, RoundingMode.HALF_UP)</code> (= 0.00480). As an aside, given doubles are inherently imprecise, it is better not to use them for creating a BigDecimal."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662808852,"creation_date":1662808750,"answer_id":73671377,"question_id":73671276,"body_markdown":"No, there&#39;s no bug. You&#39;re just misunderstanding what &quot;precision&quot; means.\r\n\r\nFrom [`BigDecimal`&#39;s documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html)\r\n\r\n&gt; the total number of digits to return is specified by the MathContext&#39;s precision setting; this determines the result&#39;s precision. **The digit count starts from the leftmost nonzero digit** of the exact result. \r\n\r\n(emphasis mine).\r\n\r\nYou have 4 digits in this case. So any precision greater then or equal to 4 will have no effect on rounding.\r\n\r\nCompare with \r\n\r\n    result = BigDecimal.valueOf(0.004798).round(new MathContext(3, RoundingMode.HALF_UP));\r\n    result ==&gt; 0.00480\r\n\r\nor with\r\n\r\n    jshell&gt; result = BigDecimal.valueOf(1.004798).round(new MathContext(5, RoundingMode.UP));\r\n    result ==&gt; 1.0048\r\n\r\nWhich behave like you expect.","title":"BigDecimal - unexpected round behaviour","body":"<p>No, there's no bug. You're just misunderstanding what &quot;precision&quot; means.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code>'s documentation</a></p>\n<blockquote>\n<p>the total number of digits to return is specified by the MathContext's precision setting; this determines the result's precision. <strong>The digit count starts from the leftmost nonzero digit</strong> of the exact result.</p>\n</blockquote>\n<p>(emphasis mine).</p>\n<p>You have 4 digits in this case. So any precision greater then or equal to 4 will have no effect on rounding.</p>\n<p>Compare with</p>\n<pre><code>result = BigDecimal.valueOf(0.004798).round(new MathContext(3, RoundingMode.HALF_UP));\nresult ==&gt; 0.00480\n</code></pre>\n<p>or with</p>\n<pre><code>jshell&gt; result = BigDecimal.valueOf(1.004798).round(new MathContext(5, RoundingMode.UP));\nresult ==&gt; 1.0048\n</code></pre>\n<p>Which behave like you expect.</p>\n"}],"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73671377,"answer_count":1,"score":0,"last_activity_date":1662809361,"creation_date":1662807824,"question_id":73671276,"body_markdown":"I think I have found a bug:\r\n\r\n    MathContext mathContext = new MathContext(5, RoundingMode.HALF_UP);\r\n    result = BigDecimal.valueOf(0.004798).round(mathContext); // fails\r\n    // result is 0.004798!!! (same value)\r\n\r\nI had to use the following alternative:\r\n\r\n    BigDecimal bigDecimal = BigDecimal.valueOf(0.004798);\r\n    BigDecimal new_divisor = BigDecimal.valueOf(1, 5);\r\n    bigDecimal_array = bigDecimal.divideAndRemainder(new_divisor);\r\n    MathContext mathContext = new MathContext(5, RoundingMode.HALF_UP);\r\n    result = bigDecimal.subtract(bigDecimal_array[1], mathContext);\r\n    result = result.stripTrailingZeros();\r\n\r\nThis bug (if it is so) is very dangerous in my opinion.\r\n","title":"BigDecimal - unexpected round behaviour","body":"<p>I think I have found a bug:</p>\n<pre><code>MathContext mathContext = new MathContext(5, RoundingMode.HALF_UP);\nresult = BigDecimal.valueOf(0.004798).round(mathContext); // fails\n// result is 0.004798!!! (same value)\n</code></pre>\n<p>I had to use the following alternative:</p>\n<pre><code>BigDecimal bigDecimal = BigDecimal.valueOf(0.004798);\nBigDecimal new_divisor = BigDecimal.valueOf(1, 5);\nbigDecimal_array = bigDecimal.divideAndRemainder(new_divisor);\nMathContext mathContext = new MathContext(5, RoundingMode.HALF_UP);\nresult = bigDecimal.subtract(bigDecimal_array[1], mathContext);\nresult = result.stripTrailingZeros();\n</code></pre>\n<p>This bug (if it is so) is very dangerous in my opinion.</p>\n"},{"tags":["java","spring","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1551179901,"post_id":54777671,"comment_id":96537553,"body_markdown":"This usually happens when it is not possible to write bytes to the file due to a full disk. Are you sure there is enough space to write data to the output file?","body":"This usually happens when it is not possible to write bytes to the file due to a full disk. Are you sure there is enough space to write data to the output file?"},{"owner":{"account_id":8605884,"reputation":53,"user_id":6446033,"display_name":"shobhit garg"},"score":0,"creation_date":1551221572,"post_id":54777671,"comment_id":96559838,"body_markdown":"@MahmoudBenHassine Thank you! The issue was indeed not having enough disk space to write data to the output file.","body":"@MahmoudBenHassine Thank you! The issue was indeed not having enough disk space to write data to the output file."},{"owner":{"account_id":4612886,"reputation":565,"user_id":3740432,"accept_rate":0,"display_name":"Afsar Ali"},"score":0,"creation_date":1649061557,"post_id":54777671,"comment_id":126771729,"body_markdown":"Or might be possible if file itself got moved and no longer available to write to the directory.I had similar issue when one of the cronJob tried to move file to s3 bucket from the location even if file writing was not completed yet.","body":"Or might be possible if file itself got moved and no longer available to write to the directory.I had similar issue when one of the cronJob tried to move file to s3 bucket from the location even if file writing was not completed yet."}],"answers":[{"tags":[],"owner":{"account_id":26252962,"reputation":1,"user_id":19925485,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662808473,"creation_date":1662401136,"answer_id":73613232,"question_id":54777671,"body_markdown":"The problem is that the disk is complete, and all the data cannot be written.\r\n\r\nMaking enough space for the data on the disk would solve the problem.","title":"Spring Batch giving All bytes to be written were not successfully written error","body":"<p>The problem is that the disk is complete, and all the data cannot be written.</p>\n<p>Making enough space for the data on the disk would solve the problem.</p>\n"}],"owner":{"account_id":8605884,"reputation":53,"user_id":6446033,"display_name":"shobhit garg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662808473,"creation_date":1550627575,"question_id":54777671,"body_markdown":"I have written a spring batch job that uses a flatFileItemWriter to write a huge amount of data to the file.  The job is intermittently failing with the following error `org.springframework.batch.support.transaction.FlushFailedException: Could not write to output buffer`.\r\nI looked into the source code and found that it is specifically failing at \r\n[this place][1], which implies that the bytesWritten is not equal to the bytes it read. Does anyone here know why is it failing at this step. Thanks.\r\n\r\nHere&#39;s the complete stack trace of the error:\r\n\r\n    Encountered an error executing step step in job exportDataJob; org.springframework.batch.support.transaction.FlushFailedException: Could not write to output buffer \r\n       at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.beforeCommit(TransactionAwareBufferedWriter.java:111)\r\n       at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\r\n       at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\r\n       at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\r\n       at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n       at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:150) \r\n       at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:271) \r\n       at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81) \r\n       at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) \r\n       at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) \r\n       at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) \r\n       at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257) \r\n       at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200) \r\n       at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) \r\n       at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:392) \r\n       at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:135) \r\n       at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) \r\n       at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) \r\n       at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) \r\n       at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) \r\n       at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:214) \r\n       at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:231) \r\n       at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:123) \r\n       at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:117) \r\n       at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732) \r\n       at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716) \r\n       at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) \r\n       at org.springframework.boot.SpringApplication.run(SpringApplication.java:304) \r\n       at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) \r\n       at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) \r\n       at com.intuit.sbg.integrations.batch.Application.main(Application.java:48) \r\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \r\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n       at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) \r\n       at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) \r\n       at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:587) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n       at java.lang.reflect.Method.invoke(Method.java:498) \r\n       at org.tanukisoftware.wrapper.WrapperJarApp.run(WrapperJarApp.java:394) \r\n       at java.lang.Thread.run(Thread.java:748) \r\n    Caused by: java.io.IOException: All bytes to be written were not successfully written \r\n       at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.complete(TransactionAwareBufferedWriter.java:124) \r\n       at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.beforeCommit(TransactionAwareBufferedWriter.java:107) \r\n       ... 44 common frames omitted\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-batch/blob/master/spring-batch-infrastructure/src/main/java/org/springframework/batch/support/transaction/TransactionAwareBufferedWriter.java#L124","title":"Spring Batch giving All bytes to be written were not successfully written error","body":"<p>I have written a spring batch job that uses a flatFileItemWriter to write a huge amount of data to the file.  The job is intermittently failing with the following error <code>org.springframework.batch.support.transaction.FlushFailedException: Could not write to output buffer</code>.\nI looked into the source code and found that it is specifically failing at \n<a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-infrastructure/src/main/java/org/springframework/batch/support/transaction/TransactionAwareBufferedWriter.java#L124\" rel=\"nofollow noreferrer\">this place</a>, which implies that the bytesWritten is not equal to the bytes it read. Does anyone here know why is it failing at this step. Thanks.</p>\n\n<p>Here's the complete stack trace of the error:</p>\n\n<pre><code>Encountered an error executing step step in job exportDataJob; org.springframework.batch.support.transaction.FlushFailedException: Could not write to output buffer \n   at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.beforeCommit(TransactionAwareBufferedWriter.java:111)\n   at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\n   at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\n   at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\n   at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\n   at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:150) \n   at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:271) \n   at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81) \n   at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) \n   at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) \n   at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) \n   at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257) \n   at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200) \n   at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) \n   at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:392) \n   at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:135) \n   at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) \n   at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) \n   at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) \n   at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) \n   at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:214) \n   at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:231) \n   at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:123) \n   at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:117) \n   at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732) \n   at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716) \n   at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) \n   at org.springframework.boot.SpringApplication.run(SpringApplication.java:304) \n   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) \n   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) \n   at com.intuit.sbg.integrations.batch.Application.main(Application.java:48) \n   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \n   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \n   at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) \n   at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) \n   at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:587) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \n   at java.lang.reflect.Method.invoke(Method.java:498) \n   at org.tanukisoftware.wrapper.WrapperJarApp.run(WrapperJarApp.java:394) \n   at java.lang.Thread.run(Thread.java:748) \nCaused by: java.io.IOException: All bytes to be written were not successfully written \n   at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.complete(TransactionAwareBufferedWriter.java:124) \n   at org.springframework.batch.support.transaction.TransactionAwareBufferedWriter$1.beforeCommit(TransactionAwareBufferedWriter.java:107) \n   ... 44 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":7680920,"reputation":279,"user_id":5820183,"display_name":"Sebin Thomas"},"score":0,"creation_date":1662811481,"post_id":73671305,"comment_id":130095287,"body_markdown":"Please check the spelling for &quot;MANIFBURENREGMANIF&quot; and check if such property exists in your entity class.","body":"Please check the spelling for &quot;MANIFBURENREGMANIF&quot; and check if such property exists in your entity class."},{"owner":{"account_id":25629887,"reputation":1,"user_id":19400427,"display_name":"mouhamed slaimi"},"score":0,"creation_date":1662825944,"post_id":73671305,"comment_id":130098044,"body_markdown":"property exists in entity, problem that when I use id works but when I use composite id doesn&#39;t","body":"property exists in entity, problem that when I use id works but when I use composite id doesn&#39;t"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1662995165,"post_id":73671305,"comment_id":130129335,"body_markdown":"Please post the full stack trace to be able to help you efficiently. Providing a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue is the best way to get the help you need.","body":"Please post the full stack trace to be able to help you efficiently. Providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue is the best way to get the help you need."}],"owner":{"account_id":25629887,"reputation":1,"user_id":19400427,"display_name":"mouhamed slaimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662808073,"creation_date":1662808073,"question_id":73671305,"body_markdown":"*org.springframework.data.mapping.PropertyReferenceException: No property &#39;MANIFBURENREGMANIF&#39; found for type &#39;ArticleManifeste&#39;*\r\n\r\n**This is my code **\r\n\r\n   ```\r\n@Entity\r\n@Table(name=&quot;ARTICLEMANIFESTE&quot;)\r\n@Data\r\n@Builder(toBuilder = true)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@FieldDefaults(level= AccessLevel.PRIVATE)\r\n@IdClass(ArticleManifesteKey.class)\r\n\r\npublic class ArticleManifeste implements Serializable {\r\n    static final long serialVersionUID = -7273917648454868311L;\r\n\r\n    @Id\r\n    @Size(max = 3)\r\n    @NotNull\r\n    @Column(name=&quot;MANIFBURENREGMANIF&quot;, length=3, nullable = false)\r\n    String manifBureauEngManif;\r\n\r\n   @Id\r\n    @Size(max = 4)\r\n    @NotNull\r\n    @Column(name=&quot;MANIFANNEEENREGMANIF&quot;, length=4, nullable = false)\r\n    String manifAnneeEngManif;\r\n    ...........\r\n    }\r\n\r\n   ```\r\nEntity key \r\n ```\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder(toBuilder = true)\r\n@FieldDefaults(level= AccessLevel.PRIVATE)\r\npublic class ArticleManifesteKey implements Serializable {\r\n\r\n    static final long serialVersionUID = 203621482537663708L;\r\n\r\n\r\n    @Id\r\n    @Column(name=&quot;MANIFBURENREGMANIF&quot;, length=3, nullable=false)\r\n    String manifBureauEngManif;\r\n\r\n    /**\r\n     * Implementation field for persistent attribute: manifanneeengmanif\r\n     */\r\n    @Id\r\n    @Column(name=&quot;MANIFANNEEENREGMANIF&quot;, length=4, nullable=false)\r\n    String manifAnneeEngManif;\r\n\r\n  ........\r\n}\r\n\r\n ```\r\nSome error when use CrudRepository\r\n   ```\r\n @Repository\r\n    public interface ArticleManifesteRepository  extends PagingAndSortingRepository&lt;ArticleManifeste, String&gt; {\r\n        @Override\r\n        Page&lt;ArticleManifeste&gt; findAll(Pageable pageable);\r\n    }\r\n```\r\nAlso when i use the crudRepo and here change return type to list \r\n```\r\n@Service\r\npublic interface ArticleManifesteService {\r\n    public Iterable&lt;ArticleManifeste&gt; findAll();\r\n}\r\n```\r\nImplementation of service\r\n```\r\n@Service\r\npublic class ArticleManifesteServiceImp implements ArticleManifesteService {\r\n\r\n    @Autowired\r\n    ArticleManifesteRepository articleManifesteRepository;\r\n\r\n\r\n    @Override\r\n    public Iterable&lt;ArticleManifeste&gt; findAll() {\r\n        return articleManifesteRepository.findAll();\r\n    }\r\n}\r\n```\r\nI&#39;m using this reader in a batch configuration, I&#39;m trying to read data from the Article Manifest table.\r\n```\r\n  @Bean\r\n    public RepositoryItemReader&lt;ArticleManifeste&gt; reader() {\r\n        RepositoryItemReader&lt;ArticleManifeste&gt; reader = new RepositoryItemReader&lt;&gt;();\r\n        reader.setRepository(articleManifesteRepository);\r\n        reader.setMethodName(&quot;findAll&quot;);\r\n        List&lt;Object&gt; queryMethodArguments = new ArrayList&lt;&gt;();\r\n        reader.setPageSize(100);\r\n        Map&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\r\n        sorts.put(&quot;MANIFBURENREGMANIF&quot;, Direction.ASC);\r\n        reader.setSort(sorts);\r\n        return reader;\r\n    }\r\n\r\n```\r\n","title":"repositoryItem reader org.springframework.data.mapping.PropertyReferenceException: No property &#39;MANIFBURENREGMANIF&#39; found for type &#39;ArticleManifeste&#39;","body":"<p><em>org.springframework.data.mapping.PropertyReferenceException: No property 'MANIFBURENREGMANIF' found for type 'ArticleManifeste'</em></p>\n<p>**This is my code **</p>\n<pre><code>@Entity\n@Table(name=&quot;ARTICLEMANIFESTE&quot;)\n@Data\n@Builder(toBuilder = true)\n@AllArgsConstructor\n@NoArgsConstructor\n@FieldDefaults(level= AccessLevel.PRIVATE)\n@IdClass(ArticleManifesteKey.class)\n\npublic class ArticleManifeste implements Serializable {\n static final long serialVersionUID = -7273917648454868311L;\n\n @Id\n @Size(max = 3)\n @NotNull\n @Column(name=&quot;MANIFBURENREGMANIF&quot;, length=3, nullable = false)\n String manifBureauEngManif;\n\n@Id\n @Size(max = 4)\n @NotNull\n @Column(name=&quot;MANIFANNEEENREGMANIF&quot;, length=4, nullable = false)\n String manifAnneeEngManif;\n ...........\n }\n\n</code></pre>\n<p>Entity key</p>\n<pre><code>\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\n@FieldDefaults(level= AccessLevel.PRIVATE)\npublic class ArticleManifesteKey implements Serializable {\n\n   static final long serialVersionUID = 203621482537663708L;\n\n\n   @Id\n   @Column(name=&quot;MANIFBURENREGMANIF&quot;, length=3, nullable=false)\n   String manifBureauEngManif;\n\n   /**\n    * Implementation field for persistent attribute: manifanneeengmanif\n    */\n   @Id\n   @Column(name=&quot;MANIFANNEEENREGMANIF&quot;, length=4, nullable=false)\n   String manifAnneeEngManif;\n\n ........\n}\n\n</code></pre>\n<p>Some error when use CrudRepository</p>\n<pre><code>@Repository\n public interface ArticleManifesteRepository  extends PagingAndSortingRepository&lt;ArticleManifeste, String&gt; {\n     @Override\n     Page&lt;ArticleManifeste&gt; findAll(Pageable pageable);\n }\n</code></pre>\n<p>Also when i use the crudRepo and here change return type to list</p>\n<pre><code>@Service\npublic interface ArticleManifesteService {\n    public Iterable&lt;ArticleManifeste&gt; findAll();\n}\n</code></pre>\n<p>Implementation of service</p>\n<pre><code>@Service\npublic class ArticleManifesteServiceImp implements ArticleManifesteService {\n\n    @Autowired\n    ArticleManifesteRepository articleManifesteRepository;\n\n\n    @Override\n    public Iterable&lt;ArticleManifeste&gt; findAll() {\n        return articleManifesteRepository.findAll();\n    }\n}\n</code></pre>\n<p>I'm using this reader in a batch configuration, I'm trying to read data from the Article Manifest table.</p>\n<pre><code>  @Bean\n    public RepositoryItemReader&lt;ArticleManifeste&gt; reader() {\n        RepositoryItemReader&lt;ArticleManifeste&gt; reader = new RepositoryItemReader&lt;&gt;();\n        reader.setRepository(articleManifesteRepository);\n        reader.setMethodName(&quot;findAll&quot;);\n        List&lt;Object&gt; queryMethodArguments = new ArrayList&lt;&gt;();\n        reader.setPageSize(100);\n        Map&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\n        sorts.put(&quot;MANIFBURENREGMANIF&quot;, Direction.ASC);\n        reader.setSort(sorts);\n        return reader;\n    }\n\n</code></pre>\n"},{"tags":["java","jar","apache-camel","mvn-repo"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":2,"creation_date":1662804892,"post_id":73670816,"comment_id":130094163,"body_markdown":"`I don&#39;t want to work with maven or gradle for now.` Why not? The framework might consist of multiple artifacts, and will surely depend on other libraries. All these dependencies are listed in the pom or grade build files. Do you really wish to manually list all the files, and download them one by one. And repeat that on every update or conflict with your other libraries for the project? The whole point of build tools is to do all this for you. Technically if you wanted to, you could just create a pom and use the `maven-depedency-plugin` with goal `copy-dependencies` to just get the jars.","body":"<code>I don&#39;t want to work with maven or gradle for now.</code> Why not? The framework might consist of multiple artifacts, and will surely depend on other libraries. All these dependencies are listed in the pom or grade build files. Do you really wish to manually list all the files, and download them one by one. And repeat that on every update or conflict with your other libraries for the project? The whole point of build tools is to do all this for you. Technically if you wanted to, you could just create a pom and use the <code>maven-depedency-plugin</code> with goal <code>copy-dependencies</code> to just get the jars."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662805217,"post_id":73670816,"comment_id":130094221,"body_markdown":"Do use maven or gradle.","body":"Do use maven or gradle."},{"owner":{"account_id":18210444,"reputation":184,"user_id":13253079,"display_name":"theerrormagnet"},"score":0,"creation_date":1662805444,"post_id":73670816,"comment_id":130094256,"body_markdown":"@slindenau I don&#39;t like the folder structure of `maven`/`gradle`. They create way too much folders.","body":"@slindenau I don&#39;t like the folder structure of <code>maven</code>/<code>gradle</code>. They create way too much folders."},{"owner":{"account_id":18210444,"reputation":184,"user_id":13253079,"display_name":"theerrormagnet"},"score":0,"creation_date":1662805836,"post_id":73670816,"comment_id":130094308,"body_markdown":"And how would I even know which dependencies I need? If I had the `jar` file I could at least look for the `.class` file that I need.","body":"And how would I even know which dependencies I need? If I had the <code>jar</code> file I could at least look for the <code>.class</code> file that I need."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662911451,"post_id":73670816,"comment_id":130110679,"body_markdown":"You can customize Gradle to use any folder structure you like. I believe Maven allows this too, but it might be more work. However, seriously, the default layout of Maven and Gradle is pretty much the industry standard, and I suggest getting used to it.","body":"You can customize Gradle to use any folder structure you like. I believe Maven allows this too, but it might be more work. However, seriously, the default layout of Maven and Gradle is pretty much the industry standard, and I suggest getting used to it."}],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662808041,"creation_date":1662808041,"answer_id":73671303,"question_id":73670816,"body_markdown":"The apache camel module doesn&#39;t contain any code. It just declares a list of dependencies, in the `/META-INF/maven/org.apache.camel/camel-core/pom.xml` file:\r\n\r\n - camel-core-engine\r\n - camel-core-languages\r\n - camel-bean\r\n - camel-browse\r\n - camel-cluster\r\n - camel-controlbus\r\n - camel-dataformat\r\n - camel-dataset\r\n - camel-direct\r\n - camel-directvm\r\n - camel-file\r\n - camel-health\r\n - camel-language\r\n - camel-log\r\n - camel-mock\r\n - camel-ref\r\n - camel-rest\r\n - camel-saga\r\n - camel-scheduler\r\n - camel-seda\r\n - camel-stub\r\n - camel-timer\r\n - camel-validator\r\n - camel-vm\r\n - camel-xpath\r\n - camel-xslt\r\n - camel-xml-jaxb\r\n - camel-xml-jaxp\r\n - slf4j-api\r\n\r\nYou have to download the jars that you need in this list of dependencies. All jars can be found on https://mvnrepository.com/.\r\n\r\nThis is why everyone will recommend you to use maven or gradle, as those tools will manage the dependencies for you.\r\n\r\n\r\n\r\n","title":"java - how to get the jar files of a library or framework","body":"<p>The apache camel module doesn't contain any code. It just declares a list of dependencies, in the <code>/META-INF/maven/org.apache.camel/camel-core/pom.xml</code> file:</p>\n<ul>\n<li>camel-core-engine</li>\n<li>camel-core-languages</li>\n<li>camel-bean</li>\n<li>camel-browse</li>\n<li>camel-cluster</li>\n<li>camel-controlbus</li>\n<li>camel-dataformat</li>\n<li>camel-dataset</li>\n<li>camel-direct</li>\n<li>camel-directvm</li>\n<li>camel-file</li>\n<li>camel-health</li>\n<li>camel-language</li>\n<li>camel-log</li>\n<li>camel-mock</li>\n<li>camel-ref</li>\n<li>camel-rest</li>\n<li>camel-saga</li>\n<li>camel-scheduler</li>\n<li>camel-seda</li>\n<li>camel-stub</li>\n<li>camel-timer</li>\n<li>camel-validator</li>\n<li>camel-vm</li>\n<li>camel-xpath</li>\n<li>camel-xslt</li>\n<li>camel-xml-jaxb</li>\n<li>camel-xml-jaxp</li>\n<li>slf4j-api</li>\n</ul>\n<p>You have to download the jars that you need in this list of dependencies. All jars can be found on <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>.</p>\n<p>This is why everyone will recommend you to use maven or gradle, as those tools will manage the dependencies for you.</p>\n"}],"owner":{"account_id":18210444,"reputation":184,"user_id":13253079,"display_name":"theerrormagnet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73671303,"answer_count":1,"score":0,"last_activity_date":1662808041,"creation_date":1662803280,"question_id":73670816,"body_markdown":"I want to download the `.jar` file of a java framework.\\\r\nThat `.jar` should of course contain all the `.class` files that I need for my project.\r\n\r\nI tried downloading from here:\\\r\nhttps://mvnrepository.com/artifact/org.apache.camel/camel-core/3.18.2 \\\r\nBut the `.jar` file is only 4KB big and contains only meta information, but no java classes.\\\r\nI found `jar` files with java classes in them in older versions, but in newer versions they seem to upload only meta information.\r\n\r\nSo I don&#39;t know how to get to the `.jar` file with all `.class` files inside.\\\r\nI don&#39;t want to work with `maven` or `gradle` for now.\\\r\nAnd you can&#39;t just download jars with maven or gradle you have to build your entire project with it.\r\n\r\nI also searched the github (https://github.com/apache/camel) and source code of the &quot;Apache Camel&quot; project and did not encounter `jar` files.\\\r\nIs there any other popular place where open source java frameworks/libraries with `jar` files can be found?","title":"java - how to get the jar files of a library or framework","body":"<p>I want to download the <code>.jar</code> file of a java framework.<br />\nThat <code>.jar</code> should of course contain all the <code>.class</code> files that I need for my project.</p>\n<p>I tried downloading from here:<br />\n<a href=\"https://mvnrepository.com/artifact/org.apache.camel/camel-core/3.18.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.camel/camel-core/3.18.2</a> <br />\nBut the <code>.jar</code> file is only 4KB big and contains only meta information, but no java classes.<br />\nI found <code>jar</code> files with java classes in them in older versions, but in newer versions they seem to upload only meta information.</p>\n<p>So I don't know how to get to the <code>.jar</code> file with all <code>.class</code> files inside.<br />\nI don't want to work with <code>maven</code> or <code>gradle</code> for now.<br />\nAnd you can't just download jars with maven or gradle you have to build your entire project with it.</p>\n<p>I also searched the github (<a href=\"https://github.com/apache/camel\" rel=\"nofollow noreferrer\">https://github.com/apache/camel</a>) and source code of the &quot;Apache Camel&quot; project and did not encounter <code>jar</code> files.<br />\nIs there any other popular place where open source java frameworks/libraries with <code>jar</code> files can be found?</p>\n"},{"tags":["java","utf-8","fonts","height","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1476612076,"creation_date":1476612076,"answer_id":40069056,"question_id":40068765,"body_markdown":"You could try setting/forcing a line height like so:\r\n\r\n    MutableAttributeSet jTextPaneSet = new SimpleAttributeSet(pane.getParagraphAttributes());\r\n    StyleConstants.setLineSpacing(jTextPaneSet, 1.5f); //replace float 1.5f with your desired line spacing/height\r\n\r\nSource:\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/javax/swing/JTextPane.html#setParagraphAttributes(javax.swing.text.AttributeSet,%20boolean)\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyleConstants.html#setLineSpacing(javax.swing.text.MutableAttributeSet,%20float)\r\n\r\n\r\n","title":"Java JTextPane changes line height when UTF8 character is added","body":"<p>You could try setting/forcing a line height like so:</p>\n\n<pre><code>MutableAttributeSet jTextPaneSet = new SimpleAttributeSet(pane.getParagraphAttributes());\nStyleConstants.setLineSpacing(jTextPaneSet, 1.5f); //replace float 1.5f with your desired line spacing/height\n</code></pre>\n\n<p>Source:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JTextPane.html#setParagraphAttributes(javax.swing.text.AttributeSet,%20boolean)\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/javax/swing/JTextPane.html#setParagraphAttributes(javax.swing.text.AttributeSet,%20boolean)</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyleConstants.html#setLineSpacing(javax.swing.text.MutableAttributeSet,%20float)\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyleConstants.html#setLineSpacing(javax.swing.text.MutableAttributeSet,%20float)</a></p>\n"},{"tags":[],"owner":{"account_id":4970075,"reputation":46,"user_id":3998190,"display_name":"Ivo Andonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662807628,"creation_date":1662807628,"answer_id":73671260,"question_id":40068765,"body_markdown":"Old question but I have been struggling with it for some time, though with a JTextArea. The solution is to have either a VM param -Di18n=true or put the i18n property in the document.\r\n\r\nMy test code:\r\n\r\n    import javax.swing.JTextArea;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] argv) {\r\n    \t\tJTextArea ta = new JTextArea();\r\n    \t\t//ta.getDocument().putProperty(&quot;i18n&quot;, Boolean.TRUE);\r\n    \t\tta.setText(&quot;A&quot;);\r\n    \t\tSystem.out.println(ta.getPreferredSize()); // - height 16 without i18n and using default font, 15 with i18n\r\n    \t\tta.setText(&quot;\\ud8ff\\udc05&quot;); // surrogate pair\r\n    \t\tSystem.out.println(ta.getPreferredSize()); // - height 15\r\n    \t\tta.setText(&quot;A&quot;);\r\n    \t\tSystem.out.println(ta.getPreferredSize()); // - height 15\r\n    \t}\r\n    }\r\n\r\nWhen i18n is not enabled and the document is appended, the elements that are created are PlainView/WrappedPlainView that return the height based on the FontMetrics height.\r\n\r\nWhen i18n is enabled the elements are PlainParagraph that contain GlyphView that calculates the height differently.\r\n\r\nWhen i18n is not enabled and the document is appended with a surrogate pair then due to SwingUtilities2.isComplexLayout returning true, the i18n property is automatically set to true for the document and then all elements are created as PlainParagraph containing GlyphView that return the different (always smaller?) height.","title":"Java JTextPane changes line height when UTF8 character is added","body":"<p>Old question but I have been struggling with it for some time, though with a JTextArea. The solution is to have either a VM param -Di18n=true or put the i18n property in the document.</p>\n<p>My test code:</p>\n<pre><code>import javax.swing.JTextArea;\n\npublic class Test {\n    public static void main(String[] argv) {\n        JTextArea ta = new JTextArea();\n        //ta.getDocument().putProperty(&quot;i18n&quot;, Boolean.TRUE);\n        ta.setText(&quot;A&quot;);\n        System.out.println(ta.getPreferredSize()); // - height 16 without i18n and using default font, 15 with i18n\n        ta.setText(&quot;\\ud8ff\\udc05&quot;); // surrogate pair\n        System.out.println(ta.getPreferredSize()); // - height 15\n        ta.setText(&quot;A&quot;);\n        System.out.println(ta.getPreferredSize()); // - height 15\n    }\n}\n</code></pre>\n<p>When i18n is not enabled and the document is appended, the elements that are created are PlainView/WrappedPlainView that return the height based on the FontMetrics height.</p>\n<p>When i18n is enabled the elements are PlainParagraph that contain GlyphView that calculates the height differently.</p>\n<p>When i18n is not enabled and the document is appended with a surrogate pair then due to SwingUtilities2.isComplexLayout returning true, the i18n property is automatically set to true for the document and then all elements are created as PlainParagraph containing GlyphView that return the different (always smaller?) height.</p>\n"}],"owner":{"account_id":9448211,"reputation":13,"user_id":7026101,"display_name":"Deejay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40069056,"answer_count":2,"score":1,"last_activity_date":1662807628,"creation_date":1476609741,"question_id":40068765,"body_markdown":"I am using Java JDK 1.6 and have a problem using JTextPane to show text with a monospaced font. As soon as I add a UTF8-character like &#128514;, the line height in the textpane is reduced (for all the text already in the pane and also all text added later). How can I avoid this? I would like to have the normal line height.\r\n\r\nHere is some sample code:\r\n\r\n\t\tclass AttributedTextPane extends JTextPane\r\n\t\t{\r\n\r\n\t\t\tprivate DefaultStyledDocument defaultStyledDocument;\r\n\r\n\t\t\tprotected AttributedTextPane()\r\n\t\t\t{\r\n\t\t\t\tthis.defaultStyledDocument = new DefaultStyledDocument();\r\n\t\t\t\tthis.setDocument(defaultStyledDocument);\r\n\t\t\t\t\r\n\t\t\t\tthis.setContentType(&quot;text/plain&quot;);\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t}\r\n\t\t...\r\nThis pane is integrated into an JInternalFrame. Creating the panel and setting the desired monospaced font:\r\n\r\n\t\tFont font = new Font(&quot;DejaVu Sans Mono&quot;, Font.PLAIN, 11);\r\n\t\tAttributedTextPane pane = new AttributedTextPane();\r\n\t\tpane.setFont(font);\r\nTo display the desired text, I call pane.setText(...); As soon as I add the UTF8 character, the line height changes, see screenshot at https://i.stack.imgur.com/hBZDe.png. Is there a way to avoid that the line height is changed?\r\nThanks, Deejay","title":"Java JTextPane changes line height when UTF8 character is added","body":"<p>I am using Java JDK 1.6 and have a problem using JTextPane to show text with a monospaced font. As soon as I add a UTF8-character like 😂, the line height in the textpane is reduced (for all the text already in the pane and also all text added later). How can I avoid this? I would like to have the normal line height.</p>\n\n<p>Here is some sample code:</p>\n\n<pre><code>    class AttributedTextPane extends JTextPane\n    {\n\n        private DefaultStyledDocument defaultStyledDocument;\n\n        protected AttributedTextPane()\n        {\n            this.defaultStyledDocument = new DefaultStyledDocument();\n            this.setDocument(defaultStyledDocument);\n\n            this.setContentType(\"text/plain\");\n            ...\n        }\n    }\n    ...\n</code></pre>\n\n<p>This pane is integrated into an JInternalFrame. Creating the panel and setting the desired monospaced font:</p>\n\n<pre><code>    Font font = new Font(\"DejaVu Sans Mono\", Font.PLAIN, 11);\n    AttributedTextPane pane = new AttributedTextPane();\n    pane.setFont(font);\n</code></pre>\n\n<p>To display the desired text, I call pane.setText(...); As soon as I add the UTF8 character, the line height changes, see screenshot at <a href=\"https://i.stack.imgur.com/hBZDe.png\" rel=\"nofollow\">https://i.stack.imgur.com/hBZDe.png</a>. Is there a way to avoid that the line height is changed?\nThanks, Deejay</p>\n"},{"tags":["java","class","editor","bytecode"],"answers":[{"tags":[],"owner":{"account_id":241999,"reputation":2642,"user_id":513227,"accept_rate":76,"display_name":"Troydm"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1521896224,"creation_date":1303414743,"answer_id":5748957,"question_id":5748948,"body_markdown":"https://en.wikipedia.org/wiki/Java_Decompiler\r\n\r\nalso it&#39;s defunct, you can also use builtin IntelliJ decompiler \r\n\r\n","title":"Java Class File Editor","body":"<p><a href=\"https://en.wikipedia.org/wiki/Java_Decompiler\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_Decompiler</a></p>\n\n<p>also it's defunct, you can also use builtin IntelliJ decompiler </p>\n"},{"tags":[],"owner":{"account_id":21033,"reputation":2205,"user_id":50820,"accept_rate":66,"display_name":"x.509"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303417872,"creation_date":1303417872,"answer_id":5749467,"question_id":5748948,"body_markdown":"I am not sure it has been mentioned before or not but i used this http://classeditor.sourceforge.net/screenshot/index.html when i ran into the similar problem.\r\n\r\nThe tool is pretty decent, can help you look at the class files fields/methods etc. There is an option on the GUI which can be checked to edit the &quot;values&quot; of fields or soemthing which will reflect directly in class file. ","title":"Java Class File Editor","body":"<p>I am not sure it has been mentioned before or not but i used this <a href=\"http://classeditor.sourceforge.net/screenshot/index.html\" rel=\"nofollow\">http://classeditor.sourceforge.net/screenshot/index.html</a> when i ran into the similar problem.</p>\n\n<p>The tool is pretty decent, can help you look at the class files fields/methods etc. There is an option on the GUI which can be checked to edit the \"values\" of fields or soemthing which will reflect directly in class file. </p>\n"},{"tags":[],"owner":{"account_id":1068673,"reputation":401,"user_id":1521879,"display_name":"Fx Mzt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1437040743,"creation_date":1437040743,"answer_id":31451069,"question_id":5748948,"body_markdown":"What I personally like to use and fits exactly your problem:\r\n\r\nhttp://dirty-joe.com/\r\n","title":"Java Class File Editor","body":"<p>What I personally like to use and fits exactly your problem:</p>\n\n<p><a href=\"http://dirty-joe.com/\" rel=\"noreferrer\">http://dirty-joe.com/</a></p>\n"},{"tags":[],"owner":{"account_id":22168787,"reputation":419,"user_id":16414566,"display_name":"ZiyadCodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662807073,"creation_date":1661711392,"answer_id":73521221,"question_id":5748948,"body_markdown":"I tried downloading a LOT of class file decompilers and this is the best one that I found:\r\n\r\n### [Luyten][1]\r\n\r\n\r\n  [1]: https://github.com/deathmarine/Luyten/releases","title":"Java Class File Editor","body":"<p>I tried downloading a LOT of class file decompilers and this is the best one that I found:</p>\n<h3><a href=\"https://github.com/deathmarine/Luyten/releases\" rel=\"nofollow noreferrer\">Luyten</a></h3>\n"}],"owner":{"account_id":188548,"reputation":55117,"user_id":427309,"accept_rate":95,"display_name":"Richard J. Ross III"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96392,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1662807073,"creation_date":1303414678,"question_id":5748948,"body_markdown":"What is the most effective way I can decompile &amp; Edit a class file? I really just want to edit one line of code in the file, however JBE (java ByteCode Editor) isn&#39;t letting me change a floating point constant.\r\n\r\nDecompiling the class and recompiling will not work, as I have tried this, I get many dependency errors, and name errors.\r\nHow can I go about this effectively?\r\n\r\nThanks","title":"Java Class File Editor","body":"<p>What is the most effective way I can decompile &amp; Edit a class file? I really just want to edit one line of code in the file, however JBE (java ByteCode Editor) isn't letting me change a floating point constant.</p>\n\n<p>Decompiling the class and recompiling will not work, as I have tried this, I get many dependency errors, and name errors.\nHow can I go about this effectively?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","io","eof"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1662806694,"post_id":73671170,"comment_id":130094439,"body_markdown":"Data can&#39;t contain &quot;-1&quot;. Every byte is returned as 0-255. (It&#39;s unfortunate that bytes are signed in Java... it&#39;s very rarely useful to view them that way.) From the docs for InputStream.read: &quot;The value byte is returned as an int in the range 0 to 255. If no byte is available because the end of the stream has been reached, the value -1 is returned&quot;. If that isn&#39;t clear to you, please edit your question to clarify what difficulty you&#39;re having.","body":"Data can&#39;t contain &quot;-1&quot;. Every byte is returned as 0-255. (It&#39;s unfortunate that bytes are signed in Java... it&#39;s very rarely useful to view them that way.) From the docs for InputStream.read: &quot;The value byte is returned as an int in the range 0 to 255. If no byte is available because the end of the stream has been reached, the value -1 is returned&quot;. If that isn&#39;t clear to you, please edit your question to clarify what difficulty you&#39;re having."},{"owner":{"account_id":26293303,"reputation":3,"user_id":19959985,"display_name":"Mahmoud-310"},"score":0,"creation_date":1662807559,"post_id":73671170,"comment_id":130094586,"body_markdown":"So if i tried to write a -1 to a file and someone else tried to read it will get 255 and won&#39;t have no idea that i tried to (carelessly) write -1 because it is not intended to work that way ?","body":"So if i tried to write a -1 to a file and someone else tried to read it will get 255 and won&#39;t have no idea that i tried to (carelessly) write -1 because it is not intended to work that way ?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1662809932,"post_id":73671170,"comment_id":130095007,"body_markdown":"What do you mean by &quot;write -1 to a file&quot;?  At base, a file is made of bytes.  Do you mean a single byte with all one bits?  Then that is read as a single byte with all one bits - as an integer result, that will be returned as 255.  If you mean four bytes each with all one bits, then you will see four bytes, which you can assemble into a single four-byte int if you wish.  To restate: files are made of bytes, and it follows that if you want to write entities that are larger than a byte, readers must be in agreement with how to interpret the bytes to recover the &#39;sense&#39; of what was written.","body":"What do you mean by &quot;write -1 to a file&quot;?  At base, a file is made of bytes.  Do you mean a single byte with all one bits?  Then that is read as a single byte with all one bits - as an integer result, that will be returned as 255.  If you mean four bytes each with all one bits, then you will see four bytes, which you can assemble into a single four-byte int if you wish.  To restate: files are made of bytes, and it follows that if you want to write entities that are larger than a byte, readers must be in agreement with how to interpret the bytes to recover the &#39;sense&#39; of what was written."},{"owner":{"account_id":26293303,"reputation":3,"user_id":19959985,"display_name":"Mahmoud-310"},"score":0,"creation_date":1662810455,"post_id":73671170,"comment_id":130095100,"body_markdown":"@access yes I mean the first statement thanks","body":"@access yes I mean the first statement thanks"}],"owner":{"account_id":26293303,"reputation":3,"user_id":19959985,"display_name":"Mahmoud-310"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662806734,"creation_date":1662806642,"question_id":73671170,"body_markdown":"How is the -1 returned by **InputStream** methods when reaching the end of the stream distinguished from a -1 in the stream data?","title":"EOF -1 vs an internal -1 data","body":"<p>How is the -1 returned by <strong>InputStream</strong> methods when reaching the end of the stream distinguished from a -1 in the stream data?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1606758503,"post_id":65078470,"comment_id":115052568,"body_markdown":"Replace `myRef.child(getRef(i).getKey()).removeValue()` with `getRef(i).removeValue()`. I don&#39;t think it&#39;ll fix the problem (I would&#39;ve posted it as an answer otherwise), but it&#39;s more idiomatic and less likely to cause race conditions.","body":"Replace <code>myRef.child(getRef(i).getKey()).removeValue()</code> with <code>getRef(i).removeValue()</code>. I don&#39;t think it&#39;ll fix the problem (I would&#39;ve posted it as an answer otherwise), but it&#39;s more idiomatic and less likely to cause race conditions."},{"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"score":0,"creation_date":1606758871,"post_id":65078470,"comment_id":115052751,"body_markdown":"Thanks a lot. You helped promptly as always. But I am sorry to say that the above amendment did not work. Could you take pains to rethink about it?","body":"Thanks a lot. You helped promptly as always. But I am sorry to say that the above amendment did not work. Could you take pains to rethink about it?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":2,"creation_date":1606758983,"post_id":65078470,"comment_id":115052808,"body_markdown":"Can you share the rash report","body":"Can you share the rash report"},{"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"score":0,"creation_date":1606759265,"post_id":65078470,"comment_id":115052935,"body_markdown":"@ Zain I have added the crash report.","body":"@ Zain I have added the crash report."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1606759602,"post_id":65078470,"comment_id":115053097,"body_markdown":"Thanks. Can you share this method `getRef(i)` .. it seems that it has some issues","body":"Thanks. Can you share this method <code>getRef(i)</code> .. it seems that it has some issues"},{"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"score":1,"creation_date":1606759827,"post_id":65078470,"comment_id":115053198,"body_markdown":"My firebase reference is like this:       `myRef = myfire.getReference().child(&quot;Users&quot;).child(&quot;GcZoeK7JIbNWVOog6ZjUPiBfxwn2&quot;);`","body":"My firebase reference is like this:       <code>myRef = myfire.getReference().child(&quot;Users&quot;).child(&quot;GcZoeK7JIbNWVOog&zwnj;&#8203;6ZjUPiBfxwn2&quot;);</code>"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1606760152,"post_id":65078470,"comment_id":115053326,"body_markdown":"can you elaborate more how can you use `i` when you pass it to `getRef(i) ` ?","body":"can you elaborate more how can you use <code>i</code> when you pass it to <code>getRef(i) </code> ?"},{"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"score":0,"creation_date":1606760424,"post_id":65078470,"comment_id":115053455,"body_markdown":"@ Zain I have no idea about that. I followed a tutorial and used `i` in my code.","body":"@ Zain I have no idea about that. I followed a tutorial and used <code>i</code> in my code."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1606760788,"post_id":65078470,"comment_id":115053621,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/225332/discussion-between-zain-and-user14253444).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/225332/discussion-between-zain-and-user14253444\">continue this discussion in chat</a>."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1606762245,"post_id":65078470,"comment_id":115054215,"body_markdown":"Hey @Zain. The `getRef()` is a method in the FirebaseUI adapters that returns a `DatabaseReference` for the item that is at position `i` in the adapter. Code: https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseRecyclerAdapter.java#L114-L116","body":"Hey @Zain. The <code>getRef()</code> is a method in the FirebaseUI adapters that returns a <code>DatabaseReference</code> for the item that is at position <code>i</code> in the adapter. Code: <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseRecyclerAdapter.java#L114-L116\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android/blob/master/database/&zwnj;&#8203;src/&hellip;</a>"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1606762507,"post_id":65078470,"comment_id":115054317,"body_markdown":"Hi @FrankvanPuffelen Thanks so much .. a bit since I touched Firebase .. much appreciated for your usual and thoughtful info","body":"Hi @FrankvanPuffelen Thanks so much .. a bit since I touched Firebase .. much appreciated for your usual and thoughtful info"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606764896,"creation_date":1606764896,"answer_id":65080022,"question_id":65078470,"body_markdown":"It seems that when you access Firebase `getRef(i)` within the button `onClick` callback, it can reference a wrong position `i` causing `IndexOutOfBoundsException`\r\n\r\nSo, we&#39;ll get the key outside of the callback as below:\r\n\r\n```\r\noptions = new FirebaseRecyclerOptions.Builder&lt;basic&gt;()\r\n\t\t\t.setQuery(myRef, basic.class)\r\n\t\t\t.build();\r\n\tadapter = new FirebaseRecyclerAdapter&lt;basic, holder&gt;(options) {\r\n\t\t@SuppressLint(&quot;SetTextI18n&quot;)\r\n\t\t@Override\r\n\t\tprotected void onBindViewHolder(@NonNull holder holder, final int i, @NonNull final basic basic) {\r\n\t\t\tholder.tvName.setText(basic.getFb01name());\r\n\t\t\tholder.tvRoll.setText(basic.getFb04roll());\r\n\t\t\tString refKey = getRef(i).getKey(); // &lt;&lt;&lt;&lt;&lt;&lt; Here is the change\r\n\t\t\t\r\n\t\t\tholder.btnDelete.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t    myRef.child(refKey)).removeValue();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t@NonNull\r\n\t\t@Override\r\n\t\tpublic holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\t\t\tView v = LayoutInflater.from(parent.getContext()).inflate(R.layout.items, parent, false);\r\n\t\t\treturn new holder(v);\r\n\t\t}\r\n\t};\r\n```","title":"App crashes with IndexOutOfBoundsException when deleting firebase child with removeValue()","body":"<p>It seems that when you access Firebase <code>getRef(i)</code> within the button <code>onClick</code> callback, it can reference a wrong position <code>i</code> causing <code>IndexOutOfBoundsException</code></p>\n<p>So, we'll get the key outside of the callback as below:</p>\n<pre><code>options = new FirebaseRecyclerOptions.Builder&lt;basic&gt;()\n            .setQuery(myRef, basic.class)\n            .build();\n    adapter = new FirebaseRecyclerAdapter&lt;basic, holder&gt;(options) {\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        protected void onBindViewHolder(@NonNull holder holder, final int i, @NonNull final basic basic) {\n            holder.tvName.setText(basic.getFb01name());\n            holder.tvRoll.setText(basic.getFb04roll());\n            String refKey = getRef(i).getKey(); // &lt;&lt;&lt;&lt;&lt;&lt; Here is the change\n            \n            holder.btnDelete.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    myRef.child(refKey)).removeValue();\n                }\n            });\n        }\n\n        @NonNull\n        @Override\n        public holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.items, parent, false);\n            return new holder(v);\n        }\n    };\n</code></pre>\n"}],"owner":{"account_id":17023713,"reputation":63,"user_id":14253444,"display_name":"user14253444"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65080022,"answer_count":1,"score":1,"last_activity_date":1662806022,"creation_date":1606757945,"question_id":65078470,"body_markdown":"I am making an android app based on **firebase Realtime database**. I am reading the data in a `RecyclerView`. There are three items in my `RecyclerView`. \r\n\r\n 1. Text view = Name\r\n 2. Text view = Number\r\n 3. Button = Delete\r\n\r\nWhen I delete some child from my `RecyclerView` three things can happen:\r\n\r\n 1. Sometimes it deletes the targeted child normally\r\n\r\n 2. Sometimes it deletes some other child (often which is below the targeted child.)\r\n\r\n 3. Sometimes my app crashes.\r\n\r\nThis is the code for my adapter:\r\n\r\n```\r\npublic class holder extends RecyclerView.ViewHolder {\r\n    public Button btnDelete;\r\n    public TextView tvName;\r\n    public TextView tvRoll;\r\n\r\n    public holder(@NonNull View itemView) {\r\n        super(itemView);\r\n        btnDelete=(Button) itemView.findViewById(R.id.idDelete);\r\n        tvName=(TextView) itemView.findViewById(R.id.idName);\r\n        tvRoll=(TextView) itemView.findViewById(R.id.idRoll);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is the code to show items in recycler view and code for delete button:\r\n\r\n```\r\noptions = new FirebaseRecyclerOptions.Builder&lt;basic&gt;()\r\n                .setQuery(myRef, basic.class)\r\n                .build();\r\n        adapter = new FirebaseRecyclerAdapter&lt;basic, holder&gt;(options) {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull holder holder, final int i, @NonNull final basic basic) {\r\n                holder.tvName.setText(basic.getFb01name());\r\n                holder.tvRoll.setText(basic.getFb04roll());\r\n                holder.btnDelete.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                            myRef.child(getRef(i).getKey()).removeValue();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.items, parent, false);\r\n                return new holder(v);\r\n            }\r\n        };\r\n        //------------------------------\r\n        adapter.startListening();\r\n        Userlist.setAdapter(adapter);\r\n        //-----------------------------------\r\n```\r\nI cannot guess where is the problem. \r\n\r\nPlease also provide a practical solution.\r\n\r\n\r\nThis is the crash report:\r\n```\r\n2020-11-30 23:27:45.968 10796-10796/com.my App Name E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.my App Name, PID: 10796\r\n    java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\r\n        at java.util.ArrayList.get(ArrayList.java:437)\r\n        at com.firebase.ui.common.BaseObservableSnapshotArray.getSnapshot(BaseObservableSnapshotArray.java:70)\r\n        at com.firebase.ui.database.FirebaseRecyclerAdapter.getRef(FirebaseRecyclerAdapter.java:112)\r\n        at com.my App Name.ViewActivity$1$1.onClick(ViewActivity.java:72)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n2020-11-30 23:27:46.701 1467-10685/com.google.android.googlequicksearchbox E/sb.v.u.LiteSuggestSourc: On-device lite suggest model loading error.\r\n2020-11-30 23:27:46.818 1467-1774/com.google.android.googlequicksearchbox E/MDD: DownloadProgressMonitor: Can&#39;t find file group for uri: android://com.google.android.googlequicksearchbox/files/sharedminusonemodule/shared/SharedMinusOneData.pb.tmp\r\n```","title":"App crashes with IndexOutOfBoundsException when deleting firebase child with removeValue()","body":"<p>I am making an android app based on <strong>firebase Realtime database</strong>. I am reading the data in a <code>RecyclerView</code>. There are three items in my <code>RecyclerView</code>.</p>\n<ol>\n<li>Text view = Name</li>\n<li>Text view = Number</li>\n<li>Button = Delete</li>\n</ol>\n<p>When I delete some child from my <code>RecyclerView</code> three things can happen:</p>\n<ol>\n<li><p>Sometimes it deletes the targeted child normally</p>\n</li>\n<li><p>Sometimes it deletes some other child (often which is below the targeted child.)</p>\n</li>\n<li><p>Sometimes my app crashes.</p>\n</li>\n</ol>\n<p>This is the code for my adapter:</p>\n<pre><code>public class holder extends RecyclerView.ViewHolder {\n    public Button btnDelete;\n    public TextView tvName;\n    public TextView tvRoll;\n\n    public holder(@NonNull View itemView) {\n        super(itemView);\n        btnDelete=(Button) itemView.findViewById(R.id.idDelete);\n        tvName=(TextView) itemView.findViewById(R.id.idName);\n        tvRoll=(TextView) itemView.findViewById(R.id.idRoll);\n\n    }\n}\n</code></pre>\n<p>This is the code to show items in recycler view and code for delete button:</p>\n<pre><code>options = new FirebaseRecyclerOptions.Builder&lt;basic&gt;()\n                .setQuery(myRef, basic.class)\n                .build();\n        adapter = new FirebaseRecyclerAdapter&lt;basic, holder&gt;(options) {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            protected void onBindViewHolder(@NonNull holder holder, final int i, @NonNull final basic basic) {\n                holder.tvName.setText(basic.getFb01name());\n                holder.tvRoll.setText(basic.getFb04roll());\n                holder.btnDelete.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                            myRef.child(getRef(i).getKey()).removeValue();\n                    }\n                });\n            }\n\n            @NonNull\n            @Override\n            public holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.items, parent, false);\n                return new holder(v);\n            }\n        };\n        //------------------------------\n        adapter.startListening();\n        Userlist.setAdapter(adapter);\n        //-----------------------------------\n</code></pre>\n<p>I cannot guess where is the problem.</p>\n<p>Please also provide a practical solution.</p>\n<p>This is the crash report:</p>\n<pre><code>2020-11-30 23:27:45.968 10796-10796/com.my App Name E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my App Name, PID: 10796\n    java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.firebase.ui.common.BaseObservableSnapshotArray.getSnapshot(BaseObservableSnapshotArray.java:70)\n        at com.firebase.ui.database.FirebaseRecyclerAdapter.getRef(FirebaseRecyclerAdapter.java:112)\n        at com.my App Name.ViewActivity$1$1.onClick(ViewActivity.java:72)\n        at android.view.View.performClick(View.java:7448)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2020-11-30 23:27:46.701 1467-10685/com.google.android.googlequicksearchbox E/sb.v.u.LiteSuggestSourc: On-device lite suggest model loading error.\n2020-11-30 23:27:46.818 1467-1774/com.google.android.googlequicksearchbox E/MDD: DownloadProgressMonitor: Can't find file group for uri: android://com.google.android.googlequicksearchbox/files/sharedminusonemodule/shared/SharedMinusOneData.pb.tmp\n</code></pre>\n"},{"tags":["java","null","option-type"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662279920,"post_id":73597805,"comment_id":129965902,"body_markdown":"According to the Java 8 [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) there is no `isEmpty` method. Am I missing something?","body":"According to the Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">documentation</a> there is no <code>isEmpty</code> method. Am I missing something?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1662280277,"post_id":73597805,"comment_id":129965962,"body_markdown":"You need to understand more what an Optional, it can holds a value or not. A null optional, is just like any object who would be null. A empty optional means it holds NO value, represented by a null value, seems very logical","body":"You need to understand more what an Optional, it can holds a value or not. A null optional, is just like any object who would be null. A empty optional means it holds NO value, represented by a null value, seems very logical"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1662280327,"post_id":73597805,"comment_id":129965969,"body_markdown":"@Abra Yes, you&#39;re missing [Java 11](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#isEmpty()).","body":"@Abra Yes, you&#39;re missing <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#isEmpty()\" rel=\"nofollow noreferrer\">Java 11</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1662281008,"post_id":73597805,"comment_id":129966071,"body_markdown":"@khelwood did I misunderstand this part of the question: _I am using JDK 8_ ?","body":"@khelwood did I misunderstand this part of the question: <i>I am using JDK 8</i> ?"},{"owner":{"account_id":15709133,"reputation":105,"user_id":11832831,"display_name":"YeonCheol Jang"},"score":0,"creation_date":1662293247,"post_id":73597805,"comment_id":129968273,"body_markdown":"Sorry for giving misinformation. I am using java 11 and JDK 11. I don&#39;t know way i mentioned JDK 8 though. And i guess this question is not connected with specific java version. Sorry again.","body":"Sorry for giving misinformation. I am using java 11 and JDK 11. I don&#39;t know way i mentioned JDK 8 though. And i guess this question is not connected with specific java version. Sorry again."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662282643,"creation_date":1662279620,"answer_id":73597825,"question_id":73597805,"body_markdown":"It’s the because the null check is an *implementation detail*, not what the method *logically* does. Logically, the method checks whether the optional value is empty or engaged.\r\n\r\n*Technically*, this can be implemented in a number of ways, depending on how the `Optional` stores its value. JDK 8’s implementation happens to use a reference object with a null check, but other implementations could conceivably do this differently. It’s a mistake to confuse a high-level interface description with its implementation. The entire point of encapsulation is to abstract away implementation details from the user.","title":"Why Optional.isEmpty() which checks for NULL is not called isNull()","body":"<p>It’s the because the null check is an <em>implementation detail</em>, not what the method <em>logically</em> does. Logically, the method checks whether the optional value is empty or engaged.</p>\n<p><em>Technically</em>, this can be implemented in a number of ways, depending on how the <code>Optional</code> stores its value. JDK 8’s implementation happens to use a reference object with a null check, but other implementations could conceivably do this differently. It’s a mistake to confuse a high-level interface description with its implementation. The entire point of encapsulation is to abstract away implementation details from the user.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662287985,"creation_date":1662281957,"answer_id":73598042,"question_id":73597805,"body_markdown":"You&#39;re missing the main point.\r\n\r\nOptional is designed to be a *container of data* which can never be `null` by itself and which is safe to interact with. \r\n\r\nOptional is **not** intended to be a substitution for *null-checks*. It&#39;s mean to represent a *nullable return value* and should not be creating in order to hide null-checks or chain methods on it (more on that, see [here](https://stackoverflow.com/a/34458582/17949945) and [here](https://stackoverflow.com/a/52048770/17949945)).\r\n\r\nIf you need to validate that something is not `null` you can use method [`Objects#requireNonNull()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)) and it&#39;s flavors or explicit *null-check*.\r\n\r\nThe idea behind the optional, is that serves as a **box** for a value, and you can do whole lot of staff with it without caring if the box empty or not. Optional offers you methods to filter to the value inside the box [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#filter(java.util.function.Predicate)\r\n), to replace an empty box with another box [`or()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)), to transform the value inside the box [`map()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#map(java.util.function.Function)), etc. And all these actions can be done by *chaining the methods* fluently **without** opening the box.\r\n\r\nMethods `isNull()`/`isNotNull()` are **not suitable** for the Optional API because they contradict its design goal, which to provide a limited mechanism for representing a *nullable return value* and a mean of interaction with the target value (around which optional is wrapped) in a simple and fluent way regardless whether its value is `null` or not.\r\n\r\n**Note**, that checks `isPresent()` (JDK 8) and `isEmpty()` (JDK 11) exist as a *last resort*. Be attentive when you&#39;re using them, because most likely you&#39;re not leveraging Optional to its full power.\r\n\r\nAlso, note that wrapping `Optional` around a `Collection` or an array doesn&#39;t make sense because they are container of data as well (like optional) and might be empty as well, which represents the absents of data.\r\n\r\nDoing something like this is redundant and inconvenient.\r\n```\r\nOptional&lt;List&lt;String&gt;&gt; optional = Optional.of(new ArrayList&lt;&gt;());\r\n```\r\nWhen a collection is not `null`, which should be the case because keeping nullable collections is an antipattern, `Collection.isEmpty()` is sufficient to check if the data is present. Meanwhile, when you have optional wrapped around collection, the presence of collection inside the optional doesn&#39;t means that the actual data is exists.","title":"Why Optional.isEmpty() which checks for NULL is not called isNull()","body":"<p>You're missing the main point.</p>\n<p>Optional is designed to be a <em>container of data</em> which can never be <code>null</code> by itself and which is safe to interact with.</p>\n<p>Optional is <strong>not</strong> intended to be a substitution for <em>null-checks</em>. It's mean to represent a <em>nullable return value</em> and should not be creating in order to hide null-checks or chain methods on it (more on that, see <a href=\"https://stackoverflow.com/a/34458582/17949945\">here</a> and <a href=\"https://stackoverflow.com/a/52048770/17949945\">here</a>).</p>\n<p>If you need to validate that something is not <code>null</code> you can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects#requireNonNull()</code></a> and it's flavors or explicit <em>null-check</em>.</p>\n<p>The idea behind the optional, is that serves as a <strong>box</strong> for a value, and you can do whole lot of staff with it without caring if the box empty or not. Optional offers you methods to filter to the value inside the box <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter()</code></a>, to replace an empty box with another box <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>or()</code></a>, to transform the value inside the box <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map()</code></a>, etc. And all these actions can be done by <em>chaining the methods</em> fluently <strong>without</strong> opening the box.</p>\n<p>Methods <code>isNull()</code>/<code>isNotNull()</code> are <strong>not suitable</strong> for the Optional API because they contradict its design goal, which to provide a limited mechanism for representing a <em>nullable return value</em> and a mean of interaction with the target value (around which optional is wrapped) in a simple and fluent way regardless whether its value is <code>null</code> or not.</p>\n<p><strong>Note</strong>, that checks <code>isPresent()</code> (JDK 8) and <code>isEmpty()</code> (JDK 11) exist as a <em>last resort</em>. Be attentive when you're using them, because most likely you're not leveraging Optional to its full power.</p>\n<p>Also, note that wrapping <code>Optional</code> around a <code>Collection</code> or an array doesn't make sense because they are container of data as well (like optional) and might be empty as well, which represents the absents of data.</p>\n<p>Doing something like this is redundant and inconvenient.</p>\n<pre><code>Optional&lt;List&lt;String&gt;&gt; optional = Optional.of(new ArrayList&lt;&gt;());\n</code></pre>\n<p>When a collection is not <code>null</code>, which should be the case because keeping nullable collections is an antipattern, <code>Collection.isEmpty()</code> is sufficient to check if the data is present. Meanwhile, when you have optional wrapped around collection, the presence of collection inside the optional doesn't means that the actual data is exists.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662283180,"creation_date":1662283180,"answer_id":73598167,"question_id":73597805,"body_markdown":"Here&#39;s a different way of implementing `Optional` which checks emptiness by using different concrete classes for full and empty instances.\r\n```java\r\npublic interface MyOptional&lt;T&gt; {\r\n    boolean isEmpty();\r\n    T getOrDefault(T aDefault);\r\n\r\n    static &lt;T&gt; MyOptional&lt;T&gt; empty() {\r\n        return new MyOptional&lt;T&gt;() {\r\n            @Override\r\n            public boolean isEmpty() {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public T getOrDefault(T aDefault) {\r\n                return aDefault;\r\n            }\r\n        };\r\n    }\r\n\r\n    static &lt;T&gt; MyOptional&lt;T&gt; of(T t) {\r\n        return new MyOptional&lt;T&gt;() {\r\n            @Override\r\n            public boolean isEmpty() {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public T getOrDefault(T aDefault) {\r\n                return t;\r\n            }\r\n        };\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyOptional&lt;String&gt; optString = MyOptional.empty();\r\n\r\n        System.out.println(optString.isEmpty());\r\n    }\r\n}\r\n```\r\n\r\nThis has a semantic difference from Java&#39;s `Optional`: this can contain a null value in a full instance, while Java&#39;s cannot.","title":"Why Optional.isEmpty() which checks for NULL is not called isNull()","body":"<p>Here's a different way of implementing <code>Optional</code> which checks emptiness by using different concrete classes for full and empty instances.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyOptional&lt;T&gt; {\n    boolean isEmpty();\n    T getOrDefault(T aDefault);\n\n    static &lt;T&gt; MyOptional&lt;T&gt; empty() {\n        return new MyOptional&lt;T&gt;() {\n            @Override\n            public boolean isEmpty() {\n                return true;\n            }\n\n            @Override\n            public T getOrDefault(T aDefault) {\n                return aDefault;\n            }\n        };\n    }\n\n    static &lt;T&gt; MyOptional&lt;T&gt; of(T t) {\n        return new MyOptional&lt;T&gt;() {\n            @Override\n            public boolean isEmpty() {\n                return false;\n            }\n\n            @Override\n            public T getOrDefault(T aDefault) {\n                return t;\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        MyOptional&lt;String&gt; optString = MyOptional.empty();\n\n        System.out.println(optString.isEmpty());\n    }\n}\n</code></pre>\n<p>This has a semantic difference from Java's <code>Optional</code>: this can contain a null value in a full instance, while Java's cannot.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662322898,"creation_date":1662322898,"answer_id":73602584,"question_id":73597805,"body_markdown":"This is the definition of [Optional][1]:\r\n\r\n&gt; A container object which may or may not contain a non-null value.\r\n\r\nSince the object itself is a container, which may or may not hold a value, `isEmpty` (or `isPresent`) refers to the status of the container, whether it holds something or not.\r\n\r\n`isNull` as a name would suggest that the `Optional` would be `null`, which would be a false impression, because the `Optional` itself is a properly existing instance.\r\n\r\nIs the `Optional` `null` if it does not hold a not-null value? No, you can check for\r\n\r\n    myOptional == null\r\n\r\nand you will see it&#39;s false (you couldn&#39;t even call `isEmpty` otherwise). Is the object inside the container `null`? If `isEmpty` is `null`, then it&#39;s a sure thing. Hence, the `Optional` is either empty, or something is present inside of it.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#isEmpty()","title":"Why Optional.isEmpty() which checks for NULL is not called isNull()","body":"<p>This is the definition of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#isEmpty()\" rel=\"nofollow noreferrer\">Optional</a>:</p>\n<blockquote>\n<p>A container object which may or may not contain a non-null value.</p>\n</blockquote>\n<p>Since the object itself is a container, which may or may not hold a value, <code>isEmpty</code> (or <code>isPresent</code>) refers to the status of the container, whether it holds something or not.</p>\n<p><code>isNull</code> as a name would suggest that the <code>Optional</code> would be <code>null</code>, which would be a false impression, because the <code>Optional</code> itself is a properly existing instance.</p>\n<p>Is the <code>Optional</code> <code>null</code> if it does not hold a not-null value? No, you can check for</p>\n<pre><code>myOptional == null\n</code></pre>\n<p>and you will see it's false (you couldn't even call <code>isEmpty</code> otherwise). Is the object inside the container <code>null</code>? If <code>isEmpty</code> is <code>null</code>, then it's a sure thing. Hence, the <code>Optional</code> is either empty, or something is present inside of it.</p>\n"}],"owner":{"account_id":15709133,"reputation":105,"user_id":11832831,"display_name":"YeonCheol Jang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":73602584,"answer_count":4,"score":2,"last_activity_date":1662805033,"creation_date":1662279352,"question_id":73597805,"body_markdown":"This might be a silly question.\r\n\r\nWhen I am using `Optional.isEmpty()` like below in the code\r\n```\r\nOptional&lt;List&lt;String&gt;&gt; optional = Optional.of(new ArrayList&lt;&gt;());\r\n\r\noptional.isEmpty(); // only checks if the value is NULL or not.\r\n```\r\n`isEmpty()` method is only checking whether the value `null` or not.\r\n\r\n    public boolean isEmpty() {\r\n        return value == null;\r\n    }\r\n\r\nThis method name seems not clear for me.\r\n\r\nI&#39;m wondering why this method is named `isEmpty()` and not `isNull()` since it performs null-check under the hood?","title":"Why Optional.isEmpty() which checks for NULL is not called isNull()","body":"<p>This might be a silly question.</p>\n<p>When I am using <code>Optional.isEmpty()</code> like below in the code</p>\n<pre><code>Optional&lt;List&lt;String&gt;&gt; optional = Optional.of(new ArrayList&lt;&gt;());\n\noptional.isEmpty(); // only checks if the value is NULL or not.\n</code></pre>\n<p><code>isEmpty()</code> method is only checking whether the value <code>null</code> or not.</p>\n<pre><code>public boolean isEmpty() {\n    return value == null;\n}\n</code></pre>\n<p>This method name seems not clear for me.</p>\n<p>I'm wondering why this method is named <code>isEmpty()</code> and not <code>isNull()</code> since it performs null-check under the hood?</p>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":22418661,"reputation":33,"user_id":16626320,"display_name":"thatWaz96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662709310,"creation_date":1662709310,"answer_id":73658855,"question_id":73657158,"body_markdown":"Usually when I run into this it&#39;s because there is another implementation of that plug-in in one of the other gradle files.  Look in your build.gradle project file and/or your gradle settings file to see if another version of &#39;org.jetbrains.kotlin.jvm&#39; is listed.  You may have to play around with deleting it from one of those other files and resyncing the gradle until it works.","title":"Gradle plugin must not include version","body":"<p>Usually when I run into this it's because there is another implementation of that plug-in in one of the other gradle files.  Look in your build.gradle project file and/or your gradle settings file to see if another version of 'org.jetbrains.kotlin.jvm' is listed.  You may have to play around with deleting it from one of those other files and resyncing the gradle until it works.</p>\n"},{"tags":[],"owner":{"account_id":554033,"reputation":438,"user_id":2435426,"accept_rate":75,"display_name":"iH8WorkingWith.NetGraphics"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662804085,"creation_date":1662804085,"answer_id":73670901,"question_id":73657158,"body_markdown":"I resolved this by using the gradle legacy plugin dsl. In `project_lib\\build.gradle` instead of:\r\n\r\n```\r\nplugins {\r\n  id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.17.10&#39;\r\n}\r\n```\r\n\r\nI instead do this\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;\r\n    }\r\n}\r\n\r\napply plugin: &quot;org.jetbrains.kotlin.jvm&quot;\r\n```","title":"Gradle plugin must not include version","body":"<p>I resolved this by using the gradle legacy plugin dsl. In <code>project_lib\\build.gradle</code> instead of:</p>\n<pre><code>plugins {\n  id 'org.jetbrains.kotlin.jvm' version '1.17.10'\n}\n</code></pre>\n<p>I instead do this</p>\n<pre><code>buildscript {\n    repositories {\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;\n    }\n}\n\napply plugin: &quot;org.jetbrains.kotlin.jvm&quot;\n</code></pre>\n"}],"owner":{"account_id":554033,"reputation":438,"user_id":2435426,"accept_rate":75,"display_name":"iH8WorkingWith.NetGraphics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3861,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662804085,"creation_date":1662695554,"question_id":73657158,"body_markdown":"I have a multiproject gradle project\r\n\r\n- project_android\r\n    - project_lib\r\n    - app\r\n\r\n`project-lib` is in its own git repository which I added to to `project_android` using `git subtree`.\r\n\r\nI&#39;m stuck. In order to build `project_lib` by itself, I need to specify a version for this plugin. If I don&#39;t have the version\r\n\r\n    plugins {\r\n      id &#39;org.jetbrains.kotlin.jvm&#39;\r\n    }\r\n    \r\nI get this error when building\r\n\r\n    * What went wrong:\r\n    Plugin [id: &#39;org.jetbrains.kotlin.jvm&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (plugin dependency must include a version number for this source)\r\n    ```\r\n\r\nSo I add a version and then it works\r\n\r\n    plugins {\r\n      id &#39;org.jetbrains.kotlin.jvm&#39; version &quot;1.7.10&quot;\r\n    }\r\n\r\nBut now I can&#39;t build `project_android`, here is the error\r\n\r\n    Error resolving plugin [id: &#39;org.jetbrains.kotlin.jvm&#39;, version: &#39;1.7.10&#39;]\r\n    &gt; Plugin request for plugin already on the classpath must not include a version\r\n\r\nI haven&#39;t added this plugin to `app` so I don&#39;t know where it comes from. This is the plugins in `project_android/app/build.gradle`\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n        // Kotlin Annotation Processing Tool\r\n        id &#39;kotlin-kapt&#39;\r\n        // Google Services plugin\r\n        id &#39;com.google.gms.google-services&#39;\r\n        // Navigation\r\n        id &#39;androidx.navigation.safeargs.kotlin&#39;\r\n        // Performance Monitoring plugin\r\n        id &#39;com.google.firebase.firebase-perf&#39;\r\n    }\r\n\r\n\r\nOne project requires me to add a version. Another requires me not to add a version. What do I do to keep both happy?","title":"Gradle plugin must not include version","body":"<p>I have a multiproject gradle project</p>\n<ul>\n<li>project_android\n<ul>\n<li>project_lib</li>\n<li>app</li>\n</ul>\n</li>\n</ul>\n<p><code>project-lib</code> is in its own git repository which I added to to <code>project_android</code> using <code>git subtree</code>.</p>\n<p>I'm stuck. In order to build <code>project_lib</code> by itself, I need to specify a version for this plugin. If I don't have the version</p>\n<pre><code>plugins {\n  id 'org.jetbrains.kotlin.jvm'\n}\n</code></pre>\n<p>I get this error when building</p>\n<pre><code>* What went wrong:\nPlugin [id: 'org.jetbrains.kotlin.jvm'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n```\n</code></pre>\n<p>So I add a version and then it works</p>\n<pre><code>plugins {\n  id 'org.jetbrains.kotlin.jvm' version &quot;1.7.10&quot;\n}\n</code></pre>\n<p>But now I can't build <code>project_android</code>, here is the error</p>\n<pre><code>Error resolving plugin [id: 'org.jetbrains.kotlin.jvm', version: '1.7.10']\n&gt; Plugin request for plugin already on the classpath must not include a version\n</code></pre>\n<p>I haven't added this plugin to <code>app</code> so I don't know where it comes from. This is the plugins in <code>project_android/app/build.gradle</code></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    // Kotlin Annotation Processing Tool\n    id 'kotlin-kapt'\n    // Google Services plugin\n    id 'com.google.gms.google-services'\n    // Navigation\n    id 'androidx.navigation.safeargs.kotlin'\n    // Performance Monitoring plugin\n    id 'com.google.firebase.firebase-perf'\n}\n</code></pre>\n<p>One project requires me to add a version. Another requires me not to add a version. What do I do to keep both happy?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1467603,"reputation":10525,"user_id":1380032,"accept_rate":43,"display_name":"Rahul"},"score":1,"creation_date":1482951748,"post_id":41368127,"comment_id":69937906,"body_markdown":"Use Handler with delay","body":"Use Handler with delay"},{"owner":{"account_id":7591307,"reputation":1514,"user_id":5758889,"accept_rate":92,"display_name":"Bugs Buggy"},"score":0,"creation_date":1482952784,"post_id":41368127,"comment_id":69938330,"body_markdown":"It is better to use CountDown Timer from Timer class rather than Handler, because the scope of this would be within the activity.","body":"It is better to use CountDown Timer from Timer class rather than Handler, because the scope of this would be within the activity."},{"owner":{"account_id":10474509,"reputation":1695,"user_id":7721443,"display_name":"secretshardul"},"score":0,"creation_date":1602244238,"post_id":41368127,"comment_id":113666307,"body_markdown":"Does these solutions work even after the app is closed?","body":"Does these solutions work even after the app is closed?"}],"answers":[{"tags":[],"owner":{"account_id":6500906,"reputation":2145,"user_id":14899369,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482951892,"creation_date":1482951892,"answer_id":41368219,"question_id":41368127,"body_markdown":"Here is an example:\r\n\r\n    Handler handler = new Handler();\r\n    handler.postDelayed(new Runnable(){\r\n    @Override\r\n      public void run(){\r\n        button.setEnabled(false);\r\n    }\r\n    }, 5000);\r\n\r\nRest, figure out yourself.","title":"Enable and Disable Button using Timer in Android","body":"<p>Here is an example:</p>\n\n<pre><code>Handler handler = new Handler();\nhandler.postDelayed(new Runnable(){\n@Override\n  public void run(){\n    button.setEnabled(false);\n}\n}, 5000);\n</code></pre>\n\n<p>Rest, figure out yourself.</p>\n"},{"tags":[],"owner":{"account_id":7299550,"reputation":3898,"user_id":5562901,"accept_rate":25,"display_name":"Saurabh Padwekar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496388043,"creation_date":1482951924,"answer_id":41368227,"question_id":41368127,"body_markdown":"Use a countdown Timer.\r\n\r\nSay you have button button1 ; \r\n\r\n    button1.setEnabled(false);\r\n    new CountDownTimer(5000, 10) { //Set Timer for 5 seconds\r\n            public void onTick(long millisUntilFinished) {\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                   button1.setEnabled(true);\r\n            }\r\n        }.start()\r\n\r\n\r\n----------\r\n\r\nAba: Applied correct View.setEnabled method.","title":"Enable and Disable Button using Timer in Android","body":"<p>Use a countdown Timer.</p>\n\n<p>Say you have button button1 ; </p>\n\n<pre><code>button1.setEnabled(false);\nnew CountDownTimer(5000, 10) { //Set Timer for 5 seconds\n        public void onTick(long millisUntilFinished) {\n        }\n\n        @Override\n        public void onFinish() {\n               button1.setEnabled(true);\n        }\n    }.start()\n</code></pre>\n\n<hr>\n\n<p>Aba: Applied correct View.setEnabled method.</p>\n"},{"tags":[],"owner":{"account_id":5393242,"reputation":628,"user_id":4295139,"display_name":"Abhishek Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482952190,"creation_date":1482952190,"answer_id":41368287,"question_id":41368127,"body_markdown":"You can call this method. Try this once\r\n\r\n\r\n    private void blink(){\r\n        final Handler handler = new Handler();\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                int timeToBlink = 5000;\r\n                try{\r\n                    Thread.sleep(timeToBlink);\r\n                }catch (Exception e) {\r\n                    \r\n                }\r\n                handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        if(button.isEnabled()){\r\n                            button.setEnabled(false);\r\n                        }else{\r\n                            button.setEnabled(true);\r\n                        }\r\n                        blink();\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n    }\r\n\r\nBy calling this method You will get the effect you wanted","title":"Enable and Disable Button using Timer in Android","body":"<p>You can call this method. Try this once</p>\n\n<pre><code>private void blink(){\n    final Handler handler = new Handler();\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            int timeToBlink = 5000;\n            try{\n                Thread.sleep(timeToBlink);\n            }catch (Exception e) {\n\n            }\n            handler.post(new Runnable() {\n                @Override\n                public void run() {\n\n                    if(button.isEnabled()){\n                        button.setEnabled(false);\n                    }else{\n                        button.setEnabled(true);\n                    }\n                    blink();\n                }\n            });\n        }\n    }).start();\n}\n</code></pre>\n\n<p>By calling this method You will get the effect you wanted</p>\n"},{"tags":[],"owner":{"account_id":6948792,"reputation":653,"user_id":5332110,"display_name":"Alejandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596205921,"creation_date":1596205921,"answer_id":63193835,"question_id":41368127,"body_markdown":"    private fun initButton() {\r\n        button.setOnClickListener {\r\n\r\n            it.isEnabled = false\r\n            it.postDelayed({ it.isEnabled = true }, 3000)\r\n\r\n            //do stuff\r\n        }\r\n    }\r\n\r\nThis works in Kt, does require a handler tho","title":"Enable and Disable Button using Timer in Android","body":"<pre><code>private fun initButton() {\n    button.setOnClickListener {\n\n        it.isEnabled = false\n        it.postDelayed({ it.isEnabled = true }, 3000)\n\n        //do stuff\n    }\n}\n</code></pre>\n<p>This works in Kt, does require a handler tho</p>\n"},{"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662803795,"creation_date":1662803795,"answer_id":73670875,"question_id":41368127,"body_markdown":"In the simplest way\r\n       \r\n       yourView.setEnabled(false);\r\n       yourView.postDelayed(() -&gt; yourView.setEnabled(true), 5000); // Wait for 5 seconds","title":"Enable and Disable Button using Timer in Android","body":"<p>In the simplest way</p>\n<pre><code>   yourView.setEnabled(false);\n   yourView.postDelayed(() -&gt; yourView.setEnabled(true), 5000); // Wait for 5 seconds\n</code></pre>\n"}],"owner":{"account_id":9914513,"reputation":103,"user_id":7339930,"accept_rate":25,"display_name":"Alpha Bot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4712,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41368227,"answer_count":5,"score":4,"last_activity_date":1662803795,"creation_date":1482951480,"question_id":41368127,"body_markdown":"I have two Buttons in main View, Button1 and Button2. How can I disable Button1 for specific time period after that time period it should Enable again.","title":"Enable and Disable Button using Timer in Android","body":"<p>I have two Buttons in main View, Button1 and Button2. How can I disable Button1 for specific time period after that time period it should Enable again.</p>\n"},{"tags":["java","nashorn"],"comments":[{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":1,"creation_date":1662807511,"post_id":73670741,"comment_id":130094581,"body_markdown":"Nashorn has been removed from newer Java versions. You must import it as a separate dependency.","body":"Nashorn has been removed from newer Java versions. You must import it as a separate dependency."},{"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"score":0,"creation_date":1662808413,"post_id":73670741,"comment_id":130094742,"body_markdown":"@QuentinC But I am using java 8. Is it not supported in java 8 as well?","body":"@QuentinC But I am using java 8. Is it not supported in java 8 as well?"},{"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"score":0,"creation_date":1662819140,"post_id":73670741,"comment_id":130096611,"body_markdown":"@Abra Code doesn&#39;t compile. Getting exception that class cannot be resolved.\n &quot;ObjectSizeCalculator cannot be resolved&quot;. \nAfter I added external jar file `nashorn-0.1.0.2013070801` to the project, the code is compiling.\nDoesn&#39;t the nashorn library come with jdk 1.8.*?","body":"@Abra Code doesn&#39;t compile. Getting exception that class cannot be resolved.  &quot;ObjectSizeCalculator cannot be resolved&quot;.  After I added external jar file <code>nashorn-0.1.0.2013070801</code> to the project, the code is compiling. Doesn&#39;t the nashorn library come with jdk 1.8.*?"},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":1,"creation_date":1662914016,"post_id":73670741,"comment_id":130111199,"body_markdown":"Yes, it&#39;s indeed included with Java 8 without the need to download a separate dependency. It&#39;s still included with Java 11 but deprecated. It has been completely removed afterwards. Your Java version wasn&#39;t precised at the time I read your question for the first time, or maybe I missed the info.","body":"Yes, it&#39;s indeed included with Java 8 without the need to download a separate dependency. It&#39;s still included with Java 11 but deprecated. It has been completely removed afterwards. Your Java version wasn&#39;t precised at the time I read your question for the first time, or maybe I missed the info."},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1662914227,"post_id":73670741,"comment_id":130111239,"body_markdown":"Since you are on Java 8, I have no idea, sorry. You should try to compile your project outside eclipse, to make sure that a possibly newer Java version used internally by eclipse won&#39;t interfere.","body":"Since you are on Java 8, I have no idea, sorry. You should try to compile your project outside eclipse, to make sure that a possibly newer Java version used internally by eclipse won&#39;t interfere."},{"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"score":0,"creation_date":1662961444,"post_id":73670741,"comment_id":130118214,"body_markdown":"@QuentinC Ok. Thank you. I will try and check with another IDE.","body":"@QuentinC Ok. Thank you. I will try and check with another IDE."},{"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"score":0,"creation_date":1662967831,"post_id":73670741,"comment_id":130119738,"body_markdown":"Not facing this issue with Intellij. Not sure why the issue with Eclipse.","body":"Not facing this issue with Intellij. Not sure why the issue with Eclipse."},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1662995114,"post_id":73670741,"comment_id":130129324,"body_markdown":"OK, so it&#39;s an eclipse specific issue. Maybe you should check the configuration of your project. You are probably set in a more recent version of Java by default. Eclipse doesn&#39;t always automatically take the right version based on  what&#39;s specified in pom.xml.","body":"OK, so it&#39;s an eclipse specific issue. Maybe you should check the configuration of your project. You are probably set in a more recent version of Java by default. Eclipse doesn&#39;t always automatically take the right version based on  what&#39;s specified in pom.xml."},{"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"score":0,"creation_date":1663046240,"post_id":73670741,"comment_id":130140416,"body_markdown":"Yeah. Java version of the project is set to 1.8 in pom.xml. It seems like an Eclipse issue.","body":"Yeah. Java version of the project is set to 1.8 in pom.xml. It seems like an Eclipse issue."}],"owner":{"account_id":16755060,"reputation":21,"user_id":12111188,"display_name":"Vijay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1662803710,"creation_date":1662802590,"question_id":73670741,"body_markdown":"I am trying to import a project into my eclipse workspace. When I maven updated the project, this dependency is not getting downloaded. \r\nWhen I searched online, I found that **jdk.nashorn** is not supported from **java 11** onwards. But I am using  **java 1.8.0_231**, still its not working for me.\r\n\r\nThe code uses below class from the library.\r\n\r\n    import jdk.nashorn.internal.ir.debug.ObjectSizeCalculator;\r\n\r\n    ObjectSizeCalculator.getObjectSize(modRespList)\r\n\r\n***Is there any way to make this code work?***","title":"The import jdk.nashorn cannot be resolved","body":"<p>I am trying to import a project into my eclipse workspace. When I maven updated the project, this dependency is not getting downloaded.\nWhen I searched online, I found that <strong>jdk.nashorn</strong> is not supported from <strong>java 11</strong> onwards. But I am using  <strong>java 1.8.0_231</strong>, still its not working for me.</p>\n<p>The code uses below class from the library.</p>\n<pre><code>import jdk.nashorn.internal.ir.debug.ObjectSizeCalculator;\n\nObjectSizeCalculator.getObjectSize(modRespList)\n</code></pre>\n<p><em><strong>Is there any way to make this code work?</strong></em></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11044772,"reputation":48,"user_id":8111380,"display_name":"Sertachak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662803206,"creation_date":1662803206,"answer_id":73670801,"question_id":73670242,"body_markdown":"It can be done by just get the last element from the lockedUpStateList\r\nlockedUpShares = lockedUpShareList.get(i)-poGridList.get(i).getUnlockShares();\r\nlockedUpSharesList.add(lockedUpShares);","title":"Calculation logic going wrong in Java","body":"<p>It can be done by just get the last element from the lockedUpStateList\nlockedUpShares = lockedUpShareList.get(i)-poGridList.get(i).getUnlockShares();\nlockedUpSharesList.add(lockedUpShares);</p>\n"}],"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73670801,"answer_count":1,"score":0,"last_activity_date":1662803206,"creation_date":1662797153,"question_id":73670242,"body_markdown":"I am trying to calculate locked-up shares based on the input of unlocked shares in my code. Say for the period of 1st July to 31st July, the unlock shares are 2000 and for the period of 1st Aug to Aug 29, the unlock shares are 3000, and for the period of 30th Aug to 30th September, the unlock shares are 4000, then the locked-up shares for the period of 1st July to 31st July should be 9000 i.e. addition of all the unlock shares. For the period of 1st Aug to 29th Aug, the locked up shares should be 9000-2000=7000 and for the period of 30th Aug to 30th Sep, the locked up shares should be 7000-3000=4000. My code gives me the first two values right but it is giving me the third value incorrect. I am getting 9000 and 7000 correctly calculated but further, the code is giving me value as 6000. Following is my code.\r\n\r\n    public static List&lt;Long&gt; getLockedUpShares(HashMap&lt;String, String&gt; testcase, String token,\r\n    \t\t\tList&lt;IPOGridData&gt; ipoGridList) {\r\n    \t\tLong totalUnlockShares = Long.valueOf(0);\r\n    \t\tfor (int i = 0; i &lt; ipoGridList.size(); i++) {\r\n    \t\t\ttotalUnlockShares = totalUnlockShares + ipoGridList.get(i).getUnlockShares();\r\n    \t\t}\r\n    \t\tList&lt;Long&gt; lockedUpSharesList = new ArrayList&lt;&gt;();\r\n    \t\tlockedUpSharesList.add(totalUnlockShares);\r\n    \t\tLong lockedUpShares = Long.valueOf(0);\r\n    \t\tfor (int i = 0; i &lt; ipoGridList.size(); i++) {\r\n    \t\t\tlockedUpShares = totalUnlockShares - ipoGridList.get(i).getUnlockShares();\r\n    \t\t\tlockedUpSharesList.add(lockedUpShares);\r\n    \t\t}\r\n    \t\tlockedUpSharesList.remove(lockedUpSharesList.size()-1);\r\n    \t\treturn lockedUpSharesList;\r\n    \t}\r\n\r\nI am adding the total unlock shares first and then I am subtracting the unlock share values which I get from ipoGridList one by one. But this is not giving me an ideal calculation. Can someone help me building the right logic?","title":"Calculation logic going wrong in Java","body":"<p>I am trying to calculate locked-up shares based on the input of unlocked shares in my code. Say for the period of 1st July to 31st July, the unlock shares are 2000 and for the period of 1st Aug to Aug 29, the unlock shares are 3000, and for the period of 30th Aug to 30th September, the unlock shares are 4000, then the locked-up shares for the period of 1st July to 31st July should be 9000 i.e. addition of all the unlock shares. For the period of 1st Aug to 29th Aug, the locked up shares should be 9000-2000=7000 and for the period of 30th Aug to 30th Sep, the locked up shares should be 7000-3000=4000. My code gives me the first two values right but it is giving me the third value incorrect. I am getting 9000 and 7000 correctly calculated but further, the code is giving me value as 6000. Following is my code.</p>\n<pre><code>public static List&lt;Long&gt; getLockedUpShares(HashMap&lt;String, String&gt; testcase, String token,\n            List&lt;IPOGridData&gt; ipoGridList) {\n        Long totalUnlockShares = Long.valueOf(0);\n        for (int i = 0; i &lt; ipoGridList.size(); i++) {\n            totalUnlockShares = totalUnlockShares + ipoGridList.get(i).getUnlockShares();\n        }\n        List&lt;Long&gt; lockedUpSharesList = new ArrayList&lt;&gt;();\n        lockedUpSharesList.add(totalUnlockShares);\n        Long lockedUpShares = Long.valueOf(0);\n        for (int i = 0; i &lt; ipoGridList.size(); i++) {\n            lockedUpShares = totalUnlockShares - ipoGridList.get(i).getUnlockShares();\n            lockedUpSharesList.add(lockedUpShares);\n        }\n        lockedUpSharesList.remove(lockedUpSharesList.size()-1);\n        return lockedUpSharesList;\n    }\n</code></pre>\n<p>I am adding the total unlock shares first and then I am subtracting the unlock share values which I get from ipoGridList one by one. But this is not giving me an ideal calculation. Can someone help me building the right logic?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8947,"page":1045,"page_size":100}
