{"items":[{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652725354,"creation_date":1652720773,"answer_id":72263010,"question_id":72262944,"body_markdown":"You could capture either y or z in a capture group not followed by a char a-z, and match any other char.\r\n\r\nIn the replacement use capture group 1.\r\n\r\n    ([yYzZ](?![A-Za-z]))|.\r\n\r\n**Explanation**\r\n\r\n- `(` Capture group 1\r\n  - `[yYzZ]` Match y or z in lower or uppercase\r\n  - `(?![A-Za-z])` Negative lookahead, assert not a char A-Za-z directly to the right\r\n- `)` Close group 1\r\n- `|` Or\r\n- `.` Match any other character\r\n\r\nSee a [regex demo](https://regex101.com/r/MqsfoF/1) and a [Java demo](https://ideone.com/GeKHOd).\r\n\r\nExample\r\n\r\n    public int countYZ(String str) {\r\n      String regex = &quot;([yYzZ](?![A-Za-z]))|.&quot;;\r\n        return str.toLowerCase().replaceAll(regex, &quot;$1&quot;).length();\r\n    }\r\n\r\nOr the unicode variant for a broader match:\r\n\r\n\r\n    public int countYZ(String str) {\r\n      String regex = &quot;([YyZz])(?!\\\\p{IsAlphabetic})|.&quot;;\r\n        return str.toLowerCase().replaceAll(regex, &quot;$1&quot;).length();\r\n    }","title":"Codingbat countYZ","body":"<p>You could capture either y or z in a capture group not followed by a char a-z, and match any other char.</p>\n<p>In the replacement use capture group 1.</p>\n<pre><code>([yYzZ](?![A-Za-z]))|.\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(</code> Capture group 1\n<ul>\n<li><code>[yYzZ]</code> Match y or z in lower or uppercase</li>\n<li><code>(?![A-Za-z])</code> Negative lookahead, assert not a char A-Za-z directly to the right</li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>|</code> Or</li>\n<li><code>.</code> Match any other character</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/MqsfoF/1\" rel=\"nofollow noreferrer\">regex demo</a> and a <a href=\"https://ideone.com/GeKHOd\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<p>Example</p>\n<pre><code>public int countYZ(String str) {\n  String regex = &quot;([yYzZ](?![A-Za-z]))|.&quot;;\n    return str.toLowerCase().replaceAll(regex, &quot;$1&quot;).length();\n}\n</code></pre>\n<p>Or the unicode variant for a broader match:</p>\n<pre><code>public int countYZ(String str) {\n  String regex = &quot;([YyZz])(?!\\\\p{IsAlphabetic})|.&quot;;\n    return str.toLowerCase().replaceAll(regex, &quot;$1&quot;).length();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652720810,"creation_date":1652720810,"answer_id":72263014,"question_id":72262944,"body_markdown":"Better to restrict using regex where you can do so.\r\nYou can make the solution like this:\r\n\r\n    public static int countYZ(String str) {\r\n        String[] strings = str.toLowerCase().split(&quot;\\\\s&quot;);\r\n        int n = 0;\r\n        for (String s : strings) {\r\n            if (s.endsWith(&quot;y&quot;) || s.endsWith(&quot;z&quot;)) {\r\n                n++;\r\n            }\r\n        }\r\n        return n;\r\n    }","title":"Codingbat countYZ","body":"<p>Better to restrict using regex where you can do so.\nYou can make the solution like this:</p>\n<pre><code>public static int countYZ(String str) {\n    String[] strings = str.toLowerCase().split(&quot;\\\\s&quot;);\n    int n = 0;\n    for (String s : strings) {\n        if (s.endsWith(&quot;y&quot;) || s.endsWith(&quot;z&quot;)) {\n            n++;\n        }\n    }\n    return n;\n}\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72263010,"answer_count":2,"score":1,"last_activity_date":1652725354,"creation_date":1652720420,"question_id":72262944,"body_markdown":"Task from [Codingbat][1] :\r\n\r\nGiven a string, count the number of words ending in &#39;y&#39; or &#39;z&#39; -- so the &#39;y&#39; in &quot;heavy&quot; and the &#39;z&#39; in &quot;fez&quot; count, but not the &#39;y&#39; in &quot;yellow&quot; (not case sensitive). We&#39;ll say that a y or z is at the end of a word if there is not an alphabetic letter immediately following it. (Note: `Character.isLetter(char)` tests if a char is an alphabetic letter.)\r\n\r\n\r\n    countYZ(&quot;fez day&quot;) → 2\r\n    countYZ(&quot;day fez&quot;) → 2\r\n    countYZ(&quot;day fyyyz&quot;) → 2\r\n\r\nI&#39;m trying to solve this task like this:\r\n\r\n    public int countYZ(String str) {\r\n          String regex = &quot;(.[.^y^z]\\\\b)&quot;;\r\n          return str.toLowerCase().replaceAll(regex, &quot;&quot;).length();\r\n        }\r\n\r\nBut not all the tests were passed. How can I fix regex = &quot;(.[.^y^z]\\\\b)&quot; in order to pass all the tests? \r\n\r\n\r\n\r\n  [1]: https://codingbat.com/prob/p199171]\r\n","title":"Codingbat countYZ","body":"<p>Task from <a href=\"https://codingbat.com/prob/p199171%5D\" rel=\"nofollow noreferrer\">Codingbat</a> :</p>\n<p>Given a string, count the number of words ending in 'y' or 'z' -- so the 'y' in &quot;heavy&quot; and the 'z' in &quot;fez&quot; count, but not the 'y' in &quot;yellow&quot; (not case sensitive). We'll say that a y or z is at the end of a word if there is not an alphabetic letter immediately following it. (Note: <code>Character.isLetter(char)</code> tests if a char is an alphabetic letter.)</p>\n<pre><code>countYZ(&quot;fez day&quot;) → 2\ncountYZ(&quot;day fez&quot;) → 2\ncountYZ(&quot;day fyyyz&quot;) → 2\n</code></pre>\n<p>I'm trying to solve this task like this:</p>\n<pre><code>public int countYZ(String str) {\n      String regex = &quot;(.[.^y^z]\\\\b)&quot;;\n      return str.toLowerCase().replaceAll(regex, &quot;&quot;).length();\n    }\n</code></pre>\n<p>But not all the tests were passed. How can I fix regex = &quot;(.[.^y^z]\\b)&quot; in order to pass all the tests?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1652724909,"post_id":72263763,"comment_id":127670494,"body_markdown":"&quot;Preferred interface&quot; is just a matter of opinion. Opinion-based questions are off-topic for Stack Overflow, sorry","body":"&quot;Preferred interface&quot; is just a matter of opinion. Opinion-based questions are off-topic for Stack Overflow, sorry"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":3,"creation_date":1652725126,"post_id":72263763,"comment_id":127670564,"body_markdown":"I would avoid a `DEFAULT` enum value since it would require any code doing a `switch` to handle the `DEFAULT` case even though that&#39;s not an actual type of calculator. How to create a default calculator is a problem for the factory API to solve; it shouldn&#39;t leak into the enum.","body":"I would avoid a <code>DEFAULT</code> enum value since it would require any code doing a <code>switch</code> to handle the <code>DEFAULT</code> case even though that&#39;s not an actual type of calculator. How to create a default calculator is a problem for the factory API to solve; it shouldn&#39;t leak into the enum."},{"owner":{"account_id":6787295,"reputation":219,"user_id":5225575,"display_name":"Jae Bradley"},"score":0,"creation_date":1652725171,"post_id":72263763,"comment_id":127670585,"body_markdown":"@Michael understood - I&#39;ve updated the language to remove the term &quot;preferred interface&quot;.","body":"@Michael understood - I&#39;ve updated the language to remove the term &quot;preferred interface&quot;."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":5,"creation_date":1652725374,"post_id":72263763,"comment_id":127670652,"body_markdown":"You aren&#39;t really supposed to take `Optional&lt;T&gt;` as an argument for anything. This type is added to serve as a return value of the method, not as input value.","body":"You aren&#39;t really supposed to take <code>Optional&lt;T&gt;</code> as an argument for anything. This type is added to serve as a return value of the method, not as input value."},{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1652725438,"post_id":72263763,"comment_id":127670678,"body_markdown":"Despite the language edit wouldn&#39;t it still be a matter of preferences and expectations? What would you want to happen in the case of a default enum value? I&#39;m thinking that the handling of the default enum value and the Optional&lt;CalculatorType&gt; argument would be pretty similar, so in reality there wouldn&#39;t be much of a difference. It&#39;s also intended to be used for return types, not input types. I would say that your class should not leave much to the imagination or surprise its consumers. I prefer my classes to be obvious and self documenting.","body":"Despite the language edit wouldn&#39;t it still be a matter of preferences and expectations? What would you want to happen in the case of a default enum value? I&#39;m thinking that the handling of the default enum value and the Optional&lt;CalculatorType&gt; argument would be pretty similar, so in reality there wouldn&#39;t be much of a difference. It&#39;s also intended to be used for return types, not input types. I would say that your class should not leave much to the imagination or surprise its consumers. I prefer my classes to be obvious and self documenting."}],"owner":{"account_id":6787295,"reputation":219,"user_id":5225575,"display_name":"Jae Bradley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1652725125,"creation_date":1652724681,"question_id":72263763,"body_markdown":"Let&#39;s say there is some `CalculatorFactory` that returns specific calculators based on a `CalculationType` `enum`.\r\n\r\nLet&#39;s also say that there is a requirement for some default behavior if a specific `CalculatorType` is not defined.\r\n\r\nWhat are the tradeoffs between the following interfaces for this `CalculatorFactory`:\r\n\r\n* A `getCalculator` method that takes a non-null `CalculatorType` argument with a `DEFAULT` `CalculatorType` enum value\r\n* A `getSpecificCalculator` method that takes a non-null `CalculatorType` argument (no `DEFAULT` `CalculatorType` enum value), as well as a `getDefaultCalculator` method that takes no arguments\r\n* A `getCalculator` method that takes a non-null `Optional&lt;CalculatorType&gt;` argument (no `DEFAULT` `CalculatorType` enum value)","title":"Using Optional Enum as a method argument","body":"<p>Let's say there is some <code>CalculatorFactory</code> that returns specific calculators based on a <code>CalculationType</code> <code>enum</code>.</p>\n<p>Let's also say that there is a requirement for some default behavior if a specific <code>CalculatorType</code> is not defined.</p>\n<p>What are the tradeoffs between the following interfaces for this <code>CalculatorFactory</code>:</p>\n<ul>\n<li>A <code>getCalculator</code> method that takes a non-null <code>CalculatorType</code> argument with a <code>DEFAULT</code> <code>CalculatorType</code> enum value</li>\n<li>A <code>getSpecificCalculator</code> method that takes a non-null <code>CalculatorType</code> argument (no <code>DEFAULT</code> <code>CalculatorType</code> enum value), as well as a <code>getDefaultCalculator</code> method that takes no arguments</li>\n<li>A <code>getCalculator</code> method that takes a non-null <code>Optional&lt;CalculatorType&gt;</code> argument (no <code>DEFAULT</code> <code>CalculatorType</code> enum value)</li>\n</ul>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":6811750,"reputation":19969,"user_id":5241642,"accept_rate":75,"display_name":"Xirema"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1440102437,"creation_date":1440102437,"answer_id":32127758,"question_id":32127728,"body_markdown":"You need to include logic for the corner case of the word being at the very end of the String.","title":"Given a string, count the number of words ending in &#39;y&#39; or &#39;z&#39;","body":"<p>You need to include logic for the corner case of the word being at the very end of the String.</p>\n"},{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440103528,"creation_date":1440103528,"answer_id":32128054,"question_id":32127728,"body_markdown":"Since you tagged that question with `regex`, here&#39;s a solution using [regular expressions][1]:\r\n\r\n    public int countYZ(String str) {\r\n        Matcher m = Pattern.compile(&quot;[yz]\\\\b&quot;).matcher(str);\r\n        int count = 0;\r\n        while (m.find())\r\n            count++;\r\n        return count;\r\n    }\r\n\r\nHere, the expression `&quot;[yz]\\\\b&quot;` means &quot;y or z, followed by a word boundary&quot;, i.e. it matches whenever there is an y or z at the end of a word. Just count the matches.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Given a string, count the number of words ending in &#39;y&#39; or &#39;z&#39;","body":"<p>Since you tagged that question with <code>regex</code>, here's a solution using <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow\">regular expressions</a>:</p>\n\n<pre><code>public int countYZ(String str) {\n    Matcher m = Pattern.compile(\"[yz]\\\\b\").matcher(str);\n    int count = 0;\n    while (m.find())\n        count++;\n    return count;\n}\n</code></pre>\n\n<p>Here, the expression <code>\"[yz]\\\\b\"</code> means \"y or z, followed by a word boundary\", i.e. it matches whenever there is an y or z at the end of a word. Just count the matches.</p>\n"},{"tags":[],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652724728,"creation_date":1652724728,"answer_id":72263772,"question_id":32127728,"body_markdown":"This code works for this task:\r\n\r\n    public int countYZ(String str) {\r\n          int counter;\r\n          String regex = &quot;[YyZz](?!\\\\p{IsAlphabetic})&quot;; \r\n          java.util.regex.Pattern yzEnd = java.util.regex.Pattern.compile(regex);\r\n          java.util.regex.Matcher matcher = yzEnd.matcher(str);\r\n          for (counter = 0; matcher.find(); counter++);\r\n          return counter;\r\n          \r\n    }\r\n\r\n**p{IsAlphabetic}** matches the characters p{IsAlphabetic} literally (case sensitive)","title":"Given a string, count the number of words ending in &#39;y&#39; or &#39;z&#39;","body":"<p>This code works for this task:</p>\n<pre><code>public int countYZ(String str) {\n      int counter;\n      String regex = &quot;[YyZz](?!\\\\p{IsAlphabetic})&quot;; \n      java.util.regex.Pattern yzEnd = java.util.regex.Pattern.compile(regex);\n      java.util.regex.Matcher matcher = yzEnd.matcher(str);\n      for (counter = 0; matcher.find(); counter++);\n      return counter;\n      \n}\n</code></pre>\n<p><strong>p{IsAlphabetic}</strong> matches the characters p{IsAlphabetic} literally (case sensitive)</p>\n"}],"owner":{"display_name":"user4833678"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32127758,"answer_count":3,"score":0,"last_activity_date":1652724728,"creation_date":1440102333,"question_id":32127728,"body_markdown":"Given a string, count the number of words ending in `&#39;y&#39;` or `&#39;z&#39;` -- so the `&#39;y&#39;` in &quot;heavy&quot; and the `&#39;z&#39;` in &quot;fez&quot; count, but not the `&#39;y&#39;` in &quot;yellow&quot; (not case sensitive). We&#39;ll say that a `y` or `z` is at the end of a word if there is not an alphabetic letter immediately following it. (Note: `Character.isLetter(char)` tests if a char is an alphabetic letter.) \r\n\r\nFor example,\r\n\r\n        countYZ(&quot;fez day&quot;) → 2\r\n        countYZ(&quot;day fez&quot;) → 2\r\n        countYZ(&quot;day fyyyz&quot;) → 2\r\n        countYZ(&quot;day yak&quot;) → 1  \r\n        countYZ(&quot;day:yak&quot;) → 1\t    \r\n        countYZ(&quot;!!day--yaz!!&quot;) → 2\t\r\n\r\nBut I&#39;m failing these cases:\r\n\r\n    countYZ(&quot;fez day&quot;) → should be 2 but Im getting 1\t\t    \r\n    countYZ(&quot;day fez&quot;) → should be 2 but Im getting 1    \r\n    countYZ(&quot;day fyyyz&quot;) → should be 2 but Im getting 1\r\n\r\nCould smb take a look and see whats wrong with my code? THanks in advance!\r\n\r\n    public int countYZ(String str) {\r\n      \r\n      int count = 0;\r\n      for(int i = 0; i &lt; str.length()-1; i++){\r\n        if((str.charAt(i) == &#39;y&#39; || str.charAt(i) == &#39;z&#39;)\r\n         &amp;&amp; !(Character.isLetter(str.charAt(i + 1)))){\r\n            count++;\r\n         } \r\n      }\r\n      return count;\r\n    }\r\n\r\n\r\n","title":"Given a string, count the number of words ending in &#39;y&#39; or &#39;z&#39;","body":"<p>Given a string, count the number of words ending in <code>'y'</code> or <code>'z'</code> -- so the <code>'y'</code> in \"heavy\" and the <code>'z'</code> in \"fez\" count, but not the <code>'y'</code> in \"yellow\" (not case sensitive). We'll say that a <code>y</code> or <code>z</code> is at the end of a word if there is not an alphabetic letter immediately following it. (Note: <code>Character.isLetter(char)</code> tests if a char is an alphabetic letter.) </p>\n\n<p>For example,</p>\n\n<pre><code>    countYZ(\"fez day\") → 2\n    countYZ(\"day fez\") → 2\n    countYZ(\"day fyyyz\") → 2\n    countYZ(\"day yak\") → 1  \n    countYZ(\"day:yak\") → 1      \n    countYZ(\"!!day--yaz!!\") → 2 \n</code></pre>\n\n<p>But I'm failing these cases:</p>\n\n<pre><code>countYZ(\"fez day\") → should be 2 but Im getting 1           \ncountYZ(\"day fez\") → should be 2 but Im getting 1    \ncountYZ(\"day fyyyz\") → should be 2 but Im getting 1\n</code></pre>\n\n<p>Could smb take a look and see whats wrong with my code? THanks in advance!</p>\n\n<pre><code>public int countYZ(String str) {\n\n  int count = 0;\n  for(int i = 0; i &lt; str.length()-1; i++){\n    if((str.charAt(i) == 'y' || str.charAt(i) == 'z')\n     &amp;&amp; !(Character.isLetter(str.charAt(i + 1)))){\n        count++;\n     } \n  }\n  return count;\n}\n</code></pre>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1652710401,"post_id":72260581,"comment_id":127665066,"body_markdown":"You could use `stream()` or `forEach()` on the ArrayList if you don&#39;t want to use a literal `for` loop, although internally those do basically the same thing.","body":"You could use <code>stream()</code> or <code>forEach()</code> on the ArrayList if you don&#39;t want to use a literal <code>for</code> loop, although internally those do basically the same thing."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1652710401,"post_id":72260581,"comment_id":127665068,"body_markdown":"Well *something* is going to have to loop, whether that&#39;s in your code or `Stream` etc.","body":"Well <i>something</i> is going to have to loop, whether that&#39;s in your code or <code>Stream</code> etc."},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":1,"creation_date":1652710420,"post_id":72260581,"comment_id":127665081,"body_markdown":"You could use `Stream` and `filter` and `findAny`","body":"You could use <code>Stream</code> and <code>filter</code> and <code>findAny</code>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1652710449,"post_id":72260581,"comment_id":127665097,"body_markdown":"The `indexOf` method uses the objects equals method to determine its return result as stated in its documentation: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#indexOf-java.lang.Object- So whether or not you can use `indexOf` depends on how your class implemented the `equals` method.","body":"The <code>indexOf</code> method uses the objects equals method to determine its return result as stated in its documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#indexOf-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> So whether or not you can use <code>indexOf</code> depends on how your class implemented the <code>equals</code> method."},{"owner":{"account_id":17204357,"reputation":959,"user_id":12455245,"display_name":"Sadhvik Chirunomula"},"score":0,"creation_date":1652711749,"post_id":72260581,"comment_id":127665626,"body_markdown":"Is this a sorted array or a regular array?","body":"Is this a sorted array or a regular array?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1652711795,"post_id":72260581,"comment_id":127665651,"body_markdown":"Unrelated: learn about java naming conventions. A good name would be `orderedBook` for example. Only use &quot;_&quot; for SOME_CONSTANT. Other names are all camelCase or UpperCamelCase, depending on context.","body":"Unrelated: learn about java naming conventions. A good name would be <code>orderedBook</code> for example. Only use &quot;_&quot; for SOME_CONSTANT. Other names are all camelCase or UpperCamelCase, depending on context."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1652711805,"post_id":72260581,"comment_id":127665655,"body_markdown":"What if multiple orders share some or all of those characteristics.  Wouldn&#39;t returning a list of matches be better.","body":"What if multiple orders share some or all of those characteristics.  Wouldn&#39;t returning a list of matches be better."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1652714000,"post_id":72260581,"comment_id":127666557,"body_markdown":"Even if you could use `indexOf`, that is still looping over the list. Do you only search by price, never by size or type? You could maintain the list in ascending sorted order by price and do a binary search. Or maintain a map from price to (list of) order(s).","body":"Even if you could use <code>indexOf</code>, that is still looping over the list. Do you only search by price, never by size or type? You could maintain the list in ascending sorted order by price and do a binary search. Or maintain a map from price to (list of) order(s)."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652714236,"creation_date":1652710613,"answer_id":72260674,"question_id":72260581,"body_markdown":"If you need to retrieve an instance with a desired price, then you could use a collection stream with the `filter` and `findAny` operations.\r\n\r\n```\r\nint myPrice = /* any value you want */\r\n\r\n//This will retrieve an instance with the disired price or null if none is found\r\nOrderListItem item = orders_book.stream()\r\n        .filter(i -&gt; i.getPrice() == myPrice)\r\n        .findFirst()\r\n        .orElse(null);\r\n```\r\n\r\nAlternatively, if you want to retrieve the index of the object with the desired price, then you have two options:\r\n\r\n1. Redefine the `equals` method of your `OrderListItem` class, to equal two  OrderListItems by their price, since the documentation of the `indexOf` method retrieves an element by its `equals` method. However, I wouldn&#39;t lean towards this solution, as in my opinion the sole price is not enough to equal two order items, but you definitely know better than me the kind of problem you&#39;re modelling. So, I&#39;ll leave the choice to you. Furthermore, if you redefine the `equals` method you should also redefine the `hashCode` method as the general [hashcode contract][1] states.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/List.html#indexOf-java.lang.Object-\r\n\r\n&gt; Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element. More formally, returns the lowest index i such that (o==null ? get(i)==null : o.equals(get(i))), or -1 if there is no such index.\r\n\r\n```\r\nclass OrderListItem {\r\n    public int price;\r\n    public int size;\r\n    public Type type;\r\n\r\n    /* ... your implementation ...*/\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(price);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == null) return false;\r\n        if (this == obj) return true;\r\n        if (getClass() != obj.getClass()) return false;\r\n        OrderListItem other = (OrderListItem) obj;\r\n        return Objects.equals(price, other.price);\r\n    }\r\n}\r\n```\r\n\r\n2. Not redefining the equals method, but retrieving the exact instance with a stream (like in the first snippet) and then using that same instance as a parameter for the `indexOf` invocation.\r\n\r\n```\r\nint myPrice = /* any value you want */\r\n\r\n//This will retrieve an instance with the disired price or null if none is found\r\nOrderListItem item = orders_book.stream()\r\n        .filter(i -&gt; i.getPrice() == myPrice)\r\n        .findFirst()\r\n        .orElse(null);\r\n\r\n//Retrieving the index\r\nint index = orders_book.indexOf(item);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()","title":"Find an object in a list without iterating it","body":"<p>If you need to retrieve an instance with a desired price, then you could use a collection stream with the <code>filter</code> and <code>findAny</code> operations.</p>\n<pre><code>int myPrice = /* any value you want */\n\n//This will retrieve an instance with the disired price or null if none is found\nOrderListItem item = orders_book.stream()\n        .filter(i -&gt; i.getPrice() == myPrice)\n        .findFirst()\n        .orElse(null);\n</code></pre>\n<p>Alternatively, if you want to retrieve the index of the object with the desired price, then you have two options:</p>\n<ol>\n<li>Redefine the <code>equals</code> method of your <code>OrderListItem</code> class, to equal two  OrderListItems by their price, since the documentation of the <code>indexOf</code> method retrieves an element by its <code>equals</code> method. However, I wouldn't lean towards this solution, as in my opinion the sole price is not enough to equal two order items, but you definitely know better than me the kind of problem you're modelling. So, I'll leave the choice to you. Furthermore, if you redefine the <code>equals</code> method you should also redefine the <code>hashCode</code> method as the general <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">hashcode contract</a> states.</li>\n</ol>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#indexOf-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/List.html#indexOf-java.lang.Object-</a></p>\n<blockquote>\n<p>Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element. More formally, returns the lowest index i such that (o==null ? get(i)==null : o.equals(get(i))), or -1 if there is no such index.</p>\n</blockquote>\n<pre><code>class OrderListItem {\n    public int price;\n    public int size;\n    public Type type;\n\n    /* ... your implementation ...*/\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(price);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) return false;\n        if (this == obj) return true;\n        if (getClass() != obj.getClass()) return false;\n        OrderListItem other = (OrderListItem) obj;\n        return Objects.equals(price, other.price);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Not redefining the equals method, but retrieving the exact instance with a stream (like in the first snippet) and then using that same instance as a parameter for the <code>indexOf</code> invocation.</li>\n</ol>\n<pre><code>int myPrice = /* any value you want */\n\n//This will retrieve an instance with the disired price or null if none is found\nOrderListItem item = orders_book.stream()\n        .filter(i -&gt; i.getPrice() == myPrice)\n        .findFirst()\n        .orElse(null);\n\n//Retrieving the index\nint index = orders_book.indexOf(item);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652724334,"creation_date":1652720586,"answer_id":72262971,"question_id":72260581,"body_markdown":"\r\nI&#39;m offering this answer as a possibility although it may exceed your actual requirements.  Using some pre-defined predicates it allows any number of matching, consecutive items to be returned in a List. An empty list will be returned if no match is found.\r\n\r\nBut first, if you want the index (and maybe the value of the object) you can do it like this with no modification of your class.\r\n\r\n- this uses an `IntStream` to stream all possible indices.\r\n- it maps the index and the object at that index into a `Map.entry`\r\n- then it filters using the `value` of the `entry` against the desired attribute.\r\n- and returns the first one encountered or an Entry with -1 and null. (`AbstractMap.SimpleEntry` was used here to allow the null value)\r\n```\r\nint desiredPrice = 3;\r\nEntry&lt;Integer, OrderListItem&gt; result = IntStream\r\n\t\t.range(0, orderList.size())\r\n\t\t.mapToObj(i -&gt; Map.entry(i, orderList.get(i)))\r\n\t\t.filter(e -&gt; e.getValue().getPrice() == desiredPrice)\r\n\t\t.findFirst().orElse(new AbstractMap.SimpleEntry&lt;&gt;(-1,null));\r\n```\t\t\t\r\nTo facilitate the demonstration the following `record` is used in lieu of a class definition.  A class can be directly substituted for this.  A Type enum is also provided.\r\n```\r\nenum Type {\r\n\tFICTION, TECHNICAL, BIOGRAPHY\r\n}\r\n\r\nprivate record OrderListItem(int getPrice, int getSize,\r\n\t\tType getType) {\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn String.format(&quot;[%s, %s, %s]&quot;, getPrice, getSize,\r\n\t\t\t\tgetType);\r\n\t}\r\n}\r\n```\r\nNow define some predicates. Each takes an `orderListItem` object and a `Type`.  The comparison method (equals or == ) is dependent on the attribute type. This predicate and the desired attribute value will be supplied to a method as shown later.  Even though you are only interested in `price`, the others were easy enough to add.\r\n```\t\r\nstatic BiPredicate&lt;OrderListItem, Integer&gt; CHECK_PRICE =\r\n\t\t(order, val) -&gt; order.getPrice() == val;\r\n\r\nstatic BiPredicate&lt;OrderListItem, Type&gt; CHECK_TYPE =\r\n\t\t(order, val) -&gt; order.getType().equals(val);\r\n\r\nstatic BiPredicate&lt;OrderListItem, Integer&gt; CHECK_SIZE =\r\n\t\t\t(order, val) -&gt; order.getSize() == val;\r\n```\t\r\nSome data\r\n```\r\nList&lt;OrderListItem&gt; orderList =\r\n\t\tArrayList&lt;&gt;(List.of(new OrderListItem(3, 20, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(4, 20, Type.TECHNICAL),\r\n\t\t\t\tnew OrderListItem(5, 20, Type.TECHNICAL),\r\n\t\t\t\tnew OrderListItem(3, 30, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(4, 30, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(5, 30, Type.TECHNICAL),\r\n\t\t\t\tnew OrderListItem(3, 40, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(4, 40, Type.BIOGRAPHY),\r\n\t\t\t\tnew OrderListItem(5, 40, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(3, 50, Type.FICTION),\r\n\t\t\t\tnew OrderListItem(4, 50, Type.BIOGRAPHY),\r\n\t\t\t\tnew OrderListItem(5, 50, Type.BIOGRAPHY)));\r\n```\t\r\nDemo\r\n```\r\nList&lt;OrderListItem&gt; matches =\r\n\t\tretrieve(orderList, CHECK_SIZE, 20, 2);\r\n\t\r\nmatches.forEach(System.out::println);\r\n\r\n```\r\nprints\r\n```\t\r\n[3, 20, FICTION]\r\n[4, 20, TECHNICAL]\r\n```\r\nThe method takes the following arguments.\r\n- the order list\r\n- the predicate for comparison\r\n- the attribute value to compare to\r\n- the desired return count of successful matches (a negative value will result in all matches being returned).\r\n\r\nThe method works by simple iteration over the orders, applying the predicate to the order and attribute.  If a match is found, it is added to the return list and the count is decremented. When the count reaches `0` or the entire list is checked, the list will be returned. \r\n```\r\npublic static &lt;T&gt; List&lt;OrderListItem&gt; retrieve(\r\n\t\tList&lt;OrderListItem&gt; orders,\r\n\t\tBiPredicate&lt;OrderListItem, T&gt; pred, T attribute,\r\n\t\tint count) {\r\n\tList&lt;OrderListItem&gt; matches = new ArrayList&lt;&gt;();\r\n\tfor (OrderListItem order : orders) {\r\n\t\tif (pred.test(order, attribute)) {\r\n\t\t\tmatches.add(order);\r\n\t\t\tif (--count == 0) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn matches;\r\n}\r\n```\r\n**Performance**\r\n\r\nNot the best test as compared to JMH but a rough idea.\r\n\r\n- First I added the data list to itself 20 times to create a large list.\r\n- The I repeated the above lookup for all records sans the printout.\r\n```\r\nfor (int i = 0; i &lt; 20; i++) {\r\n\torderList.addAll(orderList);\r\n}\r\nSystem.out.printf(&quot;%,d total objects%n&quot;,orderList.size());\r\n\t\r\nlong time = System.nanoTime();\r\nList&lt;OrderListItem&gt; matches =\r\n\t\tretrieve(orderList, CHECK_SIZE, 20, -1);\r\nSystem.out.println(&quot;Execution time ~ &quot;+(System.nanoTime()-time)/1e9 + &quot; sec&quot;);\r\n```\r\nprints\r\n```\r\n12,582,912 total objects\r\nExecution time ~ 0.632698253 sec\r\n```\r\nWith no matches found for the entire list, the result was\r\n`Execution time ~ 0.033943752 sec.`\r\n\r\nFor matching the entire list the result was\r\n`Execution time ~ 0.939900075 sec.`\r\n\r\nThe difference in time is mostly due (imo) to the backing array having to be updated as the capacity is increased.  This requires several recopyings of the array.  By setting the initial capacity of the returned list to `orders.size()`, the result for matching and returning all elements is improved.\r\n\r\nFor matching the entire list with adjusted capacity the result was `Execution time ~ 0.19100866 sec`\r\n\r\nI&#39;m running Windows on an Intel 4 core, I7 processor.\r\n\r\nI have no idea how any of the above relates to your requirements but its there for your edification. \r\n","title":"Find an object in a list without iterating it","body":"<p>I'm offering this answer as a possibility although it may exceed your actual requirements.  Using some pre-defined predicates it allows any number of matching, consecutive items to be returned in a List. An empty list will be returned if no match is found.</p>\n<p>But first, if you want the index (and maybe the value of the object) you can do it like this with no modification of your class.</p>\n<ul>\n<li>this uses an <code>IntStream</code> to stream all possible indices.</li>\n<li>it maps the index and the object at that index into a <code>Map.entry</code></li>\n<li>then it filters using the <code>value</code> of the <code>entry</code> against the desired attribute.</li>\n<li>and returns the first one encountered or an Entry with -1 and null. (<code>AbstractMap.SimpleEntry</code> was used here to allow the null value)</li>\n</ul>\n<pre><code>int desiredPrice = 3;\nEntry&lt;Integer, OrderListItem&gt; result = IntStream\n        .range(0, orderList.size())\n        .mapToObj(i -&gt; Map.entry(i, orderList.get(i)))\n        .filter(e -&gt; e.getValue().getPrice() == desiredPrice)\n        .findFirst().orElse(new AbstractMap.SimpleEntry&lt;&gt;(-1,null));\n</code></pre>\n<p>To facilitate the demonstration the following <code>record</code> is used in lieu of a class definition.  A class can be directly substituted for this.  A Type enum is also provided.</p>\n<pre><code>enum Type {\n    FICTION, TECHNICAL, BIOGRAPHY\n}\n\nprivate record OrderListItem(int getPrice, int getSize,\n        Type getType) {\n    \n    @Override\n    public String toString() {\n        return String.format(&quot;[%s, %s, %s]&quot;, getPrice, getSize,\n                getType);\n    }\n}\n</code></pre>\n<p>Now define some predicates. Each takes an <code>orderListItem</code> object and a <code>Type</code>.  The comparison method (equals or == ) is dependent on the attribute type. This predicate and the desired attribute value will be supplied to a method as shown later.  Even though you are only interested in <code>price</code>, the others were easy enough to add.</p>\n<pre><code>static BiPredicate&lt;OrderListItem, Integer&gt; CHECK_PRICE =\n        (order, val) -&gt; order.getPrice() == val;\n\nstatic BiPredicate&lt;OrderListItem, Type&gt; CHECK_TYPE =\n        (order, val) -&gt; order.getType().equals(val);\n\nstatic BiPredicate&lt;OrderListItem, Integer&gt; CHECK_SIZE =\n            (order, val) -&gt; order.getSize() == val;\n</code></pre>\n<p>Some data</p>\n<pre><code>List&lt;OrderListItem&gt; orderList =\n        ArrayList&lt;&gt;(List.of(new OrderListItem(3, 20, Type.FICTION),\n                new OrderListItem(4, 20, Type.TECHNICAL),\n                new OrderListItem(5, 20, Type.TECHNICAL),\n                new OrderListItem(3, 30, Type.FICTION),\n                new OrderListItem(4, 30, Type.FICTION),\n                new OrderListItem(5, 30, Type.TECHNICAL),\n                new OrderListItem(3, 40, Type.FICTION),\n                new OrderListItem(4, 40, Type.BIOGRAPHY),\n                new OrderListItem(5, 40, Type.FICTION),\n                new OrderListItem(3, 50, Type.FICTION),\n                new OrderListItem(4, 50, Type.BIOGRAPHY),\n                new OrderListItem(5, 50, Type.BIOGRAPHY)));\n</code></pre>\n<p>Demo</p>\n<pre><code>List&lt;OrderListItem&gt; matches =\n        retrieve(orderList, CHECK_SIZE, 20, 2);\n    \nmatches.forEach(System.out::println);\n\n</code></pre>\n<p>prints</p>\n<pre><code>[3, 20, FICTION]\n[4, 20, TECHNICAL]\n</code></pre>\n<p>The method takes the following arguments.</p>\n<ul>\n<li>the order list</li>\n<li>the predicate for comparison</li>\n<li>the attribute value to compare to</li>\n<li>the desired return count of successful matches (a negative value will result in all matches being returned).</li>\n</ul>\n<p>The method works by simple iteration over the orders, applying the predicate to the order and attribute.  If a match is found, it is added to the return list and the count is decremented. When the count reaches <code>0</code> or the entire list is checked, the list will be returned.</p>\n<pre><code>public static &lt;T&gt; List&lt;OrderListItem&gt; retrieve(\n        List&lt;OrderListItem&gt; orders,\n        BiPredicate&lt;OrderListItem, T&gt; pred, T attribute,\n        int count) {\n    List&lt;OrderListItem&gt; matches = new ArrayList&lt;&gt;();\n    for (OrderListItem order : orders) {\n        if (pred.test(order, attribute)) {\n            matches.add(order);\n            if (--count == 0) {\n                break;\n            }\n        }\n    }\n    return matches;\n}\n</code></pre>\n<p><strong>Performance</strong></p>\n<p>Not the best test as compared to JMH but a rough idea.</p>\n<ul>\n<li>First I added the data list to itself 20 times to create a large list.</li>\n<li>The I repeated the above lookup for all records sans the printout.</li>\n</ul>\n<pre><code>for (int i = 0; i &lt; 20; i++) {\n    orderList.addAll(orderList);\n}\nSystem.out.printf(&quot;%,d total objects%n&quot;,orderList.size());\n    \nlong time = System.nanoTime();\nList&lt;OrderListItem&gt; matches =\n        retrieve(orderList, CHECK_SIZE, 20, -1);\nSystem.out.println(&quot;Execution time ~ &quot;+(System.nanoTime()-time)/1e9 + &quot; sec&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>12,582,912 total objects\nExecution time ~ 0.632698253 sec\n</code></pre>\n<p>With no matches found for the entire list, the result was\n<code>Execution time ~ 0.033943752 sec.</code></p>\n<p>For matching the entire list the result was\n<code>Execution time ~ 0.939900075 sec.</code></p>\n<p>The difference in time is mostly due (imo) to the backing array having to be updated as the capacity is increased.  This requires several recopyings of the array.  By setting the initial capacity of the returned list to <code>orders.size()</code>, the result for matching and returning all elements is improved.</p>\n<p>For matching the entire list with adjusted capacity the result was <code>Execution time ~ 0.19100866 sec</code></p>\n<p>I'm running Windows on an Intel 4 core, I7 processor.</p>\n<p>I have no idea how any of the above relates to your requirements but its there for your edification.</p>\n"}],"owner":{"account_id":11436413,"reputation":179,"user_id":8383688,"display_name":"Laughing_Man"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72260674,"answer_count":2,"score":-1,"last_activity_date":1652724334,"creation_date":1652710282,"question_id":72260581,"body_markdown":"I have a class with 3 properties:\r\n\r\n    private static class OrderListItem {\r\n        public int price;\r\n        public int size;\r\n        public Type type;\r\n    }\r\n\r\nItems of this class are added in a list. `List&lt;OrderListItem&gt; orders_book = new ArrayList&lt;&gt;();`\r\n\r\nI want to find an object in a list with a specified price. But size and type do not matter. Can I do something like this:\r\n\r\n`int index = orders_book.indexOf(new OrderListItem(price, **any size**, **any type**));` ?\r\n\r\nOr I just must do a &quot;loop&quot; search?","title":"Find an object in a list without iterating it","body":"<p>I have a class with 3 properties:</p>\n<pre><code>private static class OrderListItem {\n    public int price;\n    public int size;\n    public Type type;\n}\n</code></pre>\n<p>Items of this class are added in a list. <code>List&lt;OrderListItem&gt; orders_book = new ArrayList&lt;&gt;();</code></p>\n<p>I want to find an object in a list with a specified price. But size and type do not matter. Can I do something like this:</p>\n<p><code>int index = orders_book.indexOf(new OrderListItem(price, **any size**, **any type**));</code> ?</p>\n<p>Or I just must do a &quot;loop&quot; search?</p>\n"},{"tags":["java","spring","spring-boot","api","configuration"],"comments":[{"owner":{"account_id":1740345,"reputation":2221,"user_id":1591934,"accept_rate":50,"display_name":"Justcurious"},"score":0,"creation_date":1614264443,"post_id":66369868,"comment_id":117337574,"body_markdown":"Pls, share the code where mapping for the properties file is done.","body":"Pls, share the code where mapping for the properties file is done."},{"owner":{"account_id":17845463,"reputation":11,"user_id":12962401,"display_name":"VersuS"},"score":0,"creation_date":1614267781,"post_id":66369868,"comment_id":117339274,"body_markdown":"@Justcurious I haven&#39;t implementated this code yet!","body":"@Justcurious I haven&#39;t implementated this code yet!"},{"owner":{"account_id":1740345,"reputation":2221,"user_id":1591934,"accept_rate":50,"display_name":"Justcurious"},"score":1,"creation_date":1614269868,"post_id":66369868,"comment_id":117340272,"body_markdown":"What is the issue you are facing ? @VersuS","body":"What is the issue you are facing ? @VersuS"},{"owner":{"account_id":17845463,"reputation":11,"user_id":12962401,"display_name":"VersuS"},"score":0,"creation_date":1614360387,"post_id":66369868,"comment_id":117371068,"body_markdown":"I want, in a future, cannot to call another API if it is not in configuration file. Tell me if im not clear","body":"I want, in a future, cannot to call another API if it is not in configuration file. Tell me if im not clear"}],"answers":[{"tags":[],"owner":{"account_id":1740345,"reputation":2221,"user_id":1591934,"accept_rate":50,"display_name":"Justcurious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614264976,"creation_date":1614264976,"answer_id":66370980,"question_id":66369868,"body_markdown":"One has to design the configuration class to read the properties file in spring-boot.\r\n\r\n    @Value(&quot;${custom.external-api.firstapi}&quot;)\r\n    private String firstApi;\r\n\r\nRead more [here][1] \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Is there a way to call a API only if the url is in application.yml?","body":"<p>One has to design the configuration class to read the properties file in spring-boot.</p>\n<pre><code>@Value(&quot;${custom.external-api.firstapi}&quot;)\nprivate String firstApi;\n</code></pre>\n<p>Read more <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652724008,"creation_date":1652724008,"answer_id":72263643,"question_id":66369868,"body_markdown":"If you want to check if there is a property defined in your application.yml file\r\n\r\nYou can do  like this :\r\n\r\n    @Value(&quot;${custom.external-api.thirdapi:#{null}&quot;)\r\n    private String thirdApi;\r\n\r\nAnd you will be able to check if `thirdApi` is not null \r\n\r\n    if(thirdApi != null){\r\n       // call the third api\r\n    }\r\n ","title":"Is there a way to call a API only if the url is in application.yml?","body":"<p>If you want to check if there is a property defined in your application.yml file</p>\n<p>You can do  like this :</p>\n<pre><code>@Value(&quot;${custom.external-api.thirdapi:#{null}&quot;)\nprivate String thirdApi;\n</code></pre>\n<p>And you will be able to check if <code>thirdApi</code> is not null</p>\n<pre><code>if(thirdApi != null){\n   // call the third api\n}\n</code></pre>\n"}],"owner":{"account_id":17845463,"reputation":11,"user_id":12962401,"display_name":"VersuS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652724008,"creation_date":1614261114,"question_id":66369868,"body_markdown":"i&#39;m a neophyte in the field.\r\nI&#39;m making a simple Spring Boot application that calls a another API, edit the content and return  the data at client. So i want it to be possible to call a new API from the application only if its URL is in the configuration file (application.yml)\r\n\r\nFor example, if the application.yml is\r\n\r\n```\r\ncustom:\r\n  external-api:\r\n    firstapi: http://api1.com/data/\r\n    secondapi: https://api2.com/data\r\n\r\n```\r\n\r\nand if I try to create a new RequestMapping (http://api3.com/) in the code, it will not return anything or will not be possible anyway.\r\nIs there a way?","title":"Is there a way to call a API only if the url is in application.yml?","body":"<p>i'm a neophyte in the field.\nI'm making a simple Spring Boot application that calls a another API, edit the content and return  the data at client. So i want it to be possible to call a new API from the application only if its URL is in the configuration file (application.yml)</p>\n<p>For example, if the application.yml is</p>\n<pre><code>custom:\n  external-api:\n    firstapi: http://api1.com/data/\n    secondapi: https://api2.com/data\n\n</code></pre>\n<p>and if I try to create a new RequestMapping (<a href=\"http://api3.com/\" rel=\"nofollow noreferrer\">http://api3.com/</a>) in the code, it will not return anything or will not be possible anyway.\nIs there a way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1652723239,"post_id":72263458,"comment_id":127669932,"body_markdown":"Why wouldn&#39;t you use a ListIterator? Much simpler.","body":"Why wouldn&#39;t you use a ListIterator? Much simpler."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652723822,"creation_date":1652723822,"answer_id":72263600,"question_id":72263458,"body_markdown":"Try this:\r\n\r\n    for (String dbName : newFilter) {\r\n        String dropDatabase = &quot;DROP DATABASE &quot; + dbName + &quot; wait;&quot;;\r\n        basePage.queryInputField.sendKeys(dropDatabase);\r\n    }","title":"Is there a way to pass a string variable to a for loop in Java?","body":"<p>Try this:</p>\n<pre><code>for (String dbName : newFilter) {\n    String dropDatabase = &quot;DROP DATABASE &quot; + dbName + &quot; wait;&quot;;\n    basePage.queryInputField.sendKeys(dropDatabase);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25306246,"reputation":46,"user_id":19129735,"display_name":"lcx06"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652723932,"creation_date":1652723932,"answer_id":72263628,"question_id":72263458,"body_markdown":"It does not work because you are not updating the dropDatabase String at any moment in the loop.\r\n\r\nYou have two options, use a for each or a for i updating the string:\r\n\r\n    for (int i = 0; i &lt; filterSize; i++) {\r\n        basePage.queryInputField.sendKeys(&quot;DROP DATABASE &quot; + newFilter.get(i) + &quot; wait;&quot;);\r\n    }\r\n\r\n\r\n    for (String database : newFilter) {\r\n        basePage.queryInputField.sendKeys(&quot;DROP DATABASE &quot; + database + &quot; wait;&quot;);\r\n    }\r\n\r\nOr if you want the query string apart you could also use a format like this:\r\n\r\n    String format = &quot;DROP DATABASE %s wait;&quot;;\r\n    for (String database : newFilter) {\r\n        basePage.queryInputField.sendKeys(String.format(format, database));\r\n    }\r\n\r\n","title":"Is there a way to pass a string variable to a for loop in Java?","body":"<p>It does not work because you are not updating the dropDatabase String at any moment in the loop.</p>\n<p>You have two options, use a for each or a for i updating the string:</p>\n<pre><code>for (int i = 0; i &lt; filterSize; i++) {\n    basePage.queryInputField.sendKeys(&quot;DROP DATABASE &quot; + newFilter.get(i) + &quot; wait;&quot;);\n}\n\n\nfor (String database : newFilter) {\n    basePage.queryInputField.sendKeys(&quot;DROP DATABASE &quot; + database + &quot; wait;&quot;);\n}\n</code></pre>\n<p>Or if you want the query string apart you could also use a format like this:</p>\n<pre><code>String format = &quot;DROP DATABASE %s wait;&quot;;\nfor (String database : newFilter) {\n    basePage.queryInputField.sendKeys(String.format(format, database));\n}\n</code></pre>\n"}],"owner":{"account_id":25305767,"reputation":13,"user_id":19129321,"display_name":"user19129321"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72263628,"answer_count":2,"score":-1,"last_activity_date":1652723932,"creation_date":1652723048,"question_id":72263458,"body_markdown":"My requirement is to delete data from a database, but the strings I need to pass to the `DELETE` query are dynamically generated, so I have to first collect the data and then use it in a `for` loop that would send the `DELETE` query multiple times.\r\n\r\nMy steps so far:\r\n\r\nFirst, I filtered a list so as to collect a list of required elements into a variable. I got the expected output:\r\n\r\n    List&lt;String&gt; newFilter = allProductNames.stream().filter(field -&gt; field.startsWith(&quot;sample&quot;, 1)).collect(Collectors.toList());\r\n    System.out.println(newFilter)\r\n\r\nOutput:\r\n\r\n    &quot;sample1&quot;, &quot;sample2&quot;, &quot;sample3&quot;, &quot;sample4&quot;\r\n\r\nNow, I want to use each of the elements to send a query to a Neo4j database, using the query - `DROP DATABASE &lt;database_name&gt; wait;` where `&lt;database_name&gt;` would be replaced by each of my collected elements. So the queries will look like this: \r\n\r\n    DROP DATABASE sample1 wait;\r\n    DROP DATABASE sample2 wait;\r\n    DROP DATABASE sample3 wait;\r\n    DROP DATABASE sample4 wait;\r\n    DROP DATABASE sample5 wait;\r\n\r\nWhat comes straight to my mind is that a `for` loop can help me to send the query repeatedly by passing `sample1` in the first query, `sample2` in the second query...and so on, but my dilemma is that I am lost on how to achieve this.\r\n\r\nI tried something like this, but it wont work:\r\n\r\n    List&lt;String&gt; newFilter = allProductNames.stream().filter(field -&gt; field.startsWith(&quot;sample&quot;, 1)).collect(Collectors.toList());\r\n    \r\n        int filterSize = newFilter.size();\r\n    \r\n        int i = 0;\r\n        String dropDatabase = &quot;DROP DATABASE &quot; + i + &quot; wait;&quot;; //i want to pass the element as a variable here\r\n    \r\n        for (; i &lt; filterSize ; i++) {\r\n    \r\n          basePage.queryInputField.sendKeys(dropDatabase);\r\n        }\r\n\r\nWhat I was trying to do in the loop is to pass make `i = sample1` in the first run, `i = sample2` in the second run and so on, but `i` is an `int` and I believe only an `int` can be passed into a condition as far as my little Java knowledge.\r\n\r\nHow can I pass the `String` `sample1` to the loop in the first run to achieve this - `DROP DATABASE sample1 wait;` and pass the other elements in subsequent runs? I am open to any other approach than can help me achieve this.","title":"Is there a way to pass a string variable to a for loop in Java?","body":"<p>My requirement is to delete data from a database, but the strings I need to pass to the <code>DELETE</code> query are dynamically generated, so I have to first collect the data and then use it in a <code>for</code> loop that would send the <code>DELETE</code> query multiple times.</p>\n<p>My steps so far:</p>\n<p>First, I filtered a list so as to collect a list of required elements into a variable. I got the expected output:</p>\n<pre><code>List&lt;String&gt; newFilter = allProductNames.stream().filter(field -&gt; field.startsWith(&quot;sample&quot;, 1)).collect(Collectors.toList());\nSystem.out.println(newFilter)\n</code></pre>\n<p>Output:</p>\n<pre><code>&quot;sample1&quot;, &quot;sample2&quot;, &quot;sample3&quot;, &quot;sample4&quot;\n</code></pre>\n<p>Now, I want to use each of the elements to send a query to a Neo4j database, using the query - <code>DROP DATABASE &lt;database_name&gt; wait;</code> where <code>&lt;database_name&gt;</code> would be replaced by each of my collected elements. So the queries will look like this:</p>\n<pre><code>DROP DATABASE sample1 wait;\nDROP DATABASE sample2 wait;\nDROP DATABASE sample3 wait;\nDROP DATABASE sample4 wait;\nDROP DATABASE sample5 wait;\n</code></pre>\n<p>What comes straight to my mind is that a <code>for</code> loop can help me to send the query repeatedly by passing <code>sample1</code> in the first query, <code>sample2</code> in the second query...and so on, but my dilemma is that I am lost on how to achieve this.</p>\n<p>I tried something like this, but it wont work:</p>\n<pre><code>List&lt;String&gt; newFilter = allProductNames.stream().filter(field -&gt; field.startsWith(&quot;sample&quot;, 1)).collect(Collectors.toList());\n\n    int filterSize = newFilter.size();\n\n    int i = 0;\n    String dropDatabase = &quot;DROP DATABASE &quot; + i + &quot; wait;&quot;; //i want to pass the element as a variable here\n\n    for (; i &lt; filterSize ; i++) {\n\n      basePage.queryInputField.sendKeys(dropDatabase);\n    }\n</code></pre>\n<p>What I was trying to do in the loop is to pass make <code>i = sample1</code> in the first run, <code>i = sample2</code> in the second run and so on, but <code>i</code> is an <code>int</code> and I believe only an <code>int</code> can be passed into a condition as far as my little Java knowledge.</p>\n<p>How can I pass the <code>String</code> <code>sample1</code> to the loop in the first run to achieve this - <code>DROP DATABASE sample1 wait;</code> and pass the other elements in subsequent runs? I am open to any other approach than can help me achieve this.</p>\n"},{"tags":["java","padding","volatile","false-sharing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652270061,"post_id":72198230,"comment_id":127564745,"body_markdown":"If you run it a few more times, you’ll probably get different numbers.  Many things can affect system performance, especially at millisecond granularity.  Maybe your system was cleaning out part of its file cache.  Maybe it was downloading an update.  Maybe the web browser was updating a page or an ad.  Maybe you had new e-mail coming in.","body":"If you run it a few more times, you’ll probably get different numbers.  Many things can affect system performance, especially at millisecond granularity.  Maybe your system was cleaning out part of its file cache.  Maybe it was downloading an update.  Maybe the web browser was updating a page or an ad.  Maybe you had new e-mail coming in."},{"owner":{"account_id":4506845,"reputation":15,"user_id":3663952,"display_name":"king"},"score":0,"creation_date":1652280090,"post_id":72198230,"comment_id":127569111,"body_markdown":"Of course，I run many time. But  these cost is nearly the same. With padding can avoid false share, it should run faster, however the fact is not","body":"Of course，I run many time. But  these cost is nearly the same. With padding can avoid false share, it should run faster, however the fact is not"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652723894,"creation_date":1652423321,"answer_id":72225288,"question_id":72198230,"body_markdown":"This benchmark can&#39;t be used to make any conclusions because you don&#39;t run it long enough. I would suggest converting it to JMH and try again.\r\n\r\n\r\nApart from that, the padding is broken:\r\n\r\n1) You typically want to pad on both sides\r\n\r\n2) With the current approach you have no clue if the padding actually happens in front. You typically fix this by padding to a super and subclass. See jctools for examples:\r\n\r\nhttps://github.com/JCTools/JCTools/blob/master/jctools-core/src/main/java/org/jctools/util/PaddedAtomicLong.java\r\n\r\n3) You don&#39;t pad enough. You typically want to pad 128 bytes on both sides due to adject cacheline prefetching. You are &#39;padding&#39; just 56 bytes.\r\n\r\n[edit]\r\n\r\nThe JIT could optimize the following code:\r\n\r\n```\r\nThread t1 = new Thread(()-&gt;{\r\n        for(long a=0;a&lt;999999999L;a++){\r\n            arr[0].x = a;\r\n        }\r\n    });\r\n```\r\n\r\nTo\r\n\r\n```\r\nThread t1 = new Thread(()-&gt;{\r\n    arr[0].x = 999999999L-1;\r\n});\r\n```\r\n\r\nAnd since the value isn&#39;t read, in theory, it could even optimize it to:\r\n\r\n\r\n```\r\nThread t1 = new Thread(()-&gt;{    \r\n});\r\n```\r\n\r\nSo you need to make sure that the JIT doesn&#39;t apply dead code elimination. JMH has facilities for that.","title":"Why false share not work without volatile padding","body":"<p>This benchmark can't be used to make any conclusions because you don't run it long enough. I would suggest converting it to JMH and try again.</p>\n<p>Apart from that, the padding is broken:</p>\n<ol>\n<li><p>You typically want to pad on both sides</p>\n</li>\n<li><p>With the current approach you have no clue if the padding actually happens in front. You typically fix this by padding to a super and subclass. See jctools for examples:</p>\n</li>\n</ol>\n<p><a href=\"https://github.com/JCTools/JCTools/blob/master/jctools-core/src/main/java/org/jctools/util/PaddedAtomicLong.java\" rel=\"nofollow noreferrer\">https://github.com/JCTools/JCTools/blob/master/jctools-core/src/main/java/org/jctools/util/PaddedAtomicLong.java</a></p>\n<ol start=\"3\">\n<li>You don't pad enough. You typically want to pad 128 bytes on both sides due to adject cacheline prefetching. You are 'padding' just 56 bytes.</li>\n</ol>\n<p>[edit]</p>\n<p>The JIT could optimize the following code:</p>\n<pre><code>Thread t1 = new Thread(()-&gt;{\n        for(long a=0;a&lt;999999999L;a++){\n            arr[0].x = a;\n        }\n    });\n</code></pre>\n<p>To</p>\n<pre><code>Thread t1 = new Thread(()-&gt;{\n    arr[0].x = 999999999L-1;\n});\n</code></pre>\n<p>And since the value isn't read, in theory, it could even optimize it to:</p>\n<pre><code>Thread t1 = new Thread(()-&gt;{    \n});\n</code></pre>\n<p>So you need to make sure that the JIT doesn't apply dead code elimination. JMH has facilities for that.</p>\n"}],"owner":{"account_id":4506845,"reputation":15,"user_id":3663952,"display_name":"king"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652723894,"creation_date":1652259610,"question_id":72198230,"body_markdown":"    public class VolatileTest {\r\n    private static class T {\r\n          public  long p1,p2,p3, p4,p5;// if comment this and run again\r\n          public  long x = 0L;\r\n          public  long y = 0L;\r\n    }\r\n\r\n    public static T[] arr = new T[2];\r\n\r\n    static {\r\n        arr[0] = new T();\r\n        arr[1] = new T();\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Thread t1 = new Thread(()-&gt;{\r\n            for(long a=0;a&lt;999999999L;a++){\r\n                arr[0].x = a;\r\n            }\r\n        });\r\n        Thread t2 = new Thread(()-&gt;{\r\n            for(long a=0;a&lt;999999999L;a++){\r\n                arr[1].y = a;\r\n            }\r\n        });\r\n\r\n        final long start = System.nanoTime();\r\n        t1.start();\r\n        t2.start();\r\n        t1.join();\r\n        t2.join();\r\n        System.out.println((System.nanoTime()-start)/1000000);\r\n    }}\r\n\r\nthe first time I run above code, it cost 519.\r\nIf i comment line 3 and run again, it cost 510.\r\nWhy the second code (wihout padding) run faster.thanks","title":"Why false share not work without volatile padding","body":"<pre><code>public class VolatileTest {\nprivate static class T {\n      public  long p1,p2,p3, p4,p5;// if comment this and run again\n      public  long x = 0L;\n      public  long y = 0L;\n}\n\npublic static T[] arr = new T[2];\n\nstatic {\n    arr[0] = new T();\n    arr[1] = new T();\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    Thread t1 = new Thread(()-&gt;{\n        for(long a=0;a&lt;999999999L;a++){\n            arr[0].x = a;\n        }\n    });\n    Thread t2 = new Thread(()-&gt;{\n        for(long a=0;a&lt;999999999L;a++){\n            arr[1].y = a;\n        }\n    });\n\n    final long start = System.nanoTime();\n    t1.start();\n    t2.start();\n    t1.join();\n    t2.join();\n    System.out.println((System.nanoTime()-start)/1000000);\n}}\n</code></pre>\n<p>the first time I run above code, it cost 519.\nIf i comment line 3 and run again, it cost 510.\nWhy the second code (wihout padding) run faster.thanks</p>\n"},{"tags":["java","spring-boot","session","heroku"],"answers":[{"tags":[],"owner":{"account_id":4600786,"reputation":13,"user_id":3731598,"accept_rate":50,"display_name":"user3731598"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652723496,"creation_date":1652723496,"answer_id":72263537,"question_id":72017084,"body_markdown":"Heroku support suggested enabling [Session affinity][1]. That seems to have worked. \r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/session-affinity","title":"Heroku session unexpectedly dropped/created","body":"<p>Heroku support suggested enabling <a href=\"https://devcenter.heroku.com/articles/session-affinity\" rel=\"nofollow noreferrer\">Session affinity</a>. That seems to have worked.</p>\n"}],"owner":{"account_id":4600786,"reputation":13,"user_id":3731598,"accept_rate":50,"display_name":"user3731598"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652723496,"creation_date":1650988952,"question_id":72017084,"body_markdown":"I am running an application on Heroku. We have a staging site and a production site. We are attempting to move to a standard 0 tier database. I have successfully created the new database on the staging site, copied over the data from the free tier database, promoted the new standard tier 0 database, and all runs correctly.\r\n\r\nI then created the new standard 0 tier database on production. I successfully copied the data from the free tier database, promoted the standard 0 tier database and the application comes up and users are able to get entries into the database. However, when I try to log in to the admin side of the application, I get a successful log in and land on the admin page, but then when I try to navigate to another page, a new session gets created and I get dumped back to the login page. In various tests this does not occur consistently: sometimes the login fails, sometimes the navigation to another page fails, sometimes the navigation to another page fails, but then a subsequent action (navigation or a search) dumps me back to the login page.\r\n\r\nI looked in the logs and see that indeed a new session gets created, although the log entry shows that I already have a `JSESSIONID`. I also noted in the logs that the session is created quite differently when running against the free tier database (which works fine) than when running against the standard 0 tier database (which has this session dropping problem).\r\n\r\nTo verify that the problem is repeatable I have turned maintenance on, done a `pg:copy` of the data in the standard 0 tier database, done a promote of the free tier database, and turned maintenance off. All again works fine on login. I then reversed that process (maintenance on, copy free to standard, promote standard, maintenance off) and the problem recurs.\r\n\r\nSo, I think I have eliminated this being a code issue (same code should be used in both cases), I think I have eliminated this being a data issue (the same data copied to both databases), and am left with thinking this is some sort of environmental setting. Heroku assures me that the only changes to environment variables have to do with database URLs being set to point to the correct places.\r\n\r\nAnyone ever seen this before? Are there other things I should look at or think about?\r\nI have security set to &quot;debug&quot; so I see lots of stuff in the logs but the creation of the new (and unwanted) session seems to be spontaneous.\r\n\r\nThe application is Java based using Spring Framework. The database(s) are Postgres.\r\n\r\nAny help would be appreciated.\r\n","title":"Heroku session unexpectedly dropped/created","body":"<p>I am running an application on Heroku. We have a staging site and a production site. We are attempting to move to a standard 0 tier database. I have successfully created the new database on the staging site, copied over the data from the free tier database, promoted the new standard tier 0 database, and all runs correctly.</p>\n<p>I then created the new standard 0 tier database on production. I successfully copied the data from the free tier database, promoted the standard 0 tier database and the application comes up and users are able to get entries into the database. However, when I try to log in to the admin side of the application, I get a successful log in and land on the admin page, but then when I try to navigate to another page, a new session gets created and I get dumped back to the login page. In various tests this does not occur consistently: sometimes the login fails, sometimes the navigation to another page fails, sometimes the navigation to another page fails, but then a subsequent action (navigation or a search) dumps me back to the login page.</p>\n<p>I looked in the logs and see that indeed a new session gets created, although the log entry shows that I already have a <code>JSESSIONID</code>. I also noted in the logs that the session is created quite differently when running against the free tier database (which works fine) than when running against the standard 0 tier database (which has this session dropping problem).</p>\n<p>To verify that the problem is repeatable I have turned maintenance on, done a <code>pg:copy</code> of the data in the standard 0 tier database, done a promote of the free tier database, and turned maintenance off. All again works fine on login. I then reversed that process (maintenance on, copy free to standard, promote standard, maintenance off) and the problem recurs.</p>\n<p>So, I think I have eliminated this being a code issue (same code should be used in both cases), I think I have eliminated this being a data issue (the same data copied to both databases), and am left with thinking this is some sort of environmental setting. Heroku assures me that the only changes to environment variables have to do with database URLs being set to point to the correct places.</p>\n<p>Anyone ever seen this before? Are there other things I should look at or think about?\nI have security set to &quot;debug&quot; so I see lots of stuff in the logs but the creation of the new (and unwanted) session seems to be spontaneous.</p>\n<p>The application is Java based using Spring Framework. The database(s) are Postgres.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","rabbitmq","rate-limiting","redisson"],"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1665681691,"post_id":72263437,"comment_id":130761834,"body_markdown":"are you able to find solution for this?","body":"are you able to find solution for this?"},{"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"score":0,"creation_date":1665770829,"post_id":72263437,"comment_id":130783860,"body_markdown":"No, i am not able to yet. just left it there for now.","body":"No, i am not able to yet. just left it there for now."}],"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652722910,"creation_date":1652722910,"question_id":72263437,"body_markdown":"I am trying to use Redisson Rate limiting API (link below) to rate-limit RabbitMQ consumers consuming the message from Q. Currently, it is rate-limited to 5 messages per second instead of 16 per second. I have increased the RMQ consumer number to 8 with @RabbitListener() annotation. \r\n\r\nhttps://redisson.org/glossary/rate-limiter.html\r\n\r\nMy limiter configuration is as follows\r\n\r\n\r\n     limiter.trySetRate(RateType.OVERALL, 16,  1, RateIntervalUnit.SECONDS);\r\n\r\nand in consumer class\r\n\r\n     rateLimiter.acquire(1);\r\n\r\nthe idea is that there are 16 consumers in 2 instances and each consumer gets 1 token per second restricting the consumer rate to 16/s. However, for some reason, it is capped at 5/second. The consumer is making a rest call out and it takes around 300-500ms max. Not sure why I cannot achieve a 16tps. \r\n\r\nIt will be helpful if someone can shed light on the issue.\r\n","title":"Redisson Rate limiting with RabbitMQ","body":"<p>I am trying to use Redisson Rate limiting API (link below) to rate-limit RabbitMQ consumers consuming the message from Q. Currently, it is rate-limited to 5 messages per second instead of 16 per second. I have increased the RMQ consumer number to 8 with @RabbitListener() annotation.</p>\n<p><a href=\"https://redisson.org/glossary/rate-limiter.html\" rel=\"nofollow noreferrer\">https://redisson.org/glossary/rate-limiter.html</a></p>\n<p>My limiter configuration is as follows</p>\n<pre><code> limiter.trySetRate(RateType.OVERALL, 16,  1, RateIntervalUnit.SECONDS);\n</code></pre>\n<p>and in consumer class</p>\n<pre><code> rateLimiter.acquire(1);\n</code></pre>\n<p>the idea is that there are 16 consumers in 2 instances and each consumer gets 1 token per second restricting the consumer rate to 16/s. However, for some reason, it is capped at 5/second. The consumer is making a rest call out and it takes around 300-500ms max. Not sure why I cannot achieve a 16tps.</p>\n<p>It will be helpful if someone can shed light on the issue.</p>\n"},{"tags":["java","lambda","java-8","comparator"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1469213130,"post_id":38533338,"comment_id":64460470,"body_markdown":"why not use a lambda?","body":"why not use a lambda?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":1,"creation_date":1469213460,"post_id":38533338,"comment_id":64460618,"body_markdown":"Ah... that moment when I realize that I&#39;ve asked a stupid question :) (Not that there are any stupid questions.)","body":"Ah... that moment when I realize that I&#39;ve asked a stupid question :) (Not that there are any stupid questions.)"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1533887132,"creation_date":1469213111,"answer_id":38533383,"question_id":38533338,"body_markdown":"You can&#39;t nest method references. You can use lambda expressions instead:\r\n\r\n    return Comparator\r\n            .comparing(l-&gt;l.getCourse().getTeacher().getAge(), Comparator.reverseOrder()) \r\n            .thenComparing(l-&gt;l.getCourse().getStudentSize());\r\n\r\n----------\r\n\r\nWithout the need for reverse order it&#39;s even less verbose:\r\n\r\n    return Comparator\r\n            .comparing(l-&gt;l.getCourse().getTeacher().getAge()) \r\n            .thenComparing(l-&gt;l.getCourse().getStudentSize());\r\n\r\nNote: in some cases you need to explicitly state the generic types. For example, the code below won&#39;t work without the `&lt;FlightAssignment, LocalDateTime&gt;` before `comparing(...)` in Java 8.\r\n\r\n    flightAssignmentList.sort(Comparator\r\n            .&lt;FlightAssignment, LocalDateTime&gt;comparing(a -&gt; a.getFlight().getDepartureUTCDateTime())\r\n            .thenComparing(a -&gt; a.getFlight().getArrivalUTCDateTime())\r\n            .thenComparing(FlightAssignment::getId));\r\n\r\nNewer java version have better auto type detection and might not require that.","title":"Comparator.comparing(...) of a nested field","body":"<p>You can't nest method references. You can use lambda expressions instead:</p>\n\n<pre><code>return Comparator\n        .comparing(l-&gt;l.getCourse().getTeacher().getAge(), Comparator.reverseOrder()) \n        .thenComparing(l-&gt;l.getCourse().getStudentSize());\n</code></pre>\n\n<hr>\n\n<p>Without the need for reverse order it's even less verbose:</p>\n\n<pre><code>return Comparator\n        .comparing(l-&gt;l.getCourse().getTeacher().getAge()) \n        .thenComparing(l-&gt;l.getCourse().getStudentSize());\n</code></pre>\n\n<p>Note: in some cases you need to explicitly state the generic types. For example, the code below won't work without the <code>&lt;FlightAssignment, LocalDateTime&gt;</code> before <code>comparing(...)</code> in Java 8.</p>\n\n<pre><code>flightAssignmentList.sort(Comparator\n        .&lt;FlightAssignment, LocalDateTime&gt;comparing(a -&gt; a.getFlight().getDepartureUTCDateTime())\n        .thenComparing(a -&gt; a.getFlight().getArrivalUTCDateTime())\n        .thenComparing(FlightAssignment::getId));\n</code></pre>\n\n<p>Newer java version have better auto type detection and might not require that.</p>\n"},{"tags":[],"owner":{"account_id":63211,"reputation":4292,"user_id":187261,"display_name":"Nazarii Bardiuk"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1469397506,"creation_date":1469397506,"answer_id":38557239,"question_id":38533338,"body_markdown":"Unfortunately there is no nice syntax in java for that. \r\n\r\nIf you want to reuse parts of comparator I can see 2 ways:\r\n\r\n - by composing comparators\r\n\r\n        return comparing(Lecture::getCourse, comparing(Course::getTeacher, comparing(Teacher::getAge)))\r\n               .thenComparing(Lecture::getCourse, comparing(Course::getStudentSize));\r\n\r\n        // or with separate comparators\r\n        Comparator&lt;Teacher&gt; byAge = comparing(Teacher::getAge);\r\n        Comparator&lt;Course&gt; byTeacherAge = comparing(Course::getTeacher, byAge);\r\n        Comparator&lt;Course&gt; byStudentsSize = comparing(Course::getStudentSize);\r\n        return comparing(Lecture::getCourse, byTeacherAge).thenComparing(Lecture::getCourse, byStudentsSize);\r\n\r\n - by composing getter functions\r\n\r\n        Function&lt;Lecture, Course&gt; getCourse = Lecture::getCourse;            \r\n        return comparing(getCourse.andThen(Course::getTeacher).andThen(Teacher::getAge))\r\n               .thenComparing(getCourse.andThen(Course::getStudentSize));\r\n\r\n        // or with separate getters\r\n        Function&lt;Lecture, Course&gt; getCourse = Lecture::getCourse;\r\n        Function&lt;Lecture, Integer&gt; teacherAge = getCourse.andThen(Course::getTeacher).andThen(Teacher::getAge);\r\n        Function&lt;Lecture, Integer&gt; studentSize = getCourse.andThen(Course::getStudentSize);\r\n        return comparing(teacherAge).thenComparing(studentSize);\r\n\r\n","title":"Comparator.comparing(...) of a nested field","body":"<p>Unfortunately there is no nice syntax in java for that. </p>\n\n<p>If you want to reuse parts of comparator I can see 2 ways:</p>\n\n<ul>\n<li><p>by composing comparators</p>\n\n<pre><code>return comparing(Lecture::getCourse, comparing(Course::getTeacher, comparing(Teacher::getAge)))\n       .thenComparing(Lecture::getCourse, comparing(Course::getStudentSize));\n\n// or with separate comparators\nComparator&lt;Teacher&gt; byAge = comparing(Teacher::getAge);\nComparator&lt;Course&gt; byTeacherAge = comparing(Course::getTeacher, byAge);\nComparator&lt;Course&gt; byStudentsSize = comparing(Course::getStudentSize);\nreturn comparing(Lecture::getCourse, byTeacherAge).thenComparing(Lecture::getCourse, byStudentsSize);\n</code></pre></li>\n<li><p>by composing getter functions</p>\n\n<pre><code>Function&lt;Lecture, Course&gt; getCourse = Lecture::getCourse;            \nreturn comparing(getCourse.andThen(Course::getTeacher).andThen(Teacher::getAge))\n       .thenComparing(getCourse.andThen(Course::getStudentSize));\n\n// or with separate getters\nFunction&lt;Lecture, Course&gt; getCourse = Lecture::getCourse;\nFunction&lt;Lecture, Integer&gt; teacherAge = getCourse.andThen(Course::getTeacher).andThen(Teacher::getAge);\nFunction&lt;Lecture, Integer&gt; studentSize = getCourse.andThen(Course::getStudentSize);\nreturn comparing(teacherAge).thenComparing(studentSize);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14126085,"reputation":11,"user_id":10205334,"display_name":"manish garg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1533914030,"creation_date":1533845594,"answer_id":51775108,"question_id":38533338,"body_markdown":"\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.function.Function;\r\n    \t\r\n      class Person {\r\n    \t  String name ;\r\n    \t  PersonalDetail pDetail;\r\n    \tpublic Person(String name, PersonalDetail pDetail) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.pDetail = pDetail;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic PersonalDetail getpDetail() {\r\n    \t\treturn pDetail;\r\n    \t}\r\n    \tpublic void setpDetail(PersonalDetail pDetail) {\r\n    \t\tthis.pDetail = pDetail;\r\n    \t}\r\n    \t  \r\n    \t\r\n    \t\t\r\n    \t\t\r\n      }\r\n      \r\n      class PersonalDetail{\r\n    \t  BirthDate birthDate;\r\n    \r\n    \tpublic BirthDate getBirthDate() {\r\n    \t\treturn birthDate;\r\n    \t}\r\n    \r\n    \tpublic void setBirthDate(BirthDate birthDate) {\r\n    \t\tthis.birthDate = birthDate;\r\n    \t}\r\n    \r\n    \tpublic PersonalDetail(BirthDate birthDate) {\r\n    \t\tsuper();\r\n    \t\tthis.birthDate = birthDate;\r\n    \t}\r\n    \t  \r\n    \t  \r\n      }\r\n    \t  \r\n    \tclass BirthDate {\r\n    \t\tpublic String getBirthdate() {\r\n    \t\t\treturn birthdate;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBirthdate(String birthdate) {\r\n    \t\t\tthis.birthdate = birthdate;\r\n    \t\t}\r\n    \r\n    \tString birthdate;\r\n    \t\t\r\n    \t\tpublic BirthDate(String birthdate) {\r\n    \t\t\tsuper();\r\n    \t\t\r\n    \t\t\tthis.birthdate = birthdate;\r\n    \t\t}  \r\n      }\r\n      \r\n      public class Test1 {\r\n    \t   public static void main(String[] args) {\r\n    \t\t   BirthDate b1 = new BirthDate(&quot;2019-08-08&quot;);\r\n    \t\t   BirthDate b2 = new BirthDate(&quot;2025-09-09&quot;);\r\n    \t\t   BirthDate b3 = new BirthDate(&quot;2025-09-08&quot;);\r\n    \t\t   BirthDate b4 = new BirthDate(&quot;2024-09-08&quot;);\r\n    \t\t   \r\n    \t\t   PersonalDetail pd1  = new PersonalDetail(b1);\r\n    \t\t   PersonalDetail pd2  = new PersonalDetail(b2);\r\n    \t\t   PersonalDetail pd3  = new PersonalDetail(b3);\r\n    \t\t   PersonalDetail pd4  = new PersonalDetail(b4);\r\n    \t\t   \r\n    \t\t   Person p1  = new Person(&quot;P1&quot;,pd1);\r\n    \t\t   Person p2  = new Person(&quot;P2&quot;,pd2);\r\n    \t\t   Person p3  = new Person(&quot;P3&quot;,pd3);\r\n    \t\t   Person p4  = new Person(&quot;P4&quot;,pd4);\r\n    \t\t   \r\n    \t\t   List&lt;Person&gt; persons = new ArrayList();\r\n    \t\t   persons.add(p1);\r\n    \t\t   persons.add(p2);\r\n    \t\t   persons.add(p3);\r\n    \t\t   persons.add(p4);\r\n    \t\t   \r\n    \t\t   Function&lt;Person, PersonalDetail&gt; getCourse = Person::getpDetail;  \r\n    \t\t    \r\n    \t\t   Person minByAge = persons.stream()\r\n    \t\t\t\t      .max(Comparator.comparing(getCourse.andThen(PersonalDetail::getBirthDate).andThen(BirthDate::getBirthdate))).get();\r\n    \r\n    \t\t   \r\n    \t\t  System.out.println(maxByAge.getName());\r\n    \t\t    \r\n    \t   }\r\n    \t   \r\n    \t}\r\n    \t","title":"Comparator.comparing(...) of a nested field","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.function.Function;\n\n  class Person {\n      String name ;\n      PersonalDetail pDetail;\n    public Person(String name, PersonalDetail pDetail) {\n        super();\n        this.name = name;\n        this.pDetail = pDetail;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public PersonalDetail getpDetail() {\n        return pDetail;\n    }\n    public void setpDetail(PersonalDetail pDetail) {\n        this.pDetail = pDetail;\n    }\n\n\n\n\n  }\n\n  class PersonalDetail{\n      BirthDate birthDate;\n\n    public BirthDate getBirthDate() {\n        return birthDate;\n    }\n\n    public void setBirthDate(BirthDate birthDate) {\n        this.birthDate = birthDate;\n    }\n\n    public PersonalDetail(BirthDate birthDate) {\n        super();\n        this.birthDate = birthDate;\n    }\n\n\n  }\n\n    class BirthDate {\n        public String getBirthdate() {\n            return birthdate;\n        }\n\n        public void setBirthdate(String birthdate) {\n            this.birthdate = birthdate;\n        }\n\n    String birthdate;\n\n        public BirthDate(String birthdate) {\n            super();\n\n            this.birthdate = birthdate;\n        }  \n  }\n\n  public class Test1 {\n       public static void main(String[] args) {\n           BirthDate b1 = new BirthDate(\"2019-08-08\");\n           BirthDate b2 = new BirthDate(\"2025-09-09\");\n           BirthDate b3 = new BirthDate(\"2025-09-08\");\n           BirthDate b4 = new BirthDate(\"2024-09-08\");\n\n           PersonalDetail pd1  = new PersonalDetail(b1);\n           PersonalDetail pd2  = new PersonalDetail(b2);\n           PersonalDetail pd3  = new PersonalDetail(b3);\n           PersonalDetail pd4  = new PersonalDetail(b4);\n\n           Person p1  = new Person(\"P1\",pd1);\n           Person p2  = new Person(\"P2\",pd2);\n           Person p3  = new Person(\"P3\",pd3);\n           Person p4  = new Person(\"P4\",pd4);\n\n           List&lt;Person&gt; persons = new ArrayList();\n           persons.add(p1);\n           persons.add(p2);\n           persons.add(p3);\n           persons.add(p4);\n\n           Function&lt;Person, PersonalDetail&gt; getCourse = Person::getpDetail;  \n\n           Person minByAge = persons.stream()\n                      .max(Comparator.comparing(getCourse.andThen(PersonalDetail::getBirthDate).andThen(BirthDate::getBirthdate))).get();\n\n\n          System.out.println(maxByAge.getName());\n\n       }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652722910,"creation_date":1652722910,"answer_id":72263436,"question_id":38533338,"body_markdown":"I created this method which sorts using a field and a field of a nested object. This solution is actually compliant with Sonar too.\r\n\r\n\tpublic static List&lt;Parcel&gt; getSortedParcelsListBySaleOrderNumberAndShipperParcelTracking(final List&lt;Parcel&gt; parcelList) {\r\n\t\tComparator&lt;Parcel&gt; comparator = Comparator\r\n\t\t\t\t.&lt;Parcel, String&gt;comparing(p -&gt; p.getPickOrderCustomer().getSaleOrderNumber())\r\n\t\t\t\t.thenComparing(Parcel::getShipperParcelTracking);\r\n\t\treturn parcelList.stream().sorted(comparator).toList();\r\n\t}","title":"Comparator.comparing(...) of a nested field","body":"<p>I created this method which sorts using a field and a field of a nested object. This solution is actually compliant with Sonar too.</p>\n<pre><code>public static List&lt;Parcel&gt; getSortedParcelsListBySaleOrderNumberAndShipperParcelTracking(final List&lt;Parcel&gt; parcelList) {\n    Comparator&lt;Parcel&gt; comparator = Comparator\n            .&lt;Parcel, String&gt;comparing(p -&gt; p.getPickOrderCustomer().getSaleOrderNumber())\n            .thenComparing(Parcel::getShipperParcelTracking);\n    return parcelList.stream().sorted(comparator).toList();\n}\n</code></pre>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41363,"favorite_count":0,"down_vote_count":1,"up_vote_count":47,"accepted_answer_id":38533383,"answer_count":4,"score":46,"last_activity_date":1652722910,"creation_date":1469212930,"question_id":38533338,"body_markdown":"Suppose I have a domain model like this:\r\n\r\n    class Lecture {\r\n         Course course;\r\n         ... // getters\r\n    }\r\n\r\n    class Course {\r\n         Teacher teacher;\r\n         int studentSize;\r\n         ... // getters\r\n    }\r\n\r\n    class Teacher {\r\n         int age;\r\n         ... // getters\r\n    }\r\n\r\nNow I can create a Teacher Comparator like this:\r\n\r\n        return Comparator\r\n                .comparing(Teacher::getAge);\r\n\r\nBut how do I compare Lecture&#39;s on nested fields, like this?\r\n\r\n        return Comparator\r\n                .comparing(Lecture::getCourse::getTeacher:getAge) \r\n                .thenComparing(Lecture::getCourse::getStudentSize);\r\n\r\nI can&#39;t add a method `Lecture.getTeacherAge()` on the model.\r\n","title":"Comparator.comparing(...) of a nested field","body":"<p>Suppose I have a domain model like this:</p>\n\n<pre><code>class Lecture {\n     Course course;\n     ... // getters\n}\n\nclass Course {\n     Teacher teacher;\n     int studentSize;\n     ... // getters\n}\n\nclass Teacher {\n     int age;\n     ... // getters\n}\n</code></pre>\n\n<p>Now I can create a Teacher Comparator like this:</p>\n\n<pre><code>    return Comparator\n            .comparing(Teacher::getAge);\n</code></pre>\n\n<p>But how do I compare Lecture's on nested fields, like this?</p>\n\n<pre><code>    return Comparator\n            .comparing(Lecture::getCourse::getTeacher:getAge) \n            .thenComparing(Lecture::getCourse::getStudentSize);\n</code></pre>\n\n<p>I can't add a method <code>Lecture.getTeacherAge()</code> on the model.</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1527396098,"post_id":50549051,"comment_id":88108970,"body_markdown":"No. But what is the problem with two loops? The total iteration count will be the same.","body":"No. But what is the problem with two loops? The total iteration count will be the same."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1527396253,"post_id":50549051,"comment_id":88108988,"body_markdown":"If you can guarantee that all component arrays are of the same length and not null, you could do `for (i in [0... cols*rows]) { (x,y) = transformIndex }`. But again: why? You could consider having a one-dimensional array instead.","body":"If you can guarantee that all component arrays are of the same length and not null, you could do <code>for (i in [0... cols*rows]) { (x,y) = transformIndex }</code>. But again: why? You could consider having a one-dimensional array instead."},{"owner":{"account_id":12288731,"reputation":15,"user_id":8966988,"display_name":"Jhonatan R. Santos"},"score":1,"creation_date":1527396313,"post_id":50549051,"comment_id":88108998,"body_markdown":"The problem is that I am researching if there is a way to decrease the asymptotic complexity &quot;O (n ^ 2)&quot; of this problem.","body":"The problem is that I am researching if there is a way to decrease the asymptotic complexity &quot;O (n ^ 2)&quot; of this problem."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1527396369,"post_id":50549051,"comment_id":88109006,"body_markdown":"As long as the total number of iterations is the same, this does nothing for your asymptotic complexity.","body":"As long as the total number of iterations is the same, this does nothing for your asymptotic complexity."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1527400826,"post_id":50549051,"comment_id":88109750,"body_markdown":"Do you need to know what line and column values are in the “do something” code, or do you just need the value at each cell?","body":"Do you need to know what line and column values are in the “do something” code, or do you just need the value at each cell?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1527396641,"creation_date":1527396261,"answer_id":50549072,"question_id":50549051,"body_markdown":"Well you could use just a single loop:\r\n\r\n    for (int i = 0; i &lt; Myarray.length*Myarray.length; i++) {\r\n        int row = i / Myarray.length;\r\n        int col = i % Myarray.length;\r\n        System.out.println(Myarray[row][col]);\r\n    }\r\n\r\nBut this assumes that your 2D array is square, i.e. its width and length are the same everywhere.  Another way of saying this is that the 2D array is not jagged.\r\n\r\n[&lt;h2&gt;Demo&lt;/h2&gt;][1]\r\n\r\nNote: As @Thilo mentioned above, this won&#39;t make things run faster.  If you need to touch every element in your array, then my suggested code and your current double loop basically have the same complexity.\r\n\r\n  [1]: http://rextester.com/UWXC29060","title":"Is it possible to iterate through a two-dimensional array without two loops for?","body":"<p>Well you could use just a single loop:</p>\n\n<pre><code>for (int i = 0; i &lt; Myarray.length*Myarray.length; i++) {\n    int row = i / Myarray.length;\n    int col = i % Myarray.length;\n    System.out.println(Myarray[row][col]);\n}\n</code></pre>\n\n<p>But this assumes that your 2D array is square, i.e. its width and length are the same everywhere.  Another way of saying this is that the 2D array is not jagged.</p>\n\n<p><a href=\"http://rextester.com/UWXC29060\" rel=\"noreferrer\"><h2>Demo</h2></a></p>\n\n<p>Note: As @Thilo mentioned above, this won't make things run faster.  If you need to touch every element in your array, then my suggested code and your current double loop basically have the same complexity.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552837085,"creation_date":1527399652,"answer_id":50549347,"question_id":50549051,"body_markdown":"You can iterate without any loops:\n\n    void recursive(int[][] array, int r, int c) {\n      if (r &gt;= array.length) return;\n      if (c &gt;= array[r].length) {\n        recursive(array, r+1, 0);\n      } else {\n        System.out.println(array[r][c]);\n        recursive(array, r, c+1);\n      }\n    }\n\nThen invoke with `recursive(array, 0, 0)` to get started.\n\nBut there is no practical benefit in doing so. This would perform poorly, because of all the extra effort involved in calling a method vs just incrementing an int. (Plus, depending upon the size of the array, you could end up with a stack overflow).","title":"Is it possible to iterate through a two-dimensional array without two loops for?","body":"<p>You can iterate without any loops:</p>\n\n<pre><code>void recursive(int[][] array, int r, int c) {\n  if (r &gt;= array.length) return;\n  if (c &gt;= array[r].length) {\n    recursive(array, r+1, 0);\n  } else {\n    System.out.println(array[r][c]);\n    recursive(array, r, c+1);\n  }\n}\n</code></pre>\n\n<p>Then invoke with <code>recursive(array, 0, 0)</code> to get started.</p>\n\n<p>But there is no practical benefit in doing so. This would perform poorly, because of all the extra effort involved in calling a method vs just incrementing an int. (Plus, depending upon the size of the array, you could end up with a stack overflow).</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527441445,"creation_date":1527407990,"answer_id":50550172,"question_id":50549051,"body_markdown":"If you don’t need to know the line or column in the “do something” code (not stated in question), you could:\r\n\r\n    Arrays.stream(Myarray).flatMap(Arrays:stream)\r\n        .forEach(n -&gt; /* do something with “n”, the cell value */);\r\n","title":"Is it possible to iterate through a two-dimensional array without two loops for?","body":"<p>If you don’t need to know the line or column in the “do something” code (not stated in question), you could:</p>\n\n<pre><code>Arrays.stream(Myarray).flatMap(Arrays:stream)\n    .forEach(n -&gt; /* do something with “n”, the cell value */);\n</code></pre>\n"}],"owner":{"account_id":12288731,"reputation":15,"user_id":8966988,"display_name":"Jhonatan R. Santos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9989,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50549072,"answer_count":3,"score":1,"last_activity_date":1652722867,"creation_date":1527395941,"question_id":50549051,"body_markdown":"For example, if I have:\r\n\r\n    int Myarray[][] = new int[][] {{1,2}, {3,4}};\r\n    for (int line=0; line &lt; Myarray.length; line++) {\r\n        for (int column = 0; column &lt; Myarray[0].length; column++) {\r\n            // do something ...\r\n        }\r\n    }\r\n\r\nHow could I go through the entire array without the two loops?","title":"Is it possible to iterate through a two-dimensional array without two loops for?","body":"<p>For example, if I have:</p>\n\n<pre><code>int Myarray[][] = new int[][] {{1,2}, {3,4}};\nfor (int line=0; line &lt; Myarray.length; line++) {\n    for (int column = 0; column &lt; Myarray[0].length; column++) {\n        // do something ...\n    }\n}\n</code></pre>\n\n<p>How could I go through the entire array without the two loops?</p>\n"},{"tags":["java","node.js","console"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1449267501,"post_id":34098391,"comment_id":55948936,"body_markdown":"Don&#39;t `waitFor` node to finish. Write something into the `OutputStream`  that connects you to that window.","body":"Don&#39;t <code>waitFor</code> node to finish. Write something into the <code>OutputStream</code>  that connects you to that window."},{"owner":{"account_id":3157211,"reputation":1,"user_id":2669356,"display_name":"drakenknight"},"score":0,"creation_date":1449267956,"post_id":34098391,"comment_id":55949130,"body_markdown":"Thats where I am stuck, I need to connect to that window but dont know how can you provide an example?","body":"Thats where I am stuck, I need to connect to that window but dont know how can you provide an example?"},{"owner":{"account_id":3157211,"reputation":1,"user_id":2669356,"display_name":"drakenknight"},"score":0,"creation_date":1449268421,"post_id":34098391,"comment_id":55949315,"body_markdown":"Also I need the waitFor; as the process that opens the window flashes 3 times","body":"Also I need the waitFor; as the process that opens the window flashes 3 times"}],"owner":{"account_id":3157211,"reputation":1,"user_id":2669356,"display_name":"drakenknight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652722792,"creation_date":1449267308,"question_id":34098391,"body_markdown":"I need help writing to the [`Node.exe` console][1] in Java.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DByuU.png\r\n\r\nI am currently using a `ProcessBuilder` to open up the process then I need to write in the console with a separate step. \r\n\r\nStep 1 looks like this which works fine:\r\n\r\n    ProcessBuilder b = new ProcessBuilder(&quot;node.exe&quot;,&quot;/c&quot;);\r\n    b.redirectErrorStream(true);\r\n    Process p = builder.start();\r\n    p.waitFor();\r\n\r\nStep 2 which is where I need help:\r\n\r\n     Runtime.getRuntime().exec(new String[]{&quot;node.exe&quot; + &quot;some text&quot;});\r\n\r\nOne issue is that many items of node can be running at one time and I use a command line piece of code to get that PID with the first step.\r\n\r\nBut all I need to do is write text in that command window above, which will be the last process of node that was made. \r\n\r\nHow I can write a simple line of text in that command window in the screen shot?\r\n\r\nI added this but it still does not work\r\n\r\n    OutputStream stdin = process.getOutputStream();\r\n    InputStream stderr = process.getErrorStream();\r\n    InputStream stdout = process.getInputStream();\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\r\n    PrintWriter writer = new PrintWriter(stdin);\r\n    writer.write(&quot;test&quot;);\r\n    writer.flush();\r\n    stdin.close();\r\n    System.out.print(reader.read());","title":"Java writing in the node.exe console window","body":"<p>I need help writing to the <a href=\"https://i.stack.imgur.com/DByuU.png\" rel=\"nofollow noreferrer\"><code>Node.exe</code> console</a> in Java.</p>\n<p>I am currently using a <code>ProcessBuilder</code> to open up the process then I need to write in the console with a separate step.</p>\n<p>Step 1 looks like this which works fine:</p>\n<pre><code>ProcessBuilder b = new ProcessBuilder(&quot;node.exe&quot;,&quot;/c&quot;);\nb.redirectErrorStream(true);\nProcess p = builder.start();\np.waitFor();\n</code></pre>\n<p>Step 2 which is where I need help:</p>\n<pre><code> Runtime.getRuntime().exec(new String[]{&quot;node.exe&quot; + &quot;some text&quot;});\n</code></pre>\n<p>One issue is that many items of node can be running at one time and I use a command line piece of code to get that PID with the first step.</p>\n<p>But all I need to do is write text in that command window above, which will be the last process of node that was made.</p>\n<p>How I can write a simple line of text in that command window in the screen shot?</p>\n<p>I added this but it still does not work</p>\n<pre><code>OutputStream stdin = process.getOutputStream();\nInputStream stderr = process.getErrorStream();\nInputStream stdout = process.getInputStream();\nBufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\nPrintWriter writer = new PrintWriter(stdin);\nwriter.write(&quot;test&quot;);\nwriter.flush();\nstdin.close();\nSystem.out.print(reader.read());\n</code></pre>\n"},{"tags":["java","react-native","keychain","react-native-keychain"],"answers":[{"tags":[],"owner":{"account_id":23015658,"reputation":66,"user_id":17137470,"display_name":"Estiven Laferre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652722650,"creation_date":1652716609,"answer_id":72262106,"question_id":72257657,"body_markdown":"I resolved the problem by defining the `STORAGE_TYPE`\r\n\r\n    let options: Keychain.Options = { storage:Keychain.STORAGE_TYPE.FB};\r\nyou can select that will use `FB` ,`AES` or `RSA` \r\n\r\n    Keychain.setGenericPassword(&#39;user&#39;, &quot;password&quot;, options).then(console.log)\r\n\r\n![options ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oUl5C.png\r\n","title":"React native keychain error when using setGenericPassword function","body":"<p>I resolved the problem by defining the <code>STORAGE_TYPE</code></p>\n<pre><code>let options: Keychain.Options = { storage:Keychain.STORAGE_TYPE.FB};\n</code></pre>\n<p>you can select that will use <code>FB</code> ,<code>AES</code> or <code>RSA</code></p>\n<pre><code>Keychain.setGenericPassword('user', &quot;password&quot;, options).then(console.log)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/oUl5C.png\" alt=\"options \" /></p>\n"}],"owner":{"account_id":20111134,"reputation":364,"user_id":14747507,"display_name":"FaFa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72262106,"answer_count":1,"score":1,"last_activity_date":1652722650,"creation_date":1652696463,"question_id":72257657,"body_markdown":"I am using [keychain][1] package to store credentials. After I build the app this package doesn&#39;t work but throws an error.\r\nThis is the error:\r\n```\r\nAttempt to invoke virtual method &#39;void com.oblador.keychain.cipherStorage.CipherStorageFacebookConceal.throwIfInsufficientLevel(com.oblador.keychain.SecurityLevel)&#39; on a null object reference\r\n```\r\nThe same code works fine when it is compiled on my friend&#39;s pc.\r\nSO, why is that?  We build the same app on the same phone and I got this error.\r\nHow can I solve this? \r\n\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/react-native-keychain","title":"React native keychain error when using setGenericPassword function","body":"<p>I am using <a href=\"https://www.npmjs.com/package/react-native-keychain\" rel=\"nofollow noreferrer\">keychain</a> package to store credentials. After I build the app this package doesn't work but throws an error.\nThis is the error:</p>\n<pre><code>Attempt to invoke virtual method 'void com.oblador.keychain.cipherStorage.CipherStorageFacebookConceal.throwIfInsufficientLevel(com.oblador.keychain.SecurityLevel)' on a null object reference\n</code></pre>\n<p>The same code works fine when it is compiled on my friend's pc.\nSO, why is that?  We build the same app on the same phone and I got this error.\nHow can I solve this?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":21927811,"reputation":1228,"user_id":16210149,"display_name":"Anatolii Chub"},"score":0,"creation_date":1652724830,"post_id":72263373,"comment_id":127670470,"body_markdown":"Looks like you&#39;re going to parse Json in the app. And some field that you are trying to parse like a boolean, actually it is a number.","body":"Looks like you&#39;re going to parse Json in the app. And some field that you are trying to parse like a boolean, actually it is a number."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652731262,"post_id":72263373,"comment_id":127672388,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25306168,"reputation":1,"user_id":19129668,"display_name":"Priclin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652722561,"creation_date":1652722561,"question_id":72263373,"body_markdown":"So I was trying to make my first app but while running it, I get the following notification &quot;jav.lang.illegalStateException: expected a boolean but was NUMBER at line 1 column 185 path $.recipes[0].weightWAtcherSmartPoints&quot; and the app doesn&#39;t go beyond the loading screen","title":"getting jav.lang.illegalStateException: error","body":"<p>So I was trying to make my first app but while running it, I get the following notification &quot;jav.lang.illegalStateException: expected a boolean but was NUMBER at line 1 column 185 path $.recipes[0].weightWAtcherSmartPoints&quot; and the app doesn't go beyond the loading screen</p>\n"},{"tags":["java","swing","splash-screen","event-dispatch-thread","jprogressbar"],"comments":[{"owner":{"account_id":12997661,"reputation":837,"user_id":9394705,"display_name":"tgallei"},"score":0,"creation_date":1652709403,"post_id":72260264,"comment_id":127664692,"body_markdown":"For this case you need multithreading. Run the ProgressBar in one thread and the load-method in a second thread.","body":"For this case you need multithreading. Run the ProgressBar in one thread and the load-method in a second thread."},{"owner":{"account_id":24094895,"reputation":3,"user_id":18067580,"display_name":"Suzal Wakhley"},"score":0,"creation_date":1652939261,"post_id":72260264,"comment_id":127729870,"body_markdown":"@tgallei, would you please help me further. I am not able to do it.","body":"@tgallei, would you please help me further. I am not able to do it."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652722520,"creation_date":1652722520,"answer_id":72263361,"question_id":72260264,"body_markdown":"Using javax.swing.Timer would be the preferred way to do this\r\n\r\n    class Example implements ActionListener {\r\n      Timer t = new Timer(this, 35);\r\n      JProgressBar jProgressBar = ...;\r\n      private int i = 0;\r\n      public void start() {\r\n        t.start();\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent ae) {\r\n         i++;\r\n         jProgessionBar.setValue(i);\r\n         if (i == 100) {\r\n           new Main();\r\n           t.cancel();\r\n         }\r\n      }\r\n\r\n","title":"How to call a class with JProgressBar first &amp; then run the main program?","body":"<p>Using javax.swing.Timer would be the preferred way to do this</p>\n<pre><code>class Example implements ActionListener {\n  Timer t = new Timer(this, 35);\n  JProgressBar jProgressBar = ...;\n  private int i = 0;\n  public void start() {\n    t.start();\n  }\n\n  public void actionPerformed(ActionEvent ae) {\n     i++;\n     jProgessionBar.setValue(i);\n     if (i == 100) {\n       new Main();\n       t.cancel();\n     }\n  }\n</code></pre>\n"}],"owner":{"account_id":24094895,"reputation":3,"user_id":18067580,"display_name":"Suzal Wakhley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72263361,"answer_count":1,"score":0,"last_activity_date":1652722520,"creation_date":1652708809,"question_id":72260264,"body_markdown":"I have created a separate class which displays a splash screen containing Progress Bar and I have a separate class where my main program starts from. When the program is started I want the Progress bar to execute first and then after it closes, I want my Main program to start.\r\n\r\nThis is my code for the Splash Screen with Progress Bar\r\n```\r\npackage MISC;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class SplashScreen extends JFrame {\r\n\r\n    JLabel label;\r\n    JProgressBar jProgessionBar;\r\n\r\n    public SplashScreen() {\r\n\r\n        label = new JLabel(&quot;Loading...&quot;);\r\n        label.setBounds(210, 210, 100, 30);\r\n        add(label);\r\n\r\n        jProgessionBar = new JProgressBar(0, 100); //Length of progression bar\r\n        jProgessionBar.setBounds(140, 250, 200, 25);\r\n        jProgessionBar.setValue(0);\r\n        jProgessionBar.setStringPainted(true);\r\n        add(jProgessionBar);\r\n        setSize(500,450);\r\n        setLocation(500,200);\r\n        setLayout(null);\r\n    }\r\n\r\n        public void load(){\r\n            int i;\r\n            try {\r\n                for (i = 0; i &lt; 100; i++) {\r\n                    Thread.sleep(35);\r\n                    jProgessionBar.setValue(i);\r\n                }\r\n                if (i == 100) {\r\n                    new Main();\r\n                    dispose();\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Splash Screen Error&quot;);\r\n            }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SplashScreen f = new SplashScreen();\r\n        f.setVisible(true);\r\n        f.load();\r\n        f.setResizable(false);\r\n    }\r\n}\r\n```","title":"How to call a class with JProgressBar first &amp; then run the main program?","body":"<p>I have created a separate class which displays a splash screen containing Progress Bar and I have a separate class where my main program starts from. When the program is started I want the Progress bar to execute first and then after it closes, I want my Main program to start.</p>\n<p>This is my code for the Splash Screen with Progress Bar</p>\n<pre><code>package MISC;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class SplashScreen extends JFrame {\n\n    JLabel label;\n    JProgressBar jProgessionBar;\n\n    public SplashScreen() {\n\n        label = new JLabel(&quot;Loading...&quot;);\n        label.setBounds(210, 210, 100, 30);\n        add(label);\n\n        jProgessionBar = new JProgressBar(0, 100); //Length of progression bar\n        jProgessionBar.setBounds(140, 250, 200, 25);\n        jProgessionBar.setValue(0);\n        jProgessionBar.setStringPainted(true);\n        add(jProgessionBar);\n        setSize(500,450);\n        setLocation(500,200);\n        setLayout(null);\n    }\n\n        public void load(){\n            int i;\n            try {\n                for (i = 0; i &lt; 100; i++) {\n                    Thread.sleep(35);\n                    jProgessionBar.setValue(i);\n                }\n                if (i == 100) {\n                    new Main();\n                    dispose();\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Splash Screen Error&quot;);\n            }\n    }\n\n    public static void main(String[] args) {\n\n        SplashScreen f = new SplashScreen();\n        f.setVisible(true);\n        f.load();\n        f.setResizable(false);\n    }\n}\n</code></pre>\n"},{"tags":["java","api","junit","mocking","mockito"],"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1652598915,"post_id":72246164,"comment_id":127641247,"body_markdown":"Look at the following question https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks","body":"Look at the following question <a href=\"https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks\" title=\"difference between mock and injectmocks\">stackoverflow.com/questions/16467685/&hellip;</a>"},{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1652606669,"post_id":72246164,"comment_id":127642443,"body_markdown":"You should unit test on B if you mock C","body":"You should unit test on B if you mock C"}],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652601307,"creation_date":1652601307,"answer_id":72246474,"question_id":72246164,"body_markdown":"You can use PowerMock for this. See the following example:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(C.class)\r\n    public class Test {\r\n    \r\n      @Test\r\n      public void testMockingC() throws Exception {\r\n        PowerMockito.stub(PowerMockito.method(C.class, &quot;getDetails&quot;)).toReturn(&quot;Mocked successfully!&quot;);\r\n        A a = new A();\r\n        a.validate();\r\n      }\r\n    }\r\n\r\nSince no method returns the relevant value I couldn&#39;t do some assertion, but you can put a breakpont and track the program flow while running this test, `c.getDetails()` will return `Mocked successfully!`.","title":"How to mock an intermediate class in the code flow in Java","body":"<p>You can use PowerMock for this. See the following example:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(C.class)\npublic class Test {\n\n  @Test\n  public void testMockingC() throws Exception {\n    PowerMockito.stub(PowerMockito.method(C.class, &quot;getDetails&quot;)).toReturn(&quot;Mocked successfully!&quot;);\n    A a = new A();\n    a.validate();\n  }\n}\n</code></pre>\n<p>Since no method returns the relevant value I couldn't do some assertion, but you can put a breakpont and track the program flow while running this test, <code>c.getDetails()</code> will return <code>Mocked successfully!</code>.</p>\n"},{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652721961,"creation_date":1652611506,"answer_id":72247532,"question_id":72246164,"body_markdown":"`B` doesn&#39;t seem to let you pass in a `C`, so it&#39;s hard to substitute the `C` used with a test double. The problem is that `B` knows all the details of `C`&#39;s construction even when it doesn&#39;t (and shouldn&#39;t) care. Dependency injection is an important pattern.\r\n\r\nThe idea is to first introduce an abstraction, of which you can have different implementations:\r\n\r\n```\r\ninterface DetailsProvider {\r\n    public String getDetails();\r\n}\r\n```\r\n\r\nThere will be one implementation that makes the real API call, used in the production code and another that&#39;s completely in your control, for the tests.\r\n\r\nThen, you make `B` take a `DetailsProvider` as a constructor parameter. The beauty in this is that it now no longer knows how the instance is created, making it easy to supply different versions of it. Anything implementing the interface will do.\r\n\r\n```\r\nclass B {\r\n   public B(DetailsProvider detailsProvider) {\r\n       this.detailsProvider = detailsProvider;\r\n   }\r\n    public void verify () {\r\n        String details = detailsProvider.getDetails();\r\n        ...\r\n    }\r\n\r\n   private DetailsProvider detailsProvider;\r\n}\r\n```\r\n\r\nFor testing, we can have a fake:\r\n\r\n```\r\nclass FakeDetailsProvider implements DetailsProvider {\r\n    @Override\r\n    String getDetails() { \r\n        return &quot;foo&quot;; \r\n    }\r\n}\r\n```\r\n\r\nso somewhere in your test setup, you have, e.g.\r\n\r\n```\r\nB someB = new B(new FakeDetailsProvider());\r\n```\r\n\r\nIn the production code, `C` now needs to implement the interface:\r\n\r\n```\r\nclass C implements DetailsProvider {\r\n    @Override\r\n    public String getDetails() {\r\n        // Make the real API call.\r\n    }\r\n}\r\n```\r\n\r\nand again, you just wire the two up:\r\n\r\n```\r\nB myB = new B(new C());\r\n```\r\n\r\nNote that this may not compile; I&#39;ve not written Java for a while now!","title":"How to mock an intermediate class in the code flow in Java","body":"<p><code>B</code> doesn't seem to let you pass in a <code>C</code>, so it's hard to substitute the <code>C</code> used with a test double. The problem is that <code>B</code> knows all the details of <code>C</code>'s construction even when it doesn't (and shouldn't) care. Dependency injection is an important pattern.</p>\n<p>The idea is to first introduce an abstraction, of which you can have different implementations:</p>\n<pre><code>interface DetailsProvider {\n    public String getDetails();\n}\n</code></pre>\n<p>There will be one implementation that makes the real API call, used in the production code and another that's completely in your control, for the tests.</p>\n<p>Then, you make <code>B</code> take a <code>DetailsProvider</code> as a constructor parameter. The beauty in this is that it now no longer knows how the instance is created, making it easy to supply different versions of it. Anything implementing the interface will do.</p>\n<pre><code>class B {\n   public B(DetailsProvider detailsProvider) {\n       this.detailsProvider = detailsProvider;\n   }\n    public void verify () {\n        String details = detailsProvider.getDetails();\n        ...\n    }\n\n   private DetailsProvider detailsProvider;\n}\n</code></pre>\n<p>For testing, we can have a fake:</p>\n<pre><code>class FakeDetailsProvider implements DetailsProvider {\n    @Override\n    String getDetails() { \n        return &quot;foo&quot;; \n    }\n}\n</code></pre>\n<p>so somewhere in your test setup, you have, e.g.</p>\n<pre><code>B someB = new B(new FakeDetailsProvider());\n</code></pre>\n<p>In the production code, <code>C</code> now needs to implement the interface:</p>\n<pre><code>class C implements DetailsProvider {\n    @Override\n    public String getDetails() {\n        // Make the real API call.\n    }\n}\n</code></pre>\n<p>and again, you just wire the two up:</p>\n<pre><code>B myB = new B(new C());\n</code></pre>\n<p>Note that this may not compile; I've not written Java for a while now!</p>\n"}],"owner":{"account_id":25288410,"reputation":1,"user_id":19114944,"display_name":"Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652721961,"creation_date":1652598025,"question_id":72246164,"body_markdown":"I have 3 classes, as shown below, and I want to write a Unit test for the `validate()` method of class `A`. I do not want to mock class `B`. I want to mock class `C` and always return the same `String` when `getDetails()` is called. Is this possible with Mockito? If not, is there any alternative?\r\n\r\n```\r\nClass A{\r\n  \r\n  void validate(){\r\n    B b = new B();\r\n    b.verify();\r\n  }\r\n}\r\n\r\nClass B throws Exception{\r\n  void verify(){\r\n    \r\n    C c = new C();\r\n    c.getDetails();\r\n  }\r\n}\r\n\r\nClass C{\r\n  String getDetails(){\r\n    //Does an API call and returns the part of response as a string\r\n  }\r\n}\r\n```","title":"How to mock an intermediate class in the code flow in Java","body":"<p>I have 3 classes, as shown below, and I want to write a Unit test for the <code>validate()</code> method of class <code>A</code>. I do not want to mock class <code>B</code>. I want to mock class <code>C</code> and always return the same <code>String</code> when <code>getDetails()</code> is called. Is this possible with Mockito? If not, is there any alternative?</p>\n<pre><code>Class A{\n  \n  void validate(){\n    B b = new B();\n    b.verify();\n  }\n}\n\nClass B throws Exception{\n  void verify(){\n    \n    C c = new C();\n    c.getDetails();\n  }\n}\n\nClass C{\n  String getDetails(){\n    //Does an API call and returns the part of response as a string\n  }\n}\n</code></pre>\n"},{"tags":["java","jsp","jar","web-inf","meta-inf"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1652745530,"post_id":72263210,"comment_id":127675583,"body_markdown":"I think you should try putting the config folder into Tomcat&#39;s classes folder.  The classes  folder should be inside Tomcat&#39;s WEB-INF folder.","body":"I think you should try putting the config folder into Tomcat&#39;s classes folder.  The classes  folder should be inside Tomcat&#39;s WEB-INF folder."},{"owner":{"account_id":25305435,"reputation":1,"user_id":19129045,"display_name":"&#205;&#241;igo Ram&#237;rez"},"score":0,"creation_date":1653259978,"post_id":72263210,"comment_id":127801348,"body_markdown":"Hi there, sorry for not getting back to you sooner. I&#39;ve tried doing what you&#39;ve told me, but it hasn&#39;t worked either. I put the config folder inside the WEB-INF folder (workspace\\SUPER_App\\src\\main\\webapp\\WEB-INF\\classes\\config), but I keep getting the same exception as before.","body":"Hi there, sorry for not getting back to you sooner. I&#39;ve tried doing what you&#39;ve told me, but it hasn&#39;t worked either. I put the config folder inside the WEB-INF folder (workspace\\SUPER_App\\src\\main\\webapp\\WEB-INF\\classes\\config)&zwnj;&#8203;, but I keep getting the same exception as before."}],"owner":{"account_id":25305435,"reputation":1,"user_id":19129045,"display_name":"&#205;&#241;igo Ram&#237;rez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652721746,"creation_date":1652721746,"question_id":72263210,"body_markdown":"These past months I&#39;ve been coding up a dynamic web project on Eclipse. The aim of the project is to create a web where users can enter a little poem to adapt it to the Easy to Read methodology (it eliminates all its abbreviations and contractions, and substitutes its complex words, among other things).\r\n\r\nTo achieve this, most of my java files implement the Babelfy and the Babelnet libraries. In order for them to work, you need to add several jar files to the Build Path, copy the &#39;config&#39; folder into your &#39;workspace/projectFolder/&#39; and specify a valid key using the &quot;babelnet.key&quot; property in the config/babelnet.var.properties file, which I have already done.\r\n\r\nHowever, when I try to run the project on the server (I have installed the Apache Tomcat 10.0.13), I get the following exception:\r\n\r\n    Servlet.service() for servlet [jsp] in context with path [/SUPER_App] threw exception [An exception occurred while processing JSP page [AdaptedPoem.jsp] online [59]\r\n\r\n    56:\r\n    57: if(Contracciones.esContraccion(Sentence.convertirTexto(poemaOriginal)) || ContadorPalabras.nPalComplicada(poemaOriginal) &gt; 0 \r\n    58:    || CaracteresEspeciales.esCaracterEspecial(Sentence.convertirTexto(poemaOriginal))) {\r\n    59: \t\tpoemaParcial = Cambios.cambioPoema(poemaOriginal);\r\n    60: \t\tpoemaFinal = poemaParcial;\r\n    61:\r\n    62: \t\tif(solicitudIndiceFernandezHuerta.equals(&quot;1&quot;)) {\r\n\r\n    Stacktrace:] with root cause\r\n    java.lang.IllegalArgumentException: Please define the parameter babelfy.key in babelfy.properties in the config folder.\r\n            at it.uniroma1.lcl.babelfy.commons.restful.RFPacket.&lt;init&gt;(RFPacket.java:35)\r\n            at it.uniroma1.lcl.babelfy.core.Babelfy.babelfy(Babelfy.java:56)\r\n            at contadoresCastellano.Cambios.sacarID(Cambios.java:1058)\r\n            at contadoresCastellano.Cambios.cambioPoema(Cambios.java:438)\r\n            at org.apache.jsp.poemaAdaptado_jsp._jspService(poemaAdaptado_jsp.java:189)\r\n            at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n            at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n            at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\t        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\t        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n\t        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n\t        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\r\n\t        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nMy guess is that the project isn&#39;t able to find the &#39;config/&#39; folder and therefore all its files. I&#39;ve tried to add the &#39;config/&#39; folder in the project build classpath (Build Path &gt; Source &gt; Add Folder) with no result. I also added all the jar files from the Build Path into the &#39;WEB-INF/lib&#39; folder, but that didn&#39;t change anything either.\r\n\r\n[Here you can take a look at my project structure, maybe it helps][1]\r\n\r\n  [1]: https://i.stack.imgur.com/v9uNN.jpg","title":"Define the parameter babelfy.key in babelfy.properties in the config folder","body":"<p>These past months I've been coding up a dynamic web project on Eclipse. The aim of the project is to create a web where users can enter a little poem to adapt it to the Easy to Read methodology (it eliminates all its abbreviations and contractions, and substitutes its complex words, among other things).</p>\n<p>To achieve this, most of my java files implement the Babelfy and the Babelnet libraries. In order for them to work, you need to add several jar files to the Build Path, copy the 'config' folder into your 'workspace/projectFolder/' and specify a valid key using the &quot;babelnet.key&quot; property in the config/babelnet.var.properties file, which I have already done.</p>\n<p>However, when I try to run the project on the server (I have installed the Apache Tomcat 10.0.13), I get the following exception:</p>\n<pre><code>Servlet.service() for servlet [jsp] in context with path [/SUPER_App] threw exception [An exception occurred while processing JSP page [AdaptedPoem.jsp] online [59]\n\n56:\n57: if(Contracciones.esContraccion(Sentence.convertirTexto(poemaOriginal)) || ContadorPalabras.nPalComplicada(poemaOriginal) &gt; 0 \n58:    || CaracteresEspeciales.esCaracterEspecial(Sentence.convertirTexto(poemaOriginal))) {\n59:         poemaParcial = Cambios.cambioPoema(poemaOriginal);\n60:         poemaFinal = poemaParcial;\n61:\n62:         if(solicitudIndiceFernandezHuerta.equals(&quot;1&quot;)) {\n\nStacktrace:] with root cause\njava.lang.IllegalArgumentException: Please define the parameter babelfy.key in babelfy.properties in the config folder.\n        at it.uniroma1.lcl.babelfy.commons.restful.RFPacket.&lt;init&gt;(RFPacket.java:35)\n        at it.uniroma1.lcl.babelfy.core.Babelfy.babelfy(Babelfy.java:56)\n        at contadoresCastellano.Cambios.sacarID(Cambios.java:1058)\n        at contadoresCastellano.Cambios.cambioPoema(Cambios.java:438)\n        at org.apache.jsp.poemaAdaptado_jsp._jspService(poemaAdaptado_jsp.java:189)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>My guess is that the project isn't able to find the 'config/' folder and therefore all its files. I've tried to add the 'config/' folder in the project build classpath (Build Path &gt; Source &gt; Add Folder) with no result. I also added all the jar files from the Build Path into the 'WEB-INF/lib' folder, but that didn't change anything either.</p>\n<p><a href=\"https://i.stack.imgur.com/v9uNN.jpg\" rel=\"nofollow noreferrer\">Here you can take a look at my project structure, maybe it helps</a></p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":1,"creation_date":1652709594,"post_id":72260283,"comment_id":127664764,"body_markdown":"You initializes the variables inside your method and not by parameter. You should change to `sum(int num1, int num2)` (analoguous for `sub`) - or name the variables as `parameter1` and `parameter2` as mentioned in the JavaDoc","body":"You initializes the variables inside your method and not by parameter. You should change to <code>sum(int num1, int num2)</code> (analoguous for <code>sub</code>) - or name the variables as <code>parameter1</code> and <code>parameter2</code> as mentioned in the JavaDoc"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1652714465,"post_id":72260283,"comment_id":127666762,"body_markdown":"Welcome to stackoverflow. You may confuse Javadoc with the actual program code. Java doc is the documentation of your code, explaining what it does, what its limits are, and how to use it. This is conveniently included in comments in your code, as opposed to e.g., a separate Word document. The javadoc tool can pull out these comments and turn them into a html documentation. Your code needs to take the arguments, writing them in the documentation does not help. Your IDE or the javadoc tool should warn you about mismatch in Javadoc and actual methods.","body":"Welcome to stackoverflow. You may confuse Javadoc with the actual program code. Java doc is the documentation of your code, explaining what it does, what its limits are, and how to use it. This is conveniently included in comments in your code, as opposed to e.g., a separate Word document. The javadoc tool can pull out these comments and turn them into a html documentation. Your code needs to take the arguments, writing them in the documentation does not help. Your IDE or the javadoc tool should warn you about mismatch in Javadoc and actual methods."}],"answers":[{"tags":[],"owner":{"account_id":23576301,"reputation":1,"user_id":17615922,"display_name":"PeW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652721350,"creation_date":1652721350,"answer_id":72263133,"question_id":72260283,"body_markdown":"I would like to thank everyone for any suggestions and ask that the publication be defined as resolved, because I got the answer I was looking for.\r\n \r\n```\r\n    /**\r\n     * This class represents an operation\r\n     * @author Pew\r\n     */\r\n\r\npublic class Operators {\r\n\r\n\r\n    /**\r\n     * This method performs the sum of the 2 variables\r\n     * @param num1 The first number to perform the sum\r\n     * @param num2 The second number to perform the sum\r\n     */\r\n    public void sum(int num1, int num2){\r\n        int sum = num1 + num2;\r\n        System.out.println(&quot;The result of the sum is: &quot; + sum);\r\n    }\r\n\r\n\r\n    /**\r\n     * This method performs the subtraction of the 2 variables\r\n     * @param num1 The first number to perform the subtraction\r\n     * @param num2 The second number to perform the subtraction\r\n     */\r\n    public void sub(int num1, int num2){\r\n        int sub = num1 - num2;\r\n        System.out.println(&quot;The result of the subtraction is: &quot; + sub);\r\n   }\r\n}\r\n\r\n\r\npublic class Start {\r\n    public static void main(String[] args) {\r\n\r\n        Operators start = new Operators();\r\n\r\n        start.sum(11,34);\r\n        start.sub(11,34);\r\n  }\r\n}\r\n```","title":"Insert the javaDoc parameters and print them","body":"<p>I would like to thank everyone for any suggestions and ask that the publication be defined as resolved, because I got the answer I was looking for.</p>\n<pre><code>    /**\n     * This class represents an operation\n     * @author Pew\n     */\n\npublic class Operators {\n\n\n    /**\n     * This method performs the sum of the 2 variables\n     * @param num1 The first number to perform the sum\n     * @param num2 The second number to perform the sum\n     */\n    public void sum(int num1, int num2){\n        int sum = num1 + num2;\n        System.out.println(&quot;The result of the sum is: &quot; + sum);\n    }\n\n\n    /**\n     * This method performs the subtraction of the 2 variables\n     * @param num1 The first number to perform the subtraction\n     * @param num2 The second number to perform the subtraction\n     */\n    public void sub(int num1, int num2){\n        int sub = num1 - num2;\n        System.out.println(&quot;The result of the subtraction is: &quot; + sub);\n   }\n}\n\n\npublic class Start {\n    public static void main(String[] args) {\n\n        Operators start = new Operators();\n\n        start.sum(11,34);\n        start.sub(11,34);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23576301,"reputation":1,"user_id":17615922,"display_name":"PeW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652721350,"creation_date":1652708901,"question_id":72260283,"body_markdown":"I have a problem that is probably simple, but if I&#39;m starting to program in java language, I&#39;m having great difficulty in this part.\r\n\r\nIn the java document (JavaDoc) I want to pass the 2 parameters (@param) of the 2 methods and print the result of the operation in output. I&#39;ve tried several ways, but still not succeeding.\r\n\r\nBut I have another main class called (Start), in this I want to call the (Operators) class, call the methods and print them.\r\n\r\n```\r\n* This class represents an operation\r\n * @author Pew\r\n */\r\npublic class Operators {\r\n\r\n\r\n    /**\r\n     * This method performs the sum of the 2 variables\r\n     *@param parameter1\r\n     *@param parameter2\r\n     */\r\n    public void sum(){\r\n        int num1 = 27, num2 = 74, sumInt;\r\n        sumInt = num1 + num2;\r\n        System.out.println(&quot;The sum result is: &quot; + sumInt);\r\n    }\r\n\r\n\r\n    /**\r\n     * This method performs the subtraction of the 2 variables\r\n     *@param parameter1\r\n     *@param parameter2\r\n     */\r\n    public void sub(){\r\n        int num1 = 27, num2 = 74, subInt;\r\n        subInt = num1 + num2;\r\n        System.out.println(&quot;The result of the subtraction is: &quot; + subInt);\r\n    }\r\n```","title":"Insert the javaDoc parameters and print them","body":"<p>I have a problem that is probably simple, but if I'm starting to program in java language, I'm having great difficulty in this part.</p>\n<p>In the java document (JavaDoc) I want to pass the 2 parameters (@param) of the 2 methods and print the result of the operation in output. I've tried several ways, but still not succeeding.</p>\n<p>But I have another main class called (Start), in this I want to call the (Operators) class, call the methods and print them.</p>\n<pre><code>* This class represents an operation\n * @author Pew\n */\npublic class Operators {\n\n\n    /**\n     * This method performs the sum of the 2 variables\n     *@param parameter1\n     *@param parameter2\n     */\n    public void sum(){\n        int num1 = 27, num2 = 74, sumInt;\n        sumInt = num1 + num2;\n        System.out.println(&quot;The sum result is: &quot; + sumInt);\n    }\n\n\n    /**\n     * This method performs the subtraction of the 2 variables\n     *@param parameter1\n     *@param parameter2\n     */\n    public void sub(){\n        int num1 = 27, num2 = 74, subInt;\n        subInt = num1 + num2;\n        System.out.println(&quot;The result of the subtraction is: &quot; + subInt);\n    }\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1652719050,"post_id":72262603,"comment_id":127668456,"body_markdown":"What is `int CBSE(int 10)` supposed to be? That aside: I&#39;m not 100* sure I understand the question--the `if` statement is `x &lt; 100` meaning the associated statement will run if `x` is less than `100`. I *suspect* your confusion is recursion, not `if`.","body":"What is <code>int CBSE(int 10)</code> supposed to be? That aside: I&#39;m not 100* sure I understand the question--the <code>if</code> statement is <code>x &lt; 100</code> meaning the associated statement will run if <code>x</code> is less than <code>100</code>. I <i>suspect</i> your confusion is recursion, not <code>if</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1652719092,"post_id":72262603,"comment_id":127668474,"body_markdown":"To that end: play computer w/ pen and paper. Plug in a value. Write down the steps the code is taking and what `CBSE` returns, and *when* that value is returned.","body":"To that end: play computer w/ pen and paper. Plug in a value. Write down the steps the code is taking and what <code>CBSE</code> returns, and <i>when</i> that value is returned."},{"owner":{"account_id":14423570,"reputation":33,"user_id":10418987,"display_name":"Rinku Moni Khanikar"},"score":1,"creation_date":1652719571,"post_id":72262603,"comment_id":127668619,"body_markdown":"@DaveNewton please check the question again, I have corrected it","body":"@DaveNewton please check the question again, I have corrected it"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1652721686,"post_id":72262603,"comment_id":127669324,"body_markdown":"The question is the same except now there&#39;s a giant picture. `if (x &lt; 100)` it will set `x` to the result of calling `CBSE` (recursion) until `CBSE` is entered with x &gt;= 100. Unless you step through the code, or play computer w/ pen and paper, or drop logging statements on entry to `CBSE`, in the `if` condition`, and immediately prior to return, it won&#39;t &quot;click&quot;. This is the nature of recursion. (It&#39;s also handy to include an indentation level to show &quot;where you are&quot; in the recursion, and it&#39;s often easier to just trace the execution on paper.)","body":"The question is the same except now there&#39;s a giant picture. <code>if (x &lt; 100)</code> it will set <code>x</code> to the result of calling <code>CBSE</code> (recursion) until <code>CBSE</code> is entered with x &gt;= 100. Unless you step through the code, or play computer w/ pen and paper, or drop logging statements on entry to <code>CBSE</code>, in the <code>if</code> condition`, and immediately prior to return, it won&#39;t &quot;click&quot;. This is the nature of recursion. (It&#39;s also handy to include an indentation level to show &quot;where you are&quot; in the recursion, and it&#39;s often easier to just trace the execution on paper.)"}],"answers":[{"tags":[],"owner":{"account_id":438445,"reputation":382,"user_id":826719,"display_name":"jeanlou1370"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652719234,"creation_date":1652719234,"answer_id":72262691,"question_id":72262603,"body_markdown":"Assuming the 10 on the second line is x\r\n```\r\nCBSE(60)\r\n=CBSE(70)-1\r\n=CBSE(80)-1-1\r\n=CBSE(90)-1-1-1\r\n=CBSE(100)-1-1-1-1\r\n=99-1-1-1-1\r\n=95\r\n``` ","title":"Unable to understand how the program is being executed","body":"<p>Assuming the 10 on the second line is x</p>\n<pre><code>CBSE(60)\n=CBSE(70)-1\n=CBSE(80)-1-1\n=CBSE(90)-1-1-1\n=CBSE(100)-1-1-1-1\n=99-1-1-1-1\n=95\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15261439,"reputation":113,"user_id":11011330,"display_name":"Abdelmoughit Gardam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652720077,"creation_date":1652720077,"answer_id":72262879,"question_id":72262603,"body_markdown":"CBSE(60) -&gt;\r\n\r\n                 60&lt;100 so, x=CBSE(70)\r\n\r\n                       ...................................80\r\n\r\n                                           ............................................90\r\n\r\n                                                  ......................................................100    \r\n\r\n                                                                                     100  is not &lt; 100  SO CBSE(100) Returns 100-1=99\r\n\r\n            cbse(90) returns 98\r\n\r\n      cbse(80) returns 97\r\n\r\n   cbse(70)returns 96\r\n\r\ncbse(60) returns 95\r\n\r\n \r\n\r\ntherefore the final result is 95","title":"Unable to understand how the program is being executed","body":"<p>CBSE(60) -&gt;</p>\n<pre><code>             60&lt;100 so, x=CBSE(70)\n\n                   ...................................80\n\n                                       ............................................90\n\n                                              ......................................................100    \n\n                                                                                 100  is not &lt; 100  SO CBSE(100) Returns 100-1=99\n\n        cbse(90) returns 98\n\n  cbse(80) returns 97\n</code></pre>\n<p>cbse(70)returns 96</p>\n<p>cbse(60) returns 95</p>\n<p>therefore the final result is 95</p>\n"},{"tags":[],"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652721269,"creation_date":1652721269,"answer_id":72263117,"question_id":72262603,"body_markdown":"You use a recursive function.   \r\nAny new call is stacked while x&lt;100.      \r\nIf you put trace inside BSE function you will see : \r\n``` \r\nentering CBSE with 60\r\nentering CBSE with 70\r\nentering CBSE with 80\r\nentering CBSE with 90\r\nentering CBSE with 100\r\nexiting CBS with 99\r\nexiting CBS with 98\r\nexiting CBS with 97\r\nexiting CBS with 96\r\nexiting CBS with 95\r\n95\r\n```","title":"Unable to understand how the program is being executed","body":"<p>You use a recursive function.<br />\nAny new call is stacked while x&lt;100.<br />\nIf you put trace inside BSE function you will see :</p>\n<pre><code>entering CBSE with 60\nentering CBSE with 70\nentering CBSE with 80\nentering CBSE with 90\nentering CBSE with 100\nexiting CBS with 99\nexiting CBS with 98\nexiting CBS with 97\nexiting CBS with 96\nexiting CBS with 95\n95\n</code></pre>\n"}],"owner":{"account_id":14423570,"reputation":33,"user_id":10418987,"display_name":"Rinku Moni Khanikar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1652721269,"creation_date":1652718830,"question_id":72262603,"body_markdown":"[![enter image description here][1]][1]I saw an question paper of NET examination and found the following java question\r\n\r\n    public class First {\r\n\r\n      public static int CBSE(int x) {\r\n        if (x &lt; 100) x = CBSE(x + 10);\r\n        return (x - 1);\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        System.out.print(First.CBSE(60));\r\n      }\r\n    }\r\n\r\nI am unable to understand the if condition. I ran the program on my machine and it returns 95 without any error. Can anyone please demonstrate how the program is executed? \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ABTAp.jpg","title":"Unable to understand how the program is being executed","body":"<p><a href=\"https://i.stack.imgur.com/ABTAp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABTAp.jpg\" alt=\"enter image description here\" /></a>I saw an question paper of NET examination and found the following java question</p>\n<pre><code>public class First {\n\n  public static int CBSE(int x) {\n    if (x &lt; 100) x = CBSE(x + 10);\n    return (x - 1);\n  }\n\n  public static void main(String[] args) {\n    System.out.print(First.CBSE(60));\n  }\n}\n</code></pre>\n<p>I am unable to understand the if condition. I ran the program on my machine and it returns 95 without any error. Can anyone please demonstrate how the program is executed?</p>\n"},{"tags":["java","generics","wildcard","extends"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1651925234,"post_id":72152252,"comment_id":127483743,"body_markdown":"&quot;so How we can make such argument that holds object which extends Myclass?&quot; You can&#39;t. Why do you think you can?","body":"&quot;so How we can make such argument that holds object which extends Myclass?&quot; You can&#39;t. Why do you think you can?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1651925254,"post_id":72152252,"comment_id":127483750,"body_markdown":"Does this answer your question? [When do Java generics require &lt;? extends T&gt; instead of &lt;T&gt; and is there any downside of switching?](https://stackoverflow.com/questions/897935/when-do-java-generics-require-extends-t-instead-of-t-and-is-there-any-down)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/897935/when-do-java-generics-require-extends-t-instead-of-t-and-is-there-any-down\">When do Java generics require &lt;? extends T&gt; instead of &lt;T&gt; and is there any downside of switching?</a>"}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652720689,"creation_date":1652720689,"answer_id":72262993,"question_id":72152252,"body_markdown":"There is no problem with the line `GenericCheck.method(al);`. You can pass an `ArrayList&lt;Myclass&gt;` to a parameter of type `ArrayList&lt;? extends Myclass&gt;`. There is no problem there.\r\n\r\nThe problem is with the line `al.add(new Myclass());` inside the `method()` method. `a1` is an `ArrayList&lt;? extends Myclass&gt;`, which is an ArrayList of *unknown type argument*. You cannot assume anything about the type argument, except that it is `Myclass` or a subtype of `Myclass`. If it is a subclass of `Myclass`, then adding `new Myclass()` (a `Myclass` instance) to it is not allowed. Basically, you cannot guarantee that `Myclass` is assignable to the *unknown type*, so you cannot pass it.\r\n\r\nMore generally, you can think of it through the PECS (Producer `extends`, Consumer `super`) idiom. If you use an `extends` wildcard, the ArrayList can only be used as a &quot;producer&quot; inside the `method()` method -- you can only get things out of it, and you can never add anything to it (except `null`). If the parameter had a `super` wildcard instead (e.g. `public static void method (ArrayList&lt;? super Myclass&gt; al)`), you *would* be able to add `Myclass` to it, though you would only be able to get things out as `Object`. It is rarely useful to use `super` wildcards on ArrayList. You probably want no wildcard instead, i.e. `public static void method (ArrayList&lt;Myclass&gt; al)`.","title":"incompatible types: Myclass cannot be converted to CAP#1 where CAP#1 is a fresh type-variable:CAP#1 extends Myclass from capture of ? extends Myclass","body":"<p>There is no problem with the line <code>GenericCheck.method(al);</code>. You can pass an <code>ArrayList&lt;Myclass&gt;</code> to a parameter of type <code>ArrayList&lt;? extends Myclass&gt;</code>. There is no problem there.</p>\n<p>The problem is with the line <code>al.add(new Myclass());</code> inside the <code>method()</code> method. <code>a1</code> is an <code>ArrayList&lt;? extends Myclass&gt;</code>, which is an ArrayList of <em>unknown type argument</em>. You cannot assume anything about the type argument, except that it is <code>Myclass</code> or a subtype of <code>Myclass</code>. If it is a subclass of <code>Myclass</code>, then adding <code>new Myclass()</code> (a <code>Myclass</code> instance) to it is not allowed. Basically, you cannot guarantee that <code>Myclass</code> is assignable to the <em>unknown type</em>, so you cannot pass it.</p>\n<p>More generally, you can think of it through the PECS (Producer <code>extends</code>, Consumer <code>super</code>) idiom. If you use an <code>extends</code> wildcard, the ArrayList can only be used as a &quot;producer&quot; inside the <code>method()</code> method -- you can only get things out of it, and you can never add anything to it (except <code>null</code>). If the parameter had a <code>super</code> wildcard instead (e.g. <code>public static void method (ArrayList&lt;? super Myclass&gt; al)</code>), you <em>would</em> be able to add <code>Myclass</code> to it, though you would only be able to get things out as <code>Object</code>. It is rarely useful to use <code>super</code> wildcards on ArrayList. You probably want no wildcard instead, i.e. <code>public static void method (ArrayList&lt;Myclass&gt; al)</code>.</p>\n"}],"owner":{"account_id":23451707,"reputation":1,"user_id":17507776,"display_name":"Malav Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652720689,"creation_date":1651924656,"question_id":72152252,"body_markdown":"\r\nIn code I created user defined class Myclass and Myclass2 which extends Myclass and then used in ArrayList&lt;? extends Myclass&gt; as a arguments that means now we can pass ArrayList of Myclass and the class which extends Myclass  but it is not working it comes up with incompatible types: Myclass cannot be converted to CAP#1 where CAP#1 is a fresh type-variable:CAP#1 extends Myclass from capture of ? extends Myclass \r\n\r\nso How we can make such argument that holds object which extends Myclass?\r\n   \r\n    class Myclass{\r\n    \r\n    }\r\n    \r\n    class Myclass2 extends Myclass{\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public class GenericCheck{\r\n    \r\n    public static void method (ArrayList&lt;? extends Myclass&gt; al){\r\n    al.add(new Myclass());\r\n    \r\n    }\r\n    \r\n    public static void main(String args[]){\r\n    \r\n       ArrayList&lt;Myclass&gt; al = new ArrayList();\r\n    \r\n       GenericCheck.method(al);\r\n    \r\n    }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"incompatible types: Myclass cannot be converted to CAP#1 where CAP#1 is a fresh type-variable:CAP#1 extends Myclass from capture of ? extends Myclass","body":"<p>In code I created user defined class Myclass and Myclass2 which extends Myclass and then used in ArrayList&lt;? extends Myclass&gt; as a arguments that means now we can pass ArrayList of Myclass and the class which extends Myclass  but it is not working it comes up with incompatible types: Myclass cannot be converted to CAP#1 where CAP#1 is a fresh type-variable:CAP#1 extends Myclass from capture of ? extends Myclass</p>\n<p>so How we can make such argument that holds object which extends Myclass?</p>\n<pre><code>class Myclass{\n\n}\n\nclass Myclass2 extends Myclass{\n\n}\n\n\n\n\n\npublic class GenericCheck{\n\npublic static void method (ArrayList&lt;? extends Myclass&gt; al){\nal.add(new Myclass());\n\n}\n\npublic static void main(String args[]){\n\n   ArrayList&lt;Myclass&gt; al = new ArrayList();\n\n   GenericCheck.method(al);\n\n}\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15416464,"reputation":11,"user_id":11121785,"display_name":"Recai Furfur"},"score":0,"creation_date":1652719852,"post_id":72262708,"comment_id":127668699,"body_markdown":"if a number is generated i want to generate a new one. i dont want to generate same numbers.","body":"if a number is generated i want to generate a new one. i dont want to generate same numbers."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1652719974,"post_id":72262708,"comment_id":127668737,"body_markdown":"so basically there is something wrong with collision of numbers. if the index already has a number you want to generate another number.","body":"so basically there is something wrong with collision of numbers. if the index already has a number you want to generate another number."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652720048,"post_id":72262708,"comment_id":127668763,"body_markdown":"You need to put the numders 0-4 into a collection then shuffle it","body":"You need to put the numders 0-4 into a collection then shuffle it"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1652720069,"post_id":72262708,"comment_id":127668768,"body_markdown":"but basically your recursion does not reassign the value of r, so it will always remain at the original value of r","body":"but basically your recursion does not reassign the value of r, so it will always remain at the original value of r"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1652722167,"post_id":72262708,"comment_id":127669522,"body_markdown":"calling `genereaterandom` recursively but **not** using its returned value does not help - and can easily end up in a never ending or very long call chain - There are better solutions on this site for generating random numbers without repetition, for example search: [`[java] random no repetition`](https://stackoverflow.com/search?q=%5Bjava%5D+random+no+repetition)","body":"calling <code>genereaterandom</code> recursively but <b>not</b> using its returned value does not help - and can easily end up in a never ending or very long call chain - There are better solutions on this site for generating random numbers without repetition, for example search: <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+random+no+repetition\"><code>[java] random no repetition</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652720462,"creation_date":1652720462,"answer_id":72262948,"question_id":72262708,"body_markdown":"When you recurse, you calculate a new r which is returned .ok.   \r\nBut you don&#39;t use it within the caller.   \r\nSo you always return the r of the very first step.    \r\nTry   \r\n```\r\nif (generated[r]) r = generaterandom();\r\n        return r;\r\n```\r\n","title":"Random numbers once a time","body":"<p>When you recurse, you calculate a new r which is returned .ok.<br />\nBut you don't use it within the caller.<br />\nSo you always return the r of the very first step.<br />\nTry</p>\n<pre><code>if (generated[r]) r = generaterandom();\n        return r;\n</code></pre>\n"}],"owner":{"account_id":15416464,"reputation":11,"user_id":11121785,"display_name":"Recai Furfur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72262948,"answer_count":1,"score":0,"last_activity_date":1652720462,"creation_date":1652719284,"question_id":72262708,"body_markdown":"i want to random numbers only at once. i searched to get this and learned there is shuffle function. it is ok but i wonder what is wrong here. this code doesn&#39;t work it generates same numbers. \r\n\r\n    public class panel {\r\n        boolean[] generated = new boolean[5];\r\n        int[] grid = new int[5];\r\n\r\n        panel() {\r\n            for (int i = 0; i &lt; 5 i++) {\r\n                int x = generaterandom();\r\n                generated[x] = true;\r\n                grid[i] = x;\r\n                System.out.println(grid[i]);\r\n    \r\n            }\r\n        }\r\n\r\n        public int generaterandom() {\r\n            int r = random.nextInt(5);\r\n            if (generated[r]) generaterandom();\r\n            return r;\r\n        }\r\n    }","title":"Random numbers once a time","body":"<p>i want to random numbers only at once. i searched to get this and learned there is shuffle function. it is ok but i wonder what is wrong here. this code doesn't work it generates same numbers.</p>\n<pre><code>public class panel {\n    boolean[] generated = new boolean[5];\n    int[] grid = new int[5];\n\n    panel() {\n        for (int i = 0; i &lt; 5 i++) {\n            int x = generaterandom();\n            generated[x] = true;\n            grid[i] = x;\n            System.out.println(grid[i]);\n\n        }\n    }\n\n    public int generaterandom() {\n        int r = random.nextInt(5);\n        if (generated[r]) generaterandom();\n        return r;\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime","timezone","zoneddatetime","zoneid"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1650265347,"post_id":71908054,"comment_id":127067386,"body_markdown":"What did you want for EST? Australian or North American Eastern Standard Time? With or without respecting daylight saving time? For the others they seem to consist of more time zones each, possibly only in order to treat historic data correctly.","body":"What did you want for EST? Australian or North American Eastern Standard Time? With or without respecting daylight saving time? For the others they seem to consist of more time zones each, possibly only in order to treat historic data correctly."}],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652720101,"creation_date":1650261801,"answer_id":71908110,"question_id":71908054,"body_markdown":"You should specify cities not countries (most of them are cities), for example which city of **Argentina**?\r\n\r\n    America/Argentina/Buenos_Aires\r\n    America/Argentina/Catamarca\r\n    America/Argentina/ComodRivadavia\r\n    America/Argentina/...\r\n\r\n&lt;strike&gt;A list of valid Java timezones can be found here (***refer to the comments for better reference***):\r\n&lt;br /&gt;\r\n*https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/*&lt;/strike&gt;\r\n&lt;hr /&gt;\r\n\r\n**UPDATE:**\r\n\r\nIn order to get all available zone ids:\r\n\r\n    Set&lt;String&gt; zoneIds = ZoneId.getAvailableZoneIds();\r\n    System.out.println(&quot;Available Zone Ids: \\n&quot; + String.join(&quot;\\n&quot;, zoneIds));","title":"how to manage the timezone which are not directly supported in java","body":"<p>You should specify cities not countries (most of them are cities), for example which city of <strong>Argentina</strong>?</p>\n<pre><code>America/Argentina/Buenos_Aires\nAmerica/Argentina/Catamarca\nAmerica/Argentina/ComodRivadavia\nAmerica/Argentina/...\n</code></pre>\n<p><strike>A list of valid Java timezones can be found here (<em><strong>refer to the comments for better reference</strong></em>):\n<br />\n<em><a href=\"https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/\" rel=\"nofollow noreferrer\">https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/</a></em></strike></p>\n<hr />\n<p><strong>UPDATE:</strong></p>\n<p>In order to get all available zone ids:</p>\n<pre><code>Set&lt;String&gt; zoneIds = ZoneId.getAvailableZoneIds();\nSystem.out.println(&quot;Available Zone Ids: \\n&quot; + String.join(&quot;\\n&quot;, zoneIds));\n</code></pre>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71908110,"answer_count":1,"score":2,"last_activity_date":1652720101,"creation_date":1650261340,"question_id":71908054,"body_markdown":"we are getting the ZoneId object by passing the id string -&gt; `ZoneId.of(&quot;US/Alaska&quot;)`\r\n\r\nWhile getting the timezone ids from java after passing the location name, we get error that `&quot;Exception in thread &quot;main&quot; java.time.zone.ZoneRulesException: Unknown time-zone ID: EST&quot;`\r\n\r\n\r\n\r\nWe get this exception for multiple location like -&gt; `EST, America/Argentina, America/Indiana, America/Kentucky, America/North_Dakota`\r\n\r\nWhat is the best way to handle such cases? is it good idea to get the ZoneId object by passing location Id?\r\n","title":"how to manage the timezone which are not directly supported in java","body":"<p>we are getting the ZoneId object by passing the id string -&gt; <code>ZoneId.of(&quot;US/Alaska&quot;)</code></p>\n<p>While getting the timezone ids from java after passing the location name, we get error that <code>&quot;Exception in thread &quot;main&quot; java.time.zone.ZoneRulesException: Unknown time-zone ID: EST&quot;</code></p>\n<p>We get this exception for multiple location like -&gt; <code>EST, America/Argentina, America/Indiana, America/Kentucky, America/North_Dakota</code></p>\n<p>What is the best way to handle such cases? is it good idea to get the ZoneId object by passing location Id?</p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":3931863,"reputation":511,"user_id":3250023,"accept_rate":73,"display_name":"JRad the Bad"},"score":0,"creation_date":1394119938,"post_id":22208961,"comment_id":33752679,"body_markdown":"I&#39;ve tried a number of things so far but to no avail. I&#39;ve tried adjusting the weight of the button to 0.0f (Someone said that lower weight views have more priority on the screen.), I cant&#39; &quot;Align Parent Bottom&quot; since it&#39;s a Linear Layout and not Relative. I&#39;m still very confused as to why this is happening and any help would be greatly appreciated.","body":"I&#39;ve tried a number of things so far but to no avail. I&#39;ve tried adjusting the weight of the button to 0.0f (Someone said that lower weight views have more priority on the screen.), I cant&#39; &quot;Align Parent Bottom&quot; since it&#39;s a Linear Layout and not Relative. I&#39;m still very confused as to why this is happening and any help would be greatly appreciated."},{"owner":{"account_id":176525,"reputation":809,"user_id":407277,"accept_rate":89,"display_name":"retromuz"},"score":0,"creation_date":1394127491,"post_id":22208961,"comment_id":33758280,"body_markdown":"Why don&#39;t you try to set a simple XML based layout for the dialog using setContentView method?","body":"Why don&#39;t you try to set a simple XML based layout for the dialog using setContentView method?"},{"owner":{"account_id":3931863,"reputation":511,"user_id":3250023,"accept_rate":73,"display_name":"JRad the Bad"},"score":0,"creation_date":1394127585,"post_id":22208961,"comment_id":33758344,"body_markdown":"Because the content is dynamic. I don&#39;t know what will be in the dialog box until the program calls it.","body":"Because the content is dynamic. I don&#39;t know what will be in the dialog box until the program calls it."},{"owner":{"account_id":176525,"reputation":809,"user_id":407277,"accept_rate":89,"display_name":"retromuz"},"score":0,"creation_date":1394127794,"post_id":22208961,"comment_id":33758492,"body_markdown":"Did you know that dynamic content is possible with ArrayAdapters with a ListView or a AdapterView inside an XML based layout?","body":"Did you know that dynamic content is possible with ArrayAdapters with a ListView or a AdapterView inside an XML based layout?"},{"owner":{"account_id":3931863,"reputation":511,"user_id":3250023,"accept_rate":73,"display_name":"JRad the Bad"},"score":0,"creation_date":1394128074,"post_id":22208961,"comment_id":33758674,"body_markdown":"I&#39;m a hard-coder. I understand the flow and dynamics of my program much better when the layout and content is generated from the code. Using the XML layout files is fine for me on static views but coming from a PHP background, I&#39;m much more comfortable with the java side of view creation. Since using an XML layout for this will NOT fix the problem, please don&#39;t push that as a solution. It isn&#39;t one. If you notice, I&#39;m already using the setContentView method. Thank you.","body":"I&#39;m a hard-coder. I understand the flow and dynamics of my program much better when the layout and content is generated from the code. Using the XML layout files is fine for me on static views but coming from a PHP background, I&#39;m much more comfortable with the java side of view creation. Since using an XML layout for this will NOT fix the problem, please don&#39;t push that as a solution. It isn&#39;t one. If you notice, I&#39;m already using the setContentView method. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394121340,"creation_date":1394121340,"answer_id":22229504,"question_id":22208961,"body_markdown":"Make dialogLayout a RelativeLayout, and then declare buttonParams as a RelativeLayout.LayoutParams (layout params are declared according the parent viewgroup type, which for buyButton is now a RelativeLayout).  Your also going to need to declare a RelativeLayout.LayoutParams for scrollView.\r\n\r\n**note:** This code is in c#/monodroid, not raw java/android, so some quick porting of some of the methods and constants may need to be required, but shouldn&#39;t be too time consuming. \r\n\r\nIf this doesn&#39;t work out exactly trying experimenting with other combinations of the RelativeLayout position rules and/or gravity. Let me know if it doesn&#39;t work out.\r\n\r\n    RelativeLayout.LayoutParams scrollParams = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, some_height);\r\n    \r\n    RelativeLayout.LayoutParams buttonParams = new RelativeLayout.LayoutParams(LayoutParams.MATCH_PARENT, 100);\r\n\r\nThen, add these statements to control where scrollView and buyButton are positioned\r\n\r\n    scrollParams.AddRule(LayoutRules.AlignParentLeft);\r\n    scrollParams.AddRule(LayoutRules.AlignParentTop);\r\n\r\n    buttonParams.AddRule(LayoutRules.Below, scrollView.Id);\r\n\r\nThe for the getting the button on the bottom of the screen, try one of two things\r\n\r\n    buttonParams.AddRule(LayoutRules.AlignParentBottom);\r\n\r\nor\r\n\r\n    buyButton.Gravity = Gravity.BOTTOM\r\n ","title":"Issue with Button in AlertDialog (Floating off screen)","body":"<p>Make dialogLayout a RelativeLayout, and then declare buttonParams as a RelativeLayout.LayoutParams (layout params are declared according the parent viewgroup type, which for buyButton is now a RelativeLayout).  Your also going to need to declare a RelativeLayout.LayoutParams for scrollView.</p>\n\n<p><strong>note:</strong> This code is in c#/monodroid, not raw java/android, so some quick porting of some of the methods and constants may need to be required, but shouldn't be too time consuming. </p>\n\n<p>If this doesn't work out exactly trying experimenting with other combinations of the RelativeLayout position rules and/or gravity. Let me know if it doesn't work out.</p>\n\n<pre><code>RelativeLayout.LayoutParams scrollParams = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, some_height);\n\nRelativeLayout.LayoutParams buttonParams = new RelativeLayout.LayoutParams(LayoutParams.MATCH_PARENT, 100);\n</code></pre>\n\n<p>Then, add these statements to control where scrollView and buyButton are positioned</p>\n\n<pre><code>scrollParams.AddRule(LayoutRules.AlignParentLeft);\nscrollParams.AddRule(LayoutRules.AlignParentTop);\n\nbuttonParams.AddRule(LayoutRules.Below, scrollView.Id);\n</code></pre>\n\n<p>The for the getting the button on the bottom of the screen, try one of two things</p>\n\n<pre><code>buttonParams.AddRule(LayoutRules.AlignParentBottom);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>buyButton.Gravity = Gravity.BOTTOM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394123720,"creation_date":1394123002,"answer_id":22230148,"question_id":22208961,"body_markdown":"Try explicitly setting a fixed height to the scrollView\r\n\r\n    scrollView.LayoutParameters.Height = HEIGHT;\r\n\r\nI think it defaults to WRAP_CONTENT if not specified, and is why its scaling.\r\n\r\nYou may have to set it in a layout file if you cant from code\r\n\r\n    &lt;ScrollView\r\n      android:id=&quot;@+id/scroll_view_1\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;100&quot;/&gt;\r\n\r\nand then change\r\n\r\n    ScrollView scrollView = new ScrollView(context);\r\n\r\nto\r\n\r\n    ScrollView scrollView = findViewById(R.Id.scroll_view_1, this);","title":"Issue with Button in AlertDialog (Floating off screen)","body":"<p>Try explicitly setting a fixed height to the scrollView</p>\n\n<pre><code>scrollView.LayoutParameters.Height = HEIGHT;\n</code></pre>\n\n<p>I think it defaults to WRAP_CONTENT if not specified, and is why its scaling.</p>\n\n<p>You may have to set it in a layout file if you cant from code</p>\n\n<pre><code>&lt;ScrollView\n  android:id=\"@+id/scroll_view_1\n  android:layout_width=\"wrap_content\"\n  android:layout_height=\"100\"/&gt;\n</code></pre>\n\n<p>and then change</p>\n\n<pre><code>ScrollView scrollView = new ScrollView(context);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>ScrollView scrollView = findViewById(R.Id.scroll_view_1, this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394132449,"creation_date":1394127142,"answer_id":22231791,"question_id":22208961,"body_markdown":"Try wrapping the scrollView in another LinearLayout, and set this new layout&#39;s height to a fixed width that keeps the button low enough to your liking. You can actually replace the Scrollview with a ListView, but don&#39;t do this until after at least trying to get this fix working first. ListViews scroll, but you&#39;d still face this problem without this fix.\r\n\r\n-------------\r\n\r\nTo fix the new issue you mentioned below (with some quick and dirty code, you should use trial and error to fix it correctly), try the following \r\n    \r\n    //each hotel stock options\r\n    for (int i = 0; i &lt; hotels.size(); i++) \r\n    {\r\n       // ...\r\n    }\r\n\r\n    if( hotels.size() &lt; numberOfItemsNeededForCorrectView )\r\n    {\r\n       for( int i=0; i &lt; numberOfItemsNeededForCorrectView - hotels.size(); i++ )\r\n       {\r\n            View blankView = new View(context);\r\n            LinearLayout.LayoutParams viewParams = new LinearLayout.LayoutParams(1, 100);\r\n\r\n            blankView.setLayoutParams(viewParams);\r\n            blankView.setViewState(ViewState.INVISIBLE);\r\n            dialogContainer.addView(stockPicker);\r\n       }\r\n    }\r\n\r\nYou can try replacing your scrollView with a list view still and see if that fixes things.  You can also try tweaking layout and gravity settings until you get it, or trying introducing other layouts or reorganizing your layouts (or using RelativeLayout, its really not that bad).\r\n","title":"Issue with Button in AlertDialog (Floating off screen)","body":"<p>Try wrapping the scrollView in another LinearLayout, and set this new layout's height to a fixed width that keeps the button low enough to your liking. You can actually replace the Scrollview with a ListView, but don't do this until after at least trying to get this fix working first. ListViews scroll, but you'd still face this problem without this fix.</p>\n\n<hr>\n\n<p>To fix the new issue you mentioned below (with some quick and dirty code, you should use trial and error to fix it correctly), try the following </p>\n\n<pre><code>//each hotel stock options\nfor (int i = 0; i &lt; hotels.size(); i++) \n{\n   // ...\n}\n\nif( hotels.size() &lt; numberOfItemsNeededForCorrectView )\n{\n   for( int i=0; i &lt; numberOfItemsNeededForCorrectView - hotels.size(); i++ )\n   {\n        View blankView = new View(context);\n        LinearLayout.LayoutParams viewParams = new LinearLayout.LayoutParams(1, 100);\n\n        blankView.setLayoutParams(viewParams);\n        blankView.setViewState(ViewState.INVISIBLE);\n        dialogContainer.addView(stockPicker);\n   }\n}\n</code></pre>\n\n<p>You can try replacing your scrollView with a list view still and see if that fixes things.  You can also try tweaking layout and gravity settings until you get it, or trying introducing other layouts or reorganizing your layouts (or using RelativeLayout, its really not that bad).</p>\n"},{"tags":[],"owner":{"account_id":18758772,"reputation":1,"user_id":13678173,"display_name":"ХолодТема"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652719183,"creation_date":1652719183,"answer_id":72262683,"question_id":22208961,"body_markdown":"So, now in 2022 I&#39;ve also had this problem. I&#39;ve just set fixed size for ScrollView in fragment layout xml-file. When you have this problem, you can set, for example, 150dp or 200dp and be happy! And for more convenience, you can create special layout for landscape screen orientation and set fixed layout_height size there. I&#39;m really confused that there&#39;s no information about this problem besides this page on the Internet.\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;&gt;\r\n        &lt;!--your view into scrollView here--&gt;\r\n    &lt;/ScrollView&gt;","title":"Issue with Button in AlertDialog (Floating off screen)","body":"<p>So, now in 2022 I've also had this problem. I've just set fixed size for ScrollView in fragment layout xml-file. When you have this problem, you can set, for example, 150dp or 200dp and be happy! And for more convenience, you can create special layout for landscape screen orientation and set fixed layout_height size there. I'm really confused that there's no information about this problem besides this page on the Internet.</p>\n<pre><code>&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;&gt;\n    &lt;!--your view into scrollView here--&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":3931863,"reputation":511,"user_id":3250023,"accept_rate":73,"display_name":"JRad the Bad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1652719183,"creation_date":1394052774,"question_id":22208961,"body_markdown":"Here&#39;s an image of what my issue looks like:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LcFM4.png\r\n\r\nThat box at the bottom is the top half of a button. Whenever I&#39;ve got too many Stock Options in the dialog box, it first forces the button off screen, THEN it scrolls.\r\nI want the button fixed at the bottom of the dialog and then have the scrolling happen. \r\n\r\nHere&#39;s the code:\r\n\r\n    public void buyStock(View view){\r\n\t\tContext context = getApplicationContext();\r\n\t\t\r\n\t\t//create ScrollView to hold everything\r\n\t\tScrollView scrollView = new ScrollView(context);\r\n\t\t\r\n\t\t//generate content for dialog\t\t\r\n\t\tLinearLayout dialogContainer = new LinearLayout(context);\r\n\t\tdialogContainer.setOrientation(LinearLayout.VERTICAL);\r\n\t\tLinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, 400, 1);\r\n\t\tdialogContainer.setLayoutParams(params);\r\n\t\tdialogContainer.setPadding(15, 15, 0, 15);\r\n\t\tdialogContainer.setBackgroundColor(Color.WHITE);\r\n\t\t\r\n\t\t//each hotel stock options\r\n\t\tfor (int i = 0; i &lt; hotels.size(); i++) {\r\n\t\t\tHotel testHotel = hotels.get(i);\r\n\t\t\ttestHotel.setPrice(200);\r\n\t\t\tView stockPicker = getStockPicker(testHotel);\r\n\t\t\tLinearLayout.LayoutParams pickerParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, 100, 1.0f);\r\n\t\t\tpickerParams.gravity = Gravity.LEFT;\r\n\t\t\tstockPicker.setLayoutParams(pickerParams);\r\n\t\t\tdialogContainer.addView(stockPicker);\r\n\t\t\tstockPicker.setBackgroundColor(0xffffff);\r\n\t\t}\r\n\t\t\r\n\t\tscrollView.addView(dialogContainer);\r\n\t\t\r\n\t\tLinearLayout dialogLayout = new LinearLayout(context);\r\n\t\tdialogLayout.setOrientation(LinearLayout.VERTICAL);\r\n\t\t\r\n\t\tButton buyButton = new Button(context);\r\n\t\tLinearLayout.LayoutParams buttonParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, 100);\r\n\t\tbuyButton.setLayoutParams(buttonParams);\r\n\t\t\r\n\t\tLinearLayout buttonLayout = new LinearLayout(context);\r\n\t\tbuttonLayout.addView(buyButton);\r\n\t\t\r\n\t\tdialogLayout.addView(scrollView);\r\n\t\tdialogLayout.addView(buttonLayout);\r\n\t\t\r\n\t\tContextThemeWrapper ctw = new ContextThemeWrapper(this, R.style.AppTheme);\r\n\t\t\r\n\t\tAlertDialog.Builder buyStockDialog = new AlertDialog.Builder(ctw);\r\n\t\tbuyStockDialog.setTitle(&quot;Buy Stock: &quot;);\r\n\t\tbuyStockDialog.setView(dialogLayout);\r\n\r\n\t\tbuyStockDialog.show();\r\n\t\t\r\n\t}","title":"Issue with Button in AlertDialog (Floating off screen)","body":"<p>Here's an image of what my issue looks like:\n<img src=\"https://i.stack.imgur.com/LcFM4.png\" alt=\"enter image description here\"></p>\n\n<p>That box at the bottom is the top half of a button. Whenever I've got too many Stock Options in the dialog box, it first forces the button off screen, THEN it scrolls.\nI want the button fixed at the bottom of the dialog and then have the scrolling happen. </p>\n\n<p>Here's the code:</p>\n\n<pre><code>public void buyStock(View view){\n    Context context = getApplicationContext();\n\n    //create ScrollView to hold everything\n    ScrollView scrollView = new ScrollView(context);\n\n    //generate content for dialog       \n    LinearLayout dialogContainer = new LinearLayout(context);\n    dialogContainer.setOrientation(LinearLayout.VERTICAL);\n    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, 400, 1);\n    dialogContainer.setLayoutParams(params);\n    dialogContainer.setPadding(15, 15, 0, 15);\n    dialogContainer.setBackgroundColor(Color.WHITE);\n\n    //each hotel stock options\n    for (int i = 0; i &lt; hotels.size(); i++) {\n        Hotel testHotel = hotels.get(i);\n        testHotel.setPrice(200);\n        View stockPicker = getStockPicker(testHotel);\n        LinearLayout.LayoutParams pickerParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, 100, 1.0f);\n        pickerParams.gravity = Gravity.LEFT;\n        stockPicker.setLayoutParams(pickerParams);\n        dialogContainer.addView(stockPicker);\n        stockPicker.setBackgroundColor(0xffffff);\n    }\n\n    scrollView.addView(dialogContainer);\n\n    LinearLayout dialogLayout = new LinearLayout(context);\n    dialogLayout.setOrientation(LinearLayout.VERTICAL);\n\n    Button buyButton = new Button(context);\n    LinearLayout.LayoutParams buttonParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, 100);\n    buyButton.setLayoutParams(buttonParams);\n\n    LinearLayout buttonLayout = new LinearLayout(context);\n    buttonLayout.addView(buyButton);\n\n    dialogLayout.addView(scrollView);\n    dialogLayout.addView(buttonLayout);\n\n    ContextThemeWrapper ctw = new ContextThemeWrapper(this, R.style.AppTheme);\n\n    AlertDialog.Builder buyStockDialog = new AlertDialog.Builder(ctw);\n    buyStockDialog.setTitle(\"Buy Stock: \");\n    buyStockDialog.setView(dialogLayout);\n\n    buyStockDialog.show();\n\n}\n</code></pre>\n"},{"tags":["java","spring","junit","spring-security","spring-test"],"answers":[{"tags":[],"owner":{"account_id":10853331,"reputation":327,"user_id":7980462,"display_name":"Дима Годиков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652719114,"creation_date":1652719114,"answer_id":72262670,"question_id":72261166,"body_markdown":"I solved this by overriding the ForwardAuthenticationSuccessHandler in auth filters:\r\n\r\n    @Bean\r\n    public MockMvc mockMvcWithAuthSupport(\r\n            @Qualifier(&quot;springSecurityFilterChain&quot;) Filter springSecurityFilterChain,\r\n            WebApplicationContext webApplicationContext\r\n    ) {\r\n        FilterChainProxy filterChain = (FilterChainProxy) springSecurityFilterChain;\r\n        UsernamePasswordAuthenticationFilter[] filters = filterChain.getFilterChains().stream()\r\n                .flatMap(chain -&gt; chain.getFilters().stream())\r\n                .filter(this::isUsernamePasswordFilter)\r\n                .map(f -&gt; (UsernamePasswordAuthenticationFilter) f)\r\n                .peek(filter -&gt; filter.setAuthenticationSuccessHandler(new MockMvcSuccessHandler()))\r\n                .toArray(UsernamePasswordAuthenticationFilter[]::new);\r\n\r\n        return MockMvcBuilders.webAppContextSetup(webApplicationContext)\r\n                .addFilters(filters)\r\n                .build();\r\n    }\r\nCustom success handler:\r\n\r\n    private class MockMvcSuccessHandler implements AuthenticationSuccessHandler {\r\n        @Override\r\n        public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n            MockFilterChain filterChain = new MockFilterChain(mockMvc.getDispatcherServlet(), new Filter[0]);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"MockMvc perform Basic Authentificaton Point with custom filters not calling DispatcherServlet","body":"<p>I solved this by overriding the ForwardAuthenticationSuccessHandler in auth filters:</p>\n<pre><code>@Bean\npublic MockMvc mockMvcWithAuthSupport(\n        @Qualifier(&quot;springSecurityFilterChain&quot;) Filter springSecurityFilterChain,\n        WebApplicationContext webApplicationContext\n) {\n    FilterChainProxy filterChain = (FilterChainProxy) springSecurityFilterChain;\n    UsernamePasswordAuthenticationFilter[] filters = filterChain.getFilterChains().stream()\n            .flatMap(chain -&gt; chain.getFilters().stream())\n            .filter(this::isUsernamePasswordFilter)\n            .map(f -&gt; (UsernamePasswordAuthenticationFilter) f)\n            .peek(filter -&gt; filter.setAuthenticationSuccessHandler(new MockMvcSuccessHandler()))\n            .toArray(UsernamePasswordAuthenticationFilter[]::new);\n\n    return MockMvcBuilders.webAppContextSetup(webApplicationContext)\n            .addFilters(filters)\n            .build();\n}\n</code></pre>\n<p>Custom success handler:</p>\n<pre><code>private class MockMvcSuccessHandler implements AuthenticationSuccessHandler {\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        MockFilterChain filterChain = new MockFilterChain(mockMvc.getDispatcherServlet(), new Filter[0]);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10853331,"reputation":327,"user_id":7980462,"display_name":"Дима Годиков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652719114,"creation_date":1652712689,"question_id":72261166,"body_markdown":"I use `@AutoConfigureMockMvc`, all no-auth requests and requests, that needed authentication work perfectly (with calling DispatcherServlet)\r\n\r\nBut when I try to execute auth point (username, password) to fully test authentication:\r\n\r\n    var resp = mockMvc.perform(post(&quot;/api/auth&quot;)\r\n        .content(objectMapper.writeValueAsString(requestDto))\r\n        .andExpect(status().isOk())\r\n        .andReturn().getResponse().getContentAsString();\r\nAfter that it is processed all my custom authentication filters, create UserDetails in the auth context, but the variable resp is empty.\r\n\r\nI try to debug (`CustomUsernamePasswordAuthenticationFilter` = `CustomFilter`):\r\n\r\n    CustomFilter.attemptAuthentication\r\n    CustomFilter.doFilter\r\n    CustomFilter.successfulAuthentication\r\n    this.successHandler.onAuthenticationSuccess\r\n    ForwardAuthenticationSuccessHandler.onAuthenticationSuccess\r\n    request.getRequestDispatcher(this.forwardUrl).forward(request, response)\r\n    MockRequestDispatcher.forward\r\n`MockRequestDispatcher.forward` - **this mock request dispatcher return empty response**\r\n\r\nWhen I call `/api/auth` via postman instead of `MockRequestDispatcher`, It is called `ApplicationDispatcher` from apache and Its forward method call real `DispatcherServlet`\r\n\r\nInstead of auto configurable mockMvc, I tried to use this, no effect:\r\n\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext)\r\n                .addFilters(filters)\r\n                .build();\r\nWhen I remove addFilters, the DispatcherServlet works, but authentication not processed (filters don&#39;t calling)\r\n\r\nAnybody knows the way how to rewrite the `MockRequestDispatcher` to the `ApplicationDispatcher` for `MockMvc` to call real DispatcherServlet and controller?","title":"MockMvc perform Basic Authentificaton Point with custom filters not calling DispatcherServlet","body":"<p>I use <code>@AutoConfigureMockMvc</code>, all no-auth requests and requests, that needed authentication work perfectly (with calling DispatcherServlet)</p>\n<p>But when I try to execute auth point (username, password) to fully test authentication:</p>\n<pre><code>var resp = mockMvc.perform(post(&quot;/api/auth&quot;)\n    .content(objectMapper.writeValueAsString(requestDto))\n    .andExpect(status().isOk())\n    .andReturn().getResponse().getContentAsString();\n</code></pre>\n<p>After that it is processed all my custom authentication filters, create UserDetails in the auth context, but the variable resp is empty.</p>\n<p>I try to debug (<code>CustomUsernamePasswordAuthenticationFilter</code> = <code>CustomFilter</code>):</p>\n<pre><code>CustomFilter.attemptAuthentication\nCustomFilter.doFilter\nCustomFilter.successfulAuthentication\nthis.successHandler.onAuthenticationSuccess\nForwardAuthenticationSuccessHandler.onAuthenticationSuccess\nrequest.getRequestDispatcher(this.forwardUrl).forward(request, response)\nMockRequestDispatcher.forward\n</code></pre>\n<p><code>MockRequestDispatcher.forward</code> - <strong>this mock request dispatcher return empty response</strong></p>\n<p>When I call <code>/api/auth</code> via postman instead of <code>MockRequestDispatcher</code>, It is called <code>ApplicationDispatcher</code> from apache and Its forward method call real <code>DispatcherServlet</code></p>\n<p>Instead of auto configurable mockMvc, I tried to use this, no effect:</p>\n<pre><code>mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext)\n            .addFilters(filters)\n            .build();\n</code></pre>\n<p>When I remove addFilters, the DispatcherServlet works, but authentication not processed (filters don't calling)</p>\n<p>Anybody knows the way how to rewrite the <code>MockRequestDispatcher</code> to the <code>ApplicationDispatcher</code> for <code>MockMvc</code> to call real DispatcherServlet and controller?</p>\n"},{"tags":["java","date","groovy","reformat"],"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":1,"creation_date":1358439686,"post_id":14383437,"comment_id":20006296,"body_markdown":"Your date is given in &quot;DD-MMM-YYYY&quot; pattern, and you are trying to parse something else...","body":"Your date is given in &quot;DD-MMM-YYYY&quot; pattern, and you are trying to parse something else..."},{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":0,"creation_date":1358439727,"post_id":14383437,"comment_id":20006325,"body_markdown":"duplicate http://stackoverflow.com/questions/11135675/unparseable-date-30-jun-12","body":"duplicate <a href=\"http://stackoverflow.com/questions/11135675/unparseable-date-30-jun-12\" title=\"unparseable date 30 jun 12\">stackoverflow.com/questions/11135675/unparseable-date-30-jun&zwnj;&#8203;-12</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652721184,"post_id":14383437,"comment_id":127669165,"body_markdown":"Not knowing Grrovy for new readers to this question I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate`, `DateTimeFormatterBuilder` and  `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). See [this answer by user7605325](https://stackoverflow.com/a/46645976/5772882).","body":"Not knowing Grrovy for new readers to this question I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code>, <code>DateTimeFormatterBuilder</code> and  <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. See <a href=\"https://stackoverflow.com/a/46645976/5772882\">this answer by user7605325</a>."}],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1358439624,"creation_date":1358439624,"answer_id":14383480,"question_id":14383437,"body_markdown":"With Groovy, you don&#39;t need the includes, and can just do:\r\n\r\n\r\n    String oldDate = &#39;04-DEC-2012&#39;\r\n    Date date = Date.parse( &#39;dd-MMM-yyyy&#39;, oldDate )\r\n    String newDate = date.format( &#39;M-d-yyyy&#39; )\r\n    \r\n    println newDate\r\n\r\nTo print:\r\n\r\n    12-4-2012\r\n","title":"Java/Groovy - simple date reformatting","body":"<p>With Groovy, you don't need the includes, and can just do:</p>\n\n<pre><code>String oldDate = '04-DEC-2012'\nDate date = Date.parse( 'dd-MMM-yyyy', oldDate )\nString newDate = date.format( 'M-d-yyyy' )\n\nprintln newDate\n</code></pre>\n\n<p>To print:</p>\n\n<pre><code>12-4-2012\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1358439649,"creation_date":1358439649,"answer_id":14383490,"question_id":14383437,"body_markdown":"Your `DateFormat` pattern does not match you input date `String`. You could use\r\n\r\n    new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;)","title":"Java/Groovy - simple date reformatting","body":"<p>Your <code>DateFormat</code> pattern does not match you input date <code>String</code>. You could use</p>\n\n<pre><code>new SimpleDateFormat(\"dd-MMM-yyyy\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":993440,"reputation":2244,"user_id":1010029,"accept_rate":88,"display_name":"Jesan Fafon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358439714,"creation_date":1358439714,"answer_id":14383509,"question_id":14383437,"body_markdown":"`oldDate` is not in the format of the `SimpleDateFormat` you are using to parse it.\r\n\r\nTry this format: `dd-MMM-yyyy`  - It matches what you&#39;re trying to parse. ","title":"Java/Groovy - simple date reformatting","body":"<p><code>oldDate</code> is not in the format of the <code>SimpleDateFormat</code> you are using to parse it.</p>\n\n<p>Try this format: <code>dd-MMM-yyyy</code>  - It matches what you're trying to parse. </p>\n"},{"tags":[],"owner":{"account_id":19456987,"reputation":11,"user_id":14549930,"display_name":"Ediney Andrade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652718733,"creation_date":1652718330,"answer_id":72262496,"question_id":14383437,"body_markdown":"    //Groovy Script\r\n\r\n    import java.util.Date   \r\n    import java.util.TimeZone   \r\n    tz = TimeZone.getTimeZone(&quot;America/Sao_Paulo&quot;)   \r\n    def date = new Date()   \r\n    def dt = date.format(&quot;yyyy-MM-dd HH:mm:ss&quot;, timezone=tz)   \r\n    println dt //formatado   \r\n    println date // formatado por&#233;m, horario do Sistema em GMT.\r\n\r\n","title":"Java/Groovy - simple date reformatting","body":"<pre><code>//Groovy Script\n\nimport java.util.Date   \nimport java.util.TimeZone   \ntz = TimeZone.getTimeZone(&quot;America/Sao_Paulo&quot;)   \ndef date = new Date()   \ndef dt = date.format(&quot;yyyy-MM-dd HH:mm:ss&quot;, timezone=tz)   \nprintln dt //formatado   \nprintln date // formatado porém, horario do Sistema em GMT.\n</code></pre>\n"}],"owner":{"account_id":2256718,"reputation":593,"user_id":1987767,"display_name":"DC Guy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177011,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":14383480,"answer_count":4,"score":59,"last_activity_date":1652718733,"creation_date":1358439480,"question_id":14383437,"body_markdown":"I&#39;m new to Java/Groovy development and I have a simple string that I would like to reformat, however I get an &#39;Unparseable date&#39; error when I attempt to run the following:\r\n\r\n    import java.text.SimpleDateFormat \r\n    import java.util.Date\r\n\r\n    String oldDate\r\n    Date date\r\n    String newDate \r\n\r\n    oldDate = &#39;04-DEC-2012&#39;\r\n    date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;).parse(oldDate)\r\n    newDate = new SimpleDateFormat(&quot;M-d-yyyy&quot;).format(date) \r\n\r\n    println newDate\r\n\r\nI&#39;m sure it&#39;s something simple, but the solution eludes me.  Can anyone help?","title":"Java/Groovy - simple date reformatting","body":"<p>I'm new to Java/Groovy development and I have a simple string that I would like to reformat, however I get an 'Unparseable date' error when I attempt to run the following:</p>\n\n<pre><code>import java.text.SimpleDateFormat \nimport java.util.Date\n\nString oldDate\nDate date\nString newDate \n\noldDate = '04-DEC-2012'\ndate = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.S\").parse(oldDate)\nnewDate = new SimpleDateFormat(\"M-d-yyyy\").format(date) \n\nprintln newDate\n</code></pre>\n\n<p>I'm sure it's something simple, but the solution eludes me.  Can anyone help?</p>\n"},{"tags":["java","json","rest","spring-boot","filter"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1534176621,"post_id":51826475,"comment_id":90607277,"body_markdown":"You probably need to set the Content-Length header to the correct value.","body":"You probably need to set the Content-Length header to the correct value."},{"owner":{"account_id":11449575,"reputation":231,"user_id":8392307,"display_name":"JaimeRG"},"score":0,"creation_date":1534177227,"post_id":51826475,"comment_id":90607628,"body_markdown":"JBNizet, thank you very much. You solved my problem very fast, thank you again.","body":"JBNizet, thank you very much. You solved my problem very fast, thank you again."}],"answers":[{"tags":[],"owner":{"account_id":11449575,"reputation":231,"user_id":8392307,"display_name":"JaimeRG"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534180684,"creation_date":1534180684,"answer_id":51827511,"question_id":51826475,"body_markdown":"Thanks to the help of JBNizet, I found that the solution was to add the Content Lenght:\r\n\r\n\r\n    String newContent = &quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;;\r\n    response.setContentLength(newContent .length());\r\n    response.getWriter().write(newContent);\r\n\r\n","title":"how modify the response body with java filter?","body":"<p>Thanks to the help of JBNizet, I found that the solution was to add the Content Lenght:</p>\n\n<pre><code>String newContent = \"{ \\\"name\\\" : \\\"************r\\\" }\";\nresponse.setContentLength(newContent .length());\nresponse.getWriter().write(newContent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6998321,"reputation":1684,"user_id":5365227,"display_name":"Wale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615076207,"creation_date":1615076207,"answer_id":66512026,"question_id":51826475,"body_markdown":"Actually, Following the answer above, you will get an error saying `getWriter() has already been called for this response`\r\n\r\nSo, you can simply just modify the last line like below:\r\n\r\n    String newContent = &quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;;\r\n    response.setContentLength(newContent.length());\r\n    response.getOutputStream().write(newContent.getBytes());","title":"how modify the response body with java filter?","body":"<p>Actually, Following the answer above, you will get an error saying <code>getWriter() has already been called for this response</code></p>\n<p>So, you can simply just modify the last line like below:</p>\n<pre><code>String newContent = &quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;;\nresponse.setContentLength(newContent.length());\nresponse.getOutputStream().write(newContent.getBytes());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15651623,"reputation":81,"user_id":11292902,"display_name":"Gilles Gaido"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652718721,"creation_date":1652688063,"answer_id":72255896,"question_id":51826475,"body_markdown":"on my side, to modify the response I used this wrapper to capture the response&#39;s content into a byte array :\r\n[ContentCachingResponseWrapper][1]\r\n\r\n( see also this useful general documentation from Oracle : https://www.oracle.com/java/technologies/filters.html][2] )\r\n\r\nhere is my source code :\r\n``` java\r\n...\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n \r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.web.util.ContentCachingResponseWrapper;\r\n...\r\n\r\npublic class MyCustomFilter implements Filter {\r\n\r\n\tprivate static final Logger LOGGER = Logger.getLogger( &quot;MyCustomFilter&quot; );\r\n\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t}\r\n\r\n\t/**\r\n\t * MODIFY THE RESPONSE  \r\n\t * https://www.oracle.com/java/technologies/filters.html\r\n\t */\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n\t\t// Use a SPRING-4 wrapper that caches all content read from the input stream and reader, and allows this content to be retrieved via a byte array.\r\n\t\tfinal ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper((HttpServletResponse) response);\r\n\r\n\t\t// Invoke the next entity in the filter chain\r\n\t\tchain.doFilter(request, responseWrapper);\r\n\r\n\t\ttry {\r\n\t\t\t// Get the original response data\r\n\t\t\tfinal byte[] originalData = responseWrapper.getContentAsByteArray();\r\n\t\t\tfinal int originalLength = responseWrapper.getContentSize();\r\n\r\n\t\t\t// Modify the original data\r\n\t\t\tfinal String newData = performYourOwnBusinessLogicIntoThisMethod( originalData ) ;\r\n\t\t\tfinal int newLength = newData.length();\r\n\r\n\t\t\t// Write the data into the output stream\r\n\t\t\tresponse.setContentLength(newData.length());\r\n\t\t\tresponse.getWriter().write(newData);\r\n\r\n\t\t\t// Commit the written data\r\n\t\t\tresponse.getWriter().flush();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.log(Level.SEVERE, &quot;Please contact your developer about this ERROR !&quot; + e.getClass() + &quot; : &quot; + e.getMessage(), e);\r\n\t\t\tresponse.setContentLength(responseWrapper.getContentSize());\r\n\t\t\tresponse.getOutputStream().write(responseWrapper.getContentAsByteArray());\r\n\t\t\tresponse.flushBuffer();\r\n\r\n\t\t} finally {\r\n\t\t\t//NOOP\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nIn my case, originalData represents a JSON object (of which I do not have the classes unfortunately... I need to parse), the business logic consists in updating or removing some nodes :  \r\n\r\n``` java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\n...\r\n\t\t\r\npublic String performYourOwnBusinessLogicIntoThisMethod(byte[] jsonInput) throws IOException {\r\n\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal ObjectNode root = (ObjectNode) mapper.readTree(jsonInput);\r\n\r\n\t\t//update the json root\r\n\t\t//...\r\n\r\n\t\treturn root.toString();\r\n\t}\t\t\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingResponseWrapper.html\r\n  [2]: https://www.oracle.com/java/technologies/filters.html","title":"how modify the response body with java filter?","body":"<p>on my side, to modify the response I used this wrapper to capture the response's content into a byte array :\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingResponseWrapper.html\" rel=\"nofollow noreferrer\">ContentCachingResponseWrapper</a></p>\n<p>( see also this useful general documentation from Oracle : <a href=\"https://www.oracle.com/java/technologies/filters.html%5D%5B2%5D\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/filters.html][2]</a> )</p>\n<p>here is my source code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n \nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.util.ContentCachingResponseWrapper;\n...\n\npublic class MyCustomFilter implements Filter {\n\n    private static final Logger LOGGER = Logger.getLogger( &quot;MyCustomFilter&quot; );\n\n    @Override\n    public void destroy() {\n    }\n\n    /**\n     * MODIFY THE RESPONSE  \n     * https://www.oracle.com/java/technologies/filters.html\n     */\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        // Use a SPRING-4 wrapper that caches all content read from the input stream and reader, and allows this content to be retrieved via a byte array.\n        final ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper((HttpServletResponse) response);\n\n        // Invoke the next entity in the filter chain\n        chain.doFilter(request, responseWrapper);\n\n        try {\n            // Get the original response data\n            final byte[] originalData = responseWrapper.getContentAsByteArray();\n            final int originalLength = responseWrapper.getContentSize();\n\n            // Modify the original data\n            final String newData = performYourOwnBusinessLogicIntoThisMethod( originalData ) ;\n            final int newLength = newData.length();\n\n            // Write the data into the output stream\n            response.setContentLength(newData.length());\n            response.getWriter().write(newData);\n\n            // Commit the written data\n            response.getWriter().flush();\n\n        } catch (Exception e) {\n            LOGGER.log(Level.SEVERE, &quot;Please contact your developer about this ERROR !&quot; + e.getClass() + &quot; : &quot; + e.getMessage(), e);\n            response.setContentLength(responseWrapper.getContentSize());\n            response.getOutputStream().write(responseWrapper.getContentAsByteArray());\n            response.flushBuffer();\n\n        } finally {\n            //NOOP\n        }\n    }\n}\n\n</code></pre>\n<p>In my case, originalData represents a JSON object (of which I do not have the classes unfortunately... I need to parse), the business logic consists in updating or removing some nodes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n...\n        \npublic String performYourOwnBusinessLogicIntoThisMethod(byte[] jsonInput) throws IOException {\n\n        final ObjectMapper mapper = new ObjectMapper();\n        final ObjectNode root = (ObjectNode) mapper.readTree(jsonInput);\n\n        //update the json root\n        //...\n\n        return root.toString();\n    }       \n</code></pre>\n"}],"owner":{"account_id":11449575,"reputation":231,"user_id":8392307,"display_name":"JaimeRG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22296,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1652718721,"creation_date":1534176384,"question_id":51826475,"body_markdown":"I want to perform some filter logic to HTTP responses (which are in json format).\r\n\r\nI had successfully change the response body, but when the (string) size of the body changes: I am getting missing the last characters.\r\n\r\nTo make it simpler, I had created a simple Spring Boot application, with only Web dependency for my rest controller.\r\n\r\n\r\n**My Rest Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/home/&quot;)\r\n    public class RestControllerHome {\r\n\t\r\n\t@GetMapping (produces=MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic String home() {\r\n\t\t\treturn &quot;{ \\&quot;name\\&quot; : \\&quot;Peter\\&quot; }&quot;;\r\n\t  }\r\n    }\r\n\r\n**My Filter**\r\n\r\n    @Component\r\n    public class MyFilter implements Filter {\r\n\r\n    @Override\r\n    public void destroy() { }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n\r\n        HtmlResponseWrapper capturingResponseWrapper = new HtmlResponseWrapper((HttpServletResponse) response);\r\n        filterChain.doFilter(request, capturingResponseWrapper);        \r\n        if (response.getContentType() != null &amp;&amp; response.getContentType().contains(&quot;application/json&quot;)) {\r\n            String content = capturingResponseWrapper.getCaptureAsString();\r\n            \r\n            // This code works fine\r\n            //response.getWriter().write(content.toUpperCase());\r\n            \r\n            // This code doesn&#39;t works because the content size is changed\r\n            response.getWriter().write(&quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig arg0) throws ServletException {  }    \r\n    }\r\n\r\n\r\n**HttpServletResponseWrapper**\r\n    // capture the response before it is written\r\n\r\n    public class HtmlResponseWrapper extends HttpServletResponseWrapper {\r\n\r\n    private final ByteArrayOutputStream capture;\r\n    private ServletOutputStream output;\r\n    private PrintWriter writer;\r\n\r\n    public HtmlResponseWrapper(HttpServletResponse response) {\r\n        super(response);\r\n        capture = new ByteArrayOutputStream(response.getBufferSize());\r\n    }\r\n\r\n    @Override\r\n    public ServletOutputStream getOutputStream() {\r\n        if (writer != null) {\r\n            throw new IllegalStateException(&quot;getWriter() has already been called on this response.&quot;);\r\n        }\r\n\r\n        if (output == null) {\r\n        \t// inner class - lets the wrapper manipulate the response \r\n            output = new ServletOutputStream() {\r\n                @Override\r\n                public void write(int b) throws IOException {\r\n                    capture.write(b);\r\n                }\r\n\r\n                @Override\r\n                public void flush() throws IOException {\r\n                    capture.flush();\r\n                }\r\n\r\n                @Override\r\n                public void close() throws IOException {\r\n                    capture.close();\r\n                }\r\n\r\n                @Override\r\n                public boolean isReady() {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public void setWriteListener(WriteListener arg0) {\r\n                }\r\n            };\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    @Override\r\n    public PrintWriter getWriter() throws IOException {\r\n        if (output != null) {\r\n            throw new IllegalStateException(&quot;getOutputStream() has already been called on this response.&quot;);\r\n        }\r\n\r\n        if (writer == null) {\r\n            writer = new PrintWriter(new OutputStreamWriter(capture,\r\n                    getCharacterEncoding()));\r\n        }\r\n\r\n        return writer;\r\n    }\r\n\r\n    @Override\r\n    public void flushBuffer() throws IOException {\r\n        super.flushBuffer();\r\n\r\n        if (writer != null) {\r\n            writer.flush();\r\n        } else if (output != null) {\r\n            output.flush();\r\n        }\r\n    }\r\n\r\n    public byte[] getCaptureAsBytes() throws IOException {\r\n        if (writer != null) {\r\n            writer.close();\r\n        } else if (output != null) {\r\n            output.close();\r\n        }\r\n\r\n        return capture.toByteArray();\r\n    }\r\n\r\n    public String getCaptureAsString() throws IOException {\r\n        return new String(getCaptureAsBytes(), getCharacterEncoding());\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nIn my **doFilter** method, the following code ...\r\n\r\n    // This code works fine\r\n    response.getWriter().write(content.toUpperCase());\r\n    \r\n    // This code doesn&#39;t works because the content size is changed\r\n    //response.getWriter().write(&quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;);\r\n\r\n... gives my the following output : \r\n**{&quot;NAME&quot;: &quot;PETER&quot;}**\r\nWhich tell me, that the code is working properly.\r\n\r\nBut, in reality I want to change the body content ...\r\n\r\n    // This code works fine\r\n    //response.getWriter().write(content.toUpperCase());\r\n    \r\n    // This code doesn&#39;t works because the content size is changed\r\n    response.getWriter().write(&quot;{ \\&quot;name\\&quot; : \\&quot;************r\\&quot; }&quot;);\r\n\r\n\r\n... and the previous code, is giving me an incomplete text body as output:\r\n**{ &quot;name&quot; : &quot;**********\r\n\r\nWhat am I doing wrong? \r\nMy app have a bigger json body, and a little more complex logic in the filter. But, if I dont get this working I am not being able to make the rest of my code work. Please, help.\r\n\r\nI took the Filter and HttpServletResponseWrapper from https://www.leveluplunch.com/java/tutorials/034-modify-html-response-using-filter/","title":"how modify the response body with java filter?","body":"<p>I want to perform some filter logic to HTTP responses (which are in json format).</p>\n\n<p>I had successfully change the response body, but when the (string) size of the body changes: I am getting missing the last characters.</p>\n\n<p>To make it simpler, I had created a simple Spring Boot application, with only Web dependency for my rest controller.</p>\n\n<p><strong>My Rest Controller</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/home/\")\npublic class RestControllerHome {\n\n@GetMapping (produces=MediaType.APPLICATION_JSON_VALUE)\npublic String home() {\n        return \"{ \\\"name\\\" : \\\"Peter\\\" }\";\n  }\n}\n</code></pre>\n\n<p><strong>My Filter</strong></p>\n\n<pre><code>@Component\npublic class MyFilter implements Filter {\n\n@Override\npublic void destroy() { }\n\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n\n    HtmlResponseWrapper capturingResponseWrapper = new HtmlResponseWrapper((HttpServletResponse) response);\n    filterChain.doFilter(request, capturingResponseWrapper);        \n    if (response.getContentType() != null &amp;&amp; response.getContentType().contains(\"application/json\")) {\n        String content = capturingResponseWrapper.getCaptureAsString();\n\n        // This code works fine\n        //response.getWriter().write(content.toUpperCase());\n\n        // This code doesn't works because the content size is changed\n        response.getWriter().write(\"{ \\\"name\\\" : \\\"************r\\\" }\");\n\n    }\n}\n\n@Override\npublic void init(FilterConfig arg0) throws ServletException {  }    \n}\n</code></pre>\n\n<p><strong>HttpServletResponseWrapper</strong>\n    // capture the response before it is written</p>\n\n<pre><code>public class HtmlResponseWrapper extends HttpServletResponseWrapper {\n\nprivate final ByteArrayOutputStream capture;\nprivate ServletOutputStream output;\nprivate PrintWriter writer;\n\npublic HtmlResponseWrapper(HttpServletResponse response) {\n    super(response);\n    capture = new ByteArrayOutputStream(response.getBufferSize());\n}\n\n@Override\npublic ServletOutputStream getOutputStream() {\n    if (writer != null) {\n        throw new IllegalStateException(\"getWriter() has already been called on this response.\");\n    }\n\n    if (output == null) {\n        // inner class - lets the wrapper manipulate the response \n        output = new ServletOutputStream() {\n            @Override\n            public void write(int b) throws IOException {\n                capture.write(b);\n            }\n\n            @Override\n            public void flush() throws IOException {\n                capture.flush();\n            }\n\n            @Override\n            public void close() throws IOException {\n                capture.close();\n            }\n\n            @Override\n            public boolean isReady() {\n                return false;\n            }\n\n            @Override\n            public void setWriteListener(WriteListener arg0) {\n            }\n        };\n    }\n\n    return output;\n}\n\n@Override\npublic PrintWriter getWriter() throws IOException {\n    if (output != null) {\n        throw new IllegalStateException(\"getOutputStream() has already been called on this response.\");\n    }\n\n    if (writer == null) {\n        writer = new PrintWriter(new OutputStreamWriter(capture,\n                getCharacterEncoding()));\n    }\n\n    return writer;\n}\n\n@Override\npublic void flushBuffer() throws IOException {\n    super.flushBuffer();\n\n    if (writer != null) {\n        writer.flush();\n    } else if (output != null) {\n        output.flush();\n    }\n}\n\npublic byte[] getCaptureAsBytes() throws IOException {\n    if (writer != null) {\n        writer.close();\n    } else if (output != null) {\n        output.close();\n    }\n\n    return capture.toByteArray();\n}\n\npublic String getCaptureAsString() throws IOException {\n    return new String(getCaptureAsBytes(), getCharacterEncoding());\n}\n\n}\n</code></pre>\n\n<p>In my <strong>doFilter</strong> method, the following code ...</p>\n\n<pre><code>// This code works fine\nresponse.getWriter().write(content.toUpperCase());\n\n// This code doesn't works because the content size is changed\n//response.getWriter().write(\"{ \\\"name\\\" : \\\"************r\\\" }\");\n</code></pre>\n\n<p>... gives my the following output : \n<strong>{\"NAME\": \"PETER\"}</strong>\nWhich tell me, that the code is working properly.</p>\n\n<p>But, in reality I want to change the body content ...</p>\n\n<pre><code>// This code works fine\n//response.getWriter().write(content.toUpperCase());\n\n// This code doesn't works because the content size is changed\nresponse.getWriter().write(\"{ \\\"name\\\" : \\\"************r\\\" }\");\n</code></pre>\n\n<p>... and the previous code, is giving me an incomplete text body as output:\n**{ \"name\" : \"**********</p>\n\n<p>What am I doing wrong? \nMy app have a bigger json body, and a little more complex logic in the filter. But, if I dont get this working I am not being able to make the rest of my code work. Please, help.</p>\n\n<p>I took the Filter and HttpServletResponseWrapper from <a href=\"https://www.leveluplunch.com/java/tutorials/034-modify-html-response-using-filter/\" rel=\"noreferrer\">https://www.leveluplunch.com/java/tutorials/034-modify-html-response-using-filter/</a></p>\n"},{"tags":["java","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":50940,"reputation":1588,"user_id":152082,"display_name":"Alberto Gutierrez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1328636022,"creation_date":1328636022,"answer_id":9180959,"question_id":9180861,"body_markdown":"You could install hudson + sonar locally in your machine and run it every time that you want to, no need to commit code.\r\n\r\nYou will need to expend quite some time setting up stuff, but there is a lot of good documentation to do so.","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>You could install hudson + sonar locally in your machine and run it every time that you want to, no need to commit code.</p>\n\n<p>You will need to expend quite some time setting up stuff, but there is a lot of good documentation to do so.</p>\n"},{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328636244,"creation_date":1328636244,"answer_id":9181009,"question_id":9180861,"body_markdown":"Sonar internally uses plugin like PMD, Checkstyle etc. You can install PMD or checkstyle plugin for eclipse and it will show all the potential violations. It will be useful for you to see how far you have fixed the problems before you checkin","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>Sonar internally uses plugin like PMD, Checkstyle etc. You can install PMD or checkstyle plugin for eclipse and it will show all the potential violations. It will be useful for you to see how far you have fixed the problems before you checkin</p>\n"},{"tags":[],"owner":{"account_id":1212778,"reputation":2636,"user_id":1181011,"accept_rate":67,"display_name":"alex.p"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1425495644,"creation_date":1328636318,"answer_id":9181037,"question_id":9180861,"body_markdown":"Yep, set up a local Sonar server by following the instructions at http://docs.sonarqube.org/display/SONAR/Installing\r\n\r\nOnce you&#39;ve done that you can view all your projects at localhost:9000 by doing mvn sonar:sonar. It&#39;s not necessary to install a build server, so long as your projects are maven-enabled you should be able to just do mvn sonar:sonar whilst a local sonar server is running.\r\n\r\nYou can also install the eclipse plugin (if you use eclipse) which will allow you to do realtime code analysis - so you can see when you&#39;ve managed to solve a violation. Violations are highlighted directly in the code as well which helps considerably.\r\n\r\nhttp://docs.sonarqube.org/display/SONAR/SonarQube+in+Eclipse","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>Yep, set up a local Sonar server by following the instructions at <a href=\"http://docs.sonarqube.org/display/SONAR/Installing\" rel=\"noreferrer\">http://docs.sonarqube.org/display/SONAR/Installing</a></p>\n\n<p>Once you've done that you can view all your projects at localhost:9000 by doing mvn sonar:sonar. It's not necessary to install a build server, so long as your projects are maven-enabled you should be able to just do mvn sonar:sonar whilst a local sonar server is running.</p>\n\n<p>You can also install the eclipse plugin (if you use eclipse) which will allow you to do realtime code analysis - so you can see when you've managed to solve a violation. Violations are highlighted directly in the code as well which helps considerably.</p>\n\n<p><a href=\"http://docs.sonarqube.org/display/SONAR/SonarQube+in+Eclipse\" rel=\"noreferrer\">http://docs.sonarqube.org/display/SONAR/SonarQube+in+Eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":10638032,"reputation":805,"user_id":7834104,"display_name":"Pasan Sumanaratne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575462411,"creation_date":1575462411,"answer_id":59176077,"question_id":9180861,"body_markdown":"You can use [SonarLint][1]. You can configure it with your IDE, and give it access to your SonarQube or SonarCloud, and configure each project to use the Quality Profiles used in your Sonar instance. So your IDE will show code smells, etc. while you code. \r\n\r\n\r\n  [1]: https://www.sonarlint.org/","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>You can use <a href=\"https://www.sonarlint.org/\" rel=\"nofollow noreferrer\">SonarLint</a>. You can configure it with your IDE, and give it access to your SonarQube or SonarCloud, and configure each project to use the Quality Profiles used in your Sonar instance. So your IDE will show code smells, etc. while you code. </p>\n"},{"tags":[],"owner":{"account_id":2376615,"reputation":1051,"user_id":2079764,"display_name":"Rashi"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1576735344,"creation_date":1576735344,"answer_id":59404043,"question_id":9180861,"body_markdown":"Running SonarQube server with docker may help.\r\n\r\n\r\n### Install sonarqube server\r\n```\r\ndocker pull sonarqube\r\n```\r\n### Run server\r\n```\r\ndocker run -d --name sonarqube -p 9000:9000 -p 9092:9092 sonarqube\r\n```\r\n\r\n### Resume container when stopped\r\n\r\n```\r\ndocker start sonarqube\r\n```\r\n\r\n## Install SonarScanner\r\n\r\nDownload and install SonarScanner from scanner [here](https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/).\r\n\r\n\r\n## Basic Configuration\r\n\r\nCreate a file named `sonar-project.properties` insider your project directory \r\nwith following contents.\r\n\r\n```\r\nsonar.projectKey=YourProjectKey\r\nsonar.projectName=YourProjectName\r\nsonar.projectVersion=1.0\r\nsonar.sources=.\r\n```\r\n\r\n## Run Analysis\r\n\r\n```\r\ncd /to/project/path\r\nsonar-scanner\r\n```\r\n\r\n## Access Results\r\n\r\nopen http://localhost:9000 in browser.\r\n\r\nlogin with default username &amp; password (*admin*, *admin*).\r\n\r\n# References\r\n- https://www.gsaadeh.com/sonarqube-docker-locally/\r\n- https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/\r\n- https://stackoverflow.com/questions/39666950/how-restart-a-stopped-docker-container\r\n\r\n","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>Running SonarQube server with docker may help.</p>\n\n<h3>Install sonarqube server</h3>\n\n<pre><code>docker pull sonarqube\n</code></pre>\n\n<h3>Run server</h3>\n\n<pre><code>docker run -d --name sonarqube -p 9000:9000 -p 9092:9092 sonarqube\n</code></pre>\n\n<h3>Resume container when stopped</h3>\n\n<pre><code>docker start sonarqube\n</code></pre>\n\n<h2>Install SonarScanner</h2>\n\n<p>Download and install SonarScanner from scanner <a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/\" rel=\"noreferrer\">here</a>.</p>\n\n<h2>Basic Configuration</h2>\n\n<p>Create a file named <code>sonar-project.properties</code> insider your project directory \nwith following contents.</p>\n\n<pre><code>sonar.projectKey=YourProjectKey\nsonar.projectName=YourProjectName\nsonar.projectVersion=1.0\nsonar.sources=.\n</code></pre>\n\n<h2>Run Analysis</h2>\n\n<pre><code>cd /to/project/path\nsonar-scanner\n</code></pre>\n\n<h2>Access Results</h2>\n\n<p>open <a href=\"http://localhost:9000\" rel=\"noreferrer\">http://localhost:9000</a> in browser.</p>\n\n<p>login with default username &amp; password (<em>admin</em>, <em>admin</em>).</p>\n\n<h1>References</h1>\n\n<ul>\n<li><a href=\"https://www.gsaadeh.com/sonarqube-docker-locally/\" rel=\"noreferrer\">https://www.gsaadeh.com/sonarqube-docker-locally/</a></li>\n<li><a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/\" rel=\"noreferrer\">https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39666950/how-restart-a-stopped-docker-container\">How restart a stopped docker container</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16165855,"reputation":259,"user_id":11670863,"display_name":"Mistico"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652718592,"creation_date":1652718592,"answer_id":72262556,"question_id":9180861,"body_markdown":"You can install a `SonarLint` VSCode extension if you use VSCode.","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>You can install a <code>SonarLint</code> VSCode extension if you use VSCode.</p>\n"}],"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67141,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":9181037,"answer_count":6,"score":24,"last_activity_date":1652718592,"creation_date":1328635617,"question_id":9180861,"body_markdown":"In a recent sonar test, we found over 30k total violations in our projects. I was told to spend some time to look over all of the blocker/critical violations and fix them accordingly. I was told by my mentor that to run sonar on the projects again, I would have to first commit the changes I made. And because I am an intern they don&#39;t want to do that. Is there any another method besides committing the changes and run sonar?\r\n\r\nI am using Intellij and the projects are mavenized, if that helps with anything.","title":"Is there a way to run sonar on projects without using the repository?","body":"<p>In a recent sonar test, we found over 30k total violations in our projects. I was told to spend some time to look over all of the blocker/critical violations and fix them accordingly. I was told by my mentor that to run sonar on the projects again, I would have to first commit the changes I made. And because I am an intern they don't want to do that. Is there any another method besides committing the changes and run sonar?</p>\n\n<p>I am using Intellij and the projects are mavenized, if that helps with anything.</p>\n"},{"tags":["java","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652450651,"creation_date":1652447955,"answer_id":72230252,"question_id":72230146,"body_markdown":"You can filter out nullable values using [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) operation and then apply `collect` by passing a built-in collector [`Collectors.toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) into it:\r\n\r\n```\r\nMap&lt;String, BillingAccount&gt; billingAccountsById = billingAccounts.stream()\r\n    .filter(account -&gt; Objects.nonNull(account.getBillingAccountIdentifier()))\r\n    .filter(account -&gt; Objects.nonNull(account.getBillingAccountIdentifier().getIdentifier()))\r\n    .collect(Collectors.toMap(\r\n        account -&gt; account.getBillingAccountIdentifier().getIdentifier(), // keyMapper\r\n        Function.identity())); // valueMapper\r\n```\r\nNote that for this approach, every identifier has to be unique. Otherwise, you need to provide `mergeFunction` as the third argument to resolve values mapped to the same key.","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<p>You can filter out nullable values using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter()</code></a> operation and then apply <code>collect</code> by passing a built-in collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap()</code></a> into it:</p>\n<pre><code>Map&lt;String, BillingAccount&gt; billingAccountsById = billingAccounts.stream()\n    .filter(account -&gt; Objects.nonNull(account.getBillingAccountIdentifier()))\n    .filter(account -&gt; Objects.nonNull(account.getBillingAccountIdentifier().getIdentifier()))\n    .collect(Collectors.toMap(\n        account -&gt; account.getBillingAccountIdentifier().getIdentifier(), // keyMapper\n        Function.identity())); // valueMapper\n</code></pre>\n<p>Note that for this approach, every identifier has to be unique. Otherwise, you need to provide <code>mergeFunction</code> as the third argument to resolve values mapped to the same key.</p>\n"},{"tags":[],"owner":{"account_id":8443019,"reputation":949,"user_id":6334782,"accept_rate":76,"display_name":"otoomey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652718494,"creation_date":1652448013,"answer_id":72230266,"question_id":72230146,"body_markdown":"Use `Collectors.toMap(..)` to convert a stream of items to a map, and `filter()` to remove items you don&#39;t want. In your case:\r\n```\r\nvar billingAccountsMap = billingAccounts.stream()\r\n        .filter(ba -&gt; ba.getBillingAccountIdentifier() != null)\r\n        .filter(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier() != null)\r\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), ba -&gt; ba));\r\n```\r\nSee this [answer](https://stackoverflow.com/a/20887747/6334782) for more information.","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<p>Use <code>Collectors.toMap(..)</code> to convert a stream of items to a map, and <code>filter()</code> to remove items you don't want. In your case:</p>\n<pre><code>var billingAccountsMap = billingAccounts.stream()\n        .filter(ba -&gt; ba.getBillingAccountIdentifier() != null)\n        .filter(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier() != null)\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), ba -&gt; ba));\n</code></pre>\n<p>See this <a href=\"https://stackoverflow.com/a/20887747/6334782\">answer</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":18772165,"reputation":21,"user_id":13688760,"display_name":"Dusty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652448117,"creation_date":1652448117,"answer_id":72230286,"question_id":72230146,"body_markdown":"```\r\nMap&lt;String, BillingAccount&gt; billingAccountsMap = billingAccounts.stream()\r\n        .filter(ba -&gt; ba.getBillingAccountIdentifier() != null\r\n                &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null)\r\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), ba -&gt; ba));\r\n```","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<pre><code>Map&lt;String, BillingAccount&gt; billingAccountsMap = billingAccounts.stream()\n        .filter(ba -&gt; ba.getBillingAccountIdentifier() != null\n                &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null)\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), ba -&gt; ba));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652449667,"creation_date":1652449323,"answer_id":72230550,"question_id":72230146,"body_markdown":"You could stream your `List` of `BillingAccount`, then use the aggregate operation `filter` to make sure that each `BillingAccount` and its nested fields are not null with a short-circuited condition. Finally, collect the results where each key is the `BillingAccount`&#39;s identifier while the corresponding value is the object itself.\r\n\r\n```\r\nMap&lt;String, BillingAccount&gt; billingAccountsMap = billingAccounts.stream()\r\n        .filter(ba -&gt; Objects.nonNull(ba) \r\n                &amp;&amp; Objects.nonNull(ba.getBillingAccountIdentifier()) \r\n                &amp;&amp; Objects.nonNull(ba.getBillingAccountIdentifier().getIdentifier()))\r\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), Function.identity()));\r\n```","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<p>You could stream your <code>List</code> of <code>BillingAccount</code>, then use the aggregate operation <code>filter</code> to make sure that each <code>BillingAccount</code> and its nested fields are not null with a short-circuited condition. Finally, collect the results where each key is the <code>BillingAccount</code>'s identifier while the corresponding value is the object itself.</p>\n<pre><code>Map&lt;String, BillingAccount&gt; billingAccountsMap = billingAccounts.stream()\n        .filter(ba -&gt; Objects.nonNull(ba) \n                &amp;&amp; Objects.nonNull(ba.getBillingAccountIdentifier()) \n                &amp;&amp; Objects.nonNull(ba.getBillingAccountIdentifier().getIdentifier()))\n        .collect(Collectors.toMap(ba -&gt; ba.getBillingAccountIdentifier().getIdentifier(), Function.identity()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652451814,"creation_date":1652451814,"answer_id":72231141,"question_id":72230146,"body_markdown":"You can use `groupingBy` once `filter ` for null checks got applied: \r\n\r\n \r\n\r\n    billingAccounts.stream()\r\n            .filter(ba -&gt; ba.getBillingAccountIdentifier() != null\r\n                            &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null)\r\n                \t\t\t\t.collect(Collectors.groupingBy(x -&gt; x.getBillingAccountIdentifier().getIdentifier()));","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<p>You can use <code>groupingBy</code> once <code>filter </code> for null checks got applied:</p>\n<pre><code>billingAccounts.stream()\n        .filter(ba -&gt; ba.getBillingAccountIdentifier() != null\n                        &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null)\n                            .collect(Collectors.groupingBy(x -&gt; x.getBillingAccountIdentifier().getIdentifier()));\n</code></pre>\n"}],"owner":{"account_id":14528548,"reputation":79,"user_id":10494078,"display_name":"Miltos Dimitriadis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72230252,"answer_count":5,"score":2,"last_activity_date":1652718494,"creation_date":1652447411,"question_id":72230146,"body_markdown":"I have this piece of code :\r\n\r\n    Map&lt;String, BillingAccount&gt; billingAccountsMap = new HashMap&lt;&gt;();\r\n    for (BillingAccount ba : billingAccounts) {\r\n        if (ba.getBillingAccountIdentifier() != null &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null) {\r\n    \t\tbillingAccountsMap.put(ba.getBillingAccountIdentifier().getIdentifier(), ba);\r\n    \t}\r\n    }\r\n\r\nAll I want is to rewrite it in a functional way with Java Stream API and `collect(Collectors.toMap())`, but I am a bit perplexed with the `null` cases.\r\n\r\nI am using Java 11.","title":"Rewrite imperative code of creating and populating Map in a declarative way using Java Stream API","body":"<p>I have this piece of code :</p>\n<pre><code>Map&lt;String, BillingAccount&gt; billingAccountsMap = new HashMap&lt;&gt;();\nfor (BillingAccount ba : billingAccounts) {\n    if (ba.getBillingAccountIdentifier() != null &amp;&amp; ba.getBillingAccountIdentifier().getIdentifier() != null) {\n        billingAccountsMap.put(ba.getBillingAccountIdentifier().getIdentifier(), ba);\n    }\n}\n</code></pre>\n<p>All I want is to rewrite it in a functional way with Java Stream API and <code>collect(Collectors.toMap())</code>, but I am a bit perplexed with the <code>null</code> cases.</p>\n<p>I am using Java 11.</p>\n"},{"tags":["javascript","java","android","overloading","frida"],"comments":[{"owner":{"account_id":23282696,"reputation":294,"user_id":17501206,"display_name":"vtable"},"score":0,"creation_date":1652717802,"post_id":72259384,"comment_id":127668037,"body_markdown":"@Robert I update the post with `c` function , so should I run `Java.cast(s, Java.use(&quot;java.util.List&quot;)).remove(0);` ?","body":"@Robert I update the post with <code>c</code> function , so should I run <code>Java.cast(s, Java.use(&quot;java.util.List&quot;)).remove(0);</code> ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652718088,"post_id":72259384,"comment_id":127668133,"body_markdown":"The code still does not show if the List is mutable or not as it simply returns the field value `this.c`. Check where the `c` field is written.","body":"The code still does not show if the List is mutable or not as it simply returns the field value <code>this.c</code>. Check where the <code>c</code> field is written."},{"owner":{"account_id":23282696,"reputation":294,"user_id":17501206,"display_name":"vtable"},"score":0,"creation_date":1652718966,"post_id":72259384,"comment_id":127668429,"body_markdown":"@Robert it&#39;s write like `this.c = Util.immutableList(......)`","body":"@Robert it&#39;s write like <code>this.c = Util.immutableList(......)</code>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652719327,"post_id":72259384,"comment_id":127668543,"body_markdown":"Then you have your answer, a mutable list is very unlikely...","body":"Then you have your answer, a mutable list is very unlikely..."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652718440,"creation_date":1652717912,"answer_id":72262400,"question_id":72259384,"body_markdown":"First you have to cast the variable `s` to `java.util.List`, then you can call methods on it or use it as argument, e.g. to create a new List.\r\n\r\nThe following code works if the List `c()` returns is mutable:\r\n\r\n    let s = this.c(); \r\n    let list = Java.cast(s, Java.use(&quot;java.util.List&quot;));\r\n    list.remove(0);\r\n    return list;\r\n\r\nIf the returned List is immutable you need to create a new mutable array and the delete then first element:\r\n\r\n    let s = this.c(); \r\n    let list = Java.cast(s, Java.use(&quot;java.util.List&quot;));\r\n    let newList = Java.use(&quot;java.util.ArrayList&quot;).$new(list);\r\n    newList.remove(0);\r\n    return newList;\r\n\r\n\r\nMutable Lists are e.g. `ArrayList`, `LinkedList`. Immutable are e.g. created by `List.of(...)` `Arrays.asList(...)`, by wraping a list with `Collections.unmodifiableList()` or usually by stream/lambda expressions.","title":"remove element from list while overload function with Frida","body":"<p>First you have to cast the variable <code>s</code> to <code>java.util.List</code>, then you can call methods on it or use it as argument, e.g. to create a new List.</p>\n<p>The following code works if the List <code>c()</code> returns is mutable:</p>\n<pre><code>let s = this.c(); \nlet list = Java.cast(s, Java.use(&quot;java.util.List&quot;));\nlist.remove(0);\nreturn list;\n</code></pre>\n<p>If the returned List is immutable you need to create a new mutable array and the delete then first element:</p>\n<pre><code>let s = this.c(); \nlet list = Java.cast(s, Java.use(&quot;java.util.List&quot;));\nlet newList = Java.use(&quot;java.util.ArrayList&quot;).$new(list);\nnewList.remove(0);\nreturn newList;\n</code></pre>\n<p>Mutable Lists are e.g. <code>ArrayList</code>, <code>LinkedList</code>. Immutable are e.g. created by <code>List.of(...)</code> <code>Arrays.asList(...)</code>, by wraping a list with <code>Collections.unmodifiableList()</code> or usually by stream/lambda expressions.</p>\n"}],"owner":{"account_id":23282696,"reputation":294,"user_id":17501206,"display_name":"vtable"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72262400,"answer_count":1,"score":2,"last_activity_date":1652718440,"creation_date":1652704938,"question_id":72259384,"body_markdown":"I debug an android application with Frida and I overload function that return `java.util.List&lt;SomeObject&gt;`\r\n\r\nI want to remove the first element from List that the function is return.\r\n\r\nHow can I do that please?\r\n\r\n    Java.perform(function x() {\r\n        \r\n        var my_class = Java.use(&quot;a.b&quot;);\r\n        my_class.c.overload().implementation = function () { \r\n    \t\tvar s= this.c(); // THE FUNCTION RETURN java.util.List&lt;SomeObject&gt;\r\n    \t\t//HERE I WANT TO REMOVE THE FIRST ELEMENT IN S\r\n    \t\treturn s;\r\n            \r\n        };\r\n    });\r\n\r\nHere is `c` function:\r\n\r\n    public List&lt;SomeObject&gt; c() {\r\n            return this.c;\r\n        }","title":"remove element from list while overload function with Frida","body":"<p>I debug an android application with Frida and I overload function that return <code>java.util.List&lt;SomeObject&gt;</code></p>\n<p>I want to remove the first element from List that the function is return.</p>\n<p>How can I do that please?</p>\n<pre><code>Java.perform(function x() {\n    \n    var my_class = Java.use(&quot;a.b&quot;);\n    my_class.c.overload().implementation = function () { \n        var s= this.c(); // THE FUNCTION RETURN java.util.List&lt;SomeObject&gt;\n        //HERE I WANT TO REMOVE THE FIRST ELEMENT IN S\n        return s;\n        \n    };\n});\n</code></pre>\n<p>Here is <code>c</code> function:</p>\n<pre><code>public List&lt;SomeObject&gt; c() {\n        return this.c;\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":8447822,"reputation":15,"user_id":6337794,"display_name":"Mr. Sister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610136691,"creation_date":1610136691,"answer_id":65635770,"question_id":65535993,"body_markdown":"So I ended up just using an image that would change size with different size screens but this doesn&#39;t seem like the most optimal solution. \r\n\r\nIf anyone has any better answer to this problem please share it. I would greatly appreciate it. ","title":"How to remove horizontal line in MPAndroidChart","body":"<p>So I ended up just using an image that would change size with different size screens but this doesn't seem like the most optimal solution.</p>\n<p>If anyone has any better answer to this problem please share it. I would greatly appreciate it.</p>\n"},{"tags":[],"owner":{"account_id":23197449,"reputation":26,"user_id":17292881,"display_name":"Shardul Saiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652718370,"creation_date":1652718370,"answer_id":72262511,"question_id":65535993,"body_markdown":"If I understand correctly you are trying to remove the horizontal highlight line\r\nMaybe this question will help - https://stackoverflow.com/questions/35330342/how-to-disable-highlight-line-in-mpandroidchart\r\n\r\ndataSet.setDrawHorizontalHighlightIndicator(false)","title":"How to remove horizontal line in MPAndroidChart","body":"<p>If I understand correctly you are trying to remove the horizontal highlight line\nMaybe this question will help - <a href=\"https://stackoverflow.com/questions/35330342/how-to-disable-highlight-line-in-mpandroidchart\">How to disable highlight line in MPAndroidChart?</a></p>\n<p>dataSet.setDrawHorizontalHighlightIndicator(false)</p>\n"}],"owner":{"account_id":8447822,"reputation":15,"user_id":6337794,"display_name":"Mr. Sister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72262511,"answer_count":2,"score":0,"last_activity_date":1652718370,"creation_date":1609561313,"question_id":65535993,"body_markdown":"I&#39;m trying to build a line graph that only shows the vertical highlight when you touch or drag on the graph. I&#39;m able to remove the highlight completely and even have an image show up on where I touch or drag it. But so far, I haven&#39;t been able to remove the horizontal line. I used these other resources to try and get it to work, but they haven&#39;t really done much for me yet.\r\n\r\nhttps://stackoverflow.com/questions/31201874/mpandroidchart-linechart-custom-highlight-drawable\r\n\r\nhttps://www.programmersought.com/article/1729477382/\r\n\r\nhttps://weeklycoding.com/mpandroidchart-documentation/highlighting/\r\n\r\nI&#39;m using the latest version, 3.1. I read here on one of the issues that you couldn&#39;t remove the horizontal line in older versions of the library. https://github.com/PhilJay/MPAndroidChart/issues/814 But I assume that maybe they did something to change that.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzp3r.png\r\n\r\n```\r\n        LineChart line_data_chart = v.findViewById(R.id.line_data_chart);\r\n        line_data_chart.getAxisLeft().setEnabled( false );\r\n        line_data_chart.getAxisRight().setEnabled( false );\r\n        line_data_chart.getLegend().setEnabled( false );\r\n        line_data_chart.getXAxis().setEnabled( false );\r\n        line_data_chart.getDescription().setEnabled( false );\r\n        line_data_chart.setScaleEnabled( false );\r\n        line_data_chart.setOnChartValueSelectedListener( new CustomChartGestures() );\r\n        line_data_chart.setMarker( new MarkerImage(getContext(), R.drawable.home_icon));\r\n        //line_data_chart.setHighlightPerTapEnabled( false );\r\n\r\n```\r\nThis is my code so far. I was thinking of making an image of a vertical line and using that instead of the home icon. But I feel like there is an easier way. I also thought of implementing the Highlight class but it still seems like overkill. I&#39;ve been searching for a couple of hours at this point. Any kind of suggestion is very much appreciated. ","title":"How to remove horizontal line in MPAndroidChart","body":"<p>I'm trying to build a line graph that only shows the vertical highlight when you touch or drag on the graph. I'm able to remove the highlight completely and even have an image show up on where I touch or drag it. But so far, I haven't been able to remove the horizontal line. I used these other resources to try and get it to work, but they haven't really done much for me yet.</p>\n<p><a href=\"https://stackoverflow.com/questions/31201874/mpandroidchart-linechart-custom-highlight-drawable\">MPAndroidChart LineChart custom highlight drawable</a></p>\n<p><a href=\"https://www.programmersought.com/article/1729477382/\" rel=\"nofollow noreferrer\">https://www.programmersought.com/article/1729477382/</a></p>\n<p><a href=\"https://weeklycoding.com/mpandroidchart-documentation/highlighting/\" rel=\"nofollow noreferrer\">https://weeklycoding.com/mpandroidchart-documentation/highlighting/</a></p>\n<p>I'm using the latest version, 3.1. I read here on one of the issues that you couldn't remove the horizontal line in older versions of the library. <a href=\"https://github.com/PhilJay/MPAndroidChart/issues/814\" rel=\"nofollow noreferrer\">https://github.com/PhilJay/MPAndroidChart/issues/814</a> But I assume that maybe they did something to change that.</p>\n<p><a href=\"https://i.stack.imgur.com/qzp3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzp3r.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        LineChart line_data_chart = v.findViewById(R.id.line_data_chart);\n        line_data_chart.getAxisLeft().setEnabled( false );\n        line_data_chart.getAxisRight().setEnabled( false );\n        line_data_chart.getLegend().setEnabled( false );\n        line_data_chart.getXAxis().setEnabled( false );\n        line_data_chart.getDescription().setEnabled( false );\n        line_data_chart.setScaleEnabled( false );\n        line_data_chart.setOnChartValueSelectedListener( new CustomChartGestures() );\n        line_data_chart.setMarker( new MarkerImage(getContext(), R.drawable.home_icon));\n        //line_data_chart.setHighlightPerTapEnabled( false );\n\n</code></pre>\n<p>This is my code so far. I was thinking of making an image of a vertical line and using that instead of the home icon. But I feel like there is an easier way. I also thought of implementing the Highlight class but it still seems like overkill. I've been searching for a couple of hours at this point. Any kind of suggestion is very much appreciated.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1652641618,"post_id":72251376,"comment_id":127649856,"body_markdown":"`Map.Entry::getValue.pollutionLevel` is not valid Java syntax (`e -&gt; e.getValue().pollutionLevel` is). Also, if you sort twice, the first sort is ignored (maybe you were looking for [`Comparator#thenComparing`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-)?)","body":"<code>Map.Entry::getValue.pollutionLevel</code> is not valid Java syntax (<code>e -&gt; e.getValue().pollutionLevel</code> is). Also, if you sort twice, the first sort is ignored (maybe you were looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Comparator#thenComparing</code></a>?)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652688542,"post_id":72251376,"comment_id":127657481,"body_markdown":"@knittl the first sort is not ignored, as the second sort will use a stable algorithm, however, it’s a very inefficient way to establish a secondary ordering criteria.","body":"@knittl the first sort is not ignored, as the second sort will use a stable algorithm, however, it’s a very inefficient way to establish a secondary ordering criteria."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1652725138,"post_id":72251376,"comment_id":127670573,"body_markdown":"@Holger interesting, I wasn&#39;t aware of that. Is stable sort guaranteed or is it up to the implementation to provide one? Apart from the inefficiency, another disadvantage that doing it that way is not &quot;sort by A, then sort by B&quot;, but rather the opposite/reverse &quot;sort by B, but keep the order of the previous sort by A&quot;.","body":"@Holger interesting, I wasn&#39;t aware of that. Is stable sort guaranteed or is it up to the implementation to provide one? Apart from the inefficiency, another disadvantage that doing it that way is not &quot;sort by A, then sort by B&quot;, but rather the opposite/reverse &quot;sort by B, but keep the order of the previous sort by A&quot;."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1652725243,"post_id":72251376,"comment_id":127670602,"body_markdown":"@Holger note that the docs state &quot;For ordered streams, the sort is stable. For unordered streams, no stability guarantees are made.&quot; For an entrySet that might hold true, but the statement could be too general","body":"@Holger note that the docs state &quot;For ordered streams, the sort is stable. For unordered streams, no stability guarantees are made.&quot; For an entrySet that might hold true, but the statement could be too general"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1652773811,"post_id":72251376,"comment_id":127680796,"body_markdown":"@knittl whether `entrySet().stream()` creates an ordered stream, depends on the map. So, from what we see in the question, we can’t say whether the first `sorted` has to use a stable algorithm. But after the first `sorted` step, the stream is ordered, as the sorting defines an encounter order. So the second `sorted` must be stable. But you are right, `sorted(A).sorted(B)` is like `sorted(B.thenComparing(A))`. Since we only have that one code example and no alternative explanation of the task, this might be the intended order.","body":"@knittl whether <code>entrySet().stream()</code> creates an ordered stream, depends on the map. So, from what we see in the question, we can’t say whether the first <code>sorted</code> has to use a stable algorithm. But after the first <code>sorted</code> step, the stream is ordered, as the sorting defines an encounter order. So the second <code>sorted</code> must be stable. But you are right, <code>sorted(A).sorted(B)</code> is like <code>sorted(B.thenComparing(A))</code>. Since we only have that one code example and no alternative explanation of the task, this might be the intended order."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652648424,"creation_date":1652641732,"answer_id":72251426,"question_id":72251376,"body_markdown":"You are using an incorrect syntax in your method references. On the right side of the operator `::` you should provide a method name, and nothing else.\r\n\r\nYou can substitute this faulty reference `Map.Entry::getValue.pollutionLevel` with a lambda expression:\r\n```\r\nentry -&gt; entry.getValue().pollutionLevel()\r\n```\r\n*For more information on method references, have a look at this [tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).*\r\n\r\nSorting will make sense only if you are collecting the elements into a collection that preserves the order and is not sorted by itself, like `ArrayList`, `LinkedHashSet` or `ArrayDeque`. And there&#39;s no need to apply sorting twice. You will not get the same result as if you were sorting by two criteria in one go. \r\n\r\nBut in this case the data should be stored into a sorted collection, therefore sorting operation in the stream pipeline is redundant.\r\n\r\nInstead of two separate *comparators*, you need a *comparator* that will establish the order of elements first by `pollutionLevel` and then by `price`. Which can be defined like that:\r\n```\r\nComparator&lt;VehicleTransportation&gt; byLevelAndPrice =\r\n    Comparator.comparing(VehicleTransportation::getPollutionLevel,\r\n                         Comparator.reverseOrder())\r\n        .thenComparing(VehicleTransportation::getPrice);\r\n```\r\n*Fore more information on how to build comparators with Java 8 methods have a look at this [tutorial](https://www.baeldung.com/java-8-comparator-comparing).*\r\n\r\nIn order to create a `TreeSet` from values of a map, you can invoke `values()` and then immediately apply `collect()` by providing `Collectors.toCollection()` as an argument:\r\n```\r\nreturn allVehicleTransportation.values().stream()\r\n    .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(byLevelAndPrice)));\r\n```\r\nNote that `Collectors.toSet()` will give you a general purpose implementation of the `Set` interface, which is currently a `HashSet`.\r\n\r\n","title":"Converting a Map into a sorted TreeSet using streams","body":"<p>You are using an incorrect syntax in your method references. On the right side of the operator <code>::</code> you should provide a method name, and nothing else.</p>\n<p>You can substitute this faulty reference <code>Map.Entry::getValue.pollutionLevel</code> with a lambda expression:</p>\n<pre><code>entry -&gt; entry.getValue().pollutionLevel()\n</code></pre>\n<p><em>For more information on method references, have a look at this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">tutorial</a>.</em></p>\n<p>Sorting will make sense only if you are collecting the elements into a collection that preserves the order and is not sorted by itself, like <code>ArrayList</code>, <code>LinkedHashSet</code> or <code>ArrayDeque</code>. And there's no need to apply sorting twice. You will not get the same result as if you were sorting by two criteria in one go.</p>\n<p>But in this case the data should be stored into a sorted collection, therefore sorting operation in the stream pipeline is redundant.</p>\n<p>Instead of two separate <em>comparators</em>, you need a <em>comparator</em> that will establish the order of elements first by <code>pollutionLevel</code> and then by <code>price</code>. Which can be defined like that:</p>\n<pre><code>Comparator&lt;VehicleTransportation&gt; byLevelAndPrice =\n    Comparator.comparing(VehicleTransportation::getPollutionLevel,\n                         Comparator.reverseOrder())\n        .thenComparing(VehicleTransportation::getPrice);\n</code></pre>\n<p><em>Fore more information on how to build comparators with Java 8 methods have a look at this <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\">tutorial</a>.</em></p>\n<p>In order to create a <code>TreeSet</code> from values of a map, you can invoke <code>values()</code> and then immediately apply <code>collect()</code> by providing <code>Collectors.toCollection()</code> as an argument:</p>\n<pre><code>return allVehicleTransportation.values().stream()\n    .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(byLevelAndPrice)));\n</code></pre>\n<p>Note that <code>Collectors.toSet()</code> will give you a general purpose implementation of the <code>Set</code> interface, which is currently a <code>HashSet</code>.</p>\n"},{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652642723,"creation_date":1652642723,"answer_id":72251536,"question_id":72251376,"body_markdown":"A treeset is sorted anyway, so I would say the streams you are using to add to the treeset, even if it worked as you intend, the sorted items would be resorted according to their natural ordering, destroying any sort order that was created by the stream.\r\n\r\n\r\nInstead, you should specify a sort order on the treeset, and then just addAll(VehicleTransportation.values()) and forget about streams! it will be sorted according to the sort order.\r\n\r\nIf you want to sort using streams, you&#39;ll have to return something other than the treeset (maybe an arrayList) which will not alter the sort order that you have defined.\r\n\r\n\r\n","title":"Converting a Map into a sorted TreeSet using streams","body":"<p>A treeset is sorted anyway, so I would say the streams you are using to add to the treeset, even if it worked as you intend, the sorted items would be resorted according to their natural ordering, destroying any sort order that was created by the stream.</p>\n<p>Instead, you should specify a sort order on the treeset, and then just addAll(VehicleTransportation.values()) and forget about streams! it will be sorted according to the sort order.</p>\n<p>If you want to sort using streams, you'll have to return something other than the treeset (maybe an arrayList) which will not alter the sort order that you have defined.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652718313,"creation_date":1652643026,"answer_id":72251570,"question_id":72251376,"body_markdown":"If you need a TreeSet, there are other collectors for that:\r\n\r\n        Set&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\r\n                .sorted(Comparator.comparing(Map.Entry::getValue.pollutionLevel , Comparator.reverseOrder()))\r\n                .sorted(Comparator.comparing(Map.Entry::getValue.price))\r\n                .map(Map.Entry::getValue)\r\n                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;VehicleTransportation&gt;()));\r\n\r\nAnd since you don&#39;t want to sort using natural comparator, first create a comparator:\r\n\r\n    Comparator&lt;VehicleTransportation&gt; cmp =  Comparator.comparing(VehicleTransportation::getPollutionLevel()\r\n              .thenComparing(VehicleTransportation::getPrice);\r\n\r\nThen use it:\r\n\r\n        Set&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\r\n                .map(Map.Entry::getValue)\r\n                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;VehicleTransportation&gt;(cmp)));\r\n\r\nDo not perform a double sort !\r\n\r\nAlso, I&#39;m pretty sure that performance on `Stream` sorted depends on the source and using a `TreeSet` (like above) might perform better because otherwise the `Stream` needs to sort which is not as easy as it seems: you may expect buffering of some sort which the `TreeSet` will do anyway.\r\n\r\n**Edit:** per the comment below, if all you need is to collect and sort the values, this might be easier:\r\n\r\n    var set = new TreeSet&lt;VehicleTransportation&gt;(cmp);\r\n    set.addAll(allVehicleTransportation.values());\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Converting a Map into a sorted TreeSet using streams","body":"<p>If you need a TreeSet, there are other collectors for that:</p>\n<pre><code>    Set&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\n            .sorted(Comparator.comparing(Map.Entry::getValue.pollutionLevel , Comparator.reverseOrder()))\n            .sorted(Comparator.comparing(Map.Entry::getValue.price))\n            .map(Map.Entry::getValue)\n            .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;VehicleTransportation&gt;()));\n</code></pre>\n<p>And since you don't want to sort using natural comparator, first create a comparator:</p>\n<pre><code>Comparator&lt;VehicleTransportation&gt; cmp =  Comparator.comparing(VehicleTransportation::getPollutionLevel()\n          .thenComparing(VehicleTransportation::getPrice);\n</code></pre>\n<p>Then use it:</p>\n<pre><code>    Set&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\n            .map(Map.Entry::getValue)\n            .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;VehicleTransportation&gt;(cmp)));\n</code></pre>\n<p>Do not perform a double sort !</p>\n<p>Also, I'm pretty sure that performance on <code>Stream</code> sorted depends on the source and using a <code>TreeSet</code> (like above) might perform better because otherwise the <code>Stream</code> needs to sort which is not as easy as it seems: you may expect buffering of some sort which the <code>TreeSet</code> will do anyway.</p>\n<p><strong>Edit:</strong> per the comment below, if all you need is to collect and sort the values, this might be easier:</p>\n<pre><code>var set = new TreeSet&lt;VehicleTransportation&gt;(cmp);\nset.addAll(allVehicleTransportation.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652644923,"creation_date":1652644923,"answer_id":72251800,"question_id":72251376,"body_markdown":"For reference, a non-streams version would look like something like this:\r\n\r\n    Comparator&lt;VehicleTransportation&gt; c = Comparator.comparing(VehicleTransportation::pollutionLevel)\r\n                                                    .reversed()\r\n                                                    .thenComparing(VehicleTransportation::price);\r\n    Set&lt;VehicleTransportation&gt; s = new TreeSet&lt;&gt;(c);\r\n    s.addAll(allVehicleTransportation.values());","title":"Converting a Map into a sorted TreeSet using streams","body":"<p>For reference, a non-streams version would look like something like this:</p>\n<pre><code>Comparator&lt;VehicleTransportation&gt; c = Comparator.comparing(VehicleTransportation::pollutionLevel)\n                                                .reversed()\n                                                .thenComparing(VehicleTransportation::price);\nSet&lt;VehicleTransportation&gt; s = new TreeSet&lt;&gt;(c);\ns.addAll(allVehicleTransportation.values());\n</code></pre>\n"}],"owner":{"account_id":19824398,"reputation":51,"user_id":14520216,"display_name":"Josef Sigron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72251536,"answer_count":4,"score":1,"last_activity_date":1652718313,"creation_date":1652641366,"question_id":72251376,"body_markdown":"The code is:\r\n```\r\npublic TreeSet&lt;VehicleTransportation&gt; allVehicleTransportations(){\r\n\t\t\r\n\t\tSet&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\r\n\t\t\t\t.sorted(Comparator.comparing(Map.Entry::getValue.pollutionLevel , Comparator.reverseOrder()))\r\n\t\t\t\t.sorted(Comparator.comparing(Map.Entry::getValue.price))\r\n\t\t\t\t.map(Map.Entry::getValue)\r\n\t\t\t    .collect(Collectors.toSet());\r\n\r\n\t\treturn sortedVehicles;\r\n\t}\r\n```\r\nWhere the HashMap is \r\n```\r\nHashMap&lt;String, VehicleTransportation&gt; allVehicleTransportation = new HashMap&lt;String, VehicleTransportation&gt;();\r\n```\r\n\r\n\r\nThere are 2 problems I run into using this code. First, for some reason ```Map.Entry::getValue``` runs into the error :\r\n```The target type of this expression must be a functional interface```\r\nI think the problem here is that the comparator cannot compare between two objects of type ```VehicleTransportation``` although  ```pollutionLevel``` and ```price``` are both strings.\r\n \r\nSecond , I cannot quite figure out how to convert the Set into a TreeSet \r\n(maybe use ```(TreeSet&lt;VehicleTransportation&gt;)``` ?)\r\n","title":"Converting a Map into a sorted TreeSet using streams","body":"<p>The code is:</p>\n<pre><code>public TreeSet&lt;VehicleTransportation&gt; allVehicleTransportations(){\n        \n        Set&lt;VehicleTransportation&gt; sortedVehicles = allVehicleTransportation.entrySet().stream()\n                .sorted(Comparator.comparing(Map.Entry::getValue.pollutionLevel , Comparator.reverseOrder()))\n                .sorted(Comparator.comparing(Map.Entry::getValue.price))\n                .map(Map.Entry::getValue)\n                .collect(Collectors.toSet());\n\n        return sortedVehicles;\n    }\n</code></pre>\n<p>Where the HashMap is</p>\n<pre><code>HashMap&lt;String, VehicleTransportation&gt; allVehicleTransportation = new HashMap&lt;String, VehicleTransportation&gt;();\n</code></pre>\n<p>There are 2 problems I run into using this code. First, for some reason <code>Map.Entry::getValue</code> runs into the error :\n<code>The target type of this expression must be a functional interface</code>\nI think the problem here is that the comparator cannot compare between two objects of type <code>VehicleTransportation</code> although  <code>pollutionLevel</code> and <code>price</code> are both strings.</p>\n<p>Second , I cannot quite figure out how to convert the Set into a TreeSet\n(maybe use <code>(TreeSet&lt;VehicleTransportation&gt;)</code> ?)</p>\n"},{"tags":["java","spring-boot","design-patterns","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652710369,"creation_date":1652710369,"answer_id":72260605,"question_id":72256045,"body_markdown":"That&#39;s exactly what Spring Integration is for.\r\n\r\nYou probably may consider to use a `JdbcChannelMessageStore` and a `QueueChannel` based in it. So, one service would send a message to this channel within its transaction. On the other side there is going to be a polling consumer to read from that channel, and therefore your messages table. NOTE: this solution removes messages from the `INT_CHANNEL_MESSAGE` table in the end of poll transaction.\r\n\r\nYou may consider to use a JPA Outbound Channel Adapter to persist message on one side and JPA Polling Channel Adpater on the other side to update the entity.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/jpa.html#jpa\r\n\r\nEither way I don&#39;t see problems in implementing that pattern with Spring Integration.","title":"Is Spring Integration a good framework to implement the Transactional Outbox pattern?","body":"<p>That's exactly what Spring Integration is for.</p>\n<p>You probably may consider to use a <code>JdbcChannelMessageStore</code> and a <code>QueueChannel</code> based in it. So, one service would send a message to this channel within its transaction. On the other side there is going to be a polling consumer to read from that channel, and therefore your messages table. NOTE: this solution removes messages from the <code>INT_CHANNEL_MESSAGE</code> table in the end of poll transaction.</p>\n<p>You may consider to use a JPA Outbound Channel Adapter to persist message on one side and JPA Polling Channel Adpater on the other side to update the entity.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jpa.html#jpa\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jpa.html#jpa</a></p>\n<p>Either way I don't see problems in implementing that pattern with Spring Integration.</p>\n"}],"owner":{"account_id":351668,"reputation":83,"user_id":688291,"accept_rate":60,"display_name":"user688291"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652718557,"accepted_answer_id":72260605,"answer_count":1,"score":0,"last_activity_date":1652718009,"creation_date":1652688790,"question_id":72256045,"body_markdown":"I&#39;m implementing Transactional Outbox pattern using Java. The Message Relay Service will poll the Outbox table for entries, and after an outbox message is found and processed, it will update the Outbox entry to be &quot;processed&quot;.\r\nI&#39;m using Spring Boot and ran into Spring Integration project and wonder if this is a good way for this pattern to handle the Message Relay polling and JPA updates to the Outbox table or are there better ways?\r\n\r\n**EDIT 1:**\r\n\r\nI`m trying to set up the JpaOundboundGateway. Is this correct? And how can I set the parameter to the Jpa Query?\r\n\r\n    \t@Bean\r\n\tpublic JpaExecutor jpaUpdateStateExecutor() {\r\n\t\tJpaExecutor jpaExecutor = new JpaExecutor(this.entityManagerFactory);\r\n\t\tjpaExecutor.setNamedQuery(&quot;myQuery&quot;);\r\n\t\tjpaExecutor.setUsePayloadAsParameterSource(true);\r\n\t\tjpaExecutor.setExpectSingleResult(true);\r\n\t\treturn jpaExecutor;\r\n\t}\r\n\r\n\t@Bean\r\n\t@ServiceActivator(inputChannel = &quot;jpaChannel&quot;)\r\n\tpublic MessageHandler jpaOutbound() {\r\n\t\tJpaOutboundGateway gateway = new JpaOutboundGateway(jpaUpdateStateExecutor());\r\n\t\tgateway.setGatewayType(OutboundGatewayType.UPDATING);\r\n\t\treturn gateway;\r\n\t}\r\n\r\nMy Gateway:\r\n\r\n    @MessagingGateway\r\n    public interface MyGateway {\r\n        @Gateway(requestChannel = &quot;jpaChannel&quot;)\r\n        @Transactional\r\n        void jpaActions(Long idOfEntity);\r\n    }\r\n\r\n","title":"Is Spring Integration a good framework to implement the Transactional Outbox pattern?","body":"<p>I'm implementing Transactional Outbox pattern using Java. The Message Relay Service will poll the Outbox table for entries, and after an outbox message is found and processed, it will update the Outbox entry to be &quot;processed&quot;.\nI'm using Spring Boot and ran into Spring Integration project and wonder if this is a good way for this pattern to handle the Message Relay polling and JPA updates to the Outbox table or are there better ways?</p>\n<p><strong>EDIT 1:</strong></p>\n<p>I`m trying to set up the JpaOundboundGateway. Is this correct? And how can I set the parameter to the Jpa Query?</p>\n<pre><code>    @Bean\npublic JpaExecutor jpaUpdateStateExecutor() {\n    JpaExecutor jpaExecutor = new JpaExecutor(this.entityManagerFactory);\n    jpaExecutor.setNamedQuery(&quot;myQuery&quot;);\n    jpaExecutor.setUsePayloadAsParameterSource(true);\n    jpaExecutor.setExpectSingleResult(true);\n    return jpaExecutor;\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;jpaChannel&quot;)\npublic MessageHandler jpaOutbound() {\n    JpaOutboundGateway gateway = new JpaOutboundGateway(jpaUpdateStateExecutor());\n    gateway.setGatewayType(OutboundGatewayType.UPDATING);\n    return gateway;\n}\n</code></pre>\n<p>My Gateway:</p>\n<pre><code>@MessagingGateway\npublic interface MyGateway {\n    @Gateway(requestChannel = &quot;jpaChannel&quot;)\n    @Transactional\n    void jpaActions(Long idOfEntity);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1652535143,"post_id":72240633,"comment_id":127632164,"body_markdown":"try `orders_list.setAdapter(null);`","body":"try <code>orders_list.setAdapter(null);</code>"}],"answers":[{"tags":[],"owner":{"account_id":4677588,"reputation":1685,"user_id":3787344,"accept_rate":59,"display_name":"SimpleCoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652717952,"creation_date":1652535259,"answer_id":72240710,"question_id":72240633,"body_markdown":"After clearing the ArrayList you have to notify the adapter that the data source has been changed.\r\n\r\n\r\n    public class OrderPage extends AppCompatActivity {\r\n        \r\n        private ListView orders_list;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_order_page);\r\n            orders_list = findViewById(R.id.orders_list);\r\n            List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\r\n            for (Course c : MainActivity.fullCourseList) {\r\n                if(Order.items_id.contains(c.getId()))\r\n                    coursesTitle.add(c.getTitle());\r\n            }\r\n            orders_list.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle));\r\n        }\r\n    \r\n        public void openMain(View view){\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            startActivity(intent);\r\n        }\r\n        public void onClick(View v) {\r\n            fullCourseList.clear();\r\n            orders_list.getAdapter().notifyDataSetChanged();\r\n        }\r\n    }","title":"How to remove everything from ListView using a button onClick?","body":"<p>After clearing the ArrayList you have to notify the adapter that the data source has been changed.</p>\n<pre><code>public class OrderPage extends AppCompatActivity {\n    \n    private ListView orders_list;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_order_page);\n        orders_list = findViewById(R.id.orders_list);\n        List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\n        for (Course c : MainActivity.fullCourseList) {\n            if(Order.items_id.contains(c.getId()))\n                coursesTitle.add(c.getTitle());\n        }\n        orders_list.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle));\n    }\n\n    public void openMain(View view){\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        startActivity(intent);\n    }\n    public void onClick(View v) {\n        fullCourseList.clear();\n        orders_list.getAdapter().notifyDataSetChanged();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652618780,"creation_date":1652557876,"answer_id":72243443,"question_id":72240633,"body_markdown":"You should save off the adapter so you can call `clear()` on it. Clearing the list this way will also automatically notify the adapter to update. Since you copied your data into a new list (`coursesTitle`) clearing the original list will have no immediate effect.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class OrderPage extends AppCompatActivity {\r\n    \r\n    private ListView orders_list;\r\n    private ArrayAdapter&lt;String&gt; adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_order_page);\r\n        orders_list = findViewById(R.id.orders_list);\r\n        List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\r\n        for (Course c : MainActivity.fullCourseList) {\r\n            if(Order.items_id.contains(c.getId()))\r\n                coursesTitle.add(c.getTitle());\r\n        }\r\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle)\r\n        orders_list.setAdapter(adapter);\r\n    }\r\n\r\n    public void onClick(View v) {\r\n        adapter.clear();\r\n    }\r\n}\r\n```\r\n\r\n**Edit**\r\n\r\nIf you *also* want to clear the currently displayed course items out of the master list, you would need to add code like this as well. If that isn&#39;t want you want, you need to be more clear in your question about the desired behavior.\r\n\r\n```java\r\npublic void onClick(View v) {\r\n    // clear what is currently shown in the list\r\n    adapter.clear();\r\n\r\n    // Clear the currently displayed entries out of the master list.\r\n    // You may also be able to use &quot;removeIf&quot; if you have a new\r\n    // enough java/api version\r\n    Iterator&lt;Course&gt; itr = MainActivity.fullCourseList.iterator();\r\n    while (itr.hasNext()) {\r\n        Course c = itr.next();\r\n        if(Order.items_id.contains(c.getId())) {\r\n            itr.remove();\r\n        }\r\n    }\r\n\r\n    // And if you want to ENTIRELY clear the master list, you\r\n    // could just do this instead\r\n    // MainActivity.fullCourseList.clear()\r\n}\r\n        \r\n```","title":"How to remove everything from ListView using a button onClick?","body":"<p>You should save off the adapter so you can call <code>clear()</code> on it. Clearing the list this way will also automatically notify the adapter to update. Since you copied your data into a new list (<code>coursesTitle</code>) clearing the original list will have no immediate effect.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderPage extends AppCompatActivity {\n    \n    private ListView orders_list;\n    private ArrayAdapter&lt;String&gt; adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_order_page);\n        orders_list = findViewById(R.id.orders_list);\n        List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\n        for (Course c : MainActivity.fullCourseList) {\n            if(Order.items_id.contains(c.getId()))\n                coursesTitle.add(c.getTitle());\n        }\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle)\n        orders_list.setAdapter(adapter);\n    }\n\n    public void onClick(View v) {\n        adapter.clear();\n    }\n}\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>If you <em>also</em> want to clear the currently displayed course items out of the master list, you would need to add code like this as well. If that isn't want you want, you need to be more clear in your question about the desired behavior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onClick(View v) {\n    // clear what is currently shown in the list\n    adapter.clear();\n\n    // Clear the currently displayed entries out of the master list.\n    // You may also be able to use &quot;removeIf&quot; if you have a new\n    // enough java/api version\n    Iterator&lt;Course&gt; itr = MainActivity.fullCourseList.iterator();\n    while (itr.hasNext()) {\n        Course c = itr.next();\n        if(Order.items_id.contains(c.getId())) {\n            itr.remove();\n        }\n    }\n\n    // And if you want to ENTIRELY clear the master list, you\n    // could just do this instead\n    // MainActivity.fullCourseList.clear()\n}\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25289626,"reputation":3,"user_id":19115984,"display_name":"Slader "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652649992,"creation_date":1652647081,"answer_id":72252010,"question_id":72240633,"body_markdown":"Everything was easier than I thought, I confused myself with my own class names. Thank you all very much for your help! \r\nThis worked:\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    \r\n    import android.widget.ArrayAdapter;;\r\n    import android.widget.ListView;\r\n    \r\n    import com.example.diplom.model.Course;\r\n    import com.example.diplom.model.Order;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class OrderPage extends AppCompatActivity {\r\n    \r\n        private ListView orders_list;\r\n        private ArrayAdapter&lt;String&gt; adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_order_page);\r\n            orders_list = findViewById(R.id.orders_list);\r\n            List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\r\n            for (Course c : MainActivity.fullCourseList) {\r\n                if(Order.items_id.contains(c.getId()))\r\n                    coursesTitle.add(c.getTitle());\r\n            }\r\n            adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle);\r\n            orders_list.setAdapter(adapter);\r\n    \r\n        }\r\n    \r\n        public void onClick(View v) {\r\n            adapter.clear();\r\n            Order.items_id.clear();\r\n        }\r\n        public void openMain(View view){\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            startActivity(intent);\r\n        }\r\n    \r\n    }","title":"How to remove everything from ListView using a button onClick?","body":"<p>Everything was easier than I thought, I confused myself with my own class names. Thank you all very much for your help!\nThis worked:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\n\nimport android.widget.ArrayAdapter;;\nimport android.widget.ListView;\n\nimport com.example.diplom.model.Course;\nimport com.example.diplom.model.Order;\n\nimport java.util.ArrayList;\n\nimport java.util.List;\n\npublic class OrderPage extends AppCompatActivity {\n\n    private ListView orders_list;\n    private ArrayAdapter&lt;String&gt; adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_order_page);\n        orders_list = findViewById(R.id.orders_list);\n        List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\n        for (Course c : MainActivity.fullCourseList) {\n            if(Order.items_id.contains(c.getId()))\n                coursesTitle.add(c.getTitle());\n        }\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle);\n        orders_list.setAdapter(adapter);\n\n    }\n\n    public void onClick(View v) {\n        adapter.clear();\n        Order.items_id.clear();\n    }\n    public void openMain(View view){\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        startActivity(intent);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25289626,"reputation":3,"user_id":19115984,"display_name":"Slader "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72243443,"answer_count":3,"score":0,"last_activity_date":1652717952,"creation_date":1652534606,"question_id":72240633,"body_markdown":"How to remove everything from ListView using a button onClick? When i try &quot;fullCourseList.clear();&quot;, I can&#39;t add any more courses and the page is refreshed only after visiting the page again\r\n\r\n\r\n    import static com.example.diplom.MainActivity.fullCourseList;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    \r\n    import com.example.diplom.model.Course;\r\n    import com.example.diplom.model.Order;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class OrderPage extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_order_page);\r\n    \r\n            ListView orders_list = findViewById(R.id.orders_list);\r\n    \r\n            List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\r\n            for (Course c : MainActivity.fullCourseList) {\r\n                if(Order.items_id.contains(c.getId()))\r\n                    coursesTitle.add(c.getTitle());\r\n    \r\n            }\r\n    \r\n            orders_list.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle));\r\n    \r\n    \r\n        }\r\n    \r\n        public void openMain(View view){\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            startActivity(intent);\r\n        }\r\n        public void onClick(View v) {\r\n            //fullCourseList.clear();\r\n        }\r\n    }","title":"How to remove everything from ListView using a button onClick?","body":"<p>How to remove everything from ListView using a button onClick? When i try &quot;fullCourseList.clear();&quot;, I can't add any more courses and the page is refreshed only after visiting the page again</p>\n<pre><code>import static com.example.diplom.MainActivity.fullCourseList;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport com.example.diplom.model.Course;\nimport com.example.diplom.model.Order;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class OrderPage extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_order_page);\n\n        ListView orders_list = findViewById(R.id.orders_list);\n\n        List&lt;String&gt; coursesTitle = new ArrayList&lt;&gt;();\n        for (Course c : MainActivity.fullCourseList) {\n            if(Order.items_id.contains(c.getId()))\n                coursesTitle.add(c.getTitle());\n\n        }\n\n        orders_list.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, coursesTitle));\n\n\n    }\n\n    public void openMain(View view){\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        startActivity(intent);\n    }\n    public void onClick(View v) {\n        //fullCourseList.clear();\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","spring-test"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1652714314,"post_id":72261490,"comment_id":127666702,"body_markdown":"Having two different test suites shouldn&#39;t be an issue.","body":"Having two different test suites shouldn&#39;t be an issue."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652717844,"creation_date":1652717844,"answer_id":72262387,"question_id":72261490,"body_markdown":"The cleanest way to perform such tests is to replace field injection with constructor injection, and then you can quite easily confirm that the value that&#39;s passed into the class comes back out the service call.\r\n\r\nIf you&#39;re using Boot, it&#39;s usually best to replace use of `@Value` with `@ConfigurationProperties`. Depending on the specifics, you can either pass the whole properties object to the service&#39;s constructor or write an `@Bean` configuration method that unpacks the relevant properties and passes them as plain constructor parameters with `new`.","title":"Is it possible to retrieve value from application.properties without autowiring the class under test?","body":"<p>The cleanest way to perform such tests is to replace field injection with constructor injection, and then you can quite easily confirm that the value that's passed into the class comes back out the service call.</p>\n<p>If you're using Boot, it's usually best to replace use of <code>@Value</code> with <code>@ConfigurationProperties</code>. Depending on the specifics, you can either pass the whole properties object to the service's constructor or write an <code>@Bean</code> configuration method that unpacks the relevant properties and passes them as plain constructor parameters with <code>new</code>.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72262387,"answer_count":1,"score":0,"last_activity_date":1652717844,"creation_date":1652713910,"question_id":72261490,"body_markdown":"I have a test class that is annotated with `@Spy` and `@InjectMocks` and tested using Mockito. The class under test has a value (url) that is retrieved from the `application.properties` file. I&#39;d like to test whether this url is being set correctly within the method that uses it. I can do this if I remove the `@Spy` and `@InjectMocks` annotations and use `@Autowire` and `@SpringBootTest`. However, that breaks other tests that use the spy functionality, so I&#39;m just wondering if there&#39;s any way we can keep the spy working and test all our methods inside the same file, maybe without the need to bring in the `@SpringBootTest` annotation and the autowiring? The workaround we&#39;re using for now is to have two files, one that uses the spy and the other that tests the specific method to do with the properties file and that requires the full context to load, but not sure that&#39;s the best solution here?\r\n\r\n\r\nHere is the test with the spy:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass ProviderHelperServiceTest {\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    ProviderHelperService providerHelperService;\r\n    \r\n    @Value(&quot;${viaduct-url}&quot;)\r\n    String viaductUrl;\r\n    \r\n    @Test\r\n    void testGetRequestBodyUriSpec() {\r\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = providerHelperService.getRequestBodyUriSpec(&quot;sifToken&quot;);\r\n        \r\n        final String[] url = new String[1];\r\n        requestBodyUriSpec.attributes(httpHeaders -&gt; {\r\n            url[0] = (String) httpHeaders.get(&quot;org.springframework.web.reactive.function.client.WebClient.uriTemplate&quot;);\r\n        });\r\n\r\n        // Fails as url[0] comes back as null. Disabled and moved to another file.\r\n        assertEquals(viaductUrl, url[0]);\r\n    }\r\n```\r\n\r\n```\r\n@SpringBootTest\r\nclass ProviderHelperService2Test {\r\n\r\n    @Autowired\r\n    ProviderHelperService providerHelperService;\r\n\r\n    @Value(&quot;${viaduct-url}&quot;)\r\n    String viaductUrl;\r\n\r\n    @Test\r\n    void testGetRequestBodyUriSpec() {\r\n\r\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = providerHelperService.getRequestBodyUriSpec(&quot;sifToken&quot;);\r\n        \r\n        final String[] url = new String[1];\r\n        requestBodyUriSpec.attributes(httpHeaders -&gt; {\r\n            url[0] = (String) httpHeaders.get(&quot;org.springframework.web.reactive.function.client.WebClient.uriTemplate&quot;);\r\n        });\r\n\r\n       assertEquals(viaductUrl, url[0]);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the method under test:\r\n\r\n```\r\npublic class ProviderHelperService {\r\n\r\n    @Value(&quot;${viaduct-url}&quot;)\r\n    String viaductUrl;\r\n    \r\n    \r\n    public WebClient.RequestBodyUriSpec getRequestBodyUriSpec(String sifToken) {\r\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = WebClient.create().post();\r\n        requestBodyUriSpec.header(&quot;Authorization&quot;, sifToken);\r\n        requestBodyUriSpec.uri(viaductUrl);\r\n        return requestBodyUriSpec;\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Is it possible to retrieve value from application.properties without autowiring the class under test?","body":"<p>I have a test class that is annotated with <code>@Spy</code> and <code>@InjectMocks</code> and tested using Mockito. The class under test has a value (url) that is retrieved from the <code>application.properties</code> file. I'd like to test whether this url is being set correctly within the method that uses it. I can do this if I remove the <code>@Spy</code> and <code>@InjectMocks</code> annotations and use <code>@Autowire</code> and <code>@SpringBootTest</code>. However, that breaks other tests that use the spy functionality, so I'm just wondering if there's any way we can keep the spy working and test all our methods inside the same file, maybe without the need to bring in the <code>@SpringBootTest</code> annotation and the autowiring? The workaround we're using for now is to have two files, one that uses the spy and the other that tests the specific method to do with the properties file and that requires the full context to load, but not sure that's the best solution here?</p>\n<p>Here is the test with the spy:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ProviderHelperServiceTest {\n\n    @Spy\n    @InjectMocks\n    ProviderHelperService providerHelperService;\n    \n    @Value(&quot;${viaduct-url}&quot;)\n    String viaductUrl;\n    \n    @Test\n    void testGetRequestBodyUriSpec() {\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = providerHelperService.getRequestBodyUriSpec(&quot;sifToken&quot;);\n        \n        final String[] url = new String[1];\n        requestBodyUriSpec.attributes(httpHeaders -&gt; {\n            url[0] = (String) httpHeaders.get(&quot;org.springframework.web.reactive.function.client.WebClient.uriTemplate&quot;);\n        });\n\n        // Fails as url[0] comes back as null. Disabled and moved to another file.\n        assertEquals(viaductUrl, url[0]);\n    }\n</code></pre>\n<pre><code>@SpringBootTest\nclass ProviderHelperService2Test {\n\n    @Autowired\n    ProviderHelperService providerHelperService;\n\n    @Value(&quot;${viaduct-url}&quot;)\n    String viaductUrl;\n\n    @Test\n    void testGetRequestBodyUriSpec() {\n\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = providerHelperService.getRequestBodyUriSpec(&quot;sifToken&quot;);\n        \n        final String[] url = new String[1];\n        requestBodyUriSpec.attributes(httpHeaders -&gt; {\n            url[0] = (String) httpHeaders.get(&quot;org.springframework.web.reactive.function.client.WebClient.uriTemplate&quot;);\n        });\n\n       assertEquals(viaductUrl, url[0]);\n    }\n}\n</code></pre>\n<p>And here is the method under test:</p>\n<pre><code>public class ProviderHelperService {\n\n    @Value(&quot;${viaduct-url}&quot;)\n    String viaductUrl;\n    \n    \n    public WebClient.RequestBodyUriSpec getRequestBodyUriSpec(String sifToken) {\n        WebClient.RequestBodyUriSpec requestBodyUriSpec = WebClient.create().post();\n        requestBodyUriSpec.header(&quot;Authorization&quot;, sifToken);\n        requestBodyUriSpec.uri(viaductUrl);\n        return requestBodyUriSpec;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","variables","java-8","java-7"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1652552299,"post_id":72242797,"comment_id":127635787,"body_markdown":"So basically you want to print &quot;hello all non zero values&quot; if x and y and z and w are greater than or equal to 1, else print &quot;hello zero&quot; if x and y and z and w are equal to zero, else print &quot;illegal values&quot; if x or z or y or w is equal to or less than zero. What problem exactly are you facing when trying to implement this? Also you have two conditions that can be triggered by the same set of values (namely if all values are zero, then at least one of them is zero, so that fulfills the requirements to print both &quot;hello zero&quot; and &quot;illegal values&quot;. How are you supposed to handle this case?","body":"So basically you want to print &quot;hello all non zero values&quot; if x and y and z and w are greater than or equal to 1, else print &quot;hello zero&quot; if x and y and z and w are equal to zero, else print &quot;illegal values&quot; if x or z or y or w is equal to or less than zero. What problem exactly are you facing when trying to implement this? Also you have two conditions that can be triggered by the same set of values (namely if all values are zero, then at least one of them is zero, so that fulfills the requirements to print both &quot;hello zero&quot; and &quot;illegal values&quot;. How are you supposed to handle this case?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1652552370,"post_id":72242797,"comment_id":127635798,"body_markdown":"`IntStream.of(x,y,z,w).allMatch(i -&gt; i &gt; 0)` ?","body":"<code>IntStream.of(x,y,z,w).allMatch(i -&gt; i &gt; 0)</code> ?"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1652584768,"post_id":72242797,"comment_id":127639797,"body_markdown":"This: *(x&amp;y&amp;z&amp;w) == 0* is true if **any** of the variables is zero, which does not match your problem statement.","body":"This: <i>(x&amp;y&amp;z&amp;w) == 0</i> is true if <b>any</b> of the variables is zero, which does not match your problem statement."}],"answers":[{"tags":[],"owner":{"account_id":25291385,"reputation":76,"user_id":19117399,"display_name":"Jackson V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652638070,"creation_date":1652552440,"answer_id":72242878,"question_id":72242797,"body_markdown":"Does this work for you?\r\n```\r\nif  ((x&gt;0)&amp;(y&gt;0)&amp;(z&gt;0)&amp;(w&gt;0)) {\r\n    System.out.println(&quot;hello all non zero values&quot;);\r\n} else {\r\n    System.out.println(&quot;illegal values&quot;);\r\n}\r\n```\r\nEdit: this doesn&#39;t fully answer the question, my apologies","title":"Four values to be non zero and non negative","body":"<p>Does this work for you?</p>\n<pre><code>if  ((x&gt;0)&amp;(y&gt;0)&amp;(z&gt;0)&amp;(w&gt;0)) {\n    System.out.println(&quot;hello all non zero values&quot;);\n} else {\n    System.out.println(&quot;illegal values&quot;);\n}\n</code></pre>\n<p>Edit: this doesn't fully answer the question, my apologies</p>\n"},{"tags":[],"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652552547,"creation_date":1652552547,"answer_id":72242897,"question_id":72242797,"body_markdown":"Something like this?\r\n\r\n    if (x &gt; 0 &amp;&amp; y &gt; 0 &amp;&amp; z &gt; 0 &amp;&amp; w &gt; 0) {\r\n       System.out.println(&quot;hello all non zero values&quot;);\r\n    } else if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0 &amp;&amp; w == 0) {\r\n       System.out.println(&quot;hello zero&quot;);\r\n    } else {\r\n       System.out.println(&quot;illegal values&quot;);\r\n    }\r\n\r\n","title":"Four values to be non zero and non negative","body":"<p>Something like this?</p>\n<pre><code>if (x &gt; 0 &amp;&amp; y &gt; 0 &amp;&amp; z &gt; 0 &amp;&amp; w &gt; 0) {\n   System.out.println(&quot;hello all non zero values&quot;);\n} else if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0 &amp;&amp; w == 0) {\n   System.out.println(&quot;hello zero&quot;);\n} else {\n   System.out.println(&quot;illegal values&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652552632,"creation_date":1652552632,"answer_id":72242905,"question_id":72242797,"body_markdown":"It might help to reword your question in a different but equivalent way. You are basically printing &quot;hello zero&quot; if all of them are zero, &quot;hello all non zero values&quot; if all of them are *positive*, and &quot;illegal values&quot; *in all other cases*.\r\n\r\n    if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0 &amp;&amp; w == 0) {\r\n        System.out.println(&quot;hello zero&quot;);\r\n    } else if (x &gt; 0 &amp;&amp; y &gt; 0 &amp;&amp; z &gt; 0 &amp;&amp; w &gt; 0) {\r\n        System.out.println(&quot;hello all non zero values&quot;);\r\n    } else {\r\n        System.out.println(&quot;illegal values&quot;);\r\n    }","title":"Four values to be non zero and non negative","body":"<p>It might help to reword your question in a different but equivalent way. You are basically printing &quot;hello zero&quot; if all of them are zero, &quot;hello all non zero values&quot; if all of them are <em>positive</em>, and &quot;illegal values&quot; <em>in all other cases</em>.</p>\n<pre><code>if (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0 &amp;&amp; w == 0) {\n    System.out.println(&quot;hello zero&quot;);\n} else if (x &gt; 0 &amp;&amp; y &gt; 0 &amp;&amp; z &gt; 0 &amp;&amp; w &gt; 0) {\n    System.out.println(&quot;hello all non zero values&quot;);\n} else {\n    System.out.println(&quot;illegal values&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652717699,"creation_date":1652584378,"answer_id":72245295,"question_id":72242797,"body_markdown":"The bit-fiddling approach:\r\n\r\n    String s;\r\n    int j = w &amp; x &amp; y &amp; z;\r\n    int k = w | x | y | z;\r\n    if (k == 0)\r\n        s = &quot;hello zero&quot;;\r\n    else if (j != 0 &amp;&amp; k &gt; 0)\r\n        s = &quot;hello all non-zero values&quot;;\r\n    else\r\n        s = &quot;illegal values&quot;;\r\n    System.out.println(s);\r\n    \r\nThis works because the bitwise-and is zero if any of the four values is zero, the bitwise-or is non-zero if any of the four values is non-zero; and the sign bit is set in the result (i.e., negative) if the sign bit is set in any of the four values.\r\n\r\n(And I use the temporary &#39;s&#39; because why write 3 calls to the same routine)\r\n\r\n---\r\nEdited: this answer was updated after a recent edit to the question, which has clarified the criteria. ","title":"Four values to be non zero and non negative","body":"<p>The bit-fiddling approach:</p>\n<pre><code>String s;\nint j = w &amp; x &amp; y &amp; z;\nint k = w | x | y | z;\nif (k == 0)\n    s = &quot;hello zero&quot;;\nelse if (j != 0 &amp;&amp; k &gt; 0)\n    s = &quot;hello all non-zero values&quot;;\nelse\n    s = &quot;illegal values&quot;;\nSystem.out.println(s);\n</code></pre>\n<p>This works because the bitwise-and is zero if any of the four values is zero, the bitwise-or is non-zero if any of the four values is non-zero; and the sign bit is set in the result (i.e., negative) if the sign bit is set in any of the four values.</p>\n<p>(And I use the temporary 's' because why write 3 calls to the same routine)</p>\n<hr />\n<p>Edited: this answer was updated after a recent edit to the question, which has clarified the criteria.</p>\n"}],"owner":{"account_id":3272354,"reputation":348,"user_id":2755407,"display_name":"user2755407"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1652717699,"creation_date":1652551632,"question_id":72242797,"body_markdown":"Suppose I have four variables x, y, z, w. I want to print:\r\n\r\n- &quot;hello all non zero values&quot; only if all x, y, z, w are non-negative and non-zero values. \r\n\r\n- If all the values are zero, then print &quot;hello zero&quot;. \r\n\r\n- If any of the values (one, two or three but not all of them) is zero or negative then print &quot;illegal values&quot;. \r\n\r\nI&#39;ve written a sample solution which handles and clubs negative as well as non-negative values:\r\n   \r\n```\r\n     if((x&amp;y&amp;z&amp;w) == 0 &amp;&amp; !(x==y &amp;&amp; y==z &amp;&amp; z==w &amp;&amp; w==0)) {\r\n    \t\tSystem.out.println(&quot;illegal values&quot;);\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;hello all non zero values&quot;);\r\n    \t}\r\n```\r\n\r\nHowever, I am not able to handle the negative and positive values separately. Can anyone please suggest a solution for it?","title":"Four values to be non zero and non negative","body":"<p>Suppose I have four variables x, y, z, w. I want to print:</p>\n<ul>\n<li><p>&quot;hello all non zero values&quot; only if all x, y, z, w are non-negative and non-zero values.</p>\n</li>\n<li><p>If all the values are zero, then print &quot;hello zero&quot;.</p>\n</li>\n<li><p>If any of the values (one, two or three but not all of them) is zero or negative then print &quot;illegal values&quot;.</p>\n</li>\n</ul>\n<p>I've written a sample solution which handles and clubs negative as well as non-negative values:</p>\n<pre><code>     if((x&amp;y&amp;z&amp;w) == 0 &amp;&amp; !(x==y &amp;&amp; y==z &amp;&amp; z==w &amp;&amp; w==0)) {\n            System.out.println(&quot;illegal values&quot;);\n        } else {\n            System.out.println(&quot;hello all non zero values&quot;);\n        }\n</code></pre>\n<p>However, I am not able to handle the negative and positive values separately. Can anyone please suggest a solution for it?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1652731662,"post_id":72262332,"comment_id":127672507,"body_markdown":"For clarification: (a) Prior to the upgrade, were you specifically using MOXy as your JAXB implementation? Or have you been using a different implementation (e.g. the Project Metro reference implementation)? Also (b) it sounds like you have a mix of pre-Jakarta and post-Jakarta libraries - the JAXB `jakarta` libs will never refer to `javax` packages (and vice versa).","body":"For clarification: (a) Prior to the upgrade, were you specifically using MOXy as your JAXB implementation? Or have you been using a different implementation (e.g. the Project Metro reference implementation)? Also (b) it sounds like you have a mix of pre-Jakarta and post-Jakarta libraries - the JAXB <code>jakarta</code> libs will never refer to <code>javax</code> packages (and vice versa)."},{"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"score":0,"creation_date":1652739834,"post_id":72262332,"comment_id":127674663,"body_markdown":"@andrewJames no, before i was using the internal jaxb implementation of Java 8. I picked Moxy just because it is already part of Eclipse. Otherwise i would need to supply additional jars. b) You may be right, but i think the main problem is that class loader doesn&#39;t find the implementation. And i&#39;m not sure about Jakarta not using javax packages. I will need to look at it tomorrow, but i think the Jakarta.xml.bind plugin contains the javax packages - at least by name.","body":"@andrewJames no, before i was using the internal jaxb implementation of Java 8. I picked Moxy just because it is already part of Eclipse. Otherwise i would need to supply additional jars. b) You may be right, but i think the main problem is that class loader doesn&#39;t find the implementation. And i&#39;m not sure about Jakarta not using javax packages. I will need to look at it tomorrow, but i think the Jakarta.xml.bind plugin contains the javax packages - at least by name."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1652748457,"post_id":72262332,"comment_id":127676023,"body_markdown":"You are correct that the `jakarta.xml.bind` binding API _did_ reference `javax` packages back in version 2.3.x of the API. But I believe that was a transitional version. Starting with version 3.0.0, that has no longer been the case - and it references only `jakarta` packages from that point onwards.","body":"You are correct that the <code>jakarta.xml.bind</code> binding API <i>did</i> reference <code>javax</code> packages back in version 2.3.x of the API. But I believe that was a transitional version. Starting with version 3.0.0, that has no longer been the case - and it references only <code>jakarta</code> packages from that point onwards."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1652748461,"post_id":72262332,"comment_id":127676027,"body_markdown":"You should be able to build a &quot;pure Jakarta&quot; set-up for JAXB using _only_ these 2 JARs: (1) The API JAR [jakarta.xml.bind-api-3.0.1.jar](https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/3.0.1) and (2) An implementation JAR - e.g. the Glassfish (Metro) JAR [jaxb-runtime-3.0.1.jar](https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/3.0.1). If you choose MOXy, then some additional config may be needed (depending on your specific scenario).","body":"You should be able to build a &quot;pure Jakarta&quot; set-up for JAXB using <i>only</i> these 2 JARs: (1) The API JAR <a href=\"https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/3.0.1\" rel=\"nofollow noreferrer\">jakarta.xml.bind-api-3.0.1.jar</a> and (2) An implementation JAR - e.g. the Glassfish (Metro) JAR <a href=\"https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api/3.0.1\" rel=\"nofollow noreferrer\">jaxb-runtime-3.0.1.jar</a>. If you choose MOXy, then some additional config may be needed (depending on your specific scenario)."},{"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"score":1,"creation_date":1652782819,"post_id":72262332,"comment_id":127684251,"body_markdown":"That means i can&#39;t use prepared plugins and have to include Jars - 8 of them via transitivity.\nIt works! So thank you (you might want to writeup your pointers as an answer).\nBut i would rather have used an existing eclipse plugin, because i can&#39;t imagine that there is no way to use JAX-B in eclipse out of the box.","body":"That means i can&#39;t use prepared plugins and have to include Jars - 8 of them via transitivity. It works! So thank you (you might want to writeup your pointers as an answer). But i would rather have used an existing eclipse plugin, because i can&#39;t imagine that there is no way to use JAX-B in eclipse out of the box."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1652794859,"post_id":72262332,"comment_id":127689038,"body_markdown":"Thank you for the feedback. It sounds like you can write a more focused/relevant/detailed answer than I can, (using my notes as part of the answer, as needed). If you want to do that, it would get my vote. Otherwise, yes, I will convert my notes to an answer.","body":"Thank you for the feedback. It sounds like you can write a more focused/relevant/detailed answer than I can, (using my notes as part of the answer, as needed). If you want to do that, it would get my vote. Otherwise, yes, I will convert my notes to an answer."}],"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652717589,"creation_date":1652717589,"question_id":72262332,"body_markdown":"I need to update my Eclipse plugin to Java 17 and Eclipse 4.23 (2022-03).\r\nThe plugin used JAX-B in Java 8 which included the required classes, but now i need to change it to separate libraries.\r\n\r\nIn order to do so i added these to the list of &quot;Required Plug-ins&quot;\r\n&gt;     jakarta.xml.bind\r\n&gt;     org.eclipse.persistence.moxy\r\n\r\nBoth plugins are readily available in my installation, so that seemed to be the most sensible approach.\r\n\r\nIt seems that the `javax.xml.bind.ContextFinder` included in jakarta.xml.bind is found and tries to load `org.eclipse.persistence.jaxb.JAXBContextFactory`. But that step fails at JAXBContext.newInstance:\r\n\r\n&gt;     javax.xml.bind.JAXBException: Implementation of JAXB-API has not been\r\n&gt;     found on module path or classpath.\r\n&gt;     - with linked exception: [java.lang.ClassNotFoundException:\r\n&gt;     org.eclipse.persistence.jaxb.JAXBContextFactory]\r\n&gt;         at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:232)\r\n&gt;         at javax.xml.bind.ContextFinder.find(ContextFinder.java:345)\r\n&gt;         at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\r\n&gt;         at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\r\n&gt;\r\n&gt;     Caused by: java.lang.ClassNotFoundException: org.eclipse.persistence.jaxb.JAXBContextFactory\r\n&gt;         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n&gt;         at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt;         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt;         at org.eclipse.osgi.internal.framework.ContextFinder.loadClass(ContextFinder.java:147)\r\n&gt;         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt;         at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:92)\r\n&gt;         at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:125)\r\n&gt;         at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:230)\r\n&gt;         ... 46 more\r\n\r\nWhat confuses me greatly about this is that the class JAXBContextFactory can be found if i use `JAXBContext.class.getClassLoader().getResource(&quot;org/eclipse/persistence/jaxb/JAXBContextFactory.class&quot;)` where the class loader is `org.eclipse.osgi.internal.loader.EquinoxClassLoader`. But the internal workings of JAXBContext appear to use a different class loader (`org.eclipse.osgi.internal.framework.ContextFinder`) and that can&#39;t find it.\r\n\r\nHow can i get it to work?","title":"Using JAX-B in Eclipse 4.23 Plugins","body":"<p>I need to update my Eclipse plugin to Java 17 and Eclipse 4.23 (2022-03).\nThe plugin used JAX-B in Java 8 which included the required classes, but now i need to change it to separate libraries.</p>\n<p>In order to do so i added these to the list of &quot;Required Plug-ins&quot;</p>\n<blockquote>\n<pre><code>jakarta.xml.bind\norg.eclipse.persistence.moxy\n</code></pre>\n</blockquote>\n<p>Both plugins are readily available in my installation, so that seemed to be the most sensible approach.</p>\n<p>It seems that the <code>javax.xml.bind.ContextFinder</code> included in jakarta.xml.bind is found and tries to load <code>org.eclipse.persistence.jaxb.JAXBContextFactory</code>. But that step fails at JAXBContext.newInstance:</p>\n<blockquote>\n<pre><code>javax.xml.bind.JAXBException: Implementation of JAXB-API has not been\nfound on module path or classpath.\n- with linked exception: [java.lang.ClassNotFoundException:\norg.eclipse.persistence.jaxb.JAXBContextFactory]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:232)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:345)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\n\nCaused by: java.lang.ClassNotFoundException: org.eclipse.persistence.jaxb.JAXBContextFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.eclipse.osgi.internal.framework.ContextFinder.loadClass(ContextFinder.java:147)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:92)\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:125)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:230)\n    ... 46 more\n</code></pre>\n</blockquote>\n<p>What confuses me greatly about this is that the class JAXBContextFactory can be found if i use <code>JAXBContext.class.getClassLoader().getResource(&quot;org/eclipse/persistence/jaxb/JAXBContextFactory.class&quot;)</code> where the class loader is <code>org.eclipse.osgi.internal.loader.EquinoxClassLoader</code>. But the internal workings of JAXBContext appear to use a different class loader (<code>org.eclipse.osgi.internal.framework.ContextFinder</code>) and that can't find it.</p>\n<p>How can i get it to work?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","reactive"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1652711696,"post_id":72255171,"comment_id":127665612,"body_markdown":"if you need to treat them as a single collection of objects for filtering, you can instead use a `Mono&lt;List&lt;Server&gt;&gt;`.","body":"if you need to treat them as a single collection of objects for filtering, you can instead use a <code>Mono&lt;List&lt;Server&gt;&gt;</code>."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1652711783,"post_id":72255171,"comment_id":127665645,"body_markdown":"You could use `collectList` or `collectMap` to buffer elements and then `flatMapIterable` to transform back to `Flux`","body":"You could use <code>collectList</code> or <code>collectMap</code> to buffer elements and then <code>flatMapIterable</code> to transform back to <code>Flux</code>"}],"answers":[{"tags":[],"owner":{"account_id":5494242,"reputation":1080,"user_id":4365927,"display_name":"Shivaji Mutkule"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652717486,"creation_date":1652717486,"answer_id":72262308,"question_id":72255171,"body_markdown":"You can use filter and switchIfEmpty. It will return Local servers if present otherwise returns dev servers like this\r\n\r\n     public Flux&lt;Server&gt; filterServersLocalOrDev(Flux&lt;Server&gt; serverFlux) {\r\n    \r\n            Flux&lt;Server&gt; filteredServers = serverFlux\r\n                    .filter(s -&gt; &quot;LOCAL&quot;.equals(s.environment))\r\n                    .switchIfEmpty(serverFlux.filter(s -&gt; &quot;DEV&quot;.equals(s.environment)));\r\n    \r\n            return filteredServers;\r\n        }","title":"Filtering a Flux based upon the contents of the Flux, without blocking","body":"<p>You can use filter and switchIfEmpty. It will return Local servers if present otherwise returns dev servers like this</p>\n<pre><code> public Flux&lt;Server&gt; filterServersLocalOrDev(Flux&lt;Server&gt; serverFlux) {\n\n        Flux&lt;Server&gt; filteredServers = serverFlux\n                .filter(s -&gt; &quot;LOCAL&quot;.equals(s.environment))\n                .switchIfEmpty(serverFlux.filter(s -&gt; &quot;DEV&quot;.equals(s.environment)));\n\n        return filteredServers;\n    }\n</code></pre>\n"}],"owner":{"account_id":23289998,"reputation":31,"user_id":17372221,"display_name":"CoffeeCupDeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652717486,"creation_date":1652684149,"question_id":72255171,"body_markdown":"Requirement: given the list of Servers in a Flux, return the LOCAL server if it is present, OR return the DEV servers if the LOCAL server is not present, and must be done in a non-blocking way.\r\n\r\nI don&#39;t know how to do that with the Flux.filter method since it only allows you to examine one element at a time, and to perform that filtering you have to know what is in the whole list ahead of time.  This was easy with blocking code as I simply iterated over the entire list ahead of time to determine if it had LOCAL or DEV instances, etc.  Not sure how to do this with a Flux though.\r\n\r\nServer Class:\r\n\r\n    class Server {\r\n\t\tpublic String environment;\r\n\t\tpublic String hostName;\r\n\t\tpublic Server(String environment, String hostName) {\r\n\t\t\tthis.environment = environment;\r\n\t\t\tthis.hostName = hostName;\r\n\t\t}\r\n\t}\r\n\r\nFilter Method:\r\n\r\n   \tpublic Flux&lt;Server&gt; filterServersLocalOrDev(Flux&lt;Server&gt; serverFlux) {\r\n\t\t\r\n\t\tFlux&lt;Server&gt; filteredServers = // do filtering here..how to?\r\n\t\t\r\n\t\treturn filteredServers;\r\n\t}\r\n\r\nDemo calling code:\r\n\r\n    Server server1 = new Server(&quot;DEV&quot;, &quot;dev1.somecompany.com&quot;);\r\n\tServer server2 = new Server(&quot;TEST&quot;, &quot;test1.somecompany.com&quot;);\r\n\tServer server3 = new Server(&quot;DEV&quot;, &quot;dev2.somecompany.com&quot;);\r\n\tServer server4 = new Server(&quot;LOCAL&quot;, &quot;localhost&quot;);\r\n\r\n\tFlux&lt;Server&gt; serverFlux = Flux.just(server1, server2, server3, server4);\r\n\tFlux&lt;Server&gt; filteredServerFlux = filterServersLocalOrDev(serverFlux);\r\n\t\t\r\n\t// filteredServerFlux should only contain LOCAL if it is \r\n\t// present OR the two DEV servers if there is no LOCAL\r\n\r\n\r\n\r\n","title":"Filtering a Flux based upon the contents of the Flux, without blocking","body":"<p>Requirement: given the list of Servers in a Flux, return the LOCAL server if it is present, OR return the DEV servers if the LOCAL server is not present, and must be done in a non-blocking way.</p>\n<p>I don't know how to do that with the Flux.filter method since it only allows you to examine one element at a time, and to perform that filtering you have to know what is in the whole list ahead of time.  This was easy with blocking code as I simply iterated over the entire list ahead of time to determine if it had LOCAL or DEV instances, etc.  Not sure how to do this with a Flux though.</p>\n<p>Server Class:</p>\n<pre><code>class Server {\n    public String environment;\n    public String hostName;\n    public Server(String environment, String hostName) {\n        this.environment = environment;\n        this.hostName = hostName;\n    }\n}\n</code></pre>\n<p>Filter Method:</p>\n<pre><code>public Flux&lt;Server&gt; filterServersLocalOrDev(Flux&lt;Server&gt; serverFlux) {\n    \n    Flux&lt;Server&gt; filteredServers = // do filtering here..how to?\n    \n    return filteredServers;\n}\n</code></pre>\n<p>Demo calling code:</p>\n<pre><code>Server server1 = new Server(&quot;DEV&quot;, &quot;dev1.somecompany.com&quot;);\nServer server2 = new Server(&quot;TEST&quot;, &quot;test1.somecompany.com&quot;);\nServer server3 = new Server(&quot;DEV&quot;, &quot;dev2.somecompany.com&quot;);\nServer server4 = new Server(&quot;LOCAL&quot;, &quot;localhost&quot;);\n\nFlux&lt;Server&gt; serverFlux = Flux.just(server1, server2, server3, server4);\nFlux&lt;Server&gt; filteredServerFlux = filterServersLocalOrDev(serverFlux);\n    \n// filteredServerFlux should only contain LOCAL if it is \n// present OR the two DEV servers if there is no LOCAL\n</code></pre>\n"},{"tags":["java","android","api","kotlin","retrofit"],"answers":[{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652665236,"creation_date":1652665236,"answer_id":72253417,"question_id":72252890,"body_markdown":"That&#39;s simply because you haven&#39;t annotated your `searchStores` function. There is this `fun getStore(): Single&lt;List&lt;Stores&gt;&gt;` function in between the GET annotation and `searchStore` function and looking at the endpoint, probably the GET annotation is for the `searchStore` function. You need to annotate each function separately.\r\n\r\nI guess it should look like this:\r\n```kotlin\r\ninterface StoresApi {\r\n\r\n    @GET(&quot;your-endpoint&quot;)\r\n    fun getStore(): Single&lt;List&lt;Stores&gt;&gt;\r\n\r\n    @GET(&quot;businesses/search&quot;)\r\n    fun searchStores(\r\n      @Header(&quot;Authorization&quot;) authHeader: String,\r\n      @Query(&quot;term&quot;) searchTerm: String,\r\n      @Query(&quot;location&quot;) location: String\r\n    ): Call&lt;List&lt;Stores&gt;&gt;\r\n\r\n}\r\n```","title":"Android Studio showing this error :Retrofit2 Android HTTP method annotation is required (e.g., @GET, @POST, etc.)","body":"<p>That's simply because you haven't annotated your <code>searchStores</code> function. There is this <code>fun getStore(): Single&lt;List&lt;Stores&gt;&gt;</code> function in between the GET annotation and <code>searchStore</code> function and looking at the endpoint, probably the GET annotation is for the <code>searchStore</code> function. You need to annotate each function separately.</p>\n<p>I guess it should look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface StoresApi {\n\n    @GET(&quot;your-endpoint&quot;)\n    fun getStore(): Single&lt;List&lt;Stores&gt;&gt;\n\n    @GET(&quot;businesses/search&quot;)\n    fun searchStores(\n      @Header(&quot;Authorization&quot;) authHeader: String,\n      @Query(&quot;term&quot;) searchTerm: String,\n      @Query(&quot;location&quot;) location: String\n    ): Call&lt;List&lt;Stores&gt;&gt;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9907154,"reputation":733,"user_id":7335321,"display_name":"Sajith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652678777,"creation_date":1652678777,"answer_id":72254494,"question_id":72252890,"body_markdown":"Try this, You have missed the annotation for the second function,\\. Every function needs its own annotation.\r\n\r\n    @GET(&quot;businesses/search&quot;)    \r\n    fun searchStores(\r\n      @Header(&quot;Authorization&quot;) authHeader: String,\r\n      @Query(&quot;term&quot;) searchTerm: String,\r\n      @Query(&quot;location&quot;) location: String\r\n    ): Call&lt;List&lt;Stores&gt;&gt;","title":"Android Studio showing this error :Retrofit2 Android HTTP method annotation is required (e.g., @GET, @POST, etc.)","body":"<p>Try this, You have missed the annotation for the second function,. Every function needs its own annotation.</p>\n<pre><code>@GET(&quot;businesses/search&quot;)    \nfun searchStores(\n  @Header(&quot;Authorization&quot;) authHeader: String,\n  @Query(&quot;term&quot;) searchTerm: String,\n  @Query(&quot;location&quot;) location: String\n): Call&lt;List&lt;Stores&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":6722862,"reputation":1,"user_id":5182120,"display_name":"Sohaib Alomari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652717445,"creation_date":1652657457,"question_id":72252890,"body_markdown":"It keeps showing me this error in Android Studio, I am using retrofit 2, trying to get data from Yelp API and it keeps showing me this msg \r\n\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{sf.alomari.yelp/sf.alomari.view.MainActivity}: java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.).\r\n        for method StoresApi.searchStores\r\n\r\nAnd this is the SearchStores Method\r\n\r\n    \r\n    import io.reactivex.Single\r\n    import retrofit2.Call\r\n    import retrofit2.http.GET\r\n    import retrofit2.http.Header\r\n    import retrofit2.http.Query\r\n    \r\n    interface StoresApi {\r\n    \r\n        @GET(&quot;businesses/search&quot;)\r\n        fun getStore(): Single&lt;List&lt;Stores&gt;&gt;\r\n      fun searchStores(\r\n          @Header(&quot;Authorization&quot;)authHeader:String,\r\n          @Query(&quot;term&quot;)searchTerm:String,\r\n          @Query(&quot;location&quot;)location:String): Call&lt;List&lt;Stores&gt;&gt;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nThank you\r\n\r\n\r\n","title":"Android Studio showing this error :Retrofit2 Android HTTP method annotation is required (e.g., @GET, @POST, etc.)","body":"<p>It keeps showing me this error in Android Studio, I am using retrofit 2, trying to get data from Yelp API and it keeps showing me this msg</p>\n<p>java.lang.RuntimeException: Unable to start activity ComponentInfo{sf.alomari.yelp/sf.alomari.view.MainActivity}: java.lang.IllegalArgumentException: HTTP method annotation is required (e.g., @GET, @POST, etc.).\nfor method StoresApi.searchStores</p>\n<p>And this is the SearchStores Method</p>\n<pre><code>import io.reactivex.Single\nimport retrofit2.Call\nimport retrofit2.http.GET\nimport retrofit2.http.Header\nimport retrofit2.http.Query\n\ninterface StoresApi {\n\n    @GET(&quot;businesses/search&quot;)\n    fun getStore(): Single&lt;List&lt;Stores&gt;&gt;\n  fun searchStores(\n      @Header(&quot;Authorization&quot;)authHeader:String,\n      @Query(&quot;term&quot;)searchTerm:String,\n      @Query(&quot;location&quot;)location:String): Call&lt;List&lt;Stores&gt;&gt;\n\n\n\n}\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","android","kotlin","spinner"],"comments":[{"owner":{"account_id":23990345,"reputation":1212,"user_id":17976599,"display_name":"Sumit Sharma"},"score":0,"creation_date":1652731135,"post_id":72261368,"comment_id":127672361,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11658866,"reputation":85,"user_id":8537792,"display_name":"Damola Obaleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652717270,"creation_date":1652717270,"answer_id":72262257,"question_id":72261368,"body_markdown":"Yes. You need to use the getItemAtPosition() method. From your user interface, the Object you are trying to retrieve is a String. So if you wrote your code in Java. Knowing you&#39;ve used a TextView to display the selection\r\n\r\n**Java**\r\n\r\n    TextView clotheColor = findViewById(R.id.whatever_the_id_is);\r\n    \r\n    String selectedColor = &quot;&quot;;\r\n    \r\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    selectedColor = parent.getItemAtPosition(position).toString();\r\n                    Log.i(TAG, selectedColor);\r\n    \r\n                    switch (selectedSpinnerItem) {\r\n                        case &quot;Brown&quot;:\r\n                            \r\n                        case &quot;Red&quot;:\r\n                        case &quot;Blue&quot;:\r\n                            clotheColor.SetText(selectedColor);\r\n                            break;\r\n                        default:\r\n                            Log.i(TAG, &quot;&quot;);\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                    Log.i(TAG, &quot;Nothing has been selected&quot;);\r\n                }\r\n            });\r\n\r\n**KOTLIN**\r\n\r\nYou can convert the code to Kotlin from here. Read this.\r\nhttps://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin","title":"How to set the spinner position to selected item from choice selected in different fragment","body":"<p>Yes. You need to use the getItemAtPosition() method. From your user interface, the Object you are trying to retrieve is a String. So if you wrote your code in Java. Knowing you've used a TextView to display the selection</p>\n<p><strong>Java</strong></p>\n<pre><code>TextView clotheColor = findViewById(R.id.whatever_the_id_is);\n\nString selectedColor = &quot;&quot;;\n\nspinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                selectedColor = parent.getItemAtPosition(position).toString();\n                Log.i(TAG, selectedColor);\n\n                switch (selectedSpinnerItem) {\n                    case &quot;Brown&quot;:\n                        \n                    case &quot;Red&quot;:\n                    case &quot;Blue&quot;:\n                        clotheColor.SetText(selectedColor);\n                        break;\n                    default:\n                        Log.i(TAG, &quot;&quot;);\n\n                }\n\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                Log.i(TAG, &quot;Nothing has been selected&quot;);\n            }\n        });\n</code></pre>\n<p><strong>KOTLIN</strong></p>\n<p>You can convert the code to Kotlin from here. Read this.\n<a href=\"https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin\">How can I convert a part of Java source file to Kotlin?</a></p>\n"}],"owner":{"account_id":25304855,"reputation":1,"user_id":19128552,"display_name":"johnsn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652717270,"creation_date":1652713377,"question_id":72261368,"body_markdown":"[Add color spinner][1]\r\n\r\n\r\n\r\n\r\n[the update fragment ][2]\r\n\r\n\r\nthis is my first time asking a question and I am a new coder and been trying out android with kotlin and java. I have an app that allows a user to add an item of clothing the options are set up with spinners. The issue is when the user selects an item from the spinner it saves and when I want to update the values like the image shows the blue words saying brown is the option selected form the add clothing item spinner but the spinner is showing grey is there a way I can set the spinner to be on brown and not the default value. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XK9F9.png\r\n  [2]: https://i.stack.imgur.com/PADEq.png","title":"How to set the spinner position to selected item from choice selected in different fragment","body":"<p><a href=\"https://i.stack.imgur.com/XK9F9.png\" rel=\"nofollow noreferrer\">Add color spinner</a></p>\n<p><a href=\"https://i.stack.imgur.com/PADEq.png\" rel=\"nofollow noreferrer\">the update fragment </a></p>\n<p>this is my first time asking a question and I am a new coder and been trying out android with kotlin and java. I have an app that allows a user to add an item of clothing the options are set up with spinners. The issue is when the user selects an item from the spinner it saves and when I want to update the values like the image shows the blue words saying brown is the option selected form the add clothing item spinner but the spinner is showing grey is there a way I can set the spinner to be on brown and not the default value.</p>\n"},{"tags":["c#","java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":655,"is_accepted":true,"score":655,"last_activity_date":1539890222,"creation_date":1250181459,"answer_id":1273149,"question_id":1273139,"body_markdown":"[`Dictionary`][1] is probably the closest. `System.Collections.Generic.Dictionary` implements the [`System.Collections.Generic.IDictionary`][2] interface (which is similar to Java&#39;s `Map` interface).\r\n\r\nSome notable differences that you should be aware of:\r\n\r\n* Adding/Getting items\r\n  * Java&#39;s HashMap has the `put` and `get` methods for setting/getting items\r\n     * `myMap.put(key, value)`\r\n     * `MyObject value = myMap.get(key)`\r\n  * C#&#39;s Dictionary uses `[]` indexing for setting/getting items\r\n     * `myDictionary[key] = value`\r\n     * `MyObject value = myDictionary[key]`\r\n* `null` keys\r\n  * Java&#39;s `HashMap` allows null keys\r\n  * .NET&#39;s `Dictionary` throws an `ArgumentNullException` if you try to add a null key\r\n* Adding a duplicate key\r\n  * Java&#39;s `HashMap` will replace the existing value with the new one.\r\n  * .NET&#39;s `Dictionary` will replace the existing value with the new one if you use `[]` indexing.  If you use the `Add` method, it will instead throw an `ArgumentException`.\r\n* Attempting to get a non-existent key\r\n  * Java&#39;s `HashMap` will return null.\r\n  * .NET&#39;s `Dictionary` will throw a `KeyNotFoundException`.  You can use the [`TryGetValue`][3] method instead of the `[]` indexing to avoid this:  \r\n     `MyObject value = null;\r\n      if (!myDictionary.TryGetValue(key, out value)) { /* key doesn&#39;t exist */ }`\r\n\r\n`Dictionary`&#39;s has a [`ContainsKey`][4] method that can help deal with the previous two problems.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.idictionary-2\r\n  [3]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue\r\n  [4]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.containskey","title":"C# Java HashMap equivalent","body":"<p><a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2\" rel=\"noreferrer\"><code>Dictionary</code></a> is probably the closest. <code>System.Collections.Generic.Dictionary</code> implements the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.idictionary-2\" rel=\"noreferrer\"><code>System.Collections.Generic.IDictionary</code></a> interface (which is similar to Java's <code>Map</code> interface).</p>\n\n<p>Some notable differences that you should be aware of:</p>\n\n<ul>\n<li>Adding/Getting items\n\n<ul>\n<li>Java's HashMap has the <code>put</code> and <code>get</code> methods for setting/getting items\n\n<ul>\n<li><code>myMap.put(key, value)</code></li>\n<li><code>MyObject value = myMap.get(key)</code></li>\n</ul></li>\n<li>C#'s Dictionary uses <code>[]</code> indexing for setting/getting items\n\n<ul>\n<li><code>myDictionary[key] = value</code></li>\n<li><code>MyObject value = myDictionary[key]</code></li>\n</ul></li>\n</ul></li>\n<li><code>null</code> keys\n\n<ul>\n<li>Java's <code>HashMap</code> allows null keys</li>\n<li>.NET's <code>Dictionary</code> throws an <code>ArgumentNullException</code> if you try to add a null key</li>\n</ul></li>\n<li>Adding a duplicate key\n\n<ul>\n<li>Java's <code>HashMap</code> will replace the existing value with the new one.</li>\n<li>.NET's <code>Dictionary</code> will replace the existing value with the new one if you use <code>[]</code> indexing.  If you use the <code>Add</code> method, it will instead throw an <code>ArgumentException</code>.</li>\n</ul></li>\n<li>Attempting to get a non-existent key\n\n<ul>\n<li>Java's <code>HashMap</code> will return null.</li>\n<li>.NET's <code>Dictionary</code> will throw a <code>KeyNotFoundException</code>.  You can use the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue\" rel=\"noreferrer\"><code>TryGetValue</code></a> method instead of the <code>[]</code> indexing to avoid this:<br>\n<code>MyObject value = null;\nif (!myDictionary.TryGetValue(key, out value)) { /* key doesn't exist */ }</code></li>\n</ul></li>\n</ul>\n\n<p><code>Dictionary</code>'s has a <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.containskey\" rel=\"noreferrer\"><code>ContainsKey</code></a> method that can help deal with the previous two problems.</p>\n"},{"tags":[],"owner":{"account_id":877049,"reputation":1585,"user_id":149650,"display_name":"Ray"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1363016150,"creation_date":1250181623,"answer_id":1273167,"question_id":1273139,"body_markdown":"Check out the documentation on MSDN for the [Hashtable][1] class. \r\n\r\n&gt; Represents a collection of key-and-value pairs that are organized based on the hash code of the key. \r\n\r\nAlso, keep in mind that this is not thread-safe.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.collections.hashtable%28VS.71%29.aspx","title":"C# Java HashMap equivalent","body":"<p>Check out the documentation on MSDN for the <a href=\"http://msdn.microsoft.com/en-us/library/system.collections.hashtable%28VS.71%29.aspx\" rel=\"nofollow noreferrer\">Hashtable</a> class. </p>\n\n<blockquote>\n  <p>Represents a collection of key-and-value pairs that are organized based on the hash code of the key. </p>\n</blockquote>\n\n<p>Also, keep in mind that this is not thread-safe.</p>\n"},{"tags":[],"owner":{"account_id":695878,"reputation":447,"user_id":576200,"display_name":"KeithC"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1302643061,"creation_date":1296506172,"answer_id":4855802,"question_id":1273139,"body_markdown":"From [C# equivalent to Java HashMap][1]\r\n\r\nI needed a Dictionary which accepted a &quot;null&quot; key, but there seems to be no native one, so I have written my own. It&#39;s very simple, actually. I inherited from Dictionary, added a private field to hold the value for the &quot;null&quot; key, then overwritten the indexer. It goes like this :\r\n\r\n    public class NullableDictionnary : Dictionary&lt;string, string&gt;\r\n    {\r\n        string null_value;\r\n\r\n        public StringDictionary this[string key]\r\n        {\r\n            get\r\n            {\r\n                if (key == null) \r\n                {\r\n                    return null_value;\r\n                }\r\n                return base[key];\r\n            }\r\n            set\r\n            {\r\n                if (key == null)\r\n                {\r\n                    null_value = value;\r\n                }\r\n                else \r\n                {\r\n                    base[key] = value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHope this helps someone in the future.\r\n\r\n==========\r\n\r\nI modified it to this format\r\n\r\n    public class NullableDictionnary : Dictionary&lt;string, object&gt;\r\n\r\n\r\n  [1]: http://social.msdn.microsoft.com/forums/en-US/netfxbcl/thread/614128f7-d1d2-45df-9ae1-c53a0c74ddbf/","title":"C# Java HashMap equivalent","body":"<p>From <a href=\"http://social.msdn.microsoft.com/forums/en-US/netfxbcl/thread/614128f7-d1d2-45df-9ae1-c53a0c74ddbf/\" rel=\"noreferrer\">C# equivalent to Java HashMap</a></p>\n\n<p>I needed a Dictionary which accepted a \"null\" key, but there seems to be no native one, so I have written my own. It's very simple, actually. I inherited from Dictionary, added a private field to hold the value for the \"null\" key, then overwritten the indexer. It goes like this :</p>\n\n<pre><code>public class NullableDictionnary : Dictionary&lt;string, string&gt;\n{\n    string null_value;\n\n    public StringDictionary this[string key]\n    {\n        get\n        {\n            if (key == null) \n            {\n                return null_value;\n            }\n            return base[key];\n        }\n        set\n        {\n            if (key == null)\n            {\n                null_value = value;\n            }\n            else \n            {\n                base[key] = value;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this helps someone in the future.</p>\n\n<p>==========</p>\n\n<p>I modified it to this format</p>\n\n<pre><code>public class NullableDictionnary : Dictionary&lt;string, object&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6503403,"reputation":517,"user_id":5033283,"display_name":"Ajay Yadiki"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1476284849,"creation_date":1469268168,"answer_id":38540502,"question_id":1273139,"body_markdown":"Let me help you understand it with an example of &quot;codaddict&#39;s algorithm&quot;\r\n\r\n&#39;***Dictionary*** in C#&#39; is &#39;***Hashmap*** in Java&#39; in parallel universe.\r\n\r\nSome implementations are different. See the example below to understand better.\r\n\r\n  Declaring Java HashMap:\r\n\r\n    Map&lt;Integer, Integer&gt; pairs = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n  Declaring C# Dictionary:\r\n\r\n    Dictionary&lt;int, int&gt; Pairs = new Dictionary&lt;int, int&gt;();\r\n\r\n  Getting a value from a location:\r\n\r\n    pairs.get(input[i]); // in Java\r\n    Pairs[input[i]];     // in C#\r\n\r\n  Setting a value at location:\r\n\r\n    pairs.put(k - input[i], input[i]); // in Java\r\n    Pairs[k - input[i]] = input[i];    // in C#\r\n\r\nAn Overall Example can be observed from below Codaddict&#39;s algorithm.\r\n\r\n**codaddict&#39;s algorithm in Java:**\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class ArrayPairSum {\r\n\r\n        public static void printSumPairs(int[] input, int k)\r\n        {\r\n            Map&lt;Integer, Integer&gt; pairs = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n            for (int i = 0; i &lt; input.length; i++)\r\n            {\r\n                if (pairs.containsKey(input[i]))\r\n                    System.out.println(input[i] + &quot;, &quot; + pairs.get(input[i]));\r\n\t\t\t    else\r\n\t\t\t\t    pairs.put(k - input[i], input[i]);\r\n            }\r\n\r\n        }\r\n       \r\n        public static void main(String[] args)\r\n        {\r\n            int[] a = { 2, 45, 7, 3, 5, 1, 8, 9 };\r\n            printSumPairs(a, 10);\r\n\r\n        }\r\n    }\r\n\r\n**Codaddict&#39;s algorithm in C#**\r\n\r\n    using System;\r\n    using System.Collections.Generic;\r\n\r\n    class Program\r\n    {\r\n        static void checkPairs(int[] input, int k)\r\n        {\r\n            Dictionary&lt;int, int&gt; Pairs = new Dictionary&lt;int, int&gt;();\r\n\r\n            for (int i = 0; i &lt; input.Length; i++)\r\n            {\r\n                if (Pairs.ContainsKey(input[i]))\r\n                {\r\n                    Console.WriteLine(input[i] + &quot;, &quot; + Pairs[input[i]]);\r\n                }\r\n                else\r\n                {\r\n                    Pairs[k - input[i]] = input[i];\r\n                }\r\n            }\r\n        }\r\n        static void Main(string[] args)\r\n        {\r\n            int[] a = { 2, 45, 7, 3, 5, 1, 8, 9 };\r\n            //method : codaddict&#39;s algorithm : O(n)\r\n            checkPairs(a, 10);\r\n            Console.Read();\r\n        }\r\n    }\r\n","title":"C# Java HashMap equivalent","body":"<p>Let me help you understand it with an example of \"codaddict's algorithm\"</p>\n\n<p>'<strong><em>Dictionary</em></strong> in C#' is '<strong><em>Hashmap</em></strong> in Java' in parallel universe.</p>\n\n<p>Some implementations are different. See the example below to understand better.</p>\n\n<p>Declaring Java HashMap:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; pairs = new HashMap&lt;Integer, Integer&gt;();\n</code></pre>\n\n<p>Declaring C# Dictionary:</p>\n\n<pre><code>Dictionary&lt;int, int&gt; Pairs = new Dictionary&lt;int, int&gt;();\n</code></pre>\n\n<p>Getting a value from a location:</p>\n\n<pre><code>pairs.get(input[i]); // in Java\nPairs[input[i]];     // in C#\n</code></pre>\n\n<p>Setting a value at location:</p>\n\n<pre><code>pairs.put(k - input[i], input[i]); // in Java\nPairs[k - input[i]] = input[i];    // in C#\n</code></pre>\n\n<p>An Overall Example can be observed from below Codaddict's algorithm.</p>\n\n<p><strong>codaddict's algorithm in Java:</strong></p>\n\n<pre><code>import java.util.HashMap;\n\npublic class ArrayPairSum {\n\n    public static void printSumPairs(int[] input, int k)\n    {\n        Map&lt;Integer, Integer&gt; pairs = new HashMap&lt;Integer, Integer&gt;();\n\n        for (int i = 0; i &lt; input.length; i++)\n        {\n            if (pairs.containsKey(input[i]))\n                System.out.println(input[i] + \", \" + pairs.get(input[i]));\n            else\n                pairs.put(k - input[i], input[i]);\n        }\n\n    }\n\n    public static void main(String[] args)\n    {\n        int[] a = { 2, 45, 7, 3, 5, 1, 8, 9 };\n        printSumPairs(a, 10);\n\n    }\n}\n</code></pre>\n\n<p><strong>Codaddict's algorithm in C#</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\nclass Program\n{\n    static void checkPairs(int[] input, int k)\n    {\n        Dictionary&lt;int, int&gt; Pairs = new Dictionary&lt;int, int&gt;();\n\n        for (int i = 0; i &lt; input.Length; i++)\n        {\n            if (Pairs.ContainsKey(input[i]))\n            {\n                Console.WriteLine(input[i] + \", \" + Pairs[input[i]]);\n            }\n            else\n            {\n                Pairs[k - input[i]] = input[i];\n            }\n        }\n    }\n    static void Main(string[] args)\n    {\n        int[] a = { 2, 45, 7, 3, 5, 1, 8, 9 };\n        //method : codaddict's algorithm : O(n)\n        checkPairs(a, 10);\n        Console.Read();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474478208,"creation_date":1474478208,"answer_id":39622760,"question_id":1273139,"body_markdown":"the answer is \r\n\r\n&gt; Dictionary\r\n\r\n\r\n\r\ntake look at my function, its simple add uses most important member functions inside Dictionary\r\n\r\nthis function return false if the list contain Duplicates items\r\n\r\n\r\n     public static bool HasDuplicates&lt;T&gt;(IList&lt;T&gt; items)\r\n        {\r\n            Dictionary&lt;T, bool&gt; mp = new Dictionary&lt;T, bool&gt;();\r\n            for (int i = 0; i &lt; items.Count; i++)\r\n            {\r\n                if (mp.ContainsKey(items[i]))\r\n                {\r\n                    return true; // has duplicates\r\n                }\r\n                mp.Add(items[i], true);\r\n            }\r\n            return false; // no duplicates\r\n        }","title":"C# Java HashMap equivalent","body":"<p>the answer is </p>\n\n<blockquote>\n  <p>Dictionary</p>\n</blockquote>\n\n<p>take look at my function, its simple add uses most important member functions inside Dictionary</p>\n\n<p>this function return false if the list contain Duplicates items</p>\n\n<pre><code> public static bool HasDuplicates&lt;T&gt;(IList&lt;T&gt; items)\n    {\n        Dictionary&lt;T, bool&gt; mp = new Dictionary&lt;T, bool&gt;();\n        for (int i = 0; i &lt; items.Count; i++)\n        {\n            if (mp.ContainsKey(items[i]))\n            {\n                return true; // has duplicates\n            }\n            mp.Add(items[i], true);\n        }\n        return false; // no duplicates\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2539045,"reputation":861,"user_id":2205307,"accept_rate":83,"display_name":"ossobuko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510649479,"creation_date":1510649479,"answer_id":47281304,"question_id":1273139,"body_markdown":"I just wanted to give my two cents.  \r\nThis is according to @Powerlord &#39;s answer.\r\n\r\nPuts **&quot;null&quot;** instead of **null** strings.\r\n\r\n    private static Dictionary&lt;string, string&gt; map = new Dictionary&lt;string, string&gt;();\r\n\r\n    public static void put(string key, string value)\r\n    {\r\n        if (value == null) value = &quot;null&quot;;\r\n        map[key] = value;\r\n    }\r\n\r\n    public static string get(string key, string defaultValue)\r\n    {\r\n        try\r\n        {\r\n            return map[key];\r\n        }\r\n        catch (KeyNotFoundException e)\r\n        {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    public static string get(string key)\r\n    {\r\n        return get(key, &quot;null&quot;);\r\n    }","title":"C# Java HashMap equivalent","body":"<p>I just wanted to give my two cents.<br>\nThis is according to @Powerlord 's answer.</p>\n\n<p>Puts <strong>\"null\"</strong> instead of <strong>null</strong> strings.</p>\n\n<pre><code>private static Dictionary&lt;string, string&gt; map = new Dictionary&lt;string, string&gt;();\n\npublic static void put(string key, string value)\n{\n    if (value == null) value = \"null\";\n    map[key] = value;\n}\n\npublic static string get(string key, string defaultValue)\n{\n    try\n    {\n        return map[key];\n    }\n    catch (KeyNotFoundException e)\n    {\n        return defaultValue;\n    }\n}\n\npublic static string get(string key)\n{\n    return get(key, \"null\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001924,"reputation":377,"user_id":4201407,"display_name":"Shree Harsha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1515462595,"creation_date":1515462595,"answer_id":48160438,"question_id":1273139,"body_markdown":"Use Dictionary - it uses hashtable but is typesafe.\r\n\r\nAlso, your Java code for \r\n\r\n    int a = map.get(key);\r\n    //continue with your logic\r\n\r\nwill be best coded in C# this way:\r\n\r\n    int a;\r\n    if(dict.TryGetValue(key, out a)){\r\n    //continue with your logic\r\n    }\r\n\r\nThis way, you can scope the need of variable &quot;a&quot; inside a block and it is still accessible outside the block if you need it later.","title":"C# Java HashMap equivalent","body":"<p>Use Dictionary - it uses hashtable but is typesafe.</p>\n\n<p>Also, your Java code for </p>\n\n<pre><code>int a = map.get(key);\n//continue with your logic\n</code></pre>\n\n<p>will be best coded in C# this way:</p>\n\n<pre><code>int a;\nif(dict.TryGetValue(key, out a)){\n//continue with your logic\n}\n</code></pre>\n\n<p>This way, you can scope the need of variable \"a\" inside a block and it is still accessible outside the block if you need it later.</p>\n"}],"owner":{"account_id":563983,"reputation":4677,"user_id":119697,"accept_rate":100,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593651,"favorite_count":0,"down_vote_count":3,"up_vote_count":441,"accepted_answer_id":1273149,"answer_count":7,"score":438,"last_activity_date":1652717214,"creation_date":1250181358,"question_id":1273139,"body_markdown":"Coming from a Java world into a C# one is there a HashMap equivalent? If not what would you recommend?","title":"C# Java HashMap equivalent","body":"<p>Coming from a Java world into a C# one is there a HashMap equivalent? If not what would you recommend?</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1652705474,"post_id":72259460,"comment_id":127663084,"body_markdown":"Where is `keyList` defined, are there already objects in it? The internal code only checks `alternatingHashAndRangeKeyValues.length % 2 != 0` and your code should pass that since you always add two entries.","body":"Where is <code>keyList</code> defined, are there already objects in it? The internal code only checks <code>alternatingHashAndRangeKeyValues.length % 2 != 0</code> and your code should pass that since you always add two entries."},{"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"score":0,"creation_date":1652705800,"post_id":72259460,"comment_id":127663199,"body_markdown":"@luk2302 KeyList is just an empty arrayList that I create prior to the loop. Will edit to add the same. And I checked keyList while debugging and it seems alright","body":"@luk2302 KeyList is just an empty arrayList that I create prior to the loop. Will edit to add the same. And I checked keyList while debugging and it seems alright"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1652705909,"post_id":72259460,"comment_id":127663243,"body_markdown":"Actually: the method has a varargs parameter, you need to pass in an array of keys, not a list of keys, the list of keys is considered just one `Object` and you therefore receive that error.","body":"Actually: the method has a varargs parameter, you need to pass in an array of keys, not a list of keys, the list of keys is considered just one <code>Object</code> and you therefore receive that error."}],"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652705872,"answer_count":0,"score":0,"last_activity_date":1652717145,"creation_date":1652705260,"question_id":72259460,"body_markdown":"I have one partition key value and a list of corresponding sort key values for a dynamoDB table, and I&#39;m trying to use batchWriteItem in java to delete them. But it is not working\r\n\r\n    TableWriteItems deleteItems = new TableWriteItems(&quot;tableName&quot;);\r\n    keyList = new ArrayList();\r\n    for (String sortKey: sortKeys) {\r\n       keyList.add(partitionKey)\r\n       keyList.add(sortKey)\r\n    }\r\n    deleteItems.withHashAndRangeKeysToDelete(partKeyField,sortKeyField,keyList)\r\n[Source][1] for doing it this way. But I get the following error: \r\n\r\n    number of hash and range key values must be the same\r\nI also tried to add the withHashAndRangeKeysToDelete iteratively to the TableWriteItems object directly, but that didn&#39;t work either. So how do I perform this batch delete operation?\r\n\r\nEdit:\r\nBased on @luk2302 suggestion, I used [this][2] solution to pass the list of hash key and sort keys collected above as a varargs parameter. I am getting the following error:\r\n\r\n    java.lang.UnsupportedOperationException: value type: class [Ljava.lang.String;\r\n\r\nMy code for reference:\r\n\r\n    deleteItems.withHashAndRangeKeysToDelete(partKeyField,sortKeyField, hashRangeList.toArray(new String[0]))\r\n\r\nEdit2: I mistakenly added an additional param in my code which caused the error. Issue is resolved now so closing the question \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/TableWriteItems.html\r\n  [2]: https://stackoverflow.com/questions/9863742/how-to-pass-an-arraylist-to-a-varargs-method-parameter","title":"Delete items in batch using a single partition key and multiple corresponding sort keys in dynamoDB","body":"<p>I have one partition key value and a list of corresponding sort key values for a dynamoDB table, and I'm trying to use batchWriteItem in java to delete them. But it is not working</p>\n<pre><code>TableWriteItems deleteItems = new TableWriteItems(&quot;tableName&quot;);\nkeyList = new ArrayList();\nfor (String sortKey: sortKeys) {\n   keyList.add(partitionKey)\n   keyList.add(sortKey)\n}\ndeleteItems.withHashAndRangeKeysToDelete(partKeyField,sortKeyField,keyList)\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/TableWriteItems.html\" rel=\"nofollow noreferrer\">Source</a> for doing it this way. But I get the following error:</p>\n<pre><code>number of hash and range key values must be the same\n</code></pre>\n<p>I also tried to add the withHashAndRangeKeysToDelete iteratively to the TableWriteItems object directly, but that didn't work either. So how do I perform this batch delete operation?</p>\n<p>Edit:\nBased on @luk2302 suggestion, I used <a href=\"https://stackoverflow.com/questions/9863742/how-to-pass-an-arraylist-to-a-varargs-method-parameter\">this</a> solution to pass the list of hash key and sort keys collected above as a varargs parameter. I am getting the following error:</p>\n<pre><code>java.lang.UnsupportedOperationException: value type: class [Ljava.lang.String;\n</code></pre>\n<p>My code for reference:</p>\n<pre><code>deleteItems.withHashAndRangeKeysToDelete(partKeyField,sortKeyField, hashRangeList.toArray(new String[0]))\n</code></pre>\n<p>Edit2: I mistakenly added an additional param in my code which caused the error. Issue is resolved now so closing the question</p>\n"},{"tags":["java","midi"],"comments":[{"owner":{"account_id":11643394,"reputation":1124,"user_id":8527109,"display_name":"L&#225;szl&#243; Stahorszki"},"score":1,"creation_date":1552671780,"post_id":55188029,"comment_id":97114246,"body_markdown":"are you sure, that the source MIDI file is valid? I have experienced automatically calculated tempos to be out of place pretty often, like this.","body":"are you sure, that the source MIDI file is valid? I have experienced automatically calculated tempos to be out of place pretty often, like this."},{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":1,"creation_date":1552675883,"post_id":55188029,"comment_id":97116187,"body_markdown":"The tempo can change over time, and not every MIDI file defines beats correctly.","body":"The tempo can change over time, and not every MIDI file defines beats correctly."},{"owner":{"account_id":14719664,"reputation":271,"user_id":10630647,"display_name":"gmanrocks"},"score":0,"creation_date":1552676816,"post_id":55188029,"comment_id":97116609,"body_markdown":"@CL they define beats based on the creator of the MIDI file. Each MIDI file has a bunch of tracks, each which define a tempo. Generally, there is a constant tempo throughout all the tracks however...","body":"@CL they define beats based on the creator of the MIDI file. Each MIDI file has a bunch of tracks, each which define a tempo. Generally, there is a constant tempo throughout all the tracks however..."}],"answers":[{"tags":[],"owner":{"account_id":14719664,"reputation":271,"user_id":10630647,"display_name":"gmanrocks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1552674519,"creation_date":1552673683,"answer_id":55188569,"question_id":55188029,"body_markdown":"The tempo is automatically defined in the MIDI file. Using the MetaMessage Class in javax.sound.MIDI and the method getData() you will obtain the bytes of metadata. The bytes labeled 0x51 holds the value of the tempo measured in microseconds per quarter note for each track. Note, each MIDI file generally has multiple tracks; hence multiple tempo signatures. Look at the outline of the MIDI structure link below. It explains each piece of the MIDI file data and where and what everything means.\r\n\r\nHere is a link to an outline of the MIDI structure: http://www.ccarh.org/courses/253/handout/smf/\r\n\r\nHere is a link to the MetaMessage Class: https://docs.oracle.com/javase/8/docs/api/javax/sound/midi/MetaMessage.html\r\n\r\nHere is a link to the standard MIDI file format:\r\nhttps://formats.kaitai.io/standard_midi_file/index.html\r\n\r\n\r\nSimple summary: 11th and 12th byte = number of tracks. This is located in the header which is 14 bytes long. Following that is a track chunk, and then another, and another as many times as defined by the 11th and 12th bytes. Each one has a length  defined in the 5, 6, 7, and 8 bytes in the chunk. The length measures how many bytes the track is (starting on the 9th byte).","title":"How to extract tempo from MIDI file","body":"<p>The tempo is automatically defined in the MIDI file. Using the MetaMessage Class in javax.sound.MIDI and the method getData() you will obtain the bytes of metadata. The bytes labeled 0x51 holds the value of the tempo measured in microseconds per quarter note for each track. Note, each MIDI file generally has multiple tracks; hence multiple tempo signatures. Look at the outline of the MIDI structure link below. It explains each piece of the MIDI file data and where and what everything means.</p>\n\n<p>Here is a link to an outline of the MIDI structure: <a href=\"http://www.ccarh.org/courses/253/handout/smf/\" rel=\"nofollow noreferrer\">http://www.ccarh.org/courses/253/handout/smf/</a></p>\n\n<p>Here is a link to the MetaMessage Class: <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sound/midi/MetaMessage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/sound/midi/MetaMessage.html</a></p>\n\n<p>Here is a link to the standard MIDI file format:\n<a href=\"https://formats.kaitai.io/standard_midi_file/index.html\" rel=\"nofollow noreferrer\">https://formats.kaitai.io/standard_midi_file/index.html</a></p>\n\n<p>Simple summary: 11th and 12th byte = number of tracks. This is located in the header which is 14 bytes long. Following that is a track chunk, and then another, and another as many times as defined by the 11th and 12th bytes. Each one has a length  defined in the 5, 6, 7, and 8 bytes in the chunk. The length measures how many bytes the track is (starting on the 9th byte).</p>\n"}],"owner":{"account_id":14066067,"reputation":257,"user_id":10160877,"display_name":"Hamish Gibson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55188569,"answer_count":1,"score":0,"last_activity_date":1652715531,"creation_date":1552671333,"question_id":55188029,"body_markdown":"I am using the `sequence.getResolution()` built in method to extract how long a beat is in milliseconds. It works for some songs but not all. For example, for the song &#39;sweet home alabama&#39; it returns a beat of 384 MS, however in real life the actual beat length is 612 MS. This works for countless other songs and only works for one of the songs that I am working with. \r\n\r\nAny other way to correctly extract the bpm or tempo of a MIDI file using java would be greatly appreciated","title":"How to extract tempo from MIDI file","body":"<p>I am using the <code>sequence.getResolution()</code> built in method to extract how long a beat is in milliseconds. It works for some songs but not all. For example, for the song 'sweet home alabama' it returns a beat of 384 MS, however in real life the actual beat length is 612 MS. This works for countless other songs and only works for one of the songs that I am working with.</p>\n<p>Any other way to correctly extract the bpm or tempo of a MIDI file using java would be greatly appreciated</p>\n"},{"tags":["java","list","java-8","java-stream","nullable"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1652702848,"post_id":72258931,"comment_id":127662186,"body_markdown":"why not filter `step.getJump() != null`","body":"why not filter <code>step.getJump() != null</code>"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652703261,"creation_date":1652703261,"answer_id":72259048,"question_id":72258931,"body_markdown":"As @HariHaravelan mentioned in comments:\r\n\r\n    myList.getJumps().stream()\r\n                .filter(step-&gt; step.getJump()! = null)\r\n                .map(step -&gt; step.getJump().getValue())\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList());\r\n\r\nOr even:\r\n\r\n    myList.getJumps().stream()\r\n                    .filter(step-&gt; Objects.nonNull(step.getJump())\r\n                    .map(step -&gt; step.getJump().getValue())\r\n                    .flatMap(List::stream)\r\n                    .collect(Collectors.toList());\r\n\r\n","title":"How to apply a null-check within Stream#map()","body":"<p>As @HariHaravelan mentioned in comments:</p>\n<pre><code>myList.getJumps().stream()\n            .filter(step-&gt; step.getJump()! = null)\n            .map(step -&gt; step.getJump().getValue())\n            .flatMap(List::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Or even:</p>\n<pre><code>myList.getJumps().stream()\n                .filter(step-&gt; Objects.nonNull(step.getJump())\n                .map(step -&gt; step.getJump().getValue())\n                .flatMap(List::stream)\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652715336,"creation_date":1652715336,"answer_id":72261817,"question_id":72258931,"body_markdown":"There&#39;s nothing wrong with explicate *null-check*. If we apply it inside the `flatMap()` operation a non-null list `step.getJump()` should spawn a *stream*, otherwise an *empty stream* needs to be provided:\r\n```\r\nmyList.getJumps().stream()\r\n    .flatMap(step -&gt; step.getJump() != null ?\r\n        jump.getValue().stream() : Stream.empty())\r\n    .collect(Collectors.toList());\r\n```\r\nStarting with Java 9 we can utilize `Stream.ofNullable()` that creates either a *singleton stream* or an *empty stream*:\r\n```\r\nmyList.getJumps().stream()\r\n    .flatMap(step -&gt; Stream.ofNullable(step.getJump())\r\n        .flatMap(jump -&gt; jump.getValue().stream())\r\n    .collect(Collectors.toList());\r\n```","title":"How to apply a null-check within Stream#map()","body":"<p>There's nothing wrong with explicate <em>null-check</em>. If we apply it inside the <code>flatMap()</code> operation a non-null list <code>step.getJump()</code> should spawn a <em>stream</em>, otherwise an <em>empty stream</em> needs to be provided:</p>\n<pre><code>myList.getJumps().stream()\n    .flatMap(step -&gt; step.getJump() != null ?\n        jump.getValue().stream() : Stream.empty())\n    .collect(Collectors.toList());\n</code></pre>\n<p>Starting with Java 9 we can utilize <code>Stream.ofNullable()</code> that creates either a <em>singleton stream</em> or an <em>empty stream</em>:</p>\n<pre><code>myList.getJumps().stream()\n    .flatMap(step -&gt; Stream.ofNullable(step.getJump())\n        .flatMap(jump -&gt; jump.getValue().stream())\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":275128,"reputation":6815,"user_id":567797,"accept_rate":75,"display_name":"station"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1652882297,"answer_count":2,"score":2,"last_activity_date":1652715336,"creation_date":1652702710,"question_id":72258931,"body_markdown":"I have the following piece of code:\r\n\r\n```\r\n myList.getJumps().stream()\r\n            .map(step -&gt; step.getJump().getValue())\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toList());\r\n```\r\n\r\nThere is a chance that `step.getJump()` can be `null`.\r\n\r\nIs there an efficient way to avoid a *NPE* there?","title":"How to apply a null-check within Stream#map()","body":"<p>I have the following piece of code:</p>\n<pre><code> myList.getJumps().stream()\n            .map(step -&gt; step.getJump().getValue())\n            .flatMap(List::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>There is a chance that <code>step.getJump()</code> can be <code>null</code>.</p>\n<p>Is there an efficient way to avoid a <em>NPE</em> there?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"display_name":"user18493342"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652612723,"creation_date":1652612701,"answer_id":72247663,"question_id":72237301,"body_markdown":"\r\nI have encoutered similar problem. I am running my `Selenium` tests locally and &quot;`webdriver exception` chrome not reachable&quot; error suddenly showed up.\r\n\r\nThe problem was that I already had too much tabs in my regular `chrome` browser. After getting frustrated I have closed few tabs and suddenly it worked. I am not sure if there is a certain limit of tabs, but you can give it a try.","title":"Selenium RemoteWebDriver Usage Example (How to fix selenium.WebDriverException: chrome not reachable)","body":"<p>I have encoutered similar problem. I am running my <code>Selenium</code> tests locally and &quot;<code>webdriver exception</code> chrome not reachable&quot; error suddenly showed up.</p>\n<p>The problem was that I already had too much tabs in my regular <code>chrome</code> browser. After getting frustrated I have closed few tabs and suddenly it worked. I am not sure if there is a certain limit of tabs, but you can give it a try.</p>\n"},{"tags":[],"owner":{"account_id":19757287,"reputation":1,"user_id":14467294,"display_name":"Nebisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652634452,"creation_date":1652634452,"answer_id":72250467,"question_id":72237301,"body_markdown":"  [1]: https://stackoverflow.com/users/2125837/xpt\r\n\r\n\r\nI recommend using docker for running your chromedriver, mainly because you stated you want headless execution.\r\nTo do this:\r\n\r\n1. Download docker desktop https://www.docker.com/products/docker-desktop/\r\n\r\n2. run `docker run -d -p 4444:4444 -p 5900:5900 --shm-size=&quot;2g&quot;  selenium/standalone-chrome:4.1.4-20220427`\r\n(this will download and start a standalone chromedriver in a docker container)\r\n\r\n3. Change your serverurl to `URL serverurl = new URL(&quot;http:localhost:4444/wd/hub&quot;);`\r\n\r\nComplete main method:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        public static void main(String []args) throws MalformedURLException {\r\n            new DesiredCapabilities();\r\n            URL serverurl = new URL(&quot;http:localhost:4444/wd/hub&quot;);\r\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n            WebDriver driver = new RemoteWebDriver(serverurl,capabilities);\r\n            driver.get(&quot;http://www.google.com&quot;);\r\n            WebElement searchEdit = driver.findElement(By.name(&quot;q&quot;));\r\n            searchEdit.sendKeys(&quot;Selftechy on google&quot;);\r\n            searchEdit.submit();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n----\r\n - More information on the subject can be found here: https://github.com/SeleniumHQ/docker-selenium\r\n\r\n - If you want to run the container on a port either than 4444 you will need to create your own docker image for chrome with EXPOSE value of the port you desire :-\r\n\r\nhttps://stackoverflow.com/questions/47678204/how-to-create-a-selenium-standalone-chrome-image-with-changeable-port-the-4444\r\n\r\nhttps://github.com/SeleniumHQ/docker-selenium/blob/trunk/StandaloneChrome/Dockerfile","title":"Selenium RemoteWebDriver Usage Example (How to fix selenium.WebDriverException: chrome not reachable)","body":"<p>I recommend using docker for running your chromedriver, mainly because you stated you want headless execution.\nTo do this:</p>\n<ol>\n<li><p>Download docker desktop <a href=\"https://www.docker.com/products/docker-desktop/\" rel=\"nofollow noreferrer\">https://www.docker.com/products/docker-desktop/</a></p>\n</li>\n<li><p>run <code>docker run -d -p 4444:4444 -p 5900:5900 --shm-size=&quot;2g&quot;  selenium/standalone-chrome:4.1.4-20220427</code>\n(this will download and start a standalone chromedriver in a docker container)</p>\n</li>\n<li><p>Change your serverurl to <code>URL serverurl = new URL(&quot;http:localhost:4444/wd/hub&quot;);</code></p>\n</li>\n</ol>\n<p>Complete main method:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public static void main(String []args) throws MalformedURLException {\n        new DesiredCapabilities();\n        URL serverurl = new URL(\"http:localhost:4444/wd/hub\");\n        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n        WebDriver driver = new RemoteWebDriver(serverurl,capabilities);\n        driver.get(\"http://www.google.com\");\n        WebElement searchEdit = driver.findElement(By.name(\"q\"));\n        searchEdit.sendKeys(\"Selftechy on google\");\n        searchEdit.submit();\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<ul>\n<li><p>More information on the subject can be found here: <a href=\"https://github.com/SeleniumHQ/docker-selenium\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/docker-selenium</a></p>\n</li>\n<li><p>If you want to run the container on a port either than 4444 you will need to create your own docker image for chrome with EXPOSE value of the port you desire :-</p>\n</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/47678204/how-to-create-a-selenium-standalone-chrome-image-with-changeable-port-the-4444\">how to create a selenium/standalone-chrome image with changeable port (the 4444)</a></p>\n<p><a href=\"https://github.com/SeleniumHQ/docker-selenium/blob/trunk/StandaloneChrome/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/docker-selenium/blob/trunk/StandaloneChrome/Dockerfile</a></p>\n"}],"owner":{"account_id":2435926,"reputation":21157,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652714922,"creation_date":1652501669,"question_id":72237301,"body_markdown":"***Not*** exactly as\r\n\r\n- https://stackoverflow.com/questions/45688020/chrome-not-reachable-selenium-webdriver-error\r\n- https://stackoverflow.com/questions/68145524/selenium-webdriverexception-chrome-not-reachable\r\n- https://stackoverflow.com/questions/68145524/selenium-webdriverexception-chrome-not-reachable\r\n\r\nI&#39;m following [Running Selenium Tests with ChromeDriver on Linux](http://selftechy.com/2011/08/17/running-selenium-tests-with-chromedriver-on-linux)\r\n\r\nand tried to run its demo, included below:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.*;\r\n\r\nimport org.junit.*;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.BlockJUnit4ClassRunner;\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.chrome.ChromeDriverService;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\npublic class ChromeRemoteDriver {\r\n    \r\n    public static void main(String []args) throws MalformedURLException{\r\n        new DesiredCapabilities();\r\n            URL serverurl = new URL(&quot;http://localhost:9515&quot;);\r\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n            WebDriver driver = new RemoteWebDriver(serverurl,capabilities);\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n        WebElement searchEdit = driver.findElement(By.name(&quot;q&quot;));\r\n        searchEdit.sendKeys(&quot;Selftechy on google&quot;);\r\n        searchEdit.submit();\r\n\r\n    }\r\n}\r\n```\r\n\r\nafter I&#39;ve started my local ChromeDriver:\r\n\r\n```\r\n/usr/local/bin/chromedriver &amp;\r\n[1] 27777\r\n\r\nStarting ChromeDriver 101.0.4951.41 (93c720db8323b3ec10d056025ab95c23a31997c9-refs/branch-heads/4951@{#904}) on port 9515\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n```\r\n\r\nBut when running the above demo, I&#39;m getting:\r\n\r\n```\r\nMay 13, 2022 11:51:26 PM org.openqa.selenium.remote.DesiredCapabilities chrome\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: chrome not reachable\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:53&#39;\r\n```\r\n\r\nWhy is that and how to fix?\r\n","title":"Selenium RemoteWebDriver Usage Example (How to fix selenium.WebDriverException: chrome not reachable)","body":"<p><em><strong>Not</strong></em> exactly as</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45688020/chrome-not-reachable-selenium-webdriver-error\">Chrome not reachable Selenium WebDriver error</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68145524/selenium-webdriverexception-chrome-not-reachable\">selenium.WebDriverException: chrome not reachable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68145524/selenium-webdriverexception-chrome-not-reachable\">selenium.WebDriverException: chrome not reachable</a></li>\n</ul>\n<p>I'm following <a href=\"http://selftechy.com/2011/08/17/running-selenium-tests-with-chromedriver-on-linux\" rel=\"nofollow noreferrer\">Running Selenium Tests with ChromeDriver on Linux</a></p>\n<p>and tried to run its demo, included below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.*;\n\nimport org.junit.*;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.BlockJUnit4ClassRunner;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriverService;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class ChromeRemoteDriver {\n    \n    public static void main(String []args) throws MalformedURLException{\n        new DesiredCapabilities();\n            URL serverurl = new URL(&quot;http://localhost:9515&quot;);\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n            WebDriver driver = new RemoteWebDriver(serverurl,capabilities);\n        driver.get(&quot;http://www.google.com&quot;);\n        WebElement searchEdit = driver.findElement(By.name(&quot;q&quot;));\n        searchEdit.sendKeys(&quot;Selftechy on google&quot;);\n        searchEdit.submit();\n\n    }\n}\n</code></pre>\n<p>after I've started my local ChromeDriver:</p>\n<pre><code>/usr/local/bin/chromedriver &amp;\n[1] 27777\n\nStarting ChromeDriver 101.0.4951.41 (93c720db8323b3ec10d056025ab95c23a31997c9-refs/branch-heads/4951@{#904}) on port 9515\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n</code></pre>\n<p>But when running the above demo, I'm getting:</p>\n<pre><code>May 13, 2022 11:51:26 PM org.openqa.selenium.remote.DesiredCapabilities chrome\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: chrome not reachable\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53'\n</code></pre>\n<p>Why is that and how to fix?</p>\n"},{"tags":["java","neo4j","dependencies","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652714852,"creation_date":1652714852,"answer_id":72261713,"question_id":72261712,"body_markdown":"There is a clash in the version of scala-library used in `spring-kafka-test` and `neo4j-harness`.\r\n\r\nTo resolve this, you can exclude the scala dependency from `spring-kafka-test`, meaning the `neo4j-harness` version will be used for both.\r\n\r\nTo do this, add an exclusion in the pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.8.3&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.scala-lang&lt;/groupId&gt;&lt;artifactId&gt;scala-library&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;\r\n```","title":"Neo4j-harness throws java noclassdeffound exception for Scala.Serializable","body":"<p>There is a clash in the version of scala-library used in <code>spring-kafka-test</code> and <code>neo4j-harness</code>.</p>\n<p>To resolve this, you can exclude the scala dependency from <code>spring-kafka-test</code>, meaning the <code>neo4j-harness</code> version will be used for both.</p>\n<p>To do this, add an exclusion in the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.8.3&lt;/version&gt;\n            &lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.scala-lang&lt;/groupId&gt;&lt;artifactId&gt;scala-library&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72261713,"answer_count":1,"score":0,"last_activity_date":1652714852,"creation_date":1652714852,"question_id":72261712,"body_markdown":"When attempting to test a neo4j server using [neo4j-harness][1], I get a `noclassdeffound` exception when building the embedded Neo4j server\r\n\r\n```java\r\nprivate final Neo4j embeddedNeo4jServer = Neo4jBuilders.newInProcessBuilder()\r\n        .withDisabledServer()\r\n        .withFixture(&quot;&quot;)\r\n        .build(); // exception here\r\n```\r\n\r\nMy pom.xml looks like this:\r\n\r\n```xml\r\n  &lt;dependencies&gt;\r\n  \r\n  \t&lt;!-- Core Dependencies --&gt;\r\n  \t\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;&lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;&lt;version&gt;4.4.5&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;&lt;version&gt;3.0.0&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.apache.curator&lt;/groupId&gt;&lt;artifactId&gt;curator-x-discovery&lt;/artifactId&gt;&lt;version&gt;4.2.0&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.json&lt;/groupId&gt;&lt;artifactId&gt;json&lt;/artifactId&gt;&lt;version&gt;20211205&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;!-- Test Dependencies --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;&lt;version&gt;5.8.2&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;&lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;&lt;artifactId&gt;jsonassert&lt;/artifactId&gt;&lt;version&gt;1.5.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.neo4j.test&lt;/groupId&gt;&lt;artifactId&gt;neo4j-harness&lt;/artifactId&gt;&lt;version&gt;4.4.5&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Spring dependencies for an embedded Kafka instance --&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;&lt;version&gt;2.8.3&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.8.3&lt;/version&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Mockito dependencies - NOTE: the inline dependency replaces the core one, but might be removed in future versions--&gt;\r\n\t\t&lt;!--&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.neo4j.test/neo4j-harness","title":"Neo4j-harness throws java noclassdeffound exception for Scala.Serializable","body":"<p>When attempting to test a neo4j server using <a href=\"https://mvnrepository.com/artifact/org.neo4j.test/neo4j-harness\" rel=\"nofollow noreferrer\">neo4j-harness</a>, I get a <code>noclassdeffound</code> exception when building the embedded Neo4j server</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Neo4j embeddedNeo4jServer = Neo4jBuilders.newInProcessBuilder()\n        .withDisabledServer()\n        .withFixture(&quot;&quot;)\n        .build(); // exception here\n</code></pre>\n<p>My pom.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n  \n    &lt;!-- Core Dependencies --&gt;\n    \n        &lt;dependency&gt;&lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;&lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;&lt;version&gt;4.4.5&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;&lt;version&gt;3.0.0&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.apache.curator&lt;/groupId&gt;&lt;artifactId&gt;curator-x-discovery&lt;/artifactId&gt;&lt;version&gt;4.2.0&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.json&lt;/groupId&gt;&lt;artifactId&gt;json&lt;/artifactId&gt;&lt;version&gt;20211205&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;&lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;\n        \n    &lt;!-- Test Dependencies --&gt;\n        \n        &lt;dependency&gt;&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;&lt;version&gt;5.8.2&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;&lt;artifactId&gt;jsonassert&lt;/artifactId&gt;&lt;version&gt;1.5.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.neo4j.test&lt;/groupId&gt;&lt;artifactId&gt;neo4j-harness&lt;/artifactId&gt;&lt;version&gt;4.4.5&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n        \n        &lt;!-- Spring dependencies for an embedded Kafka instance --&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;&lt;version&gt;2.8.3&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.8.3&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;version&gt;2.6.4&lt;/version&gt;\n            &lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;\n        \n        &lt;!-- Mockito dependencies - NOTE: the inline dependency replaces the core one, but might be removed in future versions--&gt;\n        &lt;!--&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;&lt;version&gt;4.4.0&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","permutation"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1652620070,"post_id":72248529,"comment_id":127644933,"body_markdown":"What have you tried so far? What doesn’t work with your existing code?","body":"What have you tried so far? What doesn’t work with your existing code?"},{"owner":{"account_id":15587857,"reputation":1597,"user_id":11556210,"display_name":"Saki Osive"},"score":0,"creation_date":1652620303,"post_id":72248529,"comment_id":127644977,"body_markdown":"@DaveNewton Updated, could you please check now.","body":"@DaveNewton Updated, could you please check now."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1652628597,"post_id":72248529,"comment_id":127646797,"body_markdown":"It looks like the heart of your difficulty is the use of the word &quot;permutations.&quot;  A permutation is an ordering of a set. &quot;All permutations&quot; is therefore &quot;all orderings.&quot; That&#39;s not the problem you&#39;re solving. Rather it&#39;s producing all N-digit numbers with a given set of digits. This is a different problem. It appears you Googled &quot;permutations&quot; and then tried to copy-and-paste without understanding.  As a solution technique, this a dangerous way to go.","body":"It looks like the heart of your difficulty is the use of the word &quot;permutations.&quot;  A permutation is an ordering of a set. &quot;All permutations&quot; is therefore &quot;all orderings.&quot; That&#39;s not the problem you&#39;re solving. Rather it&#39;s producing all N-digit numbers with a given set of digits. This is a different problem. It appears you Googled &quot;permutations&quot; and then tried to copy-and-paste without understanding.  As a solution technique, this a dangerous way to go."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1652630368,"post_id":72248529,"comment_id":127647229,"body_markdown":"You can solve this problem in a similar manner, by generating the distinct subsets of order 1, then order 2, and so on up to order n. Then it&#39;s just generating the permutations of those subsets. Order 1 is the easiest, just print the array. Order `n` is also just the whole array fed through permutations.","body":"You can solve this problem in a similar manner, by generating the distinct subsets of order 1, then order 2, and so on up to order n. Then it&#39;s just generating the permutations of those subsets. Order 1 is the easiest, just print the array. Order <code>n</code> is also just the whole array fed through permutations."},{"owner":{"account_id":15587857,"reputation":1597,"user_id":11556210,"display_name":"Saki Osive"},"score":0,"creation_date":1652813361,"post_id":72248529,"comment_id":127695884,"body_markdown":"@Gene Appreciate the clarity you&#39;ve tried to put in. To be precise, I&#39;m solving for a full Cartesian Set or direct product. I meant all possible permutations for all sets of digits (1 through n).","body":"@Gene Appreciate the clarity you&#39;ve tried to put in. To be precise, I&#39;m solving for a full Cartesian Set or direct product. I meant all possible permutations for all sets of digits (1 through n)."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1652834078,"post_id":72248529,"comment_id":127700614,"body_markdown":"Sorry. You&#39;re still not using the right word, and using the wrong one is leading you astray. These aren&#39;t permutations. They&#39;re properly called &quot;combinations with replacement.&quot;  You&#39;re looking for all combinations of size K drawn from digits 1..N.  K is the number of digits desired in the output.","body":"Sorry. You&#39;re still not using the right word, and using the wrong one is leading you astray. These aren&#39;t permutations. They&#39;re properly called &quot;combinations with replacement.&quot;  You&#39;re looking for all combinations of size K drawn from digits 1..N.  K is the number of digits desired in the output."},{"owner":{"account_id":15587857,"reputation":1597,"user_id":11556210,"display_name":"Saki Osive"},"score":0,"creation_date":1652850216,"post_id":72248529,"comment_id":127703022,"body_markdown":"@Gene &quot;Combinations with replacement&quot; for a set {A,B,C,D,E} would yield 5+15+35+70+126 = 251 combinations. \nIn my case, it would yield, (for a given n, n^n+n^n-1+n^n-2+..+n^1) 5^5+5^4+5^3+5^2+5^1= 3905 combinations. Would you still call it what you&#39;re calling it?","body":"@Gene &quot;Combinations with replacement&quot; for a set {A,B,C,D,E} would yield 5+15+35+70+126 = 251 combinations.  In my case, it would yield, (for a given n, n^n+n^n-1+n^n-2+..+n^1) 5^5+5^4+5^3+5^2+5^1= 3905 combinations. Would you still call it what you&#39;re calling it?"},{"owner":{"account_id":15587857,"reputation":1597,"user_id":11556210,"display_name":"Saki Osive"},"score":0,"creation_date":1652850345,"post_id":72248529,"comment_id":127703041,"body_markdown":"@Gene It&#39;s not `all N-digit numbers with a given set of digits`, rather it is: summation of all n, n-1, n-2,.. &amp; n-n+1 digit numbers, for a given n.","body":"@Gene It&#39;s not <code>all N-digit numbers with a given set of digits</code>, rather it is: summation of all n, n-1, n-2,.. &amp; n-n+1 digit numbers, for a given n."}],"answers":[{"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652714584,"creation_date":1652627239,"answer_id":72249514,"question_id":72248529,"body_markdown":"Try this:\r\n\r\n    import java.util.Arrays;\r\n\r\n    class Permutation {\r\n\r\n        public static void main(String[] args){\r\n   \t        String str = &quot;123456&quot;;\r\n        \r\n            Permutation permutation = new Permutation();\r\n\r\n            permutation.printAll(str);\r\n        \r\n        }\r\n    \r\n        private void printAll(String str) {\r\n    \t    int n = str.length();\r\n    \t    for(int k=1;k&lt;=n;k++) {//k - number of digits\r\n    \t\t    System.out.println(&quot;=================&quot;);\r\n    \t\t    System.out.println(k + &quot; digit(s):&quot;);\r\n    \t\t    printPermutationsWithRepet(str,k);\r\n    \t    }\r\n        }\r\n    \r\n        private void printPermutationsWithRepet(String str, int k) {\r\n    \t    String [] a =new String [k];\r\n    \t    printPermutations(str,k,0,1, a);\r\n        }\r\n        \r\n        private void printPermutations(String str, int k, int startPosition, int maxUsed, String [] a) {  \t\r\n            if(startPosition == k) {\r\n                System.out.println(Arrays.toString(a));\r\n            } else {\r\n                for(int i = maxUsed; i &lt;= str.length(); i++) {\r\n                    a[startPosition] = str.charAt(i-1)+&quot;&quot;;\r\n                    printPermutations(str,k,startPosition+1,i, a);\r\n                }\r\n            }\r\n        }  \r\n    }","title":"How to create all possible permutations including duplicates?","body":"<p>Try this:</p>\n<pre><code>import java.util.Arrays;\n\nclass Permutation {\n\n    public static void main(String[] args){\n        String str = &quot;123456&quot;;\n    \n        Permutation permutation = new Permutation();\n\n        permutation.printAll(str);\n    \n    }\n\n    private void printAll(String str) {\n        int n = str.length();\n        for(int k=1;k&lt;=n;k++) {//k - number of digits\n            System.out.println(&quot;=================&quot;);\n            System.out.println(k + &quot; digit(s):&quot;);\n            printPermutationsWithRepet(str,k);\n        }\n    }\n\n    private void printPermutationsWithRepet(String str, int k) {\n        String [] a =new String [k];\n        printPermutations(str,k,0,1, a);\n    }\n    \n    private void printPermutations(String str, int k, int startPosition, int maxUsed, String [] a) {    \n        if(startPosition == k) {\n            System.out.println(Arrays.toString(a));\n        } else {\n            for(int i = maxUsed; i &lt;= str.length(); i++) {\n                a[startPosition] = str.charAt(i-1)+&quot;&quot;;\n                printPermutations(str,k,startPosition+1,i, a);\n            }\n        }\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652636324,"creation_date":1652630094,"answer_id":72249887,"question_id":72248529,"body_markdown":"Note that the way the digits change is like the odometer on a car (but with funky non-standard digits). So one way to go is &quot;simulate&quot; the odometer. No fancy recursion needed.\r\n \r\n```java\r\nclass Odometer {\r\n  private final int[] digits = {1, 2, 3};\r\n  /** Indices into the digits array. Initially all zero. */\r\n  private final int[] indices = new int[2];\r\n\r\n  /** Advance to the next value, returning whether it&#39;s a non-repeat. */\r\n  boolean next() {\r\n    for (int i = 0; i &lt; indices.length; ++i) {\r\n      // If incrementing the current digit index causes it to &quot;wrap.&quot;\r\n      if (++indices[i] == digits.length) {      \r\n        indices[i] = 0;  // It wrapped. Reset this index and keep going.\r\n      } else {        \r\n        return true;  // Otherwise it didn&#39;t wrap. We&#39;re done.\r\n      }\r\n    }\r\n    return false;  // All indices have wrapped back to zero.\r\n  }\r\n\r\n  /** Print current digits. */\r\n  void print() {\r\n    for (int i = 0; i &lt; indices.length; ++i) {\r\n      System.out.print(digits[indices[i]]);\r\n    }\r\n    System.out.println();\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Odometer odo = new Odometer();\r\n    do {\r\n      odo.print();\r\n    } while (odo.next());\r\n  }\r\n}\r\n```\r\n\r\nA more general comment is that this isn&#39;t a permutation problem. It appears your initial solution is based on that mistake. The code _is_ for the all permutations problem. Consequently it&#39;s not close to correct. If that&#39;s the result of Googling for &quot;permutations&quot; and copy/pasting code you didn&#39;t understand, pause and take stock. This is not a useful strategy. It will end badly.\r\n","title":"How to create all possible permutations including duplicates?","body":"<p>Note that the way the digits change is like the odometer on a car (but with funky non-standard digits). So one way to go is &quot;simulate&quot; the odometer. No fancy recursion needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Odometer {\n  private final int[] digits = {1, 2, 3};\n  /** Indices into the digits array. Initially all zero. */\n  private final int[] indices = new int[2];\n\n  /** Advance to the next value, returning whether it's a non-repeat. */\n  boolean next() {\n    for (int i = 0; i &lt; indices.length; ++i) {\n      // If incrementing the current digit index causes it to &quot;wrap.&quot;\n      if (++indices[i] == digits.length) {      \n        indices[i] = 0;  // It wrapped. Reset this index and keep going.\n      } else {        \n        return true;  // Otherwise it didn't wrap. We're done.\n      }\n    }\n    return false;  // All indices have wrapped back to zero.\n  }\n\n  /** Print current digits. */\n  void print() {\n    for (int i = 0; i &lt; indices.length; ++i) {\n      System.out.print(digits[indices[i]]);\n    }\n    System.out.println();\n  }\n\n  public static void main(String[] args) {\n    Odometer odo = new Odometer();\n    do {\n      odo.print();\n    } while (odo.next());\n  }\n}\n</code></pre>\n<p>A more general comment is that this isn't a permutation problem. It appears your initial solution is based on that mistake. The code <em>is</em> for the all permutations problem. Consequently it's not close to correct. If that's the result of Googling for &quot;permutations&quot; and copy/pasting code you didn't understand, pause and take stock. This is not a useful strategy. It will end badly.</p>\n"}],"owner":{"account_id":15587857,"reputation":1597,"user_id":11556210,"display_name":"Saki Osive"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652714584,"creation_date":1652619955,"question_id":72248529,"body_markdown":"I wish to create all permutations of all digits from a function.\r\n\r\nFor e.g. I have the array [1,2,3].\r\nI would like the function to first print all possible permutations of 1 digit numbers:\r\n```\r\n1\r\n2\r\n3\r\n```\r\n\r\nthen all possible permutations of 2-digit numbers(duplicates like 11, 22, 33 included)\r\n```\r\n11\r\n12\r\n13\r\n21\r\n22\r\n23\r\n31\r\n32\r\n33\r\n```\r\nand similarly for the 3 digit numbers.\r\n\r\nI want to include all sort of possible permutations(11, 111, 222 etc.) up to the number of digits in the array, like in this example, I would like to have all permutations up to 3 digits.\r\nHow can I write it?\r\n\r\nMy current code creates only exclusive permutations of only the number of digits asked, not the smaller digits:\r\n\r\n```\r\npublic class Permutation {\r\n    public static void main(String[] args)\r\n    {\r\n        String str = &quot;132546&quot;;\r\n        int n = str.length();\r\n        Permutation permutation = new Permutation();\r\n\r\n        permutation.permute(str, 0, n-1);\r\n\r\n    }\r\n\r\n    private void permute(String str, int l, int r)\r\n    {\r\n        if (l == r)\r\n            System.out.println(str);\r\n        else\r\n        {\r\n            for (int i = l; i &lt;= r; i++)\r\n            {\r\n                str = swap(str,l,i);\r\n                permute(str, l+1, r);\r\n                str = swap(str,l,i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public String swap(String a, int i, int j)\r\n    {\r\n        char temp;\r\n        char[] charArray = a.toCharArray();\r\n        temp = charArray[i] ;\r\n        charArray[i] = charArray[j];\r\n        charArray[j] = temp;\r\n        return String.valueOf(charArray);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want it to create all permutations as written above.","title":"How to create all possible permutations including duplicates?","body":"<p>I wish to create all permutations of all digits from a function.</p>\n<p>For e.g. I have the array [1,2,3].\nI would like the function to first print all possible permutations of 1 digit numbers:</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>then all possible permutations of 2-digit numbers(duplicates like 11, 22, 33 included)</p>\n<pre><code>11\n12\n13\n21\n22\n23\n31\n32\n33\n</code></pre>\n<p>and similarly for the 3 digit numbers.</p>\n<p>I want to include all sort of possible permutations(11, 111, 222 etc.) up to the number of digits in the array, like in this example, I would like to have all permutations up to 3 digits.\nHow can I write it?</p>\n<p>My current code creates only exclusive permutations of only the number of digits asked, not the smaller digits:</p>\n<pre><code>public class Permutation {\n    public static void main(String[] args)\n    {\n        String str = &quot;132546&quot;;\n        int n = str.length();\n        Permutation permutation = new Permutation();\n\n        permutation.permute(str, 0, n-1);\n\n    }\n\n    private void permute(String str, int l, int r)\n    {\n        if (l == r)\n            System.out.println(str);\n        else\n        {\n            for (int i = l; i &lt;= r; i++)\n            {\n                str = swap(str,l,i);\n                permute(str, l+1, r);\n                str = swap(str,l,i);\n            }\n        }\n    }\n\n\n    public String swap(String a, int i, int j)\n    {\n        char temp;\n        char[] charArray = a.toCharArray();\n        temp = charArray[i] ;\n        charArray[i] = charArray[j];\n        charArray[j] = temp;\n        return String.valueOf(charArray);\n    }\n\n}\n</code></pre>\n<p>I want it to create all permutations as written above.</p>\n"},{"tags":["java","datetime-parsing"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1652331751,"post_id":72210319,"comment_id":127581596,"body_markdown":"Why not save yourself the headache, and use the &quot;new&quot; Java date/time API?","body":"Why not save yourself the headache, and use the &quot;new&quot; Java date/time API?"},{"owner":{"account_id":25266166,"reputation":1,"user_id":19099079,"display_name":"Mariam Baidauri"},"score":0,"creation_date":1652332821,"post_id":72210319,"comment_id":127581763,"body_markdown":"how will you get this format from &quot;now&quot;? @RobbyCornelissen","body":"how will you get this format from &quot;now&quot;? @RobbyCornelissen"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1652333463,"post_id":72210319,"comment_id":127581862,"body_markdown":"Can you give an example of a date for which the code above gives you the wrong answer?  What answer are you expecting, and what answer are you getting?","body":"Can you give an example of a date for which the code above gives you the wrong answer?  What answer are you expecting, and what answer are you getting?"},{"owner":{"account_id":25266166,"reputation":1,"user_id":19099079,"display_name":"Mariam Baidauri"},"score":0,"creation_date":1652333537,"post_id":72210319,"comment_id":127581875,"body_markdown":"my bad! unnecessary code removed @DawoodibnKareem","body":"my bad! unnecessary code removed @DawoodibnKareem"},{"owner":{"account_id":25266166,"reputation":1,"user_id":19099079,"display_name":"Mariam Baidauri"},"score":0,"creation_date":1652334208,"post_id":72210319,"comment_id":127582012,"body_markdown":"I updated the question, with date used, expected and obtained. @DawoodibnKareem","body":"I updated the question, with date used, expected and obtained. @DawoodibnKareem"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652336637,"post_id":72210319,"comment_id":127582552,"body_markdown":"I recommend you don’t use `Calendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatterBuilder`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Calendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatterBuilder</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1652337166,"post_id":72210319,"comment_id":127582690,"body_markdown":"Assuming your timezone is UTC+08:00, 1652329140000 is the correct answer.  Why were you expecting something different?","body":"Assuming your timezone is UTC+08:00, 1652329140000 is the correct answer.  Why were you expecting something different?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1652337236,"post_id":72210319,"comment_id":127582707,"body_markdown":"In other words, your code is fine; but it&#39;s a bit more complex than it needs to be.  The classes in the `java.time` package make this kind so much easier!","body":"In other words, your code is fine; but it&#39;s a bit more complex than it needs to be.  The classes in the <code>java.time</code> package make this kind so much easier!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652337279,"post_id":72210319,"comment_id":127582722,"body_markdown":"It would seem to me you made an error in your epoch time converter lookup. 1652415544 seoncds is for May ***13*** (tomorrow) at 00:19:04 UTC (04:19:04 AM at UTC offset -04:00).","body":"It would seem to me you made an error in your epoch time converter lookup. 1652415544 seoncds is for May <b><i>13</i></b> (tomorrow) at 00:19:04 UTC (04:19:04 AM at UTC offset -04:00)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652337886,"post_id":72210319,"comment_id":127582876,"body_markdown":"(The discussion may be a bit easier if you tell us which time zone you’re in. I reproduced your result, 1652329140000, by running in America/Campo_Grande time zone, but there are many time zones at UTC offset -04:00.)","body":"(The discussion may be a bit easier if you tell us which time zone you’re in. I reproduced your result, 1652329140000, by running in America/Campo_Grande time zone, but there are many time zones at UTC offset -04:00.)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1652338293,"post_id":72210319,"comment_id":127583007,"body_markdown":"You are ignoring the crucial issue of time zone. Does your example data mean 19 minutes after midnight in Tokyo, or in Toulouse, or in Toledo? Those are different moments, several hours apart. See [my solution run live at Ideone.com](https://ideone.com/mNszun). Change the time zone to the one intended for your input.","body":"You are ignoring the crucial issue of time zone. Does your example data mean 19 minutes after midnight in Tokyo, or in Toulouse, or in Toledo? Those are different moments, several hours apart. See <a href=\"https://ideone.com/mNszun\" rel=\"nofollow noreferrer\">my solution run live at Ideone.com</a>. Change the time zone to the one intended for your input."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652338694,"post_id":72210319,"comment_id":127583133,"body_markdown":"Notice too that getting the current year requires a time zone as well. On New Year&#39;s Eve/New Year&#39;s Day, Tokyo may be in next year, while Toledo is simultaneously in last year.","body":"Notice too that getting the current year requires a time zone as well. On New Year&#39;s Eve/New Year&#39;s Day, Tokyo may be in next year, while Toledo is simultaneously in last year."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1652338952,"post_id":72210319,"comment_id":127583226,"body_markdown":"Please watch your language. Profanity is distracting, possibly offensive, and may be confusing to the many readers here for whom English is a second language.","body":"Please watch your language. Profanity is distracting, possibly offensive, and may be confusing to the many readers here for whom English is a second language."}],"owner":{"account_id":25266166,"reputation":1,"user_id":19099079,"display_name":"Mariam Baidauri"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652337598,"answer_count":0,"score":0,"last_activity_date":1652714437,"creation_date":1652331562,"question_id":72210319,"body_markdown":"\r\nI am reading date (in variable &quot;last_time&quot;) from a website in the format: MM-dd HH:mm, I want to get this date, parse it, which I did in this code. Then I want to know how much time passed, till now. I am trying to get the difference between the time read and the current time in milliseconds, but I am getting the wrong value when I compare it with Epoch time converters. Can I customly include the year and then parse it?\r\n    \r\n            Calendar date = Calendar.getInstance();\r\n        date.setTime(new SimpleDateFormat(&quot;MM-dd HH:mm&quot;).parse(last_time)); // Parse into Date object\r\n        date.set(Calendar.YEAR, 2022);\r\n        var curr = date.getTimeInMillis();\r\n\r\n        long now = Calendar.getInstance().getTimeInMillis(); // Get time now\r\n        System.out.println(now);\r\n        long differenceInMillis = now - curr;\r\n\r\nDate used: 05-12 00:19 \r\ntimeInmillisec obtained after parsing: 1652329140000\r\nexpected time in millisec: 1652415544\r\n\r\n","title":"Java parsing data after including custom year","body":"<p>I am reading date (in variable &quot;last_time&quot;) from a website in the format: MM-dd HH:mm, I want to get this date, parse it, which I did in this code. Then I want to know how much time passed, till now. I am trying to get the difference between the time read and the current time in milliseconds, but I am getting the wrong value when I compare it with Epoch time converters. Can I customly include the year and then parse it?</p>\n<pre><code>        Calendar date = Calendar.getInstance();\n    date.setTime(new SimpleDateFormat(&quot;MM-dd HH:mm&quot;).parse(last_time)); // Parse into Date object\n    date.set(Calendar.YEAR, 2022);\n    var curr = date.getTimeInMillis();\n\n    long now = Calendar.getInstance().getTimeInMillis(); // Get time now\n    System.out.println(now);\n    long differenceInMillis = now - curr;\n</code></pre>\n<p>Date used: 05-12 00:19\ntimeInmillisec obtained after parsing: 1652329140000\nexpected time in millisec: 1652415544</p>\n"},{"tags":["java","opengl","lwjgl","glfw"],"answers":[{"tags":[],"owner":{"account_id":248772,"reputation":159853,"user_id":524368,"accept_rate":83,"display_name":"datenwolf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652714174,"creation_date":1652707536,"answer_id":72259977,"question_id":72259812,"body_markdown":"A window that is actually hidden (i.e. not mapped or minimized) doesn&#39;t [own any active pixels](https://www.khronos.org/opengl/wiki/Per-Sample_Processing#Pixel_ownership_test), and hence you can&#39;t render to it. However if you see a &quot;white flash&quot;, then a non-nil background color/brush has been set for the window, which would also interfere with regular rendering. So the first thing to do is making sure that background color/brush is being unset, so that it doesn&#39;t flash on expose events.\r\n\r\nIf you really want to prepare a rendering to be available right on window map, then you could do this by rendering off-screen to a framebuffer object, and then upon mapping could quickly fill the window framebuffer using `glBlitFramebuffer`","title":"GLFW OpenGL render before showing window","body":"<p>A window that is actually hidden (i.e. not mapped or minimized) doesn't <a href=\"https://www.khronos.org/opengl/wiki/Per-Sample_Processing#Pixel_ownership_test\" rel=\"nofollow noreferrer\">own any active pixels</a>, and hence you can't render to it. However if you see a &quot;white flash&quot;, then a non-nil background color/brush has been set for the window, which would also interfere with regular rendering. So the first thing to do is making sure that background color/brush is being unset, so that it doesn't flash on expose events.</p>\n<p>If you really want to prepare a rendering to be available right on window map, then you could do this by rendering off-screen to a framebuffer object, and then upon mapping could quickly fill the window framebuffer using <code>glBlitFramebuffer</code></p>\n"}],"owner":{"account_id":22163582,"reputation":37,"user_id":16410173,"display_name":"DasBabyPixel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72259977,"answer_count":1,"score":1,"last_activity_date":1652714174,"creation_date":1652706801,"question_id":72259812,"body_markdown":"I have a very simple program:\r\n\r\n```\r\nglfwInit();\r\nglfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\nlong w = glfwCreateWindow(400, 400, &quot;test&quot;, 0, 0);\r\nglfwMakeContextCurrent(w);\r\nGL.createCapabilities();\r\n// Frame start\r\nGL11.glBegin(GL11.GL_LINE_LOOP);\r\nGL11.glVertex2d(0.3, 0.3);\r\nGL11.glVertex2d(0.7, 0.3);\r\nGL11.glVertex2d(0.5, 0.7);\r\nGL11.glEnd();\r\n// Frame end\r\nglfwSwapBuffers(w); // -- move this after showwindow to make it work, but causes white window to flash white when appearing because it has nothing rendered yet\r\n\r\nglfwShowWindow(w);\r\nwhile (!glfwWindowShouldClose(w)) {\r\n\tglfwWaitEvents();\r\n\tglfwPollEvents();\r\n}\r\nglfwDestroyWindow(w);\r\nglfwTerminate();\r\n```\r\n\r\nbut after executing I get a white window. I thought you could pre-render a frame so when you show the window you immediately have something drawn onto it instead of having to draw the frame after showing the window which creates a white flash. Basically how can I set the window to have drawn something without showing it because I think it just ignores draw calls when it is invisible","title":"GLFW OpenGL render before showing window","body":"<p>I have a very simple program:</p>\n<pre><code>glfwInit();\nglfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\nlong w = glfwCreateWindow(400, 400, &quot;test&quot;, 0, 0);\nglfwMakeContextCurrent(w);\nGL.createCapabilities();\n// Frame start\nGL11.glBegin(GL11.GL_LINE_LOOP);\nGL11.glVertex2d(0.3, 0.3);\nGL11.glVertex2d(0.7, 0.3);\nGL11.glVertex2d(0.5, 0.7);\nGL11.glEnd();\n// Frame end\nglfwSwapBuffers(w); // -- move this after showwindow to make it work, but causes white window to flash white when appearing because it has nothing rendered yet\n\nglfwShowWindow(w);\nwhile (!glfwWindowShouldClose(w)) {\n    glfwWaitEvents();\n    glfwPollEvents();\n}\nglfwDestroyWindow(w);\nglfwTerminate();\n</code></pre>\n<p>but after executing I get a white window. I thought you could pre-render a frame so when you show the window you immediately have something drawn onto it instead of having to draw the frame after showing the window which creates a white flash. Basically how can I set the window to have drawn something without showing it because I think it just ignores draw calls when it is invisible</p>\n"},{"tags":["java","process","bufferedreader","readline","stringbuilder"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1652711598,"post_id":72260810,"comment_id":127665578,"body_markdown":"I think the std_out could block if the err_out is full and not being read.  I think you have to check both in one read loop and read from both if input is available.","body":"I think the std_out could block if the err_out is full and not being read.  I think you have to check both in one read loop and read from both if input is available."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652713557,"creation_date":1652713557,"answer_id":72261405,"question_id":72260810,"body_markdown":"You must consume stdout and stderr on different threads, because if one of these output streams fills its buffer while you are only reading from the other stream, then the process blocks indefinitely. \r\n\r\nAlternatively switch to using `ProcessBuilder` and map stderr to stdout, then you just read from the merged stream not both streams:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(command);\r\n    pb.redirectErrorStream(true);\r\n    Process pr = pb.start();\r\n    ... Your reading code for reader, eReader is not required\r\n    int rc = exec.waitFor();","title":"BufferedReader.reader.readLine() returns nothing in Java","body":"<p>You must consume stdout and stderr on different threads, because if one of these output streams fills its buffer while you are only reading from the other stream, then the process blocks indefinitely.</p>\n<p>Alternatively switch to using <code>ProcessBuilder</code> and map stderr to stdout, then you just read from the merged stream not both streams:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(command);\npb.redirectErrorStream(true);\nProcess pr = pb.start();\n... Your reading code for reader, eReader is not required\nint rc = exec.waitFor();\n</code></pre>\n"}],"owner":{"account_id":13493382,"reputation":1,"user_id":9734907,"display_name":"Andrea Chirigu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652713557,"creation_date":1652711150,"question_id":72260810,"body_markdown":"I have the following code:\r\n\r\n      Process pr = run.exec(sonarScannerCommand);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n        BufferedReader eReader = new BufferedReader(new InputStreamReader(pr.getErrorStream()));\r\n\r\n        StringBuilder output = new StringBuilder();\r\n        String line;\r\n        boolean error = false;\r\n        \r\n        while ((line = reader.readLine()) != null) {\r\n            output.append(line + &quot;\\n&quot;);\r\n            if (line.contains(&quot;EXECUTION FAILURE&quot;)) {\r\n                error = true;\r\n            }\r\n            log.info(line);\r\n        }\r\n\r\n        String errorString = &quot;&quot;;\r\n        while ((line = eReader.readLine()) != null) {\r\n            if (errorString.equals(&quot;&quot;) &amp;&amp; error) {\r\n                errorString = line;\r\n            }\r\n            output.append(line + &quot;\\n&quot;);\r\n            log.error(line);\r\n        }\r\n\r\n        pr.waitFor(5, TimeUnit.MINUTES);\r\n\r\nAt some point in the process, it freezes and doesn&#39;t move forward.\r\nIt returns nothing to the readLine () method and gets stuck waiting for something that doesn&#39;t return.\r\nHow can I manage this wait?\r\nThank you","title":"BufferedReader.reader.readLine() returns nothing in Java","body":"<p>I have the following code:</p>\n<pre><code>  Process pr = run.exec(sonarScannerCommand);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n    BufferedReader eReader = new BufferedReader(new InputStreamReader(pr.getErrorStream()));\n\n    StringBuilder output = new StringBuilder();\n    String line;\n    boolean error = false;\n    \n    while ((line = reader.readLine()) != null) {\n        output.append(line + &quot;\\n&quot;);\n        if (line.contains(&quot;EXECUTION FAILURE&quot;)) {\n            error = true;\n        }\n        log.info(line);\n    }\n\n    String errorString = &quot;&quot;;\n    while ((line = eReader.readLine()) != null) {\n        if (errorString.equals(&quot;&quot;) &amp;&amp; error) {\n            errorString = line;\n        }\n        output.append(line + &quot;\\n&quot;);\n        log.error(line);\n    }\n\n    pr.waitFor(5, TimeUnit.MINUTES);\n</code></pre>\n<p>At some point in the process, it freezes and doesn't move forward.\nIt returns nothing to the readLine () method and gets stuck waiting for something that doesn't return.\nHow can I manage this wait?\nThank you</p>\n"},{"tags":["java","unit-testing","mockito","stub","spy"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1652665281,"post_id":72253305,"comment_id":127653507,"body_markdown":"Why do you assume `categoryCrudService.updateCategory(1L, requestDto)` works with the spy? You&#39;re not using the spy there.","body":"Why do you assume <code>categoryCrudService.updateCategory(1L, requestDto)</code> works with the spy? You&#39;re not using the spy there."},{"owner":{"account_id":15004176,"reputation":65,"user_id":13990174,"display_name":"Trọng Nghĩa L&#234; Đ&#236;nh"},"score":0,"creation_date":1652669797,"post_id":72253305,"comment_id":127654029,"body_markdown":"This where I am calling the method to test, I am not stubbing here. Am I supposed to use spy here? I&#39;ll try it, thanks.","body":"This where I am calling the method to test, I am not stubbing here. Am I supposed to use spy here? I&#39;ll try it, thanks."},{"owner":{"account_id":15004176,"reputation":65,"user_id":13990174,"display_name":"Trọng Nghĩa L&#234; Đ&#236;nh"},"score":0,"creation_date":1652670565,"post_id":72253305,"comment_id":127654107,"body_markdown":"Thanks a lot, using spy there did solve the problem. Thank you.","body":"Thanks a lot, using spy there did solve the problem. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":15004176,"reputation":65,"user_id":13990174,"display_name":"Trọng Nghĩa L&#234; Đ&#236;nh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652713511,"creation_date":1652713511,"answer_id":72261396,"question_id":72253305,"body_markdown":"Well, thanks to the above comment of @Tom, I managed to get it right because I did not use spy here ```CategoryResponseDto result = categoryCrudService.updateCategory(1L, requestDto);```. It should be like this ```CategoryResponseDto result = spy .updateCategory(1L, requestDto);```. ","title":"Spy object keeps calling to real method even when stubbed","body":"<p>Well, thanks to the above comment of @Tom, I managed to get it right because I did not use spy here <code>CategoryResponseDto result = categoryCrudService.updateCategory(1L, requestDto);</code>. It should be like this <code>CategoryResponseDto result = spy .updateCategory(1L, requestDto);</code>.</p>\n"}],"owner":{"account_id":15004176,"reputation":65,"user_id":13990174,"display_name":"Trọng Nghĩa L&#234; Đ&#236;nh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652713511,"creation_date":1652663627,"question_id":72253305,"body_markdown":"I am working on unit testing this service method, which requires using other methods in the same class that is being tested. So I have read about ```spy``` and applied it to my code. However, even when stubbed, the spy object of the class that I am testing keeps executing the real methods.\r\n\r\nThe method that is being tested\r\n```\r\n@Override\r\n    public CategoryResponseDto updateCategory(Long categoryId, UpdateCategoryRequestDto requestDto) {\r\n        CategoryEntity categoryEntity = findById(categoryId);\r\n\r\n        modelMapper.convertToEntity(requestDto, categoryEntity);\r\n        categoryEntity = categoryRepository.save(categoryEntity);\r\n\r\n        return modelMapper.convertToResponse(categoryEntity, CategoryResponseDto.class);\r\n    }\r\n```\r\n\r\nMy code to test it\r\n```\r\n    @Test\r\n    public void updateCategory_ShouldReturnCategoryResponseDto_WhenDataValid() {\r\n        CategoryEntity categoryEntity = mock(CategoryEntity.class);\r\n        UpdateCategoryRequestDto requestDto = mock(UpdateCategoryRequestDto.class);\r\n        CategoryCrudServiceImpl spy = Mockito.spy(categoryCrudService);\r\n        CategoryResponseDto expectedResult = mock(CategoryResponseDto.class);\r\n\r\n        doReturn(categoryEntity).when(spy).findById(anyLong());\r\n        when(categoryRepository.save(categoryEntity)).thenReturn(categoryEntity);\r\n        when(modelMapper.convertToResponse(categoryEntity, CategoryResponseDto.class)).thenReturn(expectedResult);\r\n\r\n        CategoryResponseDto result = categoryCrudService.updateCategory(1L, requestDto);\r\n\r\n        assertThat(result, is(expectedResult));\r\n    }\r\n```\r\n\r\nSo the class being tested here is ```CategoryCrudServiceImple```, the instance of that class is ```categoryCrudService``` in my test code and I create a spy out of it ```spy(categoryCrudService)```. As you can see, I stubbed the ```findById()``` which comes from the same ```CategoryCrudServiceImple``` class with ```doReturn(categoryEntity).when(spy).findById(1L);``` and It didn&#39;t work, I tried passing in ```any()``` or ```anyLong()``` and the real ```findById()``` method is still called and throws the exception of ```ResourceNotFound```. \r\n\r\nCould you please help me with this? Am I missing or misunderstanding anything here?\r\n\r\nThank you very much for your precious time.","title":"Spy object keeps calling to real method even when stubbed","body":"<p>I am working on unit testing this service method, which requires using other methods in the same class that is being tested. So I have read about <code>spy</code> and applied it to my code. However, even when stubbed, the spy object of the class that I am testing keeps executing the real methods.</p>\n<p>The method that is being tested</p>\n<pre><code>@Override\n    public CategoryResponseDto updateCategory(Long categoryId, UpdateCategoryRequestDto requestDto) {\n        CategoryEntity categoryEntity = findById(categoryId);\n\n        modelMapper.convertToEntity(requestDto, categoryEntity);\n        categoryEntity = categoryRepository.save(categoryEntity);\n\n        return modelMapper.convertToResponse(categoryEntity, CategoryResponseDto.class);\n    }\n</code></pre>\n<p>My code to test it</p>\n<pre><code>    @Test\n    public void updateCategory_ShouldReturnCategoryResponseDto_WhenDataValid() {\n        CategoryEntity categoryEntity = mock(CategoryEntity.class);\n        UpdateCategoryRequestDto requestDto = mock(UpdateCategoryRequestDto.class);\n        CategoryCrudServiceImpl spy = Mockito.spy(categoryCrudService);\n        CategoryResponseDto expectedResult = mock(CategoryResponseDto.class);\n\n        doReturn(categoryEntity).when(spy).findById(anyLong());\n        when(categoryRepository.save(categoryEntity)).thenReturn(categoryEntity);\n        when(modelMapper.convertToResponse(categoryEntity, CategoryResponseDto.class)).thenReturn(expectedResult);\n\n        CategoryResponseDto result = categoryCrudService.updateCategory(1L, requestDto);\n\n        assertThat(result, is(expectedResult));\n    }\n</code></pre>\n<p>So the class being tested here is <code>CategoryCrudServiceImple</code>, the instance of that class is <code>categoryCrudService</code> in my test code and I create a spy out of it <code>spy(categoryCrudService)</code>. As you can see, I stubbed the <code>findById()</code> which comes from the same <code>CategoryCrudServiceImple</code> class with <code>doReturn(categoryEntity).when(spy).findById(1L);</code> and It didn't work, I tried passing in <code>any()</code> or <code>anyLong()</code> and the real <code>findById()</code> method is still called and throws the exception of <code>ResourceNotFound</code>.</p>\n<p>Could you please help me with this? Am I missing or misunderstanding anything here?</p>\n<p>Thank you very much for your precious time.</p>\n"},{"tags":["java","google-cloud-platform","pipeline","apache-beam"],"comments":[{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1652636558,"post_id":72245998,"comment_id":127648631,"body_markdown":"Is there a specific requirement to read a .xlsx file since even with the snippet you have in answer you will need some sort of external library to work with that input stream ex. `org.apache.poi.ss.usermodel.Workbook`. The easiest solution would be to use .avro, .csv etc files for which apache beam has built-in IO transforms. The other way would be to use FileIO with a ParDo. I can post the way you read it in a ParDo if that&#39;s what you&#39;re looking for using FIleIO","body":"Is there a specific requirement to read a .xlsx file since even with the snippet you have in answer you will need some sort of external library to work with that input stream ex. <code>org.apache.poi.ss.usermodel.Workbook</code>. The easiest solution would be to use .avro, .csv etc files for which apache beam has built-in IO transforms. The other way would be to use FileIO with a ParDo. I can post the way you read it in a ParDo if that&#39;s what you&#39;re looking for using FIleIO"},{"owner":{"account_id":24166782,"reputation":13,"user_id":18129497,"display_name":"htsDeepak"},"score":0,"creation_date":1652665660,"post_id":72245998,"comment_id":127653546,"body_markdown":"Please provide the FileIO with a ParDo, I think it will work","body":"Please provide the FileIO with a ParDo, I think it will work"},{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1652713454,"post_id":72245998,"comment_id":127666325,"body_markdown":"Deepak please let me know if the below worked for you.","body":"Deepak please let me know if the below worked for you."},{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1652795536,"post_id":72245998,"comment_id":127689315,"body_markdown":"Please let me know if it worked for you, if so please accept the answer.","body":"Please let me know if it worked for you, if so please accept the answer."}],"answers":[{"tags":[],"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652713190,"creation_date":1652712791,"answer_id":72261199,"question_id":72245998,"body_markdown":"I have implemented reading a .xlsx file from the local file system but the same should work for your GCS bucket path. I have tried the same in a different pipeline, and it worked fine.\r\n\r\nThe `enrichedCollection` in the below code can be treated like a .csv file being read line by line. I have used semicolons as a delimiter to separate out the values.\r\n\r\n\r\n    package com.fooBar;\r\n    \r\n    import org.apache.beam.sdk.Pipeline;\r\n    import org.apache.beam.sdk.io.FileIO;\r\n    import org.apache.beam.sdk.transforms.DoFn;\r\n    import org.apache.beam.sdk.transforms.ParDo;\r\n    import org.apache.beam.sdk.values.PCollection;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.channels.Channels;\r\n    import java.util.Iterator;\r\n    \r\n    public class SampleExcelInput {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            Pipeline pipeline = Pipeline.create();\r\n            \r\n            PCollection&lt;FileIO.ReadableFile&gt; inputCollection  = pipeline.apply(FileIO.match()\r\n    //                .filepattern(&quot;gs://bucket/file.xlsx&quot;))\r\n                            .filepattern(&quot;C:\\\\Workspace\\\\ApacheBeam\\\\src\\\\main\\\\resources\\\\Inputfiles\\\\SampleExcel.xlsx&quot;))\r\n                    .apply(FileIO.readMatches());\r\n            \r\n            PCollection&lt;String&gt; enrichedCollection = inputCollection.apply(ParDo.of(new ReadXlsxDoFn()));\r\n            //TODO: do further processing treating the lines of enrichedCollection pcollection as if they were read from csv\r\n            pipeline.run().waitUntilFinish();\r\n        }\r\n    \r\n        static class ReadXlsxDoFn extends DoFn&lt;FileIO.ReadableFile, String&gt;{\r\n            final static String  DELIMITER  = &quot;;&quot;;\r\n            @ProcessElement\r\n            public void process(ProcessContext c) throws IOException {\r\n                FileIO.ReadableFile  fileName = c.element();\r\n                System.out.println(&quot;FileName being read is :&quot; + fileName);\r\n                assert fileName != null;\r\n                InputStream stream = Channels.newInputStream(fileName.openSeekable());\r\n                XSSFWorkbook wb = new XSSFWorkbook(stream);\r\n                XSSFSheet sheet = wb.getSheetAt(0);     //creating a Sheet object to retrieve object\r\n                //iterating over Excel file\r\n                for (Row row : sheet) {\r\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator();   //iterating over each column\r\n                    StringBuilder sb  = new StringBuilder();\r\n                    while (cellIterator.hasNext()) {\r\n                        Cell cell = cellIterator.next();\r\n                        if(cell.getCellType() ==  Cell.CELL_TYPE_NUMERIC){\r\n                            sb.append(cell.getNumericCellValue()).append(DELIMITER);\r\n                        }\r\n                        else{\r\n                            sb.append(cell.getStringCellValue()).append(DELIMITER);\r\n                        }\r\n                    }\r\n                    System.out.println(sb.substring(0, sb.length()-1));\r\n                c.output(sb.substring(0, sb.length()-1));//removing the delimiter present @End of String \r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nFor the Dependencies I had to manually add some jars to make it work, you can take that reference from [here][1]\r\n \r\n\r\nApart from the above Jars I have the following as my maven dependencies.\r\n\r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.37.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\r\n                &lt;version&gt;2.37.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nLink for The sample .xlsx file : [here][2] \r\n\r\nConsole output from the DoFn\r\n\r\n    FileName being read is :ReadableFile{metadata=Metadata{resourceId=C:\\Users\\USER\\Desktop\\Java \r\n       \r\n       \r\n   \r\n\r\n        \r\n        FileName being read is :ReadableFile{metadata=Metadata{resourceId=C:\\Users\\USER\\Desktop\\Java Masterclass\\ApacheBeam\\src\\main\\resources\\Inputfiles\\SampleExcel.xlsx, sizeBytes=7360, isReadSeekEfficient=true, checksum=null, lastModifiedMillis=0}, compression=UNCOMPRESSED}\r\n    0.0;First Name;Last Name;Gender;Country;Age;Date;Id\r\n    1.0;Dulce;Abril;Female;United States;32.0;15/10/2017;1562.0\r\n    2.0;Mara;Hashimoto;Female;Great Britain;25.0;16/08/2016;1582.0\r\n    3.0;Philip;Gent;Male;France;36.0;21/05/2015;2587.0\r\n    4.0;Kathleen;Hanner;Female;United States;25.0;15/10/2017;3549.0\r\n    5.0;Nereida;Magwood;Female;United States;58.0;16/08/2016;2468.0\r\n    6.0;Gaston;Brumm;Male;United States;24.0;21/05/2015;2554.0\r\n    7.0;Etta;Hurn;Female;Great Britain;56.0;15/10/2017;3598.0\r\n    8.0;Earlean;Melgar;Female;United States;27.0;16/08/2016;2456.0  \r\n    .\r\n    .\r\n    .\r\n    50.0;Rasheeda;Alkire;Female;United States;29.0;16/08/2016;6125.0\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Note**: Since the file is being parsed line by line in a Simple DoFn, this would mean it would be one thread per file. if you have just a single file with a very large size say ~5GB you will see notice a significant performance drop. One workaround for this would be to make the sizes of the input files small and use a wildcard file pattern.\r\n\r\n  [1]: https://www.javatpoint.com/how-to-read-excel-file-in-java\r\n  [2]: https://file-examples.com/wp-content/uploads/2017/02/file_example_XLSX_50.xlsx","title":"Java: read excel file stored in a bucket using apache beam pipeline","body":"<p>I have implemented reading a .xlsx file from the local file system but the same should work for your GCS bucket path. I have tried the same in a different pipeline, and it worked fine.</p>\n<p>The <code>enrichedCollection</code> in the below code can be treated like a .csv file being read line by line. I have used semicolons as a delimiter to separate out the values.</p>\n<pre><code>package com.fooBar;\n\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.io.FileIO;\nimport org.apache.beam.sdk.transforms.DoFn;\nimport org.apache.beam.sdk.transforms.ParDo;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.channels.Channels;\nimport java.util.Iterator;\n\npublic class SampleExcelInput {\n\n    public static void main(String[] args) throws IOException {\n        \n        Pipeline pipeline = Pipeline.create();\n        \n        PCollection&lt;FileIO.ReadableFile&gt; inputCollection  = pipeline.apply(FileIO.match()\n//                .filepattern(&quot;gs://bucket/file.xlsx&quot;))\n                        .filepattern(&quot;C:\\\\Workspace\\\\ApacheBeam\\\\src\\\\main\\\\resources\\\\Inputfiles\\\\SampleExcel.xlsx&quot;))\n                .apply(FileIO.readMatches());\n        \n        PCollection&lt;String&gt; enrichedCollection = inputCollection.apply(ParDo.of(new ReadXlsxDoFn()));\n        //TODO: do further processing treating the lines of enrichedCollection pcollection as if they were read from csv\n        pipeline.run().waitUntilFinish();\n    }\n\n    static class ReadXlsxDoFn extends DoFn&lt;FileIO.ReadableFile, String&gt;{\n        final static String  DELIMITER  = &quot;;&quot;;\n        @ProcessElement\n        public void process(ProcessContext c) throws IOException {\n            FileIO.ReadableFile  fileName = c.element();\n            System.out.println(&quot;FileName being read is :&quot; + fileName);\n            assert fileName != null;\n            InputStream stream = Channels.newInputStream(fileName.openSeekable());\n            XSSFWorkbook wb = new XSSFWorkbook(stream);\n            XSSFSheet sheet = wb.getSheetAt(0);     //creating a Sheet object to retrieve object\n            //iterating over Excel file\n            for (Row row : sheet) {\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();   //iterating over each column\n                StringBuilder sb  = new StringBuilder();\n                while (cellIterator.hasNext()) {\n                    Cell cell = cellIterator.next();\n                    if(cell.getCellType() ==  Cell.CELL_TYPE_NUMERIC){\n                        sb.append(cell.getNumericCellValue()).append(DELIMITER);\n                    }\n                    else{\n                        sb.append(cell.getStringCellValue()).append(DELIMITER);\n                    }\n                }\n                System.out.println(sb.substring(0, sb.length()-1));\n            c.output(sb.substring(0, sb.length()-1));//removing the delimiter present @End of String \n\n            }\n        }\n    }\n}\n</code></pre>\n<p>For the Dependencies I had to manually add some jars to make it work, you can take that reference from <a href=\"https://www.javatpoint.com/how-to-read-excel-file-in-java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Apart from the above Jars I have the following as my maven dependencies.</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\n            &lt;version&gt;2.37.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\n            &lt;version&gt;2.37.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Link for The sample .xlsx file : <a href=\"https://file-examples.com/wp-content/uploads/2017/02/file_example_XLSX_50.xlsx\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Console output from the DoFn</p>\n<pre><code>FileName being read is :ReadableFile{metadata=Metadata{resourceId=C:\\Users\\USER\\Desktop\\Java \n   \n   \n\n\n    \n    FileName being read is :ReadableFile{metadata=Metadata{resourceId=C:\\Users\\USER\\Desktop\\Java Masterclass\\ApacheBeam\\src\\main\\resources\\Inputfiles\\SampleExcel.xlsx, sizeBytes=7360, isReadSeekEfficient=true, checksum=null, lastModifiedMillis=0}, compression=UNCOMPRESSED}\n0.0;First Name;Last Name;Gender;Country;Age;Date;Id\n1.0;Dulce;Abril;Female;United States;32.0;15/10/2017;1562.0\n2.0;Mara;Hashimoto;Female;Great Britain;25.0;16/08/2016;1582.0\n3.0;Philip;Gent;Male;France;36.0;21/05/2015;2587.0\n4.0;Kathleen;Hanner;Female;United States;25.0;15/10/2017;3549.0\n5.0;Nereida;Magwood;Female;United States;58.0;16/08/2016;2468.0\n6.0;Gaston;Brumm;Male;United States;24.0;21/05/2015;2554.0\n7.0;Etta;Hurn;Female;Great Britain;56.0;15/10/2017;3598.0\n8.0;Earlean;Melgar;Female;United States;27.0;16/08/2016;2456.0  \n.\n.\n.\n50.0;Rasheeda;Alkire;Female;United States;29.0;16/08/2016;6125.0\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Note</strong>: Since the file is being parsed line by line in a Simple DoFn, this would mean it would be one thread per file. if you have just a single file with a very large size say ~5GB you will see notice a significant performance drop. One workaround for this would be to make the sizes of the input files small and use a wildcard file pattern.</p>\n"}],"owner":{"account_id":24166782,"reputation":13,"user_id":18129497,"display_name":"htsDeepak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72261199,"answer_count":1,"score":1,"last_activity_date":1652713190,"creation_date":1652596016,"question_id":72245998,"body_markdown":"I know the below way but I need in Apache beam pipeline please provide an example :\r\n\r\n    try (ReadableByteChannel chan = FileSystems.open(FileSystems.matchNewResource(\r\n                &quot;gs://bucketname/filename.xlsx&quot;, false ))) {\r\n          InputStream inputStream = Channels.newInputStream(chan);","title":"Java: read excel file stored in a bucket using apache beam pipeline","body":"<p>I know the below way but I need in Apache beam pipeline please provide an example :</p>\n<pre><code>try (ReadableByteChannel chan = FileSystems.open(FileSystems.matchNewResource(\n            &quot;gs://bucketname/filename.xlsx&quot;, false ))) {\n      InputStream inputStream = Channels.newInputStream(chan);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652713140,"creation_date":1652713140,"question_id":72261294,"body_markdown":"I will use pets as data model to demonstrate my issue. Pets store has different type of pets. \r\nwhen store created with mix type of pets, i am getting an exception.\r\n\r\n[{&quot;type&quot;:&quot;cat&quot;,&quot;sound&quot;:&quot;lala&quot;,&quot;color&quot;:&quot;black&quot;},{&quot;type&quot;:&quot;dog&quot;,&quot;bread&quot;:&quot;pit&quot;,&quot;color&quot;:&quot;brown&quot;}]&quot;;\r\n&gt; used by: java.lang.IllegalArgumentException: The given byte array\r\n&gt; cannot be transformed to Json object \t... 134 more Caused by:\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not\r\n&gt; resolve type id &#39;cat&#39; as a subtype of\r\n&gt; `com.test.Dog`: Class\r\n&gt; `com.test.Cat` not subtype of\r\n&gt; `com.test.Dog`  at\r\n&gt; [Source:\r\n&gt; (byte[])&quot;\r\n&gt; line: 1, column: 119] (through reference chain:\r\n&gt; java.util.ArrayList[1]) \tat\r\n&gt; app//com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\r\n\r\ni understand that postgres having some issue saving object with different types. Is there any way to solve this problem? \r\n \r\nentity class:\r\n    \r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Data\r\n    @AllArgsConstructor\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    @EntityListeners({\r\n        AuditingEntityListener.class\r\n    })\r\n    @Audited\r\n    public class StoreEntity implements Serializable {\r\n    \r\n      @Id\r\n      private String id;\r\n    \r\n      @NotNull\r\n      private String name;\r\n        \r\n       \r\n      @Valid\r\n      @Type(type = &quot;json&quot;)\r\n      @Column(columnDefinition = &quot;jsonb&quot;)\r\n      private List&lt;Pets&gt; list= new ArrayList&lt;&gt;();\r\n    \r\n    }\r\n\r\ndata object\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\r\n            include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n            visible = true,\r\n            property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(name = &quot;cat&quot;, value = Cat.class),\r\n            @JsonSubTypes.Type(name = &quot;dog&quot;, value = Dog.class),\r\n            @JsonSubTypes.Type(name = &quot;Pig&quot;, value = Pig.class)   \r\n    })\r\n    abstract class Pets {\r\n    \r\n        private String type;\r\n    \r\n        @JsonProperty(&quot;type&quot;)\r\n        private String type;\r\n    \r\n      \r\n        // getters, setters, toString\r\n    }\r\n\r\n    class Cat extends Pets {  \r\n    }\r\n    \r\n    class Dog extends Dogs {\r\n    }\r\n\r\n    Repository\r\n    public interface StoreEntityRepository\r\n        extends CrudRepository&lt;StoreEntity, String&gt;, JpaSpecificationExecutor&lt;StoreEntity&gt; {  \r\n    }\r\n\r\n","title":"JPA Postgres jsonb collection type with multiple types fails on save","body":"<p>I will use pets as data model to demonstrate my issue. Pets store has different type of pets.\nwhen store created with mix type of pets, i am getting an exception.</p>\n<p>[{&quot;type&quot;:&quot;cat&quot;,&quot;sound&quot;:&quot;lala&quot;,&quot;color&quot;:&quot;black&quot;},{&quot;type&quot;:&quot;dog&quot;,&quot;bread&quot;:&quot;pit&quot;,&quot;color&quot;:&quot;brown&quot;}]&quot;;</p>\n<blockquote>\n<p>used by: java.lang.IllegalArgumentException: The given byte array\ncannot be transformed to Json object  ... 134 more Caused by:\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not\nresolve type id 'cat' as a subtype of\n<code>com.test.Dog</code>: Class\n<code>com.test.Cat</code> not subtype of\n<code>com.test.Dog</code>  at\n[Source:\n(byte[])&quot;\nline: 1, column: 119] (through reference chain:\njava.util.ArrayList[1])   at\napp//com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)</p>\n</blockquote>\n<p>i understand that postgres having some issue saving object with different types. Is there any way to solve this problem?</p>\n<p>entity class:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\n@AllArgsConstructor\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n@EntityListeners({\n    AuditingEntityListener.class\n})\n@Audited\npublic class StoreEntity implements Serializable {\n\n  @Id\n  private String id;\n\n  @NotNull\n  private String name;\n    \n   \n  @Valid\n  @Type(type = &quot;json&quot;)\n  @Column(columnDefinition = &quot;jsonb&quot;)\n  private List&lt;Pets&gt; list= new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>data object</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\n        visible = true,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(name = &quot;cat&quot;, value = Cat.class),\n        @JsonSubTypes.Type(name = &quot;dog&quot;, value = Dog.class),\n        @JsonSubTypes.Type(name = &quot;Pig&quot;, value = Pig.class)   \n})\nabstract class Pets {\n\n    private String type;\n\n    @JsonProperty(&quot;type&quot;)\n    private String type;\n\n  \n    // getters, setters, toString\n}\n\nclass Cat extends Pets {  \n}\n\nclass Dog extends Dogs {\n}\n\nRepository\npublic interface StoreEntityRepository\n    extends CrudRepository&lt;StoreEntity, String&gt;, JpaSpecificationExecutor&lt;StoreEntity&gt; {  \n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-recyclerview","android-viewbinding"],"comments":[{"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"score":0,"creation_date":1652713191,"post_id":72261193,"comment_id":127666206,"body_markdown":"Totally unrelated to your posted problem, but you should not use `match_parent` on children of `ConstraintLayout`. Use `0dp` instead, alongside top+bottom (for &quot;match parent&quot; height) or start+end (for width) constraints. In this case, you already have the correct constraints, so you can just replace `match_parent` with `0dp` and be good to go.","body":"Totally unrelated to your posted problem, but you should not use <code>match_parent</code> on children of <code>ConstraintLayout</code>. Use <code>0dp</code> instead, alongside top+bottom (for &quot;match parent&quot; height) or start+end (for width) constraints. In this case, you already have the correct constraints, so you can just replace <code>match_parent</code> with <code>0dp</code> and be good to go."},{"owner":{"display_name":"user12619636"},"score":0,"creation_date":1652713669,"post_id":72261193,"comment_id":127666410,"body_markdown":"Thanks for the reply , i really appreciate it , actually i am new to development and learning my stuff in this field and will remember this tip you gave me","body":"Thanks for the reply , i really appreciate it , actually i am new to development and learning my stuff in this field and will remember this tip you gave me"}],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652713075,"creation_date":1652713075,"answer_id":72261283,"question_id":72261193,"body_markdown":"In your layout file, it is the root `ConstraintLayout` that has the `@+id/recyclerView` id:\r\n\r\n&gt;     &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n&gt;         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&gt;         android:id=&quot;@+id/recyclerView&quot;\r\n&gt;         ... /&gt;\r\n\r\nYou should move this id to the `RecyclerView` itself:\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        ... /&gt;\r\n\r\nOnce you do this, `binding.recyclerView` will refer to the `RecyclerView` instead of the `ConstraintLayout`.\r\n\r\nIf you need to access the `ConstraintLayout` via the view binding for some other reason, you can use `binding.root`.","title":"Cannot resolve method &#39;setAdapter&#39; in &#39;ConstraintLayout&#39;","body":"<p>In your layout file, it is the root <code>ConstraintLayout</code> that has the <code>@+id/recyclerView</code> id:</p>\n<blockquote>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/recyclerView&quot;\n    ... /&gt;\n</code></pre>\n</blockquote>\n<p>You should move this id to the <code>RecyclerView</code> itself:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    ... /&gt;\n</code></pre>\n<p>Once you do this, <code>binding.recyclerView</code> will refer to the <code>RecyclerView</code> instead of the <code>ConstraintLayout</code>.</p>\n<p>If you need to access the <code>ConstraintLayout</code> via the view binding for some other reason, you can use <code>binding.root</code>.</p>\n"}],"owner":{"display_name":"user12619636"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72261283,"answer_count":1,"score":0,"last_activity_date":1652713075,"creation_date":1652712778,"question_id":72261193,"body_markdown":"I am new to android development and am trying to bind recycler View with  setAdapter but am getting this error &quot;Cannot resolve method &#39;setAdapter&#39; in &#39;ConstraintLayout&#39; &quot;\r\n\r\nmy mainActivity.java code is:\r\n\r\nmy main objective is to use ActivityMainBinding to bind recyclerView with setAdapter\r\n\r\n ```\r\npackage com.example.baatcheet;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport com.example.baatcheet.usersAdapter.*;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.baatcheet.databinding.ActivityMainBinding;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseDatabase database;\r\n    ArrayList&lt;User&gt; users;\r\n    usersAdapter UserAdapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        \r\n        setContentView(binding.getRoot());\r\n        database = FirebaseDatabase.getInstance();\r\n        users = new ArrayList&lt;&gt;();\r\n        UserAdapter = new usersAdapter(this, users);\r\n        binding.recyclerView.setAdapter(UserAdapter);\r\n\r\n\r\n\r\n        database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                users.clear();\r\n                for(DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                    User user = snapshot1.getValue(User.class);\r\n                    users.add(user);\r\n                }\r\n                UserAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.search:\r\n                Toast.makeText(this,&quot;Search Clicked&quot; , Toast.LENGTH_SHORT).show();\r\n                break;\r\n            case R.id.settings:\r\n                Toast.makeText(this , &quot; setting Clicked&quot; , Toast.LENGTH_SHORT).show();\r\n                break;\r\n\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.top_menu,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n}\r\n\r\n\r\n ```\r\nthis is the part where i am getting an error -&gt; binding.recyclerView.setAdapter(UserAdapter);\r\n\r\nand it tells me to rename reference \r\nwhat does this actually mean? \r\n\r\n\r\nthe activity_main.xml file is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/recyclerView&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:elevation=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/menu&quot;&gt;\r\n\r\n    &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@layout/row_conversation&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nthe users.java code is:\r\n\r\n```\r\npackage com.example.baatcheet;\r\n\r\npublic class User {\r\n    private String uid,name,phoneNumber,profileImage;\r\n    public User(){\r\n\r\n    }\r\n\r\n\r\n    public User(String uid, String name, String phoneNumber, String profileImage) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.phoneNumber = phoneNumber;\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public void setProfileImage(String profileImage) {\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public String getProfileImage() {\r\n        return profileImage;\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe usersAdapter.java code is:\r\n\r\n```\r\npackage com.example.baatcheet;\r\n\r\nimport android.content.Context;\r\nimport android.view.ContextMenu;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.baatcheet.databinding.RowConversationBinding;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class usersAdapter extends RecyclerView.Adapter&lt;usersAdapter.UsersViewHolder&gt;{\r\n    Context context;\r\n    ArrayList&lt;User&gt; users;\r\n    public  usersAdapter(Context context , ArrayList&lt;User&gt; users){\r\n        this.context = context;\r\n        this.users = users;\r\n    }\r\n    {\r\n\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.row_conversation,parent,false);\r\n        return new UsersViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\r\n\r\n        User user = users.get(position);\r\n\r\n        holder.binding.userName.setText(user.getName());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    public class UsersViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        RowConversationBinding binding;\r\n        public UsersViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding = RowConversationBinding.bind(itemView);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Cannot resolve method &#39;setAdapter&#39; in &#39;ConstraintLayout&#39;","body":"<p>I am new to android development and am trying to bind recycler View with  setAdapter but am getting this error &quot;Cannot resolve method 'setAdapter' in 'ConstraintLayout' &quot;</p>\n<p>my mainActivity.java code is:</p>\n<p>my main objective is to use ActivityMainBinding to bind recyclerView with setAdapter</p>\n<pre><code>package com.example.baatcheet;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport com.example.baatcheet.usersAdapter.*;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.example.baatcheet.databinding.ActivityMainBinding;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n   ActivityMainBinding binding;\n   FirebaseDatabase database;\n   ArrayList&lt;User&gt; users;\n   usersAdapter UserAdapter;\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       binding = ActivityMainBinding.inflate(getLayoutInflater());\n       \n       setContentView(binding.getRoot());\n       database = FirebaseDatabase.getInstance();\n       users = new ArrayList&lt;&gt;();\n       UserAdapter = new usersAdapter(this, users);\n       binding.recyclerView.setAdapter(UserAdapter);\n\n\n\n       database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n           @Override\n           public void onDataChange(@NonNull DataSnapshot snapshot) {\n               users.clear();\n               for(DataSnapshot snapshot1 : snapshot.getChildren()){\n                   User user = snapshot1.getValue(User.class);\n                   users.add(user);\n               }\n               UserAdapter.notifyDataSetChanged();\n           }\n\n           @Override\n           public void onCancelled(@NonNull DatabaseError error) {\n\n           }\n       });\n\n\n\n\n   }\n\n   @Override\n   public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n       switch (item.getItemId()){\n           case R.id.search:\n               Toast.makeText(this,&quot;Search Clicked&quot; , Toast.LENGTH_SHORT).show();\n               break;\n           case R.id.settings:\n               Toast.makeText(this , &quot; setting Clicked&quot; , Toast.LENGTH_SHORT).show();\n               break;\n\n       }\n       return super.onOptionsItemSelected(item);\n   }\n\n   @Override\n   public boolean onCreateOptionsMenu(Menu menu) {\n       getMenuInflater().inflate(R.menu.top_menu,menu);\n       return super.onCreateOptionsMenu(menu);\n   }\n}\n\n\n</code></pre>\n<p>this is the part where i am getting an error -&gt; binding.recyclerView.setAdapter(UserAdapter);</p>\n<p>and it tells me to rename reference\nwhat does this actually mean?</p>\n<p>the activity_main.xml file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:elevation=&quot;30dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:menu=&quot;@menu/menu&quot;&gt;\n\n    &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:listitem=&quot;@layout/row_conversation&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>the users.java code is:</p>\n<pre><code>package com.example.baatcheet;\n\npublic class User {\n    private String uid,name,phoneNumber,profileImage;\n    public User(){\n\n    }\n\n\n    public User(String uid, String name, String phoneNumber, String profileImage) {\n        this.uid = uid;\n        this.name = name;\n        this.phoneNumber = phoneNumber;\n        this.profileImage = profileImage;\n    }\n\n    public void setUid(String uid) {\n        this.uid = uid;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public void setProfileImage(String profileImage) {\n        this.profileImage = profileImage;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public String getProfileImage() {\n        return profileImage;\n    }\n}\n\n</code></pre>\n<p>the usersAdapter.java code is:</p>\n<pre><code>package com.example.baatcheet;\n\nimport android.content.Context;\nimport android.view.ContextMenu;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.baatcheet.databinding.RowConversationBinding;\n\nimport java.util.ArrayList;\n\npublic class usersAdapter extends RecyclerView.Adapter&lt;usersAdapter.UsersViewHolder&gt;{\n    Context context;\n    ArrayList&lt;User&gt; users;\n    public  usersAdapter(Context context , ArrayList&lt;User&gt; users){\n        this.context = context;\n        this.users = users;\n    }\n    {\n\n    }\n    @NonNull\n    @Override\n    public UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.row_conversation,parent,false);\n        return new UsersViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\n\n        User user = users.get(position);\n\n        holder.binding.userName.setText(user.getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return users.size();\n    }\n\n    public class UsersViewHolder extends RecyclerView.ViewHolder{\n\n        RowConversationBinding binding;\n        public UsersViewHolder(@NonNull View itemView) {\n            super(itemView);\n            binding = RowConversationBinding.bind(itemView);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","okta","okta-api"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1592305784,"post_id":62406858,"comment_id":110371827,"body_markdown":"I&#39;m curious, why do you want to do this?","body":"I&#39;m curious, why do you want to do this?"},{"owner":{"account_id":3395390,"reputation":169,"user_id":3206077,"accept_rate":47,"display_name":"AlexAnand"},"score":0,"creation_date":1592306679,"post_id":62406858,"comment_id":110372325,"body_markdown":"i need the client secret for authentication purpose","body":"i need the client secret for authentication purpose"},{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1592310622,"post_id":62406858,"comment_id":110374491,"body_markdown":"If you&#39;re building a Java web app and are able to use OIDC, you shouldn&#39;t need the client secret in your code. If you&#39;re using Spring Boot, you can use [Okta&#39;s Spring Boot starter](https://github.com/okta/okta-spring-boot).  If you&#39;re using Java EE, see [this tutorial](https://developer.okta.com/blog/2018/09/12/secure-java-ee-rest-api). You could also use our Java Authn SDK for [servlet authentication](https://developer.okta.com/blog/2019/07/22/servlet-authentication).","body":"If you&#39;re building a Java web app and are able to use OIDC, you shouldn&#39;t need the client secret in your code. If you&#39;re using Spring Boot, you can use <a href=\"https://github.com/okta/okta-spring-boot\" rel=\"nofollow noreferrer\">Okta&#39;s Spring Boot starter</a>.  If you&#39;re using Java EE, see <a href=\"https://developer.okta.com/blog/2018/09/12/secure-java-ee-rest-api\" rel=\"nofollow noreferrer\">this tutorial</a>. You could also use our Java Authn SDK for <a href=\"https://developer.okta.com/blog/2019/07/22/servlet-authentication\" rel=\"nofollow noreferrer\">servlet authentication</a>."}],"answers":[{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620397135,"creation_date":1620397135,"answer_id":67436664,"question_id":62406858,"body_markdown":"I use this code for obtaining the **clientSecret** of an application:\r\n\r\n    ApplicationCredentials credentials = application.getCredentials();\r\n    String clientSecret = ((DefaultOAuthApplicationCredentials) credentials).getOAuthClient().getClientSecret();","title":"how to get the client secret from okta application using okta java sdk","body":"<p>I use this code for obtaining the <strong>clientSecret</strong> of an application:</p>\n<pre><code>ApplicationCredentials credentials = application.getCredentials();\nString clientSecret = ((DefaultOAuthApplicationCredentials) credentials).getOAuthClient().getClientSecret();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652712993,"creation_date":1652712993,"answer_id":72261257,"question_id":62406858,"body_markdown":"You can get the client secret via secret endpoint.\r\n\r\n    GET {{okta_url}}/api/v1/apps/:appId/credentials/secrets","title":"how to get the client secret from okta application using okta java sdk","body":"<p>You can get the client secret via secret endpoint.</p>\n<pre><code>GET {{okta_url}}/api/v1/apps/:appId/credentials/secrets\n</code></pre>\n"}],"owner":{"account_id":3395390,"reputation":169,"user_id":3206077,"accept_rate":47,"display_name":"AlexAnand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652712993,"creation_date":1592305105,"question_id":62406858,"body_markdown":"I am using latest okta java sdk\r\n\r\n    application.getCredentials().get(&quot;oauthClient&quot;);\r\n\r\n\r\nUsing above I can able to get the client id, but I need client secret as well.\r\nIn `DefaultApplicationCredentialsOAuthClient` class,  I can see the method to get the client secret, but not sure how do I get that \r\n\r\n    public String getClientSecret() {\r\n        return  getString(clientSecretProperty);\r\n    }\r\n\r\nPlease help me on this to get the client secret from okta application using Java okta sdk\r\n","title":"how to get the client secret from okta application using okta java sdk","body":"<p>I am using latest okta java sdk</p>\n\n<pre><code>application.getCredentials().get(\"oauthClient\");\n</code></pre>\n\n<p>Using above I can able to get the client id, but I need client secret as well.\nIn <code>DefaultApplicationCredentialsOAuthClient</code> class,  I can see the method to get the client secret, but not sure how do I get that </p>\n\n<pre><code>public String getClientSecret() {\n    return  getString(clientSecretProperty);\n}\n</code></pre>\n\n<p>Please help me on this to get the client secret from okta application using Java okta sdk</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1652633117,"post_id":72250232,"comment_id":127647808,"body_markdown":"Where exactly did you put that code involving `filteredFields`?","body":"Where exactly did you put that code involving <code>filteredFields</code>?"},{"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"score":0,"creation_date":1652633481,"post_id":72250232,"comment_id":127647889,"body_markdown":"@ Louis Wasserman, `filteredFields` is holding `myList`","body":"@ Louis Wasserman, <code>filteredFields</code> is holding <code>myList</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1652633844,"post_id":72250232,"comment_id":127647974,"body_markdown":"That doesn&#39;t answer my question.  Please show your complete loop, starting with `for (WebElement tdElement : nameColumn)`, including the `filteredFields` code.","body":"That doesn&#39;t answer my question.  Please show your complete loop, starting with <code>for (WebElement tdElement : nameColumn)</code>, including the <code>filteredFields</code> code."},{"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"score":0,"creation_date":1652634062,"post_id":72250232,"comment_id":127648032,"body_markdown":"I don&#39;t know what more you are looking for. Thats all the relevant code, except you are looking for method and class names","body":"I don&#39;t know what more you are looking for. Thats all the relevant code, except you are looking for method and class names"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1652634437,"post_id":72250232,"comment_id":127648141,"body_markdown":"I want to see one single block of code that has both `filteredFields` and your for loop, not two code blocks.  Yes, you&#39;ve probably shown us &quot;all the relevant code,&quot; but you haven&#39;t shown us how you fitted the two code blocks together, and that is relevant and important information.","body":"I want to see one single block of code that has both <code>filteredFields</code> and your for loop, not two code blocks.  Yes, you&#39;ve probably shown us &quot;all the relevant code,&quot; but you haven&#39;t shown us how you fitted the two code blocks together, and that is relevant and important information."},{"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"score":0,"creation_date":1652635575,"post_id":72250232,"comment_id":127648408,"body_markdown":"The function block is provided","body":"The function block is provided"}],"answers":[{"tags":[],"owner":{"account_id":4868359,"reputation":944,"user_id":3925764,"accept_rate":80,"display_name":"abhinav3414"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652676440,"creation_date":1652675540,"answer_id":72254175,"question_id":72250232,"body_markdown":"Your arraylist contains words with quotes, i.e **&quot;** *test1* **&quot;**.\r\n&lt;br&gt;That is why you should not check directly with `field.startswith`. But you should first remove quote and then check `field.startswith`. &lt;br&gt;Please use below :\r\n\r\n    List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.substring(1, field.length()-1).startsWith(&quot;test&quot;)).collect(Collectors.toList());","title":"Why could the filtered elements from a Java stream return an empty list after a String was converted to List?","body":"<p>Your arraylist contains words with quotes, i.e <strong>&quot;</strong> <em>test1</em> <strong>&quot;</strong>.\n<br>That is why you should not check directly with <code>field.startswith</code>. But you should first remove quote and then check <code>field.startswith</code>. <br>Please use below :</p>\n<pre><code>List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.substring(1, field.length()-1).startsWith(&quot;test&quot;)).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72254175,"answer_count":1,"score":0,"last_activity_date":1652712941,"creation_date":1652632628,"question_id":72250232,"body_markdown":"I accessed a web table with selenium and collected all the table rows into a list:\r\n\r\n \r\n\r\n    List&lt;WebElement&gt; nameColumn = driver.findElements(By.xpath(&quot;//tbody/tr/td[2]/span&quot;));\r\n\r\nI looped through the list, `getText` from the elements and stored the result in a `String`:\r\n\r\n  \r\n\r\n   \r\n\r\n       for (WebElement tdElement : nameColumn) {\r\n            String records = tdElement.getText();\r\n        \r\n        //To be able to filter the result so as to collect words starting with a particular pattern, I converted the `String` to a `List`:\r\n        \r\n            List&lt;String&gt; myList = new ArrayList&lt;&gt;(Arrays.asList(records.split(&quot;,&quot;)));\r\n            System.out.println(myList);\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    [&quot;test1&quot;]\r\n    [&quot;testme&quot;]\r\n    [&quot;demoit&quot;]\r\n    [&quot;sampleit&quot;]\r\n    [&quot;johndoe&quot;]\r\n    [&quot;testeurope&quot;]\r\n    [&quot;testusa&quot;]\r\n    [&quot;testitaly&quot;]\r\n    [&quot;gomali&quot;]\r\n\r\n   \r\n`Using stream()`, I tried collecting elements that start with `test`:\r\n\r\n    List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.startsWith(&quot;test&quot;)).collect(Collectors.toList());\r\n    System.out.println(filteredFields);\r\n\r\nOutput:\r\n\r\n    []\r\n    []\r\n    []\r\n    []\r\n    []\r\n    []\r\n    []\r\n    []\r\n    []\r\n\r\n\r\n\r\n\r\n\r\nAn empty list was returned. Why could the filter be empty? Could it be because of the conversion of a `String` to a `List`? How do I achieve collecting all the elements that `startsWith` `test`?\r\n\r\n\r\nThe whole code bock looks like this:\r\n\r\n\r\n    public void demo() throws InterruptedException {\r\n        List&lt;WebElement&gt; nameColumn = driver.findElements(By.xpath(&quot;//tbody/tr/td[2]/span&quot;));\r\n    \r\n        for (WebElement tdElement : nameColumn) {\r\n          String records = tdElement.getText();\r\n    \r\n          //convert to List\r\n          List&lt;String&gt; myList = new ArrayList&lt;&gt;(Arrays.asList(records.split(&quot;,&quot;)));\r\n          System.out.println(myList);\r\n    \r\n          //Get elements that start with test\r\n          List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.startsWith(&quot;test&quot;)).collect(Collectors.toList());\r\n          System.out.println(filteredFields);\r\n        }\r\n      }\r\n\r\n","title":"Why could the filtered elements from a Java stream return an empty list after a String was converted to List?","body":"<p>I accessed a web table with selenium and collected all the table rows into a list:</p>\n<pre><code>List&lt;WebElement&gt; nameColumn = driver.findElements(By.xpath(&quot;//tbody/tr/td[2]/span&quot;));\n</code></pre>\n<p>I looped through the list, <code>getText</code> from the elements and stored the result in a <code>String</code>:</p>\n<pre><code>   for (WebElement tdElement : nameColumn) {\n        String records = tdElement.getText();\n    \n    //To be able to filter the result so as to collect words starting with a particular pattern, I converted the `String` to a `List`:\n    \n        List&lt;String&gt; myList = new ArrayList&lt;&gt;(Arrays.asList(records.split(&quot;,&quot;)));\n        System.out.println(myList);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[&quot;test1&quot;]\n[&quot;testme&quot;]\n[&quot;demoit&quot;]\n[&quot;sampleit&quot;]\n[&quot;johndoe&quot;]\n[&quot;testeurope&quot;]\n[&quot;testusa&quot;]\n[&quot;testitaly&quot;]\n[&quot;gomali&quot;]\n</code></pre>\n<p><code>Using stream()</code>, I tried collecting elements that start with <code>test</code>:</p>\n<pre><code>List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.startsWith(&quot;test&quot;)).collect(Collectors.toList());\nSystem.out.println(filteredFields);\n</code></pre>\n<p>Output:</p>\n<pre><code>[]\n[]\n[]\n[]\n[]\n[]\n[]\n[]\n[]\n</code></pre>\n<p>An empty list was returned. Why could the filter be empty? Could it be because of the conversion of a <code>String</code> to a <code>List</code>? How do I achieve collecting all the elements that <code>startsWith</code> <code>test</code>?</p>\n<p>The whole code bock looks like this:</p>\n<pre><code>public void demo() throws InterruptedException {\n    List&lt;WebElement&gt; nameColumn = driver.findElements(By.xpath(&quot;//tbody/tr/td[2]/span&quot;));\n\n    for (WebElement tdElement : nameColumn) {\n      String records = tdElement.getText();\n\n      //convert to List\n      List&lt;String&gt; myList = new ArrayList&lt;&gt;(Arrays.asList(records.split(&quot;,&quot;)));\n      System.out.println(myList);\n\n      //Get elements that start with test\n      List&lt;String&gt; filteredFields = myList.stream().filter(field -&gt; field.startsWith(&quot;test&quot;)).collect(Collectors.toList());\n      System.out.println(filteredFields);\n    }\n  }\n</code></pre>\n"},{"tags":["java","swing","jpanel","paint","repaint"],"comments":[{"owner":{"account_id":19825750,"reputation":95,"user_id":14521354,"display_name":"KerryKilian"},"score":0,"creation_date":1652703815,"post_id":72259120,"comment_id":127662518,"body_markdown":"changeToDry() is a method provided by the class. I did not write that method. It just updates the picture to a specific topic.","body":"changeToDry() is a method provided by the class. I did not write that method. It just updates the picture to a specific topic."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1652703985,"post_id":72259120,"comment_id":127662575,"body_markdown":"Right now we can guess: it *could* be a Swing threading issue, or you *could* be updating the wrong instance, .... but these guesses aren&#39;t what the site is about. Rather it is to create questions and answers that help future visitors, which is why a clear and unambiguous question is needed, so that we can create a clear and unambiguous answer.","body":"Right now we can guess: it <i>could</i> be a Swing threading issue, or you <i>could</i> be updating the wrong instance, .... but these guesses aren&#39;t what the site is about. Rather it is to create questions and answers that help future visitors, which is why a clear and unambiguous question is needed, so that we can create a clear and unambiguous answer."},{"owner":{"account_id":19825750,"reputation":95,"user_id":14521354,"display_name":"KerryKilian"},"score":0,"creation_date":1652704081,"post_id":72259120,"comment_id":127662607,"body_markdown":"What do you expect? The class is provided by my teacher and he does not want to hand it out to others. But as I mentioned, the problem cant be caused by the method changeToDry() because it works fine in paintComponent(). I am asking because I am not sure, how to use repaint() method and I want to know what I am doing wrong with repaint(). If you dou not see any problem related to repaint(), you can say it. But I cannot provide you more information because it is a private, (only for teaching) class which obviously should work, as my teacher provided it","body":"What do you expect? The class is provided by my teacher and he does not want to hand it out to others. But as I mentioned, the problem cant be caused by the method changeToDry() because it works fine in paintComponent(). I am asking because I am not sure, how to use repaint() method and I want to know what I am doing wrong with repaint(). If you dou not see any problem related to repaint(), you can say it. But I cannot provide you more information because it is a private, (only for teaching) class which obviously should work, as my teacher provided it"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1652704207,"post_id":72259120,"comment_id":127662655,"body_markdown":"And your use of `repaint()` is fine -- the source of the problem is (***again***) elsewhere in code that we cannot see.","body":"And your use of <code>repaint()</code> is fine -- the source of the problem is (<b><i>again</i></b>) elsewhere in code that we cannot see."},{"owner":{"account_id":19825750,"reputation":95,"user_id":14521354,"display_name":"KerryKilian"},"score":0,"creation_date":1652704412,"post_id":72259120,"comment_id":127662727,"body_markdown":"@HovercraftFullOfEels it is my own version. I would never write parts of the class to public. I changed the names of it. And thank you for telling me, that repaint() is fine. That is what I wanted to know","body":"@HovercraftFullOfEels it is my own version. I would never write parts of the class to public. I changed the names of it. And thank you for telling me, that repaint() is fine. That is what I wanted to know"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1652704442,"post_id":72259120,"comment_id":127662739,"body_markdown":"This code isn&#39;t showing the problem.  Consider showing more. Where do you call update?","body":"This code isn&#39;t showing the problem.  Consider showing more. Where do you call update?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652712779,"creation_date":1652707694,"answer_id":72260012,"question_id":72259120,"body_markdown":"There is your problem:\r\n\r\n```\r\npublic class ClimateFrame extends JFrame {\r\n    \r\n    public ClimateFrame() {\r\n        setTitle(&quot;A task&quot;);\r\n        setLayout(new BorderLayout());\r\n        add(new ClimatePanel(), BorderLayout.CENTER);\r\n    }\r\n    \r\n    public static void main(String [] args) {        \r\n        ClimateFrame frame = new ClimateFrame ();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setVisible(true);\r\n        ClimatePanel climatePanel = new ClimatePanel(); // ****** here ****\r\n        climatePanel.update();\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;re creating a new ClimatePanel instance at the indicated line and changing its state rather than the state of the separate originally created and displayed one. This aligns with one of my guesses made in comments above:\r\n&gt; Right now we can guess: \r\n&gt; * it could be a Swing threading issue, \r\n&gt; * or you could be updating the wrong instance ***(THIS ONE)***\r\n\r\nThe solution: don&#39;t create a new ClimatePanel instance but instead create a ClimatePanel field, give it a single ClimatePanel reference, add it to the GUI, and later update its state, now the state of the displayed instance.\r\n\r\ne.g.,\r\n\r\n```\r\npublic class ClimateFrame extends JFrame {\r\n    private ClimatePanel climatePanel = new ClimatePanel(); // ADD\r\n    \r\n    public ClimateFrame() {\r\n        setTitle(&quot;A task&quot;);\r\n        setLayout(new BorderLayout());\r\n        // add(new ClimatePanel(), BorderLayout.CENTER); // REMOVE\r\n        add(climatePanel, BorderLayout.CENTER); // ADD    \r\n    }\r\n\t\r\n\t// allow visibility of the climate panel method\r\n\tpublic void updateClimatePanel() {\r\n\t\tclimatePanel.update();\r\n\t}\r\n    \r\n    public static void main(String [] args) {        \r\n        ClimateFrame frame = new ClimateFrame ();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setVisible(true);\r\n        // ClimatePanel climatePanel = new ClimatePanel(); // REMOVE\r\n        frame.updateClimatePanel();\r\n    }\r\n}\r\n```","title":"repaint() not updating panel?","body":"<p>There is your problem:</p>\n<pre><code>public class ClimateFrame extends JFrame {\n    \n    public ClimateFrame() {\n        setTitle(&quot;A task&quot;);\n        setLayout(new BorderLayout());\n        add(new ClimatePanel(), BorderLayout.CENTER);\n    }\n    \n    public static void main(String [] args) {        \n        ClimateFrame frame = new ClimateFrame ();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n        ClimatePanel climatePanel = new ClimatePanel(); // ****** here ****\n        climatePanel.update();\n    }\n}\n</code></pre>\n<p>You're creating a new ClimatePanel instance at the indicated line and changing its state rather than the state of the separate originally created and displayed one. This aligns with one of my guesses made in comments above:</p>\n<blockquote>\n<p>Right now we can guess:</p>\n<ul>\n<li>it could be a Swing threading issue,</li>\n<li>or you could be updating the wrong instance <em><strong>(THIS ONE)</strong></em></li>\n</ul>\n</blockquote>\n<p>The solution: don't create a new ClimatePanel instance but instead create a ClimatePanel field, give it a single ClimatePanel reference, add it to the GUI, and later update its state, now the state of the displayed instance.</p>\n<p>e.g.,</p>\n<pre><code>public class ClimateFrame extends JFrame {\n    private ClimatePanel climatePanel = new ClimatePanel(); // ADD\n    \n    public ClimateFrame() {\n        setTitle(&quot;A task&quot;);\n        setLayout(new BorderLayout());\n        // add(new ClimatePanel(), BorderLayout.CENTER); // REMOVE\n        add(climatePanel, BorderLayout.CENTER); // ADD    \n    }\n    \n    // allow visibility of the climate panel method\n    public void updateClimatePanel() {\n        climatePanel.update();\n    }\n    \n    public static void main(String [] args) {        \n        ClimateFrame frame = new ClimateFrame ();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n        // ClimatePanel climatePanel = new ClimatePanel(); // REMOVE\n        frame.updateClimatePanel();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19825750,"reputation":95,"user_id":14521354,"display_name":"KerryKilian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72260012,"answer_count":1,"score":0,"last_activity_date":1652712779,"creation_date":1652703625,"question_id":72259120,"body_markdown":"I have a class (not public, so you probably do not know the class) which is drawing a picture with picture.draw(g2). With picture.changeToDry() I can change the picture. It works fine, when I call the picture and change it in implemented paintComponent() method. But when I call changeToDry() and after it repaint(), it does not work. It just shows the default picture but does not update it.\r\nWhat do I have to do, so that I can change the picture and update the JPanel in another method? It has to be something with the repaint() because the methods work in paintComponent() but not elsewhere.\r\n\r\nEDIT: update() will be called in another class. Plus, as I mentioned in the comments, I cannot give more information for the class, as it is a private, teaching-only class. And obviously it should work. Otherwise my teacher would not give it to us.\r\nEDIT 2: I have another class ClimateFrame which is drawing a frame. There I am calling update()\r\n```\r\npublic class ClimatePanel extends JPanel {\r\n\tClimatePicture picture = new ClimatePicture(100, 100);\r\n\t\r\n\tpublic void update() {\r\n\t\tpicture.changeToDry();\r\n\t\trepaint(); // does not work\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t// picture.changeToDry() would work here\r\n        picture.draw(g2);\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\npublic class ClimateFrame extends JFrame {\r\n\t\r\n\tpublic ClimateFrame() {\r\n\t\tsetTitle(&quot;A task&quot;);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(new ClimatePanel(), BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\t\r\n\t\tClimateFrame frame = new ClimateFrame ();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(800, 600);\r\n\t\tframe.setVisible(true);\r\n\t\tClimatePanel climatePanel = new ClimatePanel();\r\n\t\tclimatePanel.update();\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\n```","title":"repaint() not updating panel?","body":"<p>I have a class (not public, so you probably do not know the class) which is drawing a picture with picture.draw(g2). With picture.changeToDry() I can change the picture. It works fine, when I call the picture and change it in implemented paintComponent() method. But when I call changeToDry() and after it repaint(), it does not work. It just shows the default picture but does not update it.\nWhat do I have to do, so that I can change the picture and update the JPanel in another method? It has to be something with the repaint() because the methods work in paintComponent() but not elsewhere.</p>\n<p>EDIT: update() will be called in another class. Plus, as I mentioned in the comments, I cannot give more information for the class, as it is a private, teaching-only class. And obviously it should work. Otherwise my teacher would not give it to us.\nEDIT 2: I have another class ClimateFrame which is drawing a frame. There I am calling update()</p>\n<pre><code>public class ClimatePanel extends JPanel {\n    ClimatePicture picture = new ClimatePicture(100, 100);\n    \n    public void update() {\n        picture.changeToDry();\n        repaint(); // does not work\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        // picture.changeToDry() would work here\n        picture.draw(g2);   \n    }\n}\n\n\n\n\npublic class ClimateFrame extends JFrame {\n    \n    public ClimateFrame() {\n        setTitle(&quot;A task&quot;);\n        setLayout(new BorderLayout());\n        add(new ClimatePanel(), BorderLayout.CENTER);\n    }\n    \n    public static void main(String [] args) {\n        \n        ClimateFrame frame = new ClimateFrame ();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n        ClimatePanel climatePanel = new ClimatePanel();\n        climatePanel.update();\n        \n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1652713213,"post_id":72260875,"comment_id":127666218,"body_markdown":"Look up &quot;fat JAR&quot;.","body":"Look up &quot;fat JAR&quot;."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652721184,"post_id":72260875,"comment_id":127669166,"body_markdown":"It may help to use a plugin for this: https://imperceptiblethoughts.com/shadow/introduction/#benefits-of-shadow","body":"It may help to use a plugin for this: <a href=\"https://imperceptiblethoughts.com/shadow/introduction/#benefits-of-shadow\" rel=\"nofollow noreferrer\">imperceptiblethoughts.com/shadow/introduction/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652712121,"creation_date":1652712121,"answer_id":72261034,"question_id":72260875,"body_markdown":"You are using the wrong configuration, you should use &quot;implementation&quot; instead of &quot;compileOnly&quot; as per this [documentation][1].\r\n\r\nThe gist of it is that &quot;compileOnly&quot; means these libraries are only needed at compiletime, and not at runtime, so they are not included in the jar, as the jar is used at runtime. The &quot;implementation&quot; configuration means these libraries are needed both at compile time and at runtime. Alternatively, you could also use &quot;runtimeOnly&quot; to indicate the package is only needed at runtime, but I don&#39;t know if that would work with your project.\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/building_java_projects.html?_ga=2.48695910.1724742884.1652711563-2114432090.1652711563#sec:java_dependency_management_overview","title":"Package dependencies into jar","body":"<p>You are using the wrong configuration, you should use &quot;implementation&quot; instead of &quot;compileOnly&quot; as per this <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html?_ga=2.48695910.1724742884.1652711563-2114432090.1652711563#sec:java_dependency_management_overview\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>The gist of it is that &quot;compileOnly&quot; means these libraries are only needed at compiletime, and not at runtime, so they are not included in the jar, as the jar is used at runtime. The &quot;implementation&quot; configuration means these libraries are needed both at compile time and at runtime. Alternatively, you could also use &quot;runtimeOnly&quot; to indicate the package is only needed at runtime, but I don't know if that would work with your project.</p>\n"}],"owner":{"account_id":5852697,"reputation":93,"user_id":4610921,"display_name":"joey leavell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652712737,"creation_date":1652711433,"question_id":72260875,"body_markdown":"I&#39;m trying to develop a game plugin (oldschool runescape). I&#39;m trying to add in org.json so that it&#39;s easier to read/write game states and stuff, but can&#39;t seem to figure out how to get it to package org.json with my plugin. It compiles fine, but doesn&#39;t run with that package. Any help?\r\n\r\nThis is what my plugin.gradle.kts looks like\r\n```\r\nversion = &quot;4.0.0&quot;\r\n\r\nproject.extra[&quot;PluginName&quot;] = &quot;Plugin Name&quot;\r\nproject.extra[&quot;PluginDescription&quot;] = &quot;Misc QOL fixes I wanted&quot;\r\n\r\nrepositories{\r\n    mavenCentral()\r\n}\r\ndependencies{\r\n    // https://mavenlibs.com/maven/dependency/org.json/json\r\n    compileOnly(group = &quot;org.json&quot;, name = &quot;json&quot;, version = &quot;20220320&quot;)\r\n}\r\ntasks {\r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                mapOf(\r\n                    &quot;Plugin-Version&quot; to project.version,\r\n                    &quot;Plugin-Id&quot; to nameToId(project.extra[&quot;PluginName&quot;] as String),\r\n                    &quot;Plugin-Provider&quot; to project.extra[&quot;PluginProvider&quot;],\r\n                    &quot;Plugin-Description&quot; to project.extra[&quot;PluginDescription&quot;],\r\n                    &quot;Plugin-License&quot; to project.extra[&quot;PluginLicense&quot;]\r\n                )\r\n            )\r\n        }\r\n    }\r\n}\r\n```\r\nedit: I tried compileOnly, implementation, testImplementation, all with the same error &quot;ClassnotFoundException: org.json.JSONObject&quot;","title":"Package dependencies into jar","body":"<p>I'm trying to develop a game plugin (oldschool runescape). I'm trying to add in org.json so that it's easier to read/write game states and stuff, but can't seem to figure out how to get it to package org.json with my plugin. It compiles fine, but doesn't run with that package. Any help?</p>\n<p>This is what my plugin.gradle.kts looks like</p>\n<pre><code>version = &quot;4.0.0&quot;\n\nproject.extra[&quot;PluginName&quot;] = &quot;Plugin Name&quot;\nproject.extra[&quot;PluginDescription&quot;] = &quot;Misc QOL fixes I wanted&quot;\n\nrepositories{\n    mavenCentral()\n}\ndependencies{\n    // https://mavenlibs.com/maven/dependency/org.json/json\n    compileOnly(group = &quot;org.json&quot;, name = &quot;json&quot;, version = &quot;20220320&quot;)\n}\ntasks {\n    jar {\n        manifest {\n            attributes(\n                mapOf(\n                    &quot;Plugin-Version&quot; to project.version,\n                    &quot;Plugin-Id&quot; to nameToId(project.extra[&quot;PluginName&quot;] as String),\n                    &quot;Plugin-Provider&quot; to project.extra[&quot;PluginProvider&quot;],\n                    &quot;Plugin-Description&quot; to project.extra[&quot;PluginDescription&quot;],\n                    &quot;Plugin-License&quot; to project.extra[&quot;PluginLicense&quot;]\n                )\n            )\n        }\n    }\n}\n</code></pre>\n<p>edit: I tried compileOnly, implementation, testImplementation, all with the same error &quot;ClassnotFoundException: org.json.JSONObject&quot;</p>\n"},{"tags":["java","interface","mixins"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1652599575,"post_id":72193524,"comment_id":127641322,"body_markdown":"Do you want the logger to be associated with the class that uses the mixin, or with the interface?","body":"Do you want the logger to be associated with the class that uses the mixin, or with the interface?"},{"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"score":0,"creation_date":1652705399,"post_id":72193524,"comment_id":127663052,"body_markdown":"I&#39;m not knowledgeable enough about this to have a preference. Either way is fine.","body":"I&#39;m not knowledgeable enough about this to have a preference. Either way is fine."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1653589028,"post_id":72193524,"comment_id":127893805,"body_markdown":"@nanotek you could accept an answer if it helped you to solve your question. Also, it helps other users understand which answer is accepted.","body":"@nanotek you could accept an answer if it helped you to solve your question. Also, it helps other users understand which answer is accepted."}],"answers":[{"tags":[],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652455318,"creation_date":1652455318,"answer_id":72231936,"question_id":72193524,"body_markdown":"One option is to add a `getLogger` method to the interface and require the implementations to implement that method. Then the interface can call that method.\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.slf4j.Logger;\r\n\r\npublic interface Foo {\r\n\r\n    Logger getLogger();\r\n\r\n    default void foo() {\r\n        getLogger().info(&quot;Hello world&quot;);\r\n    }\r\n}\r\n\r\n@Slf4j\r\npublic class Bar implements Foo {\r\n\r\n    public void bar() {\r\n        foo();\r\n    }\r\n\r\n    @Override\r\n    public Logger getLogger() {\r\n        return log;\r\n    }\r\n}\r\n```","title":"How to create Java mixins: @Slf4j","body":"<p>One option is to add a <code>getLogger</code> method to the interface and require the implementations to implement that method. Then the interface can call that method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.slf4j.Logger;\n\npublic interface Foo {\n\n    Logger getLogger();\n\n    default void foo() {\n        getLogger().info(&quot;Hello world&quot;);\n    }\n}\n\n@Slf4j\npublic class Bar implements Foo {\n\n    public void bar() {\n        foo();\n    }\n\n    @Override\n    public Logger getLogger() {\n        return log;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652455404,"creation_date":1652455404,"answer_id":72231961,"question_id":72193524,"body_markdown":"One option is to create an inner class with a static `getLogger` method.\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.slf4j.Logger;\r\n\r\npublic interface Foo {\r\n\r\n    @Slf4j\r\n    class Log {\r\n        public static Logger getLogger() {\r\n            return log;\r\n        }\r\n    }\r\n\r\n    default void foo() {\r\n        Log.getLogger().info(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```","title":"How to create Java mixins: @Slf4j","body":"<p>One option is to create an inner class with a static <code>getLogger</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.slf4j.Logger;\n\npublic interface Foo {\n\n    @Slf4j\n    class Log {\n        public static Logger getLogger() {\n            return log;\n        }\n    }\n\n    default void foo() {\n        Log.getLogger().info(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652712593,"creation_date":1652464066,"answer_id":72233611,"question_id":72193524,"body_markdown":"If you want to use logging for the interface you could use a constant:\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic interface Foo {\r\n    Logger log = LoggerFactory.getLogger(Foo.class);\r\n\r\n    default void foo() {\r\n        log.info(&quot;Hello from Foo&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf will have some implementation for this interface and you could overwrite a logger:\r\n\r\n```\r\npublic class Bar implements Foo {\r\n    Logger log = LoggerFactory.getLogger(Bar.class);\r\n\r\n    public void bar() {\r\n        log.info(&quot;Hello from Bar&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWith Lombok it could be done even simpler:\r\n\r\n```\r\n@Slf4j\r\nclass Bar implements Foo {\r\n    public void bar() {\r\n        log.info(&quot;Hello from Bar&quot;);\r\n    }\r\n}\r\n```\r\n\r\nDemo code:\r\n\r\n```\r\npublic class LoggerDemo {\r\n    public static void main(String[] args) {\r\n        Bar bar = new Bar();\r\n        bar.foo();\r\n        bar.bar();\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n```\r\n20:40:48.010 [main] INFO demo.Foo - Hello from Foo \r\n20:40:48.014 [main] INFO demo.Bar - Hello from Bar\r\n```","title":"How to create Java mixins: @Slf4j","body":"<p>If you want to use logging for the interface you could use a constant:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic interface Foo {\n    Logger log = LoggerFactory.getLogger(Foo.class);\n\n    default void foo() {\n        log.info(&quot;Hello from Foo&quot;);\n    }\n}\n</code></pre>\n<p>If will have some implementation for this interface and you could overwrite a logger:</p>\n<pre><code>public class Bar implements Foo {\n    Logger log = LoggerFactory.getLogger(Bar.class);\n\n    public void bar() {\n        log.info(&quot;Hello from Bar&quot;);\n    }\n}\n</code></pre>\n<p>With Lombok it could be done even simpler:</p>\n<pre><code>@Slf4j\nclass Bar implements Foo {\n    public void bar() {\n        log.info(&quot;Hello from Bar&quot;);\n    }\n}\n</code></pre>\n<p>Demo code:</p>\n<pre><code>public class LoggerDemo {\n    public static void main(String[] args) {\n        Bar bar = new Bar();\n        bar.foo();\n        bar.bar();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>20:40:48.010 [main] INFO demo.Foo - Hello from Foo \n20:40:48.014 [main] INFO demo.Bar - Hello from Bar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652515095,"creation_date":1652515095,"answer_id":72238354,"question_id":72193524,"body_markdown":"A simple way to solve the issue is to pass the logger to the `foo()` method:\r\n\r\n```\r\nimport org.slf4j.Logger;\r\n\r\npublic interface Foo {\r\n    default void foo(Logger log) {\r\n        log.info(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThen use the `@Slf4j` annotation on classes that implement `Foo`:\r\n\r\n```\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class Bar implements Foo {\r\n\tpublic void bar() {\r\n\t\tfoo(log);\r\n\t}\r\n}\r\n```\r\n","title":"How to create Java mixins: @Slf4j","body":"<p>A simple way to solve the issue is to pass the logger to the <code>foo()</code> method:</p>\n<pre><code>import org.slf4j.Logger;\n\npublic interface Foo {\n    default void foo(Logger log) {\n        log.info(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>Then use the <code>@Slf4j</code> annotation on classes that implement <code>Foo</code>:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class Bar implements Foo {\n    public void bar() {\n        foo(log);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72233611,"answer_count":4,"score":1,"last_activity_date":1652712593,"creation_date":1652221458,"question_id":72193524,"body_markdown":"I&#39;m trying to create a Java mixin and use the `@Slf4j` annotation. However intellij shows an error `@Slf4j is only legal for classes and enums`. \r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic interface Foo {\r\n    default void foo() {\r\n        log.info(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```","title":"How to create Java mixins: @Slf4j","body":"<p>I'm trying to create a Java mixin and use the <code>@Slf4j</code> annotation. However intellij shows an error <code>@Slf4j is only legal for classes and enums</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic interface Foo {\n    default void foo() {\n        log.info(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1652707289,"post_id":72259862,"comment_id":127663801,"body_markdown":"Do you add the line to the scene graph at any point?","body":"Do you add the line to the scene graph at any point?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652707407,"post_id":72259862,"comment_id":127663858,"body_markdown":"You are going to have to keep up with the first and second clicks. Store the first click and store the second click. Draw the line and reset back to the first click.","body":"You are going to have to keep up with the first and second clicks. Store the first click and store the second click. Draw the line and reset back to the first click."},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1652707511,"post_id":72259862,"comment_id":127663901,"body_markdown":"@James_D I want to add the line to the same AnchorPane group that the Buttons are and I want that line to connect the first point which is one button and the other point which is another button, check my image for an example, I also edited the question, hope it helps","body":"@James_D I want to add the line to the same AnchorPane group that the Buttons are and I want that line to connect the first point which is one button and the other point which is another button, check my image for an example, I also edited the question, hope it helps"},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1652707605,"post_id":72259862,"comment_id":127663944,"body_markdown":"@Sedrick How can I do that? Can you show me some example code?","body":"@Sedrick How can I do that? Can you show me some example code?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652712382,"post_id":72259862,"comment_id":127665871,"body_markdown":"So just add the code to add the line to the anchor pane. It&#39;s not clear what the problem is.","body":"So just add the code to add the line to the anchor pane. It&#39;s not clear what the problem is."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652712442,"creation_date":1652712442,"answer_id":72261112,"question_id":72259862,"body_markdown":"Two important things here. \r\n\r\n 1. Make sure you have access to the `Buttons` locations when needed.\r\n 2. Keep track of if the first or second `Button` is being pressed.\r\n\r\nThis code is not complete! It only demos the OP&#39;s question. Nothing more. Comments in the code.\r\n\r\n```import javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application\r\n{\r\n\r\n    ButtonLocation buttonLocation;//Keeps up with location of the first button.\r\n    Pane pane;\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception\r\n    {\r\n\r\n        Button btn1 = new Button(&quot;1&quot;);\r\n        Button btn2 = new Button(&quot;2&quot;);\r\n        Button btn3 = new Button(&quot;3&quot;);\r\n        btn1.setOnAction(btnActionEventHandler);\r\n        btn2.setOnAction(btnActionEventHandler);\r\n        btn3.setOnAction(btnActionEventHandler);\r\n        btn1.setLayoutX(20);\r\n        btn1.setLayoutY(20);\r\n        btn2.setLayoutX(100);\r\n        btn2.setLayoutY(20);\r\n        btn3.setLayoutX(100);\r\n        btn3.setLayoutY(100);\r\n        \r\n        pane = new Pane(btn1, btn2, btn3);\r\n\r\n        StackPane root = new StackPane(pane);\r\n\r\n        Scene scene = new Scene(root, 400, 400);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    int counter = 0;// Used to determine if the first or second button is pressed. This with modulo.\r\n    final EventHandler&lt;ActionEvent&gt; btnActionEventHandler = (final ActionEvent event) -&gt; {\r\n        Button tempButton = (Button)event.getSource();\r\n        \r\n        switch (counter % 2) {\r\n            case 0 -&gt; {\r\n                System.out.println(&quot;First button pressed&quot;);\r\n                buttonLocation = new ButtonLocation(tempButton.getLayoutX(), tempButton.getLayoutY());//Save the location of the first button pressed.\r\n                \r\n                counter++;\r\n            }\r\n            case 1 -&gt; {\r\n                System.out.println(&quot;Second button pressed!&quot;);\r\n                Line line = new Line(buttonLocation.buttonOneLocationX(), buttonLocation.buttonOneLocationY(), tempButton.getLayoutX(), tempButton.getLayoutY());//create line from first button press and second button press.\r\n                pane.getChildren().add(line);//Add the line to the pane\r\n                \r\n                counter++;\r\n            }\r\n        }\r\n    };\r\n\r\n    public record ButtonLocation(double buttonOneLocationX, double buttonOneLocationY){ }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EAgz3.gif","title":"How can I make a method that creates a Line from one point to another using Buttons as points?","body":"<p>Two important things here.</p>\n<ol>\n<li>Make sure you have access to the <code>Buttons</code> locations when needed.</li>\n<li>Keep track of if the first or second <code>Button</code> is being pressed.</li>\n</ol>\n<p>This code is not complete! It only demos the OP's question. Nothing more. Comments in the code.</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\npublic class App extends Application\n{\n\n    ButtonLocation buttonLocation;//Keeps up with location of the first button.\n    Pane pane;\n    \n    @Override\n    public void start(Stage stage) throws Exception\n    {\n\n        Button btn1 = new Button(&quot;1&quot;);\n        Button btn2 = new Button(&quot;2&quot;);\n        Button btn3 = new Button(&quot;3&quot;);\n        btn1.setOnAction(btnActionEventHandler);\n        btn2.setOnAction(btnActionEventHandler);\n        btn3.setOnAction(btnActionEventHandler);\n        btn1.setLayoutX(20);\n        btn1.setLayoutY(20);\n        btn2.setLayoutX(100);\n        btn2.setLayoutY(20);\n        btn3.setLayoutX(100);\n        btn3.setLayoutY(100);\n        \n        pane = new Pane(btn1, btn2, btn3);\n\n        StackPane root = new StackPane(pane);\n\n        Scene scene = new Scene(root, 400, 400);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    int counter = 0;// Used to determine if the first or second button is pressed. This with modulo.\n    final EventHandler&lt;ActionEvent&gt; btnActionEventHandler = (final ActionEvent event) -&gt; {\n        Button tempButton = (Button)event.getSource();\n        \n        switch (counter % 2) {\n            case 0 -&gt; {\n                System.out.println(&quot;First button pressed&quot;);\n                buttonLocation = new ButtonLocation(tempButton.getLayoutX(), tempButton.getLayoutY());//Save the location of the first button pressed.\n                \n                counter++;\n            }\n            case 1 -&gt; {\n                System.out.println(&quot;Second button pressed!&quot;);\n                Line line = new Line(buttonLocation.buttonOneLocationX(), buttonLocation.buttonOneLocationY(), tempButton.getLayoutX(), tempButton.getLayoutY());//create line from first button press and second button press.\n                pane.getChildren().add(line);//Add the line to the pane\n                \n                counter++;\n            }\n        }\n    };\n\n    public record ButtonLocation(double buttonOneLocationX, double buttonOneLocationY){ }\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EAgz3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAgz3.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1652779963,"answer_count":1,"score":-3,"last_activity_date":1652712442,"creation_date":1652707030,"question_id":72259862,"body_markdown":"I want to make a button that when it is pressed, creates a line from the position of one button, to the position of another button that I pressed.\r\n\r\nFor example, I want to make a line between these two black buttons called Button1 and Button2: \r\n\r\n[![Button1 To Button2][1]][1]\r\n\r\nWhat I&#39;ve tried so far: \r\n\r\n```\r\n    public void createLine(ActionEvent event) {\r\n        Line line1 = new Line();\r\n        line1.setStartX(Button1.getLayoutX());\r\n        line1.setStartY(Button1.getLayoutY());\r\n        line1.setEndX(Button2.getLayoutX());\r\n        line1.setEndY(Button2.getLayoutY());\r\n    }\r\n```\r\n\r\nThis seems to not create any line at all when I press the button.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dZSli.png","title":"How can I make a method that creates a Line from one point to another using Buttons as points?","body":"<p>I want to make a button that when it is pressed, creates a line from the position of one button, to the position of another button that I pressed.</p>\n<p>For example, I want to make a line between these two black buttons called Button1 and Button2:</p>\n<p><a href=\"https://i.stack.imgur.com/dZSli.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZSli.png\" alt=\"Button1 To Button2\" /></a></p>\n<p>What I've tried so far:</p>\n<pre><code>    public void createLine(ActionEvent event) {\n        Line line1 = new Line();\n        line1.setStartX(Button1.getLayoutX());\n        line1.setStartY(Button1.getLayoutY());\n        line1.setEndX(Button2.getLayoutX());\n        line1.setEndY(Button2.getLayoutY());\n    }\n</code></pre>\n<p>This seems to not create any line at all when I press the button.</p>\n"},{"tags":["java","visual-studio-code","input","terminal","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652273719,"post_id":72201298,"comment_id":127566229,"body_markdown":"There are two factors of importance: encoding and font support. The lambda character is quite exotic. Are you sure your font supports it?","body":"There are two factors of importance: encoding and font support. The lambda character is quite exotic. Are you sure your font supports it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1652274267,"post_id":72201298,"comment_id":127566467,"body_markdown":"Also, from the POV of the first, it might be useful if you reopened and did *just* `chcp` and told us what it prints","body":"Also, from the POV of the first, it might be useful if you reopened and did <i>just</i> <code>chcp</code> and told us what it prints"},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652275327,"post_id":72201298,"comment_id":127566927,"body_markdown":"@g00se The character renders in the font, because I can paste it as my input just fine.  `chcp` returns `Active code page: 437`, and after I type my command, I get `Active code page: 65001`.","body":"@g00se The character renders in the font, because I can paste it as my input just fine.  <code>chcp</code> returns <code>Active code page: 437</code>, and after I type my command, I get <code>Active code page: 65001</code>."},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652275483,"post_id":72201298,"comment_id":127566983,"body_markdown":"@g00se It&#39;s not *so* exotic!  It&#39;s in the Greek alphabet, and it&#39;s probably in the top ten Greek letters frequently used in math (which is why I need it, for a λ calculus lab assignment that I have created.)","body":"@g00se It&#39;s not <i>so</i> exotic!  It&#39;s in the Greek alphabet, and it&#39;s probably in the top ten Greek letters frequently used in math (which is why I need it, for a λ calculus lab assignment that I have created.)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652275941,"post_id":72201298,"comment_id":127567165,"body_markdown":"Well let&#39;s put it this way: it only appears in *one* of the ISO charsets and that&#39;s the one with Greek language support. You can use [this](http://technojeeves.com/tech/Lambda.java) for testing. Run that. Then run it again after `chcp 869`","body":"Well let&#39;s put it this way: it only appears in <i>one</i> of the ISO charsets and that&#39;s the one with Greek language support. You can use <a href=\"http://technojeeves.com/tech/Lambda.java\" rel=\"nofollow noreferrer\">this</a> for testing. Run that. Then run it again after <code>chcp 869</code>"},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652276312,"post_id":72201298,"comment_id":127567329,"body_markdown":"@g00se I got a question mark both times, but a lambda after `chcp 65001`.  What have I just tested?","body":"@g00se I got a question mark both times, but a lambda after <code>chcp 65001</code>.  What have I just tested?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652278055,"post_id":72201298,"comment_id":127568152,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244665/discussion-between-g00se-and-ben-i).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244665/discussion-between-g00se-and-ben-i\">continue this discussion in chat</a>."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652422703,"post_id":72201298,"comment_id":127606769,"body_markdown":"@Ben I. I run the code on chcp 869 and deleted the limitation that line one and two :StandardCharsets.UTF_8. I can get λ in the output of terminal. However, it still cannot pass judgment. So I didn&#39;t get &quot;String is λ&quot;. I think this involves the character set of code and terminal, the method .equals() cannot work.","body":"@Ben I. I run the code on chcp 869 and deleted the limitation that line one and two :StandardCharsets.UTF_8. I can get λ in the output of terminal. However, it still cannot pass judgment. So I didn&#39;t get &quot;String is λ&quot;. I think this involves the character set of code and terminal, the method .equals() cannot work."},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652723179,"post_id":72201298,"comment_id":127669902,"body_markdown":"@MingJie-MSFT Yeah, if you look at my recent edit, it appears that Java is receiving a null byte in place of the lambda.  However, it works in other environments.  Do you imagine that there would be a way to get around this, or would this be some sort of strict limit to powershell?","body":"@MingJie-MSFT Yeah, if you look at my recent edit, it appears that Java is receiving a null byte in place of the lambda.  However, it works in other environments.  Do you imagine that there would be a way to get around this, or would this be some sort of strict limit to powershell?"},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652767716,"post_id":72201298,"comment_id":127678862,"body_markdown":"@Ben I. After many attempts, I failed. I tried to submit GitHub, hoping to get some information to solve the problem. In fact, all this is because vscode itself uses the CMD shell of windows, and eclipse has its own terminal.","body":"@Ben I. After many attempts, I failed. I tried to submit GitHub, hoping to get some information to solve the problem. In fact, all this is because vscode itself uses the CMD shell of windows, and eclipse has its own terminal."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652780490,"post_id":72201298,"comment_id":127683341,"body_markdown":"I tried all this on WIndows. Long story short: you&#39;ll be fine with cmd.exe if you use the Unicode escape code for lambda in your source (I&#39;d define it as a constant, then you can just use `LAMBDA`) and ensure you chcp 65001. You should be able to copy a lambda character into the terminal if you can&#39;t type it. You can probably do the Alt-Numpad trick too but I didn&#39;t try that. I can put up the longer story when you&#39;ve confirmed [or refuted ;)] what I just stated.","body":"I tried all this on WIndows. Long story short: you&#39;ll be fine with cmd.exe if you use the Unicode escape code for lambda in your source (I&#39;d define it as a constant, then you can just use <code>LAMBDA</code>) and ensure you chcp 65001. You should be able to copy a lambda character into the terminal if you can&#39;t type it. You can probably do the Alt-Numpad trick too but I didn&#39;t try that. I can put up the longer story when you&#39;ve confirmed [or refuted ;)] what I just stated."},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652789143,"post_id":72201298,"comment_id":127686651,"body_markdown":"@g00se Even the comparison works?  I&#39;m surprised to hear that it works in cmd but not in Powershell.","body":"@g00se Even the comparison works?  I&#39;m surprised to hear that it works in cmd but not in Powershell."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652789658,"post_id":72201298,"comment_id":127686821,"body_markdown":"You mean the bit starting *if (line.equals(&quot;λ&quot;)) {*? If so, I had trouble with that. afaicr it even crashed but I sort of ignored that as being &#39;anti-Ockham&#39;s Razor&#39;. I can look at that as a separate thing later. For now, can you call `line.trim()` and also try `line.contains(LAMBDA)` to see what happens","body":"You mean the bit starting <i>if (line.equals(&quot;λ&quot;)) {</i>? If so, I had trouble with that. afaicr it even crashed but I sort of ignored that as being &#39;anti-Ockham&#39;s Razor&#39;. I can look at that as a separate thing later. For now, can you call <code>line.trim()</code> and also try <code>line.contains(LAMBDA)</code> to see what happens"},{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1652790276,"post_id":72201298,"comment_id":127687076,"body_markdown":"@g00se Yeah, it needs to be able to compare, because my students&#39; parsers need the symbol as a signal that they are seeing a lambda function rather than a lambda application.","body":"@g00se Yeah, it needs to be able to compare, because my students&#39; parsers need the symbol as a signal that they are seeing a lambda function rather than a lambda application."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652790950,"post_id":72201298,"comment_id":127687332,"body_markdown":"I&#39;ll check it out again later. I must admit that there are mentions about of `chcp 65001` being hacky so there could be inconsistencies. You might know this but fyi `0xce0xbb` is the UTF-8 encoding of the lambda character as raw bytes","body":"I&#39;ll check it out again later. I must admit that there are mentions about of <code>chcp 65001</code> being hacky so there could be inconsistencies. You might know this but fyi <code>0xce0xbb</code> is the UTF-8 encoding of the lambda character as raw bytes"}],"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652712397,"creation_date":1652273047,"question_id":72201298,"body_markdown":"I&#39;m hopeful that this question is a duplicate, but I have searched a *lot* at this point, and I&#39;ve not come across anything helpful, so I am dubious.\r\n\r\nThe following simple Java code works perfectly in Eclipse, which has its own home-built terminal, and on any *nix system (such as Macs):&lt;sup&gt;(1)&lt;/sup&gt;\r\n\r\n```lang-java\r\npublic static void main(String[] args) throws Exception {\r\n    System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);\r\n    System.out.println(&quot;File encoding is &quot; + System.getProperty(&quot;file.encoding&quot;));\r\n\r\n    Scanner console = new Scanner(new InputStreamReader(System.in, StandardCharsets.UTF_8));\r\n    PrintStream sysout = new PrintStream(System.out, true, StandardCharsets.UTF_8);\r\n\r\n    sysout.println(&quot;\\nTests:&quot;);\r\n    sysout.println(&quot;Can we print lambda using unicode? Let&#39;s see: \\u03BB&quot;);\r\n    \r\n    sysout.print(&quot;Copy and paste the lambda above here: &quot;);\r\n    String line = console.nextLine();\r\n\r\n    sysout.println(&quot;\\nThe input consisted of &quot; + line.length() + &quot; character(s).&quot;);\r\n    sysout.println(&quot;The input was: &quot; + line);\r\n\r\n    if (line.equals(&quot;λ&quot;)) {\r\n        sysout.println(&quot;lambda (λ) was detected with .equals!&quot;);\r\n    } else {\r\n        sysout.println(&quot;lambda (λ) was not detected with .equals.&quot;);\r\n    }\r\n\r\n    printHexOfString(&quot;Hex of λ&quot;, &quot;λ&quot;);\r\n    printHexOfString(&quot;Hex of input&quot;, line);\r\n}\r\n\r\n\r\n\r\nprivate static void printHexOfString(String title, String str) {\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n\r\n    char[] charArray = str.toCharArray();\r\n\r\n    for (char c : charArray) {\r\n        String charToHex = Integer.toHexString(c);\r\n        stringBuilder.append(charToHex);\r\n    }\r\n\r\n    System.out.println(title+ &quot;: &quot;+stringBuilder.toString());\r\n}\r\n```\r\n\r\n# Eclipse Joy\r\n\r\nWhen I type a lambda, I receive the expected output:\r\n\r\n```lang-none\r\nFile encoding is UTF-8\r\n\r\nTests:\r\nCan we print lambda using unicode? Let&#39;s see: λ\r\nCopy and paste the lambda above here: λ\r\n\r\nThe input consisted of 1 character(s).\r\nThe input was: λ\r\nlambda (λ) was detected with .equals!\r\nHex of λ: 3bb\r\nHex of input: 3bb\r\n```\r\n\r\nHooray!\r\n\r\n# VS Code Troubles \r\n\r\nHowever, all is not so nice in VS Code, which uses Windows Powershell.  I ran `chcp 65001` in the terminal at the bottom of VS Code before anything else.  (Note: prior to my command, `chcp` by itself reports `Active code page: 437`, and after I type my command, I get the expected `Active code page: 65001`)\r\n\r\nThere, running the same code, and inputting the same lambda, I get:\r\n\r\n```lang-none\r\nFile encoding is UTF-8\r\n\r\nTests:\r\nCan we print lambda using unicode? Let&#39;s see: λ\r\nCopy and paste the lambda above here: λ\r\n\r\nThe input consisted of 1 character(s).\r\nThe input was:\r\nlambda (&#206;&#187;) was not detected with .equals.\r\nHex of &#206;&#187;: cebb\r\nHex of input: 0\r\n```\r\n\r\n# What I need\r\n\r\nI&#39;m not sure where to go from here.  I need the lambda symbol to be read, processed, and written to the console consistently.  I don&#39;t need the rest of UTF-8, I only need the one symbol, so any hacky solution that gains me a lambda will be well received.\r\n\r\nBonus points if the solution doesn&#39;t break everything in Eclipse and in Unix (where the original code already works fine).\r\n\r\n&lt;sup&gt;(1) - As an aside, I tried all 6 character encodings in `StandardCharsets` for my `PrintStream` and `InputStreamReader`, and while the numbers changed, the lambda was never detected (so it never output &quot;`String is λ`&quot;), and the last line printed was never a lambda.)&lt;/sup&gt;","title":"VS Code terminal unable to privide UTF-8 input","body":"<p>I'm hopeful that this question is a duplicate, but I have searched a <em>lot</em> at this point, and I've not come across anything helpful, so I am dubious.</p>\n<p>The following simple Java code works perfectly in Eclipse, which has its own home-built terminal, and on any *nix system (such as Macs):<sup>(1)</sup></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);\n    System.out.println(&quot;File encoding is &quot; + System.getProperty(&quot;file.encoding&quot;));\n\n    Scanner console = new Scanner(new InputStreamReader(System.in, StandardCharsets.UTF_8));\n    PrintStream sysout = new PrintStream(System.out, true, StandardCharsets.UTF_8);\n\n    sysout.println(&quot;\\nTests:&quot;);\n    sysout.println(&quot;Can we print lambda using unicode? Let's see: \\u03BB&quot;);\n    \n    sysout.print(&quot;Copy and paste the lambda above here: &quot;);\n    String line = console.nextLine();\n\n    sysout.println(&quot;\\nThe input consisted of &quot; + line.length() + &quot; character(s).&quot;);\n    sysout.println(&quot;The input was: &quot; + line);\n\n    if (line.equals(&quot;λ&quot;)) {\n        sysout.println(&quot;lambda (λ) was detected with .equals!&quot;);\n    } else {\n        sysout.println(&quot;lambda (λ) was not detected with .equals.&quot;);\n    }\n\n    printHexOfString(&quot;Hex of λ&quot;, &quot;λ&quot;);\n    printHexOfString(&quot;Hex of input&quot;, line);\n}\n\n\n\nprivate static void printHexOfString(String title, String str) {\n    StringBuilder stringBuilder = new StringBuilder();\n\n    char[] charArray = str.toCharArray();\n\n    for (char c : charArray) {\n        String charToHex = Integer.toHexString(c);\n        stringBuilder.append(charToHex);\n    }\n\n    System.out.println(title+ &quot;: &quot;+stringBuilder.toString());\n}\n</code></pre>\n<h1>Eclipse Joy</h1>\n<p>When I type a lambda, I receive the expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>File encoding is UTF-8\n\nTests:\nCan we print lambda using unicode? Let's see: λ\nCopy and paste the lambda above here: λ\n\nThe input consisted of 1 character(s).\nThe input was: λ\nlambda (λ) was detected with .equals!\nHex of λ: 3bb\nHex of input: 3bb\n</code></pre>\n<p>Hooray!</p>\n<h1>VS Code Troubles</h1>\n<p>However, all is not so nice in VS Code, which uses Windows Powershell.  I ran <code>chcp 65001</code> in the terminal at the bottom of VS Code before anything else.  (Note: prior to my command, <code>chcp</code> by itself reports <code>Active code page: 437</code>, and after I type my command, I get the expected <code>Active code page: 65001</code>)</p>\n<p>There, running the same code, and inputting the same lambda, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>File encoding is UTF-8\n\nTests:\nCan we print lambda using unicode? Let's see: λ\nCopy and paste the lambda above here: λ\n\nThe input consisted of 1 character(s).\nThe input was:\nlambda (Î») was not detected with .equals.\nHex of Î»: cebb\nHex of input: 0\n</code></pre>\n<h1>What I need</h1>\n<p>I'm not sure where to go from here.  I need the lambda symbol to be read, processed, and written to the console consistently.  I don't need the rest of UTF-8, I only need the one symbol, so any hacky solution that gains me a lambda will be well received.</p>\n<p>Bonus points if the solution doesn't break everything in Eclipse and in Unix (where the original code already works fine).</p>\n<p><sup>(1) - As an aside, I tried all 6 character encodings in <code>StandardCharsets</code> for my <code>PrintStream</code> and <code>InputStreamReader</code>, and while the numbers changed, the lambda was never detected (so it never output &quot;<code>String is λ</code>&quot;), and the last line printed was never a lambda.)</sup></p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":7723036,"reputation":11,"user_id":5848641,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652712210,"creation_date":1652712210,"answer_id":72261052,"question_id":72231719,"body_markdown":"Try placing it here: `src/main/resources/META-INF/persistence.xml`","title":"Intellij and jar file: No Persistence provider for EntityManager named xxx","body":"<p>Try placing it here: <code>src/main/resources/META-INF/persistence.xml</code></p>\n"}],"owner":{"account_id":19234918,"reputation":13,"user_id":14056074,"display_name":"furyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652712210,"creation_date":1652454313,"question_id":72231719,"body_markdown":"I use intellij to create a jar package, but it does not work correctly.  \r\nAfter it is created and all the external library jar files are created as well, when I start the program I get the following error.\r\n\r\n```\r\nMai 13, 2022 4:54:38 NACHM. javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\r\nWARNING: javax.persistence.spi::No valid providers found.\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named xxx\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat utils.EntityManagerUtil.createEntityManagerConnection(EntityManagerUtil.java:35)\r\n\tat utils.EntityManagerUtil.getEntityManager(EntityManagerUtil.java:26)\r\n\tat sql.SQLSupplier.&lt;init&gt;(xxx.java:11)\r\n\tat sql.SQLAlso.&lt;init&gt;(xxx.java:8)\r\n\tat module.Also.&lt;init&gt;(xxx.java:24)\r\n\tat factory.Factory.getFactory(Factory.java:17)\r\n\tat Main.main(Main.java:14)\r\n```\r\nThe persistence.xml file is properly configured and is used directly by the program, when it is started on intellij.  \r\nThe location of the `persistence.xml` file is in `/scr/java/resources/META-INF`.  \r\nI do not understand whether the location of the file in this case is wrong or you have to change something else\r\n","title":"Intellij and jar file: No Persistence provider for EntityManager named xxx","body":"<p>I use intellij to create a jar package, but it does not work correctly.<br />\nAfter it is created and all the external library jar files are created as well, when I start the program I get the following error.</p>\n<pre><code>Mai 13, 2022 4:54:38 NACHM. javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\nWARNING: javax.persistence.spi::No valid providers found.\nException in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named xxx\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at utils.EntityManagerUtil.createEntityManagerConnection(EntityManagerUtil.java:35)\n    at utils.EntityManagerUtil.getEntityManager(EntityManagerUtil.java:26)\n    at sql.SQLSupplier.&lt;init&gt;(xxx.java:11)\n    at sql.SQLAlso.&lt;init&gt;(xxx.java:8)\n    at module.Also.&lt;init&gt;(xxx.java:24)\n    at factory.Factory.getFactory(Factory.java:17)\n    at Main.main(Main.java:14)\n</code></pre>\n<p>The persistence.xml file is properly configured and is used directly by the program, when it is started on intellij.<br />\nThe location of the <code>persistence.xml</code> file is in <code>/scr/java/resources/META-INF</code>.<br />\nI do not understand whether the location of the file in this case is wrong or you have to change something else</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652711392,"post_id":72260518,"comment_id":127665486,"body_markdown":"You can able to get details of HTTP status code if your `calculate();` or `callExternalService();` throws error with HTTP status code. Share details about what exceptions being thrown from these methods.","body":"You can able to get details of HTTP status code if your <code>calculate();</code> or <code>callExternalService();</code> throws error with HTTP status code. Share details about what exceptions being thrown from these methods."},{"owner":{"account_id":7246662,"reputation":131,"user_id":5528335,"accept_rate":0,"display_name":"Alex"},"score":0,"creation_date":1652713049,"post_id":72260518,"comment_id":127666137,"body_markdown":"i have update my post","body":"i have update my post"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652713176,"post_id":72260518,"comment_id":127666198,"body_markdown":"I mean, do you know what type of exceptions being thrown from `calculate()` or `callExternalService()`","body":"I mean, do you know what type of exceptions being thrown from <code>calculate()</code> or <code>callExternalService()</code>"},{"owner":{"account_id":7246662,"reputation":131,"user_id":5528335,"accept_rate":0,"display_name":"Alex"},"score":0,"creation_date":1652714096,"post_id":72260518,"comment_id":127666599,"body_markdown":"calculate -&gt; 5XX, callExternalService() -&gt; 4XX","body":"calculate -&gt; 5XX, callExternalService() -&gt; 4XX"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652717331,"post_id":72260518,"comment_id":127667868,"body_markdown":"https://stackoverflow.com/questions/37302615/extract-http-status-code-from-java-io-ioexception let us know if this helps, if not, will put some answer.","body":"<a href=\"https://stackoverflow.com/questions/37302615/extract-http-status-code-from-java-io-ioexception\" title=\"extract http status code from java io ioexception\">stackoverflow.com/questions/37302615/&hellip;</a> let us know if this helps, if not, will put some answer."}],"answers":[{"tags":[],"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652710222,"creation_date":1652710222,"answer_id":72260564,"question_id":72260518,"body_markdown":"Rather than manually handling Exceptions in your controller, you should try\r\n`@ExceptionHandler`. \r\n\r\nCheck: \r\nhttps://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"Rest api with intercept of Exception in Springboot","body":"<p>Rather than manually handling Exceptions in your controller, you should try\n<code>@ExceptionHandler</code>.</p>\n<p>Check:\n<a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"}],"owner":{"account_id":7246662,"reputation":131,"user_id":5528335,"accept_rate":0,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652712123,"creation_date":1652709919,"question_id":72260518,"body_markdown":"i have a rest api:\r\n\r\n\t@RestController\r\n.....\r\n\r\n    @PostMapping(value = &quot;/v1/ms/prop&quot;)\r\n    \tpublic @ResponseBody ResponseEntity&lt;Object&gt; orch(@RequestBody @Valid Request request){\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\r\n\r\n    Response response = serv.prop(request);\r\n    \t\t\treturn ResponseEntity.ok(response);\r\n\r\n\r\nand serv.prop(request):\r\n\r\n    Response response = new Response ();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcalculate(**data**);\r\n            callExternalService();\r\n\t\t} catch (Exception e) {\r\n\r\n       **//intercept status error code**\r\n       **// writeError(data,errorStatusCode)**\r\n\t\t\t\r\n\t\t} finally {\r\n\t\t\twriteAuditOperation(auditLog);\r\n\t\t\tMDC.clear();\r\n\t\t}\r\n\r\n\r\nInside the catch, i want, ONLY IN this api rest, intercept the type of error (400,404,500,502 ecc ecc ) and call an external service that log this error.\r\n\r\nThanks for the help","title":"Rest api with intercept of Exception in Springboot","body":"<p>i have a rest api:</p>\n<pre><code>@RestController\n</code></pre>\n<p>.....</p>\n<pre><code>@PostMapping(value = &quot;/v1/ms/prop&quot;)\n    public @ResponseBody ResponseEntity&lt;Object&gt; orch(@RequestBody @Valid Request request){\n        \n            \n        \n\nResponse response = serv.prop(request);\n            return ResponseEntity.ok(response);\n</code></pre>\n<p>and serv.prop(request):</p>\n<pre><code>Response response = new Response ();\n    \n    try {\n        calculate(**data**);\n        callExternalService();\n    } catch (Exception e) {\n\n   **//intercept status error code**\n   **// writeError(data,errorStatusCode)**\n        \n    } finally {\n        writeAuditOperation(auditLog);\n        MDC.clear();\n    }\n</code></pre>\n<p>Inside the catch, i want, ONLY IN this api rest, intercept the type of error (400,404,500,502 ecc ecc ) and call an external service that log this error.</p>\n<p>Thanks for the help</p>\n"},{"tags":["java","jakarta-ee","payara"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652711860,"post_id":72260728,"comment_id":127665671,"body_markdown":"Most types of this marshalling/unmarshalling work on the basic JavaBean pattern of getters/setters, and record doesn&#39;t use that pattern/convention.","body":"Most types of this marshalling/unmarshalling work on the basic JavaBean pattern of getters/setters, and record doesn&#39;t use that pattern/convention."},{"owner":{"account_id":8608155,"reputation":2562,"user_id":6447573,"display_name":"Ivonet"},"score":0,"creation_date":1652712055,"post_id":72260728,"comment_id":127665744,"body_markdown":"So you say this is not supported? it looks like it is possible according to the blog I mentioned but I don&#39;t know how to make my endpoint do that in a nice way","body":"So you say this is not supported? it looks like it is possible according to the blog I mentioned but I don&#39;t know how to make my endpoint do that in a nice way"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652713009,"post_id":72260728,"comment_id":127666125,"body_markdown":"I&#39;m not saying either way, that blog just suggests it requires some explicit configuration, but I don&#39;t know where or how. I just pointed out *why* it doesn&#39;t work out of the box.","body":"I&#39;m not saying either way, that blog just suggests it requires some explicit configuration, but I don&#39;t know where or how. I just pointed out <i>why</i> it doesn&#39;t work out of the box."},{"owner":{"account_id":8608155,"reputation":2562,"user_id":6447573,"display_name":"Ivonet"},"score":0,"creation_date":1652714445,"post_id":72260728,"comment_id":127666755,"body_markdown":"Ah ok :-) I thought that I had pointed that out in my question already by talking about the accessor types lol. thanks though.","body":"Ah ok :-) I thought that I had pointed that out in my question already by talking about the accessor types lol. thanks though."}],"owner":{"account_id":8608155,"reputation":2562,"user_id":6447573,"display_name":"Ivonet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652711996,"creation_date":1652710808,"question_id":72260728,"body_markdown":"I have this record:\r\n\r\n```java\r\npublic record WordFrequencyImpl(String word, int frequency) implements WordFrequency { }\r\n```\r\n\r\nand a JakartaEE project (pom.xml)\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n    &lt;version&gt;9.1.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is my REST (JSON) endpoint\r\n\r\n```java\r\n@POST\r\n@Path(&quot;calculate_frequency/number/{word}&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic Response mostFrequentNWords(@PathParam(&quot;word&quot;) int number, String txt) {\r\n    final List&lt;WordFrequency&gt; entity = this.wordFrequencyAnalyzer.calculateMostFrequentNWords(txt, number);\r\n    return Response.ok(entity).build();\r\n}\r\n```\r\n\r\nFirst I had a POJO instead of a record for the WordFrequencyImpl, the endpoint produced nice JSON like,\r\n\r\n```shell\r\n### \r\nGET http://localhost:8080/wordcounter/rest/analyse/calculate_frequency/number/5\r\nAccept: application/json\r\n```\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;frequency&quot;: 5,\r\n    &quot;word&quot;: &quot;the&quot;\r\n  },\r\n  {\r\n    &quot;frequency&quot;: 2,\r\n    &quot;word&quot;: &quot;coffee&quot;\r\n  },\r\n  {\r\n    &quot;frequency&quot;: 2,\r\n    &quot;word&quot;: &quot;ok&quot;\r\n  },\r\n  {\r\n    &quot;frequency&quot;: 2,\r\n    &quot;word&quot;: &quot;we&quot;\r\n  },\r\n  {\r\n    &quot;frequency&quot;: 1,\r\n    &quot;word&quot;: &quot;about&quot;\r\n  }\r\n]\r\n```\r\n\r\nNow I changed it to a Java record and I get empty JSON because the marshalling fails as the record does not have the same getter accessor types.\r\n\r\n```json\r\n[\r\n  {},\r\n  {},\r\n  {},\r\n  {},\r\n  {}\r\n]\r\n```\r\n\r\nIs there a way I can still use the `record` and have the endpoint produce the nice JSON again or isn&#39;t it supported yet? The marshaling in this case is Jakarta &quot;magic&quot;. I do not directly control it. So how to solve?\r\n\r\nI use Java 17 / Payara server full.\r\n\r\nI saw this blog by Adam Bien (https://adambien.blog/roller/abien/entry/serializing_and_deserializing_java_records) where he does this in a test, but I don&#39;t know how to translate this to the REST (JSON) endpoint.\r\n\r\n","title":"Records and JSON marshalling on endpoint does not work","body":"<p>I have this record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record WordFrequencyImpl(String word, int frequency) implements WordFrequency { }\n</code></pre>\n<p>and a JakartaEE project (pom.xml)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n    &lt;version&gt;9.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my REST (JSON) endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Path(&quot;calculate_frequency/number/{word}&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response mostFrequentNWords(@PathParam(&quot;word&quot;) int number, String txt) {\n    final List&lt;WordFrequency&gt; entity = this.wordFrequencyAnalyzer.calculateMostFrequentNWords(txt, number);\n    return Response.ok(entity).build();\n}\n</code></pre>\n<p>First I had a POJO instead of a record for the WordFrequencyImpl, the endpoint produced nice JSON like,</p>\n<pre class=\"lang-sh prettyprint-override\"><code>### \nGET http://localhost:8080/wordcounter/rest/analyse/calculate_frequency/number/5\nAccept: application/json\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;frequency&quot;: 5,\n    &quot;word&quot;: &quot;the&quot;\n  },\n  {\n    &quot;frequency&quot;: 2,\n    &quot;word&quot;: &quot;coffee&quot;\n  },\n  {\n    &quot;frequency&quot;: 2,\n    &quot;word&quot;: &quot;ok&quot;\n  },\n  {\n    &quot;frequency&quot;: 2,\n    &quot;word&quot;: &quot;we&quot;\n  },\n  {\n    &quot;frequency&quot;: 1,\n    &quot;word&quot;: &quot;about&quot;\n  }\n]\n</code></pre>\n<p>Now I changed it to a Java record and I get empty JSON because the marshalling fails as the record does not have the same getter accessor types.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {},\n  {},\n  {},\n  {},\n  {}\n]\n</code></pre>\n<p>Is there a way I can still use the <code>record</code> and have the endpoint produce the nice JSON again or isn't it supported yet? The marshaling in this case is Jakarta &quot;magic&quot;. I do not directly control it. So how to solve?</p>\n<p>I use Java 17 / Payara server full.</p>\n<p>I saw this blog by Adam Bien (<a href=\"https://adambien.blog/roller/abien/entry/serializing_and_deserializing_java_records\" rel=\"nofollow noreferrer\">https://adambien.blog/roller/abien/entry/serializing_and_deserializing_java_records</a>) where he does this in a test, but I don't know how to translate this to the REST (JSON) endpoint.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1652373603,"post_id":72218605,"comment_id":127596245,"body_markdown":"Writing custom security is bad practice, by adding custom filters you are basically opt-ing out of using the framework and you are taking it upon yourself to do all the things required. Why use a security framework if you deiced not to use it? The tutorial you posted fails to mention that, that all he is doing is **bad practice** and should be avoid at all costs. To answer your question, you have opted out so you cant use springs built in functionality anymore.","body":"Writing custom security is bad practice, by adding custom filters you are basically opt-ing out of using the framework and you are taking it upon yourself to do all the things required. Why use a security framework if you deiced not to use it? The tutorial you posted fails to mention that, that all he is doing is <b>bad practice</b> and should be avoid at all costs. To answer your question, you have opted out so you cant use springs built in functionality anymore."},{"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"score":0,"creation_date":1652382553,"post_id":72218605,"comment_id":127599304,"body_markdown":"@Toerktumlare okay, that seems reasonable. so if this is a bad practice, then how do I properly secure my API with something like API key? this one was meant to work that way.","body":"@Toerktumlare okay, that seems reasonable. so if this is a bad practice, then how do I properly secure my API with something like API key? this one was meant to work that way."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652389054,"post_id":72218605,"comment_id":127601182,"body_markdown":"I have no idea what you mean when you say api key? You have options like basic auth, formlogin, oauth2, oauth2 using jwts as the baerer token, etc etc if you want to learn spring security i suggest the official docs. Spring implements a number of RFCs","body":"I have no idea what you mean when you say api key? You have options like basic auth, formlogin, oauth2, oauth2 using jwts as the baerer token, etc etc if you want to learn spring security i suggest the official docs. Spring implements a number of RFCs"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652389288,"post_id":72218605,"comment_id":127601251,"body_markdown":"And this is not rude of me, but before asking on stack overflow i suggest you do research by reading the official docs, do the official tutorials on springs webpage etc etc instead of going  to stack overflow. The question has been answered. Good luck","body":"And this is not rude of me, but before asking on stack overflow i suggest you do research by reading the official docs, do the official tutorials on springs webpage etc etc instead of going  to stack overflow. The question has been answered. Good luck"}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652711569,"creation_date":1652397872,"answer_id":72223009,"question_id":72218605,"body_markdown":"TLDR; Remove `@Component` from your filter to ensure only the `http.antMatchers()` or `http.mvcMatchers()` applies since Spring automatically registers `Filter`s with the container. To restrict the filter to only certain endpoints *within* the security filter chain, see below.\r\n\r\n----\r\n\r\nSee [this answer](https://stackoverflow.com/a/72136341/15835039) for a quick summary of authorization (e.g. `permitAll()`, `authenticated()`) vs. other features such as authentication and CSRF protection. If you need more detail, keep reading.\r\n\r\nThere are two issues touched on in this question:\r\n\r\n1. How do I only process certain requests in a Servlet filter?\r\n2. How do I use Spring Security to authenticate requests using an API key?\r\n\r\n----\r\n\r\n#1 - Believe it or not, this question isn&#39;t actually Spring Security specific, because any Servlet filter can choose to either act on a request, reject the request, or ignore the request and pass the request to the next filter in the chain. This is true whether it&#39;s a regular filter chain, or specifically the Security Filter Chain. This is typically done with a `RequestMatcher`, for example:\r\n\r\n```java\r\npublic class MyFilter extends OncePerRequestFilter {\r\n\tprivate RequestMatcher requestMatcher = new AntPathRequestMatcher(&quot;/some-endpoint&quot;, HttpMethod.POST.name());;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tif (!this.requestMatcher.matches(request)) {\r\n\t\t\t// Ignore the request and pass to the next filter\r\n\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\t// Note: If you want to reject the request, you can do something and then return without calling filterChain.doFilter()\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Handle the request and call the next filter afterwards if desired...\r\n\t\t// ...\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n}\r\n```\r\n\r\n----\r\n\r\n#2 - There are many ways to achieve a goal like authenticating using an API key. It is helpful here to define what exactly you mean by &quot;API key&quot;. Sometimes this is a bearer token, e.g. `Authorization: Bearer xyz123` which could be an opaque token or JWT for OAuth2 or even a custom bearer token. It could also be a completely custom scheme, e.g. `X-API-KEY: xyz123` which comes from a database table of tokens managed by your organization, etc. Or something else?\r\n\r\nUnless you have a non-negotiable requirement that requires you to write your own custom filter, I&#39;d recommend the `BearerTokenAuthenticationFilter`, provided in the `oauth2-resource-server` module which you can read about in the [reference docs](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html). It is very customizable and can actually do much more than OAuth 2.0.\r\n\r\nYou can also instantiate this filter yourself instead of a custom filter, and configure it with a `BearerTokenResolver` allowing you to resolve a custom header (e.g. `CustomAuth`) and an instance of `AuthenticationManager`.\r\n\r\nHere&#39;s a (working) complete configuration based on your provided example:\r\n\r\n```java\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http\r\n            .mvcMatcher(&quot;/api/**&quot;)\r\n            .authorizeRequests((authorizeRequests) -&gt; authorizeRequests\r\n                .anyRequest().authenticated()\r\n            )\r\n            .addFilter(bearerTokenAuthenticationFilter());\r\n        // @formatter:on\r\n\r\n        return http.build();\r\n    }\r\n\r\n    private BearerTokenAuthenticationFilter bearerTokenAuthenticationFilter() {\r\n        BearerTokenAuthenticationProvider authenticationProvider =\r\n            new BearerTokenAuthenticationProvider();\r\n\r\n        ProviderManager authenticationManager =\r\n            new ProviderManager(authenticationProvider);\r\n\r\n        BearerTokenAuthenticationFilter bearerTokenAuthenticationFilter =\r\n            new BearerTokenAuthenticationFilter(authenticationManager);\r\n\r\n        BearerTokenResolver bearerTokenResolver =\r\n            (request) -&gt; request.getHeader(&quot;CustomAuth&quot;);\r\n        bearerTokenAuthenticationFilter.setBearerTokenResolver(bearerTokenResolver);\r\n\r\n        return bearerTokenAuthenticationFilter;\r\n    }\r\n\r\n    public static class BearerTokenAuthenticationProvider implements AuthenticationProvider {\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            // We obviously need to do a better check than this here...\r\n            if (!authentication.getCredentials().equals(&quot;password&quot;)) {\r\n                throw new BadCredentialsException(&quot;Header value is not correct&quot;);\r\n            }\r\n\r\n            return new UsernamePasswordAuthenticationToken(authentication.getPrincipal(), authentication.getCredentials(), Collections.emptyList());\r\n        }\r\n\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return BearerTokenAuthenticationToken.class.isAssignableFrom(authentication);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Authenticate certain endpoints with custom Filter | Spring Security","body":"<p>TLDR; Remove <code>@Component</code> from your filter to ensure only the <code>http.antMatchers()</code> or <code>http.mvcMatchers()</code> applies since Spring automatically registers <code>Filter</code>s with the container. To restrict the filter to only certain endpoints <em>within</em> the security filter chain, see below.</p>\n<hr />\n<p>See <a href=\"https://stackoverflow.com/a/72136341/15835039\">this answer</a> for a quick summary of authorization (e.g. <code>permitAll()</code>, <code>authenticated()</code>) vs. other features such as authentication and CSRF protection. If you need more detail, keep reading.</p>\n<p>There are two issues touched on in this question:</p>\n<ol>\n<li>How do I only process certain requests in a Servlet filter?</li>\n<li>How do I use Spring Security to authenticate requests using an API key?</li>\n</ol>\n<hr />\n<p>#1 - Believe it or not, this question isn't actually Spring Security specific, because any Servlet filter can choose to either act on a request, reject the request, or ignore the request and pass the request to the next filter in the chain. This is true whether it's a regular filter chain, or specifically the Security Filter Chain. This is typically done with a <code>RequestMatcher</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFilter extends OncePerRequestFilter {\n    private RequestMatcher requestMatcher = new AntPathRequestMatcher(&quot;/some-endpoint&quot;, HttpMethod.POST.name());;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        if (!this.requestMatcher.matches(request)) {\n            // Ignore the request and pass to the next filter\n            filterChain.doFilter(request, response);\n            // Note: If you want to reject the request, you can do something and then return without calling filterChain.doFilter()\n            return;\n        }\n\n        // Handle the request and call the next filter afterwards if desired...\n        // ...\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<hr />\n<p>#2 - There are many ways to achieve a goal like authenticating using an API key. It is helpful here to define what exactly you mean by &quot;API key&quot;. Sometimes this is a bearer token, e.g. <code>Authorization: Bearer xyz123</code> which could be an opaque token or JWT for OAuth2 or even a custom bearer token. It could also be a completely custom scheme, e.g. <code>X-API-KEY: xyz123</code> which comes from a database table of tokens managed by your organization, etc. Or something else?</p>\n<p>Unless you have a non-negotiable requirement that requires you to write your own custom filter, I'd recommend the <code>BearerTokenAuthenticationFilter</code>, provided in the <code>oauth2-resource-server</code> module which you can read about in the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">reference docs</a>. It is very customizable and can actually do much more than OAuth 2.0.</p>\n<p>You can also instantiate this filter yourself instead of a custom filter, and configure it with a <code>BearerTokenResolver</code> allowing you to resolve a custom header (e.g. <code>CustomAuth</code>) and an instance of <code>AuthenticationManager</code>.</p>\n<p>Here's a (working) complete configuration based on your provided example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n            .mvcMatcher(&quot;/api/**&quot;)\n            .authorizeRequests((authorizeRequests) -&gt; authorizeRequests\n                .anyRequest().authenticated()\n            )\n            .addFilter(bearerTokenAuthenticationFilter());\n        // @formatter:on\n\n        return http.build();\n    }\n\n    private BearerTokenAuthenticationFilter bearerTokenAuthenticationFilter() {\n        BearerTokenAuthenticationProvider authenticationProvider =\n            new BearerTokenAuthenticationProvider();\n\n        ProviderManager authenticationManager =\n            new ProviderManager(authenticationProvider);\n\n        BearerTokenAuthenticationFilter bearerTokenAuthenticationFilter =\n            new BearerTokenAuthenticationFilter(authenticationManager);\n\n        BearerTokenResolver bearerTokenResolver =\n            (request) -&gt; request.getHeader(&quot;CustomAuth&quot;);\n        bearerTokenAuthenticationFilter.setBearerTokenResolver(bearerTokenResolver);\n\n        return bearerTokenAuthenticationFilter;\n    }\n\n    public static class BearerTokenAuthenticationProvider implements AuthenticationProvider {\n        @Override\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            // We obviously need to do a better check than this here...\n            if (!authentication.getCredentials().equals(&quot;password&quot;)) {\n                throw new BadCredentialsException(&quot;Header value is not correct&quot;);\n            }\n\n            return new UsernamePasswordAuthenticationToken(authentication.getPrincipal(), authentication.getCredentials(), Collections.emptyList());\n        }\n\n        @Override\n        public boolean supports(Class&lt;?&gt; authentication) {\n            return BearerTokenAuthenticationToken.class.isAssignableFrom(authentication);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3990,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1652418438,"answer_count":1,"score":1,"last_activity_date":1652711569,"creation_date":1652370457,"question_id":72218605,"body_markdown":"## 1. Overview\r\n\r\nFirst things first - I am pretty new to Spring Security so if you see something trivial, please keep that in mind &#129299; \r\nI am trying to create a custom way for my server side project to authenticate incoming requests following [this tutorial](https://mehmetozanguven.github.io/spring/2020/12/30/spring-security-5-custom-filter.html).  \r\n\r\n## 2. Problem\r\n\r\nThe authentication works for every incoming request. I want it to work only for specified ones, just like when using basic authentication. \r\n\r\n## 3. Code  \r\n### Filter\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyCustomAuthenticationFilter implements Filter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\r\n        String authorization = httpRequest.getHeader(&quot;CustomAuth&quot;);\r\n\r\n        MyCustomAuthentication myCustomAuthentication = new MyCustomAuthentication(authorization, null);\r\n        Authentication authResult = authenticationManager.authenticate(myCustomAuthentication);\r\n\r\n        if (authResult.isAuthenticated()) {\r\n            SecurityContextHolder.getContext().setAuthentication(authResult);\r\n            filterChain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Manager / config\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    public APIKeyAuthenticationProvider apiKeyAuthenticationProvider() {\r\n        return new APIKeyAuthenticationProvider();\r\n    }\r\n\r\n    public MyCustomAuthenticationFilter myCustomAuthenticationFilter() throws Exception {\r\n        return new MyCustomAuthenticationFilter(authenticationManagerBean());\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(apiKeyAuthenticationProvider());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .antMatcher(&quot;/api/**&quot;)\r\n                .authorizeRequests()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .addFilterAt(myCustomAuthenticationFilter(), BasicAuthenticationFilter.class)\r\n                .csrf().disable();\r\n    }\r\n}\r\n```\r\n\r\n### Provider\r\n```java\r\npublic class APIKeyAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private final String secretKey = &quot;password&quot;;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String requestKey = authentication.getName();\r\n        if (requestKey.equals(secretKey)) {\r\n            MyCustomAuthentication fullyAuthenticated = new MyCustomAuthentication(null, null, null);\r\n            return fullyAuthenticated;\r\n        } else {\r\n            throw new BadCredentialsException(&quot;Header value is not correct&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * If authentication type is MyCustomAuthentication, then\r\n     *  apply this provider\r\n     * @param authentication\r\n     * @return\r\n     */\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return MyCustomAuthentication.class.equals(authentication);\r\n    }\r\n}\r\n```\r\n\r\n### Authentication\r\n```java\r\npublic class MyCustomAuthentication extends UsernamePasswordAuthenticationToken {\r\n\r\n    public MyCustomAuthentication(Object principal, Object credentials) {\r\n        super(principal, credentials);\r\n    }\r\n\r\n    public MyCustomAuthentication(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        super(principal, credentials, authorities);\r\n    }\r\n}\r\n```\r\n\r\n## 4. Question  \r\n\r\nWhat do I need to change to make this custom filter authenticate only endpoints specified in the `configure` method?  \r\nThank you in advance for any help ✌️\r\n\r\n## 5. Versions  \r\n\r\n* java - 11\r\n* spring boot - 2.6.6\r\n* spring framework - 5.3.18","title":"Authenticate certain endpoints with custom Filter | Spring Security","body":"<h2>1. Overview</h2>\n<p>First things first - I am pretty new to Spring Security so if you see something trivial, please keep that in mind 🤓\nI am trying to create a custom way for my server side project to authenticate incoming requests following <a href=\"https://mehmetozanguven.github.io/spring/2020/12/30/spring-security-5-custom-filter.html\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<h2>2. Problem</h2>\n<p>The authentication works for every incoming request. I want it to work only for specified ones, just like when using basic authentication.</p>\n<h2>3. Code</h2>\n<h3>Filter</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class MyCustomAuthenticationFilter implements Filter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\n        String authorization = httpRequest.getHeader(&quot;CustomAuth&quot;);\n\n        MyCustomAuthentication myCustomAuthentication = new MyCustomAuthentication(authorization, null);\n        Authentication authResult = authenticationManager.authenticate(myCustomAuthentication);\n\n        if (authResult.isAuthenticated()) {\n            SecurityContextHolder.getContext().setAuthentication(authResult);\n            filterChain.doFilter(servletRequest, servletResponse);\n        }\n    }\n}\n</code></pre>\n<h3>Manager / config</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    public APIKeyAuthenticationProvider apiKeyAuthenticationProvider() {\n        return new APIKeyAuthenticationProvider();\n    }\n\n    public MyCustomAuthenticationFilter myCustomAuthenticationFilter() throws Exception {\n        return new MyCustomAuthenticationFilter(authenticationManagerBean());\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(apiKeyAuthenticationProvider());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/api/**&quot;)\n                .authorizeRequests()\n                .anyRequest().permitAll()\n                .and()\n                .addFilterAt(myCustomAuthenticationFilter(), BasicAuthenticationFilter.class)\n                .csrf().disable();\n    }\n}\n</code></pre>\n<h3>Provider</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class APIKeyAuthenticationProvider implements AuthenticationProvider {\n\n    private final String secretKey = &quot;password&quot;;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String requestKey = authentication.getName();\n        if (requestKey.equals(secretKey)) {\n            MyCustomAuthentication fullyAuthenticated = new MyCustomAuthentication(null, null, null);\n            return fullyAuthenticated;\n        } else {\n            throw new BadCredentialsException(&quot;Header value is not correct&quot;);\n        }\n    }\n\n    /**\n     * If authentication type is MyCustomAuthentication, then\n     *  apply this provider\n     * @param authentication\n     * @return\n     */\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return MyCustomAuthentication.class.equals(authentication);\n    }\n}\n</code></pre>\n<h3>Authentication</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomAuthentication extends UsernamePasswordAuthenticationToken {\n\n    public MyCustomAuthentication(Object principal, Object credentials) {\n        super(principal, credentials);\n    }\n\n    public MyCustomAuthentication(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(principal, credentials, authorities);\n    }\n}\n</code></pre>\n<h2>4. Question</h2>\n<p>What do I need to change to make this custom filter authenticate only endpoints specified in the <code>configure</code> method?<br />\nThank you in advance for any help ✌️</p>\n<h2>5. Versions</h2>\n<ul>\n<li>java - 11</li>\n<li>spring boot - 2.6.6</li>\n<li>spring framework - 5.3.18</li>\n</ul>\n"},{"tags":["java","spring-boot","multipartfile"],"comments":[{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1677087936,"post_id":70707024,"comment_id":133270025,"body_markdown":"FWIW you should set `max-request-size` a bit larger than `max-file-size` to allow for overhead. E.g. a 20MB file will fail with this config since the request itself will be larger than 20MB.","body":"FWIW you should set <code>max-request-size</code> a bit larger than <code>max-file-size</code> to allow for overhead. E.g. a 20MB file will fail with this config since the request itself will be larger than 20MB."}],"owner":{"account_id":14993383,"reputation":345,"user_id":10823647,"display_name":"Swarnim Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652711527,"creation_date":1642143512,"question_id":70707024,"body_markdown":"We have an API to upload document. We got a very strange error and we got this error for the first time on our server.\r\nThis is the API structure.\r\n\r\n```\r\n@PatchMapping(value = &quot;{id}/file-upload&quot;, consumes = &quot;multipart/form-data&quot;)\r\npublic CommonResponse updatePersonalKyc(@PathVariable(&quot;id&quot;) long customerId,\r\n                                        @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n}\r\n```\r\n\r\nHere is the error stack trace:\r\n```\r\njava.net.SocketTimeoutException: null\r\n\tat org.apache.tomcat.util.net.NioBlockingSelector.read(NioBlockingSelector.java:204) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.net.NioSelectorPool.read(NioSelectorPool.java:221) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1144) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:735) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.access$300(Http11InputBuffer.java:41) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1070) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:102) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:246) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.Request.doRead(Request.java:551) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:336) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:632) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:362) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_312]\r\n\tat org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:977) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:881) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_312]\r\n\tat org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:107) ~[na:1.8.0_312]\r\n\tat org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:98) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:294) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.Request.parseParts(Request.java:2868) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.Request.getParts(Request.java:2770) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1178) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1012) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat com.epl.retail.configuration.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:69) ~[classes!/:1.0-SNAPSHOT]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat com.epl.retail.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:132) ~[classes!/:1.0-SNAPSHOT]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar!/:2.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter.doFilter(WebRequestTrackingFilter.java:142) ~[applicationinsights-web-2.6.4.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_312]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_312]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\r\n```\r\n\r\nThe API throw an Error:\r\n```\r\nFailed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. java.net.SocketTimeoutException\r\n```\r\n\r\nHere the config regarding multipart file:\r\n```\r\nspring.servlet.multipart.max-file-size: 20MB\r\nspring.servlet.multipart.max-request-size: 20MB\r\n```\r\n\r\nNot able to identify the issue.\r\nAnyone help to identify the issue?","title":"Error in multipart file upload: Failed to parse multipart servlet request; nested exception is java.io.IOException","body":"<p>We have an API to upload document. We got a very strange error and we got this error for the first time on our server.\nThis is the API structure.</p>\n<pre><code>@PatchMapping(value = &quot;{id}/file-upload&quot;, consumes = &quot;multipart/form-data&quot;)\npublic CommonResponse updatePersonalKyc(@PathVariable(&quot;id&quot;) long customerId,\n                                        @RequestParam(&quot;file&quot;) MultipartFile file) {\n}\n</code></pre>\n<p>Here is the error stack trace:</p>\n<pre><code>java.net.SocketTimeoutException: null\n    at org.apache.tomcat.util.net.NioBlockingSelector.read(NioBlockingSelector.java:204) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.net.NioSelectorPool.read(NioSelectorPool.java:221) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1144) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:735) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.Http11InputBuffer.access$300(Http11InputBuffer.java:41) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1070) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:102) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:246) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.Request.doRead(Request.java:551) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:336) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:632) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:362) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_312]\n    at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:977) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:881) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_312]\n    at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at java.io.FilterInputStream.read(FilterInputStream.java:107) ~[na:1.8.0_312]\n    at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:98) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:294) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2868) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2770) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at javax.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:359) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1178) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1012) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at com.epl.retail.configuration.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:69) ~[classes!/:1.0-SNAPSHOT]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at com.epl.retail.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:132) ~[classes!/:1.0-SNAPSHOT]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar!/:2.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter.doFilter(WebRequestTrackingFilter.java:142) ~[applicationinsights-web-2.6.4.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_312]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_312]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar!/:9.0.29]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\n</code></pre>\n<p>The API throw an Error:</p>\n<pre><code>Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. java.net.SocketTimeoutException\n</code></pre>\n<p>Here the config regarding multipart file:</p>\n<pre><code>spring.servlet.multipart.max-file-size: 20MB\nspring.servlet.multipart.max-request-size: 20MB\n</code></pre>\n<p>Not able to identify the issue.\nAnyone help to identify the issue?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652626916,"creation_date":1652625803,"answer_id":72249312,"question_id":72243761,"body_markdown":"CategoryMapper is a Entity? if it is kindly add this @NoArgsConstructor becoause its looking for empty constructor\r\n\r\n```\r\n@NoArgsConstructor\r\npublic class CategoryMapper {\r\n\r\n    \r\n}\r\n```\r\nif you dont have lombok just add this\r\n\r\n```\r\n//empty constructor\r\npublic CategoryMapper() {\r\n\r\n}\r\n\r\n```\r\nIf this class is Repository make sure to hava @Mapper\r\n```\r\n@Mapper\r\npublic class CategoryMapper {\r\n\r\n    \r\n}\r\n\r\n```\r\nDont forget also do add this to SpringApplication runner class. This class is generated when you first created the project file\r\n```\r\n@Bean\r\n\tpublic ModelMapper modelMapper() {\r\n\t    return new ModelMapper();\r\n\t}\r\n\r\n//For repsitory dont forget this.\r\n//This will be added upper of the class in springapplication class runner\r\n\r\n@MappedTypes({YourEntity.class})\r\n@MapperScan(&quot;package patch to you repository&quot;)\r\n\r\n\r\n```","title":"Consider defining a bean of type &#39;Mapper&#39; in your configuration [Spring-Boot]","body":"<p>CategoryMapper is a Entity? if it is kindly add this @NoArgsConstructor becoause its looking for empty constructor</p>\n<pre><code>@NoArgsConstructor\npublic class CategoryMapper {\n\n    \n}\n</code></pre>\n<p>if you dont have lombok just add this</p>\n<pre><code>//empty constructor\npublic CategoryMapper() {\n\n}\n\n</code></pre>\n<p>If this class is Repository make sure to hava @Mapper</p>\n<pre><code>@Mapper\npublic class CategoryMapper {\n\n    \n}\n\n</code></pre>\n<p>Dont forget also do add this to SpringApplication runner class. This class is generated when you first created the project file</p>\n<pre><code>@Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n\n//For repsitory dont forget this.\n//This will be added upper of the class in springapplication class runner\n\n@MappedTypes({YourEntity.class})\n@MapperScan(&quot;package patch to you repository&quot;)\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25292053,"reputation":1,"user_id":19117924,"display_name":"Artizoz Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652656780,"creation_date":1652656780,"answer_id":72252835,"question_id":72243761,"body_markdown":"This is the interface Code @SpicySandwich\r\n\r\n\r\n`@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface SubredditMapper {\r\n\r\n    @Mapping(target = &quot;numberOfPosts&quot;, expression = &quot;java(mapPosts(subreddit.getPosts()))&quot;)\r\n    SubredditDto mapSubredditToDto(Subreddit subreddit);\r\n\r\n    default Integer mapPosts(List&lt;Post&gt; numberOfPosts) {\r\n        return numberOfPosts.size();\r\n    }\r\n\r\n    @InheritInverseConfiguration\r\n    @Mapping(target = &quot;posts&quot;, ignore = true)\r\n    Subreddit mapDtoToSubreddit(SubredditDto subredditDto);\r\n}`","title":"Consider defining a bean of type &#39;Mapper&#39; in your configuration [Spring-Boot]","body":"<p>This is the interface Code @SpicySandwich</p>\n<p>`@Mapper(componentModel = &quot;spring&quot;)\npublic interface SubredditMapper {</p>\n<pre><code>@Mapping(target = &quot;numberOfPosts&quot;, expression = &quot;java(mapPosts(subreddit.getPosts()))&quot;)\nSubredditDto mapSubredditToDto(Subreddit subreddit);\n\ndefault Integer mapPosts(List&lt;Post&gt; numberOfPosts) {\n    return numberOfPosts.size();\n}\n\n@InheritInverseConfiguration\n@Mapping(target = &quot;posts&quot;, ignore = true)\nSubreddit mapDtoToSubreddit(SubredditDto subredditDto);\n</code></pre>\n<p>}`</p>\n"}],"owner":{"account_id":25292053,"reputation":1,"user_id":19117924,"display_name":"Artizoz Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1194,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652711414,"creation_date":1652561314,"question_id":72243761,"body_markdown":"mapstruct doesn&#39;t work on my Spring Boot project. \r\n\r\nI added dependencies, path, Mapper annotations (componentModel=&quot;spring&quot;) in the mapper interface and still get the same error\r\n\r\n\r\n\r\n https://i.stack.imgur.com/CHTPo.png\r\n\r\n\r\n  https://i.stack.imgur.com/nvxo4.png","title":"Consider defining a bean of type &#39;Mapper&#39; in your configuration [Spring-Boot]","body":"<p>mapstruct doesn't work on my Spring Boot project.</p>\n<p>I added dependencies, path, Mapper annotations (componentModel=&quot;spring&quot;) in the mapper interface and still get the same error</p>\n<p><a href=\"https://i.stack.imgur.com/CHTPo.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CHTPo.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/nvxo4.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nvxo4.png</a></p>\n"},{"tags":["java","variables","naming-conventions"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":1,"creation_date":1369722421,"post_id":16785175,"comment_id":24197685,"body_markdown":"Its simply a coding style to identity `member variables.` But i suggest use `camelCase`, not underscores. [**Oracle PDF for naming conventions**](http://www.oracle.com/technetwork/java/codeconventions-150003.pdf)","body":"Its simply a coding style to identity <code>member variables.</code> But i suggest use <code>camelCase</code>, not underscores. <a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\"><b>Oracle PDF for naming conventions</b></a>"},{"owner":{"account_id":2014628,"reputation":3559,"user_id":1802221,"accept_rate":60,"display_name":"Rishikesh Dhokare"},"score":0,"creation_date":1369722768,"post_id":16785175,"comment_id":24187013,"body_markdown":"go through this http://stackoverflow.com/questions/150192/using-underscores-in-java-variables-and-method-names","body":"go through this <a href=\"http://stackoverflow.com/questions/150192/using-underscores-in-java-variables-and-method-names\" title=\"using underscores in java variables and method names\">stackoverflow.com/questions/150192/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user1907906"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1652710571,"creation_date":1369722433,"answer_id":16785214,"question_id":16785175,"body_markdown":"See the Java [Naming Conventions][1]\r\n\r\n&gt; Except for variables, all instance, class, and class constants are in mixed case with a lowercase first letter. Internal words start with capital letters. Variable names should not start with underscore _ or dollar sign $ characters, even though both are allowed.\r\n&gt;\r\n&gt; The names of variables declared class constants and of ANSI constants should be all uppercase with words separated by underscores (&quot;_&quot;). (ANSI constants should be avoided, for ease of debugging.)\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html#367\r\n\r\n\r\n\r\n","title":"Use of underscore in variable and method names","body":"<p>See the Java <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html#367\" rel=\"nofollow noreferrer\">Naming Conventions</a></p>\n<blockquote>\n<p>Except for variables, all instance, class, and class constants are in mixed case with a lowercase first letter. Internal words start with capital letters. Variable names should not start with underscore _ or dollar sign $ characters, even though both are allowed.</p>\n<p>The names of variables declared class constants and of ANSI constants should be all uppercase with words separated by underscores (&quot;_&quot;). (ANSI constants should be avoided, for ease of debugging.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652710655,"creation_date":1369722434,"answer_id":16785215,"question_id":16785175,"body_markdown":"Normally it should not be used, except as a separator in all uppercase constants that are usually final (*allStars* but *ALL_STARS*).\r\n\r\nExactly because normally not expected, the underscore is abundant in generated code. It may also be found in some older code, but this is not the reason to continue using it.\r\n","title":"Use of underscore in variable and method names","body":"<p>Normally it should not be used, except as a separator in all uppercase constants that are usually final (<em>allStars</em> but <em>ALL_STARS</em>).</p>\n<p>Exactly because normally not expected, the underscore is abundant in generated code. It may also be found in some older code, but this is not the reason to continue using it.</p>\n"},{"tags":[],"owner":{"account_id":2821511,"reputation":447,"user_id":2425180,"accept_rate":80,"display_name":"Leep"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1652710811,"creation_date":1369722564,"answer_id":16785248,"question_id":16785175,"body_markdown":"Sometimes people use underscores to indicate that their variable or method is private. I do not like this way of doing it. I suggest you to use [lower camel case][1] too.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n\r\n\r\n","title":"Use of underscore in variable and method names","body":"<p>Sometimes people use underscores to indicate that their variable or method is private. I do not like this way of doing it. I suggest you to use <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel case</a> too.</p>\n"},{"tags":[],"owner":{"account_id":2714847,"reputation":1370,"user_id":2342446,"display_name":"Pavan Kumar K"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1652710890,"creation_date":1369722588,"answer_id":16785260,"question_id":16785175,"body_markdown":"Usually _ is used in variables to represent them as class level private variables.\r\n","title":"Use of underscore in variable and method names","body":"<p>Usually _ is used in variables to represent them as class level private variables.</p>\n"},{"tags":[],"owner":{"account_id":7298107,"reputation":2169,"user_id":5562041,"accept_rate":75,"display_name":"E_K"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1652711214,"creation_date":1519718117,"answer_id":49003726,"question_id":16785175,"body_markdown":"Quoting the book *[Clean Code][1]* by [Robert C. Martin][2],\r\n\r\n&gt; Sometimes it is useful to warn other programmers about certain consequences.\r\n&gt;\r\n&gt;Example\r\n&gt;\r\n&gt;     // Don&#39;t run unless you\r\n&gt;     // have some time to kill.\r\n&gt;     public void _testWithReallyBigFile() {\r\n&gt;         writeLinesToFile(10000000);\r\n&gt;         response.setBody(testFile);\r\n&gt;         response.readyToSend(this);\r\n&gt;         String responseString = output.toString();\r\n&gt;         assertSubString(&quot;Content-Length: 1000000000&quot;, responseString);\r\n&gt;         assertTrue(bytesSent &gt; 1000000000);\r\n&gt;     }\r\n&gt;\r\n&gt; Nowadays, of course, we’d turn off the test case by using the @Ignore attribute with an appropriate explanatory string. @Ignore(&quot;Takes too long to run&quot;). But back in the days before [JUnit][3] 4, putting an underscore in front of the method name was a common convention.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Robert_C._Martin#Publications\r\n  [2]: https://en.wikipedia.org/wiki/Robert_C._Martin\r\n  [3]: https://en.wikipedia.org/wiki/JUnit\r\n\r\n\r\n\r\n\r\n\r\n","title":"Use of underscore in variable and method names","body":"<p>Quoting the book <em><a href=\"https://en.wikipedia.org/wiki/Robert_C._Martin#Publications\" rel=\"nofollow noreferrer\">Clean Code</a></em> by <a href=\"https://en.wikipedia.org/wiki/Robert_C._Martin\" rel=\"nofollow noreferrer\">Robert C. Martin</a>,</p>\n<blockquote>\n<p>Sometimes it is useful to warn other programmers about certain consequences.</p>\n<p>Example</p>\n<pre><code>// Don't run unless you\n// have some time to kill.\npublic void _testWithReallyBigFile() {\n    writeLinesToFile(10000000);\n    response.setBody(testFile);\n    response.readyToSend(this);\n    String responseString = output.toString();\n    assertSubString(&quot;Content-Length: 1000000000&quot;, responseString);\n    assertTrue(bytesSent &gt; 1000000000);\n}\n</code></pre>\n<p>Nowadays, of course, we’d turn off the test case by using the @Ignore attribute with an appropriate explanatory string. @Ignore(&quot;Takes too long to run&quot;). But back in the days before <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit</a> 4, putting an underscore in front of the method name was a common convention.</p>\n</blockquote>\n"}],"owner":{"account_id":2795866,"reputation":2091,"user_id":2416228,"accept_rate":85,"display_name":"MaheshVarma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36339,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":16785214,"answer_count":5,"score":17,"last_activity_date":1652711214,"creation_date":1369722257,"question_id":16785175,"body_markdown":"I got confused with the (*[naming convention][1]*) use of underscore `_` in variable names and method names as their starting letter. For example, `_sampleVariable` and `_getUserContext()`. When should I use it?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Naming_convention_(programming)\r\n","title":"Use of underscore in variable and method names","body":"<p>I got confused with the (<em><a href=\"https://en.wikipedia.org/wiki/Naming_convention_(programming)\" rel=\"nofollow noreferrer\">naming convention</a></em>) use of underscore <code>_</code> in variable names and method names as their starting letter. For example, <code>_sampleVariable</code> and <code>_getUserContext()</code>. When should I use it?</p>\n"},{"tags":["java","spring-boot","ssl","microservices","truststore"],"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652711153,"creation_date":1652711153,"question_id":72260812,"body_markdown":"I have multiple microservices that get its initial configurations off a config-server, and the API requests should pass through an api-gateway first. I&#39;ve managed to enable HTTPS on each microservice with ```server.ssl.*``` along with a self-signed keystore generated using keytool. Accessing each microservice directly through https is no problem but I ran into a lot of errors when I try to go through the api-gateway first. All the errors were either ```unable to find valid certification path to requested target```, ```not an SSL/TLS record``` or ```trustanchors parameter must be non-empty``` even if I add the various ```server.ssl.trust-store``` properties. \r\n\r\nI&#39;ve bypassed it for now by adding the following lines to the main class of my api-gateway:\r\n\r\n```\r\nClassPathResource resource = new ClassPathResource(&quot;SSL.jks&quot;);\r\n      try {\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, Paths.get(resource.getURI()).toString());\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n      System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n      System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;password&quot;);\r\n```\r\n\r\nI would like to know if there is a better way to do this instead of &quot;hard-coding&quot; it like this. I also haven&#39;t added HTTPS to the config-server but I assume I will end up having to do this. I&#39;m also not understanding how I can &quot;auto-import&quot; the certificates (if that&#39;s how I have to do it) for it to work in production? Importing the self-signed certs to my java only makes sense for my local machine. ","title":"TLS/SSL between microservices, api-gateway and a config-server in Spring Boot?","body":"<p>I have multiple microservices that get its initial configurations off a config-server, and the API requests should pass through an api-gateway first. I've managed to enable HTTPS on each microservice with <code>server.ssl.*</code> along with a self-signed keystore generated using keytool. Accessing each microservice directly through https is no problem but I ran into a lot of errors when I try to go through the api-gateway first. All the errors were either <code>unable to find valid certification path to requested target</code>, <code>not an SSL/TLS record</code> or <code>trustanchors parameter must be non-empty</code> even if I add the various <code>server.ssl.trust-store</code> properties.</p>\n<p>I've bypassed it for now by adding the following lines to the main class of my api-gateway:</p>\n<pre><code>ClassPathResource resource = new ClassPathResource(&quot;SSL.jks&quot;);\n      try {\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, Paths.get(resource.getURI()).toString());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n      System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n      System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;password&quot;);\n</code></pre>\n<p>I would like to know if there is a better way to do this instead of &quot;hard-coding&quot; it like this. I also haven't added HTTPS to the config-server but I assume I will end up having to do this. I'm also not understanding how I can &quot;auto-import&quot; the certificates (if that's how I have to do it) for it to work in production? Importing the self-signed certs to my java only makes sense for my local machine.</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652616191,"post_id":72248013,"comment_id":127644104,"body_markdown":"You need to edit your formatting","body":"You need to edit your formatting"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1652616394,"post_id":72248013,"comment_id":127644145,"body_markdown":"@Stultuske One of their classes extends JButton","body":"@Stultuske One of their classes extends JButton"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652616531,"post_id":72248013,"comment_id":127644165,"body_markdown":"You can&#39;t override the `x`/`y` properties of the `JButton`, these are used as part of the layout workflow","body":"You can&#39;t override the <code>x</code>/<code>y</code> properties of the <code>JButton</code>, these are used as part of the layout workflow"},{"owner":{"account_id":24634306,"reputation":52,"user_id":18533163,"display_name":"Jonas"},"score":0,"creation_date":1652616576,"post_id":72248013,"comment_id":127644177,"body_markdown":"then how could i fix it?","body":"then how could i fix it?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652616844,"creation_date":1652616624,"answer_id":72248125,"question_id":72248013,"body_markdown":"You can&#39;t override `getX` and `getY` like this, these properties are used by the layout managers to layout the components.\r\n\r\nInstead, maybe make use of `Point` to store the virtual or &quot;cell&quot; position\r\n\r\n    public static abstract class Piece extends JButton {\r\n        private final boolean isWhite;\r\n        private Point cell;\r\n\r\n        public Piece(int x, int y, boolean isWhite) {\r\n            cell = new Point(x, y);\r\n            this.isWhite = isWhite;\r\n        }\r\n\r\n        public Point getCell() {\r\n            return cell;\r\n        }\r\n\r\n        public boolean isWhite() {\r\n            return isWhite;\r\n        }\r\n\r\n        public boolean canMoveTo(int toX, int toY) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Point;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new BoardPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class BoardPane extends JPanel {\r\n            private static final int width = 8;\r\n            private static final int height = 8;\r\n\r\n            private Piece clicked;\r\n\r\n            private Piece[][] fields = new Piece[width][height];\r\n\r\n            public BoardPane() {\r\n                setBackground(Color.blue.darker());\r\n                setLayout(new GridLayout(8, 8));\r\n                buildBoard();\r\n            }\r\n\r\n            protected void buildBoard() {\r\n                for (int y = 0; y &lt; fields.length; y++) {\r\n                    for (int x = 0; x &lt; fields[y].length; x++) {\r\n\r\n                        if (y == 1) {\r\n                            fields[y][x] = new Pawn(x, y, true); //2nd or 7th row is filled with pawns\r\n                        } else if (y == 6) {\r\n                            fields[y][x] = new Pawn(x, y, false);\r\n                        } else {\r\n                            fields[y][x] = new Empty(x,y,true);\r\n                        }\r\n\r\n                        fields[y][x].addActionListener(e -&gt; {\r\n                            var p = (Piece) e.getSource();\r\n                            System.out.println(p.getCell());\r\n                        });\r\n\r\n                        add(fields[y][x]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public static abstract class Piece extends JButton {\r\n            private final boolean isWhite;\r\n            private Point cell;\r\n\r\n            public Piece(int x, int y, boolean isWhite) {\r\n                cell = new Point(x, y);\r\n                this.isWhite = isWhite;\r\n            }\r\n\r\n            public Point getCell() {\r\n                return cell;\r\n            }\r\n\r\n            public boolean isWhite() {\r\n                return isWhite;\r\n            }\r\n\r\n            public boolean canMoveTo(int toX, int toY) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        public static class Pawn extends Piece {\r\n            public Pawn(int x, int y, boolean isWhite) {\r\n                super(x, y, isWhite);\r\n                this.setText(isWhite ? &quot;Pawn&quot; : &quot;pawn&quot;);\r\n            }\r\n        }\r\n\r\n        public static class Empty extends Piece {\r\n            public Empty(int x, int y, boolean isWhite) {\r\n                super(x, y, isWhite);\r\n                this.setText(&quot;X&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5lNHz.png","title":"JButtons not showing up after initialisation [Java Swing]","body":"<p>You can't override <code>getX</code> and <code>getY</code> like this, these properties are used by the layout managers to layout the components.</p>\n<p>Instead, maybe make use of <code>Point</code> to store the virtual or &quot;cell&quot; position</p>\n<pre><code>public static abstract class Piece extends JButton {\n    private final boolean isWhite;\n    private Point cell;\n\n    public Piece(int x, int y, boolean isWhite) {\n        cell = new Point(x, y);\n        this.isWhite = isWhite;\n    }\n\n    public Point getCell() {\n        return cell;\n    }\n\n    public boolean isWhite() {\n        return isWhite;\n    }\n\n    public boolean canMoveTo(int toX, int toY) {\n        return true;\n    }\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/5lNHz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5lNHz.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport java.awt.GridLayout;\nimport java.awt.Point;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new BoardPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class BoardPane extends JPanel {\n        private static final int width = 8;\n        private static final int height = 8;\n\n        private Piece clicked;\n\n        private Piece[][] fields = new Piece[width][height];\n\n        public BoardPane() {\n            setBackground(Color.blue.darker());\n            setLayout(new GridLayout(8, 8));\n            buildBoard();\n        }\n\n        protected void buildBoard() {\n            for (int y = 0; y &lt; fields.length; y++) {\n                for (int x = 0; x &lt; fields[y].length; x++) {\n\n                    if (y == 1) {\n                        fields[y][x] = new Pawn(x, y, true); //2nd or 7th row is filled with pawns\n                    } else if (y == 6) {\n                        fields[y][x] = new Pawn(x, y, false);\n                    } else {\n                        fields[y][x] = new Empty(x,y,true);\n                    }\n\n                    fields[y][x].addActionListener(e -&gt; {\n                        var p = (Piece) e.getSource();\n                        System.out.println(p.getCell());\n                    });\n\n                    add(fields[y][x]);\n                }\n            }\n        }\n    }\n\n    public static abstract class Piece extends JButton {\n        private final boolean isWhite;\n        private Point cell;\n\n        public Piece(int x, int y, boolean isWhite) {\n            cell = new Point(x, y);\n            this.isWhite = isWhite;\n        }\n\n        public Point getCell() {\n            return cell;\n        }\n\n        public boolean isWhite() {\n            return isWhite;\n        }\n\n        public boolean canMoveTo(int toX, int toY) {\n            return true;\n        }\n    }\n\n    public static class Pawn extends Piece {\n        public Pawn(int x, int y, boolean isWhite) {\n            super(x, y, isWhite);\n            this.setText(isWhite ? &quot;Pawn&quot; : &quot;pawn&quot;);\n        }\n    }\n\n    public static class Empty extends Piece {\n        public Empty(int x, int y, boolean isWhite) {\n            super(x, y, isWhite);\n            this.setText(&quot;X&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24634306,"reputation":52,"user_id":18533163,"display_name":"Jonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72248125,"answer_count":1,"score":1,"last_activity_date":1652711122,"creation_date":1652615664,"question_id":72248013,"body_markdown":"I know there are super many questions here on stack overflow about JElements not showing up, all because someone forgot to add a `setVisible(true)` at the end of the constructor. But at least I belive my problem is something different. I am currently creating a chess-game for college, and for that I have the\r\n\r\n- Game class: here it all comes together\r\n- the abstract Piece class extending JButton in package Pieces\r\n- and a class for Each Piece (Rook, Bishop, ...) each extending Piece and being located in the Pieces package\r\n\r\nbefore I write much more and it is a dumb error again, here the code:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport Pieces.*;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Game extends JFrame {\r\n    private static final int width = 8;\r\n    private static final int height = 8;\r\n\r\n    private static Piece clicked;\r\n\r\n    private static Piece[][] fields = new Piece[width][height];\r\n\r\n    private JPanel main = new JPanel();\r\n\r\n    public static void init(JPanel g) {\r\n        for (int y = 0; y &lt; fields.length; y++) {\r\n            for (int x = 0;  x &lt; fields[y].length; x++) {\r\n\r\n                if (y == 1) fields[y][x] = new Pawn(x, y, true); //2nd or 7th row is filled with pawns\r\n                else if (y == 6) fields[y][x] = new Pawn(x, y, false);\r\n                else {\r\n                    fields[y][x] = new Empty(x,y,true);\r\n                }\r\n\r\n                fields[y][x].addActionListener(e -&gt; {\r\n                    var p = (Piece) e.getSource();\r\n                    System.out.println(p.getX() + p.getY());\r\n                });\r\n\r\n                g.add(fields[y][x]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public Game() {\r\n        main.setBackground(Color.blue.darker());\r\n        main.setLayout(new GridLayout(8,8));\r\n        this.setSize(800,800);\r\n\r\n        init(main);\r\n        this.add(main);\r\n\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var g = new Game();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage Pieces;\r\n\r\nimport javax.swing.*;\r\n\r\npublic abstract class Piece extends JButton {\r\n    private int x;\r\n    private int y;\r\n    private final boolean isWhite;\r\n\r\n    public Piece(int x, int y, boolean isWhite) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.isWhite = isWhite;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public boolean isWhite() {\r\n        return isWhite;\r\n    }\r\n\r\n    public boolean canMoveTo(int toX, int toY) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\neach Piece-extending class is setup exactly like this:\r\n```java\r\npackage Pieces;\r\n\r\nimport java.awt.*;\r\n\r\npublic class Pawn extends Piece{\r\n    public Pawn(int x, int y, boolean isWhite) {\r\n        super(x, y, isWhite);\r\n        this.setText(isWhite ? &quot;Pawn&quot; : &quot;pawn&quot;);\r\n    }\r\n}\r\n```\r\n\r\nExpected behavior:\r\n\r\n - open a window with 64 JButtons in it, displaying the name of the Piece they represent (there is indeed an Empty-class for non-used fields)\r\n\r\nActual behavior:\r\n\r\n- opens a window with one button at the top left but first when I go over the fields with my cursor the buttons start appearing \r\n\r\n - state 1: [state 1][1]\r\n - state 2: [state 2][1]\r\n\r\n  [1]: https://i.stack.imgur.com/V9mRl.png","title":"JButtons not showing up after initialisation [Java Swing]","body":"<p>I know there are super many questions here on stack overflow about JElements not showing up, all because someone forgot to add a <code>setVisible(true)</code> at the end of the constructor. But at least I belive my problem is something different. I am currently creating a chess-game for college, and for that I have the</p>\n<ul>\n<li>Game class: here it all comes together</li>\n<li>the abstract Piece class extending JButton in package Pieces</li>\n<li>and a class for Each Piece (Rook, Bishop, ...) each extending Piece and being located in the Pieces package</li>\n</ul>\n<p>before I write much more and it is a dumb error again, here the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport Pieces.*;\n\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Game extends JFrame {\n    private static final int width = 8;\n    private static final int height = 8;\n\n    private static Piece clicked;\n\n    private static Piece[][] fields = new Piece[width][height];\n\n    private JPanel main = new JPanel();\n\n    public static void init(JPanel g) {\n        for (int y = 0; y &lt; fields.length; y++) {\n            for (int x = 0;  x &lt; fields[y].length; x++) {\n\n                if (y == 1) fields[y][x] = new Pawn(x, y, true); //2nd or 7th row is filled with pawns\n                else if (y == 6) fields[y][x] = new Pawn(x, y, false);\n                else {\n                    fields[y][x] = new Empty(x,y,true);\n                }\n\n                fields[y][x].addActionListener(e -&gt; {\n                    var p = (Piece) e.getSource();\n                    System.out.println(p.getX() + p.getY());\n                });\n\n                g.add(fields[y][x]);\n            }\n        }\n    }\n\n    public Game() {\n        main.setBackground(Color.blue.darker());\n        main.setLayout(new GridLayout(8,8));\n        this.setSize(800,800);\n\n        init(main);\n        this.add(main);\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        var g = new Game();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package Pieces;\n\nimport javax.swing.*;\n\npublic abstract class Piece extends JButton {\n    private int x;\n    private int y;\n    private final boolean isWhite;\n\n    public Piece(int x, int y, boolean isWhite) {\n        this.x = x;\n        this.y = y;\n        this.isWhite = isWhite;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public boolean isWhite() {\n        return isWhite;\n    }\n\n    public boolean canMoveTo(int toX, int toY) {\n        return true;\n    }\n}\n</code></pre>\n<p>each Piece-extending class is setup exactly like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Pieces;\n\nimport java.awt.*;\n\npublic class Pawn extends Piece{\n    public Pawn(int x, int y, boolean isWhite) {\n        super(x, y, isWhite);\n        this.setText(isWhite ? &quot;Pawn&quot; : &quot;pawn&quot;);\n    }\n}\n</code></pre>\n<p>Expected behavior:</p>\n<ul>\n<li>open a window with 64 JButtons in it, displaying the name of the Piece they represent (there is indeed an Empty-class for non-used fields)</li>\n</ul>\n<p>Actual behavior:</p>\n<ul>\n<li><p>opens a window with one button at the top left but first when I go over the fields with my cursor the buttons start appearing</p>\n</li>\n<li><p>state 1: <a href=\"https://i.stack.imgur.com/V9mRl.png\" rel=\"nofollow noreferrer\">state 1</a></p>\n</li>\n<li><p>state 2: <a href=\"https://i.stack.imgur.com/V9mRl.png\" rel=\"nofollow noreferrer\">state 2</a></p>\n</li>\n</ul>\n"},{"tags":["java","xsd","jaxb","xjc"],"answers":[{"tags":[],"owner":{"account_id":16639425,"reputation":51,"user_id":12025347,"display_name":"mozziemoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652710812,"creation_date":1652710812,"answer_id":72260729,"question_id":34346111,"body_markdown":"How about:\r\n\r\n    &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;hostInfo&#39;]/xs:attribute[@name=&#39;hostInfoId&#39;]&quot;&gt;\r\n\r\nInstead of \r\n\r\n    &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;hostInfo&#39;]/@hostInfoId&quot;&gt;\r\n\r\n    ","title":"jaxb, external binding of attribute of a given element","body":"<p>How about:</p>\n<pre><code>&lt;jxb:bindings node=&quot;//xs:element[@name='hostInfo']/xs:attribute[@name='hostInfoId']&quot;&gt;\n</code></pre>\n<p>Instead of</p>\n<pre><code>&lt;jxb:bindings node=&quot;//xs:element[@name='hostInfo']/@hostInfoId&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":7491449,"reputation":11,"user_id":5693000,"display_name":"Ewest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652710812,"creation_date":1450394425,"question_id":34346111,"body_markdown":"I am trying to coerce the xjc compiler to produce code that will allow me to bind a set of accessor methods to an attribute of an element.\r\n\r\nFor example the schema contains:\r\n\r\n       &lt;xsd:complexType name=&quot;HostInfo&quot;&gt;\r\n             &lt;xsd:annotation&gt;\r\n                    &lt;xsd:documentation&gt;Host configuration &lt;/xsd:documentation&gt;\r\n                &lt;/xsd:annotation&gt;\r\n            &lt;xsd:attribute name=&quot;hostInfoId&quot; type=&quot;svtosz:UUID&quot; use=&quot;required&quot; /&gt;\r\n            &lt;xsd:attribute name=&quot;mgmtServerId&quot; type=&quot;svtosz:UUID&quot; use=&quot;required&quot; /&gt;\r\n            &lt;xsd:attribute name=&quot;hostInfoType&quot; type=&quot;svtosz:HostInfoType&quot;\r\n                use=&quot;required&quot; /&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    \r\n         ....\r\n              &lt;xsd:element name=&quot;hostInfo&quot; type=&quot;svtosz:HostInfo&quot;\r\n\r\nHow do I reference the hostInfoId attribute of the hostInfo element in an external binding file?\r\n\r\nI have tried (beaucoup) variations of:\r\n\r\n    &lt;jxb:bindings xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; version=&quot;1.0&quot;&gt;\r\n      &lt;jxb:bindings schemaLocation=&quot;hostInformation.xsd&quot; &gt;\r\n        &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;hostInfo&#39;]/@hostInfoId&quot;&gt;\r\n            &lt;jxb:property&gt;\r\n                &lt;jxb:baseType&gt;\r\n                    &lt;jxb:javaType name=&quot;java.lang.String&quot;\r\n                        parseMethod=&quot;HostId.parseHostId&quot; printMethod=&quot;HostId.printHostId&quot; /&gt;\r\n                &lt;/jxb:baseType&gt;\r\n            &lt;/jxb:property&gt;\r\n            &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n\r\nAlas there has been no joy in Mudville. I also tried to set up a binding for the base type svtos:UUID, but gave up on that. That type is declared in a separate XSD file that is included by the main XSD schema file.\r\n\r\nSuggestions? \r\n\r\nThanks.\r\n\r\n--Eric\r\n","title":"jaxb, external binding of attribute of a given element","body":"<p>I am trying to coerce the xjc compiler to produce code that will allow me to bind a set of accessor methods to an attribute of an element.</p>\n\n<p>For example the schema contains:</p>\n\n<pre><code>   &lt;xsd:complexType name=\"HostInfo\"&gt;\n         &lt;xsd:annotation&gt;\n                &lt;xsd:documentation&gt;Host configuration &lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;xsd:attribute name=\"hostInfoId\" type=\"svtosz:UUID\" use=\"required\" /&gt;\n        &lt;xsd:attribute name=\"mgmtServerId\" type=\"svtosz:UUID\" use=\"required\" /&gt;\n        &lt;xsd:attribute name=\"hostInfoType\" type=\"svtosz:HostInfoType\"\n            use=\"required\" /&gt;\n    &lt;/xsd:complexType&gt;\n\n     ....\n          &lt;xsd:element name=\"hostInfo\" type=\"svtosz:HostInfo\"\n</code></pre>\n\n<p>How do I reference the hostInfoId attribute of the hostInfo element in an external binding file?</p>\n\n<p>I have tried (beaucoup) variations of:</p>\n\n<pre><code>&lt;jxb:bindings xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\" version=\"1.0\"&gt;\n  &lt;jxb:bindings schemaLocation=\"hostInformation.xsd\" &gt;\n    &lt;jxb:bindings node=\"//xs:element[@name='hostInfo']/@hostInfoId\"&gt;\n        &lt;jxb:property&gt;\n            &lt;jxb:baseType&gt;\n                &lt;jxb:javaType name=\"java.lang.String\"\n                    parseMethod=\"HostId.parseHostId\" printMethod=\"HostId.printHostId\" /&gt;\n            &lt;/jxb:baseType&gt;\n        &lt;/jxb:property&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n\n<p></p>\n\n<p>Alas there has been no joy in Mudville. I also tried to set up a binding for the base type svtos:UUID, but gave up on that. That type is declared in a separate XSD file that is included by the main XSD schema file.</p>\n\n<p>Suggestions? </p>\n\n<p>Thanks.</p>\n\n<p>--Eric</p>\n"},{"tags":["java","tomcat","ivy"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1652640698,"post_id":72250069,"comment_id":127649604,"body_markdown":"I don&#39;t understand why you&#39;re dealing with them yourself.  Tomcat brings them, and you should take whatever it brings with it. Also,  tomcat 8.0 reached its end of life some time ago.  While you&#39;re working on your system, you might want to go with a current version (8.5 or 9)","body":"I don&#39;t understand why you&#39;re dealing with them yourself.  Tomcat brings them, and you should take whatever it brings with it. Also,  tomcat 8.0 reached its end of life some time ago.  While you&#39;re working on your system, you might want to go with a current version (8.5 or 9)"},{"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"score":0,"creation_date":1652693614,"post_id":72250069,"comment_id":127659124,"body_markdown":"&quot;Tomcat brings them&quot; - but they&#39;re only available to my application at runtime (Server container is available during runtime). They need to also be available to my application at compile time from what I understand. Re: updating Tomcat: Yes, I&#39;ll update Tomcat and JDK, but first I want to get this issue settled on an environment I know is working, then I&#39;ll update.","body":"&quot;Tomcat brings them&quot; - but they&#39;re only available to my application at runtime (Server container is available during runtime). They need to also be available to my application at compile time from what I understand. Re: updating Tomcat: Yes, I&#39;ll update Tomcat and JDK, but first I want to get this issue settled on an environment I know is working, then I&#39;ll update."}],"answers":[{"tags":[],"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652710552,"creation_date":1652710552,"answer_id":72260655,"question_id":72250069,"body_markdown":"When I had started the project, I clumsily placed some dependency jars in `JAVA-HOME/jre/lib/ext`.\r\n\r\nRemoving these jars solved the issue. They had dependencies bundled with them that included `jsp-api.jar` or `servlet-api.jar`.","title":"Jars in Tomcat/lib not recognized at runtime","body":"<p>When I had started the project, I clumsily placed some dependency jars in <code>JAVA-HOME/jre/lib/ext</code>.</p>\n<p>Removing these jars solved the issue. They had dependencies bundled with them that included <code>jsp-api.jar</code> or <code>servlet-api.jar</code>.</p>\n"}],"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652710552,"creation_date":1652631455,"question_id":72250069,"body_markdown":"In preparation for updating my JDK, I would like to remove the `servlet-api`, `jsp-api` and `el-api` jars from the `JAVA_HOME/jre/lib/ext` directory and instead add them to the classpath as is [recommended][1].\r\n\r\nI attempt to do this by adding these dependencies with the provided scope.\r\n\r\nHowever, when I deploy my web application (locally), I still get a `ClassNotFoundException`, which I think is caused by the 3 missing jars (when I include them in the old jdk location, this exception disappears). \r\n\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; javax.servlet.jsp.tagext.BodyTagSupport\r\n\r\nI double checked to make sure that the j2ee classpath is well defined for the project. From my understanding, the application should have access to the 3 jars from my server container (Tomcat) at runtime. Indeed, it seems that this classpath was well defined:\r\n\r\n    j2ee.platform.classpath\r\n    j2ee.server.home\r\n\r\nare both defined in my project properties file.\r\n\r\nAlso, as far as I know I&#39;m not including any of these jars in `WEB-INF/lib` so I don&#39;t think that&#39;s what&#39;s causing the issue either. I do define the jars as dependencies but I give them the `provided` scope, with versions for each jar as dictated by this chart: https://tomcat.apache.org/whichversion.html (for Tomcat version 8.0.43).\r\n\r\nI&#39;m building the application with `ant` on Netbeans.\r\n\r\nAre there any other suggestions for why these jar files are not recognized at runtime?\r\n\r\n  [1]: https://stackoverflow.com/questions/51260167/where-to-put-external-jars-in-jdk10","title":"Jars in Tomcat/lib not recognized at runtime","body":"<p>In preparation for updating my JDK, I would like to remove the <code>servlet-api</code>, <code>jsp-api</code> and <code>el-api</code> jars from the <code>JAVA_HOME/jre/lib/ext</code> directory and instead add them to the classpath as is <a href=\"https://stackoverflow.com/questions/51260167/where-to-put-external-jars-in-jdk10\">recommended</a>.</p>\n<p>I attempt to do this by adding these dependencies with the provided scope.</p>\n<p>However, when I deploy my web application (locally), I still get a <code>ClassNotFoundException</code>, which I think is caused by the 3 missing jars (when I include them in the old jdk location, this exception disappears).</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException:\njavax.servlet.jsp.tagext.BodyTagSupport</p>\n</blockquote>\n<p>I double checked to make sure that the j2ee classpath is well defined for the project. From my understanding, the application should have access to the 3 jars from my server container (Tomcat) at runtime. Indeed, it seems that this classpath was well defined:</p>\n<pre><code>j2ee.platform.classpath\nj2ee.server.home\n</code></pre>\n<p>are both defined in my project properties file.</p>\n<p>Also, as far as I know I'm not including any of these jars in <code>WEB-INF/lib</code> so I don't think that's what's causing the issue either. I do define the jars as dependencies but I give them the <code>provided</code> scope, with versions for each jar as dictated by this chart: <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/whichversion.html</a> (for Tomcat version 8.0.43).</p>\n<p>I'm building the application with <code>ant</code> on Netbeans.</p>\n<p>Are there any other suggestions for why these jar files are not recognized at runtime?</p>\n"},{"tags":["java","string","methods","circular-dependency"],"comments":[{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":0,"creation_date":1574500024,"post_id":59005945,"comment_id":104261338,"body_markdown":"Your addFirst method is accepting Node objects, not Strings.","body":"Your addFirst method is accepting Node objects, not Strings."}],"answers":[{"tags":[],"owner":{"account_id":10926275,"reputation":234,"user_id":8030917,"display_name":"Norbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1574508424,"creation_date":1574508424,"answer_id":59007111,"question_id":59005945,"body_markdown":"sorry - a lot of things are wrong. Here is the code pleas study the difference to your. To initialize private class variables you must use the constructor.  Your addFirst() method must take a String instead of a Node object. The output is:\r\n\r\n-Examine node &#39;place&#39;\r\n-Examine node &#39;a better&#39;\r\n-Examine node &#39;will&#39;\r\n-First duplicate is &#39;will&#39;\r\n-true\r\n\r\n    \r\n    public class LinkedTest   // Realy want a circulare linked list or a normal linked list ???\r\n    {\r\n        private MyNode head; // head node of the list (or null if empty)\r\n        private MyNode tail; // last node of the list (or null if empty)\r\n        private int size; // number of nodes in the list   \r\n       \r\n    private class MyNode&lt;&gt;  // INNER class\r\n    { \r\n        private String word; // reference to the element stored at this node\r\n        private MyNode next; // reference to the subsequent node in the list\r\n         \r\n        public MyNode(String w, MyNode n) \r\n         { \r\n           word = w;\r\n           next = n;\r\n         } \r\n    // The outer class has access to the variables of the inner\r\n    //     public String getWord( ) { return word; } \r\n    //     public MyNode&lt;String&gt; getNext( ) { return next; } \r\n    //     public void setNext(MyNode&lt;String&gt; n) { next = n; } \r\n    } // end of inner class\r\n    \r\n    \r\n    \r\n    public LinkedTest( ) { head = null; tail=null; size=0; } // constructor\r\n    public int size( ) { return size; } \r\n    public boolean isEmpty( ) { return size == 0; } \r\n    public MyNode getHead( ) { return head; }\r\n        \r\n    public void addFirst(String w) \r\n    {\r\n        MyNode n = new MyNode(w,null);\r\n         if (head == null)\r\n         {  head = n; tail = n; \r\n         } else\r\n         {\r\n            //n.setNext(head);\r\n            n.next = head;\r\n            head = n;\r\n         }\r\n         size++;\r\n    } \r\n    public void addLast(String w)\r\n    {\r\n          MyNode n = new MyNode(w,null);\r\n          if (tail != null)\r\n          {   tail.next = n; // tail.setNext(w);\r\n              tail = n;\r\n          } else\r\n          {  head = n;\r\n             tail = n;\r\n          }\r\n          size++;\r\n    } \r\n    \r\n     public String last( ) \r\n     { // returns (but does not remove) the last element\r\n          return  tail == null ? null : tail.word;\r\n     }\r\n    \r\n    /**\r\n     * Checks the linked list for at least one duplicate\r\n     * @return true if a duplicte was found, false otherwise\r\n     */\r\n    public boolean checkDuplicate() \r\n    {\r\n        String str;\r\n            \r\n        for (MyNode a = head;a != null; a = a.next)\r\n        { \r\n             str = a.word;\r\n             System.out.println(&quot;Examine node &#39;&quot; + str + &quot;&#39;&quot;);\r\n             \r\n             for (MyNode b = a.next;b != null;b = b.next) // scan the list behind &#39;a&#39;\r\n             {\r\n                 if (str.equals(b.word))\r\n                 {    \r\n                     System.out.println(&quot;First duplicate is &#39;&quot; + str + &quot;&#39;&quot;);\r\n                     return true;\r\n                 }\r\n             }\r\n        }\r\n        return false;\r\n    } //---------------- checkDuplicate\r\n} // end of class LinkedTest","title":"How to insert a string in a circular linked list (i want to check the duplicate words in the circular linked list)?","body":"<p>sorry - a lot of things are wrong. Here is the code pleas study the difference to your. To initialize private class variables you must use the constructor.  Your addFirst() method must take a String instead of a Node object. The output is:</p>\n\n<p>-Examine node 'place'\n-Examine node 'a better'\n-Examine node 'will'\n-First duplicate is 'will'\n-true</p>\n\n<pre><code>public class LinkedTest   // Realy want a circulare linked list or a normal linked list ???\n{\n    private MyNode head; // head node of the list (or null if empty)\n    private MyNode tail; // last node of the list (or null if empty)\n    private int size; // number of nodes in the list   \n\nprivate class MyNode&lt;&gt;  // INNER class\n{ \n    private String word; // reference to the element stored at this node\n    private MyNode next; // reference to the subsequent node in the list\n\n    public MyNode(String w, MyNode n) \n     { \n       word = w;\n       next = n;\n     } \n// The outer class has access to the variables of the inner\n//     public String getWord( ) { return word; } \n//     public MyNode&lt;String&gt; getNext( ) { return next; } \n//     public void setNext(MyNode&lt;String&gt; n) { next = n; } \n} // end of inner class\n\n\n\npublic LinkedTest( ) { head = null; tail=null; size=0; } // constructor\npublic int size( ) { return size; } \npublic boolean isEmpty( ) { return size == 0; } \npublic MyNode getHead( ) { return head; }\n\npublic void addFirst(String w) \n{\n    MyNode n = new MyNode(w,null);\n     if (head == null)\n     {  head = n; tail = n; \n     } else\n     {\n        //n.setNext(head);\n        n.next = head;\n        head = n;\n     }\n     size++;\n} \npublic void addLast(String w)\n{\n      MyNode n = new MyNode(w,null);\n      if (tail != null)\n      {   tail.next = n; // tail.setNext(w);\n          tail = n;\n      } else\n      {  head = n;\n         tail = n;\n      }\n      size++;\n} \n\n public String last( ) \n { // returns (but does not remove) the last element\n      return  tail == null ? null : tail.word;\n }\n\n/**\n * Checks the linked list for at least one duplicate\n * @return true if a duplicte was found, false otherwise\n */\npublic boolean checkDuplicate() \n{\n    String str;\n\n    for (MyNode a = head;a != null; a = a.next)\n    { \n         str = a.word;\n         System.out.println(\"Examine node '\" + str + \"'\");\n\n         for (MyNode b = a.next;b != null;b = b.next) // scan the list behind 'a'\n         {\n             if (str.equals(b.word))\n             {    \n                 System.out.println(\"First duplicate is '\" + str + \"'\");\n                 return true;\n             }\n         }\n    }\n    return false;\n} //---------------- checkDuplicate\n</code></pre>\n\n<p>} // end of class LinkedTest</p>\n"}],"owner":{"account_id":17157640,"reputation":3,"user_id":12418096,"display_name":"Asma 12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59007111,"answer_count":1,"score":0,"last_activity_date":1652710386,"creation_date":1574498476,"question_id":59005945,"body_markdown":"Here is the linked class that I created and I wrote a method that checked if there was a duplicate words in my linked list. I tried to sent the string to the addFirst method but I don&#39;t know why it doesn&#39;t work with me\r\n \r\n    class LinkedList&lt;String&gt; \r\n    { \r\n\r\n \r\n    private class Node&lt;String&gt; \r\n    { \r\n \t      private String word; // reference to the element stored at this node\r\n \t      private Node&lt;String&gt; next; // reference to the subsequent node in the list\r\n \t      public Node(String w, Node&lt;String&gt; n) \r\n \t      { \r\n \t        word = w;\r\n        \tnext = n;\r\n          } \r\n\r\n    \r\n          public String getWord( ) { return word; } \r\n \t      public Node&lt;String&gt; getNext( ) { return next; } \r\n \t      public void setNext(Node&lt;String&gt; n) { next = n; } \r\n \t  } \r\n\r\n     private Node&lt;String&gt; head = null; // head node of the list (or null if empty)\r\n \t private Node&lt;String&gt; tail = null; // last node of the list (or null if empty)\r\n \t private int size = 0; // number of nodes in the list\r\n \t \r\n \t public LinkedList( ) { }\r\n \t public int size( ) { return size; } \r\n \t public boolean isEmpty( ) { return size == 0; } \r\n \t \r\n \t public Node&lt;String&gt; getHead( ) \r\n \t { // returns  the head node\r\n\t   if (isEmpty( )) return null;\r\n \t   return head;\r\n \t } \r\n\r\n \t \r\n \t public void addFirst(Node&lt;String&gt; w) \r\n \t { Node&lt;String&gt; newest;\r\n            newest= w;\r\n            tail.next=newest;\r\n            newest.next=head;\r\n             size++;\r\n     } \r\n     public void addLast(Node&lt;String&gt; w){\r\n           Node&lt;String&gt; newest;\r\n           newest=w;\r\n           tail.next=newest;\r\n           newest.next=head;\r\n                size++;\r\n              \r\n     } \r\n\r\n     public String last( ) \r\n          { // returns (but does not remove) the last element\r\n                 if (isEmpty( )) return null;\r\n             return tail.getWord( );\r\n     }\r\n\t\r\n\t public boolean checkDuplicate(Node&lt;String&gt; w) {\r\n         Node temp;\r\n         for(Node a=tail.next;a !=null;a=a.next){\r\n           temp=a;\r\n           for(Node b=temp.next;b != null;b=b.next){\r\n              if(b.equals(temp.next))\r\n                  return true;\r\n          }\r\n         }\r\n         return false;\r\n       }\r\n    }\r\n\r\n\r\nin the main i can&#39;t insert the words to the circular linked list  \r\n   \r\n    public class Duplicate {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;(); \r\n\t\r\n     \r\n\t\t// the prblem start from here\r\n                list.addFirst(&quot;world&quot;);\r\n                list.addFirst(&quot;world&quot;);\r\n                list.addFirst(&quot;will&quot;);\r\n                list.addFirst(&quot;be&quot;);\r\n                list.addFirst(&quot;will&quot;);\r\n                list.addFirst(&quot;a better&quot;);\r\n                list.addFirst(&quot;place&quot;);\r\n                //to here\r\n                 System.out.println(list.checkDuplicate(list.getHead()));\r\n    }\r\n    }","title":"How to insert a string in a circular linked list (i want to check the duplicate words in the circular linked list)?","body":"<p>Here is the linked class that I created and I wrote a method that checked if there was a duplicate words in my linked list. I tried to sent the string to the addFirst method but I don't know why it doesn't work with me</p>\n\n<pre><code>class LinkedList&lt;String&gt; \n{ \n\n\nprivate class Node&lt;String&gt; \n{ \n      private String word; // reference to the element stored at this node\n      private Node&lt;String&gt; next; // reference to the subsequent node in the list\n      public Node(String w, Node&lt;String&gt; n) \n      { \n        word = w;\n        next = n;\n      } \n\n\n      public String getWord( ) { return word; } \n      public Node&lt;String&gt; getNext( ) { return next; } \n      public void setNext(Node&lt;String&gt; n) { next = n; } \n  } \n\n private Node&lt;String&gt; head = null; // head node of the list (or null if empty)\n private Node&lt;String&gt; tail = null; // last node of the list (or null if empty)\n private int size = 0; // number of nodes in the list\n\n public LinkedList( ) { }\n public int size( ) { return size; } \n public boolean isEmpty( ) { return size == 0; } \n\n public Node&lt;String&gt; getHead( ) \n { // returns  the head node\n   if (isEmpty( )) return null;\n   return head;\n } \n\n\n public void addFirst(Node&lt;String&gt; w) \n { Node&lt;String&gt; newest;\n        newest= w;\n        tail.next=newest;\n        newest.next=head;\n         size++;\n } \n public void addLast(Node&lt;String&gt; w){\n       Node&lt;String&gt; newest;\n       newest=w;\n       tail.next=newest;\n       newest.next=head;\n            size++;\n\n } \n\n public String last( ) \n      { // returns (but does not remove) the last element\n             if (isEmpty( )) return null;\n         return tail.getWord( );\n }\n\n public boolean checkDuplicate(Node&lt;String&gt; w) {\n     Node temp;\n     for(Node a=tail.next;a !=null;a=a.next){\n       temp=a;\n       for(Node b=temp.next;b != null;b=b.next){\n          if(b.equals(temp.next))\n              return true;\n      }\n     }\n     return false;\n   }\n}\n</code></pre>\n\n<p>in the main i can't insert the words to the circular linked list  </p>\n\n<pre><code>public class Duplicate {\n\n/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) {\n    // TODO code application logic here\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;(); \n\n\n    // the prblem start from here\n            list.addFirst(\"world\");\n            list.addFirst(\"world\");\n            list.addFirst(\"will\");\n            list.addFirst(\"be\");\n            list.addFirst(\"will\");\n            list.addFirst(\"a better\");\n            list.addFirst(\"place\");\n            //to here\n             System.out.println(list.checkDuplicate(list.getHead()));\n}\n}\n</code></pre>\n"},{"tags":["java","filter","jtable","tablerowsorter"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1652714192,"post_id":72260612,"comment_id":127666647,"body_markdown":"How about `^ *$`?","body":"How about <code>^ *$</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652734169,"post_id":72260612,"comment_id":127673370,"body_markdown":"`RowFilter.regexFilter(&quot;/^$/&quot;, column)` ← Java regular expressions do not use slashes as delimiters.  That filter will look match a string containing four characters:  slash, caret, dollar sign, slash.  None of them have special meaning in that regular expression.","body":"<code>RowFilter.regexFilter(&quot;&#47;^$&#47;&quot;, column)</code> ← Java regular expressions do not use slashes as delimiters.  That filter will look match a string containing four characters:  slash, caret, dollar sign, slash.  None of them have special meaning in that regular expression."},{"owner":{"account_id":18298155,"reputation":55,"user_id":13323624,"display_name":"TomC"},"score":0,"creation_date":1652798947,"post_id":72260612,"comment_id":127690768,"body_markdown":"Hi David, solution worked perfectly for both cases: &quot;&quot; and &quot; &quot;. Many thanks","body":"Hi David, solution worked perfectly for both cases: &quot;&quot; and &quot; &quot;. Many thanks"}],"owner":{"account_id":18298155,"reputation":55,"user_id":13323624,"display_name":"TomC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652710380,"creation_date":1652710380,"question_id":72260612,"body_markdown":"I have made a java replica of excel&#39;s filter for jtables. It works fine, however, I can&#39;t get empty string filter to work with regexfilter, since adding &quot;&quot; to regexFilter would lead to show all results (also non-empty rows)\r\n\r\nEmpty cells are inserted in the table model as &quot;&quot; or &quot; &quot; via Vector.\r\n\r\nHere&#39;s the current regex filter. Object table is the table inside the pop-up filter.\r\n\r\n        for(int i =0;i&lt; table.getModel().getRowCount();i++) {\t\t\t\r\n\t\t\tString val = String.valueOf(table.getModel().getValueAt(i, 1));\r\n\t\t\t\r\n\t\t\tif(table.getModel().getValueAt(i, 0).equals(true) &amp;&amp; (!val.equals(&quot;&quot;)|| !val.isBlank() || !val.isEmpty() || !val.equals(&quot; &quot;))) {\r\n\t\t\t  \r\n\t\t\t    keywordCheckBox.add(table.getModel().getValueAt(i, 1));\r\n\t\t\t    filters.add(RowFilter.regexFilter((String)table.getModel().getValueAt(i, 1), column));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\telse if(table.getModel().getValueAt(i, 0).equals(true) &amp;&amp; (val.equals(&quot;&quot;)|| val.isBlank() || val.isEmpty() || val.equals(&quot; &quot;))) {\r\n\t\t\t   \r\n\t\t\t    keywordCheckBox.add(table.getModel().getValueAt(i, 1));\r\n\t\t\t    filters.add(RowFilter.regexFilter(&quot;/^$/&quot;, column));\r\n\t\t\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oBZGj.png\r\n\r\n\r\n\r\nWhat&#39;s the regular expression that has to be added to regexfilter to show &quot;&quot; values and &quot; &quot; only?","title":"regex filter show only empty string","body":"<p>I have made a java replica of excel's filter for jtables. It works fine, however, I can't get empty string filter to work with regexfilter, since adding &quot;&quot; to regexFilter would lead to show all results (also non-empty rows)</p>\n<p>Empty cells are inserted in the table model as &quot;&quot; or &quot; &quot; via Vector.</p>\n<p>Here's the current regex filter. Object table is the table inside the pop-up filter.</p>\n<pre><code>    for(int i =0;i&lt; table.getModel().getRowCount();i++) {           \n        String val = String.valueOf(table.getModel().getValueAt(i, 1));\n        \n        if(table.getModel().getValueAt(i, 0).equals(true) &amp;&amp; (!val.equals(&quot;&quot;)|| !val.isBlank() || !val.isEmpty() || !val.equals(&quot; &quot;))) {\n          \n            keywordCheckBox.add(table.getModel().getValueAt(i, 1));\n            filters.add(RowFilter.regexFilter((String)table.getModel().getValueAt(i, 1), column));\n        }\n        \n        \n        else if(table.getModel().getValueAt(i, 0).equals(true) &amp;&amp; (val.equals(&quot;&quot;)|| val.isBlank() || val.isEmpty() || val.equals(&quot; &quot;))) {\n           \n            keywordCheckBox.add(table.getModel().getValueAt(i, 1));\n            filters.add(RowFilter.regexFilter(&quot;/^$/&quot;, column));\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oBZGj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oBZGj.png\" alt=\"enter image description here\" /></a></p>\n<p>What's the regular expression that has to be added to regexfilter to show &quot;&quot; values and &quot; &quot; only?</p>\n"},{"tags":["java","spring","spring-boot","validation","spring-annotations"],"comments":[{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1652372471,"post_id":72218962,"comment_id":127595855,"body_markdown":"Have you tried declaring the `CreateSellerRequestDTO` as a plain class (not a record) and annotate the `username` field with the `@SpecificStringValue` annotation?","body":"Have you tried declaring the <code>CreateSellerRequestDTO</code> as a plain class (not a record) and annotate the <code>username</code> field with the <code>@SpecificStringValue</code> annotation?"},{"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"score":0,"creation_date":1652373045,"post_id":72218962,"comment_id":127596050,"body_markdown":"I haven&#39;t tried it, but shouldn&#39;t I be able to validate with the record type? I had previously verified the record type with the annotations that spring provided.","body":"I haven&#39;t tried it, but shouldn&#39;t I be able to validate with the record type? I had previously verified the record type with the annotations that spring provided."},{"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"score":0,"creation_date":1652373187,"post_id":72218962,"comment_id":127596102,"body_markdown":"Therefore, I should be able to verify the record type with my own annotation.","body":"Therefore, I should be able to verify the record type with my own annotation."},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":1,"creation_date":1652396640,"post_id":72218962,"comment_id":127602914,"body_markdown":"Well, record classes are in fact auto-generated classes with immutable fields and a getter-style method for each field. How do you know where (on a method or a field) is the annotation `@SpecificStringValue` placed? The target of the annotation is only `PARAMETER` so i suspect that the annotation is not propagated to the field (`userName`), which is what will trigger the validation. You should at least try to add `METHOD` and `FIELD` to the annotation targets","body":"Well, record classes are in fact auto-generated classes with immutable fields and a getter-style method for each field. How do you know where (on a method or a field) is the annotation <code>@SpecificStringValue</code> placed? The target of the annotation is only <code>PARAMETER</code> so i suspect that the annotation is not propagated to the field (<code>userName</code>), which is what will trigger the validation. You should at least try to add <code>METHOD</code> and <code>FIELD</code> to the annotation targets"},{"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"score":0,"creation_date":1652697326,"post_id":72218962,"comment_id":127660368,"body_markdown":"You are right.My problem is fixed thank you","body":"You are right.My problem is fixed thank you"},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1652710291,"post_id":72218962,"comment_id":127665028,"body_markdown":"For completeness, i posted an answer for your problem. Please, accept it to mark the question as answered.","body":"For completeness, i posted an answer for your problem. Please, accept it to mark the question as answered."}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652396307,"creation_date":1652396307,"answer_id":72222875,"question_id":72218962,"body_markdown":"Try adding the `org.springframework.boot:spring-boot-starter-validation` dependency to your project.\r\n\r\nBTW, there are multiple problems in your `isValid()` method - you don&#39;t account for the case when the input string is `null` and seem to use `s.isEmpty()` instead of `!s.isEmpty()` ","title":"My custom validation annotation is not working in Spring Boot","body":"<p>Try adding the <code>org.springframework.boot:spring-boot-starter-validation</code> dependency to your project.</p>\n<p>BTW, there are multiple problems in your <code>isValid()</code> method - you don't account for the case when the input string is <code>null</code> and seem to use <code>s.isEmpty()</code> instead of <code>!s.isEmpty()</code></p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652710181,"creation_date":1652710181,"answer_id":72260555,"question_id":72218962,"body_markdown":"Record classes are in fact auto-generated classes with immutable fields and a getter-style method for each field. How do you know where (on a method or a field) is the annotation `@SpecificStringValue` placed? \r\n\r\nThe target of the annotation is only `PARAMETER` so i suspect that the annotation is not propagated to the field (userName), which is what will trigger the validation. You should at least try to add `METHOD` and `FIELD` to the annotation targets ","title":"My custom validation annotation is not working in Spring Boot","body":"<p>Record classes are in fact auto-generated classes with immutable fields and a getter-style method for each field. How do you know where (on a method or a field) is the annotation <code>@SpecificStringValue</code> placed?</p>\n<p>The target of the annotation is only <code>PARAMETER</code> so i suspect that the annotation is not propagated to the field (userName), which is what will trigger the validation. You should at least try to add <code>METHOD</code> and <code>FIELD</code> to the annotation targets</p>\n"}],"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72260555,"answer_count":2,"score":0,"last_activity_date":1652710181,"creation_date":1652372023,"question_id":72218962,"body_markdown":"i have created an annotation that has features such as checking if the entered string is null or at the assigned value.But the annotation doesn&#39;t work. I don&#39;t think it does any validation on the DTO.What am I doing wrong ? I also added the valid annotation on the controller. I don&#39;t think the isValid() function works.\r\n```java\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.*;\r\n\r\nimport static java.lang.annotation.ElementType.PARAMETER;\r\n\r\n@Documented\r\n@Constraint(validatedBy = {SpecificStringValueValidator.class})\r\n@Target( {PARAMETER} )\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface SpecificStringValue {\r\n    //This annotation ensures input is not null and contains no empty strings\r\n    //Also applies maximum minimum control if specified\r\n    //Checks if the input is of length value given.\r\n    int value() default 0;\r\n    int min() default -9999;\r\n    int max() default -9999;\r\n    String message() default &quot;Invalid String&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n```java\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport java.util.Objects;\r\n\r\npublic class SpecificStringValueValidator implements ConstraintValidator&lt;SpecificStringValue,String&gt; {\r\n\r\n    private SpecificStringValue specificValue;\r\n    private boolean status = false;\r\n\r\n    @Override\r\n    public void initialize(SpecificStringValue specificValue) {\r\n        ConstraintValidator.super.initialize(specificValue);\r\n        this.specificValue = specificValue;\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        String str = s;\r\n        String noSpaceStr = str.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\n        //This if block work if it is requested to have a certain length.\r\n        if(specificValue.value() != 0){\r\n            //Check does the string contain a space character?\r\n            if(noSpaceStr.length() == s.length() &amp;&amp; s.isEmpty() &amp;&amp; s.length() == specificValue.value()){\r\n                status = true;\r\n            }\r\n        }\r\n        //If there is no specific value, it checks the max min.\r\n        else {\r\n            //Check does the string contain a space character?\r\n            if(noSpaceStr.length() == s.length() &amp;&amp; s.isEmpty() ){\r\n               //Check the minimum number\r\n                if(specificValue.min() != -9999){\r\n                    if(s.length() &gt;= specificValue.min()){\r\n                        status = true;\r\n                    }\r\n                }\r\n                //Check the maximum number\r\n                if(specificValue.max() != -9999){\r\n                    if(s.length() &lt;= specificValue.max()){\r\n                        status = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return status;\r\n    }\r\n}\r\n```\r\n```java\r\npublic record CreateSellerRequestDTO(\r\n@SpecificStringValue(value = 5,message = &quot;Username cant be null&quot;) userName){}\r\n```\r\n```java\r\n@PostMapping\r\n    public ResponseEntity&lt;?&gt; create(@RequestBody @Valid CreateSellerRequestDTO createSellerRequestDTO){\r\n            sellerService.create(createSellerRequestDTO);\r\n            return ResponseEntity.ok().build();\r\n    }\r\n```\r\n\r\n","title":"My custom validation annotation is not working in Spring Boot","body":"<p>i have created an annotation that has features such as checking if the entered string is null or at the assigned value.But the annotation doesn't work. I don't think it does any validation on the DTO.What am I doing wrong ? I also added the valid annotation on the controller. I don't think the isValid() function works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.*;\n\nimport static java.lang.annotation.ElementType.PARAMETER;\n\n@Documented\n@Constraint(validatedBy = {SpecificStringValueValidator.class})\n@Target( {PARAMETER} )\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SpecificStringValue {\n    //This annotation ensures input is not null and contains no empty strings\n    //Also applies maximum minimum control if specified\n    //Checks if the input is of length value given.\n    int value() default 0;\n    int min() default -9999;\n    int max() default -9999;\n    String message() default &quot;Invalid String&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.util.Objects;\n\npublic class SpecificStringValueValidator implements ConstraintValidator&lt;SpecificStringValue,String&gt; {\n\n    private SpecificStringValue specificValue;\n    private boolean status = false;\n\n    @Override\n    public void initialize(SpecificStringValue specificValue) {\n        ConstraintValidator.super.initialize(specificValue);\n        this.specificValue = specificValue;\n    }\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        String str = s;\n        String noSpaceStr = str.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n\n        //This if block work if it is requested to have a certain length.\n        if(specificValue.value() != 0){\n            //Check does the string contain a space character?\n            if(noSpaceStr.length() == s.length() &amp;&amp; s.isEmpty() &amp;&amp; s.length() == specificValue.value()){\n                status = true;\n            }\n        }\n        //If there is no specific value, it checks the max min.\n        else {\n            //Check does the string contain a space character?\n            if(noSpaceStr.length() == s.length() &amp;&amp; s.isEmpty() ){\n               //Check the minimum number\n                if(specificValue.min() != -9999){\n                    if(s.length() &gt;= specificValue.min()){\n                        status = true;\n                    }\n                }\n                //Check the maximum number\n                if(specificValue.max() != -9999){\n                    if(s.length() &lt;= specificValue.max()){\n                        status = true;\n                    }\n                }\n            }\n        }\n        return status;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record CreateSellerRequestDTO(\n@SpecificStringValue(value = 5,message = &quot;Username cant be null&quot;) userName){}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n    public ResponseEntity&lt;?&gt; create(@RequestBody @Valid CreateSellerRequestDTO createSellerRequestDTO){\n            sellerService.create(createSellerRequestDTO);\n            return ResponseEntity.ok().build();\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1652710111,"post_id":72260521,"comment_id":127664974,"body_markdown":"What is your assertion?","body":"What is your assertion?"},{"owner":{"account_id":25304427,"reputation":5,"user_id":19128193,"display_name":"user1233"},"score":0,"creation_date":1652710159,"post_id":72260521,"comment_id":127664995,"body_markdown":"There is none at the moment but I think a good assertion would be to check if the file contents are equal or not.","body":"There is none at the moment but I think a good assertion would be to check if the file contents are equal or not."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652710385,"post_id":72260521,"comment_id":127665057,"body_markdown":"Right now you overwrite the file immediately. For a unit test you also don&#39;t want to rely on any URL which might not be available when the test runs. You want to &quot;host&quot; the file yourself. Yet, this method would not require any test in my opinion, as you aren&#39;t really doing anything other than converting parameters - its not business logic","body":"Right now you overwrite the file immediately. For a unit test you also don&#39;t want to rely on any URL which might not be available when the test runs. You want to &quot;host&quot; the file yourself. Yet, this method would not require any test in my opinion, as you aren&#39;t really doing anything other than converting parameters - its not business logic"}],"owner":{"account_id":25304427,"reputation":5,"user_id":19128193,"display_name":"user1233"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652710110,"creation_date":1652709927,"question_id":72260521,"body_markdown":"How can I write the unit test using JUnit and Mockito for a method as simple as the following\r\n```\r\npublic class FileUtil {\r\n    public void copyURLToFile(String url, String filepath) {\r\n        try {\r\n            File file = new File(filepath);\r\n            FileUtils.copyURLToFile(new URL(url), file);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is what I have written but I&#39;m not sure if it&#39;s right or not.\r\n\r\n```\r\n    public class FileUtilTest {\r\n    private static final String TEST_URL = &quot;http://www.test_url.com&quot;;\r\n\r\n    private static final String FILEPATH = &quot;tst/test_files/test_file.txt&quot;;\r\n\r\n    FileUtil fileUtil;\r\n    @Test\r\n    public void copyURLToFileTest() throws IOException {\r\n        File file = new File(FILEPATH);\r\n        FileUtils.copyURLToFile(new URL(TEST_URL), file);\r\n        fileUtil.copyURLToFile(TEST_URL,FILEPATH);\r\n    }\r\n}\r\n```\r\nCan someone please advice?","title":"JUnit and Mockito test for FileUtils.copyURLToFile","body":"<p>How can I write the unit test using JUnit and Mockito for a method as simple as the following</p>\n<pre><code>public class FileUtil {\n    public void copyURLToFile(String url, String filepath) {\n        try {\n            File file = new File(filepath);\n            FileUtils.copyURLToFile(new URL(url), file);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Here is what I have written but I'm not sure if it's right or not.</p>\n<pre><code>    public class FileUtilTest {\n    private static final String TEST_URL = &quot;http://www.test_url.com&quot;;\n\n    private static final String FILEPATH = &quot;tst/test_files/test_file.txt&quot;;\n\n    FileUtil fileUtil;\n    @Test\n    public void copyURLToFileTest() throws IOException {\n        File file = new File(FILEPATH);\n        FileUtils.copyURLToFile(new URL(TEST_URL), file);\n        fileUtil.copyURLToFile(TEST_URL,FILEPATH);\n    }\n}\n</code></pre>\n<p>Can someone please advice?</p>\n"},{"tags":["java","android","jar","base64"],"comments":[{"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"score":2,"creation_date":1313643932,"post_id":7102605,"comment_id":8506500,"body_markdown":"Don&#39;t use non-public API. Read this thread for more details.\n\n\n http://stackoverflow.com/questions/5549464/import-sun-misc-base64encoder-got-error-in-eclipse/5549512#5549512","body":"Don&#39;t use non-public API. Read this thread for more details.    <a href=\"http://stackoverflow.com/questions/5549464/import-sun-misc-base64encoder-got-error-in-eclipse/5549512#5549512\" title=\"import sun misc base64encoder got error in eclipse\">stackoverflow.com/questions/5549464/&hellip;</a>"},{"owner":{"account_id":462465,"reputation":4966,"user_id":864787,"accept_rate":77,"display_name":"Santhosh"},"score":0,"creation_date":1313646629,"post_id":7102605,"comment_id":8506917,"body_markdown":"I&#39;am new to android. Could you please explain me where i&#39;am wrong? How can i encrypt my string using that class?","body":"I&#39;am new to android. Could you please explain me where i&#39;am wrong? How can i encrypt my string using that class?"},{"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"score":2,"creation_date":1313647526,"post_id":7102605,"comment_id":8507045,"body_markdown":"Encryption is not encoding. To do the encoding, you can use the BASE64.The base64 maps 6-bit blocks of binary data into 64 different character representations.","body":"Encryption is not encoding. To do the encoding, you can use the BASE64.The base64 maps 6-bit blocks of binary data into 64 different character representations."},{"owner":{"account_id":462465,"reputation":4966,"user_id":864787,"accept_rate":77,"display_name":"Santhosh"},"score":0,"creation_date":1313647915,"post_id":7102605,"comment_id":8507105,"body_markdown":"okay. but i have to encrypt my data. How can i encrypt ?","body":"okay. but i have to encrypt my data. How can i encrypt ?"}],"answers":[{"tags":[],"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1652709953,"creation_date":1313650992,"answer_id":7103586,"question_id":7102605,"body_markdown":"Don&#39;t use `sun.*` classes. For Base64 in Android, use its [native class][1] or add a library to your project that does this (Apache commons, etc.). Alternatively just copy the Android source code to your project (in your own package), if you need to use it on pre-2.2 devices.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/Base64.html","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<p>Don't use <code>sun.*</code> classes. For Base64 in Android, use its <a href=\"http://developer.android.com/reference/android/util/Base64.html\" rel=\"nofollow noreferrer\">native class</a> or add a library to your project that does this (Apache commons, etc.). Alternatively just copy the Android source code to your project (in your own package), if you need to use it on pre-2.2 devices.</p>\n"},{"tags":[],"owner":{"account_id":2132598,"reputation":103,"user_id":1893074,"display_name":"user1893074"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365178933,"creation_date":1365178933,"answer_id":15838841,"question_id":7102605,"body_markdown":"It&#39;s available in rt.jar, that comes with Sun java runtimes.\r\n\r\nIn 1.5.0_06 : jre\\lib\\rt.jar","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<p>It's available in rt.jar, that comes with Sun java runtimes.</p>\n\n<p>In 1.5.0_06 : jre\\lib\\rt.jar</p>\n"},{"tags":[],"owner":{"account_id":16636876,"reputation":21,"user_id":12023348,"display_name":"Gagan Chaudhary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577445213,"creation_date":1577441874,"answer_id":59499207,"question_id":7102605,"body_markdown":" 1. Just add rt.jar to the build path of the project from path \r\n `C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.202.08\\jre\\lib` \r\n 2. Copy the jar and paste in the libraries folder of the project.","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<ol>\n<li>Just add rt.jar to the build path of the project from path \n<code>C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.202.08\\jre\\lib</code> </li>\n<li>Copy the jar and paste in the libraries folder of the project.</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user14940971"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614531296,"creation_date":1614531296,"answer_id":66411541,"question_id":7102605,"body_markdown":"Since **Java 8** you can use [`java.util.Base64`][1] class:\r\n```java\r\nbyte[] original = &quot;Base64&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\n// encode\r\nbyte[] toBase64 = Base64.getEncoder().encode(original);\r\n\r\n// decode\r\nbyte[] fromBase64 = Base64.getDecoder().decode(toBase64);\r\n\r\n// output\r\nSystem.out.println(new String(toBase64)); //QmFzZTY0\r\nSystem.out.println(new String(fromBase64)); //Base64\r\nSystem.out.println(Arrays.equals(original, fromBase64)); //true\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How can I convert a string into a GZIP Base64 string?][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n  [2]: https://stackoverflow.com/a/66409602/14940971","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<p>Since <strong>Java 8</strong> you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>java.util.Base64</code></a> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] original = &quot;Base64&quot;.getBytes(StandardCharsets.UTF_8);\n\n// encode\nbyte[] toBase64 = Base64.getEncoder().encode(original);\n\n// decode\nbyte[] fromBase64 = Base64.getDecoder().decode(toBase64);\n\n// output\nSystem.out.println(new String(toBase64)); //QmFzZTY0\nSystem.out.println(new String(fromBase64)); //Base64\nSystem.out.println(Arrays.equals(original, fromBase64)); //true\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/66409602/14940971\">How can I convert a string into a GZIP Base64 string?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632207784,"creation_date":1632207784,"answer_id":69264671,"question_id":7102605,"body_markdown":"For me it is resolved with simple steps, I was using Java11 JDK.As, in this version Base64 classes are deprecated, we are getting this issue. Changing to Java 8 solved the issue.\r\nSteps: In Eclipse,\r\n1. Go to, Windows-&gt; Preferences-&gt; Installed JREs\r\n2. Add-&gt; select JDK8 or lesser version of JDK-&gt;Add\r\n3. Make it as default JDK by selecting this JDK\r\n4. Apply and Close\r\n\r\nAnd, Done.\r\n\r\nThank you.","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<p>For me it is resolved with simple steps, I was using Java11 JDK.As, in this version Base64 classes are deprecated, we are getting this issue. Changing to Java 8 solved the issue.\nSteps: In Eclipse,</p>\n<ol>\n<li>Go to, Windows-&gt; Preferences-&gt; Installed JREs</li>\n<li>Add-&gt; select JDK8 or lesser version of JDK-&gt;Add</li>\n<li>Make it as default JDK by selecting this JDK</li>\n<li>Apply and Close</li>\n</ol>\n<p>And, Done.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":462465,"reputation":4966,"user_id":864787,"accept_rate":77,"display_name":"Santhosh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42488,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7103586,"answer_count":5,"score":6,"last_activity_date":1652709953,"creation_date":1313643787,"question_id":7102605,"body_markdown":"I have some code in my Activity class that uses `sun.misc.BASE64Encoder` class. But it is showing `java.lang.NoClassDefFoundError : sun.misc.BASE64Encoder`. Do I need the `jar`? Where can I download it from?\r\n","title":"How to get the JAR file for sun.misc.BASE64Encoder class?","body":"<p>I have some code in my Activity class that uses <code>sun.misc.BASE64Encoder</code> class. But it is showing <code>java.lang.NoClassDefFoundError : sun.misc.BASE64Encoder</code>. Do I need the <code>jar</code>? Where can I download it from?</p>\n"},{"tags":["java","oop","serialization","file-io","serializable"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1652709129,"post_id":72260260,"comment_id":127664573,"body_markdown":"Hi and welcome, this community will help you for specific problems but not to write your code. You should add some information what you tried and where you stuck","body":"Hi and welcome, this community will help you for specific problems but not to write your code. You should add some information what you tried and where you stuck"},{"owner":{"account_id":23990345,"reputation":1212,"user_id":17976599,"display_name":"Sumit Sharma"},"score":0,"creation_date":1652725794,"post_id":72260260,"comment_id":127670783,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":21516220,"reputation":47,"user_id":15858035,"display_name":"FRS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652709651,"creation_date":1652709651,"answer_id":72260439,"question_id":72260260,"body_markdown":"As I can see , You use List from which you want to delete element,\r\nIn Java if you want to delete element you need to provide its id ,\r\nSyntax :\r\n\r\n    StudentList.remove(idStudent)\r\n\r\nfor you i think you want to find a way to get the ID of the student you want to delete this is a way:\r\n\r\n        private static void deleteStudent ()   {\r\n        System.out.println(&quot;\\nEnter ID of the student you want to delete &quot;);\r\n        idStudent = in.nextInt();\r\n        for( Student st : stu){\r\n            if(st.getID()==idStudent){\r\n                stu.remove(idStudent);\r\n            }\r\n        }\r\n    }","title":"how to make fuction to allow me to delete a specific student","body":"<p>As I can see , You use List from which you want to delete element,\nIn Java if you want to delete element you need to provide its id ,\nSyntax :</p>\n<pre><code>StudentList.remove(idStudent)\n</code></pre>\n<p>for you i think you want to find a way to get the ID of the student you want to delete this is a way:</p>\n<pre><code>    private static void deleteStudent ()   {\n    System.out.println(&quot;\\nEnter ID of the student you want to delete &quot;);\n    idStudent = in.nextInt();\n    for( Student st : stu){\n        if(st.getID()==idStudent){\n            stu.remove(idStudent);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25272688,"reputation":1,"user_id":19101810,"display_name":"Mazen Mohamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652709651,"creation_date":1652708783,"question_id":72260260,"body_markdown":"&gt; i want to add a function that allow me to delete a students  \r\n&gt; first this is the this the file student.java that contain the class student\r\n&gt; , then the file called vstudent contain the ittrator and the array list to loop on the all students,then there is a file called Mainsystem contain the files handilling and functions to add students ,so i want to add fuction that allow me to delete a student.\r\n\r\n```import java.io.Serializable;\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class student implements Serializable {\r\n    private int id;\r\n    private String name, email;\r\n    private int mobilenumber;\r\n\r\n    public student(int id, String name, String email, int mobilenumber) {\r\n        this.id = id;\r\n        this.name=name;\r\n        this.email = email;\r\n        this.mobilenumber = mobilenumber;\r\n\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, mobilenumber=&quot; + mobilenumber +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\nimport java.io.*;\r\nimport java.io.File.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.io.Serializable;\r\nimport java.util.Scanner;\r\npublic class vstudent extends Object implements Serializable {\r\n    private List&lt;student&gt; coll;\r\n\r\n    public vstudent() {\r\n        coll = new ArrayList&lt;student&gt;();\r\n    }\r\n\r\n    public void addstudent(student stu){\r\n        coll.add(stu);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String total = &quot;\\n&quot;;\r\n        Iterator&lt;student&gt; i = coll.iterator();\r\n        while (i.hasNext()){\r\n            student s = (student) i.next();\r\n            total= total+s.toString();\r\n        }\r\n        return total;\r\n    }\r\n\r\n\r\n} \r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.io.Serializable;\r\nimport java.io.*;\r\nimport java.util.Iterator;\r\n\r\n\r\n\r\n\r\n     class librarianmenu {\r\n        public static void librarianMenu() {\r\n            System.out.println(&quot;---------------(Librarian) - Library Management System-----------&quot;);\r\n            System.out.println(&quot;\\nEnter 0 for load a library&quot; + &quot;\\nEnter 1 for save and quit&quot; + &quot;\\nEnter 2 to add book&quot;\r\n                    + &quot;\\nEnter 3 to list all books in library&quot; + &quot;\\nEnter 4 to list all librarians&quot;);\r\n        }\r\n    }\r\n\r\n    public  class Mainsystem {\r\n        static String fileName = null;\r\n        static library lib = new library();\r\n        static vstudent stu = new vstudent();\r\n        static librs librs = new librs();\r\n        static Scanner in = new Scanner(System.in);\r\n        static Boolean running = true;\r\n        public static void DisplayMainMenu() {\r\n            System.out.println(&quot;------------ Library Management System ------------&quot;);\r\n            System.out.println(&quot;Enter #: Switch to Admin Mode&quot;);\r\n            System.out.println(&quot;Enter $: Switch to Student Mode&quot;);\r\n            System.out.println(&quot;Enter &lt;: Exit&quot;);\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            DisplayMainMenu();\r\n\r\n\r\n            Scanner in = new Scanner(System.in);\r\n            boolean shouldContinue = true;\r\n            while (true) {\r\n                String optionSelected = in.next();\r\n                if (!optionSelected.equals(&quot;&lt;&quot;)) {\r\n                    if (optionSelected.equals(&quot;#&quot;)) {\r\n                        Admin admin = new Admin();\r\n\r\n                        System.out.print(&quot;Enter Password: &quot;);\r\n                        String tempPassword = in.next();\r\n                        System.out.println(tempPassword);\r\n\r\n                        if (tempPassword.equals(admin.getPassword())) {\r\n                            boolean isCorrectPassword = true;\r\n                            while (isCorrectPassword) {\r\n                                admin.displayMenu();\r\n                                int adminInput = in.nextInt();\r\n                                switch (adminInput) {\r\n                                    case 0: {\r\n                                        System.out.println(&quot;Enter the file name to load&quot;);\r\n                                        loadScript(in.next());\r\n                                        break;\r\n                                    }\r\n                                    case 1: {\r\n                                        addstudent();\r\n                                        break;\r\n                                    }\r\n                                    case 2: {\r\n                                        addlibrarians();\r\n                                        break;\r\n                                    }\r\n                                    case 3: {\r\n                                        System.out.println(stu.toString());\r\n                                        break;\r\n                                    }\r\n                                    case 4: {\r\n                                        saveandquit();\r\n                                        break;\r\n                                    }\r\n                                    case 5: {\r\n                                        System.out.print(&quot;Enter new password:&quot;);\r\n                                        String pass = in.next();\r\n                                        admin.setPassword(pass);\r\n                                        break;\r\n                                    }\r\n\r\n\r\n                                    case 6: {\r\n                                        isCorrectPassword = false;\r\n                                        DisplayMainMenu();\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            DisplayMainMenu();\r\n                        }\r\n                    } else if (optionSelected.equals(&quot;$&quot;)) {\r\n                        librarianmenu menu = new librarianmenu();\r\n\r\n                        while (running) {\r\n                            librarianmenu.librarianMenu();\r\n                            int studentInput = in.nextInt();\r\n                            switch (studentInput) {\r\n                                case 0: {\r\n                                    System.out.println(&quot;Enter the file name to load&quot;);\r\n                                    loadScript(in.next());\r\n                                    break;\r\n                                }\r\n                                case 1: {\r\n                                    saveandquit();\r\n                                    break;\r\n                                }\r\n                                case 2: {\r\n                                    addBook();\r\n                                    break;\r\n                                }\r\n                                case 3: {\r\n                                    System.out.println(lib.toString());\r\n                                    break;\r\n                                }\r\n                                case 4: {\r\n                                    System.out.println(librs.toString());\r\n                                }\r\n\r\n                            }\r\n                        }\r\n\r\n                    } else { //User chooses to Exit\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n                    private static void addBook () {\r\n                        int id;\r\n                        String title, author;\r\n                        int Available_quantity;\r\n                        int issued_quantity;\r\n                        System.out.println(&quot;\\nEnter book name&quot;);\r\n                        title = in.next();\r\n                        System.out.println(&quot;\\nEnter book Author&quot;);\r\n                        author = in.next();\r\n                        System.out.println(&quot;\\nEnter book id&quot;);\r\n                        id = in.nextInt();\r\n                        System.out.println(&quot;\\nEnter Available quantity&quot;);\r\n                        Available_quantity = in.nextInt();\r\n                        System.out.println(&quot;\\nEnter issued_quantity&quot;);\r\n                        issued_quantity = in.nextInt();\r\n                        Book b = new Book(id, title, author, Available_quantity, issued_quantity);\r\n                        lib.addBook(b);\r\n\r\n\r\n                    }\r\n\r\n                    private static void addstudent () {\r\n                        int id;\r\n                        String name, email;\r\n                        int mobilenumber;\r\n                        System.out.println(&quot;\\nEnter student name&quot;);\r\n                        name = in.next();\r\n                        System.out.println(&quot;\\nEnter student email&quot;);\r\n                        email = in.next();\r\n                        System.out.println(&quot;\\nEnter student id&quot;);\r\n                        id = in.nextInt();\r\n                        System.out.println(&quot;\\nEnter mobile number &quot;);\r\n                        mobilenumber = in.nextInt();\r\n                        student s = new student(id, name, email, mobilenumber);\r\n                        stu.addstudent(s);\r\n\r\n                    }\r\n\r\n                    private static void addlibrarians () {\r\n                        int id;\r\n                        String name;\r\n                        int password;\r\n                        System.out.println(&quot;\\nEnter librarian name&quot;);\r\n                        name = in.next();\r\n                        System.out.println(&quot;\\nEnter librarian id&quot;);\r\n                        id = in.nextInt();\r\n                        System.out.println(&quot;\\nEnter password &quot;);\r\n                        password = in.nextInt();\r\n                        librarians libras = new librarians(id, name, password);\r\n                        librs.addlibrs(libras);\r\n\r\n                    }\r\n\r\n                    private static void saveandquit () {\r\n                        System.out.println(&quot;Enter file name:&quot;);\r\n                        fileName = in.next() + &quot;.ser&quot;;\r\n                        running = false;\r\n                        FileOutputStream fos = null;\r\n                        ObjectOutputStream out = null;\r\n                        try {\r\n                            fos = new FileOutputStream(fileName);\r\n                            out = new ObjectOutputStream(fos);\r\n                            out.writeObject(lib);\r\n                            out.writeObject(stu);\r\n                            fos.close();\r\n                            out.close();\r\n                        } catch (FileNotFoundException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n\r\n                    private static void loadScript (String name){\r\n                        FileInputStream fis = null;\r\n                        ObjectInputStream in = null;\r\n                        File file = new File(name + &quot;.ser&quot;);\r\n                        if (file.exists()) {\r\n                            try {\r\n                                fis = new FileInputStream(file);\r\n                                in = new ObjectInputStream(fis);\r\n                                try {\r\n                                    lib = (library) in.readObject();\r\n                                    stu = (vstudent) in.readObject();\r\n\r\n                                } catch (ClassNotFoundException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                fis.close();\r\n                                in.close();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n\r\n                            }\r\n                        } else {\r\n                            System.out.println(&quot;\\nThe file does not exist!&quot;);\r\n                        }\r\n                    }\r\n                }\r\n```\r\n","title":"how to make fuction to allow me to delete a specific student","body":"<blockquote>\n<p>i want to add a function that allow me to delete a students<br />\nfirst this is the this the file student.java that contain the class student\n, then the file called vstudent contain the ittrator and the array list to loop on the all students,then there is a file called Mainsystem contain the files handilling and functions to add students ,so i want to add fuction that allow me to delete a student.</p>\n</blockquote>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class student implements Serializable {\n    private int id;\n    private String name, email;\n    private int mobilenumber;\n\n    public student(int id, String name, String email, int mobilenumber) {\n        this.id = id;\n        this.name=name;\n        this.email = email;\n        this.mobilenumber = mobilenumber;\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, mobilenumber=&quot; + mobilenumber +\n                '}';\n    }\n}\nimport java.io.*;\nimport java.io.File.*;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.io.Serializable;\nimport java.util.Scanner;\npublic class vstudent extends Object implements Serializable {\n    private List&lt;student&gt; coll;\n\n    public vstudent() {\n        coll = new ArrayList&lt;student&gt;();\n    }\n\n    public void addstudent(student stu){\n        coll.add(stu);\n    }\n\n    @Override\n    public String toString() {\n        String total = &quot;\\n&quot;;\n        Iterator&lt;student&gt; i = coll.iterator();\n        while (i.hasNext()){\n            student s = (student) i.next();\n            total= total+s.toString();\n        }\n        return total;\n    }\n\n\n} \nimport java.util.List;\nimport java.util.Scanner;\nimport java.io.Serializable;\nimport java.io.*;\nimport java.util.Iterator;\n\n\n\n\n     class librarianmenu {\n        public static void librarianMenu() {\n            System.out.println(&quot;---------------(Librarian) - Library Management System-----------&quot;);\n            System.out.println(&quot;\\nEnter 0 for load a library&quot; + &quot;\\nEnter 1 for save and quit&quot; + &quot;\\nEnter 2 to add book&quot;\n                    + &quot;\\nEnter 3 to list all books in library&quot; + &quot;\\nEnter 4 to list all librarians&quot;);\n        }\n    }\n\n    public  class Mainsystem {\n        static String fileName = null;\n        static library lib = new library();\n        static vstudent stu = new vstudent();\n        static librs librs = new librs();\n        static Scanner in = new Scanner(System.in);\n        static Boolean running = true;\n        public static void DisplayMainMenu() {\n            System.out.println(&quot;------------ Library Management System ------------&quot;);\n            System.out.println(&quot;Enter #: Switch to Admin Mode&quot;);\n            System.out.println(&quot;Enter $: Switch to Student Mode&quot;);\n            System.out.println(&quot;Enter &lt;: Exit&quot;);\n        }\n\n\n        public static void main(String[] args) {\n            DisplayMainMenu();\n\n\n            Scanner in = new Scanner(System.in);\n            boolean shouldContinue = true;\n            while (true) {\n                String optionSelected = in.next();\n                if (!optionSelected.equals(&quot;&lt;&quot;)) {\n                    if (optionSelected.equals(&quot;#&quot;)) {\n                        Admin admin = new Admin();\n\n                        System.out.print(&quot;Enter Password: &quot;);\n                        String tempPassword = in.next();\n                        System.out.println(tempPassword);\n\n                        if (tempPassword.equals(admin.getPassword())) {\n                            boolean isCorrectPassword = true;\n                            while (isCorrectPassword) {\n                                admin.displayMenu();\n                                int adminInput = in.nextInt();\n                                switch (adminInput) {\n                                    case 0: {\n                                        System.out.println(&quot;Enter the file name to load&quot;);\n                                        loadScript(in.next());\n                                        break;\n                                    }\n                                    case 1: {\n                                        addstudent();\n                                        break;\n                                    }\n                                    case 2: {\n                                        addlibrarians();\n                                        break;\n                                    }\n                                    case 3: {\n                                        System.out.println(stu.toString());\n                                        break;\n                                    }\n                                    case 4: {\n                                        saveandquit();\n                                        break;\n                                    }\n                                    case 5: {\n                                        System.out.print(&quot;Enter new password:&quot;);\n                                        String pass = in.next();\n                                        admin.setPassword(pass);\n                                        break;\n                                    }\n\n\n                                    case 6: {\n                                        isCorrectPassword = false;\n                                        DisplayMainMenu();\n                                    }\n                                }\n                            }\n                        } else {\n                            DisplayMainMenu();\n                        }\n                    } else if (optionSelected.equals(&quot;$&quot;)) {\n                        librarianmenu menu = new librarianmenu();\n\n                        while (running) {\n                            librarianmenu.librarianMenu();\n                            int studentInput = in.nextInt();\n                            switch (studentInput) {\n                                case 0: {\n                                    System.out.println(&quot;Enter the file name to load&quot;);\n                                    loadScript(in.next());\n                                    break;\n                                }\n                                case 1: {\n                                    saveandquit();\n                                    break;\n                                }\n                                case 2: {\n                                    addBook();\n                                    break;\n                                }\n                                case 3: {\n                                    System.out.println(lib.toString());\n                                    break;\n                                }\n                                case 4: {\n                                    System.out.println(librs.toString());\n                                }\n\n                            }\n                        }\n\n                    } else { //User chooses to Exit\n                        break;\n                    }\n                }\n\n            }\n        }\n\n\n                    private static void addBook () {\n                        int id;\n                        String title, author;\n                        int Available_quantity;\n                        int issued_quantity;\n                        System.out.println(&quot;\\nEnter book name&quot;);\n                        title = in.next();\n                        System.out.println(&quot;\\nEnter book Author&quot;);\n                        author = in.next();\n                        System.out.println(&quot;\\nEnter book id&quot;);\n                        id = in.nextInt();\n                        System.out.println(&quot;\\nEnter Available quantity&quot;);\n                        Available_quantity = in.nextInt();\n                        System.out.println(&quot;\\nEnter issued_quantity&quot;);\n                        issued_quantity = in.nextInt();\n                        Book b = new Book(id, title, author, Available_quantity, issued_quantity);\n                        lib.addBook(b);\n\n\n                    }\n\n                    private static void addstudent () {\n                        int id;\n                        String name, email;\n                        int mobilenumber;\n                        System.out.println(&quot;\\nEnter student name&quot;);\n                        name = in.next();\n                        System.out.println(&quot;\\nEnter student email&quot;);\n                        email = in.next();\n                        System.out.println(&quot;\\nEnter student id&quot;);\n                        id = in.nextInt();\n                        System.out.println(&quot;\\nEnter mobile number &quot;);\n                        mobilenumber = in.nextInt();\n                        student s = new student(id, name, email, mobilenumber);\n                        stu.addstudent(s);\n\n                    }\n\n                    private static void addlibrarians () {\n                        int id;\n                        String name;\n                        int password;\n                        System.out.println(&quot;\\nEnter librarian name&quot;);\n                        name = in.next();\n                        System.out.println(&quot;\\nEnter librarian id&quot;);\n                        id = in.nextInt();\n                        System.out.println(&quot;\\nEnter password &quot;);\n                        password = in.nextInt();\n                        librarians libras = new librarians(id, name, password);\n                        librs.addlibrs(libras);\n\n                    }\n\n                    private static void saveandquit () {\n                        System.out.println(&quot;Enter file name:&quot;);\n                        fileName = in.next() + &quot;.ser&quot;;\n                        running = false;\n                        FileOutputStream fos = null;\n                        ObjectOutputStream out = null;\n                        try {\n                            fos = new FileOutputStream(fileName);\n                            out = new ObjectOutputStream(fos);\n                            out.writeObject(lib);\n                            out.writeObject(stu);\n                            fos.close();\n                            out.close();\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n\n                    private static void loadScript (String name){\n                        FileInputStream fis = null;\n                        ObjectInputStream in = null;\n                        File file = new File(name + &quot;.ser&quot;);\n                        if (file.exists()) {\n                            try {\n                                fis = new FileInputStream(file);\n                                in = new ObjectInputStream(fis);\n                                try {\n                                    lib = (library) in.readObject();\n                                    stu = (vstudent) in.readObject();\n\n                                } catch (ClassNotFoundException e) {\n                                    e.printStackTrace();\n                                }\n                                fis.close();\n                                in.close();\n                            } catch (IOException e) {\n                                e.printStackTrace();\n\n                            }\n                        } else {\n                            System.out.println(&quot;\\nThe file does not exist!&quot;);\n                        }\n                    }\n                }\n</code></pre>\n"},{"tags":["java","spring","oauth-2.0","spring-security-oauth2","oauth2resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1299420,"reputation":96,"user_id":1249649,"accept_rate":0,"display_name":"timh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652709619,"creation_date":1652709619,"answer_id":72260428,"question_id":71640298,"body_markdown":"At the risk of you having already figured this out:\r\n\r\nYour interceptor runs at calls using restTemplate. Your interceptor makes a call using restTemplate.exchange. So your interceptor calls restTemplate, which runs the interceptor, which calls restTemplate... until your call stack overflows due to recursion.\r\n\r\nA way you might avoid this is to skip executing the interceptor if you are calling the carrier gateway token url (using an if-statement), or use a different restTemplate instance without the interceptor.","title":"Java - OAuth 2 using restTemplate to get login with refresh token (StackOverFlowError)","body":"<p>At the risk of you having already figured this out:</p>\n<p>Your interceptor runs at calls using restTemplate. Your interceptor makes a call using restTemplate.exchange. So your interceptor calls restTemplate, which runs the interceptor, which calls restTemplate... until your call stack overflows due to recursion.</p>\n<p>A way you might avoid this is to skip executing the interceptor if you are calling the carrier gateway token url (using an if-statement), or use a different restTemplate instance without the interceptor.</p>\n"}],"owner":{"account_id":16879112,"reputation":11,"user_id":13201081,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652709619,"creation_date":1648415144,"question_id":71640298,"body_markdown":"I created an interceptor to get the token before i do other request but i have the error &quot;Method threw &#39;java.lang.StackOverflowError&#39; exception.&quot; when i do the request.\r\n\r\n```     @Override\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body,\r\n                                        ClientHttpRequestExecution execution) throws IOException {\r\n        request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + loginWithCredentials());\r\n        return execution.execute(request, body);\r\n    }\r\n\r\n    private String loginWithCredentials() {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n\r\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n        map.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n        map.add(&quot;client_id&quot;, getClientId());\r\n        map.add(&quot;client_secret&quot;, getClientSecret());\r\n        map.add(&quot;username&quot;, getUsername());\r\n        map.add(&quot;password&quot;, getPassword());\r\n\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n\r\n        final ResponseEntity&lt;String&gt; responseEntity =  getRestTemplate().exchange(\r\n                getCarrierGatewayTokenUrl(),\r\n                HttpMethod.POST,\r\n                request,\r\n                String.class);\r\n\r\n        return responseEntity.getBody();\r\n    } \r\n\r\n```\r\n","title":"Java - OAuth 2 using restTemplate to get login with refresh token (StackOverFlowError)","body":"<p>I created an interceptor to get the token before i do other request but i have the error &quot;Method threw 'java.lang.StackOverflowError' exception.&quot; when i do the request.</p>\n<pre><code>    public ClientHttpResponse intercept(HttpRequest request, byte[] body,\n                                        ClientHttpRequestExecution execution) throws IOException {\n        request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + loginWithCredentials());\n        return execution.execute(request, body);\n    }\n\n    private String loginWithCredentials() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n\n        MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n        map.add(&quot;grant_type&quot;, &quot;password&quot;);\n        map.add(&quot;client_id&quot;, getClientId());\n        map.add(&quot;client_secret&quot;, getClientSecret());\n        map.add(&quot;username&quot;, getUsername());\n        map.add(&quot;password&quot;, getPassword());\n\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n\n        final ResponseEntity&lt;String&gt; responseEntity =  getRestTemplate().exchange(\n                getCarrierGatewayTokenUrl(),\n                HttpMethod.POST,\n                request,\n                String.class);\n\n        return responseEntity.getBody();\n    } \n\n</code></pre>\n"},{"tags":["java","arrays","regex","list"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652677646,"creation_date":1652677646,"answer_id":72254379,"question_id":72253733,"body_markdown":"Currently, your application prints out the following.\r\n\r\n`A,A,A`\r\n\r\nIf you are saying that you want the result to be placed into an `ArrayList`, then all you have to do is use the [`ArrayList()`][1] constructor that accepts a `Collection`, then simply turn your `Stream` into a `Collection`. Like this.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class SOQ_20220516_1\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\r\n   \r\n      var result = new ArrayList&lt;&gt;(reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\r\n         .filter(role -&gt; role.matches(&quot;A&quot;))\r\n         .map(String::trim)\r\n         .toList());\r\n   \r\n      System.out.println(result);\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nOf course, if you are willing to use a [`List`][2] instead of an `ArrayList`, then this becomes much simpler. Like this.\r\n\r\n```java\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class SOQ_20220516_1\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\r\n   \r\n      var result = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\r\n         .filter(role -&gt; role.matches(&quot;A&quot;))\r\n         .map(String::trim)\r\n         .toList();\r\n   \r\n      System.out.println(result);\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(java.util.Collection)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html","title":"How to &quot;add parsed string that used filter&quot; to an String ArrayList","body":"<p>Currently, your application prints out the following.</p>\n<p><code>A,A,A</code></p>\n<p>If you are saying that you want the result to be placed into an <code>ArrayList</code>, then all you have to do is use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>ArrayList()</code></a> constructor that accepts a <code>Collection</code>, then simply turn your <code>Stream</code> into a <code>Collection</code>. Like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class SOQ_20220516_1\n{\n\n   public static void main(String[] args)\n   {\n   \n      Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\n   \n      var result = new ArrayList&lt;&gt;(reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\n         .filter(role -&gt; role.matches(&quot;A&quot;))\n         .map(String::trim)\n         .toList());\n   \n      System.out.println(result);\n   \n   }\n\n}\n</code></pre>\n<p>Of course, if you are willing to use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> instead of an <code>ArrayList</code>, then this becomes much simpler. Like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class SOQ_20220516_1\n{\n\n   public static void main(String[] args)\n   {\n   \n      Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\n   \n      var result = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\n         .filter(role -&gt; role.matches(&quot;A&quot;))\n         .map(String::trim)\n         .toList();\n   \n      System.out.println(result);\n   \n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652709370,"creation_date":1652702125,"answer_id":72258811,"question_id":72253733,"body_markdown":"If you need to add every matched result specifically into an `ArrayList`, then you could use the terminal operation `collect(Collectors.toCollection(ArrayList::new))` and provide the `ArrayList` constructor as the factory method for the `toCollection`. This will specifically instantiate an `ArrayList` containing all your matched results.\r\n\r\n```\r\nPattern reg = Pattern.compile(&quot;\\\\*&quot;);\r\nArrayList&lt;String&gt; listRes = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\r\n        .filter(role -&gt; role.matches(&quot;A&quot;))\r\n        .map(String::trim)\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n```\r\n\r\n&lt;h4&gt;EDIT&lt;/h4&gt;\r\n\r\nIn case you also want to include the results that start with `A`, then you could use the following regex within the `filter` aggregate operation: `A.*`. The code will look like this:\r\n\r\n```\r\nPattern reg = Pattern.compile(&quot;\\\\*&quot;);\r\nArrayList&lt;String&gt; listRes = reg.splitAsStream(&quot;A123*B*C*D*E*F*G*A222*A*B*C*A&quot;)\r\n        .filter(role -&gt; role.matches(&quot;A.*&quot;))\r\n        .map(String::trim)\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n```","title":"How to &quot;add parsed string that used filter&quot; to an String ArrayList","body":"<p>If you need to add every matched result specifically into an <code>ArrayList</code>, then you could use the terminal operation <code>collect(Collectors.toCollection(ArrayList::new))</code> and provide the <code>ArrayList</code> constructor as the factory method for the <code>toCollection</code>. This will specifically instantiate an <code>ArrayList</code> containing all your matched results.</p>\n<pre><code>Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\nArrayList&lt;String&gt; listRes = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\n        .filter(role -&gt; role.matches(&quot;A&quot;))\n        .map(String::trim)\n        .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<h4>EDIT</h4>\n<p>In case you also want to include the results that start with <code>A</code>, then you could use the following regex within the <code>filter</code> aggregate operation: <code>A.*</code>. The code will look like this:</p>\n<pre><code>Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\nArrayList&lt;String&gt; listRes = reg.splitAsStream(&quot;A123*B*C*D*E*F*G*A222*A*B*C*A&quot;)\n        .filter(role -&gt; role.matches(&quot;A.*&quot;))\n        .map(String::trim)\n        .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"}],"owner":{"account_id":10873228,"reputation":35,"user_id":7994435,"display_name":"Chenman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1652709370,"creation_date":1652669400,"question_id":72253733,"body_markdown":"Right now I have collection of substrings that match the pattern. I want to add these filtered substrings to an arraylist.\r\n\r\nRight now have this: \r\n\r\n    Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\r\n       \r\n    String result = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\r\n            .filter(role -&gt; role.matches(&quot;A&quot;))\r\n            .map(String::trim)\r\n            .collect(Collectors.joining(&quot;,&quot;));\r\n    \r\n    System.out.println(result);\r\n\r\n\r\nI want to add the printed out result which is all the A into a arraylist I need help with adding it to arraylist.","title":"How to &quot;add parsed string that used filter&quot; to an String ArrayList","body":"<p>Right now I have collection of substrings that match the pattern. I want to add these filtered substrings to an arraylist.</p>\n<p>Right now have this:</p>\n<pre><code>Pattern reg = Pattern.compile(&quot;\\\\*&quot;);\n   \nString result = reg.splitAsStream(&quot;A*B*C*D*E*F*G*A*B*C*D*E*F*A*B*C*D*E*F*G*H&quot;)\n        .filter(role -&gt; role.matches(&quot;A&quot;))\n        .map(String::trim)\n        .collect(Collectors.joining(&quot;,&quot;));\n\nSystem.out.println(result);\n</code></pre>\n<p>I want to add the printed out result which is all the A into a arraylist I need help with adding it to arraylist.</p>\n"},{"tags":["java","swing","for-loop","while-loop","joptionpane"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652615509,"post_id":72247986,"comment_id":127643972,"body_markdown":"what exactly is your specific problem? Also, be more clear when describing a question. You can&#39;t &quot;use loops in JOptionPane&quot;, you can use JOptionPane while using loops, as you are doing","body":"what exactly is your specific problem? Also, be more clear when describing a question. You can&#39;t &quot;use loops in JOptionPane&quot;, you can use JOptionPane while using loops, as you are doing"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652654028,"post_id":72247986,"comment_id":127652077,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652618385,"creation_date":1652618385,"answer_id":72248345,"question_id":72247986,"body_markdown":"If you use a debugger on your code, you will be able to easily find problems like this in the future.\r\n\r\nTake a look at your `checkTaskDescription` method.\r\n\r\n```java\r\n      boolean checkTaskDescription(String taskDescription){\r\n         boolean length= false;\r\n         if(taskDescription.length() == 10) {\r\n            length= true;  \r\n         }else{ \r\n            length= false;\r\n         }\r\n         return false;\r\n      }\r\n```\r\n\r\nSo first, you create a variable called `length`, which is a `boolean`. Then, if the length of the given `taskDescription` is of proper size, you set `length` to be `true` or `false`. After you are done checking what the proper answer should be, you `return false;` anyways!\r\n\r\nI assume you wanted to do `return length;`?","title":"Using loops in JOptionPane","body":"<p>If you use a debugger on your code, you will be able to easily find problems like this in the future.</p>\n<p>Take a look at your <code>checkTaskDescription</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      boolean checkTaskDescription(String taskDescription){\n         boolean length= false;\n         if(taskDescription.length() == 10) {\n            length= true;  \n         }else{ \n            length= false;\n         }\n         return false;\n      }\n</code></pre>\n<p>So first, you create a variable called <code>length</code>, which is a <code>boolean</code>. Then, if the length of the given <code>taskDescription</code> is of proper size, you set <code>length</code> to be <code>true</code> or <code>false</code>. After you are done checking what the proper answer should be, you <code>return false;</code> anyways!</p>\n<p>I assume you wanted to do <code>return length;</code>?</p>\n"}],"owner":{"account_id":24293856,"reputation":19,"user_id":18238385,"display_name":"Sue Ndlovu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652709160,"creation_date":1652615397,"question_id":72247986,"body_markdown":"I am trying to create an application that asks the user to choose an option and if they choose option 1 the following conditions should apply:\r\n1. Ask the user how many tasks they want to enter\r\n2. Create a loop that will display the tasks based on the amount entered by the user\r\n3. Ask the user for task description\r\n4. The task description should not exceed 50 characters if so an error message should display\r\n\r\nBelow is the code that I already have and I am struggling to display he number of tasks and task description \r\n\r\n```java\r\npackage javaapplication4;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JFrame;\r\n\r\npublic static void main(String[] args) {\r\n\tJFrame details = new JFrame();\r\n\tTask task = new Task();\r\n\r\n\tJOptionPane.showMessageDialog(null, &quot;Welcome to MyWorld&quot;);\r\n\tString option = JOptionPane.showInputDialog(details, &quot;Choose one of the following: \\\r\n\t\tn &quot; +\r\n\t\t&quot;1. Add tasks \\n&quot; +\r\n\t\t&quot;2. Show report \\n&quot; +\r\n\t\t&quot;3. Quit \\n&quot;\r\n\t);\r\n\r\n\tint x;\r\n\tx = Integer.parseInt(option);\r\n\tif (x == 1) {\r\n\t\tString task1 = JOptionPane.showInputDialog(details, &quot;Number of tasks:&quot;);\r\n\t\tInteger.parseInt(task1);\r\n\t\tString desc = JOptionPane.showInputDialog(null, &quot;Task Description:&quot;);\r\n\t\twhile (!task.checkTaskDescription(desc)) {\r\n\t\t\tJOptionPane.showInputDialog(details, &quot;Enter description&quot;);\r\n\t\t} else if (x == 2) {\r\n\t\t\tJOptionPane.showMessageDialog(details, &quot;Coming Soon&quot;);\r\n\t\t} else if (x == 3) {\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic class Task {\r\n\tboolean checkTaskDescription(String taskDescription) {\r\n\t\tboolean length = false;\r\n\t\tif (taskDescription.length() == 10) {\r\n\t\t\tlength = true;\r\n\t\t} else {\r\n\t\t\tlength = false;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Using loops in JOptionPane","body":"<p>I am trying to create an application that asks the user to choose an option and if they choose option 1 the following conditions should apply:</p>\n<ol>\n<li>Ask the user how many tasks they want to enter</li>\n<li>Create a loop that will display the tasks based on the amount entered by the user</li>\n<li>Ask the user for task description</li>\n<li>The task description should not exceed 50 characters if so an error message should display</li>\n</ol>\n<p>Below is the code that I already have and I am struggling to display he number of tasks and task description</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javaapplication4;\nimport javax.swing.JOptionPane;\nimport javax.swing.JFrame;\n\npublic static void main(String[] args) {\n    JFrame details = new JFrame();\n    Task task = new Task();\n\n    JOptionPane.showMessageDialog(null, &quot;Welcome to MyWorld&quot;);\n    String option = JOptionPane.showInputDialog(details, &quot;Choose one of the following: \\\n        n &quot; +\n        &quot;1. Add tasks \\n&quot; +\n        &quot;2. Show report \\n&quot; +\n        &quot;3. Quit \\n&quot;\n    );\n\n    int x;\n    x = Integer.parseInt(option);\n    if (x == 1) {\n        String task1 = JOptionPane.showInputDialog(details, &quot;Number of tasks:&quot;);\n        Integer.parseInt(task1);\n        String desc = JOptionPane.showInputDialog(null, &quot;Task Description:&quot;);\n        while (!task.checkTaskDescription(desc)) {\n            JOptionPane.showInputDialog(details, &quot;Enter description&quot;);\n        } else if (x == 2) {\n            JOptionPane.showMessageDialog(details, &quot;Coming Soon&quot;);\n        } else if (x == 3) {\n            System.exit(0);\n        }\n    }\n}\n\npublic class Task {\n    boolean checkTaskDescription(String taskDescription) {\n        boolean length = false;\n        if (taskDescription.length() == 10) {\n            length = true;\n        } else {\n            length = false;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1652705536,"post_id":72259408,"comment_id":127663104,"body_markdown":"Why are you creating a new `JTextField` and `JTextArea` every time `addActionListener` is triggered? Post a [mcve]","body":"Why are you creating a new <code>JTextField</code> and <code>JTextArea</code> every time <code>addActionListener</code> is triggered? Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652705673,"creation_date":1652705673,"answer_id":72259568,"question_id":72259408,"body_markdown":"In your `actionPerformed` method, you are creating a **new** `JTextField` which you are not adding to your GUI. I presume that you have another variable named `taTwo` somehere in the code that you did not post. You are **not** changing that variable inside the `actionPerformed` method. Try removing this line of your code:\r\n```java\r\nJTextField taTwo = new JTextField();\r\n```\r\n","title":"Cannot enable grayed-out (.setEnabled(false)) JtextField or JTextArea","body":"<p>In your <code>actionPerformed</code> method, you are creating a <strong>new</strong> <code>JTextField</code> which you are not adding to your GUI. I presume that you have another variable named <code>taTwo</code> somehere in the code that you did not post. You are <strong>not</strong> changing that variable inside the <code>actionPerformed</code> method. Try removing this line of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTextField taTwo = new JTextField();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652708957,"creation_date":1652708957,"answer_id":72260295,"question_id":72259408,"body_markdown":"If I correctly understand your question, you need to move your enablemet/disablement code into another `ActionListener` and add it to your combobox. Something like this:\r\n\r\n\r\n\tpublic void btnAddtreeAction() {\r\n\t\tthis.btnAddtree.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tJPanel dialogPanel = new JPanel();\r\n\t\t\t\tdialogPanel.setPreferredSize(new Dimension(60,60));\r\n\t\t\t\t\r\n\t\t\t\tString[] choices = {&quot;A&quot;, &quot;B&quot;};\r\n\t\t\t\tJComboBox&lt;String&gt; cb = new JComboBox&lt;String&gt;(choices);\r\n\t\t\t\t\r\n\t\t\t\tJTextArea taOne = new JTextArea(1,30);\r\n\t\t\t\tJTextField taTwo = new JTextField();\r\n\t\t\t\ttaTwo.setEnabled(false);\r\n\t\t\t\tcb.addActionListener(new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tif (cb.getSelectedItem().toString().equals(&quot;A&quot;)) {\r\n                            taTwo.setEnabled(false);\r\n\t\t\t\t\t\t    //something will happen here\r\n\t\t\t\t\t\t} else if (cb.getSelectedItem().toString().equals(&quot;B&quot;)) {\r\n\t\t\t\t\t\t    taTwo.setEnabled(true);\r\n\t\t\t\t\t\t    //something will happen here\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tObject[] myObject = {&quot;Options:&quot;, cb,\r\n\t\t\t\t\t\t\t\t\t&quot;Input first:&quot;, taOne,\r\n\t\t\t\t\t\t\t\t\t&quot;Input second:&quot;, taTwo};\r\n\t\t\t\t\r\n\t\t\t\tJOptionPane.showConfirmDialog(frame, myObject, &quot;Form&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Cannot enable grayed-out (.setEnabled(false)) JtextField or JTextArea","body":"<p>If I correctly understand your question, you need to move your enablemet/disablement code into another <code>ActionListener</code> and add it to your combobox. Something like this:</p>\n<pre><code>public void btnAddtreeAction() {\n    this.btnAddtree.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n            JPanel dialogPanel = new JPanel();\n            dialogPanel.setPreferredSize(new Dimension(60,60));\n            \n            String[] choices = {&quot;A&quot;, &quot;B&quot;};\n            JComboBox&lt;String&gt; cb = new JComboBox&lt;String&gt;(choices);\n            \n            JTextArea taOne = new JTextArea(1,30);\n            JTextField taTwo = new JTextField();\n            taTwo.setEnabled(false);\n            cb.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (cb.getSelectedItem().toString().equals(&quot;A&quot;)) {\n                        taTwo.setEnabled(false);\n                        //something will happen here\n                    } else if (cb.getSelectedItem().toString().equals(&quot;B&quot;)) {\n                        taTwo.setEnabled(true);\n                        //something will happen here\n                    }\n                }\n            });\n\n            Object[] myObject = {&quot;Options:&quot;, cb,\n                                &quot;Input first:&quot;, taOne,\n                                &quot;Input second:&quot;, taTwo};\n            \n            JOptionPane.showConfirmDialog(frame, myObject, &quot;Form&quot;, JOptionPane.OK_CANCEL_OPTION);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72259568,"answer_count":2,"score":0,"last_activity_date":1652708957,"creation_date":1652705050,"question_id":72259408,"body_markdown":"Unfortunately, I cannot turn on .setEnable() for a JTextField, or a JTextField (tried both). It keeps remaining gray, so users cannot type. Please help me out.\r\n\r\nDetails: taTwo can be either a JTextField or JTextArea but any I try cannot be enabled. It should be disabled for A but should be enabled for B, so if user choose A he/she can NOT enter a value in taTwo field, but if the user choose B he/she can write in taTwo.\r\n\r\nThe method is the following:\r\n\r\n    public void btnAddtreeAction() {\r\n    \tthis.btnAddtree.addActionListener(new ActionListener() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\r\n    \t\t\tJPanel dialogPanel = new JPanel();\r\n    \t\t\tdialogPanel.setPreferredSize(new Dimension(60,60));\r\n    \t\t\t\r\n    \t\t\tString[] choices = {&quot;A&quot;, &quot;B&quot;};\r\n    \t\t\tJComboBox&lt;String&gt; cb = new JComboBox&lt;String&gt;(choices);\r\n    \t\t\t\r\n    \t\t\tJTextArea taOne = new JTextArea(1,30);\r\n    \t\t\tJTextField taTwo = new JTextField();\r\n    \t\t\ttaTwo.setEnabled(false);\r\n    \r\n    \t\t    Object[] myObject = {&quot;Options:&quot;, cb,\r\n    \t\t    \t\t\t\t\t&quot;Input first:&quot;, taOne,\r\n    \t\t    \t\t\t\t\t&quot;Input second:&quot;, taTwo};\r\n    \t\t\t\r\n    \t\t    JOptionPane.showConfirmDialog(frame, myObject, &quot;Form&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n    \t\t    \r\n    \t\t    if (cb.getSelectedItem().toString().equals(&quot;A&quot;)) {\r\n                   //something will happen here\r\n    \t\t\t} else if (cb.getSelectedItem().toString().equals(&quot;B&quot;)) {\r\n    \t\t\t\ttaTwo.setEnabled(true);\r\n                  //something will happen here\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    }","title":"Cannot enable grayed-out (.setEnabled(false)) JtextField or JTextArea","body":"<p>Unfortunately, I cannot turn on .setEnable() for a JTextField, or a JTextField (tried both). It keeps remaining gray, so users cannot type. Please help me out.</p>\n<p>Details: taTwo can be either a JTextField or JTextArea but any I try cannot be enabled. It should be disabled for A but should be enabled for B, so if user choose A he/she can NOT enter a value in taTwo field, but if the user choose B he/she can write in taTwo.</p>\n<p>The method is the following:</p>\n<pre><code>public void btnAddtreeAction() {\n    this.btnAddtree.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n            JPanel dialogPanel = new JPanel();\n            dialogPanel.setPreferredSize(new Dimension(60,60));\n            \n            String[] choices = {&quot;A&quot;, &quot;B&quot;};\n            JComboBox&lt;String&gt; cb = new JComboBox&lt;String&gt;(choices);\n            \n            JTextArea taOne = new JTextArea(1,30);\n            JTextField taTwo = new JTextField();\n            taTwo.setEnabled(false);\n\n            Object[] myObject = {&quot;Options:&quot;, cb,\n                                &quot;Input first:&quot;, taOne,\n                                &quot;Input second:&quot;, taTwo};\n            \n            JOptionPane.showConfirmDialog(frame, myObject, &quot;Form&quot;, JOptionPane.OK_CANCEL_OPTION);\n            \n            if (cb.getSelectedItem().toString().equals(&quot;A&quot;)) {\n               //something will happen here\n            } else if (cb.getSelectedItem().toString().equals(&quot;B&quot;)) {\n                taTwo.setEnabled(true);\n              //something will happen here\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3971184,"reputation":2473,"user_id":3275754,"display_name":"0xDEADC0DE"},"score":0,"creation_date":1458656102,"post_id":36156546,"comment_id":59950813,"body_markdown":"If you have a rooted device you can see it under `/data/data/your.package.name/`. On a non-rooted device, it is also in that folder, but you do not have permissions to see it from shell","body":"If you have a rooted device you can see it under <code>&#47;data&#47;data&#47;your.package.name&#47;</code>. On a non-rooted device, it is also in that folder, but you do not have permissions to see it from shell"},{"owner":{"account_id":7497497,"reputation":155,"user_id":5697179,"accept_rate":12,"display_name":"bob"},"score":0,"creation_date":1458656140,"post_id":36156546,"comment_id":59950849,"body_markdown":"any way i can stop it ?","body":"any way i can stop it ?"},{"owner":{"account_id":3971184,"reputation":2473,"user_id":3275754,"display_name":"0xDEADC0DE"},"score":0,"creation_date":1458656172,"post_id":36156546,"comment_id":59950880,"body_markdown":"Depends on what do you mean by &#39;stop it&#39;","body":"Depends on what do you mean by &#39;stop it&#39;"},{"owner":{"account_id":7497497,"reputation":155,"user_id":5697179,"accept_rate":12,"display_name":"bob"},"score":0,"creation_date":1458656335,"post_id":36156546,"comment_id":59951012,"body_markdown":"how i can stop user to see this ?","body":"how i can stop user to see this ?"},{"owner":{"account_id":7497497,"reputation":155,"user_id":5697179,"accept_rate":12,"display_name":"bob"},"score":0,"creation_date":1458656550,"post_id":36156546,"comment_id":59951202,"body_markdown":"basically  that data is imp so any way i can decrypt it ?","body":"basically  that data is imp so any way i can decrypt it ?"},{"owner":{"account_id":3971184,"reputation":2473,"user_id":3275754,"display_name":"0xDEADC0DE"},"score":0,"creation_date":1458656709,"post_id":36156546,"comment_id":59951328,"body_markdown":"I don&#39;t think you can prevent your user from seeing it. You can&#39;t stop the user from rooting his device from your app. You could let your filename start  with a dot, `.your_data_file` for example, so it is a hidden file, but it will still be there","body":"I don&#39;t think you can prevent your user from seeing it. You can&#39;t stop the user from rooting his device from your app. You could let your filename start  with a dot, <code>.your_data_file</code> for example, so it is a hidden file, but it will still be there"},{"owner":{"account_id":3971184,"reputation":2473,"user_id":3275754,"display_name":"0xDEADC0DE"},"score":0,"creation_date":1458656747,"post_id":36156546,"comment_id":59951366,"body_markdown":"If you have sensitive data, the best thing you can do is store it somewhere that is not on your device i.e. a server","body":"If you have sensitive data, the best thing you can do is store it somewhere that is not on your device i.e. a server"},{"owner":{"account_id":7497497,"reputation":155,"user_id":5697179,"accept_rate":12,"display_name":"bob"},"score":0,"creation_date":1458657002,"post_id":36156546,"comment_id":59951583,"body_markdown":"no i can&#39;t store on server , i can make encryption and save it can ayn five good way to do it","body":"no i can&#39;t store on server , i can make encryption and save it can ayn five good way to do it"}],"answers":[{"tags":[],"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652708509,"creation_date":1632585520,"answer_id":69327833,"question_id":36156546,"body_markdown":"you can store the image in the Cache storage , it will be private, only from your application users can see the images\r\n\r\n    public static String saveToCacheMemory(Activity activity, Bitmap \r\n\r\n    bitmapImage){\r\n    \r\n        SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\r\n    \r\n        ContextWrapper cw = new ContextWrapper(activity);\r\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n        // Create imageDir\r\n        File mypath=new File(directory,mDateFormat.format(new Date())  + StaticVariables.imageFormat);\r\n    \r\n        Log.d(TAG, &quot;directory: &quot; + directory);\r\n    \r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(mypath);\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            Log.d(TAG, &quot;bit exception: Success&quot; );\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\r\n            }\r\n        }\r\n        Log.d(TAG, &quot;absolute path &quot; + directory.getAbsolutePath());\r\n        return mypath.getAbsolutePath();\r\n    }\r\n\r\n\r\nif you have [more doubts check my blog post][1]\r\n\r\n\r\n  [1]: https://cjdevelops.blogspot.com/2021/09/save-files-images-videos-in-internal.html","title":"Caching Objects in Android Internal Storage","body":"<p>you can store the image in the Cache storage , it will be private, only from your application users can see the images</p>\n<pre><code>public static String saveToCacheMemory(Activity activity, Bitmap \n\nbitmapImage){\n\n    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\n\n    ContextWrapper cw = new ContextWrapper(activity);\n    File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\n    // Create imageDir\n    File mypath=new File(directory,mDateFormat.format(new Date())  + StaticVariables.imageFormat);\n\n    Log.d(TAG, &quot;directory: &quot; + directory);\n\n    FileOutputStream fos = null;\n    try {\n        fos = new FileOutputStream(mypath);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        Log.d(TAG, &quot;bit exception: Success&quot; );\n    } catch (Exception e) {\n        Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\n        e.printStackTrace();\n    } finally {\n        try {\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\n        }\n    }\n    Log.d(TAG, &quot;absolute path &quot; + directory.getAbsolutePath());\n    return mypath.getAbsolutePath();\n}\n</code></pre>\n<p>if you have <a href=\"https://cjdevelops.blogspot.com/2021/09/save-files-images-videos-in-internal.html\" rel=\"nofollow noreferrer\">more doubts check my blog post</a></p>\n"}],"owner":{"account_id":7497497,"reputation":155,"user_id":5697179,"accept_rate":12,"display_name":"bob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652708509,"creation_date":1458655431,"question_id":36156546,"body_markdown":"i am storing data in internal storage\r\n\r\n    public static void writeObject(Context context, String key, Object object) throws IOException {\r\n      FileOutputStream fos = context.openFileOutput(key, Context.MODE_PRIVATE);\r\n      ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n      oos.writeObject(object);\r\n      oos.close();\r\n      fos.close();\r\n   }\r\n\r\n\r\nbut  can i see this saved data on phone if yes path please ? any way i can store where user can&#39;t see this","title":"Caching Objects in Android Internal Storage","body":"<p>i am storing data in internal storage</p>\n\n<pre><code>public static void writeObject(Context context, String key, Object object) throws IOException {\n  FileOutputStream fos = context.openFileOutput(key, Context.MODE_PRIVATE);\n  ObjectOutputStream oos = new ObjectOutputStream(fos);\n  oos.writeObject(object);\n  oos.close();\n  fos.close();\n</code></pre>\n\n<p>}</p>\n\n<p>but  can i see this saved data on phone if yes path please ? any way i can store where user can't see this</p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":9726758,"reputation":357,"user_id":7213421,"display_name":"ByteBat"},"score":2,"creation_date":1652619013,"post_id":72246036,"comment_id":127644691,"body_markdown":"I don&#39;t find the default value in the official documentation too. But everything indicates that you&#39;re correct, the value 0 disables the deletion (which wouldn&#39;t be recommended). In this Issue the SpringBoot team also confirm the semantics of the value 0 in MaxHistory. https://github.com/spring-projects/spring-boot/issues/15875","body":"I don&#39;t find the default value in the official documentation too. But everything indicates that you&#39;re correct, the value 0 disables the deletion (which wouldn&#39;t be recommended). In this Issue the SpringBoot team also confirm the semantics of the value 0 in MaxHistory. <a href=\"https://github.com/spring-projects/spring-boot/issues/15875\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/15875</a>"}],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652708074,"creation_date":1652708074,"answer_id":72260095,"question_id":72246036,"body_markdown":"Thank you for reporting this. This is now fixed as can be seen in the [relevant documentation][1]\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory","title":"Disable logback log file deletion by setting maxHistory to zero","body":"<p>Thank you for reporting this. This is now fixed as can be seen in the <a href=\"https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory\" rel=\"nofollow noreferrer\">relevant documentation</a></p>\n"}],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72260095,"answer_count":1,"score":1,"last_activity_date":1652708074,"creation_date":1652596470,"question_id":72246036,"body_markdown":"I am trying to disable the log file deletion in `logback`.\r\n\r\nI searched the documentation but found no way to accomplish this.\r\n\r\nHowever, the source code seems to depend on `maxHistory` flag set to 0 which means unbounded history. [see][1] and [see][2].\r\n\r\nbut hence I cannot find it documented anywhere, I am afraid to use so to be changed in the future without any declarations!\r\n\r\n\r\nSo my question, is it documented somewhere I don&#39;t know about?\r\n\r\n\r\n  [1]: https://github.com/qos-ch/logback/blob/3ce9f04d6e5f40155839cfe9ada90d94543050c0/logback-core/src/main/java/ch/qos/logback/core/CoreConstants.java#L202\r\n  [2]: https://github.com/qos-ch/logback/blob/3ce9f04d6e5f40155839cfe9ada90d94543050c0/logback-core/src/main/java/ch/qos/logback/core/rolling/TimeBasedRollingPolicy.java#L107","title":"Disable logback log file deletion by setting maxHistory to zero","body":"<p>I am trying to disable the log file deletion in <code>logback</code>.</p>\n<p>I searched the documentation but found no way to accomplish this.</p>\n<p>However, the source code seems to depend on <code>maxHistory</code> flag set to 0 which means unbounded history. <a href=\"https://github.com/qos-ch/logback/blob/3ce9f04d6e5f40155839cfe9ada90d94543050c0/logback-core/src/main/java/ch/qos/logback/core/CoreConstants.java#L202\" rel=\"nofollow noreferrer\">see</a> and <a href=\"https://github.com/qos-ch/logback/blob/3ce9f04d6e5f40155839cfe9ada90d94543050c0/logback-core/src/main/java/ch/qos/logback/core/rolling/TimeBasedRollingPolicy.java#L107\" rel=\"nofollow noreferrer\">see</a>.</p>\n<p>but hence I cannot find it documented anywhere, I am afraid to use so to be changed in the future without any declarations!</p>\n<p>So my question, is it documented somewhere I don't know about?</p>\n"},{"tags":["java","web","servlets","download","webclient"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1652708030,"post_id":72260063,"comment_id":127664119,"body_markdown":"You cannot download 2 separate files in one GET request.","body":"You cannot download 2 separate files in one GET request."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1652708996,"post_id":72260063,"comment_id":127664500,"body_markdown":"Also this code is not written to download 2 files. You are writing multiple entries to one `ZipOutputStream`","body":"Also this code is not written to download 2 files. You are writing multiple entries to one <code>ZipOutputStream</code>"},{"owner":{"account_id":25225035,"reputation":1,"user_id":19061023,"display_name":"Abdalla AlShourbagy"},"score":0,"creation_date":1652710111,"post_id":72260063,"comment_id":127664975,"body_markdown":"thanks, can you recommend a solution to handle this case?","body":"thanks, can you recommend a solution to handle this case?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1652713599,"post_id":72260063,"comment_id":127666387,"body_markdown":"A solution to which problem?","body":"A solution to which problem?"}],"owner":{"account_id":25225035,"reputation":1,"user_id":19061023,"display_name":"Abdalla AlShourbagy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652707974,"creation_date":1652707917,"question_id":72260063,"body_markdown":"I have more attachments to download instead of downloading one by one.\r\n\r\nI need to download them by zipping these files as batched 2 or 3 files in each zip based on conditions written in the code.\r\n\r\n\r\nThe code is written to download 2 zip files but it downloaded only one zip through response.\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    \r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.PrintWriter;\r\n    \r\n    import java.net.URLEncoder;\r\n    \r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    \r\n    public class downloadSert extends HttpServlet {\r\n    \r\n        public void init(ServletConfig config) throws ServletException {\r\n            super.init(config);\r\n        }\r\n    \r\n    \r\n        public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            request.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.setContentType(&quot;application/zip&quot;);\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=Attachments.ZIP&quot;);\r\n            response.addHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n            response.addHeader(&quot;Expires&quot;, &quot;0&quot;);\r\n    \r\n            String[] cjFiles = { &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\1.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\2.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\3.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\4.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\5.txt&quot; };\r\n    \r\n            int len = cjFiles.length;\r\n            int attachmentTotalForEachZip = 0;\r\n            int zipBatches = 0;\r\n            if (len &lt;= 10) {\r\n                attachmentTotalForEachZip = 2;\r\n                zipBatches = len / 2;\r\n            } else {\r\n                attachmentTotalForEachZip = 4;\r\n                zipBatches = len / 4;\r\n            }\r\n            int total = 0;\r\n            FileInputStream in = null;\r\n            ZipOutputStream zos = null;\r\n            List&lt;ZipOutputStream&gt; zips = new ArrayList&lt;ZipOutputStream&gt;();\r\n    \r\n            for (int i = 0; i &lt; cjFiles.length; i++) {\r\n                if (total == 0) {\r\n                    zos = new ZipOutputStream(response.getOutputStream());\r\n                }\r\n                total = total + 1;\r\n                in = new FileInputStream(cjFiles[i]);\r\n                File f = new File(cjFiles[i]);\r\n    \r\n                zos.putNextEntry(new ZipEntry((i + 1) + &quot; - &quot; + f.getName().substring(f.getName().indexOf(&quot;-&quot;) + 1, f.getName().length())));\r\n    \r\n                int length;\r\n                byte[] buffer = new byte[1024];\r\n                while ((length = in.read(buffer)) &gt; 0) {\r\n                    zos.write(buffer, 0, length);\r\n                }\r\n                in.close();\r\n                zos.closeEntry();\r\n    \r\n                //download zip\r\n                if (total == attachmentTotalForEachZip) {\r\n                    zips.add(zos);\r\n                    total = 0;\r\n                    zipBatches = zipBatches - 1;\r\n                }\r\n    \r\n                // handle zip file amount (pdf total in each zip )\r\n                if (zipBatches == 1) {\r\n                    attachmentTotalForEachZip = attachmentTotalForEachZip + (len % attachmentTotalForEachZip);\r\n                    zipBatches = 0;\r\n                }\r\n            }\r\n    \r\n    \r\n            for (ZipOutputStream z : zips) {\r\n                z.finish();\r\n                z.close();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nif there is any way to download all zip file.\r\n\r\n","title":"Java Servlet download more than one file","body":"<p>I have more attachments to download instead of downloading one by one.</p>\n<p>I need to download them by zipping these files as batched 2 or 3 files in each zip based on conditions written in the code.</p>\n<p>The code is written to download 2 zip files but it downloaded only one zip through response.</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.PrintWriter;\n\nimport java.net.URLEncoder;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n\npublic class downloadSert extends HttpServlet {\n\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config);\n    }\n\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        request.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setContentType(&quot;application/zip&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=Attachments.ZIP&quot;);\n        response.addHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n        response.addHeader(&quot;Expires&quot;, &quot;0&quot;);\n\n        String[] cjFiles = { &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\1.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\2.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\3.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\4.txt&quot;, &quot;C:\\\\Users\\\\MW\\\\Desktop\\\\Treasury process title and status\\\\5.txt&quot; };\n\n        int len = cjFiles.length;\n        int attachmentTotalForEachZip = 0;\n        int zipBatches = 0;\n        if (len &lt;= 10) {\n            attachmentTotalForEachZip = 2;\n            zipBatches = len / 2;\n        } else {\n            attachmentTotalForEachZip = 4;\n            zipBatches = len / 4;\n        }\n        int total = 0;\n        FileInputStream in = null;\n        ZipOutputStream zos = null;\n        List&lt;ZipOutputStream&gt; zips = new ArrayList&lt;ZipOutputStream&gt;();\n\n        for (int i = 0; i &lt; cjFiles.length; i++) {\n            if (total == 0) {\n                zos = new ZipOutputStream(response.getOutputStream());\n            }\n            total = total + 1;\n            in = new FileInputStream(cjFiles[i]);\n            File f = new File(cjFiles[i]);\n\n            zos.putNextEntry(new ZipEntry((i + 1) + &quot; - &quot; + f.getName().substring(f.getName().indexOf(&quot;-&quot;) + 1, f.getName().length())));\n\n            int length;\n            byte[] buffer = new byte[1024];\n            while ((length = in.read(buffer)) &gt; 0) {\n                zos.write(buffer, 0, length);\n            }\n            in.close();\n            zos.closeEntry();\n\n            //download zip\n            if (total == attachmentTotalForEachZip) {\n                zips.add(zos);\n                total = 0;\n                zipBatches = zipBatches - 1;\n            }\n\n            // handle zip file amount (pdf total in each zip )\n            if (zipBatches == 1) {\n                attachmentTotalForEachZip = attachmentTotalForEachZip + (len % attachmentTotalForEachZip);\n                zipBatches = 0;\n            }\n        }\n\n\n        for (ZipOutputStream z : zips) {\n            z.finish();\n            z.close();\n        }\n\n    }\n}\n</code></pre>\n<p>if there is any way to download all zip file.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"score":3,"creation_date":1652702071,"post_id":72258654,"comment_id":127661909,"body_markdown":"Using only one class is a bad idea. https://en.wikipedia.org/wiki/Single-responsibility_principle","body":"Using only one class is a bad idea. <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Single-responsibility_principle</a>"},{"owner":{"account_id":20271133,"reputation":35,"user_id":14867279,"display_name":"nrbt"},"score":1,"creation_date":1652703532,"post_id":72258654,"comment_id":127662404,"body_markdown":"@yuri777 Thanks for the response and the resource !","body":"@yuri777 Thanks for the response and the resource !"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652707924,"creation_date":1652707374,"answer_id":72259936,"question_id":72258654,"body_markdown":"yeah, creating a class per responisibility is good practice. It is one of principle of [SOLID][1]. There is a great post about [clarifying of  single responsibility][2].\r\n\r\n&gt; could it be a good idea to create a createReport method inside ReportHeader instead of making public getters available?\r\n\r\nIt looks like `CreateReport` is not related to `ReportHeader`.  Class `Report` would be more appropriate place for `CreateReport()` method. In addition, if you will place the method `CreateReport()` in `Report` class, then you can call it like `Create`, not `CreateReport`: \r\n\r\n\tpublic class Report {\r\n\t\tpublic void Create(){}\r\n\t}\r\n\r\nand then in user class it would look like this:\r\n\r\n    Report report = new Report();\r\n    report.Create(); // not &quot;CreateReport()&quot; :)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SOLID\r\n  [2]: https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle","title":"Is splitting a class in two different class a good idea?","body":"<p>yeah, creating a class per responisibility is good practice. It is one of principle of <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID</a>. There is a great post about <a href=\"https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\">clarifying of  single responsibility</a>.</p>\n<blockquote>\n<p>could it be a good idea to create a createReport method inside ReportHeader instead of making public getters available?</p>\n</blockquote>\n<p>It looks like <code>CreateReport</code> is not related to <code>ReportHeader</code>.  Class <code>Report</code> would be more appropriate place for <code>CreateReport()</code> method. In addition, if you will place the method <code>CreateReport()</code> in <code>Report</code> class, then you can call it like <code>Create</code>, not <code>CreateReport</code>:</p>\n<pre><code>public class Report {\n    public void Create(){}\n}\n</code></pre>\n<p>and then in user class it would look like this:</p>\n<pre><code>Report report = new Report();\nreport.Create(); // not &quot;CreateReport()&quot; :)\n</code></pre>\n"}],"owner":{"account_id":20271133,"reputation":35,"user_id":14867279,"display_name":"nrbt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72259936,"answer_count":1,"score":2,"last_activity_date":1652707924,"creation_date":1652701356,"question_id":72258654,"body_markdown":"For a project I need to create report from Excel files.\r\n\r\nI have a big design question that I can&#39;t solve myself and I haven&#39;t found a solution online.\r\n\r\nHere is what I&#39;m trying to do:\r\n\r\n 1. Read the content of an Excel file\r\n 2. With that content initialize a new Report class\r\n 3. Profit!\r\n\r\nThe problem is that the first time I wrote that, I put everything inside my Report class (by everything I mean reading the file, formatting the fields, etc.) and I ended up with a big class.\r\n\r\nI wasn&#39;t satisfied with that, so I tried to do something better and created a ReportReader class that contains all my reading file stuff and also getters to init a Report class. It is a good idea or should I stick to one class?\r\n\r\nAlso, could it be a good idea to create a createReport method inside ReportHeader instead of making public getters available?\r\n\r\n    public class ReportReader {\r\n        private final File file;\r\n        private final Sheet sheet;\r\n    \r\n        public ReportReader(File file) throws InvalidFormatException\r\n            , IOException {\r\n         \r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getFields() {\r\n    \r\n        }\r\n    \r\n        private String formatField(String input) {\r\n    \r\n        }\r\n    \r\n        public String getName() {\r\n        \r\n        }\r\n    \r\n        public Cell[][] getContent() {\r\n    \r\n        }\r\n    \r\n        public String getType() throws IOException {\r\n    \r\n        }\r\n    }\r\n\r\nand:\r\n\r\n    public class Report {\r\n        private String name;\r\n        private String type;\r\n        private ArrayList&lt;String&gt; fields;\r\n        private Cell[][] content;\r\n        \r\n        public Report(String name, String type, ArrayList&lt;String&gt; fields, \r\n            Cell[][] content) throws IOException {\r\n        \r\n        }\r\n        \r\n        public void saveFieldsModel() throws IOException {\r\n           \r\n        }\r\n        \r\n        public String getFieldsAsCsv() {\r\n        \r\n        }\r\n    }\r\n\r\n","title":"Is splitting a class in two different class a good idea?","body":"<p>For a project I need to create report from Excel files.</p>\n<p>I have a big design question that I can't solve myself and I haven't found a solution online.</p>\n<p>Here is what I'm trying to do:</p>\n<ol>\n<li>Read the content of an Excel file</li>\n<li>With that content initialize a new Report class</li>\n<li>Profit!</li>\n</ol>\n<p>The problem is that the first time I wrote that, I put everything inside my Report class (by everything I mean reading the file, formatting the fields, etc.) and I ended up with a big class.</p>\n<p>I wasn't satisfied with that, so I tried to do something better and created a ReportReader class that contains all my reading file stuff and also getters to init a Report class. It is a good idea or should I stick to one class?</p>\n<p>Also, could it be a good idea to create a createReport method inside ReportHeader instead of making public getters available?</p>\n<pre><code>public class ReportReader {\n    private final File file;\n    private final Sheet sheet;\n\n    public ReportReader(File file) throws InvalidFormatException\n        , IOException {\n     \n    }\n\n    public ArrayList&lt;String&gt; getFields() {\n\n    }\n\n    private String formatField(String input) {\n\n    }\n\n    public String getName() {\n    \n    }\n\n    public Cell[][] getContent() {\n\n    }\n\n    public String getType() throws IOException {\n\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>public class Report {\n    private String name;\n    private String type;\n    private ArrayList&lt;String&gt; fields;\n    private Cell[][] content;\n    \n    public Report(String name, String type, ArrayList&lt;String&gt; fields, \n        Cell[][] content) throws IOException {\n    \n    }\n    \n    public void saveFieldsModel() throws IOException {\n       \n    }\n    \n    public String getFieldsAsCsv() {\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652472535,"creation_date":1652472535,"answer_id":72234932,"question_id":72229520,"body_markdown":"You&#39;re missing the `name` attribute (which is what is put in the url when you submit the form).  Your form should look something like this (extra attributes omitted):\r\n\r\n    &lt;form method=&quot;GET&quot; th:action=&quot;@{/formular}&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;from&quot; /&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;to&quot; /&gt;\r\n      &lt;input type=&quot;submit&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\nAnd to get the variables in your controllers, I don&#39;t think you should be using `@PathVariables`. Rather, just regular `@RequestParam`s.\r\n\r\n    @GetMapping(&quot;/formular&quot;)\r\n    public String formular(@RequestParam(&quot;from&quot;) String from, @RequestParam(&quot;to&quot;) String to) {\r\n      System.out.println(from);\r\n      System.out.println(to);\r\n      return &quot;formular&quot;;\r\n    }","title":"GetMapping endpoint for a button which takes inputs from 2 text fields","body":"<p>You're missing the <code>name</code> attribute (which is what is put in the url when you submit the form).  Your form should look something like this (extra attributes omitted):</p>\n<pre><code>&lt;form method=&quot;GET&quot; th:action=&quot;@{/formular}&quot;&gt;\n  &lt;input type=&quot;text&quot; name=&quot;from&quot; /&gt;\n  &lt;input type=&quot;text&quot; name=&quot;to&quot; /&gt;\n  &lt;input type=&quot;submit&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>And to get the variables in your controllers, I don't think you should be using <code>@PathVariables</code>. Rather, just regular <code>@RequestParam</code>s.</p>\n<pre><code>@GetMapping(&quot;/formular&quot;)\npublic String formular(@RequestParam(&quot;from&quot;) String from, @RequestParam(&quot;to&quot;) String to) {\n  System.out.println(from);\n  System.out.println(to);\n  return &quot;formular&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652707897,"creation_date":1652444390,"question_id":72229520,"body_markdown":"I have a basic html page with 2 textboxes and a button. I need to make the button respond after the entries in the textbox \r\n\r\n![View](https://i.stack.imgur.com/ZB8xP.png)\r\n\r\nThe body of the html looks like this : \r\n\r\n```html\r\n&lt;div class=&quot;row&quot;&gt;\r\n  &lt;div class=&quot;col-2&quot;&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot; placeholder=&quot;start date(yyyy-mm-dd)&quot;\r\n      required=&quot;required&quot;&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&quot;col-2&quot;&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot; placeholder=&quot;end date(yyyy-mm-dd)&quot; required=&quot;required&quot;&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;\r\n  &lt;br&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;row&quot;&gt;\r\n  &lt;div class=&quot;row-2&quot;&gt;\r\n    &lt;!-- \t\t\t\t\t\t&lt;input type=&quot;button&quot; value=&quot;Validate&quot;&gt; --&gt;\r\n    &lt;a th:attr=&quot;href=&#39;/formular&quot; class=&quot;btn btn-primary btn-sml&quot; role=&quot;button&quot; aria-disabled=&quot;true&quot;&gt;Check&lt;/a&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nI am not able to establish a controller for the same (for the GetMapping annotation)\r\nI expect it to be ```@GetMapping(&quot;/formular?from={dateFrom}&amp;to={dateTo}&quot;)  ```\r\n\r\nCode: \r\n```java\r\n @GetMapping(&quot;/formular?from={dateFrom}&amp;to={dateTo}&quot;)\r\n public String formData(@PathVariable String dateFrom, @PathVariable String dateTo, Model model) throws IOException, SQLException {\r\n\r\n \tlogger.info(&quot;inside the datefrom dateto&quot;);\r\n \treturn &quot;formular&quot;;\r\n }\r\n```\r\n\r\nBut that does not help. It does not print the log message after entering the dates and clicking the button.\r\n\r\nCould anyone suggest?\r\n ","title":"GetMapping endpoint for a button which takes inputs from 2 text fields","body":"<p>I have a basic html page with 2 textboxes and a button. I need to make the button respond after the entries in the textbox</p>\n<p><img src=\"https://i.stack.imgur.com/ZB8xP.png\" alt=\"View\" /></p>\n<p>The body of the html looks like this :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;row&quot;&gt;\n  &lt;div class=&quot;col-2&quot;&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot; placeholder=&quot;start date(yyyy-mm-dd)&quot;\n      required=&quot;required&quot;&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;col-2&quot;&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot; placeholder=&quot;end date(yyyy-mm-dd)&quot; required=&quot;required&quot;&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;br&gt;\n&lt;/div&gt;\n&lt;div class=&quot;row&quot;&gt;\n  &lt;div class=&quot;row-2&quot;&gt;\n    &lt;!--                        &lt;input type=&quot;button&quot; value=&quot;Validate&quot;&gt; --&gt;\n    &lt;a th:attr=&quot;href='/formular&quot; class=&quot;btn btn-primary btn-sml&quot; role=&quot;button&quot; aria-disabled=&quot;true&quot;&gt;Check&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I am not able to establish a controller for the same (for the GetMapping annotation)\nI expect it to be <code>@GetMapping(&quot;/formular?from={dateFrom}&amp;to={dateTo}&quot;)  </code></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @GetMapping(&quot;/formular?from={dateFrom}&amp;to={dateTo}&quot;)\n public String formData(@PathVariable String dateFrom, @PathVariable String dateTo, Model model) throws IOException, SQLException {\n\n    logger.info(&quot;inside the datefrom dateto&quot;);\n    return &quot;formular&quot;;\n }\n</code></pre>\n<p>But that does not help. It does not print the log message after entering the dates and clicking the button.</p>\n<p>Could anyone suggest?</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1652511839,"post_id":72237297,"comment_id":127628297,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1652516501,"post_id":72237297,"comment_id":127629024,"body_markdown":"If `--module-path` is not recognized, then that means you&#39;re using Java 8 or older. Modules were added in Java 9. I see you have a JDK 17.0.3 in your `Path` variable, but the entry immediately before it is pointing to a Java 8 installation (the `...\\Oracle\\Java\\javapath` entry). Since that entry is first, it takes precedence. Also, your `JAVA_HOME` variable is pointing to a Java 8 installation.","body":"If <code>--module-path</code> is not recognized, then that means you&#39;re using Java 8 or older. Modules were added in Java 9. I see you have a JDK 17.0.3 in your <code>Path</code> variable, but the entry immediately before it is pointing to a Java 8 installation (the <code>...\\Oracle\\Java\\javapath</code> entry). Since that entry is first, it takes precedence. Also, your <code>JAVA_HOME</code> variable is pointing to a Java 8 installation."},{"owner":{"account_id":24388530,"reputation":1,"user_id":18318883,"display_name":"AndresMFIT"},"score":0,"creation_date":1652549435,"post_id":72237297,"comment_id":127635218,"body_markdown":"@Slaw I just uninstalled Java 8 since I won&#39;t be using it. Now i get the `Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found` how do I proceed? I do have the PATH_TO_FX set up too...","body":"@Slaw I just uninstalled Java 8 since I won&#39;t be using it. Now i get the <code>Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found</code> how do I proceed? I do have the PATH_TO_FX set up too..."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652599517,"post_id":72237297,"comment_id":127641313,"body_markdown":"[openjfx.io getting started](https://openjfx.io/openjfx-docs/) documents using JavaFX with VS Code.","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io getting started</a> documents using JavaFX with VS Code."}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652674057,"creation_date":1652669835,"answer_id":72253759,"question_id":72237297,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMy suggestion is to use [JavaFX of vscode][3] to build the project instead of JavaFX SDK.\r\n\r\nI think the main problem is still caused by the environmental settings.\r\n\r\nIf you must use the JavaFX SDK, put it in a location without spaces, or quote the path when using it. And please read the [document][4] in detail.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YzwV7.png\r\n  [2]: https://i.stack.imgur.com/bmU0R.png\r\n  [3]: https://code.visualstudio.com/docs/java/java-gui\r\n  [4]: https://openjfx.io/openjfx-docs/#IDE-Intellij","title":"JavaFX setup is not working, because of environment variables possibly","body":"<p><a href=\"https://i.stack.imgur.com/YzwV7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YzwV7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bmU0R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmU0R.png\" alt=\"enter image description here\" /></a></p>\n<p>My suggestion is to use <a href=\"https://code.visualstudio.com/docs/java/java-gui\" rel=\"nofollow noreferrer\">JavaFX of vscode</a> to build the project instead of JavaFX SDK.</p>\n<p>I think the main problem is still caused by the environmental settings.</p>\n<p>If you must use the JavaFX SDK, put it in a location without spaces, or quote the path when using it. And please read the <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">document</a> in detail.</p>\n"}],"owner":{"account_id":24388530,"reputation":1,"user_id":18318883,"display_name":"AndresMFIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652707676,"creation_date":1652501519,"question_id":72237297,"body_markdown":"I will be using `JavaFX` on a project. I am no expert but I did install it once with no major issue or problem.\r\n\r\nBut I switched to a new computer and after trying to install it doesn&#39;t build; at first I got the message that \r\n\r\n`JavaFX runtime` components were missing then got the `java.lang.module.FindException: Module javafx.controls not found` \r\n\r\nand I did check other posts that had the same error as the mentioned above but got no solution to the problem and now the message is \r\n\r\n&gt; `Unrecognized option: --module-path Error: Could not create the Java\r\n&gt; Virtual Machine. Error: A fatal exception has occurred. Program will\r\n&gt; exit.`\r\n\r\n (Please note that I&#39;m using VS Code and no build tools, I am referencing the libraries to use JavaFX)\r\n\r\n[Path to JavaFX][1]\r\n\r\n[launch.json configured][2]\r\n\r\n[JRE path][3]\r\n\r\n[Environment variables][4]\r\n\r\nAnd I&#39;m really confused with the JRE, SDK and JDK, I installed the SDK using VS Code but I don&#39;t know if my environment variables are configured as they should be...\r\n\r\nThanks in advance for the help, since I&#39;m no expert I don&#39;t know if this information is enough, I hope it is :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQNsQ.png\r\n  [2]: https://i.stack.imgur.com/1ZUzS.png\r\n  [3]: https://i.stack.imgur.com/D0sYW.png\r\n  [4]: https://i.stack.imgur.com/iUX5b.png","title":"JavaFX setup is not working, because of environment variables possibly","body":"<p>I will be using <code>JavaFX</code> on a project. I am no expert but I did install it once with no major issue or problem.</p>\n<p>But I switched to a new computer and after trying to install it doesn't build; at first I got the message that</p>\n<p><code>JavaFX runtime</code> components were missing then got the <code>java.lang.module.FindException: Module javafx.controls not found</code></p>\n<p>and I did check other posts that had the same error as the mentioned above but got no solution to the problem and now the message is</p>\n<blockquote>\n<p><code>Unrecognized option: --module-path Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.</code></p>\n</blockquote>\n<p>(Please note that I'm using VS Code and no build tools, I am referencing the libraries to use JavaFX)</p>\n<p><a href=\"https://i.stack.imgur.com/bQNsQ.png\" rel=\"nofollow noreferrer\">Path to JavaFX</a></p>\n<p><a href=\"https://i.stack.imgur.com/1ZUzS.png\" rel=\"nofollow noreferrer\">launch.json configured</a></p>\n<p><a href=\"https://i.stack.imgur.com/D0sYW.png\" rel=\"nofollow noreferrer\">JRE path</a></p>\n<p><a href=\"https://i.stack.imgur.com/iUX5b.png\" rel=\"nofollow noreferrer\">Environment variables</a></p>\n<p>And I'm really confused with the JRE, SDK and JDK, I installed the SDK using VS Code but I don't know if my environment variables are configured as they should be...</p>\n<p>Thanks in advance for the help, since I'm no expert I don't know if this information is enough, I hope it is :)</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","ttl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652706175,"post_id":72259387,"comment_id":127663342,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":4670812,"reputation":75,"user_id":19127404,"display_name":"Anni Benni"},"score":0,"creation_date":1652706726,"post_id":72259387,"comment_id":127663560,"body_markdown":"I added more details to this question","body":"I added more details to this question"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652707653,"creation_date":1652707653,"answer_id":72260004,"question_id":72259387,"body_markdown":"I cite the [documentation][1]:\r\n\r\n&gt; Spring Data MongoDB can automatically create indexes for entity types annotated with @Document. Index creation must be explicitly enabled since version 3.0 to prevent undesired effects with collection lifecycle and performance impact.\r\n\r\nDid you enable automatic index creation? Because if you didn&#39;t, that will most likely be the reason why your index was not created.\r\n\r\nWith Spring Boot you can enable automatic index creation with the following config in your `application.yml`:\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      auto-index-creation: true\r\n```\r\n\r\nOr if you prefer properties:\r\n```\r\nspring.data.mongodb.auto-index-creation=true\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current-SNAPSHOT/reference/html/#mapping.index-creation","title":"Why Mongo TTL index is not been creating via Spring Data","body":"<p>I cite the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current-SNAPSHOT/reference/html/#mapping.index-creation\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Spring Data MongoDB can automatically create indexes for entity types annotated with @Document. Index creation must be explicitly enabled since version 3.0 to prevent undesired effects with collection lifecycle and performance impact.</p>\n</blockquote>\n<p>Did you enable automatic index creation? Because if you didn't, that will most likely be the reason why your index was not created.</p>\n<p>With Spring Boot you can enable automatic index creation with the following config in your <code>application.yml</code>:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      auto-index-creation: true\n</code></pre>\n<p>Or if you prefer properties:</p>\n<pre><code>spring.data.mongodb.auto-index-creation=true\n</code></pre>\n"}],"owner":{"account_id":4670812,"reputation":75,"user_id":19127404,"display_name":"Anni Benni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3182,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1652882151,"accepted_answer_id":72260004,"answer_count":1,"score":3,"last_activity_date":1652707653,"creation_date":1652704958,"question_id":72259387,"body_markdown":"**Problem**: mongodb ttl index is not been creating via Spring Data \r\n\r\nI have a spring-boot application and MongoDB as database.\r\n\r\nI have an entity class:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Document(COLLECTION_NAME)\r\n    public class PersonEntity {\r\n    \r\n        public static final String COLLECTION_NAME = &quot;person_info&quot;;\r\n        private static final String PERSON_NAME = &quot;person_name&quot;;\r\n    \r\n    \r\n        @Id\r\n        private PersonId id;\r\n    \r\n        @Field(name = PERSON_NAME)\r\n        private String personName;\r\n    \r\n        \r\n        @Indexed(name = &quot;ttl_index&quot;, expireAfterSeconds=20)\r\n        private LocalDateTime date;\r\n    }\r\n\r\n\r\n\r\nAnd I persist a new document to MongoDB using this repository:\r\n\r\n    public interface SellerRequestInfoRepository extends ReactiveMongoRepository&lt;PersonEntityEntity, PersonId&gt; {}\r\n\r\nusing\r\n\r\n    personRepository.save(entity);\r\n\r\n\r\nBut the TTL index is not created on MongoDB after insetting the Person document:\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vOupf.png\r\n\r\nPlease, advice, what I am doing wrong","title":"Why Mongo TTL index is not been creating via Spring Data","body":"<p><strong>Problem</strong>: mongodb ttl index is not been creating via Spring Data</p>\n<p>I have a spring-boot application and MongoDB as database.</p>\n<p>I have an entity class:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(COLLECTION_NAME)\npublic class PersonEntity {\n\n    public static final String COLLECTION_NAME = &quot;person_info&quot;;\n    private static final String PERSON_NAME = &quot;person_name&quot;;\n\n\n    @Id\n    private PersonId id;\n\n    @Field(name = PERSON_NAME)\n    private String personName;\n\n    \n    @Indexed(name = &quot;ttl_index&quot;, expireAfterSeconds=20)\n    private LocalDateTime date;\n}\n</code></pre>\n<p>And I persist a new document to MongoDB using this repository:</p>\n<pre><code>public interface SellerRequestInfoRepository extends ReactiveMongoRepository&lt;PersonEntityEntity, PersonId&gt; {}\n</code></pre>\n<p>using</p>\n<pre><code>personRepository.save(entity);\n</code></pre>\n<p>But the TTL index is not created on MongoDB after insetting the Person document:</p>\n<p><a href=\"https://i.stack.imgur.com/vOupf.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>Please, advice, what I am doing wrong</p>\n"},{"tags":["java","pdf","text","itext","coordinates"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1652512389,"post_id":71900839,"comment_id":127628388,"body_markdown":"Use text extraction with a custom text extraction strategy which stores the lowest x coordinate of each line (text at approximately the same y coordinate.","body":"Use text extraction with a custom text extraction strategy which stores the lowest x coordinate of each line (text at approximately the same y coordinate."}],"answers":[{"tags":[],"owner":{"account_id":25286974,"reputation":11,"user_id":19113754,"display_name":"Ethan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652707633,"creation_date":1652497431,"answer_id":72237020,"question_id":71900839,"body_markdown":"I&#39;m not very familiar with itext, but if you use pdfbox, you can override the `writePage` method of the `PDFTextStripper` class. The position of all text is in the member variable &quot;charactersByArticle&quot; of `PDFTextStripper` class, so you can then get the leftmost coordinate from this variable and use it to minus font size is your need.I guess there are similar classes in itext.","title":"How to get coordinate of text from line paragraph pdf itext5","body":"<p>I'm not very familiar with itext, but if you use pdfbox, you can override the <code>writePage</code> method of the <code>PDFTextStripper</code> class. The position of all text is in the member variable &quot;charactersByArticle&quot; of <code>PDFTextStripper</code> class, so you can then get the leftmost coordinate from this variable and use it to minus font size is your need.I guess there are similar classes in itext.</p>\n"}],"owner":{"account_id":24966783,"reputation":1,"user_id":18830252,"display_name":"XSA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652707633,"creation_date":1650188536,"question_id":71900839,"body_markdown":"How to get coordinate of left of line text paragraph pdf. I mean like pic (x,y).\r\nCoordinate per line.\r\nI use itext5 and java\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9t0S9.jpg","title":"How to get coordinate of text from line paragraph pdf itext5","body":"<p>How to get coordinate of left of line text paragraph pdf. I mean like pic (x,y).\nCoordinate per line.\nI use itext5 and java</p>\n<p><img src=\"https://i.stack.imgur.com/9t0S9.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring","jsp"],"answers":[{"tags":[],"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652707300,"creation_date":1652706098,"answer_id":72259670,"question_id":72259526,"body_markdown":"Did you try adding `http` prefix?\r\n\r\n    &lt;a href=&quot;http://localhost:8080/dashboard/info/${banner.id}&quot; &gt;Wiecej informacji&lt;/a&gt;\r\n\r\nOr you can use;\r\n\r\n    &lt;a href=&quot;//localhost:8080/dashboard/info/${banner.id}&quot;&gt;Wiecej informacji&lt;/a&gt;\r\n\r\nThis will be use current page protocol. When you are in `https` page it will convert to https://localhost:8080/...\r\n\r\n**Edit:**\r\n\r\nAlternatively, when your code is running in same server. You can use;\r\n\r\n\r\n    &lt;a href=&quot;/dashboard/info/${banner.id}&quot;&gt;Wiecej informacji&lt;/a&gt;\r\n\r\n","title":"Href isn&#39;t redirecting","body":"<p>Did you try adding <code>http</code> prefix?</p>\n<pre><code>&lt;a href=&quot;http://localhost:8080/dashboard/info/${banner.id}&quot; &gt;Wiecej informacji&lt;/a&gt;\n</code></pre>\n<p>Or you can use;</p>\n<pre><code>&lt;a href=&quot;//localhost:8080/dashboard/info/${banner.id}&quot;&gt;Wiecej informacji&lt;/a&gt;\n</code></pre>\n<p>This will be use current page protocol. When you are in <code>https</code> page it will convert to https://localhost:8080/...</p>\n<p><strong>Edit:</strong></p>\n<p>Alternatively, when your code is running in same server. You can use;</p>\n<pre><code>&lt;a href=&quot;/dashboard/info/${banner.id}&quot;&gt;Wiecej informacji&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":25303732,"reputation":3,"user_id":19127615,"display_name":"adihno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72259670,"answer_count":1,"score":0,"last_activity_date":1652707300,"creation_date":1652705487,"question_id":72259526,"body_markdown":"I have this code in JSP:\r\n\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt; &lt;%@ taglib prefix=&quot;security&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; &lt;%--   Created by IntelliJ IDEA.   User: PC   Date: 02.05.2022   Time: 15:20   To change this template use File | Settings | File Templates.\r\n    --%&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    \r\n    \r\n    &lt;html&gt; &lt;head&gt;\r\n        &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Dashboard&lt;/h1&gt; &lt;br&gt;\r\n    \r\n    \r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Banners&lt;/th&gt;\r\n            &lt;th&gt;Localization&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;%--@elvariable id=&quot;banners&quot; type=&quot;java.util.List&lt;pl.coderslab.entity.Banners&gt;&quot;--%&gt;\r\n        &lt;c:forEach var=&quot;banner&quot; items=&quot;${banners}&quot;&gt;\r\n    \r\n            &lt;tr&gt;\r\n                &lt;td&gt;Banner&lt;/td&gt;\r\n                &lt;td&gt;${banner.street}&lt;/td&gt;\r\n                &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/info/${banner.id}&quot; &gt;Wiecej informacji &lt;/a&gt;&lt;/td&gt;\r\n                &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/edit/${banner.id}&quot; &gt;Edytuj &lt;/a&gt;&lt;/td&gt;\r\n                &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/delete/${banner.id}&quot; &gt;Usun &lt;/a&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n    \r\n    \r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt; &lt;/html&gt;\r\n\r\nand also have controller:\r\n\r\n    @RequestMapping(value = &quot;/dashboard/info/{id}&quot;, method = RequestMethod.GET)\r\n        public String showInfo(Model model, @PathVariable(&quot;id&quot;) int id){\r\n            List&lt;Banners&gt; banners = bannerDao.getBannerById(id);\r\n            model.addAttribute(&quot;banner&quot;, banners);\r\n            return &quot;showInfo&quot;;\r\n    \r\n        }\r\n        @RequestMapping(value = &quot;/dashboard/info/{id}&quot;, method = RequestMethod.POST)\r\n        public String info(){\r\n            return &quot;showInfo&quot;;\r\n        }\r\n\r\nThe problem is that these href&#39;s aren&#39;t redirecting. When i click on them nothing happens, as if they were simple buttons. I don&#39;t have an idea, what to do here?\r\n1st edit:\r\nOkay so answer from Halil Ibrahim Binol worked but now it shows me 404 error, even if I have @RequestMapping to this address\r\n","title":"Href isn&#39;t redirecting","body":"<p>I have this code in JSP:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt; &lt;%@ taglib prefix=&quot;security&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; &lt;%--   Created by IntelliJ IDEA.   User: PC   Date: 02.05.2022   Time: 15:20   To change this template use File | Settings | File Templates.\n--%&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n\n\n&lt;html&gt; &lt;head&gt;\n    &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Dashboard&lt;/h1&gt; &lt;br&gt;\n\n\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Banners&lt;/th&gt;\n        &lt;th&gt;Localization&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;%--@elvariable id=&quot;banners&quot; type=&quot;java.util.List&lt;pl.coderslab.entity.Banners&gt;&quot;--%&gt;\n    &lt;c:forEach var=&quot;banner&quot; items=&quot;${banners}&quot;&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;Banner&lt;/td&gt;\n            &lt;td&gt;${banner.street}&lt;/td&gt;\n            &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/info/${banner.id}&quot; &gt;Wiecej informacji &lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/edit/${banner.id}&quot; &gt;Edytuj &lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt; &lt;a href=&quot;localhost:8080/dashboard/delete/${banner.id}&quot; &gt;Usun &lt;/a&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n\n\n&lt;/table&gt;\n\n&lt;/body&gt; &lt;/html&gt;\n</code></pre>\n<p>and also have controller:</p>\n<pre><code>@RequestMapping(value = &quot;/dashboard/info/{id}&quot;, method = RequestMethod.GET)\n    public String showInfo(Model model, @PathVariable(&quot;id&quot;) int id){\n        List&lt;Banners&gt; banners = bannerDao.getBannerById(id);\n        model.addAttribute(&quot;banner&quot;, banners);\n        return &quot;showInfo&quot;;\n\n    }\n    @RequestMapping(value = &quot;/dashboard/info/{id}&quot;, method = RequestMethod.POST)\n    public String info(){\n        return &quot;showInfo&quot;;\n    }\n</code></pre>\n<p>The problem is that these href's aren't redirecting. When i click on them nothing happens, as if they were simple buttons. I don't have an idea, what to do here?\n1st edit:\nOkay so answer from Halil Ibrahim Binol worked but now it shows me 404 error, even if I have @RequestMapping to this address</p>\n"},{"tags":["java","serialization","client-server","deserialization"],"answers":[{"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1335764469,"creation_date":1335763748,"answer_id":10378907,"question_id":10378855,"body_markdown":"If a class does not explicitly define a `private static final long serialVersionUID` in the code it will be autogenerated, and there is no guarantee that different machines will generate the same id; it looks like that is exactly what happened.\r\nAlso if the classes are different in any way (using different versions of the class) the autogenerated `serialVersionUID`s will also be different.\r\n\r\nFrom the `Serializable` interface&#39;s [docs](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html):\r\n\r\n&gt;If a serializable class does not explicitly declare a `serialVersionUID`, then the serialization runtime will calculate a default `serialVersionUID` value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is *strongly recommended* that all serializable classes explicitly declare `serialVersionUID` values, since the default `serialVersionUID` computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected `InvalidClassExceptions` during deserialization. Therefore, to guarantee a consistent `serialVersionUID` value across different java compiler implementations, a serializable class must declare an explicit `serialVersionUID` value. It is also strongly advised that explicit `serialVersionUID` declarations use the `private` modifier where possible, since such declarations apply only to the immediately declaring class--`serialVersionUID` fields are not useful as inherited members. Array classes cannot declare an explicit `serialVersionUID`, so they always have the default computed value, but the requirement for matching `serialVersionUID` values is waived for array classes.\r\n\r\nYou should define a `serialVersionUID` in the class definition, e.g.:\r\n\r\n    class MyClass implements Serializable {\r\n        private static final long serialVersionUID = 6529685098267757690L;\r\n        ...","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>If a class does not explicitly define a <code>private static final long serialVersionUID</code> in the code it will be autogenerated, and there is no guarantee that different machines will generate the same id; it looks like that is exactly what happened.\nAlso if the classes are different in any way (using different versions of the class) the autogenerated <code>serialVersionUID</code>s will also be different.</p>\n\n<p>From the <code>Serializable</code> interface's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\">docs</a>:</p>\n\n<blockquote>\n  <p>If a serializable class does not explicitly declare a <code>serialVersionUID</code>, then the serialization runtime will calculate a default <code>serialVersionUID</code> value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is <em>strongly recommended</em> that all serializable classes explicitly declare <code>serialVersionUID</code> values, since the default <code>serialVersionUID</code> computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected <code>InvalidClassExceptions</code> during deserialization. Therefore, to guarantee a consistent <code>serialVersionUID</code> value across different java compiler implementations, a serializable class must declare an explicit <code>serialVersionUID</code> value. It is also strongly advised that explicit <code>serialVersionUID</code> declarations use the <code>private</code> modifier where possible, since such declarations apply only to the immediately declaring class--<code>serialVersionUID</code> fields are not useful as inherited members. Array classes cannot declare an explicit <code>serialVersionUID</code>, so they always have the default computed value, but the requirement for matching <code>serialVersionUID</code> values is waived for array classes.</p>\n</blockquote>\n\n<p>You should define a <code>serialVersionUID</code> in the class definition, e.g.:</p>\n\n<pre><code>class MyClass implements Serializable {\n    private static final long serialVersionUID = 6529685098267757690L;\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1335763775,"creation_date":1335763775,"answer_id":10378909,"question_id":10378855,"body_markdown":"I believe this happens because you use the different versions of the same class on client and server.\r\nIt can be different data fields or methods","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>I believe this happens because you use the different versions of the same class on client and server.\nIt can be different data fields or methods</p>\n"},{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1474380649,"creation_date":1335765951,"answer_id":10379195,"question_id":10378855,"body_markdown":"Serialisation in java is not meant as long term persistence or transport format -  it is too fragile for this.  With the slightest difference in class bytecode and JVM, your data is not readable anymore. Use XML or JSON data-binding for your task ([XStream][1] is fast and easy to use, and there are a ton of alternatives)\r\n\r\n[1]: http://x-stream.github.io/","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>Serialisation in java is not meant as long term persistence or transport format -  it is too fragile for this.  With the slightest difference in class bytecode and JVM, your data is not readable anymore. Use XML or JSON data-binding for your task (<a href=\"http://x-stream.github.io/\" rel=\"nofollow\">XStream</a> is fast and easy to use, and there are a ton of alternatives)</p>\n"},{"tags":[],"owner":{"account_id":5813688,"reputation":263,"user_id":4584004,"accept_rate":56,"display_name":"nawazish-stackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425829163,"creation_date":1425829163,"answer_id":28928291,"question_id":10378855,"body_markdown":"The exception message clearly speaks that the class versions, which would include the class meta data as well, has changed over time. In other words, the class structure during serialization is not the same during de-serialization. This is what is most probably &quot;going on&quot;.","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>The exception message clearly speaks that the class versions, which would include the class meta data as well, has changed over time. In other words, the class structure during serialization is not the same during de-serialization. This is what is most probably \"going on\".</p>\n"},{"tags":[],"owner":{"account_id":9580694,"reputation":1500,"user_id":7115301,"accept_rate":83,"display_name":"belka"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1521021168,"creation_date":1521021168,"answer_id":49274502,"question_id":10378855,"body_markdown":"One thing that could have happened:\r\n\r\n- 1: you create your serialized data with a given library A (version X)\r\n- 2: you then try to read this data with the same library A (but version Y)\r\n\r\nHence, at compile time for the version X, the JVM will generate a first Serial ID (for version X) and it will do the same with the other version Y (another Serial ID).\r\n\r\nWhen your program tries to de-serialize the data, it can&#39;t because the two classes do not have the same Serial ID and your program have no guarantee that the two Serialized objects correspond to the same class format.\r\n\r\nAssuming you changed your constructor in the mean time and this should make sense to you.","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>One thing that could have happened:</p>\n\n<ul>\n<li>1: you create your serialized data with a given library A (version X)</li>\n<li>2: you then try to read this data with the same library A (but version Y)</li>\n</ul>\n\n<p>Hence, at compile time for the version X, the JVM will generate a first Serial ID (for version X) and it will do the same with the other version Y (another Serial ID).</p>\n\n<p>When your program tries to de-serialize the data, it can't because the two classes do not have the same Serial ID and your program have no guarantee that the two Serialized objects correspond to the same class format.</p>\n\n<p>Assuming you changed your constructor in the mean time and this should make sense to you.</p>\n"},{"tags":[],"owner":{"account_id":5315378,"reputation":1,"user_id":4240463,"display_name":"Mr Big"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563955828,"creation_date":1563953519,"answer_id":57177513,"question_id":10378855,"body_markdown":"If you are using oc4j to deploy the ear.\r\n\r\nMake sure you set in the project the correct path for deploy.home=\r\n\r\nYou can fiind deploy.home in common.properties file\r\n\r\nThe oc4j needs to reload the new created class in the ear so that the server class and the client class have the same serialVersionUID ","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>If you are using oc4j to deploy the ear.</p>\n\n<p>Make sure you set in the project the correct path for deploy.home=</p>\n\n<p>You can fiind deploy.home in common.properties file</p>\n\n<p>The oc4j needs to reload the new created class in the ear so that the server class and the client class have the same serialVersionUID </p>\n"},{"tags":[],"owner":{"account_id":7635211,"reputation":81,"user_id":5788964,"display_name":"Pekmezli D&#252;r&#252;m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580717537,"creation_date":1580717537,"answer_id":60035340,"question_id":10378855,"body_markdown":"If you are using the Eclipse IDE, check your Debug/Run configuration.\r\nAt Classpath tab, select the runner project and click Edit button.\r\n*Only include exported entries* must be checked. ","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>If you are using the Eclipse IDE, check your Debug/Run configuration.\nAt Classpath tab, select the runner project and click Edit button.\n<em>Only include exported entries</em> must be checked. </p>\n"},{"tags":[],"owner":{"account_id":15193854,"reputation":614,"user_id":10963827,"display_name":"Sneha Damle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625579352,"creation_date":1625579352,"answer_id":68271801,"question_id":10378855,"body_markdown":"If you are using IntelliJ IDEA, go to File-&gt;Invalidate Caches. This will clear any cached classes which might cause this issue.","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>If you are using IntelliJ IDEA, go to File-&gt;Invalidate Caches. This will clear any cached classes which might cause this issue.</p>\n"},{"tags":[],"owner":{"account_id":925639,"reputation":431,"user_id":5779647,"display_name":"Roc King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652239723,"creation_date":1652239723,"answer_id":72195063,"question_id":10378855,"body_markdown":"The autogenerated serialVersionUID would be same in different OS or JDK version.\r\nBut if you add a function or a field, the autogenerated serialVersionUID will change.","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>The autogenerated serialVersionUID would be same in different OS or JDK version.\nBut if you add a function or a field, the autogenerated serialVersionUID will change.</p>\n"},{"tags":[],"owner":{"account_id":5200248,"reputation":170,"user_id":4159892,"display_name":"Tankiso Thebe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652706829,"creation_date":1652706829,"answer_id":72259816,"question_id":10378855,"body_markdown":"Try deleting/renaming the output file and recreate a new one if you had stored an object during testing, I had this error because I had serialized data to the same file in two different jFrame Classes.","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>Try deleting/renaming the output file and recreate a new one if you had stored an object during testing, I had this error because I had serialized data to the same file in two different jFrame Classes.</p>\n"}],"owner":{"account_id":1035579,"reputation":2534,"user_id":1042952,"accept_rate":59,"display_name":"lonesome"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181882,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":10378907,"answer_count":10,"score":66,"last_activity_date":1652706829,"creation_date":1335763347,"question_id":10378855,"body_markdown":"I created client and server and then added a class in client side for serializing purposes, then simply just went to the folder of the client in my hard drive and copy paste it to the server correponding location, both `classname.class` and `classname.java` respectively.\n\nIt worked well in my own laptop but when I wanted to continue my work on other system , when I opened the projects folders and after client tries to connect to the server, the following error appears:\n\n    Exception in thread &quot;main&quot; java.io.InvalidClassException: projectname.clasname; local class incompatible: stream classdesc serialVersionUID = -6009442170907349114, local class serialVersionUID = 6529685098267757690\n        at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:562)\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\n\nWhat is going on? Is it because I ran the program with an older version of the IDE?\n# EDIT\n\n    import java.io.Serializable;\n    import java.net.URL;\n    \n    public class KeyAdr implements Serializable {\n      private static final long serialVersionUID = 6529685098267757690L;\n    \n      public URL adr;\n      public String key;\n    }\n","title":"java.io.InvalidClassException: local class incompatible:","body":"<p>I created client and server and then added a class in client side for serializing purposes, then simply just went to the folder of the client in my hard drive and copy paste it to the server correponding location, both <code>classname.class</code> and <code>classname.java</code> respectively.</p>\n<p>It worked well in my own laptop but when I wanted to continue my work on other system , when I opened the projects folders and after client tries to connect to the server, the following error appears:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.InvalidClassException: projectname.clasname; local class incompatible: stream classdesc serialVersionUID = -6009442170907349114, local class serialVersionUID = 6529685098267757690\n    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:562)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\n</code></pre>\n<p>What is going on? Is it because I ran the program with an older version of the IDE?</p>\n<h1>EDIT</h1>\n<pre><code>import java.io.Serializable;\nimport java.net.URL;\n\npublic class KeyAdr implements Serializable {\n  private static final long serialVersionUID = 6529685098267757690L;\n\n  public URL adr;\n  public String key;\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652700011,"post_id":72258267,"comment_id":127661241,"body_markdown":"Does [the `distinct` method of `Stream`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#distinct()) give you what you want?","body":"Does <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\">the <code>distinct</code> method of <code>Stream</code></a> give you what you want?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652700643,"post_id":72258267,"comment_id":127661426,"body_markdown":"@OleV.V. it does not. I don&#39;t just want distinct elements. Assuming a `List&lt;List&lt;Integer&gt;&gt;` where each nested list can have the same elements in a different order, I need to check if the resulting list would already contain any of the integers, no matter the position. For `[1,3,5]` and `[3, 7, 9]` the `distinct()&#180; method would return both, while only 1 of both is valid","body":"@OleV.V. it does not. I don&#39;t just want distinct elements. Assuming a <code>List&lt;List&lt;Integer&gt;&gt;</code> where each nested list can have the same elements in a different order, I need to check if the resulting list would already contain any of the integers, no matter the position. For <code>[1,3,5]</code> and <code>[3, 7, 9]</code> the `distinct()&#180; method would return both, while only 1 of both is valid"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652702599,"post_id":72258267,"comment_id":127662102,"body_markdown":"Please provide the question with the structure of the `Foo` class. It&#39;s not obvious from the first glance that it contains a field `value` of type `Integer`.","body":"Please provide the question with the structure of the <code>Foo</code> class. It&#39;s not obvious from the first glance that it contains a field <code>value</code> of type <code>Integer</code>."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652703751,"post_id":72258267,"comment_id":127662497,"body_markdown":"@AlexanderIvanchenko converted question from `Foo` to `Integer`, as the type doesn&#39;t matter to the question itself","body":"@AlexanderIvanchenko converted question from <code>Foo</code> to <code>Integer</code>, as the type doesn&#39;t matter to the question itself"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652704338,"post_id":72258267,"comment_id":127662701,"body_markdown":"That makes a difference in how to establish the uniqueness of lists. Since there&#39;s already an answer posted by @AshishPatil, maybe it might make sense to rollback the version of the question? (*the statement of the problem is totally up to you, it&#39;s only a proposition*)","body":"That makes a difference in how to establish the uniqueness of lists. Since there&#39;s already an answer posted by @AshishPatil, maybe it might make sense to rollback the version of the question? (<i>the statement of the problem is totally up to you, it&#39;s only a proposition</i>)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652705357,"post_id":72258267,"comment_id":127663036,"body_markdown":"A result list is considered unique, only if none if its elements are already existing in any previously returned result list","body":"A result list is considered unique, only if none if its elements are already existing in any previously returned result list"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652700622,"creation_date":1652700622,"answer_id":72258511,"question_id":72258267,"body_markdown":"May be something like this:- \r\n\r\n\r\n     list.stream().\r\n    sorted(Entry.comparingByValue()).\r\n    collect(ArrayList&lt;List&lt;Foo&gt;&gt;::new,(x,y)-&gt;!checkResultContainsElement(x, y.getKey()),(x,y)-&gt;x.add(y.getKey()));","title":"Java stream collect check if result would contain element","body":"<p>May be something like this:-</p>\n<pre><code> list.stream().\nsorted(Entry.comparingByValue()).\ncollect(ArrayList&lt;List&lt;Foo&gt;&gt;::new,(x,y)-&gt;!checkResultContainsElement(x, y.getKey()),(x,y)-&gt;x.add(y.getKey()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652706730,"creation_date":1652705805,"answer_id":72259595,"question_id":72258267,"body_markdown":"If we put aside for a moment the details on whether implementation will be stream-based or not, the existing implementation of how uniqueness of the values of incoming lists is being checked can be improved. \r\n\r\nWe can gain a significant performance improvement by maintaining a `Set` of previously encountered values.\r\n\r\nI.e. *values* from each *list* that was added to the resulting list would be stored in a *set*. And in order to ensure uniqueness of every incoming *list*, its values would be checked against the *set*.\r\n\r\nSince operations of a stream pipeline should be stateless, as well as collector shouldn&#39;t hold a state (*i.e. changes should happen only inside its mutable container*). We can approach this problem by defining a container that will encompass a resulting list of lists of `Foo` and a set of foo-values.\r\n\r\nI&#39;ve implemented this container as a Java 16 record:\r\n\r\n    public record FooContainer(Set&lt;Integer&gt; fooValues, List&lt;List&lt;Foo&gt;&gt; foosList) {\r\n        public void tryAdd(List&lt;Foo&gt; foos) {\r\n            if (!hasValue(foos)) {\r\n                foos.forEach(foo -&gt; fooValues.add(foo.getValue()));\r\n                foosList.add(foos);\r\n            }\r\n        }\r\n        \r\n        public boolean hasValue(List&lt;Foo&gt; foos) {\r\n            return foos.stream().map(Foo::getValue).anyMatch(fooValues::contains);\r\n        }\r\n    }\r\n\r\nThe record shown above would is used as a mutable container of a custom collector created with `Colloctors.of()`. Collector&#39;s `accumulator` make&#39;s use of `tryAdd()` method defined by the container. And the `finisher` extracts the *resulting list* from the container.\r\n\r\n*Note* that this operation is not parallelizable, hence `combiner` of the collector throws an `AssertionError`.\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;List&lt;Foo&gt;, Integer&gt; diffMap =\r\n            Map.of(List.of(new Foo(1), new Foo(2), new Foo(3)), 1,\r\n                   List.of(new Foo(1), new Foo(4), new Foo(5)), 2,\r\n                   List.of(new Foo(7), new Foo(8), new Foo(9)), 3);\r\n        \r\n        List&lt;List&lt;Foo&gt;&gt; result = diffMap.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue())\r\n            .map(Map.Entry::getKey)\r\n            .collect(Collector.of(\r\n                () -&gt; new FooContainer(new HashSet&lt;&gt;(), new ArrayList&lt;&gt;()),\r\n                FooContainer::tryAdd,\r\n                (left, right) -&gt; {throw new AssertionError(&quot;The operation isn&#39;t parallelizable&quot;);},\r\n                FooContainer::foosList\r\n            ));\r\n    \r\n        System.out.println(result);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[[Foo{1}, Foo{2}, Foo{3}], [Foo{7}, Foo{8}, Foo{9}]]\r\n```","title":"Java stream collect check if result would contain element","body":"<p>If we put aside for a moment the details on whether implementation will be stream-based or not, the existing implementation of how uniqueness of the values of incoming lists is being checked can be improved.</p>\n<p>We can gain a significant performance improvement by maintaining a <code>Set</code> of previously encountered values.</p>\n<p>I.e. <em>values</em> from each <em>list</em> that was added to the resulting list would be stored in a <em>set</em>. And in order to ensure uniqueness of every incoming <em>list</em>, its values would be checked against the <em>set</em>.</p>\n<p>Since operations of a stream pipeline should be stateless, as well as collector shouldn't hold a state (<em>i.e. changes should happen only inside its mutable container</em>). We can approach this problem by defining a container that will encompass a resulting list of lists of <code>Foo</code> and a set of foo-values.</p>\n<p>I've implemented this container as a Java 16 record:</p>\n<pre><code>public record FooContainer(Set&lt;Integer&gt; fooValues, List&lt;List&lt;Foo&gt;&gt; foosList) {\n    public void tryAdd(List&lt;Foo&gt; foos) {\n        if (!hasValue(foos)) {\n            foos.forEach(foo -&gt; fooValues.add(foo.getValue()));\n            foosList.add(foos);\n        }\n    }\n    \n    public boolean hasValue(List&lt;Foo&gt; foos) {\n        return foos.stream().map(Foo::getValue).anyMatch(fooValues::contains);\n    }\n}\n</code></pre>\n<p>The record shown above would is used as a mutable container of a custom collector created with <code>Colloctors.of()</code>. Collector's <code>accumulator</code> make's use of <code>tryAdd()</code> method defined by the container. And the <code>finisher</code> extracts the <em>resulting list</em> from the container.</p>\n<p><em>Note</em> that this operation is not parallelizable, hence <code>combiner</code> of the collector throws an <code>AssertionError</code>.</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;List&lt;Foo&gt;, Integer&gt; diffMap =\n        Map.of(List.of(new Foo(1), new Foo(2), new Foo(3)), 1,\n               List.of(new Foo(1), new Foo(4), new Foo(5)), 2,\n               List.of(new Foo(7), new Foo(8), new Foo(9)), 3);\n    \n    List&lt;List&lt;Foo&gt;&gt; result = diffMap.entrySet().stream()\n        .sorted(Map.Entry.comparingByValue())\n        .map(Map.Entry::getKey)\n        .collect(Collector.of(\n            () -&gt; new FooContainer(new HashSet&lt;&gt;(), new ArrayList&lt;&gt;()),\n            FooContainer::tryAdd,\n            (left, right) -&gt; {throw new AssertionError(&quot;The operation isn't parallelizable&quot;);},\n            FooContainer::foosList\n        ));\n\n    System.out.println(result);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[[Foo{1}, Foo{2}, Foo{3}], [Foo{7}, Foo{8}, Foo{9}]]\n</code></pre>\n"}],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72259595,"answer_count":2,"score":1,"last_activity_date":1652706730,"creation_date":1652699446,"question_id":72258267,"body_markdown":"As I couldn&#39;t find anything related to this, I am wondering if streams even allow this.\r\n\r\nIn [my answer](https://stackoverflow.com/a/72255543/7109162) to another question, I have following code to add elements to a result list, only if the result list doesn&#39;t already contain it:\r\n\r\n\tList&lt;Entry&lt;List&lt;Integer&gt;, Integer&gt;&gt; list = new ArrayList&lt;&gt;(diffMap.entrySet());\r\n\tlist.sort(Entry.comparingByValue());\r\n\tList&lt;List&lt;Integer&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n\tfor (Entry&lt;List&lt;Integer&gt;, Integer&gt; entry2 : list) {\r\n\t\tif (!checkResultContainsElement(resultList, entry2.getKey()))\r\n\t\t\tresultList.add(entry2.getKey());\r\n\t}\r\n\r\n`checkResultContainsElement` method: \r\n\r\n\tprivate static boolean checkResultContainsElement(List&lt;List&lt;Integer&gt;&gt; resultList, List&lt;Integer&gt; key) {\r\n\t\tList&lt;Integer&gt; vals = resultList.stream().flatMap(e -&gt; e.stream().map(e2 -&gt; e2))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\treturn key.stream().map(e -&gt; e).anyMatch(e -&gt; vals.contains(e));\r\n\t}\r\n\r\nNow I am wondering, if this for-loop:\r\n\r\n\tfor (Entry&lt;List&lt;Integer&gt;, Integer&gt; entry2 : list) {\r\n\t\tif (!checkResultContainsElement(resultList, entry2.getKey()))\r\n\t\t\tresultList.add(entry2.getKey());\r\n\t}\r\n\r\ncan be realized using streams. I don&#39;t think that `.filter()` method would work, as it would remove data from `List&lt;Entry&lt;List&lt;Integer&gt;, Integer&gt;&gt; list` while I don&#39;t even know if an element should be considered. I guess that a custom collector could work, but I also wouldn&#39;t know how to implement one, as the result is constantly changing with each newly added element.\r\n\r\nI am looking for something like this (can be different if something else is better):\r\n\r\n    list.stream().sorted(Entry.comparingByValue()).collect(???);\r\n\r\nwhere `???` would filter the data and return it as a list.  \r\n\r\n---\r\n\r\nThe values of one result list may not be contained in another one. So these lists are valid:\r\n\r\n    [1, 2, 3, 4]\r\n    [5, 6, 7, 8]\r\n    [12, 12, 12, 12]\r\n\r\nbut of these, only the first is valid:\r\n\r\n    [1, 2, 3, 4] &lt;-- valid\r\n    [5, 3, 7, 8] &lt;-- invalid: 3 already exists\r\n    [12, 12, 2, 12] &lt;-- invalid: 2 already exists\r\n\r\n","title":"Java stream collect check if result would contain element","body":"<p>As I couldn't find anything related to this, I am wondering if streams even allow this.</p>\n<p>In <a href=\"https://stackoverflow.com/a/72255543/7109162\">my answer</a> to another question, I have following code to add elements to a result list, only if the result list doesn't already contain it:</p>\n<pre><code>List&lt;Entry&lt;List&lt;Integer&gt;, Integer&gt;&gt; list = new ArrayList&lt;&gt;(diffMap.entrySet());\nlist.sort(Entry.comparingByValue());\nList&lt;List&lt;Integer&gt;&gt; resultList = new ArrayList&lt;&gt;();\nfor (Entry&lt;List&lt;Integer&gt;, Integer&gt; entry2 : list) {\n    if (!checkResultContainsElement(resultList, entry2.getKey()))\n        resultList.add(entry2.getKey());\n}\n</code></pre>\n<p><code>checkResultContainsElement</code> method:</p>\n<pre><code>private static boolean checkResultContainsElement(List&lt;List&lt;Integer&gt;&gt; resultList, List&lt;Integer&gt; key) {\n    List&lt;Integer&gt; vals = resultList.stream().flatMap(e -&gt; e.stream().map(e2 -&gt; e2))\n            .collect(Collectors.toList());\n    return key.stream().map(e -&gt; e).anyMatch(e -&gt; vals.contains(e));\n}\n</code></pre>\n<p>Now I am wondering, if this for-loop:</p>\n<pre><code>for (Entry&lt;List&lt;Integer&gt;, Integer&gt; entry2 : list) {\n    if (!checkResultContainsElement(resultList, entry2.getKey()))\n        resultList.add(entry2.getKey());\n}\n</code></pre>\n<p>can be realized using streams. I don't think that <code>.filter()</code> method would work, as it would remove data from <code>List&lt;Entry&lt;List&lt;Integer&gt;, Integer&gt;&gt; list</code> while I don't even know if an element should be considered. I guess that a custom collector could work, but I also wouldn't know how to implement one, as the result is constantly changing with each newly added element.</p>\n<p>I am looking for something like this (can be different if something else is better):</p>\n<pre><code>list.stream().sorted(Entry.comparingByValue()).collect(???);\n</code></pre>\n<p>where <code>???</code> would filter the data and return it as a list.</p>\n<hr />\n<p>The values of one result list may not be contained in another one. So these lists are valid:</p>\n<pre><code>[1, 2, 3, 4]\n[5, 6, 7, 8]\n[12, 12, 12, 12]\n</code></pre>\n<p>but of these, only the first is valid:</p>\n<pre><code>[1, 2, 3, 4] &lt;-- valid\n[5, 3, 7, 8] &lt;-- invalid: 3 already exists\n[12, 12, 2, 12] &lt;-- invalid: 2 already exists\n</code></pre>\n"},{"tags":["java","excel","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1600687201,"post_id":63991122,"comment_id":113155989,"body_markdown":"There&#39;s [`Cell.getDateCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getDateCellValue--) which you should be using if you directly want to receive a `java.util.Date`. However, this isn&#39;t up to date, so you could as well use [`Cell.getLocalDateTimeValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getLocalDateTimeCellValue--) and format it as desired by using a `java.time.DateTimeFormatter`. You are currently using the `toString()` of a cell, which will not (always) give you the underlying value.","body":"There&#39;s <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getDateCellValue--\" rel=\"nofollow noreferrer\"><code>Cell.getDateCellValue()</code></a> which you should be using if you directly want to receive a <code>java.util.Date</code>. However, this isn&#39;t up to date, so you could as well use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getLocalDateTimeCellValue--\" rel=\"nofollow noreferrer\"><code>Cell.getLocalDateTimeValue()</code></a> and format it as desired by using a <code>java.time.DateTimeFormatter</code>. You are currently using the <code>toString()</code> of a cell, which will not (always) give you the underlying value."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1600689026,"post_id":63991122,"comment_id":113156770,"body_markdown":"@deHaar it works for the numeric case but for the cell containing text it go into an exception","body":"@deHaar it works for the numeric case but for the cell containing text it go into an exception"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1600689114,"post_id":63991122,"comment_id":113156807,"body_markdown":"Yes, for text, use `getStringCellValue()` and maybe convert it via `LocalDate.parse(DateTImeFormatter.ofPattern(&quot;dd-MMM-uuuu&quot;, Locale.ITALIAN)` if the `String` is of that pattern...","body":"Yes, for text, use <code>getStringCellValue()</code> and maybe convert it via <code>LocalDate.parse(DateTImeFormatter.ofPattern(&quot;dd-MMM-uuuu&quot;, Locale.ITALIAN)</code> if the <code>String</code> is of that pattern..."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1600689547,"post_id":63991122,"comment_id":113157041,"body_markdown":"if you put it as answer I will be happy to accept it","body":"if you put it as answer I will be happy to accept it"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1600689597,"post_id":63991122,"comment_id":113157066,"body_markdown":"Sure... May take some minutes...","body":"Sure... May take some minutes..."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600690879,"creation_date":1600690879,"answer_id":63992184,"question_id":63991122,"body_markdown":"Buon giorno!\r\n\r\nYou are currently using the `toString()` method of the cell, which will not be very accurate in returning numeric values or even dates. It might work sometimes, but it won&#39;t do always.\r\n\r\nUse the methods that get you a real value, like [`Cell.getNumericCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getNumericCellValue--), [`Cell.getDateCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getDateCellValue--) (outdated because it returns a `java.util.Date`) or [`Cell.getLocalDateTimeCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getLocalDateTimeCellValue--). If your cell just contains text, like `&quot;16-ott-2020&quot;`, use the [`getStringCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getStringCellValue--) and convert the value returned to a `LocalDate` (or `LocalDateTime` depends on if *time of day* matters for you).\r\n\r\nHere&#39;s an example of the conversion (to a `LocalDate`):\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// assuming you alread received the value as String\r\n\tString cellStringValue = &quot;16-ott-2020&quot;;\r\n\t// provice a formatter that can parse Italian month names (or days of week)\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MMM-uuuu&quot;, Locale.ITALIAN);\r\n\t// parse the String to a LocalDate\r\n\tLocalDate sediciOttobreDuemilaEVenti = LocalDate.parse(cellStringValue, dtf);\r\n\t// and print its default value\r\n\tSystem.out.println(sediciOttobreDuemilaEVenti);\r\n\t// alternatively use the same formatter for output\r\n\tSystem.out.println(sediciOttobreDuemilaEVenti.format(dtf));\r\n}\r\n```\r\n\r\nThe output of that code is\r\n\r\n```lang-none\r\n2020-10-16\r\n16-ott-2020\r\n```","title":"How to correctly convert into a Date object this &quot;strange&quot; cell value retrieve parsing an Excel using Apache POI?","body":"<p>Buon giorno!</p>\n<p>You are currently using the <code>toString()</code> method of the cell, which will not be very accurate in returning numeric values or even dates. It might work sometimes, but it won't do always.</p>\n<p>Use the methods that get you a real value, like <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getNumericCellValue--\" rel=\"nofollow noreferrer\"><code>Cell.getNumericCellValue()</code></a>, <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getDateCellValue--\" rel=\"nofollow noreferrer\"><code>Cell.getDateCellValue()</code></a> (outdated because it returns a <code>java.util.Date</code>) or <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getLocalDateTimeCellValue--\" rel=\"nofollow noreferrer\"><code>Cell.getLocalDateTimeCellValue()</code></a>. If your cell just contains text, like <code>&quot;16-ott-2020&quot;</code>, use the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#getStringCellValue--\" rel=\"nofollow noreferrer\"><code>getStringCellValue()</code></a> and convert the value returned to a <code>LocalDate</code> (or <code>LocalDateTime</code> depends on if <em>time of day</em> matters for you).</p>\n<p>Here's an example of the conversion (to a <code>LocalDate</code>):</p>\n<pre><code>public static void main(String[] args) {\n    // assuming you alread received the value as String\n    String cellStringValue = &quot;16-ott-2020&quot;;\n    // provice a formatter that can parse Italian month names (or days of week)\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MMM-uuuu&quot;, Locale.ITALIAN);\n    // parse the String to a LocalDate\n    LocalDate sediciOttobreDuemilaEVenti = LocalDate.parse(cellStringValue, dtf);\n    // and print its default value\n    System.out.println(sediciOttobreDuemilaEVenti);\n    // alternatively use the same formatter for output\n    System.out.println(sediciOttobreDuemilaEVenti.format(dtf));\n}\n</code></pre>\n<p>The output of that code is</p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-10-16\n16-ott-2020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11312873,"reputation":1,"user_id":8295539,"display_name":"Hrishabh Kushwah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652360972,"creation_date":1652360972,"answer_id":72216183,"question_id":63991122,"body_markdown":"\tcase NUMERIC:\r\n\t\t\t\t\tif(Cell.getLocalDateTimeCellValue()!=null) {\r\n\t\t\t\t\t\tLocalDateTime actualdate = Cell.getLocalDateTimeCellValue();\r\n\t\t\t\t\t\tString formattedDate = actualdate.format(DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;));\r\n\t\t\t\t\t\tSystem.out.println(formattedDate);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;","title":"How to correctly convert into a Date object this &quot;strange&quot; cell value retrieve parsing an Excel using Apache POI?","body":"<pre><code>case NUMERIC:\n                if(Cell.getLocalDateTimeCellValue()!=null) {\n                    LocalDateTime actualdate = Cell.getLocalDateTimeCellValue();\n                    String formattedDate = actualdate.format(DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;));\n                    System.out.println(formattedDate);\n\n                }\n                break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11312873,"reputation":1,"user_id":8295539,"display_name":"Hrishabh Kushwah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652706397,"creation_date":1652706397,"answer_id":72259726,"question_id":63991122,"body_markdown":"\tswitch (Cell.getCellType()) {\r\n\t\t\t\tcase STRING: \r\n\t\t\t\t\t System.out.print(Cell.getStringCellValue());\r\n\t\t\t\t\t break;\r\n\t\t\t\tcase NUMERIC:\r\n\t\t\t\t\tDataFormatter df = new DataFormatter();\r\n\t\t\t\t\tString CellValue = df.formatCellValue(Cell);\r\n\t\t\t\t\tSystem.out.println(CellValue);\r\n\t\t\t\t\tbreak;\r\n\t\t\t    case BOOLEAN: \r\n\t\t\t    \tSystem.out.print(Cell.getBooleanCellValue());\r\n\t\t\t    \tbreak;\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tcase BLANK:\r\n\t\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\t}\t\r\n\t\t\t\tSystem.out.print(&quot; | &quot;);\r\n\t\t\t}","title":"How to correctly convert into a Date object this &quot;strange&quot; cell value retrieve parsing an Excel using Apache POI?","body":"<pre><code>switch (Cell.getCellType()) {\n            case STRING: \n                 System.out.print(Cell.getStringCellValue());\n                 break;\n            case NUMERIC:\n                DataFormatter df = new DataFormatter();\n                String CellValue = df.formatCellValue(Cell);\n                System.out.println(CellValue);\n                break;\n            case BOOLEAN: \n                System.out.print(Cell.getBooleanCellValue());\n                break;          \n            \n            case BLANK:\n                System.out.println(&quot;&quot;);\n            }   \n            System.out.print(&quot; | &quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63992184,"answer_count":3,"score":1,"last_activity_date":1652706397,"creation_date":1600686775,"question_id":63991122,"body_markdown":"I am going crazy trying to parse an Excel from Java using **Apache POI** and I ami finding the following problem parsing a specific column containin dates.\r\n\r\nThis is the column into my Excel file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see this column contains date fields but some cells of this column contains **number** values some other celles contains **text** values (I can see it using the **TYPE()** Excel function). I really don&#39;t know how it is possible because all the cell contains date fields. Some idea?\r\n\r\nAnyway in my code I am trying to handle this strange situation in this way:\r\n\r\n\tif(currentRow.getCell(20) != null &amp;&amp; !currentRow.getCell(20).toString().trim().isEmpty()) {\r\n\t\t\r\n\t\tif(currentRow.getCell(20).getCellType().toString().equals(&quot;STRING&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Data sottoscrizione contratto &#232; STRING: &quot; + currentRow.getCell(20).toString());\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(currentRow.getCell(20).getCellType().toString().equals(&quot;NUMERIC&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Data sottoscrizione contratto &#232; NUMERIC&quot;);\r\n\t\t\tString dateAsString = currentRow.getCell(20).toString();\r\n\t\t\tSystem.out.println(&quot;DATA SOTTOSCRIZIONE CONTRATTO: &quot; + currentRow.getCell(20).toString());\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nIn this way I can handle both the case trying to convert to a date.\r\n\r\nAnd here my problem. When it found an Excel numeric value in enter into the if **NUMERIC** case\r\n\r\nand printing the cell value by:\r\n\r\n    System.out.println(&quot;DATA SOTTOSCRIZIONE CONTRATTO: &quot; + currentRow.getCell(20).toString());\r\n\r\nI obtain printed the value **16-ott-2017** related to the date value **16/10/2017**\r\n\r\nAnd here some doubts: Why am I obtaining in this format instead something like **16/10/2017**.\r\n\r\n**16-ott-2017** should be the italian formattation of the date. How can I convert it into a propper Date object?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RKo6k.png","title":"How to correctly convert into a Date object this &quot;strange&quot; cell value retrieve parsing an Excel using Apache POI?","body":"<p>I am going crazy trying to parse an Excel from Java using <strong>Apache POI</strong> and I ami finding the following problem parsing a specific column containin dates.</p>\n<p>This is the column into my Excel file:</p>\n<p><a href=\"https://i.stack.imgur.com/RKo6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RKo6k.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see this column contains date fields but some cells of this column contains <strong>number</strong> values some other celles contains <strong>text</strong> values (I can see it using the <strong>TYPE()</strong> Excel function). I really don't know how it is possible because all the cell contains date fields. Some idea?</p>\n<p>Anyway in my code I am trying to handle this strange situation in this way:</p>\n<pre><code>if(currentRow.getCell(20) != null &amp;&amp; !currentRow.getCell(20).toString().trim().isEmpty()) {\n    \n    if(currentRow.getCell(20).getCellType().toString().equals(&quot;STRING&quot;)) {\n        System.out.println(&quot;Data sottoscrizione contratto è STRING: &quot; + currentRow.getCell(20).toString());\n        \n    }\n    else if(currentRow.getCell(20).getCellType().toString().equals(&quot;NUMERIC&quot;)) {\n        System.out.println(&quot;Data sottoscrizione contratto è NUMERIC&quot;);\n        String dateAsString = currentRow.getCell(20).toString();\n        System.out.println(&quot;DATA SOTTOSCRIZIONE CONTRATTO: &quot; + currentRow.getCell(20).toString());\n        \n        \n    }\n}\n</code></pre>\n<p>In this way I can handle both the case trying to convert to a date.</p>\n<p>And here my problem. When it found an Excel numeric value in enter into the if <strong>NUMERIC</strong> case</p>\n<p>and printing the cell value by:</p>\n<pre><code>System.out.println(&quot;DATA SOTTOSCRIZIONE CONTRATTO: &quot; + currentRow.getCell(20).toString());\n</code></pre>\n<p>I obtain printed the value <strong>16-ott-2017</strong> related to the date value <strong>16/10/2017</strong></p>\n<p>And here some doubts: Why am I obtaining in this format instead something like <strong>16/10/2017</strong>.</p>\n<p><strong>16-ott-2017</strong> should be the italian formattation of the date. How can I convert it into a propper Date object?</p>\n"},{"tags":["java","session","servlets"],"owner":{"account_id":23870394,"reputation":21,"user_id":17872167,"display_name":"Thuan Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652706373,"creation_date":1652706373,"question_id":72259724,"body_markdown":"I know that set session timeout using \r\n\r\n```\r\n&lt;session-config&gt;\r\n    &lt;session-timeout&gt;10&lt;/session-timeout&gt;\r\n&lt;/session-config&gt;\r\n``` \r\n\r\nin description it says: \r\n\r\n    &gt;Session expires if no request within time limit\r\n    &gt;\r\n     &gt;+ Session inactive\r\n     &gt;+ Session id and all attributes destroyed\r\n     &gt;+ Request for session attributes returns null\r\n\r\n\r\nso as description, everything will be removed after specific of time in session if no access. But I want to create id like OTP code and send to user by email so that user can verify and get new password by this way, and I want if after 10 mins there is no access this OTP will be deleted (removed in session)\r\n\r\nhere is my code that I&#39;m gonna use.\r\n\r\n```\r\n\r\n    @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String email = request.getParameter(&quot;email&quot;);\r\n            boolean checkExistMail = checkExistMail(email);\r\n            int otp = generateRandomNumber();\r\n            request.getSession().setAttribute(&quot;otp&quot;,otp);\r\n            //pseudo code\r\n            request.getSession().getAttribute(&quot;otp&quot;).settimeout(10 minutes);\r\n            //end pseudo code\r\n            String content = &quot;your otp code is: &quot;+otp;\r\n            Mail.sendMail(email,&quot;authentication to get password&quot;,content);\r\n            response.sendRedirect(&quot;authencation.jsp&quot;);\r\n        }\r\n\r\n```\r\n\r\nhow can I do this?\r\n\r\n**note**: I&#39;m a student at university, and I &#39;devised&#39; this method to solve this problem by myself, so maybe this code is kind of wrong approach. If there is anything or any method that is better than this, please let me know.","title":"how to set timeout for specific attribute in session servlet java jsp?","body":"<p>I know that set session timeout using</p>\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;10&lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p>in description it says:</p>\n<pre><code>&gt;Session expires if no request within time limit\n&gt;\n &gt;+ Session inactive\n &gt;+ Session id and all attributes destroyed\n &gt;+ Request for session attributes returns null\n</code></pre>\n<p>so as description, everything will be removed after specific of time in session if no access. But I want to create id like OTP code and send to user by email so that user can verify and get new password by this way, and I want if after 10 mins there is no access this OTP will be deleted (removed in session)</p>\n<p>here is my code that I'm gonna use.</p>\n<pre><code>\n    @Override\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            String email = request.getParameter(&quot;email&quot;);\n            boolean checkExistMail = checkExistMail(email);\n            int otp = generateRandomNumber();\n            request.getSession().setAttribute(&quot;otp&quot;,otp);\n            //pseudo code\n            request.getSession().getAttribute(&quot;otp&quot;).settimeout(10 minutes);\n            //end pseudo code\n            String content = &quot;your otp code is: &quot;+otp;\n            Mail.sendMail(email,&quot;authentication to get password&quot;,content);\n            response.sendRedirect(&quot;authencation.jsp&quot;);\n        }\n\n</code></pre>\n<p>how can I do this?</p>\n<p><strong>note</strong>: I'm a student at university, and I 'devised' this method to solve this problem by myself, so maybe this code is kind of wrong approach. If there is anything or any method that is better than this, please let me know.</p>\n"},{"tags":["java","swing","look-and-feel","darkmode"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1652706529,"post_id":72259692,"comment_id":127663482,"body_markdown":"*&quot;I am using the Look and Feel: `UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());`&quot;* The system look and feel is at least three different PLAFs. Which OS are you viewing it on? BTW - If I wanted to offer the user a dark PLAF, I&#39;d source a 3rd party PLAF that offers that.","body":"<i>&quot;I am using the Look and Feel: <code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClass&zwnj;&#8203;Name());</code>&quot;</i> The system look and feel is at least three different PLAFs. Which OS are you viewing it on? BTW - If I wanted to offer the user a dark PLAF, I&#39;d source a 3rd party PLAF that offers that."},{"owner":{"account_id":25298174,"reputation":1,"user_id":19122941,"display_name":"filreh"},"score":0,"creation_date":1652706609,"post_id":72259692,"comment_id":127663517,"body_markdown":"I am using WIndows, but this application is part of a bigger project which will need to run on any platform. Also i cannot use any libraries to keep the filesize down.","body":"I am using WIndows, but this application is part of a bigger project which will need to run on any platform. Also i cannot use any libraries to keep the filesize down."},{"owner":{"account_id":25298174,"reputation":1,"user_id":19122941,"display_name":"filreh"},"score":0,"creation_date":1652706668,"post_id":72259692,"comment_id":127663538,"body_markdown":"I chose this way of choosing the system LOF to make sure the app blends in with the os. It does not need to look the same everywhere, i just want a dark/ lightmode on every device.","body":"I chose this way of choosing the system LOF to make sure the app blends in with the os. It does not need to look the same everywhere, i just want a dark/ lightmode on every device."},{"owner":{"account_id":25298174,"reputation":1,"user_id":19122941,"display_name":"filreh"},"score":0,"creation_date":1652706695,"post_id":72259692,"comment_id":127663549,"body_markdown":"Is there any way of manually editing the colors?","body":"Is there any way of manually editing the colors?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1652707032,"post_id":72259692,"comment_id":127663689,"body_markdown":"*&quot;Is there any way of manually editing the colors?&quot;* Sure. Implement it in a custom PLAF. But as others have already done that, why reinvent the wheel?","body":"<i>&quot;Is there any way of manually editing the colors?&quot;</i> Sure. Implement it in a custom PLAF. But as others have already done that, why reinvent the wheel?"}],"owner":{"account_id":25298174,"reputation":1,"user_id":19122941,"display_name":"filreh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652706346,"creation_date":1652706227,"question_id":72259692,"body_markdown":"I am currently developing a larger application and I want to be able to use a dark mode.\r\n\r\nI am using the Look and Feel:\r\n```UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());```\r\n\r\nI do not want to use the Nimbus look and feel because i think it does not look good. Can i just change the default colors of this look and feel?\r\n\r\nI have already tried around a lot by doing \r\n```\r\nColor control = UIManager.getColor(&quot;control&quot;);\r\nColor info = UIManager.getColor(&quot;info&quot;);\r\nColor text = UIManager.getColor(&quot;text&quot;);\r\nUIManager.put(&quot;control&quot;, control);\r\nUIManager.put(&quot;info&quot;, info);\r\nUIManager.put(&quot;text&quot;, text);\r\nSwingUtilities.updateComponentTreeUI(textEditor.getFrame());\r\n```\r\n\r\nBut that didn`t work either.\r\n\r\nI hope you can help me.\r\n","title":"Java Swing change colorscheme","body":"<p>I am currently developing a larger application and I want to be able to use a dark mode.</p>\n<p>I am using the Look and Feel:\n<code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());</code></p>\n<p>I do not want to use the Nimbus look and feel because i think it does not look good. Can i just change the default colors of this look and feel?</p>\n<p>I have already tried around a lot by doing</p>\n<pre><code>Color control = UIManager.getColor(&quot;control&quot;);\nColor info = UIManager.getColor(&quot;info&quot;);\nColor text = UIManager.getColor(&quot;text&quot;);\nUIManager.put(&quot;control&quot;, control);\nUIManager.put(&quot;info&quot;, info);\nUIManager.put(&quot;text&quot;, text);\nSwingUtilities.updateComponentTreeUI(textEditor.getFrame());\n</code></pre>\n<p>But that didn`t work either.</p>\n<p>I hope you can help me.</p>\n"},{"tags":["java","swagger","openapi","quarkus"],"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652706336,"creation_date":1652706336,"question_id":72259710,"body_markdown":"I&#39;m going to define Open Api schema for an endpoint implemented in JAVA, which returns JSON like this:\r\n\r\n    {&quot;id&quot;: 1, &quot;data&quot;: [[int, int]]}\r\n\r\nAny idea how to configue the annotation @Schema?","title":"Open API Schema for an array of arrays","body":"<p>I'm going to define Open Api schema for an endpoint implemented in JAVA, which returns JSON like this:</p>\n<pre><code>{&quot;id&quot;: 1, &quot;data&quot;: [[int, int]]}\n</code></pre>\n<p>Any idea how to configue the annotation @Schema?</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":19378993,"reputation":160,"user_id":14170690,"display_name":"Ron Hillel"},"score":0,"creation_date":1652706039,"post_id":72259377,"comment_id":127663289,"body_markdown":"The dates could be saved in an object, so doing changes to the render won&#39;t work for long. (like the dates reset on clicking on another element).\nDoes it send a GET/POST request? If so, can you just skip the DOM and modify the request data instead?\n\nWhen you use selenium, did you see changes to the DOM? The dates element might have a dynamic ids / classes, so you might want to modify your selector, select the parent element and then the childs (dates),","body":"The dates could be saved in an object, so doing changes to the render won&#39;t work for long. (like the dates reset on clicking on another element). Does it send a GET/POST request? If so, can you just skip the DOM and modify the request data instead?  When you use selenium, did you see changes to the DOM? The dates element might have a dynamic ids / classes, so you might want to modify your selector, select the parent element and then the childs (dates),"},{"owner":{"account_id":19378993,"reputation":160,"user_id":14170690,"display_name":"Ron Hillel"},"score":0,"creation_date":1652706041,"post_id":72259377,"comment_id":127663290,"body_markdown":"or modifying your selector so it would would fit only these type of elements (the dates, e.g if they have a unique icon inside, or fixed unique structure)","body":"or modifying your selector so it would would fit only these type of elements (the dates, e.g if they have a unique icon inside, or fixed unique structure)"}],"answers":[{"tags":[],"owner":{"account_id":25254252,"reputation":1,"user_id":19086269,"display_name":"HCG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652706183,"creation_date":1652706183,"answer_id":72259687,"question_id":72259377,"body_markdown":"Solved this by:\r\n\r\n        ocupSelfEmpPage.establishedYearInput.click();\r\n        ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.SPACE);\r\n        ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.UP);\r\n        ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.ENTER);\r\n\r\nSo clicking on the input, then space to open the calendar and up to select january, then enter to save it","title":"Selecting date value from input type = &#39;month&#39;","body":"<p>Solved this by:</p>\n<pre><code>    ocupSelfEmpPage.establishedYearInput.click();\n    ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.SPACE);\n    ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.UP);\n    ocupSelfEmpPage.establishedYearInput.sendKeys(Keys.ENTER);\n</code></pre>\n<p>So clicking on the input, then space to open the calendar and up to select january, then enter to save it</p>\n"}],"owner":{"account_id":25254252,"reputation":1,"user_id":19086269,"display_name":"HCG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652706183,"creation_date":1652704902,"question_id":72259377,"body_markdown":"Given:\r\n\r\n    &lt;input class=&quot;inputField_input__2B0dA&quot; maxlength=&quot;7&quot; id=&quot;establishedYear&quot; data-testid=&quot;date-input&quot; type=&quot;month&quot; value=&quot;&quot;&gt;\r\n\r\nWhich on the page is an input field that looks like : ----- ---- [Calendar symbol]\r\n\r\nThe frist ----- resemble the month, and the next ---- the year =&gt; April 2020\r\n\r\nBut the only way to select the actual date is by clicking on the calendar and clicking on a month\r\n\r\nI tried to write the value of the element with the required string using js:\r\n\r\n    //        JavascriptExecutor jse = (JavascriptExecutor) getDriver();\r\n    //        jse.executeScript(&quot;document.getElementById(&#39;establishedYear&#39;).setAttribute(&#39;value&#39;, &#39;2022-04&#39;)&quot;);\r\n\r\nWhich works until the next action, when i click on another element, the value set  with JS dissapears.\r\n\r\n\r\nPS. If i try to manually type the date, it would work for the month, but then for the date if fails, it only changes the last char like for 2022 it would type 0002\r\n\r\nAlso, If i try to bascially click on the calendar icon, then click on the month with selenium, I cant do that because, when I try to create a selector for the date elements from the caledar, I cannot find them on the DOM.\r\n\r\nSo i click on the calendar icon, no changes to the dom appear(no new elements added to the dom)\r\n\r\nAny suggestions on how to tackle this problem?\r\n","title":"Selecting date value from input type = &#39;month&#39;","body":"<p>Given:</p>\n<pre><code>&lt;input class=&quot;inputField_input__2B0dA&quot; maxlength=&quot;7&quot; id=&quot;establishedYear&quot; data-testid=&quot;date-input&quot; type=&quot;month&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>Which on the page is an input field that looks like : ----- ---- [Calendar symbol]</p>\n<p>The frist ----- resemble the month, and the next ---- the year =&gt; April 2020</p>\n<p>But the only way to select the actual date is by clicking on the calendar and clicking on a month</p>\n<p>I tried to write the value of the element with the required string using js:</p>\n<pre><code>//        JavascriptExecutor jse = (JavascriptExecutor) getDriver();\n//        jse.executeScript(&quot;document.getElementById('establishedYear').setAttribute('value', '2022-04')&quot;);\n</code></pre>\n<p>Which works until the next action, when i click on another element, the value set  with JS dissapears.</p>\n<p>PS. If i try to manually type the date, it would work for the month, but then for the date if fails, it only changes the last char like for 2022 it would type 0002</p>\n<p>Also, If i try to bascially click on the calendar icon, then click on the month with selenium, I cant do that because, when I try to create a selector for the date elements from the caledar, I cannot find them on the DOM.</p>\n<p>So i click on the calendar icon, no changes to the dom appear(no new elements added to the dom)</p>\n<p>Any suggestions on how to tackle this problem?</p>\n"},{"tags":["multithreading","thread-safety","java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1652704476,"post_id":72259178,"comment_id":127662751,"body_markdown":"Given the `remove()` implementation does what you suggest (`ThreadLocalMap m = getMap(Thread.currentThread())`), I guess it might just be personal preference, or maybe something in the style guide that wasn&#39;t followed consistently. There isn&#39;t a performance or correctness reason in this case (there might have been a performance benefit if `t` would be referenced multiple times in the method).","body":"Given the <code>remove()</code> implementation does what you suggest (<code>ThreadLocalMap m = getMap(Thread.currentThread())</code>), I guess it might just be personal preference, or maybe something in the style guide that wasn&#39;t followed consistently. There isn&#39;t a performance or correctness reason in this case (there might have been a performance benefit if <code>t</code> would be referenced multiple times in the method)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1652706103,"post_id":72259178,"comment_id":127663314,"body_markdown":"I&#39;m not sure why you think I have said otherwise. The sentence in parentheses is an aside about why it could have been done for performance reasons **if** it had been referenced multiple times.","body":"I&#39;m not sure why you think I have said otherwise. The sentence in parentheses is an aside about why it could have been done for performance reasons <b>if</b> it had been referenced multiple times."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1652706371,"post_id":72259178,"comment_id":127663426,"body_markdown":"@MarkRotteveel My misreading :)","body":"@MarkRotteveel My misreading :)"}],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652705883,"creation_date":1652703912,"question_id":72259178,"body_markdown":"I came across to the source code of `java.lang.ThreadLocal` and I noticed an interesting code pattern. Anytime they need to access `Thread.currentThread()`, they first assign it to a local variable and only then they use it as a parameter for a method call.\r\n\r\n``` lang-java\r\nThread t = Thread.currentThread();\r\nThreadLocalMap map = getMap(t);\r\n```\r\n\r\nThis pattern is followed even if the variable `t` is never used another time in the method..\r\n\r\nIs there a specific reason to using this idiom? Why don&#39;t just call \r\n``` lang-java\r\nThreadLocalMap map = getMap(Thread.currentThread());\r\n```\r\nWould it have some unwanted side effects?\r\n\r\n(The code used to be like this until recently, the last commit using this pattern is from [28 Apr 2022][1]. However, there is a new commit from [07 May 2022][2] which changed the class a lot and the logic changed.)\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/bba456a8dbf9027e4b015567c17a79fc7441aa08/src/java.base/share/classes/java/lang/ThreadLocal.java\r\n  [2]: https://github.com/openjdk/jdk/blob/9583e3657e43cc1c6f2101a64534564db2a9bd84/src/java.base/share/classes/java/lang/ThreadLocal.java","title":"Is there a reason in Java why not to use Thread.currentThread() directly, but via a variable?","body":"<p>I came across to the source code of <code>java.lang.ThreadLocal</code> and I noticed an interesting code pattern. Anytime they need to access <code>Thread.currentThread()</code>, they first assign it to a local variable and only then they use it as a parameter for a method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t = Thread.currentThread();\nThreadLocalMap map = getMap(t);\n</code></pre>\n<p>This pattern is followed even if the variable <code>t</code> is never used another time in the method..</p>\n<p>Is there a specific reason to using this idiom? Why don't just call</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadLocalMap map = getMap(Thread.currentThread());\n</code></pre>\n<p>Would it have some unwanted side effects?</p>\n<p>(The code used to be like this until recently, the last commit using this pattern is from <a href=\"https://github.com/openjdk/jdk/blob/bba456a8dbf9027e4b015567c17a79fc7441aa08/src/java.base/share/classes/java/lang/ThreadLocal.java\" rel=\"nofollow noreferrer\">28 Apr 2022</a>. However, there is a new commit from <a href=\"https://github.com/openjdk/jdk/blob/9583e3657e43cc1c6f2101a64534564db2a9bd84/src/java.base/share/classes/java/lang/ThreadLocal.java\" rel=\"nofollow noreferrer\">07 May 2022</a> which changed the class a lot and the logic changed.)</p>\n"},{"tags":["java","swing","jframe","awt","layout-manager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651651555,"post_id":72108361,"comment_id":127411266,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651660055,"post_id":72108361,"comment_id":127414250,"body_markdown":"Use `BoxLayout` vertically with one column of five `JPanel` to which all the other components have been added without changing the layout manager ( `FlowLayout`) of `JPanel`","body":"Use <code>BoxLayout</code> vertically with one column of five <code>JPanel</code> to which all the other components have been added without changing the layout manager ( <code>FlowLayout</code>) of <code>JPanel</code>"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652705524,"creation_date":1652705524,"answer_id":72259533,"question_id":72108361,"body_markdown":"The sections of that column the Currency Exchange GUI seem to be of equal height, which would suggest a single column `GridLayout`. For unequal height sections, perhaps a `GridBagLayout` or a `BoxLayout` as suggested in the comments.\r\n\r\nEach of the sections themselves looks to be a default `FlowLayout`, with a line of components centered with some padding between.","title":"The best layout for this image?","body":"<p>The sections of that column the Currency Exchange GUI seem to be of equal height, which would suggest a single column <code>GridLayout</code>. For unequal height sections, perhaps a <code>GridBagLayout</code> or a <code>BoxLayout</code> as suggested in the comments.</p>\n<p>Each of the sections themselves looks to be a default <code>FlowLayout</code>, with a line of components centered with some padding between.</p>\n"}],"owner":{"account_id":25189868,"reputation":1,"user_id":19030177,"display_name":"احمد طبيله"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652705524,"creation_date":1651642621,"question_id":72108361,"body_markdown":"I don&#39;t know which is the best layout to use for this image, I think maybe grid layout (5*1) may be helpful but I can&#39;t add multiple components in one grid layout cell.\r\n\r\nHere&#39;s the GUI:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/JhMGQ.png&quot;&gt;","title":"The best layout for this image?","body":"<p>I don't know which is the best layout to use for this image, I think maybe grid layout (5*1) may be helpful but I can't add multiple components in one grid layout cell.</p>\n<p>Here's the GUI:</p>\n<img src=\"https://i.stack.imgur.com/JhMGQ.png\">\n"},{"tags":["java","linux","apache-storm"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1652705731,"post_id":72259520,"comment_id":127663170,"body_markdown":"I guess the real issue is to get the involved components to do more verbose logging. As in: you really need to see more information about that &quot;fatal&quot; exception that occurred. So look around whether there are command line / env vars that force zookeeper to do more logging.","body":"I guess the real issue is to get the involved components to do more verbose logging. As in: you really need to see more information about that &quot;fatal&quot; exception that occurred. So look around whether there are command line / env vars that force zookeeper to do more logging."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1652718312,"post_id":72259520,"comment_id":127668213,"body_markdown":"_&quot;Unrecognized VM option &#39;PrintGCDateStamps&#39;&quot;_ the JVM is started with an unrecognized option. This could mean that you&#39;re using a version that is not compatible with your application launch script (and your application itself). I believe this option was removed in Java 11, so likely your application requires Java 8. Check its documentation, and use a compatible JVM version. The Storm documentation isn&#39;t very clear, but they specify they test against Java 8, which suggests they haven&#39;t considered incompatible changes in newer Java versions.","body":"<i>&quot;Unrecognized VM option &#39;PrintGCDateStamps&#39;&quot;</i> the JVM is started with an unrecognized option. This could mean that you&#39;re using a version that is not compatible with your application launch script (and your application itself). I believe this option was removed in Java 11, so likely your application requires Java 8. Check its documentation, and use a compatible JVM version. The Storm documentation isn&#39;t very clear, but they specify they test against Java 8, which suggests they haven&#39;t considered incompatible changes in newer Java versions."}],"owner":{"account_id":6721640,"reputation":120,"user_id":16963686,"display_name":"CampingCow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652705468,"creation_date":1652705468,"question_id":72259520,"body_markdown":"I have setted up and started my zookeeper 3.8 and apache-storm 2.4 on my local machine. When I submit my topology to the local storm cluster its shown in the storm ui, but its not running. The log gives only this error message\r\n\r\n    2022-05-16 13:55:59.594 STDERR Thread-1 [INFO] [0.001s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:artifacts/gc.log instead.\r\n    2022-05-16 13:55:59.596 STDERR Thread-0 [INFO] Unrecognized VM option &#39;PrintGCDateStamps&#39;\r\n    2022-05-16 13:55:59.660 STDERR Thread-0 [INFO] Error: Could not create the Java Virtual Machine.\r\n    2022-05-16 13:55:59.669 STDERR Thread-0 [INFO] Error: A fatal exception has occurred. Program will exit. \r\n\r\nI am a little bit confused. I have build the topology with java 13 and run storm with java 13. I already found this thread https://stackoverflow.com/questions/54190115/\r\n\r\n\r\nand yes, I already did a clear reinstall. \r\nMy java version:\r\n\r\n    java --version\r\n    openjdk 13.0.7 2021-04-20\r\n    OpenJDK Runtime Environment (build 13.0.7+5-Ubuntu-0ubuntu120.04)\r\n    OpenJDK 64-Bit Server VM (build 13.0.7+5-Ubuntu-0ubuntu120.04, mixed mode)\r\n\r\n\r\nWhat is wrong? I have a clean and working java on my computer, but it fails while starting the topology. How can I find and fix the problem?\r\n\r\n\r\n\r\n\r\n","title":"how to fix Could not create the Java Virtual Machine in Apache Storm topology on cluster?","body":"<p>I have setted up and started my zookeeper 3.8 and apache-storm 2.4 on my local machine. When I submit my topology to the local storm cluster its shown in the storm ui, but its not running. The log gives only this error message</p>\n<pre><code>2022-05-16 13:55:59.594 STDERR Thread-1 [INFO] [0.001s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:artifacts/gc.log instead.\n2022-05-16 13:55:59.596 STDERR Thread-0 [INFO] Unrecognized VM option 'PrintGCDateStamps'\n2022-05-16 13:55:59.660 STDERR Thread-0 [INFO] Error: Could not create the Java Virtual Machine.\n2022-05-16 13:55:59.669 STDERR Thread-0 [INFO] Error: A fatal exception has occurred. Program will exit. \n</code></pre>\n<p>I am a little bit confused. I have build the topology with java 13 and run storm with java 13. I already found this thread <a href=\"https://stackoverflow.com/questions/54190115/\">How to fix error java virtual machine not found error in apache storm?</a></p>\n<p>and yes, I already did a clear reinstall.\nMy java version:</p>\n<pre><code>java --version\nopenjdk 13.0.7 2021-04-20\nOpenJDK Runtime Environment (build 13.0.7+5-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 13.0.7+5-Ubuntu-0ubuntu120.04, mixed mode)\n</code></pre>\n<p>What is wrong? I have a clean and working java on my computer, but it fails while starting the topology. How can I find and fix the problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8649,"page":1343,"page_size":100}
