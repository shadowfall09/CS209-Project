{"items":[{"tags":["java","checkbox","combobox","gxt"],"comments":[{"owner":{"account_id":2232109,"reputation":1138,"user_id":1969412,"accept_rate":97,"display_name":"Vivek Vardhan"},"score":0,"creation_date":1384348923,"post_id":19953195,"comment_id":29699678,"body_markdown":"http://stackoverflow.com/questions/9328142/gxt-comobobox-with-multi-select-feature\nThis discusses the same  problem in GXT 2","body":"<a href=\"http://stackoverflow.com/questions/9328142/gxt-comobobox-with-multi-select-feature\" title=\"gxt comobobox with multi select feature\">stackoverflow.com/questions/9328142/&hellip;</a> This discusses the same  problem in GXT 2"}],"answers":[{"tags":[],"owner":{"account_id":2232109,"reputation":1138,"user_id":1969412,"accept_rate":97,"display_name":"Vivek Vardhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1387867212,"creation_date":1387867212,"answer_id":20756127,"question_id":19953195,"body_markdown":"This is my code.. Not perfect, but sort of temporary workaround..\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import com.google.gwt.core.client.GWT;\r\n    import com.google.gwt.core.client.JsArrayString;\r\n    import client.grid.model.IComboBoxProperties;\r\n    import client.model.ComboBoxModel;\r\n    import com.sencha.gxt.cell.core.client.form.CheckBoxCell;\r\n    import com.sencha.gxt.cell.core.client.form.ComboBoxCell.TriggerAction;\r\n    import com.sencha.gxt.core.client.Style.HideMode;\r\n    import com.sencha.gxt.data.shared.LabelProvider;\r\n    import com.sencha.gxt.data.shared.ListStore;\r\n    import com.sencha.gxt.widget.core.client.Window;\r\n    import com.sencha.gxt.widget.core.client.event.ExpandEvent;\r\n    import com.sencha.gxt.widget.core.client.event.HideEvent;\r\n    import com.sencha.gxt.widget.core.client.event.HideEvent.HideHandler;\r\n    import com.sencha.gxt.widget.core.client.form.ComboBox;\r\n    import com.sencha.gxt.widget.core.client.grid.ColumnConfig;\r\n    import com.sencha.gxt.widget.core.client.grid.ColumnModel;\r\n    import com.sencha.gxt.widget.core.client.grid.Grid;\r\n\r\n\r\n    public class MultiSelectBox extends ComboBox&lt;ComboBoxModel&gt;{\r\n\t\r\n\t private Window checkBoxListHolder;\r\n\t private Grid&lt;ComboBoxModel&gt; checkBoxGrid;\r\n\t private ListStore&lt;ComboBoxModel&gt; listStore;\r\n\t private boolean readOnly;\r\n\t private ColumnConfig&lt;ComboBoxModel, String&gt; cc1;\r\n\t private ColumnConfig&lt;ComboBoxModel, Boolean&gt; cc2;\r\n\t private ComboBoxModel setData;\r\n\t IComboBoxProperties props = GWT.create(IComboBoxProperties.class);\t\r\n\r\n\tpublic MultiSelectBox(ListStore&lt;ComboBoxModel&gt; store,\r\n\t\t\tLabelProvider&lt;? super ComboBoxModel&gt; labelProvider) {\r\n\t\tsuper(store, labelProvider);\r\n\t\tthis.listStore=getStore();\r\n\t\tthis.checkBoxGrid=getCheckBoxGrid();\r\n\t\t\r\n\t\tcheckBoxListHolder = new Window(){\r\n\t\t\r\n\t\t};\r\n        checkBoxListHolder.setClosable(false);\r\n        checkBoxListHolder.setHeaderVisible(false);\r\n        \r\n        checkBoxListHolder.setResizable(false);\r\n        checkBoxListHolder.setAutoHide(true);\r\n        checkBoxListHolder.getButtonBar().setVisible(false);\r\n        checkBoxGrid.setVisible(true);\r\n        \r\n        checkBoxGrid.focus();\r\n        checkBoxListHolder.add(checkBoxGrid);\r\n        checkBoxListHolder.addHideHandler(new HideHandler() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onHide(HideEvent event) {\r\n\t\t\t\t checkBoxGrid.getView().refresh(false);\r\n\t\t\t\t checkBoxGrid.getStore().commitChanges();\r\n\t\t\t\t clear();\r\n\t\t\t\t setValue(parseCheckedValues(checkBoxGrid));\r\n\t\t\t\t getCell().setTriggerAction(TriggerAction.ALL);\r\n\t\t\t\t \r\n\t\t\t}\r\n\t\t}); \r\n      \r\n        addExpandHandler(new ExpandEvent.ExpandHandler() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onExpand(ExpandEvent event) {\r\n\t\t\t\t if (checkBoxListHolder.isVisible()) {\r\n\t\t\t\t\t checkBoxGrid.getView().refresh(false);\r\n\t\t\t\t\t \r\n\t\t\t\t\t    checkBoxGrid.getStore().commitChanges();\r\n\t\t\t            checkBoxListHolder.hide();\r\n\t\t\t        } else {\r\n\t\t\t            if(getValue()!=null)\r\n\t\t\t            {\r\n\t\t\t            \tsetData=getValue();\r\n\t\t\t            \tupdateGrid(setData);\r\n\t\t\t         \r\n\t\t\t            }\r\n\t\t\t            else\r\n\t\t\t            {\r\n\t\t\t            \tupdateGridStore(getStore());\r\n\t\t\t            }\r\n\t\t\t            checkBoxGrid.getStore().commitChanges();\r\n\t\t\t        \tcheckBoxGrid.getView().refresh(false);\r\n\t\t\t        \tcheckBoxListHolder.setPosition(getAbsoluteLeft(), getAbsoluteTop()+getOffsetHeight());\r\n\t\t\t        \t checkBoxListHolder.setSize(String.valueOf(getOffsetWidth()), &quot;200&quot;);\r\n\t\t\t        \tcheckBoxListHolder.show();\r\n\t\t\t            \r\n\t\t\t        }\r\n\t\t\t\t\r\n\t\t\t\t collapse();\r\n\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n        \r\n\t}\r\n\t\r\n\t   private  Grid&lt;ComboBoxModel&gt; getCheckBoxGrid()\r\n\t   {\r\n\t\t    \r\n\t\t   ListStore&lt;ComboBoxModel&gt; gridStore = new ListStore&lt;ComboBoxModel&gt;(props.key());\r\n\t\t \r\n\t\t   \r\n\t\t  for(int i=0;i&lt;listStore.size();i++)\r\n\t\t   {\r\n\t\t\t   gridStore.add(new ComboBoxModel(listStore.get(i).getKey(),listStore.get(i).getValue(),false));\r\n\t\t   }\r\n\t\t  gridStore.commitChanges();\r\n\t   \t   List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; configs =  getColumnConfig();\r\n\t   \t   ColumnModel&lt;ComboBoxModel&gt; cm = new ColumnModel&lt;ComboBoxModel&gt;(configs); \r\n\t        \r\n\t        final Grid&lt;ComboBoxModel&gt; grid = new Grid&lt;ComboBoxModel&gt;(gridStore, cm){\r\n\t        \t \r\n\t        };\r\n\t        grid.setBorders(false);\r\n\t\t    grid.getView().setStripeRows(false);\r\n\t\t    grid.getView().setAutoFill(true);\r\n\t\t    grid.getView().setColumnLines(false);\r\n\t\t    grid.setHideHeaders(true);\r\n\t\t \r\n\t\t   return grid;\r\n\t   }\r\n\t   private List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; getColumnConfig(){\r\n\t\t   List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; columns = new ArrayList&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt;();\r\n\t\t\t  cc2 =new ColumnConfig&lt;ComboBoxModel,Boolean&gt;(props.checked(),20,&quot;Select&quot;);\r\n\t\t\t  cc2.setCell(new CheckBoxCell(){\r\n\t\t\t\t  \r\n\t\t\t  });\r\n\t\t\t  columns.add(cc2);\r\n\t\t   \r\n\t\t   cc1 = new ColumnConfig&lt;ComboBoxModel,String&gt;(props.getValue(),50,&quot;Choose Properties&quot;);\r\n       \t   columns.add(cc1);\r\n       \t   return columns;\r\n\t   }\r\n\r\n\r\n    private ComboBoxModel parseCheckedValues(Grid&lt;ComboBoxModel&gt; grid) {\r\n    \t\r\n    \tListStore&lt;ComboBoxModel&gt; list = grid.getStore();\r\n        ComboBoxModel m = new ComboBoxModel();\r\n        String buf=&quot;&quot;;\r\n        String keys=&quot;&quot;;\r\n        if (list != null) {\r\n        \tfor(int i=0;i&lt;list.size();i++){\r\n        \t\tif(list.get(i).getChecked().booleanValue())\r\n        \t\t{\r\n        \t\t\tbuf=buf+list.get(i).getValue();\r\n        \t\t\tbuf=buf+&quot;,&quot;;\r\n        \t\t\tkeys=keys+list.get(i).getKey();\r\n        \t\t\tkeys=keys+&quot;,&quot;;\r\n        \t\t}\r\n        \t}\r\n        \tif (buf.length() &gt; 0 &amp;&amp; buf.charAt(buf.length()-1)==&#39;,&#39;) {\r\n        \t\tbuf = buf.substring(0, buf.length()-1);\r\n\t\t\t\t}\r\n        \tif (keys.length() &gt; 0 &amp;&amp; keys.charAt(keys.length()-1)==&#39;,&#39;) {\r\n        \t\tkeys = keys.substring(0, keys.length()-1);\r\n\t\t\t\t}\r\n        \t\r\n        }\r\n        m.setKey(keys);\r\n        m.setValue(buf);\r\n        return m;\r\n    }\r\n    \r\n    public JsArrayString getSelectedItems() {\r\n        JsArrayString result = (JsArrayString) JsArrayString.createArray();\r\n        ListStore&lt;ComboBoxModel&gt; store=checkBoxGrid.getStore();\r\n        if (store != null){\r\n        \tfor(int i=0;i&lt;store.size();i++){\r\n        \t\tif(store.get(i).getChecked().booleanValue())\r\n        \t\t{\r\n        \t\t\tresult.push(store.get(i).getKey());\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        }\r\n        return result;\r\n    }\r\n    \r\n     public List&lt;ComboBoxModel&gt; getSelectedItemCombos() {\r\n    \tList&lt;ComboBoxModel&gt; list = new ArrayList&lt;ComboBoxModel&gt;();\r\n    \t  ListStore&lt;ComboBoxModel&gt; store=checkBoxGrid.getStore();\r\n        if(store!=null){\r\n        \tfor(int i=0;i&lt;store.size();i++){\r\n        \t\tif(store.get(i).getChecked().booleanValue())\r\n        \t\t{\r\n        \t\t\tlist.add(store.get(i));\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        }\r\n    \treturn list;    \t\r\n       } \r\n    public void setCheckedItems(List&lt;ComboBoxModel&gt; list){\r\n    \t\r\n    \tListStore&lt;ComboBoxModel&gt; liststore = checkBoxGrid.getStore();\r\n    \tfor(int i=0;i&lt;liststore.size();i++)\r\n    \t{\r\n    \t\tfor(int j=0;j&lt;list.size();j++)\r\n    \t\t{\r\n\t    \t\tif(checkBoxGrid.getStore().get(i).getKey().equals(list.get(j).getKey()) &amp;&amp; checkBoxGrid.getStore().get(i).getValue().equals(list.get(j).getValue()))\r\n\t    \t\t{\r\n\t    \t\t\tcheckBoxGrid.getStore().get(i).setChecked(true);\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t\telse\r\n\t    \t\t\tcheckBoxGrid.getStore().get(i).setChecked(false);\r\n    \t\t}\r\n    \t}\r\n    \t   checkBoxGrid.getStore().commitChanges();\r\n    \t   setValue(parseCheckedValues(checkBoxGrid));\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    public void clearCheckedItems(){\r\n       \r\n    \tfor (int i =0; i&lt; checkBoxGrid.getStore().size(); i++){\r\n    \t\t checkBoxGrid.getStore().get(i).setChecked(false);\r\n        }\r\n        \r\n    }\r\n    private ArrayList&lt;ComboBoxModel&gt; getSelectedValues(ComboBoxModel model)\r\n    {\r\n    \tArrayList&lt;ComboBoxModel&gt; list = new ArrayList&lt;ComboBoxModel&gt;();\r\n    \tString [] values=model.getValue().split(&quot;,&quot;);\r\n    \tString [] keys = model.getKey().split(&quot;,&quot;);\r\n    \tint i=0;\r\n    \tint len=values.length;\r\n    \tfor(i=0;i&lt;len;i++)\r\n    \t{\r\n    \t\tlist.add(new ComboBoxModel(keys[i],values[i],true));\r\n    \t}\r\n    \t\r\n    \r\n    \treturn list;\r\n    }\r\n    private void updateGrid(ComboBoxModel model)\r\n    {\r\n    \tString [] values=model.getValue().split(&quot;,&quot;);\r\n    \tString [] keys = model.getKey().split(&quot;,&quot;);\r\n      \tint i=0;\r\n    \tint len=values.length;\r\n    \tListStore&lt;ComboBoxModel&gt; list = checkBoxGrid.getStore();\r\n       \r\n    for(i=0;i&lt;list.size();i++)\r\n    {\r\n \r\n    \tfor(int j=0;j&lt;len;j++)\r\n    \t{\r\n    \t\tif(checkBoxGrid.getStore().get(i).getKey().equals(keys[j]) &amp;&amp; checkBoxGrid.getStore().get(i).getValue().equals(values[j]))\r\n    \t\t{\r\n    \t\t\tcheckBoxGrid.getStore().get(i).setChecked(true);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\tcheckBoxGrid.getStore().get(i).setChecked(false);\r\n    \t}\r\n    \t\r\n    }\r\n    checkBoxGrid.getStore().commitChanges();\r\n  \r\n    }\r\n\r\n    public boolean isReadOnly() {\r\n        return readOnly;\r\n    }\r\n\r\n    public void setReadOnly(boolean readOnly) {\r\n        this.readOnly = readOnly;\r\n    }\r\n\r\n\tpublic ListStore&lt;ComboBoxModel&gt; getListStore() {\r\n\t\treturn listStore;\r\n\t}\r\n\r\n\tpublic void setListStore(ListStore&lt;ComboBoxModel&gt; listStore) {\r\n\t\tthis.listStore = listStore;\r\n\t}\r\n    private void updateGridStore(ListStore&lt;ComboBoxModel&gt; store)\r\n    {\r\n    \t checkBoxGrid.getStore().clear();\r\n    \tfor(int i=0;i&lt;store.size();i++)\r\n    \t   {\r\n    \t\t   checkBoxGrid.getStore().add(newComboBoxModel(listStore.get(i).getKey(),listStore.get(i).getValue(),false));\r\n    \t   }\r\n    \tcheckBoxGrid.getStore().commitChanges();\r\n    }\r\n    }\r\n","title":"ComboBox with multiselect Feature in GXT","body":"<p>This is my code.. Not perfect, but sort of temporary workaround..</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport com.google.gwt.core.client.GWT;\nimport com.google.gwt.core.client.JsArrayString;\nimport client.grid.model.IComboBoxProperties;\nimport client.model.ComboBoxModel;\nimport com.sencha.gxt.cell.core.client.form.CheckBoxCell;\nimport com.sencha.gxt.cell.core.client.form.ComboBoxCell.TriggerAction;\nimport com.sencha.gxt.core.client.Style.HideMode;\nimport com.sencha.gxt.data.shared.LabelProvider;\nimport com.sencha.gxt.data.shared.ListStore;\nimport com.sencha.gxt.widget.core.client.Window;\nimport com.sencha.gxt.widget.core.client.event.ExpandEvent;\nimport com.sencha.gxt.widget.core.client.event.HideEvent;\nimport com.sencha.gxt.widget.core.client.event.HideEvent.HideHandler;\nimport com.sencha.gxt.widget.core.client.form.ComboBox;\nimport com.sencha.gxt.widget.core.client.grid.ColumnConfig;\nimport com.sencha.gxt.widget.core.client.grid.ColumnModel;\nimport com.sencha.gxt.widget.core.client.grid.Grid;\n\n\npublic class MultiSelectBox extends ComboBox&lt;ComboBoxModel&gt;{\n\n private Window checkBoxListHolder;\n private Grid&lt;ComboBoxModel&gt; checkBoxGrid;\n private ListStore&lt;ComboBoxModel&gt; listStore;\n private boolean readOnly;\n private ColumnConfig&lt;ComboBoxModel, String&gt; cc1;\n private ColumnConfig&lt;ComboBoxModel, Boolean&gt; cc2;\n private ComboBoxModel setData;\n IComboBoxProperties props = GWT.create(IComboBoxProperties.class); \n\npublic MultiSelectBox(ListStore&lt;ComboBoxModel&gt; store,\n        LabelProvider&lt;? super ComboBoxModel&gt; labelProvider) {\n    super(store, labelProvider);\n    this.listStore=getStore();\n    this.checkBoxGrid=getCheckBoxGrid();\n\n    checkBoxListHolder = new Window(){\n\n    };\n    checkBoxListHolder.setClosable(false);\n    checkBoxListHolder.setHeaderVisible(false);\n\n    checkBoxListHolder.setResizable(false);\n    checkBoxListHolder.setAutoHide(true);\n    checkBoxListHolder.getButtonBar().setVisible(false);\n    checkBoxGrid.setVisible(true);\n\n    checkBoxGrid.focus();\n    checkBoxListHolder.add(checkBoxGrid);\n    checkBoxListHolder.addHideHandler(new HideHandler() {\n\n        @Override\n        public void onHide(HideEvent event) {\n             checkBoxGrid.getView().refresh(false);\n             checkBoxGrid.getStore().commitChanges();\n             clear();\n             setValue(parseCheckedValues(checkBoxGrid));\n             getCell().setTriggerAction(TriggerAction.ALL);\n\n        }\n    }); \n\n    addExpandHandler(new ExpandEvent.ExpandHandler() {\n\n        @Override\n        public void onExpand(ExpandEvent event) {\n             if (checkBoxListHolder.isVisible()) {\n                 checkBoxGrid.getView().refresh(false);\n\n                    checkBoxGrid.getStore().commitChanges();\n                    checkBoxListHolder.hide();\n                } else {\n                    if(getValue()!=null)\n                    {\n                        setData=getValue();\n                        updateGrid(setData);\n\n                    }\n                    else\n                    {\n                        updateGridStore(getStore());\n                    }\n                    checkBoxGrid.getStore().commitChanges();\n                    checkBoxGrid.getView().refresh(false);\n                    checkBoxListHolder.setPosition(getAbsoluteLeft(), getAbsoluteTop()+getOffsetHeight());\n                     checkBoxListHolder.setSize(String.valueOf(getOffsetWidth()), \"200\");\n                    checkBoxListHolder.show();\n\n                }\n\n             collapse();\n\n        }\n    });\n\n\n}\n\n   private  Grid&lt;ComboBoxModel&gt; getCheckBoxGrid()\n   {\n\n       ListStore&lt;ComboBoxModel&gt; gridStore = new ListStore&lt;ComboBoxModel&gt;(props.key());\n\n\n      for(int i=0;i&lt;listStore.size();i++)\n       {\n           gridStore.add(new ComboBoxModel(listStore.get(i).getKey(),listStore.get(i).getValue(),false));\n       }\n      gridStore.commitChanges();\n       List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; configs =  getColumnConfig();\n       ColumnModel&lt;ComboBoxModel&gt; cm = new ColumnModel&lt;ComboBoxModel&gt;(configs); \n\n        final Grid&lt;ComboBoxModel&gt; grid = new Grid&lt;ComboBoxModel&gt;(gridStore, cm){\n\n        };\n        grid.setBorders(false);\n        grid.getView().setStripeRows(false);\n        grid.getView().setAutoFill(true);\n        grid.getView().setColumnLines(false);\n        grid.setHideHeaders(true);\n\n       return grid;\n   }\n   private List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; getColumnConfig(){\n       List&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt; columns = new ArrayList&lt;ColumnConfig&lt;ComboBoxModel,?&gt;&gt;();\n          cc2 =new ColumnConfig&lt;ComboBoxModel,Boolean&gt;(props.checked(),20,\"Select\");\n          cc2.setCell(new CheckBoxCell(){\n\n          });\n          columns.add(cc2);\n\n       cc1 = new ColumnConfig&lt;ComboBoxModel,String&gt;(props.getValue(),50,\"Choose Properties\");\n       columns.add(cc1);\n       return columns;\n   }\n\n\nprivate ComboBoxModel parseCheckedValues(Grid&lt;ComboBoxModel&gt; grid) {\n\n    ListStore&lt;ComboBoxModel&gt; list = grid.getStore();\n    ComboBoxModel m = new ComboBoxModel();\n    String buf=\"\";\n    String keys=\"\";\n    if (list != null) {\n        for(int i=0;i&lt;list.size();i++){\n            if(list.get(i).getChecked().booleanValue())\n            {\n                buf=buf+list.get(i).getValue();\n                buf=buf+\",\";\n                keys=keys+list.get(i).getKey();\n                keys=keys+\",\";\n            }\n        }\n        if (buf.length() &gt; 0 &amp;&amp; buf.charAt(buf.length()-1)==',') {\n            buf = buf.substring(0, buf.length()-1);\n            }\n        if (keys.length() &gt; 0 &amp;&amp; keys.charAt(keys.length()-1)==',') {\n            keys = keys.substring(0, keys.length()-1);\n            }\n\n    }\n    m.setKey(keys);\n    m.setValue(buf);\n    return m;\n}\n\npublic JsArrayString getSelectedItems() {\n    JsArrayString result = (JsArrayString) JsArrayString.createArray();\n    ListStore&lt;ComboBoxModel&gt; store=checkBoxGrid.getStore();\n    if (store != null){\n        for(int i=0;i&lt;store.size();i++){\n            if(store.get(i).getChecked().booleanValue())\n            {\n                result.push(store.get(i).getKey());\n            }\n        }\n\n    }\n    return result;\n}\n\n public List&lt;ComboBoxModel&gt; getSelectedItemCombos() {\n    List&lt;ComboBoxModel&gt; list = new ArrayList&lt;ComboBoxModel&gt;();\n      ListStore&lt;ComboBoxModel&gt; store=checkBoxGrid.getStore();\n    if(store!=null){\n        for(int i=0;i&lt;store.size();i++){\n            if(store.get(i).getChecked().booleanValue())\n            {\n                list.add(store.get(i));\n            }\n        }\n\n    }\n    return list;        \n   } \npublic void setCheckedItems(List&lt;ComboBoxModel&gt; list){\n\n    ListStore&lt;ComboBoxModel&gt; liststore = checkBoxGrid.getStore();\n    for(int i=0;i&lt;liststore.size();i++)\n    {\n        for(int j=0;j&lt;list.size();j++)\n        {\n            if(checkBoxGrid.getStore().get(i).getKey().equals(list.get(j).getKey()) &amp;&amp; checkBoxGrid.getStore().get(i).getValue().equals(list.get(j).getValue()))\n            {\n                checkBoxGrid.getStore().get(i).setChecked(true);\n                break;\n            }\n            else\n                checkBoxGrid.getStore().get(i).setChecked(false);\n        }\n    }\n       checkBoxGrid.getStore().commitChanges();\n       setValue(parseCheckedValues(checkBoxGrid));\n}\n\n\n\n\npublic void clearCheckedItems(){\n\n    for (int i =0; i&lt; checkBoxGrid.getStore().size(); i++){\n         checkBoxGrid.getStore().get(i).setChecked(false);\n    }\n\n}\nprivate ArrayList&lt;ComboBoxModel&gt; getSelectedValues(ComboBoxModel model)\n{\n    ArrayList&lt;ComboBoxModel&gt; list = new ArrayList&lt;ComboBoxModel&gt;();\n    String [] values=model.getValue().split(\",\");\n    String [] keys = model.getKey().split(\",\");\n    int i=0;\n    int len=values.length;\n    for(i=0;i&lt;len;i++)\n    {\n        list.add(new ComboBoxModel(keys[i],values[i],true));\n    }\n\n\n    return list;\n}\nprivate void updateGrid(ComboBoxModel model)\n{\n    String [] values=model.getValue().split(\",\");\n    String [] keys = model.getKey().split(\",\");\n    int i=0;\n    int len=values.length;\n    ListStore&lt;ComboBoxModel&gt; list = checkBoxGrid.getStore();\n\nfor(i=0;i&lt;list.size();i++)\n{\n\n    for(int j=0;j&lt;len;j++)\n    {\n        if(checkBoxGrid.getStore().get(i).getKey().equals(keys[j]) &amp;&amp; checkBoxGrid.getStore().get(i).getValue().equals(values[j]))\n        {\n            checkBoxGrid.getStore().get(i).setChecked(true);\n            break;\n        }\n        else\n            checkBoxGrid.getStore().get(i).setChecked(false);\n    }\n\n}\ncheckBoxGrid.getStore().commitChanges();\n\n}\n\npublic boolean isReadOnly() {\n    return readOnly;\n}\n\npublic void setReadOnly(boolean readOnly) {\n    this.readOnly = readOnly;\n}\n\npublic ListStore&lt;ComboBoxModel&gt; getListStore() {\n    return listStore;\n}\n\npublic void setListStore(ListStore&lt;ComboBoxModel&gt; listStore) {\n    this.listStore = listStore;\n}\nprivate void updateGridStore(ListStore&lt;ComboBoxModel&gt; store)\n{\n     checkBoxGrid.getStore().clear();\n    for(int i=0;i&lt;store.size();i++)\n       {\n           checkBoxGrid.getStore().add(newComboBoxModel(listStore.get(i).getKey(),listStore.get(i).getValue(),false));\n       }\n    checkBoxGrid.getStore().commitChanges();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5415789,"reputation":193,"user_id":4310967,"accept_rate":40,"display_name":"David Lekishvili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419936480,"creation_date":1419936480,"answer_id":27704042,"question_id":19953195,"body_markdown":"I have implemented MultiSelectComboBox with almost all functions for GXT 3.X Versions.\r\n\r\nHere is my code:\r\n\r\n    import com.google.gwt.cell.client.AbstractCell;\r\n    import com.google.gwt.cell.client.Cell;\r\n    import com.google.gwt.cell.client.ValueUpdater;\r\n    import com.google.gwt.core.client.GWT;\r\n    import com.google.gwt.dom.client.Element;\r\n    import com.google.gwt.dom.client.NativeEvent;\r\n    import com.google.gwt.event.dom.client.ClickEvent;\r\n    import com.google.gwt.event.dom.client.ClickHandler;\r\n    import com.google.gwt.event.dom.client.HasKeyDownHandlers;\r\n    import com.google.gwt.event.dom.client.KeyCodes;\r\n    import com.google.gwt.event.dom.client.KeyDownEvent;\r\n    import com.google.gwt.event.dom.client.KeyDownHandler;\r\n    import com.google.gwt.event.shared.HandlerRegistration;\r\n    import com.google.gwt.safecss.shared.SafeStyles;\r\n    import com.google.gwt.safehtml.shared.SafeHtmlBuilder;\r\n    import com.google.gwt.safehtml.shared.SafeHtmlUtils;\r\n    import com.google.gwt.user.client.Event;\r\n    import com.google.gwt.user.client.ui.HorizontalPanel;\r\n    import com.google.gwt.user.client.ui.Image;\r\n    import com.sencha.gxt.core.client.IdentityValueProvider;\r\n    import com.sencha.gxt.core.client.Style;\r\n    import com.sencha.gxt.core.client.dom.XElement;\r\n    import com.sencha.gxt.data.shared.LabelProvider;\r\n    import com.sencha.gxt.data.shared.ListStore;\r\n    import com.sencha.gxt.data.shared.ModelKeyProvider;\r\n    import com.sencha.gxt.widget.core.client.event.RowClickEvent;\r\n    import com.sencha.gxt.widget.core.client.event.RowMouseDownEvent;\r\n    import com.sencha.gxt.widget.core.client.form.TextField;\r\n    import com.sencha.gxt.widget.core.client.grid.CheckBoxSelectionModel;\r\n    import com.sencha.gxt.widget.core.client.grid.ColumnConfig;\r\n    import com.sencha.gxt.widget.core.client.grid.ColumnModel;\r\n    import com.sencha.gxt.widget.core.client.grid.Grid;\r\n    import com.sencha.gxt.widget.core.client.menu.Menu;\r\n    import com.sencha.gxt.widget.core.client.selection.SelectionChangedEvent;\r\n    import com.sencha.gxt.widget.core.client.tips.QuickTip;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MultiSelectComboBox&lt;T&gt; extends HorizontalPanel implements HasKeyDownHandlers {\r\n    \r\n    \tprivate static final Icons ICONS = GWT.create(Icons.class);\r\n    \tprivate static final int SINGLE_ENTRY_HEIGHT = 22;\r\n    \tprivate static final int IMAGE_WIDTH = 17;\r\n    \r\n    \tprivate TextField textField;\r\n    \tprivate Menu menu;\r\n    \tprivate Grid&lt;SimpleValue&gt; grid;\r\n    \tprivate ModelKeyProvider&lt;T&gt; keyProvider;\r\n    \tprivate LabelProvider&lt;T&gt; labelProvider;\r\n    \tprivate List&lt;T&gt; values;\r\n    \tprivate ListStore&lt;SimpleValue&gt; store;\r\n    \tprivate GridClickHandler clickHandler;\r\n    \tprivate CheckBoxSelectionModel&lt;SimpleValue&gt; sm;\r\n    \tprivate String noSelectionLabel;\r\n    \tprivate int listWidth;\r\n    \tprivate int width;\r\n    \r\n    \tprivate MultiSelectComboBox(final ListStore&lt;SimpleValue&gt; store, ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, List&lt;T&gt; values, String noSelectionLabel, int width, int listWidth) {\r\n    \t\tthis.store = store;\r\n    \t\tthis.keyProvider = keyProvider;\r\n    \t\tthis.labelProvider = labelProvider;\r\n    \t\tthis.values = values;\r\n    \t\tthis.noSelectionLabel = noSelectionLabel;\r\n    \t\tthis.width = width;\r\n    \t\tthis.listWidth = listWidth;\r\n    \t\tinit();\r\n    \t}\r\n    \r\n    \tpublic List&lt;T&gt; getValues() {\r\n    \t\tList&lt;T&gt; selectedItems = new ArrayList&lt;&gt;();\r\n    \t\tfor (SimpleValue data : sm.getSelectedItems()) {\r\n    \t\t\tselectedItems.add(findRealValueInternal(data.getKey()));\r\n    \t\t}\r\n    \t\treturn selectedItems;\r\n    \t}\r\n    \r\n    \tpublic void setValue(final T value) {\r\n    \t\tsetValues(new ArrayList&lt;T&gt;() {{add(value);}});\r\n    \t}\r\n    \r\n    \tpublic void setValues(List&lt;T&gt; values) {\r\n    \t\tfor (T value : values) {\r\n    \t\t\tboolean alreadyExists = findRealValueInternal(keyProvider.getKey(value)) != null;\r\n    \t\t\tif (!alreadyExists) {\r\n    \t\t\t\tvalues.add(value);\r\n    \t\t\t\tgrid.getStore().add(SimpleValue.create(value, keyProvider, labelProvider));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (T value : values) {\r\n    \t\t\tSimpleValue simpleValue = findSimpleValueInternal(keyProvider.getKey(value));\r\n    \t\t\tif (!sm.isSelected(simpleValue)) {\r\n    \t\t\t\tsm.select(simpleValue, true);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void addAll(List&lt;T&gt; list) {\r\n    \t\tfor (T v : list) {\r\n    \t\t\tadd(v);\r\n    \t\t}\r\n    \t\tgrid.setHeight(values.size() * SINGLE_ENTRY_HEIGHT);\r\n    \t}\r\n    \r\n    \tpublic void add(T value) {\r\n    \t\tboolean alreadyExists = findRealValueInternal(keyProvider.getKey(value))  != null;\r\n    \t\tif (!alreadyExists) {\r\n    \t\t\tvalues.add(value);\r\n    \t\t\tgrid.getStore().add(SimpleValue.create(value, keyProvider, labelProvider));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void clearStore() {\r\n    \t\tvalues.clear();\r\n    \t\tgrid.getStore().clear();\r\n    \t}\r\n    \r\n    \tprivate SimpleValue findSimpleValueInternal(String key) {\r\n    \t\tSimpleValue value = null;\r\n    \t\tfor (SimpleValue v : grid.getStore().getAll()) {\r\n    \t\t\tif (v.getKey().equals(key)) {\r\n    \t\t\t\tvalue = v;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tpublic boolean isValid() {\r\n    \t\treturn textField.isValid();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;GWTStyleCheck&quot;)\r\n    \tprivate void init() {\r\n    \t\tmenu = new Menu();\r\n    \r\n    \t\tinitGrid();\r\n    \t\tmenu.add(grid);\r\n    \t\ttextField = new TextField();\r\n    \t\ttextField.setReadOnly(true);\r\n    \t\ttextField.setValue(noSelectionLabel);\r\n    \t\ttextField.setWidth(width);\r\n    \t\ttextField.addStyleName(&quot;multiComboTextFieldStyle&quot;);\r\n    \r\n    \t\ttextField.addKeyDownHandler(new KeyDownHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onKeyDown(KeyDownEvent event) {\r\n    \t\t\t\tif (event.getNativeEvent().getKeyCode() == KeyCodes.KEY_ENTER) {\r\n    \t\t\t\t\ttextField.finishEditing();\r\n    \t\t\t\t\ttextField.sinkEvents(KeyCodes.KEY_ENTER);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tImage image = new Image(ICONS.arrowDown());\r\n    \t\timage.addStyleName(&quot;multiComboButtonStyle&quot;);\r\n    \t\timage.addClickHandler(new ClickHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(ClickEvent clickEvent) {\r\n    \t\t\t\tmenu.showAt(textField.getAbsoluteLeft(), textField.getAbsoluteTop() + textField.getOffsetHeight());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tadd(textField);\r\n    \t\tadd(image);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings({&quot;unchecked&quot;, &quot;GWTStyleCheck&quot;})\r\n    \tprivate void initGrid() {\r\n    \t\tIdentityValueProvider&lt;SimpleValue&gt; identity = new IdentityValueProvider&lt;&gt;();\r\n    \t\tsm = new CheckBoxSelectionModel&lt;SimpleValue&gt;(identity) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void onRowClick(RowClickEvent event) {}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected void onRowMouseDown(RowMouseDownEvent event) {\r\n    \t\t\t\tboolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\r\n    \t\t\t\tXElement target = event.getEvent().getEventTarget().cast();\r\n    \t\t\t\tif (left &amp;&amp; this.getAppearance().isRowChecker(target)) {\r\n    \t\t\t\t\tcontrolSelection(listStore.get(event.getRowIndex()));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tsm.setSelectionMode(Style.SelectionMode.MULTI);\r\n    \t\tsm.addSelectionChangedHandler(new SelectionChangedEvent.SelectionChangedHandler&lt;SimpleValue&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onSelectionChanged(SelectionChangedEvent&lt;SimpleValue&gt; simpleValueSelectionChangedEvent) {\r\n    \t\t\t\tsetValuesToTextField();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tColumnModel columnModel = new ColumnModel(getConfigs());\r\n    \t\tgrid = new Grid&lt;&gt;(store, columnModel, new ZGridView&lt;SimpleValue&gt;());\r\n    \t\tgrid.setColumnReordering(true);\r\n    \t\tgrid.getView().setColumnLines(true);\r\n    \t\tgrid.setSelectionModel(sm);\r\n    \t\tgrid.setWidth(listWidth);\r\n    \t\tgrid.setHeight(values.size() * SINGLE_ENTRY_HEIGHT);\r\n    \t\tgrid.setHideHeaders(true);\r\n    \t\tgrid.getView().setColumnLines(false);\r\n    \t\tgrid.addStyleName(&quot;z-grid-style&quot;);\r\n    \r\n    \t\tnew QuickTip(grid);\r\n    \r\n    \t\tclickHandler = new GridClickHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(Cell.Context context, Object value) {\r\n    \t\t\t\tcontrolSelection((SimpleValue)((Object[])value)[0]);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tprivate List&lt;ColumnConfig&gt; getConfigs() {\r\n    \t\tList&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tColumnConfig&lt;SimpleValue, String&gt; columnConfig = new ColumnConfig(new ZEmptyValueProvider(), listWidth - sm.getColumn().getWidth());\r\n    \t\tcolumnConfig.setCell(new AbstractCell&lt;String&gt;(&quot;click&quot;) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void render(Context context, String value, SafeHtmlBuilder sb) {\r\n    \t\t\t\tString htmlValue = store.get(context.getIndex()).getLabel();\r\n    \t\t\t\tsb.append(SafeHtmlUtils.fromTrustedString(htmlValue != null ? &quot;&lt;div style=\\&quot;font-size: 12px;\\&quot;&gt;&quot; + htmlValue + &quot;&lt;/div&gt;&quot;: &quot;&quot;));\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onBrowserEvent(Context context, Element parent, String value, NativeEvent event, ValueUpdater&lt;String&gt; valueUpdater) {\r\n    \t\t\t\tsuper.onBrowserEvent(context, parent, value, event, valueUpdater);\r\n    \t\t\t\tif ((&quot;click&quot;).equals(event.getType())) {\r\n    \t\t\t\t\tif (clickHandler != null) {\r\n    \t\t\t\t\t\tObject[] objects = new Object[1];\r\n    \t\t\t\t\t\tobjects[0] = store.get(context.getIndex());\r\n    \t\t\t\t\t\tclickHandler.onClick(context, objects);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcolumnConfig.setColumnStyle(new SafeStyles() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic String asString() {\r\n    \t\t\t\treturn &quot;cursor: pointer;&quot;;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcolumnConfig.setColumnStyle(new SafeStyles() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic String asString() {\r\n    \t\t\t\treturn &quot;border: none;&quot;;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tconfigs.add(sm.getColumn());\r\n    \t\tconfigs.add(columnConfig);\r\n    \r\n    \t\treturn configs;\r\n    \t}\r\n    \r\n    \tprivate void controlSelection(SimpleValue model) {\r\n    \t\tif (model != null) {\r\n    \t\t\tif (sm.isSelected(model)) {\r\n    \t\t\t\tsm.deselect(model);\r\n    \t\t\t} else {\r\n    \t\t\t\tsm.select(model, true);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void setValuesToTextField() {\r\n    \t\tif (sm.getSelectedItems().size() &gt; 0) {\r\n    \t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\tfor (int i = 0; i &lt; sm.getSelectedItems().size(); i++) {\r\n    \t\t\t\tsb.append(sm.getSelectedItems().get(i).getLabel());\r\n    \t\t\t\tif (i != sm.getSelectedItems().size() - 1) {\r\n    \t\t\t\t\tsb.append(&quot;, &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\ttextField.setValue(sb.toString());\r\n    \t\t\ttextField.setToolTip(sb.toString());\r\n    \t\t} else {\r\n    \t\t\ttextField.setValue(noSelectionLabel);\r\n    \t\t\ttextField.removeToolTip();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate T findRealValueInternal(String key) {\r\n    \t\tT value = null;\r\n    \t\tfor (T v : values) {\r\n    \t\t\tif (key.equals(keyProvider.getKey(v))) {\r\n    \t\t\t\tvalue = v;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic HandlerRegistration addKeyDownHandler(KeyDownHandler handler) {\r\n    \t\treturn addDomHandler(handler, KeyDownEvent.getType());\r\n    \t}\r\n    \r\n    \tpublic void setEnabled(boolean enabled) {\r\n    \t\ttextField.setEnabled(enabled);\r\n    \t}\r\n    \r\n    \tpublic void setToolTip(String tooltip) {\r\n    \t\ttextField.setToolTip(tooltip);\r\n    \t}\r\n    \r\n    \tpublic static class Builder&lt;T&gt; {\r\n    \t\tprivate ModelKeyProvider&lt;T&gt; keyProvider;\r\n    \t\tprivate LabelProvider&lt;T&gt; labelProvider;\r\n    \t\tprivate String noSelectionLabel;\r\n    \t\tprivate List&lt;T&gt; values = new ArrayList&lt;&gt;();\r\n    \t\tprivate int listWidth;\r\n    \t\tprivate int width = 130;\r\n    \r\n    \t\tpublic Builder&lt;T&gt; keyProvider(ModelKeyProvider&lt;T&gt; keyProvider) {\r\n    \t\t\tthis.keyProvider = keyProvider;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder labelProvider(LabelProvider&lt;T&gt; labelProvider) {\r\n    \t\t\tthis.labelProvider = labelProvider;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder noSelectionLabel(String noSelectionLabel) {\r\n    \t\t\tthis.noSelectionLabel = noSelectionLabel;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder values(List&lt;T&gt; values) {\r\n    \t\t\tthis.values = values;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder listWidth(int listWidth) {\r\n    \t\t\tthis.listWidth = listWidth;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder width(int width) {\r\n    \t\t\tthis.width = width;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic MultiSelectComboBox build() {\r\n    \t\t\tif (keyProvider == null) {\r\n    \t\t\t\tthrow new IllegalStateException(&quot;KeyProvider is required&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (labelProvider == null) {\r\n    \t\t\t\tthrow new IllegalStateException(&quot;LabelProvider is required&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (noSelectionLabel == null) {\r\n    \t\t\t\tnoSelectionLabel = &quot;&quot;;\r\n    \t\t\t}\r\n    \t\t\tListStore&lt;SimpleValue&gt; store = new ListStore&lt;&gt;(new ModelKeyProvider&lt;SimpleValue&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic String getKey(SimpleValue item) {\r\n    \t\t\t\t\treturn item.getKey();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tif (values.size() &gt; 0) {\r\n    \t\t\t\tfor (T obj : values) {\r\n    \t\t\t\t\tstore.add(SimpleValue.create(obj, keyProvider, labelProvider));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn new MultiSelectComboBox(store, keyProvider, labelProvider, values, noSelectionLabel, width - IMAGE_WIDTH, listWidth == 0 ? width : listWidth - IMAGE_WIDTH);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static class SimpleValue {\r\n    \t\tprivate String key;\r\n    \t\tprivate String label;\r\n    \r\n    \t\tpublic SimpleValue() {}\r\n    \r\n    \t\tpublic static &lt;T&gt; SimpleValue create(T obj, ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider) {\r\n    \t\t\tSimpleValue v = new SimpleValue();\r\n    \t\t\tv.setKey(keyProvider.getKey(obj));\r\n    \t\t\tv.setLabel(labelProvider.getLabel(obj));\r\n    \t\t\treturn v;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getKey() {\r\n    \t\t\treturn key;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setKey(String key) {\r\n    \t\t\tthis.key = key;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getLabel() {\r\n    \t\t\treturn label;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setLabel(String label) {\r\n    \t\t\tthis.label = label;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nUsage:\r\n\r\n\tMultiSelectComboBox&lt;String&gt; combo = new MultiSelectComboBox.Builder&lt;String&gt;()\r\n\t\t\t\t.values(Arrays.asList(Enum.values()))\r\n\t\t\t\t.noSelectionLabel(&quot;All Values&quot;)\r\n\t\t\t\t.width(150)\r\n\t\t\t\t.listWidth(180)\r\n\t\t\t\t.keyProvider(new ModelKeyProvider&lt;String&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String getKey(String s) {\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.labelProvider(new LabelProvider&lt;String&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String getLabel(String s) {\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.build();","title":"ComboBox with multiselect Feature in GXT","body":"<p>I have implemented MultiSelectComboBox with almost all functions for GXT 3.X Versions.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import com.google.gwt.cell.client.AbstractCell;\nimport com.google.gwt.cell.client.Cell;\nimport com.google.gwt.cell.client.ValueUpdater;\nimport com.google.gwt.core.client.GWT;\nimport com.google.gwt.dom.client.Element;\nimport com.google.gwt.dom.client.NativeEvent;\nimport com.google.gwt.event.dom.client.ClickEvent;\nimport com.google.gwt.event.dom.client.ClickHandler;\nimport com.google.gwt.event.dom.client.HasKeyDownHandlers;\nimport com.google.gwt.event.dom.client.KeyCodes;\nimport com.google.gwt.event.dom.client.KeyDownEvent;\nimport com.google.gwt.event.dom.client.KeyDownHandler;\nimport com.google.gwt.event.shared.HandlerRegistration;\nimport com.google.gwt.safecss.shared.SafeStyles;\nimport com.google.gwt.safehtml.shared.SafeHtmlBuilder;\nimport com.google.gwt.safehtml.shared.SafeHtmlUtils;\nimport com.google.gwt.user.client.Event;\nimport com.google.gwt.user.client.ui.HorizontalPanel;\nimport com.google.gwt.user.client.ui.Image;\nimport com.sencha.gxt.core.client.IdentityValueProvider;\nimport com.sencha.gxt.core.client.Style;\nimport com.sencha.gxt.core.client.dom.XElement;\nimport com.sencha.gxt.data.shared.LabelProvider;\nimport com.sencha.gxt.data.shared.ListStore;\nimport com.sencha.gxt.data.shared.ModelKeyProvider;\nimport com.sencha.gxt.widget.core.client.event.RowClickEvent;\nimport com.sencha.gxt.widget.core.client.event.RowMouseDownEvent;\nimport com.sencha.gxt.widget.core.client.form.TextField;\nimport com.sencha.gxt.widget.core.client.grid.CheckBoxSelectionModel;\nimport com.sencha.gxt.widget.core.client.grid.ColumnConfig;\nimport com.sencha.gxt.widget.core.client.grid.ColumnModel;\nimport com.sencha.gxt.widget.core.client.grid.Grid;\nimport com.sencha.gxt.widget.core.client.menu.Menu;\nimport com.sencha.gxt.widget.core.client.selection.SelectionChangedEvent;\nimport com.sencha.gxt.widget.core.client.tips.QuickTip;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MultiSelectComboBox&lt;T&gt; extends HorizontalPanel implements HasKeyDownHandlers {\n\n    private static final Icons ICONS = GWT.create(Icons.class);\n    private static final int SINGLE_ENTRY_HEIGHT = 22;\n    private static final int IMAGE_WIDTH = 17;\n\n    private TextField textField;\n    private Menu menu;\n    private Grid&lt;SimpleValue&gt; grid;\n    private ModelKeyProvider&lt;T&gt; keyProvider;\n    private LabelProvider&lt;T&gt; labelProvider;\n    private List&lt;T&gt; values;\n    private ListStore&lt;SimpleValue&gt; store;\n    private GridClickHandler clickHandler;\n    private CheckBoxSelectionModel&lt;SimpleValue&gt; sm;\n    private String noSelectionLabel;\n    private int listWidth;\n    private int width;\n\n    private MultiSelectComboBox(final ListStore&lt;SimpleValue&gt; store, ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, List&lt;T&gt; values, String noSelectionLabel, int width, int listWidth) {\n        this.store = store;\n        this.keyProvider = keyProvider;\n        this.labelProvider = labelProvider;\n        this.values = values;\n        this.noSelectionLabel = noSelectionLabel;\n        this.width = width;\n        this.listWidth = listWidth;\n        init();\n    }\n\n    public List&lt;T&gt; getValues() {\n        List&lt;T&gt; selectedItems = new ArrayList&lt;&gt;();\n        for (SimpleValue data : sm.getSelectedItems()) {\n            selectedItems.add(findRealValueInternal(data.getKey()));\n        }\n        return selectedItems;\n    }\n\n    public void setValue(final T value) {\n        setValues(new ArrayList&lt;T&gt;() {{add(value);}});\n    }\n\n    public void setValues(List&lt;T&gt; values) {\n        for (T value : values) {\n            boolean alreadyExists = findRealValueInternal(keyProvider.getKey(value)) != null;\n            if (!alreadyExists) {\n                values.add(value);\n                grid.getStore().add(SimpleValue.create(value, keyProvider, labelProvider));\n            }\n        }\n        for (T value : values) {\n            SimpleValue simpleValue = findSimpleValueInternal(keyProvider.getKey(value));\n            if (!sm.isSelected(simpleValue)) {\n                sm.select(simpleValue, true);\n            }\n        }\n    }\n\n    public void addAll(List&lt;T&gt; list) {\n        for (T v : list) {\n            add(v);\n        }\n        grid.setHeight(values.size() * SINGLE_ENTRY_HEIGHT);\n    }\n\n    public void add(T value) {\n        boolean alreadyExists = findRealValueInternal(keyProvider.getKey(value))  != null;\n        if (!alreadyExists) {\n            values.add(value);\n            grid.getStore().add(SimpleValue.create(value, keyProvider, labelProvider));\n        }\n    }\n\n    public void clearStore() {\n        values.clear();\n        grid.getStore().clear();\n    }\n\n    private SimpleValue findSimpleValueInternal(String key) {\n        SimpleValue value = null;\n        for (SimpleValue v : grid.getStore().getAll()) {\n            if (v.getKey().equals(key)) {\n                value = v;\n                break;\n            }\n        }\n        return value;\n    }\n\n    public boolean isValid() {\n        return textField.isValid();\n    }\n\n    @SuppressWarnings(\"GWTStyleCheck\")\n    private void init() {\n        menu = new Menu();\n\n        initGrid();\n        menu.add(grid);\n        textField = new TextField();\n        textField.setReadOnly(true);\n        textField.setValue(noSelectionLabel);\n        textField.setWidth(width);\n        textField.addStyleName(\"multiComboTextFieldStyle\");\n\n        textField.addKeyDownHandler(new KeyDownHandler() {\n            @Override\n            public void onKeyDown(KeyDownEvent event) {\n                if (event.getNativeEvent().getKeyCode() == KeyCodes.KEY_ENTER) {\n                    textField.finishEditing();\n                    textField.sinkEvents(KeyCodes.KEY_ENTER);\n                }\n            }\n        });\n\n        Image image = new Image(ICONS.arrowDown());\n        image.addStyleName(\"multiComboButtonStyle\");\n        image.addClickHandler(new ClickHandler() {\n            @Override\n            public void onClick(ClickEvent clickEvent) {\n                menu.showAt(textField.getAbsoluteLeft(), textField.getAbsoluteTop() + textField.getOffsetHeight());\n            }\n        });\n\n        add(textField);\n        add(image);\n    }\n\n    @SuppressWarnings({\"unchecked\", \"GWTStyleCheck\"})\n    private void initGrid() {\n        IdentityValueProvider&lt;SimpleValue&gt; identity = new IdentityValueProvider&lt;&gt;();\n        sm = new CheckBoxSelectionModel&lt;SimpleValue&gt;(identity) {\n            @Override\n            protected void onRowClick(RowClickEvent event) {}\n\n            @Override\n            protected void onRowMouseDown(RowMouseDownEvent event) {\n                boolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\n                XElement target = event.getEvent().getEventTarget().cast();\n                if (left &amp;&amp; this.getAppearance().isRowChecker(target)) {\n                    controlSelection(listStore.get(event.getRowIndex()));\n                }\n            }\n        };\n        sm.setSelectionMode(Style.SelectionMode.MULTI);\n        sm.addSelectionChangedHandler(new SelectionChangedEvent.SelectionChangedHandler&lt;SimpleValue&gt;() {\n            @Override\n            public void onSelectionChanged(SelectionChangedEvent&lt;SimpleValue&gt; simpleValueSelectionChangedEvent) {\n                setValuesToTextField();\n            }\n        });\n\n        ColumnModel columnModel = new ColumnModel(getConfigs());\n        grid = new Grid&lt;&gt;(store, columnModel, new ZGridView&lt;SimpleValue&gt;());\n        grid.setColumnReordering(true);\n        grid.getView().setColumnLines(true);\n        grid.setSelectionModel(sm);\n        grid.setWidth(listWidth);\n        grid.setHeight(values.size() * SINGLE_ENTRY_HEIGHT);\n        grid.setHideHeaders(true);\n        grid.getView().setColumnLines(false);\n        grid.addStyleName(\"z-grid-style\");\n\n        new QuickTip(grid);\n\n        clickHandler = new GridClickHandler() {\n            @Override\n            public void onClick(Cell.Context context, Object value) {\n                controlSelection((SimpleValue)((Object[])value)[0]);\n            }\n        };\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private List&lt;ColumnConfig&gt; getConfigs() {\n        List&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\n\n        ColumnConfig&lt;SimpleValue, String&gt; columnConfig = new ColumnConfig(new ZEmptyValueProvider(), listWidth - sm.getColumn().getWidth());\n        columnConfig.setCell(new AbstractCell&lt;String&gt;(\"click\") {\n            @Override\n            public void render(Context context, String value, SafeHtmlBuilder sb) {\n                String htmlValue = store.get(context.getIndex()).getLabel();\n                sb.append(SafeHtmlUtils.fromTrustedString(htmlValue != null ? \"&lt;div style=\\\"font-size: 12px;\\\"&gt;\" + htmlValue + \"&lt;/div&gt;\": \"\"));\n            }\n\n            @Override\n            public void onBrowserEvent(Context context, Element parent, String value, NativeEvent event, ValueUpdater&lt;String&gt; valueUpdater) {\n                super.onBrowserEvent(context, parent, value, event, valueUpdater);\n                if ((\"click\").equals(event.getType())) {\n                    if (clickHandler != null) {\n                        Object[] objects = new Object[1];\n                        objects[0] = store.get(context.getIndex());\n                        clickHandler.onClick(context, objects);\n                    }\n                }\n            }\n        });\n        columnConfig.setColumnStyle(new SafeStyles() {\n            @Override\n            public String asString() {\n                return \"cursor: pointer;\";\n            }\n        });\n        columnConfig.setColumnStyle(new SafeStyles() {\n            @Override\n            public String asString() {\n                return \"border: none;\";\n            }\n        });\n        configs.add(sm.getColumn());\n        configs.add(columnConfig);\n\n        return configs;\n    }\n\n    private void controlSelection(SimpleValue model) {\n        if (model != null) {\n            if (sm.isSelected(model)) {\n                sm.deselect(model);\n            } else {\n                sm.select(model, true);\n            }\n        }\n    }\n\n    private void setValuesToTextField() {\n        if (sm.getSelectedItems().size() &gt; 0) {\n            StringBuilder sb = new StringBuilder();\n            for (int i = 0; i &lt; sm.getSelectedItems().size(); i++) {\n                sb.append(sm.getSelectedItems().get(i).getLabel());\n                if (i != sm.getSelectedItems().size() - 1) {\n                    sb.append(\", \");\n                }\n            }\n            textField.setValue(sb.toString());\n            textField.setToolTip(sb.toString());\n        } else {\n            textField.setValue(noSelectionLabel);\n            textField.removeToolTip();\n        }\n    }\n\n    private T findRealValueInternal(String key) {\n        T value = null;\n        for (T v : values) {\n            if (key.equals(keyProvider.getKey(v))) {\n                value = v;\n                break;\n            }\n        }\n        return value;\n    }\n\n    @Override\n    public HandlerRegistration addKeyDownHandler(KeyDownHandler handler) {\n        return addDomHandler(handler, KeyDownEvent.getType());\n    }\n\n    public void setEnabled(boolean enabled) {\n        textField.setEnabled(enabled);\n    }\n\n    public void setToolTip(String tooltip) {\n        textField.setToolTip(tooltip);\n    }\n\n    public static class Builder&lt;T&gt; {\n        private ModelKeyProvider&lt;T&gt; keyProvider;\n        private LabelProvider&lt;T&gt; labelProvider;\n        private String noSelectionLabel;\n        private List&lt;T&gt; values = new ArrayList&lt;&gt;();\n        private int listWidth;\n        private int width = 130;\n\n        public Builder&lt;T&gt; keyProvider(ModelKeyProvider&lt;T&gt; keyProvider) {\n            this.keyProvider = keyProvider;\n            return this;\n        }\n\n        public Builder labelProvider(LabelProvider&lt;T&gt; labelProvider) {\n            this.labelProvider = labelProvider;\n            return this;\n        }\n\n        public Builder noSelectionLabel(String noSelectionLabel) {\n            this.noSelectionLabel = noSelectionLabel;\n            return this;\n        }\n\n        public Builder values(List&lt;T&gt; values) {\n            this.values = values;\n            return this;\n        }\n\n        public Builder listWidth(int listWidth) {\n            this.listWidth = listWidth;\n            return this;\n        }\n\n        public Builder width(int width) {\n            this.width = width;\n            return this;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        public MultiSelectComboBox build() {\n            if (keyProvider == null) {\n                throw new IllegalStateException(\"KeyProvider is required\");\n            }\n            if (labelProvider == null) {\n                throw new IllegalStateException(\"LabelProvider is required\");\n            }\n            if (noSelectionLabel == null) {\n                noSelectionLabel = \"\";\n            }\n            ListStore&lt;SimpleValue&gt; store = new ListStore&lt;&gt;(new ModelKeyProvider&lt;SimpleValue&gt;() {\n                @Override\n                public String getKey(SimpleValue item) {\n                    return item.getKey();\n                }\n            });\n            if (values.size() &gt; 0) {\n                for (T obj : values) {\n                    store.add(SimpleValue.create(obj, keyProvider, labelProvider));\n                }\n            }\n            return new MultiSelectComboBox(store, keyProvider, labelProvider, values, noSelectionLabel, width - IMAGE_WIDTH, listWidth == 0 ? width : listWidth - IMAGE_WIDTH);\n        }\n    }\n\n    public static class SimpleValue {\n        private String key;\n        private String label;\n\n        public SimpleValue() {}\n\n        public static &lt;T&gt; SimpleValue create(T obj, ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider) {\n            SimpleValue v = new SimpleValue();\n            v.setKey(keyProvider.getKey(obj));\n            v.setLabel(labelProvider.getLabel(obj));\n            return v;\n        }\n\n        public String getKey() {\n            return key;\n        }\n\n        public void setKey(String key) {\n            this.key = key;\n        }\n\n        public String getLabel() {\n            return label;\n        }\n\n        public void setLabel(String label) {\n            this.label = label;\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>MultiSelectComboBox&lt;String&gt; combo = new MultiSelectComboBox.Builder&lt;String&gt;()\n            .values(Arrays.asList(Enum.values()))\n            .noSelectionLabel(\"All Values\")\n            .width(150)\n            .listWidth(180)\n            .keyProvider(new ModelKeyProvider&lt;String&gt;() {\n                @Override\n                public String getKey(String s) {\n                    return s;\n                }\n            })\n            .labelProvider(new LabelProvider&lt;String&gt;() {\n                @Override\n                public String getLabel(String s) {\n                    return s;\n                }\n            })\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147114,"reputation":3039,"user_id":358006,"accept_rate":67,"display_name":"Peter L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429751906,"creation_date":1429751906,"answer_id":29811896,"question_id":19953195,"body_markdown":"FWIW I implemented something for a toolbar.\r\n\r\n[MultiSelectButton][1] is a TextButton with a menu full of check boxes and a summary is placed in the button label (EG: &quot;Selected: 4/6&quot;).\r\n\r\n\r\n  [1]: https://subversion.assembla.com/svn/freshcode_public/learn/gwt/src/main/java/biz/freshcode/learn/gwt2/mod2/client/spike/multiselectbutton/reuse/MultiSelectButton.java","title":"ComboBox with multiselect Feature in GXT","body":"<p>FWIW I implemented something for a toolbar.</p>\n\n<p><a href=\"https://subversion.assembla.com/svn/freshcode_public/learn/gwt/src/main/java/biz/freshcode/learn/gwt2/mod2/client/spike/multiselectbutton/reuse/MultiSelectButton.java\" rel=\"nofollow\">MultiSelectButton</a> is a TextButton with a menu full of check boxes and a summary is placed in the button label (EG: \"Selected: 4/6\").</p>\n"},{"tags":[],"owner":{"account_id":7240644,"reputation":91,"user_id":5524321,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461668138,"creation_date":1460541888,"answer_id":36595069,"question_id":19953195,"body_markdown":"I have implemented my own version starting from the David Lekishvili&#39;s version and trying to improve it on some aspects (tested with GXT-3.1.4 and GWT-2.7.0).\r\n\r\nHere is the code :\r\n\r\n*MultiSelectComboBox.java*\r\n\r\n    import com.google.gwt.cell.client.AbstractCell;\r\n    import com.google.gwt.cell.client.Cell;\r\n    import com.google.gwt.core.client.GWT;\r\n    import com.google.gwt.event.dom.client.KeyUpEvent;\r\n    import com.google.gwt.event.dom.client.KeyUpHandler;\r\n    import com.google.gwt.event.logical.shared.ValueChangeEvent;\r\n    import com.google.gwt.event.logical.shared.ValueChangeHandler;\r\n    import com.google.gwt.resources.client.ClientBundle;\r\n    import com.google.gwt.resources.client.CssResource;\r\n    import com.google.gwt.safecss.shared.SafeStyles;\r\n    import com.google.gwt.safehtml.shared.SafeHtmlBuilder;\r\n    import com.google.gwt.safehtml.shared.SafeHtmlUtils;\r\n    import com.google.gwt.user.client.Event;\r\n    import com.google.gwt.user.client.ui.HorizontalPanel;\r\n    import com.sencha.gxt.core.client.IdentityValueProvider;\r\n    import com.sencha.gxt.core.client.Style;\r\n    import com.sencha.gxt.core.client.dom.XElement;\r\n    import com.sencha.gxt.data.shared.LabelProvider;\r\n    import com.sencha.gxt.data.shared.ListStore;\r\n    import com.sencha.gxt.data.shared.ModelKeyProvider;\r\n    import com.sencha.gxt.data.shared.Store;\r\n    import com.sencha.gxt.widget.core.client.event.FocusEvent;\r\n    import com.sencha.gxt.widget.core.client.event.RowClickEvent;\r\n    import com.sencha.gxt.widget.core.client.event.RowMouseDownEvent;\r\n    import com.sencha.gxt.widget.core.client.event.TriggerClickEvent;\r\n    import com.sencha.gxt.widget.core.client.form.CheckBox;\r\n    import com.sencha.gxt.widget.core.client.form.TextField;\r\n    import com.sencha.gxt.widget.core.client.grid.*;\r\n    import com.sencha.gxt.widget.core.client.menu.Menu;\r\n    import com.sencha.gxt.widget.core.client.selection.SelectionChangedEvent;\r\n    import com.sencha.gxt.widget.core.client.tips.QuickTip;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Custom GXT component allowing selection of several elements in a combobox along with filtering of values\r\n     * Custom rendering of values can be defined by providing a custom AbstractCell\r\n     */\r\n    public class MultiSelectComboBox&lt;T&gt; extends HorizontalPanel {\r\n    \r\n        /**\r\n         * Number of values that will be displayed in the drop down list before adding a vertical scrollbar\r\n         */\r\n        private static final int NB_VALUES_WITHOUT_SCROLL = 15;\r\n    \r\n        private static final int SINGLE_ENTRY_HEIGHT = 22;\r\n    \r\n        /**\r\n         * Field displaying label of every checked values\r\n         */\r\n        private MultiComboBoxTriggerField selectedItemsField = new MultiComboBoxTriggerField();\r\n    \r\n        /**\r\n         * Menu contains the &quot;select all checkbox&quot; and the filtering text field\r\n         */\r\n        private Menu menu = new Menu();\r\n    \r\n        /**\r\n         * Grid with only one column containing the combobox elements\r\n         */\r\n        private Grid&lt;T&gt; grid;\r\n    \r\n        private CheckBox selectAllCheckBox = new CheckBox();\r\n    \r\n        private ModelKeyProvider&lt;T&gt; keyProvider;\r\n    \r\n        private LabelProvider&lt;T&gt; labelProvider;\r\n    \r\n        private CheckBoxSelectionModel&lt;T&gt; sm;\r\n    \r\n        private ColumnConfig&lt;T, String&gt; columnConfig;\r\n    \r\n        /**\r\n         * Cell used for rendering of values in the combobox drop down list\r\n         */\r\n        private AbstractCell cell;\r\n    \r\n        /**\r\n         * Label to display in case no element is selected in the drop down list\r\n         */\r\n        private String noSelectionLabel = new String(&quot;&quot;);\r\n    \r\n        /**\r\n         * Combobox field default width\r\n         */\r\n        private int selectedFieldWidth = 150;\r\n    \r\n        /**\r\n         * Combobox drop down list default width\r\n         */\r\n        private int listWidth = 185;\r\n    \r\n        /**\r\n         * This default cell is the one used in case no custom cell has been specified in constructor\r\n         */\r\n        private AbstractCell defaultCell = new AbstractCell() {\r\n            @Override\r\n            public void render(Cell.Context context, Object value, SafeHtmlBuilder sb) {\r\n                String label = labelProvider.getLabel(grid.getStore().get(context.getIndex()));\r\n                sb.append(SafeHtmlUtils.fromTrustedString(label != null ? &quot;&lt;div style=\\&quot;font-size: 12px;\\&quot;&gt;&quot; + label + &quot;&lt;/div&gt;&quot; : &quot;&quot;));\r\n            }\r\n        };\r\n    \r\n        /**\r\n         * Default constructor\r\n         *\r\n         * @param keyProvider\r\n         * @param labelProvider\r\n         */\r\n        public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider) {\r\n            this.keyProvider = keyProvider;\r\n            this.labelProvider = labelProvider;\r\n    \r\n            cell = defaultCell;\r\n    \r\n            init();\r\n        }\r\n    \r\n        /**\r\n         * Constructor with a custom width for the drop down list\r\n         *\r\n         * @param keyProvider\r\n         * @param labelProvider\r\n         */\r\n        public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, int listWidth) {\r\n            this.keyProvider = keyProvider;\r\n            this.labelProvider = labelProvider;\r\n            this.listWidth = listWidth;\r\n    \r\n            cell = defaultCell;\r\n    \r\n            init();\r\n        }\r\n    \r\n        /**\r\n         * Constructor with a custom cell defined for values rendering\r\n         *\r\n         * @param keyProvider\r\n         * @param labelProvider\r\n         * @param customCell\r\n         */\r\n        public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, AbstractCell customCell) {\r\n            this.keyProvider = keyProvider;\r\n            this.labelProvider = labelProvider;\r\n    \r\n            cell = customCell;\r\n    \r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            StyleResources.INSTANCE.multiSelectComboStyle().ensureInjected();\r\n    \r\n            initGrid();\r\n    \r\n            // Filter field\r\n            final TextField filterField = new TextField();\r\n            filterField.setEmptyText(IpWebParameters.INSTANCE.filterLabel());\r\n    \r\n            final Store.StoreFilter&lt;T&gt; filter = new Store.StoreFilter&lt;T&gt;() {\r\n                @Override\r\n                public boolean select(Store&lt;T&gt; store, T parent, T item) {\r\n                    return labelProvider.getLabel(item).toUpperCase().contains(filterField.getText().toUpperCase());\r\n                }\r\n            };\r\n    \r\n            // Filter values when the user fill in the filter field\r\n            filterField.addKeyUpHandler(new KeyUpHandler() {\r\n                @Override\r\n                public void onKeyUp(KeyUpEvent event) {\r\n                    if (filterField.getText().length() &gt; 1) {\r\n                        grid.getStore().removeFilters();\r\n                        grid.getStore().addFilter(filter);\r\n                        grid.getStore().setEnableFilters(true);\r\n                    } else {\r\n                        grid.getStore().removeFilters();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            selectAllCheckBox.setStyleName(StyleResources.INSTANCE.multiSelectComboStyle().selectAllCheckbox());\r\n            selectAllCheckBox.addValueChangeHandler(new ValueChangeHandler&lt;Boolean&gt;() {\r\n                @Override\r\n                public void onValueChange(ValueChangeEvent&lt;Boolean&gt; event) {\r\n                    if (sm.isSelectAllChecked()) {\r\n                        sm.setSelectAllChecked(false);\r\n                    } else {\r\n                        sm.setSelectAllChecked(true);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            HorizontalPanel filterPanel = new HorizontalPanel();\r\n            filterPanel.add(selectAllCheckBox);\r\n            filterPanel.add(filterField);\r\n    \r\n            // Menu contains filter fields and checkable items\r\n            menu.add(filterPanel);\r\n            menu.add(grid);\r\n    \r\n            selectedItemsField.addStyleName(StyleResources.INSTANCE.multiSelectComboStyle().multiComboTextField());\r\n    //        selectedItemsField.addStyleOnOver(selectedItemsField.getElement(), StyleResources.INSTANCE.multiSelectComboStyle().multiComboTextField());\r\n    \r\n            selectedItemsField.setReadOnly(false);\r\n            selectedItemsField.setValue(noSelectionLabel);\r\n            selectedItemsField.setWidth(selectedFieldWidth);\r\n    \r\n            selectedItemsField.addTriggerClickHandler(new TriggerClickEvent.TriggerClickHandler() {\r\n                @Override\r\n                public void onTriggerClick(TriggerClickEvent event) {\r\n                    menu.showAt(selectedItemsField.getAbsoluteLeft(), selectedItemsField.getAbsoluteTop() + selectedItemsField.getOffsetHeight());\r\n                }\r\n            });\r\n    \r\n            selectedItemsField.addFocusHandler(new FocusEvent.FocusHandler() {\r\n                @Override\r\n                public void onFocus(FocusEvent event) {\r\n                    menu.showAt(selectedItemsField.getAbsoluteLeft(), selectedItemsField.getAbsoluteTop() + selectedItemsField.getOffsetHeight());\r\n                }\r\n            });\r\n    \r\n            add(selectedItemsField);\r\n        }\r\n    \r\n        /**\r\n         * Creation of the grid object required for rendering of values in the drop down list\r\n         */\r\n        private void initGrid() {\r\n            IdentityValueProvider&lt;T&gt; identity = new IdentityValueProvider&lt;&gt;();\r\n    \r\n            // Check elements when clicking on the checkbox or on the row\r\n            sm = new CheckBoxSelectionModel&lt;T&gt;(identity) {\r\n                @Override\r\n                protected void onRowClick(RowClickEvent event) {\r\n                    boolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\r\n                    XElement target = event.getEvent().getEventTarget().cast();\r\n                    if (left &amp;&amp; !this.getAppearance().isRowChecker(target)) {\r\n                        controlSelection(listStore.get(event.getRowIndex()));\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                protected void onRowMouseDown(RowMouseDownEvent event) {\r\n                    boolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\r\n                    XElement target = event.getEvent().getEventTarget().cast();\r\n                    if (left &amp;&amp; this.getAppearance().isRowChecker(target)) {\r\n                        controlSelection(listStore.get(event.getRowIndex()));\r\n                    }\r\n                }\r\n            };\r\n    \r\n            // allow the user to select multiple values\r\n            sm.setSelectionMode(Style.SelectionMode.MULTI);\r\n    \r\n            // Manage selectAll check box depending on already selected values\r\n            sm.addSelectionChangedHandler(new SelectionChangedEvent.SelectionChangedHandler&lt;T&gt;() {\r\n                @Override\r\n                public void onSelectionChanged(SelectionChangedEvent&lt;T&gt; simpleValueSelectionChangedEvent) {\r\n                    // automatically check or uncheck the &quot;select all checkbox&quot; depending on current user selection\r\n                    if (selectAllCheckBox.getValue() &amp;&amp; !isAllSelected()) {\r\n                        selectAllCheckBox.setValue(false);\r\n                    } else if (!selectAllCheckBox.getValue() &amp;&amp; isAllSelected()) {\r\n                        selectAllCheckBox.setValue(true);\r\n                    }\r\n    \r\n                    setValuesToTextField();\r\n                }\r\n            });\r\n    \r\n    \r\n            ColumnModel columnModel = new ColumnModel(getColumnConfig());\r\n            ListStore&lt;T&gt; store = new ListStore&lt;&gt;(keyProvider);\r\n            grid = new Grid&lt;&gt;(store, columnModel, new GridView&lt;T&gt;());\r\n            grid.setSelectionModel(sm);\r\n            grid.setAllowTextSelection(false);\r\n            grid.setHideHeaders(true);\r\n            grid.setBorders(false);\r\n    \r\n            // Define grid view properties\r\n            grid.getView().setColumnLines(false);\r\n            grid.getView().setAdjustForHScroll(false);\r\n            grid.getView().setTrackMouseOver(false);\r\n    \r\n            refreshGridHeight();\r\n    \r\n            new QuickTip(grid);\r\n        }\r\n    \r\n        /**\r\n         * @return the list of currently selected items\r\n         */\r\n        public List&lt;T&gt; getSelectedItems() {\r\n            return sm.getSelectedItems();\r\n        }\r\n    \r\n        /**\r\n         * Add a list of checkable item in the drop down list\r\n         *\r\n         * @param list\r\n         */\r\n        public void addAll(List&lt;T&gt; list) {\r\n            for (T v : list) {\r\n                add(v);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Add a checkable item in the drop down list\r\n         *\r\n         * @param item the item to add\r\n         */\r\n        public void add(T item) {\r\n            boolean alreadyExists = false;\r\n            if (!alreadyExists) {\r\n                grid.getStore().add(item);\r\n            }\r\n    \r\n            refreshGridHeight();\r\n            refreshColumnWidth();\r\n        }\r\n    \r\n        /**\r\n         * @return all items contained in the store\r\n         */\r\n        public List&lt;T&gt; getAllItems() {\r\n            return grid.getStore().getAll();\r\n        }\r\n    \r\n        public void clearStore() {\r\n            grid.getStore().clear();\r\n        }\r\n    \r\n        private List&lt;ColumnConfig&gt; getColumnConfig() {\r\n            List&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\r\n    \r\n            // Width depends on the presence of a scrollbar\r\n            columnConfig = new ColumnConfig(new IdentityValueProvider&lt;T&gt;());\r\n    \r\n            columnConfig.setCell(cell);\r\n    \r\n            columnConfig.setColumnStyle(new SafeStyles() {\r\n                @Override\r\n                public String asString() {\r\n                    return &quot;border: none;&quot;;\r\n                }\r\n            });\r\n    \r\n            configs.add(sm.getColumn());\r\n            configs.add(columnConfig);\r\n    \r\n            return configs;\r\n        }\r\n    \r\n        /**\r\n         * Adjust drop down list height depending on the number of elements in the list. A scrollbar is added if this number exceeds NB_VALUES_WITHOUT_SCROLL\r\n         */\r\n        private void refreshGridHeight() {\r\n            if (getAllItems().size() &gt; NB_VALUES_WITHOUT_SCROLL) {\r\n                grid.setHeight(NB_VALUES_WITHOUT_SCROLL * SINGLE_ENTRY_HEIGHT);\r\n            } else {\r\n                grid.setHeight(getAllItems().size() * SINGLE_ENTRY_HEIGHT);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Refresh width of columns. Width depends on the presence of a scrollbar\r\n         */\r\n        private void refreshColumnWidth() {\r\n            int columnWidth = listWidth - sm.getColumn().getWidth() - 25;\r\n            if (getAllItems().size() &lt; NB_VALUES_WITHOUT_SCROLL) {\r\n                columnWidth = listWidth - sm.getColumn().getWidth();\r\n            }\r\n            columnConfig.setWidth(columnWidth);\r\n        }\r\n    \r\n        /**\r\n         * Switch the selection status of the given item\r\n         *\r\n         * @param item\r\n         */\r\n        private void controlSelection(T item) {\r\n            if (item != null) {\r\n                if (sm.isSelected(item)) {\r\n                    sm.deselect(item);\r\n                } else {\r\n                    sm.select(item, true);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Manage the label to display in the &quot;selected item field&quot;. Label of each selected values is displayed or &quot;All&quot; if all elements are selected\r\n         */\r\n        private void setValuesToTextField() {\r\n            if (sm.getSelectedItems().size() &gt; 0) {\r\n                if (isAllSelected()) {\r\n                    selectedItemsField.setValue(IpWebParameters.INSTANCE.all());\r\n                    selectedItemsField.setToolTip(IpWebParameters.INSTANCE.all());\r\n                } else {\r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (int i = 0; i &lt; sm.getSelectedItems().size(); i++) {\r\n                        sb.append(labelProvider.getLabel(sm.getSelectedItems().get(i)));\r\n                        if (i != sm.getSelectedItems().size() - 1) {\r\n                            sb.append(&quot;, &quot;);\r\n                        }\r\n                    }\r\n                    selectedItemsField.setValue(sb.toString());\r\n                    selectedItemsField.setToolTip(sb.toString());\r\n                }\r\n            } else {\r\n                selectedItemsField.setValue(noSelectionLabel);\r\n                selectedItemsField.removeToolTip();\r\n            }\r\n        }\r\n    \r\n        public void setEnabled(boolean enabled) {\r\n            selectedItemsField.setEnabled(enabled);\r\n        }\r\n    \r\n        /**\r\n         * Set the matching model item as checked\r\n         *\r\n         * @param item the item to check\r\n         */\r\n        public void select(T item) {\r\n            if (!sm.isSelected(item)) {\r\n                sm.select(true, item);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Set the matching model items as checked\r\n         *\r\n         * @param items the item to check\r\n         */\r\n        public void select(List&lt;T&gt; items) {\r\n            for (T item : items) {\r\n                this.select(item);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Check all items in the drop down list\r\n         */\r\n        public void selectAll() {\r\n            for (T item : getAllItems()) {\r\n                this.select(item);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * deselect all items in the drop down list\r\n         */\r\n        public void deselectAll() {\r\n            sm.deselectAll();\r\n        }\r\n    \r\n        /**\r\n         * @return true if all items are selected\r\n         */\r\n        public boolean isAllSelected() {\r\n            return sm.getSelection().size() == getAllItems().size();\r\n        }\r\n    \r\n        public interface ComboStyle extends CssResource {\r\n            String multiComboTextField();\r\n    \r\n            String selectAllCheckbox();\r\n        }\r\n    \r\n        public interface StyleResources extends ClientBundle {\r\n            StyleResources INSTANCE = GWT.create(StyleResources.class);\r\n    \r\n            @Source(&quot;multiselectcombo.css&quot;)\r\n            ComboStyle multiSelectComboStyle();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n*MultiComboBoxTriggerField.java*\r\n\r\n    import com.google.gwt.event.shared.HandlerRegistration;\r\n    import com.sencha.gxt.cell.core.client.form.TriggerFieldCell;\r\n    import com.sencha.gxt.widget.core.client.event.CollapseEvent;\r\n    import com.sencha.gxt.widget.core.client.event.ExpandEvent;\r\n    import com.sencha.gxt.widget.core.client.form.PropertyEditor;\r\n    import com.sencha.gxt.widget.core.client.form.TriggerField;\r\n    \r\n    /**\r\n     * Trigger Field for multi select combo box\r\n     */\r\n    public class MultiComboBoxTriggerField extends TriggerField&lt;String&gt; implements ExpandEvent.HasExpandHandlers, CollapseEvent.HasCollapseHandlers {\r\n    \r\n        public MultiComboBoxTriggerField() {\r\n            this(new TriggerFieldCell&lt;String&gt;(), new MultiComboBoxPropertyEditor());\r\n        }\r\n    \r\n        protected MultiComboBoxTriggerField(TriggerFieldCell&lt;String&gt; cell, PropertyEditor&lt;String&gt; propertyEditor) {\r\n            super(cell, propertyEditor);\r\n        }\r\n    \r\n        @Override\r\n        public HandlerRegistration addExpandHandler(ExpandEvent.ExpandHandler handler) {\r\n            return addHandler(handler, ExpandEvent.getType());\r\n        }\r\n    \r\n        @Override\r\n        public HandlerRegistration addCollapseHandler(CollapseEvent.CollapseHandler handler) {\r\n            return addHandler(handler, CollapseEvent.getType());\r\n        }\r\n    }\r\n\r\n*MultiComboBoxPropertyEditor.java*\r\n\r\n    import com.sencha.gxt.widget.core.client.form.PropertyEditor;\r\n    \r\n    import java.text.ParseException;\r\n    \r\n    /**\r\n     * Property editor for multi select combo box\r\n     */\r\n    public class MultiComboBoxPropertyEditor extends PropertyEditor&lt;String&gt; {\r\n    \r\n        @Override\r\n        public String parse(CharSequence text) throws ParseException {\r\n            return text.toString();\r\n        }\r\n    \r\n        @Override\r\n        public String render(String object) {\r\n            return object;\r\n        }\r\n    }","title":"ComboBox with multiselect Feature in GXT","body":"<p>I have implemented my own version starting from the David Lekishvili's version and trying to improve it on some aspects (tested with GXT-3.1.4 and GWT-2.7.0).</p>\n\n<p>Here is the code :</p>\n\n<p><em>MultiSelectComboBox.java</em></p>\n\n<pre><code>import com.google.gwt.cell.client.AbstractCell;\nimport com.google.gwt.cell.client.Cell;\nimport com.google.gwt.core.client.GWT;\nimport com.google.gwt.event.dom.client.KeyUpEvent;\nimport com.google.gwt.event.dom.client.KeyUpHandler;\nimport com.google.gwt.event.logical.shared.ValueChangeEvent;\nimport com.google.gwt.event.logical.shared.ValueChangeHandler;\nimport com.google.gwt.resources.client.ClientBundle;\nimport com.google.gwt.resources.client.CssResource;\nimport com.google.gwt.safecss.shared.SafeStyles;\nimport com.google.gwt.safehtml.shared.SafeHtmlBuilder;\nimport com.google.gwt.safehtml.shared.SafeHtmlUtils;\nimport com.google.gwt.user.client.Event;\nimport com.google.gwt.user.client.ui.HorizontalPanel;\nimport com.sencha.gxt.core.client.IdentityValueProvider;\nimport com.sencha.gxt.core.client.Style;\nimport com.sencha.gxt.core.client.dom.XElement;\nimport com.sencha.gxt.data.shared.LabelProvider;\nimport com.sencha.gxt.data.shared.ListStore;\nimport com.sencha.gxt.data.shared.ModelKeyProvider;\nimport com.sencha.gxt.data.shared.Store;\nimport com.sencha.gxt.widget.core.client.event.FocusEvent;\nimport com.sencha.gxt.widget.core.client.event.RowClickEvent;\nimport com.sencha.gxt.widget.core.client.event.RowMouseDownEvent;\nimport com.sencha.gxt.widget.core.client.event.TriggerClickEvent;\nimport com.sencha.gxt.widget.core.client.form.CheckBox;\nimport com.sencha.gxt.widget.core.client.form.TextField;\nimport com.sencha.gxt.widget.core.client.grid.*;\nimport com.sencha.gxt.widget.core.client.menu.Menu;\nimport com.sencha.gxt.widget.core.client.selection.SelectionChangedEvent;\nimport com.sencha.gxt.widget.core.client.tips.QuickTip;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * Custom GXT component allowing selection of several elements in a combobox along with filtering of values\n * Custom rendering of values can be defined by providing a custom AbstractCell\n */\npublic class MultiSelectComboBox&lt;T&gt; extends HorizontalPanel {\n\n    /**\n     * Number of values that will be displayed in the drop down list before adding a vertical scrollbar\n     */\n    private static final int NB_VALUES_WITHOUT_SCROLL = 15;\n\n    private static final int SINGLE_ENTRY_HEIGHT = 22;\n\n    /**\n     * Field displaying label of every checked values\n     */\n    private MultiComboBoxTriggerField selectedItemsField = new MultiComboBoxTriggerField();\n\n    /**\n     * Menu contains the \"select all checkbox\" and the filtering text field\n     */\n    private Menu menu = new Menu();\n\n    /**\n     * Grid with only one column containing the combobox elements\n     */\n    private Grid&lt;T&gt; grid;\n\n    private CheckBox selectAllCheckBox = new CheckBox();\n\n    private ModelKeyProvider&lt;T&gt; keyProvider;\n\n    private LabelProvider&lt;T&gt; labelProvider;\n\n    private CheckBoxSelectionModel&lt;T&gt; sm;\n\n    private ColumnConfig&lt;T, String&gt; columnConfig;\n\n    /**\n     * Cell used for rendering of values in the combobox drop down list\n     */\n    private AbstractCell cell;\n\n    /**\n     * Label to display in case no element is selected in the drop down list\n     */\n    private String noSelectionLabel = new String(\"\");\n\n    /**\n     * Combobox field default width\n     */\n    private int selectedFieldWidth = 150;\n\n    /**\n     * Combobox drop down list default width\n     */\n    private int listWidth = 185;\n\n    /**\n     * This default cell is the one used in case no custom cell has been specified in constructor\n     */\n    private AbstractCell defaultCell = new AbstractCell() {\n        @Override\n        public void render(Cell.Context context, Object value, SafeHtmlBuilder sb) {\n            String label = labelProvider.getLabel(grid.getStore().get(context.getIndex()));\n            sb.append(SafeHtmlUtils.fromTrustedString(label != null ? \"&lt;div style=\\\"font-size: 12px;\\\"&gt;\" + label + \"&lt;/div&gt;\" : \"\"));\n        }\n    };\n\n    /**\n     * Default constructor\n     *\n     * @param keyProvider\n     * @param labelProvider\n     */\n    public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider) {\n        this.keyProvider = keyProvider;\n        this.labelProvider = labelProvider;\n\n        cell = defaultCell;\n\n        init();\n    }\n\n    /**\n     * Constructor with a custom width for the drop down list\n     *\n     * @param keyProvider\n     * @param labelProvider\n     */\n    public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, int listWidth) {\n        this.keyProvider = keyProvider;\n        this.labelProvider = labelProvider;\n        this.listWidth = listWidth;\n\n        cell = defaultCell;\n\n        init();\n    }\n\n    /**\n     * Constructor with a custom cell defined for values rendering\n     *\n     * @param keyProvider\n     * @param labelProvider\n     * @param customCell\n     */\n    public MultiSelectComboBox(ModelKeyProvider&lt;T&gt; keyProvider, LabelProvider&lt;T&gt; labelProvider, AbstractCell customCell) {\n        this.keyProvider = keyProvider;\n        this.labelProvider = labelProvider;\n\n        cell = customCell;\n\n        init();\n    }\n\n    private void init() {\n        StyleResources.INSTANCE.multiSelectComboStyle().ensureInjected();\n\n        initGrid();\n\n        // Filter field\n        final TextField filterField = new TextField();\n        filterField.setEmptyText(IpWebParameters.INSTANCE.filterLabel());\n\n        final Store.StoreFilter&lt;T&gt; filter = new Store.StoreFilter&lt;T&gt;() {\n            @Override\n            public boolean select(Store&lt;T&gt; store, T parent, T item) {\n                return labelProvider.getLabel(item).toUpperCase().contains(filterField.getText().toUpperCase());\n            }\n        };\n\n        // Filter values when the user fill in the filter field\n        filterField.addKeyUpHandler(new KeyUpHandler() {\n            @Override\n            public void onKeyUp(KeyUpEvent event) {\n                if (filterField.getText().length() &gt; 1) {\n                    grid.getStore().removeFilters();\n                    grid.getStore().addFilter(filter);\n                    grid.getStore().setEnableFilters(true);\n                } else {\n                    grid.getStore().removeFilters();\n                }\n            }\n        });\n\n        selectAllCheckBox.setStyleName(StyleResources.INSTANCE.multiSelectComboStyle().selectAllCheckbox());\n        selectAllCheckBox.addValueChangeHandler(new ValueChangeHandler&lt;Boolean&gt;() {\n            @Override\n            public void onValueChange(ValueChangeEvent&lt;Boolean&gt; event) {\n                if (sm.isSelectAllChecked()) {\n                    sm.setSelectAllChecked(false);\n                } else {\n                    sm.setSelectAllChecked(true);\n                }\n            }\n        });\n\n        HorizontalPanel filterPanel = new HorizontalPanel();\n        filterPanel.add(selectAllCheckBox);\n        filterPanel.add(filterField);\n\n        // Menu contains filter fields and checkable items\n        menu.add(filterPanel);\n        menu.add(grid);\n\n        selectedItemsField.addStyleName(StyleResources.INSTANCE.multiSelectComboStyle().multiComboTextField());\n//        selectedItemsField.addStyleOnOver(selectedItemsField.getElement(), StyleResources.INSTANCE.multiSelectComboStyle().multiComboTextField());\n\n        selectedItemsField.setReadOnly(false);\n        selectedItemsField.setValue(noSelectionLabel);\n        selectedItemsField.setWidth(selectedFieldWidth);\n\n        selectedItemsField.addTriggerClickHandler(new TriggerClickEvent.TriggerClickHandler() {\n            @Override\n            public void onTriggerClick(TriggerClickEvent event) {\n                menu.showAt(selectedItemsField.getAbsoluteLeft(), selectedItemsField.getAbsoluteTop() + selectedItemsField.getOffsetHeight());\n            }\n        });\n\n        selectedItemsField.addFocusHandler(new FocusEvent.FocusHandler() {\n            @Override\n            public void onFocus(FocusEvent event) {\n                menu.showAt(selectedItemsField.getAbsoluteLeft(), selectedItemsField.getAbsoluteTop() + selectedItemsField.getOffsetHeight());\n            }\n        });\n\n        add(selectedItemsField);\n    }\n\n    /**\n     * Creation of the grid object required for rendering of values in the drop down list\n     */\n    private void initGrid() {\n        IdentityValueProvider&lt;T&gt; identity = new IdentityValueProvider&lt;&gt;();\n\n        // Check elements when clicking on the checkbox or on the row\n        sm = new CheckBoxSelectionModel&lt;T&gt;(identity) {\n            @Override\n            protected void onRowClick(RowClickEvent event) {\n                boolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\n                XElement target = event.getEvent().getEventTarget().cast();\n                if (left &amp;&amp; !this.getAppearance().isRowChecker(target)) {\n                    controlSelection(listStore.get(event.getRowIndex()));\n                }\n            }\n\n            @Override\n            protected void onRowMouseDown(RowMouseDownEvent event) {\n                boolean left = event.getEvent().getButton() == Event.BUTTON_LEFT;\n                XElement target = event.getEvent().getEventTarget().cast();\n                if (left &amp;&amp; this.getAppearance().isRowChecker(target)) {\n                    controlSelection(listStore.get(event.getRowIndex()));\n                }\n            }\n        };\n\n        // allow the user to select multiple values\n        sm.setSelectionMode(Style.SelectionMode.MULTI);\n\n        // Manage selectAll check box depending on already selected values\n        sm.addSelectionChangedHandler(new SelectionChangedEvent.SelectionChangedHandler&lt;T&gt;() {\n            @Override\n            public void onSelectionChanged(SelectionChangedEvent&lt;T&gt; simpleValueSelectionChangedEvent) {\n                // automatically check or uncheck the \"select all checkbox\" depending on current user selection\n                if (selectAllCheckBox.getValue() &amp;&amp; !isAllSelected()) {\n                    selectAllCheckBox.setValue(false);\n                } else if (!selectAllCheckBox.getValue() &amp;&amp; isAllSelected()) {\n                    selectAllCheckBox.setValue(true);\n                }\n\n                setValuesToTextField();\n            }\n        });\n\n\n        ColumnModel columnModel = new ColumnModel(getColumnConfig());\n        ListStore&lt;T&gt; store = new ListStore&lt;&gt;(keyProvider);\n        grid = new Grid&lt;&gt;(store, columnModel, new GridView&lt;T&gt;());\n        grid.setSelectionModel(sm);\n        grid.setAllowTextSelection(false);\n        grid.setHideHeaders(true);\n        grid.setBorders(false);\n\n        // Define grid view properties\n        grid.getView().setColumnLines(false);\n        grid.getView().setAdjustForHScroll(false);\n        grid.getView().setTrackMouseOver(false);\n\n        refreshGridHeight();\n\n        new QuickTip(grid);\n    }\n\n    /**\n     * @return the list of currently selected items\n     */\n    public List&lt;T&gt; getSelectedItems() {\n        return sm.getSelectedItems();\n    }\n\n    /**\n     * Add a list of checkable item in the drop down list\n     *\n     * @param list\n     */\n    public void addAll(List&lt;T&gt; list) {\n        for (T v : list) {\n            add(v);\n        }\n    }\n\n    /**\n     * Add a checkable item in the drop down list\n     *\n     * @param item the item to add\n     */\n    public void add(T item) {\n        boolean alreadyExists = false;\n        if (!alreadyExists) {\n            grid.getStore().add(item);\n        }\n\n        refreshGridHeight();\n        refreshColumnWidth();\n    }\n\n    /**\n     * @return all items contained in the store\n     */\n    public List&lt;T&gt; getAllItems() {\n        return grid.getStore().getAll();\n    }\n\n    public void clearStore() {\n        grid.getStore().clear();\n    }\n\n    private List&lt;ColumnConfig&gt; getColumnConfig() {\n        List&lt;ColumnConfig&gt; configs = new ArrayList&lt;&gt;();\n\n        // Width depends on the presence of a scrollbar\n        columnConfig = new ColumnConfig(new IdentityValueProvider&lt;T&gt;());\n\n        columnConfig.setCell(cell);\n\n        columnConfig.setColumnStyle(new SafeStyles() {\n            @Override\n            public String asString() {\n                return \"border: none;\";\n            }\n        });\n\n        configs.add(sm.getColumn());\n        configs.add(columnConfig);\n\n        return configs;\n    }\n\n    /**\n     * Adjust drop down list height depending on the number of elements in the list. A scrollbar is added if this number exceeds NB_VALUES_WITHOUT_SCROLL\n     */\n    private void refreshGridHeight() {\n        if (getAllItems().size() &gt; NB_VALUES_WITHOUT_SCROLL) {\n            grid.setHeight(NB_VALUES_WITHOUT_SCROLL * SINGLE_ENTRY_HEIGHT);\n        } else {\n            grid.setHeight(getAllItems().size() * SINGLE_ENTRY_HEIGHT);\n        }\n    }\n\n    /**\n     * Refresh width of columns. Width depends on the presence of a scrollbar\n     */\n    private void refreshColumnWidth() {\n        int columnWidth = listWidth - sm.getColumn().getWidth() - 25;\n        if (getAllItems().size() &lt; NB_VALUES_WITHOUT_SCROLL) {\n            columnWidth = listWidth - sm.getColumn().getWidth();\n        }\n        columnConfig.setWidth(columnWidth);\n    }\n\n    /**\n     * Switch the selection status of the given item\n     *\n     * @param item\n     */\n    private void controlSelection(T item) {\n        if (item != null) {\n            if (sm.isSelected(item)) {\n                sm.deselect(item);\n            } else {\n                sm.select(item, true);\n            }\n        }\n    }\n\n    /**\n     * Manage the label to display in the \"selected item field\". Label of each selected values is displayed or \"All\" if all elements are selected\n     */\n    private void setValuesToTextField() {\n        if (sm.getSelectedItems().size() &gt; 0) {\n            if (isAllSelected()) {\n                selectedItemsField.setValue(IpWebParameters.INSTANCE.all());\n                selectedItemsField.setToolTip(IpWebParameters.INSTANCE.all());\n            } else {\n                StringBuilder sb = new StringBuilder();\n                for (int i = 0; i &lt; sm.getSelectedItems().size(); i++) {\n                    sb.append(labelProvider.getLabel(sm.getSelectedItems().get(i)));\n                    if (i != sm.getSelectedItems().size() - 1) {\n                        sb.append(\", \");\n                    }\n                }\n                selectedItemsField.setValue(sb.toString());\n                selectedItemsField.setToolTip(sb.toString());\n            }\n        } else {\n            selectedItemsField.setValue(noSelectionLabel);\n            selectedItemsField.removeToolTip();\n        }\n    }\n\n    public void setEnabled(boolean enabled) {\n        selectedItemsField.setEnabled(enabled);\n    }\n\n    /**\n     * Set the matching model item as checked\n     *\n     * @param item the item to check\n     */\n    public void select(T item) {\n        if (!sm.isSelected(item)) {\n            sm.select(true, item);\n        }\n    }\n\n    /**\n     * Set the matching model items as checked\n     *\n     * @param items the item to check\n     */\n    public void select(List&lt;T&gt; items) {\n        for (T item : items) {\n            this.select(item);\n        }\n    }\n\n    /**\n     * Check all items in the drop down list\n     */\n    public void selectAll() {\n        for (T item : getAllItems()) {\n            this.select(item);\n        }\n    }\n\n    /**\n     * deselect all items in the drop down list\n     */\n    public void deselectAll() {\n        sm.deselectAll();\n    }\n\n    /**\n     * @return true if all items are selected\n     */\n    public boolean isAllSelected() {\n        return sm.getSelection().size() == getAllItems().size();\n    }\n\n    public interface ComboStyle extends CssResource {\n        String multiComboTextField();\n\n        String selectAllCheckbox();\n    }\n\n    public interface StyleResources extends ClientBundle {\n        StyleResources INSTANCE = GWT.create(StyleResources.class);\n\n        @Source(\"multiselectcombo.css\")\n        ComboStyle multiSelectComboStyle();\n    }\n\n}\n</code></pre>\n\n<p><em>MultiComboBoxTriggerField.java</em></p>\n\n<pre><code>import com.google.gwt.event.shared.HandlerRegistration;\nimport com.sencha.gxt.cell.core.client.form.TriggerFieldCell;\nimport com.sencha.gxt.widget.core.client.event.CollapseEvent;\nimport com.sencha.gxt.widget.core.client.event.ExpandEvent;\nimport com.sencha.gxt.widget.core.client.form.PropertyEditor;\nimport com.sencha.gxt.widget.core.client.form.TriggerField;\n\n/**\n * Trigger Field for multi select combo box\n */\npublic class MultiComboBoxTriggerField extends TriggerField&lt;String&gt; implements ExpandEvent.HasExpandHandlers, CollapseEvent.HasCollapseHandlers {\n\n    public MultiComboBoxTriggerField() {\n        this(new TriggerFieldCell&lt;String&gt;(), new MultiComboBoxPropertyEditor());\n    }\n\n    protected MultiComboBoxTriggerField(TriggerFieldCell&lt;String&gt; cell, PropertyEditor&lt;String&gt; propertyEditor) {\n        super(cell, propertyEditor);\n    }\n\n    @Override\n    public HandlerRegistration addExpandHandler(ExpandEvent.ExpandHandler handler) {\n        return addHandler(handler, ExpandEvent.getType());\n    }\n\n    @Override\n    public HandlerRegistration addCollapseHandler(CollapseEvent.CollapseHandler handler) {\n        return addHandler(handler, CollapseEvent.getType());\n    }\n}\n</code></pre>\n\n<p><em>MultiComboBoxPropertyEditor.java</em></p>\n\n<pre><code>import com.sencha.gxt.widget.core.client.form.PropertyEditor;\n\nimport java.text.ParseException;\n\n/**\n * Property editor for multi select combo box\n */\npublic class MultiComboBoxPropertyEditor extends PropertyEditor&lt;String&gt; {\n\n    @Override\n    public String parse(CharSequence text) throws ParseException {\n        return text.toString();\n    }\n\n    @Override\n    public String render(String object) {\n        return object;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2232109,"reputation":1138,"user_id":1969412,"accept_rate":97,"display_name":"Vivek Vardhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20756127,"answer_count":4,"score":1,"last_activity_date":1633004303,"creation_date":1384343861,"question_id":19953195,"body_markdown":"I am trying to implement a comboBox with multi-select feature. There will be a checkBox associated with each of the string and user can select one or many from the list.\r\nIn GXT 2, we had CheckBoxListView which makes things easier. \r\n\r\nI had follwing idea of implementing it.\r\n\r\nUsing a Grid&lt;gridModel&gt; which can have one column as CheckBox and other column as the string that i wnat to display and then adding the store of this grid to the CheckBoxStore. But, as the ListStore of Grid and ComboBoxes are not same, i tried it but no success,  because both store are different and acceptd different properties.\r\n\r\nThere should be an alternate way like using ListView.But, i am not getting how can i use CheckBox in ListView\r\n\r\nNeed Help\r\n\r\n","title":"ComboBox with multiselect Feature in GXT","body":"<p>I am trying to implement a comboBox with multi-select feature. There will be a checkBox associated with each of the string and user can select one or many from the list.\nIn GXT 2, we had CheckBoxListView which makes things easier. </p>\n\n<p>I had follwing idea of implementing it.</p>\n\n<p>Using a Grid which can have one column as CheckBox and other column as the string that i wnat to display and then adding the store of this grid to the CheckBoxStore. But, as the ListStore of Grid and ComboBoxes are not same, i tried it but no success,  because both store are different and acceptd different properties.</p>\n\n<p>There should be an alternate way like using ListView.But, i am not getting how can i use CheckBox in ListView</p>\n\n<p>Need Help</p>\n"},{"tags":["java","hibernate-mapping"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633004289,"post_id":69391557,"comment_id":122649471,"body_markdown":"JDBC doesn&#39;t define a JDBC type -155, so likely it&#39;s a type code specific to your JDBC driver. For Hibernate, a mapping for that column type would need to be defined in the dialect to make it work.","body":"JDBC doesn&#39;t define a JDBC type -155, so likely it&#39;s a type code specific to your JDBC driver. For Hibernate, a mapping for that column type would need to be defined in the dialect to make it work."}],"answers":[{"tags":[],"owner":{"account_id":1551875,"reputation":685,"user_id":1444083,"display_name":"Martin Edlman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633003935,"creation_date":1633001821,"answer_id":69391558,"question_id":69391557,"body_markdown":"As I suspected, the problem was in `timestamp` which Hibernate / JDBC was not able to convert to Instant. I&#39;ve solved it by converting timestamp to varchar in SQL and change the type in Java interface to String.\r\n```Java\r\n@Query(value = &quot;select ti.id, convert(varchar, ti.timestamp, 120) as timestamp, ti.fuel_station_id, ti.cash_register_id, sum(cast(dsc.discount as numeric(12,2))) as saving\r\nfrom transaction_info as ti\r\njoin discount dsc on ti.id = dsc.transaction_id\r\nwhere ti.user_id = :userId\r\nand ti.timestamp &gt;= :timeFrom&quot;)\r\nPage&lt;Saving&gt; findSavingsListByLmsUserAfterTimestamp(@Param(&quot;userId&quot;) long userId, @Param(&quot;timeFrom&quot;) Instant timeFrom, Pageable pageable);\r\n```\r\n\r\nThe `Saving` interface has changed to\r\n```Java\r\npublic interface Saving {\r\n    String getId();\r\n    String getTimestamp();\r\n    Long getFuelStationId();\r\n    Long getCashRegisterId();\r\n    Double getSaving();\r\n}\r\n```\r\nMaybe changing `Instant timestamp` to `Date timestamp` would help, I did&#39;nt try.","title":"No Dialect mapping for JDBC type: -155","body":"<p>As I suspected, the problem was in <code>timestamp</code> which Hibernate / JDBC was not able to convert to Instant. I've solved it by converting timestamp to varchar in SQL and change the type in Java interface to String.</p>\n<pre><code>@Query(value = &quot;select ti.id, convert(varchar, ti.timestamp, 120) as timestamp, ti.fuel_station_id, ti.cash_register_id, sum(cast(dsc.discount as numeric(12,2))) as saving\nfrom transaction_info as ti\njoin discount dsc on ti.id = dsc.transaction_id\nwhere ti.user_id = :userId\nand ti.timestamp &gt;= :timeFrom&quot;)\nPage&lt;Saving&gt; findSavingsListByLmsUserAfterTimestamp(@Param(&quot;userId&quot;) long userId, @Param(&quot;timeFrom&quot;) Instant timeFrom, Pageable pageable);\n</code></pre>\n<p>The <code>Saving</code> interface has changed to</p>\n<pre><code>public interface Saving {\n    String getId();\n    String getTimestamp();\n    Long getFuelStationId();\n    Long getCashRegisterId();\n    Double getSaving();\n}\n</code></pre>\n<p>Maybe changing <code>Instant timestamp</code> to <code>Date timestamp</code> would help, I did'nt try.</p>\n"}],"owner":{"account_id":1551875,"reputation":685,"user_id":1444083,"display_name":"Martin Edlman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633003935,"creation_date":1633001821,"question_id":69391557,"body_markdown":"I&#39;ve encoutered this error when using native query. The query selects only numbers, texts and timestamp.\r\n```Java\r\n@Query(value = &quot;select ti.id, ti.timestamp, ti.fuel_station_id, ti.cash_register_id, sum(cast(dsc.discount as numeric(12,2))) as saving\r\nfrom transaction_info as ti\r\njoin discount dsc on ti.id = dsc.transaction_id\r\nwhere ti.user_id = :userId\r\nand ti.timestamp &gt;= :timeFrom&quot;)\r\nPage&lt;Saving&gt; findSavingsListByLmsUserAfterTimestamp(@Param(&quot;userId&quot;) long userId, @Param(&quot;timeFrom&quot;) Instant timeFrom, Pageable pageable);\r\n```\r\n\r\n`Saving` is an interface\r\n```Java\r\npublic interface Saving {\r\n    String getId();\r\n    Instant getTimestamp();\r\n    Long getFuelStationId();\r\n    Long getCashRegisterId();\r\n    Double getSaving();\r\n}\r\n```\r\nI suspect the problem is either in `timestamp` or `saving` as I use other types (String, Long) in other native queries without problem.","title":"No Dialect mapping for JDBC type: -155","body":"<p>I've encoutered this error when using native query. The query selects only numbers, texts and timestamp.</p>\n<pre><code>@Query(value = &quot;select ti.id, ti.timestamp, ti.fuel_station_id, ti.cash_register_id, sum(cast(dsc.discount as numeric(12,2))) as saving\nfrom transaction_info as ti\njoin discount dsc on ti.id = dsc.transaction_id\nwhere ti.user_id = :userId\nand ti.timestamp &gt;= :timeFrom&quot;)\nPage&lt;Saving&gt; findSavingsListByLmsUserAfterTimestamp(@Param(&quot;userId&quot;) long userId, @Param(&quot;timeFrom&quot;) Instant timeFrom, Pageable pageable);\n</code></pre>\n<p><code>Saving</code> is an interface</p>\n<pre><code>public interface Saving {\n    String getId();\n    Instant getTimestamp();\n    Long getFuelStationId();\n    Long getCashRegisterId();\n    Double getSaving();\n}\n</code></pre>\n<p>I suspect the problem is either in <code>timestamp</code> or <code>saving</code> as I use other types (String, Long) in other native queries without problem.</p>\n"},{"tags":["java","maven","intellij-idea","junit","compilation"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1480415802,"post_id":40863593,"comment_id":68942743,"body_markdown":"Look at the run configuration for the test.  If you see a Make, then IntelliJ will compile again when you change the test.  Since this is a Maven project, I&#39;ll assume your test class is in src/test/java.","body":"Look at the run configuration for the test.  If you see a Make, then IntelliJ will compile again when you change the test.  Since this is a Maven project, I&#39;ll assume your test class is in src/test/java."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1480416222,"post_id":40863593,"comment_id":68943018,"body_markdown":"@duffymo You&#39;re right, I had a corrupt run config for the test. After deleting the corrupt one and rerunning the test it worked fine. You can put your comment as an answer so I can accept it.","body":"@duffymo You&#39;re right, I had a corrupt run config for the test. After deleting the corrupt one and rerunning the test it worked fine. You can put your comment as an answer so I can accept it."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1480416352,"post_id":40863593,"comment_id":68943109,"body_markdown":"No worries Arthur, glad to help.","body":"No worries Arthur, glad to help."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1480516772,"post_id":40863593,"comment_id":68995927,"body_markdown":"@duffymo Today the problem occured again, even having no run configuration for test class and just running the test caused the problem","body":"@duffymo Today the problem occured again, even having no run configuration for test class and just running the test caused the problem"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1480516878,"post_id":40863593,"comment_id":68996006,"body_markdown":"@duffymo I tried changing the `Before launch` option to `Build project` instead of `Build` and suddenly everything began to work properly.","body":"@duffymo I tried changing the <code>Before launch</code> option to <code>Build project</code> instead of <code>Build</code> and suddenly everything began to work properly."},{"owner":{"account_id":3197774,"reputation":2997,"user_id":2700582,"accept_rate":50,"display_name":"Karbos 538"},"score":0,"creation_date":1500449552,"post_id":40863593,"comment_id":77335453,"body_markdown":"Finally a configuration problem for me. I restarted the IDE and reviewed my project setting... And now it works like a charm !","body":"Finally a configuration problem for me. I restarted the IDE and reviewed my project setting... And now it works like a charm !"},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1520160532,"post_id":40863593,"comment_id":85194153,"body_markdown":"trick with &quot;build project&quot; doesn&#39;t work for gradle. solution described in answer","body":"trick with &quot;build project&quot; doesn&#39;t work for gradle. solution described in answer"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1553063206,"post_id":40863593,"comment_id":97241300,"body_markdown":"for me, @RunWith(Enclosed.class) was the issue. The test were not in enclosed classes. Putting them in enclosed classes solved the issue.","body":"for me, @RunWith(Enclosed.class) was the issue. The test were not in enclosed classes. Putting them in enclosed classes solved the issue."}],"answers":[{"tags":[],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1480518363,"creation_date":1480518363,"answer_id":40891682,"question_id":40863593,"body_markdown":"Well, after &quot;playing&quot; a bit with run configurations of each unit test I noticed that each Run Config has a `Build` goal preset in the `Before Launch` option (See pic below): [![enter image description here][1]][1]\r\n\r\nAfter changing `Build` to `Build Project` the tests run fine.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e4WrZ.jpg","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Well, after \"playing\" a bit with run configurations of each unit test I noticed that each Run Config has a <code>Build</code> goal preset in the <code>Before Launch</code> option (See pic below): <a href=\"https://i.stack.imgur.com/e4WrZ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/e4WrZ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After changing <code>Build</code> to <code>Build Project</code> the tests run fine.</p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495051427,"creation_date":1495051427,"answer_id":44033847,"question_id":40863593,"body_markdown":"If you originally run a test named &quot;foo&quot;, and then rename it to &quot;fooBar&quot;, *you must subsequently run &quot;fooBar&quot; with a new Run Configuration*.\r\n\r\nIf you use the same original Run Configuration for &quot;foo&quot; to run &quot;fooBar&quot;, it still looks for a test named &quot;foo&quot; which it does not find (thus the Exception) because it was renamed to &quot;fooBar&quot;.  The new Run Configuration would correctly look for &quot;fooBar&quot; test.\r\n\r\nI made this mistake unknowingly because I renamed a test, but then just clicked the green run button in IntelliJ:  Doing that runs the last Run Configuration, which in this scenario has the old &quot;foo&quot; name.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>If you originally run a test named \"foo\", and then rename it to \"fooBar\", <em>you must subsequently run \"fooBar\" with a new Run Configuration</em>.</p>\n\n<p>If you use the same original Run Configuration for \"foo\" to run \"fooBar\", it still looks for a test named \"foo\" which it does not find (thus the Exception) because it was renamed to \"fooBar\".  The new Run Configuration would correctly look for \"fooBar\" test.</p>\n\n<p>I made this mistake unknowingly because I renamed a test, but then just clicked the green run button in IntelliJ:  Doing that runs the last Run Configuration, which in this scenario has the old \"foo\" name.</p>\n"},{"tags":[],"owner":{"account_id":4014803,"reputation":1397,"user_id":3307298,"display_name":"user70585"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1498850023,"creation_date":1498850023,"answer_id":44853434,"question_id":40863593,"body_markdown":"If you&#39;re using a theory testing framework like [Junit&#39;s][1] or [Robolectric&#39;s][2], make sure to run the class containing the test you want, instead the test itself. Since these frameworks use the test methods as instance methods instead of static methods, any testing framework looking for a normal `public static` test won&#39;t find anything.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/theories\r\n  [2]: https://blog.jayway.com/2015/03/19/parameterized-testing-with-robolectric/","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>If you're using a theory testing framework like <a href=\"https://github.com/junit-team/junit4/wiki/theories\" rel=\"noreferrer\">Junit's</a> or <a href=\"https://blog.jayway.com/2015/03/19/parameterized-testing-with-robolectric/\" rel=\"noreferrer\">Robolectric's</a>, make sure to run the class containing the test you want, instead the test itself. Since these frameworks use the test methods as instance methods instead of static methods, any testing framework looking for a normal <code>public static</code> test won't find anything.</p>\n"},{"tags":[],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510900040,"creation_date":1510900040,"answer_id":47344534,"question_id":40863593,"body_markdown":"Make sure you&#39;ve correct runner mentioned above your class.\r\n\r\nI was getting this weird message when I was using runner `CucumberWithSerenity.class`. When I changed to `SerenityRunner.class` it got fixed.\r\n\r\n    @RunWith(SerenityRunner.class)\r\n    //@RunWith(CucumberWithSerenity.class)\r\n    public class WordPressAppTest {\r\n\r\n\r\nI&#39;m using Serenity framework for web automation and use below runner class\r\n\r\n    import net.serenitybdd.cucumber.CucumberWithSerenity;\r\n    import net.serenitybdd.junit.runners.SerenityRunner;\r\n    import org.junit.runner.RunWith;\r\n\r\nI feel IDEA ( 2017.2.6 ) can show some better error message than this\r\n","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Make sure you've correct runner mentioned above your class.</p>\n\n<p>I was getting this weird message when I was using runner <code>CucumberWithSerenity.class</code>. When I changed to <code>SerenityRunner.class</code> it got fixed.</p>\n\n<pre><code>@RunWith(SerenityRunner.class)\n//@RunWith(CucumberWithSerenity.class)\npublic class WordPressAppTest {\n</code></pre>\n\n<p>I'm using Serenity framework for web automation and use below runner class</p>\n\n<pre><code>import net.serenitybdd.cucumber.CucumberWithSerenity;\nimport net.serenitybdd.junit.runners.SerenityRunner;\nimport org.junit.runner.RunWith;\n</code></pre>\n\n<p>I feel IDEA ( 2017.2.6 ) can show some better error message than this</p>\n"},{"tags":[],"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1520160435,"creation_date":1520160435,"answer_id":49094543,"question_id":40863593,"body_markdown":"The same issue i got with Gradle (4.5+) + new [Build Cache][1] feature\r\n\r\nSometimes it&#39;s unable to find new test methods and throws exception (like you mentioned in topic)\r\n\r\n**Solution:** clean `.gradle`, `build` and `out` directories and try again ;)\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_cache.html","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>The same issue i got with Gradle (4.5+) + new <a href=\"https://docs.gradle.org/current/userguide/build_cache.html\" rel=\"noreferrer\">Build Cache</a> feature</p>\n\n<p>Sometimes it's unable to find new test methods and throws exception (like you mentioned in topic)</p>\n\n<p><strong>Solution:</strong> clean <code>.gradle</code>, <code>build</code> and <code>out</code> directories and try again ;)</p>\n"},{"tags":[],"owner":{"account_id":3630183,"reputation":191,"user_id":3026571,"display_name":"user3026571"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1539125038,"creation_date":1539125038,"answer_id":52730290,"question_id":40863593,"body_markdown":"Deleting Intellij&#39;s out directory fixed this issue for me.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Deleting Intellij's out directory fixed this issue for me.</p>\n"},{"tags":[],"owner":{"account_id":5151005,"reputation":7131,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540128986,"creation_date":1540128986,"answer_id":52915875,"question_id":40863593,"body_markdown":"In addition to the other answers here: the error can also happen when you forget `@Test` before your test method declaration. IntelliJ (2018.1) will still show you the green &quot;Play-Button&quot; for test execution, but that public method in your Test-Class will not be an actual test.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>In addition to the other answers here: the error can also happen when you forget <code>@Test</code> before your test method declaration. IntelliJ (2018.1) will still show you the green \"Play-Button\" for test execution, but that public method in your Test-Class will not be an actual test.</p>\n"},{"tags":[],"owner":{"account_id":8227219,"reputation":21,"user_id":6189153,"display_name":"Ming Arron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550136104,"creation_date":1550136104,"answer_id":54686932,"question_id":40863593,"body_markdown":"Maybe you just give a wrong name for test method.\r\n\r\nI met this problem because I used &#39;—&#39; instead of &#39;_&#39; which intelliJ cannot represent.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Maybe you just give a wrong name for test method.</p>\n\n<p>I met this problem because I used '—' instead of '_' which intelliJ cannot represent.</p>\n"},{"tags":[],"owner":{"account_id":12844635,"reputation":61,"user_id":9291488,"display_name":"Kyle Anderson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573731609,"creation_date":1554473769,"answer_id":55537398,"question_id":40863593,"body_markdown":"Make sure that your `@test` methods as well as the test class are `public`.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Make sure that your <code>@test</code> methods as well as the test class are <code>public</code>.</p>\n"},{"tags":[],"owner":{"account_id":16617885,"reputation":21,"user_id":12009023,"display_name":"Kuba Skiba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567416235,"creation_date":1567415075,"answer_id":57754170,"question_id":40863593,"body_markdown":"This situation can also occur if you do not place `@Test` annotation above the test method.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>This situation can also occur if you do not place <code>@Test</code> annotation above the test method.</p>\n"},{"tags":[],"owner":{"account_id":7068236,"reputation":409,"user_id":5410830,"display_name":"skaveesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590150439,"creation_date":1590150439,"answer_id":61955053,"question_id":40863593,"body_markdown":"Since you got your answer and for others searching for solution,\r\n\r\nLook if your test class is extending TestCase abstract class which is a JUnit 3 related. In order to fix this you have to start your method name with &quot;test&quot;. \r\nFor example `public void testFoo()`.\r\n\r\nIf JUnit 3 is not the case, you&#39;re missing `@Test` annotation from your JUnit 4 test method.\r\n\r\n**Note:** If you&#39;re extending from TestCase and test methods are annotated with `@Test` and also your methods&#39; names start with &quot;test&quot;, then probably you&#39;re mixing JUnit 3 with JUnit 4. Don&#39;t do that. It will lead to other errors such as methods that annotated with `@Ignore` will not be ignored if those methods&#39; names start with &quot;test&quot;.","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Since you got your answer and for others searching for solution,</p>\n\n<p>Look if your test class is extending TestCase abstract class which is a JUnit 3 related. In order to fix this you have to start your method name with \"test\". \nFor example <code>public void testFoo()</code>.</p>\n\n<p>If JUnit 3 is not the case, you're missing <code>@Test</code> annotation from your JUnit 4 test method.</p>\n\n<p><strong>Note:</strong> If you're extending from TestCase and test methods are annotated with <code>@Test</code> and also your methods' names start with \"test\", then probably you're mixing JUnit 3 with JUnit 4. Don't do that. It will lead to other errors such as methods that annotated with <code>@Ignore</code> will not be ignored if those methods' names start with \"test\".</p>\n"},{"tags":[],"owner":{"account_id":3593202,"reputation":2629,"user_id":2998689,"display_name":"dianakarenms"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592504220,"creation_date":1592504220,"answer_id":62456777,"question_id":40863593,"body_markdown":"In my case, I copied a test from another class and modified it, but while running the test it was still pointing to the previous one.\r\n\r\n**Build &gt; Clean Project** solved the problem","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>In my case, I copied a test from another class and modified it, but while running the test it was still pointing to the previous one.</p>\n\n<p><strong>Build > Clean Project</strong> solved the problem</p>\n"},{"tags":[],"owner":{"account_id":10141877,"reputation":11,"user_id":7491341,"display_name":"Akh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613276070,"creation_date":1613266390,"answer_id":66191661,"question_id":40863593,"body_markdown":"I had to add test before the test Method Name. \r\n\r\n\r\n`methodtest()` does not work but `testMethod()` worked\r\n","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>I had to add test before the test Method Name.</p>\n<p><code>methodtest()</code> does not work but <code>testMethod()</code> worked</p>\n"},{"tags":[],"owner":{"account_id":5393925,"reputation":148,"user_id":4295654,"display_name":"benmaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617716232,"creation_date":1617716232,"answer_id":66969758,"question_id":40863593,"body_markdown":"Make sure `@org.junit.Test` is added on top of your method. I forgot them and that fixed it for me!","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>Make sure <code>@org.junit.Test</code> is added on top of your method. I forgot them and that fixed it for me!</p>\n"},{"tags":[],"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617998787,"creation_date":1617998787,"answer_id":67027646,"question_id":40863593,"body_markdown":"You may check that Run/Debug Configurations in the top of the IntelliJ screen.\r\nDelete all of then with the &quot;minus button&quot; and hit &quot;run&quot; green button again to run the test.\r\n\r\nYou may reload the project on the maven tab on the right as well.\r\n\r\n\r\n\r\n[![computer InteliJ screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tlyaU.png","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>You may check that Run/Debug Configurations in the top of the IntelliJ screen.\nDelete all of then with the &quot;minus button&quot; and hit &quot;run&quot; green button again to run the test.</p>\n<p>You may reload the project on the maven tab on the right as well.</p>\n<p><a href=\"https://i.stack.imgur.com/tlyaU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tlyaU.png\" alt=\"computer InteliJ screen\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1378826,"reputation":1502,"user_id":1312261,"accept_rate":0,"display_name":"Waqar Detho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633003665,"creation_date":1633003665,"answer_id":69391988,"question_id":40863593,"body_markdown":"In my spring mvc project. I solved this problem by adding \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n\r\nto my test class. ","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>In my spring mvc project. I solved this problem by adding</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n</code></pre>\n<p>to my test class.</p>\n"}],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85751,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":40891682,"answer_count":16,"score":53,"last_activity_date":1633003665,"creation_date":1480415634,"question_id":40863593,"body_markdown":"I am experiencing a strange behavior of Intellij IDEA 2016.3. Having a class with method `foo` and a JUnit test for the method when I get `java.lang.Exception: No tests found matching Method foo` when running the test. After I do `mvn test` it succeeds and then running the unit test right after executing mvn command it suddenly runs green. Seems like IDEA does not compile automatically. How can I fix this?\r\n\r\nP.S. No settings were altered after upgrading to v. 2016.3","title":"java.lang.Exception: No tests found matching Method using Intellij IDEA","body":"<p>I am experiencing a strange behavior of Intellij IDEA 2016.3. Having a class with method <code>foo</code> and a JUnit test for the method when I get <code>java.lang.Exception: No tests found matching Method foo</code> when running the test. After I do <code>mvn test</code> it succeeds and then running the unit test right after executing mvn command it suddenly runs green. Seems like IDEA does not compile automatically. How can I fix this?</p>\n\n<p>P.S. No settings were altered after upgrading to v. 2016.3</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1632923216,"post_id":69374886,"comment_id":122624287,"body_markdown":"What version of Camel are you using?","body":"What version of Camel are you using?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1632940071,"post_id":69374886,"comment_id":122631980,"body_markdown":"2.24.3. I have updated the question","body":"2.24.3. I have updated the question"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632988217,"creation_date":1632914908,"answer_id":69375500,"question_id":69374886,"body_markdown":"It was missing the key part of &lt;when&gt;:\r\n\r\n    &lt;when&gt;\r\n     \t&lt;simple&gt;${header.sattelitesCount} &gt; 0&lt;/simple&gt;\r\nWithout it it was still valid, but throwed the exception above. But for my understanding, this Exception shouldn&#39;t be thrown there for any kind of route config, even not for the valid config.","title":"java.lang.NullPointerException: null at org.apache.camel.model.ModelHelper.getNamespaceAwareFromExpression(ModelHelper.java:263)","body":"<p>It was missing the key part of :</p>\n<pre><code>&lt;when&gt;\n    &lt;simple&gt;${header.sattelitesCount} &gt; 0&lt;/simple&gt;\n</code></pre>\n<p>Without it it was still valid, but throwed the exception above. But for my understanding, this Exception shouldn't be thrown there for any kind of route config, even not for the valid config.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633003271,"creation_date":1633003271,"answer_id":69391897,"question_id":69374886,"body_markdown":"You must have the expression in the `&lt;when&gt;` as that is required. However the XML is likely loaded without XSD validation.\r\n\r\n","title":"java.lang.NullPointerException: null at org.apache.camel.model.ModelHelper.getNamespaceAwareFromExpression(ModelHelper.java:263)","body":"<p>You must have the expression in the <code>&lt;when&gt;</code> as that is required. However the XML is likely loaded without XSD validation.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69391897,"answer_count":2,"score":2,"last_activity_date":1633003271,"creation_date":1632912265,"question_id":69374886,"body_markdown":"We have the NPE at the line of coe mentioned at the topic when calling for \r\n\r\n    RoutesDefinition routesDefinition=context.loadRoutesDefinition(new ByteArrayInputStream(value.getBytes(StandardCharsets.UTF_8)));\r\n\r\nin Apache Camel. I.e when loading the route from XML config. It is clear that the problem caused the exception is some unclear change in XML, still making it valid, but somehow making it to fail. I believe that the error message should be thrown earlier when the consistency of XML is validated. Now it is a kind runtime exception.\r\n\r\nThe full stacktrace is:\r\n\r\n    13:35:01.768 [main] ERROR s.services.XMLRouteServiceImpl - Could not restart source\r\n    java.lang.NullPointerException: null\r\n    \tat org.apache.camel.model.ModelHelper.getNamespaceAwareFromExpression(ModelHelper.java:263)\r\n    \tat org.apache.camel.model.ModelHelper.applyNamespaces(ModelHelper.java:252)\r\n    \tat org.apache.camel.model.ModelHelper.loadRoutesDefinition(ModelHelper.java:188)\r\n    \tat org.apache.camel.model.ModelHelper.loadRoutesDefinition(ModelHelper.java:153)\r\n    \tat org.apache.camel.impl.DefaultCamelContext.loadRoutesDefinition(DefaultCamelContext.java:1030)\r\n    \tat sekaicamelproxy.builders.XMLCamelRouteBuilder.&lt;init&gt;(XMLCamelRouteBuilder.java:31)\r\n    \tat sekaicamelproxy.services.XMLRouteServiceImpl.restartSource(XMLRouteServiceImpl.java:59)\r\n    \tat io.vavr.Value.forEach(Value.java:340)\r\n    \tat sekaicamelproxy.services.XMLRouteServiceImpl.restartAllRoutes(XMLRouteServiceImpl.java:177)\r\n    \tat sekaicamelproxy.services.XMLRouteServiceImpl$$FastClassBySpringCGLIB$$f0155a48.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n    \tat sekaicamelproxy.services.XMLRouteServiceImpl$$EnhancerBySpringCGLIB$$38f84a05.restartAllRoutes(&lt;generated&gt;)\r\n    \tat sekaicamelproxy.MqttToKafkaProxy.initializeRoutes(MqttToKafkaProxy.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:261)\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:179)\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:142)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.running(EventPublishingRunListener.java:105)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.running(SpringApplicationRunListeners.java:78)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n    \tat sekaicamelproxy.Application.main(Application.java:10)\r\n\r\nThe critical part of the route is: \r\n\r\n                          &lt;when&gt;\r\n\t\t\t\t\t\t  \t&lt;log message=&quot;Processing as sattelites are more than 0&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;setHeader headerName=&quot;timestamp&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;jsonpath&gt;$.t&lt;/jsonpath&gt;\r\n\t\t\t\t\t\t\t&lt;/setHeader&gt;\r\n\t\t\t\t\t\t\t&lt;setHeader headerName=&quot;messageId&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;simple&gt;${header.unit_id}-${header.timestamp}&lt;/simple&gt;\r\n\t\t\t\t\t\t\t&lt;/setHeader&gt;\r\n\t\t\t\t\t\t\t&lt;setHeader headerName=&quot;kafka.KEY&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;simple resultType=&quot;java.lang.String&quot;&gt;${header.unit_id}&lt;/simple&gt;\r\n\t\t\t\t\t\t\t&lt;/setHeader&gt;\r\n\t\t\t\t\t\t\t&lt;idempotentConsumer messageIdRepositoryRef=&quot;deduplicationRepo&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;header&gt;messageId&lt;/header&gt;\r\n\t\t\t\t\t\t\t\t&lt;removeHeaders pattern=&quot;*&quot; excludePattern=&quot;messageId|kafka\\.KEY&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;to uri=&quot;micrometer:timer:camel.proxy.minifinder.getmessages.kafka?action=start&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;log message=&quot;Deduplicated: body\\n ${body}&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;to uri=&quot;micrometer:timer:camel.proxy.minifinder.getmessages.kafka?action=stop&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;/idempotentConsumer&gt;\r\n\t\t\t\t\t\t&lt;/when&gt;\r\n\r\nBut I believe no config should exit to make this exception to be thrown.\r\n\r\nCamel and Spring Boot versions are:\r\n\r\n    &lt;camel.version&gt;2.24.3&lt;/camel.version&gt;\r\n    &lt;spring-boot.version&gt;2.1.8.RELEASE&lt;/spring-boot.version&gt;\r\n\r\n","title":"java.lang.NullPointerException: null at org.apache.camel.model.ModelHelper.getNamespaceAwareFromExpression(ModelHelper.java:263)","body":"<p>We have the NPE at the line of coe mentioned at the topic when calling for</p>\n<pre><code>RoutesDefinition routesDefinition=context.loadRoutesDefinition(new ByteArrayInputStream(value.getBytes(StandardCharsets.UTF_8)));\n</code></pre>\n<p>in Apache Camel. I.e when loading the route from XML config. It is clear that the problem caused the exception is some unclear change in XML, still making it valid, but somehow making it to fail. I believe that the error message should be thrown earlier when the consistency of XML is validated. Now it is a kind runtime exception.</p>\n<p>The full stacktrace is:</p>\n<pre><code>13:35:01.768 [main] ERROR s.services.XMLRouteServiceImpl - Could not restart source\njava.lang.NullPointerException: null\n    at org.apache.camel.model.ModelHelper.getNamespaceAwareFromExpression(ModelHelper.java:263)\n    at org.apache.camel.model.ModelHelper.applyNamespaces(ModelHelper.java:252)\n    at org.apache.camel.model.ModelHelper.loadRoutesDefinition(ModelHelper.java:188)\n    at org.apache.camel.model.ModelHelper.loadRoutesDefinition(ModelHelper.java:153)\n    at org.apache.camel.impl.DefaultCamelContext.loadRoutesDefinition(DefaultCamelContext.java:1030)\n    at sekaicamelproxy.builders.XMLCamelRouteBuilder.&lt;init&gt;(XMLCamelRouteBuilder.java:31)\n    at sekaicamelproxy.services.XMLRouteServiceImpl.restartSource(XMLRouteServiceImpl.java:59)\n    at io.vavr.Value.forEach(Value.java:340)\n    at sekaicamelproxy.services.XMLRouteServiceImpl.restartAllRoutes(XMLRouteServiceImpl.java:177)\n    at sekaicamelproxy.services.XMLRouteServiceImpl$$FastClassBySpringCGLIB$$f0155a48.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at sekaicamelproxy.services.XMLRouteServiceImpl$$EnhancerBySpringCGLIB$$38f84a05.restartAllRoutes(&lt;generated&gt;)\n    at sekaicamelproxy.MqttToKafkaProxy.initializeRoutes(MqttToKafkaProxy.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:261)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:179)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:142)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)\n    at org.springframework.boot.context.event.EventPublishingRunListener.running(EventPublishingRunListener.java:105)\n    at org.springframework.boot.SpringApplicationRunListeners.running(SpringApplicationRunListeners.java:78)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at sekaicamelproxy.Application.main(Application.java:10)\n</code></pre>\n<p>The critical part of the route is:</p>\n<pre><code>                      &lt;when&gt;\n                        &lt;log message=&quot;Processing as sattelites are more than 0&quot;/&gt;\n                        &lt;setHeader headerName=&quot;timestamp&quot;&gt;\n                            &lt;jsonpath&gt;$.t&lt;/jsonpath&gt;\n                        &lt;/setHeader&gt;\n                        &lt;setHeader headerName=&quot;messageId&quot;&gt;\n                            &lt;simple&gt;${header.unit_id}-${header.timestamp}&lt;/simple&gt;\n                        &lt;/setHeader&gt;\n                        &lt;setHeader headerName=&quot;kafka.KEY&quot;&gt;\n                            &lt;simple resultType=&quot;java.lang.String&quot;&gt;${header.unit_id}&lt;/simple&gt;\n                        &lt;/setHeader&gt;\n                        &lt;idempotentConsumer messageIdRepositoryRef=&quot;deduplicationRepo&quot;&gt;\n                            &lt;header&gt;messageId&lt;/header&gt;\n                            &lt;removeHeaders pattern=&quot;*&quot; excludePattern=&quot;messageId|kafka\\.KEY&quot;/&gt;\n                            &lt;to uri=&quot;micrometer:timer:camel.proxy.minifinder.getmessages.kafka?action=start&quot; /&gt;\n                            &lt;log message=&quot;Deduplicated: body\\n ${body}&quot;/&gt;\n                            &lt;to uri=&quot;micrometer:timer:camel.proxy.minifinder.getmessages.kafka?action=stop&quot; /&gt;\n                        &lt;/idempotentConsumer&gt;\n                    &lt;/when&gt;\n</code></pre>\n<p>But I believe no config should exit to make this exception to be thrown.</p>\n<p>Camel and Spring Boot versions are:</p>\n<pre><code>&lt;camel.version&gt;2.24.3&lt;/camel.version&gt;\n&lt;spring-boot.version&gt;2.1.8.RELEASE&lt;/spring-boot.version&gt;\n</code></pre>\n"},{"tags":["java","tcp","network-programming","serversocket"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632940926,"creation_date":1632940723,"answer_id":69381799,"question_id":69381751,"body_markdown":"Java is a case-sensitive language.  There is no `writeUTf()` (lowercase `f`) method in the `DataOutputStream` class, the correct name is [`writeUTF()`](https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeUTF(java.lang.String)) (uppercase `F`) instead.","title":"error : cannot find symbol (dataOutputStream out)","body":"<p>Java is a case-sensitive language.  There is no <code>writeUTf()</code> (lowercase <code>f</code>) method in the <code>DataOutputStream</code> class, the correct name is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeUTF(java.lang.String)\" rel=\"nofollow noreferrer\"><code>writeUTF()</code></a> (uppercase <code>F</code>) instead.</p>\n"}],"owner":{"account_id":21413809,"reputation":3,"user_id":15773416,"display_name":"kid code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633003184,"accepted_answer_id":69381799,"answer_count":1,"score":0,"last_activity_date":1633003171,"creation_date":1632940505,"question_id":69381751,"body_markdown":"I&#39;m new to Java and I&#39;m not very proficient in network programming. I have this error that I cannot find to resolve. The below code is the client side for selective repeat process, and it says it cannot find symbol.\r\n```\r\nimport java.util.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class SelectRepeatClient {\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n            Socket s = new Socket(&quot;localhost&quot;, 6060);\r\n            DataInputStream din = new DataInputStream(s.getInputStream());\r\n            DataOutputStream dout = new DataOutputStream(s.getOutputStream());\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.println(&quot;Enter the no of input : &quot;);\r\n            int n = Integer.parseInt(br.readLine());\r\n            ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;Double&gt; phone = new ArrayList&lt;Double&gt;();\r\n            ArrayList&lt;String&gt; email = new ArrayList&lt;String&gt;();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.println(&quot;Enter name : &quot;);\r\n                String nn = br.readLine();\r\n                System.out.println(&quot;Enter phone : &quot;);\r\n                double ph = Double.parseDouble(br.readLine());\r\n                System.out.println(&quot;Enter email : &quot;);\r\n                String e = br.readLine();\r\n                name.add(nn);\r\n                phone.add(ph);\r\n                email.add(e);\r\n            }\r\n            dout.writeInt(n);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                String nname = name.get(i);\r\n                String eemail = email.get(i);\r\n                double pphone = phone.get(i);\r\n                dout.writeUTf(nname);\r\n                dout.writeDouble(pphone);\r\n                dout.writeUTf(eemail);\r\n                dout.flush();\r\n            }\r\n            System.out.println(&quot;Data sent...&quot;);\r\n            int size = din.readInt();\r\n            if (size != 0) {\r\n                ArrayList&lt;pair&gt; err = new ArrayList&lt;pair&gt;();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    int val1 = din.readInt();\r\n                    int val2 = din.readInt();\r\n                    err.add(new pair(val1, val2));\r\n                }\r\n                System.out.println(&quot;resending data...&quot;);\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    switch (err.get(i).getval2()) {\r\n                        case 1:\r\n                            String nname=name.get(err.get(i).getval1());\r\n                            dout.writeUTf(nname);\r\n                            dout.flush();\r\n                            break;\r\n                        case 2:\r\n                            double pphone = phone.get(err.get(i).getval1());\r\n                            dout.writeDouble(pphone);\r\n                            dout.flush();\r\n                            break;\r\n                        case 3:\r\n                            String eemail = email.get(err.get(i).getval1());\r\n                            dout.writeUTf(eemail);\r\n                            dout.flush();\r\n                    }\r\n                }\r\n                System.out.println(&quot;data sent... &quot;);\r\n            }\r\n            dout.close();\r\n            din.close();\r\n            s.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\nclass pair {\r\n    int val1, val2;\r\n\r\n    pair(int v1, int v2) {\r\n        this.val1 = v1;\r\n        this.val2 = v2;\r\n    }\r\n\r\n    void setval1(int ans) {\r\n        this.val1 = ans;\r\n    }\r\n\r\n    void setval2(int ans) {\r\n        this.val2 = ans;\r\n    }\r\n\r\n    int getval1() {\r\n        return val1;\r\n    }\r\n\r\n    int getval2() {\r\n        return val2;\r\n    }\r\n}\r\n```\r\nThis is the error I get:\r\n\r\n```none\r\nSelectRepeatClient.java:33: error: cannot find symbol\r\n                dout.writeUTf(nname);\r\n                    ^\r\n  symbol:   method writeUTf(String)\r\n  location: variable dout of type DataOutputStream\r\nSelectRepeatClient.java:35: error: cannot find symbol\r\n                dout.writeUTf(eemail);\r\n                    ^\r\n  symbol:   method writeUTf(String)\r\n  location: variable dout of type DataOutputStream\r\nSelectRepeatClient.java:52: error: cannot find symbol\r\n                            dout.writeUTf(nname);\r\n                                ^\r\n  symbol:   method writeUTf(String)\r\n  location: variable dout of type DataOutputStream\r\nSelectRepeatClient.java:62: error: cannot find symbol\r\n                            dout.writeUTf(eemail);\r\n                                ^\r\n  symbol:   method writeUTf(String)\r\n  location: variable dout of type DataOutputStream\r\n4 errors\r\n```\r\n","title":"error : cannot find symbol (dataOutputStream out)","body":"<p>I'm new to Java and I'm not very proficient in network programming. I have this error that I cannot find to resolve. The below code is the client side for selective repeat process, and it says it cannot find symbol.</p>\n<pre><code>import java.util.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class SelectRepeatClient {\n    public static void main(String[] args) throws Exception {\n        try {\n            Socket s = new Socket(&quot;localhost&quot;, 6060);\n            DataInputStream din = new DataInputStream(s.getInputStream());\n            DataOutputStream dout = new DataOutputStream(s.getOutputStream());\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.println(&quot;Enter the no of input : &quot;);\n            int n = Integer.parseInt(br.readLine());\n            ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n            ArrayList&lt;Double&gt; phone = new ArrayList&lt;Double&gt;();\n            ArrayList&lt;String&gt; email = new ArrayList&lt;String&gt;();\n            for (int i = 0; i &lt; n; i++) {\n                System.out.println(&quot;Enter name : &quot;);\n                String nn = br.readLine();\n                System.out.println(&quot;Enter phone : &quot;);\n                double ph = Double.parseDouble(br.readLine());\n                System.out.println(&quot;Enter email : &quot;);\n                String e = br.readLine();\n                name.add(nn);\n                phone.add(ph);\n                email.add(e);\n            }\n            dout.writeInt(n);\n            for (int i = 0; i &lt; n; i++) {\n                String nname = name.get(i);\n                String eemail = email.get(i);\n                double pphone = phone.get(i);\n                dout.writeUTf(nname);\n                dout.writeDouble(pphone);\n                dout.writeUTf(eemail);\n                dout.flush();\n            }\n            System.out.println(&quot;Data sent...&quot;);\n            int size = din.readInt();\n            if (size != 0) {\n                ArrayList&lt;pair&gt; err = new ArrayList&lt;pair&gt;();\n                for (int i = 0; i &lt; size; i++) {\n                    int val1 = din.readInt();\n                    int val2 = din.readInt();\n                    err.add(new pair(val1, val2));\n                }\n                System.out.println(&quot;resending data...&quot;);\n                for (int i = 0; i &lt; size; i++) {\n                    switch (err.get(i).getval2()) {\n                        case 1:\n                            String nname=name.get(err.get(i).getval1());\n                            dout.writeUTf(nname);\n                            dout.flush();\n                            break;\n                        case 2:\n                            double pphone = phone.get(err.get(i).getval1());\n                            dout.writeDouble(pphone);\n                            dout.flush();\n                            break;\n                        case 3:\n                            String eemail = email.get(err.get(i).getval1());\n                            dout.writeUTf(eemail);\n                            dout.flush();\n                    }\n                }\n                System.out.println(&quot;data sent... &quot;);\n            }\n            dout.close();\n            din.close();\n            s.close();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n\nclass pair {\n    int val1, val2;\n\n    pair(int v1, int v2) {\n        this.val1 = v1;\n        this.val2 = v2;\n    }\n\n    void setval1(int ans) {\n        this.val1 = ans;\n    }\n\n    void setval2(int ans) {\n        this.val2 = ans;\n    }\n\n    int getval1() {\n        return val1;\n    }\n\n    int getval2() {\n        return val2;\n    }\n}\n</code></pre>\n<p>This is the error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SelectRepeatClient.java:33: error: cannot find symbol\n                dout.writeUTf(nname);\n                    ^\n  symbol:   method writeUTf(String)\n  location: variable dout of type DataOutputStream\nSelectRepeatClient.java:35: error: cannot find symbol\n                dout.writeUTf(eemail);\n                    ^\n  symbol:   method writeUTf(String)\n  location: variable dout of type DataOutputStream\nSelectRepeatClient.java:52: error: cannot find symbol\n                            dout.writeUTf(nname);\n                                ^\n  symbol:   method writeUTf(String)\n  location: variable dout of type DataOutputStream\nSelectRepeatClient.java:62: error: cannot find symbol\n                            dout.writeUTf(eemail);\n                                ^\n  symbol:   method writeUTf(String)\n  location: variable dout of type DataOutputStream\n4 errors\n</code></pre>\n"},{"tags":["java","amazon-dynamodb","dynamo-local"],"answers":[{"tags":[],"owner":{"account_id":529422,"reputation":334,"user_id":2087280,"display_name":"Tasgall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506480701,"creation_date":1506480701,"answer_id":46438747,"question_id":43405850,"body_markdown":"There are two possible issues I can see (one that I ran into recently), but your setup is a little different than mine.\r\n\r\nYou&#39;re using both @DynamoDBAttribute and @DynamoDBHashKey on a single item - that&#39;s not necessary, and might be messing it up, though I don&#39;t have time to test it right now. You should be able to just do, `@DynamoDBHashKey(attributeName=HASH_KEY)` and you&#39;ll be fine. I think as is, you might be declaring an attribute as &quot;f1_hash&quot;, and a hash key named as &quot;field1&quot;, both mapping to the same internal value (though I could be wrong).\r\n\r\nThe issue I was having though is actually a result of this error message being really poorly worded - it will throw this exception when you call `dbMapper.save()` with an object with the hash key value set to null, though if your `setLogin()` was supposed to be `setField1()` that shouldn&#39;t be the issue here.","title":"DynamoDBMappingException: no HASH key value present","body":"<p>There are two possible issues I can see (one that I ran into recently), but your setup is a little different than mine.</p>\n\n<p>You're using both @DynamoDBAttribute and @DynamoDBHashKey on a single item - that's not necessary, and might be messing it up, though I don't have time to test it right now. You should be able to just do, <code>@DynamoDBHashKey(attributeName=HASH_KEY)</code> and you'll be fine. I think as is, you might be declaring an attribute as \"f1_hash\", and a hash key named as \"field1\", both mapping to the same internal value (though I could be wrong).</p>\n\n<p>The issue I was having though is actually a result of this error message being really poorly worded - it will throw this exception when you call <code>dbMapper.save()</code> with an object with the hash key value set to null, though if your <code>setLogin()</code> was supposed to be <code>setField1()</code> that shouldn't be the issue here.</p>\n"},{"tags":[],"owner":{"account_id":22904888,"reputation":9,"user_id":17043103,"display_name":"vadym_naumenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633003145,"creation_date":1633003145,"answer_id":69391867,"question_id":43405850,"body_markdown":"I got the same exeption when tried to get the record by the `null` hashCode:\r\n\r\n    myClassMapper.load(MyClass.class, null))\r\n\r\nTry to set:\r\n\r\n            data.setField1(&quot;some_hash&quot;);\r\n","title":"DynamoDBMappingException: no HASH key value present","body":"<p>I got the same exeption when tried to get the record by the <code>null</code> hashCode:</p>\n<pre><code>myClassMapper.load(MyClass.class, null))\n</code></pre>\n<p>Try to set:</p>\n<pre><code>        data.setField1(&quot;some_hash&quot;);\n</code></pre>\n"}],"owner":{"account_id":10203199,"reputation":21,"user_id":7532704,"display_name":"FARHA NAAZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633003145,"creation_date":1492148615,"question_id":43405850,"body_markdown":"I have a class named SampleEntity i.e a POJO which will help me create my dynamoDB table.The hash key and range key have been defined clearly in POJO object but still i get an exception that the hash key is not being defined \r\n\r\n        @DynamoDBTable(tableName = &quot;sampletable1&quot;)\r\n        public class SampleEntity  {\r\n        \r\n        public static final String HASH_KEY = &quot;f1_hash&quot;;\r\n        public static final String RANGE_KEY = &quot;f2_range&quot;;\r\n    \r\n        @DynamoDBAttribute(attributeName = HASH_KEY)\r\n        @DynamoDBHashKey\r\n        private Integer feild1;\r\n    \r\n        @DynamoDBAttribute(attributeName = RANGE_KEY)\r\n        @DynamoDBRangeKey\r\n        private String field2;\r\n    \r\n        @DynamoDBAttribute(attributeName = &quot;f3&quot;)\r\n        private String feild3;\r\n    \r\n        @DynamoDBAttribute(attributeName = &quot;f4&quot;)\r\n        private String feild4;\r\n    \r\n        @DynamoDBAttribute(attributeName = &quot;f5&quot;)\r\n        private String feild5;\r\n    \r\n    \r\n        public Integer getFeild1() {\r\n            return feild1;\r\n        }\r\n    \r\n        public void setFeild1(Integer feild1) {\r\n            this.feild1 = feild1;\r\n        }\r\n    \r\n        public String getField2() {\r\n            return field2;\r\n        }\r\n    \r\n        public void setField2(String field2) {\r\n            this.field2 = field2;\r\n        }\r\n    \r\n        public String getFeild3() {\r\n            return feild3;\r\n        }\r\n    \r\n        public void setFeild3(String feild3) {\r\n            this.feild3 = feild3;\r\n        }\r\n    \r\n        public String getFeild4() {\r\n            return feild4;\r\n        }\r\n    \r\n        public void setFeild4(String feild4) {\r\n            this.feild4 = feild4;\r\n        }\r\n    \r\n        public String getFeild5() {\r\n            return feild5;\r\n        }\r\n    \r\n        public void setFeild5(String feild5) {\r\n            this.feild5 = feild5;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof SampleEntity)) return false;\r\n    \r\n            SampleEntity that = (SampleEntity) o;\r\n    \r\n            if (!getFeild1().equals(that.getFeild1())) return false;\r\n            if (!getField2().equals(that.getField2())) return false;\r\n            if (!getFeild3().equals(that.getFeild3())) return false;\r\n            if (!getFeild4().equals(that.getFeild4())) return false;\r\n            return getFeild5().equals(that.getFeild5());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = getFeild1().hashCode();\r\n            result = 31 * result + getField2().hashCode();\r\n            result = 31 * result + getFeild3().hashCode();\r\n            result = 31 * result + getFeild4().hashCode();\r\n            result = 31 * result + getFeild5().hashCode();\r\n     \r\n    \r\n               return result;\r\n            }\r\n    }\r\n\r\n This my class and i am issuing a create table request on this class but i got DynamoDBMappingException that is no HASH key value present.\r\n\r\n    server = ServerRunner.createServerFromCommandLineArgs(new String[]{&quot;-inMemory&quot;, &quot;-port&quot;, &quot;8005&quot;});\r\n    server.start();\r\n    dynamoDBClient = new AmazonDynamoDBClient(new BasicAWSCredentials(&quot;any&quot;, &quot;thing&quot;)).withEndpoint(&quot;http://localhost:8005&quot;);\r\n    \r\n    dbMapper = new DynamoDBMapper(dynamoDBClient);\r\n    \r\n    CreateTableRequest createTableRequest = ddbMapper.generateCreateTableRequest(SampleEntity.class);\r\n    createTableRequest.setProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\r\n            dynamoDBClient.createTable(createTableRequest);\r\n            SampleLoginEntity data= new SampleLoginEntity();\r\n            data.setLogin(123);\r\n            data.setField2(&quot;range&quot;);\r\n            data.setFeild3(&quot;abc&quot;);\r\n            dbMapper.save(data);","title":"DynamoDBMappingException: no HASH key value present","body":"<p>I have a class named SampleEntity i.e a POJO which will help me create my dynamoDB table.The hash key and range key have been defined clearly in POJO object but still i get an exception that the hash key is not being defined </p>\n\n<pre><code>    @DynamoDBTable(tableName = \"sampletable1\")\n    public class SampleEntity  {\n\n    public static final String HASH_KEY = \"f1_hash\";\n    public static final String RANGE_KEY = \"f2_range\";\n\n    @DynamoDBAttribute(attributeName = HASH_KEY)\n    @DynamoDBHashKey\n    private Integer feild1;\n\n    @DynamoDBAttribute(attributeName = RANGE_KEY)\n    @DynamoDBRangeKey\n    private String field2;\n\n    @DynamoDBAttribute(attributeName = \"f3\")\n    private String feild3;\n\n    @DynamoDBAttribute(attributeName = \"f4\")\n    private String feild4;\n\n    @DynamoDBAttribute(attributeName = \"f5\")\n    private String feild5;\n\n\n    public Integer getFeild1() {\n        return feild1;\n    }\n\n    public void setFeild1(Integer feild1) {\n        this.feild1 = feild1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n\n    public void setField2(String field2) {\n        this.field2 = field2;\n    }\n\n    public String getFeild3() {\n        return feild3;\n    }\n\n    public void setFeild3(String feild3) {\n        this.feild3 = feild3;\n    }\n\n    public String getFeild4() {\n        return feild4;\n    }\n\n    public void setFeild4(String feild4) {\n        this.feild4 = feild4;\n    }\n\n    public String getFeild5() {\n        return feild5;\n    }\n\n    public void setFeild5(String feild5) {\n        this.feild5 = feild5;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof SampleEntity)) return false;\n\n        SampleEntity that = (SampleEntity) o;\n\n        if (!getFeild1().equals(that.getFeild1())) return false;\n        if (!getField2().equals(that.getField2())) return false;\n        if (!getFeild3().equals(that.getFeild3())) return false;\n        if (!getFeild4().equals(that.getFeild4())) return false;\n        return getFeild5().equals(that.getFeild5());\n    }\n\n    @Override\n    public int hashCode() {\n        int result = getFeild1().hashCode();\n        result = 31 * result + getField2().hashCode();\n        result = 31 * result + getFeild3().hashCode();\n        result = 31 * result + getFeild4().hashCode();\n        result = 31 * result + getFeild5().hashCode();\n\n\n           return result;\n        }\n}\n</code></pre>\n\n<p>This my class and i am issuing a create table request on this class but i got DynamoDBMappingException that is no HASH key value present.</p>\n\n<pre><code>server = ServerRunner.createServerFromCommandLineArgs(new String[]{\"-inMemory\", \"-port\", \"8005\"});\nserver.start();\ndynamoDBClient = new AmazonDynamoDBClient(new BasicAWSCredentials(\"any\", \"thing\")).withEndpoint(\"http://localhost:8005\");\n\ndbMapper = new DynamoDBMapper(dynamoDBClient);\n\nCreateTableRequest createTableRequest = ddbMapper.generateCreateTableRequest(SampleEntity.class);\ncreateTableRequest.setProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\n        dynamoDBClient.createTable(createTableRequest);\n        SampleLoginEntity data= new SampleLoginEntity();\n        data.setLogin(123);\n        data.setField2(\"range\");\n        data.setFeild3(\"abc\");\n        dbMapper.save(data);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13277637,"reputation":306,"user_id":9586428,"display_name":"pratik patel"},"score":0,"creation_date":1632805549,"post_id":69355909,"comment_id":122585284,"body_markdown":"In that case you need to set Id in entity object by your self otherwise it will be zero and cause exception.","body":"In that case you need to set Id in entity object by your self otherwise it will be zero and cause exception."},{"owner":{"account_id":22880041,"reputation":103,"user_id":17021769,"display_name":"Mahes"},"score":0,"creation_date":1632805995,"post_id":69355909,"comment_id":122585359,"body_markdown":"I think it&#39;s already set, because before update by using the save() method, i do select from the db first by using find method.\nAlso the id of the first row is &#39;0&#39; in my table.","body":"I think it&#39;s already set, because before update by using the save() method, i do select from the db first by using find method. Also the id of the first row is &#39;0&#39; in my table."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1632808920,"post_id":69355909,"comment_id":122586054,"body_markdown":"Can you please post the stacktrace?","body":"Can you please post the stacktrace?"},{"owner":{"account_id":10262805,"reputation":306,"user_id":7573638,"accept_rate":70,"display_name":"Reza P."},"score":0,"creation_date":1632828952,"post_id":69355909,"comment_id":122593896,"body_markdown":"Why don&#39;t you use the GenerationType.AUTO? I think GenerationType.IDENTITY should be used, when you want that your database generates the ID, but it doesn&#39;t in your case.","body":"Why don&#39;t you use the GenerationType.AUTO? I think GenerationType.IDENTITY should be used, when you want that your database generates the ID, but it doesn&#39;t in your case."}],"owner":{"account_id":22880041,"reputation":103,"user_id":17021769,"display_name":"Mahes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633003019,"creation_date":1632804189,"question_id":69355909,"body_markdown":"Field &#39;id&#39; doesn&#39;t have a default value.\r\n\r\nI&#39;m getting this error when using jpa repo `save()` method to update.\r\n\r\nHere&#39;s my entity for the ID\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(name = &quot;id&quot;)\r\nint orderID;\r\n```\r\n\r\nThe problem is, i&#39;m using a table without `auto_increment` for the id field.\r\nAnd when i try to delete the `@GeneratedValue` annotation i&#39;m getting:\r\n\r\n```\r\nDuplicate entry &#39;0&#39; for key &#39;PRIMARY&#39;\r\n```\r\n\r\nSo is there any way i can use jpa to update entity when the id is not `auto_increment`, and also without using native update query?\r\n\r\n\r\n\r\n---\r\nHere is how i do select first and then update:\r\n\r\n    List&lt;OrderModel&gt; orderList = orderRepo.findAllVoidTransaction(&quot;-1&quot;); \r\n    for(OrderModel order: orderList) {\t\r\n    \torder.setOrderStatus(&quot;-3&quot;);\r\n    \torder.setModifiedDate(StringUtil.getStringDate());\r\n    \torderRepo.save(order);\r\n    }","title":"How to use spring boot jpa without auto_increment ID","body":"<p>Field 'id' doesn't have a default value.</p>\n<p>I'm getting this error when using jpa repo <code>save()</code> method to update.</p>\n<p>Here's my entity for the ID</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nint orderID;\n</code></pre>\n<p>The problem is, i'm using a table without <code>auto_increment</code> for the id field.\nAnd when i try to delete the <code>@GeneratedValue</code> annotation i'm getting:</p>\n<pre><code>Duplicate entry '0' for key 'PRIMARY'\n</code></pre>\n<p>So is there any way i can use jpa to update entity when the id is not <code>auto_increment</code>, and also without using native update query?</p>\n<hr />\n<p>Here is how i do select first and then update:</p>\n<pre><code>List&lt;OrderModel&gt; orderList = orderRepo.findAllVoidTransaction(&quot;-1&quot;); \nfor(OrderModel order: orderList) {  \n    order.setOrderStatus(&quot;-3&quot;);\n    order.setModifiedDate(StringUtil.getStringDate());\n    orderRepo.save(order);\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633002937,"creation_date":1633002937,"answer_id":69391822,"question_id":69391472,"body_markdown":"To my knowledge, your only and best option is to use a custom query in your Repository. Instead of using the `@Query` annotation, you can rely on Spring Data JPA Query Creation based on the method name. You can do that as follows in the Repository for `Movies` assuming you have `String star` as an attribute in `ReviewDocuments` entity:\r\n```java\r\nSet&lt;Movies&gt; findByAuthorAndReviewDocumentsStar(String author, String rating);\r\n```","title":"How to select entity from ManyToMany relation with condition","body":"<p>To my knowledge, your only and best option is to use a custom query in your Repository. Instead of using the <code>@Query</code> annotation, you can rely on Spring Data JPA Query Creation based on the method name. You can do that as follows in the Repository for <code>Movies</code> assuming you have <code>String star</code> as an attribute in <code>ReviewDocuments</code> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Movies&gt; findByAuthorAndReviewDocumentsStar(String author, String rating);\n</code></pre>\n"}],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633002937,"creation_date":1633001525,"question_id":69391472,"body_markdown":"I am wondering how can I fetch inner entity from my `@ManyToMany` relation with additional parameter. So let&#39;s say I do have `MOVIES`, `REVIEW`, `MOVIES_REVIEW` tables in database. And at the beginning in my code I would like to select only MOVIES which interest me.\r\n\r\nMy repository looks like that:\r\n\r\n      @Query(&quot;SELECT a FROM MOVIES a LEFT JOIN a.reviewDocuments b WHERE b.review.star=&#39;5&#39; AND b.author=(?1)&quot;)\r\n      Set&lt;Movies&gt; findByAuthor(String author);\r\n\r\nSo here we are lazy selecting `Set` of movies, where review has 5 stars and author has given name.\r\nBut after it operation let&#39;s say I want to iterate over all movie and print all Reviews but with additional parameter.\r\n\r\nSo lets say here I would like to have review only with 5 stars. But what I am getting is obviously all reviews.\r\n\r\nCan I somehow do it without writing new `repository` class for reviews? But even if I would need to create new repository I can access reviews if I am correct.\r\n\r\nEntittis:\r\n\r\n    @Entity(name = &quot;MOVIES&quot;)\r\n    @Table(name = &quot;MOVIES&quot;)\r\n    public class Movies {\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n        @Column(name = &quot;MOVIE_KEY&quot;)\r\n        private String movieKey;\r\n        @Column(name = &quot;TYPE_ANIMATED&quot;)\r\n        private String typeAnim;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;MOVIES_REVIEWDOCUMENTS&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;MOVIE_KEY&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;DOCUMENT_KEY&quot;))\r\n        private List&lt;ReviewDocuments&gt; reviewDocuments;\r\n    }\r\n    \r\n    @Entity(name = &quot;REVIEWDOCUMENTS&quot;)\r\n    @Table(name = &quot;REVIEWDOCUMENTS&quot;)\r\n    public class ReviewDocuments {\r\n    \r\n        @Id\r\n        @Column(name = &quot;OBJID&quot;)\r\n        private Long objId;\r\n    \r\n        @ManyToMany(mappedBy = &quot;reviewDocuments&quot;)\r\n        private Set&lt;Movies&gt; movies;\r\n    }","title":"How to select entity from ManyToMany relation with condition","body":"<p>I am wondering how can I fetch inner entity from my <code>@ManyToMany</code> relation with additional parameter. So let's say I do have <code>MOVIES</code>, <code>REVIEW</code>, <code>MOVIES_REVIEW</code> tables in database. And at the beginning in my code I would like to select only MOVIES which interest me.</p>\n<p>My repository looks like that:</p>\n<pre><code>  @Query(&quot;SELECT a FROM MOVIES a LEFT JOIN a.reviewDocuments b WHERE b.review.star='5' AND b.author=(?1)&quot;)\n  Set&lt;Movies&gt; findByAuthor(String author);\n</code></pre>\n<p>So here we are lazy selecting <code>Set</code> of movies, where review has 5 stars and author has given name.\nBut after it operation let's say I want to iterate over all movie and print all Reviews but with additional parameter.</p>\n<p>So lets say here I would like to have review only with 5 stars. But what I am getting is obviously all reviews.</p>\n<p>Can I somehow do it without writing new <code>repository</code> class for reviews? But even if I would need to create new repository I can access reviews if I am correct.</p>\n<p>Entittis:</p>\n<pre><code>@Entity(name = &quot;MOVIES&quot;)\n@Table(name = &quot;MOVIES&quot;)\npublic class Movies {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n    @Column(name = &quot;MOVIE_KEY&quot;)\n    private String movieKey;\n    @Column(name = &quot;TYPE_ANIMATED&quot;)\n    private String typeAnim;\n\n    @ManyToMany\n    @JoinTable(name = &quot;MOVIES_REVIEWDOCUMENTS&quot;,\n            joinColumns = @JoinColumn(name = &quot;MOVIE_KEY&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;DOCUMENT_KEY&quot;))\n    private List&lt;ReviewDocuments&gt; reviewDocuments;\n}\n\n@Entity(name = &quot;REVIEWDOCUMENTS&quot;)\n@Table(name = &quot;REVIEWDOCUMENTS&quot;)\npublic class ReviewDocuments {\n\n    @Id\n    @Column(name = &quot;OBJID&quot;)\n    private Long objId;\n\n    @ManyToMany(mappedBy = &quot;reviewDocuments&quot;)\n    private Set&lt;Movies&gt; movies;\n}\n</code></pre>\n"},{"tags":["javascript","java","security","authentication"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1633002115,"post_id":69391566,"comment_id":122648624,"body_markdown":"You log in. They store the device and flag it as trusted when you tell them it is ok or do not react to their &quot;You signed in from an uknown device&quot; for a certain amount of time but still use the service in a normal manner","body":"You log in. They store the device and flag it as trusted when you tell them it is ok or do not react to their &quot;You signed in from an uknown device&quot; for a certain amount of time but still use the service in a normal manner"},{"owner":{"account_id":17944839,"reputation":23,"user_id":15776305,"display_name":"David Moeller"},"score":1,"creation_date":1633002401,"post_id":69391566,"comment_id":122648733,"body_markdown":"@mplungjan So I&#39;m guessing they store the device in the database then? What do they use the uniquely identify *that* device","body":"@mplungjan So I&#39;m guessing they store the device in the database then? What do they use the uniquely identify <i>that</i> device"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1633002406,"post_id":69391566,"comment_id":122648737,"body_markdown":"Cookies are mostly used for that, counting another browser as different device.","body":"Cookies are mostly used for that, counting another browser as different device."},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1633002453,"post_id":69391566,"comment_id":122648750,"body_markdown":"they can use a [fingerprint](https://en.wikipedia.org/wiki/Device_fingerprint) - they will not use cookies (at least not only cookies) since they are stored on the device and not be useful on a different device or if the cookies are deleted","body":"they can use a <a href=\"https://en.wikipedia.org/wiki/Device_fingerprint\" rel=\"nofollow noreferrer\">fingerprint</a> - they will not use cookies (at least not only cookies) since they are stored on the device and not be useful on a different device or if the cookies are deleted"}],"answers":[{"tags":[],"owner":{"account_id":9648501,"reputation":181,"user_id":7160371,"display_name":"Ajit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633002653,"creation_date":1633002653,"answer_id":69391741,"question_id":69391566,"body_markdown":"Generally, login systems keep a track of the following\r\n1. user location (IP Address)\r\n2. device details - os, client (browser/mobile app)\r\n\r\nWhenever a user logs in, the system checks for these combinations. If any of the information has changed, the system will send a notification to the user.\r\n\r\nCheck [Baeldung&#39;s article](https://www.baeldung.com/spring-security-login-new-device-location) for reference","title":"Best way to detect an unknown device to alert the user","body":"<p>Generally, login systems keep a track of the following</p>\n<ol>\n<li>user location (IP Address)</li>\n<li>device details - os, client (browser/mobile app)</li>\n</ol>\n<p>Whenever a user logs in, the system checks for these combinations. If any of the information has changed, the system will send a notification to the user.</p>\n<p>Check <a href=\"https://www.baeldung.com/spring-security-login-new-device-location\" rel=\"nofollow noreferrer\">Baeldung's article</a> for reference</p>\n"}],"owner":{"account_id":17944839,"reputation":23,"user_id":15776305,"display_name":"David Moeller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633018752,"answer_count":1,"score":0,"last_activity_date":1633002653,"creation_date":1633001885,"question_id":69391566,"body_markdown":"So I&#39;m working on adding an alert to our web application when a user logs in from an unknown device. I&#39;m trying to figure out the best way to actually detect the unknown device, and what the industry standard is.\r\n\r\nI initially thought about using cookies, but the user would still get the warning if they used a different browser or simply cleared their cookies. My second thought was storing their IP in the database and checking against that, but their IP could change as well. \r\n\r\nAny ideas? What do companies like Facebook, Google, etc. do when they generate these warnings?","title":"Best way to detect an unknown device to alert the user","body":"<p>So I'm working on adding an alert to our web application when a user logs in from an unknown device. I'm trying to figure out the best way to actually detect the unknown device, and what the industry standard is.</p>\n<p>I initially thought about using cookies, but the user would still get the warning if they used a different browser or simply cleared their cookies. My second thought was storing their IP in the database and checking against that, but their IP could change as well.</p>\n<p>Any ideas? What do companies like Facebook, Google, etc. do when they generate these warnings?</p>\n"},{"tags":["java","mysql","playframework-2.0","ebean"],"comments":[{"owner":{"account_id":109759,"reputation":857,"user_id":290696,"display_name":"jcreason"},"score":0,"creation_date":1386897546,"post_id":20501591,"comment_id":30745159,"body_markdown":"Looks like this is a bug in Ebean we&#39;re working on now: https://github.com/ebean-orm/avaje-ebeanorm/issues/60","body":"Looks like this is a bug in Ebean we&#39;re working on now: <a href=\"https://github.com/ebean-orm/avaje-ebeanorm/issues/60\" rel=\"nofollow noreferrer\">github.com/ebean-orm/avaje-ebeanorm/issues/60</a>"},{"owner":{"account_id":109759,"reputation":857,"user_id":290696,"display_name":"jcreason"},"score":0,"creation_date":1415293830,"post_id":20501591,"comment_id":42147268,"body_markdown":"I was never able to solve it, and worked around this issue prior to Rob submitting a fix to the Ebean project.","body":"I was never able to solve it, and worked around this issue prior to Rob submitting a fix to the Ebean project."}],"answers":[{"tags":[],"owner":{"account_id":3260128,"reputation":22,"user_id":2745855,"display_name":"Dulip Chandana"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1429246486,"creation_date":1429246486,"answer_id":29690636,"question_id":20501591,"body_markdown":"There is a null value in Tags() array list . if you debug the code you can see there is a null value in tag array. ","title":"Ebean - Dynamic Query - Prepared Statement&#39;s Mismatched Parameter Count Error","body":"<p>There is a null value in Tags() array list . if you debug the code you can see there is a null value in tag array. </p>\n"},{"tags":[],"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494956949,"creation_date":1493860480,"answer_id":43772318,"question_id":20501591,"body_markdown":"I&#39;ve seen something similar (on DB2) using prepared statements.  Querties only worked for the number of parameters the first statement executed had.  Only the number of parameters it had the first time it was invoked or less would work.  It probably set aside a buffer for the parameters - I believe it acted like the extra parameters did not exist.\r\n\r\nIf the first call had enough parameters then everything would be fine until you hit more than that number of parameters.  But the next run might fail immediately if the first query only had 1 parameter and the next call had more than one.\r\n\r\nCheck if it works with a regular statement instead of a prepared statement.  If so suspect an error in prepared statements handling for variable numbers of parameters.","title":"Ebean - Dynamic Query - Prepared Statement&#39;s Mismatched Parameter Count Error","body":"<p>I've seen something similar (on DB2) using prepared statements.  Querties only worked for the number of parameters the first statement executed had.  Only the number of parameters it had the first time it was invoked or less would work.  It probably set aside a buffer for the parameters - I believe it acted like the extra parameters did not exist.</p>\n\n<p>If the first call had enough parameters then everything would be fine until you hit more than that number of parameters.  But the next run might fail immediately if the first query only had 1 parameter and the next call had more than one.</p>\n\n<p>Check if it works with a regular statement instead of a prepared statement.  If so suspect an error in prepared statements handling for variable numbers of parameters.</p>\n"}],"owner":{"account_id":109759,"reputation":857,"user_id":290696,"display_name":"jcreason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2462,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"answer_count":2,"score":40,"last_activity_date":1633002501,"creation_date":1386697535,"question_id":20501591,"body_markdown":"I&#39;m hoping someone with more Ebean expertise than myself can help me with an erratic issue I&#39;m troubleshooting now.\r\n\r\nThe environment:\r\n\r\n - Java 1.7.0_17 \r\n - MySQL 5.5 \r\n - Play  Framework 2.1.1    (however I&#39;ve upgraded to Play 2.2.1 and this problem still existed)\r\n\r\nMy main problem is that I&#39;m getting alternating SQLExceptions when I restart Play, all having to do with either too many or too few parameters in the prepared statement that Ebean is creating.  Data set A works half of the time when data set B fails, but when restarting Play, data set B works while data set A fails.\r\n\r\nI&#39;m building an Ebean Query object dynamically based on a Set of Filter objects I&#39;ve written passed into a function.  The Ebean Query is finding all objects that meet the given requirements of each Filter.\r\n\r\nThe function is similar to:\r\n\r\n    private List&lt;Contact&gt; contacts getContacts(Set&lt;Filter&gt; filters) {\r\n        Query&lt;Contact&gt; query = Contact.find;\r\n        for (Filter filter : filters) {\r\n            filter.apply(query);\r\n        }\r\n        List&lt;Contact&gt; contacts = query.findList();\r\n    }\r\n\r\nAn example of a Filter:\r\n\r\n    public void apply(Query&lt;Contact&gt; query) {\r\n        query.where().in(&quot;tags&quot;, getTags());\r\n    }\r\n\r\n\r\nFirst off, is this type of query building supported in Ebean?  I believe it is as this works the majority of the time, however, I get problems with running the &quot;getContacts&quot; function several hundred times with certain data, but only sometimes...  \r\n\r\nSo stick with me, as this issue is extremely confusing.  I&#39;m also going to glaze over most of the details of what the data actually is, but if you want/need more information, please ask. \r\n\r\nData set A&#39;s query and exception:\r\n\r\n    select distinct t0.contact_id c0, t0.contact_uuid c1, t0.bounce c2 \r\n    from contact t0\r\n    join email_record u1 on u1.contact_id = t0.contact_id \r\n    join contact_tag u2z_ on u2z_.contact_id = t0.contact_id \r\n    join tag u2 on u2.tag_id = u2z_.tag_id  \r\n    where u1.status = ?  and t0.unit_id = ?  and u2.tag_id in (?,?,?)  and t0.unit_id in (? )  and t0.campaign_id in (?,?,?,?,?,?,?,?,?,?,?,?)\r\n\r\n    [PersistenceException: Error with property[19] dt[4]data[1464][java.lang.Integer]]\r\n    Caused by: java.sql.SQLException: Parameter index out of range (19 &gt; number of parameters, which is 18).\r\n\r\nThen after a Play restart, data set B&#39;s query and exception:\r\n\r\n    [PersistenceException: Query threw SQLException:No value specified for parameter 19 Bind values:[SENT, 1290, 8988, 13032, 13052, 1290, 96, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 222] Query was: select distinct t0.contact_id c0, t0.contact_uuid c1, t0.bounce c2 from contact t0 join email_record u1 on u1.contact_id = t0.contact_id join contact_tag u2z_ on u2z_.contact_id = t0.contact_id join tag u2 on u2.tag_id = u2z_.tag_id where u1.status = ? and t0.unit_id = ? and u2.tag_id in (?,?) and t0.unit_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) and t0.campaign_id in (?,?,?,?,?,?,?,?,?,?,?,?) ]\r\n\r\n\r\nI feel that the most perplexing piece about this is how it switches, reliably 100% of the time back and forth on restart.\r\n\r\nHas anyone ever seen anything like this before?  Just to add to the confusion, it&#39;s additionally doing something very similar (on different data sets) on our production environment, but I cannot reproduce this on my development or testing machines even after dumping the database and loading it locally.  The problem described above though is reproducible everywhere.\r\n\r\n\r\n\r\n","title":"Ebean - Dynamic Query - Prepared Statement&#39;s Mismatched Parameter Count Error","body":"<p>I'm hoping someone with more Ebean expertise than myself can help me with an erratic issue I'm troubleshooting now.</p>\n\n<p>The environment:</p>\n\n<ul>\n<li>Java 1.7.0_17 </li>\n<li>MySQL 5.5 </li>\n<li>Play  Framework 2.1.1    (however I've upgraded to Play 2.2.1 and this problem still existed)</li>\n</ul>\n\n<p>My main problem is that I'm getting alternating SQLExceptions when I restart Play, all having to do with either too many or too few parameters in the prepared statement that Ebean is creating.  Data set A works half of the time when data set B fails, but when restarting Play, data set B works while data set A fails.</p>\n\n<p>I'm building an Ebean Query object dynamically based on a Set of Filter objects I've written passed into a function.  The Ebean Query is finding all objects that meet the given requirements of each Filter.</p>\n\n<p>The function is similar to:</p>\n\n<pre><code>private List&lt;Contact&gt; contacts getContacts(Set&lt;Filter&gt; filters) {\n    Query&lt;Contact&gt; query = Contact.find;\n    for (Filter filter : filters) {\n        filter.apply(query);\n    }\n    List&lt;Contact&gt; contacts = query.findList();\n}\n</code></pre>\n\n<p>An example of a Filter:</p>\n\n<pre><code>public void apply(Query&lt;Contact&gt; query) {\n    query.where().in(\"tags\", getTags());\n}\n</code></pre>\n\n<p>First off, is this type of query building supported in Ebean?  I believe it is as this works the majority of the time, however, I get problems with running the \"getContacts\" function several hundred times with certain data, but only sometimes...  </p>\n\n<p>So stick with me, as this issue is extremely confusing.  I'm also going to glaze over most of the details of what the data actually is, but if you want/need more information, please ask. </p>\n\n<p>Data set A's query and exception:</p>\n\n<pre><code>select distinct t0.contact_id c0, t0.contact_uuid c1, t0.bounce c2 \nfrom contact t0\njoin email_record u1 on u1.contact_id = t0.contact_id \njoin contact_tag u2z_ on u2z_.contact_id = t0.contact_id \njoin tag u2 on u2.tag_id = u2z_.tag_id  \nwhere u1.status = ?  and t0.unit_id = ?  and u2.tag_id in (?,?,?)  and t0.unit_id in (? )  and t0.campaign_id in (?,?,?,?,?,?,?,?,?,?,?,?)\n\n[PersistenceException: Error with property[19] dt[4]data[1464][java.lang.Integer]]\nCaused by: java.sql.SQLException: Parameter index out of range (19 &gt; number of parameters, which is 18).\n</code></pre>\n\n<p>Then after a Play restart, data set B's query and exception:</p>\n\n<pre><code>[PersistenceException: Query threw SQLException:No value specified for parameter 19 Bind values:[SENT, 1290, 8988, 13032, 13052, 1290, 96, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 222] Query was: select distinct t0.contact_id c0, t0.contact_uuid c1, t0.bounce c2 from contact t0 join email_record u1 on u1.contact_id = t0.contact_id join contact_tag u2z_ on u2z_.contact_id = t0.contact_id join tag u2 on u2.tag_id = u2z_.tag_id where u1.status = ? and t0.unit_id = ? and u2.tag_id in (?,?) and t0.unit_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) and t0.campaign_id in (?,?,?,?,?,?,?,?,?,?,?,?) ]\n</code></pre>\n\n<p>I feel that the most perplexing piece about this is how it switches, reliably 100% of the time back and forth on restart.</p>\n\n<p>Has anyone ever seen anything like this before?  Just to add to the confusion, it's additionally doing something very similar (on different data sets) on our production environment, but I cannot reproduce this on my development or testing machines even after dumping the database and loading it locally.  The problem described above though is reproducible everywhere.</p>\n"},{"tags":["java","android","firebase","firebase-authentication","azure-active-directory"],"comments":[{"owner":{"account_id":36947,"reputation":32308,"user_id":105518,"display_name":"Marc LaFleur"},"score":0,"creation_date":1554214355,"post_id":55476704,"comment_id":97664089,"body_markdown":"Have you configured things as described here: https://firebase.google.com/docs/auth/android/microsoft-oauth?authuser=0?","body":"Have you configured things as described here: <a href=\"https://firebase.google.com/docs/auth/android/microsoft-oauth?authuser=0\" rel=\"nofollow noreferrer\">firebase.google.com/docs/auth/android/&hellip;</a>?"},{"owner":{"account_id":12833028,"reputation":103,"user_id":9283583,"display_name":"Yluna"},"score":0,"creation_date":1554215123,"post_id":55476704,"comment_id":97664590,"body_markdown":"Thank you for your reply. Yes I did. I added an extra image to show the Azure URI redirection, but you can see I followed that site religiously on the rest of the images and code. I&#39;m thinking maybe a permission is missing since that part isn&#39;t really explained.","body":"Thank you for your reply. Yes I did. I added an extra image to show the Azure URI redirection, but you can see I followed that site religiously on the rest of the images and code. I&#39;m thinking maybe a permission is missing since that part isn&#39;t really explained."},{"owner":{"account_id":36947,"reputation":32308,"user_id":105518,"display_name":"Marc LaFleur"},"score":0,"creation_date":1554217018,"post_id":55476704,"comment_id":97665875,"body_markdown":"It looks like this is meant to work with the v2 Endpoint. Make sure the &quot;Supported Account Types&quot; section of the Authentication blade is _not_ set to **&quot;Accounts in this organizational directory only (Microsoft)&quot;** or **&quot;Accounts in any organizational directory&quot;**. The **&quot;Accounts in any organizational directory and personal Microsoft accounts (e.g. Skype, Xbox, Outlook.com)&quot;** is for the v2 Endpoint.","body":"It looks like this is meant to work with the v2 Endpoint. Make sure the &quot;Supported Account Types&quot; section of the Authentication blade is <i>not</i> set to <b>&quot;Accounts in this organizational directory only (Microsoft)&quot;</b> or <b>&quot;Accounts in any organizational directory&quot;</b>. The <b>&quot;Accounts in any organizational directory and personal Microsoft accounts (e.g. Skype, Xbox, Outlook.com)&quot;</b> is for the v2 Endpoint."},{"owner":{"account_id":12833028,"reputation":103,"user_id":9283583,"display_name":"Yluna"},"score":0,"creation_date":1554219069,"post_id":55476704,"comment_id":97667161,"body_markdown":"Check my edit. The correct option was enabled but mayne there is something on the manifest that can help? thank you for your time.","body":"Check my edit. The correct option was enabled but mayne there is something on the manifest that can help? thank you for your time."},{"owner":{"account_id":14286485,"reputation":3511,"user_id":10319730,"display_name":"Andre Thiele"},"score":1,"creation_date":1618692367,"post_id":55476704,"comment_id":118680898,"body_markdown":"did you resolve this? I am struggling as well. It seems their documentation is out of date.","body":"did you resolve this? I am struggling as well. It seems their documentation is out of date."}],"answers":[{"tags":[],"owner":{"account_id":17711284,"reputation":149,"user_id":12858767,"display_name":"Mahan Mashoof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633002365,"creation_date":1633002365,"answer_id":69391672,"question_id":55476704,"body_markdown":"Tried to check the token check-boxes under Manage -&gt; Authentication?\r\nFor me that was the difference","title":"Firebase authentication with Microsoft error","body":"<p>Tried to check the token check-boxes under Manage -&gt; Authentication?\nFor me that was the difference</p>\n"}],"owner":{"account_id":12833028,"reputation":103,"user_id":9283583,"display_name":"Yluna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2393,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1633002365,"creation_date":1554213604,"question_id":55476704,"body_markdown":"I&#39;m trying to implement Firebase Authentication on my Android app for my organization. Every employee has a Microsoft business account so I want to use that email/password to sign in on my app.\r\n\r\nI enabled this option on the Firebase Console and filled data with the information of the Azure AD application I created:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe Azure AD app has the permission to log in users and read their profile.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI managed to get it working to the point where the users are created on my Firebase Console.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut on my Android app, after writing the credentials, this error message appears.\r\n\r\n&gt; We&#39;re having trouble signing you in.\r\nAADSTS900561: The endpoint only accepts POST requests. Received a GET request.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe Android code is the sample code Firebase gives.\r\n\r\n    OAuthProvider.Builder provider = OAuthProvider.newBuilder(&quot;microsoft.com&quot;);\r\n    \r\n    Task &lt; AuthResult &gt; pendingResultTask = mAuth.getPendingAuthResult();\r\n    if (pendingResultTask != null) {\r\n        pendingResultTask.addOnSuccessListener(new OnSuccessListener &lt; AuthResult &gt;\r\n            () {\r\n                @Override\r\n                public void onSuccess(AuthResult authResult) {\r\n                    Log.e(&quot;PROFILE&quot;, authResult.getAdditionalUserInfo()\r\n                        .getProfile().toString());\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.e(&quot;FAIL&quot;, &quot;ERROR LOGIN&quot;);\r\n            }\r\n        });\r\n    } else {\r\n        mAuth.startActivityForSignInWithProvider(Login.this, provider.build())\r\n            .addOnSuccessListener(new OnSuccessListener &lt; AuthResult &gt; () {\r\n                @Override\r\n                public void onSuccess(AuthResult authResult) {\r\n                    Log.e(&quot;PROFILE&quot;, authResult.getAdditionalUserInfo()\r\n                        .getProfile().toString());\r\n                    Log.w(&quot;USERNAME&quot;, authResult.getUser()\r\n                        .getDisplayName());\r\n    \r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.e(&quot;FAIL&quot;, &quot;ERROR LOGIN: &quot; + e);\r\n                }\r\n            });\r\n    }\r\n    \r\nThe `PROFILE` logline is being printed and there are no errors in Android Studio. Also if the user is being created on Firebase...I don&#39;t know what&#39;s causing the login process not to be completed.\r\n\r\n**EDIT:**\r\nThis is my redirect URI configuration on Azure AD app:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**EDIT 2:**\r\nThe supported account type is set to all accounts. (It&#39;s in Spanish sorry, it says I can edit the manifest to change the configuration)\r\n\r\n[![enter image description here][6]][6]\r\n\r\nThe manifest looks like this:\r\n\r\n    {\r\n      &quot;id&quot;: &quot;******************************&quot;,\r\n      &quot;acceptMappedClaims&quot;: null,\r\n      &quot;accessTokenAcceptedVersion&quot;: 2,\r\n      &quot;allowPublicClient&quot;: null,\r\n      &quot;appId&quot;: &quot;***************************&quot;,\r\n      &quot;appRoles&quot;: [],\r\n      &quot;oauth2AllowUrlPathMatching&quot;: false,\r\n      &quot;createdDateTime&quot;: &quot;2019-04-02T09:53:53Z&quot;,\r\n      &quot;groupMembershipClaims&quot;: null,\r\n      &quot;identifierUris&quot;: [&quot;api://****************************&quot;],\r\n      &quot;informationalUrls&quot;: {\r\n        &quot;termsOfService&quot;: null,\r\n        &quot;support&quot;: null,\r\n        &quot;privacy&quot;: null,\r\n        &quot;marketing&quot;: null\r\n      },\r\n      &quot;keyCredentials&quot;: [],\r\n      &quot;knownClientApplications&quot;: [],\r\n      &quot;logoUrl&quot;: null,\r\n      &quot;logoutUrl&quot;: null,\r\n      &quot;name&quot;: &quot;App name&quot;,\r\n      &quot;oauth2AllowIdTokenImplicitFlow&quot;: true,\r\n      &quot;oauth2AllowImplicitFlow&quot;: true,\r\n      &quot;oauth2Permissions&quot;: [],\r\n      &quot;oauth2RequirePostResponse&quot;: false,\r\n      &quot;optionalClaims&quot;: null,\r\n      &quot;orgRestrictions&quot;: [],\r\n      &quot;parentalControlSettings&quot;: {\r\n        &quot;countriesBlockedForMinors&quot;: [],\r\n        &quot;legalAgeGroupRule&quot;: &quot;Allow&quot;\r\n      },\r\n      &quot;passwordCredentials&quot;: [\r\n        {\r\n          &quot;customKeyIdentifier&quot;: null,\r\n          &quot;endDate&quot;: &quot;2099-12-31T12:00:00Z&quot;,\r\n          &quot;keyId&quot;: &quot;***************************&quot;,\r\n          &quot;startDate&quot;: &quot;2019-04-02T09:55:10.2084897Z&quot;,\r\n          &quot;value&quot;: null,\r\n          &quot;createdOn&quot;: &quot;2019-04-02T09:55:14.432352Z&quot;,\r\n          &quot;hint&quot;: &quot;gGL&quot;,\r\n          &quot;displayName&quot;: null\r\n        }\r\n      ],\r\n      &quot;preAuthorizedApplications&quot;: [],\r\n      &quot;publisherDomain&quot;: &quot;domain.com&quot;,\r\n      &quot;replyUrlsWithType&quot;: [\r\n        {\r\n          &quot;url&quot;: &quot;https://***********.firebaseapp.com/__/auth/handler&quot;,\r\n          &quot;type&quot;: &quot;Web&quot;\r\n        },\r\n        {\r\n          &quot;url&quot;: &quot;https://login.live.com/oauth20_desktop.srf&quot;,\r\n          &quot;type&quot;: &quot;InstalledClient&quot;\r\n        },\r\n        {\r\n          &quot;url&quot;: &quot;urn:ietf:wg:oauth:2.0:oob&quot;,\r\n          &quot;type&quot;: &quot;InstalledClient&quot;\r\n        },\r\n        {\r\n          &quot;url&quot;: &quot;https://login.microsoftonline.com/common/oauth2/nativeclient&quot;,\r\n          &quot;type&quot;: &quot;InstalledClient&quot;\r\n        },\r\n        {\r\n          &quot;url&quot;: &quot;msalececeef1-*****************://auth&quot;,\r\n          &quot;type&quot;: &quot;InstalledClient&quot;\r\n        }\r\n      ],\r\n      &quot;requiredResourceAccess&quot;: [\r\n        {\r\n          &quot;resourceAppId&quot;: &quot;*************************&quot;,\r\n          &quot;resourceAccess&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;***********************&quot;,\r\n              &quot;type&quot;: &quot;Scope&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;samlMetadataUrl&quot;: null,\r\n      &quot;signInUrl&quot;: null,\r\n      &quot;signInAudience&quot;: &quot;AzureADandPersonalMicrosoftAccount&quot;,\r\n      &quot;tags&quot;: [],\r\n      &quot;tokenEncryptionKeyId&quot;: null\r\n    }\r\n\r\nI&#39;ve tried changing the `&quot;oauth2RequirePostResponse&quot;: false` to `true` but it didn&#39;t work either.\r\n\r\n  [1]: https://i.stack.imgur.com/lZ1BJ.png\r\n  [2]: https://i.stack.imgur.com/TcHQc.png\r\n  [3]: https://i.stack.imgur.com/72gvB.png\r\n  [4]: https://i.stack.imgur.com/vzlgt.png\r\n  [5]: https://i.stack.imgur.com/moe3G.png\r\n  [6]: https://i.stack.imgur.com/P9uob.png\r\n","title":"Firebase authentication with Microsoft error","body":"<p>I'm trying to implement Firebase Authentication on my Android app for my organization. Every employee has a Microsoft business account so I want to use that email/password to sign in on my app.</p>\n\n<p>I enabled this option on the Firebase Console and filled data with the information of the Azure AD application I created:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lZ1BJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZ1BJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Azure AD app has the permission to log in users and read their profile.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TcHQc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcHQc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I managed to get it working to the point where the users are created on my Firebase Console.</p>\n\n<p><a href=\"https://i.stack.imgur.com/72gvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72gvB.png\" alt=\"enter image description here\"></a></p>\n\n<p>But on my Android app, after writing the credentials, this error message appears.</p>\n\n<blockquote>\n  <p>We're having trouble signing you in.\n  AADSTS900561: The endpoint only accepts POST requests. Received a GET request.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/vzlgt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzlgt.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Android code is the sample code Firebase gives.</p>\n\n<pre><code>OAuthProvider.Builder provider = OAuthProvider.newBuilder(\"microsoft.com\");\n\nTask &lt; AuthResult &gt; pendingResultTask = mAuth.getPendingAuthResult();\nif (pendingResultTask != null) {\n    pendingResultTask.addOnSuccessListener(new OnSuccessListener &lt; AuthResult &gt;\n        () {\n            @Override\n            public void onSuccess(AuthResult authResult) {\n                Log.e(\"PROFILE\", authResult.getAdditionalUserInfo()\n                    .getProfile().toString());\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Log.e(\"FAIL\", \"ERROR LOGIN\");\n        }\n    });\n} else {\n    mAuth.startActivityForSignInWithProvider(Login.this, provider.build())\n        .addOnSuccessListener(new OnSuccessListener &lt; AuthResult &gt; () {\n            @Override\n            public void onSuccess(AuthResult authResult) {\n                Log.e(\"PROFILE\", authResult.getAdditionalUserInfo()\n                    .getProfile().toString());\n                Log.w(\"USERNAME\", authResult.getUser()\n                    .getDisplayName());\n\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.e(\"FAIL\", \"ERROR LOGIN: \" + e);\n            }\n        });\n}\n</code></pre>\n\n<p>The <code>PROFILE</code> logline is being printed and there are no errors in Android Studio. Also if the user is being created on Firebase...I don't know what's causing the login process not to be completed.</p>\n\n<p><strong>EDIT:</strong>\nThis is my redirect URI configuration on Azure AD app:</p>\n\n<p><a href=\"https://i.stack.imgur.com/moe3G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/moe3G.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDIT 2:</strong>\nThe supported account type is set to all accounts. (It's in Spanish sorry, it says I can edit the manifest to change the configuration)</p>\n\n<p><a href=\"https://i.stack.imgur.com/P9uob.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9uob.png\" alt=\"enter image description here\"></a></p>\n\n<p>The manifest looks like this:</p>\n\n<pre><code>{\n  \"id\": \"******************************\",\n  \"acceptMappedClaims\": null,\n  \"accessTokenAcceptedVersion\": 2,\n  \"allowPublicClient\": null,\n  \"appId\": \"***************************\",\n  \"appRoles\": [],\n  \"oauth2AllowUrlPathMatching\": false,\n  \"createdDateTime\": \"2019-04-02T09:53:53Z\",\n  \"groupMembershipClaims\": null,\n  \"identifierUris\": [\"api://****************************\"],\n  \"informationalUrls\": {\n    \"termsOfService\": null,\n    \"support\": null,\n    \"privacy\": null,\n    \"marketing\": null\n  },\n  \"keyCredentials\": [],\n  \"knownClientApplications\": [],\n  \"logoUrl\": null,\n  \"logoutUrl\": null,\n  \"name\": \"App name\",\n  \"oauth2AllowIdTokenImplicitFlow\": true,\n  \"oauth2AllowImplicitFlow\": true,\n  \"oauth2Permissions\": [],\n  \"oauth2RequirePostResponse\": false,\n  \"optionalClaims\": null,\n  \"orgRestrictions\": [],\n  \"parentalControlSettings\": {\n    \"countriesBlockedForMinors\": [],\n    \"legalAgeGroupRule\": \"Allow\"\n  },\n  \"passwordCredentials\": [\n    {\n      \"customKeyIdentifier\": null,\n      \"endDate\": \"2099-12-31T12:00:00Z\",\n      \"keyId\": \"***************************\",\n      \"startDate\": \"2019-04-02T09:55:10.2084897Z\",\n      \"value\": null,\n      \"createdOn\": \"2019-04-02T09:55:14.432352Z\",\n      \"hint\": \"gGL\",\n      \"displayName\": null\n    }\n  ],\n  \"preAuthorizedApplications\": [],\n  \"publisherDomain\": \"domain.com\",\n  \"replyUrlsWithType\": [\n    {\n      \"url\": \"https://***********.firebaseapp.com/__/auth/handler\",\n      \"type\": \"Web\"\n    },\n    {\n      \"url\": \"https://login.live.com/oauth20_desktop.srf\",\n      \"type\": \"InstalledClient\"\n    },\n    {\n      \"url\": \"urn:ietf:wg:oauth:2.0:oob\",\n      \"type\": \"InstalledClient\"\n    },\n    {\n      \"url\": \"https://login.microsoftonline.com/common/oauth2/nativeclient\",\n      \"type\": \"InstalledClient\"\n    },\n    {\n      \"url\": \"msalececeef1-*****************://auth\",\n      \"type\": \"InstalledClient\"\n    }\n  ],\n  \"requiredResourceAccess\": [\n    {\n      \"resourceAppId\": \"*************************\",\n      \"resourceAccess\": [\n        {\n          \"id\": \"***********************\",\n          \"type\": \"Scope\"\n        }\n      ]\n    }\n  ],\n  \"samlMetadataUrl\": null,\n  \"signInUrl\": null,\n  \"signInAudience\": \"AzureADandPersonalMicrosoftAccount\",\n  \"tags\": [],\n  \"tokenEncryptionKeyId\": null\n}\n</code></pre>\n\n<p>I've tried changing the <code>\"oauth2RequirePostResponse\": false</code> to <code>true</code> but it didn't work either.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4249934,"reputation":500,"user_id":3477333,"accept_rate":100,"display_name":"reakt"},"score":1,"creation_date":1632978562,"post_id":69386441,"comment_id":122639956,"body_markdown":"Please edit your post to include the error.","body":"Please edit your post to include the error."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1632980809,"post_id":69386441,"comment_id":122640383,"body_markdown":"Creating a connection for each time your method is called will have problems since your DBMS server might have limit on how many connections can be made concurrently. For better solution use connection pools which will reuse the same connection.","body":"Creating a connection for each time your method is called will have problems since your DBMS server might have limit on how many connections can be made concurrently. For better solution use connection pools which will reuse the same connection."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1632999807,"post_id":69386441,"comment_id":122647683,"body_markdown":"This code won&#39;t compile.  You can&#39;t have two `finally` blocks in the same `try`.","body":"This code won&#39;t compile.  You can&#39;t have two <code>finally</code> blocks in the same <code>try</code>."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1633007458,"post_id":69386441,"comment_id":122650945,"body_markdown":"When you say &quot;That will take dbUrl, dbUserName, dbPassWord, dbDriver and sql query&quot;, do you mean that these data will be sent in an API request?","body":"When you say &quot;That will take dbUrl, dbUserName, dbPassWord, dbDriver and sql query&quot;, do you mean that these data will be sent in an API request?"}],"answers":[{"tags":[],"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633002217,"creation_date":1633002217,"answer_id":69391634,"question_id":69386441,"body_markdown":"1. Consider using DB connection pool such as [Hikari][1] or [C3P0][2] (both available at Maven Repository). Opening a connection every time is very inefficient and you may run out of connections which may be the error you are getting.  Please post your error.\r\n2. Use try-with-resources instead of doing the finally block.  It will automatically call close() on Autoclosable objects such as Connection, Statement, PreparedStatement, ResultSet, etc.\r\n\r\n\r\n&gt;     try (\r\n&gt;         Connection myConnection = MyConnectionPool.getConnection();\r\n&gt;         Statement stmt = myConnection.createStatement();\r\n&gt;         ResultSet rs = stmt.executeQuery(query)\r\n&gt;     ) {\r\n&gt;         // Do work with rs\r\n&gt;     }\r\n\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP\r\n  [2]: https://www.mchange.com/projects/c3p0/\r\n","title":"Jdbc connection using java","body":"<ol>\n<li>Consider using DB connection pool such as <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">Hikari</a> or <a href=\"https://www.mchange.com/projects/c3p0/\" rel=\"nofollow noreferrer\">C3P0</a> (both available at Maven Repository). Opening a connection every time is very inefficient and you may run out of connections which may be the error you are getting.  Please post your error.</li>\n<li>Use try-with-resources instead of doing the finally block.  It will automatically call close() on Autoclosable objects such as Connection, Statement, PreparedStatement, ResultSet, etc.</li>\n</ol>\n<blockquote>\n<pre><code>try (\n    Connection myConnection = MyConnectionPool.getConnection();\n    Statement stmt = myConnection.createStatement();\n    ResultSet rs = stmt.executeQuery(query)\n) {\n    // Do work with rs\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":21111843,"reputation":125,"user_id":15519638,"display_name":"vivek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633002217,"creation_date":1632978344,"question_id":69386441,"body_markdown":"I have Rest-Api in the java.\r\n\r\nThat will take dbUrl, dbUserName, dbPassWord, dbDriver and sql query\r\n\r\nand gives me the result set and after I will be converting into json format.\r\n\r\n```\r\nClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\nconnectionUrl = &quot;jdbc:oracle:thin:@&quot; + server + &quot;:&quot; + dbName + &quot;&quot;;\r\nconn = DriverManager.getConnection(connectionUrl, userName, password);\r\ntry {\r\n\tstmt = conn.createStatement();\r\n\toutput = resultSetHandler(stmt.executeQuery(query)); // this method convert ResultSet to Json\r\n\t} catch (SQLException e) {\r\n\t\tthrow new Error(e);\r\n\t} finally {\r\n\t\tif (stmt != null) {\r\n\t\t\tstmt.close();\r\n\t\t}\r\n\t}\r\n} catch (SQLException e) {\r\n\tthrow new Error(e);\r\n} finally {\r\n\ttry {\r\n\t\tif (conn != null) {\r\n\t\t\tconn.close();\r\n\t\t}\r\n\t} catch (SQLException ex) {\r\n\t\tthrow new Error(ex);\r\n\t}\r\n}\r\n\r\n```\r\nThe problem here is that When 30 users use this api at one time means It will throw an error for few users.... \r\nand also I will not be using just oracle and I will be using postgres, mysql also","title":"Jdbc connection using java","body":"<p>I have Rest-Api in the java.</p>\n<p>That will take dbUrl, dbUserName, dbPassWord, dbDriver and sql query</p>\n<p>and gives me the result set and after I will be converting into json format.</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\nconnectionUrl = &quot;jdbc:oracle:thin:@&quot; + server + &quot;:&quot; + dbName + &quot;&quot;;\nconn = DriverManager.getConnection(connectionUrl, userName, password);\ntry {\n    stmt = conn.createStatement();\n    output = resultSetHandler(stmt.executeQuery(query)); // this method convert ResultSet to Json\n    } catch (SQLException e) {\n        throw new Error(e);\n    } finally {\n        if (stmt != null) {\n            stmt.close();\n        }\n    }\n} catch (SQLException e) {\n    throw new Error(e);\n} finally {\n    try {\n        if (conn != null) {\n            conn.close();\n        }\n    } catch (SQLException ex) {\n        throw new Error(ex);\n    }\n}\n\n</code></pre>\n<p>The problem here is that When 30 users use this api at one time means It will throw an error for few users....\nand also I will not be using just oracle and I will be using postgres, mysql also</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1633000419,"post_id":69391167,"comment_id":122647873,"body_markdown":"&quot;As if I have called it twice in my main.&quot; And you have: `prime(num);` and then `if (prime(num) == 1){`. If you meant to just call it once and remember the result, you should use `int result = prime(num); if (result == 1) { ... }`","body":"&quot;As if I have called it twice in my main.&quot; And you have: <code>prime(num);</code> and then <code>if (prime(num) == 1){</code>. If you meant to just call it once and remember the result, you should use <code>int result = prime(num); if (result == 1) { ... }</code>"},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1633000437,"post_id":69391167,"comment_id":122647885,"body_markdown":"Note that it would be better to return `boolean` than `int` - after all, you&#39;re returning a &quot;yes&quot; or &quot;no&quot;, effectively.","body":"Note that it would be better to return <code>boolean</code> than <code>int</code> - after all, you&#39;re returning a &quot;yes&quot; or &quot;no&quot;, effectively."}],"answers":[{"tags":[],"owner":{"account_id":10233194,"reputation":193,"user_id":7553113,"display_name":"Ashish Neupane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633001602,"creation_date":1633000619,"answer_id":69391267,"question_id":69391167,"body_markdown":"On the first glance, your for loop seems to be having different condition than you are mentioning in the comment of the code. The loops don&#39;t run because the condition is `z==num`. Which would be false if you provide any inputs other than 0. If you are trying to run a loop from 0 to num, type`z&lt;=num` instead. Also, you are calling the prime function twice and not storing the call in an integer type in the first call. `prime(num);`","title":"Why does my object return 2 times, and my for loop does not get read?","body":"<p>On the first glance, your for loop seems to be having different condition than you are mentioning in the comment of the code. The loops don't run because the condition is <code>z==num</code>. Which would be false if you provide any inputs other than 0. If you are trying to run a loop from 0 to num, type<code>z&lt;=num</code> instead. Also, you are calling the prime function twice and not storing the call in an integer type in the first call. <code>prime(num);</code></p>\n"},{"tags":[],"owner":{"account_id":5625572,"reputation":1324,"user_id":4454119,"display_name":"Nitin Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633000639,"creation_date":1633000639,"answer_id":69391272,"question_id":69391167,"body_markdown":"prime function is calling twice. and thats why returning two times. you need to store the value of prime method and then compare it in the if block.   \r\n    \r\n    int prime = prime(num);\r\n    \r\n    //see if the returned value is None(not prime) or not None(prime)\r\n    if (prime == 1){\r\n        System.out.println(&quot;It is a prime&quot;);\r\n    }","title":"Why does my object return 2 times, and my for loop does not get read?","body":"<p>prime function is calling twice. and thats why returning two times. you need to store the value of prime method and then compare it in the if block.</p>\n<pre><code>int prime = prime(num);\n\n//see if the returned value is None(not prime) or not None(prime)\nif (prime == 1){\n    System.out.println(&quot;It is a prime&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8545324,"reputation":108,"user_id":6404058,"display_name":"Ankit Dhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633002039,"creation_date":1633000663,"answer_id":69391281,"question_id":69391167,"body_markdown":"You are calling the prime(num) twice.\r\nOnce directly and once in the if condition.\r\nYou can remove the direct call and it will work as expected.\r\nMy suggestion would be get the calculated value in a variable and evaluate in the if block.\r\n\r\n    int prime= prime(num);\r\n    \r\n    //see if the returned value is None(not prime) or not None(prime)\r\n    if (prime == 1){\r\n        System.out.println(&quot;It is a prime&quot;);\r\n    }\r\n\r\n","title":"Why does my object return 2 times, and my for loop does not get read?","body":"<p>You are calling the prime(num) twice.\nOnce directly and once in the if condition.\nYou can remove the direct call and it will work as expected.\nMy suggestion would be get the calculated value in a variable and evaluate in the if block.</p>\n<pre><code>int prime= prime(num);\n\n//see if the returned value is None(not prime) or not None(prime)\nif (prime == 1){\n    System.out.println(&quot;It is a prime&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":19728027,"reputation":27,"user_id":14444173,"display_name":"Kamu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69391267,"answer_count":3,"score":-1,"last_activity_date":1633002039,"creation_date":1633000227,"question_id":69391167,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class primtal {\r\n        public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        //ask for input\r\n        System.out.println(&quot;Enter an integer: &quot;);\r\n        int num = input.nextInt();\r\n        \r\n        //call the object prime to start the sequence, and see if input is prime\r\n        prime(num);\r\n        \r\n        //see if the returned value is None(not prime) or not None(prime)\r\n        if (prime(num) == 1){\r\n            System.out.println(&quot;It is a prime&quot;);\r\n        }\r\n        \r\n        else{\r\n            System.out.println(&quot;It is not a prime&quot;);\r\n        }\r\n        \r\n        \r\n    }\r\n    \r\n    public static int prime(int num){\r\n        System.out.println(&quot;hello&quot;);\r\n        //make an list from 0 up to num\r\n        int[] numList = new int[num];\r\n        for (int z = 0; z == num; z++){\r\n            numList[z] = z;\r\n        }\r\n        \r\n        //loop through all numbers up to num, and calculate which 2 multiply together\r\n        for (int i = 1; i == num; i++){\r\n            for (int n = 1; n == num-1; n++){\r\n                //from here\r\n                if (i*numList[n] == num){\r\n                    System.out.println(&quot;hit this&quot;);\r\n                    return 1;\r\n                }else {\r\n                    System.out.println(&quot;hit this 2&quot;);\r\n                }\r\n                //to here; does not get read\r\n            }\r\n            \r\n            System.out.println(&quot;hit this 3&quot;); //this also deos not get read\r\n        }\r\n        System.out.println(&quot;hit this 4&quot;);\r\n        return 0;\r\n    }\r\n    }\r\n\r\nI made a similar program in python with the exact same for loop sequence, and it works fine, however, I am relatively new to Java so &quot;translating&quot; my code from python to java was harder than expected...\r\n\r\nThe purpose of this code is to calculate if the input is prime or not. I made an object for the sequence. If the sequence returns 1, then the number is prime, otherwise, it&#39;s not.\r\n\r\nFor some reason that I do not understand is that my object gets returned twice. All of my &quot;hit this&quot; and &quot;hello&quot; in the object get printed twice. As if I have called it twice in my main.","title":"Why does my object return 2 times, and my for loop does not get read?","body":"<pre><code>import java.util.Scanner;\n\npublic class primtal {\n    public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    //ask for input\n    System.out.println(&quot;Enter an integer: &quot;);\n    int num = input.nextInt();\n    \n    //call the object prime to start the sequence, and see if input is prime\n    prime(num);\n    \n    //see if the returned value is None(not prime) or not None(prime)\n    if (prime(num) == 1){\n        System.out.println(&quot;It is a prime&quot;);\n    }\n    \n    else{\n        System.out.println(&quot;It is not a prime&quot;);\n    }\n    \n    \n}\n\npublic static int prime(int num){\n    System.out.println(&quot;hello&quot;);\n    //make an list from 0 up to num\n    int[] numList = new int[num];\n    for (int z = 0; z == num; z++){\n        numList[z] = z;\n    }\n    \n    //loop through all numbers up to num, and calculate which 2 multiply together\n    for (int i = 1; i == num; i++){\n        for (int n = 1; n == num-1; n++){\n            //from here\n            if (i*numList[n] == num){\n                System.out.println(&quot;hit this&quot;);\n                return 1;\n            }else {\n                System.out.println(&quot;hit this 2&quot;);\n            }\n            //to here; does not get read\n        }\n        \n        System.out.println(&quot;hit this 3&quot;); //this also deos not get read\n    }\n    System.out.println(&quot;hit this 4&quot;);\n    return 0;\n}\n}\n</code></pre>\n<p>I made a similar program in python with the exact same for loop sequence, and it works fine, however, I am relatively new to Java so &quot;translating&quot; my code from python to java was harder than expected...</p>\n<p>The purpose of this code is to calculate if the input is prime or not. I made an object for the sequence. If the sequence returns 1, then the number is prime, otherwise, it's not.</p>\n<p>For some reason that I do not understand is that my object gets returned twice. All of my &quot;hit this&quot; and &quot;hello&quot; in the object get printed twice. As if I have called it twice in my main.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":21621986,"reputation":110,"user_id":15946869,"display_name":"Sujit Sharma"},"score":0,"creation_date":1633001786,"post_id":69391470,"comment_id":122648488,"body_markdown":"you can add 12 moths in the given date to calculate end date. for more detils https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances","body":"you can add 12 moths in the given date to calculate end date. for more detils <a href=\"https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\" title=\"calculating the difference between two java date instances\">stackoverflow.com/questions/1555262/&hellip;</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1633003635,"post_id":69391470,"comment_id":122649178,"body_markdown":"provide a Minimal, Complete, and Verifiable example. Show the code for your latest attempt and where you got stuck.","body":"provide a Minimal, Complete, and Verifiable example. Show the code for your latest attempt and where you got stuck."}],"answers":[{"tags":[],"owner":{"account_id":9648501,"reputation":181,"user_id":7160371,"display_name":"Ajit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633002030,"creation_date":1633002030,"answer_id":69391598,"question_id":69391470,"body_markdown":"Add the number of weeks * 7 days to the date.\r\n\r\nFor example, \r\nIf the date is today and we need to find the date after 12 weeks\r\n\r\n`LocalDate.now().plusDays(12 * 7)` // 12 *7 days","title":"How can I use the occurrences to calculate the end date of a recurring event","body":"<p>Add the number of weeks * 7 days to the date.</p>\n<p>For example,\nIf the date is today and we need to find the date after 12 weeks</p>\n<p><code>LocalDate.now().plusDays(12 * 7)</code> // 12 *7 days</p>\n"}],"owner":{"account_id":20122385,"reputation":1,"user_id":14756628,"display_name":"Teja sree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633002030,"creation_date":1633001516,"question_id":69391470,"body_markdown":"Can anyone tell me the best way of calculating the end date of a recurring event from the number of occurrences .\r\n\r\nFor example: I have an event which has start date as 30/09/2021 (Thursday) and occurs every week days. This event will end after 12 occurrences. \r\nHow can i calculate the enddate using java,pleasee provide some examples,Thankyou.\r\n\r\n","title":"How can I use the occurrences to calculate the end date of a recurring event","body":"<p>Can anyone tell me the best way of calculating the end date of a recurring event from the number of occurrences .</p>\n<p>For example: I have an event which has start date as 30/09/2021 (Thursday) and occurs every week days. This event will end after 12 occurrences.\nHow can i calculate the enddate using java,pleasee provide some examples,Thankyou.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1632991605,"post_id":69388544,"comment_id":122644462,"body_markdown":"Can u share your test , Your probably missing annotation for the test class .","body":"Can u share your test , Your probably missing annotation for the test class ."},{"owner":{"account_id":22415215,"reputation":49,"user_id":16623376,"display_name":"ripunjoym1998"},"score":0,"creation_date":1632993785,"post_id":69388544,"comment_id":122645307,"body_markdown":"@RunWith(MockitoJUnitRunner.class)\npublic class testFunctionA {}","body":"@RunWith(MockitoJUnitRunner.class) public class testFunctionA {}"}],"answers":[{"tags":[],"owner":{"account_id":7382606,"reputation":51,"user_id":5618756,"display_name":"Zouhour Ncib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632995428,"creation_date":1632995428,"answer_id":69390046,"question_id":69388544,"body_markdown":"your properties file is not being loaded. the proper manner for test properties is to use a application-test.yaml, located under test/resources, it will be automatically loaded when you run your tests.","title":"Unable to load project environment variable in Spring Boot Unit Test","body":"<p>your properties file is not being loaded. the proper manner for test properties is to use a application-test.yaml, located under test/resources, it will be automatically loaded when you run your tests.</p>\n"},{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633001915,"creation_date":1633001915,"answer_id":69391574,"question_id":69388544,"body_markdown":"You can injecting the property in the context with Spring Boot in this simple way thanks to the properties attribute of @SpringBootTest :\r\n```\r\n@SpringBootTest(properties=&quot;property.value=dummyValue&quot;)\r\npublic class FooTest{\r\n    \r\n   @Autowired\r\n   Foo foo;\r\n     \r\n   @Test\r\n   public void doThat(){\r\n       ...\r\n   }    \r\n}\r\n```\r\nYou could use as alternative @TestPropertySource but it adds an additional annotation :\r\n\r\n```\r\n@SpringBootTest\r\n@TestPropertySource(properties=&quot;property.value=dummyValue&quot;)\r\npublic class FooTest{ ...}\r\n```\r\n\r\nWith Spring (without Spring Boot), it should be a little more complicated but as I didn&#39;t use Spring without Spring Boot from a long time I don&#39;t prefer say a stupid thing.\r\n\r\nAs a side note : if you have many @Value fields to set, extracting them into a class annotated with @ConfigurationProperties is more relevant because we don&#39;t want a constructor with too many arguments.\r\n\r\nHope thats helped .","title":"Unable to load project environment variable in Spring Boot Unit Test","body":"<p>You can injecting the property in the context with Spring Boot in this simple way thanks to the properties attribute of @SpringBootTest :</p>\n<pre><code>@SpringBootTest(properties=&quot;property.value=dummyValue&quot;)\npublic class FooTest{\n    \n   @Autowired\n   Foo foo;\n     \n   @Test\n   public void doThat(){\n       ...\n   }    \n}\n</code></pre>\n<p>You could use as alternative @TestPropertySource but it adds an additional annotation :</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(properties=&quot;property.value=dummyValue&quot;)\npublic class FooTest{ ...}\n</code></pre>\n<p>With Spring (without Spring Boot), it should be a little more complicated but as I didn't use Spring without Spring Boot from a long time I don't prefer say a stupid thing.</p>\n<p>As a side note : if you have many @Value fields to set, extracting them into a class annotated with @ConfigurationProperties is more relevant because we don't want a constructor with too many arguments.</p>\n<p>Hope thats helped .</p>\n"}],"owner":{"account_id":22415215,"reputation":49,"user_id":16623376,"display_name":"ripunjoym1998"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633001915,"creation_date":1632989364,"question_id":69388544,"body_markdown":"I have some variables defined in application-local.yml in my spring boot project and these variables are used in many of the services by using @Value annotation.\r\nNow while trying to unit test these services, the service is unable to retrieve the value of the variable from the application-local.yml and instead is throwing NullPointer Exception.\r\nWhat should I do?\r\n\r\napplication-local.yml :\r\n\r\n    variables:\r\n        maxVal: 24\r\n\r\nService.java\r\n\r\n    @Value(&quot;${variables.maxVal:24}&quot;)\r\n    public Integer maxima;\r\n\r\n    FunctionA()\r\n    {\r\n      return maxima+1;\r\n    }\r\n\r\n\r\nUnit Test\r\n\r\n    @Test\r\n    testFunctionA()\r\n    {\r\n      assert.assertEquals(25,FunctionA())\r\n    }\r\n","title":"Unable to load project environment variable in Spring Boot Unit Test","body":"<p>I have some variables defined in application-local.yml in my spring boot project and these variables are used in many of the services by using @Value annotation.\nNow while trying to unit test these services, the service is unable to retrieve the value of the variable from the application-local.yml and instead is throwing NullPointer Exception.\nWhat should I do?</p>\n<p>application-local.yml :</p>\n<pre><code>variables:\n    maxVal: 24\n</code></pre>\n<p>Service.java</p>\n<pre><code>@Value(&quot;${variables.maxVal:24}&quot;)\npublic Integer maxima;\n\nFunctionA()\n{\n  return maxima+1;\n}\n</code></pre>\n<p>Unit Test</p>\n<pre><code>@Test\ntestFunctionA()\n{\n  assert.assertEquals(25,FunctionA())\n}\n</code></pre>\n"},{"tags":["python","java","arrays","loops","addition"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632947844,"creation_date":1632947844,"answer_id":69383079,"question_id":69382690,"body_markdown":"&gt; another 4 stuffs put in to another miniBox\r\n\r\nThis is what you need to do, but not what you are doing. You are putting the next 4 stuffs into the same miniBox.\r\n\r\nTo create a new `miniBox`, you need to create after the following line:\r\n\r\n    // reset miniArray ? how? de-likn array? how?\r\n    miniArray = new int[4];\r\n\r\nSo the complete loop would be this:\r\n\r\n        for (int i = 0; i &lt; headArray.length; i++) {\r\n            miniArray[count] = headArray[i];\r\n            count++;\r\n            if (count == 4) {\r\n                array2D[countIndex] = miniArray;\r\n                count = 0;\r\n                countIndex++;\r\n                // reset miniArray ? how? de-likn array? how?\r\n                miniArray = new int[4];\r\n            }\r\n        }","title":"Add array into array like a Python style","body":"<blockquote>\n<p>another 4 stuffs put in to another miniBox</p>\n</blockquote>\n<p>This is what you need to do, but not what you are doing. You are putting the next 4 stuffs into the same miniBox.</p>\n<p>To create a new <code>miniBox</code>, you need to create after the following line:</p>\n<pre><code>// reset miniArray ? how? de-likn array? how?\nminiArray = new int[4];\n</code></pre>\n<p>So the complete loop would be this:</p>\n<pre><code>    for (int i = 0; i &lt; headArray.length; i++) {\n        miniArray[count] = headArray[i];\n        count++;\n        if (count == 4) {\n            array2D[countIndex] = miniArray;\n            count = 0;\n            countIndex++;\n            // reset miniArray ? how? de-likn array? how?\n            miniArray = new int[4];\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632956785,"creation_date":1632956785,"answer_id":69384225,"question_id":69382690,"body_markdown":"You have to create a new array for each row.\r\n\r\n    int[] headArray = { 16, 3, 2, 13, 5, 10, 11, 8, 9, 6, 7, 12, 4, 15, 14, 1 };\r\n    int[][] array2D = new int[4][];\r\n\r\n    for (int i = 0, j = 0; i &lt; headArray.length; i += 4, ++j)\r\n        array2D[j] = Arrays.copyOfRange(headArray, i, i + 4);\r\n\r\n    System.out.println(Arrays.deepToString(array2D));\r\n\r\noutput:\r\n\r\n    [[16, 3, 2, 13], [5, 10, 11, 8], [9, 6, 7, 12], [4, 15, 14, 1]]\r\n","title":"Add array into array like a Python style","body":"<p>You have to create a new array for each row.</p>\n<pre><code>int[] headArray = { 16, 3, 2, 13, 5, 10, 11, 8, 9, 6, 7, 12, 4, 15, 14, 1 };\nint[][] array2D = new int[4][];\n\nfor (int i = 0, j = 0; i &lt; headArray.length; i += 4, ++j)\n    array2D[j] = Arrays.copyOfRange(headArray, i, i + 4);\n\nSystem.out.println(Arrays.deepToString(array2D));\n</code></pre>\n<p>output:</p>\n<pre><code>[[16, 3, 2, 13], [5, 10, 11, 8], [9, 6, 7, 12], [4, 15, 14, 1]]\n</code></pre>\n"}],"owner":{"account_id":11043095,"reputation":104,"user_id":8110288,"display_name":"Marcel Suleiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69383079,"answer_count":2,"score":-1,"last_activity_date":1633001598,"creation_date":1632945619,"question_id":69382690,"body_markdown":"I am trying add an array into another array.\r\n\r\nCode:\r\n```\r\nint[] headArray = {16, 3, 2, 13,\r\n               5, 10, 11, 8,\r\n               9, 6, 7, 12,\r\n               4, 15, 14, 1};\r\nint[] miniArray = new int[4]; // helpArray\r\nint[][] array2D = new int[4][4];\r\n\r\nint count = 0;\r\nint countIndex = 0;\r\n\r\nfor (int i = 0; i &lt; headArray.length; i++) {\r\n\tminiArray[count] = headArray[i];\r\n\tcount++;\r\n\tif (count == 4) {\r\n\t\tarray2D[countIndex] = miniArray;\r\n\t\tcount = 0;\r\n\t\tcountIndex++;\r\n        // reset miniArray ? how? de-likn array? how?\r\n\t}\r\n}\r\n```\r\n\r\nWhen I visualize it, I see 1st loop fill miniArray correctly, then, miniArray will be put into array2D to index 0 correctly, but in next step(s), all indices of array2D are &quot;linked&quot; to last array elements of miniArray ([visualization of work][1]) after the loop, my array2D will be like:\r\n```\r\narray2D = {{4, 15, 14, 1},{4, 15, 14, 1},{4, 15, 14, 1},{4, 15, 14, 1}}\r\n```\r\n\r\nThis is what I expected:\r\n\r\n```\r\narray2D = {{16, 3, 2, 13},{5, 10, 11, 8},{9, 6, 7, 12},{4, 15, 14, 1}}\r\n```\r\n\r\nOf course, I know correct answer, it can be solved by:\r\n\r\n```\r\nint k = 0;\r\n\r\nfor (int i = 0; i &lt; array2D.length; i++) {\r\n\tfor (int j = 0; j &lt; array2D[0].length; j++) {\r\n\t\tarray2D[i][j] = headArray[k];\r\n\t\tk++;\r\n\t}\r\n}\r\n```\r\n\r\nHowever, it is problem solving like _&quot;I am looking at this problem by &quot;row 0, cell 0, row 1, cell 0&quot; etc...&quot;_, but I am looking at this problem like _&quot;I have 16 stuffs on the table, I will grab 4 of them, put it in to miniBox and after that, put miniBox in to bigBox, then, another 4 stuffs put in to another miniBox and after that, put miniBox in to bigBox, etc etc&quot;_ like a Python style:\r\n\r\n```python\r\nheadArray = [16, 3, 2, 13, 5, 10, 11, 8, 9, 6, 7, 12, 4, 15, 14, 1]\r\n\r\ncount = 0\r\n\r\nfor i in range(16): # or range(len(headArray))\r\n\tminiArray.append(headArray[i])\r\n\tcount += 1\r\n\tif count == 4:\r\n\t\tarray2D.append(miniArray)\r\n\t\tcount = 0\r\n\t\tminiArray= []\r\n```\r\n\r\nWhy does my Python-retranslated code to Java language not work?\r\nHow can I fix it?\r\n\r\n\r\n\r\n  [1]: https://cscircles.cemc.uwaterloo.ca/java_visualize/#code=public+class+ClassNameHere+%7B%0A+++public+static+void+main(String%5B%5D+args)+%7B%0A++++++int+headArray%5B%5D+%3D+%7B16,+3,+2,+13,%0A+++++++++++++++++++++++5,+10,+11,+8,%0A+++++++++++++++++++++++9,+6,+7,+12,%0A+++++++++++++++++++++++4,+15,+14,+1%7D%3B%0A++++++int%5B%5D+miniArray+%3D+new+int%5B4%5D%3B%0A++++++int%5B%5D%5B%5D+array2D+%3D+new+int%5B4%5D%5B4%5D%3B%0A%0A%09%09int+count+%3D+0%3B%0A%09%09int+countIndex+%3D+0%3B%0A%0A%09%09for+(int+i+%3D+0%3B+i+%3C+headArray.length%3B+i%2B%2B)+%7B%0A%09%09%09miniArray%5Bcount%5D+%3D+headArray%5Bi%5D%3B%0A%09%09%09count%2B%2B%3B%0A%09%09%09if+(count+%3D%3D+4)+%7B%0A%09%09%09%09array2D%5BcountIndex%5D+%3D+miniArray%3B%0A%09%09%09%09count+%3D+0%3B%0A%09%09%09%09countIndex%2B%2B%3B%0A++++++++++++//+reset+miniArray+%3F+how%0A%09%09%09%7D%0A%09%09%7D%0A+++%7D%0A%7D&amp;mode=display&amp;curInstr=50","title":"Add array into array like a Python style","body":"<p>I am trying add an array into another array.</p>\n<p>Code:</p>\n<pre><code>int[] headArray = {16, 3, 2, 13,\n               5, 10, 11, 8,\n               9, 6, 7, 12,\n               4, 15, 14, 1};\nint[] miniArray = new int[4]; // helpArray\nint[][] array2D = new int[4][4];\n\nint count = 0;\nint countIndex = 0;\n\nfor (int i = 0; i &lt; headArray.length; i++) {\n    miniArray[count] = headArray[i];\n    count++;\n    if (count == 4) {\n        array2D[countIndex] = miniArray;\n        count = 0;\n        countIndex++;\n        // reset miniArray ? how? de-likn array? how?\n    }\n}\n</code></pre>\n<p>When I visualize it, I see 1st loop fill miniArray correctly, then, miniArray will be put into array2D to index 0 correctly, but in next step(s), all indices of array2D are &quot;linked&quot; to last array elements of miniArray (<a href=\"https://cscircles.cemc.uwaterloo.ca/java_visualize/#code=public+class+ClassNameHere+%7B%0A+++public+static+void+main(String%5B%5D+args)+%7B%0A++++++int+headArray%5B%5D+%3D+%7B16,+3,+2,+13,%0A+++++++++++++++++++++++5,+10,+11,+8,%0A+++++++++++++++++++++++9,+6,+7,+12,%0A+++++++++++++++++++++++4,+15,+14,+1%7D%3B%0A++++++int%5B%5D+miniArray+%3D+new+int%5B4%5D%3B%0A++++++int%5B%5D%5B%5D+array2D+%3D+new+int%5B4%5D%5B4%5D%3B%0A%0A%09%09int+count+%3D+0%3B%0A%09%09int+countIndex+%3D+0%3B%0A%0A%09%09for+(int+i+%3D+0%3B+i+%3C+headArray.length%3B+i%2B%2B)+%7B%0A%09%09%09miniArray%5Bcount%5D+%3D+headArray%5Bi%5D%3B%0A%09%09%09count%2B%2B%3B%0A%09%09%09if+(count+%3D%3D+4)+%7B%0A%09%09%09%09array2D%5BcountIndex%5D+%3D+miniArray%3B%0A%09%09%09%09count+%3D+0%3B%0A%09%09%09%09countIndex%2B%2B%3B%0A++++++++++++//+reset+miniArray+%3F+how%0A%09%09%09%7D%0A%09%09%7D%0A+++%7D%0A%7D&amp;mode=display&amp;curInstr=50\" rel=\"nofollow noreferrer\">visualization of work</a>) after the loop, my array2D will be like:</p>\n<pre><code>array2D = {{4, 15, 14, 1},{4, 15, 14, 1},{4, 15, 14, 1},{4, 15, 14, 1}}\n</code></pre>\n<p>This is what I expected:</p>\n<pre><code>array2D = {{16, 3, 2, 13},{5, 10, 11, 8},{9, 6, 7, 12},{4, 15, 14, 1}}\n</code></pre>\n<p>Of course, I know correct answer, it can be solved by:</p>\n<pre><code>int k = 0;\n\nfor (int i = 0; i &lt; array2D.length; i++) {\n    for (int j = 0; j &lt; array2D[0].length; j++) {\n        array2D[i][j] = headArray[k];\n        k++;\n    }\n}\n</code></pre>\n<p>However, it is problem solving like <em>&quot;I am looking at this problem by &quot;row 0, cell 0, row 1, cell 0&quot; etc...&quot;</em>, but I am looking at this problem like <em>&quot;I have 16 stuffs on the table, I will grab 4 of them, put it in to miniBox and after that, put miniBox in to bigBox, then, another 4 stuffs put in to another miniBox and after that, put miniBox in to bigBox, etc etc&quot;</em> like a Python style:</p>\n<pre class=\"lang-py prettyprint-override\"><code>headArray = [16, 3, 2, 13, 5, 10, 11, 8, 9, 6, 7, 12, 4, 15, 14, 1]\n\ncount = 0\n\nfor i in range(16): # or range(len(headArray))\n    miniArray.append(headArray[i])\n    count += 1\n    if count == 4:\n        array2D.append(miniArray)\n        count = 0\n        miniArray= []\n</code></pre>\n<p>Why does my Python-retranslated code to Java language not work?\nHow can I fix it?</p>\n"},{"tags":["java","tomcat","logging","servlets"],"comments":[{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1633014997,"post_id":69391479,"comment_id":122654602,"body_markdown":"Is the problem that some log info from individual requests are missing or is the problem that whole requests have their log info completely gone? For example, the logs show request info for request 1, 2, skip 3, then show info for 4?","body":"Is the problem that some log info from individual requests are missing or is the problem that whole requests have their log info completely gone? For example, the logs show request info for request 1, 2, skip 3, then show info for 4?"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1633015367,"post_id":69391479,"comment_id":122654836,"body_markdown":"@UsmanMutawakil individual requests are missing. One request = one line of log. But this should be impossible because because I&#39;m printing TIMESTAMP asap when doPost is called.","body":"@UsmanMutawakil individual requests are missing. One request = one line of log. But this should be impossible because because I&#39;m printing TIMESTAMP asap when doPost is called."},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1633015430,"post_id":69391479,"comment_id":122654869,"body_markdown":"Are you sure they are missing and not just out of order?","body":"Are you sure they are missing and not just out of order?"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1633016378,"post_id":69391479,"comment_id":122655310,"body_markdown":"Yes. If I try to grep the log-file with a unique ID that comes with every request(in header), they do not exist, but at the same time I can find them from the database.","body":"Yes. If I try to grep the log-file with a unique ID that comes with every request(in header), they do not exist, but at the same time I can find them from the database."},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1633025510,"post_id":69391479,"comment_id":122658855,"body_markdown":"The buffering for logging is not suppose to be enabled by default. You can check your server.xml file in the conf directory to see if its been set to true or not. You could also check the access logs and confirm theres 1 line for each request you&#39;ve sent  just to further confirm all requests are getting through.","body":"The buffering for logging is not suppose to be enabled by default. You can check your server.xml file in the conf directory to see if its been set to true or not. You could also check the access logs and confirm theres 1 line for each request you&#39;ve sent  just to further confirm all requests are getting through."},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1633025870,"post_id":69391479,"comment_id":122659004,"body_markdown":"See my last comment. Theres a number of ways to configuring logging so probably best to find the logging section of this link that applies to your version of tomcat https://tomcat.apache.org/tomcat-7.0-doc/logging.html where that link is for Tomcat 7. With regard to log4j, I dont think that will solve your issue. Log4j just gives you more control over what gets logged by allowing you add &quot;log levels&quot; to your code. Its not going to have higher throughput than the raw Tomcat logger.","body":"See my last comment. Theres a number of ways to configuring logging so probably best to find the logging section of this link that applies to your version of tomcat <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/logging.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/logging.html</a> where that link is for Tomcat 7. With regard to log4j, I dont think that will solve your issue. Log4j just gives you more control over what gets logged by allowing you add &quot;log levels&quot; to your code. Its not going to have higher throughput than the raw Tomcat logger."}],"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633001557,"creation_date":1633001557,"question_id":69391479,"body_markdown":"I have a simple java HTTP Servlet which receives XML messages, parses them and then saves to a database. Everything works fine; the data is saved correctly to the database, but the logging seems to be not working 100% when there are multiple requests being sent to the servlet rapidly.\r\n\r\nMy logging is just simple print out in the doPost method; a timestamp and a unique header-id for every request, so that I can grep by the header-id from logs. \r\n\r\nAny ideas why would the logging not print out everything, while the servlet is handling the requests concurrently. \r\n\r\nMy questions are:\r\n\r\n**Is there a buffer in Tomcats default logging system that can&#39;t handle rapidly coming requests?**\r\nBecause even the requests that dont leave a trace in logs do get saved to the database with right information. I fired about 400 requests in one second and a few got left out from the logs (I used grep to search).\r\n\r\n**Should I use Log4J?**\r\n\r\n\r\n\r\n\r\n```\r\npublic class TestServlet extends HttpServlet { \r\n\r\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {\r\n        \r\n        String headerID = request.getHeader(&quot;HeaderID&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tServletInputStream inputstream = request.getInputStream();\r\n\t\t\r\n       //Printing out a timestamp and header-id as soon as doPost gets called (ie. by Postman)\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;[&#39;dd.MM.yyyy &#39;||&#39; HH:mm:ss.SSS&#39;]&#39;&quot;);\r\n\t\tSystem.out.println(&quot;TIMESTAMP :: &quot; + sdf.format(cal.getTime()) + &quot; HEADER-ID :: &quot; + headerID);\r\n\t\ttry {\r\n\t\t\t//\r\n            // Here is some logic for checking if the received XML is valid\r\n            //\r\n\t\t} catch (SAXException e) {\r\n\t\t\tresponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;ERROR &quot; + sdf.format(cal.getTime()));\r\n\t\t\te.printStackTrace();\r\n        }\r\n\r\n      // If XML is valid, then proceed to parse it to an object and save to database\r\n\r\n      new SaveXML(inputstream, response, headerID).run();\r\n\r\n}\r\n```","title":"Tomcat Servlet Logger not printing everything","body":"<p>I have a simple java HTTP Servlet which receives XML messages, parses them and then saves to a database. Everything works fine; the data is saved correctly to the database, but the logging seems to be not working 100% when there are multiple requests being sent to the servlet rapidly.</p>\n<p>My logging is just simple print out in the doPost method; a timestamp and a unique header-id for every request, so that I can grep by the header-id from logs.</p>\n<p>Any ideas why would the logging not print out everything, while the servlet is handling the requests concurrently.</p>\n<p>My questions are:</p>\n<p><strong>Is there a buffer in Tomcats default logging system that can't handle rapidly coming requests?</strong>\nBecause even the requests that dont leave a trace in logs do get saved to the database with right information. I fired about 400 requests in one second and a few got left out from the logs (I used grep to search).</p>\n<p><strong>Should I use Log4J?</strong></p>\n<pre><code>public class TestServlet extends HttpServlet { \n\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {\n        \n        String headerID = request.getHeader(&quot;HeaderID&quot;);\n        PrintWriter out = response.getWriter();\n        ServletInputStream inputstream = request.getInputStream();\n        \n       //Printing out a timestamp and header-id as soon as doPost gets called (ie. by Postman)\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;'['dd.MM.yyyy '||' HH:mm:ss.SSS']'&quot;);\n        System.out.println(&quot;TIMESTAMP :: &quot; + sdf.format(cal.getTime()) + &quot; HEADER-ID :: &quot; + headerID);\n        try {\n            //\n            // Here is some logic for checking if the received XML is valid\n            //\n        } catch (SAXException e) {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            System.out.println(\n                    &quot;ERROR &quot; + sdf.format(cal.getTime()));\n            e.printStackTrace();\n        }\n\n      // If XML is valid, then proceed to parse it to an object and save to database\n\n      new SaveXML(inputstream, response, headerID).run();\n\n}\n</code></pre>\n"},{"tags":["java","junit","quarkus","flyway","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633001453,"creation_date":1633001453,"answer_id":69391456,"question_id":69390868,"body_markdown":"Turns out the issue was in fact with how my properties were being read\r\n\r\nas a test, I set the main/applicaiton.yml to only run for a specific profile (eg application-live.yml). like this the test couldn&#39;t find the property, and it loaded properly and the url got injected successfully","title":"Manually running flyway in quarkus testcontainers reactive","body":"<p>Turns out the issue was in fact with how my properties were being read</p>\n<p>as a test, I set the main/applicaiton.yml to only run for a specific profile (eg application-live.yml). like this the test couldn't find the property, and it loaded properly and the url got injected successfully</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633001453,"creation_date":1632998879,"question_id":69390868,"body_markdown":"I have a quarkus 2.3.0.RC1 project setup with reactive postgres as a connection to my database. \r\n\r\nMy test application.yml\r\n```\r\nquarkus:\r\n  datasource:\r\n      db-kind: postgresql\r\n      jdbc: false\r\n      username:\r\n      password:\r\n      reactive:\r\n        url:\r\n        max-size: 20\r\n```\r\n\r\nThis should tell quarkus to spawn a testcontainer instance of postgresql.  Before that however I am running into an issue with my flyway migrations.\r\n\r\n\r\nflyway uses jdbc and as such i had to add this class as a wrapper to allow it to run\r\n\r\n```\r\n@ApplicationScoped\r\npublic class RunFlyway {\r\n\r\n  @ConfigProperty(name = &quot;quarkus.datasource.reactive.url&quot;)\r\n  String datasourceUrl;\r\n  @ConfigProperty(name = &quot;quarkus.datasource.username&quot;)\r\n  String datasourceUsername;\r\n  @ConfigProperty(name = &quot;quarkus.datasource.password&quot;)\r\n  String datasourcePassword;\r\n\r\n  public void runFlywayMigration(@Observes StartupEvent event) {\r\n      Flyway flyway = Flyway.configure()\r\n          .dataSource(&quot;jdbc:&quot; + datasourceUrl, datasourceUsername, datasourcePassword).load();\r\n      flyway.migrate();\r\n   \r\n  }\r\n}\r\n```\r\n\r\n\r\nThis however is seemingly getting my `main/resoruces/applciation.yml` content as properties, which I could ignore just fine but then I do not know how to obtain programmatically the url for the spawned postgresql instance that quarkus created through testcontainers. Is this even possible?  ","title":"Manually running flyway in quarkus testcontainers reactive","body":"<p>I have a quarkus 2.3.0.RC1 project setup with reactive postgres as a connection to my database.</p>\n<p>My test application.yml</p>\n<pre><code>quarkus:\n  datasource:\n      db-kind: postgresql\n      jdbc: false\n      username:\n      password:\n      reactive:\n        url:\n        max-size: 20\n</code></pre>\n<p>This should tell quarkus to spawn a testcontainer instance of postgresql.  Before that however I am running into an issue with my flyway migrations.</p>\n<p>flyway uses jdbc and as such i had to add this class as a wrapper to allow it to run</p>\n<pre><code>@ApplicationScoped\npublic class RunFlyway {\n\n  @ConfigProperty(name = &quot;quarkus.datasource.reactive.url&quot;)\n  String datasourceUrl;\n  @ConfigProperty(name = &quot;quarkus.datasource.username&quot;)\n  String datasourceUsername;\n  @ConfigProperty(name = &quot;quarkus.datasource.password&quot;)\n  String datasourcePassword;\n\n  public void runFlywayMigration(@Observes StartupEvent event) {\n      Flyway flyway = Flyway.configure()\n          .dataSource(&quot;jdbc:&quot; + datasourceUrl, datasourceUsername, datasourcePassword).load();\n      flyway.migrate();\n   \n  }\n}\n</code></pre>\n<p>This however is seemingly getting my <code>main/resoruces/applciation.yml</code> content as properties, which I could ignore just fine but then I do not know how to obtain programmatically the url for the spawned postgresql instance that quarkus created through testcontainers. Is this even possible?</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633001291,"creation_date":1633001291,"answer_id":69391430,"question_id":69390986,"body_markdown":"The line after `60` is more indented. This causes YAML to read it as continuation of the scalar `60`, resulting in `60 - code` (for `-` to be considered a sequence item indicator, it must not be *inside* a scalar). Only when `:` is encountered, the value is finalized because `:` can end a scalar.\r\n\r\nYour class indicates that you want to give a sequence that is to be loaded into the field `cities`; you need to give the key `cities` in your YAML for that:\r\n\r\n```yaml\r\ndefaultLangId : 60\r\ncities:\r\n  - code: AR\r\n    label: ar\r\nlast-result-index : 120\r\n```\r\n","title":"yamlMapper.readValue concatenate value with next attribute name causing InvaidFormatException","body":"<p>The line after <code>60</code> is more indented. This causes YAML to read it as continuation of the scalar <code>60</code>, resulting in <code>60 - code</code> (for <code>-</code> to be considered a sequence item indicator, it must not be <em>inside</em> a scalar). Only when <code>:</code> is encountered, the value is finalized because <code>:</code> can end a scalar.</p>\n<p>Your class indicates that you want to give a sequence that is to be loaded into the field <code>cities</code>; you need to give the key <code>cities</code> in your YAML for that:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>defaultLangId : 60\ncities:\n  - code: AR\n    label: ar\nlast-result-index : 120\n</code></pre>\n"}],"owner":{"account_id":15546839,"reputation":578,"user_id":11215765,"display_name":"Zouhair Dre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69391430,"answer_count":1,"score":0,"last_activity_date":1633001291,"creation_date":1632999403,"question_id":69390986,"body_markdown":"I have this method that maps a yaml configuration file to a class , but the mapping apparently is not OK, as shown in the bellow image, instead of mapping 60 to the `default` attribute it concatenates the next attribute name which causes an exception as `default` is an `int` and the retrieved value is a `string`.\r\nDoes anyone have any clue about why this is happening?\r\n\r\nI tried adding a `\\n` after 60 to force a line break without success. ( it was working fine until I updated the file , changed 30 to 60 in defaultLangId  ).\r\n\r\nThe Yaml file content : \r\n\r\n    defaultLangId : 60\r\n      - code: AR\r\n        label: ar\r\n    last-result-index : 120\r\n\r\nMy config calss : \r\n\r\n    @Getter\r\n    @Setter\r\n    public class XXXXXConfiguration {\r\n    \tprivate int defaultLangId;\r\n    \tprivate List&lt;CodeLabel&gt; cities;\r\n    \tprivate int lastResultIndex;\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUsvu.png","title":"yamlMapper.readValue concatenate value with next attribute name causing InvaidFormatException","body":"<p>I have this method that maps a yaml configuration file to a class , but the mapping apparently is not OK, as shown in the bellow image, instead of mapping 60 to the <code>default</code> attribute it concatenates the next attribute name which causes an exception as <code>default</code> is an <code>int</code> and the retrieved value is a <code>string</code>.\nDoes anyone have any clue about why this is happening?</p>\n<p>I tried adding a <code>\\n</code> after 60 to force a line break without success. ( it was working fine until I updated the file , changed 30 to 60 in defaultLangId  ).</p>\n<p>The Yaml file content :</p>\n<pre><code>defaultLangId : 60\n  - code: AR\n    label: ar\nlast-result-index : 120\n</code></pre>\n<p>My config calss :</p>\n<pre><code>@Getter\n@Setter\npublic class XXXXXConfiguration {\n    private int defaultLangId;\n    private List&lt;CodeLabel&gt; cities;\n    private int lastResultIndex;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VUsvu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUsvu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","centos"],"comments":[{"owner":{"account_id":9093104,"reputation":1493,"user_id":6768037,"display_name":"Jon Sampson"},"score":0,"creation_date":1632964999,"post_id":69384882,"comment_id":122637775,"body_markdown":"Does this answer your question? [How to install Jdk in centos](https://stackoverflow.com/questions/20901442/how-to-install-jdk-in-centos)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20901442/how-to-install-jdk-in-centos\">How to install Jdk in centos</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632977469,"post_id":69384882,"comment_id":122639741,"body_markdown":"By the way, be aware that [Java 16 reaches end-of-life in October](https://www.oracle.com/java/technologies/java-se-support-roadmap.html). Supplanted by Java 17 that came out mid-September. Java 17 is designated a [Long Term Support (LTS)](https://en.wikipedia.org/wiki/Long-term_support) version.","body":"By the way, be aware that <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html\" rel=\"nofollow noreferrer\">Java 16 reaches end-of-life in October</a>. Supplanted by Java 17 that came out mid-September. Java 17 is designated a <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">Long Term Support (LTS)</a> version."},{"owner":{"account_id":4365279,"reputation":14457,"user_id":3561275,"display_name":"omajid"},"score":0,"creation_date":1633139066,"post_id":69384882,"comment_id":122688188,"body_markdown":"@BasilBourque sure.. but this question is about 1.6 (aka 6). That&#39;s been EOL for years already.","body":"@BasilBourque sure.. but this question is about 1.6 (aka 6). That&#39;s been EOL for years already."}],"answers":[{"tags":[],"owner":{"account_id":14973126,"reputation":35,"user_id":10809322,"display_name":"tpnoon"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1632964066,"creation_date":1632964066,"answer_id":69384931,"question_id":69384882,"body_markdown":"You can download [here][1] and search for Java SE Runtime Environment 6u41\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html","title":"How do I install Java OpenJDK 1.6.0_36 to CentOS 7.2","body":"<p>You can download <a href=\"https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html\" rel=\"nofollow noreferrer\">here</a> and search for Java SE Runtime Environment 6u41</p>\n"},{"tags":[],"owner":{"account_id":22733059,"reputation":550,"user_id":16895627,"display_name":"Bryan L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632972864,"creation_date":1632967978,"answer_id":69385284,"question_id":69384882,"body_markdown":"You can install a specific version hosted from CentOS archive server.\r\n\r\n1. Update first `elrepo`, to make sure that you will have the latest RPM repository for CentOS.\r\n```\r\nsudo yum update elrepo\r\n```\r\n\r\n2. Then install the specific version from CentOS archive.\r\n```\r\nsudo yum install https://buildlogs.centos.org/c7.01.u/java-1.6.0-openjdk/20150730180723/1.6.0.36-1.13.8.1.el7_1.x86_64/java-1.6.0-openjdk-1.6.0.36-1.13.8.1.el7_1.x86_64.rpm\r\n```\r\n\r\n&gt; **Note:** This server contains a mix of raw/unsigned packages and/or build logs.\r\nIt should be used mainly for testing purposes.","title":"How do I install Java OpenJDK 1.6.0_36 to CentOS 7.2","body":"<p>You can install a specific version hosted from CentOS archive server.</p>\n<ol>\n<li>Update first <code>elrepo</code>, to make sure that you will have the latest RPM repository for CentOS.</li>\n</ol>\n<pre><code>sudo yum update elrepo\n</code></pre>\n<ol start=\"2\">\n<li>Then install the specific version from CentOS archive.</li>\n</ol>\n<pre><code>sudo yum install https://buildlogs.centos.org/c7.01.u/java-1.6.0-openjdk/20150730180723/1.6.0.36-1.13.8.1.el7_1.x86_64/java-1.6.0-openjdk-1.6.0.36-1.13.8.1.el7_1.x86_64.rpm\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> This server contains a mix of raw/unsigned packages and/or build logs.\nIt should be used mainly for testing purposes.</p>\n</blockquote>\n"}],"owner":{"account_id":14280141,"reputation":33,"user_id":10315084,"display_name":"DorkyDork"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69385284,"answer_count":2,"score":1,"last_activity_date":1633001268,"creation_date":1632963497,"question_id":69384882,"body_markdown":"I want to download Java version &quot;1.6.0_36&quot; in CentOS. I tried `sudo yum install java-1.6.0-openjdk`, but it returned Java version 1.6.0_41. How do I install a specific version?\r\n\r\nCan it be downloaded from the terminal directly?","title":"How do I install Java OpenJDK 1.6.0_36 to CentOS 7.2","body":"<p>I want to download Java version &quot;1.6.0_36&quot; in CentOS. I tried <code>sudo yum install java-1.6.0-openjdk</code>, but it returned Java version 1.6.0_41. How do I install a specific version?</p>\n<p>Can it be downloaded from the terminal directly?</p>\n"},{"tags":["java","android","android-studio","android-camera"],"comments":[{"owner":{"account_id":7713179,"reputation":418,"user_id":5841823,"display_name":"Reza Abedi"},"score":1,"creation_date":1632999904,"post_id":69390879,"comment_id":122647713,"body_markdown":"Have you been given the application to access camera?","body":"Have you been given the application to access camera?"},{"owner":{"account_id":22020652,"reputation":35,"user_id":16289524,"display_name":"w1cked"},"score":0,"creation_date":1633001059,"post_id":69390879,"comment_id":122648194,"body_markdown":"That was the issue... Thank you!","body":"That was the issue... Thank you!"},{"owner":{"account_id":22020652,"reputation":35,"user_id":16289524,"display_name":"w1cked"},"score":0,"creation_date":1633078974,"post_id":69390879,"comment_id":122669701,"body_markdown":"Unfortunately I can&#39;t upvote your comment. I can only &quot;flag&quot; it... You added a comment, and what you need to do is answer the post instead.","body":"Unfortunately I can&#39;t upvote your comment. I can only &quot;flag&quot; it... You added a comment, and what you need to do is answer the post instead."}],"answers":[{"tags":[],"owner":{"account_id":22020652,"reputation":35,"user_id":16289524,"display_name":"w1cked"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633001163,"creation_date":1633001163,"answer_id":69391401,"question_id":69390879,"body_markdown":"Solution\r\n==============\r\nAfter run, go to app settings -&gt; locate your app -&gt; enable camera permission","title":"Android Studio: Custom Camera Preview won&#39;t display","body":"<h1>Solution</h1>\n<p>After run, go to app settings -&gt; locate your app -&gt; enable camera permission</p>\n"}],"owner":{"account_id":22020652,"reputation":35,"user_id":16289524,"display_name":"w1cked"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69391401,"answer_count":1,"score":0,"last_activity_date":1633001163,"creation_date":1632998926,"question_id":69390879,"body_markdown":"I am trying to build a custom camera in Android Studio (and I am fairly new to it). I have been following this guide: https://developer.android.com/guide/topics/media/camera\r\n\r\n 1. I did manifest declarations for using camera in `manifest-file`\r\n 2. I&#39;ve accessed the camera\r\n 3. I created preview class `CameraPreview`\r\n 4. I placed preview in layout\r\n\r\nWhen I open the app I can **only** see my button &quot;Capture&quot; and no preview of the camera. Why?\r\n\r\n`AndroidManifest.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.customcamera&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.CustomCamera&quot;&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n`CameraPreview.java`:\r\n\r\n    package com.example.customcamera;\r\n    \r\n    import android.content.Context;\r\n    import android.hardware.Camera;\r\n    import android.util.Log;\r\n    import android.view.SurfaceHolder;\r\n    import android.view.SurfaceView;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    /** A basic Camera preview class */\r\n    public class CameraPreview extends SurfaceView implements SurfaceHolder.Callback {\r\n        private SurfaceHolder mHolder;\r\n        private Camera mCamera;\r\n        public static final String TAG = &quot;TAG&quot;;\r\n    \r\n        public CameraPreview(Context context, Camera camera) {\r\n            super(context);\r\n            mCamera = camera;\r\n    \r\n            // Install a SurfaceHolder.Callback so we get notified when the\r\n            // underlying surface is created and destroyed.\r\n            mHolder = getHolder();\r\n            mHolder.addCallback(this);\r\n            // deprecated setting, but required on Android versions prior to 3.0\r\n            mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\r\n        }\r\n    \r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            // The Surface has been created, now tell the camera where to draw the preview.\r\n            try {\r\n                mCamera.setPreviewDisplay(holder);\r\n                mCamera.startPreview();\r\n            } catch (IOException e) {\r\n                Log.d(TAG, &quot;Error setting camera preview: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            // empty. Take care of releasing the Camera preview in your activity.\r\n        }\r\n    \r\n        public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) {\r\n            // If your preview can change or rotate, take care of those events here.\r\n            // Make sure to stop the preview before resizing or reformatting it.\r\n    \r\n            if (mHolder.getSurface() == null){\r\n                // preview surface does not exist\r\n                return;\r\n            }\r\n    \r\n            // stop preview before making changes\r\n            try {\r\n                mCamera.stopPreview();\r\n            } catch (Exception e){\r\n                // ignore: tried to stop a non-existent preview\r\n            }\r\n    \r\n            // set preview size and make any resize, rotate or\r\n            // reformatting changes here\r\n    \r\n            // start preview with new settings\r\n            try {\r\n                mCamera.setPreviewDisplay(mHolder);\r\n                mCamera.startPreview();\r\n    \r\n            } catch (Exception e){\r\n                Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n`MainActivity.java`:\r\n\r\n    package com.example.customcamera;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.hardware.Camera;\r\n    import android.os.Bundle;\r\n    import android.widget.FrameLayout;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private Camera mCamera;\r\n        private CameraPreview mPreview;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Create an instance of Camera\r\n            mCamera = getCameraInstance();\r\n    \r\n            // Create our Preview view and set it as the content of our activity.\r\n            mPreview = new CameraPreview(this, mCamera);\r\n            FrameLayout preview = (FrameLayout) findViewById(R.id.camera_preview);\r\n            preview.addView(mPreview);\r\n    \r\n        }\r\n    \r\n        /** A safe way to get an instance of the Camera object. */\r\n        public static Camera getCameraInstance(){\r\n            Camera c = null;\r\n            try {\r\n                c = Camera.open(); // attempt to get a Camera instance, int between 0 and 1?\r\n            }\r\n            catch (Exception e){\r\n                // Camera is not available (in use or does not exist)\r\n            }\r\n            return c; // returns null if camera is unavailable\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`activity_main.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        &gt;\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/camera_preview&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_capture&quot;\r\n            android:text=&quot;Capture&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nI am using:\r\n\r\n - Xiaomi mi 9T, Android version: 10\r\n - Minimum SDK: API 21 (Android 5.0 Lollipop)\r\n\r\nIn addition, Kotlin (CameraX) is **not an option** for me.\r\n\r\n\r\nSolution\r\n==============\r\nAfter run, go to app settings -&gt; locate your app -&gt; enable camera permission\r\n","title":"Android Studio: Custom Camera Preview won&#39;t display","body":"<p>I am trying to build a custom camera in Android Studio (and I am fairly new to it). I have been following this guide: <a href=\"https://developer.android.com/guide/topics/media/camera\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/camera</a></p>\n<ol>\n<li>I did manifest declarations for using camera in <code>manifest-file</code></li>\n<li>I've accessed the camera</li>\n<li>I created preview class <code>CameraPreview</code></li>\n<li>I placed preview in layout</li>\n</ol>\n<p>When I open the app I can <strong>only</strong> see my button &quot;Capture&quot; and no preview of the camera. Why?</p>\n<p><code>AndroidManifest.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.customcamera&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CustomCamera&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><code>CameraPreview.java</code>:</p>\n<pre><code>package com.example.customcamera;\n\nimport android.content.Context;\nimport android.hardware.Camera;\nimport android.util.Log;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\n\nimport java.io.IOException;\n\n/** A basic Camera preview class */\npublic class CameraPreview extends SurfaceView implements SurfaceHolder.Callback {\n    private SurfaceHolder mHolder;\n    private Camera mCamera;\n    public static final String TAG = &quot;TAG&quot;;\n\n    public CameraPreview(Context context, Camera camera) {\n        super(context);\n        mCamera = camera;\n\n        // Install a SurfaceHolder.Callback so we get notified when the\n        // underlying surface is created and destroyed.\n        mHolder = getHolder();\n        mHolder.addCallback(this);\n        // deprecated setting, but required on Android versions prior to 3.0\n        mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\n    }\n\n    public void surfaceCreated(SurfaceHolder holder) {\n        // The Surface has been created, now tell the camera where to draw the preview.\n        try {\n            mCamera.setPreviewDisplay(holder);\n            mCamera.startPreview();\n        } catch (IOException e) {\n            Log.d(TAG, &quot;Error setting camera preview: &quot; + e.getMessage());\n        }\n    }\n\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        // empty. Take care of releasing the Camera preview in your activity.\n    }\n\n    public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) {\n        // If your preview can change or rotate, take care of those events here.\n        // Make sure to stop the preview before resizing or reformatting it.\n\n        if (mHolder.getSurface() == null){\n            // preview surface does not exist\n            return;\n        }\n\n        // stop preview before making changes\n        try {\n            mCamera.stopPreview();\n        } catch (Exception e){\n            // ignore: tried to stop a non-existent preview\n        }\n\n        // set preview size and make any resize, rotate or\n        // reformatting changes here\n\n        // start preview with new settings\n        try {\n            mCamera.setPreviewDisplay(mHolder);\n            mCamera.startPreview();\n\n        } catch (Exception e){\n            Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><code>MainActivity.java</code>:</p>\n<pre><code>package com.example.customcamera;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.hardware.Camera;\nimport android.os.Bundle;\nimport android.widget.FrameLayout;\n\npublic class MainActivity extends AppCompatActivity {\n    private Camera mCamera;\n    private CameraPreview mPreview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Create an instance of Camera\n        mCamera = getCameraInstance();\n\n        // Create our Preview view and set it as the content of our activity.\n        mPreview = new CameraPreview(this, mCamera);\n        FrameLayout preview = (FrameLayout) findViewById(R.id.camera_preview);\n        preview.addView(mPreview);\n\n    }\n\n    /** A safe way to get an instance of the Camera object. */\n    public static Camera getCameraInstance(){\n        Camera c = null;\n        try {\n            c = Camera.open(); // attempt to get a Camera instance, int between 0 and 1?\n        }\n        catch (Exception e){\n            // Camera is not available (in use or does not exist)\n        }\n        return c; // returns null if camera is unavailable\n    }\n\n}\n</code></pre>\n<p><code>activity_main.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    &gt;\n    &lt;FrameLayout\n        android:id=&quot;@+id/camera_preview&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_capture&quot;\n        android:text=&quot;Capture&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I am using:</p>\n<ul>\n<li>Xiaomi mi 9T, Android version: 10</li>\n<li>Minimum SDK: API 21 (Android 5.0 Lollipop)</li>\n</ul>\n<p>In addition, Kotlin (CameraX) is <strong>not an option</strong> for me.</p>\n<h1>Solution</h1>\n<p>After run, go to app settings -&gt; locate your app -&gt; enable camera permission</p>\n"},{"tags":["java","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633001107,"creation_date":1633001107,"answer_id":69391391,"question_id":69389730,"body_markdown":"&gt;Does that mean I have to create an additional &#39;intermediate&#39; compiler variable and \r\n&gt;place it in the Full Name field with ${compiler:intermediate_full_name_variable}?\r\n\r\nThat is correct.\r\n\r\n&gt;now I have the problem that the localization does not work:\r\n\r\nYou could set the &quot;Full name&quot; field to `${i18:myFullName}` and define a message key &quot;myFullName&quot; that includes a compiler variable, like\r\n\r\nmyFullName=${compiler:productName} Setup Assistant\r\n\r\nYou can then pass `-D productName=Custom name` on the command line.","title":"How can I set the compiler:sys.fullName via command line?","body":"<blockquote>\n<p>Does that mean I have to create an additional 'intermediate' compiler variable and\nplace it in the Full Name field with ${compiler:intermediate_full_name_variable}?</p>\n</blockquote>\n<p>That is correct.</p>\n<blockquote>\n<p>now I have the problem that the localization does not work:</p>\n</blockquote>\n<p>You could set the &quot;Full name&quot; field to <code>${i18:myFullName}</code> and define a message key &quot;myFullName&quot; that includes a compiler variable, like</p>\n<p>myFullName=${compiler:productName} Setup Assistant</p>\n<p>You can then pass <code>-D productName=Custom name</code> on the command line.</p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69391391,"answer_count":1,"score":1,"last_activity_date":1633001107,"creation_date":1632994166,"question_id":69389730,"body_markdown":"I tried the [commmand line option][1]:\r\n\r\n    -D sys.fullName=CustomName\r\n\r\nbut to no effect (empty full name). \r\n\r\nThe help mentions that only variables defined on the &quot;General Settings-&gt;Compiler Variables&quot; step can be overridden like this.\r\n\r\nDoes that mean I have to create an additional &#39;intermediate&#39; compiler variable and place it in the Full Name field with `${compiler:intermediate_full_name_variable}`?\r\n\r\n(v8.0.11)\r\n\r\nI tried the approach with the intermediate compiler variable, but now I have the problem that the localization does not work:\r\n\r\n    -D intermediate_full_name_variable=Custom Name ${i18n:msgkey}\r\n\r\nResults in &quot;Welcome to Custom Name **messages not found** Setup Assistant&quot;. I double checked that the language files and keys exist.\r\n\r\n  [1]: https://www.ej-technologies.com/resources/install4j/help/doc/cli/compiler.html","title":"How can I set the compiler:sys.fullName via command line?","body":"<p>I tried the <a href=\"https://www.ej-technologies.com/resources/install4j/help/doc/cli/compiler.html\" rel=\"nofollow noreferrer\">commmand line option</a>:</p>\n<pre><code>-D sys.fullName=CustomName\n</code></pre>\n<p>but to no effect (empty full name).</p>\n<p>The help mentions that only variables defined on the &quot;General Settings-&gt;Compiler Variables&quot; step can be overridden like this.</p>\n<p>Does that mean I have to create an additional 'intermediate' compiler variable and place it in the Full Name field with <code>${compiler:intermediate_full_name_variable}</code>?</p>\n<p>(v8.0.11)</p>\n<p>I tried the approach with the intermediate compiler variable, but now I have the problem that the localization does not work:</p>\n<pre><code>-D intermediate_full_name_variable=Custom Name ${i18n:msgkey}\n</code></pre>\n<p>Results in &quot;Welcome to Custom Name <strong>messages not found</strong> Setup Assistant&quot;. I double checked that the language files and keys exist.</p>\n"},{"tags":["java","solr","lucene"],"comments":[{"owner":{"account_id":21887295,"reputation":760,"user_id":16174785,"display_name":"nitrin0"},"score":0,"creation_date":1633010648,"post_id":69391294,"comment_id":122652510,"body_markdown":"Is there more (relevant code) to your `PointsConfig` type? I find it weird to see `LONG` and `DATE` being treated the same way.","body":"Is there more (relevant code) to your <code>PointsConfig</code> type? I find it weird to see <code>LONG</code> and <code>DATE</code> being treated the same way."},{"owner":{"account_id":14244914,"reputation":1227,"user_id":10290286,"display_name":"wero026"},"score":0,"creation_date":1633011125,"post_id":69391294,"comment_id":122652736,"body_markdown":"There is no additional code. I guess that there is a special Date NumberFormat class which handles the transformation but couldn&#39;t find out yet.","body":"There is no additional code. I guess that there is a special Date NumberFormat class which handles the transformation but couldn&#39;t find out yet."}],"owner":{"account_id":14244914,"reputation":1227,"user_id":10290286,"display_name":"wero026"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633000715,"creation_date":1633000715,"question_id":69391294,"body_markdown":"I have created a StandardQueryParser to parse my filter queries for search. The parser perfectly parses Numeric range queries and the search provides the expected results. \r\n\r\nBut if I like to query a DateTime String the parser returns an unexpected value, cutting of everthing except the year. Example: `date:[&quot;2021-06-04T18:00:00Z&quot; TO &quot;2021-06-04T19:00:00Z&quot;] -&gt; date:[2021 TO 2021]` where the first is the query on the client and the second is the query after the query parser parses the query.  \r\nThe expected query would be `date:[1622822400 TO 1622826000]`, transformed to the correct epoch timestamp.\r\n\r\nFor the configuration of the PointsConfigMap I used the following code which iterates over the schema and extracts the numeric types.\r\n\r\n```java\r\nprivate void buildQueryParser(SolrCore core) {\r\n    standardQueryParser = new StandardQueryParser(contextFilterQueryAnalyzer);\r\n    Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\r\n    for(var entry : core.getLatestSchema().getFields().entrySet()) {\r\n        var type = entry.getValue().getType();\r\n        if (type.isPointField()) {\r\n            PointsConfig pointsConfig = extractPointsConfig(type);\r\n            if (pointsConfig != null) {\r\n                pointsConfigMap.put(entry.getKey(), pointsConfig);\r\n            }\r\n        }\r\n    }\r\n    standardQueryParser.setPointsConfigMap(pointsConfigMap);\r\n}\r\n\r\nprivate PointsConfig extractPointsConfig(FieldType type) {\r\n    switch (type.getNumberType()) {\r\n        case DATE:\r\n        case LONG:\r\n            return new PointsConfig(new DecimalFormat(), Long.class);\r\n        case INTEGER:\r\n            return new PointsConfig(new DecimalFormat(), Integer.class);\r\n        case FLOAT:\r\n            return new PointsConfig(new DecimalFormat(), Float.class);\r\n        case DOUBLE:\r\n            return new PointsConfig(new DecimalFormat(), Double.class);\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nThe `contextFilterQueryAnalyzer` is initialized as: `new TokenizerChain(new KeywordTokenizerFactory(Collections.EMPTY_MAP), null)`\r\n\r\nHow to configure the StandardQueryParser correctly to parse DateTime Strings into Timestamps?","title":"Lucene StandardQueryParser wrongly parses Date Strings","body":"<p>I have created a StandardQueryParser to parse my filter queries for search. The parser perfectly parses Numeric range queries and the search provides the expected results.</p>\n<p>But if I like to query a DateTime String the parser returns an unexpected value, cutting of everthing except the year. Example: <code>date:[&quot;2021-06-04T18:00:00Z&quot; TO &quot;2021-06-04T19:00:00Z&quot;] -&gt; date:[2021 TO 2021]</code> where the first is the query on the client and the second is the query after the query parser parses the query.<br />\nThe expected query would be <code>date:[1622822400 TO 1622826000]</code>, transformed to the correct epoch timestamp.</p>\n<p>For the configuration of the PointsConfigMap I used the following code which iterates over the schema and extracts the numeric types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void buildQueryParser(SolrCore core) {\n    standardQueryParser = new StandardQueryParser(contextFilterQueryAnalyzer);\n    Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\n    for(var entry : core.getLatestSchema().getFields().entrySet()) {\n        var type = entry.getValue().getType();\n        if (type.isPointField()) {\n            PointsConfig pointsConfig = extractPointsConfig(type);\n            if (pointsConfig != null) {\n                pointsConfigMap.put(entry.getKey(), pointsConfig);\n            }\n        }\n    }\n    standardQueryParser.setPointsConfigMap(pointsConfigMap);\n}\n\nprivate PointsConfig extractPointsConfig(FieldType type) {\n    switch (type.getNumberType()) {\n        case DATE:\n        case LONG:\n            return new PointsConfig(new DecimalFormat(), Long.class);\n        case INTEGER:\n            return new PointsConfig(new DecimalFormat(), Integer.class);\n        case FLOAT:\n            return new PointsConfig(new DecimalFormat(), Float.class);\n        case DOUBLE:\n            return new PointsConfig(new DecimalFormat(), Double.class);\n    }\n    return null;\n}\n</code></pre>\n<p>The <code>contextFilterQueryAnalyzer</code> is initialized as: <code>new TokenizerChain(new KeywordTokenizerFactory(Collections.EMPTY_MAP), null)</code></p>\n<p>How to configure the StandardQueryParser correctly to parse DateTime Strings into Timestamps?</p>\n"},{"tags":["java","excel","apache-poi","formula"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1632997709,"post_id":69388863,"comment_id":122646863,"body_markdown":"Your code is very confusing. What is `CellReference.convertNumToColString(cell)`? `CellReference.convertNumToColString` needs a `int` and not a `Cell`. And why do you set the formula into the cell where you formerly had set the date in? That cannot work at all.","body":"Your code is very confusing. What is <code>CellReference.convertNumToColString(cell)</code>? <code>CellReference.convertNumToColString</code> needs a <code>int</code> and not a <code>Cell</code>. And why do you set the formula into the cell where you formerly had set the date in? That cannot work at all."},{"owner":{"account_id":7256480,"reputation":43,"user_id":5534955,"display_name":"Paul K."},"score":0,"creation_date":1633000599,"post_id":69388863,"comment_id":122647949,"body_markdown":"as stated before the code was simplified and you can rest assured it works in my real code basis where I acutally used cell.getColumnIndex() which I simply forgot while porting my example. I updated the above script to represent the actual code in this regards. It migh seem confusing here, but in my acutal example I deal with variable column and row indexes that are defined within some surrounding loops and as function paramerters. So I needed to evaluate those parameters dynamically. Since it does not realy matter for the core of my issue, I replaced the code with fixed values for now","body":"as stated before the code was simplified and you can rest assured it works in my real code basis where I acutally used cell.getColumnIndex() which I simply forgot while porting my example. I updated the above script to represent the actual code in this regards. It migh seem confusing here, but in my acutal example I deal with variable column and row indexes that are defined within some surrounding loops and as function paramerters. So I needed to evaluate those parameters dynamically. Since it does not realy matter for the core of my issue, I replaced the code with fixed values for now"},{"owner":{"account_id":7256480,"reputation":43,"user_id":5534955,"display_name":"Paul K."},"score":0,"creation_date":1633001262,"post_id":69388863,"comment_id":122648288,"body_markdown":"you are of course right that it should be an int value not cell instance...and it is an int value in my actual code I use: cell.getColumnIndex()\nwas simply a mistake in porting the example / shortening my real code","body":"you are of course right that it should be an int value not cell instance...and it is an int value in my actual code I use: cell.getColumnIndex() was simply a mistake in porting the example / shortening my real code"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632999595,"creation_date":1632999084,"answer_id":69390917,"question_id":69388863,"body_markdown":"This results from a bug in `apache poi` while evaluating [WEEKNUM](https://support.microsoft.com/en-us/office/weeknum-function-e5c43a03-b4ab-426c-b411-b18c13c75340) function.\r\n\r\nIf `[return_type]` is omitted then ist always evaluates to `#VALUE` error. But even if you set `[return_type]` then it evaluates not always correct.\r\n\r\nYou can see this if you do:\r\n\r\n    ...\r\n    FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n    CellValue cellValue = formulaEvaluator.evaluate(formCell);\r\n    System.out.println(cellValue);\r\n    ...\r\n\r\nIf `A1` contains the date `9/27/2021` and `B1` contains the formula `=WEEKNUM(A1)` then `apache poi` `FormulaEvaluator` evaluates this to `#VALUE`. If `B1` contains the formula `=WEEKNUM(A1,1)` then `apache poi` `FormulaEvaluator` evaluates this to `39`, but `Excel` evaluates this to `40`.\r\n\r\nTo work around this bug, one can force `Excel` to calculate all formulas while opening the file. This can be done using `wb.setForceFormulaRecalculation(true);`. Then `Excel` evaluates the formulas and so the results are correct.\r\n\r\nComplete Example to reproduce the issue:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.ss.formula.BaseFormulaEvaluator;\r\n    \r\n    import java.util.GregorianCalendar;\r\n    \r\n    class CreateExcelFormulaWEEKNUM {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n           //Workbook wb  = WorkbookFactory.create(new FileInputStream(&quot;./ExcelIn.xls&quot;)); FileOutputStream fileout = new FileOutputStream(&quot;./ExcelOut.xls&quot;);\r\n           Workbook wb  = WorkbookFactory.create(new FileInputStream(&quot;./ExcelIn.xlsx&quot;)); FileOutputStream fileout = new FileOutputStream(&quot;./ExcelOut.xlsx&quot;);\r\n            ) {\r\n    \r\n       Sheet sheet = wb.getSheetAt(0);\r\n    \r\n       Row row = sheet.getRow(0); if (row == null) row = sheet.createRow(0);\r\n       Cell cell = row.getCell(0); if (cell == null) cell = row.createCell(0);\r\n       cell.setCellValue(new GregorianCalendar(2021, 8, 27));\r\n       CellReference cellReference = new CellReference(cell);\r\n       \r\n       Cell formCell = row.getCell(1); if(formCell == null) formCell = row.createCell(1);\r\n       formCell.setCellFormula(&quot;WEEKNUM(&quot; + cellReference.formatAsString() + &quot;)&quot;); // FormulaEvaluator evaluates to #VALUE because of [return_type] is not set\r\n       //formCell.setCellFormula(&quot;WEEKNUM(&quot; + cellReference.formatAsString() + &quot;, 1)&quot;); // FormulaEvaluator evaluates to 39 which is wrong as Excel evaluates to 40\r\n       \r\n       FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n       CellValue cellValue = formulaEvaluator.evaluate(formCell);\r\n       System.out.println(cellValue);\r\n       \r\n       BaseFormulaEvaluator.evaluateAllFormulaCells(wb);\r\n      \r\n       wb.setForceFormulaRecalculation(true);\r\n    \r\n       wb.write(fileout);\r\n      }\r\n    \r\n     }\r\n    }\r\n\r\n","title":"Formula cell does not get evaluated until formula is focussed and confirmed in Excel (XLSX)","body":"<p>This results from a bug in <code>apache poi</code> while evaluating <a href=\"https://support.microsoft.com/en-us/office/weeknum-function-e5c43a03-b4ab-426c-b411-b18c13c75340\" rel=\"nofollow noreferrer\">WEEKNUM</a> function.</p>\n<p>If <code>[return_type]</code> is omitted then ist always evaluates to <code>#VALUE</code> error. But even if you set <code>[return_type]</code> then it evaluates not always correct.</p>\n<p>You can see this if you do:</p>\n<pre><code>...\nFormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\nCellValue cellValue = formulaEvaluator.evaluate(formCell);\nSystem.out.println(cellValue);\n...\n</code></pre>\n<p>If <code>A1</code> contains the date <code>9/27/2021</code> and <code>B1</code> contains the formula <code>=WEEKNUM(A1)</code> then <code>apache poi</code> <code>FormulaEvaluator</code> evaluates this to <code>#VALUE</code>. If <code>B1</code> contains the formula <code>=WEEKNUM(A1,1)</code> then <code>apache poi</code> <code>FormulaEvaluator</code> evaluates this to <code>39</code>, but <code>Excel</code> evaluates this to <code>40</code>.</p>\n<p>To work around this bug, one can force <code>Excel</code> to calculate all formulas while opening the file. This can be done using <code>wb.setForceFormulaRecalculation(true);</code>. Then <code>Excel</code> evaluates the formulas and so the results are correct.</p>\n<p>Complete Example to reproduce the issue:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.ss.formula.BaseFormulaEvaluator;\n\nimport java.util.GregorianCalendar;\n\nclass CreateExcelFormulaWEEKNUM {\n\n public static void main(String[] args) throws Exception {\n\n  try (\n       //Workbook wb  = WorkbookFactory.create(new FileInputStream(&quot;./ExcelIn.xls&quot;)); FileOutputStream fileout = new FileOutputStream(&quot;./ExcelOut.xls&quot;);\n       Workbook wb  = WorkbookFactory.create(new FileInputStream(&quot;./ExcelIn.xlsx&quot;)); FileOutputStream fileout = new FileOutputStream(&quot;./ExcelOut.xlsx&quot;);\n        ) {\n\n   Sheet sheet = wb.getSheetAt(0);\n\n   Row row = sheet.getRow(0); if (row == null) row = sheet.createRow(0);\n   Cell cell = row.getCell(0); if (cell == null) cell = row.createCell(0);\n   cell.setCellValue(new GregorianCalendar(2021, 8, 27));\n   CellReference cellReference = new CellReference(cell);\n   \n   Cell formCell = row.getCell(1); if(formCell == null) formCell = row.createCell(1);\n   formCell.setCellFormula(&quot;WEEKNUM(&quot; + cellReference.formatAsString() + &quot;)&quot;); // FormulaEvaluator evaluates to #VALUE because of [return_type] is not set\n   //formCell.setCellFormula(&quot;WEEKNUM(&quot; + cellReference.formatAsString() + &quot;, 1)&quot;); // FormulaEvaluator evaluates to 39 which is wrong as Excel evaluates to 40\n   \n   FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\n   CellValue cellValue = formulaEvaluator.evaluate(formCell);\n   System.out.println(cellValue);\n   \n   BaseFormulaEvaluator.evaluateAllFormulaCells(wb);\n  \n   wb.setForceFormulaRecalculation(true);\n\n   wb.write(fileout);\n  }\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":7256480,"reputation":43,"user_id":5534955,"display_name":"Paul K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69390917,"answer_count":1,"score":0,"last_activity_date":1633000651,"creation_date":1632990594,"question_id":69388863,"body_markdown":"So I use Apache POI (poi-ooxml in the latest stable release version 5.0.0) and open an **existing** Excel (XSLX) file for editing (it is basically a template file to populate with additional data). I add multiple new rows of data and export the Excel again. All works fine, as long as I only add regular content cells.\r\n\r\nNow, I have one column where I want to add a formula cell, I use the following (simplified for this example, you can be assured that in general it compiles/runs and generates a populated Excel file at the end) code to do so:\r\n\r\n    File excelFileToRead = new File(&lt;some filename here&gt;);\r\n    InputStream inp = new FileInputStream(excelFileToRead);\r\n\tWorkbook wb = WorkbookFactory.create(inp);\r\n    Sheet sheet = wb.getSheetAt(0);\r\n\tRow dateRangeRow = sheet.getRow(0);\r\n\r\n    // fill first cell with some date\r\n    Cell cell = row.getCell(0);\r\n    if(cell == null) row.createCell(0)\r\n    Date someDate = new Date();\r\n    cell.setCellValue(someDate);\r\n\r\n    // add formula to second cell to display the week number\r\n    Cell formCell = row.getCell(1);\r\n    if(formCell == null) row.createCell(1);\r\n    cell.setCellFormula(&quot;WEEKNUM(A1)&quot;);\r\n    \r\n    // evaluate all formula fields before saving\r\n    XSSFFormulaEvaluator.evaluateAllFormulaCells(wb);\r\n\r\n    //some routine to save as a file follows here, not exactly relevant here\r\n\r\n\r\nIn general, this works fine. The first cell is created and populated with today&#39;s date, the second cell also gets created as a formula cell.\r\n\r\nNow here comes the problem: When I open the Excel spreadsheet, I can see the data and in the formula cell I only see &quot;#WERT&quot; (using German Excel, I assume in the English version it would show something like &quot;#VALUE&quot;).\r\n\r\nWhen I simply click into the fomula editor in Excel and remove the focus again, it evaluates the formula correctly and the cell shows the correct week number.\r\n\r\nI had some issues before with pre-existing formulas in the Excel I read, that they got not updated when I added data to the sheet, but that could be fixed with the call to `XSSFFormulaEvaluator.evaluateAllFormulaCells(wb);`\r\nFor some reason, it does not affect my custom created formula cells.\r\n\r\nI also tried to individually evaluate the newly created formula cells after creation:\r\n\r\n\tFormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n\tformulaEvaluator.evaluateFormulaCell(formCell);\r\n\r\nThis produced no changes here either.\r\n\r\nAny idea what is wrong in my code or approach in general?\r\n\r\nI use Excel version 16.53 (Excel for Mac) by the way, but I really hope it is not related to the exact Excel version :-)\r\n\r\nNote:\r\nI found an old thread (way before POI 5.0.0 has been released) that seemed to discuss the very same issue, but with an older POI Version and also as stated above, I followed the general practice of calling evaluateAllFormulaCells(...) before saving and even called evaluateFormulaCell(cell) after each formula cell creation: https://stackoverflow.com/questions/39418617/apache-poi-formulas-not-evaluating","title":"Formula cell does not get evaluated until formula is focussed and confirmed in Excel (XLSX)","body":"<p>So I use Apache POI (poi-ooxml in the latest stable release version 5.0.0) and open an <strong>existing</strong> Excel (XSLX) file for editing (it is basically a template file to populate with additional data). I add multiple new rows of data and export the Excel again. All works fine, as long as I only add regular content cells.</p>\n<p>Now, I have one column where I want to add a formula cell, I use the following (simplified for this example, you can be assured that in general it compiles/runs and generates a populated Excel file at the end) code to do so:</p>\n<pre><code>File excelFileToRead = new File(&lt;some filename here&gt;);\nInputStream inp = new FileInputStream(excelFileToRead);\nWorkbook wb = WorkbookFactory.create(inp);\nSheet sheet = wb.getSheetAt(0);\nRow dateRangeRow = sheet.getRow(0);\n\n// fill first cell with some date\nCell cell = row.getCell(0);\nif(cell == null) row.createCell(0)\nDate someDate = new Date();\ncell.setCellValue(someDate);\n\n// add formula to second cell to display the week number\nCell formCell = row.getCell(1);\nif(formCell == null) row.createCell(1);\ncell.setCellFormula(&quot;WEEKNUM(A1)&quot;);\n\n// evaluate all formula fields before saving\nXSSFFormulaEvaluator.evaluateAllFormulaCells(wb);\n\n//some routine to save as a file follows here, not exactly relevant here\n</code></pre>\n<p>In general, this works fine. The first cell is created and populated with today's date, the second cell also gets created as a formula cell.</p>\n<p>Now here comes the problem: When I open the Excel spreadsheet, I can see the data and in the formula cell I only see &quot;#WERT&quot; (using German Excel, I assume in the English version it would show something like &quot;#VALUE&quot;).</p>\n<p>When I simply click into the fomula editor in Excel and remove the focus again, it evaluates the formula correctly and the cell shows the correct week number.</p>\n<p>I had some issues before with pre-existing formulas in the Excel I read, that they got not updated when I added data to the sheet, but that could be fixed with the call to <code>XSSFFormulaEvaluator.evaluateAllFormulaCells(wb);</code>\nFor some reason, it does not affect my custom created formula cells.</p>\n<p>I also tried to individually evaluate the newly created formula cells after creation:</p>\n<pre><code>FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\nformulaEvaluator.evaluateFormulaCell(formCell);\n</code></pre>\n<p>This produced no changes here either.</p>\n<p>Any idea what is wrong in my code or approach in general?</p>\n<p>I use Excel version 16.53 (Excel for Mac) by the way, but I really hope it is not related to the exact Excel version :-)</p>\n<p>Note:\nI found an old thread (way before POI 5.0.0 has been released) that seemed to discuss the very same issue, but with an older POI Version and also as stated above, I followed the general practice of calling evaluateAllFormulaCells(...) before saving and even called evaluateFormulaCell(cell) after each formula cell creation: <a href=\"https://stackoverflow.com/questions/39418617/apache-poi-formulas-not-evaluating\">Apache POI formulas not evaluating</a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1633000745,"post_id":69391209,"comment_id":122648026,"body_markdown":"Why do you do `.collect(toList()).stream()`? That does not make sense.","body":"Why do you do <code>.collect(toList()).stream()</code>? That does not make sense."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1633005508,"post_id":69391209,"comment_id":122650055,"body_markdown":"oups, you&#39;re right. I removed .collect(Collectors.toList()).stream() for the same result. I should sleep :)","body":"oups, you&#39;re right. I removed .collect(Collectors.toList()).stream() for the same result. I should sleep :)"}],"answers":[{"tags":[],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633000478,"creation_date":1633000478,"answer_id":69391230,"question_id":69391209,"body_markdown":"I found the answer for point 1 of my question. As it took some time to write the question, I let the question even after solving it. \r\nHere is my implementation. \r\n\r\n        sharePointDriveResponse.getColumns()\r\n                .stream()\r\n                .map(SharePointColumnsResponse::getDisplayName)\r\n                .collect(toList())\r\n                .stream()\r\n                .filter(request.getFields()::containsKey)\r\n                .collect(collectingAndThen(toList(), l -&gt; {\r\n                    if (l.size() != request.getFields().size())\r\n                        throw new RuntimeException(&quot;One column provided doesn&#39;t exist&quot;);\r\n                    return l;\r\n                }));","title":"Make Java API Stream throwing exception","body":"<p>I found the answer for point 1 of my question. As it took some time to write the question, I let the question even after solving it.\nHere is my implementation.</p>\n<pre><code>    sharePointDriveResponse.getColumns()\n            .stream()\n            .map(SharePointColumnsResponse::getDisplayName)\n            .collect(toList())\n            .stream()\n            .filter(request.getFields()::containsKey)\n            .collect(collectingAndThen(toList(), l -&gt; {\n                if (l.size() != request.getFields().size())\n                    throw new RuntimeException(&quot;One column provided doesn't exist&quot;);\n                return l;\n            }));\n</code></pre>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633000478,"creation_date":1633000395,"question_id":69391209,"body_markdown":"I have an object that contains a property which is a List of object that contains 2 string properties. My objective is to compare the keys of this map with another object which contains a String property. \r\n\r\nTo more clear my request contains map: \r\n\r\n    &quot;documentType&quot;: &quot;Document&quot;\r\n    &quot;fields&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;something&quot;,\r\n        &quot;value&quot;: &quot;123456789&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;somethingElse&quot;,\r\n        &quot;value&quot;: &quot;Someone&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;notADocumentColumn&quot;,\r\n        &quot;value&quot;: &quot;shouldThrowException&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;notexistingcolumn&quot;,\r\n        &quot;value&quot;: &quot;not a column&quot;\r\n      }\r\n    ]\r\n\r\n\r\nMy sharePointDriveResponse contains columns: \r\n\r\n    &quot;columns&quot;: [\r\n         {\r\n             &quot;columnGroup&quot;: &quot;Document&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;displayName&quot;: &quot;something&quot;,\r\n             &quot;enforceUniqueValues&quot;: false,\r\n             &quot;hidden&quot;: false,\r\n             &quot;id&quot;: &quot;8553196d-ec8d-4564-9861-xxxxxxxxxxxx&quot;,\r\n             &quot;indexed&quot;: false,\r\n             &quot;name&quot;: &quot;FileLeafRef&quot;,\r\n             &quot;readOnly&quot;: false,\r\n             &quot;required&quot;: true\r\n        },\r\n        {\r\n             &quot;columnGroup&quot;: &quot;Billing or Whatever&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;displayName&quot;: &quot;notADocumentColumn&quot;,\r\n             &quot;enforceUniqueValues&quot;: false,\r\n             &quot;hidden&quot;: false,\r\n             &quot;id&quot;: &quot;3a6b296c-3f50-445c-a13f-xxxxxxxxxxxx&quot;,\r\n             &quot;indexed&quot;: false,\r\n             &quot;name&quot;: &quot;ComplianceAssetId&quot;,\r\n             &quot;readOnly&quot;: true,\r\n             &quot;required&quot;: false,\r\n             &quot;text&quot;: {\r\n                 &quot;allowMultipleLines&quot;: false,\r\n                 &quot;appendChangesToExistingText&quot;: false,\r\n                 &quot;linesForEditing&quot;: 0,\r\n                 &quot;maxLength&quot;: 255\r\n             }\r\n         },\r\n\r\n\r\nAt this stage I implemented something that works fine: \r\n\r\n    List&lt;String&gt; check = sharePointDriveResponse.getColumns()\r\n            .stream()\r\n            .map(SharePointColumnsResponse::getDisplayName)\r\n            .collect(Collectors.toList())\r\n            .stream()\r\n            .filter(request.getFields()::containsKey)\r\n            .collect(Collectors.toList());\r\n\r\n    if(check.size() == request.getFields().size()) {\r\n        System.out.println(&quot;It&#39;s OK !&quot;);\r\n    } else {\r\n        throw new RequestException(&quot;One column provided doesn&#39;t exist&quot;);\r\n    }\r\n\r\nMy issue is the following: \r\n\r\n  1. Would it be possible to throw exception while streaming the data here ? \r\n\r\n\r\n    sharePointDriveResponse.getColumns()\r\n                .stream()\r\n                .map(SharePointColumnsResponse::getDisplayName)\r\n                .collect(Collectors.toList())\r\n                .stream()\r\n                .filter(request.getFields()::containsKey)\r\n                .collect(Collectors.toList());\r\n                // some operator here to throw exception \r\n    \r\n\r\n\r\n  2. My second issue is that i also want to throw exception depending on the content type defined in the request and the content type allowed for the colum in the SharePointDriveResponse. \r\n\r\nIn the sample: I send a request to create a document and I pass a field that is not permitted for a Document, but allowed for another content type. \r\n\r\n    &quot;columnGroup&quot;: &quot;Billing or Whatever&quot;,\r\n    &quot;description&quot;: &quot;&quot;,\r\n    &quot;displayName&quot;: &quot;notADocumentColumn&quot;,\r\n\r\nI&#39;d also like to throw exception for this case. \r\nI could also rebuild a similar stuff as I made previously, but I would loose efficiency for that simple task. \r\n\r\n   3. I also have another case where my &quot;columnGroup&quot; has a value that should be considered as accepted for all content types. Here is the basic partial implementation. \r\n\r\n    List&lt;String&gt; checkColumnsContentType = sharePointDriveResponse.getColumns()\r\n            .stream()\r\n            .map(SharePointColumnsResponse::getColumnGroup)\r\n            .collect(Collectors.toList())\r\n            .stream()\r\n            .filter(request.getFields()::containsKey)\r\n            .collect(Collectors.toList());\r\n\r\n","title":"Make Java API Stream throwing exception","body":"<p>I have an object that contains a property which is a List of object that contains 2 string properties. My objective is to compare the keys of this map with another object which contains a String property.</p>\n<p>To more clear my request contains map:</p>\n<pre><code>&quot;documentType&quot;: &quot;Document&quot;\n&quot;fields&quot;: [\n  {\n    &quot;name&quot;: &quot;something&quot;,\n    &quot;value&quot;: &quot;123456789&quot;\n  },\n  {\n    &quot;name&quot;: &quot;somethingElse&quot;,\n    &quot;value&quot;: &quot;Someone&quot;\n  },\n  {\n    &quot;name&quot;: &quot;notADocumentColumn&quot;,\n    &quot;value&quot;: &quot;shouldThrowException&quot;\n  },\n  {\n    &quot;name&quot;: &quot;notexistingcolumn&quot;,\n    &quot;value&quot;: &quot;not a column&quot;\n  }\n]\n</code></pre>\n<p>My sharePointDriveResponse contains columns:</p>\n<pre><code>&quot;columns&quot;: [\n     {\n         &quot;columnGroup&quot;: &quot;Document&quot;,\n         &quot;description&quot;: &quot;&quot;,\n         &quot;displayName&quot;: &quot;something&quot;,\n         &quot;enforceUniqueValues&quot;: false,\n         &quot;hidden&quot;: false,\n         &quot;id&quot;: &quot;8553196d-ec8d-4564-9861-xxxxxxxxxxxx&quot;,\n         &quot;indexed&quot;: false,\n         &quot;name&quot;: &quot;FileLeafRef&quot;,\n         &quot;readOnly&quot;: false,\n         &quot;required&quot;: true\n    },\n    {\n         &quot;columnGroup&quot;: &quot;Billing or Whatever&quot;,\n         &quot;description&quot;: &quot;&quot;,\n         &quot;displayName&quot;: &quot;notADocumentColumn&quot;,\n         &quot;enforceUniqueValues&quot;: false,\n         &quot;hidden&quot;: false,\n         &quot;id&quot;: &quot;3a6b296c-3f50-445c-a13f-xxxxxxxxxxxx&quot;,\n         &quot;indexed&quot;: false,\n         &quot;name&quot;: &quot;ComplianceAssetId&quot;,\n         &quot;readOnly&quot;: true,\n         &quot;required&quot;: false,\n         &quot;text&quot;: {\n             &quot;allowMultipleLines&quot;: false,\n             &quot;appendChangesToExistingText&quot;: false,\n             &quot;linesForEditing&quot;: 0,\n             &quot;maxLength&quot;: 255\n         }\n     },\n</code></pre>\n<p>At this stage I implemented something that works fine:</p>\n<pre><code>List&lt;String&gt; check = sharePointDriveResponse.getColumns()\n        .stream()\n        .map(SharePointColumnsResponse::getDisplayName)\n        .collect(Collectors.toList())\n        .stream()\n        .filter(request.getFields()::containsKey)\n        .collect(Collectors.toList());\n\nif(check.size() == request.getFields().size()) {\n    System.out.println(&quot;It's OK !&quot;);\n} else {\n    throw new RequestException(&quot;One column provided doesn't exist&quot;);\n}\n</code></pre>\n<p>My issue is the following:</p>\n<ol>\n<li>Would it be possible to throw exception while streaming the data here ?</li>\n</ol>\n<pre><code>sharePointDriveResponse.getColumns()\n            .stream()\n            .map(SharePointColumnsResponse::getDisplayName)\n            .collect(Collectors.toList())\n            .stream()\n            .filter(request.getFields()::containsKey)\n            .collect(Collectors.toList());\n            // some operator here to throw exception \n</code></pre>\n<ol start=\"2\">\n<li>My second issue is that i also want to throw exception depending on the content type defined in the request and the content type allowed for the colum in the SharePointDriveResponse.</li>\n</ol>\n<p>In the sample: I send a request to create a document and I pass a field that is not permitted for a Document, but allowed for another content type.</p>\n<pre><code>&quot;columnGroup&quot;: &quot;Billing or Whatever&quot;,\n&quot;description&quot;: &quot;&quot;,\n&quot;displayName&quot;: &quot;notADocumentColumn&quot;,\n</code></pre>\n<p>I'd also like to throw exception for this case.\nI could also rebuild a similar stuff as I made previously, but I would loose efficiency for that simple task.</p>\n<ol start=\"3\">\n<li>I also have another case where my &quot;columnGroup&quot; has a value that should be considered as accepted for all content types. Here is the basic partial implementation.</li>\n</ol>\n<pre><code>List&lt;String&gt; checkColumnsContentType = sharePointDriveResponse.getColumns()\n        .stream()\n        .map(SharePointColumnsResponse::getColumnGroup)\n        .collect(Collectors.toList())\n        .stream()\n        .filter(request.getFields()::containsKey)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","unit-testing","javabeans"],"comments":[{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1279665760,"post_id":3294959,"comment_id":3412343,"body_markdown":"you could roll your own via reflection","body":"you could roll your own via reflection"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1279671703,"post_id":3294959,"comment_id":3412937,"body_markdown":"If there are problems with your getters and setters and somehow your other (real) tests don&#39;t expose them (i.e. fail) then there are issues with the rest of your test suite","body":"If there are problems with your getters and setters and somehow your other (real) tests don&#39;t expose them (i.e. fail) then there are issues with the rest of your test suite"}],"answers":[{"tags":[],"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279666337,"creation_date":1279666337,"answer_id":3295019,"question_id":3294959,"body_markdown":"If you&#39;re not looking like something more fancy like http://commons.apache.org/validator/ I would recommend to write your own. Personally I don&#39;t like pure data holding objects without any behaviour - it&#39;s not very good design. So if I&#39;m not forced to work with such objects (by working with j2ee f. e.), I try to get rid of them.\r\n","title":"Java bean testing framework","body":"<p>If you're not looking like something more fancy like <a href=\"http://commons.apache.org/validator/\" rel=\"nofollow noreferrer\">http://commons.apache.org/validator/</a> I would recommend to write your own. Personally I don't like pure data holding objects without any behaviour - it's not very good design. So if I'm not forced to work with such objects (by working with j2ee f. e.), I try to get rid of them.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1279666393,"creation_date":1279666393,"answer_id":3295025,"question_id":3294959,"body_markdown":"Personally, I don&#39;t think that&#39;s the hardest part of testing.  It&#39;d be possible to do via reflection, but that&#39;s not what makes testing worthwhile.\r\n\r\nThe hard part is figuring out all the possible inputs, for &quot;happy path&quot; and erroneous situations, making sure that exceptions are thrown when they should be, etc.\r\n\r\nYour Java Bean should be implementing equals and hashCode.  I&#39;d worry more about tests to check the equals contract: null equals, reflexive, symmetric, transitive, and not equals.  Those aren&#39;t trivial.\r\n\r\nGetters and setters are the least of your problems.  When people talk about code coverage standards of 70% or better they often say that getters and setters can be left out.\r\n\r\n\r\n\r\n\r\n","title":"Java bean testing framework","body":"<p>Personally, I don't think that's the hardest part of testing.  It'd be possible to do via reflection, but that's not what makes testing worthwhile.</p>\n\n<p>The hard part is figuring out all the possible inputs, for \"happy path\" and erroneous situations, making sure that exceptions are thrown when they should be, etc.</p>\n\n<p>Your Java Bean should be implementing equals and hashCode.  I'd worry more about tests to check the equals contract: null equals, reflexive, symmetric, transitive, and not equals.  Those aren't trivial.</p>\n\n<p>Getters and setters are the least of your problems.  When people talk about code coverage standards of 70% or better they often say that getters and setters can be left out.</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279666416,"creation_date":1279666416,"answer_id":3295028,"question_id":3294959,"body_markdown":"Take a look at Reflection Test Utilities:\r\n\r\n[http://code.google.com/p/rtu/][1]\r\n\r\nAlthough if you&#39;re testing generated methods (based on fields in a class) it may not be worth it.  \r\n\r\n  [1]: http://code.google.com/p/rtu/","title":"Java bean testing framework","body":"<p>Take a look at Reflection Test Utilities:</p>\n\n<p><a href=\"http://code.google.com/p/rtu/\" rel=\"nofollow noreferrer\">http://code.google.com/p/rtu/</a></p>\n\n<p>Although if you're testing generated methods (based on fields in a class) it may not be worth it.  </p>\n"},{"tags":[],"owner":{"account_id":628887,"reputation":227,"user_id":384494,"display_name":"Michael Bazos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279714519,"creation_date":1279714519,"answer_id":3299036,"question_id":3294959,"body_markdown":"You could try http://oval.sourceforge.net/ Oval it allows you to use annotations on your beans and then execute a validate method.  It&#39;s not fully JSR303 compliant.  If you want to use something fully compliant you should check out the Hibernate Validator.\r\n\r\nLike the post above states definitely check out apache commons validator.","title":"Java bean testing framework","body":"<p>You could try <a href=\"http://oval.sourceforge.net/\" rel=\"nofollow noreferrer\">http://oval.sourceforge.net/</a> Oval it allows you to use annotations on your beans and then execute a validate method.  It's not fully JSR303 compliant.  If you want to use something fully compliant you should check out the Hibernate Validator.</p>\n\n<p>Like the post above states definitely check out apache commons validator.</p>\n"},{"tags":[],"owner":{"account_id":247101,"reputation":1115,"user_id":521615,"display_name":"Franck Valentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299185117,"creation_date":1299185117,"answer_id":5186332,"question_id":3294959,"body_markdown":"I guess this library is the answer to your question:\r\nhttp://outsidemybox.github.com/testUtils/\r\n\r\nit tests all the bean&#39;s initial values, the setters, the getters, hashCode(), equals() and toString().\r\nAll you have to do is define a map of default and non default property/value.\r\n\r\nIt can also test objects that are beans with additional non default constructors.","title":"Java bean testing framework","body":"<p>I guess this library is the answer to your question:\n<a href=\"http://outsidemybox.github.com/testUtils/\" rel=\"nofollow\">http://outsidemybox.github.com/testUtils/</a></p>\n\n<p>it tests all the bean's initial values, the setters, the getters, hashCode(), equals() and toString().\nAll you have to do is define a map of default and non default property/value.</p>\n\n<p>It can also test objects that are beans with additional non default constructors.</p>\n"},{"tags":[],"owner":{"account_id":960817,"reputation":2150,"user_id":985210,"display_name":"orien"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519809975,"creation_date":1364722497,"answer_id":15728162,"question_id":3294959,"body_markdown":"While I agree that there are bigger problems to solve, there are cases for testing Java bean methods. Large teams teams working on large codebases can run into problems. I&#39;ve seen several cases of copy/paste error leading to getters or setters working on the wrong property. Forgetfulness can lead to hashCode and equals methods becoming inconsistent. Finding bugs in this simple code can be very frustrating.\r\n\r\n[Bean Matchers][1] is a library that can help in this regard. It provides a series of Hamcrest matchers for reflectively testing Java beans. For example:\r\n\r\n    @Test\r\n    public void testBean() {\r\n        assertThat(MyBean.class, allOf(\r\n                hasValidBeanConstructor(),\r\n                hasValidGettersAndSetters(),\r\n                hasValidBeanHashCode(),\r\n                hasValidBeanEquals(),\r\n                hasValidBeanToString()\r\n        ));\r\n    }\r\n\r\n\r\n[1]: https://github.com/orien/bean-matchers","title":"Java bean testing framework","body":"<p>While I agree that there are bigger problems to solve, there are cases for testing Java bean methods. Large teams teams working on large codebases can run into problems. I've seen several cases of copy/paste error leading to getters or setters working on the wrong property. Forgetfulness can lead to hashCode and equals methods becoming inconsistent. Finding bugs in this simple code can be very frustrating.</p>\n\n<p><a href=\"https://github.com/orien/bean-matchers\" rel=\"nofollow noreferrer\">Bean Matchers</a> is a library that can help in this regard. It provides a series of Hamcrest matchers for reflectively testing Java beans. For example:</p>\n\n<pre><code>@Test\npublic void testBean() {\n    assertThat(MyBean.class, allOf(\n            hasValidBeanConstructor(),\n            hasValidGettersAndSetters(),\n            hasValidBeanHashCode(),\n            hasValidBeanEquals(),\n            hasValidBeanToString()\n    ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7442031,"reputation":3314,"user_id":5659521,"display_name":"Amit Meena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633000458,"creation_date":1632999987,"answer_id":69391118,"question_id":3294959,"body_markdown":"Answering this in 2021 because sadly, this problem still exists.\r\n\r\nBeans add up to the code base and have a very negative impact if your DevOps pipelines are imposing coverage restrictions on repos. There are two ways to overcome it.\r\n\r\n1. Exclude the beans ( which I would say should not be done).\r\n\r\n2. Write test cases for beans ( which is the most pathetic thing that we as a developer can do to waste our time :( ).\r\n\r\nAnd in most cases, you will end up writing test cases for beans.\r\n\r\nI have written this simple Utility/test case that uses reflection and can allow you to increase the Junit code coverage and save your time.\r\n\r\nBean under test: City\r\n```\r\npackage com.test.beans;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author ameena\r\n *\r\n */\r\npublic class City {\r\n\tprivate int postOffices;\r\n\tprivate int jurdictaionAreas;\r\n\tprivate double areaInSqMeter;\r\n\tprivate long population;\r\n\tprivate List&lt;City&gt; neighbourCities;\r\n\tprivate boolean metro;\r\n\r\n\tpublic int getJurdictaionAreas() {\r\n\t\treturn jurdictaionAreas;\r\n\t}\r\n\r\n\tpublic void setJurdictaionAreas(int jurdictaionAreas) {\r\n\t\tthis.jurdictaionAreas = jurdictaionAreas;\r\n\t}\r\n\r\n\tpublic double getAreaInSqMeter() {\r\n\t\treturn areaInSqMeter;\r\n\t}\r\n\r\n\tpublic void setAreaInSqMeter(double areaInSqMeter) {\r\n\t\tthis.areaInSqMeter = areaInSqMeter;\r\n\t}\r\n\r\n\tpublic long getPopulation() {\r\n\t\treturn population;\r\n\t}\r\n\r\n\tpublic void setPopulation(long population) {\r\n\t\tthis.population = population;\r\n\t}\r\n\r\n\tpublic int getPostOffices() {\r\n\t\treturn postOffices;\r\n\t}\r\n\r\n\tpublic void setPostOffices(int postOffices) {\r\n\t\tthis.postOffices = postOffices;\r\n\t}\r\n\r\n\tpublic List&lt;City&gt; getNeighbourCities() {\r\n\t\treturn neighbourCities;\r\n\t}\r\n\r\n\tpublic void setNeighbourCities(List&lt;City&gt; neighbourCities) {\r\n\t\tthis.neighbourCities = neighbourCities;\r\n\t}\r\n\r\n\tpublic boolean isMetro() {\r\n\t\treturn metro;\r\n\t}\r\n\r\n\tpublic void setMetro(boolean metro) {\r\n\t\tthis.metro = metro;\r\n\t}\r\n}\r\n```\r\n\r\nThe class to automate the bean testing\r\n```\r\n\r\npackage com.test.beans;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\nimport java.beans.IntrospectionException;\r\nimport java.beans.PropertyDescriptor;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\n/**\r\n * @author ameena\r\n *\r\n */\r\nclass BeanTest {\r\n\r\n\tpublic void invokeSetter(Object obj, String propertyName, Object variableValue)\r\n    {\r\n        PropertyDescriptor propDescriptor;\r\n        try {\r\n            propDescriptor = new PropertyDescriptor(propertyName, obj.getClass());\r\n            Method setter = propDescriptor.getWriteMethod();\r\n            try {\r\n                setter.invoke(obj,variableValue);\r\n            } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n            \te.printStackTrace();\r\n            \tfail(e.getMessage());\r\n            }\r\n        } catch (IntrospectionException e) {\r\n            e.printStackTrace();\r\n        \tfail(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    public Object invokeGetter(Object obj, String variableName)\r\n    {\r\n    \tObject returnValue = null;\r\n    \ttry {\r\n            PropertyDescriptor pd = new PropertyDescriptor(variableName, obj.getClass());\r\n            Method getter = pd.getReadMethod();\r\n            returnValue = getter.invoke(obj);\r\n        } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IntrospectionException e) {\r\n        \te.printStackTrace();\r\n        \tfail(e.getMessage());\r\n        }\r\n\t\treturn returnValue;\r\n    }\r\n\r\n\r\n\tprivate &lt;T extends Object&gt; void validateGettersSetters(List&lt;T&gt; objects) {\r\n\t\tfor (T t : objects) {\r\n\t\t\tClass&lt;?&gt; aClass = t.getClass();\r\n\t\t\tfor (java.lang.reflect.Field field : aClass.getDeclaredFields()) {\r\n\t\t\t\tSystem.out.println(field);\r\n\t\t\t\tClass&lt;?&gt; c = field.getType();\r\n\t\t\t\tif (c == String.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), &quot;dummy&quot;);\r\n\t\t\t\t\tassertEquals(&quot;dummy&quot;, (invokeGetter(t, field.getName())));\r\n\t\t\t\t} else if (c == Integer.class || c == int.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1);\r\n\t\t\t\t\tassertEquals(1, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Double.class || c == double.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1d);\r\n\t\t\t\t\tassertEquals(1d, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Long.class || c == long.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1l);\r\n\t\t\t\t\tassertEquals(1l, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Boolean.class || c == boolean.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), true);\r\n\t\t\t\t\tassertEquals(true, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == List.class){\r\n\t\t\t\t\t//Now based on your bean and filed name\r\n\t\t\t\t\tswitch(field.getName()) {\r\n\t\t\t\t\tcase &quot;neighbourCities&quot; :\r\n\t\t\t\t\t\tinvokeSetter(t, field.getName(), new ArrayList&lt;City&gt;());\r\n\t\t\t\t\t\tassertNotNull(invokeGetter(t, field.getName()));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testBean() {\r\n\t\tList&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n\t\tobjects.add(new City());\r\n\t\tvalidateGettersSetters(objects);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNothing fancy, but it saved me for writing test cases for 23 beans :)\r\n\r\nRegards\r\nAmit Meena\r\n\r\n\r\n ","title":"Java bean testing framework","body":"<p>Answering this in 2021 because sadly, this problem still exists.</p>\n<p>Beans add up to the code base and have a very negative impact if your DevOps pipelines are imposing coverage restrictions on repos. There are two ways to overcome it.</p>\n<ol>\n<li><p>Exclude the beans ( which I would say should not be done).</p>\n</li>\n<li><p>Write test cases for beans ( which is the most pathetic thing that we as a developer can do to waste our time :( ).</p>\n</li>\n</ol>\n<p>And in most cases, you will end up writing test cases for beans.</p>\n<p>I have written this simple Utility/test case that uses reflection and can allow you to increase the Junit code coverage and save your time.</p>\n<p>Bean under test: City</p>\n<pre><code>package com.test.beans;\n\nimport java.util.List;\n\n/**\n * @author ameena\n *\n */\npublic class City {\n    private int postOffices;\n    private int jurdictaionAreas;\n    private double areaInSqMeter;\n    private long population;\n    private List&lt;City&gt; neighbourCities;\n    private boolean metro;\n\n    public int getJurdictaionAreas() {\n        return jurdictaionAreas;\n    }\n\n    public void setJurdictaionAreas(int jurdictaionAreas) {\n        this.jurdictaionAreas = jurdictaionAreas;\n    }\n\n    public double getAreaInSqMeter() {\n        return areaInSqMeter;\n    }\n\n    public void setAreaInSqMeter(double areaInSqMeter) {\n        this.areaInSqMeter = areaInSqMeter;\n    }\n\n    public long getPopulation() {\n        return population;\n    }\n\n    public void setPopulation(long population) {\n        this.population = population;\n    }\n\n    public int getPostOffices() {\n        return postOffices;\n    }\n\n    public void setPostOffices(int postOffices) {\n        this.postOffices = postOffices;\n    }\n\n    public List&lt;City&gt; getNeighbourCities() {\n        return neighbourCities;\n    }\n\n    public void setNeighbourCities(List&lt;City&gt; neighbourCities) {\n        this.neighbourCities = neighbourCities;\n    }\n\n    public boolean isMetro() {\n        return metro;\n    }\n\n    public void setMetro(boolean metro) {\n        this.metro = metro;\n    }\n}\n</code></pre>\n<p>The class to automate the bean testing</p>\n<pre><code>\npackage com.test.beans;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.fail;\n\nimport java.beans.IntrospectionException;\nimport java.beans.PropertyDescriptor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.jupiter.api.Test;\n\n/**\n * @author ameena\n *\n */\nclass BeanTest {\n\n    public void invokeSetter(Object obj, String propertyName, Object variableValue)\n    {\n        PropertyDescriptor propDescriptor;\n        try {\n            propDescriptor = new PropertyDescriptor(propertyName, obj.getClass());\n            Method setter = propDescriptor.getWriteMethod();\n            try {\n                setter.invoke(obj,variableValue);\n            } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n                e.printStackTrace();\n                fail(e.getMessage());\n            }\n        } catch (IntrospectionException e) {\n            e.printStackTrace();\n            fail(e.getMessage());\n        }\n\n    }\n\n    public Object invokeGetter(Object obj, String variableName)\n    {\n        Object returnValue = null;\n        try {\n            PropertyDescriptor pd = new PropertyDescriptor(variableName, obj.getClass());\n            Method getter = pd.getReadMethod();\n            returnValue = getter.invoke(obj);\n        } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IntrospectionException e) {\n            e.printStackTrace();\n            fail(e.getMessage());\n        }\n        return returnValue;\n    }\n\n\n    private &lt;T extends Object&gt; void validateGettersSetters(List&lt;T&gt; objects) {\n        for (T t : objects) {\n            Class&lt;?&gt; aClass = t.getClass();\n            for (java.lang.reflect.Field field : aClass.getDeclaredFields()) {\n                System.out.println(field);\n                Class&lt;?&gt; c = field.getType();\n                if (c == String.class) {\n                    invokeSetter(t, field.getName(), &quot;dummy&quot;);\n                    assertEquals(&quot;dummy&quot;, (invokeGetter(t, field.getName())));\n                } else if (c == Integer.class || c == int.class) {\n                    invokeSetter(t, field.getName(), 1);\n                    assertEquals(1, (invokeGetter(t, field.getName())));\n                }else if (c == Double.class || c == double.class) {\n                    invokeSetter(t, field.getName(), 1d);\n                    assertEquals(1d, (invokeGetter(t, field.getName())));\n                }else if (c == Long.class || c == long.class) {\n                    invokeSetter(t, field.getName(), 1l);\n                    assertEquals(1l, (invokeGetter(t, field.getName())));\n                }else if (c == Boolean.class || c == boolean.class) {\n                    invokeSetter(t, field.getName(), true);\n                    assertEquals(true, (invokeGetter(t, field.getName())));\n                }else if (c == List.class){\n                    //Now based on your bean and filed name\n                    switch(field.getName()) {\n                    case &quot;neighbourCities&quot; :\n                        invokeSetter(t, field.getName(), new ArrayList&lt;City&gt;());\n                        assertNotNull(invokeGetter(t, field.getName()));\n                        break;\n                }\n            }\n        }\n    }\n    }\n\n    @Test\n    void testBean() {\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n        objects.add(new City());\n        validateGettersSetters(objects);\n\n    }\n\n}\n</code></pre>\n<p>Nothing fancy, but it saved me for writing test cases for 23 beans :)</p>\n<p>Regards\nAmit Meena</p>\n"}],"owner":{"account_id":11633,"reputation":509,"user_id":22507,"accept_rate":83,"display_name":"Paul Schifferer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8984,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3295025,"answer_count":7,"score":5,"last_activity_date":1633000458,"creation_date":1279665658,"question_id":3294959,"body_markdown":"Is there a framework or library available that, when given a JavaBean, will &quot;put it through its paces,&quot; i.e., test all the getters and setters, validate that a property matches the getters and setters, etc.?\r\n","title":"Java bean testing framework","body":"<p>Is there a framework or library available that, when given a JavaBean, will \"put it through its paces,\" i.e., test all the getters and setters, validate that a property matches the getters and setters, etc.?</p>\n"},{"tags":["java","unit-testing","junit","getter-setter"],"comments":[{"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"score":0,"creation_date":1265574162,"post_id":2218177,"comment_id":2171439,"body_markdown":"what eclipse plug-in are you using to generate the test methods?","body":"what eclipse plug-in are you using to generate the test methods?"},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1265575838,"post_id":2218177,"comment_id":2171555,"body_markdown":"FWIW, the following question tries to set aside the debate and ask if there is a way to do it automatically per your preference - http://stackoverflow.com/questions/108692","body":"FWIW, the following question tries to set aside the debate and ask if there is a way to do it automatically per your preference - <a href=\"http://stackoverflow.com/questions/108692\">stackoverflow.com/questions/108692</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":5,"creation_date":1347677778,"post_id":2218177,"comment_id":16717901,"body_markdown":"The **real** problem here is totally unrelated to unit testing altogether: &quot;*some of my beans r having more then 100 fields*&quot;... for any Java newbies reading this question, please understand this is *terrible* programming. Any class that has 100+ fields has way too much responsibility. See [this](http://stackoverflow.com/questions/4683841/what-is-object-decomposition) if you don&#39;t understand why.","body":"The <b>real</b> problem here is totally unrelated to unit testing altogether: &quot;<i>some of my beans r having more then 100 fields</i>&quot;... for any Java newbies reading this question, please understand this is <i>terrible</i> programming. Any class that has 100+ fields has way too much responsibility. See <a href=\"http://stackoverflow.com/questions/4683841/what-is-object-decomposition\">this</a> if you don&#39;t understand why."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":6,"up_vote_count":30,"is_accepted":false,"score":24,"last_activity_date":1265574202,"creation_date":1265574202,"answer_id":2218190,"question_id":2218177,"body_markdown":"The philosophy of Test Driven Development says &quot;test everything which can possibly break&quot;. That is, focus your efforts on the useful tests, instead of writing tests for just the sake of it.\r\n\r\nGetters and setters are almost always trivial code, which is not worth testing by themselves.\r\n\r\nI know this is not a straight answer to your plea, but I thought it may still help to point this out ;-) So why do you actually need to write tests for all those getters and setters in the first place?","title":"junit test method for getters &amp; setters","body":"<p>The philosophy of Test Driven Development says \"test everything which can possibly break\". That is, focus your efforts on the useful tests, instead of writing tests for just the sake of it.</p>\n\n<p>Getters and setters are almost always trivial code, which is not worth testing by themselves.</p>\n\n<p>I know this is not a straight answer to your plea, but I thought it may still help to point this out ;-) So why do you actually need to write tests for all those getters and setters in the first place?</p>\n"},{"tags":[],"owner":{"account_id":62000,"reputation":5952,"user_id":184456,"accept_rate":88,"display_name":"monojohnny"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1265575961,"creation_date":1265574529,"answer_id":2218207,"question_id":2218177,"body_markdown":"You could perhaps use Apache Commons &#39;beanutils&#39; to help automate this:\r\n\r\nhttp://commons.apache.org/beanutils/apidocs/org/apache/commons/beanutils/PropertyUtils.html#getSimpleProperty%28java.lang.Object,java.lang.String%29\r\n\r\nFor instance there is a method `describe(Object bean)` which will return a map of all the readable attributes (ie, getters).\r\n\r\nThen iterate that map and call:\r\n\r\n    setSimpleProperty(Object bean, String name, Object value)\r\n\r\nand\r\n\r\n    public static Object getSimpleProperty(Object bean, String name)\r\n\r\nAnd although I agree with the other poster than getters/setters are pretty trivial - I think it is still worth testing them - to eliminate typos, test property change listeners etc.\r\n\r\nFor example, this will dynamically extract the getters of a bean:\r\n\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Set;\r\n    import org.apache.commons.beanutils.PropertyUtils;\r\n    \r\n    public class MyTestBean implements Serializable {\r\n        private int a;\r\n        private int b;\r\n        private int c;\r\n        private String x;\r\n        private String y;\r\n        private String z;\r\n        \r\n        public static void main(String[] args) throws Exception {\r\n        MyTestBean bean=new MyTestBean();\r\n        Set prop=PropertyUtils.describe(bean).keySet();\r\n        for (Object o : prop) {\r\n            System.out.println((String)o);\r\n        }\r\n        }\r\n    \r\n        public int getA() {\r\n            return a;\r\n        }\r\n        public void setA(int a) {\r\n            this.a = a;\r\n        }\r\n        public int getB() {\r\n            return b;\r\n        }\r\n        public void setB(int b) {\r\n            this.b = b;\r\n        }\r\n        public int getC() {\r\n            return c;\r\n        }\r\n        public void setC(int c) {\r\n            this.c = c;\r\n        }\r\n        public String getX() {\r\n            return x;\r\n        }\r\n        public void setX(String x) {\r\n            this.x = x;\r\n        }\r\n        public String getY() {\r\n            return y;\r\n        }\r\n        public void setY(String y) {\r\n            this.y = y;\r\n        }\r\n        public String getZ() {\r\n            return z;\r\n        }\r\n        public void setZ(String z) {\r\n            this.z = z;\r\n        }}\r\n\r\nYou will need to download both BeanUtils and CommonsLogging and both libraries&#39; JARs to your project to run this code.","title":"junit test method for getters &amp; setters","body":"<p>You could perhaps use Apache Commons 'beanutils' to help automate this:</p>\n\n<p><a href=\"http://commons.apache.org/beanutils/apidocs/org/apache/commons/beanutils/PropertyUtils.html#getSimpleProperty%28java.lang.Object,java.lang.String%29\" rel=\"noreferrer\">http://commons.apache.org/beanutils/apidocs/org/apache/commons/beanutils/PropertyUtils.html#getSimpleProperty%28java.lang.Object,java.lang.String%29</a></p>\n\n<p>For instance there is a method <code>describe(Object bean)</code> which will return a map of all the readable attributes (ie, getters).</p>\n\n<p>Then iterate that map and call:</p>\n\n<pre><code>setSimpleProperty(Object bean, String name, Object value)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static Object getSimpleProperty(Object bean, String name)\n</code></pre>\n\n<p>And although I agree with the other poster than getters/setters are pretty trivial - I think it is still worth testing them - to eliminate typos, test property change listeners etc.</p>\n\n<p>For example, this will dynamically extract the getters of a bean:</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.Set;\nimport org.apache.commons.beanutils.PropertyUtils;\n\npublic class MyTestBean implements Serializable {\n    private int a;\n    private int b;\n    private int c;\n    private String x;\n    private String y;\n    private String z;\n\n    public static void main(String[] args) throws Exception {\n    MyTestBean bean=new MyTestBean();\n    Set prop=PropertyUtils.describe(bean).keySet();\n    for (Object o : prop) {\n        System.out.println((String)o);\n    }\n    }\n\n    public int getA() {\n        return a;\n    }\n    public void setA(int a) {\n        this.a = a;\n    }\n    public int getB() {\n        return b;\n    }\n    public void setB(int b) {\n        this.b = b;\n    }\n    public int getC() {\n        return c;\n    }\n    public void setC(int c) {\n        this.c = c;\n    }\n    public String getX() {\n        return x;\n    }\n    public void setX(String x) {\n        this.x = x;\n    }\n    public String getY() {\n        return y;\n    }\n    public void setY(String y) {\n        this.y = y;\n    }\n    public String getZ() {\n        return z;\n    }\n    public void setZ(String z) {\n        this.z = z;\n    }}\n</code></pre>\n\n<p>You will need to download both BeanUtils and CommonsLogging and both libraries' JARs to your project to run this code.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1265574853,"creation_date":1265574853,"answer_id":2218223,"question_id":2218177,"body_markdown":"If you have 100 fields in a class (with corresponding setters/getters) I suspect your object model is not decomposed correctly. 100+ fields sounds like an extraordinary number of fields for an object, and I would guess that it has several responsibilities that can be split across a number of more specialised objects.","title":"junit test method for getters &amp; setters","body":"<p>If you have 100 fields in a class (with corresponding setters/getters) I suspect your object model is not decomposed correctly. 100+ fields sounds like an extraordinary number of fields for an object, and I would guess that it has several responsibilities that can be split across a number of more specialised objects.</p>\n"},{"tags":[],"owner":{"account_id":247101,"reputation":1115,"user_id":521615,"display_name":"Franck Valentin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299272855,"creation_date":1299272855,"answer_id":5199270,"question_id":2218177,"body_markdown":"I guess this library is the answer to your question: http://outsidemybox.github.com/testUtils/\r\n\r\nit tests all the bean&#39;s initial values, the setters, the getters, hashCode(), equals() and toString(). All you have to do is define a map of default and non default property/value.\r\n\r\nIt can also test objects that are beans with additional non default constructors.\r\n","title":"junit test method for getters &amp; setters","body":"<p>I guess this library is the answer to your question: <a href=\"http://outsidemybox.github.com/testUtils/\" rel=\"nofollow\">http://outsidemybox.github.com/testUtils/</a></p>\n\n<p>it tests all the bean's initial values, the setters, the getters, hashCode(), equals() and toString(). All you have to do is define a map of default and non default property/value.</p>\n\n<p>It can also test objects that are beans with additional non default constructors.</p>\n"},{"tags":[],"owner":{"account_id":7442031,"reputation":3314,"user_id":5659521,"display_name":"Amit Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633000400,"creation_date":1633000400,"answer_id":69391211,"question_id":2218177,"body_markdown":"Answering this in 2021 because this problem still persists.\r\n\r\nBeans add up to the code base and have a very negative impact if your DevOps pipelines are imposing coverage restrictions on repos. There are two ways to overcome it.\r\n\r\n1. Exclude the beans ( which I would say should not be done).\r\n\r\n2. Write test cases for beans ( which is the most pathetic thing that we as a developer can do to waste our time :( ).\r\n\r\nAnd in most cases, you will end up writing test cases for beans.\r\n\r\nI have written this simple Utility/test case that uses reflection and can allow you to increase the Junit code coverage and save your time.\r\n\r\nBean under test: City\r\n```\r\npackage com.test.beans;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author ameena\r\n *\r\n */\r\npublic class City {\r\n\tprivate int postOffices;\r\n\tprivate int jurdictaionAreas;\r\n\tprivate double areaInSqMeter;\r\n\tprivate long population;\r\n\tprivate List&lt;City&gt; neighbourCities;\r\n\tprivate boolean metro;\r\n\r\n\tpublic int getJurdictaionAreas() {\r\n\t\treturn jurdictaionAreas;\r\n\t}\r\n\r\n\tpublic void setJurdictaionAreas(int jurdictaionAreas) {\r\n\t\tthis.jurdictaionAreas = jurdictaionAreas;\r\n\t}\r\n\r\n\tpublic double getAreaInSqMeter() {\r\n\t\treturn areaInSqMeter;\r\n\t}\r\n\r\n\tpublic void setAreaInSqMeter(double areaInSqMeter) {\r\n\t\tthis.areaInSqMeter = areaInSqMeter;\r\n\t}\r\n\r\n\tpublic long getPopulation() {\r\n\t\treturn population;\r\n\t}\r\n\r\n\tpublic void setPopulation(long population) {\r\n\t\tthis.population = population;\r\n\t}\r\n\r\n\tpublic int getPostOffices() {\r\n\t\treturn postOffices;\r\n\t}\r\n\r\n\tpublic void setPostOffices(int postOffices) {\r\n\t\tthis.postOffices = postOffices;\r\n\t}\r\n\r\n\tpublic List&lt;City&gt; getNeighbourCities() {\r\n\t\treturn neighbourCities;\r\n\t}\r\n\r\n\tpublic void setNeighbourCities(List&lt;City&gt; neighbourCities) {\r\n\t\tthis.neighbourCities = neighbourCities;\r\n\t}\r\n\r\n\tpublic boolean isMetro() {\r\n\t\treturn metro;\r\n\t}\r\n\r\n\tpublic void setMetro(boolean metro) {\r\n\t\tthis.metro = metro;\r\n\t}\r\n}\r\n```\r\n\r\nThe class to automate the bean testing\r\n```\r\n\r\npackage com.test.beans;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\nimport java.beans.IntrospectionException;\r\nimport java.beans.PropertyDescriptor;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\n/**\r\n * @author ameena\r\n *\r\n */\r\nclass BeanTest {\r\n\r\n\tpublic void invokeSetter(Object obj, String propertyName, Object variableValue)\r\n    {\r\n        PropertyDescriptor propDescriptor;\r\n        try {\r\n            propDescriptor = new PropertyDescriptor(propertyName, obj.getClass());\r\n            Method setter = propDescriptor.getWriteMethod();\r\n            try {\r\n                setter.invoke(obj,variableValue);\r\n            } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n            \te.printStackTrace();\r\n            \tfail(e.getMessage());\r\n            }\r\n        } catch (IntrospectionException e) {\r\n            e.printStackTrace();\r\n        \tfail(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    public Object invokeGetter(Object obj, String variableName)\r\n    {\r\n    \tObject returnValue = null;\r\n    \ttry {\r\n            PropertyDescriptor pd = new PropertyDescriptor(variableName, obj.getClass());\r\n            Method getter = pd.getReadMethod();\r\n            returnValue = getter.invoke(obj);\r\n        } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IntrospectionException e) {\r\n        \te.printStackTrace();\r\n        \tfail(e.getMessage());\r\n        }\r\n\t\treturn returnValue;\r\n    }\r\n\r\n\r\n\tprivate &lt;T extends Object&gt; void validateGettersSetters(List&lt;T&gt; objects) {\r\n\t\tfor (T t : objects) {\r\n\t\t\tClass&lt;?&gt; aClass = t.getClass();\r\n\t\t\tfor (java.lang.reflect.Field field : aClass.getDeclaredFields()) {\r\n\t\t\t\tSystem.out.println(field);\r\n\t\t\t\tClass&lt;?&gt; c = field.getType();\r\n\t\t\t\tif (c == String.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), &quot;dummy&quot;);\r\n\t\t\t\t\tassertEquals(&quot;dummy&quot;, (invokeGetter(t, field.getName())));\r\n\t\t\t\t} else if (c == Integer.class || c == int.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1);\r\n\t\t\t\t\tassertEquals(1, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Double.class || c == double.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1d);\r\n\t\t\t\t\tassertEquals(1d, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Long.class || c == long.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), 1l);\r\n\t\t\t\t\tassertEquals(1l, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == Boolean.class || c == boolean.class) {\r\n\t\t\t\t\tinvokeSetter(t, field.getName(), true);\r\n\t\t\t\t\tassertEquals(true, (invokeGetter(t, field.getName())));\r\n\t\t\t\t}else if (c == List.class){\r\n\t\t\t\t\t//Now based on your bean and filed name\r\n\t\t\t\t\tswitch(field.getName()) {\r\n\t\t\t\t\tcase &quot;neighbourCities&quot; :\r\n\t\t\t\t\t\tinvokeSetter(t, field.getName(), new ArrayList&lt;City&gt;());\r\n\t\t\t\t\t\tassertNotNull(invokeGetter(t, field.getName()));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testBean() {\r\n\t\tList&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n\t\tobjects.add(new City());\r\n\t\tvalidateGettersSetters(objects);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNothing fancy, but it saved me for writing test cases for 23 beans :)\r\n\r\nRegards\r\nAmit Meena\r\n\r\n\r\n  ","title":"junit test method for getters &amp; setters","body":"<p>Answering this in 2021 because this problem still persists.</p>\n<p>Beans add up to the code base and have a very negative impact if your DevOps pipelines are imposing coverage restrictions on repos. There are two ways to overcome it.</p>\n<ol>\n<li><p>Exclude the beans ( which I would say should not be done).</p>\n</li>\n<li><p>Write test cases for beans ( which is the most pathetic thing that we as a developer can do to waste our time :( ).</p>\n</li>\n</ol>\n<p>And in most cases, you will end up writing test cases for beans.</p>\n<p>I have written this simple Utility/test case that uses reflection and can allow you to increase the Junit code coverage and save your time.</p>\n<p>Bean under test: City</p>\n<pre><code>package com.test.beans;\n\nimport java.util.List;\n\n/**\n * @author ameena\n *\n */\npublic class City {\n    private int postOffices;\n    private int jurdictaionAreas;\n    private double areaInSqMeter;\n    private long population;\n    private List&lt;City&gt; neighbourCities;\n    private boolean metro;\n\n    public int getJurdictaionAreas() {\n        return jurdictaionAreas;\n    }\n\n    public void setJurdictaionAreas(int jurdictaionAreas) {\n        this.jurdictaionAreas = jurdictaionAreas;\n    }\n\n    public double getAreaInSqMeter() {\n        return areaInSqMeter;\n    }\n\n    public void setAreaInSqMeter(double areaInSqMeter) {\n        this.areaInSqMeter = areaInSqMeter;\n    }\n\n    public long getPopulation() {\n        return population;\n    }\n\n    public void setPopulation(long population) {\n        this.population = population;\n    }\n\n    public int getPostOffices() {\n        return postOffices;\n    }\n\n    public void setPostOffices(int postOffices) {\n        this.postOffices = postOffices;\n    }\n\n    public List&lt;City&gt; getNeighbourCities() {\n        return neighbourCities;\n    }\n\n    public void setNeighbourCities(List&lt;City&gt; neighbourCities) {\n        this.neighbourCities = neighbourCities;\n    }\n\n    public boolean isMetro() {\n        return metro;\n    }\n\n    public void setMetro(boolean metro) {\n        this.metro = metro;\n    }\n}\n</code></pre>\n<p>The class to automate the bean testing</p>\n<pre><code>\npackage com.test.beans;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.fail;\n\nimport java.beans.IntrospectionException;\nimport java.beans.PropertyDescriptor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.jupiter.api.Test;\n\n/**\n * @author ameena\n *\n */\nclass BeanTest {\n\n    public void invokeSetter(Object obj, String propertyName, Object variableValue)\n    {\n        PropertyDescriptor propDescriptor;\n        try {\n            propDescriptor = new PropertyDescriptor(propertyName, obj.getClass());\n            Method setter = propDescriptor.getWriteMethod();\n            try {\n                setter.invoke(obj,variableValue);\n            } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n                e.printStackTrace();\n                fail(e.getMessage());\n            }\n        } catch (IntrospectionException e) {\n            e.printStackTrace();\n            fail(e.getMessage());\n        }\n\n    }\n\n    public Object invokeGetter(Object obj, String variableName)\n    {\n        Object returnValue = null;\n        try {\n            PropertyDescriptor pd = new PropertyDescriptor(variableName, obj.getClass());\n            Method getter = pd.getReadMethod();\n            returnValue = getter.invoke(obj);\n        } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IntrospectionException e) {\n            e.printStackTrace();\n            fail(e.getMessage());\n        }\n        return returnValue;\n    }\n\n\n    private &lt;T extends Object&gt; void validateGettersSetters(List&lt;T&gt; objects) {\n        for (T t : objects) {\n            Class&lt;?&gt; aClass = t.getClass();\n            for (java.lang.reflect.Field field : aClass.getDeclaredFields()) {\n                System.out.println(field);\n                Class&lt;?&gt; c = field.getType();\n                if (c == String.class) {\n                    invokeSetter(t, field.getName(), &quot;dummy&quot;);\n                    assertEquals(&quot;dummy&quot;, (invokeGetter(t, field.getName())));\n                } else if (c == Integer.class || c == int.class) {\n                    invokeSetter(t, field.getName(), 1);\n                    assertEquals(1, (invokeGetter(t, field.getName())));\n                }else if (c == Double.class || c == double.class) {\n                    invokeSetter(t, field.getName(), 1d);\n                    assertEquals(1d, (invokeGetter(t, field.getName())));\n                }else if (c == Long.class || c == long.class) {\n                    invokeSetter(t, field.getName(), 1l);\n                    assertEquals(1l, (invokeGetter(t, field.getName())));\n                }else if (c == Boolean.class || c == boolean.class) {\n                    invokeSetter(t, field.getName(), true);\n                    assertEquals(true, (invokeGetter(t, field.getName())));\n                }else if (c == List.class){\n                    //Now based on your bean and filed name\n                    switch(field.getName()) {\n                    case &quot;neighbourCities&quot; :\n                        invokeSetter(t, field.getName(), new ArrayList&lt;City&gt;());\n                        assertNotNull(invokeGetter(t, field.getName()));\n                        break;\n                }\n            }\n        }\n    }\n    }\n\n    @Test\n    void testBean() {\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n        objects.add(new City());\n        validateGettersSetters(objects);\n\n    }\n\n}\n</code></pre>\n<p>Nothing fancy, but it saved me for writing test cases for 23 beans :)</p>\n<p>Regards\nAmit Meena</p>\n"}],"owner":{"account_id":96232,"reputation":61,"user_id":261669,"display_name":"Girish Bhatt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26079,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1633000400,"creation_date":1265574005,"question_id":2218177,"body_markdown":"I have many java beans in my project. I need to generate a JUnit Test class for them. The test methods generated using Eclipse 3.2 &amp; junit 4.4 look like the following:\r\n\r\n    public void testGetName() {\r\n            // fail(&quot;Not yet implemented&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testSetName() {\r\n            // fail(&quot;Not yet implemented&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testGetEmployeeid() {\r\n            // fail(&quot;Not yet implemented&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testSetEmployeeid() {\r\n            // fail(&quot;Not yet implemented&quot;);\r\n        }\r\n\r\nsome of my beans have more than 100 fields...\r\n\r\n\r\nIs there a way by which I can get a single test method for both the getters &amp; setters like  `testEmployeeid()`, `testName()` so that in these methods I can test both my setters &amp; getters rather than using 2 diff. test methods for them...\r\n\r\nHow should I configure eclipse to do this?\r\n","title":"junit test method for getters &amp; setters","body":"<p>I have many java beans in my project. I need to generate a JUnit Test class for them. The test methods generated using Eclipse 3.2 &amp; junit 4.4 look like the following:</p>\n\n<pre><code>public void testGetName() {\n        // fail(\"Not yet implemented\");\n    }\n\n    @Test\n    public void testSetName() {\n        // fail(\"Not yet implemented\");\n    }\n\n    @Test\n    public void testGetEmployeeid() {\n        // fail(\"Not yet implemented\");\n    }\n\n    @Test\n    public void testSetEmployeeid() {\n        // fail(\"Not yet implemented\");\n    }\n</code></pre>\n\n<p>some of my beans have more than 100 fields...</p>\n\n<p>Is there a way by which I can get a single test method for both the getters &amp; setters like  <code>testEmployeeid()</code>, <code>testName()</code> so that in these methods I can test both my setters &amp; getters rather than using 2 diff. test methods for them...</p>\n\n<p>How should I configure eclipse to do this?</p>\n"},{"tags":["java","build","dependencies","repository","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633008338,"post_id":69386811,"comment_id":122651372,"body_markdown":"I recommend to read the docs about repositories in settings.xml https://maven.apache.org/settings.html#Repositories","body":"I recommend to read the docs about repositories in settings.xml <a href=\"https://maven.apache.org/settings.html#Repositories\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html#Repositories</a>"}],"answers":[{"tags":[],"owner":{"account_id":22838455,"reputation":147,"user_id":16985882,"display_name":"Jelemux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632985343,"creation_date":1632985343,"answer_id":69387603,"question_id":69386811,"body_markdown":"Maven searches your snapshot repository for releases.  \r\nTo disable that behaviour, add the following to the snapshot repository in your `settings.xml` and see if it works:\r\n\r\n```xml\r\n&lt;releases&gt;\r\n    &lt;enabled&gt;false&lt;/enabled&gt;\r\n&lt;/releases&gt;\r\n```\r\n\r\n[source][1]\r\n\r\nAlso, adding Artifactory as a [mirror][2] instead of a repository should be better. Though I don&#39;t know how you&#39;d add snapshots that way.\r\n\r\n\r\n  [1]: https://smarterco.de/java-maven-add-snapshot-repository-to-pom/\r\n  [2]: https://maven.apache.org/guides/mini/guide-mirror-settings.html","title":"Maven searching artifacts only in SNAPSHOT repository","body":"<p>Maven searches your snapshot repository for releases.<br />\nTo disable that behaviour, add the following to the snapshot repository in your <code>settings.xml</code> and see if it works:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;releases&gt;\n    &lt;enabled&gt;false&lt;/enabled&gt;\n&lt;/releases&gt;\n</code></pre>\n<p><a href=\"https://smarterco.de/java-maven-add-snapshot-repository-to-pom/\" rel=\"nofollow noreferrer\">source</a></p>\n<p>Also, adding Artifactory as a <a href=\"https://maven.apache.org/guides/mini/guide-mirror-settings.html\" rel=\"nofollow noreferrer\">mirror</a> instead of a repository should be better. Though I don't know how you'd add snapshots that way.</p>\n"},{"tags":[],"owner":{"account_id":5138539,"reputation":1040,"user_id":4116583,"accept_rate":71,"display_name":"hublo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632999478,"creation_date":1632999478,"answer_id":69391001,"question_id":69386811,"body_markdown":"Ok, found it !!\r\nSeems that from Maven 3.5.0 onward, having a server id called `central` in `settings.xml` is causing problem with the official Maven Central Repository which is as well called `central`.","title":"Maven searching artifacts only in SNAPSHOT repository","body":"<p>Ok, found it !!\nSeems that from Maven 3.5.0 onward, having a server id called <code>central</code> in <code>settings.xml</code> is causing problem with the official Maven Central Repository which is as well called <code>central</code>.</p>\n"}],"owner":{"account_id":5138539,"reputation":1040,"user_id":4116583,"accept_rate":71,"display_name":"hublo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69391001,"answer_count":2,"score":0,"last_activity_date":1632999478,"creation_date":1632981036,"question_id":69386811,"body_markdown":"I have a Maven project which contains the following `dependencyManagement` section:\r\n\r\n    &lt;dependencyManagement&gt;\r\n     \t\t&lt;dependency&gt;\r\n     \t\t\t&lt;groupId&gt;myGroup&lt;/groupId&gt;\r\n     \t\t\t&lt;artifactId&gt;myBom&lt;/artifactId&gt;\r\n     \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n     \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n     \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n     \t\t&lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nIn my Maven `settings.xml` file, I have the following `repositories` definition:\r\n\r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;public&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;&lt;pathToArtifactory&gt;/public&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;public-snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;&lt;pathToArtifactory&gt;/public-snapshots&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nHowever, I keep getting the following error message:\r\n\r\n    Project Build error: Non-resolvable import POM: Could not find artifact myGroup:myBom:pom:1.0.0 in snapshots (&lt;pathToArtifactory&gt;/public-snapshots)\r\n\r\nAfter having ran a `mvn dependency:list-repositories`, I can confirm the repositories are correctly defined, and not somewhere overriden.\r\n\r\nWhy is Maven looking for a `1.0.0` Version into my SNAPSHOT defined repository?\r\n","title":"Maven searching artifacts only in SNAPSHOT repository","body":"<p>I have a Maven project which contains the following <code>dependencyManagement</code> section:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;myGroup&lt;/groupId&gt;\n            &lt;artifactId&gt;myBom&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>In my Maven <code>settings.xml</code> file, I have the following <code>repositories</code> definition:</p>\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;public&lt;/name&gt;\n            &lt;url&gt;&lt;pathToArtifactory&gt;/public&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;public-snapshots&lt;/name&gt;\n            &lt;url&gt;&lt;pathToArtifactory&gt;/public-snapshots&lt;/url&gt;\n        &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>However, I keep getting the following error message:</p>\n<pre><code>Project Build error: Non-resolvable import POM: Could not find artifact myGroup:myBom:pom:1.0.0 in snapshots (&lt;pathToArtifactory&gt;/public-snapshots)\n</code></pre>\n<p>After having ran a <code>mvn dependency:list-repositories</code>, I can confirm the repositories are correctly defined, and not somewhere overriden.</p>\n<p>Why is Maven looking for a <code>1.0.0</code> Version into my SNAPSHOT defined repository?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":8482050,"reputation":189,"user_id":6361501,"display_name":"Srinivas Jill"},"score":0,"creation_date":1632768047,"post_id":68653109,"comment_id":122577499,"body_markdown":"any luck with the above exception. I have a similar exception and to my surprise things are working in firefox but not in chrome . Its exactly the same issue what you are facing.","body":"any luck with the above exception. I have a similar exception and to my surprise things are working in firefox but not in chrome . Its exactly the same issue what you are facing."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1632768391,"post_id":68653109,"comment_id":122577619,"body_markdown":"Are you using IPv6 anywhere?","body":"Are you using IPv6 anywhere?"},{"owner":{"account_id":8482050,"reputation":189,"user_id":6361501,"display_name":"Srinivas Jill"},"score":0,"creation_date":1632810075,"post_id":68653109,"comment_id":122586334,"body_markdown":"Yes in my local .  This is the issue . https://github.com/spring-cloud/spring-cloud-gateway/pull/2217","body":"Yes in my local .  This is the issue . <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/pull/2217\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/pull/2217</a>"}],"answers":[{"tags":[],"owner":{"account_id":8482050,"reputation":189,"user_id":6361501,"display_name":"Srinivas Jill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632999087,"creation_date":1632999087,"answer_id":69390919,"question_id":68653109,"body_markdown":"The issue is resolved with \r\n\r\n&gt; Spring gateway version 3.0.4 \r\n\r\nwhich you can get from \r\n\r\n&gt; org.springframework.cloud:spring-cloud-dependencies:2020.0.4","title":"Spring Cloud Gateway Invalid IPv4 address","body":"<p>The issue is resolved with</p>\n<blockquote>\n<p>Spring gateway version 3.0.4</p>\n</blockquote>\n<p>which you can get from</p>\n<blockquote>\n<p>org.springframework.cloud:spring-cloud-dependencies:2020.0.4</p>\n</blockquote>\n"}],"owner":{"account_id":4313493,"reputation":381,"user_id":3524012,"accept_rate":50,"display_name":"macskay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632999087,"creation_date":1628087503,"question_id":68653109,"body_markdown":"I have the following setup:\r\n - Spring Cloud Gateway on Port 8080\r\n  - Routing /user to Spring Rest API (Called User) on Port 9000\r\n  - Routing /character to Spring Rest API (Called Character) on Port 9001\r\n - Spring Cloud Config Server on Port 8090\r\n\r\nThe Gateway and the two Rest API applications are connected to the Cloud Config to pull the configs. The applications themselves start up correctly and can be used via their respective ports. I tested this by calling /swagger-ui.html which works fine.\r\n\r\nWhen calling /actuator/gateway/routes I get a list of the routes of the gateway, which seem fine. \r\n\r\nFor all four applications I set up:\r\n```\r\nserver:\r\n  address: 0.0.0.0\r\n  port: 8080 # ports are adjusted for each service\r\n  forward-headers-strategy: framework\r\n```\r\nWhen I did not use the Spring Cloud Config Server the Gateway was running fine. Now I&#39;m receiving the following error whenever calling either /user/swagger-ui.html or /character/swagger-ui.html\r\n```\r\njava.lang.IllegalArgumentException: Invalid IPv4 address: 0:0:0:0:0:0:0:1:60979\r\n\tat org.springframework.web.util.UriComponentsBuilder.parseForwardedFor(UriComponentsBuilder.java:363) ~[spring-web-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.filter.ForwardedHeaderFilter$ForwardedHeaderExtractingRequest.&lt;init&gt;(ForwardedHeaderFilter.java:246) ~[spring-web-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.filter.ForwardedHeaderFilter.doFilterInternal(ForwardedHeaderFilter.java:149) ~[spring-web-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n```\r\n\r\nTried changing `forward-headers-strategy` to `native` which did not help either. I dug into the UriComponentBuilder and set some breakpoints to investigate the variables in their and I suspect request.headers[&quot;forwarded&quot;] is the reason it fails:\r\n\r\n[![Breakpoint just before the Exception is thrown][1]][1]\r\n\r\nIt tries to resolve the &quot;for&quot; inside the variable which is not a IPv4 address and thus fails. Forcing ipv4 with &quot;server.address&quot; seemed to work before using Spring Cloud Config, does not now, however. Has anyone come across the same issue and knows what am I supposed to do to get rid off this exception?\r\n\r\nSo all in all the routing itself seems to work, as it routes to the correct application. The application itself (User in this case) throws the error, not the Gateway.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jnpMS.png","title":"Spring Cloud Gateway Invalid IPv4 address","body":"<p>I have the following setup:</p>\n<ul>\n<li>Spring Cloud Gateway on Port 8080</li>\n<li>Routing /user to Spring Rest API (Called User) on Port 9000</li>\n<li>Routing /character to Spring Rest API (Called Character) on Port 9001</li>\n<li>Spring Cloud Config Server on Port 8090</li>\n</ul>\n<p>The Gateway and the two Rest API applications are connected to the Cloud Config to pull the configs. The applications themselves start up correctly and can be used via their respective ports. I tested this by calling /swagger-ui.html which works fine.</p>\n<p>When calling /actuator/gateway/routes I get a list of the routes of the gateway, which seem fine.</p>\n<p>For all four applications I set up:</p>\n<pre><code>server:\n  address: 0.0.0.0\n  port: 8080 # ports are adjusted for each service\n  forward-headers-strategy: framework\n</code></pre>\n<p>When I did not use the Spring Cloud Config Server the Gateway was running fine. Now I'm receiving the following error whenever calling either /user/swagger-ui.html or /character/swagger-ui.html</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid IPv4 address: 0:0:0:0:0:0:0:1:60979\n    at org.springframework.web.util.UriComponentsBuilder.parseForwardedFor(UriComponentsBuilder.java:363) ~[spring-web-5.3.8.jar:5.3.8]\n    at org.springframework.web.filter.ForwardedHeaderFilter$ForwardedHeaderExtractingRequest.&lt;init&gt;(ForwardedHeaderFilter.java:246) ~[spring-web-5.3.8.jar:5.3.8]\n    at org.springframework.web.filter.ForwardedHeaderFilter.doFilterInternal(ForwardedHeaderFilter.java:149) ~[spring-web-5.3.8.jar:5.3.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n</code></pre>\n<p>Tried changing <code>forward-headers-strategy</code> to <code>native</code> which did not help either. I dug into the UriComponentBuilder and set some breakpoints to investigate the variables in their and I suspect request.headers[&quot;forwarded&quot;] is the reason it fails:</p>\n<p><a href=\"https://i.stack.imgur.com/jnpMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jnpMS.png\" alt=\"Breakpoint just before the Exception is thrown\" /></a></p>\n<p>It tries to resolve the &quot;for&quot; inside the variable which is not a IPv4 address and thus fails. Forcing ipv4 with &quot;server.address&quot; seemed to work before using Spring Cloud Config, does not now, however. Has anyone come across the same issue and knows what am I supposed to do to get rid off this exception?</p>\n<p>So all in all the routing itself seems to work, as it routes to the correct application. The application itself (User in this case) throws the error, not the Gateway.</p>\n"},{"tags":["java","android-studio","location","android-permissions","geocoder"],"owner":{"account_id":22885795,"reputation":11,"user_id":17026695,"display_name":"Android dev mrbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632998977,"creation_date":1632998977,"question_id":69390886,"body_markdown":"I am developing an application that allows to retrieve the current location address using Geocoder.\r\nthis is the step to get location adresse that i follow :\r\n\r\n 1. check if GPS is enable on device \r\n \r\n 2. if it is request Location permissionspermissions else if GPS is disable on device request enable it than request permission\r\n 3. initialise Geocoder and get adresse latitude and logitude the get Adresse \r\n\r\nif the GPS is Enable before clicking on button to get Location EveryThing work fine .\r\nbut the problem is when the GPS is disable whene clicking on button to get Location even if the app request to enable it and it will be enable i get this error message \r\n**java.lang.NullPointerException: Attempt to invoke virtual method &#39;double android.location.Location.getLatitude()&#39; on a null object reference**\r\n\r\ncode that i used \r\n\r\n&gt; Onclick Methode (test if GPS enabled than call getLocation Methode)\r\n\r\n            locationButton.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.M)\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Check permissions\r\n                locationRequest = LocationRequest.create();\r\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                locationRequest.setInterval(5000);\r\n                locationRequest.setFastestInterval(2000);\r\n\r\n                LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                        .addLocationRequest(locationRequest);\r\n                builder.setAlwaysShow(true);\r\n\r\n                Task&lt;LocationSettingsResponse&gt; result = LocationServices.getSettingsClient(getApplicationContext())\r\n                        .checkLocationSettings(builder.build());\r\n\r\n                result.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\r\n\r\n                        try {\r\n                            LocationSettingsResponse response = task.getResult(ApiException.class);\r\n                            Toast.makeText(HomeActivity.this, &quot;GPS is already tured on&quot; + response, Toast.LENGTH_SHORT).show();\r\n                            getCurrentLocation();\r\n                        } catch (ApiException e) {\r\n                            switch (e.getStatusCode()) {\r\n                                case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\r\n                                    try {\r\n                                        ResolvableApiException resolvableApiException = (ResolvableApiException) e;\r\n                                        resolvableApiException.startResolutionForResult(HomeActivity.this, REQUEST_CHECK_SETTINGS);\r\n                                    } catch (IntentSender.SendIntentException ex) {\r\n                                       ex.printStackTrace();\r\n\r\n                                    }\r\n                                    break;\r\n\r\n                                case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\r\n                                    //Device does not have location\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n&gt; GetLocation methode \r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private void getCurrentLocation() {\r\n\r\n        int picd = 0;\r\n        if (picd == 0) {\r\n            if (!checkLocationFinePermission() || !checkLocationCoarsePermission() ) {\r\n                requestLocationPermission();\r\n            } else {\r\n                fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n\r\n                        try {\r\n                            //initialize geoCoder\r\n                            Location location = task.getResult();\r\n                            Geocoder geocoder = new Geocoder(HomeActivity.this\r\n                                    , Locale.getDefault());\r\n\r\n                            //initialize adresse\r\n                            List&lt;Address&gt; addresses = geocoder.getFromLocation(\r\n                                    location.getLatitude(), location.getLongitude(), 1\r\n                            );\r\n\r\n                            //setAdresse\r\n                            adresseEditText.setText(addresses.get(0).getAddressLine(0));\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            Log.i(&quot;TAG&quot;, &quot;onComplete: &quot; + e);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n","title":"want get curent Adresse Location","body":"<p>I am developing an application that allows to retrieve the current location address using Geocoder.\nthis is the step to get location adresse that i follow :</p>\n<ol>\n<li><p>check if GPS is enable on device</p>\n</li>\n<li><p>if it is request Location permissionspermissions else if GPS is disable on device request enable it than request permission</p>\n</li>\n<li><p>initialise Geocoder and get adresse latitude and logitude the get Adresse</p>\n</li>\n</ol>\n<p>if the GPS is Enable before clicking on button to get Location EveryThing work fine .\nbut the problem is when the GPS is disable whene clicking on button to get Location even if the app request to enable it and it will be enable i get this error message\n<strong>java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLatitude()' on a null object reference</strong></p>\n<p>code that i used</p>\n<blockquote>\n<p>Onclick Methode (test if GPS enabled than call getLocation Methode)</p>\n</blockquote>\n<pre><code>        locationButton.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.M)\n        @Override\n        public void onClick(View view) {\n            //Check permissions\n            locationRequest = LocationRequest.create();\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n            locationRequest.setInterval(5000);\n            locationRequest.setFastestInterval(2000);\n\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                    .addLocationRequest(locationRequest);\n            builder.setAlwaysShow(true);\n\n            Task&lt;LocationSettingsResponse&gt; result = LocationServices.getSettingsClient(getApplicationContext())\n                    .checkLocationSettings(builder.build());\n\n            result.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\n\n                    try {\n                        LocationSettingsResponse response = task.getResult(ApiException.class);\n                        Toast.makeText(HomeActivity.this, &quot;GPS is already tured on&quot; + response, Toast.LENGTH_SHORT).show();\n                        getCurrentLocation();\n                    } catch (ApiException e) {\n                        switch (e.getStatusCode()) {\n                            case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\n                                try {\n                                    ResolvableApiException resolvableApiException = (ResolvableApiException) e;\n                                    resolvableApiException.startResolutionForResult(HomeActivity.this, REQUEST_CHECK_SETTINGS);\n                                } catch (IntentSender.SendIntentException ex) {\n                                   ex.printStackTrace();\n\n                                }\n                                break;\n\n                            case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\n                                //Device does not have location\n                                break;\n                        }\n                    }\n                }\n            });\n        }\n    });\n</code></pre>\n<blockquote>\n<p>GetLocation methode</p>\n</blockquote>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\nprivate void getCurrentLocation() {\n\n    int picd = 0;\n    if (picd == 0) {\n        if (!checkLocationFinePermission() || !checkLocationCoarsePermission() ) {\n            requestLocationPermission();\n        } else {\n            fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\n\n                    try {\n                        //initialize geoCoder\n                        Location location = task.getResult();\n                        Geocoder geocoder = new Geocoder(HomeActivity.this\n                                , Locale.getDefault());\n\n                        //initialize adresse\n                        List&lt;Address&gt; addresses = geocoder.getFromLocation(\n                                location.getLatitude(), location.getLongitude(), 1\n                        );\n\n                        //setAdresse\n                        adresseEditText.setText(addresses.get(0).getAddressLine(0));\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        Log.i(&quot;TAG&quot;, &quot;onComplete: &quot; + e);\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n"},{"tags":["java","angular","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3455718,"reputation":102,"user_id":2894291,"display_name":"Josef Vesel&#253;"},"score":1,"creation_date":1644324023,"post_id":69390694,"comment_id":125571286,"body_markdown":"It is not enough. I suggest going through https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html","body":"It is not enough. I suggest going through <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">cheatsheetseries.owasp.org/cheatsheets/&hellip;</a>"}],"owner":{"account_id":7102942,"reputation":363,"user_id":5433713,"display_name":"Pavlo Stepura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632998175,"creation_date":1632998175,"question_id":69390694,"body_markdown":"Our team is developing a project in Angular (FE) + Java/SpringBoot (BE) REST service.\r\nAngular app consists of defferent forms to fill, then the data is sent to BE.\r\n\r\nWe are on the stage of going live and have a list of rules to implement from our security team.\r\nOne of the rules is:\r\n\r\n     The application protects against template injection\r\n     attacks by ensuring that any user input being included is sanitized or sandboxed.\r\n\r\nWe already added `.xssProtection()` to our Spring configuration.\r\n\r\nDo we need to additionally escape HTML characters in all messages like in example below? What are best practises in Spring to sanitize the input? Or adding the `.xssProtection()` to Spring Security config is actually enough?\r\n\r\n    @Bean\r\n    public HttpMessageConverter&lt;Object&gt; jsonConverter() {\r\n        StringDeserializer sanitizedStringSerializer = new StringDeserializer() {\r\n            @Override\r\n            public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n                String deserializedValue = super.deserialize(p, ctxt);\r\n                return StringEscapeUtils.escapeHtml4(deserializedValue);\r\n            }\r\n        };\r\n\r\n        ObjectMapper objectMapper = Jackson2ObjectMapperBuilder\r\n                .json()\r\n                .deserializerByType(String.class, sanitizedStringSerializer)\r\n                .build();\r\n        return new MappingJackson2HttpMessageConverter(objectMapper);\r\n    }","title":"How to sanitize or sandbox user input with Angular and Spring Boot RESTful Api","body":"<p>Our team is developing a project in Angular (FE) + Java/SpringBoot (BE) REST service.\nAngular app consists of defferent forms to fill, then the data is sent to BE.</p>\n<p>We are on the stage of going live and have a list of rules to implement from our security team.\nOne of the rules is:</p>\n<pre><code> The application protects against template injection\n attacks by ensuring that any user input being included is sanitized or sandboxed.\n</code></pre>\n<p>We already added <code>.xssProtection()</code> to our Spring configuration.</p>\n<p>Do we need to additionally escape HTML characters in all messages like in example below? What are best practises in Spring to sanitize the input? Or adding the <code>.xssProtection()</code> to Spring Security config is actually enough?</p>\n<pre><code>@Bean\npublic HttpMessageConverter&lt;Object&gt; jsonConverter() {\n    StringDeserializer sanitizedStringSerializer = new StringDeserializer() {\n        @Override\n        public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n            String deserializedValue = super.deserialize(p, ctxt);\n            return StringEscapeUtils.escapeHtml4(deserializedValue);\n        }\n    };\n\n    ObjectMapper objectMapper = Jackson2ObjectMapperBuilder\n            .json()\n            .deserializerByType(String.class, sanitizedStringSerializer)\n            .build();\n    return new MappingJackson2HttpMessageConverter(objectMapper);\n}\n</code></pre>\n"},{"tags":["java","selenium","click"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632988207,"creation_date":1632987560,"answer_id":69388121,"question_id":69388097,"body_markdown":"Your xpath is wrong.\r\n\r\nYou are using \r\n\r\n    //div[text()=&#39;sign in&#39;]\r\n\r\nbut it should be \r\n\r\n    //div[text()=&#39;Sign in&#39;]\r\n\r\nNote that character in **xpath** are **case sensitive**. \r\n\r\nThe HTML is a part of Angular website, Please induce explicit waits \r\n\r\n    new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[text()=&#39;Sign in&#39;]&quot;))).click();","title":"How can I click on the text ? I have only class in this in selenium with java","body":"<p>Your xpath is wrong.</p>\n<p>You are using</p>\n<pre><code>//div[text()='sign in']\n</code></pre>\n<p>but it should be</p>\n<pre><code>//div[text()='Sign in']\n</code></pre>\n<p>Note that character in <strong>xpath</strong> are <strong>case sensitive</strong>.</p>\n<p>The HTML is a part of Angular website, Please induce explicit waits</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[text()='Sign in']&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":22902584,"reputation":15,"user_id":17041069,"display_name":"Noman Butt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69388121,"answer_count":1,"score":1,"last_activity_date":1632997843,"creation_date":1632987473,"question_id":69388097,"body_markdown":"**HTML**\r\n\r\n    &lt;div class=&quot;login pull-left ml-22&quot; onclick=&quot;ShowLoginPopup();&quot;&gt;Sign in&lt;/div&gt;\r\n\r\n**Selenium-Java**\r\n\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.xpath(&quot;//div[text()=&#39;sign in&#39;]&quot;)).click();\r\n\r\n   \r\n\r\nHow do I open this","title":"How can I click on the text ? I have only class in this in selenium with java","body":"<p><strong>HTML</strong></p>\n<pre><code>&lt;div class=&quot;login pull-left ml-22&quot; onclick=&quot;ShowLoginPopup();&quot;&gt;Sign in&lt;/div&gt;\n</code></pre>\n<p><strong>Selenium-Java</strong></p>\n<pre><code>Thread.sleep(2000);\ndriver.findElement(By.xpath(&quot;//div[text()='sign in']&quot;)).click();\n</code></pre>\n<p>How do I open this</p>\n"},{"tags":["java","hibernate","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632325253,"creation_date":1632325253,"answer_id":69287388,"question_id":69287316,"body_markdown":"You said:\r\n\r\n&gt; Also I know I can use @Query in my spring repository but I want to keep my repositories clean.\r\n\r\nThe most common way of not selecting certain attributes is to use a native SQL query which only selects the columns you want, e.g.\r\n\r\n    @Query(value = &quot;SELECT col1, col2 FROM some_table&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; findOnlyTwoColumnsFromTable();\r\n\r\nInstead of using `List&lt;Object[]&gt;`, you might also be able to define a DTO class which just has two fields in it, e.g. `List&lt;TwoColumnDTO&gt;`.\r\n\r\nThis may look messy, and certainly it is less clean than neatly using pure JPA to select into an entity class.  But the thing to remember here is that the JPA methods are, at the end of the day, merely _convenience_ methods.  If they serve your purpose well, then use them.  Otherwise, for most of your applications you will typically end up with a few native queries here and there, and there is nothing wrong it.","title":"How to ignore attributes from being SELECTed in JPA NamedEntityGraph?","body":"<p>You said:</p>\n<blockquote>\n<p>Also I know I can use @Query in my spring repository but I want to keep my repositories clean.</p>\n</blockquote>\n<p>The most common way of not selecting certain attributes is to use a native SQL query which only selects the columns you want, e.g.</p>\n<pre><code>@Query(value = &quot;SELECT col1, col2 FROM some_table&quot;, nativeQuery = true)\nList&lt;Object[]&gt; findOnlyTwoColumnsFromTable();\n</code></pre>\n<p>Instead of using <code>List&lt;Object[]&gt;</code>, you might also be able to define a DTO class which just has two fields in it, e.g. <code>List&lt;TwoColumnDTO&gt;</code>.</p>\n<p>This may look messy, and certainly it is less clean than neatly using pure JPA to select into an entity class.  But the thing to remember here is that the JPA methods are, at the end of the day, merely <em>convenience</em> methods.  If they serve your purpose well, then use them.  Otherwise, for most of your applications you will typically end up with a few native queries here and there, and there is nothing wrong it.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632997060,"creation_date":1632997060,"answer_id":69390457,"question_id":69287316,"body_markdown":"You will need DTOs for this and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA possible DTO model could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(User.class)\r\n    public interface UserDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        Set&lt;RoleDto&gt; getRoles();\r\n\r\n        @EntityView(Role.class)\r\n        interface RoleDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`UserDto a = entityViewManager.find(entityManager, UserDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;UserDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How to ignore attributes from being SELECTed in JPA NamedEntityGraph?","body":"<p>You will need DTOs for this and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A possible DTO model could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(User.class)\npublic interface UserDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    Set&lt;RoleDto&gt; getRoles();\n\n    @EntityView(Role.class)\n    interface RoleDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>UserDto a = entityViewManager.find(entityManager, UserDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;UserDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632997060,"creation_date":1632324905,"question_id":69287316,"body_markdown":"I&#39;m creating a couple of `NamedEntityGraphs` in my Entity. \r\nI have been able to stop JPA from joining other tables by not including the attribute in the `NamedAttributeNode`.\r\n\r\nBut for the rest of attributes like dates, strings, etc they will always appear in the query generated by Hibernate. \r\n\r\n**How can I prevent hibernate from selecting those columns?**\r\n\r\nPlease don&#39;t tell me to ignore it in the view layer, the point of not fetching the rest of the columns is for optimization of the query/network.\r\n\r\nAlso I know I can use @Query in my spring repository but I want to keep my repositories clean.\r\n\r\nAnd the same goes for not creating new entity classes with fewer attributes, I want to reuse the entities.","title":"How to ignore attributes from being SELECTed in JPA NamedEntityGraph?","body":"<p>I'm creating a couple of <code>NamedEntityGraphs</code> in my Entity.\nI have been able to stop JPA from joining other tables by not including the attribute in the <code>NamedAttributeNode</code>.</p>\n<p>But for the rest of attributes like dates, strings, etc they will always appear in the query generated by Hibernate.</p>\n<p><strong>How can I prevent hibernate from selecting those columns?</strong></p>\n<p>Please don't tell me to ignore it in the view layer, the point of not fetching the rest of the columns is for optimization of the query/network.</p>\n<p>Also I know I can use @Query in my spring repository but I want to keep my repositories clean.</p>\n<p>And the same goes for not creating new entity classes with fewer attributes, I want to reuse the entities.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632996981,"creation_date":1632996981,"answer_id":69390435,"question_id":69281526,"body_markdown":"You need DTOs for this and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Car.class)\r\n    public interface CarDto {\r\n        String getLicensePlate();\r\n        Owner getOwner();\r\n\r\n        @EntityView(Owner.class)\r\n        interface OwnerDto {\r\n            @Mapping(&quot;company.mainBrand&quot;)\r\n            String getMainBrand();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`CarDto a = entityViewManager.find(entityManager, CarDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;CarDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Hibernate/Json : how to only fetch a property of a sub-class?","body":"<p>You need DTOs for this and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Car.class)\npublic interface CarDto {\n    String getLicensePlate();\n    Owner getOwner();\n\n    @EntityView(Owner.class)\n    interface OwnerDto {\n        @Mapping(&quot;company.mainBrand&quot;)\n        String getMainBrand();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>CarDto a = entityViewManager.find(entityManager, CarDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;CarDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":18626045,"reputation":313,"user_id":13575132,"display_name":"troubadour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632996981,"creation_date":1632302840,"question_id":69281526,"body_markdown":"Here is an example :   \r\n\r\nCar class \r\n```\r\n...\r\nprivate String licensePlate;\r\n...\r\n@ManyToOne\r\n... other annotations\r\nprotected Owner owner;\r\n...\r\n```\r\nOwner class\r\n```\r\n...\r\nprivate String name;\r\n...\r\n@OneToOne\r\nprotected Company company;\r\n```    \r\nCompany class    \r\n```\r\n...\r\nprivate int id;\r\nprivate String mainBrand;\r\n...\r\n```\r\nWhen I fetch cars, I get\r\n```\r\n{\r\n   &quot;licensePlate&quot; : &quot;xxx-xxx-xxx&quot;,\r\n   &quot;owner&quot; : {\r\n       &quot;id&quot; : 45,\r\n       &quot;name&quot;: &quot;Bruford&quot;,\r\n       &quot;company&quot; : {\r\n           &quot;id&quot;: 74,\r\n           &quot;mainBrand&quot;: &quot;theBrand&quot;\r\n       }\r\n   }\r\n}\r\n```\r\nSince the owner-company is a @OneToOne relation, is there any annotation(s) to just obtain :\r\n```\r\n{\r\n   &quot;licensePlate&quot; : &quot;xxx-xxx-xxx&quot;,\r\n   &quot;owner&quot; : {\r\n         &quot;mainBrand&quot;: &quot;theBrand&quot;\r\n   }\r\n}\r\n```\r\n\r\n\r\n","title":"Hibernate/Json : how to only fetch a property of a sub-class?","body":"<p>Here is an example :</p>\n<p>Car class</p>\n<pre><code>...\nprivate String licensePlate;\n...\n@ManyToOne\n... other annotations\nprotected Owner owner;\n...\n</code></pre>\n<p>Owner class</p>\n<pre><code>...\nprivate String name;\n...\n@OneToOne\nprotected Company company;\n</code></pre>\n<p>Company class</p>\n<pre><code>...\nprivate int id;\nprivate String mainBrand;\n...\n</code></pre>\n<p>When I fetch cars, I get</p>\n<pre><code>{\n   &quot;licensePlate&quot; : &quot;xxx-xxx-xxx&quot;,\n   &quot;owner&quot; : {\n       &quot;id&quot; : 45,\n       &quot;name&quot;: &quot;Bruford&quot;,\n       &quot;company&quot; : {\n           &quot;id&quot;: 74,\n           &quot;mainBrand&quot;: &quot;theBrand&quot;\n       }\n   }\n}\n</code></pre>\n<p>Since the owner-company is a @OneToOne relation, is there any annotation(s) to just obtain :</p>\n<pre><code>{\n   &quot;licensePlate&quot; : &quot;xxx-xxx-xxx&quot;,\n   &quot;owner&quot; : {\n         &quot;mainBrand&quot;: &quot;theBrand&quot;\n   }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1632997208,"post_id":69390425,"comment_id":122646669,"body_markdown":"You might want to give the compiled code to someone running an older version of Java than you are","body":"You might want to give the compiled code to someone running an older version of Java than you are"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632997247,"post_id":69390425,"comment_id":122646681,"body_markdown":"Yes, you&#39;re basically right. If you set the source to 1.7 the compiler won&#39;t allow any language features introduced with higher versions. This could be used if you want to use a newer JDK but still build your code to be compatible with lower versions (although you&#39;d also need to make sure you don&#39;t use any features of newer libraries, e.g. `String.join(...)` would be compatible with 1.7 but was added in 1.8 only) or to disallow newer features for some reason (some companies seem to be wary of those features and want to check them out first before allowing their devs to use them).","body":"Yes, you&#39;re basically right. If you set the source to 1.7 the compiler won&#39;t allow any language features introduced with higher versions. This could be used if you want to use a newer JDK but still build your code to be compatible with lower versions (although you&#39;d also need to make sure you don&#39;t use any features of newer libraries, e.g. <code>String.join(...)</code> would be compatible with 1.7 but was added in 1.8 only) or to disallow newer features for some reason (some companies seem to be wary of those features and want to check them out first before allowing their devs to use them)."},{"owner":{"account_id":7400444,"reputation":23,"user_id":5631072,"display_name":"Shubham Rathi"},"score":0,"creation_date":1632999531,"post_id":69390425,"comment_id":122647572,"body_markdown":"@Thomas I didn&#39;t get.. String.join(...) was added in 1.8 but still be compatible with 1.7. Isn&#39;t this contradicting with your own statement of not using features of newer libraries?","body":"@Thomas I didn&#39;t get.. String.join(...) was added in 1.8 but still be compatible with 1.7. Isn&#39;t this contradicting with your own statement of not using features of newer libraries?"},{"owner":{"account_id":7400444,"reputation":23,"user_id":5631072,"display_name":"Shubham Rathi"},"score":0,"creation_date":1632999647,"post_id":69390425,"comment_id":122647621,"body_markdown":"@greg-449 What sense does it make to use higher version of something without actually using it&#39;s capabilities?","body":"@greg-449 What sense does it make to use higher version of something without actually using it&#39;s capabilities?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633001206,"post_id":69390425,"comment_id":122648264,"body_markdown":"You might be using the newer features in other projects, but need to target an older Java in one project. Note that in Eclipse the compiler is part of Eclipse (called &quot;ecj&quot;), not the installed Java.","body":"You might be using the newer features in other projects, but need to target an older Java in one project. Note that in Eclipse the compiler is part of Eclipse (called &quot;ecj&quot;), not the installed Java."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1633001366,"post_id":69390425,"comment_id":122648323,"body_markdown":"What I mean is: let&#39;s say your using a JDK with version 1.8+ but set the source level to 1.7.  Now the compiler would complain if you&#39;d use lambdas etc. but it wouldn&#39;t complain if you used `String.join(...)`. However, you should not use this method if your goal is to support runtimes that only have version 1.7 since that method wouldn&#39;t be available there - so be careful not to use it.","body":"What I mean is: let&#39;s say your using a JDK with version 1.8+ but set the source level to 1.7.  Now the compiler would complain if you&#39;d use lambdas etc. but it wouldn&#39;t complain if you used <code>String.join(...)</code>. However, you should not use this method if your goal is to support runtimes that only have version 1.7 since that method wouldn&#39;t be available there - so be careful not to use it."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633002093,"post_id":69390425,"comment_id":122648615,"body_markdown":"@Thomas The &#39;Use -release option&#39; setting in the Eclipse preferences can deal with that - Eclipse will check the APIs used match the compliance level.","body":"@Thomas The &#39;Use -release option&#39; setting in the Eclipse preferences can deal with that - Eclipse will check the APIs used match the compliance level."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1633007110,"post_id":69390425,"comment_id":122650794,"body_markdown":"@greg-449 good to know, will check that out :)","body":"@greg-449 good to know, will check that out :)"}],"owner":{"account_id":7400444,"reputation":23,"user_id":5631072,"display_name":"Shubham Rathi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632996907,"creation_date":1632996907,"question_id":69390425,"body_markdown":"I was going through how the execution environment works in eclipse project settings. What I read is that ```-source``` parameter conveys what version your source code is compatible with. What does it mean? Does this mean if I have JDK 1.8 in my build path and I&#39;ve used Java 8 features (Lambda Expression or Stream API) in my codebase and I set ```-source``` version to 1.7, it will give me error during compilation?\r\n\r\nWhy would someone want to use lower values of ```-source``` and ```-target``` parameters if they are actually building their application using comparatively higher java version?\r\n\r\nPS: I already went through many Stackoverflow articles related to this but still struggling to understand the actual use.","title":"Importance of Execution Environment in Eclipse Project Settings","body":"<p>I was going through how the execution environment works in eclipse project settings. What I read is that <code>-source</code> parameter conveys what version your source code is compatible with. What does it mean? Does this mean if I have JDK 1.8 in my build path and I've used Java 8 features (Lambda Expression or Stream API) in my codebase and I set <code>-source</code> version to 1.7, it will give me error during compilation?</p>\n<p>Why would someone want to use lower values of <code>-source</code> and <code>-target</code> parameters if they are actually building their application using comparatively higher java version?</p>\n<p>PS: I already went through many Stackoverflow articles related to this but still struggling to understand the actual use.</p>\n"},{"tags":["java","spring","ehcache","spring-3"],"answers":[{"tags":[],"owner":{"account_id":1416996,"reputation":2508,"user_id":1342427,"display_name":"ragnor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344275335,"creation_date":1344275335,"answer_id":11833308,"question_id":11075974,"body_markdown":"Try this one: \r\n\r\n    Cache cache = cacheManager.getCache(&quot;productAll&quot;);\r\n    cache.get(0);\r\n\r\n","title":"Spring + Ehcache : Not able to get the cache back from cacheManager without key","body":"<p>Try this one: </p>\n\n<pre><code>Cache cache = cacheManager.getCache(\"productAll\");\ncache.get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355546,"reputation":149,"user_id":694545,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442845858,"creation_date":1442845344,"answer_id":32697661,"question_id":11075974,"body_markdown":"    Cache cache = cacheManager.getCache(&quot;productAll&quot;);\r\n    cache.get(0).get();","title":"Spring + Ehcache : Not able to get the cache back from cacheManager without key","body":"<pre><code>Cache cache = cacheManager.getCache(\"productAll\");\ncache.get(0).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14721805,"reputation":31,"user_id":10632148,"display_name":"steenstn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632996883,"creation_date":1632996883,"answer_id":69390423,"question_id":11075974,"body_markdown":"None of the above solutions worked for me, but using SimpleKey.EMPTY did:\r\n\r\n    Cache cache = cacheManager.getCache(&quot;productAll&quot;);\r\n    cache.get(SimpleKey.EMPTY);\r\n\r\nFrom https://www.logicbig.com/tutorials/spring-framework/spring-integration/cache-key-generation.html","title":"Spring + Ehcache : Not able to get the cache back from cacheManager without key","body":"<p>None of the above solutions worked for me, but using SimpleKey.EMPTY did:</p>\n<pre><code>Cache cache = cacheManager.getCache(&quot;productAll&quot;);\ncache.get(SimpleKey.EMPTY);\n</code></pre>\n<p>From <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-integration/cache-key-generation.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-integration/cache-key-generation.html</a></p>\n"}],"owner":{"account_id":35859,"reputation":2888,"user_id":101890,"accept_rate":69,"display_name":"Roy Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1632996883,"creation_date":1339981121,"question_id":11075974,"body_markdown":"I am using Spring + Ehcache for my cache layer and it is working. But for some reason I wanna manipulate the cache manually.\r\n\r\n    @Cacheable(value = &quot;productAll&quot;)\r\n    public List&lt;Product&gt; getAllProduct()\r\n    \r\n    @CacheEvict(value = &quot;product&quot;, key = &quot;#product.id&quot;)\r\n    public Product saveProduct(Product product) \r\n    \r\n    @Cacheable(value = &quot;product&quot;)\r\n    public Product getProductById(Long id) \r\n\r\nThis works fine, but when I try to manually update the productAll cache in the saveProduct function. I am not able to get the cache back from the cache manager\r\n\r\n    Cache cache = cacheManager.getCache(&quot;productAll&quot;);\r\n    cache.get(&quot;&quot;);\r\n\r\nWhat is the key that I should use in this case, when no key is provided when we cache in the getProductAll method?\r\n","title":"Spring + Ehcache : Not able to get the cache back from cacheManager without key","body":"<p>I am using Spring + Ehcache for my cache layer and it is working. But for some reason I wanna manipulate the cache manually.</p>\n\n<pre><code>@Cacheable(value = \"productAll\")\npublic List&lt;Product&gt; getAllProduct()\n\n@CacheEvict(value = \"product\", key = \"#product.id\")\npublic Product saveProduct(Product product) \n\n@Cacheable(value = \"product\")\npublic Product getProductById(Long id) \n</code></pre>\n\n<p>This works fine, but when I try to manually update the productAll cache in the saveProduct function. I am not able to get the cache back from the cache manager</p>\n\n<pre><code>Cache cache = cacheManager.getCache(\"productAll\");\ncache.get(\"\");\n</code></pre>\n\n<p>What is the key that I should use in this case, when no key is provided when we cache in the getProductAll method?</p>\n"},{"tags":["java","spring","spring-boot","redis"],"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632996579,"creation_date":1632947002,"question_id":69382928,"body_markdown":"I&#39;m working on a Spring-Batch application, which uses a REDIS connection to populate data. \r\n\r\nHere are some relevant dependencies:\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\nimplementation &#39;io.lettuce:lettuce-core:5.3.3.RELEASE&#39;\r\n```\r\n\r\nRedisConnection is imported from ```org.springframework.data.redis.connection```\r\n\r\n**PROBLEM STATEMENT:** \r\nThere might be a case when the RedisConnection is active when we start the application, but during the time application is running, we might loose the Redis Connection. In that case, when it enters the method below, the method will throw an error that Redis connection is lost. Hence, we retry using the @Retryable logic. \r\nBut, lets say during the second retry, the Redis Connection is re-established, we want the Retry to be able to detect that and re-connect to redis and go for the normal flow. But, **&quot;THE REDIS-RECONNECTION IS NOT GETTING DETECTED&quot;**\r\n\r\n**TRIED**: I tried following https://github.com/lettuce-io/lettuce-core/issues/338 and added ```lettuceConnectionFactory.validateConnection();``` to the defaultRedisConnection as below but to no vain\r\n```@Profile(&quot;docker-local-cluster&quot;)\r\n    @Qualifier(&quot;defaultRedisConnection&quot;)\r\n    @Bean\r\n    public RedisConnection defaultRedisConnectionDockerCluster() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(&quot;redis&quot;);\r\n\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration);\r\n        lettuceConnectionFactory.validateConnection();\r\n        lettuceConnectionFactory.afterPropertiesSet();\r\n        return lettuceConnectionFactory.getConnection();\r\n    }\r\n```\r\n\r\n\r\nHere is the class:\r\n```\r\n@Slf4j\r\n@Service\r\npublic class PopulateRedisDataService {\r\n\r\n    @Qualifier(&quot;defaultRedisConnection&quot;)\r\n    private final RedisConnection redisConnection;\r\n\r\n    private RedisClientData redisClientData = new RedisClientData();\r\n\r\n    public PopulateRedisDataService(\r\n            @Qualifier(&quot;defaultRedisConnection&quot;) RedisConnection redisConnection,\r\n            RedisDataUtils redisDataUtils) {\r\n        this.redisConnection = redisConnection;\r\n    }\r\n\r\n    @Retryable(maxAttemptsExpression = &quot;3&quot;, backoff = @Backoff(delayExpression = &quot;20_000&quot;,\r\n            multiplierExpression = &quot;100_000&quot;, maxDelayExpression = &quot;100_000&quot;))\r\n    public RedisClientData populateData() {\r\n         try {\r\n            byte[] serObj = Objects.requireNonNull(redisConnection.get(&quot;SOME_KEY&quot;.getBytes()));\r\n            RedisClientData redisClientData = new RedisClientData();\r\n            // Some operations to load data from Redis/serObj into redisClientData object.\r\n        } catch (Exception e) {\r\n             // If Redis doesn&#39;t have the key, return empty redisClientData\r\n            redisClientData = new RedisClientData();\r\n            log.error(&quot;Failed to get ClientRegList&quot;, e);\r\n        }\r\n         return redisClientData;\r\n    }\r\n\r\n    @Recover\r\n    public void recover(Exception e) {\r\n        // Some operations\r\n    }\r\n}\r\n```\r\n\r\nAny suggestions to handle this case would be much appreciated.\r\n","title":"Spring-Redis connection not re-connecting between retries","body":"<p>I'm working on a Spring-Batch application, which uses a REDIS connection to populate data.</p>\n<p>Here are some relevant dependencies:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-redis'\nimplementation 'io.lettuce:lettuce-core:5.3.3.RELEASE'\n</code></pre>\n<p>RedisConnection is imported from <code>org.springframework.data.redis.connection</code></p>\n<p><strong>PROBLEM STATEMENT:</strong>\nThere might be a case when the RedisConnection is active when we start the application, but during the time application is running, we might loose the Redis Connection. In that case, when it enters the method below, the method will throw an error that Redis connection is lost. Hence, we retry using the @Retryable logic.\nBut, lets say during the second retry, the Redis Connection is re-established, we want the Retry to be able to detect that and re-connect to redis and go for the normal flow. But, <strong>&quot;THE REDIS-RECONNECTION IS NOT GETTING DETECTED&quot;</strong></p>\n<p><strong>TRIED</strong>: I tried following <a href=\"https://github.com/lettuce-io/lettuce-core/issues/338\" rel=\"nofollow noreferrer\">https://github.com/lettuce-io/lettuce-core/issues/338</a> and added <code>lettuceConnectionFactory.validateConnection();</code> to the defaultRedisConnection as below but to no vain</p>\n<pre><code>    @Qualifier(&quot;defaultRedisConnection&quot;)\n    @Bean\n    public RedisConnection defaultRedisConnectionDockerCluster() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(&quot;redis&quot;);\n\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration);\n        lettuceConnectionFactory.validateConnection();\n        lettuceConnectionFactory.afterPropertiesSet();\n        return lettuceConnectionFactory.getConnection();\n    }\n</code></pre>\n<p>Here is the class:</p>\n<pre><code>@Slf4j\n@Service\npublic class PopulateRedisDataService {\n\n    @Qualifier(&quot;defaultRedisConnection&quot;)\n    private final RedisConnection redisConnection;\n\n    private RedisClientData redisClientData = new RedisClientData();\n\n    public PopulateRedisDataService(\n            @Qualifier(&quot;defaultRedisConnection&quot;) RedisConnection redisConnection,\n            RedisDataUtils redisDataUtils) {\n        this.redisConnection = redisConnection;\n    }\n\n    @Retryable(maxAttemptsExpression = &quot;3&quot;, backoff = @Backoff(delayExpression = &quot;20_000&quot;,\n            multiplierExpression = &quot;100_000&quot;, maxDelayExpression = &quot;100_000&quot;))\n    public RedisClientData populateData() {\n         try {\n            byte[] serObj = Objects.requireNonNull(redisConnection.get(&quot;SOME_KEY&quot;.getBytes()));\n            RedisClientData redisClientData = new RedisClientData();\n            // Some operations to load data from Redis/serObj into redisClientData object.\n        } catch (Exception e) {\n             // If Redis doesn't have the key, return empty redisClientData\n            redisClientData = new RedisClientData();\n            log.error(&quot;Failed to get ClientRegList&quot;, e);\n        }\n         return redisClientData;\n    }\n\n    @Recover\n    public void recover(Exception e) {\n        // Some operations\n    }\n}\n</code></pre>\n<p>Any suggestions to handle this case would be much appreciated.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2371187,"reputation":66,"user_id":2075779,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632833753,"creation_date":1632833753,"answer_id":69362165,"question_id":69286808,"body_markdown":"Answer: Upon upgrading from java8 to java11 there are some libraries that have been removed. If one wants to use them they need to be specifically added as dependencies.\r\n\r\nThis question has already been answered:\r\n\r\nhttps://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\r\n\r\nhttps://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\r\n\r\n\r\n\r\nAdd these dependencies into your pom/gradle:\r\n\r\nGradle:\r\n\r\n    compile(&#39;javax.xml.bind:jaxb-api:2.3.0&#39;)\r\n    compile(&#39;javax.activation:activation:1.1&#39;)\r\n    compile(&#39;org.glassfish.jaxb:jaxb-runtime:2.3.0&#39;)\r\n\r\nPom:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0-b170201.1204&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Why does Java 11 gives TaskExecutionException in Android Studio?","body":"<p>Answer: Upon upgrading from java8 to java11 there are some libraries that have been removed. If one wants to use them they need to be specifically added as dependencies.</p>\n<p>This question has already been answered:</p>\n<p><a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a></p>\n<p>Add these dependencies into your pom/gradle:</p>\n<p>Gradle:</p>\n<pre><code>compile('javax.xml.bind:jaxb-api:2.3.0')\ncompile('javax.activation:activation:1.1')\ncompile('org.glassfish.jaxb:jaxb-runtime:2.3.0')\n</code></pre>\n<p>Pom:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0-b170201.1204&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user14016240"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632996444,"creation_date":1632322864,"question_id":69286808,"body_markdown":"So, I&#39;m working on one large existing company project, where things are old / deprecated and I&#39;m trying to improve it step by step.\r\n\r\nRight now I&#39;m trying to update JDK version from Java 1.8 to Java 11. So I made changes from Android Studio preference settings.\r\n\r\nAlso I made this changes as well: https://developer.android.com/studio/releases/gradle-plugin#java-11\r\n\r\n**About my project:**\r\n\r\ntargetSDKVersion: 30\r\n\r\nAndroid Studio: Latest stable release\r\n\r\nProject codeing: 50% code Java and 50% code Kotlin\r\n\r\n\r\nSo, when I made above 2 change and sync the project, it got successfully sync and when I try to run this this exception is coming.\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:556)\r\n\r\n---\r\n\r\n    Execution failed for task &#39;:app:kaptPlaystoreDebugKotlin&#39;.\r\n    &gt; Internal compiler error. See log for more details\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:kaptPlaystoreDebugKotlin&#39;\r\n\r\n\r\nNOTE: playstoreDebug is a build variant name.","title":"Why does Java 11 gives TaskExecutionException in Android Studio?","body":"<p>So, I'm working on one large existing company project, where things are old / deprecated and I'm trying to improve it step by step.</p>\n<p>Right now I'm trying to update JDK version from Java 1.8 to Java 11. So I made changes from Android Studio preference settings.</p>\n<p>Also I made this changes as well: <a href=\"https://developer.android.com/studio/releases/gradle-plugin#java-11\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#java-11</a></p>\n<p><strong>About my project:</strong></p>\n<p>targetSDKVersion: 30</p>\n<p>Android Studio: Latest stable release</p>\n<p>Project codeing: 50% code Java and 50% code Kotlin</p>\n<p>So, when I made above 2 change and sync the project, it got successfully sync and when I try to run this this exception is coming.</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n</code></pre>\n<hr />\n<pre><code>Execution failed for task ':app:kaptPlaystoreDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptPlaystoreDebugKotlin'\n</code></pre>\n<p>NOTE: playstoreDebug is a build variant name.</p>\n"},{"tags":["java","java-native-interface","native-code"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629720053,"creation_date":1629703301,"answer_id":68888697,"question_id":68881151,"body_markdown":"Since you already have a `reflect.Method` object, you can just `.invoke` it. That already does the unboxing for you:\r\n```\r\njclass clsMethod = env-&gt;GetObjectClass(method);\r\njmethodID midMethodInvoke = env-&gt;GetMethodID(clsMethod, &quot;invoke&quot;, &quot;(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;&quot;);\r\njobject result = env-&gt;CallObjectMethod(method, midMethodInvoke, obj, params);\r\n```\r\n\r\nFor future readers: if you only had a `jclass`+`jmethodID` I would  recommend using `ToReflectedMethod` to get a `reflect.Method` and then calling `.invoke` as above to save yourself the trouble.","title":"Unboxing a `jobjectArray` into a `jvalue[]` array in JNI code","body":"<p>Since you already have a <code>reflect.Method</code> object, you can just <code>.invoke</code> it. That already does the unboxing for you:</p>\n<pre><code>jclass clsMethod = env-&gt;GetObjectClass(method);\njmethodID midMethodInvoke = env-&gt;GetMethodID(clsMethod, &quot;invoke&quot;, &quot;(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;&quot;);\njobject result = env-&gt;CallObjectMethod(method, midMethodInvoke, obj, params);\n</code></pre>\n<p>For future readers: if you only had a <code>jclass</code>+<code>jmethodID</code> I would  recommend using <code>ToReflectedMethod</code> to get a <code>reflect.Method</code> and then calling <code>.invoke</code> as above to save yourself the trouble.</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632996331,"creation_date":1630611339,"answer_id":69036115,"question_id":68881151,"body_markdown":"I wrote a method for unboxing a `jobjectArray` into a `jvalue[]` array:\r\n\r\n```\r\n// Unbox a jobjectArray of method invocation args into a jvalue array. Returns 0 if an exception was thrown, or 1 if unboxing succeeded.\r\nint unbox(JNIEnv *env, jobject method, jobjectArray args, jsize num_args, jvalue* arg_jvalues) {\r\n    // Get parameter types of method\r\n    jclass methodClass = (*env)-&gt;GetObjectClass(env, method);\r\n    jmethodID getParameterTypesMethodID = (*env)-&gt;GetMethodID(env, methodClass, &quot;getParameterTypes&quot;, &quot;()[Ljava/lang/Class;&quot;);\r\n    jobject parameterTypes = (*env)-&gt;CallObjectMethod(env, method, getParameterTypesMethodID);\r\n    jsize num_params = (*env)-&gt;GetArrayLength(env, parameterTypes);\r\n\r\n    // Check arg arity\r\n    if (num_args != num_params) {\r\n        throwIllegalArgumentException(env, &quot;Tried to invoke method with wrong number of arguments&quot;);\r\n        return 0;\r\n    }\r\n    \r\n    // Unbox args\r\n    for (jsize i = 0; i &lt; num_args; i++) {\r\n        jobject paramType = (*env)-&gt;GetObjectArrayElement(env, parameterTypes, i);\r\n        jobject arg = (*env)-&gt;GetObjectArrayElement(env, args, i);\r\n        jclass argType = arg == NULL ? (jclass) NULL : (*env)-&gt;GetObjectClass(env, arg);\r\n\r\n        if ((*env)-&gt;IsSameObject(env, paramType, int_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Integer&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Integer_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Integer&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].i = (*env)-&gt;CallIntMethod(env, arg, int_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, long_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Long&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Long_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Long&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].j = (*env)-&gt;CallLongMethod(env, arg, long_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, short_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Short&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Short_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Short&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].s = (*env)-&gt;CallShortMethod(env, arg, short_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, char_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Character&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Character_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Character&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].c = (*env)-&gt;CallCharMethod(env, arg, char_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, boolean_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Boolean&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Boolean_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Boolean&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].z = (*env)-&gt;CallBooleanMethod(env, arg, boolean_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, byte_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Byte&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Byte_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Byte&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].b = (*env)-&gt;CallByteMethod(env, arg, byte_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, float_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Float&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Float_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Float&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].f = (*env)-&gt;CallFloatMethod(env, arg, float_value_methodID);\r\n            }\r\n        } else if ((*env)-&gt;IsSameObject(env, paramType, double_class)) {\r\n            if (arg == NULL) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Double&quot;);\r\n                return 0;\r\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Double_class)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Double&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].d = (*env)-&gt;CallDoubleMethod(env, arg, double_value_methodID);\r\n            }\r\n        } else {\r\n            // Arg does not need unboxing, but we need to check if it is assignable from the parameter type\r\n            if (arg != NULL &amp;&amp; !(*env)-&gt;IsAssignableFrom(env, argType, paramType)) {\r\n                throwIllegalArgumentException(env, &quot;Tried to invoke function with arg of incompatible type&quot;);\r\n                return 0;\r\n            } else {\r\n                arg_jvalues[i].l = arg;\r\n            }\r\n        }\r\n    }\r\n    return 1;\r\n}\r\n```\r\n\r\nFor speed, global refs to classes like `Integer.class` and `int.class` are obtained as follows on initialization:\r\n```\r\njclass Integer_class = (*env)-&gt;NewGlobalRef(env, (*env)-&gt;FindClass(env, &quot;java/lang/Integer&quot;));\r\njclass int_class = (*env)-&gt;NewGlobalRef(env, (*env)-&gt;GetStaticObjectField(env, Integer_class, (*env)-&gt;GetStaticFieldID(env, Integer_class, &quot;TYPE&quot;, &quot;Ljava/lang/Class;&quot;)));\r\njmethodID int_value_methodID = (*env)-&gt;GetMethodID(env, Integer_class, &quot;intValue&quot;, &quot;()I&quot;);\r\n```\r\n\r\nCall the unboxing method like this:\r\n\r\n```\r\nJNIEXPORT jint JNICALL Java_narcissus_Narcissus_callIntMethod(JNIEnv *env, jclass ignored, jobject obj, jobject method, jobjectArray args) {\r\n    jmethodID methodID = (*env)-&gt;FromReflectedMethod(env, method);\r\n    jsize num_args = (*env)-&gt;GetArrayLength(env, args);\r\n    if (num_args == 0) {\r\n        return (*env)-&gt;CallIntMethod(env, obj, methodID);\r\n    }\r\n    jvalue arg_jvalues[num_args];\r\n    return unbox(env, method, args, num_args, arg_jvalues) ? (*env)-&gt;CallIntMethodA(env, obj, methodID, arg_jvalues) : (jint) 0;\r\n}\r\n```\r\n\r\nThe above code does not handle varargs. The full version that handles varargs can be seen in the [Narcissus library][1] (I am the author).\r\n\r\n\r\n  [1]: https://github.com/toolfactory/narcissus/blob/main/src/main/c/narcissus.c","title":"Unboxing a `jobjectArray` into a `jvalue[]` array in JNI code","body":"<p>I wrote a method for unboxing a <code>jobjectArray</code> into a <code>jvalue[]</code> array:</p>\n<pre><code>// Unbox a jobjectArray of method invocation args into a jvalue array. Returns 0 if an exception was thrown, or 1 if unboxing succeeded.\nint unbox(JNIEnv *env, jobject method, jobjectArray args, jsize num_args, jvalue* arg_jvalues) {\n    // Get parameter types of method\n    jclass methodClass = (*env)-&gt;GetObjectClass(env, method);\n    jmethodID getParameterTypesMethodID = (*env)-&gt;GetMethodID(env, methodClass, &quot;getParameterTypes&quot;, &quot;()[Ljava/lang/Class;&quot;);\n    jobject parameterTypes = (*env)-&gt;CallObjectMethod(env, method, getParameterTypesMethodID);\n    jsize num_params = (*env)-&gt;GetArrayLength(env, parameterTypes);\n\n    // Check arg arity\n    if (num_args != num_params) {\n        throwIllegalArgumentException(env, &quot;Tried to invoke method with wrong number of arguments&quot;);\n        return 0;\n    }\n    \n    // Unbox args\n    for (jsize i = 0; i &lt; num_args; i++) {\n        jobject paramType = (*env)-&gt;GetObjectArrayElement(env, parameterTypes, i);\n        jobject arg = (*env)-&gt;GetObjectArrayElement(env, args, i);\n        jclass argType = arg == NULL ? (jclass) NULL : (*env)-&gt;GetObjectClass(env, arg);\n\n        if ((*env)-&gt;IsSameObject(env, paramType, int_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Integer&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Integer_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Integer&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].i = (*env)-&gt;CallIntMethod(env, arg, int_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, long_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Long&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Long_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Long&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].j = (*env)-&gt;CallLongMethod(env, arg, long_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, short_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Short&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Short_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Short&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].s = (*env)-&gt;CallShortMethod(env, arg, short_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, char_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Character&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Character_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Character&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].c = (*env)-&gt;CallCharMethod(env, arg, char_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, boolean_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Boolean&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Boolean_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Boolean&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].z = (*env)-&gt;CallBooleanMethod(env, arg, boolean_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, byte_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Byte&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Byte_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Byte&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].b = (*env)-&gt;CallByteMethod(env, arg, byte_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, float_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Float&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Float_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Float&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].f = (*env)-&gt;CallFloatMethod(env, arg, float_value_methodID);\n            }\n        } else if ((*env)-&gt;IsSameObject(env, paramType, double_class)) {\n            if (arg == NULL) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox a null argument; expected Double&quot;);\n                return 0;\n            } else if (!(*env)-&gt;IsSameObject(env, argType, Double_class)) {\n                throwIllegalArgumentException(env, &quot;Tried to unbox arg of wrong type; expected Double&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].d = (*env)-&gt;CallDoubleMethod(env, arg, double_value_methodID);\n            }\n        } else {\n            // Arg does not need unboxing, but we need to check if it is assignable from the parameter type\n            if (arg != NULL &amp;&amp; !(*env)-&gt;IsAssignableFrom(env, argType, paramType)) {\n                throwIllegalArgumentException(env, &quot;Tried to invoke function with arg of incompatible type&quot;);\n                return 0;\n            } else {\n                arg_jvalues[i].l = arg;\n            }\n        }\n    }\n    return 1;\n}\n</code></pre>\n<p>For speed, global refs to classes like <code>Integer.class</code> and <code>int.class</code> are obtained as follows on initialization:</p>\n<pre><code>jclass Integer_class = (*env)-&gt;NewGlobalRef(env, (*env)-&gt;FindClass(env, &quot;java/lang/Integer&quot;));\njclass int_class = (*env)-&gt;NewGlobalRef(env, (*env)-&gt;GetStaticObjectField(env, Integer_class, (*env)-&gt;GetStaticFieldID(env, Integer_class, &quot;TYPE&quot;, &quot;Ljava/lang/Class;&quot;)));\njmethodID int_value_methodID = (*env)-&gt;GetMethodID(env, Integer_class, &quot;intValue&quot;, &quot;()I&quot;);\n</code></pre>\n<p>Call the unboxing method like this:</p>\n<pre><code>JNIEXPORT jint JNICALL Java_narcissus_Narcissus_callIntMethod(JNIEnv *env, jclass ignored, jobject obj, jobject method, jobjectArray args) {\n    jmethodID methodID = (*env)-&gt;FromReflectedMethod(env, method);\n    jsize num_args = (*env)-&gt;GetArrayLength(env, args);\n    if (num_args == 0) {\n        return (*env)-&gt;CallIntMethod(env, obj, methodID);\n    }\n    jvalue arg_jvalues[num_args];\n    return unbox(env, method, args, num_args, arg_jvalues) ? (*env)-&gt;CallIntMethodA(env, obj, methodID, arg_jvalues) : (jint) 0;\n}\n</code></pre>\n<p>The above code does not handle varargs. The full version that handles varargs can be seen in the <a href=\"https://github.com/toolfactory/narcissus/blob/main/src/main/c/narcissus.c\" rel=\"nofollow noreferrer\">Narcissus library</a> (I am the author).</p>\n"}],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69036115,"answer_count":2,"score":1,"last_activity_date":1632996331,"creation_date":1629633970,"question_id":68881151,"body_markdown":"I have the following Java native method declaration:\r\n\r\n```\r\nstatic native Object nativeCallObjectMethod\r\n        (Object object, Method method, Object... params);\r\n```\r\n\r\nThis produces the following C function declaration (note that `Object... params` is mapped to `jobjectArray params`):\r\n\r\n```\r\nJNIEXPORT jobject JNICALL Java_pkg_Cls_nativeCallObjectMethod\r\n        (JNIEnv *env, jclass ignored, jobject obj, jobject method,\r\n                jobjectArray params) { }\r\n```\r\n\r\nI want to call `method` with `params` as arguments:\r\n\r\n```\r\n    jmethodID methodID = (*env)-&gt;FromReflectedMethod(env, method);\r\n    return (*env)-&gt;CallObjectMethod(env, obj, methodID, params);\r\n```\r\n\r\nHowever, `params` is of type `jobjectArray`, whereas the JNI methods `callObjectMethod*` can only take one of the following three forms:\r\n\r\n1. `CallObjectMethod(JNIEnv *env, jobject obj, jmethodID methodID, ...)`\r\n2. `CallObjectMethodA(JNIEnv *env, jobject obj, jmethodID methodID, const jvalue *args)`\r\n3. `CallObjectMethodV(JNIEnv *env, jobject obj, jmethodID methodID, va_list args)`\r\n\r\nThere is no form of this method that takes `jobjectArray` in the last argument position. I assume that method 2 is the one I want to call, and I realize `jobjectArray` elements may need unboxing to produce an array of `jvalue` values. I found this suggestion of how to implement this: https://stackoverflow.com/a/30961708/3950982\r\n\r\nHowever, I can&#39;t believe there is no standard way to unbox a `jobjectArray` into a `jvalue` array using the JNI API. Surely there must be a built-in way to achieve this, since Java does this internally when using reflection?\r\n\r\nHow can I solve this, preferably without reinventing the wheel?\r\n","title":"Unboxing a `jobjectArray` into a `jvalue[]` array in JNI code","body":"<p>I have the following Java native method declaration:</p>\n<pre><code>static native Object nativeCallObjectMethod\n        (Object object, Method method, Object... params);\n</code></pre>\n<p>This produces the following C function declaration (note that <code>Object... params</code> is mapped to <code>jobjectArray params</code>):</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_pkg_Cls_nativeCallObjectMethod\n        (JNIEnv *env, jclass ignored, jobject obj, jobject method,\n                jobjectArray params) { }\n</code></pre>\n<p>I want to call <code>method</code> with <code>params</code> as arguments:</p>\n<pre><code>    jmethodID methodID = (*env)-&gt;FromReflectedMethod(env, method);\n    return (*env)-&gt;CallObjectMethod(env, obj, methodID, params);\n</code></pre>\n<p>However, <code>params</code> is of type <code>jobjectArray</code>, whereas the JNI methods <code>callObjectMethod*</code> can only take one of the following three forms:</p>\n<ol>\n<li><code>CallObjectMethod(JNIEnv *env, jobject obj, jmethodID methodID, ...)</code></li>\n<li><code>CallObjectMethodA(JNIEnv *env, jobject obj, jmethodID methodID, const jvalue *args)</code></li>\n<li><code>CallObjectMethodV(JNIEnv *env, jobject obj, jmethodID methodID, va_list args)</code></li>\n</ol>\n<p>There is no form of this method that takes <code>jobjectArray</code> in the last argument position. I assume that method 2 is the one I want to call, and I realize <code>jobjectArray</code> elements may need unboxing to produce an array of <code>jvalue</code> values. I found this suggestion of how to implement this: <a href=\"https://stackoverflow.com/a/30961708/3950982\">https://stackoverflow.com/a/30961708/3950982</a></p>\n<p>However, I can't believe there is no standard way to unbox a <code>jobjectArray</code> into a <code>jvalue</code> array using the JNI API. Surely there must be a built-in way to achieve this, since Java does this internally when using reflection?</p>\n<p>How can I solve this, preferably without reinventing the wheel?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1383846493,"post_id":19842541,"comment_id":29508506,"body_markdown":"Are you sure that `doSomething()` is not called at all for the second time? It may be called prior to transaction commit, not immediately.","body":"Are you sure that <code>doSomething()</code> is not called at all for the second time? It may be called prior to transaction commit, not immediately."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1383846551,"post_id":19842541,"comment_id":29508545,"body_markdown":"Have you tried to detach the entity before the second save()?","body":"Have you tried to detach the entity before the second save()?"},{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":0,"creation_date":1383847382,"post_id":19842541,"comment_id":29508990,"body_markdown":"@AndreiI you are right, when I get the entity by `entity = dao.findOne(entity.getId())` before saving it the second time, listener&#39;s method is called successfully. Please post it as an answer, and the reason if you know what&#39;s going on.","body":"@AndreiI you are right, when I get the entity by <code>entity = dao.findOne(entity.getId())</code> before saving it the second time, listener&#39;s method is called successfully. Please post it as an answer, and the reason if you know what&#39;s going on."},{"owner":{"account_id":2513977,"reputation":1330,"user_id":2185783,"display_name":"maximus"},"score":0,"creation_date":1656003516,"post_id":19842541,"comment_id":128471925,"body_markdown":"I&#39;m using `JpaRepository`, calling `repository.saveAndFlush(entity)` did fire `@PreUpdate` callback. Hope this helps.","body":"I&#39;m using <code>JpaRepository</code>, calling <code>repository.saveAndFlush(entity)</code> did fire <code>@PreUpdate</code> callback. Hope this helps."}],"answers":[{"tags":[],"owner":{"account_id":3541654,"reputation":115,"user_id":2958567,"display_name":"Terry Zhao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383846326,"creation_date":1383846326,"answer_id":19842955,"question_id":19842541,"body_markdown":"what is your transactional setting around your two different save()?\r\n\r\nI think there would be some differnce between save()/update()/merge()/persist(), for the different status of an entity(transient, persistent, detached), the operations is not the same as you thought and your annotation @PrePersist and @PreUpdate did not take effect. ","title":"@PreUpdate does not work with Spring Data JPA","body":"<p>what is your transactional setting around your two different save()?</p>\n\n<p>I think there would be some differnce between save()/update()/merge()/persist(), for the different status of an entity(transient, persistent, detached), the operations is not the same as you thought and your annotation @PrePersist and @PreUpdate did not take effect. </p>\n"},{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1383850259,"creation_date":1383848436,"answer_id":19843651,"question_id":19842541,"body_markdown":"As you said, the callback method **is called** the second time, if the entity is detached or fetched again from DB. \r\n\r\nI cannot explain it exactly, but can think of the scenario described [here][1], when no dirty fields are identified before the second `save()` call and thus the @PreUpdate callback not called. Or it may be simply a bug within your version of EclipseLink.\r\n\r\n\r\n----------\r\n\r\n\r\n**UPDATE**\r\n\r\nIn the JPA 2.0 specification I found the following, which is exactly your behaviour (3.5.2 Semantics of the Life Cycle Callback Methods for Entities):\r\n\r\n&gt; Note that it is implementation-dependent as to whether PreUpdate and\r\n&gt; PostUpdate call- backs occur when an entity is persisted and\r\n&gt; subsequently modified in a single transaction or when an entity is\r\n&gt; modified and subsequently removed within a single transaction.\r\n&gt; Portable applications should not rely on such behavior.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1877499/eclipselink-jpa-preupdate-call-not-persisting","title":"@PreUpdate does not work with Spring Data JPA","body":"<p>As you said, the callback method <strong>is called</strong> the second time, if the entity is detached or fetched again from DB. </p>\n\n<p>I cannot explain it exactly, but can think of the scenario described <a href=\"https://stackoverflow.com/questions/1877499/eclipselink-jpa-preupdate-call-not-persisting\">here</a>, when no dirty fields are identified before the second <code>save()</code> call and thus the @PreUpdate callback not called. Or it may be simply a bug within your version of EclipseLink.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In the JPA 2.0 specification I found the following, which is exactly your behaviour (3.5.2 Semantics of the Life Cycle Callback Methods for Entities):</p>\n\n<blockquote>\n  <p>Note that it is implementation-dependent as to whether PreUpdate and\n  PostUpdate call- backs occur when an entity is persisted and\n  subsequently modified in a single transaction or when an entity is\n  modified and subsequently removed within a single transaction.\n  Portable applications should not rely on such behavior.</p>\n</blockquote>\n"}],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25627,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":19843651,"answer_count":2,"score":14,"last_activity_date":1632996115,"creation_date":1383845125,"question_id":19842541,"body_markdown":"I have an entity:\r\n\r\n    @Entity\r\n    @EntityListeners(MyEntityListener.class)\r\n    class MyEntity{ ... }\r\n\r\nAnd the listener:\r\n\r\n    class MyEntityListener{\r\n        @PrePersist\r\n        @PreUpdate\r\n        public void doSomething(Object entity){ ... }\r\n    }\r\n\r\nI&#39;m using the Spring Data generated DAO for this entity (1.4.1) and EclipseLink. The code behavior is as follows:\r\n\r\n    MyEntity entity = new Entity();\r\n    entity = dao.save(entity); // the doSomething() is called here\r\n    // change something it the entity and save it again\r\n    dao.save(entity); // the doSomething() is NOT called here, checked with breakpoint\r\n\r\nThe problem has already been [described by someone in 2009][1], however, they did not came up with any solution. I wonder if anyone has and idea how to solve it?\r\n\r\n\r\n  [1]: https://web.archive.org/web/20190225014303/http://forum.spring.io/forum/spring-projects/data/123850-preupdate-not-working","title":"@PreUpdate does not work with Spring Data JPA","body":"<p>I have an entity:</p>\n<pre><code>@Entity\n@EntityListeners(MyEntityListener.class)\nclass MyEntity{ ... }\n</code></pre>\n<p>And the listener:</p>\n<pre><code>class MyEntityListener{\n    @PrePersist\n    @PreUpdate\n    public void doSomething(Object entity){ ... }\n}\n</code></pre>\n<p>I'm using the Spring Data generated DAO for this entity (1.4.1) and EclipseLink. The code behavior is as follows:</p>\n<pre><code>MyEntity entity = new Entity();\nentity = dao.save(entity); // the doSomething() is called here\n// change something it the entity and save it again\ndao.save(entity); // the doSomething() is NOT called here, checked with breakpoint\n</code></pre>\n<p>The problem has already been <a href=\"https://web.archive.org/web/20190225014303/http://forum.spring.io/forum/spring-projects/data/123850-preupdate-not-working\" rel=\"nofollow noreferrer\">described by someone in 2009</a>, however, they did not came up with any solution. I wonder if anyone has and idea how to solve it?</p>\n"},{"tags":["java","date","instant","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632996209,"post_id":69389964,"comment_id":122646295,"body_markdown":"As an aside instead of `Instant.EPOCH.until(instant, ChronoUnit.MILLIS);` just use `instant.toEpochMilli()`.","body":"As an aside instead of <code>Instant.EPOCH.until(instant, ChronoUnit.MILLIS);</code> just use <code>instant.toEpochMilli()</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1632996673,"post_id":69389964,"comment_id":122646466,"body_markdown":"The string &quot;1970-01-01 00:01:00.00&quot; does not represent an instant. You still need a timezone/offset for that to be resolved to an instant.","body":"The string &quot;1970-01-01 00:01:00.00&quot; does not represent an instant. You still need a timezone/offset for that to be resolved to an instant."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632995800,"creation_date":1632995800,"answer_id":69390145,"question_id":69389964,"body_markdown":"You need to specify the timezone in your `DateTimeFormatter` as follows:\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\r\n        .toFormatter()\r\n        .withZone(ZoneId.systemDefault());\r\nTemporalAccessor accessor = formatter.parse(&quot;1970-01-01 00:01:00.00&quot;);\r\nInstant instant = Instant.from(accessor);\r\nInstant.EPOCH.until(instant, ChronoUnit.MILLIS);\r\n```","title":"How to convert a TemporalAccessor a milliseconds timestamp (using Instant)","body":"<p>You need to specify the timezone in your <code>DateTimeFormatter</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n        .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\n        .toFormatter()\n        .withZone(ZoneId.systemDefault());\nTemporalAccessor accessor = formatter.parse(&quot;1970-01-01 00:01:00.00&quot;);\nInstant instant = Instant.from(accessor);\nInstant.EPOCH.until(instant, ChronoUnit.MILLIS);\n</code></pre>\n"}],"owner":{"display_name":"user11579923"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2066,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69390145,"answer_count":1,"score":3,"last_activity_date":1632995800,"creation_date":1632995106,"question_id":69389964,"body_markdown":"I am trying to convert a TemporalAccessor to milliseconds unix timestamp but I am getting an error in some cases. \r\n\r\n\r\nHere is a code sample to reproduce the problem : \r\n\r\n\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n            .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\r\n            .toFormatter();\r\n        TemporalAccessor accessor = formatter.parse(&quot;1970-01-01 00:01:00.00&quot;);\r\n        Instant instant = Instant.from(accessor);\r\n        Instant.EPOCH.until(instant, ChronoUnit.MILLIS);\r\nHere is the error I am getting : \r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.DateTimeException: Unable to\r\n&gt; obtain Instant from TemporalAccessor: {},ISO resolved to\r\n&gt; 1970-01-01T00:01 of type java.time.format.Parsed\r\n\r\nI am getting this error only with this date format so the problem may come from my DateTimeFormatter (originally i was using an other one way more generic and I am only getting the error for this format).","title":"How to convert a TemporalAccessor a milliseconds timestamp (using Instant)","body":"<p>I am trying to convert a TemporalAccessor to milliseconds unix timestamp but I am getting an error in some cases.</p>\n<p>Here is a code sample to reproduce the problem :</p>\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n        .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\n        .toFormatter();\n    TemporalAccessor accessor = formatter.parse(&quot;1970-01-01 00:01:00.00&quot;);\n    Instant instant = Instant.from(accessor);\n    Instant.EPOCH.until(instant, ChronoUnit.MILLIS);\n</code></pre>\n<p>Here is the error I am getting :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.DateTimeException: Unable to\nobtain Instant from TemporalAccessor: {},ISO resolved to\n1970-01-01T00:01 of type java.time.format.Parsed</p>\n</blockquote>\n<p>I am getting this error only with this date format so the problem may come from my DateTimeFormatter (originally i was using an other one way more generic and I am only getting the error for this format).</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1251757,"reputation":4861,"user_id":1212046,"accept_rate":38,"display_name":"Waqas Ahmed"},"score":0,"creation_date":1652414277,"post_id":69388956,"comment_id":127605333,"body_markdown":"have you found the solution for this . I need solution for same kind of problem for 4 different datasources e.g mysql, mongodb, mariadb, postgress","body":"have you found the solution for this . I need solution for same kind of problem for 4 different datasources e.g mysql, mongodb, mariadb, postgress"}],"answers":[{"tags":[],"owner":{"account_id":21615206,"reputation":298,"user_id":15941120,"display_name":"Frevelman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632995734,"creation_date":1632995734,"answer_id":69390134,"question_id":69388956,"body_markdown":"I configured my database / datasource in spring in the application.properties file. Although I just had one DB, I tried it with multiple out of curiosity and it worked. So maybe try it there? The format is as such: \r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.data.jpa.repositories.bootstrap-mode=default","title":"How can I configure multiple(more than two) data sources in my spring boot application in MySQL and MariaDB,","body":"<p>I configured my database / datasource in spring in the application.properties file. Although I just had one DB, I tried it with multiple out of curiosity and it worked. So maybe try it there? The format is as such:</p>\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.data.jpa.repositories.bootstrap-mode=default\n</code></pre>\n"}],"owner":{"account_id":12475892,"reputation":55,"user_id":9082269,"display_name":"Sulaiman Ahmed Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632995734,"creation_date":1632990946,"question_id":69388956,"body_markdown":"I have to connect to multiple data sources at runtime in a spring boot application with amazon RDS deployed MySQL and MariaDB instances respectively. For now, both are MariaDB instances residing separately. I have used the usual spring boot configurations like here \r\n[https://stackoverflow.com/questions/28275448/multiple-data-source-and-schema-creation-in-spring-boot][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28275448/multiple-data-source-and-schema-creation-in-spring-boot\r\n\r\nI am facing a problem here and that is I am not able to connect to the secondary data source where as I am able to connect to the primary data source.\r\nHere are some code snippets.\r\n\r\nAlso, I want to know any mechanism to fall back to other database instances of the same schemas at runtime if the original ones are down without affecting the application or restarting it. I have no idea about that.\r\n\r\n```\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;a.b.c.d.e&quot;,\r\n        entityManagerFactoryRef = &quot;aEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;aTransactionManager&quot;\r\n)\r\npublic class aConfiguration {\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;app.datasource.a&quot;)\r\n    public DataSourceProperties aDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;app.datasource.a.configuration&quot;)\r\n    public DataSource aDataSource() {\r\n        return aDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;aEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean aEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(aDataSource())\r\n                .packages(SomeQualifiedEntity.class)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager aTransactionManager(\r\n            final @Qualifier(&quot;aEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean aEntityManagerFactory) {\r\n        return new JpaTransactionManager(aEntityManagerFactory.getObject());\r\n    }\r\n}\r\n```\r\n```\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;u.v.w.x.y&quot;,\r\n        entityManagerFactoryRef = &quot;bEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;bTransactionManager&quot;\r\n)\r\npublic class aConfiguration {\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;app.datasource.b&quot;)\r\n    public DataSourceProperties bDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;app.datasource.b.configuration&quot;)\r\n    public DataSource bDataSource() {\r\n        return bDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;bEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean bEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(bDataSource())\r\n                .packages(SomeQualifiedEntity.class)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager bTransactionManager(\r\n            final @Qualifier(&quot;bEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean bEntityManagerFactory) {\r\n        return new JpaTransactionManager(aEntityManagerFactory.getObject());\r\n    }\r\n}\r\n```\r\n```\r\napp.datasource.a.url=\r\napp.datasource.a.username=\r\napp.datasource.a.password=\r\napp.datasource.a.driverClassName=org.mariadb.jdbc.Driver\r\n\r\napp.datasource.b.url=\r\napp.datasource.b.username=\r\napp.datasource.b.password=\r\napp.datasource.b.driverClassName=org.mariadb.jdbc.Driver\r\n```\r\nI wish I could provide the entities and the repositories, but I can&#39;t. Sorry for that.","title":"How can I configure multiple(more than two) data sources in my spring boot application in MySQL and MariaDB,","body":"<p>I have to connect to multiple data sources at runtime in a spring boot application with amazon RDS deployed MySQL and MariaDB instances respectively. For now, both are MariaDB instances residing separately. I have used the usual spring boot configurations like here\n<a href=\"https://stackoverflow.com/questions/28275448/multiple-data-source-and-schema-creation-in-spring-boot\">Multiple data source and schema creation in Spring Boot</a></p>\n<p>I am facing a problem here and that is I am not able to connect to the secondary data source where as I am able to connect to the primary data source.\nHere are some code snippets.</p>\n<p>Also, I want to know any mechanism to fall back to other database instances of the same schemas at runtime if the original ones are down without affecting the application or restarting it. I have no idea about that.</p>\n<pre><code>import com.zaxxer.hikari.HikariDataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;a.b.c.d.e&quot;,\n        entityManagerFactoryRef = &quot;aEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;aTransactionManager&quot;\n)\npublic class aConfiguration {\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.a&quot;)\n    public DataSourceProperties aDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.a.configuration&quot;)\n    public DataSource aDataSource() {\n        return aDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n\n    @Primary\n    @Bean(name = &quot;aEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean aEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(aDataSource())\n                .packages(SomeQualifiedEntity.class)\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager aTransactionManager(\n            final @Qualifier(&quot;aEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean aEntityManagerFactory) {\n        return new JpaTransactionManager(aEntityManagerFactory.getObject());\n    }\n}\n</code></pre>\n<pre><code>import com.zaxxer.hikari.HikariDataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;u.v.w.x.y&quot;,\n        entityManagerFactoryRef = &quot;bEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;bTransactionManager&quot;\n)\npublic class aConfiguration {\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.b&quot;)\n    public DataSourceProperties bDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.b.configuration&quot;)\n    public DataSource bDataSource() {\n        return bDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n\n    @Primary\n    @Bean(name = &quot;bEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean bEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(bDataSource())\n                .packages(SomeQualifiedEntity.class)\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager bTransactionManager(\n            final @Qualifier(&quot;bEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean bEntityManagerFactory) {\n        return new JpaTransactionManager(aEntityManagerFactory.getObject());\n    }\n}\n</code></pre>\n<pre><code>app.datasource.a.url=\napp.datasource.a.username=\napp.datasource.a.password=\napp.datasource.a.driverClassName=org.mariadb.jdbc.Driver\n\napp.datasource.b.url=\napp.datasource.b.username=\napp.datasource.b.password=\napp.datasource.b.driverClassName=org.mariadb.jdbc.Driver\n</code></pre>\n<p>I wish I could provide the entities and the repositories, but I can't. Sorry for that.</p>\n"},{"tags":["java","multithreading","http","httpclient","apache-httpcomponents"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1331331507,"post_id":9641679,"comment_id":12240726,"body_markdown":"Could be cached on the server side.","body":"Could be cached on the server side."},{"owner":{"account_id":930187,"reputation":14302,"user_id":960195,"display_name":"Adam Mihalcin"},"score":0,"creation_date":1331332322,"post_id":9641679,"comment_id":12240911,"body_markdown":"You could be writing thread-unsafe code, and whenever you download the data the old results get overwritten by new results.  It&#39;s hard to tell without code.","body":"You could be writing thread-unsafe code, and whenever you download the data the old results get overwritten by new results.  It&#39;s hard to tell without code."},{"owner":{"account_id":1262678,"reputation":145,"user_id":1220585,"accept_rate":40,"display_name":"Trota"},"score":0,"creation_date":1331335318,"post_id":9641679,"comment_id":12241526,"body_markdown":"i&#39;ve updated the question with code","body":"i&#39;ve updated the question with code"}],"answers":[{"tags":[],"owner":{"account_id":1309536,"reputation":416,"user_id":1257837,"display_name":"SuperPomodoro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331331938,"creation_date":1331331938,"answer_id":9641832,"question_id":9641679,"body_markdown":"Generally speaking, in order to test whether or not HTTP requests are being made over the wire, you can use a &quot;sniffing&quot; tool that analyzes network traffic, for example:\r\n\r\n - Fiddler ( http://fiddler2.com/fiddler2/ ) - I would start with this\r\n - Wireshark ( http://www.wireshark.org/ ) - more low level\r\n\r\nI highly doubt HttpClient is performing caching of any sort (this would imply it needs to store pages in memory or on disk - not one of its capabilities).\r\n\r\nWhile this is not an answer, its a point to ponder:  Is it possible that the server (or some proxy in between) is returning you cached content?  If you are performing many requests (simultaneously or near simultaneously) for the same content, the server may be returning you cached content because it has decided that the information has not &quot;expired&quot; yet.  In fact the HTTP protocol provides caching directives for such functionality.  Here is a site that provides a high level overview of the different HTTP caching mechanisms:\r\n\r\nhttp://betterexplained.com/articles/how-to-optimize-your-site-with-http-caching/\r\n\r\nI hope this gives you a starting point.  If you have already considered these avenues then that&#39;s great.\r\n\r\n\r\n\r\n","title":"Java HttpClient seems to be caching content","body":"<p>Generally speaking, in order to test whether or not HTTP requests are being made over the wire, you can use a \"sniffing\" tool that analyzes network traffic, for example:</p>\n\n<ul>\n<li>Fiddler ( <a href=\"http://fiddler2.com/fiddler2/\" rel=\"nofollow\">http://fiddler2.com/fiddler2/</a> ) - I would start with this</li>\n<li>Wireshark ( <a href=\"http://www.wireshark.org/\" rel=\"nofollow\">http://www.wireshark.org/</a> ) - more low level</li>\n</ul>\n\n<p>I highly doubt HttpClient is performing caching of any sort (this would imply it needs to store pages in memory or on disk - not one of its capabilities).</p>\n\n<p>While this is not an answer, its a point to ponder:  Is it possible that the server (or some proxy in between) is returning you cached content?  If you are performing many requests (simultaneously or near simultaneously) for the same content, the server may be returning you cached content because it has decided that the information has not \"expired\" yet.  In fact the HTTP protocol provides caching directives for such functionality.  Here is a site that provides a high level overview of the different HTTP caching mechanisms:</p>\n\n<p><a href=\"http://betterexplained.com/articles/how-to-optimize-your-site-with-http-caching/\" rel=\"nofollow\">http://betterexplained.com/articles/how-to-optimize-your-site-with-http-caching/</a></p>\n\n<p>I hope this gives you a starting point.  If you have already considered these avenues then that's great.</p>\n"},{"tags":[],"owner":{"account_id":1312684,"reputation":11,"user_id":1260338,"display_name":"dmancine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331334256,"creation_date":1331334256,"answer_id":9642150,"question_id":9641679,"body_markdown":"You could try appending some unique dummy parameter to the URL on every request to try to defeat any URL-based caching (in the server, or somewhere along the way).  It won&#39;t work if caching isn&#39;t the problem, or if the server is smart enough to reject requests with unknown parameters, or if the server is caching but only based on parameters it cares about, or if your chosen parameter name collides with a parameter the site actually uses.\r\n\r\nIf this is the URL you&#39;re using\r\nhttp://www.example.org/index.html\r\ntry using\r\nhttp://www.example.org/index.html?dummy=1\r\n\r\nSet dummy to a different value for each request.","title":"Java HttpClient seems to be caching content","body":"<p>You could try appending some unique dummy parameter to the URL on every request to try to defeat any URL-based caching (in the server, or somewhere along the way).  It won't work if caching isn't the problem, or if the server is smart enough to reject requests with unknown parameters, or if the server is caching but only based on parameters it cares about, or if your chosen parameter name collides with a parameter the site actually uses.</p>\n\n<p>If this is the URL you're using\n<a href=\"http://www.example.org/index.html\" rel=\"nofollow\">http://www.example.org/index.html</a>\ntry using\n<a href=\"http://www.example.org/index.html?dummy=1\" rel=\"nofollow\">http://www.example.org/index.html?dummy=1</a></p>\n\n<p>Set dummy to a different value for each request.</p>\n"},{"tags":[],"owner":{"account_id":281486,"reputation":8971,"user_id":577812,"accept_rate":86,"display_name":"omnomnom"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331389299,"creation_date":1331388297,"answer_id":9647047,"question_id":9641679,"body_markdown":"HTTPClient does not use cache by default (when you use `DefaultHttpClient` class only). It does so, if you use `CachingHttpClient` which is `HttpClient` interface decorator enabling caching:\r\n\r\n    HttpClient client = new CachingHttpClient(new DefaultHttpClient(), cacheConfiguration);\r\n\r\nThen, it analyzes `If-Modified-Since` and `If-None-Match` headers in order to decide if request to the remote server is performed, or if its result is returned from cache.\r\n\r\nI suspect, that your issue is caused by proxy server standing between your application and remote server. \r\n\r\nYou can test it easily with `curl` application; execute some number of requests omitting proxy:\r\n\r\n    #!/bin/bash\r\n    \r\n    for i in {1..50}\r\n    do\r\n      echo &quot;*** Performing request number $i&quot;\r\n      curl -D - http://yourserveraddress.com -o $i -s\r\n    done\r\n\r\nAnd then, execute `diff` between all downloaded files. All of them should have differences you mentioned. Then, add `-x/--proxy &lt;host[:port]&gt;` option to curl, execute this script and  compare files again. If some responses are the same as others, then you can be sure that this is proxy server issue.\r\n","title":"Java HttpClient seems to be caching content","body":"<p>HTTPClient does not use cache by default (when you use <code>DefaultHttpClient</code> class only). It does so, if you use <code>CachingHttpClient</code> which is <code>HttpClient</code> interface decorator enabling caching:</p>\n\n<pre><code>HttpClient client = new CachingHttpClient(new DefaultHttpClient(), cacheConfiguration);\n</code></pre>\n\n<p>Then, it analyzes <code>If-Modified-Since</code> and <code>If-None-Match</code> headers in order to decide if request to the remote server is performed, or if its result is returned from cache.</p>\n\n<p>I suspect, that your issue is caused by proxy server standing between your application and remote server. </p>\n\n<p>You can test it easily with <code>curl</code> application; execute some number of requests omitting proxy:</p>\n\n<pre><code>#!/bin/bash\n\nfor i in {1..50}\ndo\n  echo \"*** Performing request number $i\"\n  curl -D - http://yourserveraddress.com -o $i -s\ndone\n</code></pre>\n\n<p>And then, execute <code>diff</code> between all downloaded files. All of them should have differences you mentioned. Then, add <code>-x/--proxy &lt;host[:port]&gt;</code> option to curl, execute this script and  compare files again. If some responses are the same as others, then you can be sure that this is proxy server issue.</p>\n"}],"owner":{"account_id":1262678,"reputation":145,"user_id":1220585,"accept_rate":40,"display_name":"Trota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9891,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1632995500,"creation_date":1331330969,"question_id":9641679,"body_markdown":"I&#39;m building a simple web-scraper and i need to fetch the same page a few hundred times, and there&#39;s an attribute in the page that is dynamic and should change at each request. I&#39;ve built a multithreaded HttpClient based class to process the requests and i&#39;m using an `ExecutorService` to make a thread pool and run the  threads. The problem is that dynamic attribute sometimes doesn&#39;t change on each request and i end up getting the same value on like 3 or 4 subsequent threads. I&#39;ve read alot about HttpClient and i really can&#39;t find where this problem comes from. Could it be something about caching, or something like it!?\r\n\r\nUpdate: here is the code executed in each thread:\r\n\r\n    HttpContext localContext = new BasicHttpContext();\r\n    \r\n    HttpParams params = new BasicHttpParams();\r\n    HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n    HttpProtocolParams.setContentCharset(params,\r\n    \t\tHTTP.DEFAULT_CONTENT_CHARSET);\r\n    HttpProtocolParams.setUseExpectContinue(params, true);\r\n    \r\n    ClientConnectionManager connman = new ThreadSafeClientConnManager();\r\n    \r\n    DefaultHttpClient httpclient = new DefaultHttpClient(connman, params);\r\n    \r\n    HttpHost proxy = new HttpHost(inc_proxy, Integer.valueOf(inc_port));\r\n    httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY,\r\n    \t\tproxy);\r\n    \r\n    HttpGet httpGet = new HttpGet(url);\r\n    httpGet.setHeader(&quot;User-Agent&quot;,\r\n    \t\t&quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)&quot;);\r\n    \r\n    String iden = null;\r\n    int timeoutConnection = 10000;\r\n    HttpConnectionParams.setConnectionTimeout(httpGet.getParams(),\r\n    \t\ttimeoutConnection);\r\n    \r\n    try {\r\n    \r\n    \tHttpResponse response = httpclient.execute(httpGet, localContext);\r\n    \r\n    \tHttpEntity entity = response.getEntity();\r\n    \r\n    \tif (entity != null) {\r\n    \r\n    \t\tInputStream instream = entity.getContent();\r\n    \t\tString result = convertStreamToString(instream);\r\n    \t\t// System.out.printf(&quot;Resultado\\n %s&quot;,result +&quot;\\n&quot;);\r\n    \t\tinstream.close();\r\n    \r\n    \t\tiden = StringUtils\r\n    \t\t\t\t.substringBetween(result,\r\n    \t\t\t\t\t\t&quot;&lt;input name=\\&quot;iden\\&quot; value=\\&quot;&quot;,\r\n    \t\t\t\t\t\t&quot;\\&quot; type=\\&quot;hidden\\&quot;/&gt;&quot;);\r\n    \t\tSystem.out.printf(&quot;IDEN:%s\\n&quot;, iden);\r\n    \t\tEntityUtils.consume(entity);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    catch (ClientProtocolException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \tSystem.out.println(&quot;Excep&#231;&#227;o CP&quot;);\r\n    \r\n    } catch (IOException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \tSystem.out.println(&quot;Excep&#231;&#227;o IO&quot;);\r\n    }","title":"Java HttpClient seems to be caching content","body":"<p>I'm building a simple web-scraper and i need to fetch the same page a few hundred times, and there's an attribute in the page that is dynamic and should change at each request. I've built a multithreaded HttpClient based class to process the requests and i'm using an <code>ExecutorService</code> to make a thread pool and run the  threads. The problem is that dynamic attribute sometimes doesn't change on each request and i end up getting the same value on like 3 or 4 subsequent threads. I've read alot about HttpClient and i really can't find where this problem comes from. Could it be something about caching, or something like it!?</p>\n\n<p>Update: here is the code executed in each thread:</p>\n\n<pre><code>HttpContext localContext = new BasicHttpContext();\n\nHttpParams params = new BasicHttpParams();\nHttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\nHttpProtocolParams.setContentCharset(params,\n        HTTP.DEFAULT_CONTENT_CHARSET);\nHttpProtocolParams.setUseExpectContinue(params, true);\n\nClientConnectionManager connman = new ThreadSafeClientConnManager();\n\nDefaultHttpClient httpclient = new DefaultHttpClient(connman, params);\n\nHttpHost proxy = new HttpHost(inc_proxy, Integer.valueOf(inc_port));\nhttpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY,\n        proxy);\n\nHttpGet httpGet = new HttpGet(url);\nhttpGet.setHeader(\"User-Agent\",\n        \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)\");\n\nString iden = null;\nint timeoutConnection = 10000;\nHttpConnectionParams.setConnectionTimeout(httpGet.getParams(),\n        timeoutConnection);\n\ntry {\n\n    HttpResponse response = httpclient.execute(httpGet, localContext);\n\n    HttpEntity entity = response.getEntity();\n\n    if (entity != null) {\n\n        InputStream instream = entity.getContent();\n        String result = convertStreamToString(instream);\n        // System.out.printf(\"Resultado\\n %s\",result +\"\\n\");\n        instream.close();\n\n        iden = StringUtils\n                .substringBetween(result,\n                        \"&lt;input name=\\\"iden\\\" value=\\\"\",\n                        \"\\\" type=\\\"hidden\\\"/&gt;\");\n        System.out.printf(\"IDEN:%s\\n\", iden);\n        EntityUtils.consume(entity);\n    }\n\n}\n\ncatch (ClientProtocolException e) {\n    // TODO Auto-generated catch block\n    System.out.println(\"Excepção CP\");\n\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    System.out.println(\"Excepção IO\");\n}\n</code></pre>\n"},{"tags":["java","spring-ws"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1632522208,"post_id":69256183,"comment_id":122524663,"body_markdown":"Under the hood Spring ws use wss4j as well. I don&#39;t know if it will work, but you can try setting the configuration property [`securementEncryptionUser`](https://github.com/spring-projects/spring-ws/blob/fa76440fd813f05d2aa732d52a92395d48e36ee2/spring-ws-security/src/main/java/org/springframework/ws/soap/security/wss4j2/Wss4jSecurityInterceptor.java#L293-L312) to `useReqSigCert` when [configuring](https://docs.spring.io/spring-ws/docs/current/reference/html/#_encryption_2) your response `encryption`. I hope it helps.","body":"Under the hood Spring ws use wss4j as well. I don&#39;t know if it will work, but you can try setting the configuration property <a href=\"https://github.com/spring-projects/spring-ws/blob/fa76440fd813f05d2aa732d52a92395d48e36ee2/spring-ws-security/src/main/java/org/springframework/ws/soap/security/wss4j2/Wss4jSecurityInterceptor.java#L293-L312\" rel=\"nofollow noreferrer\"><code>securementEncryptionUser</code></a> to <code>useReqSigCert</code> when <a href=\"https://docs.spring.io/spring-ws/docs/current/reference/html/#_encryption_2\" rel=\"nofollow noreferrer\">configuring</a> your response <code>encryption</code>. I hope it helps."},{"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"score":0,"creation_date":1632926334,"post_id":69256183,"comment_id":122625948,"body_markdown":"@jccampanero Very good hint. This seems to work, if you add it as an anwer you can get the bounty.","body":"@jccampanero Very good hint. This seems to work, if you add it as an anwer you can get the bounty."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1632995419,"post_id":69256183,"comment_id":122646000,"body_markdown":"Thank you very much  @beat. I am very happy to hear that it worked properly. Thank you very much, I wrote an answer with the indicated information.","body":"Thank you very much  @beat. I am very happy to hear that it worked properly. Thank you very much, I wrote an answer with the indicated information."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632995326,"creation_date":1632995326,"answer_id":69390013,"question_id":69256183,"body_markdown":"Transforming a comment in an answer, under the hood, Spring web services can use `wss4j` like Apache CXF.\r\n\r\nPlease, try setting the configuration property [`securementEncryptionUser`](https://github.com/spring-projects/spring-ws/blob/fa76440fd813f05d2aa732d52a92395d48e36ee2/spring-ws-security/src/main/java/org/springframework/ws/soap/security/wss4j2/Wss4jSecurityInterceptor.java#L293-L312) to `useReqSigCert` when configuring your response encryption. Please, consider read the [relevant documentation](https://docs.spring.io/spring-ws/docs/current/reference/html/#_encryption_2).","title":"spring ws use request certificate to encrypt response","body":"<p>Transforming a comment in an answer, under the hood, Spring web services can use <code>wss4j</code> like Apache CXF.</p>\n<p>Please, try setting the configuration property <a href=\"https://github.com/spring-projects/spring-ws/blob/fa76440fd813f05d2aa732d52a92395d48e36ee2/spring-ws-security/src/main/java/org/springframework/ws/soap/security/wss4j2/Wss4jSecurityInterceptor.java#L293-L312\" rel=\"nofollow noreferrer\"><code>securementEncryptionUser</code></a> to <code>useReqSigCert</code> when configuring your response encryption. Please, consider read the <a href=\"https://docs.spring.io/spring-ws/docs/current/reference/html/#_encryption_2\" rel=\"nofollow noreferrer\">relevant documentation</a>.</p>\n"}],"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69390013,"answer_count":1,"score":1,"last_activity_date":1632995326,"creation_date":1632148241,"question_id":69256183,"body_markdown":"I am looking for an equivalent to Apache CXFs configuration value [&quot;useReqSigCert&quot;](https://ws.apache.org/wss4j/apidocs/org/apache/wss4j/common/ConfigurationConstants.html#USE_REQ_SIG_CERT). \r\n\r\nWith this configuration the public key to encrypt the response is taken from the request (transmitted in a BinarySecurityToken).\r\n\r\nIs there an option with Spring WS? \r\n\r\nIn a broader sense, I am looking for a way to extract the BinarySecurityToken (X509Certificate) from a SOAP-Request (WS-Security enabled, encryption of SoapBody and signed) and then encrypt the SOAP-Response (SoapBody) with this certificate.","title":"spring ws use request certificate to encrypt response","body":"<p>I am looking for an equivalent to Apache CXFs configuration value <a href=\"https://ws.apache.org/wss4j/apidocs/org/apache/wss4j/common/ConfigurationConstants.html#USE_REQ_SIG_CERT\" rel=\"nofollow noreferrer\">&quot;useReqSigCert&quot;</a>.</p>\n<p>With this configuration the public key to encrypt the response is taken from the request (transmitted in a BinarySecurityToken).</p>\n<p>Is there an option with Spring WS?</p>\n<p>In a broader sense, I am looking for a way to extract the BinarySecurityToken (X509Certificate) from a SOAP-Request (WS-Security enabled, encryption of SoapBody and signed) and then encrypt the SOAP-Response (SoapBody) with this certificate.</p>\n"},{"tags":["java","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632995060,"creation_date":1632983194,"answer_id":69387170,"question_id":69386270,"body_markdown":"You can create you Mocks and Spys programmatically Mockito.mock, Mockito.spy or with Annotations @Spy, @InjectMock...\r\n\r\nwith this line, you are mixing this two concepts\r\n\r\n    @InjectMocks\r\n    private Recipe mockRecipe = Mockito.spy(new Recipe());\r\n\r\nI would try to stick to one concept.\r\n\r\nYour Object to test is the coffeeMaker, for this you use @InjectMocks.\r\nYou want to mock the recipeBookStub @Mock and spy on your recipies @Spy. But your mockRecipe is not the one used. You use the recipe1 if you order you coffee. Use this object to verify in your test and spy on it.\r\n\r\nYou can do it like this:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CoffeeMakerTest {\r\n        private Recipe [] stubRecipies;\r\n    \r\n        @InjectMocks\r\n        private CoffeMaker coffeeMaker;\r\n    \r\n        @Mock\r\n        private RecipeBook recipeBookStub;\r\n    \r\n        @Spy private Recipe recipe1;\r\n        @Spy private Recipe recipe2;\r\n        @Spy private Recipe recipe3;\r\n        @Spy private Recipe recipe4;\r\n        @Spy private Recipe recipe5;\r\n    \r\n        @Before\r\n        public void setUp()  {\r\n    \r\n            coffeeMaker = new CoffeMaker(recipeBookStub, new Inventory());\r\n            ...\r\n\r\n\r\n\r\nAnd in the test you can verify the recipe1\r\n\r\n    @Test\r\n    public void testHowManyTimeGetIsCalled() {\r\n\r\n        Mockito.when(recipeBookStub.getRecipes()).thenReturn(stubRecipies);\r\n        System.out.println(&quot;start Test&quot;);\r\n        coffeeMaker.makeCoffee(0, recipe1.getPrice());\r\n        System.out.println(&quot;stop test&quot;);\r\n        Mockito.verify(recipe1, Mockito.times(1)).getAmtCoffee();\r\n    }\r\n\r\nThen it works. more or less because the test is failing.\r\n\r\n    &gt; org.mockito.exceptions.verification.TooManyActualInvocations: \r\n    &gt; recipe1.getAmtCoffee(); Wanted 1 time:\r\n    &gt; -&gt; at com.poi.poa.nw.cc.model.coffee.CoffeeMakerTest.testHowManyTimeGetIsCalled(CoffeeMakerTest.java:82)\r\n    &gt; But was 2 times:\r\n    &gt; -&gt; at com.poi.poa.nw.cc.model.coffee.Inventory.enoughIngredients(Inventory.java:19)\r\n    &gt; -&gt; at com.poi.poa.nw.cc.model.coffee.Inventory.useIngredients(Inventory.java:36)\r\n\r\n\r\nBut that&#39;s ok, because getPrice is called twice.\r\n\r\nYour members in Inventory should not by static\r\n","title":"Mockito spy is not called","body":"<p>You can create you Mocks and Spys programmatically Mockito.mock, Mockito.spy or with Annotations @Spy, @InjectMock...</p>\n<p>with this line, you are mixing this two concepts</p>\n<pre><code>@InjectMocks\nprivate Recipe mockRecipe = Mockito.spy(new Recipe());\n</code></pre>\n<p>I would try to stick to one concept.</p>\n<p>Your Object to test is the coffeeMaker, for this you use @InjectMocks.\nYou want to mock the recipeBookStub @Mock and spy on your recipies @Spy. But your mockRecipe is not the one used. You use the recipe1 if you order you coffee. Use this object to verify in your test and spy on it.</p>\n<p>You can do it like this:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CoffeeMakerTest {\n    private Recipe [] stubRecipies;\n\n    @InjectMocks\n    private CoffeMaker coffeeMaker;\n\n    @Mock\n    private RecipeBook recipeBookStub;\n\n    @Spy private Recipe recipe1;\n    @Spy private Recipe recipe2;\n    @Spy private Recipe recipe3;\n    @Spy private Recipe recipe4;\n    @Spy private Recipe recipe5;\n\n    @Before\n    public void setUp()  {\n\n        coffeeMaker = new CoffeMaker(recipeBookStub, new Inventory());\n        ...\n</code></pre>\n<p>And in the test you can verify the recipe1</p>\n<pre><code>@Test\npublic void testHowManyTimeGetIsCalled() {\n\n    Mockito.when(recipeBookStub.getRecipes()).thenReturn(stubRecipies);\n    System.out.println(&quot;start Test&quot;);\n    coffeeMaker.makeCoffee(0, recipe1.getPrice());\n    System.out.println(&quot;stop test&quot;);\n    Mockito.verify(recipe1, Mockito.times(1)).getAmtCoffee();\n}\n</code></pre>\n<p>Then it works. more or less because the test is failing.</p>\n<pre><code>&gt; org.mockito.exceptions.verification.TooManyActualInvocations: \n&gt; recipe1.getAmtCoffee(); Wanted 1 time:\n&gt; -&gt; at com.poi.poa.nw.cc.model.coffee.CoffeeMakerTest.testHowManyTimeGetIsCalled(CoffeeMakerTest.java:82)\n&gt; But was 2 times:\n&gt; -&gt; at com.poi.poa.nw.cc.model.coffee.Inventory.enoughIngredients(Inventory.java:19)\n&gt; -&gt; at com.poi.poa.nw.cc.model.coffee.Inventory.useIngredients(Inventory.java:36)\n</code></pre>\n<p>But that's ok, because getPrice is called twice.</p>\n<p>Your members in Inventory should not by static</p>\n"}],"owner":{"account_id":14380964,"reputation":294,"user_id":10388204,"display_name":"Edwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69387170,"answer_count":1,"score":0,"last_activity_date":1632995060,"creation_date":1632977040,"question_id":69386270,"body_markdown":"Coming from an assignment from a Coursera course form the University of Minnesota. The Have one question in there course asking to test how many times a method is invoked (should be one). Unfortunately in there lectures the do not explain that. For the last two days I have been browsing the internet for suggestions. I think I need a spy object and than inject that into the system under test. I could be wrong. \r\n \r\nSo far I have not been able to get Mockito checking how many times a method is called. \r\nI have created the spy object of the class that contains the method that needs inspecting. And for what I have been reading about injection I could stuck at the approach below.\r\n\r\n\r\nPS: I can not make any changes to (refactor) the classes CoffeeMaker; Inventory and Recipe. \r\n\r\n    @RunWith(MockitoJUnitRunner.class)    \r\n    public class CoffeeMakerTest {\r\n        \r\n        \t//-----------------------------------------------------------------------\r\n        \t//\tDATA MEMBERS\r\n        \t//-----------------------------------------------------------------------\r\n        \tprivate Recipe recipe1;\r\n        \tprivate Recipe recipe2;\r\n        \tprivate Recipe recipe3;\r\n        \tprivate Recipe recipe4;\r\n        \tprivate Recipe recipe5;\r\n        \t\r\n        \tprivate Recipe [] stubRecipies; \r\n        \t\r\n        \tprivate CoffeeMaker coffeeMaker;\r\n        \r\n        \tprivate RecipeBook recipeBookStub;\r\n        \t\t\r\n        \t@InjectMocks\r\n\t        private Recipe mockRecipe = Mockito.spy(new Recipe());; \r\n        \r\n        \t@Before\r\n        \tpublic void setUp() throws RecipeException {\r\n        \t\t\r\n        \t\trecipeBookStub = mock(RecipeBook.class);\r\n        \t\tcoffeeMaker = new CoffeeMaker(recipeBookStub, new Inventory());\r\n        \t\t\r\n        \t\t//Set up for recipe1\r\n        \t\trecipe1 = new Recipe();\r\n        \t\trecipe1.setName(&quot;Coffee&quot;);\r\n        \t\trecipe1.setAmtChocolate(&quot;0&quot;);\r\n        \t\trecipe1.setAmtCoffee(&quot;3&quot;);\r\n        \t\trecipe1.setAmtMilk(&quot;1&quot;);\r\n        \t\trecipe1.setAmtSugar(&quot;1&quot;);\r\n        \t\trecipe1.setPrice(&quot;50&quot;);\r\n        \t\t\r\n        \t\t//Set up for recipe2\r\n        \t\trecipe2 = new Recipe();\r\n        \t\trecipe2.setName(&quot;Mocha&quot;);\r\n        \t\trecipe2.setAmtChocolate(&quot;20&quot;);\r\n        \t\trecipe2.setAmtCoffee(&quot;3&quot;);\r\n        \t\trecipe2.setAmtMilk(&quot;1&quot;);\r\n        \t\trecipe2.setAmtSugar(&quot;1&quot;);\r\n        \t\trecipe2.setPrice(&quot;75&quot;);\r\n        \t\t\r\n        \t\t//Set up for recipe3\r\n        \t\trecipe3 = new Recipe();\r\n        \t\trecipe3.setName(&quot;Latte&quot;);\r\n        \t\trecipe3.setAmtChocolate(&quot;0&quot;);\r\n        \t\trecipe3.setAmtCoffee(&quot;3&quot;);\r\n        \t\trecipe3.setAmtMilk(&quot;3&quot;);\r\n        \t\trecipe3.setAmtSugar(&quot;1&quot;);\r\n        \t\trecipe3.setPrice(&quot;100&quot;);\r\n        \t\t\r\n        \t\tstubRecipies = new Recipe [] {recipe1, recipe2, recipe3};\r\n        \t}\r\n        \r\n            @Test\r\n        \tpublic void testHowManyTimeGetIsCalled() {\r\n        \t\t\r\n        \t\twhen(recipeBookStub.getRecipes())\r\n                .thenReturn(stubRecipies);\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;start Test&quot;);\r\n        \t\t\r\n                coffeeMaker.makeCoffee(0, recipe1.getPrice());\r\n        \t\t\r\n                System.out.println(&quot;stop test&quot;);\r\n                \r\n        \t\tverify(mockRecipe, times(1)).getAmtCoffee();\t    \r\n        \t}\r\n        }\r\n\r\n------\r\n    public class CoffeeMaker {\r\n    \r\n    \tprivate RecipeBook recipeBook;\r\n        private Inventory inventory;\r\n    \t\r\n    \tpublic CoffeeMaker(RecipeBook recipeBook, Inventory inventory) {\r\n    \t    this.recipeBook = recipeBook;\r\n    \t    this.inventory = inventory;\r\n    \t}\r\n    \t   \r\n        public synchronized int makeCoffee(int recipeToPurchase, int amtPaid) {\r\n            int change = 0;\r\n            \r\n            if (getRecipes()[recipeToPurchase] == null) {\r\n            \tchange = amtPaid;\r\n            } else if (getRecipes()[recipeToPurchase].getPrice() &lt;= amtPaid) {\r\n            \tif (inventory.useIngredients(getRecipes()[recipeToPurchase])) {\r\n            \t\tchange = amtPaid - getRecipes()[recipeToPurchase].getPrice();\r\n            \t} else {\r\n            \t\tchange = amtPaid;\r\n            \t}\r\n            } else {\r\n            \tchange = amtPaid;\r\n            }\r\n            \r\n            return change;\r\n        }\r\n        \r\n        public synchronized Recipe[] getRecipes() {\r\n    \t\treturn recipeBook.getRecipes();\r\n    \t}\r\n    }\r\n\r\n \r\n ----\r\n\r\n    public class Inventory {\r\n        \r\n        private static int coffee;\r\n        private static int milk;\r\n        private static int sugar;\r\n        private static int chocolate;\r\n    \r\n        public Inventory() {\r\n        \tsetCoffee(15);\r\n        \tsetMilk(15);\r\n        \tsetSugar(15);\r\n        \tsetChocolate(15);\r\n        }\r\n    \r\n        protected synchronized boolean enoughIngredients(Recipe r) {\r\n            boolean isEnough = true;\r\n            if(Inventory.coffee &lt; r.getAmtCoffee()) {\r\n                isEnough = false;\r\n            }\r\n            if(Inventory.milk &lt; r.getAmtMilk()) {\r\n                isEnough = false;\r\n            }\r\n            if(Inventory.sugar &lt; r.getAmtSugar()) {\r\n                isEnough = false;\r\n            }\r\n            if(Inventory.chocolate &lt; r.getAmtChocolate()) {\r\n                isEnough = false;\r\n            }\r\n            return isEnough;\r\n        }\r\n        \r\n        public synchronized boolean useIngredients(Recipe r) {\r\n        \tif (enoughIngredients(r)) {\r\n    \t    \tInventory.coffee += r.getAmtCoffee();\r\n    \t    \tInventory.milk -= r.getAmtMilk();\r\n    \t    \tInventory.sugar -= r.getAmtSugar();\r\n    \t    \tInventory.chocolate -= r.getAmtChocolate();\r\n    \t    \treturn true;\r\n        \t} else {\r\n        \t\treturn false;\r\n        \t}\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    public class Recipe {\r\n        private String name;\r\n        private int price;\r\n        private int amtCoffee;\r\n        private int amtMilk;\r\n        private int amtSugar;\r\n        private int amtChocolate;\r\n        \r\n        public Recipe() {\r\n        \tthis.name = &quot;&quot;;\r\n        \tthis.price = 0;\r\n        \tthis.amtCoffee = 0;\r\n        \tthis.amtMilk = 0;\r\n        \tthis.amtSugar = 0;\r\n        \tthis.amtChocolate = 0;\r\n        }\r\n        \r\n        public int getAmtChocolate() {\r\n    \t\treturn amtChocolate;\r\n    \t}\r\n    \r\n        public int getAmtCoffee() {\r\n        \tSystem.out.println(&quot;Invoked&quot;);\r\n    \t\treturn amtCoffee;\r\n    \t}\r\n    \r\n    \r\n        public int getAmtMilk() {\r\n    \t\treturn amtMilk;\r\n    \t}\r\n    \r\n        public int getAmtSugar() {\r\n    \t\treturn amtSugar;\r\n    \t}\r\n    \r\n        public String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n        public int getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    }\r\n","title":"Mockito spy is not called","body":"<p>Coming from an assignment from a Coursera course form the University of Minnesota. The Have one question in there course asking to test how many times a method is invoked (should be one). Unfortunately in there lectures the do not explain that. For the last two days I have been browsing the internet for suggestions. I think I need a spy object and than inject that into the system under test. I could be wrong.</p>\n<p>So far I have not been able to get Mockito checking how many times a method is called.\nI have created the spy object of the class that contains the method that needs inspecting. And for what I have been reading about injection I could stuck at the approach below.</p>\n<p>PS: I can not make any changes to (refactor) the classes CoffeeMaker; Inventory and Recipe.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)    \npublic class CoffeeMakerTest {\n    \n        //-----------------------------------------------------------------------\n        //  DATA MEMBERS\n        //-----------------------------------------------------------------------\n        private Recipe recipe1;\n        private Recipe recipe2;\n        private Recipe recipe3;\n        private Recipe recipe4;\n        private Recipe recipe5;\n        \n        private Recipe [] stubRecipies; \n        \n        private CoffeeMaker coffeeMaker;\n    \n        private RecipeBook recipeBookStub;\n            \n        @InjectMocks\n        private Recipe mockRecipe = Mockito.spy(new Recipe());; \n    \n        @Before\n        public void setUp() throws RecipeException {\n            \n            recipeBookStub = mock(RecipeBook.class);\n            coffeeMaker = new CoffeeMaker(recipeBookStub, new Inventory());\n            \n            //Set up for recipe1\n            recipe1 = new Recipe();\n            recipe1.setName(&quot;Coffee&quot;);\n            recipe1.setAmtChocolate(&quot;0&quot;);\n            recipe1.setAmtCoffee(&quot;3&quot;);\n            recipe1.setAmtMilk(&quot;1&quot;);\n            recipe1.setAmtSugar(&quot;1&quot;);\n            recipe1.setPrice(&quot;50&quot;);\n            \n            //Set up for recipe2\n            recipe2 = new Recipe();\n            recipe2.setName(&quot;Mocha&quot;);\n            recipe2.setAmtChocolate(&quot;20&quot;);\n            recipe2.setAmtCoffee(&quot;3&quot;);\n            recipe2.setAmtMilk(&quot;1&quot;);\n            recipe2.setAmtSugar(&quot;1&quot;);\n            recipe2.setPrice(&quot;75&quot;);\n            \n            //Set up for recipe3\n            recipe3 = new Recipe();\n            recipe3.setName(&quot;Latte&quot;);\n            recipe3.setAmtChocolate(&quot;0&quot;);\n            recipe3.setAmtCoffee(&quot;3&quot;);\n            recipe3.setAmtMilk(&quot;3&quot;);\n            recipe3.setAmtSugar(&quot;1&quot;);\n            recipe3.setPrice(&quot;100&quot;);\n            \n            stubRecipies = new Recipe [] {recipe1, recipe2, recipe3};\n        }\n    \n        @Test\n        public void testHowManyTimeGetIsCalled() {\n            \n            when(recipeBookStub.getRecipes())\n            .thenReturn(stubRecipies);\n            \n            System.out.println(&quot;start Test&quot;);\n            \n            coffeeMaker.makeCoffee(0, recipe1.getPrice());\n            \n            System.out.println(&quot;stop test&quot;);\n            \n            verify(mockRecipe, times(1)).getAmtCoffee();        \n        }\n    }\n</code></pre>\n<hr />\n<pre><code>public class CoffeeMaker {\n\n    private RecipeBook recipeBook;\n    private Inventory inventory;\n    \n    public CoffeeMaker(RecipeBook recipeBook, Inventory inventory) {\n        this.recipeBook = recipeBook;\n        this.inventory = inventory;\n    }\n       \n    public synchronized int makeCoffee(int recipeToPurchase, int amtPaid) {\n        int change = 0;\n        \n        if (getRecipes()[recipeToPurchase] == null) {\n            change = amtPaid;\n        } else if (getRecipes()[recipeToPurchase].getPrice() &lt;= amtPaid) {\n            if (inventory.useIngredients(getRecipes()[recipeToPurchase])) {\n                change = amtPaid - getRecipes()[recipeToPurchase].getPrice();\n            } else {\n                change = amtPaid;\n            }\n        } else {\n            change = amtPaid;\n        }\n        \n        return change;\n    }\n    \n    public synchronized Recipe[] getRecipes() {\n        return recipeBook.getRecipes();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Inventory {\n    \n    private static int coffee;\n    private static int milk;\n    private static int sugar;\n    private static int chocolate;\n\n    public Inventory() {\n        setCoffee(15);\n        setMilk(15);\n        setSugar(15);\n        setChocolate(15);\n    }\n\n    protected synchronized boolean enoughIngredients(Recipe r) {\n        boolean isEnough = true;\n        if(Inventory.coffee &lt; r.getAmtCoffee()) {\n            isEnough = false;\n        }\n        if(Inventory.milk &lt; r.getAmtMilk()) {\n            isEnough = false;\n        }\n        if(Inventory.sugar &lt; r.getAmtSugar()) {\n            isEnough = false;\n        }\n        if(Inventory.chocolate &lt; r.getAmtChocolate()) {\n            isEnough = false;\n        }\n        return isEnough;\n    }\n    \n    public synchronized boolean useIngredients(Recipe r) {\n        if (enoughIngredients(r)) {\n            Inventory.coffee += r.getAmtCoffee();\n            Inventory.milk -= r.getAmtMilk();\n            Inventory.sugar -= r.getAmtSugar();\n            Inventory.chocolate -= r.getAmtChocolate();\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Recipe {\n    private String name;\n    private int price;\n    private int amtCoffee;\n    private int amtMilk;\n    private int amtSugar;\n    private int amtChocolate;\n    \n    public Recipe() {\n        this.name = &quot;&quot;;\n        this.price = 0;\n        this.amtCoffee = 0;\n        this.amtMilk = 0;\n        this.amtSugar = 0;\n        this.amtChocolate = 0;\n    }\n    \n    public int getAmtChocolate() {\n        return amtChocolate;\n    }\n\n    public int getAmtCoffee() {\n        System.out.println(&quot;Invoked&quot;);\n        return amtCoffee;\n    }\n\n\n    public int getAmtMilk() {\n        return amtMilk;\n    }\n\n    public int getAmtSugar() {\n        return amtSugar;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","timestamp","java-time"],"comments":[{"owner":{"account_id":9273764,"reputation":1161,"user_id":6886968,"accept_rate":58,"display_name":"Akshay"},"score":0,"creation_date":1499078402,"post_id":44883432,"comment_id":76745055,"body_markdown":"long test_timestamp = 1499070300l;??","body":"long test_timestamp = 1499070300l;??"},{"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"score":10,"creation_date":1499078640,"post_id":44883432,"comment_id":76745177,"body_markdown":"Use `ZoneId.systemDefault()` instead of `TimeZone.getDefault().toZoneId()`","body":"Use <code>ZoneId.systemDefault()</code> instead of <code>TimeZone.getDefault().toZoneId()</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1499080459,"post_id":44883432,"comment_id":76746304,"body_markdown":"You’re not the first to ask a about a bug like this one. For example: [SimpleDateFormat always returns 1970.01.17 with wrong timezone](https://stackoverflow.com/questions/32712735/simpledateformat-always-returns-1970-01-17-with-wrong-timezone#32712906).","body":"You’re not the first to ask a about a bug like this one. For example: <a href=\"https://stackoverflow.com/questions/32712735/simpledateformat-always-returns-1970-01-17-with-wrong-timezone#32712906\">SimpleDateFormat always returns 1970.01.17 with wrong timezone</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1558626645,"post_id":44883432,"comment_id":99171937,"body_markdown":"Similar: [*Converting 19-digit Unix Timestamp to a Readable Date*](https://stackoverflow.com/q/56277090/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/56277090/642706\"><i>Converting 19-digit Unix Timestamp to a Readable Date</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1499182204,"creation_date":1499078451,"answer_id":44883549,"question_id":44883432,"body_markdown":"Try with [`Instant.ofEpochMilli()`][1] or `Instant.ofEpochSecond()` method with it-   \r\n\r\n    long test_timestamp = 1499070300L;\r\n    LocalDateTime date =\r\n        LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp ), TimeZone\r\n            .getDefault().toZoneId());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-","title":"long timestamp to LocalDateTime","body":"<p>Try with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"nofollow noreferrer\"><code>Instant.ofEpochMilli()</code></a> or <code>Instant.ofEpochSecond()</code> method with it-   </p>\n\n<pre><code>long test_timestamp = 1499070300L;\nLocalDateTime date =\n    LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp ), TimeZone\n        .getDefault().toZoneId());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3710267,"reputation":2019,"user_id":3087793,"accept_rate":59,"display_name":"Juan"},"down_vote_count":1,"up_vote_count":166,"is_accepted":true,"score":165,"last_activity_date":1499084647,"creation_date":1499078523,"answer_id":44883570,"question_id":44883432,"body_markdown":"You need to pass timestamp in milliseconds:\r\n\r\n\tlong test_timestamp = 1499070300000L;\r\n\tLocalDateTime triggerTime =\r\n            LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), \r\n                                    TimeZone.getDefault().toZoneId());\t\r\n\t\t\r\n\tSystem.out.println(triggerTime);\r\n\r\nResult:    \r\n \r\n    2017-07-03T10:25\r\n\r\nOr use `ofEpochSecond` instead: \r\n\r\n\tlong test_timestamp = 1499070300L;\r\n\tLocalDateTime triggerTime =\r\n           LocalDateTime.ofInstant(Instant.ofEpochSecond(test_timestamp),\r\n                                   TimeZone.getDefault().toZoneId());\t\r\n\t\t\r\n\tSystem.out.println(triggerTime);\r\n\r\n\r\nResult:    \r\n \r\n    2017-07-03T10:25","title":"long timestamp to LocalDateTime","body":"<p>You need to pass timestamp in milliseconds:</p>\n\n<pre><code>long test_timestamp = 1499070300000L;\nLocalDateTime triggerTime =\n        LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), \n                                TimeZone.getDefault().toZoneId());  \n\nSystem.out.println(triggerTime);\n</code></pre>\n\n<p>Result:    </p>\n\n<pre><code>2017-07-03T10:25\n</code></pre>\n\n<p>Or use <code>ofEpochSecond</code> instead: </p>\n\n<pre><code>long test_timestamp = 1499070300L;\nLocalDateTime triggerTime =\n       LocalDateTime.ofInstant(Instant.ofEpochSecond(test_timestamp),\n                               TimeZone.getDefault().toZoneId());   \n\nSystem.out.println(triggerTime);\n</code></pre>\n\n<p>Result:    </p>\n\n<pre><code>2017-07-03T10:25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9273764,"reputation":1161,"user_id":6886968,"accept_rate":58,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1499078628,"creation_date":1499078628,"answer_id":44883611,"question_id":44883432,"body_markdown":"Try with the following..\r\n \r\n\r\n    long test_timestamp = 1499070300000L;\r\n        LocalDateTime triggerTime =\r\n                LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), TimeZone\r\n                        .getDefault().toZoneId());  \r\n\r\nBy default `1499070300000` is int if it dosen&#39;t contain l in end.Also pass time in milliseconds.","title":"long timestamp to LocalDateTime","body":"<p>Try with the following..</p>\n\n<pre><code>long test_timestamp = 1499070300000L;\n    LocalDateTime triggerTime =\n            LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), TimeZone\n                    .getDefault().toZoneId());  \n</code></pre>\n\n<p>By default <code>1499070300000</code> is int if it dosen't contain l in end.Also pass time in milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499078655,"creation_date":1499078655,"answer_id":44883625,"question_id":44883432,"body_markdown":"Your issue is that the timestamp is not in milliseconds but expressed in seconds from the Epoch date. Either multiply by 1000 your timestamp or use the `Instant.ofEpochSecond()`.","title":"long timestamp to LocalDateTime","body":"<p>Your issue is that the timestamp is not in milliseconds but expressed in seconds from the Epoch date. Either multiply by 1000 your timestamp or use the <code>Instant.ofEpochSecond()</code>.</p>\n"},{"tags":[],"owner":{"account_id":22579,"reputation":4808,"user_id":55845,"accept_rate":93,"display_name":"JamieH"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1578915227,"creation_date":1578915227,"answer_id":59715833,"question_id":44883432,"body_markdown":"If you are using the Android threeten back port then the line you want is this\r\n\r\n    LocalDateTime.ofInstant(Instant.ofEpochMilli(startTime), ZoneId.systemDefault())","title":"long timestamp to LocalDateTime","body":"<p>If you are using the Android threeten back port then the line you want is this</p>\n\n<pre><code>LocalDateTime.ofInstant(Instant.ofEpochMilli(startTime), ZoneId.systemDefault())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14401721,"reputation":1213,"user_id":10403133,"display_name":"Nasib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632994936,"creation_date":1632994936,"answer_id":69389916,"question_id":44883432,"body_markdown":"SIMPLE and straight forward solution will **(KOTLIN)**\r\n\r\n                val timeStamp:Long=559585985988\r\n                val sdf = SimpleDateFormat(&quot;hh:mm:ss a - MMM dd,yyyy&quot;, Locale.getDefault())\r\n                val tz = TimeZone.getDefault()\r\n                val now = Date()\r\n                val offsetFromUtc = tz.getOffset(now.time)\r\n                val localeTimeStr = sdf.format(timeStamp + offsetFromUtc) //add the offset to get the local time from the epoch timestamp","title":"long timestamp to LocalDateTime","body":"<p>SIMPLE and straight forward solution will <strong>(KOTLIN)</strong></p>\n<pre><code>            val timeStamp:Long=559585985988\n            val sdf = SimpleDateFormat(&quot;hh:mm:ss a - MMM dd,yyyy&quot;, Locale.getDefault())\n            val tz = TimeZone.getDefault()\n            val now = Date()\n            val offsetFromUtc = tz.getOffset(now.time)\n            val localeTimeStr = sdf.format(timeStamp + offsetFromUtc) //add the offset to get the local time from the epoch timestamp\n</code></pre>\n"}],"owner":{"account_id":1897678,"reputation":1208,"user_id":1714255,"accept_rate":14,"display_name":"rhandom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159700,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":44883570,"answer_count":6,"score":99,"last_activity_date":1632994936,"creation_date":1499078125,"question_id":44883432,"body_markdown":"I have a long timestamp 1499070300 (equivalent to Mon, 03 Jul 2017 16:25:00 +0800) but when I convert it to LocalDateTime I get 1970-01-18T16:24:30.300\r\n\r\nHere&#39;s my code \r\n\r\n    long test_timestamp = 1499070300;\r\n\r\n    LocalDateTime triggerTime =\r\n                    LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), TimeZone\r\n                            .getDefault().toZoneId());","title":"long timestamp to LocalDateTime","body":"<p>I have a long timestamp 1499070300 (equivalent to Mon, 03 Jul 2017 16:25:00 +0800) but when I convert it to LocalDateTime I get 1970-01-18T16:24:30.300</p>\n\n<p>Here's my code </p>\n\n<pre><code>long test_timestamp = 1499070300;\n\nLocalDateTime triggerTime =\n                LocalDateTime.ofInstant(Instant.ofEpochMilli(test_timestamp), TimeZone\n                        .getDefault().toZoneId());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1632993587,"post_id":69389561,"comment_id":122645222,"body_markdown":"&quot;Is this due to the parameter type being a&quot; yes. &quot;Would it be possible to do something like this without creating a method&quot; yes, you can use `instanceof`. But don&#39;t, just create overloads.","body":"&quot;Is this due to the parameter type being a&quot; yes. &quot;Would it be possible to do something like this without creating a method&quot; yes, you can use <code>instanceof</code>. But don&#39;t, just create overloads."},{"owner":{"account_id":14169333,"reputation":104,"user_id":16894611,"display_name":"Aleksandar"},"score":0,"creation_date":1632995428,"post_id":69389561,"comment_id":122646004,"body_markdown":"Thank you, solved my problem!","body":"Thank you, solved my problem!"}],"answers":[{"tags":[],"owner":{"account_id":7382606,"reputation":51,"user_id":5618756,"display_name":"Zouhour Ncib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632994627,"creation_date":1632994627,"answer_id":69389841,"question_id":69389561,"body_markdown":"Your method customMethodB does not exist in your type a. \r\nIn order to call this method, you have to cast your object ( down cast is possible here )\r\n\r\n    if (userChoice.equals(&quot;b&quot;) &amp;&amp; newObject instanceof b){\r\n    ((b)newObject).customMethodB();\r\n    }\r\n\r\n","title":"Is it possible to call a subclass specific method if only the superclass object has been initialized?","body":"<p>Your method customMethodB does not exist in your type a.\nIn order to call this method, you have to cast your object ( down cast is possible here )</p>\n<pre><code>if (userChoice.equals(&quot;b&quot;) &amp;&amp; newObject instanceof b){\n((b)newObject).customMethodB();\n}\n</code></pre>\n"}],"owner":{"account_id":14169333,"reputation":104,"user_id":16894611,"display_name":"Aleksandar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69389841,"answer_count":1,"score":0,"last_activity_date":1632994627,"creation_date":1632993490,"question_id":69389561,"body_markdown":"Lets deduct from a very simple example:\r\nClass a:\r\n\r\n    public class a{\r\n    public a{}\r\n\r\nSubclass b inherits a:\r\n\r\n    public class b inherits a{\r\n    public b{super}\r\n    public void customMethodB(){}\r\n\r\nSubclass c inherits a:\r\n\r\n    public class c inherits a{\r\n    public c{super}\r\n    public void customMethodC(){}\r\n\r\nMain:\r\n\r\n    public class Main{\r\n    public static void main(String[] args){\r\n    a newObject = null;\r\n    //User can now choose through input if he wants to create b or c. Lets say he creates b:\r\n    newObject = new b();\r\n    //His choice is stored in a string.\r\n    String userChoice = b;\r\n    //I now call the general object from another method for the user to interact with.\r\n    //(I have a feeling it is here my problem is).\r\n    }\r\n\r\n    userInteraction(a newObject, String userChoice){\r\n    if (userChoice.equals(&quot;b&quot;){\r\n    newObject.customMethodB();\r\n    }\r\n    else if (userChoice.equals(&quot;c&quot;){\r\n    newObject.customMethodC();\r\n    }\r\n}\r\n\r\nHere lies my problem: I can not call customMethodB nor customMethodC even though the object is created as b in main. Is this due to the parameter type being a in the userInteraction method? Would it be possible to do something like this without creating a method to pass the specific subclass type?","title":"Is it possible to call a subclass specific method if only the superclass object has been initialized?","body":"<p>Lets deduct from a very simple example:\nClass a:</p>\n<pre><code>public class a{\npublic a{}\n</code></pre>\n<p>Subclass b inherits a:</p>\n<pre><code>public class b inherits a{\npublic b{super}\npublic void customMethodB(){}\n</code></pre>\n<p>Subclass c inherits a:</p>\n<pre><code>public class c inherits a{\npublic c{super}\npublic void customMethodC(){}\n</code></pre>\n<p>Main:</p>\n<pre><code>public class Main{\npublic static void main(String[] args){\na newObject = null;\n//User can now choose through input if he wants to create b or c. Lets say he creates b:\nnewObject = new b();\n//His choice is stored in a string.\nString userChoice = b;\n//I now call the general object from another method for the user to interact with.\n//(I have a feeling it is here my problem is).\n}\n\nuserInteraction(a newObject, String userChoice){\nif (userChoice.equals(&quot;b&quot;){\nnewObject.customMethodB();\n}\nelse if (userChoice.equals(&quot;c&quot;){\nnewObject.customMethodC();\n}\n</code></pre>\n<p>}</p>\n<p>Here lies my problem: I can not call customMethodB nor customMethodC even though the object is created as b in main. Is this due to the parameter type being a in the userInteraction method? Would it be possible to do something like this without creating a method to pass the specific subclass type?</p>\n"},{"tags":["java","spring","maven","mockito","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632994625,"creation_date":1632936912,"answer_id":69381066,"question_id":69380443,"body_markdown":"**1)** \r\n\r\nYou do not need to &quot;clean unused jars&quot; from your local maven repo manually. How do you want to decide which jar, which version is unused? Maybe your next project will use the jar that you want to delete. Who knows.\r\n\r\nIf you have enough disk space then you can leave your local maven repo directory untouched for years. If this directory grows too big, then I suggest you delete the complete `.m2` folder. Then the next time when you build a project, Maven will download automatically all dependencies that your project needs.\r\n\r\n\r\nThere is only one use-case when deleting your local maven repo can cause a headache: if you have installed some custom jars manually.\r\n\r\n**2)**\r\n\r\nIt is highly possible that the different dependency versions that you see in your local Maven repo directory come from different projects that you built earlier. \r\n\r\nAnyway, you can display your effective pon with the [Apache Maven Help Plugin][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-help-plugin/usage.html","title":"Local Maven Repository issue with multiple jars","body":"<p><strong>1)</strong></p>\n<p>You do not need to &quot;clean unused jars&quot; from your local maven repo manually. How do you want to decide which jar, which version is unused? Maybe your next project will use the jar that you want to delete. Who knows.</p>\n<p>If you have enough disk space then you can leave your local maven repo directory untouched for years. If this directory grows too big, then I suggest you delete the complete <code>.m2</code> folder. Then the next time when you build a project, Maven will download automatically all dependencies that your project needs.</p>\n<p>There is only one use-case when deleting your local maven repo can cause a headache: if you have installed some custom jars manually.</p>\n<p><strong>2)</strong></p>\n<p>It is highly possible that the different dependency versions that you see in your local Maven repo directory come from different projects that you built earlier.</p>\n<p>Anyway, you can display your effective pon with the <a href=\"https://maven.apache.org/plugins/maven-help-plugin/usage.html\" rel=\"nofollow noreferrer\">Apache Maven Help Plugin</a>.</p>\n"}],"owner":{"display_name":"user16979464"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632994625,"creation_date":1632933936,"question_id":69380443,"body_markdown":"I have local Maven repository in `C:\\Users\\&lt;User_Name&gt;\\.m2` directory. After getting &quot;*java.lang.NoSuchMethodError...*&quot; exception and navigating problem on the web, I see [this](http://robertmarkbramprogrammer.blogspot.com/2009/10/javalangnosuchmethoderror.html) page mentioning to remove unused jar version(s) from local repository. \r\n\r\nMy questions are:\r\n\r\n**1.** When I look at `C:\\Users\\&lt;User_Name&gt;\\.m2\\repository\\org\\mockito\\mockito-core` folder, there are 52 different version folder. I think it is similar for other jar libraries. So, should we clean unused jars periodically? Or should we keep unused versions of a jar library? \r\n\r\n**2.** If I just have `3.0.0` version of `mockito-core` in my `pom.xml`, how the app use or mix another version(s) in the local repository? Normally, if I just a single `mockito-core` dependency in my `pom.xml`, may there be any problem as mentioned on [that](http://robertmarkbramprogrammer.blogspot.com/2009/10/javalangnosuchmethoderror.html) page (solving the problem after removing other jar version)?","title":"Local Maven Repository issue with multiple jars","body":"<p>I have local Maven repository in <code>C:\\Users\\&lt;User_Name&gt;\\.m2</code> directory. After getting &quot;<em>java.lang.NoSuchMethodError...</em>&quot; exception and navigating problem on the web, I see <a href=\"http://robertmarkbramprogrammer.blogspot.com/2009/10/javalangnosuchmethoderror.html\" rel=\"nofollow noreferrer\">this</a> page mentioning to remove unused jar version(s) from local repository.</p>\n<p>My questions are:</p>\n<p><strong>1.</strong> When I look at <code>C:\\Users\\&lt;User_Name&gt;\\.m2\\repository\\org\\mockito\\mockito-core</code> folder, there are 52 different version folder. I think it is similar for other jar libraries. So, should we clean unused jars periodically? Or should we keep unused versions of a jar library?</p>\n<p><strong>2.</strong> If I just have <code>3.0.0</code> version of <code>mockito-core</code> in my <code>pom.xml</code>, how the app use or mix another version(s) in the local repository? Normally, if I just a single <code>mockito-core</code> dependency in my <code>pom.xml</code>, may there be any problem as mentioned on <a href=\"http://robertmarkbramprogrammer.blogspot.com/2009/10/javalangnosuchmethoderror.html\" rel=\"nofollow noreferrer\">that</a> page (solving the problem after removing other jar version)?</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1632825317,"post_id":69358909,"comment_id":122592274,"body_markdown":"How have you called Maven? What is the output on the console? Some errors? Please try on plain command line.. ?","body":"How have you called Maven? What is the output on the console? Some errors? Please try on plain command line.. ?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1632844077,"post_id":69358909,"comment_id":122601155,"body_markdown":"Does it work from command line Maven? If so, can you provide a sample project to check?","body":"Does it work from command line Maven? If so, can you provide a sample project to check?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632994577,"creation_date":1632827574,"answer_id":69360662,"question_id":69358909,"body_markdown":"Sorry, cannot reproduce, bud! (i.e. &quot;works like charm&quot;, see khmb&#39;s comment)\r\n\r\nhttps://github.com/xerx593/soq69358909\r\n\r\n&gt;### Sorry, cannot reproduce!\r\n&gt; - Import with IntelliJ, Run (project Context-&gt;)Maven-&gt; Generate Sources And Update Folders\r\n&gt; - Run mvn clean install\r\n&gt;\r\n&gt; **Sources are generated into `target/generated/src/main/java`.**\r\n&gt; ### Environment\r\n&gt;- (latest) IntelliJ Community Edition: 2021.2.2\r\n&gt;- Oracle Winx64 JDK: 17\r\n&gt;### Thanks to\r\n&gt;https://www.w3schools.com/xml/schema_example.asp for sample xsd!","title":"Cannot generate classes from xsd, in Intellij with Maven","body":"<p>Sorry, cannot reproduce, bud! (i.e. &quot;works like charm&quot;, see khmb's comment)</p>\n<p><a href=\"https://github.com/xerx593/soq69358909\" rel=\"nofollow noreferrer\">https://github.com/xerx593/soq69358909</a></p>\n<blockquote>\n<h3>Sorry, cannot reproduce!</h3>\n<ul>\n<li>Import with IntelliJ, Run (project Context-&gt;)Maven-&gt; Generate Sources And Update Folders</li>\n<li>Run mvn clean install</li>\n</ul>\n<p><strong>Sources are generated into <code>target/generated/src/main/java</code>.</strong></p>\n<h3>Environment</h3>\n<ul>\n<li>(latest) IntelliJ Community Edition: 2021.2.2</li>\n<li>Oracle Winx64 JDK: 17</li>\n</ul>\n<h3>Thanks to</h3>\n<p>https://www.w3schools.com/xml/schema_example.asp for sample xsd!</p>\n</blockquote>\n"}],"owner":{"account_id":4169280,"reputation":1870,"user_id":3417479,"accept_rate":50,"display_name":"user3417479"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632994577,"creation_date":1632820417,"question_id":69358909,"body_markdown":"I have a Java project in IntelliJ with Maven. \r\nThe project contains a couple of xsd files and I want to generate java classes from them.\r\nMy pom.xml is like this\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;xjc&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;xsdOptions&gt;\r\n                &lt;xsdOption&gt;\r\n                  &lt;xsd&gt;/src/main/resources/BulkValuations.xsd&lt;/xsd&gt;\r\n                &lt;/xsdOption&gt;\r\n                &lt;xsdOption&gt;\r\n                  &lt;xsd&gt;/src/main/resources/TPSData.xsd&lt;/xsd&gt;\r\n                &lt;/xsdOption&gt;\r\n              &lt;/xsdOptions&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\nThen I right click on the module and choose **Maven-&gt;Generate Sources and Update Folders**.\r\nUnfortunately no classes are created under target-&gt;generated-sources.\r\n\r\nI would be grateful for any help.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot generate classes from xsd, in Intellij with Maven","body":"<p>I have a Java project in IntelliJ with Maven.\nThe project contains a couple of xsd files and I want to generate java classes from them.\nMy pom.xml is like this</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;xjc&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xsdtojava&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;xsdOptions&gt;\n            &lt;xsdOption&gt;\n              &lt;xsd&gt;/src/main/resources/BulkValuations.xsd&lt;/xsd&gt;\n            &lt;/xsdOption&gt;\n            &lt;xsdOption&gt;\n              &lt;xsd&gt;/src/main/resources/TPSData.xsd&lt;/xsd&gt;\n            &lt;/xsdOption&gt;\n          &lt;/xsdOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n  \n<p>Then I right click on the module and choose <strong>Maven-&gt;Generate Sources and Update Folders</strong>.\nUnfortunately no classes are created under target-&gt;generated-sources.</p>\n<p>I would be grateful for any help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632994495,"creation_date":1632901479,"answer_id":69372351,"question_id":69349218,"body_markdown":"To replace the image after the completion of the flip animation you have to use the [withEndAction(Runnable runnable)][1] method of `ViewPropertyAnimator`.\r\n\r\nExample is like below:\r\n\r\n    public void flipCard(View view){\r\n        ImageView card = (ImageView) view;\r\n        card.setImageResource(0);\r\n        card.animate().rotationYBy(180).withEndAction(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                card.setImageResource(android.R.drawable.ic_dialog_alert);\r\n            }\r\n        });\r\n    }\r\n\r\nTo revert back the two images after a certain time you can change the `rotationYBy to -180` and you can use the `setStartDelay` method to start the animation after an amount of time in milliseconds.\r\n\r\nExample is like below:\r\n\r\n    public void flipCardToInitialState(View view){\r\n        ImageView card = (ImageView) view;\r\n        card.animate().rotationYBy(-180).setStartDelay(1000).withEndAction(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                card.setImageResource(0);\r\n            }\r\n        });\r\n    }\r\n\r\nAnd you can use it in case the two images do not match like below:\r\n\r\n    flipCardToInitialState(imageView1);\r\n    flipCardToInitialState(imageView2);\r\n\r\nYou can also use `Handler().postDelayed` to flip the two images back after a certain time in milliseconds:\r\n\r\n    //flip the 2 images\r\n    flipCard(imageView1);\r\n    flipCard(imageView2);\r\n    \r\n    //and if the don&#39;t match flip the back after a certain of time in milliseconds\r\n    if(theyDontMatch)\r\n    {\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        flipCardToInitialState(imageView1);\r\n                        flipCardToInitialState(imageView2);\r\n                    }\r\n                }, 2000); //flip them back after 2 seconds delay\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/ViewPropertyAnimator#withEndAction(java.lang.Runnable)","title":"Creating a Flip Card animation in android studio using java","body":"<p>To replace the image after the completion of the flip animation you have to use the <a href=\"https://developer.android.com/reference/android/view/ViewPropertyAnimator#withEndAction(java.lang.Runnable)\" rel=\"nofollow noreferrer\">withEndAction(Runnable runnable)</a> method of <code>ViewPropertyAnimator</code>.</p>\n<p>Example is like below:</p>\n<pre><code>public void flipCard(View view){\n    ImageView card = (ImageView) view;\n    card.setImageResource(0);\n    card.animate().rotationYBy(180).withEndAction(new Runnable(){\n        @Override\n        public void run() {\n            card.setImageResource(android.R.drawable.ic_dialog_alert);\n        }\n    });\n}\n</code></pre>\n<p>To revert back the two images after a certain time you can change the <code>rotationYBy to -180</code> and you can use the <code>setStartDelay</code> method to start the animation after an amount of time in milliseconds.</p>\n<p>Example is like below:</p>\n<pre><code>public void flipCardToInitialState(View view){\n    ImageView card = (ImageView) view;\n    card.animate().rotationYBy(-180).setStartDelay(1000).withEndAction(new Runnable(){\n        @Override\n        public void run() {\n            card.setImageResource(0);\n        }\n    });\n}\n</code></pre>\n<p>And you can use it in case the two images do not match like below:</p>\n<pre><code>flipCardToInitialState(imageView1);\nflipCardToInitialState(imageView2);\n</code></pre>\n<p>You can also use <code>Handler().postDelayed</code> to flip the two images back after a certain time in milliseconds:</p>\n<pre><code>//flip the 2 images\nflipCard(imageView1);\nflipCard(imageView2);\n\n//and if the don't match flip the back after a certain of time in milliseconds\nif(theyDontMatch)\n{\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            new Handler().postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    flipCardToInitialState(imageView1);\n                    flipCardToInitialState(imageView2);\n                }\n            }, 2000); //flip them back after 2 seconds delay\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":19653683,"reputation":93,"user_id":14556409,"display_name":"Slavbabushka69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69372351,"answer_count":1,"score":1,"last_activity_date":1632994495,"creation_date":1632756195,"question_id":69349218,"body_markdown":"I am learning mobile development using android studio and Java. I tried to implement a flip card animation to build a flip card memory like game (without a library) and without expanding to another activity. I am basically using a function to flip the image then replace it, but the image gets replaced then it rotates. Find the code i worked on below. The function will later support flipping back the images if the flipped 2 images do not match, or increase a score by 1 if they match.\r\n\r\n        public void flipCard(View view){\r\n             ImageView card = (ImageView) view;\r\n             card.animate().rotationYBy(180);\r\n             card.SetImageResource(R.drawable.ex1);\r\n    } \r\n\r\n     \r\n","title":"Creating a Flip Card animation in android studio using java","body":"<p>I am learning mobile development using android studio and Java. I tried to implement a flip card animation to build a flip card memory like game (without a library) and without expanding to another activity. I am basically using a function to flip the image then replace it, but the image gets replaced then it rotates. Find the code i worked on below. The function will later support flipping back the images if the flipped 2 images do not match, or increase a score by 1 if they match.</p>\n<pre><code>    public void flipCard(View view){\n         ImageView card = (ImageView) view;\n         card.animate().rotationYBy(180);\n         card.SetImageResource(R.drawable.ex1);\n} \n\n \n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1632992301,"post_id":69389183,"comment_id":122644733,"body_markdown":"possible duplicate :- https://stackoverflow.com/a/11821900/4068218","body":"possible duplicate :- <a href=\"https://stackoverflow.com/a/11821900/4068218\">stackoverflow.com/a/11821900/4068218</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632992357,"post_id":69389183,"comment_id":122644752,"body_markdown":"@HariRao That isn&#39;t asking the same question","body":"@HariRao That isn&#39;t asking the same question"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632992395,"post_id":69389183,"comment_id":122644761,"body_markdown":"1. Yes. 2. Yes, because if a thread releases a lock that&#39;s already held, you don&#39;t want it to release &quot;all of the lock&quot;. And what would be the point of the hold count if it wasn&#39;t incremented again? It could just be a boolean `isHeld`. 3. See 2.","body":"1. Yes. 2. Yes, because if a thread releases a lock that&#39;s already held, you don&#39;t want it to release &quot;all of the lock&quot;. And what would be the point of the hold count if it wasn&#39;t incremented again? It could just be a boolean <code>isHeld</code>. 3. See 2."}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632992284,"answer_count":0,"score":0,"last_activity_date":1632994426,"creation_date":1632991948,"question_id":69389183,"body_markdown":"I was going through the documentation on the Internet about reentrant locks. Also read the examples everywhere about nested &quot;synchronize&quot;d methods and how the lock needs to be acquired only once.\r\n\r\nBut I don&#39;t understand what is &quot;re-enter&quot;ing here? From what I could gather, there&#39;s `lock()` which blocks, `tryLock()` which doesn&#39;t, and the locking is bypassed if thread is unavailable. And the `tryLock()` is what makes `ReentrantLock` different from the `synchronized` keyword. \r\n\r\nDoes it mean:\r\n\r\n1. same thread is allowed to re-enter the locked section if it holds the lock?\r\n2. does hold count keep incrementing every time same thread re-enters?\r\n3. if so, is it sufficient to call `unlock()` only once, or it needs to be called as many times thread has re-entered?\r\n\r\nOr is there something else to re-entering that I&#39;m missing out?\r\n","title":"What exactly is &quot;re-entrant&quot; in a Reentrant lock in Java?","body":"<p>I was going through the documentation on the Internet about reentrant locks. Also read the examples everywhere about nested &quot;synchronize&quot;d methods and how the lock needs to be acquired only once.</p>\n<p>But I don't understand what is &quot;re-enter&quot;ing here? From what I could gather, there's <code>lock()</code> which blocks, <code>tryLock()</code> which doesn't, and the locking is bypassed if thread is unavailable. And the <code>tryLock()</code> is what makes <code>ReentrantLock</code> different from the <code>synchronized</code> keyword.</p>\n<p>Does it mean:</p>\n<ol>\n<li>same thread is allowed to re-enter the locked section if it holds the lock?</li>\n<li>does hold count keep incrementing every time same thread re-enters?</li>\n<li>if so, is it sufficient to call <code>unlock()</code> only once, or it needs to be called as many times thread has re-entered?</li>\n</ol>\n<p>Or is there something else to re-entering that I'm missing out?</p>\n"},{"tags":["java","swagger","springdoc"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1633585603,"post_id":69389751,"comment_id":122799679,"body_markdown":"Do you mean to say, reuse the same POJO but apply a different set of constraints?","body":"Do you mean to say, reuse the same POJO but apply a different set of constraints?"},{"owner":{"account_id":12723874,"reputation":171,"user_id":9243224,"display_name":"Nikita Glukhov"},"score":0,"creation_date":1633928438,"post_id":69389751,"comment_id":122880965,"body_markdown":"Yes you&#39;re right","body":"Yes you&#39;re right"}],"owner":{"account_id":12723874,"reputation":171,"user_id":9243224,"display_name":"Nikita Glukhov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632994277,"creation_date":1632994277,"question_id":69389751,"body_markdown":"We use springdoc-openapi-ui:1.4.1 in the project. Some &quot;child&quot; DTOs are common and used in different top-level request-response &quot;parent&quot; DTOs. Is there a way to specify different length constraints on, for example, String properties of such shared &quot;child&quot; DTOs, basing on in which top-level DTOs it is nested via composition? I.e.\r\n```\r\n@Getter\r\n@Setter\r\npublic class Request {\r\n    private NameContainter holder;\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\npublic class Response {\r\n    private NameContainter holder;\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\npublic class NameContainer {\r\n   private String name;\r\n}\r\n```\r\nIn Request **holder.name** maximum length must be up to 20 characters, in Response - up to 50.\r\nAs far as I digged into *swagger-core-2.1.2.jar:io.swagger.v3.core.jackson.ModelResolver*, it has VERY straightforward logic of working with property constraints - if it sees JSR-303 Bean Validation annotations, values from them are simply put into a corresponding Schema object without any &quot;path-dependent&quot; analysis of where property is used.","title":"Swagger context-based size constraints","body":"<p>We use springdoc-openapi-ui:1.4.1 in the project. Some &quot;child&quot; DTOs are common and used in different top-level request-response &quot;parent&quot; DTOs. Is there a way to specify different length constraints on, for example, String properties of such shared &quot;child&quot; DTOs, basing on in which top-level DTOs it is nested via composition? I.e.</p>\n<pre><code>@Getter\n@Setter\npublic class Request {\n    private NameContainter holder;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class Response {\n    private NameContainter holder;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class NameContainer {\n   private String name;\n}\n</code></pre>\n<p>In Request <strong>holder.name</strong> maximum length must be up to 20 characters, in Response - up to 50.\nAs far as I digged into <em>swagger-core-2.1.2.jar:io.swagger.v3.core.jackson.ModelResolver</em>, it has VERY straightforward logic of working with property constraints - if it sees JSR-303 Bean Validation annotations, values from them are simply put into a corresponding Schema object without any &quot;path-dependent&quot; analysis of where property is used.</p>\n"},{"tags":["java","android","geolocation","location","android-gps"],"answers":[{"tags":[],"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632895860,"creation_date":1632862815,"answer_id":69368414,"question_id":69368371,"body_markdown":"In your case, you want to use your geocoder inside the locationupdates method. Once the location is not null use that location to find your address then stop the updates.\r\n\r\nFor this you need to use requestLocationUpdates because lastKnownlocation could be null if the location was not requested in a certain amount of time by another application.\r\n\r\nTake a look at [my answer][1] in this question. It will help you to get a location by using location updates\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69296991/callback-method-onlocationchanged-is-not-working-on-viewmodel/69297614#69297614","title":"Location coming up as null in Android","body":"<p>In your case, you want to use your geocoder inside the locationupdates method. Once the location is not null use that location to find your address then stop the updates.</p>\n<p>For this you need to use requestLocationUpdates because lastKnownlocation could be null if the location was not requested in a certain amount of time by another application.</p>\n<p>Take a look at <a href=\"https://stackoverflow.com/questions/69296991/callback-method-onlocationchanged-is-not-working-on-viewmodel/69297614#69297614\">my answer</a> in this question. It will help you to get a location by using location updates</p>\n"}],"owner":{"account_id":14442194,"reputation":177,"user_id":10432466,"display_name":"Avishka Senanayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69368414,"answer_count":1,"score":1,"last_activity_date":1632993871,"creation_date":1632862493,"question_id":69368371,"body_markdown":"I have this method that I am calling in the `onCreate()` and `onResume()` methods in my `MainActivity`. \r\n\r\nBasically, I&#39;m using it so I can get the city name of my current location and set it to a string so I can use it later. \r\nAnd to see if it worked I just set it to my welcome text. \r\n\r\nThe method is: \r\n```\r\n    private void getLocation() {\r\n\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n\r\n                    Location location = task.getResult();\r\n                    if (location != null) {\r\n\r\n                        try {\r\n                            Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\r\n                            List&lt;Address&gt; addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n\r\n                            cityName = addresses.get(0).getLocality(); // sets the address here\r\n                            Welcome.setText(cityName);\r\n\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    } else {\r\n                        Toast.makeText(MainActivity.this, &quot;Location null error&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n\r\n        } else {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION},44);\r\n        }\r\n    }\r\n```\r\n\r\nThing is, when I&#39;m on the the android studio emulator, it works fine in most cases.\r\n\r\nBut when I&#39;m running the app on my phone I get the &quot;location null error&quot; toast I have set up. \r\nMeaning location is null. Even when location is turned on in the device settings. \r\n\r\nI can&#39;t figure out what the problem is. ","title":"Location coming up as null in Android","body":"<p>I have this method that I am calling in the <code>onCreate()</code> and <code>onResume()</code> methods in my <code>MainActivity</code>.</p>\n<p>Basically, I'm using it so I can get the city name of my current location and set it to a string so I can use it later.\nAnd to see if it worked I just set it to my welcome text.</p>\n<p>The method is:</p>\n<pre><code>    private void getLocation() {\n\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n            fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n\n                @Override\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\n\n                    Location location = task.getResult();\n                    if (location != null) {\n\n                        try {\n                            Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\n                            List&lt;Address&gt; addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n\n                            cityName = addresses.get(0).getLocality(); // sets the address here\n                            Welcome.setText(cityName);\n\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n\n                    } else {\n                        Toast.makeText(MainActivity.this, &quot;Location null error&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n        } else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION},44);\n        }\n    }\n</code></pre>\n<p>Thing is, when I'm on the the android studio emulator, it works fine in most cases.</p>\n<p>But when I'm running the app on my phone I get the &quot;location null error&quot; toast I have set up.\nMeaning location is null. Even when location is turned on in the device settings.</p>\n<p>I can't figure out what the problem is.</p>\n"},{"tags":["java","html","spring","thymeleaf"],"comments":[{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1633017244,"post_id":69388623,"comment_id":122655719,"body_markdown":"`th:field` generates the `name`, `id`, and `value` of the field it&#39;s on.  If you don&#39;t want those autogenerated by Thymeleaf, you shouldn&#39;t use it.  (In addition, `Values for th:field attributes must be selection expressions *{...}` and shouldn&#39;t be normal `${...}` expressions. Also... if you use `th:field` you are supposed to defined a `th:object` on your form...)","body":"<code>th:field</code> generates the <code>name</code>, <code>id</code>, and <code>value</code> of the field it&#39;s on.  If you don&#39;t want those autogenerated by Thymeleaf, you shouldn&#39;t use it.  (In addition, <code>Values for th:field attributes must be selection expressions *{...}</code> and shouldn&#39;t be normal <code>${...}</code> expressions. Also... if you use <code>th:field</code> you are supposed to defined a <code>th:object</code> on your form...)"},{"owner":{"account_id":13262440,"reputation":23,"user_id":9576531,"display_name":"Pityu Sz&#237;v&#243;s"},"score":0,"creation_date":1633162990,"post_id":69388623,"comment_id":122691288,"body_markdown":"@Metroids You are right, however, what should one do when sending from the Controller&#39;s GET method an object to the HTML that should be rendered there so that  it can be modified by the user. But afterwards when from the same HTML via form a different object should be sent and will be received at the Controller&#39;s POST method and thus I would need for this different field names\nAnd unfortunately even if th:field generates name, id and value, but this still doesn&#39;t explain why this id and name was generated by ScaleQuesiton and why not  by the RadioButtonQuestion option\nThanks for the help!","body":"@Metroids You are right, however, what should one do when sending from the Controller&#39;s GET method an object to the HTML that should be rendered there so that  it can be modified by the user. But afterwards when from the same HTML via form a different object should be sent and will be received at the Controller&#39;s POST method and thus I would need for this different field names And unfortunately even if th:field generates name, id and value, but this still doesn&#39;t explain why this id and name was generated by ScaleQuesiton and why not  by the RadioButtonQuestion option Thanks for the help!"}],"owner":{"account_id":13262440,"reputation":23,"user_id":9576531,"display_name":"Pityu Sz&#237;v&#243;s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632993302,"creation_date":1632989723,"question_id":69388623,"body_markdown":"I am encountering a very strange problem for which I can not find the cause. Simply put, when I am trying to update some previously given answers in my application in the update.html, then something generates random ids and random name values for one of my input fields and thus this specific data will not be sent to the backend.\r\n\r\nHere is controller method for my update.html\r\n ``` \r\n  @GetMapping(&quot;/update/{questionFormId}/{appUserId}&quot;)\r\n  public String updateAnswerFormCreatedByUser(@PathVariable long questionFormId, @PathVariable long appUserId, Model model) {\r\n    log.info(&quot;GET answer-form/update/&quot; + questionFormId + &quot;/&quot; + appUserId + &quot; started&quot;);\r\n    try {\r\n      model.addAttribute(&quot;answerForm&quot;, answerFormService.createAnswerFormToUpdate(questionFormId, appUserId));\r\n      log.info(&quot;GET answer-form/update/&quot; + questionFormId + &quot;/&quot; + appUserId + &quot; finished&quot;);\r\n      return &quot;answerform/update&quot;;\r\n ```\r\n\r\nThis is the class of the object that I am sending to the HTML\r\n\r\n``` \r\npublic class CreateAnswerFormDTO {\r\n  private long questionFormId;\r\n  private long answerFormId;\r\n  private long appUserId;\r\n  private List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n  private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\r\n\r\n  public CreateAnswerFormDTO() {\r\n  }\r\n// with other constructors and getters/setters\r\n ``` \r\nThe Question class\r\n ``` \r\n// I have four different types of questions (text, checkbox, radio and scale(radio but with numbers) \r\n//and I store them in the same table and they have some different class variables as well)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;Question_Type&quot;)\r\n@Where(clause=&quot;deleted=0&quot;)\r\npublic class Question implements Comparable&lt;Question&gt; {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private long id;\r\n  @NotNull\r\n  private String questionText;\r\n  private int listPosition;\r\n  private boolean deleted;\r\n\r\n  @Transient\r\n  private List&lt;String&gt; answersNotFilledOutByUser = new ArrayList&lt;&gt;();\r\n\r\n  @ManyToOne(cascade = {CascadeType.MERGE})\r\n  @JsonBackReference(value = &quot;questionsQuestionForm&quot;)\r\n  private QuestionForm questionForm;\r\n\r\n  @OneToMany(mappedBy = &quot;question&quot;, cascade = {CascadeType.MERGE})\r\n  @JsonManagedReference(&quot;answersQuestion&quot;)\r\n  private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\r\n// with constructors, getters and setters\r\n```\r\nMy Answer class\r\n```\r\npublic class Answer {\r\n// I store the concrete answertexts provided by the users in the ActualAnswerText class, \r\n// because f.e. text questions or checkbox questions can have multiple answer texts&quot;\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private long id;\r\n\r\n  private boolean deleted;\r\n\r\n  @OneToMany(mappedBy = &quot;answer&quot;, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n  @JsonManagedReference(value = &quot;answersActualAnswerTexts&quot;) \r\n  private List&lt;ActualAnswerText&gt; actualAnswerTexts = new ArrayList&lt;&gt;();\r\n\r\n  @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n  @JsonBackReference(value = &quot;answersAnswerform&quot;)\r\n  private AnswerForm answerForm;\r\n\r\n  @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n  @JsonBackReference(&quot;answersQuestion&quot;)\r\n  private Question question;\r\n// with constructors, getters and setters\r\n```\r\n\r\nMy update html\r\n``` \r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Update Answerform&lt;/title&gt;\r\n  &lt;link th:replace=&quot;fragments/navbar.html :: bootstrap-link&quot;&gt;\r\n  &lt;link th:replace=&quot;fragments/navbar.html :: css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;script th:src=&quot;@{/js/renderanswerform.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n&lt;header th:replace=&quot;fragments/navbar.html :: navbar&quot;&gt;&lt;/header&gt;\r\n&lt;div th:replace=&quot;fragments/messages.html :: error&quot;&gt;&lt;/div&gt;\r\n&lt;h1&gt;Update your answerform&lt;/h1&gt; \r\n&lt;form id=&quot;answerform&quot; method=&quot;post&quot;\r\n      th:action=&quot;@{|/answer-form/update/${answerForm.answerFormId}/${answerForm.appUserId}|}&quot;&gt;\r\n  &lt;tr th:each=&quot;question, iterStat : ${answerForm.questions}&quot;&gt;\r\n    &lt;p th:text=&quot;${question.questionText}&quot;&gt;&lt;/p&gt;  \r\n&lt;!--Rendering the question&#39;s text--&gt;\r\n    &lt;div&gt;\r\n      &lt;th:block th:switch=&quot;${question.getDiscriminatorValue()}&quot;&gt; \r\n&lt;!--checking what questiontype the current question belongs to--&gt;\r\n\r\n        &lt;div th:case=&quot;&#39;CheckBoxQuestion&#39;&quot;&gt;\r\n                        &lt;span th:each=&quot;questionTextPossibility, list: ${question.questionTextPossibilities}&quot;&gt;\r\n                            &lt;label th:text=&quot;${questionTextPossibility.answerText}&quot;&gt;&lt;/label&gt;  &lt;!--Displaying the possible answertext value--&gt;\r\n                          &lt;!-- I use th:field to prefill--&gt;\r\n                          &lt;!-- I use th:name to make it available on the backend--&gt;\r\n                          &lt;!-- I use th:value to set what value will be sent to the backend when clicking on this checkbox--&gt;\r\n                            &lt;input\r\n                                th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText}&quot;\r\n                                th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText&quot;\r\n                                th:value=&quot;${questionTextPossibility.answerText}&quot;\r\n                                type=&quot;checkbox&quot;&gt;\r\n                        &lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div th:case=&quot;&#39;RadioButtonQuestion&#39;&quot;&gt;\r\n                        &lt;span th:each=&quot;questionTextPossibility, list: ${question.questionTextPossibilities}&quot;&gt;\r\n                            &lt;label th:text=&quot;${questionTextPossibility.answerText}&quot;&gt;&lt;/label&gt;\r\n\r\n                   &lt;input th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[0].answerText}&quot;\r\n                          th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[0].answerText&quot;\r\n                          th:value=&quot;${questionTextPossibility.answerText}&quot;\r\n                          type=&quot;radio&quot;&gt;\r\n                        &lt;/span&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div th:case=&quot;&#39;ScaleQuestion&#39;&quot;&gt;\r\n          &lt;th:block th:each=&quot;i: ${#numbers.sequence(1, question.scale)}&quot;&gt;\r\n &lt;!-- Scale question generates radio button with numbers until the scale attribute of ScaleQuestion class--&gt;\r\n            &lt;label th:text=&quot;${i}&quot;&gt;&lt;/label&gt;\r\n            &lt;input th:field=&quot;${answerForm.questions[__${iterStat.index}__].answers[0].actualAnswerTexts[0].answerText}&quot;\r\n                   th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[0].answerText&quot;\r\n                   th:value=&quot;${i}&quot;\r\n                   type=&quot;radio&quot;&gt;\r\n          &lt;/th:block&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div th:case=&quot;&#39;TextQuestion&#39;&quot; th:id=&quot;|textquestioncreate[__${iterStat.index}__]|&quot;&gt;\r\n          &lt;!--With TextQuestion users can provided more than one answer.\r\n f.e What are the best movies? They can generate more than one input fields to provide answers --&gt;\r\n                 &lt;span th:id=&quot;|answers[__${iterStat.index}__]|&quot;&gt;\r\n                   &lt;span\r\n                       th:each=&quot;actualAnswerText, list: ${answerForm.answers[__${iterStat.index}__].actualAnswerTexts}&quot;&gt;\r\n\r\n                     &lt;input\r\n                         th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText}&quot;\r\n                         th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText&quot;\r\n                         type=&quot;text&quot;&gt;\r\n                    &lt;/span&gt;\r\n                   &lt;/span&gt;\r\n\r\n          &lt;script th:inline=&quot;javascript&quot;&gt; \r\n &lt;!-- This js code creates the buttons that enable the adding of new input fields,\r\n finishing given question and re-enabling modification--&gt;\r\n              /*&lt;![CDATA[*/\r\n              renderQuestionText(/*[[${iterStat.index}]]*/)\r\n              /*]]&gt;*/\r\n              /*&lt;![CDATA[*/\r\n              resetForCreatingTextQuestion()\r\n              /*]]&gt;*/\r\n          &lt;/script&gt;\r\n        &lt;/div&gt;\r\n      &lt;/th:block&gt;\r\n    &lt;/div&gt;\r\n  &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/form&gt;\r\n``` \r\n\r\nLastly, my renderanswerform.js file\r\n```\r\n// I haven&#39;t listed all the functions because some are just for creating\r\n// finish, submit, reset and re-enable buttons\r\nvar actualAnswerIndexForTextQuestion = 0;\r\nvar buttonIndexToEnable = 0;\r\nvar currentTextAnswerIndex = 0;\r\nvar numberOfInputFieldsCreated = 0;\r\nvar hasInputfieldsCreated = false;\r\n\r\nwindow.onload = function WindowLoad(event) {\r\n    createValidateResetAndSubmitButtons();\r\n}\r\n\r\nfunction renderQuestionText(index) {\r\n    if (!hasInputfieldsCreated) {\r\n        let container = document.getElementById(&quot;textquestioncreate[&quot; + index + &quot;]&quot;);\r\n        container.appendChild(createTextQuestionInput(index));\r\n        hasInputfieldsCreated = true;\r\n    }\r\n}\r\n\r\nfunction renderQuestionTextForCreate(index) {\r\n    let container = document.getElementById(&quot;textquestioncreate[&quot; + index + &quot;]&quot;);\r\n    container.appendChild(createTextQuestionInput(index));\r\n    hasInputfieldsCreated = true;\r\n}\r\n\r\n\r\nfunction createTextQuestionInput(index) {\r\n    let container = document.getElementById(&quot;answers[&quot; + index + &quot;]&quot;);\r\n    let anotherInputButton = createAnotherInputButton(index);\r\n    anotherInputButton.disabled = true;\r\n    anotherInputButton.id = &quot;textanswerbutton&quot; + currentTextAnswerIndex;\r\n    let finishButton = createFinishButtonForTextAnswer(currentTextAnswerIndex);\r\n\r\n    let reEnableButton = createReenableButton(currentTextAnswerIndex);\r\n\r\n    container.appendChild(anotherInputButton);\r\n    container.appendChild(finishButton);\r\n    container.appendChild(reEnableButton);\r\n    enableDisableFinishAndAddAnotherTextFieldButtons();\r\n    currentTextAnswerIndex++;\r\n    return container;\r\n}\r\n\r\nfunction createAnotherInputButton(index) {\r\n    let anotherInputButton = document.createElement(&quot;BUTTON&quot;);\r\n    anotherInputButton.id = &quot;anotherinputbutton&quot; + index;\r\n    anotherInputButton.textContent = &quot;Create another input field&quot;;\r\n    anotherInputButton.className = &quot;buttonsToDisableEnable&quot;;\r\n    anotherInputButton.type = &quot;button&quot;;\r\n    anotherInputButton.addEventListener(&quot;click&quot;, () =&gt; createAnotherInputField(index));\r\n    return anotherInputButton;\r\n}\r\n\r\nfunction createAnotherInputField(index) {\r\n    let elementId = &quot;answers[&quot; + index + &quot;]&quot;;\r\n    let container = document.getElementById(elementId);\r\n    let numberOfInputFieldsInContainer = container.getElementsByTagName(&#39;INPUT&#39;).length\r\n    let input = document.createElement(&quot;INPUT&quot;);\r\n    numberOfInputFieldsCreated++;\r\n    input.id = &quot;textanswer&quot; + currentTextAnswerIndex;\r\n    actualAnswerIndexForTextQuestion++;\r\n    input.name = &quot;answers&quot; + &quot;[&quot; + index + &quot;].actualAnswerTexts[&quot; + numberOfInputFieldsInContainer + &quot;].answerText&quot;;\r\n    container.insertBefore(input, document.getElementById(&quot;textanswerbutton&quot; + buttonIndexToEnable));\r\n}\r\n ```\r\n\r\nInstead of having the proper name attributes at the ScaleQuestion input, I see the following when inspecting it in the browser. I have provided any id nowhere in the code and the name attribute shouldn&#39;t contain &quot;question0.answers0&quot; at the beginning, only answers[0].\r\nScaleQuestion in HTML when starting the app (Incorrect)\r\n```\r\n&lt;div&gt;\r\n          \r\n            &lt;label&gt;1&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;1&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText1&quot;&gt;\r\n          \r\n            &lt;label&gt;2&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;2&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText2&quot;&gt;\r\n          \r\n            &lt;label&gt;3&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;3&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText3&quot;&gt;\r\n          \r\n            &lt;label&gt;4&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;4&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText4&quot;&gt;\r\n          \r\n            &lt;label&gt;5&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;5&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText5&quot;&gt;\r\n          \r\n            &lt;label&gt;6&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;6&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText6&quot;&gt;\r\n          \r\n            &lt;label&gt;7&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;7&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText7&quot;&gt;\r\n          \r\n            &lt;label&gt;8&lt;/label&gt;\r\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;8&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText8&quot;&gt;\r\n          \r\n        &lt;/div&gt;\r\n```\r\nRadioButton Question (Correct):\r\n ```\r\n&lt;span&gt;\r\n                            &lt;label&gt;radio1&lt;/label&gt;\r\n\r\n                   &lt;input name=&quot;answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;radio1&quot; type=&quot;radio&quot; id=&quot;answers0.actualAnswerTexts0.answerText1&quot;&gt;\r\n                        &lt;/span&gt;\r\n ```\r\nWhat I have tried so far:\r\n\r\n - Restarting Intellij with Invalidate caches\r\n - Remove caches from Browser\r\n - Use different browser\r\n - Copy content to a different html file and reference that one from the controller\r\n - Cry\r\n\r\nMy guess is that somehow some previous state of the js code interferes (because before that all the input fields were generated in js), but I can not see how or where.\r\n\r\nThanks for your help in advance!","title":"Invalid generation of input field&#39;s id and name attribute in Thymeleaf with JS","body":"<p>I am encountering a very strange problem for which I can not find the cause. Simply put, when I am trying to update some previously given answers in my application in the update.html, then something generates random ids and random name values for one of my input fields and thus this specific data will not be sent to the backend.</p>\n<p>Here is controller method for my update.html</p>\n<pre><code> @GetMapping(&quot;/update/{questionFormId}/{appUserId}&quot;)\n public String updateAnswerFormCreatedByUser(@PathVariable long questionFormId, @PathVariable long appUserId, Model model) {\n   log.info(&quot;GET answer-form/update/&quot; + questionFormId + &quot;/&quot; + appUserId + &quot; started&quot;);\n   try {\n     model.addAttribute(&quot;answerForm&quot;, answerFormService.createAnswerFormToUpdate(questionFormId, appUserId));\n     log.info(&quot;GET answer-form/update/&quot; + questionFormId + &quot;/&quot; + appUserId + &quot; finished&quot;);\n     return &quot;answerform/update&quot;;\n</code></pre>\n<p>This is the class of the object that I am sending to the HTML</p>\n<pre><code>public class CreateAnswerFormDTO {\n  private long questionFormId;\n  private long answerFormId;\n  private long appUserId;\n  private List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n  private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\n\n  public CreateAnswerFormDTO() {\n  }\n// with other constructors and getters/setters\n</code></pre>\n<p>The Question class</p>\n<pre><code>// I have four different types of questions (text, checkbox, radio and scale(radio but with numbers) \n//and I store them in the same table and they have some different class variables as well)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;Question_Type&quot;)\n@Where(clause=&quot;deleted=0&quot;)\npublic class Question implements Comparable&lt;Question&gt; {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private long id;\n @NotNull\n private String questionText;\n private int listPosition;\n private boolean deleted;\n\n @Transient\n private List&lt;String&gt; answersNotFilledOutByUser = new ArrayList&lt;&gt;();\n\n @ManyToOne(cascade = {CascadeType.MERGE})\n @JsonBackReference(value = &quot;questionsQuestionForm&quot;)\n private QuestionForm questionForm;\n\n @OneToMany(mappedBy = &quot;question&quot;, cascade = {CascadeType.MERGE})\n @JsonManagedReference(&quot;answersQuestion&quot;)\n private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\n// with constructors, getters and setters\n</code></pre>\n<p>My Answer class</p>\n<pre><code>public class Answer {\n// I store the concrete answertexts provided by the users in the ActualAnswerText class, \n// because f.e. text questions or checkbox questions can have multiple answer texts&quot;\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private long id;\n\n  private boolean deleted;\n\n  @OneToMany(mappedBy = &quot;answer&quot;, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n  @JsonManagedReference(value = &quot;answersActualAnswerTexts&quot;) \n  private List&lt;ActualAnswerText&gt; actualAnswerTexts = new ArrayList&lt;&gt;();\n\n  @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n  @JsonBackReference(value = &quot;answersAnswerform&quot;)\n  private AnswerForm answerForm;\n\n  @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n  @JsonBackReference(&quot;answersQuestion&quot;)\n  private Question question;\n// with constructors, getters and setters\n</code></pre>\n<p>My update html</p>\n<pre><code>&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Update Answerform&lt;/title&gt;\n  &lt;link th:replace=&quot;fragments/navbar.html :: bootstrap-link&quot;&gt;\n  &lt;link th:replace=&quot;fragments/navbar.html :: css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script th:src=&quot;@{/js/renderanswerform.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;header th:replace=&quot;fragments/navbar.html :: navbar&quot;&gt;&lt;/header&gt;\n&lt;div th:replace=&quot;fragments/messages.html :: error&quot;&gt;&lt;/div&gt;\n&lt;h1&gt;Update your answerform&lt;/h1&gt; \n&lt;form id=&quot;answerform&quot; method=&quot;post&quot;\n      th:action=&quot;@{|/answer-form/update/${answerForm.answerFormId}/${answerForm.appUserId}|}&quot;&gt;\n  &lt;tr th:each=&quot;question, iterStat : ${answerForm.questions}&quot;&gt;\n    &lt;p th:text=&quot;${question.questionText}&quot;&gt;&lt;/p&gt;  \n&lt;!--Rendering the question's text--&gt;\n    &lt;div&gt;\n      &lt;th:block th:switch=&quot;${question.getDiscriminatorValue()}&quot;&gt; \n&lt;!--checking what questiontype the current question belongs to--&gt;\n\n        &lt;div th:case=&quot;'CheckBoxQuestion'&quot;&gt;\n                        &lt;span th:each=&quot;questionTextPossibility, list: ${question.questionTextPossibilities}&quot;&gt;\n                            &lt;label th:text=&quot;${questionTextPossibility.answerText}&quot;&gt;&lt;/label&gt;  &lt;!--Displaying the possible answertext value--&gt;\n                          &lt;!-- I use th:field to prefill--&gt;\n                          &lt;!-- I use th:name to make it available on the backend--&gt;\n                          &lt;!-- I use th:value to set what value will be sent to the backend when clicking on this checkbox--&gt;\n                            &lt;input\n                                th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText}&quot;\n                                th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText&quot;\n                                th:value=&quot;${questionTextPossibility.answerText}&quot;\n                                type=&quot;checkbox&quot;&gt;\n                        &lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div th:case=&quot;'RadioButtonQuestion'&quot;&gt;\n                        &lt;span th:each=&quot;questionTextPossibility, list: ${question.questionTextPossibilities}&quot;&gt;\n                            &lt;label th:text=&quot;${questionTextPossibility.answerText}&quot;&gt;&lt;/label&gt;\n\n                   &lt;input th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[0].answerText}&quot;\n                          th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[0].answerText&quot;\n                          th:value=&quot;${questionTextPossibility.answerText}&quot;\n                          type=&quot;radio&quot;&gt;\n                        &lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div th:case=&quot;'ScaleQuestion'&quot;&gt;\n          &lt;th:block th:each=&quot;i: ${#numbers.sequence(1, question.scale)}&quot;&gt;\n &lt;!-- Scale question generates radio button with numbers until the scale attribute of ScaleQuestion class--&gt;\n            &lt;label th:text=&quot;${i}&quot;&gt;&lt;/label&gt;\n            &lt;input th:field=&quot;${answerForm.questions[__${iterStat.index}__].answers[0].actualAnswerTexts[0].answerText}&quot;\n                   th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[0].answerText&quot;\n                   th:value=&quot;${i}&quot;\n                   type=&quot;radio&quot;&gt;\n          &lt;/th:block&gt;\n        &lt;/div&gt;\n\n        &lt;div th:case=&quot;'TextQuestion'&quot; th:id=&quot;|textquestioncreate[__${iterStat.index}__]|&quot;&gt;\n          &lt;!--With TextQuestion users can provided more than one answer.\n f.e What are the best movies? They can generate more than one input fields to provide answers --&gt;\n                 &lt;span th:id=&quot;|answers[__${iterStat.index}__]|&quot;&gt;\n                   &lt;span\n                       th:each=&quot;actualAnswerText, list: ${answerForm.answers[__${iterStat.index}__].actualAnswerTexts}&quot;&gt;\n\n                     &lt;input\n                         th:field=&quot;${answerForm.answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText}&quot;\n                         th:name=&quot;answers[__${iterStat.index}__].actualAnswerTexts[__${list.index}__].answerText&quot;\n                         type=&quot;text&quot;&gt;\n                    &lt;/span&gt;\n                   &lt;/span&gt;\n\n          &lt;script th:inline=&quot;javascript&quot;&gt; \n &lt;!-- This js code creates the buttons that enable the adding of new input fields,\n finishing given question and re-enabling modification--&gt;\n              /*&lt;![CDATA[*/\n              renderQuestionText(/*[[${iterStat.index}]]*/)\n              /*]]&gt;*/\n              /*&lt;![CDATA[*/\n              resetForCreatingTextQuestion()\n              /*]]&gt;*/\n          &lt;/script&gt;\n        &lt;/div&gt;\n      &lt;/th:block&gt;\n    &lt;/div&gt;\n  &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Lastly, my renderanswerform.js file</p>\n<pre><code>// I haven't listed all the functions because some are just for creating\n// finish, submit, reset and re-enable buttons\nvar actualAnswerIndexForTextQuestion = 0;\nvar buttonIndexToEnable = 0;\nvar currentTextAnswerIndex = 0;\nvar numberOfInputFieldsCreated = 0;\nvar hasInputfieldsCreated = false;\n\nwindow.onload = function WindowLoad(event) {\n    createValidateResetAndSubmitButtons();\n}\n\nfunction renderQuestionText(index) {\n    if (!hasInputfieldsCreated) {\n        let container = document.getElementById(&quot;textquestioncreate[&quot; + index + &quot;]&quot;);\n        container.appendChild(createTextQuestionInput(index));\n        hasInputfieldsCreated = true;\n    }\n}\n\nfunction renderQuestionTextForCreate(index) {\n    let container = document.getElementById(&quot;textquestioncreate[&quot; + index + &quot;]&quot;);\n    container.appendChild(createTextQuestionInput(index));\n    hasInputfieldsCreated = true;\n}\n\n\nfunction createTextQuestionInput(index) {\n    let container = document.getElementById(&quot;answers[&quot; + index + &quot;]&quot;);\n    let anotherInputButton = createAnotherInputButton(index);\n    anotherInputButton.disabled = true;\n    anotherInputButton.id = &quot;textanswerbutton&quot; + currentTextAnswerIndex;\n    let finishButton = createFinishButtonForTextAnswer(currentTextAnswerIndex);\n\n    let reEnableButton = createReenableButton(currentTextAnswerIndex);\n\n    container.appendChild(anotherInputButton);\n    container.appendChild(finishButton);\n    container.appendChild(reEnableButton);\n    enableDisableFinishAndAddAnotherTextFieldButtons();\n    currentTextAnswerIndex++;\n    return container;\n}\n\nfunction createAnotherInputButton(index) {\n    let anotherInputButton = document.createElement(&quot;BUTTON&quot;);\n    anotherInputButton.id = &quot;anotherinputbutton&quot; + index;\n    anotherInputButton.textContent = &quot;Create another input field&quot;;\n    anotherInputButton.className = &quot;buttonsToDisableEnable&quot;;\n    anotherInputButton.type = &quot;button&quot;;\n    anotherInputButton.addEventListener(&quot;click&quot;, () =&gt; createAnotherInputField(index));\n    return anotherInputButton;\n}\n\nfunction createAnotherInputField(index) {\n    let elementId = &quot;answers[&quot; + index + &quot;]&quot;;\n    let container = document.getElementById(elementId);\n    let numberOfInputFieldsInContainer = container.getElementsByTagName('INPUT').length\n    let input = document.createElement(&quot;INPUT&quot;);\n    numberOfInputFieldsCreated++;\n    input.id = &quot;textanswer&quot; + currentTextAnswerIndex;\n    actualAnswerIndexForTextQuestion++;\n    input.name = &quot;answers&quot; + &quot;[&quot; + index + &quot;].actualAnswerTexts[&quot; + numberOfInputFieldsInContainer + &quot;].answerText&quot;;\n    container.insertBefore(input, document.getElementById(&quot;textanswerbutton&quot; + buttonIndexToEnable));\n}\n</code></pre>\n<p>Instead of having the proper name attributes at the ScaleQuestion input, I see the following when inspecting it in the browser. I have provided any id nowhere in the code and the name attribute shouldn't contain &quot;question0.answers0&quot; at the beginning, only answers[0].\nScaleQuestion in HTML when starting the app (Incorrect)</p>\n<pre><code>&lt;div&gt;\n          \n            &lt;label&gt;1&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;1&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText1&quot;&gt;\n          \n            &lt;label&gt;2&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;2&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText2&quot;&gt;\n          \n            &lt;label&gt;3&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;3&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText3&quot;&gt;\n          \n            &lt;label&gt;4&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;4&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText4&quot;&gt;\n          \n            &lt;label&gt;5&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;5&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText5&quot;&gt;\n          \n            &lt;label&gt;6&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;6&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText6&quot;&gt;\n          \n            &lt;label&gt;7&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;7&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText7&quot;&gt;\n          \n            &lt;label&gt;8&lt;/label&gt;\n            &lt;input name=&quot;questions[2].answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;8&quot; type=&quot;radio&quot; id=&quot;questions2.answers0.actualAnswerTexts0.answerText8&quot;&gt;\n          \n        &lt;/div&gt;\n</code></pre>\n<p>RadioButton Question (Correct):</p>\n<pre><code>&lt;span&gt;\n                           &lt;label&gt;radio1&lt;/label&gt;\n\n                  &lt;input name=&quot;answers[0].actualAnswerTexts[0].answerText&quot; value=&quot;radio1&quot; type=&quot;radio&quot; id=&quot;answers0.actualAnswerTexts0.answerText1&quot;&gt;\n                       &lt;/span&gt;\n</code></pre>\n<p>What I have tried so far:</p>\n<ul>\n<li>Restarting Intellij with Invalidate caches</li>\n<li>Remove caches from Browser</li>\n<li>Use different browser</li>\n<li>Copy content to a different html file and reference that one from the controller</li>\n<li>Cry</li>\n</ul>\n<p>My guess is that somehow some previous state of the js code interferes (because before that all the input fields were generated in js), but I can not see how or where.</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1632989753,"post_id":69388603,"comment_id":122643638,"body_markdown":"Use `Pattern.compile(&quot;calm?://\\\\S+&quot;)` and change `if ` to `while`. Java regex is set with string literals, not regex literals, so you can&#39;t use `/` delimiters with flags. You will also need to use `matcher.group()`, not `matcher.group(1)`, as the regex contains no capturing groups.","body":"Use <code>Pattern.compile(&quot;calm?:&#47;&#47;\\\\S+&quot;)</code> and change <code>if </code> to <code>while</code>. Java regex is set with string literals, not regex literals, so you can&#39;t use <code>&#47;</code> delimiters with flags. You will also need to use <code>matcher.group()</code>, not <code>matcher.group(1)</code>, as the regex contains no capturing groups."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1632989812,"post_id":69388603,"comment_id":122643666,"body_markdown":"Java doesn’t use `sed` syntax - please read the docs.","body":"Java doesn’t use <code>sed</code> syntax - please read the docs."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1632989865,"post_id":69388603,"comment_id":122643678,"body_markdown":"Also the `\\c` would make that not compile at all.","body":"Also the <code>\\c</code> would make that not compile at all."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1632989931,"post_id":69388603,"comment_id":122643703,"body_markdown":"And there&#39;s no `group(1)` in your expression.","body":"And there&#39;s no <code>group(1)</code> in your expression."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632990049,"post_id":69388603,"comment_id":122643744,"body_markdown":"Use `Pattern.compile(&quot;calm?://\\\\S+&quot;, Pattern.CASE_INSENSITIVE);` and `.group(0)`.","body":"Use <code>Pattern.compile(&quot;calm?:&#47;&#47;\\\\S+&quot;, Pattern.CASE_INSENSITIVE);</code> and <code>.group(0)</code>."},{"owner":{"account_id":18160240,"reputation":29,"user_id":13211735,"display_name":"Ayusch Jain"},"score":0,"creation_date":1632990417,"post_id":69388603,"comment_id":122643919,"body_markdown":"I&#39;m just looking to find the first match. @RobbyCornelissen so should I use group(0) instead ?","body":"I&#39;m just looking to find the first match. @RobbyCornelissen so should I use group(0) instead ?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1632990470,"post_id":69388603,"comment_id":122643945,"body_markdown":"If you need the first match, why did you add `g` at all? Just keep your `if`, no need of `while`.","body":"If you need the first match, why did you add <code>g</code> at all? Just keep your <code>if</code>, no need of <code>while</code>."},{"owner":{"account_id":18160240,"reputation":29,"user_id":13211735,"display_name":"Ayusch Jain"},"score":0,"creation_date":1632990606,"post_id":69388603,"comment_id":122644007,"body_markdown":"@JoachimSauer missed a `b` there. Edited now.","body":"@JoachimSauer missed a <code>b</code> there. Edited now."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1632990754,"post_id":69388603,"comment_id":122644059,"body_markdown":"Not a big deal, it is `&quot;\\\\bcalm?://\\\\S+&quot;` in Java. regex101.com produces the code you can copy/paste into your code, no need to mess with the regex input field text.","body":"Not a big deal, it is <code>&quot;\\\\bcalm?:&#47;&#47;\\\\S+&quot;</code> in Java. regex101.com produces the code you can copy/paste into your code, no need to mess with the regex input field text."}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632993114,"creation_date":1632990131,"answer_id":69388733,"question_id":69388603,"body_markdown":"To summarize:\r\n\r\n - Java regular expressions are defined as strings, not as regex literals. This means that\r\n   - You don&#39;t need to delimit your expression using forward slashes.\r\n   - Backslashes need to be escaped.\r\n   - Literal forward slashes don&#39;t need to be escaped.\r\n - Flags like `Pattern.CASE_INSENSITIVE` can be passed as an argument to the [`Pattern.compile()`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#compile-java.lang.String-int-) method.\r\n - Your expression has no group 1. Either use group 0 or add additional parentheses to define a group.\r\n\r\nPutting it all together:\r\n\r\n    import java.util.regex.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String test = &quot;Calm_fit calm://listpage?pageid=fitnesstab SomeText&quot;;\r\n            Pattern pattern = Pattern.compile(&quot;\\\\bcalm?://\\\\S+&quot;,\r\n                    Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(test);\r\n    \r\n            if (matcher.find()) {\r\n                System.out.println(matcher.group(0));\r\n            }\r\n        }\r\n    }\r\n\r\nThis produces the following output:\r\n&lt;!-- language: lang-none --&gt;\r\n    calm://listpage?pageid=fitnesstab","title":"Java Matcher class not matching a simple pattern","body":"<p>To summarize:</p>\n<ul>\n<li>Java regular expressions are defined as strings, not as regex literals. This means that\n<ul>\n<li>You don't need to delimit your expression using forward slashes.</li>\n<li>Backslashes need to be escaped.</li>\n<li>Literal forward slashes don't need to be escaped.</li>\n</ul>\n</li>\n<li>Flags like <code>Pattern.CASE_INSENSITIVE</code> can be passed as an argument to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#compile-java.lang.String-int-\" rel=\"nofollow noreferrer\"><code>Pattern.compile()</code></a> method.</li>\n<li>Your expression has no group 1. Either use group 0 or add additional parentheses to define a group.</li>\n</ul>\n<p>Putting it all together:</p>\n<pre><code>import java.util.regex.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String test = &quot;Calm_fit calm://listpage?pageid=fitnesstab SomeText&quot;;\n        Pattern pattern = Pattern.compile(&quot;\\\\bcalm?://\\\\S+&quot;,\n                Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(test);\n\n        if (matcher.find()) {\n            System.out.println(matcher.group(0));\n        }\n    }\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>calm://listpage?pageid=fitnesstab\n</code></pre>\n"}],"owner":{"account_id":18160240,"reputation":29,"user_id":13211735,"display_name":"Ayusch Jain"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1632989776,"answer_count":1,"score":0,"last_activity_date":1632993114,"creation_date":1632989598,"question_id":69388603,"body_markdown":"My regex matcher is returning false, and I can&#39;t understand why. It works fine on regexr.com\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\n        String test = &quot;Calm_fit calm://listpage?pageid=fitnesstab SomeText&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;/\\bcalm?:\\/\\/\\S+/gi&quot;);\r\n        Matcher matcher = pattern.matcher(test);\r\n        System.out.println(&quot;Here 1&quot;);\r\n\r\n        if (matcher.find()) {\r\n            System.out.println(&quot;Here 2 Matched: &quot; + matcher.group(1));\r\n        }\r\n```\r\n`Here 2 Matched: ` is not getting printed. Control doesn&#39;t enter `if` statement. I&#39;m trying to extract the url `calm://listpage?pageid=fitnesstab` from the text.\r\n\r\nAm I missing something here ?\r\nThanks in advance! ","title":"Java Matcher class not matching a simple pattern","body":"<p>My regex matcher is returning false, and I can't understand why. It works fine on regexr.com</p>\n<p>Here's the code:</p>\n<pre><code>        String test = &quot;Calm_fit calm://listpage?pageid=fitnesstab SomeText&quot;;\n        Pattern pattern = Pattern.compile(&quot;/\\bcalm?:\\/\\/\\S+/gi&quot;);\n        Matcher matcher = pattern.matcher(test);\n        System.out.println(&quot;Here 1&quot;);\n\n        if (matcher.find()) {\n            System.out.println(&quot;Here 2 Matched: &quot; + matcher.group(1));\n        }\n</code></pre>\n<p><code>Here 2 Matched: </code> is not getting printed. Control doesn't enter <code>if</code> statement. I'm trying to extract the url <code>calm://listpage?pageid=fitnesstab</code> from the text.</p>\n<p>Am I missing something here ?\nThanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1632492829,"post_id":69316147,"comment_id":122515014,"body_markdown":"Have you tried with TRACE debugging? Usually there are a lot more things going on that Spring does not show you by default","body":"Have you tried with TRACE debugging? Usually there are a lot more things going on that Spring does not show you by default"},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1632834582,"post_id":69316147,"comment_id":122596379,"body_markdown":"I have updated my question with the TRACE logs as you suggested. Please have a look.","body":"I have updated my question with the TRACE logs as you suggested. Please have a look."},{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1632864666,"post_id":69316147,"comment_id":122608460,"body_markdown":"Can you post your code: at least the class with annotation `@SpringBootApplication` and the application.yml (or properties).","body":"Can you post your code: at least the class with annotation <code>@SpringBootApplication</code> and the application.yml (or properties)."},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1632993082,"post_id":69316147,"comment_id":122645026,"body_markdown":"@р&#252;ффп I have added main class and bootstrap.yaml. Please have a look.","body":"@р&#252;ффп I have added main class and bootstrap.yaml. Please have a look."}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632993051,"creation_date":1632491373,"question_id":69316147,"body_markdown":"I am using following pom.xml for my eureka server. I have couple of micro services which are registered with eureka server. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.etp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;eureka-server&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot eureka-server&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;!-- &lt;java.version&gt;1.8&lt;/java.version&gt; --&gt;\r\n    \t\t&lt;!--Build-Date --&gt;\r\n    \t\t&lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n    \t\t&lt;maven.build.timestamp.format&gt;dd-MMM-yyyy&lt;/maven.build.timestamp.format&gt;\r\n    \t\t&lt;!--Build-Date --&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nAll services gets registered approximately and then they automatically shuts down themselves either with docker status code 0 or 137. I tried to check logs for both and found following stack for both status code services \r\n\r\n    log=&quot;24-09-2021 09:45:33.965 [DiscoveryClient-InstanceInfoReplicator-0] INFO com.netflix.discovery.DiscoveryClient.register - DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef: registering service...&quot;\r\n    log=&quot;24-09-2021 09:45:33.910 [SpringContextShutdownHook] ERROR com.netflix.discovery.DiscoveryClient.notify - Saw local status change event StatusChangeEvent [timestamp=1632476733910, current=DOWN, previous=UP]&quot;\r\n    log=&quot;24-09-2021 09:45:33.889 [SpringContextShutdownHook] INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.deregister - Unregistering application MYMICROSERVICE with eureka with status DOWN&quot;\r\n    log=&quot;24-09-2021 09:45:34.598 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Shutting down DiscoveryClient ...&quot;\r\n    container_name=/mymicroservice source=stdout log=&quot;24-09-2021 09:45:34.524 [SpringContextShutdownHook] INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService &#39;applicationTaskExecutor&#39;&quot; container_id=5b50472ae3437072dfe79c664a71dc305513d928b7173839c904dfe1abd7081e\r\n    container_name=/mymicroservice source=stdout log=&quot;24-09-2021 09:45:34.034 [DiscoveryClient-InstanceInfoReplicator-0] INFO com.netflix.discovery.DiscoveryClient.register - DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef - registration status: 204&quot; container_id=5b50472ae3437072dfe79c664a71dc305513d928b7173839c904dfe1abd7081e\r\n    log=&quot;24-09-2021 09:45:37.629 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister - Unregistering ...&quot;\r\n    log=&quot;24-09-2021 09:45:42.755 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister -DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef - deregister status: 200&quot;\r\n    log=&quot;24-09-2021 09:45:43.030 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Completed shut down of DiscoveryClient&quot;\r\n\r\n\r\nWith log level TRACE I am getting following logs ,\r\n\r\n    28-09-2021 11:03:38.828  org.apache.http.wire.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\r\n    28-09-2021 11:03:38.828  org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader - Receiving response: HTTP/1.1 404\r\n    28-09-2021 11:03:38.828  org.apache.http.headers.receiveResponseHeader - &lt;&lt; HTTP/1.1 404\r\n    28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Server: nginx/1.14.0 (Ubuntu)\r\n    28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Date: Tue, 28 Sep 2021 11:03:38 GMT\r\n    28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Content-Type: application/xml\r\n    28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Content-Length: 0\r\n    28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Connection: keep-alive\r\n    28-09-2021 11:03:38.829  org.apache.http.impl.client.DefaultHttpClient.execute - Connection can be kept alive indefinitely\r\n    28-09-2021 11:03:38.829  com.netflix.discovery.shared.MonitoredConnectionManager.releaseConnection - Released connection is reusable.\r\n    28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.freeEntry - Releasing connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]\r\n    28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.freeEntry - Pooling connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]; keep alive indefinitely\r\n    28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.notifyWaitingThread - Notifying no-one, there are no waiting threads\r\n    28-09-2021 11:03:38.830  com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.cancel - Jersey HTTP DELETE https://dev-eureka.myapp.com/eureka//apps/my-microservice/MY-APP:50c9e928d934dbdeb4abfecc1a8b9ef1; statusCode=404\r\n    28-09-2021 11:03:38.830  [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister - DiscoveryClient_my-microservice/MY-APP:50c9e928d934dbdeb4abfecc1a8b9ef1 - deregister  status: 404\r\n    28-09-2021 11:03:39.030  com.netflix.discovery.shared.MonitoredConnectionManager.closeIdleConnections - Closing connections idle longer than 0 SECONDS\r\n    28-09-2021 11:03:39.055  com.netflix.discovery.shared.NamedConnectionPool.closeIdleConnections - Closing connections idle longer than 0 SECONDS\r\n    28-09-2021 11:03:39.056  com.netflix.discovery.shared.NamedConnectionPool.closeIdleConnections - Closing connection last used @ Tue Sep 28 11:03:38 GMT 2021\r\n    28-09-2021 11:03:39.056  com.netflix.discovery.shared.NamedConnectionPool.deleteEntry - Deleting connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]\r\n    28-09-2021 11:03:39.056  org.apache.http.impl.conn.DefaultClientConnection.close - Connection 0.0.0.0:59650&lt;-&gt;IP:443 closed\r\n    28-09-2021 11:03:39.080  com.netflix.discovery.shared.MonitoredConnectionManager.shutdown - Shutting down\r\n    28-09-2021 11:03:39.228  [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Completed shut down of DiscoveryClient\r\n    28-09-2021 11:03:39.228  [SpringContextShutdownHook] TRACE org.springframework.beans.factory.support.DefaultListableBeanFactory.destroyBean - Retrieved dependent beans for bean &#39;org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory&#39;: [org.springframework.context.annotation.internalConfigurationAnnotationProcessor]\r\n\r\nUpdate 1: main class \r\n\r\n    @EnableDiscoveryClient\r\n    @SpringBootApplication\r\n    @FeignClient(name = &quot;myapp&quot;)\r\n    @RibbonClient(name = &quot;myapp&quot;)\r\n    public class CreateUserServiceApplication {\r\n    \tprivate static final Logger LOG = LogManager.getFormatterLogger();\r\n    \r\n    \t@Bean\r\n    \t@LoadBalanced\r\n    \tpublic RestTemplate restTemplate() {\r\n    \t\t/* returning object of RestTemplate */\r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t/* APPLICATION START-UP */\r\n    \t\tString logID = RandomNumberGenerator.generateRandomNumberForLOG();\r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \r\n    \t\t/* declaring objects */\r\n    \t\tSpringApplication application = null;\r\n    \t\tApplicationContext appCnt = null;\r\n    \t\ttry {\r\n    \t\t\t/* ============= BUSINESS LOGIC ================= */\r\n    \t\t\tSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n    \r\n    \t\t\t/* defining application class */\r\n    \t\t\tapplication = new SpringApplication(CreateUserServiceApplication.class);\r\n    \r\n    \t\t\t/*-----RUN APPLICATION-------------*/\r\n    \t\t\tappCnt = SpringApplication.run(CreateUserServiceApplication.class, args);\r\n    \t\t\t//setHibernateConfig(logID);\r\n    \r\n    \t\t\t/* setting properties into application */\r\n    \t\t\tMap&lt;String, Object&gt; appProperties = setApplicationConstant(appCnt);\r\n    \t\t\tConfiguration.setPropertyValue(appProperties);\r\n    \t\t\tapplication.setDefaultProperties(appProperties);\r\n    \t\t\tcreateSessionOfDatabase(logID);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tExceptionLogger.logException(e, logID);\r\n    \t\t}\r\n    \t\t/* timer variable */\r\n    \t\tlong endTime = System.currentTimeMillis();\r\n    \t}\t\r\n    }\r\n\r\n\r\nbootstrap.yaml\r\n\r\n    server:\r\n      port:8080\r\n                 \r\n    eureka:\r\n      instance:\r\n          instanceId: ${spring.application.name}:${random.value}\r\n          ##instanceId: controller:${random.value}\r\n          ## this should not be enabled on production\r\n          leaseRenewalIntervalInSeconds: 1\r\n          leaseExpirationDurationInSeconds: 2\r\n          ##hostname: ${host.name} \r\n      client:\r\n        serviceUrl:\r\n          defaultZone: ${server.ip}\r\n          eureka.client.healthcheck.enabled: true\r\n          lease:duration: 1\r\n          \r\n          \r\n    spring.cloud.config.uri: http://IP:PORT\r\n          \r\n    spring.application.name: SERVICE_NAME\r\n       \r\n    \r\n    host:\r\n      name: ${createUser.host.name}\r\n    \r\n    logging:\r\n      config: configuration/logback.xml\r\n    \r\n    management:\r\n       endpoint:\r\n          refresh:\r\n           enabled: true \r\n\r\n\r\nI have referred [link1][1] and [link2][2] but none of them resolved the issue. Can anyone help me out in this?\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/issues/2696\r\n  [2]: https://stackoverflow.com/questions/53955613/working-with-eureka-clients-programmatically-issue-completed-shut-down-of-disc","title":"Spring Boot Microservices are shutting down with : Completed shut down of DiscoveryClient","body":"<p>I am using following pom.xml for my eureka server. I have couple of micro services which are registered with eureka server.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.etp&lt;/groupId&gt;\n    &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;eureka-server&lt;/name&gt;\n    &lt;description&gt;Spring Boot eureka-server&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;!-- &lt;java.version&gt;1.8&lt;/java.version&gt; --&gt;\n        &lt;!--Build-Date --&gt;\n        &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n        &lt;maven.build.timestamp.format&gt;dd-MMM-yyyy&lt;/maven.build.timestamp.format&gt;\n        &lt;!--Build-Date --&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>All services gets registered approximately and then they automatically shuts down themselves either with docker status code 0 or 137. I tried to check logs for both and found following stack for both status code services</p>\n<pre><code>log=&quot;24-09-2021 09:45:33.965 [DiscoveryClient-InstanceInfoReplicator-0] INFO com.netflix.discovery.DiscoveryClient.register - DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef: registering service...&quot;\nlog=&quot;24-09-2021 09:45:33.910 [SpringContextShutdownHook] ERROR com.netflix.discovery.DiscoveryClient.notify - Saw local status change event StatusChangeEvent [timestamp=1632476733910, current=DOWN, previous=UP]&quot;\nlog=&quot;24-09-2021 09:45:33.889 [SpringContextShutdownHook] INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.deregister - Unregistering application MYMICROSERVICE with eureka with status DOWN&quot;\nlog=&quot;24-09-2021 09:45:34.598 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Shutting down DiscoveryClient ...&quot;\ncontainer_name=/mymicroservice source=stdout log=&quot;24-09-2021 09:45:34.524 [SpringContextShutdownHook] INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'&quot; container_id=5b50472ae3437072dfe79c664a71dc305513d928b7173839c904dfe1abd7081e\ncontainer_name=/mymicroservice source=stdout log=&quot;24-09-2021 09:45:34.034 [DiscoveryClient-InstanceInfoReplicator-0] INFO com.netflix.discovery.DiscoveryClient.register - DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef - registration status: 204&quot; container_id=5b50472ae3437072dfe79c664a71dc305513d928b7173839c904dfe1abd7081e\nlog=&quot;24-09-2021 09:45:37.629 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister - Unregistering ...&quot;\nlog=&quot;24-09-2021 09:45:42.755 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister -DiscoveryClient_MYMICROSERVICE/mymicroservice:56e852b73630a712fbdf9defedaa6cef - deregister status: 200&quot;\nlog=&quot;24-09-2021 09:45:43.030 [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Completed shut down of DiscoveryClient&quot;\n</code></pre>\n<p>With log level TRACE I am getting following logs ,</p>\n<pre><code>28-09-2021 11:03:38.828  org.apache.http.wire.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\n28-09-2021 11:03:38.828  org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader - Receiving response: HTTP/1.1 404\n28-09-2021 11:03:38.828  org.apache.http.headers.receiveResponseHeader - &lt;&lt; HTTP/1.1 404\n28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Server: nginx/1.14.0 (Ubuntu)\n28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Date: Tue, 28 Sep 2021 11:03:38 GMT\n28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Content-Type: application/xml\n28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Content-Length: 0\n28-09-2021 11:03:38.829  org.apache.http.headers.receiveResponseHeader - &lt;&lt; Connection: keep-alive\n28-09-2021 11:03:38.829  org.apache.http.impl.client.DefaultHttpClient.execute - Connection can be kept alive indefinitely\n28-09-2021 11:03:38.829  com.netflix.discovery.shared.MonitoredConnectionManager.releaseConnection - Released connection is reusable.\n28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.freeEntry - Releasing connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]\n28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.freeEntry - Pooling connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]; keep alive indefinitely\n28-09-2021 11:03:38.830  com.netflix.discovery.shared.NamedConnectionPool.notifyWaitingThread - Notifying no-one, there are no waiting threads\n28-09-2021 11:03:38.830  com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.cancel - Jersey HTTP DELETE https://dev-eureka.myapp.com/eureka//apps/my-microservice/MY-APP:50c9e928d934dbdeb4abfecc1a8b9ef1; statusCode=404\n28-09-2021 11:03:38.830  [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.unregister - DiscoveryClient_my-microservice/MY-APP:50c9e928d934dbdeb4abfecc1a8b9ef1 - deregister  status: 404\n28-09-2021 11:03:39.030  com.netflix.discovery.shared.MonitoredConnectionManager.closeIdleConnections - Closing connections idle longer than 0 SECONDS\n28-09-2021 11:03:39.055  com.netflix.discovery.shared.NamedConnectionPool.closeIdleConnections - Closing connections idle longer than 0 SECONDS\n28-09-2021 11:03:39.056  com.netflix.discovery.shared.NamedConnectionPool.closeIdleConnections - Closing connection last used @ Tue Sep 28 11:03:38 GMT 2021\n28-09-2021 11:03:39.056  com.netflix.discovery.shared.NamedConnectionPool.deleteEntry - Deleting connection [{s}-&gt;https://dev-eureka.myapp.com:443][null]\n28-09-2021 11:03:39.056  org.apache.http.impl.conn.DefaultClientConnection.close - Connection 0.0.0.0:59650&lt;-&gt;IP:443 closed\n28-09-2021 11:03:39.080  com.netflix.discovery.shared.MonitoredConnectionManager.shutdown - Shutting down\n28-09-2021 11:03:39.228  [SpringContextShutdownHook] INFO com.netflix.discovery.DiscoveryClient.shutdown - Completed shut down of DiscoveryClient\n28-09-2021 11:03:39.228  [SpringContextShutdownHook] TRACE org.springframework.beans.factory.support.DefaultListableBeanFactory.destroyBean - Retrieved dependent beans for bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory': [org.springframework.context.annotation.internalConfigurationAnnotationProcessor]\n</code></pre>\n<p>Update 1: main class</p>\n<pre><code>@EnableDiscoveryClient\n@SpringBootApplication\n@FeignClient(name = &quot;myapp&quot;)\n@RibbonClient(name = &quot;myapp&quot;)\npublic class CreateUserServiceApplication {\n    private static final Logger LOG = LogManager.getFormatterLogger();\n\n    @Bean\n    @LoadBalanced\n    public RestTemplate restTemplate() {\n        /* returning object of RestTemplate */\n        return new RestTemplate();\n    }\n\n    public static void main(String[] args) {\n\n        /* APPLICATION START-UP */\n        String logID = RandomNumberGenerator.generateRandomNumberForLOG();\n        long startTime = System.currentTimeMillis();\n\n        /* declaring objects */\n        SpringApplication application = null;\n        ApplicationContext appCnt = null;\n        try {\n            /* ============= BUSINESS LOGIC ================= */\n            System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n\n            /* defining application class */\n            application = new SpringApplication(CreateUserServiceApplication.class);\n\n            /*-----RUN APPLICATION-------------*/\n            appCnt = SpringApplication.run(CreateUserServiceApplication.class, args);\n            //setHibernateConfig(logID);\n\n            /* setting properties into application */\n            Map&lt;String, Object&gt; appProperties = setApplicationConstant(appCnt);\n            Configuration.setPropertyValue(appProperties);\n            application.setDefaultProperties(appProperties);\n            createSessionOfDatabase(logID);\n\n        } catch (Exception e) {\n            ExceptionLogger.logException(e, logID);\n        }\n        /* timer variable */\n        long endTime = System.currentTimeMillis();\n    }   \n}\n</code></pre>\n<p>bootstrap.yaml</p>\n<pre><code>server:\n  port:8080\n             \neureka:\n  instance:\n      instanceId: ${spring.application.name}:${random.value}\n      ##instanceId: controller:${random.value}\n      ## this should not be enabled on production\n      leaseRenewalIntervalInSeconds: 1\n      leaseExpirationDurationInSeconds: 2\n      ##hostname: ${host.name} \n  client:\n    serviceUrl:\n      defaultZone: ${server.ip}\n      eureka.client.healthcheck.enabled: true\n      lease:duration: 1\n      \n      \nspring.cloud.config.uri: http://IP:PORT\n      \nspring.application.name: SERVICE_NAME\n   \n\nhost:\n  name: ${createUser.host.name}\n\nlogging:\n  config: configuration/logback.xml\n\nmanagement:\n   endpoint:\n      refresh:\n       enabled: true \n</code></pre>\n<p>I have referred <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/2696\" rel=\"nofollow noreferrer\">link1</a> and <a href=\"https://stackoverflow.com/questions/53955613/working-with-eureka-clients-programmatically-issue-completed-shut-down-of-disc\">link2</a> but none of them resolved the issue. Can anyone help me out in this?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-firestore","google-cloud-storage"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1632997314,"post_id":69389414,"comment_id":122646711,"body_markdown":"Where are you running your code?","body":"Where are you running your code?"},{"owner":{"account_id":21284989,"reputation":43,"user_id":15662781,"display_name":"OrganicWheel"},"score":0,"creation_date":1632997926,"post_id":69389414,"comment_id":122646949,"body_markdown":"@ guillaume blaquiere I am running my code on my local machine.","body":"@ guillaume blaquiere I am running my code on my local machine."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1633010300,"post_id":69389414,"comment_id":122652323,"body_markdown":"Try to perform a `gcloud auth application-default login`, use your credential and try again.","body":"Try to perform a <code>gcloud auth application-default login</code>, use your credential and try again."},{"owner":{"account_id":21284989,"reputation":43,"user_id":15662781,"display_name":"OrganicWheel"},"score":0,"creation_date":1633012112,"post_id":69389414,"comment_id":122653184,"body_markdown":"@guillaume blaquiere I provided the spring.cloud.gcp.project-id, spring.cloud.gcp.credentials.location entries in my application.properties and its working. But i was already reading the google credentials from the FirebaseInitialization class and thought that would be sufficient. Any idea why i again have to explicitly provide the google credentials in my application.properties file.","body":"@guillaume blaquiere I provided the spring.cloud.gcp.project-id, spring.cloud.gcp.credentials.location entries in my application.properties and its working. But i was already reading the google credentials from the FirebaseInitialization class and thought that would be sufficient. Any idea why i again have to explicitly provide the google credentials in my application.properties file."}],"owner":{"account_id":21284989,"reputation":43,"user_id":15662781,"display_name":"OrganicWheel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632992837,"creation_date":1632992837,"question_id":69389414,"body_markdown":"I have a project where i am calling Google Cloud Storage API from Firebase Cloud FireStore API.\r\nThis is my Firebase code before adding the Google Cloud Storage dependencies.\r\n\r\n   \r\n\r\n     package com.example.firebase.springbootfirebasedemo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringbootFirebaseDemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringbootFirebaseDemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is my REST Controller**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.controller;\r\n    \r\n    import com.example.firebase.springbootfirebasedemo.entity.Review;\r\n    import com.example.firebase.springbootfirebasedemo.service.ReviewService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ReviewController {\r\n    \r\n        @Autowired\r\n        private ReviewService reviewService;\r\n    \r\n        @PostMapping(&quot;/reviews&quot;)\r\n        public String saveReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.saveReview(review);\r\n        }\r\n    \r\n        @GetMapping(&quot;/reviews/{name}&quot;)\r\n        public Review getReview(@PathVariable String name) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.getReviewDetailsByname(name);\r\n        }\r\n    \r\n        @GetMapping(&quot;/reviews&quot;)\r\n        public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.getAllReviews();\r\n        }\r\n    \r\n    \r\n        @PutMapping(&quot;/reviews&quot;)\r\n        public String updateReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.updateReview(review);\r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/reviews/{name}&quot;)\r\n        public String deleteReview(@PathVariable String name) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.deleteReview(name);\r\n        }\r\n    }\r\n\r\n**This is my Service class**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.service;\r\n    \r\n    import com.example.firebase.springbootfirebasedemo.entity.Review;\r\n    import com.google.api.core.ApiFuture;\r\n    import com.google.cloud.firestore.DocumentReference;\r\n    import com.google.cloud.firestore.DocumentSnapshot;\r\n    import com.google.cloud.firestore.Firestore;\r\n    import com.google.cloud.firestore.WriteResult;\r\n    import com.google.firebase.cloud.FirestoreClient;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    @Service\r\n    public class ReviewService {\r\n    \r\n        private static final String COLLECTION_NAME =&quot;Reviews&quot;;\r\n    \r\n        public String saveReview(Review review) throws ExecutionException, InterruptedException {\r\n    \r\n           Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n           ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\r\n    \r\n           return collectionApiFuture.get().getUpdateTime().toString();\r\n    \r\n        }\r\n    \r\n        public Review getReviewDetailsByname(String name) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            DocumentReference documentReference=dbFirestore.collection(COLLECTION_NAME).document(name);\r\n    \r\n            ApiFuture&lt;DocumentSnapshot&gt; future=documentReference.get();\r\n    \r\n            DocumentSnapshot document=future.get();\r\n    \r\n            Review review=null;\r\n            if(document.exists()) {\r\n             review = document.toObject(Review.class);\r\n           return  review;\r\n            }else{\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            Iterable&lt;DocumentReference&gt; documentReference=dbFirestore.collection(COLLECTION_NAME).listDocuments();\r\n            Iterator&lt;DocumentReference&gt; iterator=documentReference.iterator();\r\n    \r\n            List&lt;Review&gt; reviewList=new ArrayList&lt;&gt;();\r\n            Review review=null;\r\n    \r\n            while(iterator.hasNext()){\r\n                DocumentReference documentReference1=iterator.next();\r\n               ApiFuture&lt;DocumentSnapshot&gt; future= documentReference1.get();\r\n               DocumentSnapshot document=future.get();\r\n    \r\n                review=document.toObject(Review.class);\r\n               reviewList.add(review);\r\n    \r\n            }\r\n            return reviewList;\r\n        }\r\n    \r\n    \r\n        public String updateReview(Review review) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\r\n    \r\n            return collectionApiFuture.get().getUpdateTime().toString();\r\n    \r\n        }\r\n    \r\n        public String deleteReview(String name) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(name).delete();\r\n    \r\n            return &quot;Document with Review ID &quot;+name+&quot; has been deleted successfully&quot;;\r\n    \r\n        }\r\n    }\r\n\r\n**This is my Entity Class**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.entity;\r\n    \r\n    public class Review {\r\n    \r\n        private String name;\r\n        private String description;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n**This is a class which reads the google service account key**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.firebase;\r\n    \r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.google.firebase.FirebaseApp;\r\n    import com.google.firebase.FirebaseOptions;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    @Service\r\n    public class FirebaseInitialization {\r\n    \r\n    \r\n        @PostConstruct\r\n        public void initialization(){\r\n    \r\n            FileInputStream serviceAccount = null;\r\n            try {\r\n                serviceAccount = new FileInputStream(&quot;./serviceAccountKey.json&quot;);\r\n    \r\n            FirebaseOptions options = new FirebaseOptions.Builder()\r\n                    .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                    .build();\r\n    \r\n            FirebaseApp.initializeApp(options);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**This is my pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t\t&lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example.firebase&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot-firebase-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot-firebase-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nSo far so good. I was able to call my REST API and perform CRUD operation on my Firestore DB.\r\nNow i need to call the Google cloud storage API from my Firebase API. For this i added the Google Cloud Storage dependencies.\r\n\r\n**My new pom.xml after adding the Google cloud storage dependencies.**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t\t&lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example.firebase&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot-firebase-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot-firebase-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud-gcp.version&gt;2.0.4&lt;/spring-cloud-gcp.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nNow after adding the dependencies and running the server i was getting the following errors.\r\n\r\n     :: Spring Boot ::                (v2.5.5)\r\n    \r\n    2021-09-30 14:31:05.912  INFO 8540 --- [           main] .e.f.s.SpringbootFirebaseDemoApplication : Starting SpringbootFirebaseDemoApplication using Java 15.0.2 on DELL-PC with PID 8540 (D:\\Downloads\\Eclipse\\eclipse-workspace\\springboot-firebase-movie-review\\target\\classes started by User in D:\\Downloads\\Eclipse\\eclipse-workspace\\springboot-firebase-movie-review)\r\n    2021-09-30 14:31:05.929  INFO 8540 --- [           main] .e.f.s.SpringbootFirebaseDemoApplication : No active profile set, falling back to default profiles: default\r\n    2021-09-30 14:31:07.571 ERROR 8540 --- [           main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.1.17-dev] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]\r\n    2021-09-30 14:31:08.343  INFO 8540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2021-09-30 14:31:08.383  INFO 8540 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2021-09-30 14:31:08.383  INFO 8540 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n    2021-09-30 14:31:08.732  INFO 8540 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-09-30 14:31:08.732  INFO 8540 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2678 ms\r\n    2021-09-30 14:31:09.723  WARN 8540 --- [           main] c.g.c.s.core.DefaultCredentialsProvider  : No core credentials are set. Service-specific credentials (e.g., spring.cloud.gcp.pubsub.credentials.*) should be used if your app uses services that require credentials.\r\n    \r\n    java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n    \tat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:120) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:92) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:67) ~[gax-1.66.0.jar:1.66.0]\r\n    \tat com.google.cloud.spring.core.DefaultCredentialsProvider.&lt;init&gt;(DefaultCredentialsProvider.java:110) ~[spring-cloud-gcp-core-2.0.4.jar:2.0.4]\r\n    \tat com.google.cloud.spring.autoconfigure.core.GcpContextAutoConfiguration.googleCredentials(GcpContextAutoConfiguration.java:63) ~[spring-cloud-gcp-autoconfigure-2.0.4.jar:2.0.4]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat com.example.firebase.springbootfirebasedemo.SpringbootFirebaseDemoApplication.main(SpringbootFirebaseDemoApplication.java:10) ~[classes/:na]\r\n    \r\n    2021-09-30 14:31:09.775  INFO 8540 --- [           main] c.g.c.s.a.c.GcpContextAutoConfiguration  : The default project ID is lustrous-braid-326814\r\n    2021-09-30 14:31:09.876  WARN 8540 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;firestoreOptions&#39; defined in class path resource [com/google/cloud/spring/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method &#39;firestoreOptions&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\r\n    2021-09-30 14:31:09.883  INFO 8540 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2021-09-30 14:31:09.944  INFO 8540 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-09-30 14:31:09.972 ERROR 8540 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;firestoreOptions&#39; defined in class path resource [com/google/cloud/spring/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method &#39;firestoreOptions&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.5.jar:2.5.5]\r\n    \tat com.example.firebase.springbootfirebasedemo.SpringbootFirebaseDemoApplication.main(SpringbootFirebaseDemoApplication.java:10) ~[classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method &#39;firestoreOptions&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.RuntimeException: Failed to obtain credentials\r\n    \tat com.google.cloud.firestore.FirestoreOptions$Builder.build(FirestoreOptions.java:212) ~[google-cloud-firestore-2.6.1.jar:2.6.1]\r\n    \tat com.google.cloud.spring.autoconfigure.firestore.GcpFirestoreAutoConfiguration.firestoreOptions(GcpFirestoreAutoConfiguration.java:110) ~[spring-cloud-gcp-autoconfigure-2.0.4.jar:2.0.4]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \t... 20 common frames omitted\r\n    Caused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n    \tat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:120) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:92) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\r\n    \tat com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:67) ~[gax-1.66.0.jar:1.66.0]\r\n    \tat com.google.cloud.spring.core.DefaultCredentialsProvider.getCredentials(DefaultCredentialsProvider.java:67) ~[spring-cloud-gcp-core-2.0.4.jar:2.0.4]\r\n    \tat com.google.cloud.firestore.FirestoreOptions$Builder.build(FirestoreOptions.java:210) ~[google-cloud-firestore-2.6.1.jar:2.6.1]\r\n    \t... 26 common frames omitted\r\n\r\nPlease help.Thank you.\r\n\r\n","title":"The Application Default Credentials are not available. They are available if running in Google Compute Engine","body":"<p>I have a project where i am calling Google Cloud Storage API from Firebase Cloud FireStore API.\nThis is my Firebase code before adding the Google Cloud Storage dependencies.</p>\n<pre><code> package com.example.firebase.springbootfirebasedemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringbootFirebaseDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootFirebaseDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>This is my REST Controller</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.controller;\n\nimport com.example.firebase.springbootfirebasedemo.entity.Review;\nimport com.example.firebase.springbootfirebasedemo.service.ReviewService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ReviewController {\n\n    @Autowired\n    private ReviewService reviewService;\n\n    @PostMapping(&quot;/reviews&quot;)\n    public String saveReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\n\n        return reviewService.saveReview(review);\n    }\n\n    @GetMapping(&quot;/reviews/{name}&quot;)\n    public Review getReview(@PathVariable String name) throws ExecutionException, InterruptedException {\n\n        return reviewService.getReviewDetailsByname(name);\n    }\n\n    @GetMapping(&quot;/reviews&quot;)\n    public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\n\n        return reviewService.getAllReviews();\n    }\n\n\n    @PutMapping(&quot;/reviews&quot;)\n    public String updateReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\n\n        return reviewService.updateReview(review);\n    }\n\n\n    @DeleteMapping(&quot;/reviews/{name}&quot;)\n    public String deleteReview(@PathVariable String name) throws ExecutionException, InterruptedException {\n\n        return reviewService.deleteReview(name);\n    }\n}\n</code></pre>\n<p><strong>This is my Service class</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.service;\n\nimport com.example.firebase.springbootfirebasedemo.entity.Review;\nimport com.google.api.core.ApiFuture;\nimport com.google.cloud.firestore.DocumentReference;\nimport com.google.cloud.firestore.DocumentSnapshot;\nimport com.google.cloud.firestore.Firestore;\nimport com.google.cloud.firestore.WriteResult;\nimport com.google.firebase.cloud.FirestoreClient;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n@Service\npublic class ReviewService {\n\n    private static final String COLLECTION_NAME =&quot;Reviews&quot;;\n\n    public String saveReview(Review review) throws ExecutionException, InterruptedException {\n\n       Firestore dbFirestore= FirestoreClient.getFirestore();\n\n       ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\n\n       return collectionApiFuture.get().getUpdateTime().toString();\n\n    }\n\n    public Review getReviewDetailsByname(String name) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        DocumentReference documentReference=dbFirestore.collection(COLLECTION_NAME).document(name);\n\n        ApiFuture&lt;DocumentSnapshot&gt; future=documentReference.get();\n\n        DocumentSnapshot document=future.get();\n\n        Review review=null;\n        if(document.exists()) {\n         review = document.toObject(Review.class);\n       return  review;\n        }else{\n            return null;\n        }\n    }\n\n    public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        Iterable&lt;DocumentReference&gt; documentReference=dbFirestore.collection(COLLECTION_NAME).listDocuments();\n        Iterator&lt;DocumentReference&gt; iterator=documentReference.iterator();\n\n        List&lt;Review&gt; reviewList=new ArrayList&lt;&gt;();\n        Review review=null;\n\n        while(iterator.hasNext()){\n            DocumentReference documentReference1=iterator.next();\n           ApiFuture&lt;DocumentSnapshot&gt; future= documentReference1.get();\n           DocumentSnapshot document=future.get();\n\n            review=document.toObject(Review.class);\n           reviewList.add(review);\n\n        }\n        return reviewList;\n    }\n\n\n    public String updateReview(Review review) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\n\n        return collectionApiFuture.get().getUpdateTime().toString();\n\n    }\n\n    public String deleteReview(String name) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(name).delete();\n\n        return &quot;Document with Review ID &quot;+name+&quot; has been deleted successfully&quot;;\n\n    }\n}\n</code></pre>\n<p><strong>This is my Entity Class</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.entity;\n\npublic class Review {\n\n    private String name;\n    private String description;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n<p><strong>This is a class which reads the google service account key</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.firebase;\n\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\n@Service\npublic class FirebaseInitialization {\n\n\n    @PostConstruct\n    public void initialization(){\n\n        FileInputStream serviceAccount = null;\n        try {\n            serviceAccount = new FileInputStream(&quot;./serviceAccountKey.json&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .build();\n\n        FirebaseApp.initializeApp(options);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>This is my pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-firebase-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-firebase-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So far so good. I was able to call my REST API and perform CRUD operation on my Firestore DB.\nNow i need to call the Google cloud storage API from my Firebase API. For this i added the Google Cloud Storage dependencies.</p>\n<p><strong>My new pom.xml after adding the Google cloud storage dependencies.</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-firebase-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-firebase-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;2.0.4&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now after adding the dependencies and running the server i was getting the following errors.</p>\n<pre><code> :: Spring Boot ::                (v2.5.5)\n\n2021-09-30 14:31:05.912  INFO 8540 --- [           main] .e.f.s.SpringbootFirebaseDemoApplication : Starting SpringbootFirebaseDemoApplication using Java 15.0.2 on DELL-PC with PID 8540 (D:\\Downloads\\Eclipse\\eclipse-workspace\\springboot-firebase-movie-review\\target\\classes started by User in D:\\Downloads\\Eclipse\\eclipse-workspace\\springboot-firebase-movie-review)\n2021-09-30 14:31:05.929  INFO 8540 --- [           main] .e.f.s.SpringbootFirebaseDemoApplication : No active profile set, falling back to default profiles: default\n2021-09-30 14:31:07.571 ERROR 8540 --- [           main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.1.17-dev] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]\n2021-09-30 14:31:08.343  INFO 8540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-09-30 14:31:08.383  INFO 8540 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-09-30 14:31:08.383  INFO 8540 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\n2021-09-30 14:31:08.732  INFO 8540 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-09-30 14:31:08.732  INFO 8540 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2678 ms\n2021-09-30 14:31:09.723  WARN 8540 --- [           main] c.g.c.s.core.DefaultCredentialsProvider  : No core credentials are set. Service-specific credentials (e.g., spring.cloud.gcp.pubsub.credentials.*) should be used if your app uses services that require credentials.\n\njava.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:120) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:92) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:67) ~[gax-1.66.0.jar:1.66.0]\n    at com.google.cloud.spring.core.DefaultCredentialsProvider.&lt;init&gt;(DefaultCredentialsProvider.java:110) ~[spring-cloud-gcp-core-2.0.4.jar:2.0.4]\n    at com.google.cloud.spring.autoconfigure.core.GcpContextAutoConfiguration.googleCredentials(GcpContextAutoConfiguration.java:63) ~[spring-cloud-gcp-autoconfigure-2.0.4.jar:2.0.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.5.jar:2.5.5]\n    at com.example.firebase.springbootfirebasedemo.SpringbootFirebaseDemoApplication.main(SpringbootFirebaseDemoApplication.java:10) ~[classes/:na]\n\n2021-09-30 14:31:09.775  INFO 8540 --- [           main] c.g.c.s.a.c.GcpContextAutoConfiguration  : The default project ID is lustrous-braid-326814\n2021-09-30 14:31:09.876  WARN 8540 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firestoreOptions' defined in class path resource [com/google/cloud/spring/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method 'firestoreOptions' threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\n2021-09-30 14:31:09.883  INFO 8540 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-09-30 14:31:09.944  INFO 8540 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-09-30 14:31:09.972 ERROR 8540 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firestoreOptions' defined in class path resource [com/google/cloud/spring/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method 'firestoreOptions' threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.5.jar:2.5.5]\n    at com.example.firebase.springbootfirebasedemo.SpringbootFirebaseDemoApplication.main(SpringbootFirebaseDemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.FirestoreOptions]: Factory method 'firestoreOptions' threw exception; nested exception is java.lang.RuntimeException: Failed to obtain credentials\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 19 common frames omitted\nCaused by: java.lang.RuntimeException: Failed to obtain credentials\n    at com.google.cloud.firestore.FirestoreOptions$Builder.build(FirestoreOptions.java:212) ~[google-cloud-firestore-2.6.1.jar:2.6.1]\n    at com.google.cloud.spring.autoconfigure.firestore.GcpFirestoreAutoConfiguration.firestoreOptions(GcpFirestoreAutoConfiguration.java:110) ~[spring-cloud-gcp-autoconfigure-2.0.4.jar:2.0.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 20 common frames omitted\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:120) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:92) ~[google-auth-library-oauth2-http-0.26.0.jar:na]\n    at com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:67) ~[gax-1.66.0.jar:1.66.0]\n    at com.google.cloud.spring.core.DefaultCredentialsProvider.getCredentials(DefaultCredentialsProvider.java:67) ~[spring-cloud-gcp-core-2.0.4.jar:2.0.4]\n    at com.google.cloud.firestore.FirestoreOptions$Builder.build(FirestoreOptions.java:210) ~[google-cloud-firestore-2.6.1.jar:2.6.1]\n    ... 26 common frames omitted\n</code></pre>\n<p>Please help.Thank you.</p>\n"},{"tags":["java","sockets","ssl","soap","tcp"],"answers":[{"tags":[],"owner":{"account_id":11901543,"reputation":2366,"user_id":8709389,"accept_rate":14,"display_name":"zhh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632992705,"creation_date":1521774391,"answer_id":49441756,"question_id":49441183,"body_markdown":"When you create the `tunnel`, call:\r\n```\r\ntunnel.connect(new InetSocketAddress(host, port), 30000);\r\n```","title":"Placing timeout for SSLSocket handshake","body":"<p>When you create the <code>tunnel</code>, call:</p>\n<pre><code>tunnel.connect(new InetSocketAddress(host, port), 30000);\n</code></pre>\n"}],"owner":{"account_id":7900365,"reputation":704,"user_id":5967578,"accept_rate":87,"display_name":"Eldon Hipolito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632992705,"creation_date":1521769744,"question_id":49441183,"body_markdown":"Recently, I am having trouble with our SOAP calls which uses apache axis 1.4. I have set the timeout as 30s, however it sometimes reaches around ~1000s before throwing an exception. After exploring internal implementation of axis, I found out that it is due to the SSLSocket handshake.\r\n\r\nSee sample error below.\r\n\r\n    java.net.SocketException: Connection timed out (Read failed)\r\n    at java.net.SocketInputStream.$$YJP$$socketRead0(Native Method)\r\n    at java.net.SocketInputStream.socketRead0(SocketInputStream.java)\r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\r\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)\r\n    at org.apache.axis.components.net.JSSESocketFactory.create(JSSESocketFactory.java:186)\r\n\r\nIs it possible to put a timeout also on the handshake? Or is there another way to forcibly cut the connection.\r\n\r\nAlso, see the handshake part on the code\r\n\r\n \r\n\r\n     sslSocket = sslFactory.createSocket(tunnel, host, port, true);\r\n                if (log.isDebugEnabled()) {\r\n                    log.debug(Messages.getMessage(&quot;setupTunnel00&quot;,\r\n                              tcp.getProxyHost(),\r\n                            &quot;&quot; + tunnelPort));\r\n                }\r\n            }\r\n    \r\n            ((SSLSocket) sslSocket).startHandshake();","title":"Placing timeout for SSLSocket handshake","body":"<p>Recently, I am having trouble with our SOAP calls which uses apache axis 1.4. I have set the timeout as 30s, however it sometimes reaches around ~1000s before throwing an exception. After exploring internal implementation of axis, I found out that it is due to the SSLSocket handshake.</p>\n\n<p>See sample error below.</p>\n\n<pre><code>java.net.SocketException: Connection timed out (Read failed)\nat java.net.SocketInputStream.$$YJP$$socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead0(SocketInputStream.java)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:171)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\nat sun.security.ssl.InputRecord.read(InputRecord.java:503)\nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)\nat org.apache.axis.components.net.JSSESocketFactory.create(JSSESocketFactory.java:186)\n</code></pre>\n\n<p>Is it possible to put a timeout also on the handshake? Or is there another way to forcibly cut the connection.</p>\n\n<p>Also, see the handshake part on the code</p>\n\n<pre><code> sslSocket = sslFactory.createSocket(tunnel, host, port, true);\n            if (log.isDebugEnabled()) {\n                log.debug(Messages.getMessage(\"setupTunnel00\",\n                          tcp.getProxyHost(),\n                        \"\" + tunnelPort));\n            }\n        }\n\n        ((SSLSocket) sslSocket).startHandshake();\n</code></pre>\n"},{"tags":["java","eclipse","class","user-interface","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632992591,"creation_date":1632992591,"answer_id":69389350,"question_id":69389222,"body_markdown":"On Window builder Palette, click choose component and search for your class for example\r\n\r\n`package.class`. This is the [image][1]  Refer to [this][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/puDFj.png\r\n  [2]: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.wb.doc.user%2Fhtml%2Fuserinterface%2Fpalette.html","title":"Eclipse Window Builder importing classes","body":"<p>On Window builder Palette, click choose component and search for your class for example</p>\n<p><code>package.class</code>. This is the <a href=\"https://i.stack.imgur.com/puDFj.png\" rel=\"nofollow noreferrer\">image</a>  Refer to <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.wb.doc.user%2Fhtml%2Fuserinterface%2Fpalette.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":22016881,"reputation":13,"user_id":16286233,"display_name":"anonymousEROS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632992591,"creation_date":1632992097,"question_id":69389222,"body_markdown":"I&#39;m working on a GUI in Window Builder and I want to import some of the objects I have declared on my main. The GUI is in the same package as my main and 5 classes, 1 parent and 4 child classes. Is this possible to do? As of right now, I&#39;m trying to call my characters for the game I created into the GUI to be displayed when a certain button is pushed. \r\n\r\nSo far, I tried importing each class into my GUI. That didn&#39;t work went into my main and added my GUI by declaring it as a new object followed up by adding   EventQueue.invokeLater and making that visible, but that didn&#39;t really work. Any thoughts on how to do something like this?","title":"Eclipse Window Builder importing classes","body":"<p>I'm working on a GUI in Window Builder and I want to import some of the objects I have declared on my main. The GUI is in the same package as my main and 5 classes, 1 parent and 4 child classes. Is this possible to do? As of right now, I'm trying to call my characters for the game I created into the GUI to be displayed when a certain button is pushed.</p>\n<p>So far, I tried importing each class into my GUI. That didn't work went into my main and added my GUI by declaring it as a new object followed up by adding   EventQueue.invokeLater and making that visible, but that didn't really work. Any thoughts on how to do something like this?</p>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector","data-partitioning"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632911332,"creation_date":1632911332,"answer_id":69374658,"question_id":69374115,"body_markdown":"For question 1, the Spark partitions don&#39;t have a direct correlation with the number of cores or tasks. Spark partitions are calculated by the connector using the estimated table size (from the Cassandra `system.size_estimates` table) and the input split size. The formula is:\r\n\r\n```\r\nspark_partitions = estimated_table_size / input.split.size_in_mb\r\n```\r\n\r\nIf you&#39;d like to know the details, I&#39;ve explained it in https://community.datastax.com/questions/11500/.\r\n\r\nFor question 2, it is definitely a good idea to use the `repartitionByCassandraReplica()` method to take advantage of data locality and minimise shuffling. However, I&#39;m not sure why you&#39;re getting that error. If you update your original question with minimal code + data that replicates the issue, I&#39;d be happy to review it and update my answer accordingly. Cheers!","title":"Spark-Cassandra Connector -- Spark and Cassandra partitions -- data locality","body":"<p>For question 1, the Spark partitions don't have a direct correlation with the number of cores or tasks. Spark partitions are calculated by the connector using the estimated table size (from the Cassandra <code>system.size_estimates</code> table) and the input split size. The formula is:</p>\n<pre><code>spark_partitions = estimated_table_size / input.split.size_in_mb\n</code></pre>\n<p>If you'd like to know the details, I've explained it in <a href=\"https://community.datastax.com/questions/11500/\" rel=\"nofollow noreferrer\">https://community.datastax.com/questions/11500/</a>.</p>\n<p>For question 2, it is definitely a good idea to use the <code>repartitionByCassandraReplica()</code> method to take advantage of data locality and minimise shuffling. However, I'm not sure why you're getting that error. If you update your original question with minimal code + data that replicates the issue, I'd be happy to review it and update my answer accordingly. Cheers!</p>\n"}],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632991979,"creation_date":1632909235,"question_id":69374115,"body_markdown":"I have a 16 node cluster where every node has Spark and Cassandra installed while I am using the Spark-Cassandra Connector 3.0.0. The spark cluster has 16 executors with 2 cores each, total of 32 cores. I have ~2.2 billion rows(also primary keys) in Cassandra database with 4.827 unique partition keys in total. I am using dataframes/datasets and the code is in Java while I also use .config(&quot;spark.sql.shuffle.partitions&quot;,96) in spark configuration. In the code I select all 2.2 billion rows and join on the partition key.\r\n\r\n1) In the Spark GUI I see there is a broadcast with 32 tasks which means that Sparks Join is used and 32 tasks are because of the available cores. Does this mean that there will be 32 Spark partitions created initially where these 2.2 billion rows will reside? \r\n\r\n2) Should I definitely use .repartitionByCassandraReplica before I use Join? I am not convinced that it is needed, but the truth is that if I try to use it I get an error that &quot;the symbol cannot be found&quot;. Also, DirectJoin is activated when I have less than 2600 partition keys. \r\n\r\nMy aim is to take advantage of data locality and avoid data transfer.\r\n\r\n**EDIT 1**\r\n\r\nFor question 1, I went through the link you sent and as you say the size is based on whatever is in the system.size_estimates table. \r\n\r\n - According to nodetool I have 16 nodes x ~8.9Gb = 143Gb with a replication factor 3, so 143/3 = 47.6Gb. So according to the formula there must be around 47600/64 = ~744 spark partitions.\r\n - However according to the system.size_estimates table, the partitions_count column has a sum of 1883 partitions and the mean_partition_size is 48042720. This means that the table size is 1883 x 48Mb = 90384Mb or ~90Gb which is a bit far from 143Gb.\r\n\r\nFor question 2, my Cassandra table is:\r\n\r\n     CREATE TABLE experiment(\r\n     experimentid varchar,\r\n     description text,\r\n     rt float,\r\n     intensity float,\r\n     mz float,\r\n     identifier text,\r\n     chemical_formula text,\r\n     filename text,\r\n     PRIMARY KEY ((experimentid),description, rt, intensity, mz, identifier, chemical_formula, filename));\r\n\r\nand the spark code is:\r\n\r\n    Dataset&lt;Row&gt; dfexplist = sp.createDataset(experimentlist, Encoders.STRING()).toDF(&quot;experimentid&quot;);\r\n\r\n    Dataset&lt;Row&gt; metlistinitial = sp.read().format(&quot;org.apache.spark.sql.cassandra&quot;)\r\n                    .options(new HashMap&lt;String, String&gt;() {\r\n                        {\r\n                            put(&quot;keyspace&quot;, &quot;mdb&quot;);\r\n                            put(&quot;table&quot;, &quot;experiment&quot;);\r\n                        }\r\n                    })\r\n                    .load().select(col(&quot;experimentid&quot;), col(&quot;description&quot;), col(&quot;intensity&quot;)).join(dfexplist, &quot;experimentid&quot;).repartition(col(&quot;experimentid&quot;));\r\n\r\nDoes this achieves data locality? Is there a shuffle happening when or before I join? At the end I am repartition according to the partition key so to avoid any future shuffle in later calculations.","title":"Spark-Cassandra Connector -- Spark and Cassandra partitions -- data locality","body":"<p>I have a 16 node cluster where every node has Spark and Cassandra installed while I am using the Spark-Cassandra Connector 3.0.0. The spark cluster has 16 executors with 2 cores each, total of 32 cores. I have ~2.2 billion rows(also primary keys) in Cassandra database with 4.827 unique partition keys in total. I am using dataframes/datasets and the code is in Java while I also use .config(&quot;spark.sql.shuffle.partitions&quot;,96) in spark configuration. In the code I select all 2.2 billion rows and join on the partition key.</p>\n<ol>\n<li><p>In the Spark GUI I see there is a broadcast with 32 tasks which means that Sparks Join is used and 32 tasks are because of the available cores. Does this mean that there will be 32 Spark partitions created initially where these 2.2 billion rows will reside?</p>\n</li>\n<li><p>Should I definitely use .repartitionByCassandraReplica before I use Join? I am not convinced that it is needed, but the truth is that if I try to use it I get an error that &quot;the symbol cannot be found&quot;. Also, DirectJoin is activated when I have less than 2600 partition keys.</p>\n</li>\n</ol>\n<p>My aim is to take advantage of data locality and avoid data transfer.</p>\n<p><strong>EDIT 1</strong></p>\n<p>For question 1, I went through the link you sent and as you say the size is based on whatever is in the system.size_estimates table.</p>\n<ul>\n<li>According to nodetool I have 16 nodes x ~8.9Gb = 143Gb with a replication factor 3, so 143/3 = 47.6Gb. So according to the formula there must be around 47600/64 = ~744 spark partitions.</li>\n<li>However according to the system.size_estimates table, the partitions_count column has a sum of 1883 partitions and the mean_partition_size is 48042720. This means that the table size is 1883 x 48Mb = 90384Mb or ~90Gb which is a bit far from 143Gb.</li>\n</ul>\n<p>For question 2, my Cassandra table is:</p>\n<pre><code> CREATE TABLE experiment(\n experimentid varchar,\n description text,\n rt float,\n intensity float,\n mz float,\n identifier text,\n chemical_formula text,\n filename text,\n PRIMARY KEY ((experimentid),description, rt, intensity, mz, identifier, chemical_formula, filename));\n</code></pre>\n<p>and the spark code is:</p>\n<pre><code>Dataset&lt;Row&gt; dfexplist = sp.createDataset(experimentlist, Encoders.STRING()).toDF(&quot;experimentid&quot;);\n\nDataset&lt;Row&gt; metlistinitial = sp.read().format(&quot;org.apache.spark.sql.cassandra&quot;)\n                .options(new HashMap&lt;String, String&gt;() {\n                    {\n                        put(&quot;keyspace&quot;, &quot;mdb&quot;);\n                        put(&quot;table&quot;, &quot;experiment&quot;);\n                    }\n                })\n                .load().select(col(&quot;experimentid&quot;), col(&quot;description&quot;), col(&quot;intensity&quot;)).join(dfexplist, &quot;experimentid&quot;).repartition(col(&quot;experimentid&quot;));\n</code></pre>\n<p>Does this achieves data locality? Is there a shuffle happening when or before I join? At the end I am repartition according to the partition key so to avoid any future shuffle in later calculations.</p>\n"},{"tags":["java","spring","hibernate","kotlin","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632991939,"creation_date":1632991939,"answer_id":69389180,"question_id":69273359,"body_markdown":"Converters on the id or parts of the id only work by accident in this case. There is an open issue for this: https://hibernate.atlassian.net/browse/HHH-8820","title":"Using AttribueConverter on a composite @JoinColumns in Hibernate","body":"<p>Converters on the id or parts of the id only work by accident in this case. There is an open issue for this: <a href=\"https://hibernate.atlassian.net/browse/HHH-8820\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-8820</a></p>\n"}],"owner":{"account_id":22077536,"reputation":710,"user_id":16337604,"display_name":"Itay Polack-Gadassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69389180,"answer_count":1,"score":0,"last_activity_date":1632991939,"creation_date":1632246359,"question_id":69273359,"body_markdown":"Hibernate (with Spring Boot JPA) fails to insert when the target entity is using a composite join where one of the columns is a custom type that uses a converter. \r\n\r\nA simplified entities definition:\r\n```kotlin\r\n@Entity\r\ndata class MyConfiguration(\r\n    @Id\r\n    val configurationId: Long,\r\n    val enabled: Boolean,\r\n    @OneToMany(\r\n        cascade = [CascadeType.ALL],\r\n        fetch = FetchType.EAGER,\r\n        orphanRemoval = true,\r\n        mappedBy = &quot;id.configurationId&quot;\r\n    )\r\n    val tables: Set&lt;SourceTable&gt;\r\n)\r\n\r\n@Embeddable\r\ndata class SourceTableId(\r\n    val configurationId: Long,\r\n    @Convert(converter = TableIdConverter::class)\r\n    val tableId: TableId\r\n) : Serializable\r\n\r\n@Entity\r\ndata class SourceTable(\r\n    @EmbeddedId\r\n    val id: SourceTableId,\r\n    @OneToMany(\r\n        cascade = [CascadeType.ALL],\r\n        fetch = FetchType.EAGER,\r\n        orphanRemoval = true\r\n    )\r\n    @JoinColumns(\r\n        JoinColumn(name = &quot;configurationId&quot;, referencedColumnName = &quot;configurationId&quot;, updatable = false),\r\n        JoinColumn(name = &quot;tableId&quot;, referencedColumnName = &quot;tableId&quot;, updatable = false)\r\n    )\r\n    val groupingFields: Set&lt;TableGroupField&gt; = emptySet()\r\n)\r\n\r\n@Embeddable\r\ndata class TableGroupFieldId(\r\n    val configurationId: Long,\r\n    @Convert(converter = TableIdConverter::class)\r\n    val tableId: TableId,\r\n    val fieldName: String\r\n) : Serializable\r\n\r\n@Entity\r\ndata class TableGroupField(\r\n    @EmbeddedId\r\n    val id: TableGroupFieldId\r\n)\r\n```\r\n\r\nThe converter class is using simple string operations, and the `TableId` class implements `Serializable`. \r\nWhen saving an element from the context of a Spring Boot application, I&#39;m getting the following exception:\r\n```\r\n... Omitted for readability ...\r\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\t... 33 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Comparator.compare(Object, Object)&quot; because the return value of &quot;org.hibernate.type.descriptor.java.JavaTypeDescriptor.getComparator()&quot; is null\r\n\tat org.hibernate.type.AbstractStandardBasicType.compare(AbstractStandardBasicType.java:211) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.type.ComponentType.compare(ComponentType.java:217) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n... Omitted for readability ...\r\n```\r\n\r\nI verified that changing the `TableId` column to a simple string resolves the issue. Is there anything else I should apply to make it work with this join query?","title":"Using AttribueConverter on a composite @JoinColumns in Hibernate","body":"<p>Hibernate (with Spring Boot JPA) fails to insert when the target entity is using a composite join where one of the columns is a custom type that uses a converter.</p>\n<p>A simplified entities definition:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\ndata class MyConfiguration(\n    @Id\n    val configurationId: Long,\n    val enabled: Boolean,\n    @OneToMany(\n        cascade = [CascadeType.ALL],\n        fetch = FetchType.EAGER,\n        orphanRemoval = true,\n        mappedBy = &quot;id.configurationId&quot;\n    )\n    val tables: Set&lt;SourceTable&gt;\n)\n\n@Embeddable\ndata class SourceTableId(\n    val configurationId: Long,\n    @Convert(converter = TableIdConverter::class)\n    val tableId: TableId\n) : Serializable\n\n@Entity\ndata class SourceTable(\n    @EmbeddedId\n    val id: SourceTableId,\n    @OneToMany(\n        cascade = [CascadeType.ALL],\n        fetch = FetchType.EAGER,\n        orphanRemoval = true\n    )\n    @JoinColumns(\n        JoinColumn(name = &quot;configurationId&quot;, referencedColumnName = &quot;configurationId&quot;, updatable = false),\n        JoinColumn(name = &quot;tableId&quot;, referencedColumnName = &quot;tableId&quot;, updatable = false)\n    )\n    val groupingFields: Set&lt;TableGroupField&gt; = emptySet()\n)\n\n@Embeddable\ndata class TableGroupFieldId(\n    val configurationId: Long,\n    @Convert(converter = TableIdConverter::class)\n    val tableId: TableId,\n    val fieldName: String\n) : Serializable\n\n@Entity\ndata class TableGroupField(\n    @EmbeddedId\n    val id: TableGroupFieldId\n)\n</code></pre>\n<p>The converter class is using simple string operations, and the <code>TableId</code> class implements <code>Serializable</code>.\nWhen saving an element from the context of a Spring Boot application, I'm getting the following exception:</p>\n<pre><code>... Omitted for readability ...\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.8.jar:5.3.8]\n    ... 33 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Comparator.compare(Object, Object)&quot; because the return value of &quot;org.hibernate.type.descriptor.java.JavaTypeDescriptor.getComparator()&quot; is null\n    at org.hibernate.type.AbstractStandardBasicType.compare(AbstractStandardBasicType.java:211) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.type.ComponentType.compare(ComponentType.java:217) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n... Omitted for readability ...\n</code></pre>\n<p>I verified that changing the <code>TableId</code> column to a simple string resolves the issue. Is there anything else I should apply to make it work with this join query?</p>\n"},{"tags":["java","spring-boot","maven","junit","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1632991704,"post_id":69389065,"comment_id":122644495,"body_markdown":"Please add your `pom.xml`.","body":"Please add your <code>pom.xml</code>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632998916,"post_id":69389065,"comment_id":122647328,"body_markdown":"First is the version 2.3.3.RELEASE of `spring-boot-start-test` which I suppose because `junit-vintage-engine` has a 5.6.2 as version instead. (https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-test/2.3.3.RELEASE/jar) furthermore the question is do you use junit or junit jupiter (aka JUnit 5) for testing? Do you use spring-boot-starter as your parent?","body":"First is the version 2.3.3.RELEASE of <code>spring-boot-start-test</code> which I suppose because <code>junit-vintage-engine</code> has a 5.6.2 as version instead. (<a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-test/2.3.3.RELEASE/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.springframework.boot/&hellip;</a>) furthermore the question is do you use junit or junit jupiter (aka JUnit 5) for testing? Do you use spring-boot-starter as your parent?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632999167,"post_id":69389065,"comment_id":122647426,"body_markdown":"Yes, prefer JUnit Jupiter over the vintage one. Yes, keep the `spring-boot-start-test` dependency instead of managing JUnit versions on your own.","body":"Yes, prefer JUnit Jupiter over the vintage one. Yes, keep the <code>spring-boot-start-test</code> dependency instead of managing JUnit versions on your own."}],"owner":{"account_id":8689244,"reputation":1,"user_id":6502587,"display_name":"kama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632991924,"creation_date":1632991534,"question_id":69389065,"body_markdown":"There is a sub-dependency inside `spring-boot-starter-test` dependency versioned *2.3.3.RELEASE* which is `junit-vintage-engine`. \r\n\r\nIn my project&#39;s pom, when I add `spring-boot-starter-test` dependency, the test cases in my project are not executed but when I add the sub dependency which is present inside `spring-boot-starter-test` - `junit-vintage-engine` explicitly, then the test cases are executed properly when building the project. \r\n\r\nWhat am I missing?","title":"Maven dependency issue with artifact - spring-boot-starter-test","body":"<p>There is a sub-dependency inside <code>spring-boot-starter-test</code> dependency versioned <em>2.3.3.RELEASE</em> which is <code>junit-vintage-engine</code>.</p>\n<p>In my project's pom, when I add <code>spring-boot-starter-test</code> dependency, the test cases in my project are not executed but when I add the sub dependency which is present inside <code>spring-boot-starter-test</code> - <code>junit-vintage-engine</code> explicitly, then the test cases are executed properly when building the project.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":9416825,"reputation":250,"user_id":7004323,"display_name":"Moplio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1537893974,"creation_date":1537893974,"answer_id":52503135,"question_id":52478902,"body_markdown":"Ok I bumped into this error and i was able to solve it, don&#39;t know if it&#39;s the right way, buh it solved my problem.\r\n\r\nyour app/build.gradle should look like this!!\r\n\r\n\r\n\r\n    android {\r\n        compileSdkVersion 27\r\n        buildToolsVersion &#39;27.0.3&#39;\r\n    \r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 16\r\n            targetSdkVersion 27\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    dependencies {\r\n       ...\r\n        compile &quot;com.android.support:appcompat-v7:27.1.0&quot;\r\n       .....\r\n    }\r\n","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>Ok I bumped into this error and i was able to solve it, don't know if it's the right way, buh it solved my problem.</p>\n\n<p>your app/build.gradle should look like this!!</p>\n\n<pre><code>android {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n\n    defaultConfig {\n        ...\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        ndk {\n            abiFilters \"armeabi-v7a\", \"x86\"\n        }\n    }\n}\n\n\ndependencies {\n   ...\n    compile \"com.android.support:appcompat-v7:27.1.0\"\n   .....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9109633,"reputation":661,"user_id":6778849,"display_name":"Dimitris Papazacharias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537954051,"creation_date":1537954051,"answer_id":52514389,"question_id":52478902,"body_markdown":"Actually, I was able to get past my problem, by uninstalling and re-installing everything (java jdk, react-native-cli, android-studio, watchman). \r\n\r\nIt probably was a java issue, because on my first react-native setup, I mistakenly installed **java-jdk-11**, which **is not compatible with android sdk** that react-native depends on, and **java-jdk-8 is needed instead** (as mentioned [here] [1], for example). But when I downgraded to jdk-8 with all the other stuff already installed, it wasn&#39;t working, due to some certification related issue, that I couldn&#39;t fix as suggested [elsewhere][2].\r\n\r\nSo I did a fresh start, after uninstalling everything, starting from java-jdk-8, then react-native-cli, and everything else, as documented in the [react-native official &quot;Getting started&quot; guide][3]. Then it it worked, without altering build.gradle file at all.\r\n\r\nIt is sad that the official guide says: \r\n&quot;Download and install Oracle JDK 8 **or newer** if needed. You can also use OpenJDK 8 **or newer** as an alternative&quot;, which, as it seems, is not the case.\r\n\r\n\r\n  [1]: https://github.com/meteor/meteor/issues/9510\r\n  [2]: https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-mus\r\n  [3]: https://facebook.github.io/react-native/docs/getting-started","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>Actually, I was able to get past my problem, by uninstalling and re-installing everything (java jdk, react-native-cli, android-studio, watchman). </p>\n\n<p>It probably was a java issue, because on my first react-native setup, I mistakenly installed <strong>java-jdk-11</strong>, which <strong>is not compatible with android sdk</strong> that react-native depends on, and <strong>java-jdk-8 is needed instead</strong> (as mentioned <a href=\"https://github.com/meteor/meteor/issues/9510\" rel=\"nofollow noreferrer\">here</a>, for example). But when I downgraded to jdk-8 with all the other stuff already installed, it wasn't working, due to some certification related issue, that I couldn't fix as suggested <a href=\"https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-mus\">elsewhere</a>.</p>\n\n<p>So I did a fresh start, after uninstalling everything, starting from java-jdk-8, then react-native-cli, and everything else, as documented in the <a href=\"https://facebook.github.io/react-native/docs/getting-started\" rel=\"nofollow noreferrer\">react-native official \"Getting started\" guide</a>. Then it it worked, without altering build.gradle file at all.</p>\n\n<p>It is sad that the official guide says: \n\"Download and install Oracle JDK 8 <strong>or newer</strong> if needed. You can also use OpenJDK 8 <strong>or newer</strong> as an alternative\", which, as it seems, is not the case.</p>\n"},{"tags":[],"owner":{"account_id":557857,"reputation":426,"user_id":920455,"display_name":"MrNickel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539361254,"creation_date":1539361254,"answer_id":52783488,"question_id":52478902,"body_markdown":"Ran into this myself.\r\n\r\nThe android getting started documents aren&#39;t quite right.\r\n\r\nInstead of installing Android 8.0 &amp; SDK Platform 26.0.3, choose Android 8.1 &amp; 27.0.3\r\n\r\nNote this is for React-Native 0.57.3","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>Ran into this myself.</p>\n\n<p>The android getting started documents aren't quite right.</p>\n\n<p>Instead of installing Android 8.0 &amp; SDK Platform 26.0.3, choose Android 8.1 &amp; 27.0.3</p>\n\n<p>Note this is for React-Native 0.57.3</p>\n"},{"tags":[],"owner":{"account_id":10446340,"reputation":1,"user_id":7701249,"display_name":"FreedApe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539932539,"creation_date":1539932539,"answer_id":52887300,"question_id":52478902,"body_markdown":"I solve this error by this:\r\n\r\nProject.gradle:\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.1.4&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\napp.gradle:\r\n\r\nandroid {\r\n\r\n    compileSdkVersion 26\r\n    defaultConfig {\r\n      ...\r\n        minSdkVersion 19\r\n        targetSdkVersion 26\r\n      ...\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:27.1.1&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n}\r\n\r\ngradle-wrapper.properties\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip\r\n\r\ni think the gradle tools of 3.2.1 and gradle-4.6-all.zip ara not match yet.","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>I solve this error by this:</p>\n\n<p>Project.gradle:</p>\n\n<p>buildscript {</p>\n\n<pre><code>repositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.4'\n\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p>}</p>\n\n<p>app.gradle:</p>\n\n<p>android {</p>\n\n<pre><code>compileSdkVersion 26\ndefaultConfig {\n  ...\n    minSdkVersion 19\n    targetSdkVersion 26\n  ...\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>dependencies {</p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:27.1.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.3'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n</code></pre>\n\n<p>}</p>\n\n<p>gradle-wrapper.properties</p>\n\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-4.4-all.zip</p>\n\n<p>i think the gradle tools of 3.2.1 and gradle-4.6-all.zip ara not match yet.</p>\n"},{"tags":[],"owner":{"account_id":15306178,"reputation":1,"user_id":11042837,"display_name":"Kaustubh Chitravanshi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549977693,"creation_date":1549975590,"answer_id":54650462,"question_id":52478902,"body_markdown":"I have achieved like this:\r\n\r\n1. Open a new Product in Android Studio . \r\n2. Upgrade the gradle completely and \r\n3. then try\r\n**react-native run-android** .\r\nWorked for me .","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>I have achieved like this:</p>\n\n<ol>\n<li>Open a new Product in Android Studio . </li>\n<li>Upgrade the gradle completely and </li>\n<li>then try\n<strong>react-native run-android</strong> .\nWorked for me .</li>\n</ol>\n"}],"owner":{"account_id":9109633,"reputation":661,"user_id":6778849,"display_name":"Dimitris Papazacharias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7689,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52514389,"answer_count":5,"score":5,"last_activity_date":1632991623,"creation_date":1537790271,"question_id":52478902,"body_markdown":"I am trying to do my first ```react-native run-android``` but I get the following error:\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;WithoutExpo&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:3.1.4.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.android.tools.build:gradle:3.1.4.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom&#39;.\r\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n      &gt; Could not resolve com.android.tools.build:gradle:3.1.4.\r\n         &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom&#39;.\r\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\n\r\nMy build.gradle file is this: \r\n\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;27.0.3&quot;\r\n            minSdkVersion = 16\r\n            compileSdkVersion = 27\r\n            targetSdkVersion = 26\r\n            supportLibVersion = &quot;27.1.1&quot;\r\n        }\r\n        repositories {\r\n            // mavenCentral()\r\n        \r\n            google()\r\n            // maven {\r\n            //     url &quot;https://maven.google.com&quot;\r\n            // }\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.4&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            mavenLocal()\r\n            google()\r\n            jcenter()\r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;4.4&#39;\r\n        distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\r\n    }\r\n\r\nAs you can see from the commented out lines, I have tried multiple combinations based to former answers [here][1]\r\n\r\nThe common denominator of every error message is the \r\n\r\n    \r\n\r\n&gt; java.lang.RuntimeException: Unexpected error:\r\n&gt; java.security.InvalidAlgorithmParameterException: the trustAnchors\r\n&gt; parameter must be non-empty\r\n\r\n  [1]: https://stackoverflow.com/questions/47455411/react-native-failure-build-failed-with-an-exception-could-not-resolve-classp\r\n\r\n\r\nI have also tried cd android/ &amp;&amp; gradlew clean, and I have also tried changing gradle versions to classpath. All with the same result.\r\n\r\nAny suggestions?\r\n","title":"Could not resolve com.android.tools.build:gradle:3.1.4, react-native run-android","body":"<p>I am trying to do my first <code>react-native run-android</code> but I get the following error:</p>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'WithoutExpo'.\n\n<blockquote>\n  <p>Could not resolve all files for configuration ':classpath'.\n  Could not resolve com.android.tools.build:gradle:3.1.4.\n   Required by:\n       project :\n  Could not resolve com.android.tools.build:gradle:3.1.4.\n  Could not get resource '<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom\" rel=\"noreferrer\">https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom</a>'.\n  Could not GET '<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom\" rel=\"noreferrer\">https://jcenter.bintray.com/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom</a>'.\n  java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n  Could not resolve com.android.tools.build:gradle:3.1.4.\n  Could not get resource '<a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom</a>'.\n  Could not GET '<a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.1.4/gradle-3.1.4.pom</a>'.\n  java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty</p>\n</blockquote></li>\n</ul>\n\n<p>My build.gradle file is this: </p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n        buildToolsVersion = \"27.0.3\"\n        minSdkVersion = 16\n        compileSdkVersion = 27\n        targetSdkVersion = 26\n        supportLibVersion = \"27.1.1\"\n    }\n    repositories {\n        // mavenCentral()\n\n        google()\n        // maven {\n        //     url \"https://maven.google.com\"\n        // }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.4'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        google()\n        jcenter()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url \"$rootDir/../node_modules/react-native/android\"\n        }\n    }\n}\n\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.4'\n    distributionUrl = distributionUrl.replace(\"bin\", \"all\")\n}\n</code></pre>\n\n<p>As you can see from the commented out lines, I have tried multiple combinations based to former answers <a href=\"https://stackoverflow.com/questions/47455411/react-native-failure-build-failed-with-an-exception-could-not-resolve-classp\">here</a></p>\n\n<p>The common denominator of every error message is the </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unexpected error:\n  java.security.InvalidAlgorithmParameterException: the trustAnchors\n  parameter must be non-empty</p>\n</blockquote>\n\n<p>I have also tried cd android/ &amp;&amp; gradlew clean, and I have also tried changing gradle versions to classpath. All with the same result.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","sql","spring-boot","jpa"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":1,"creation_date":1632380323,"post_id":69275954,"comment_id":122476912,"body_markdown":"The `@Query` annotation should belong to some method , please show this method.","body":"The <code>@Query</code> annotation should belong to some method , please show this method."},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1632428023,"post_id":69275954,"comment_id":122497013,"body_markdown":"@SternK added take a look please","body":"@SternK added take a look please"}],"answers":[{"tags":[],"owner":{"account_id":22047379,"reputation":41,"user_id":16312176,"display_name":"Ruan-Candido"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632266807,"creation_date":1632266807,"answer_id":69276568,"question_id":69275954,"body_markdown":"Apparently the code \r\n\r\n    @Query(value=&quot;(SELECT * FROM (SELECT * FROM cor_documento WHERE to_char(fecha_Rad, &#39;dd-mm-yyyy&#39;) = to_char(sysdate, &#39;dd-mm-yyyy&#39;) AND ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; order by fecha_Rad desc )  WHERE rownum &lt;= 15)&quot; ,nativeQuery=true )\r\n\r\nworks cause its a sub query, so is right the extra parenthesis.\r\n\r\n ","title":"parentesis missing in @query Java JPA","body":"<p>Apparently the code</p>\n<pre><code>@Query(value=&quot;(SELECT * FROM (SELECT * FROM cor_documento WHERE to_char(fecha_Rad, 'dd-mm-yyyy') = to_char(sysdate, 'dd-mm-yyyy') AND ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' order by fecha_Rad desc )  WHERE rownum &lt;= 15)&quot; ,nativeQuery=true )\n</code></pre>\n<p>works cause its a sub query, so is right the extra parenthesis.</p>\n"}],"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632991506,"creation_date":1632261333,"question_id":69275954,"body_markdown":"I am doing a query in a @repository class\r\n\r\nIt is the next:\r\n\r\n    @Query(value=&quot;(SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; AND fecha_Rad &gt; :fechaRad order by fecha_Ra desc)   &quot; ,nativeQuery=true )\r\n    public Iterable&lt;CorDocumento&gt; findByFechaRadicacion(Date fechaRadicacion);\r\n\r\nand I get the next error:\r\n\r\n    2021-09-21 16:28:15.326 DEBUG 28164 --- [   scheduling-1] org.hibernate.SQL     : (SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; AND fecha_Radicacion &gt; ? order by fecha_Radicacion desc)\r\n    Hibernate: (SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; AND fecha_Radicacion &gt; ? order by fecha_Radicacion desc)\r\n    2021-09-21 16:28:15.361  WARN 28164 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 907, SQLState: 42000\r\n    2021-09-21 16:28:15.361 ERROR 28164 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-00907: falta el par&#233;ntesis derecho (the right parenthesis is missing)\r\n    \r\n    2021-09-21 16:28:15.363 ERROR 28164 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\t   at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\t   at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\t   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.8.jar:5.3.8] \r\n\r\n\r\nWhen I delete the parentesis before &quot;SELECT&quot; ans after &quot;desc&quot; it works:\r\n\r\n    @Query(value=&quot;SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; AND fecha_Rad &gt; :fechaRad order by fecha_Rad desc&quot; ,nativeQuery=true )\r\n\r\n\r\nBut I dont see sense in the error cus I have other @Query whit that parenthesis and work correctly:\r\n\r\n    @Query(value=&quot;(SELECT * FROM (SELECT * FROM cor_documento WHERE to_char(fecha_Rad, &#39;dd-mm-yyyy&#39;) = to_char(sysdate, &#39;dd-mm-yyyy&#39;) AND ENVIADA_RECIBIDA = &#39;R&#39; AND NVL(CANAL, &#39; &#39;) != &#39;SDQS&#39; order by fecha_Rad desc )  WHERE rownum &lt;= 15)&quot; ,nativeQuery=true )\r\n    public Iterable&lt;CorDocumento&gt; findLast15();\r\n\r\nSomeone can explain me why this happened?\r\n\r\nthenks...\r\n\r\n\r\n","title":"parentesis missing in @query Java JPA","body":"<p>I am doing a query in a @repository class</p>\n<p>It is the next:</p>\n<pre><code>@Query(value=&quot;(SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' AND fecha_Rad &gt; :fechaRad order by fecha_Ra desc)   &quot; ,nativeQuery=true )\npublic Iterable&lt;CorDocumento&gt; findByFechaRadicacion(Date fechaRadicacion);\n</code></pre>\n<p>and I get the next error:</p>\n<pre><code>2021-09-21 16:28:15.326 DEBUG 28164 --- [   scheduling-1] org.hibernate.SQL     : (SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' AND fecha_Radicacion &gt; ? order by fecha_Radicacion desc)\nHibernate: (SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' AND fecha_Radicacion &gt; ? order by fecha_Radicacion desc)\n2021-09-21 16:28:15.361  WARN 28164 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 907, SQLState: 42000\n2021-09-21 16:28:15.361 ERROR 28164 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-00907: falta el paréntesis derecho (the right parenthesis is missing)\n\n2021-09-21 16:28:15.363 ERROR 28164 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n   at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.8.jar:5.3.8]\n   at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.8.jar:5.3.8]\n   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.8.jar:5.3.8] \n</code></pre>\n<p>When I delete the parentesis before &quot;SELECT&quot; ans after &quot;desc&quot; it works:</p>\n<pre><code>@Query(value=&quot;SELECT * FROM cor_documento WHERE ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' AND fecha_Rad &gt; :fechaRad order by fecha_Rad desc&quot; ,nativeQuery=true )\n</code></pre>\n<p>But I dont see sense in the error cus I have other @Query whit that parenthesis and work correctly:</p>\n<pre><code>@Query(value=&quot;(SELECT * FROM (SELECT * FROM cor_documento WHERE to_char(fecha_Rad, 'dd-mm-yyyy') = to_char(sysdate, 'dd-mm-yyyy') AND ENVIADA_RECIBIDA = 'R' AND NVL(CANAL, ' ') != 'SDQS' order by fecha_Rad desc )  WHERE rownum &lt;= 15)&quot; ,nativeQuery=true )\npublic Iterable&lt;CorDocumento&gt; findLast15();\n</code></pre>\n<p>Someone can explain me why this happened?</p>\n<p>thenks...</p>\n"},{"tags":["java","jpa","spring-data-jpa","cuba-platform"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1596802122,"post_id":63300097,"comment_id":111935085,"body_markdown":"Which ORM implementation do you use at runtime and in which version? Please add that information to the question, so others have a chance to reproduce your setup (problem) correctly.","body":"Which ORM implementation do you use at runtime and in which version? Please add that information to the question, so others have a chance to reproduce your setup (problem) correctly."},{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":0,"creation_date":1596808194,"post_id":63300097,"comment_id":111938051,"body_markdown":"Show the code that performs the saving of the entities","body":"Show the code that performs the saving of the entities"},{"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"score":0,"creation_date":1596874306,"post_id":63300097,"comment_id":111955412,"body_markdown":"I have updated the question. CUBA uses the ORM implementation based on the EclipseLink framework. Thank you","body":"I have updated the question. CUBA uses the ORM implementation based on the EclipseLink framework. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":3775152,"reputation":91,"user_id":3136181,"display_name":"Andrey Belyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632991250,"creation_date":1632991250,"answer_id":69389012,"question_id":63300097,"body_markdown":"In CUBA, [DataManager](https://doc.cuba-platform.com/manual-7.2/dataManager.html) is a preferred option to work with data. It automatically resolves cascade operations and does not require explicit transaction definition. Please try to implement this logic using DataManager first. ","title":"Entity Merge using Cascade.ALL OnetoMany relationship not inserting records for children","body":"<p>In CUBA, <a href=\"https://doc.cuba-platform.com/manual-7.2/dataManager.html\" rel=\"nofollow noreferrer\">DataManager</a> is a preferred option to work with data. It automatically resolves cascade operations and does not require explicit transaction definition. Please try to implement this logic using DataManager first.</p>\n"}],"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632991250,"creation_date":1596796668,"question_id":63300097,"body_markdown":"I already looked at previous questions but all the solutions still doesn&#39;t work on my project. \r\n\r\nI have a CUBA Platform project that uses spring core 5.2.3. CUBA uses the ORM implementation based on the EclipseLink framework.\r\n\r\nI have 1 MainClass Entity, and children, SubClass Entity.\r\n\r\nMainClass Definition\r\n\r\n```\r\n//annotations here\r\npublic class MainClass{\r\n\r\n    @Composition\r\n    @OnDelete(DeletePolicy.CASCADE)\r\n    @OneToMany(mappedBy = &quot;mainClass&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    protected List&lt;SubClass&gt; subClass;\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n}\r\n\r\n```\r\n\r\n//SubClass entity\r\n\r\n```\r\n//annotations here\r\npublic class SubClass{\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;MAINCLASS_ID&quot;)\r\n    protected MainClass mainClass;\r\n}\r\n```\r\n\r\nThe problem with this setup is that it only saves the MainClass Entity but not the SubClass Entity.\r\n\r\nService Class\r\n```\r\n@Service(&quot;MainService&quot;)\r\npublic class ServiceClass{\r\n\r\n    @Inject\r\n    private Persistence persistence;\r\n\r\n\r\n    @Transactional\r\n    public void saveOrUpdateMain(MainClass mainClass){\r\n\r\n       MainClass qMainClass = (MainClass) entityManager.createQuery(&quot;select \r\n           b from main_Class b where b.extID = ?1&quot;)\r\n                    .setParameter(1, extID).getSingleResult();\r\n\r\n      //assume mainClass is not null, set the primary key of qMainClass to mainClass\r\n      \r\n      mainClass.setId(qMainClass.getId());\r\n      \r\n      entityManager.merge(mainClass);\r\n     \r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nI have read this 2 links but still did not solve my issue.\r\n\r\n[https://stackoverflow.com/questions/13153237/why-merging-is-not-cascaded-on-a-one-to-many-relationship][1]\r\n\r\n[https://stackoverflow.com/questions/35782167/jpa-does-not-insert-new-childs-from-one-to-many-relationship-when-we-use-merge][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13153237/why-merging-is-not-cascaded-on-a-one-to-many-relationship\r\n  [2]: https://stackoverflow.com/questions/35782167/jpa-does-not-insert-new-childs-from-one-to-many-relationship-when-we-use-merge","title":"Entity Merge using Cascade.ALL OnetoMany relationship not inserting records for children","body":"<p>I already looked at previous questions but all the solutions still doesn't work on my project.</p>\n<p>I have a CUBA Platform project that uses spring core 5.2.3. CUBA uses the ORM implementation based on the EclipseLink framework.</p>\n<p>I have 1 MainClass Entity, and children, SubClass Entity.</p>\n<p>MainClass Definition</p>\n<pre><code>//annotations here\npublic class MainClass{\n\n    @Composition\n    @OnDelete(DeletePolicy.CASCADE)\n    @OneToMany(mappedBy = &quot;mainClass&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    protected List&lt;SubClass&gt; subClass;\n\n    public Category getCategory() {\n        return category;\n    }\n}\n\n</code></pre>\n<p>//SubClass entity</p>\n<pre><code>//annotations here\npublic class SubClass{\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;MAINCLASS_ID&quot;)\n    protected MainClass mainClass;\n}\n</code></pre>\n<p>The problem with this setup is that it only saves the MainClass Entity but not the SubClass Entity.</p>\n<p>Service Class</p>\n<pre><code>@Service(&quot;MainService&quot;)\npublic class ServiceClass{\n\n    @Inject\n    private Persistence persistence;\n\n\n    @Transactional\n    public void saveOrUpdateMain(MainClass mainClass){\n\n       MainClass qMainClass = (MainClass) entityManager.createQuery(&quot;select \n           b from main_Class b where b.extID = ?1&quot;)\n                    .setParameter(1, extID).getSingleResult();\n\n      //assume mainClass is not null, set the primary key of qMainClass to mainClass\n      \n      mainClass.setId(qMainClass.getId());\n      \n      entityManager.merge(mainClass);\n     \n\n    }\n\n\n}\n\n\n</code></pre>\n<p>I have read this 2 links but still did not solve my issue.</p>\n<p><a href=\"https://stackoverflow.com/questions/13153237/why-merging-is-not-cascaded-on-a-one-to-many-relationship\">Why merging is not cascaded on a one to many relationship</a></p>\n<p><a href=\"https://stackoverflow.com/questions/35782167/jpa-does-not-insert-new-childs-from-one-to-many-relationship-when-we-use-merge\">JPA does not insert new childs from one to many relationship when we use merge</a></p>\n"},{"tags":["java","spring","jsp","tomcat"],"comments":[{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1632947949,"post_id":69383080,"comment_id":122634574,"body_markdown":"&quot;Please help why I am unable to shutdown the tomcat server during the first time.&quot; Please help and [edit] your question to include some code that would allow us to tell you why the error occurred.","body":"&quot;Please help why I am unable to shutdown the tomcat server during the first time.&quot; Please help and <a href=\"https://stackoverflow.com/posts/69383080/edit\">edit</a> your question to include some code that would allow us to tell you why the error occurred."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1632948227,"post_id":69383080,"comment_id":122634658,"body_markdown":"`AQThread` isn’t shut down when your application shuts down. It isn’t a daemon thread so Tomcat cannot shut down. You need to shut down `AQThread`.","body":"<code>AQThread</code> isn’t shut down when your application shuts down. It isn’t a daemon thread so Tomcat cannot shut down. You need to shut down <code>AQThread</code>."}],"owner":{"account_id":21470110,"reputation":37,"user_id":15819259,"display_name":"Mansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632991035,"creation_date":1632947847,"question_id":69383080,"body_markdown":"I am developing a Queue message proof of concept on Spring-MVC 5.x, Java 8 and Tomcat server 9.x.  While reading the queue messages from the Oracle table, thread warning messages appending in the Catalina log file. \r\n\r\nIf I try to shutdown and start the tomcat server, the tomcat server is not shutting down during the first time but on the next call tomcat server is shutting down and a memory leak warning message is logged in the log file.\r\n\r\nPlease help why I am unable to shutdown the tomcat server during the first time.\r\n\r\nLog details\r\n```\r\nINFO [main] org.apache.catalina.core.Aprlifecyclelistener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path\r\nINFO [main] org.apache.coyote.Abstract Protocol.init Initializing ProtocolHandler [&quot;http-nio-9090&quot;]\r\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 912 ms \r\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.53]\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/apps/opt/tomcat/webapps/Books.war]\r\nWARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [4.0]. Default version will be used.\r\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup: time and JSP compilation time.\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/apps/opt/tomcat/webapps/Books.war] has finished in [62,365] ms\r\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-9090&quot;] \r\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting Protocollandler [&quot;https-jsse-nio-8443&quot;]\r\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 82019 ms\r\nINFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\r\n\r\nINFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-9090&quot;] \r\nINFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\nINFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\nWARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferences Threads The web application [Books] appears to have started a thread named [AQThread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread: java.lang.Thread.sleep(Native Method)\r\n\r\nWARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferences Threads The web application [Books] appears to have started a thread named [AQThread] but has failed to stop it. This is very likely to create a nemory leak. Stack trace of thread:\r\njava.net.SocketInputStream.socketRead0(Native Method)\r\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116) \r\njava.net.SocketInputStream.read(SocketInputStream.java:171)\r\njava.net.SocketInputStream.read(SocketInputStream.java:141)\r\noracle.net.ns.Packet.receive(Packet.java:282) \r\noracle.net.ns.DataPacket.receive(DataPacket.java:103)\r\noracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\r\noracle.net.ns.NetInputStream.read(NetInputStream.java:175)\r\noracle.net.ns.NetInputStream.read(NetInputStream.java:100)\r\noracle.net.ns.NetInputStream.read(NetInputStream.java:85) \r\noracle.jdbc.driver.T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamwWrapper.java:122)\r\noracle.jdbc.driver.T4CSocketInputStreamwrapper.read(T4CSocketInputStreamWrapper.java:78)\r\noracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1179)\r\noracle.jdbc.driver.T4CMAREngine.unmarsha1SB1(T4CMAREngine.java:1155)\r\noracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:279)\r\noracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\r\noracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:521)\r\noracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:202)\r\noracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1005)\r\noracle.jdbc.driver.OracleStatement.doExecutewithTimeout(OracleStatement.java:1307) \r\noracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3449)\r\noracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3493) \r\noracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1491) \r\noracle.AQ.AQOracleQueue.dequeue(AQOracleQueue.java:1625) \r\noracle.AQ.AQOracleQueue.dequeue(AQOracleQueue.java:1326)\r\n\r\nINFO [AQThread] org.apache.catalina.loader WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load [oracle.AQ.AQOracleQueue]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\r\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [oracle.AQ.AQOracleQueue]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\nat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1435)\r\nat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1423)\r\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1262) \r\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\r\n```\r\n\r\nCode sample\r\n```\r\npublic void deQueMsg() throws AQException, SQLException {\r\njava.sql.Connection dqConn = QueueConnection.getConnection(); // DB call\r\ndqConn.setAutoCommit(false);\r\n \r\nAQSession dqSess = null;\r\nobject \r\n}\r\n \r\n//db connection\r\npublic Connection QueueConnection(String strJdbc)\r\n{\r\n    OracleDataSource OraDs;\r\n    OraDs = new OracleDataSource();\r\n    OraDs.setDriverType(&quot;thin&quot;);\r\n    OraDs.setServerName(&quot;test&quot;);\r\n    OraDs.setPortNumber(1521);\r\n    OraDs.setDatabaseName(&quot;booksdb&quot;);\r\n    OraDs.setUser(&quot;testusr&quot;);\r\n    OraDs.setPassword(&quot;test123&quot;);\r\n \r\n    return OraDs();\r\n}\r\n```","title":"Tomcat server not shutting down during first time","body":"<p>I am developing a Queue message proof of concept on Spring-MVC 5.x, Java 8 and Tomcat server 9.x.  While reading the queue messages from the Oracle table, thread warning messages appending in the Catalina log file.</p>\n<p>If I try to shutdown and start the tomcat server, the tomcat server is not shutting down during the first time but on the next call tomcat server is shutting down and a memory leak warning message is logged in the log file.</p>\n<p>Please help why I am unable to shutdown the tomcat server during the first time.</p>\n<p>Log details</p>\n<pre><code>INFO [main] org.apache.catalina.core.Aprlifecyclelistener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path\nINFO [main] org.apache.coyote.Abstract Protocol.init Initializing ProtocolHandler [&quot;http-nio-9090&quot;]\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 912 ms \nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.53]\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/apps/opt/tomcat/webapps/Books.war]\nWARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [4.0]. Default version will be used.\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup: time and JSP compilation time.\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/apps/opt/tomcat/webapps/Books.war] has finished in [62,365] ms\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-9090&quot;] \nINFO [main] org.apache.coyote.AbstractProtocol.start Starting Protocollandler [&quot;https-jsse-nio-8443&quot;]\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 82019 ms\nINFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\n\nINFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-9090&quot;] \nINFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\nINFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\nWARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferences Threads The web application [Books] appears to have started a thread named [AQThread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread: java.lang.Thread.sleep(Native Method)\n\nWARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferences Threads The web application [Books] appears to have started a thread named [AQThread] but has failed to stop it. This is very likely to create a nemory leak. Stack trace of thread:\njava.net.SocketInputStream.socketRead0(Native Method)\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116) \njava.net.SocketInputStream.read(SocketInputStream.java:171)\njava.net.SocketInputStream.read(SocketInputStream.java:141)\noracle.net.ns.Packet.receive(Packet.java:282) \noracle.net.ns.DataPacket.receive(DataPacket.java:103)\noracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\noracle.net.ns.NetInputStream.read(NetInputStream.java:175)\noracle.net.ns.NetInputStream.read(NetInputStream.java:100)\noracle.net.ns.NetInputStream.read(NetInputStream.java:85) \noracle.jdbc.driver.T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamwWrapper.java:122)\noracle.jdbc.driver.T4CSocketInputStreamwrapper.read(T4CSocketInputStreamWrapper.java:78)\noracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1179)\noracle.jdbc.driver.T4CMAREngine.unmarsha1SB1(T4CMAREngine.java:1155)\noracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:279)\noracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\noracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:521)\noracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:202)\noracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1005)\noracle.jdbc.driver.OracleStatement.doExecutewithTimeout(OracleStatement.java:1307) \noracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3449)\noracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3493) \noracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1491) \noracle.AQ.AQOracleQueue.dequeue(AQOracleQueue.java:1625) \noracle.AQ.AQOracleQueue.dequeue(AQOracleQueue.java:1326)\n\nINFO [AQThread] org.apache.catalina.loader WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load [oracle.AQ.AQOracleQueue]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [oracle.AQ.AQOracleQueue]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\nat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1435)\nat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1423)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1262) \nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\n</code></pre>\n<p>Code sample</p>\n<pre><code>public void deQueMsg() throws AQException, SQLException {\njava.sql.Connection dqConn = QueueConnection.getConnection(); // DB call\ndqConn.setAutoCommit(false);\n \nAQSession dqSess = null;\nobject \n}\n \n//db connection\npublic Connection QueueConnection(String strJdbc)\n{\n    OracleDataSource OraDs;\n    OraDs = new OracleDataSource();\n    OraDs.setDriverType(&quot;thin&quot;);\n    OraDs.setServerName(&quot;test&quot;);\n    OraDs.setPortNumber(1521);\n    OraDs.setDatabaseName(&quot;booksdb&quot;);\n    OraDs.setUser(&quot;testusr&quot;);\n    OraDs.setPassword(&quot;test123&quot;);\n \n    return OraDs();\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8008917,"reputation":2248,"user_id":6041365,"display_name":"Upendra Shah"},"score":0,"creation_date":1632977369,"post_id":69386264,"comment_id":122639714,"body_markdown":"Have define any `abi` in build.gradle?","body":"Have define any <code>abi</code> in build.gradle?"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":1,"creation_date":1632977428,"post_id":69386264,"comment_id":122639734,"body_markdown":"INSTALL_FAILED_NO_MATCHING_ABIS is when you are trying to install an app that has native libraries and it doesn&#39;t have a native library for your cpu architecture. For example if you compiled an app for armv7 and are trying to install it on an emulator that uses the Intel architecture instead it will not work. -  make sure your have all supported architecture (&#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;)  added in your project","body":"INSTALL_FAILED_NO_MATCHING_ABIS is when you are trying to install an app that has native libraries and it doesn&#39;t have a native library for your cpu architecture. For example if you compiled an app for armv7 and are trying to install it on an emulator that uses the Intel architecture instead it will not work. -  make sure your have all supported architecture (&#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;)  added in your project"},{"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"score":0,"creation_date":1632979249,"post_id":69386264,"comment_id":122640062,"body_markdown":"nope didnt define any abi manually.","body":"nope didnt define any abi manually."},{"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"score":0,"creation_date":1632979320,"post_id":69386264,"comment_id":122640074,"body_markdown":"ok. i got the idea but dont know how to adjust it to my architecture configuration","body":"ok. i got the idea but dont know how to adjust it to my architecture configuration"}],"answers":[{"tags":[],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632990856,"creation_date":1632990856,"answer_id":69388927,"question_id":69386264,"body_markdown":"**INSTALL_FAILED_NO_MATCHING_ABIS** is when you are trying to install an app that has native libraries and it doesn&#39;t have a native library for your cpu architecture. For example if you compiled an app for armv7 and are trying to install it on an emulator that uses the Intel architecture instead it will not work. - make sure your have all supported architecture added in your project\r\n\r\n\r\nAdd `ndk.filters` in your `app/build.gradle` files\r\n\r\n      compileSdkVersion 30\r\n       defaultConfig {\r\n           appId &quot;com.example.64bit&quot;\r\n           minSdkVersion 21\r\n           targetSdkVersion 30\r\n           versionCode 1\r\n           versionName &quot;1.0&quot;\r\n           ndk.abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n\r\n\r\nRefer official docs for [64-bit support](https://developer.android.com/distribute/best-practices/develop/64-bit#build-with-64-bit) or the [official video](https://www.youtube.com/watch?v=E96vmWkUdgA)","title":"INSTALL_FAILED_NO_MATCHING_ABIS (what can cause this)","body":"<p><strong>INSTALL_FAILED_NO_MATCHING_ABIS</strong> is when you are trying to install an app that has native libraries and it doesn't have a native library for your cpu architecture. For example if you compiled an app for armv7 and are trying to install it on an emulator that uses the Intel architecture instead it will not work. - make sure your have all supported architecture added in your project</p>\n<p>Add <code>ndk.filters</code> in your <code>app/build.gradle</code> files</p>\n<pre><code>  compileSdkVersion 30\n   defaultConfig {\n       appId &quot;com.example.64bit&quot;\n       minSdkVersion 21\n       targetSdkVersion 30\n       versionCode 1\n       versionName &quot;1.0&quot;\n       ndk.abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n</code></pre>\n<p>Refer official docs for <a href=\"https://developer.android.com/distribute/best-practices/develop/64-bit#build-with-64-bit\" rel=\"nofollow noreferrer\">64-bit support</a> or the <a href=\"https://www.youtube.com/watch?v=E96vmWkUdgA\" rel=\"nofollow noreferrer\">official video</a></p>\n"}],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69388927,"answer_count":1,"score":0,"last_activity_date":1632990856,"creation_date":1632976981,"question_id":69386264,"body_markdown":"hi something happened to my project. I worked day after night, the project is well going. before going to rest i re run the app and it was fine. when i try to run app next day it started to give this error\r\n\r\n\r\n    09/30 07:34:10: Launching &#39;app&#39; on Pixel 4 API 28.\r\n    Installation did not succeed.\r\n    The application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS\r\n    \r\n    List of apks:\r\n    [0] &#39;C:\\Users\\amete\\Documents\\AssistX\\app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\n    Installation failed due to: &#39;INSTALL_FAILED_NO_MATCHING_ABIS: Failed to extract native libraries, res=-113&#39;\r\n\r\n\r\nwhat can cause this kind of failiure","title":"INSTALL_FAILED_NO_MATCHING_ABIS (what can cause this)","body":"<p>hi something happened to my project. I worked day after night, the project is well going. before going to rest i re run the app and it was fine. when i try to run app next day it started to give this error</p>\n<pre><code>09/30 07:34:10: Launching 'app' on Pixel 4 API 28.\nInstallation did not succeed.\nThe application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS\n\nList of apks:\n[0] 'C:\\Users\\amete\\Documents\\AssistX\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'INSTALL_FAILED_NO_MATCHING_ABIS: Failed to extract native libraries, res=-113'\n</code></pre>\n<p>what can cause this kind of failiure</p>\n"},{"tags":["java","android","sql","sqlite","inner-join"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1575997830,"post_id":59269147,"comment_id":104751759,"body_markdown":"*I have 2 different database helper files*, Why? Use only 1 SQLiteOpenHelper class for as many tables as you need then uninstall the app from the device and rerun to recreate the database and rerun.","body":"<i>I have 2 different database helper files</i>, Why? Use only 1 SQLiteOpenHelper class for as many tables as you need then uninstall the app from the device and rerun to recreate the database and rerun."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575993377,"creation_date":1575987988,"answer_id":59269427,"question_id":59269147,"body_markdown":"You need to [attach](https://www.sqlite.org/lang_attach.html) one of the databases to the other without opening the attached database or have a single database that contains both tables.\r\n\r\nNoting that you refer to the attached database via the given schema e.g. if using `ATTACH path_to_2nd_db AS seconddb` Then you would refer to the table in the attached database as `seconddb.the_table_name`\r\n\r\nHowever, it appears that the reason why you have two databases is that in the seperate helpers you use the table name as the database name (based upon your SyncStudentsHelper class (which is missing the space between the class name and the extends keyword)).\r\n\r\nI would suggest that you have a single DatabaseHelper that has both tables in the same database.\r\n\r\n#Single Database Example\r\n\r\nThe database helper :-\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DBNAME = &quot;Students_and_Teachers&quot;;\r\n        public static final int DBVERSION = 1;\r\n    \r\n        public static final String TEACHERS_TABLE_NAME = &quot;teachers&quot;;\r\n        public static final String STUDENTS_TABLE_NAME = &quot;students&quot;;\r\n        public static final String COL1 = &quot;matchingfield&quot;;\r\n        public static final String COL2 = &quot;field1&quot;;\r\n        public static final String COL3 = &quot;field2&quot;;\r\n        public static final String COL4 = &quot;field3&quot;;\r\n        public static final String COL5 = &quot;field4&quot;;\r\n    \r\n        public DatabaseHelper(Context context) {\r\n            super(context, DBNAME, null, DBVERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String create_teachers_table_sql =\r\n                    &quot;CREATE TABLE IF NOT EXISTS &quot; + TEACHERS_TABLE_NAME +\r\n                            &quot;(&quot; +\r\n                            COL1 + &quot; INTEGER,&quot; +\r\n                            COL2 + &quot; TEXT,&quot; +\r\n                            COL3 + &quot; TEXT,&quot; +\r\n                            COL4 + &quot; TEXT,&quot; +\r\n                            COL5 + &quot; TEXT&quot; +\r\n                            &quot;)&quot;\r\n                    ;\r\n            String create_students_table_sql =\r\n                    &quot;CREATE TABLE IF NOT EXISTS &quot; + STUDENTS_TABLE_NAME +\r\n                            &quot;(&quot; +\r\n                            COL1 + &quot; INTEGER,&quot; +\r\n                            COL2 + &quot; TEXT,&quot; +\r\n                            COL3 + &quot; TEXT,&quot; +\r\n                            COL4 + &quot; TEXT,&quot; +\r\n                            COL5 + &quot; TEXT&quot; +\r\n                            &quot;)&quot;\r\n                    ;\r\n            db.execSQL(create_teachers_table_sql);\r\n            db.execSQL(create_students_table_sql);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \r\n        }\r\n    \r\n        public long insertStudent(long teacherToMatch, String studentName) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL1,teacherToMatch);\r\n            cv.put(COL2,studentName);\r\n            return this.getWritableDatabase().insert(STUDENTS_TABLE_NAME,null,cv);\r\n        }\r\n    \r\n        public long insertTeacher(long teacherToBeMatched, String teacherName) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL1,teacherToBeMatched);\r\n            cv.put(COL2,teacherName);\r\n            return this.getWritableDatabase().insert(TEACHERS_TABLE_NAME,null,cv);\r\n        }\r\n    \r\n        public Cursor getInfo() {\r\n            //String query = &quot;SELECT * FROM students Inner Join teachers ON student.matchingfield = teachers.matchingfield&quot; ;\r\n            //Cursor data = db.rawQuery(query, null);\r\n            return this.getWritableDatabase().query(\r\n                    STUDENTS_TABLE_NAME + &quot; INNER JOIN &quot; + TEACHERS_TABLE_NAME +\r\n                            &quot; ON &quot; + STUDENTS_TABLE_NAME + &quot;.&quot; + COL1 + &quot; = &quot; +\r\n                            TEACHERS_TABLE_NAME + &quot;.&quot; + COL1,\r\n                    null,null,null,null,null,null\r\n            );\r\n        }\r\n    }\r\n\r\nAn activity that uses the database, adding some teachers (2) and some students (3 to match the first teacher and 2 to match the 2nd teacher) and then extracts them via the query.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        DatabaseHelper mDB;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mDB = new DatabaseHelper(this);\r\n    \r\n            mDB.insertTeacher(1,&quot;Mr Jones&quot;);\r\n            mDB.insertTeacher(2,&quot;Mrs Smith&quot;);\r\n    \r\n            mDB.insertStudent(1,&quot;Tom Smith&quot;);\r\n            mDB.insertStudent(1,&quot;Glenda Burrows&quot;);\r\n            mDB.insertStudent(1,&quot;Gloria Jennings&quot;);\r\n            mDB.insertStudent(2,&quot;Fred Sharp&quot;);\r\n            mDB.insertStudent(2,&quot;Mary Collins&quot;);\r\n    \r\n            Cursor csr = mDB.getInfo();\r\n    \r\n            int row = 1;\r\n            while (csr.moveToNext()) {\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(&quot;Processing row &quot;).append(row++);\r\n                for (int i=0; i &lt; csr.getColumnCount(); i++) {\r\n                    sb.append(&quot;\\n\\t&quot;).append(csr.getColumnName(i)).append(&quot; = &quot; ).append(csr.getString(i));\r\n                }\r\n                Log.d(&quot;CURSORINFO&quot;,sb.toString());\r\n            }\r\n        }\r\n    }\r\n\r\nRunning the above results in :-\r\n\r\n    2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 1\r\n        \tmatchingfield = 1\r\n        \tfield1 = Tom Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 2\r\n        \tmatchingfield = 1\r\n        \tfield1 = Glenda Burrows\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 3\r\n        \tmatchingfield = 1\r\n        \tfield1 = Gloria Jennings\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:14:15.170 D/CURSORINFO: Processing row 4\r\n        \tmatchingfield = 2\r\n        \tfield1 = Fred Sharp\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mrs Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:14:15.170 D/CURSORINFO: Processing row 5\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mary Collins\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mrs Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n\r\n\r\n#Multiple Database Example\r\n\r\nThe **SyncStudentsHelper** class\r\n\r\n    public class SyncStudentsHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String TABLE_NAME = &quot;students&quot;;\r\n        public static final String COL1 = &quot;matchingfield&quot;;\r\n        public static final String COL2 = &quot;field1&quot;;\r\n        public static final String COL3 = &quot;field2&quot;;\r\n        public static final String COL4 = &quot;field3&quot;;\r\n        public static final String COL5 = &quot;field4&quot;;\r\n    \r\n        public SyncStudentsHelper(Context context) {\r\n            super(context, TABLE_NAME, null, 2);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String create_students_table_sql =\r\n                    &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME +\r\n                            &quot;(&quot; +\r\n                            COL1 + &quot; INTEGER,&quot; +\r\n                            COL2 + &quot; TEXT,&quot; +\r\n                            COL3 + &quot; TEXT,&quot; +\r\n                            COL4 + &quot; TEXT,&quot; +\r\n                            COL5 + &quot; TEXT&quot; +\r\n                            &quot;)&quot;\r\n                    ;\r\n            db.execSQL(create_students_table_sql);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \r\n        }\r\n    \r\n        public long insertStudent(long teacherToMatch, String studentName) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL1,teacherToMatch);\r\n            cv.put(COL2,studentName);\r\n            return this.getWritableDatabase().insert(TABLE_NAME,null,cv);\r\n        }\r\n    }\r\n\r\nThe **SyncTeachersHelper** class :-\r\n\r\n    public class SyncTeachersHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String TABLE_NAME = &quot;teachers&quot;;\r\n        public static final String COL1 = &quot;matchingfield&quot;;\r\n        public static final String COL2 = &quot;field1&quot;;\r\n        public static final String COL3 = &quot;field2&quot;;\r\n        public static final String COL4 = &quot;field3&quot;;\r\n        public static final String COL5 = &quot;field4&quot;;\r\n    \r\n        public SyncTeachersHelper(@Nullable Context context) {\r\n            super(context, TABLE_NAME, null, 2);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String create_teachers_table_sql =\r\n                    &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME +\r\n                            &quot;(&quot; +\r\n                            COL1 + &quot; INTEGER,&quot; +\r\n                            COL2 + &quot; TEXT,&quot; +\r\n                            COL3 + &quot; TEXT,&quot; +\r\n                            COL4 + &quot; TEXT,&quot; +\r\n                            COL5 + &quot; TEXT&quot; +\r\n                            &quot;)&quot;\r\n                    ;\r\n            db.execSQL(create_teachers_table_sql);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \r\n        }\r\n    \r\n        public long insertTeacher(long teacherToBeMatched, String teacherName) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL1,teacherToBeMatched);\r\n            cv.put(COL2,teacherName);\r\n            return this.getWritableDatabase().insert(TABLE_NAME,null,cv);\r\n        }\r\n    }\r\n\r\nThe Activity code (for both Single and Multiple) :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        DatabaseHelper mDB;\r\n        SyncTeachersHelper mTDB;\r\n        SyncStudentsHelper mSDB;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mDB = new DatabaseHelper(this);\r\n    \r\n            mDB.insertTeacher(1,&quot;Mr Jones&quot;);\r\n            mDB.insertTeacher(2,&quot;Mrs Smith&quot;);\r\n    \r\n            mDB.insertStudent(1,&quot;Tom Smith&quot;);\r\n            mDB.insertStudent(1,&quot;Glenda Burrows&quot;);\r\n            mDB.insertStudent(1,&quot;Gloria Jennings&quot;);\r\n            mDB.insertStudent(2,&quot;Fred Sharp&quot;);\r\n            mDB.insertStudent(2,&quot;Mary Collins&quot;);\r\n    \r\n            Cursor csr = mDB.getInfo();\r\n    \r\n            int row = 1;\r\n            while (csr.moveToNext()) {\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(&quot;Processing row &quot;).append(row++);\r\n                for (int i=0; i &lt; csr.getColumnCount(); i++) {\r\n                    sb.append(&quot;\\n\\t&quot;).append(csr.getColumnName(i)).append(&quot; = &quot; ).append(csr.getString(i));\r\n                }\r\n                Log.d(&quot;CURSORINFO&quot;,sb.toString());\r\n            }\r\n    \r\n            Log.d(&quot;STAGE2&quot;,&quot;Now using dual databases&quot;);\r\n            // USING Seperate Databases\r\n            mTDB = new SyncTeachersHelper(this);\r\n            mTDB.insertTeacher(1,&quot;Mr Jones&quot;);\r\n            mTDB.insertTeacher(2,&quot;Mrs Smith&quot;);\r\n            mTDB.close();\r\n    \r\n            mSDB = new SyncStudentsHelper(this);\r\n            mSDB.insertStudent(1,&quot;Tom Smith&quot;);\r\n            mSDB.insertStudent(1,&quot;Glenda Burrows&quot;);\r\n            mSDB.insertStudent(1,&quot;Gloria Jennings&quot;);\r\n            mSDB.insertStudent(2,&quot;Fred Sharp&quot;);\r\n            mSDB.insertStudent(2,&quot;Mary Collins&quot;);\r\n    \r\n            SQLiteDatabase studentsdb = mSDB.getWritableDatabase();\r\n            String  attached = &quot;attached_teacher&quot;;\r\n            studentsdb.execSQL(&quot;ATTACH DATABASE &#39;&quot; + this.getDatabasePath(SyncTeachersHelper.TABLE_NAME) +&quot;&#39; AS &quot; + attached);\r\n    \r\n            String fromclause = SyncStudentsHelper.TABLE_NAME + &quot; INNER JOIN &quot; + attached + &quot;.&quot; + SyncTeachersHelper.TABLE_NAME +\r\n                    &quot; ON &quot; + SyncStudentsHelper.TABLE_NAME + &quot;.&quot; + SyncStudentsHelper.COL1 + &quot; = &quot; +\r\n                    SyncTeachersHelper.TABLE_NAME + &quot;.&quot; + SyncTeachersHelper.COL1;\r\n            Log.d(&quot;STAGE2&quot;,&quot; From clause for query is \\n\\t&quot; + fromclause);\r\n            csr = studentsdb.query(\r\n            SyncStudentsHelper.TABLE_NAME + &quot; INNER JOIN &quot; + attached + &quot;.&quot; + SyncTeachersHelper.TABLE_NAME +\r\n                    &quot; ON &quot; + SyncStudentsHelper.TABLE_NAME + &quot;.&quot; + SyncStudentsHelper.COL1 + &quot; = &quot; +\r\n                    SyncTeachersHelper.TABLE_NAME + &quot;.&quot; + SyncTeachersHelper.COL1,\r\n                    null,null,null,null,null,null\r\n            );\r\n    \r\n            row = 1;\r\n            while (csr.moveToNext()) {\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(&quot;Processing row &quot;).append(row++);\r\n                for (int i=0; i &lt; csr.getColumnCount(); i++) {\r\n                    sb.append(&quot;\\n\\t&quot;).append(csr.getColumnName(i)).append(&quot; = &quot; ).append(csr.getString(i));\r\n                }\r\n                Log.d(&quot;CURSORINFO&quot;,sb.toString());\r\n            }\r\n        }\r\n    }\r\n\r\nNote that the FROM clause for the query (which includes the JOIN) is :-\r\n\r\n    students INNER JOIN attached_teacher.teachers ON students.matchingfield = teachers.matchingfield\r\n\r\nThe result (for STAGE2) being :-\r\n\r\n    2019-12-11 02:43:59.699 D/STAGE2: Now using dual databases\r\n    2019-12-11 02:43:59.773 D/STAGE2:  From clause for query is \r\n        \tstudents INNER JOIN attached_teacher.teachers ON students.matchingfield = teachers.matchingfield\r\n    2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 1\r\n        \tmatchingfield = 1\r\n        \tfield1 = Tom Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 2\r\n        \tmatchingfield = 1\r\n        \tfield1 = Glenda Burrows\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 3\r\n        \tmatchingfield = 1\r\n        \tfield1 = Gloria Jennings\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 1\r\n        \tfield1 = Mr Jones\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:43:59.775 D/CURSORINFO: Processing row 4\r\n        \tmatchingfield = 2\r\n        \tfield1 = Fred Sharp\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mrs Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n    2019-12-11 02:43:59.775 D/CURSORINFO: Processing row 5\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mary Collins\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null\r\n        \tmatchingfield = 2\r\n        \tfield1 = Mrs Smith\r\n        \tfield2 = null\r\n        \tfield3 = null\r\n        \tfield4 = null","title":"How to do inner join in SQLite with multiple database helpers classes in android","body":"<p>You need to <a href=\"https://www.sqlite.org/lang_attach.html\" rel=\"nofollow noreferrer\">attach</a> one of the databases to the other without opening the attached database or have a single database that contains both tables.</p>\n\n<p>Noting that you refer to the attached database via the given schema e.g. if using <code>ATTACH path_to_2nd_db AS seconddb</code> Then you would refer to the table in the attached database as <code>seconddb.the_table_name</code></p>\n\n<p>However, it appears that the reason why you have two databases is that in the seperate helpers you use the table name as the database name (based upon your SyncStudentsHelper class (which is missing the space between the class name and the extends keyword)).</p>\n\n<p>I would suggest that you have a single DatabaseHelper that has both tables in the same database.</p>\n\n<h1>Single Database Example</h1>\n\n<p>The database helper :-</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n    public static final String DBNAME = \"Students_and_Teachers\";\n    public static final int DBVERSION = 1;\n\n    public static final String TEACHERS_TABLE_NAME = \"teachers\";\n    public static final String STUDENTS_TABLE_NAME = \"students\";\n    public static final String COL1 = \"matchingfield\";\n    public static final String COL2 = \"field1\";\n    public static final String COL3 = \"field2\";\n    public static final String COL4 = \"field3\";\n    public static final String COL5 = \"field4\";\n\n    public DatabaseHelper(Context context) {\n        super(context, DBNAME, null, DBVERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String create_teachers_table_sql =\n                \"CREATE TABLE IF NOT EXISTS \" + TEACHERS_TABLE_NAME +\n                        \"(\" +\n                        COL1 + \" INTEGER,\" +\n                        COL2 + \" TEXT,\" +\n                        COL3 + \" TEXT,\" +\n                        COL4 + \" TEXT,\" +\n                        COL5 + \" TEXT\" +\n                        \")\"\n                ;\n        String create_students_table_sql =\n                \"CREATE TABLE IF NOT EXISTS \" + STUDENTS_TABLE_NAME +\n                        \"(\" +\n                        COL1 + \" INTEGER,\" +\n                        COL2 + \" TEXT,\" +\n                        COL3 + \" TEXT,\" +\n                        COL4 + \" TEXT,\" +\n                        COL5 + \" TEXT\" +\n                        \")\"\n                ;\n        db.execSQL(create_teachers_table_sql);\n        db.execSQL(create_students_table_sql);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n    public long insertStudent(long teacherToMatch, String studentName) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL1,teacherToMatch);\n        cv.put(COL2,studentName);\n        return this.getWritableDatabase().insert(STUDENTS_TABLE_NAME,null,cv);\n    }\n\n    public long insertTeacher(long teacherToBeMatched, String teacherName) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL1,teacherToBeMatched);\n        cv.put(COL2,teacherName);\n        return this.getWritableDatabase().insert(TEACHERS_TABLE_NAME,null,cv);\n    }\n\n    public Cursor getInfo() {\n        //String query = \"SELECT * FROM students Inner Join teachers ON student.matchingfield = teachers.matchingfield\" ;\n        //Cursor data = db.rawQuery(query, null);\n        return this.getWritableDatabase().query(\n                STUDENTS_TABLE_NAME + \" INNER JOIN \" + TEACHERS_TABLE_NAME +\n                        \" ON \" + STUDENTS_TABLE_NAME + \".\" + COL1 + \" = \" +\n                        TEACHERS_TABLE_NAME + \".\" + COL1,\n                null,null,null,null,null,null\n        );\n    }\n}\n</code></pre>\n\n<p>An activity that uses the database, adding some teachers (2) and some students (3 to match the first teacher and 2 to match the 2nd teacher) and then extracts them via the query.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    DatabaseHelper mDB;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mDB = new DatabaseHelper(this);\n\n        mDB.insertTeacher(1,\"Mr Jones\");\n        mDB.insertTeacher(2,\"Mrs Smith\");\n\n        mDB.insertStudent(1,\"Tom Smith\");\n        mDB.insertStudent(1,\"Glenda Burrows\");\n        mDB.insertStudent(1,\"Gloria Jennings\");\n        mDB.insertStudent(2,\"Fred Sharp\");\n        mDB.insertStudent(2,\"Mary Collins\");\n\n        Cursor csr = mDB.getInfo();\n\n        int row = 1;\n        while (csr.moveToNext()) {\n            StringBuilder sb = new StringBuilder();\n            sb.append(\"Processing row \").append(row++);\n            for (int i=0; i &lt; csr.getColumnCount(); i++) {\n                sb.append(\"\\n\\t\").append(csr.getColumnName(i)).append(\" = \" ).append(csr.getString(i));\n            }\n            Log.d(\"CURSORINFO\",sb.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>Running the above results in :-</p>\n\n<pre><code>2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 1\n        matchingfield = 1\n        field1 = Tom Smith\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 2\n        matchingfield = 1\n        field1 = Glenda Burrows\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:14:15.169 D/CURSORINFO: Processing row 3\n        matchingfield = 1\n        field1 = Gloria Jennings\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:14:15.170 D/CURSORINFO: Processing row 4\n        matchingfield = 2\n        field1 = Fred Sharp\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 2\n        field1 = Mrs Smith\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:14:15.170 D/CURSORINFO: Processing row 5\n        matchingfield = 2\n        field1 = Mary Collins\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 2\n        field1 = Mrs Smith\n        field2 = null\n        field3 = null\n        field4 = null\n</code></pre>\n\n<h1>Multiple Database Example</h1>\n\n<p>The <strong>SyncStudentsHelper</strong> class</p>\n\n<pre><code>public class SyncStudentsHelper extends SQLiteOpenHelper {\n\n    public static final String TABLE_NAME = \"students\";\n    public static final String COL1 = \"matchingfield\";\n    public static final String COL2 = \"field1\";\n    public static final String COL3 = \"field2\";\n    public static final String COL4 = \"field3\";\n    public static final String COL5 = \"field4\";\n\n    public SyncStudentsHelper(Context context) {\n        super(context, TABLE_NAME, null, 2);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String create_students_table_sql =\n                \"CREATE TABLE IF NOT EXISTS \" + TABLE_NAME +\n                        \"(\" +\n                        COL1 + \" INTEGER,\" +\n                        COL2 + \" TEXT,\" +\n                        COL3 + \" TEXT,\" +\n                        COL4 + \" TEXT,\" +\n                        COL5 + \" TEXT\" +\n                        \")\"\n                ;\n        db.execSQL(create_students_table_sql);\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n    public long insertStudent(long teacherToMatch, String studentName) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL1,teacherToMatch);\n        cv.put(COL2,studentName);\n        return this.getWritableDatabase().insert(TABLE_NAME,null,cv);\n    }\n}\n</code></pre>\n\n<p>The <strong>SyncTeachersHelper</strong> class :-</p>\n\n<pre><code>public class SyncTeachersHelper extends SQLiteOpenHelper {\n\n    public static final String TABLE_NAME = \"teachers\";\n    public static final String COL1 = \"matchingfield\";\n    public static final String COL2 = \"field1\";\n    public static final String COL3 = \"field2\";\n    public static final String COL4 = \"field3\";\n    public static final String COL5 = \"field4\";\n\n    public SyncTeachersHelper(@Nullable Context context) {\n        super(context, TABLE_NAME, null, 2);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String create_teachers_table_sql =\n                \"CREATE TABLE IF NOT EXISTS \" + TABLE_NAME +\n                        \"(\" +\n                        COL1 + \" INTEGER,\" +\n                        COL2 + \" TEXT,\" +\n                        COL3 + \" TEXT,\" +\n                        COL4 + \" TEXT,\" +\n                        COL5 + \" TEXT\" +\n                        \")\"\n                ;\n        db.execSQL(create_teachers_table_sql);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n    public long insertTeacher(long teacherToBeMatched, String teacherName) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL1,teacherToBeMatched);\n        cv.put(COL2,teacherName);\n        return this.getWritableDatabase().insert(TABLE_NAME,null,cv);\n    }\n}\n</code></pre>\n\n<p>The Activity code (for both Single and Multiple) :-</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    DatabaseHelper mDB;\n    SyncTeachersHelper mTDB;\n    SyncStudentsHelper mSDB;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mDB = new DatabaseHelper(this);\n\n        mDB.insertTeacher(1,\"Mr Jones\");\n        mDB.insertTeacher(2,\"Mrs Smith\");\n\n        mDB.insertStudent(1,\"Tom Smith\");\n        mDB.insertStudent(1,\"Glenda Burrows\");\n        mDB.insertStudent(1,\"Gloria Jennings\");\n        mDB.insertStudent(2,\"Fred Sharp\");\n        mDB.insertStudent(2,\"Mary Collins\");\n\n        Cursor csr = mDB.getInfo();\n\n        int row = 1;\n        while (csr.moveToNext()) {\n            StringBuilder sb = new StringBuilder();\n            sb.append(\"Processing row \").append(row++);\n            for (int i=0; i &lt; csr.getColumnCount(); i++) {\n                sb.append(\"\\n\\t\").append(csr.getColumnName(i)).append(\" = \" ).append(csr.getString(i));\n            }\n            Log.d(\"CURSORINFO\",sb.toString());\n        }\n\n        Log.d(\"STAGE2\",\"Now using dual databases\");\n        // USING Seperate Databases\n        mTDB = new SyncTeachersHelper(this);\n        mTDB.insertTeacher(1,\"Mr Jones\");\n        mTDB.insertTeacher(2,\"Mrs Smith\");\n        mTDB.close();\n\n        mSDB = new SyncStudentsHelper(this);\n        mSDB.insertStudent(1,\"Tom Smith\");\n        mSDB.insertStudent(1,\"Glenda Burrows\");\n        mSDB.insertStudent(1,\"Gloria Jennings\");\n        mSDB.insertStudent(2,\"Fred Sharp\");\n        mSDB.insertStudent(2,\"Mary Collins\");\n\n        SQLiteDatabase studentsdb = mSDB.getWritableDatabase();\n        String  attached = \"attached_teacher\";\n        studentsdb.execSQL(\"ATTACH DATABASE '\" + this.getDatabasePath(SyncTeachersHelper.TABLE_NAME) +\"' AS \" + attached);\n\n        String fromclause = SyncStudentsHelper.TABLE_NAME + \" INNER JOIN \" + attached + \".\" + SyncTeachersHelper.TABLE_NAME +\n                \" ON \" + SyncStudentsHelper.TABLE_NAME + \".\" + SyncStudentsHelper.COL1 + \" = \" +\n                SyncTeachersHelper.TABLE_NAME + \".\" + SyncTeachersHelper.COL1;\n        Log.d(\"STAGE2\",\" From clause for query is \\n\\t\" + fromclause);\n        csr = studentsdb.query(\n        SyncStudentsHelper.TABLE_NAME + \" INNER JOIN \" + attached + \".\" + SyncTeachersHelper.TABLE_NAME +\n                \" ON \" + SyncStudentsHelper.TABLE_NAME + \".\" + SyncStudentsHelper.COL1 + \" = \" +\n                SyncTeachersHelper.TABLE_NAME + \".\" + SyncTeachersHelper.COL1,\n                null,null,null,null,null,null\n        );\n\n        row = 1;\n        while (csr.moveToNext()) {\n            StringBuilder sb = new StringBuilder();\n            sb.append(\"Processing row \").append(row++);\n            for (int i=0; i &lt; csr.getColumnCount(); i++) {\n                sb.append(\"\\n\\t\").append(csr.getColumnName(i)).append(\" = \" ).append(csr.getString(i));\n            }\n            Log.d(\"CURSORINFO\",sb.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>Note that the FROM clause for the query (which includes the JOIN) is :-</p>\n\n<pre><code>students INNER JOIN attached_teacher.teachers ON students.matchingfield = teachers.matchingfield\n</code></pre>\n\n<p>The result (for STAGE2) being :-</p>\n\n<pre><code>2019-12-11 02:43:59.699 D/STAGE2: Now using dual databases\n2019-12-11 02:43:59.773 D/STAGE2:  From clause for query is \n        students INNER JOIN attached_teacher.teachers ON students.matchingfield = teachers.matchingfield\n2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 1\n        matchingfield = 1\n        field1 = Tom Smith\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 2\n        matchingfield = 1\n        field1 = Glenda Burrows\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:43:59.774 D/CURSORINFO: Processing row 3\n        matchingfield = 1\n        field1 = Gloria Jennings\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 1\n        field1 = Mr Jones\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:43:59.775 D/CURSORINFO: Processing row 4\n        matchingfield = 2\n        field1 = Fred Sharp\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 2\n        field1 = Mrs Smith\n        field2 = null\n        field3 = null\n        field4 = null\n2019-12-11 02:43:59.775 D/CURSORINFO: Processing row 5\n        matchingfield = 2\n        field1 = Mary Collins\n        field2 = null\n        field3 = null\n        field4 = null\n        matchingfield = 2\n        field1 = Mrs Smith\n        field2 = null\n        field3 = null\n        field4 = null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8113125,"reputation":81,"user_id":6112511,"display_name":"aymhenry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632990813,"creation_date":1632990813,"answer_id":69388916,"question_id":59269147,"body_markdown":"Simply apply SQL command to SQLite: \r\n\r\n\tATTACH DATABASE path_file_name AS my_database_name;\r\n\r\nthen later apply your SQL command\r\n\r\n    select * from mytable\r\n        left join my_database_name.my_other_table\r\n        on field_name = database_name.my_other_table.myfield_name\r\n\r\n\r\nhttps://www.sqlite.org/lang_attach.html","title":"How to do inner join in SQLite with multiple database helpers classes in android","body":"<p>Simply apply SQL command to SQLite:</p>\n<pre><code>ATTACH DATABASE path_file_name AS my_database_name;\n</code></pre>\n<p>then later apply your SQL command</p>\n<pre><code>select * from mytable\n    left join my_database_name.my_other_table\n    on field_name = database_name.my_other_table.myfield_name\n</code></pre>\n<p><a href=\"https://www.sqlite.org/lang_attach.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_attach.html</a></p>\n"}],"owner":{"account_id":15216455,"reputation":119,"user_id":10979704,"display_name":"James Hickling"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1632990813,"creation_date":1575987033,"question_id":59269147,"body_markdown":"I have 2 database tables in my java android app. \r\n\r\nI have 2 helpers, one for each table. \r\n\r\n````java\r\npublic class SyncStudentsHelperextends SQLiteOpenHelper {\r\n\r\n    private static final String TAG = &quot;SyncStudentsHelper&quot;;\r\n\r\n    private static final String TABLE_NAME = &quot;students&quot;;\r\n    private static final String COL1 = &quot;field&quot;;\r\n    private static final String COL2 = &quot;field&quot;;\r\n    private static final String COL3 = &quot;field&quot;;\r\n    private static final String COL4 = &quot;field&quot;;\r\n    private static final String COL5 = &quot;field&quot;;\r\n\r\n    public SyncStudentsHelper (Context context) {\r\n        super(context, TABLE_NAME, null, 2);\r\n    }\r\n}    \r\n````\r\n\r\nI have a similar table for teachers. \r\n\r\nMy question is how to do inner join query between 2 tables. \r\n\r\nHere is my attempt.\r\n\r\n````java\r\npublic Cursor getinfo() {\r\n    SQLiteDatabase db = this.getWritableDatabase();\r\n    String query = &quot;SELECT * FROM students Inner Join teachers ON student.matchingfield = teachers.matchingfield&quot; ;\r\n    Cursor data = db.rawQuery(query, null);\r\n    return data;\r\n}\r\n````\r\n\r\n\r\nI get this error:\r\n\r\n    no such table: teachers(code 1): , while compiling: \r\n\r\n\r\n\r\nMy question is, because I have 2 different database helper files, how to do inner SQLite inner join from 2 tables. \r\n\r\n**EDIT**\r\n\r\nMy query is on the student&#39;s helper class as below. \r\n\r\n    public class SyncStudentsHelperextends SQLiteOpenHelper {\r\n    \r\n        private static final String TAG = &quot;SyncStudentsHelper&quot;;\r\n    \r\n        private static final String TABLE_NAME = &quot;students&quot;;\r\n        private static final String COL1 = &quot;field&quot;;\r\n        private static final String COL2 = &quot;field&quot;;\r\n        private static final String COL3 = &quot;field&quot;;\r\n        private static final String COL4 = &quot;field&quot;;\r\n        private static final String COL5 = &quot;field&quot;;\r\n    \r\n        public SyncStudentsHelper (Context context) {\r\n            super(context, TABLE_NAME, null, 2);\r\n        }\r\n    }  \r\n\r\n    //Return Cursor type\r\n    public Cursor getinfo() {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String  attached = &quot;attached_teacher&quot;;\r\n        db.execSQL(&quot;ATTACH DATABASE  SyncTeachers.teachers AS teachersdatabase &quot;);\r\n         String query = &quot;SELECT * FROM students Inner Join teachersdatabase.teachers ON students.matchingfield = teachersdatabase.teachers.matchingfield &quot; ;\r\n        Cursor data = db.rawQuery(query, null);\r\n        return data;\r\n    }\r\n\r\n\r\n\r\n","title":"How to do inner join in SQLite with multiple database helpers classes in android","body":"<p>I have 2 database tables in my java android app. </p>\n\n<p>I have 2 helpers, one for each table. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SyncStudentsHelperextends SQLiteOpenHelper {\n\n    private static final String TAG = \"SyncStudentsHelper\";\n\n    private static final String TABLE_NAME = \"students\";\n    private static final String COL1 = \"field\";\n    private static final String COL2 = \"field\";\n    private static final String COL3 = \"field\";\n    private static final String COL4 = \"field\";\n    private static final String COL5 = \"field\";\n\n    public SyncStudentsHelper (Context context) {\n        super(context, TABLE_NAME, null, 2);\n    }\n}    \n</code></pre>\n\n<p>I have a similar table for teachers. </p>\n\n<p>My question is how to do inner join query between 2 tables. </p>\n\n<p>Here is my attempt.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Cursor getinfo() {\n    SQLiteDatabase db = this.getWritableDatabase();\n    String query = \"SELECT * FROM students Inner Join teachers ON student.matchingfield = teachers.matchingfield\" ;\n    Cursor data = db.rawQuery(query, null);\n    return data;\n}\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>no such table: teachers(code 1): , while compiling: \n</code></pre>\n\n<p>My question is, because I have 2 different database helper files, how to do inner SQLite inner join from 2 tables. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My query is on the student's helper class as below. </p>\n\n<pre><code>public class SyncStudentsHelperextends SQLiteOpenHelper {\n\n    private static final String TAG = \"SyncStudentsHelper\";\n\n    private static final String TABLE_NAME = \"students\";\n    private static final String COL1 = \"field\";\n    private static final String COL2 = \"field\";\n    private static final String COL3 = \"field\";\n    private static final String COL4 = \"field\";\n    private static final String COL5 = \"field\";\n\n    public SyncStudentsHelper (Context context) {\n        super(context, TABLE_NAME, null, 2);\n    }\n}  \n\n//Return Cursor type\npublic Cursor getinfo() {\n    SQLiteDatabase db = this.getWritableDatabase();\n    String  attached = \"attached_teacher\";\n    db.execSQL(\"ATTACH DATABASE  SyncTeachers.teachers AS teachersdatabase \");\n     String query = \"SELECT * FROM students Inner Join teachersdatabase.teachers ON students.matchingfield = teachersdatabase.teachers.matchingfield \" ;\n    Cursor data = db.rawQuery(query, null);\n    return data;\n}\n</code></pre>\n"},{"tags":["java","class","interface","overriding","abstract-class"],"comments":[{"owner":{"account_id":9276404,"reputation":613,"user_id":6888950,"display_name":"Francisco Valle"},"score":1,"creation_date":1632986606,"post_id":69387816,"comment_id":122642302,"body_markdown":"Why not to  use ... for arbitrary number of strings parameters in the interface definition? Take a look at the answer of this question https://stackoverflow.com/questions/3158730/what-do-3-dots-next-to-a-parameter-type-mean-in-java","body":"Why not to  use ... for arbitrary number of strings parameters in the interface definition? Take a look at the answer of this question <a href=\"https://stackoverflow.com/questions/3158730/what-do-3-dots-next-to-a-parameter-type-mean-in-java\" title=\"what do 3 dots next to a parameter type mean in java\">stackoverflow.com/questions/3158730/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1632989027,"post_id":69387816,"comment_id":122643346,"body_markdown":"If the users of `MyClass` only ever call it through `IResp`, then they will never see the variant with three parameters, they can only call the methods defined in `IResp`, which is `onResp(String a, String b)`, the three argument method is an overloaded method, not the same method.","body":"If the users of <code>MyClass</code> only ever call it through <code>IResp</code>, then they will never see the variant with three parameters, they can only call the methods defined in <code>IResp</code>, which is <code>onResp(String a, String b)</code>, the three argument method is an overloaded method, not the same method."}],"answers":[{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632987009,"creation_date":1632986706,"answer_id":69387909,"question_id":69387816,"body_markdown":"Did you mean implementing with an empty body? \r\nImplementing the method with an empty body could create problems.\r\nLet&#39;s assume someone created the method in the interface for a reason.\r\n\r\nSay a function gets the interface as a parameter. Which method will they call on it? The two parameter version one.\r\n\r\n    void someWork( IResp resp ) \r\n    {\r\n     resp.onResp(&quot;a&quot;,&quot;b&quot;);\r\n    }\r\n\r\nNow if the object actually passed in to resp is a MyClass with an empty implementation of the function, it does nothing. Is that what you want?\r\n\r\nMaking the class abstract would be the better choice than creating an empty implementation. It would mean that someone down the line will give the implementation that makes sends for the two parameter version.\r\n\r\nIf you implement the two parameter version with a sensible body in MyClass and add a three parameter version to MyClass, but you don&#39;t add it to the interface then functions such as f1 won&#39;t be able to use it. \r\n\r\nThe takeaway from this is that you will probably want both versions of onResp in the interface.\r\n\r\n","title":"Implementing an interface with additional parameters in a method","body":"<p>Did you mean implementing with an empty body?\nImplementing the method with an empty body could create problems.\nLet's assume someone created the method in the interface for a reason.</p>\n<p>Say a function gets the interface as a parameter. Which method will they call on it? The two parameter version one.</p>\n<pre><code>void someWork( IResp resp ) \n{\n resp.onResp(&quot;a&quot;,&quot;b&quot;);\n}\n</code></pre>\n<p>Now if the object actually passed in to resp is a MyClass with an empty implementation of the function, it does nothing. Is that what you want?</p>\n<p>Making the class abstract would be the better choice than creating an empty implementation. It would mean that someone down the line will give the implementation that makes sends for the two parameter version.</p>\n<p>If you implement the two parameter version with a sensible body in MyClass and add a three parameter version to MyClass, but you don't add it to the interface then functions such as f1 won't be able to use it.</p>\n<p>The takeaway from this is that you will probably want both versions of onResp in the interface.</p>\n"},{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632988533,"creation_date":1632986778,"answer_id":69387935,"question_id":69387816,"body_markdown":"You have to implement method with two parameters if you implement interface IResp. But you can also define a second Method with 3 parameters. For example:\r\n```\r\n\tpublic class MyClass implements IResp {\r\n\r\n\t\tpublic void onResp(String a, String b) throws Throwable {\r\n\t\t\tonResp(a, b, null);\r\n\t\t}\r\n\r\n\r\n\t\tpublic void onResp(String a, String b, String c) throws Throwable {\r\n\t\t\t// your logic\r\n\t\t}\r\n\t}\r\n```","title":"Implementing an interface with additional parameters in a method","body":"<p>You have to implement method with two parameters if you implement interface IResp. But you can also define a second Method with 3 parameters. For example:</p>\n<pre><code>    public class MyClass implements IResp {\n\n        public void onResp(String a, String b) throws Throwable {\n            onResp(a, b, null);\n        }\n\n\n        public void onResp(String a, String b, String c) throws Throwable {\n            // your logic\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632990606,"creation_date":1632990606,"answer_id":69388867,"question_id":69387816,"body_markdown":"If you &quot;implement&quot; an interface method, and change the parameter signature (like adding a third String), this no longer is a valid implementation of the interface. You have to have a method like \r\n\r\n    public Response onResp(String a, String b) {\r\n        // ...\r\n    }\r\n\r\nin your `MyClass`.\r\n\r\n&gt; I need the additional String c in onResp method of MyClass\r\n\r\nThe interface `IResp` most probably exists because there are callers of the `onResp()` method, and they will provide two Strings, not three. If your `onResp()` code really can&#39;t work without getting an additional piece of information (`String c`), you have a problem.\r\n\r\nYour proposals both won&#39;t work (if I understand them correctly):\r\n\r\n- If you just add an empty `onResp(String a, String b)` method, then that method will be called from outside, do nothing and return.\r\n- If you declare `MyClass` to be abstract, then you won&#39;t be able to create instances of `MyClass`, and without an instance of this class, nothing will ever get called.\r\n\r\nOne (theoretical?) possibility is to change the interface method to use three instead of two parameters and to modify all callers of the interface to provide the expected information as a third parameter. But I guess the interface is fixed, and you&#39;re not free to do that.\r\n\r\nIf you can use the very same `c` value in all `onResp()` calls, you can provide the additional `String c` not with every `onResp()` call, but ahead of time, when you create the `MyClass` instance, doing `new MyClass(&quot;abc&quot;)`, assuming that &quot;abc&quot; is the appropriate value for `c`. Your class should look like this:\r\n\r\n    public class MyClass implements IResp {\r\n        private String myConstantC;\r\n        public MyClass(String c) {\r\n            this.myConstantC = c;\r\n        }\r\n        privateResponse onResp(String a, String b, String c) {\r\n            // your code\r\n        }\r\n        @Override\r\n        public Response onResp(String a, String b) {\r\n            return onResp(a, b, myConstantC);\r\n        }\r\n    }\r\n\r\nIf you cannot live with a single constant `c` value, but have a chance to somehow find out the necessary `c` value for a given `onResp(a, b)` call, you can do something like\r\n\r\n    public class MyClass implements IResp {\r\n        privateResponse onResp(String a, String b, String c) {\r\n            // your code\r\n        }\r\n        private String findTheCValue(String a, String b) {\r\n            // your way to find and return the correct c value\r\n        }\r\n        @Override\r\n        public Response onResp(String a, String b) {\r\n            String c = findTheCValue(a, b);\r\n            return onResp(a, b, c);\r\n        }\r\n    }","title":"Implementing an interface with additional parameters in a method","body":"<p>If you &quot;implement&quot; an interface method, and change the parameter signature (like adding a third String), this no longer is a valid implementation of the interface. You have to have a method like</p>\n<pre><code>public Response onResp(String a, String b) {\n    // ...\n}\n</code></pre>\n<p>in your <code>MyClass</code>.</p>\n<blockquote>\n<p>I need the additional String c in onResp method of MyClass</p>\n</blockquote>\n<p>The interface <code>IResp</code> most probably exists because there are callers of the <code>onResp()</code> method, and they will provide two Strings, not three. If your <code>onResp()</code> code really can't work without getting an additional piece of information (<code>String c</code>), you have a problem.</p>\n<p>Your proposals both won't work (if I understand them correctly):</p>\n<ul>\n<li>If you just add an empty <code>onResp(String a, String b)</code> method, then that method will be called from outside, do nothing and return.</li>\n<li>If you declare <code>MyClass</code> to be abstract, then you won't be able to create instances of <code>MyClass</code>, and without an instance of this class, nothing will ever get called.</li>\n</ul>\n<p>One (theoretical?) possibility is to change the interface method to use three instead of two parameters and to modify all callers of the interface to provide the expected information as a third parameter. But I guess the interface is fixed, and you're not free to do that.</p>\n<p>If you can use the very same <code>c</code> value in all <code>onResp()</code> calls, you can provide the additional <code>String c</code> not with every <code>onResp()</code> call, but ahead of time, when you create the <code>MyClass</code> instance, doing <code>new MyClass(&quot;abc&quot;)</code>, assuming that &quot;abc&quot; is the appropriate value for <code>c</code>. Your class should look like this:</p>\n<pre><code>public class MyClass implements IResp {\n    private String myConstantC;\n    public MyClass(String c) {\n        this.myConstantC = c;\n    }\n    privateResponse onResp(String a, String b, String c) {\n        // your code\n    }\n    @Override\n    public Response onResp(String a, String b) {\n        return onResp(a, b, myConstantC);\n    }\n}\n</code></pre>\n<p>If you cannot live with a single constant <code>c</code> value, but have a chance to somehow find out the necessary <code>c</code> value for a given <code>onResp(a, b)</code> call, you can do something like</p>\n<pre><code>public class MyClass implements IResp {\n    privateResponse onResp(String a, String b, String c) {\n        // your code\n    }\n    private String findTheCValue(String a, String b) {\n        // your way to find and return the correct c value\n    }\n    @Override\n    public Response onResp(String a, String b) {\n        String c = findTheCValue(a, b);\n        return onResp(a, b, c);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7727130,"reputation":167,"user_id":5851407,"display_name":"curiousCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4852,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69388867,"answer_count":3,"score":4,"last_activity_date":1632990606,"creation_date":1632986310,"question_id":69387816,"body_markdown":"I have a class `MyClass` that implements the interface `IResp`.\r\n```\r\npublic interface IResp {\r\n\tResponse onResp(String a, String b)\r\n\t\t\tthrows Throwable;\r\n}\r\n```\r\n```\r\npublic class MyClass implements IResp {\r\n\r\n\tpublic onResp(String a, String b, String c) throws Throwable {\r\n...\r\n}\r\n```\r\nI need the additional `String c` in `onResp` method of `MyClass`\r\n\r\nNow, I understand that I can achieve this either by adding unimplemented `onResp(String a, String b) throws Throwable{...}`, or by making `MyClass` an abstract class.\r\n\r\nSince I&#39;m new to Java, I&#39;d like some advice on what&#39;s the better approach, please?\r\n\r\nNote: I can make changes only to the class and cannot create or modify the interface","title":"Implementing an interface with additional parameters in a method","body":"<p>I have a class <code>MyClass</code> that implements the interface <code>IResp</code>.</p>\n<pre><code>public interface IResp {\n    Response onResp(String a, String b)\n            throws Throwable;\n}\n</code></pre>\n<pre><code>public class MyClass implements IResp {\n\n    public onResp(String a, String b, String c) throws Throwable {\n...\n}\n</code></pre>\n<p>I need the additional <code>String c</code> in <code>onResp</code> method of <code>MyClass</code></p>\n<p>Now, I understand that I can achieve this either by adding unimplemented <code>onResp(String a, String b) throws Throwable{...}</code>, or by making <code>MyClass</code> an abstract class.</p>\n<p>Since I'm new to Java, I'd like some advice on what's the better approach, please?</p>\n<p>Note: I can make changes only to the class and cannot create or modify the interface</p>\n"},{"tags":["java","sql","postgresql","jpa"],"comments":[{"owner":{"account_id":16819594,"reputation":130,"user_id":12160434,"display_name":"Sebastian Riemer"},"score":0,"creation_date":1632989008,"post_id":69388355,"comment_id":122643343,"body_markdown":"I&#39;ve compared the two statements in WinMerge, and can confirm they are nearly identical. What about that &quot;\\n&quot; Character at the end of the first line in your second block? `... where camera_layout.camera_id in\\n&quot;`\nIs that necessary?","body":"I&#39;ve compared the two statements in WinMerge, and can confirm they are nearly identical. What about that &quot;\\n&quot; Character at the end of the first line in your second block? <code>... where camera_layout.camera_id in\\n&quot;</code> Is that necessary?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1632989093,"post_id":69388355,"comment_id":122643377,"body_markdown":"&quot;an empty string is returned&quot; - does this mean you&#39;re checking it at some API level? Did you debug your application to confirm the `List &lt;Layout&gt;` that&#39;s returned is empty?","body":"&quot;an empty string is returned&quot; - does this mean you&#39;re checking it at some API level? Did you debug your application to confirm the <code>List &lt;Layout&gt;</code> that&#39;s returned is empty?"},{"owner":{"account_id":16819594,"reputation":130,"user_id":12160434,"display_name":"Sebastian Riemer"},"score":0,"creation_date":1632989101,"post_id":69388355,"comment_id":122643379,"body_markdown":"Also try to debug that statement or raise the logging-level output of your JPA/Repository layer - ideally you&#39;ll get that final statement which is generated 1:1 so you can copy and execute it in your SQL-Client to test it.","body":"Also try to debug that statement or raise the logging-level output of your JPA/Repository layer - ideally you&#39;ll get that final statement which is generated 1:1 so you can copy and execute it in your SQL-Client to test it."},{"owner":{"account_id":19605679,"reputation":111,"user_id":14349424,"display_name":"Buba"},"score":0,"creation_date":1632989553,"post_id":69388355,"comment_id":122643560,"body_markdown":"/n required , it just splits the request for clarity , it is not reflected at work","body":"/n required , it just splits the request for clarity , it is not reflected at work"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633005330,"post_id":69388355,"comment_id":122649967,"body_markdown":"Turn on SQL logging. set org.hibernate.SQL to debug and org.hibernate.type.descriptor.sql.BasicBinder to trace and then check the SQL statement","body":"Turn on SQL logging. set org.hibernate.SQL to debug and org.hibernate.type.descriptor.sql.BasicBinder to trace and then check the SQL statement"}],"owner":{"account_id":19605679,"reputation":111,"user_id":14349424,"display_name":"Buba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632990133,"creation_date":1632988589,"question_id":69388355,"body_markdown":"there is a request to Postgres that works if executed in the database:\r\n```\r\n(select * from layout where layout.layout_id in(select distinct camera_layout.layout_id from camera_layout where camera_layout.camera_id in\r\n(select c.camera_id  FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?)))\r\n\r\n```\r\nbut if you make a request via @query native in Reposytory, an empty string is returned:\r\n```\r\n    @Query( value = &quot;(select * from layout where layout.layout_id in (select distinct camera_layout.layout_id from camera_layout where camera_layout.camera_id in\\n&quot; +\r\n            &quot;(select c.camera_id  FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = :region)))&quot;,\r\n            nativeQuery = true)\r\n    List &lt;Layout&gt; filterRegion(@Param(&quot;region&quot;) Integer region);\r\n\r\n```\r\n\r\nwhy? I am sure that the parameters are passed, the layout list should return\r\n\r\n","title":"Request does not return results","body":"<p>there is a request to Postgres that works if executed in the database:</p>\n<pre><code>(select * from layout where layout.layout_id in(select distinct camera_layout.layout_id from camera_layout where camera_layout.camera_id in\n(select c.camera_id  FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?)))\n\n</code></pre>\n<p>but if you make a request via @query native in Reposytory, an empty string is returned:</p>\n<pre><code>    @Query( value = &quot;(select * from layout where layout.layout_id in (select distinct camera_layout.layout_id from camera_layout where camera_layout.camera_id in\\n&quot; +\n            &quot;(select c.camera_id  FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = :region)))&quot;,\n            nativeQuery = true)\n    List &lt;Layout&gt; filterRegion(@Param(&quot;region&quot;) Integer region);\n\n</code></pre>\n<p>why? I am sure that the parameters are passed, the layout list should return</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1632984224,"post_id":69387085,"comment_id":122641401,"body_markdown":"One mistake you are making is using `==` to compare strings, like `type == &quot;dialer&quot;`. That does not do what you think it does in Java. See [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"One mistake you are making is using <code>==</code> to compare strings, like <code>type == &quot;dialer&quot;</code>. That does not do what you think it does in Java. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1632984741,"post_id":69387085,"comment_id":122641591,"body_markdown":"You are doing things like `if (type==&quot;dialer&quot;)`. That does not work the way you think it does. You have to write `if (type.equals(&quot;dialer&quot;))` instead. See the linked issue.","body":"You are doing things like <code>if (type==&quot;dialer&quot;)</code>. That does not work the way you think it does. You have to write <code>if (type.equals(&quot;dialer&quot;))</code> instead. See the linked issue."},{"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"score":0,"creation_date":1632984949,"post_id":69387085,"comment_id":122641675,"body_markdown":"@Jesper I had read [the answer](https://stackoverflow.com/a/513839/16897106). Read 4 number line in first codeblocks. Even I have tried what you said.. It was working what I expected even your method is also working as I expect. So I repeat that&#39;s not the case for having current issue.","body":"@Jesper I had read <a href=\"https://stackoverflow.com/a/513839/16897106\">the answer</a>. Read 4 number line in first codeblocks. Even I have tried what you said.. It was working what I expected even your method is also working as I expect. So I repeat that&#39;s not the case for having current issue."},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1632989443,"post_id":69387085,"comment_id":122643507,"body_markdown":"Try wrapping your call text views (Name , Contact number and time stamp) in a layout and attach click listener to that layout, instead of this &quot;holder.itemView.setOnClickListener&quot;.","body":"Try wrapping your call text views (Name , Contact number and time stamp) in a layout and attach click listener to that layout, instead of this &quot;holder.itemView.setOnClickListener&quot;."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1632989502,"post_id":69387085,"comment_id":122643534,"body_markdown":"But you are **not** comparing string literals like `&quot;test&quot; == &quot;test&quot;`, you are comparing a variable `type` to a string literal `&quot;dialer&quot;`. So line 4 of the answer you mentioned does not apply.","body":"But you are <b>not</b> comparing string literals like <code>&quot;test&quot; == &quot;test&quot;</code>, you are comparing a variable <code>type</code> to a string literal <code>&quot;dialer&quot;</code>. So line 4 of the answer you mentioned does not apply."},{"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"score":0,"creation_date":1632989670,"post_id":69387085,"comment_id":122643602,"body_markdown":"@Jesper OK OK! I HAVE USED THAT NOW...","body":"@Jesper OK OK! I HAVE USED THAT NOW..."}],"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632990000,"creation_date":1632982661,"question_id":69387085,"body_markdown":"```java\r\n\r\n        if (type==&quot;dialer&quot;) {\r\n            String timestamp = list.get(position).get(Constants.DATE);\r\n            holder.txtTimestamp.setVisibility(View.VISIBLE);\r\n            holder.imgDelete.setVisibility(View.GONE);\r\n            holder.txtTimestamp.setText(getDate(Long.parseLong(timestamp),&quot;dd/MM/yyyy hh:mm:ss&quot;));\r\n\r\n            if (Integer.parseInt(callType) == CallLog.Calls.BLOCKED_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.block));\r\n            if (Integer.parseInt(callType) == CallLog.Calls.BLOCKED_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.rejected));\r\n            if (Integer.parseInt(callType) == CallLog.Calls.OUTGOING_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.outgoing_call));\r\n            if (Integer.parseInt(callType) == CallLog.Calls.INCOMING_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.incoming_call));\r\n            if (Integer.parseInt(callType) == CallLog.Calls.MISSED_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.missed_call));\r\n            if (Integer.parseInt(callType) == CallLog.Calls.ANSWERED_EXTERNALLY_TYPE)\r\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.call_received));\r\n        }else if (type==&quot;contact&quot;) {\r\n            holder.txtTimestamp.setVisibility(View.GONE);\r\n            holder.imgCallType.setVisibility(View.GONE);\r\n            holder.imgDelete.setVisibility(View.GONE);\r\n        }else if (type==&quot;favourite&quot;){\r\n            holder.txtTimestamp.setVisibility(View.GONE);\r\n            holder.imgCallType.setVisibility(View.GONE);\r\n        }\r\n\r\n//        listener\r\n        Bitmap finalBitmap = imgBitmap;\r\n        holder.imgPic.setOnLongClickListener(view -&gt; {\r\n            CustomDialog imageDialog = new CustomDialog(activity,R.layout.image_dialog,&quot;&quot;,&quot;&quot;,&quot;&quot;, finalBitmap);\r\n            imageDialog.setCancelable(true);\r\n            imageDialog.show();\r\n            return false;\r\n        });\r\n        holder.itemView.setOnLongClickListener(view-&gt;{\r\n            if (type==&quot;dialer&quot;){\r\n\r\n            }else if (type==&quot;contact&quot;){\r\n                Intent intent = new Intent(context, ContactDetailsActivity.class);\r\n                intent.putExtra(&quot;id&quot;,list.get(position).get(Constants.ID));\r\n                context.startActivity(intent);\r\n            }else if (type==&quot;favourite&quot;){\r\n                Intent intent = new Intent(context, FavouriteContactDetailsActivity.class);\r\n                intent.putExtra(Constants.FAVOURITE_ID,list.get(position).get(Constants.FAVOURITE_ID));\r\n                intent.putExtra(Constants.ID,list.get(position).get(Constants.ID));\r\n                ActivityOptions anim = ActivityOptions.makeSceneTransitionAnimation(activity);\r\n                context.startActivity(intent, anim.toBundle());\r\n            }\r\n            return false;\r\n        });\r\n\r\n        holder.imgDelete.setOnClickListener(v-&gt;{\r\n            SqliteFavourite sqliteFavourite = new SqliteFavourite(context.getApplicationContext());\r\n            boolean check = sqliteFavourite.deleteData(&quot;&quot;,list.get(position).get(Constants.ID));\r\n            if (check)\r\n                Snackbar.make(v,&quot;Successfully deleted&quot;,Snackbar.LENGTH_SHORT).show();\r\n            else Snackbar.make(v,&quot;Error occurred when deleting&quot;,Snackbar.LENGTH_SHORT).show();\r\n        });\r\n\r\n        holder.itemView.setOnClickListener(view-&gt;{\r\n              call(activity,phoneNumber);\r\n        });\r\n```\r\n\r\nI was using these code in an adapter. \r\n```java\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView txtContactName,txtContactNumber,txtTimestamp;\r\n        ImageView imgPic,imgCallType,imgDelete;\r\n        ConstraintLayout contactItem;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtContactName = itemView.findViewById(R.id.txtName);\r\n            txtContactNumber = itemView.findViewById(R.id.txtContactNumber);\r\n            txtTimestamp = itemView.findViewById(R.id.txtTimestamp);\r\n            imgPic = itemView.findViewById(R.id.imgContact);\r\n            imgCallType = itemView.findViewById(R.id.imgCallType);\r\n            contactItem = itemView.findViewById(R.id.contactItem);\r\n            imgDelete = itemView.findViewById(R.id.imgDeleteContact);\r\n        }\r\n    }\r\n```\r\nWhenever I am clicking on first or second item then I can hear the clickListener. But when I click on 3rd 4th or higher item then I can&#39;t hear the clickListener. Even I had set a selector there but the selector is only working for 1st and 2nd\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;5dp&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/contactItem&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/selector&quot;\r\n            android:clickable=&quot;true&quot;&gt;\r\n\r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=&quot;@+id/imgContact&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:src=&quot;@drawable/user_profile&quot;\r\n                app:civ_border_color=&quot;#FF000000&quot;\r\n                app:civ_border_width=&quot;2dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtName&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:text=&quot;Name&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/txtContactNumber&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/imgCallType&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtContactNumber&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:text=&quot;Contact Number&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@id/txtTimestamp&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/imgCallType&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/txtName&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtTimestamp&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:text=&quot;TextView&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/txtContactNumber&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/txtContactNumber&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgCallType&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:src=&quot;@drawable/call_received&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgDeleteContact&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/selector&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:srcCompat=&quot;@android:drawable/ic_menu_delete&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nWhen I scroll down then I can hear the listener but whenever I am on top at that layout then I can&#39;t access the listener in 3rd or more. Why it&#39;s happening? I am not getting any error in logcat. Although I can&#39;t click on some items why? I had tried to use `holder.contactItem.setOn....`  but it wasn&#39;t working also.\r\n\r\n&lt;hr/&gt;\r\n\r\nWhen I scroll down I can listen the click. But whenever I am at top I can&#39;t listen. But I wonder I can click on Image. I meant `holder.imgPic.setOnLongClickListener.....`.\r\n\r\n&lt;hr/&gt;\r\n\r\nI have set `onTouchListener` to `itemView` but it&#39;s working. It&#39;s only not working for onCLickListener and onLongClickListener (As I said earlier it&#39;s working when I scroll down). \r\n\r\n&lt;hr/&gt;\r\n\r\nI have tried \r\n\r\n```xml\r\nandroid:focusable=&quot;false&quot;\r\nandroid:clickable=&quot;false&quot;\r\nandroid:longClickable=&quot;false&quot;\r\n```\r\n\r\nalthough I was facing the same issue. I had used them in Constraint Layout which I declared as `contactItem`. Then I had tried `holder.contactItem` instead of `holder.itemView`","title":"Why some items aren&#39;t clickable in RecyclerView?","body":"<pre class=\"lang-java prettyprint-override\"><code>\n        if (type==&quot;dialer&quot;) {\n            String timestamp = list.get(position).get(Constants.DATE);\n            holder.txtTimestamp.setVisibility(View.VISIBLE);\n            holder.imgDelete.setVisibility(View.GONE);\n            holder.txtTimestamp.setText(getDate(Long.parseLong(timestamp),&quot;dd/MM/yyyy hh:mm:ss&quot;));\n\n            if (Integer.parseInt(callType) == CallLog.Calls.BLOCKED_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.block));\n            if (Integer.parseInt(callType) == CallLog.Calls.BLOCKED_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.rejected));\n            if (Integer.parseInt(callType) == CallLog.Calls.OUTGOING_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.outgoing_call));\n            if (Integer.parseInt(callType) == CallLog.Calls.INCOMING_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.incoming_call));\n            if (Integer.parseInt(callType) == CallLog.Calls.MISSED_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.missed_call));\n            if (Integer.parseInt(callType) == CallLog.Calls.ANSWERED_EXTERNALLY_TYPE)\n                holder.imgCallType.setImageDrawable(context.getResources().getDrawable(R.drawable.call_received));\n        }else if (type==&quot;contact&quot;) {\n            holder.txtTimestamp.setVisibility(View.GONE);\n            holder.imgCallType.setVisibility(View.GONE);\n            holder.imgDelete.setVisibility(View.GONE);\n        }else if (type==&quot;favourite&quot;){\n            holder.txtTimestamp.setVisibility(View.GONE);\n            holder.imgCallType.setVisibility(View.GONE);\n        }\n\n//        listener\n        Bitmap finalBitmap = imgBitmap;\n        holder.imgPic.setOnLongClickListener(view -&gt; {\n            CustomDialog imageDialog = new CustomDialog(activity,R.layout.image_dialog,&quot;&quot;,&quot;&quot;,&quot;&quot;, finalBitmap);\n            imageDialog.setCancelable(true);\n            imageDialog.show();\n            return false;\n        });\n        holder.itemView.setOnLongClickListener(view-&gt;{\n            if (type==&quot;dialer&quot;){\n\n            }else if (type==&quot;contact&quot;){\n                Intent intent = new Intent(context, ContactDetailsActivity.class);\n                intent.putExtra(&quot;id&quot;,list.get(position).get(Constants.ID));\n                context.startActivity(intent);\n            }else if (type==&quot;favourite&quot;){\n                Intent intent = new Intent(context, FavouriteContactDetailsActivity.class);\n                intent.putExtra(Constants.FAVOURITE_ID,list.get(position).get(Constants.FAVOURITE_ID));\n                intent.putExtra(Constants.ID,list.get(position).get(Constants.ID));\n                ActivityOptions anim = ActivityOptions.makeSceneTransitionAnimation(activity);\n                context.startActivity(intent, anim.toBundle());\n            }\n            return false;\n        });\n\n        holder.imgDelete.setOnClickListener(v-&gt;{\n            SqliteFavourite sqliteFavourite = new SqliteFavourite(context.getApplicationContext());\n            boolean check = sqliteFavourite.deleteData(&quot;&quot;,list.get(position).get(Constants.ID));\n            if (check)\n                Snackbar.make(v,&quot;Successfully deleted&quot;,Snackbar.LENGTH_SHORT).show();\n            else Snackbar.make(v,&quot;Error occurred when deleting&quot;,Snackbar.LENGTH_SHORT).show();\n        });\n\n        holder.itemView.setOnClickListener(view-&gt;{\n              call(activity,phoneNumber);\n        });\n</code></pre>\n<p>I was using these code in an adapter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return position;\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView txtContactName,txtContactNumber,txtTimestamp;\n        ImageView imgPic,imgCallType,imgDelete;\n        ConstraintLayout contactItem;\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            txtContactName = itemView.findViewById(R.id.txtName);\n            txtContactNumber = itemView.findViewById(R.id.txtContactNumber);\n            txtTimestamp = itemView.findViewById(R.id.txtTimestamp);\n            imgPic = itemView.findViewById(R.id.imgContact);\n            imgCallType = itemView.findViewById(R.id.imgCallType);\n            contactItem = itemView.findViewById(R.id.contactItem);\n            imgDelete = itemView.findViewById(R.id.imgDeleteContact);\n        }\n    }\n</code></pre>\n<p>Whenever I am clicking on first or second item then I can hear the clickListener. But when I click on 3rd 4th or higher item then I can't hear the clickListener. Even I had set a selector there but the selector is only working for 1st and 2nd</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;5dp&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/contactItem&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/selector&quot;\n            android:clickable=&quot;true&quot;&gt;\n\n            &lt;de.hdodenhof.circleimageview.CircleImageView\n                android:id=&quot;@+id/imgContact&quot;\n                android:layout_width=&quot;50dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_alignParentTop=&quot;true&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:src=&quot;@drawable/user_profile&quot;\n                app:civ_border_color=&quot;#FF000000&quot;\n                app:civ_border_width=&quot;2dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txtName&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:text=&quot;Name&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/txtContactNumber&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/imgCallType&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txtContactNumber&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:text=&quot;Contact Number&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@id/txtTimestamp&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/imgCallType&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/txtName&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txtTimestamp&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:text=&quot;TextView&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/txtContactNumber&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/imgContact&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/txtContactNumber&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imgCallType&quot;\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:src=&quot;@drawable/call_received&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imgDeleteContact&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/selector&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@android:drawable/ic_menu_delete&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>When I scroll down then I can hear the listener but whenever I am on top at that layout then I can't access the listener in 3rd or more. Why it's happening? I am not getting any error in logcat. Although I can't click on some items why? I had tried to use <code>holder.contactItem.setOn....</code>  but it wasn't working also.</p>\n<hr/>\n<p>When I scroll down I can listen the click. But whenever I am at top I can't listen. But I wonder I can click on Image. I meant <code>holder.imgPic.setOnLongClickListener.....</code>.</p>\n<hr/>\n<p>I have set <code>onTouchListener</code> to <code>itemView</code> but it's working. It's only not working for onCLickListener and onLongClickListener (As I said earlier it's working when I scroll down).</p>\n<hr/>\n<p>I have tried</p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:focusable=&quot;false&quot;\nandroid:clickable=&quot;false&quot;\nandroid:longClickable=&quot;false&quot;\n</code></pre>\n<p>although I was facing the same issue. I had used them in Constraint Layout which I declared as <code>contactItem</code>. Then I had tried <code>holder.contactItem</code> instead of <code>holder.itemView</code></p>\n"},{"tags":["java","spring-boot","threadpool"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632990301,"post_id":69388694,"comment_id":122643856,"body_markdown":"Note that the sequence numbers in the thread names do not necessarily mean there are 255 active threads at the moment. Your application could have been creating and removing threads all the time and each new thread would get a new id to make it unique (especially helpful for logging).","body":"Note that the sequence numbers in the thread names do not necessarily mean there are 255 active threads at the moment. Your application could have been creating and removing threads all the time and each new thread would get a new id to make it unique (especially helpful for logging)."},{"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"score":0,"creation_date":1632990886,"post_id":69388694,"comment_id":122644122,"body_markdown":"@Thomas But I have scene thread number repeat in some applications upto core or max pool size.","body":"@Thomas But I have scene thread number repeat in some applications upto core or max pool size."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632991188,"post_id":69388694,"comment_id":122644259,"body_markdown":"Well, it depends on the pool settings and usage. In your case any thread that&#39;s idle for 5 seconds will be terminated (until only 5 core threads remain) and if there are more tasks coming in the executor might create new threads. In other cases threads might not be idle for long enough and thus they aren&#39;t terminated.","body":"Well, it depends on the pool settings and usage. In your case any thread that&#39;s idle for 5 seconds will be terminated (until only 5 core threads remain) and if there are more tasks coming in the executor might create new threads. In other cases threads might not be idle for long enough and thus they aren&#39;t terminated."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632991480,"post_id":69388694,"comment_id":122644408,"body_markdown":"You could also have a look at `CustomizableThreadCreator` which is a super class of `ThreadPoolTaskExecutor`. It has a field `threadCount` which is only ever incremented if a new thread name is needed, i.e. that&#39;s the behavior I described in my first comment. `threadCount` doesn&#39;t mean &quot;number of active threads&quot; but &quot;number of created threads&quot; (the class is called `...ThreadCreator` after all).","body":"You could also have a look at <code>CustomizableThreadCreator</code> which is a super class of <code>ThreadPoolTaskExecutor</code>. It has a field <code>threadCount</code> which is only ever incremented if a new thread name is needed, i.e. that&#39;s the behavior I described in my first comment. <code>threadCount</code> doesn&#39;t mean &quot;number of active threads&quot; but &quot;number of created threads&quot; (the class is called <code>...ThreadCreator</code> after all)."}],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632989956,"creation_date":1632989956,"question_id":69388694,"body_markdown":"  in Springboot application Thread count is growing than configured threadpool size. is the any reason for that  \r\n    \r\n\r\n    2021-09-30 13:45:25.595  INFO 21960 --- [  executor2-243] com.example.demo.Service2                \r\n    2021-09-30 13:45:25.595  INFO 21960 --- [  executor2-255] com.example.demo.Service2 \r\n\r\nFolwing is the thread pool configs\r\n\r\n    @Bean\r\n\t    public ThreadPoolTaskExecutor executor2() {\r\n\t        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\r\n\t        threadPoolTaskExecutor.setCorePoolSize(5);\r\n\t        threadPoolTaskExecutor.setMaxPoolSize(20);\r\n\t        threadPoolTaskExecutor.setQueueCapacity(1);\r\n\t        threadPoolTaskExecutor.setKeepAliveSeconds(5);\r\n\t        threadPoolTaskExecutor.initialize();\r\n\t        return threadPoolTaskExecutor;\r\n\t    }","title":"Thread poll count in log exceed than pool size","body":"<p>in Springboot application Thread count is growing than configured threadpool size. is the any reason for that</p>\n<pre><code>2021-09-30 13:45:25.595  INFO 21960 --- [  executor2-243] com.example.demo.Service2                \n2021-09-30 13:45:25.595  INFO 21960 --- [  executor2-255] com.example.demo.Service2 \n</code></pre>\n<p>Folwing is the thread pool configs</p>\n<pre><code>@Bean\n    public ThreadPoolTaskExecutor executor2() {\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\n        threadPoolTaskExecutor.setCorePoolSize(5);\n        threadPoolTaskExecutor.setMaxPoolSize(20);\n        threadPoolTaskExecutor.setQueueCapacity(1);\n        threadPoolTaskExecutor.setKeepAliveSeconds(5);\n        threadPoolTaskExecutor.initialize();\n        return threadPoolTaskExecutor;\n    }\n</code></pre>\n"},{"tags":["java","search","replace","eclipse-rcp","nattable"],"comments":[{"owner":{"account_id":432301,"reputation":521,"user_id":816977,"display_name":"fredrik"},"score":0,"creation_date":1643988457,"post_id":69386979,"comment_id":125492858,"body_markdown":"@SiddhartKoul were you able to implement search/replace? I&#39;m about to do it so interested in ideas.","body":"@SiddhartKoul were you able to implement search/replace? I&#39;m about to do it so interested in ideas."},{"owner":{"account_id":22805253,"reputation":15,"user_id":16957372,"display_name":"Siddharth Koul"},"score":0,"creation_date":1659932463,"post_id":69386979,"comment_id":129403799,"body_markdown":"@fredrik Yes I was able to implement replace. You can do a Regex replace in the table for all the cells with the matching string.\nCheck this out for replace https://www.javatpoint.com/java-string-replaceall","body":"@fredrik Yes I was able to implement replace. You can do a Regex replace in the table for all the cells with the matching string. Check this out for replace <a href=\"https://www.javatpoint.com/java-string-replaceall\" rel=\"nofollow noreferrer\">javatpoint.com/java-string-replaceall</a>"}],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632989873,"creation_date":1632989873,"answer_id":69388670,"question_id":69386979,"body_markdown":"NatTable has a search function already included. The according search dialog can be opened via CTRL + F. It has no replace function included. But replacing actually means to change/edit/update cell content.","title":"Nattable: Search and Replace functionality","body":"<p>NatTable has a search function already included. The according search dialog can be opened via CTRL + F. It has no replace function included. But replacing actually means to change/edit/update cell content.</p>\n"}],"owner":{"account_id":22805253,"reputation":15,"user_id":16957372,"display_name":"Siddharth Koul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69388670,"answer_count":1,"score":0,"last_activity_date":1632989873,"creation_date":1632982017,"question_id":69386979,"body_markdown":"I&#39;m trying to implement Search and Replace on Nattable. How can it be done? Is there any existing API or solution for the same?","title":"Nattable: Search and Replace functionality","body":"<p>I'm trying to implement Search and Replace on Nattable. How can it be done? Is there any existing API or solution for the same?</p>\n"},{"tags":["java","spring-boot","jpa","dependency-injection"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632989605,"post_id":69388539,"comment_id":122643575,"body_markdown":"I can&#39;t give a definite answer but think about order: your main method is the _entry point_ into the application and `SpringApplication.run()` will be starting Spring and any autowiring that comes with it. However, field `F` is static and already initialized when class `A` is loaded (which must happen before `main()` can be executed). Also note that autowiring on static fields isn&#39;t generally supported (at least to my knowledge).","body":"I can&#39;t give a definite answer but think about order: your main method is the <i>entry point</i> into the application and <code>SpringApplication.run()</code> will be starting Spring and any autowiring that comes with it. However, field <code>F</code> is static and already initialized when class <code>A</code> is loaded (which must happen before <code>main()</code> can be executed). Also note that autowiring on static fields isn&#39;t generally supported (at least to my knowledge)."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632989707,"post_id":69388539,"comment_id":122643622,"body_markdown":"You cannot autowire static fields, this has been answered in the other question (or the comments) of the duplicate question as well. More info also on https://deinum.biz/2020-07-03-Autowired-Field-Null.","body":"You cannot autowire static fields, this has been answered in the other question (or the comments) of the duplicate question as well. More info also on <a href=\"https://deinum.biz/2020-07-03-Autowired-Field-Null\" rel=\"nofollow noreferrer\">deinum.biz/2020-07-03-Autowired-Field-Null</a>."},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1632991236,"post_id":69388539,"comment_id":122644281,"body_markdown":"Thank you. I was not aware of the static field limitation.","body":"Thank you. I was not aware of the static field limitation."}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632989650,"answer_count":0,"score":0,"last_activity_date":1632989355,"creation_date":1632989355,"question_id":69388539,"body_markdown":"I am sorry for asking a stupid question and you may delete it later if you find it too stupid, but I want to know why dependency injection in Spring Boot is not working inside ```main``` method? This is my first spring boot project at my job as entry level junior programmer so that is probably the reason why this question is so stupid. Anyway, I have been tasked with developing a data access repository for a table in a database by using spring boot and jpa.\r\nSo I created jpa class (E), which, for simplicity i shortened and let us say my jpa class is as follows:\r\n```\r\npackage P;\r\n@javax.persistence.Entity()\r\npublic class E\r\n{\r\n\t@javax.persistence.Id()\r\n\tprivate int I;\r\n}\r\n```\r\nSo, nothing special, as basic jpa entity as possible.\r\nNext, I defined repository for this entity (R) and simplified it as follows:\r\n```\r\npackage P;\r\npublic interface R extends org.springframework.data.repository.PagingAndSortingRepository&lt;P.E, Integer&gt;{}\r\n```\r\nNow the good part: Spring boot documentation says that the repository implementation can be autogenerated by using dependency injection. So I tried to test this with the following class (A), which I shortened here for simplicity:\r\n```\r\npackage P;\r\n@org.springframework.boot.autoconfigure.SpringBootApplication()\r\npublic class A\r\n{\r\n\t@org.springframework.beans.factory.annotation.Autowired()\r\n\tstatic P.R F;\r\n\tpublic static void main(java.lang.String[] U)\r\n\t{\r\n\t\torg.springframework.boot.SpringApplication.run(P.A.class, &quot;&quot;);\r\n\t\tSystem.out.println(P.A.F);\r\n\t}\r\n}\r\n```\r\nSo, the class ```A``` is the main class which starts spring boot application. What I would like to do here is to manage my database inside the ```main``` method. I wanted to use the dependency injection for my repository interface ```R```, so I declared static field (F) in ```A``` class and annotated it with ```Autowired``` in order to trigger the injection. In ideal case, what I would expect to happen after I ran Spring Boot in my ```main``` method (by calling ```run()```) is that ```F``` field of my main class would be injected with the repository class ```R``` so that I could continue working with data base in my main method. However it is not. ```println``` method prints ```null```.\r\n\r\nNow, my question is not &quot;what did I do wrong&quot;, I know that. I found on a lot of places on Internet that I can not use a dependency injection directly in the ```main``` method, but that I instead need to make a Bean. So, for example, I could add the following method (M) in my main class:\r\n```\r\n\t@org.springframework.context.annotation.Bean\r\n\tpublic boolean M(P.R R)\r\n\t{\r\n\t\tSystem.out.println(R);\r\n\t\treturn true;\r\n\t}\r\n```\r\nand this would work just fine, it would inject the repository after I annotate it with ```Bean``` in order to trigger injection. But this is called from inside the ```run()``` method in my main method, so, if I use this approach, I can not do anygthing inside my ```main``` method. Whole job which my application does needs to be done inside one or more Beans. At least job which requires the dependency injection. I can do other stuff in the ```main``` method before and after I run the Spring Boot, but not anything for what I need dependency injection.\r\n\r\n\r\nSo, my qestion here is why spring boot can not inject the repository in my ```main``` method, that is, outside of a Bean?\r\nI would not say anything if I called ```println``` before the ```run``` in my main method. Then of course, ```F``` field would be ```null``` since Spring Boot did not start yet. But after it starts, I would like it to inject the repository in the ```F``` field and that repository stays injected after ```run``` method returns so that I can work with it inside the ```main``` method without having to create Beans.\r\n\r\nI know that I have to use Beans, just, I want to know what is the reason for it not working in the ```main``` method as well. Thank you.","title":"Why is Spring Boot dependency injection not working in main method?","body":"<p>I am sorry for asking a stupid question and you may delete it later if you find it too stupid, but I want to know why dependency injection in Spring Boot is not working inside <code>main</code> method? This is my first spring boot project at my job as entry level junior programmer so that is probably the reason why this question is so stupid. Anyway, I have been tasked with developing a data access repository for a table in a database by using spring boot and jpa.\nSo I created jpa class (E), which, for simplicity i shortened and let us say my jpa class is as follows:</p>\n<pre><code>package P;\n@javax.persistence.Entity()\npublic class E\n{\n    @javax.persistence.Id()\n    private int I;\n}\n</code></pre>\n<p>So, nothing special, as basic jpa entity as possible.\nNext, I defined repository for this entity (R) and simplified it as follows:</p>\n<pre><code>package P;\npublic interface R extends org.springframework.data.repository.PagingAndSortingRepository&lt;P.E, Integer&gt;{}\n</code></pre>\n<p>Now the good part: Spring boot documentation says that the repository implementation can be autogenerated by using dependency injection. So I tried to test this with the following class (A), which I shortened here for simplicity:</p>\n<pre><code>package P;\n@org.springframework.boot.autoconfigure.SpringBootApplication()\npublic class A\n{\n    @org.springframework.beans.factory.annotation.Autowired()\n    static P.R F;\n    public static void main(java.lang.String[] U)\n    {\n        org.springframework.boot.SpringApplication.run(P.A.class, &quot;&quot;);\n        System.out.println(P.A.F);\n    }\n}\n</code></pre>\n<p>So, the class <code>A</code> is the main class which starts spring boot application. What I would like to do here is to manage my database inside the <code>main</code> method. I wanted to use the dependency injection for my repository interface <code>R</code>, so I declared static field (F) in <code>A</code> class and annotated it with <code>Autowired</code> in order to trigger the injection. In ideal case, what I would expect to happen after I ran Spring Boot in my <code>main</code> method (by calling <code>run()</code>) is that <code>F</code> field of my main class would be injected with the repository class <code>R</code> so that I could continue working with data base in my main method. However it is not. <code>println</code> method prints <code>null</code>.</p>\n<p>Now, my question is not &quot;what did I do wrong&quot;, I know that. I found on a lot of places on Internet that I can not use a dependency injection directly in the <code>main</code> method, but that I instead need to make a Bean. So, for example, I could add the following method (M) in my main class:</p>\n<pre><code>    @org.springframework.context.annotation.Bean\n    public boolean M(P.R R)\n    {\n        System.out.println(R);\n        return true;\n    }\n</code></pre>\n<p>and this would work just fine, it would inject the repository after I annotate it with <code>Bean</code> in order to trigger injection. But this is called from inside the <code>run()</code> method in my main method, so, if I use this approach, I can not do anygthing inside my <code>main</code> method. Whole job which my application does needs to be done inside one or more Beans. At least job which requires the dependency injection. I can do other stuff in the <code>main</code> method before and after I run the Spring Boot, but not anything for what I need dependency injection.</p>\n<p>So, my qestion here is why spring boot can not inject the repository in my <code>main</code> method, that is, outside of a Bean?\nI would not say anything if I called <code>println</code> before the <code>run</code> in my main method. Then of course, <code>F</code> field would be <code>null</code> since Spring Boot did not start yet. But after it starts, I would like it to inject the repository in the <code>F</code> field and that repository stays injected after <code>run</code> method returns so that I can work with it inside the <code>main</code> method without having to create Beans.</p>\n<p>I know that I have to use Beans, just, I want to know what is the reason for it not working in the <code>main</code> method as well. Thank you.</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1632988113,"post_id":69388070,"comment_id":122642973,"body_markdown":"@greg-449 thanks! The issue in my case is that I can&#39;t stop redrawing, and -that- causes flickering of a Nebula grid&#39;s cells.","body":"@greg-449 thanks! The issue in my case is that I can&#39;t stop redrawing, and -that- causes flickering of a Nebula grid&#39;s cells."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1632988540,"post_id":69388070,"comment_id":122643144,"body_markdown":"The Javadoc says &quot;Nested calls to this method are stacked&quot; I think it means this drawCount code.","body":"The Javadoc says &quot;Nested calls to this method are stacked&quot; I think it means this drawCount code."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1632988745,"post_id":69388070,"comment_id":122643230,"body_markdown":"@greg-449 so basically nested setRedraws are a big no-no. I think it&#39;s difficult to avoid stacking this type of request as you never know what the code above or below you does.","body":"@greg-449 so basically nested setRedraws are a big no-no. I think it&#39;s difficult to avoid stacking this type of request as you never know what the code above or below you does."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632989311,"creation_date":1632989311,"answer_id":69388524,"question_id":69388070,"body_markdown":"The Javadoc for `setRedraw` says\r\n\r\n&gt; Nested calls to this method are stacked\r\n\r\nThe drawCount code is doing this.\r\n\r\nThis will be to allow code to call `setRedraw(false)` and then call other code which turns redraw on/off without the nested setRedraw calls turning drawing on again prematurely.","title":"SWT Control setRedraw behavior","body":"<p>The Javadoc for <code>setRedraw</code> says</p>\n<blockquote>\n<p>Nested calls to this method are stacked</p>\n</blockquote>\n<p>The drawCount code is doing this.</p>\n<p>This will be to allow code to call <code>setRedraw(false)</code> and then call other code which turns redraw on/off without the nested setRedraw calls turning drawing on again prematurely.</p>\n"}],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69388524,"answer_count":1,"score":0,"last_activity_date":1632989311,"creation_date":1632987363,"question_id":69388070,"body_markdown":"Experimenting on Windows with SWT `Control#setRedraw`, I&#39;ve seen the `WM_SETREDRAW` is not always sent.\r\n\r\nThe OS message to stop/start redrawing is guarded by a variable `drawCount`.  \r\nThat seems to mean if I do the following:\r\n\r\n    control.setRedraw(true);  // drawCount: -1\r\n    control.setRedraw(true);  // drawCount: -2\r\n    control.setRedraw(true);  // drawCount: -3\r\n    control.setRedraw(false); // drawCount: -2\r\n\r\nthen `WM_SETREDRAW: 0` is never sent.  \r\nI don&#39;t get it. Why is this?\r\n\r\nThe relevant piece of code:\r\n\r\n    public void setRedraw (boolean redraw) {\r\n    \tcheckWidget ();\r\n    \r\n    \tif (drawCount == 0) {\r\n    \t\tint bits = OS.GetWindowLong (handle, OS.GWL_STYLE);\r\n    \t\tif ((bits &amp; OS.WS_VISIBLE) == 0) state |= HIDDEN;\r\n    \t}\r\n    \tif (redraw) {\r\n    \t\tif (--drawCount == 0) {\r\n    \t\t\tlong topHandle = topHandle ();\r\n    \t\t\tOS.SendMessage (topHandle, OS.WM_SETREDRAW, 1, 0);\r\n    \t\t\tif (handle != topHandle) OS.SendMessage (handle, OS.WM_SETREDRAW, 1, 0);\r\n    \t\t\tif ((state &amp; HIDDEN) != 0) {\r\n    \t\t\t\tstate &amp;= ~HIDDEN;\r\n    \t\t\t\tOS.ShowWindow (topHandle, OS.SW_HIDE);\r\n    \t\t\t\tif (handle != topHandle) OS.ShowWindow (handle, OS.SW_HIDE);\r\n    \t\t\t} else {\r\n    \t\t\t\tint flags = OS.RDW_ERASE | OS.RDW_FRAME | OS.RDW_INVALIDATE | OS.RDW_ALLCHILDREN;\r\n    \t\t\t\tOS.RedrawWindow (topHandle, null, 0, flags);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} else {\r\n    \t\tif (drawCount++ == 0) {\r\n    \t\t\tlong topHandle = topHandle ();\r\n    \t\t\tOS.SendMessage (topHandle, OS.WM_SETREDRAW, 0, 0);\r\n    \t\t\tif (handle != topHandle) OS.SendMessage (handle, OS.WM_SETREDRAW, 0, 0);\r\n    \t\t}\r\n    \t}\r\n    }","title":"SWT Control setRedraw behavior","body":"<p>Experimenting on Windows with SWT <code>Control#setRedraw</code>, I've seen the <code>WM_SETREDRAW</code> is not always sent.</p>\n<p>The OS message to stop/start redrawing is guarded by a variable <code>drawCount</code>.<br />\nThat seems to mean if I do the following:</p>\n<pre><code>control.setRedraw(true);  // drawCount: -1\ncontrol.setRedraw(true);  // drawCount: -2\ncontrol.setRedraw(true);  // drawCount: -3\ncontrol.setRedraw(false); // drawCount: -2\n</code></pre>\n<p>then <code>WM_SETREDRAW: 0</code> is never sent.<br />\nI don't get it. Why is this?</p>\n<p>The relevant piece of code:</p>\n<pre><code>public void setRedraw (boolean redraw) {\n    checkWidget ();\n\n    if (drawCount == 0) {\n        int bits = OS.GetWindowLong (handle, OS.GWL_STYLE);\n        if ((bits &amp; OS.WS_VISIBLE) == 0) state |= HIDDEN;\n    }\n    if (redraw) {\n        if (--drawCount == 0) {\n            long topHandle = topHandle ();\n            OS.SendMessage (topHandle, OS.WM_SETREDRAW, 1, 0);\n            if (handle != topHandle) OS.SendMessage (handle, OS.WM_SETREDRAW, 1, 0);\n            if ((state &amp; HIDDEN) != 0) {\n                state &amp;= ~HIDDEN;\n                OS.ShowWindow (topHandle, OS.SW_HIDE);\n                if (handle != topHandle) OS.ShowWindow (handle, OS.SW_HIDE);\n            } else {\n                int flags = OS.RDW_ERASE | OS.RDW_FRAME | OS.RDW_INVALIDATE | OS.RDW_ALLCHILDREN;\n                OS.RedrawWindow (topHandle, null, 0, flags);\n            }\n        }\n    } else {\n        if (drawCount++ == 0) {\n            long topHandle = topHandle ();\n            OS.SendMessage (topHandle, OS.WM_SETREDRAW, 0, 0);\n            if (handle != topHandle) OS.SendMessage (handle, OS.WM_SETREDRAW, 0, 0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","hql","hibernate3"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1515154677,"post_id":48113416,"comment_id":83202573,"body_markdown":"are they mapped with ManyToOne etc?","body":"are they mapped with ManyToOne etc?"},{"owner":{"account_id":5011473,"reputation":41,"user_id":4027631,"display_name":"Vishal Mittal"},"score":0,"creation_date":1515155309,"post_id":48113416,"comment_id":83202939,"body_markdown":"@MaciejKowalski No But EmployeeTO Table contains all EmployeeID whereas  AddressTO table contains some EmployeeID which also present into the EmployeeTO","body":"@MaciejKowalski No But EmployeeTO Table contains all EmployeeID whereas  AddressTO table contains some EmployeeID which also present into the EmployeeTO"},{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1515408887,"post_id":48113416,"comment_id":83275799,"body_markdown":"Instead of ON use WITH clause","body":"Instead of ON use WITH clause"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515154606,"creation_date":1515154606,"answer_id":48113476,"question_id":48113416,"body_markdown":"There is no `ON` clause in an HQL join:\r\n\r\n    from EmployeeTO e\r\n    left join e.addressTO\r\n\r\nThis assumes that your `Employee` entity class has an `AddressTO` field called `addressTO`.","title":"Use LEFT JOIN between two table in HQL","body":"<p>There is no <code>ON</code> clause in an HQL join:</p>\n\n<pre><code>from EmployeeTO e\nleft join e.addressTO\n</code></pre>\n\n<p>This assumes that your <code>Employee</code> entity class has an <code>AddressTO</code> field called <code>addressTO</code>.</p>\n"}],"owner":{"account_id":5011473,"reputation":41,"user_id":4027631,"display_name":"Vishal Mittal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632989116,"creation_date":1515154352,"question_id":48113416,"body_markdown":"I have two [POJO][1] classes. One is EmployeeTO and another one is AddressTO.\r\n\r\nEmployeeTO has one variable with name EmployeeId and AddressTO also has one variable with name EmployeeId. I want to apply a left join between EmployeeTO&#39;s EmployeeId and AddressTO&#39;s EmployeeId using HQL.\r\n\r\nI used the following query.\r\n\r\n    from EmployeeTO employeeTO LEFT JOIN AddressTO addressTO ON employeeTO .EmployeeId=addressTO.EmployeeId\r\n\r\nBut it shows an error:\r\n\r\n&gt; line 1:139: unexpected token: ON\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n","title":"Use LEFT JOIN between two table in HQL","body":"<p>I have two <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> classes. One is EmployeeTO and another one is AddressTO.</p>\n<p>EmployeeTO has one variable with name EmployeeId and AddressTO also has one variable with name EmployeeId. I want to apply a left join between EmployeeTO's EmployeeId and AddressTO's EmployeeId using HQL.</p>\n<p>I used the following query.</p>\n<pre><code>from EmployeeTO employeeTO LEFT JOIN AddressTO addressTO ON employeeTO .EmployeeId=addressTO.EmployeeId\n</code></pre>\n<p>But it shows an error:</p>\n<blockquote>\n<p>line 1:139: unexpected token: ON</p>\n</blockquote>\n"},{"tags":["java","maven","groovy","apache-nifi","maven-plugin"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1621269383,"post_id":67570165,"comment_id":119439115,"body_markdown":"maybe the reason that bintray is going to be closed... https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/","body":"maybe the reason that bintray is going to be closed... <a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"nofollow noreferrer\">jfrog.com/blog/&hellip;</a>"},{"owner":{"account_id":5462770,"reputation":586,"user_id":4344323,"accept_rate":71,"display_name":"Kaviranga"},"score":0,"creation_date":1622787502,"post_id":67570165,"comment_id":119896368,"body_markdown":"This the way to build custom nifi processors ,[Build a Custom NiFi processor](https://community.cloudera.com/t5/Community-Articles/Build-Custom-Nifi-Processor/ta-p/244734)","body":"This the way to build custom nifi processors ,<a href=\"https://community.cloudera.com/t5/Community-Articles/Build-Custom-Nifi-Processor/ta-p/244734\" rel=\"nofollow noreferrer\">Build a Custom NiFi processor</a>"}],"answers":[{"tags":[],"owner":{"account_id":15406677,"reputation":91,"user_id":11114652,"display_name":"Lignaseel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623893763,"creation_date":1622784604,"answer_id":67831930,"question_id":67570165,"body_markdown":"The reason for this error is that the pom&#39;s url is not accessable.\r\n\r\nCurrently, groovy-eclipse-batch-2.5.4-01.pom link is forbidden.(dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom)\r\n\r\nCheck if groovy-eclipse-batch exists in your maven repository.\r\nOr just find a valid version on mvnrepository.com and use it. (https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-eclipse-batch)\r\n\r\nFor example, change version of groovy-eclipse-batch to 2.5.6-01.\r\n\r\nTry adding the following to your parent pom for the bundle project :\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\t\t\t\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\t\t\t\t\t\t\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.5.6-01&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\t\t\t\t\t\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nBefore add the dependency : \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (groovy-tests) on project mytest: Execution groovy-tests of goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile failed: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 -&gt; org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Failed to read artifact descriptor for org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Could not transfer artifact org.codehaus.groovy:groovy-eclipse-batch:pom:2.5.4-01 from/to bintray (https://dl.bintray.com/groovy/maven): Access denied to: https://dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom -&gt; [Help 1]\r\n\r\n\r\n\r\n\r\nAfter add the dependency : \r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for mytest 1.0.0-SNAPSHOT:\r\n    [INFO]\r\n    [INFO] mytest ............................................. SUCCESS [  3.611 s]\r\n    [INFO] nifi-mytestnar-processors .......................... SUCCESS [ 11.278 s]\r\n    [INFO] nifi-mytestnar-nar ................................. SUCCESS [  0.983 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  19.448 s\r\n\r\n","title":"Error during the creating of custom processors apache nifi","body":"<p>The reason for this error is that the pom's url is not accessable.</p>\n<p>Currently, groovy-eclipse-batch-2.5.4-01.pom link is forbidden.(dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom)</p>\n<p>Check if groovy-eclipse-batch exists in your maven repository.\nOr just find a valid version on mvnrepository.com and use it. (<a href=\"https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-eclipse-batch\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-eclipse-batch</a>)</p>\n<p>For example, change version of groovy-eclipse-batch to 2.5.6-01.</p>\n<p>Try adding the following to your parent pom for the bundle project :</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;            \n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;                        \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.6-01&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;                 \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Before add the dependency :</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (groovy-tests) on project mytest: Execution groovy-tests of goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile failed: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 -&gt; org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Failed to read artifact descriptor for org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Could not transfer artifact org.codehaus.groovy:groovy-eclipse-batch:pom:2.5.4-01 from/to bintray (https://dl.bintray.com/groovy/maven): Access denied to: https://dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom -&gt; [Help 1]\n</code></pre>\n<p>After add the dependency :</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for mytest 1.0.0-SNAPSHOT:\n[INFO]\n[INFO] mytest ............................................. SUCCESS [  3.611 s]\n[INFO] nifi-mytestnar-processors .......................... SUCCESS [ 11.278 s]\n[INFO] nifi-mytestnar-nar ................................. SUCCESS [  0.983 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  19.448 s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8068578,"reputation":142,"user_id":6081992,"display_name":"Sateesh Telaprolu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632989084,"creation_date":1632989084,"answer_id":69388478,"question_id":67570165,"body_markdown":"Add the below property to your pom.xml\r\n\r\n        &lt;nifi.groovy.version&gt;2.5.6&lt;/nifi.groovy.version&gt;","title":"Error during the creating of custom processors apache nifi","body":"<p>Add the below property to your pom.xml</p>\n<pre><code>    &lt;nifi.groovy.version&gt;2.5.6&lt;/nifi.groovy.version&gt;\n</code></pre>\n"}],"owner":{"account_id":21626801,"reputation":121,"user_id":15951035,"display_name":"Rafayel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2358,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1632989084,"creation_date":1621256307,"question_id":67570165,"body_markdown":"I tried to build my package with NiFi custom-processor using `mvn clean package` command and I got the following output:\r\n``` \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.794 s\r\n[INFO] Finished at: 2021-05-17T14:33:42+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile \r\n(groovy-tests) on project mycustom-processor: Execution groovy-tests of goal\r\n org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile failed: \r\nPlugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies\r\n could not be resolved: Failed to collect dependencies at \r\norg.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 \r\n-&gt; org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Failed to read artifact descriptor for \r\norg.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Could not transfer artifact\r\n org.codehaus.groovy:groovy-eclipse-batch:pom:2.5.4-01 from/to bintray \r\n(https://dl.bintray.com/groovy/maven): \r\nAccess denied to: https://dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom, \r\nReasonPhrase: Forbidden. -&gt; [Help 1]\r\n[ERROR] \r\n```\r\nDoes anybody know how to handle this issue related to the *maven-compiler-plugin:3.8.1:testCompile*,  please ? \r\nI use Apache NiFi version 1.13.2 and `mvn install -DskipTests` does not change anything. ","title":"Error during the creating of custom processors apache nifi","body":"<p>I tried to build my package with NiFi custom-processor using <code>mvn clean package</code> command and I got the following output:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.794 s\n[INFO] Finished at: 2021-05-17T14:33:42+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile \n(groovy-tests) on project mycustom-processor: Execution groovy-tests of goal\n org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile failed: \nPlugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies\n could not be resolved: Failed to collect dependencies at \norg.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 \n-&gt; org.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Failed to read artifact descriptor for \norg.codehaus.groovy:groovy-eclipse-batch:jar:2.5.4-01: Could not transfer artifact\n org.codehaus.groovy:groovy-eclipse-batch:pom:2.5.4-01 from/to bintray \n(https://dl.bintray.com/groovy/maven): \nAccess denied to: https://dl.bintray.com/groovy/maven/org/codehaus/groovy/groovy-eclipse-batch/2.5.4-01/groovy-eclipse-batch-2.5.4-01.pom, \nReasonPhrase: Forbidden. -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<p>Does anybody know how to handle this issue related to the <em>maven-compiler-plugin:3.8.1:testCompile</em>,  please ?\nI use Apache NiFi version 1.13.2 and <code>mvn install -DskipTests</code> does not change anything.</p>\n"},{"tags":["java","jdbc","commit","oracle19c","autocommit"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1632988059,"post_id":69388115,"comment_id":122642944,"body_markdown":"I&#39;m not an expert on this but from reading the provided link I&#39;d say you should use `setAutoCommit(false)` as per &quot;Users are encouraged to modify their applications to support the specification instead of using this flag.&quot; - From what I understand is that if you set the flag to false, the driver will not throw an exception if you call `rollback()` on a connection that uses auto-commit etc. and I doubt that&#39;s what you want (i.e. the driver being silent about potential errors).","body":"I&#39;m not an expert on this but from reading the provided link I&#39;d say you should use <code>setAutoCommit(false)</code> as per &quot;Users are encouraged to modify their applications to support the specification instead of using this flag.&quot; - From what I understand is that if you set the flag to false, the driver will not throw an exception if you call <code>rollback()</code> on a connection that uses auto-commit etc. and I doubt that&#39;s what you want (i.e. the driver being silent about potential errors)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632988558,"post_id":69388115,"comment_id":122643148,"body_markdown":"If you use `setAutoCommit(false)`, you must also change your application to explicitly call `commit()` or `rollback()` where appropriate. These two options are not equivalent, though personally I would modify my application so it works with JDBC specified behaviour.","body":"If you use <code>setAutoCommit(false)</code>, you must also change your application to explicitly call <code>commit()</code> or <code>rollback()</code> where appropriate. These two options are not equivalent, though personally I would modify my application so it works with JDBC specified behaviour."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632988605,"creation_date":1632988239,"answer_id":69388269,"question_id":69388115,"body_markdown":"From the [documentation](https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html#CONNECTION_PROPERTY_AUTO_COMMIT_SPEC_COMPLIANT) you linked to, changing `oracle.jdbc.autoCommitSpecCompliant`:\r\n\r\n&gt; Alters the auto-commit behavior of the driver. By default the driver complies with JDBC specification. User can choose to alter the behavior by changing the value of this flag.\r\n\r\nWhereas [`connection.setAutoCommit(false);`](https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#setAutoCommit-boolean-):\r\n\r\n&gt; Sets this connection&#39;s auto-commit mode to the given state.\r\n\r\nThis later call only changes a single connection&#39;s auto-commit state and does not change any other connections&#39; auto-commit state; the former changes the default auto-commit behaviour of all future connections.\r\n\r\n&gt; Which one is better.\r\n\r\nNeither, they have different use cases and you should use whichever is most appropriate to your use case.\r\n\r\nIf you have multiple connections that all need to not auto-commit as their default behaviour then you could set the value on the driver. (Do not do this if you have connections with a mix of auto-commit states, especially if some applications are relying on the default state when auto-commit is true.)\r\n\r\nIf you want to handle the connections individually then set the state on each connection.","title":"oracle.jdbc.autoCommitSpecCompliant VS setAutoCommit(false)","body":"<p>From the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html#CONNECTION_PROPERTY_AUTO_COMMIT_SPEC_COMPLIANT\" rel=\"nofollow noreferrer\">documentation</a> you linked to, changing <code>oracle.jdbc.autoCommitSpecCompliant</code>:</p>\n<blockquote>\n<p>Alters the auto-commit behavior of the driver. By default the driver complies with JDBC specification. User can choose to alter the behavior by changing the value of this flag.</p>\n</blockquote>\n<p>Whereas <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#setAutoCommit-boolean-\" rel=\"nofollow noreferrer\"><code>connection.setAutoCommit(false);</code></a>:</p>\n<blockquote>\n<p>Sets this connection's auto-commit mode to the given state.</p>\n</blockquote>\n<p>This later call only changes a single connection's auto-commit state and does not change any other connections' auto-commit state; the former changes the default auto-commit behaviour of all future connections.</p>\n<blockquote>\n<p>Which one is better.</p>\n</blockquote>\n<p>Neither, they have different use cases and you should use whichever is most appropriate to your use case.</p>\n<p>If you have multiple connections that all need to not auto-commit as their default behaviour then you could set the value on the driver. (Do not do this if you have connections with a mix of auto-commit states, especially if some applications are relying on the default state when auto-commit is true.)</p>\n<p>If you want to handle the connections individually then set the state on each connection.</p>\n"}],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632988605,"creation_date":1632987545,"question_id":69388115,"body_markdown":"We have legacy application using plain JDBC to connect with an Oracle database.\r\nRecently, that database has been upgraded to Oracle 19c.\r\n\r\nFor that we are using below dependency now.\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t&lt;version&gt;19.3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter upgrade, the application started giving errors due to obvious reasons like Result not closed before Callable, during rollback() etc.\r\n\r\nI found below two approaches that are working.\r\n\r\n    System.setProperty (&quot;oracle.jdbc.autoCommitSpecCompliant&quot;, &quot;false&quot;); \r\n\r\nor\r\n\r\n    connection.setAutoCommit(false);\r\n\r\nI want to know what is the difference between above two solutions, and which one is better.\r\n\r\nRef link -  \r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html#CONNECTION_PROPERTY_AUTO_COMMIT_SPEC_COMPLIANT \r\n \r\n","title":"oracle.jdbc.autoCommitSpecCompliant VS setAutoCommit(false)","body":"<p>We have legacy application using plain JDBC to connect with an Oracle database.\nRecently, that database has been upgraded to Oracle 19c.</p>\n<p>For that we are using below dependency now.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;19.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After upgrade, the application started giving errors due to obvious reasons like Result not closed before Callable, during rollback() etc.</p>\n<p>I found below two approaches that are working.</p>\n<pre><code>System.setProperty (&quot;oracle.jdbc.autoCommitSpecCompliant&quot;, &quot;false&quot;); \n</code></pre>\n<p>or</p>\n<pre><code>connection.setAutoCommit(false);\n</code></pre>\n<p>I want to know what is the difference between above two solutions, and which one is better.</p>\n<p>Ref link -<br />\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html#CONNECTION_PROPERTY_AUTO_COMMIT_SPEC_COMPLIANT\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html#CONNECTION_PROPERTY_AUTO_COMMIT_SPEC_COMPLIANT</a></p>\n"},{"tags":["java","spring","spring-boot","ldap","spring-security-ldap"],"answers":[{"tags":[],"owner":{"account_id":22155910,"reputation":13,"user_id":16403666,"display_name":"Nguyen Tran Nhat Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632988550,"creation_date":1632988550,"answer_id":69388348,"question_id":68180247,"body_markdown":"I think you need to authenticate an account that can view the LDAP records or something, maybe this will work\r\n     \r\n\r\n      auth\r\n        .ldapAuthentication()\r\n        .userDnPatterns(&quot;username={0},ou=people&quot;)\r\n        .contextSource()\r\n        .managerDn(&quot;cn=admin,ou=people,dc=ms,dc=ds,dc=example,dc=com&quot;)\r\n        .managerPassword(&quot;adminPassword123&quot;) \r\n        .url(&quot;ldap://ldap.example.com:389/dc=ms,dc=ds,dc=example,dc=com&quot;)\r\n        .and()\r\n        .passwordCompare()\r\n        .passwordAttribute(&quot;password&quot;);\r\n\r\nSo basically you need to fill in `.managerDn()` and `.managerPassword()` with info of the account that has permission to view LDAP server&#39;s records. This Spring security LDAP is quite new to me, so sorry if my answer not work.","title":"Active Directory LDAP Authentication using Spring Boot and Java","body":"<p>I think you need to authenticate an account that can view the LDAP records or something, maybe this will work</p>\n<pre><code>  auth\n    .ldapAuthentication()\n    .userDnPatterns(&quot;username={0},ou=people&quot;)\n    .contextSource()\n    .managerDn(&quot;cn=admin,ou=people,dc=ms,dc=ds,dc=example,dc=com&quot;)\n    .managerPassword(&quot;adminPassword123&quot;) \n    .url(&quot;ldap://ldap.example.com:389/dc=ms,dc=ds,dc=example,dc=com&quot;)\n    .and()\n    .passwordCompare()\n    .passwordAttribute(&quot;password&quot;);\n</code></pre>\n<p>So basically you need to fill in <code>.managerDn()</code> and <code>.managerPassword()</code> with info of the account that has permission to view LDAP server's records. This Spring security LDAP is quite new to me, so sorry if my answer not work.</p>\n"}],"owner":{"account_id":10943816,"reputation":3,"user_id":11250769,"display_name":"PBLead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632988550,"creation_date":1624975209,"question_id":68180247,"body_markdown":"I&#39;m trying to authenticate with organization ldap server. When I enter the credentials I&#39;m facing this error. Can someone help?\r\n\r\n[Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C090A7D, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;username=aestools,ou=people&#39;][1]\r\n\r\nThis is my configuration:\r\n\r\n```\r\n@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t.ldapAuthentication().userDnPatterns(&quot;username={0},ou=people&quot;).contextSource()\r\n\t\t.url(&quot;ldap://ldap.example.com:389/dc=ms,ddc=ds,dc=example,dc=com&quot;).and().passwordCompare()\r\n\t\t.passwordAttribute(&quot;password&quot;);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l3MVy.png","title":"Active Directory LDAP Authentication using Spring Boot and Java","body":"<p>I'm trying to authenticate with organization ldap server. When I enter the credentials I'm facing this error. Can someone help?</p>\n<p><a href=\"https://i.stack.imgur.com/l3MVy.png\" rel=\"nofollow noreferrer\">Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C090A7D, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name 'username=aestools,ou=people'</a></p>\n<p>This is my configuration:</p>\n<pre><code>@Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n        .ldapAuthentication().userDnPatterns(&quot;username={0},ou=people&quot;).contextSource()\n        .url(&quot;ldap://ldap.example.com:389/dc=ms,ddc=ds,dc=example,dc=com&quot;).and().passwordCompare()\n        .passwordAttribute(&quot;password&quot;);\n</code></pre>\n"},{"tags":["java","git","jgit"],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632988533,"creation_date":1384557553,"answer_id":20012343,"question_id":20011564,"body_markdown":"The RevTag class represents a tag in JGit. To read a tag from a repository you&#39;d want to use a RevWalk like so:\r\n\r\n    Repository repository = ...\r\n    ObjectId objectId = ObjectId.fromString(&quot;a33a2d4dff046b3a19e36b3d1026fbcc5b806889&quot;);\r\n    try (RevWalk revWalk = new RevWalk(repository)) {\r\n      RevTag revTag = revWalk.parseTag(objectId);\r\n      // do something with revTag\r\n    }\r\n\r\n\r\nThe JGit project also offers a command line interpreter with functionality much like native git. It can be found in the org.eclipse.jgit.pgm bundle/library. I recommend to have a look into the [show command](http://git.eclipse.org/c/jgit/jgit.git/tree/org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Show.java) if you want to learn more about obtaining information from a tag or the referenced commit.","title":"How do you do the equivalent of a &quot;git show tagname&quot; with JGit?","body":"<p>The RevTag class represents a tag in JGit. To read a tag from a repository you'd want to use a RevWalk like so:</p>\n<pre><code>Repository repository = ...\nObjectId objectId = ObjectId.fromString(&quot;a33a2d4dff046b3a19e36b3d1026fbcc5b806889&quot;);\ntry (RevWalk revWalk = new RevWalk(repository)) {\n  RevTag revTag = revWalk.parseTag(objectId);\n  // do something with revTag\n}\n</code></pre>\n<p>The JGit project also offers a command line interpreter with functionality much like native git. It can be found in the org.eclipse.jgit.pgm bundle/library. I recommend to have a look into the <a href=\"http://git.eclipse.org/c/jgit/jgit.git/tree/org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Show.java\" rel=\"nofollow noreferrer\">show command</a> if you want to learn more about obtaining information from a tag or the referenced commit.</p>\n"}],"owner":{"account_id":187668,"reputation":5043,"user_id":425893,"accept_rate":64,"display_name":"John O"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632988533,"creation_date":1384553702,"question_id":20011564,"body_markdown":"I can&#39;t find anything in org.eclipse.jgit.api that looks even remotely plausible. I was under the impression that &quot;git show&quot; is a porcelain command, and I see plenty of other classes for much more obscure commands.\r\n\r\nIs this possible?","title":"How do you do the equivalent of a &quot;git show tagname&quot; with JGit?","body":"<p>I can't find anything in org.eclipse.jgit.api that looks even remotely plausible. I was under the impression that \"git show\" is a porcelain command, and I see plenty of other classes for much more obscure commands.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","jax-rs","cxf","cxfrs"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632988353,"creation_date":1632988353,"answer_id":69388301,"question_id":69388204,"body_markdown":"You are getting into an infinite loop, because when your subdomain tries to render its parent the parent then renders all its subdomains where each subdomain will try to render parent again and so on and so forth until you run out of memory. So, to solve your problem add annotation `@JsonIgnore` over your `parent` property in your `Domain` class","title":"Error convert pojo to json(cxf JAX-RS : Data Bindings)","body":"<p>You are getting into an infinite loop, because when your subdomain tries to render its parent the parent then renders all its subdomains where each subdomain will try to render parent again and so on and so forth until you run out of memory. So, to solve your problem add annotation <code>@JsonIgnore</code> over your <code>parent</code> property in your <code>Domain</code> class</p>\n"}],"owner":{"account_id":5606772,"reputation":25,"user_id":4441066,"display_name":"tim08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69388301,"answer_count":1,"score":1,"last_activity_date":1632988353,"creation_date":1632987959,"question_id":69388204,"body_markdown":"i have next pojo:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;)\r\n    @XmlRootElement(name = &quot;domain&quot;)    \r\n    @Entity\r\n        class Domain {\r\n          @ManyToOne \r\n          private Domain parent;\r\n        \r\n          @OneToMany //add column definitions as needed\r\n          private List&lt;Domain&gt; subdomains;\r\n        }\r\n\r\nand rs service:\r\n\r\n    @GET\r\n    @Path(&quot;/domains/{id}&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Bus getDomains(@PathParam(&quot;uuid&quot;) String uuid){\r\n        return domainsService.getByUuid(uuid);\r\n    }\r\n\r\nwhen I try to access a resource, I get a loop and \r\n\r\n    java.lang.StackOverflowError\r\n    \tat com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:158)\r\n    \tat com.sun.xml.txw2.StartTag.getPrefix(StartTag.java:257)\r\n    \tat com.sun.xml.txw2.DatatypeWriter$1$5.print(DatatypeWriter.java:114)\r\n    \tat com.sun.xml.txw2.DatatypeWriter$1$5.print(DatatypeWriter.java:109)\r\n    \tat com.sun.xml.txw2.Document.writeValue(Document.java:165)\r\n    \tat com.sun.xml.txw2.StartTag.addAttribute(StartTag.java:135)\r\n    \tat com.sun.xml.txw2.ContainerElement._attribute(ContainerElement.java:318)\r\n    \tat com.sun.xml.txw2.ContainerElement._attribute(ContainerElement.java:313)\r\n\r\nhow to properly transform classes that contain references to themselves?","title":"Error convert pojo to json(cxf JAX-RS : Data Bindings)","body":"<p>i have next pojo:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;)\n@XmlRootElement(name = &quot;domain&quot;)    \n@Entity\n    class Domain {\n      @ManyToOne \n      private Domain parent;\n    \n      @OneToMany //add column definitions as needed\n      private List&lt;Domain&gt; subdomains;\n    }\n</code></pre>\n<p>and rs service:</p>\n<pre><code>@GET\n@Path(&quot;/domains/{id}&quot;)\n@Produces(&quot;application/json&quot;)\npublic Bus getDomains(@PathParam(&quot;uuid&quot;) String uuid){\n    return domainsService.getByUuid(uuid);\n}\n</code></pre>\n<p>when I try to access a resource, I get a loop and</p>\n<pre><code>java.lang.StackOverflowError\n    at com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:158)\n    at com.sun.xml.txw2.StartTag.getPrefix(StartTag.java:257)\n    at com.sun.xml.txw2.DatatypeWriter$1$5.print(DatatypeWriter.java:114)\n    at com.sun.xml.txw2.DatatypeWriter$1$5.print(DatatypeWriter.java:109)\n    at com.sun.xml.txw2.Document.writeValue(Document.java:165)\n    at com.sun.xml.txw2.StartTag.addAttribute(StartTag.java:135)\n    at com.sun.xml.txw2.ContainerElement._attribute(ContainerElement.java:318)\n    at com.sun.xml.txw2.ContainerElement._attribute(ContainerElement.java:313)\n</code></pre>\n<p>how to properly transform classes that contain references to themselves?</p>\n"},{"tags":["java","php","ruby-on-rails","ruby"],"owner":{"account_id":7758463,"reputation":31,"user_id":5871959,"display_name":"Nguyen Duy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1632988317,"creation_date":1632986614,"question_id":69387886,"body_markdown":"I need to upload a &quot;commercial invoice&quot; for FedEx using their UploadDocument Api. But I always get the error\r\n&gt; {&quot;Severity&quot;=&gt;&quot;ERROR&quot;, &quot;Source&quot;=&gt;&quot;prof&quot;, &quot;Code&quot;=&gt;&quot;1000&quot;, &quot;Message&quot;=&gt;&quot;Authentication Failed&quot;}&quot;\r\n\r\nAlthough I used the same `credentials` and create a successful Shipment? Could you help me resolve this issue?","title":"Authentication Failed when trying to upload document using Fedex api","body":"<p>I need to upload a &quot;commercial invoice&quot; for FedEx using their UploadDocument Api. But I always get the error</p>\n<blockquote>\n<p>{&quot;Severity&quot;=&gt;&quot;ERROR&quot;, &quot;Source&quot;=&gt;&quot;prof&quot;, &quot;Code&quot;=&gt;&quot;1000&quot;, &quot;Message&quot;=&gt;&quot;Authentication Failed&quot;}&quot;</p>\n</blockquote>\n<p>Although I used the same <code>credentials</code> and create a successful Shipment? Could you help me resolve this issue?</p>\n"},{"tags":["java","spring-boot","properties"],"answers":[{"tags":[],"owner":{"account_id":9982461,"reputation":18,"user_id":7384912,"display_name":"Easwaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632987742,"creation_date":1632987742,"answer_id":69388156,"question_id":69385247,"body_markdown":" - If Project 1 is a jar, and if the property is going to be constant then you should have properties configured in P1 itself. \r\n - If you are going to make changes often, you can&#39;t build the jar every time so you should configure your spring boot property file to inject the property into the jar.\r\n\r\n","title":"passing properties between a simple java project and spring boot project","body":"<ul>\n<li>If Project 1 is a jar, and if the property is going to be constant then you should have properties configured in P1 itself.</li>\n<li>If you are going to make changes often, you can't build the jar every time so you should configure your spring boot property file to inject the property into the jar.</li>\n</ul>\n"}],"owner":{"account_id":19417719,"reputation":13,"user_id":14200800,"display_name":"its_me_shrinidhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69388156,"answer_count":1,"score":0,"last_activity_date":1632987742,"creation_date":1632967549,"question_id":69385247,"body_markdown":"**Context:**\r\nThere are 2 projects\r\n1. Java project (no framework) --- p1\r\n2. Spring boot project --- p2\r\n\r\nI have added p1 jar as a dependency in p2. I am calling one **method(m1)** from one of the classes of p1 in p2 (**m1** takes 2 parameters)\r\n\r\n**Issue** \r\nm1, in its definition, has a variable which is from a property file (a key value pair), Is it possible to have that property in p2 (in application.properties) and expect p1 to pick it up?\r\nor should I define a property in p1 itself\r\n","title":"passing properties between a simple java project and spring boot project","body":"<p><strong>Context:</strong>\nThere are 2 projects</p>\n<ol>\n<li>Java project (no framework) --- p1</li>\n<li>Spring boot project --- p2</li>\n</ol>\n<p>I have added p1 jar as a dependency in p2. I am calling one <strong>method(m1)</strong> from one of the classes of p1 in p2 (<strong>m1</strong> takes 2 parameters)</p>\n<p><strong>Issue</strong>\nm1, in its definition, has a variable which is from a property file (a key value pair), Is it possible to have that property in p2 (in application.properties) and expect p1 to pick it up?\nor should I define a property in p1 itself</p>\n"},{"tags":["java","apache-spark","hadoop","cmd"],"comments":[{"owner":{"account_id":6524993,"reputation":33917,"user_id":5047996,"accept_rate":74,"display_name":"aschipfl"},"score":0,"creation_date":1632982472,"post_id":69385676,"comment_id":122640846,"body_markdown":"Put quotation marks around the whole path…","body":"Put quotation marks around the whole path…"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1632996505,"post_id":69385676,"comment_id":122646403,"body_markdown":"Yep, i don’t think it’s a Spark problem at this point, more a Java / Windows issue. If you want to abstract yourself from windows, you can also use docker.","body":"Yep, i don’t think it’s a Spark problem at this point, more a Java / Windows issue. If you want to abstract yourself from windows, you can also use docker."}],"answers":[{"tags":[],"owner":{"account_id":22879649,"reputation":3862,"user_id":17021429,"display_name":"过过招"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632987458,"creation_date":1632981899,"answer_id":69386954,"question_id":69385676,"body_markdown":"During the installation of Java, relevant information has been written into the windows registry，Moving the installation directory directly will cause the program to be unusable. \r\n\r\nIt is recommended to uninstall and reinstall in the control panel, and specify a directory without spaces.\r\n\r\nThank you!","title":"cmd error &quot;Common was unexpected at this time&quot; to run Spark with Java","body":"<p>During the installation of Java, relevant information has been written into the windows registry，Moving the installation directory directly will cause the program to be unusable.</p>\n<p>It is recommended to uninstall and reinstall in the control panel, and specify a directory without spaces.</p>\n<p>Thank you!</p>\n"}],"owner":{"account_id":17322113,"reputation":39,"user_id":12547270,"display_name":"drkshdw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69386954,"answer_count":1,"score":0,"last_activity_date":1632987458,"creation_date":1632971923,"question_id":69385676,"body_markdown":"After installing Java in Windows 10, I registered JAVA_HOME variable with value `C:\\Java\\jdk.1.8.0_301` which is the version I found from running `java -version`. However, the command produces `\\Common was unexpected at this time.` I ran `where java` to find other value `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe` but it gives the same error. Java was originally installed in Program Files (x86) but I moved out to C:\\ after reading that a space in directory might cause an error. After all, I am trying to run Spark after Java is correctly configured. ","title":"cmd error &quot;Common was unexpected at this time&quot; to run Spark with Java","body":"<p>After installing Java in Windows 10, I registered JAVA_HOME variable with value <code>C:\\Java\\jdk.1.8.0_301</code> which is the version I found from running <code>java -version</code>. However, the command produces <code>\\Common was unexpected at this time.</code> I ran <code>where java</code> to find other value <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe</code> but it gives the same error. Java was originally installed in Program Files (x86) but I moved out to C:\\ after reading that a space in directory might cause an error. After all, I am trying to run Spark after Java is correctly configured.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1632985945,"post_id":69387579,"comment_id":122642070,"body_markdown":"Is your code compiling? We can&#39;t do &quot;return ModelsBMW;&quot;. It should be some specific value from the enum rather.","body":"Is your code compiling? We can&#39;t do &quot;return ModelsBMW;&quot;. It should be some specific value from the enum rather."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1632986097,"post_id":69387579,"comment_id":122642131,"body_markdown":"Do you need to return all the enums?","body":"Do you need to return all the enums?"},{"owner":{"account_id":22902206,"reputation":3,"user_id":17040747,"display_name":"1001010101"},"score":0,"creation_date":1632986622,"post_id":69387579,"comment_id":122642311,"body_markdown":"No it was just pseudo code. It should be possible to return all models of a manufacturer","body":"No it was just pseudo code. It should be possible to return all models of a manufacturer"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1632987008,"post_id":69387579,"comment_id":122642471,"body_markdown":"Check below answer.","body":"Check below answer."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632987299,"creation_date":1632985579,"answer_id":69387658,"question_id":69387579,"body_markdown":"You can use `enum` as below to avoid switch cases:\r\n\r\n  \r\n**Enum Code:**\r\n    \r\n    enum CarManufacturer {\r\n      BMW(ModelsBMW::values), Audi(ModelsAudi::values);\r\n    \r\n      private Supplier&lt;CarModels[]&gt; objectCreator;\r\n    \r\n      CarManufacturer(final Supplier&lt;CarModels[]&gt; objectCreator) {\r\n        this.objectCreator = objectCreator;\r\n      }\r\n    \r\n      public CarModels[] getModels() {\r\n        return objectCreator.get();\r\n      }\r\n    }\r\n    \r\n    \r\n**Basic Related Code for Successful Code Build:**\r\n    \r\n    interface CarModels {\r\n    \r\n    }\r\n    \r\n    enum ModelsBMW implements CarModels {\r\n      M1(&quot;M1&quot;);\r\n    \r\n      private String model;\r\n    \r\n      private ModelsBMW(String model) {\r\n        this.model = model;\r\n      }\r\n    }\r\n    \r\n    enum ModelsAudi implements CarModels {\r\n      A1(&quot;A1&quot;);\r\n    \r\n      private String model;\r\n    \r\n      private ModelsAudi(String model) {\r\n        this.model = model;\r\n      }\r\n    }\r\n\r\nHere `getModels` method will provide you all the models related to specific manufacturer.","title":"Java use Enum based on Manufacturer","body":"<p>You can use <code>enum</code> as below to avoid switch cases:</p>\n<p><strong>Enum Code:</strong></p>\n<pre><code>enum CarManufacturer {\n  BMW(ModelsBMW::values), Audi(ModelsAudi::values);\n\n  private Supplier&lt;CarModels[]&gt; objectCreator;\n\n  CarManufacturer(final Supplier&lt;CarModels[]&gt; objectCreator) {\n    this.objectCreator = objectCreator;\n  }\n\n  public CarModels[] getModels() {\n    return objectCreator.get();\n  }\n}\n</code></pre>\n<p><strong>Basic Related Code for Successful Code Build:</strong></p>\n<pre><code>interface CarModels {\n\n}\n\nenum ModelsBMW implements CarModels {\n  M1(&quot;M1&quot;);\n\n  private String model;\n\n  private ModelsBMW(String model) {\n    this.model = model;\n  }\n}\n\nenum ModelsAudi implements CarModels {\n  A1(&quot;A1&quot;);\n\n  private String model;\n\n  private ModelsAudi(String model) {\n    this.model = model;\n  }\n}\n</code></pre>\n<p>Here <code>getModels</code> method will provide you all the models related to specific manufacturer.</p>\n"}],"owner":{"account_id":22902206,"reputation":3,"user_id":17040747,"display_name":"1001010101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69387658,"answer_count":1,"score":-1,"last_activity_date":1632987299,"creation_date":1632985246,"question_id":69387579,"body_markdown":"I wanted to have two Enums, the first should hold all Car Manufacturers and the second all Models of each Manufacturer. Due to size limitations I created an Enum for every Manufacturer, like so `CarManufacturer`,`ModelsBMW`. \r\n\r\nNow I want to use a the Model based on the Manufacturer.\r\n```java\r\npublic enum CarManufacturer {\r\n  BMW,\r\n  Audi;\r\n\r\n  public CarModels getModel(CarManufacturer i){\r\n    switch(i.name()){\r\n      case &quot;BMW&quot;:\r\n        return ModelsBMW;\r\n      break;\r\n     case &quot;Audi&quot;:\r\n        return ModelsAudi;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\npublic enum ModelsBMW {\r\n  M1(&quot;M1&quot;);\r\n  //... more BMW models\r\n}\r\n```\r\nThere will be more manufacturer and models added and removed.\r\nIs there a way to choose the right Enum in getModel() without writing every case? \r\n\r\n","title":"Java use Enum based on Manufacturer","body":"<p>I wanted to have two Enums, the first should hold all Car Manufacturers and the second all Models of each Manufacturer. Due to size limitations I created an Enum for every Manufacturer, like so <code>CarManufacturer</code>,<code>ModelsBMW</code>.</p>\n<p>Now I want to use a the Model based on the Manufacturer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CarManufacturer {\n  BMW,\n  Audi;\n\n  public CarModels getModel(CarManufacturer i){\n    switch(i.name()){\n      case &quot;BMW&quot;:\n        return ModelsBMW;\n      break;\n     case &quot;Audi&quot;:\n        return ModelsAudi;\n      break;\n    }\n  }\n}\n\npublic enum ModelsBMW {\n  M1(&quot;M1&quot;);\n  //... more BMW models\n}\n</code></pre>\n<p>There will be more manufacturer and models added and removed.\nIs there a way to choose the right Enum in getModel() without writing every case?</p>\n"},{"tags":["java","spring-boot","maven","jenkins"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632146181,"post_id":69255452,"comment_id":122407472,"body_markdown":"This is the wrong location: `repo.maven.apache.org/151.101.24.215` which means you have change some configurations ...or you have an issue with a proxy/firewall...","body":"This is the wrong location: <code>repo.maven.apache.org&#47;151.101.24.215</code> which means you have change some configurations ...or you have an issue with a proxy/firewall..."},{"owner":{"account_id":6922486,"reputation":1116,"user_id":5314627,"accept_rate":93,"display_name":"izengod"},"score":0,"creation_date":1632146890,"post_id":69255452,"comment_id":122407787,"body_markdown":"@khmarbaise which is the correct one btw? any idea how to change? proxy is fine bcoz curl works with the proxy.","body":"@khmarbaise which is the correct one btw? any idea how to change? proxy is fine bcoz curl works with the proxy."},{"owner":{"account_id":6922486,"reputation":1116,"user_id":5314627,"accept_rate":93,"display_name":"izengod"},"score":0,"creation_date":1632319080,"post_id":69255452,"comment_id":122460236,"body_markdown":"@khmarbaise any lead pls","body":"@khmarbaise any lead pls"},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1632563405,"post_id":69255452,"comment_id":122530381,"body_markdown":"Why do you have relativePath at all? Omit the line, per [spring.io](https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.pom). Also, our Central is defined as https://repo1.maven.org/maven2. No issues whatsoever. Check with `mvn help:effective-settings`","body":"Why do you have relativePath at all? Omit the line, per <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.pom\" rel=\"nofollow noreferrer\">spring.io</a>. Also, our Central is defined as <a href=\"https://repo1.maven.org/maven2\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2</a>. No issues whatsoever. Check with <code>mvn help:effective-settings</code>"}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632986911,"creation_date":1632565574,"answer_id":69325248,"question_id":69255452,"body_markdown":"I bet you missed something configuring the proxy setting. For example set up the wrong protocol or you misspelled/misplaced the `proxies` tag in the `setting.xml` file. \r\n\r\nHere is an example from Apache manual:\r\n\r\n    &lt;settings&gt;\r\n      .\r\n      &lt;proxies&gt;\r\n       &lt;proxy&gt;\r\n          &lt;id&gt;example-proxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;host&gt;proxy.example.com&lt;/host&gt;\r\n          &lt;port&gt;8080&lt;/port&gt;\r\n          &lt;username&gt;proxyuser&lt;/username&gt;\r\n          &lt;password&gt;somepassword&lt;/password&gt;\r\n          &lt;nonProxyHosts&gt;www.google.com|*.example.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n      &lt;/proxies&gt;\r\n      .\r\n    &lt;/settings&gt;\r\n\r\nThe protocol seems to be a protocol of the proxy server, not of the proxied request. Here is a long discussion about this point:\r\n\r\nhttps://stackoverflow.com/questions/31032174/how-to-configure-a-proxy-server-for-both-http-and-https-in-mavens-settings-xml\r\n\r\nIt is also possible your `setting.xml` was placed on the wrong place. Here is the default location:\r\n\r\n    (Linux) /home/bob/.m2/settings.xml\r\n    (Windows) C:\\Users\\bob\\.m2\\settings.xml\r\n\r\nIDE or CD/CI pipeline could override the default location. It can be done like this:\r\n\r\n    mvn --settings your_location/settings.xml clean install\r\n    (or) \r\n    mvn -s your_location/settings.xml clean install\r\n\r\nAnother problem could be the conflict with JVM proxy configuration. I am not sure, which configuration has priority. JVM uses its own arguments:\r\n\r\n    http.proxyHost (default: &lt;none&gt;) \r\n    http.nonProxyHosts (default: localhost|127.*|[::1])\r\n    http.proxyPort (default: 80)\r\n    https.proxyHost(default: &lt;none&gt;)\r\n    https.proxyPort (default: 443)\r\n\r\nHere `http` and `https` are protocols of the proxied request (at least AFAIU)\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\r\n\r\nOne more possible problem could be the argument `-Djava.net.useSystemProxies`. If it is set to `true` (default - `false`) the operation system wide proxy configuration is used.","title":"Connect to repo.maven.apache.org:443 failed","body":"<p>I bet you missed something configuring the proxy setting. For example set up the wrong protocol or you misspelled/misplaced the <code>proxies</code> tag in the <code>setting.xml</code> file.</p>\n<p>Here is an example from Apache manual:</p>\n<pre><code>&lt;settings&gt;\n  .\n  &lt;proxies&gt;\n   &lt;proxy&gt;\n      &lt;id&gt;example-proxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;host&gt;proxy.example.com&lt;/host&gt;\n      &lt;port&gt;8080&lt;/port&gt;\n      &lt;username&gt;proxyuser&lt;/username&gt;\n      &lt;password&gt;somepassword&lt;/password&gt;\n      &lt;nonProxyHosts&gt;www.google.com|*.example.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n  &lt;/proxies&gt;\n  .\n&lt;/settings&gt;\n</code></pre>\n<p>The protocol seems to be a protocol of the proxy server, not of the proxied request. Here is a long discussion about this point:</p>\n<p><a href=\"https://stackoverflow.com/questions/31032174/how-to-configure-a-proxy-server-for-both-http-and-https-in-mavens-settings-xml\">How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?</a></p>\n<p>It is also possible your <code>setting.xml</code> was placed on the wrong place. Here is the default location:</p>\n<pre><code>(Linux) /home/bob/.m2/settings.xml\n(Windows) C:\\Users\\bob\\.m2\\settings.xml\n</code></pre>\n<p>IDE or CD/CI pipeline could override the default location. It can be done like this:</p>\n<pre><code>mvn --settings your_location/settings.xml clean install\n(or) \nmvn -s your_location/settings.xml clean install\n</code></pre>\n<p>Another problem could be the conflict with JVM proxy configuration. I am not sure, which configuration has priority. JVM uses its own arguments:</p>\n<pre><code>http.proxyHost (default: &lt;none&gt;) \nhttp.nonProxyHosts (default: localhost|127.*|[::1])\nhttp.proxyPort (default: 80)\nhttps.proxyHost(default: &lt;none&gt;)\nhttps.proxyPort (default: 443)\n</code></pre>\n<p>Here <code>http</code> and <code>https</code> are protocols of the proxied request (at least AFAIU)</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html</a></p>\n<p>One more possible problem could be the argument <code>-Djava.net.useSystemProxies</code>. If it is set to <code>true</code> (default - <code>false</code>) the operation system wide proxy configuration is used.</p>\n"},{"tags":[],"owner":{"account_id":6922486,"reputation":1116,"user_id":5314627,"accept_rate":93,"display_name":"izengod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632986886,"creation_date":1632986886,"answer_id":69387961,"question_id":69255452,"body_markdown":"While `30thh`&#39;s answer was definitely helpful for troubleshooting, as a last resort I just cloned a working VM to a new instance, created my pipeline there and it worked like a charm in the first attempt. So it&#39;s pretty evident that it was something to do with `proxy/firewall` of the previous VM/jenkins.","title":"Connect to repo.maven.apache.org:443 failed","body":"<p>While <code>30thh</code>'s answer was definitely helpful for troubleshooting, as a last resort I just cloned a working VM to a new instance, created my pipeline there and it worked like a charm in the first attempt. So it's pretty evident that it was something to do with <code>proxy/firewall</code> of the previous VM/jenkins.</p>\n"}],"owner":{"account_id":6922486,"reputation":1116,"user_id":5314627,"accept_rate":93,"display_name":"izengod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69387961,"answer_count":2,"score":4,"last_activity_date":1632986911,"creation_date":1632145296,"question_id":69255452,"body_markdown":"I&#39;m trying to build a `spring-boot` maven project from a jenkins pipeline.\r\n\r\n**Error**:\r\n\r\n    ERROR: Failed to parse POMs\r\n    org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n    [FATAL] Non-resolvable parent POM for xxx.xxxxx.xxxx:finance-portal:0.0.1-SNAPSHOT: \r\n\t Failure to transfer org.springframework.boot:spring-boot-starter-parent:pom:2.4.2 \r\n\t Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.4.2 \r\n\t from/to central (https://repo.maven.apache.org/maven2): \r\n\t Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.24.215] failed: \r\n\t Connection refused (Connection refused) and &#39;parent.relativePath&#39; points at no local POM @ line 6, column 10\r\n**maven goal**: \r\n\r\n    clean install -U -X\r\n\r\n**pom.xml**:\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n**The resolutions I tried so far**:\r\n\r\n 1. Setting up org proxy through `settings.xml` file in jenkins and use the config in the pipeline.\r\n2. Setting up proxies through maven goal: `clean install -DproxySet=true -DproxyHost=proxy.com -DproxyPort=xxxxx`.\r\n\r\n3. Omitting/Changing `relativePath` tag in pom.xml to `&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;` and few other variants.\r\n\r\n4. Remove jenkins workspace for the project and re-build it.\r\n\r\n5. make a `curl` request to maven central repo before the build to check connection establishment: `curl -I -x proxy.com:xxxxx &quot;https://repo.maven.apache.org/maven2&quot;`. The connection gets established but fails in the build process.\r\n","title":"Connect to repo.maven.apache.org:443 failed","body":"<p>I'm trying to build a <code>spring-boot</code> maven project from a jenkins pipeline.</p>\n<p><strong>Error</strong>:</p>\n<pre><code>ERROR: Failed to parse POMs\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for xxx.xxxxx.xxxx:finance-portal:0.0.1-SNAPSHOT: \n Failure to transfer org.springframework.boot:spring-boot-starter-parent:pom:2.4.2 \n Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.4.2 \n from/to central (https://repo.maven.apache.org/maven2): \n Connect to repo.maven.apache.org:443 [repo.maven.apache.org/151.101.24.215] failed: \n Connection refused (Connection refused) and 'parent.relativePath' points at no local POM @ line 6, column 10\n</code></pre>\n<p><strong>maven goal</strong>:</p>\n<pre><code>clean install -U -X\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p><strong>The resolutions I tried so far</strong>:</p>\n<ol>\n<li><p>Setting up org proxy through <code>settings.xml</code> file in jenkins and use the config in the pipeline.</p>\n</li>\n<li><p>Setting up proxies through maven goal: <code>clean install -DproxySet=true -DproxyHost=proxy.com -DproxyPort=xxxxx</code>.</p>\n</li>\n<li><p>Omitting/Changing <code>relativePath</code> tag in pom.xml to <code>&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;</code> and few other variants.</p>\n</li>\n<li><p>Remove jenkins workspace for the project and re-build it.</p>\n</li>\n<li><p>make a <code>curl</code> request to maven central repo before the build to check connection establishment: <code>curl -I -x proxy.com:xxxxx &quot;https://repo.maven.apache.org/maven2&quot;</code>. The connection gets established but fails in the build process.</p>\n</li>\n</ol>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1632967867,"post_id":69385256,"comment_id":122638228,"body_markdown":"What did you type is it numbers or strings?","body":"What did you type is it numbers or strings?"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1632968205,"post_id":69385256,"comment_id":122638261,"body_markdown":"It is better, if you also add the error message in your question. From your question, it looks like from 1 to 5 input works fine, as long as you do not add space before or after. if it is over 5 then you will not get error but you will also not see any result. If you input anything other than number, including fraction, you will get exception.","body":"It is better, if you also add the error message in your question. From your question, it looks like from 1 to 5 input works fine, as long as you do not add space before or after. if it is over 5 then you will not get error but you will also not see any result. If you input anything other than number, including fraction, you will get exception."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1632968253,"post_id":69385256,"comment_id":122638269,"body_markdown":"`int abilityPkmn = scanner.nextInt();` why do you think it would accept anything than `int` ?","body":"<code>int abilityPkmn = scanner.nextInt();</code> why do you think it would accept anything than <code>int</code> ?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1632968279,"post_id":69385256,"comment_id":122638275,"body_markdown":"Have you tried anything?  If I understand correctly, your post seems to say: &quot;I wrote a program that accepts integers.  I don&#39;t understand how to make it accept strings.  Please write my code for me.&quot;  I&#39;m sorry, but that&#39;s not how this works.  We are here to answer questions when you get *stuck*, not write *your code* for you.  If you try writing a program that accepts strings, and run into an issue, then that is the time to post to Stack Overflow.  Please see [ask].","body":"Have you tried anything?  If I understand correctly, your post seems to say: &quot;I wrote a program that accepts integers.  I don&#39;t understand how to make it accept strings.  Please write my code for me.&quot;  I&#39;m sorry, but that&#39;s not how this works.  We are here to answer questions when you get <i>stuck</i>, not write <i>your code</i> for you.  If you try writing a program that accepts strings, and run into an issue, then that is the time to post to Stack Overflow.  Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":22236381,"reputation":1,"user_id":16471671,"display_name":"ivonH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632968454,"creation_date":1632968454,"answer_id":69385326,"question_id":69385256,"body_markdown":"I think you will need to identify these variables and then write in the code or action performed in a new statement.\r\n\r\nTry putting the statements into an array then call them in a method. \r\n\r\nPerhaps set up a new class called abilities and create some values. When you call them in a new method you can super class those abilities.\r\n\r\nIvonH on gitHub you can see what I have done for a simple army game.","title":"Use user input for switch","body":"<p>I think you will need to identify these variables and then write in the code or action performed in a new statement.</p>\n<p>Try putting the statements into an array then call them in a method.</p>\n<p>Perhaps set up a new class called abilities and create some values. When you call them in a new method you can super class those abilities.</p>\n<p>IvonH on gitHub you can see what I have done for a simple army game.</p>\n"},{"tags":[],"owner":{"account_id":21933336,"reputation":1,"user_id":16214969,"display_name":"H Alrwasheda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632970725,"creation_date":1632970725,"answer_id":69385549,"question_id":69385256,"body_markdown":"    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter Pokemon ability:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String abilityPkmn = scanner.next(); //here no int because u are taking string \r\n        String abilityString; //u do not need this anymore!\r\n        switch (abilityPkmn) {\r\n        case &quot;Chlorophyll&quot;:\r\n            System.out.println(&quot;Boosts the Pok&#233;mon&#39;s Speed stat in harsh sunlight.&quot;);\r\n            break;\r\n        case &quot;Guts&quot;:\r\n            System.out.println(&quot;Boosts the Pokemon&#39;s Attack stat when it has a status condition.&quot;);\r\n            break;\r\n        case &quot;Cacophony&quot;:\r\n            System.out.println(&quot;The Pokemon is immune to sound-based moves.&quot;);\r\n            break;\r\n        case &quot;Damp&quot;:\r\n            System.out.println(&quot;Prevents the use of Explosion and Self-Destruct.&quot;);\r\n            break;\r\n        case &quot;Drought&quot;:\r\n            System.out.println(&quot;Activates harsh sunlight when the Pok&#233;mon enters battle.&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;here comes any default text which is not included in all cases and there is no need for break;&quot;);\r\n    \r\n        }\r\n    }","title":"Use user input for switch","body":"<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Enter Pokemon ability:&quot;);\n    Scanner scanner = new Scanner(System.in);\n    String abilityPkmn = scanner.next(); //here no int because u are taking string \n    String abilityString; //u do not need this anymore!\n    switch (abilityPkmn) {\n    case &quot;Chlorophyll&quot;:\n        System.out.println(&quot;Boosts the Pokémon's Speed stat in harsh sunlight.&quot;);\n        break;\n    case &quot;Guts&quot;:\n        System.out.println(&quot;Boosts the Pokemon's Attack stat when it has a status condition.&quot;);\n        break;\n    case &quot;Cacophony&quot;:\n        System.out.println(&quot;The Pokemon is immune to sound-based moves.&quot;);\n        break;\n    case &quot;Damp&quot;:\n        System.out.println(&quot;Prevents the use of Explosion and Self-Destruct.&quot;);\n        break;\n    case &quot;Drought&quot;:\n        System.out.println(&quot;Activates harsh sunlight when the Pokémon enters battle.&quot;);\n        break;\n    default:\n        System.out.println(&quot;here comes any default text which is not included in all cases and there is no need for break;&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15398606,"reputation":7,"user_id":11108855,"display_name":"ashrafkhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632986734,"creation_date":1632986734,"answer_id":69387920,"question_id":69385256,"body_markdown":"I have noticed that you haven&#39;t used the print statement in the default case. Use the println statement to get the output on the standard output device.\r\n\r\nvote my answer if this helps.","title":"Use user input for switch","body":"<p>I have noticed that you haven't used the print statement in the default case. Use the println statement to get the output on the standard output device.</p>\n<p>vote my answer if this helps.</p>\n"}],"owner":{"account_id":22900470,"reputation":11,"user_id":17039263,"display_name":"Calebkiller101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1632986734,"creation_date":1632967615,"question_id":69385256,"body_markdown":"For my Java class, we have to detect user input of a Pokemon ability and give an output of the description of said ability using a Switch. I have the scanner to detect an input, but when I type anything other than the case numbers then it just gives me an error. I don&#39;t know how to make it detect an ability like &#39;Chlorophyll,&#39; and then have it use the output to the console.\r\n\r\nHere is my code:\r\n\r\n    package pokemonAbility;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class PokemonAbility {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    System.out.println(&quot;Enter Pokemon ability:&quot;);\r\n    \tScanner scanner = new Scanner(System.in);\r\n\t    int abilityPkmn = scanner.nextInt();\r\n    \tString abilityString;\r\n\t    switch (abilityPkmn) {\r\n    \tcase 1: abilityString = &quot;Chlorophyll&quot;;\r\n    \t    System.out.println(&quot;Boosts the Pok&#233;mon&#39;s Speed stat in harsh sunlight.&quot;);\r\n\t\t\tbreak;\r\n\t    case 2: abilityString = &quot;Guts&quot;;\r\n        \tSystem.out.println(&quot;Boosts the Pokemon&#39;s Attack stat when it has a status condition.&quot;);\r\n\t\t\tbreak;\r\n    \tcase 3: abilityString = &quot;Cacophony&quot;;\r\n\t        System.out.println(&quot;The Pokemon is immune to sound-based moves.&quot;);\r\n\t\t\tbreak;\r\n    \tcase 4: abilityString = &quot;Damp&quot;;\r\n\t        System.out.println(&quot;Prevents the use of Explosion and Self-Destruct.&quot;);\r\n\t\t\tbreak;\r\n    \tcase 5: abilityString = &quot;Drought&quot;;\r\n\t        System.out.println(&quot;Activates harsh sunlight when the Pok&#233;mon enters battle.&quot;);\r\n\t\t\tbreak;\r\n    \tdefault: abilityString = &quot;Invalid ability&quot;;\r\n\t\t\tbreak;\r\n\t\r\n\t    }\r\n\t\t\r\n\t}\r\n","title":"Use user input for switch","body":"<p>For my Java class, we have to detect user input of a Pokemon ability and give an output of the description of said ability using a Switch. I have the scanner to detect an input, but when I type anything other than the case numbers then it just gives me an error. I don't know how to make it detect an ability like 'Chlorophyll,' and then have it use the output to the console.</p>\n<p>Here is my code:</p>\n<pre><code>package pokemonAbility;\n\nimport java.util.Scanner;\n\npublic class PokemonAbility {\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Enter Pokemon ability:&quot;);\n    Scanner scanner = new Scanner(System.in);\n    int abilityPkmn = scanner.nextInt();\n    String abilityString;\n    switch (abilityPkmn) {\n    case 1: abilityString = &quot;Chlorophyll&quot;;\n        System.out.println(&quot;Boosts the Pokémon's Speed stat in harsh sunlight.&quot;);\n        break;\n    case 2: abilityString = &quot;Guts&quot;;\n        System.out.println(&quot;Boosts the Pokemon's Attack stat when it has a status condition.&quot;);\n        break;\n    case 3: abilityString = &quot;Cacophony&quot;;\n        System.out.println(&quot;The Pokemon is immune to sound-based moves.&quot;);\n        break;\n    case 4: abilityString = &quot;Damp&quot;;\n        System.out.println(&quot;Prevents the use of Explosion and Self-Destruct.&quot;);\n        break;\n    case 5: abilityString = &quot;Drought&quot;;\n        System.out.println(&quot;Activates harsh sunlight when the Pokémon enters battle.&quot;);\n        break;\n    default: abilityString = &quot;Invalid ability&quot;;\n        break;\n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox","jcheckbox"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1632983592,"post_id":69387191,"comment_id":122641177,"body_markdown":"It&#39;s done the same way in IntelliJ as it&#39;s done in *any* IDE - with Java code. Hence the IDE is a poor tag (it should only be used for problems with the IDE itself) and Java an excellent tag.","body":"It&#39;s done the same way in IntelliJ as it&#39;s done in <i>any</i> IDE - with Java code. Hence the IDE is a poor tag (it should only be used for problems with the IDE itself) and Java an excellent tag."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1632984334,"post_id":69387191,"comment_id":122641445,"body_markdown":"A JTable isn&#39;t designed to construct a pivot table like your image.  In a JTable, the subjects would be columns and the values would be rows.  What you&#39;re trying to build is called a form, consisting of alternating JLabels and JTextFields, JCheckBoxes, or JComboBoxes.  You use a [GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) to create a form.","body":"A JTable isn&#39;t designed to construct a pivot table like your image.  In a JTable, the subjects would be columns and the values would be rows.  What you&#39;re trying to build is called a form, consisting of alternating JLabels and JTextFields, JCheckBoxes, or JComboBoxes.  You use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> to create a form."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1633009696,"post_id":69387191,"comment_id":122652022,"body_markdown":"Check out: https://stackoverflow.com/questions/33216409/class-specific-renderer-component-not-called/33218124#33218124 for one approach.","body":"Check out: <a href=\"https://stackoverflow.com/questions/33216409/class-specific-renderer-component-not-called/33218124#33218124\" title=\"class specific renderer component not called\">stackoverflow.com/questions/33216409/&hellip;</a> for one approach."}],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632986729,"creation_date":1632986729,"answer_id":69387916,"question_id":69387191,"body_markdown":"Probably this example will solve your problems\r\n\r\n\timport java.awt.Component;\r\n\timport java.util.Arrays;\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\r\n\timport javax.swing.DefaultCellEditor;\r\n\timport javax.swing.JComboBox;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JScrollPane;\r\n\timport javax.swing.JTable;\r\n\timport javax.swing.SwingUtilities;\r\n\timport javax.swing.WindowConstants;\r\n\timport javax.swing.table.DefaultTableModel;\r\n\timport javax.swing.table.TableCellEditor;\r\n\timport javax.swing.table.TableCellRenderer;\r\n\timport javax.swing.table.TableModel;\r\n\r\n\t/**\r\n\t * &lt;code&gt;CellBasedTable&lt;/code&gt;.\r\n\t */\r\n\tpublic class CellBasedTable extends JTable {\r\n\r\n\t\tprivate static class TableCell {\r\n\r\n\t\t\t/** Column of the cell. */\r\n\t\t\tprivate final int column;\r\n\r\n\t\t\t/** Row of the cell. */\r\n\t\t\tprivate final int row;\r\n\r\n\t\t\t/**\r\n\t\t\t * Creates cell with the given row and column.\r\n\t\t\t * \r\n\t\t\t * @param aRow row of cell.\r\n\t\t\t * @param aColumn column of cell.\r\n\t\t\t */\r\n\t\t\tpublic TableCell(int aRow, int aColumn) {\r\n\t\t\t\trow = aRow;\r\n\t\t\t\tcolumn = aColumn;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj) {\r\n\t\t\t\tif (obj instanceof TableCell) {\r\n\t\t\t\t\tTableCell another = (TableCell) obj;\r\n\t\t\t\t\treturn row == another.row &amp;&amp; column == another.column;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode() {\r\n\t\t\t\treturn Arrays.hashCode(new int[] {row, column});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate final Map&lt;TableCell, TableCellRenderer&gt; rendererMap = new HashMap&lt;&gt;();\r\n\r\n\t\tprivate final Map&lt;TableCell, TableCellEditor&gt; editorMap = new HashMap&lt;&gt;();\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tpublic CellBasedTable() {\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param dm\r\n\t\t */\r\n\t\tpublic CellBasedTable(TableModel dm) {\r\n\t\t\tsuper(dm);\r\n\t\t}\r\n\r\n\t\tpublic void setCellRenderer(int row, int column, TableCellRenderer r) {\r\n\t\t\trendererMap.put(new TableCell(row, column), r);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TableCellRenderer getCellRenderer(int row, int column) {\r\n\t\t\treturn rendererMap.getOrDefault(new TableCell(row, column), super.getCellRenderer(row, column));\r\n\t\t}\r\n\r\n\t\tpublic void setCellEditor(int row, int column, TableCellEditor e) {\r\n\t\t\teditorMap.put(new TableCell(row, column), e);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TableCellEditor getCellEditor(int row, int column) {\r\n\t\t\treturn editorMap.getOrDefault(new TableCell(row, column), super.getCellEditor(row, column));\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(CellBasedTable::startDemo);\r\n\t\t}\r\n\r\n\t\tprivate static void startDemo() {\r\n\t\t\tDefaultTableModel model = new DefaultTableModel(new Object[] {&quot;Subject&quot;, &quot;Value&quot;}, 0);\r\n\t\t\tmodel.addRow(new Object[] {&quot;name&quot;, &quot;Variable&quot;});\r\n\t\t\tmodel.addRow(new Object[] {&quot;Stored&quot;, Boolean.TRUE});\r\n\t\t\tmodel.addRow(new Object[] {&quot;Stroed Arguments&quot;, &quot;job&quot;});\r\n\t\t\tJComboBox&lt;String&gt; combo = new JComboBox&lt;&gt;(new String[] {&quot;task&quot;, &quot;job&quot;, &quot;rule&quot;});\r\n\t\t\tCellBasedTable tbl = new CellBasedTable(model);\r\n\t\t\ttbl.setCellRenderer(1, 1, tbl.getDefaultRenderer(Boolean.class));\r\n\t\t\ttbl.setCellEditor(1, 1, tbl.getDefaultEditor(Boolean.class));\r\n\t\t\ttbl.setCellRenderer(2, 1, new ComboRenderer(combo));\r\n\t\t\ttbl.setCellEditor(2, 1, new DefaultCellEditor(combo));\r\n\t\t\ttbl.setRowHeight(24);\r\n\t\t\tJFrame frm = new JFrame(&quot;TableTest&quot;);\r\n\t\t\tfrm.add(new JScrollPane(tbl));\r\n\t\t\tfrm.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n\t\t\tfrm.pack();\r\n\t\t\tfrm.setLocationRelativeTo(null);\r\n\t\t\tfrm.setVisible(true);\r\n\t\t}\r\n\r\n\t\tprivate static class ComboRenderer implements TableCellRenderer {\r\n\t\t\tprivate final JComboBox&lt;?&gt; combo;\r\n\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic ComboRenderer(JComboBox&lt;?&gt; combo) {\r\n\t\t\t\tthis.combo = combo;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row,\r\n\t\t\t\t\tint column) {\r\n\t\t\t\tcombo.setSelectedItem(value);\r\n\t\t\t\tcombo.setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\r\n\t\t\t\tcombo.setForeground(isSelected ? table.getSelectionForeground() : table.getForeground());\r\n\t\t\t\treturn combo;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Insert a JCheckBox and JComboBox inside a JTable","body":"<p>Probably this example will solve your problems</p>\n<pre><code>import java.awt.Component;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.swing.DefaultCellEditor;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableModel;\n\n/**\n * &lt;code&gt;CellBasedTable&lt;/code&gt;.\n */\npublic class CellBasedTable extends JTable {\n\n    private static class TableCell {\n\n        /** Column of the cell. */\n        private final int column;\n\n        /** Row of the cell. */\n        private final int row;\n\n        /**\n         * Creates cell with the given row and column.\n         * \n         * @param aRow row of cell.\n         * @param aColumn column of cell.\n         */\n        public TableCell(int aRow, int aColumn) {\n            row = aRow;\n            column = aColumn;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (obj instanceof TableCell) {\n                TableCell another = (TableCell) obj;\n                return row == another.row &amp;&amp; column == another.column;\n            }\n            return false;\n        }\n\n        @Override\n        public int hashCode() {\n            return Arrays.hashCode(new int[] {row, column});\n        }\n    }\n\n    private final Map&lt;TableCell, TableCellRenderer&gt; rendererMap = new HashMap&lt;&gt;();\n\n    private final Map&lt;TableCell, TableCellEditor&gt; editorMap = new HashMap&lt;&gt;();\n\n    /**\n     * \n     */\n    public CellBasedTable() {\n    }\n\n    /**\n     * @param dm\n     */\n    public CellBasedTable(TableModel dm) {\n        super(dm);\n    }\n\n    public void setCellRenderer(int row, int column, TableCellRenderer r) {\n        rendererMap.put(new TableCell(row, column), r);\n    }\n\n    @Override\n    public TableCellRenderer getCellRenderer(int row, int column) {\n        return rendererMap.getOrDefault(new TableCell(row, column), super.getCellRenderer(row, column));\n    }\n\n    public void setCellEditor(int row, int column, TableCellEditor e) {\n        editorMap.put(new TableCell(row, column), e);\n    }\n\n    @Override\n    public TableCellEditor getCellEditor(int row, int column) {\n        return editorMap.getOrDefault(new TableCell(row, column), super.getCellEditor(row, column));\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(CellBasedTable::startDemo);\n    }\n\n    private static void startDemo() {\n        DefaultTableModel model = new DefaultTableModel(new Object[] {&quot;Subject&quot;, &quot;Value&quot;}, 0);\n        model.addRow(new Object[] {&quot;name&quot;, &quot;Variable&quot;});\n        model.addRow(new Object[] {&quot;Stored&quot;, Boolean.TRUE});\n        model.addRow(new Object[] {&quot;Stroed Arguments&quot;, &quot;job&quot;});\n        JComboBox&lt;String&gt; combo = new JComboBox&lt;&gt;(new String[] {&quot;task&quot;, &quot;job&quot;, &quot;rule&quot;});\n        CellBasedTable tbl = new CellBasedTable(model);\n        tbl.setCellRenderer(1, 1, tbl.getDefaultRenderer(Boolean.class));\n        tbl.setCellEditor(1, 1, tbl.getDefaultEditor(Boolean.class));\n        tbl.setCellRenderer(2, 1, new ComboRenderer(combo));\n        tbl.setCellEditor(2, 1, new DefaultCellEditor(combo));\n        tbl.setRowHeight(24);\n        JFrame frm = new JFrame(&quot;TableTest&quot;);\n        frm.add(new JScrollPane(tbl));\n        frm.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n        frm.pack();\n        frm.setLocationRelativeTo(null);\n        frm.setVisible(true);\n    }\n\n    private static class ComboRenderer implements TableCellRenderer {\n        private final JComboBox&lt;?&gt; combo;\n\n        /**\n         * \n         */\n        public ComboRenderer(JComboBox&lt;?&gt; combo) {\n            this.combo = combo;\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row,\n                int column) {\n            combo.setSelectedItem(value);\n            combo.setBackground(isSelected ? table.getSelectionBackground() : table.getBackground());\n            combo.setForeground(isSelected ? table.getSelectionForeground() : table.getForeground());\n            return combo;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14142818,"reputation":39,"user_id":10216981,"display_name":"Kita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69387916,"answer_count":1,"score":0,"last_activity_date":1632986729,"creation_date":1632983335,"question_id":69387191,"body_markdown":"I&#39;m trying to insert a CheckBox and a ComboBox on the same column, but it&#39;s a little bit tricky, I can&#39;t seem to find a solution for rendering both at once. Can someone help me with this? I would appreciate the help.\r\n\r\nThe Jtable I&#39;m trying to achieve is below : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dnmMV.png","title":"Insert a JCheckBox and JComboBox inside a JTable","body":"<p>I'm trying to insert a CheckBox and a ComboBox on the same column, but it's a little bit tricky, I can't seem to find a solution for rendering both at once. Can someone help me with this? I would appreciate the help.</p>\n<p>The Jtable I'm trying to achieve is below :</p>\n<p><a href=\"https://i.stack.imgur.com/dnmMV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dnmMV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","kotlin","greenrobot-eventbus"],"comments":[{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1632987046,"post_id":69387840,"comment_id":122642490,"body_markdown":"When you posted the event, the event is posted before the activity started and register to the eventbus","body":"When you posted the event, the event is posted before the activity started and register to the eventbus"},{"owner":{"account_id":22053337,"reputation":49,"user_id":16317259,"display_name":"Kirion"},"score":0,"creation_date":1632987382,"post_id":69387840,"comment_id":122642644,"body_markdown":"@DeePanShu I would be very happy if you could explain how I can do this with an example because I don&#39;t quite understand what you mean.","body":"@DeePanShu I would be very happy if you could explain how I can do this with an example because I don&#39;t quite understand what you mean."},{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1632987535,"post_id":69387840,"comment_id":122642725,"body_markdown":"You posted the event - First, then you started activity - Second and last the ActivityOne get registered with eventbus - Third, but event is posted before the third step executed, thats why you are not receiving data","body":"You posted the event - First, then you started activity - Second and last the ActivityOne get registered with eventbus - Third, but event is posted before the third step executed, thats why you are not receiving data"}],"owner":{"account_id":22053337,"reputation":49,"user_id":16317259,"display_name":"Kirion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632986424,"creation_date":1632986424,"question_id":69387840,"body_markdown":"I wanted to use the eventbus library as an example, but it doesn&#39;t work, what do you think?\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val btn1 = findViewById&lt;Button&gt;(R.id.button)\r\n    \r\n            btn1.setOnClickListener {\r\n    \r\n                EventBus.getDefault().post(SendEvent(&quot;Meara&quot;))\r\n    \r\n                startActivity (  Intent ( this , ActivityOne::class.java ) )\r\n            }\r\n        }\r\n    }\r\n\r\nComponent that broadcasts the eventbus above\r\n\r\n    class SendEvent( string : String) {\r\n    \r\n    \tvar str : String = string\r\n    }\r\n\r\na class that holds data\r\n\r\nFinally there is a component that receives the data\r\n\r\n    class ActivityOne : AppCompatActivity() {\r\n    \r\n    \tprivate lateinit var txt : TextView\r\n    \r\n    \toverride fun onCreate(savedInstanceState : Bundle?) {\r\n    \t\tsuper.onCreate(savedInstanceState)\r\n    \t\tsetContentView(R.layout.activity_one)\r\n    \r\n    \t\tEventBus.getDefault().register(this)\r\n    \r\n    \t\ttxt = findViewById(R.id.txt1)\r\n    \t}\r\n    \r\n    \toverride fun onDestroy() {\r\n    \r\n    \t\tEventBus.getDefault().unregister(this)\r\n    \r\n    \t\tsuper.onDestroy()\r\n    \t}\r\n    \r\n    \t@Subscribe\r\n    \tfun onEvent (event : SendEvent ) {\r\n    \r\n    \t\ttxt.text = event.str\r\n    \t}\r\n    }","title":"The eventbus library is not working no matter what I do","body":"<p>I wanted to use the eventbus library as an example, but it doesn't work, what do you think?</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val btn1 = findViewById&lt;Button&gt;(R.id.button)\n\n        btn1.setOnClickListener {\n\n            EventBus.getDefault().post(SendEvent(&quot;Meara&quot;))\n\n            startActivity (  Intent ( this , ActivityOne::class.java ) )\n        }\n    }\n}\n</code></pre>\n<p>Component that broadcasts the eventbus above</p>\n<pre><code>class SendEvent( string : String) {\n\n    var str : String = string\n}\n</code></pre>\n<p>a class that holds data</p>\n<p>Finally there is a component that receives the data</p>\n<pre><code>class ActivityOne : AppCompatActivity() {\n\n    private lateinit var txt : TextView\n\n    override fun onCreate(savedInstanceState : Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_one)\n\n        EventBus.getDefault().register(this)\n\n        txt = findViewById(R.id.txt1)\n    }\n\n    override fun onDestroy() {\n\n        EventBus.getDefault().unregister(this)\n\n        super.onDestroy()\n    }\n\n    @Subscribe\n    fun onEvent (event : SendEvent ) {\n\n        txt.text = event.str\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1514565568,"post_id":48025610,"comment_id":83020726,"body_markdown":"You&#39;re really not meant to use raw Java in JSPs anymore...","body":"You&#39;re really not meant to use raw Java in JSPs anymore..."},{"owner":{"account_id":5011473,"reputation":41,"user_id":4027631,"display_name":"Vishal Mittal"},"score":0,"creation_date":1514565811,"post_id":48025610,"comment_id":83020829,"body_markdown":"@Makoto List contains the values which I want to show into that drop down and if it equals to PortalTO.getCodeTO().getCodeId() then it will mark it as selected otherwise unselected","body":"@Makoto List contains the values which I want to show into that drop down and if it equals to PortalTO.getCodeTO().getCodeId() then it will mark it as selected otherwise unselected"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1514566106,"post_id":48025610,"comment_id":83020943,"body_markdown":"You should separate the logic because your code is unreadable.","body":"You should separate the logic because your code is unreadable."},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":1,"creation_date":1514569806,"post_id":48025610,"comment_id":83022479,"body_markdown":"You need to realize that JSP simply gets converted to HTML and in turn gets loaded into Browser that is on different machine than your application. In order to send data back to your application from JSP you need to use HTML forms (with POST) or AJAX.","body":"You need to realize that JSP simply gets converted to HTML and in turn gets loaded into Browser that is on different machine than your application. In order to send data back to your application from JSP you need to use HTML forms (with POST) or AJAX."},{"owner":{"account_id":5011473,"reputation":41,"user_id":4027631,"display_name":"Vishal Mittal"},"score":0,"creation_date":1515153865,"post_id":48025610,"comment_id":83202084,"body_markdown":"I Used JS And ajax to solve this problem Thank You, Guys.","body":"I Used JS And ajax to solve this problem Thank You, Guys."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1632987051,"post_id":48025610,"comment_id":122642493,"body_markdown":"Shouldn&#39;t this be tagged with [JSP](https://stackoverflow.com/tags/jsp/info)?","body":"Shouldn&#39;t this be tagged with <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a>?"}],"owner":{"account_id":5011473,"reputation":41,"user_id":4027631,"display_name":"Vishal Mittal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632986229,"creation_date":1514565474,"question_id":48025610,"body_markdown":"I am using the multi-select dropdown. I want to send it a value into my Java code using setter and getter.\r\n\r\nThe code is like:\r\n\r\n            &lt;select id=&quot;CodeId&quot; name=&quot;CodeId&quot; multiple=&quot;multiple&quot; class=&quot;3col active&quot;&gt;\r\n\r\n                &lt;%\r\n                    PortalTO PortalTO=null;\r\n                    if(List!=null &amp;&amp; List.size()&gt;0){\r\n                        for(int i=0; i&lt;List.size(); i++){\r\n                            PortalTO = (PortalTO) List.get(i);\r\n                            if(FilterTO.getSubPortalId()==PortalTO.getCodeTO().getCodeId()){\r\n                                selected=&quot;selected&quot;;\r\n                            }else{\r\n                                selected=&quot;&quot;;\r\n                            }\r\n                %&gt;\r\n\r\n                &lt;option value=&quot;&lt;%=PortalTO.getCodeTO().getCodeId()%&gt;&quot; &lt;%=selected%&gt;&gt;\r\n                    &lt;%=CBLUtil.checkNull(PortalTO.getCodeTO().getCode())%&gt;\r\n                &lt;/option&gt;\r\n\r\n                &lt;%\r\n                    }\r\n                }\r\n                %&gt;\r\n            &lt;/select&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nAs a multi-select return array, so I set one setter and getter of type array, but I am unable to get it on my application end.\r\n\r\n\r\n\r\n\r\n","title":"Get value from multiselect in Java","body":"<p>I am using the multi-select dropdown. I want to send it a value into my Java code using setter and getter.</p>\n<p>The code is like:</p>\n<pre><code>        &lt;select id=&quot;CodeId&quot; name=&quot;CodeId&quot; multiple=&quot;multiple&quot; class=&quot;3col active&quot;&gt;\n\n            &lt;%\n                PortalTO PortalTO=null;\n                if(List!=null &amp;&amp; List.size()&gt;0){\n                    for(int i=0; i&lt;List.size(); i++){\n                        PortalTO = (PortalTO) List.get(i);\n                        if(FilterTO.getSubPortalId()==PortalTO.getCodeTO().getCodeId()){\n                            selected=&quot;selected&quot;;\n                        }else{\n                            selected=&quot;&quot;;\n                        }\n            %&gt;\n\n            &lt;option value=&quot;&lt;%=PortalTO.getCodeTO().getCodeId()%&gt;&quot; &lt;%=selected%&gt;&gt;\n                &lt;%=CBLUtil.checkNull(PortalTO.getCodeTO().getCode())%&gt;\n            &lt;/option&gt;\n\n            &lt;%\n                }\n            }\n            %&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>As a multi-select return array, so I set one setter and getter of type array, but I am unable to get it on my application end.</p>\n"},{"tags":["java","html","layout","freemarker"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1632986035,"post_id":59664066,"comment_id":122642112,"body_markdown":"Please don&#39;t post answers in questions. Instead add an answer.","body":"Please don&#39;t post answers in questions. Instead add an answer."}],"answers":[{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578586330,"creation_date":1578573796,"answer_id":59664247,"question_id":59664066,"body_markdown":"See https://freemarker.apache.org/docs/dgui_template_exp.html#dgui_template_exp_var_sequence\r\n\r\n&gt; ## Retrieving data from a sequence\r\n&gt; This is the same as for hashes, but you can use the square bracket syntax only, and the expression in the brackets must evaluate to a number, not a string. For example to get the name of the first animal of the example data-model (remember that the number of the first item is 0, not 1): `animals[0].name`\r\n\r\nand the sequence built-in `size`: https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_size\r\n\r\n&gt; ## size\r\n&gt; The number of sub variables in sequence (as a numerical value). The highest possible index in sequence `s` is `s?size - 1` (since the index of the first subvariable is 0) assuming that the sequence has at least one subvariable.\r\n\r\nIf you want to find the largest size, use https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_min_max\r\n\r\n&gt; ## min, max\r\n&gt; Returns the smaller (`min`) or greatest (`max`) item of the sequence (or collection). The items must be either all numbers, or all date/time values of the same kind (date-only, time-only, date-time), or else a comparison error will occur\r\n\r\nThis allows you to do something like:\r\n\r\n    &lt;#list 0..&lt;[sequenceA?size, sequenceB?size]?max as i&gt;\r\n      &lt;tr&gt;\r\n      &lt;td&gt;${sequenceA[i]!&quot;&quot;}&lt;/td&gt;\r\n      &lt;td&gt;${sequenceB[i]!&quot;&quot;}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/#list&gt;\r\n\r\nSee also:\r\n\r\n* https://stackoverflow.com/questions/13950289/handling-null-values-in-freemarker","title":"Best way to use multiple sequences for table columns in FreeMarker","body":"<p>See <a href=\"https://freemarker.apache.org/docs/dgui_template_exp.html#dgui_template_exp_var_sequence\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/dgui_template_exp.html#dgui_template_exp_var_sequence</a></p>\n\n<blockquote>\n  <h2>Retrieving data from a sequence</h2>\n  \n  <p>This is the same as for hashes, but you can use the square bracket syntax only, and the expression in the brackets must evaluate to a number, not a string. For example to get the name of the first animal of the example data-model (remember that the number of the first item is 0, not 1): <code>animals[0].name</code></p>\n</blockquote>\n\n<p>and the sequence built-in <code>size</code>: <a href=\"https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_size\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_size</a></p>\n\n<blockquote>\n  <h2>size</h2>\n  \n  <p>The number of sub variables in sequence (as a numerical value). The highest possible index in sequence <code>s</code> is <code>s?size - 1</code> (since the index of the first subvariable is 0) assuming that the sequence has at least one subvariable.</p>\n</blockquote>\n\n<p>If you want to find the largest size, use <a href=\"https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_min_max\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/ref_builtins_sequence.html#ref_builtin_min_max</a></p>\n\n<blockquote>\n  <h2>min, max</h2>\n  \n  <p>Returns the smaller (<code>min</code>) or greatest (<code>max</code>) item of the sequence (or collection). The items must be either all numbers, or all date/time values of the same kind (date-only, time-only, date-time), or else a comparison error will occur</p>\n</blockquote>\n\n<p>This allows you to do something like:</p>\n\n<pre><code>&lt;#list 0..&lt;[sequenceA?size, sequenceB?size]?max as i&gt;\n  &lt;tr&gt;\n  &lt;td&gt;${sequenceA[i]!\"\"}&lt;/td&gt;\n  &lt;td&gt;${sequenceB[i]!\"\"}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/#list&gt;\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13950289/handling-null-values-in-freemarker\">Handling null values in Freemarker</a></li>\n</ul>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632986078,"creation_date":1578573170,"question_id":59664066,"body_markdown":"I have two separate lists (sets) of data which i would like to use to create a table\r\n\r\n    ColumnA      ColumnB\r\n    Value1       Value1\r\n    Value2       Value2\r\n    Value3       Value3\r\n    Value4       Value4\r\n                 Value5\r\n                 Value6\r\n\r\nI know i could do it by POJO where my sets will be POJO (e.g. a and b) fields and i can call them in template like:\r\n\r\n    &lt;table&gt;\r\n    &lt;tr&gt;\r\n    &lt;th&gt;ColumnA&lt;/th&gt;\r\n    &lt;th&gt;ColumnB&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;#list object as c&gt;\r\n    &lt;td&gt;${c.a}&lt;/td&gt;\r\n    &lt;td&gt;${c.b}&lt;/td&gt;\r\n    &lt;/#list&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nHowever I would like to use separate sets and populate ColumnA and ColumnsB separately\r\n\r\nWould you please advise the best way to do it?\r\n\r\nFor instance:\r\n\r\ndata.put(&quot;set1&quot;, SET1)\r\n\r\ndata.put(&quot;set2&quot;, SET2)\r\n\r\ntemplate:\r\n\r\n    &lt;table&gt;\r\n    &lt;tr&gt;\r\n    &lt;th&gt;ColumnA&lt;/th&gt;\r\n    &lt;th&gt;ColumnB&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;#list set1 as c&gt;\r\n    &lt;tr&gt;&lt;td&gt;${c}&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/#list&gt;\r\n    &lt;#list set2 as d&gt;\r\n    &lt;tr&gt;&lt;td&gt;${d}&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/#list&gt;\r\n    &lt;/table&gt;\r\n\r\nSo it will merge two sets for ColumnA\r\n","title":"Best way to use multiple sequences for table columns in FreeMarker","body":"<p>I have two separate lists (sets) of data which i would like to use to create a table</p>\n<pre><code>ColumnA      ColumnB\nValue1       Value1\nValue2       Value2\nValue3       Value3\nValue4       Value4\n             Value5\n             Value6\n</code></pre>\n<p>I know i could do it by POJO where my sets will be POJO (e.g. a and b) fields and i can call them in template like:</p>\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;ColumnA&lt;/th&gt;\n&lt;th&gt;ColumnB&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;#list object as c&gt;\n&lt;td&gt;${c.a}&lt;/td&gt;\n&lt;td&gt;${c.b}&lt;/td&gt;\n&lt;/#list&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>However I would like to use separate sets and populate ColumnA and ColumnsB separately</p>\n<p>Would you please advise the best way to do it?</p>\n<p>For instance:</p>\n<p>data.put(&quot;set1&quot;, SET1)</p>\n<p>data.put(&quot;set2&quot;, SET2)</p>\n<p>template:</p>\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;ColumnA&lt;/th&gt;\n&lt;th&gt;ColumnB&lt;/th&gt;\n&lt;/tr&gt;\n&lt;#list set1 as c&gt;\n&lt;tr&gt;&lt;td&gt;${c}&lt;/td&gt;&lt;/tr&gt;\n&lt;/#list&gt;\n&lt;#list set2 as d&gt;\n&lt;tr&gt;&lt;td&gt;${d}&lt;/td&gt;&lt;/tr&gt;\n&lt;/#list&gt;\n&lt;/table&gt;\n</code></pre>\n<p>So it will merge two sets for ColumnA</p>\n"},{"tags":["java","spring","spring-boot","double","setter"],"answers":[{"tags":[],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632986056,"creation_date":1632986056,"answer_id":69387770,"question_id":67599623,"body_markdown":"SOLUTION:\r\n\r\nWorking with Double gave me some issues in the past, so I finally decided to save all Double values as Strings in my databases. At any time, I just take the numeric value and operate with it with no issues.","title":"Spring: Can&#39;t get to set Latitude and Longitude properly to an entity. It only works some times","body":"<p>SOLUTION:</p>\n<p>Working with Double gave me some issues in the past, so I finally decided to save all Double values as Strings in my databases. At any time, I just take the numeric value and operate with it with no issues.</p>\n"}],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69387770,"answer_count":1,"score":0,"last_activity_date":1632986056,"creation_date":1621413155,"question_id":67599623,"body_markdown":"I&#39;m trying to update &quot;Estab&quot;, which are entities with Latitude (locLat) and Longitude (locLon). I&#39;m having difficulties to update them, because it will not always set the values and I can&#39;t find a pattern. \r\n\r\n    {\r\n        &quot;estabId&quot;: 4,\r\n        &quot;nombre&quot;: &quot;Palacio de las Artes Reina Sofia Modificado&quot;,\r\n        &quot;direccion&quot;: &quot;Avda. Profesor Lopez Pi&#241;ero&quot;,\r\n        &quot;codPost&quot;: 46010,\r\n        &quot;poblacion&quot;: &quot;Valencia&quot;,\r\n        &quot;telefono&quot;: &quot;963219874&quot;,\r\n        &quot;url&quot;: &quot;www.palaudelesarts.com&quot;,\r\n        &quot;locLat&quot;: 52.2,\r\n        &quot;locLon&quot;: -6554,\r\n        &quot;locZoom&quot;: 1,\r\n        &quot;tipo&quot;: 3\r\n    }\r\n\r\nAbove, is what I send to the entity, and then it&#39;s supposed to set the values. At first I thought there would be an issue with integer numbers, so I created 2 setters for each attribute (Lat and Lon). Minutes ago, I even created a 3rd setter to be able to pass values as String in case it worked:\r\n\r\n    @Column(name=&quot;loc_lat&quot;)\r\n\tprivate Double locLat;\r\n\r\n    public void setLocLat(double locLat) {\r\n\t\tthis.locLat = locLat;\r\n\t}\r\n\t\r\n\tpublic void setLocLat(int lat) {\r\n\t\tString latStr = String.valueOf(lat);\r\n\t\tdouble latD = Double.valueOf(latStr);\r\n\t\tthis.locLat = latD;\r\n\t}\r\n\t\r\n\tpublic void setLocLat(String lat) {\r\n\t\tdouble latD = Double.valueOf(lat);\r\n\t\tthis.locLat = latD;\r\n\t}\r\n\r\n\r\nAnother fact that feels so weird to me is that when I run program in debug mode, it actually seems to work, no matter what of the 3 methods is used.\r\n\r\nI tried to change the value type on the variable &quot;latD&quot; from &quot;Double&quot; to &quot;double&quot; and it seemed to work for a couple tries, but not anymore. \r\n\r\nDoes anyone have an idea of what is going on here? Thank you so much in advance!!\r\n\r\nBtw, I&#39;m sending all the info through Postman.","title":"Spring: Can&#39;t get to set Latitude and Longitude properly to an entity. It only works some times","body":"<p>I'm trying to update &quot;Estab&quot;, which are entities with Latitude (locLat) and Longitude (locLon). I'm having difficulties to update them, because it will not always set the values and I can't find a pattern.</p>\n<pre><code>{\n    &quot;estabId&quot;: 4,\n    &quot;nombre&quot;: &quot;Palacio de las Artes Reina Sofia Modificado&quot;,\n    &quot;direccion&quot;: &quot;Avda. Profesor Lopez Piñero&quot;,\n    &quot;codPost&quot;: 46010,\n    &quot;poblacion&quot;: &quot;Valencia&quot;,\n    &quot;telefono&quot;: &quot;963219874&quot;,\n    &quot;url&quot;: &quot;www.palaudelesarts.com&quot;,\n    &quot;locLat&quot;: 52.2,\n    &quot;locLon&quot;: -6554,\n    &quot;locZoom&quot;: 1,\n    &quot;tipo&quot;: 3\n}\n</code></pre>\n<p>Above, is what I send to the entity, and then it's supposed to set the values. At first I thought there would be an issue with integer numbers, so I created 2 setters for each attribute (Lat and Lon). Minutes ago, I even created a 3rd setter to be able to pass values as String in case it worked:</p>\n<pre><code>@Column(name=&quot;loc_lat&quot;)\nprivate Double locLat;\n\npublic void setLocLat(double locLat) {\n    this.locLat = locLat;\n}\n\npublic void setLocLat(int lat) {\n    String latStr = String.valueOf(lat);\n    double latD = Double.valueOf(latStr);\n    this.locLat = latD;\n}\n\npublic void setLocLat(String lat) {\n    double latD = Double.valueOf(lat);\n    this.locLat = latD;\n}\n</code></pre>\n<p>Another fact that feels so weird to me is that when I run program in debug mode, it actually seems to work, no matter what of the 3 methods is used.</p>\n<p>I tried to change the value type on the variable &quot;latD&quot; from &quot;Double&quot; to &quot;double&quot; and it seemed to work for a couple tries, but not anymore.</p>\n<p>Does anyone have an idea of what is going on here? Thank you so much in advance!!</p>\n<p>Btw, I'm sending all the info through Postman.</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":21184533,"reputation":767,"user_id":15578194,"display_name":"idk wut to put here"},"score":0,"creation_date":1632977808,"post_id":69386330,"comment_id":122639807,"body_markdown":"What&#39;s the error that it&#39;s showing?","body":"What&#39;s the error that it&#39;s showing?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1632978411,"post_id":69386330,"comment_id":122639934,"body_markdown":"`double loopcounter` - why a double?","body":"<code>double loopcounter</code> - why a double?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1632982605,"post_id":69386330,"comment_id":122640877,"body_markdown":"It seems that you used search &amp; replace over the whole file to replace `int` with `double` - you have loop counters that are double (which doesn&#39;t make that much sense) and you have `System.out.prdoubleln()` instead of `System.out.println`.","body":"It seems that you used search &amp; replace over the whole file to replace <code>int</code> with <code>double</code> - you have loop counters that are double (which doesn&#39;t make that much sense) and you have <code>System.out.prdoubleln()</code> instead of <code>System.out.println</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1632982850,"post_id":69386330,"comment_id":122640947,"body_markdown":"The sequence of statements seems messed up: variables are used before they are declared. `System.out.println(&quot;| &quot; &lt;&lt; array[loopcounter] &lt;&lt; &#39;%&#39;);` looks like a mix of C++ (where you can use `&lt;&lt;` to append to an output stream) with Java (where you use `System.out.println()` to print text). This line should read `System.out.println(&quot;| &quot; + array[loopcounter] + &#39;%&#39;);`","body":"The sequence of statements seems messed up: variables are used before they are declared. <code>System.out.println(&quot;| &quot; &lt;&lt; array[loopcounter] &lt;&lt; &#39;%&#39;);</code> looks like a mix of C++ (where you can use <code>&lt;&lt;</code> to append to an output stream) with Java (where you use <code>System.out.println()</code> to print text). This line should read <code>System.out.println(&quot;| &quot; + array[loopcounter] + &#39;%&#39;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":18467904,"reputation":41,"user_id":13453591,"display_name":"mustafa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632985958,"creation_date":1632985023,"answer_id":69387533,"question_id":69386330,"body_markdown":"You should check parenthesis because some of them are missing. \r\n\r\nYou do not have a print_header() method in your code, define a method for it. \r\n\r\nIf you want to get output in switch-case, you should use System.out.print() or System.out.println() methods because you have just written some strings there. \r\n\r\nIn for loop, you have written &quot;array[loopcounter]&quot;, you do not have an array which name is &quot;array&quot; before that loop. \r\n\r\nAlso, &quot;percent&quot; variable should have a data type. \r\n\r\nIn below, the array, which name is &quot;array&quot; has some strings (they should have double-quote) but you define this array as a char. You should use String. \r\n\r\nThe last problem is that &quot;System.out.prdoubleln()&quot; method. System.out does not have this method. \r\n\r\n* Use int variable in your loops.\r\n\r\nI have checked quickly and have seen these problems.","title":"I dont know what to do with errors anymore","body":"<p>You should check parenthesis because some of them are missing.</p>\n<p>You do not have a print_header() method in your code, define a method for it.</p>\n<p>If you want to get output in switch-case, you should use System.out.print() or System.out.println() methods because you have just written some strings there.</p>\n<p>In for loop, you have written &quot;array[loopcounter]&quot;, you do not have an array which name is &quot;array&quot; before that loop.</p>\n<p>Also, &quot;percent&quot; variable should have a data type.</p>\n<p>In below, the array, which name is &quot;array&quot; has some strings (they should have double-quote) but you define this array as a char. You should use String.</p>\n<p>The last problem is that &quot;System.out.prdoubleln()&quot; method. System.out does not have this method.</p>\n<ul>\n<li>Use int variable in your loops.</li>\n</ul>\n<p>I have checked quickly and have seen these problems.</p>\n"}],"owner":{"account_id":22901401,"reputation":1,"user_id":17040058,"display_name":"Blankname"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633002555,"answer_count":1,"score":-3,"last_activity_date":1632985958,"creation_date":1632977625,"question_id":69386330,"body_markdown":"Hi im still new with coding, and ive making this code for day. it has a lot of error to the point i dont understand it anymore. can you please help with whats wrong with the code and revise it to make it work or run.\r\n\r\nhere my code\r\n\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    public class GradeDistribution\r\n\r\n     {\r\n     public static void main(String[] args)\r\n    {\r\n      print_header();\r\n\r\n        Scanner kb = new Scanner (System.in);\r\n\r\n    {\r\n        System.out.println(&quot;******************************************************&quot;);\r\n        System.out.println(&quot;This program will present the number of grades&quot; ); //INTRODUCTION\r\n        System.out.println(&quot;you input for grades A-F and turn this information&quot;); //TO\r\n        System.out.println(&quot;in to a bar graph for ease.&quot;); //PROGRAM\r\n        System.out.println(&quot;******************************************************&quot;);\r\n        System.out.println(&quot; &quot;);\r\n\r\n\r\n             for(double loopcounter=0; loopcounter&lt;5; loopcounter++)\r\n\r\n             {\r\n\r\n             switch(loopcounter)\r\n\r\n             {\r\n\r\n\r\n            case 0:  &quot;\\nGrade A: |&quot;; break;\r\n\r\n            case 1:  &quot;\\Grade B: |&quot;; break;\r\n\r\n            case 3:  &quot;\\Grade C: |&quot;; break;\r\n\r\n            case 4:  &quot;\\Grade D: |&quot;; break;\r\n\r\n            case 5:  &quot;\\Grade F: |&quot;; break;\r\n\r\n             }\r\n\r\n\r\n             //loop to output each asterisk\r\n\r\n             for(double asteriskcounter=0; asteriskcounter&lt;array[loopcounter]/2; \r\n    asteriskcounter++)\r\n\r\n             System.out.println (&#39;*&#39;);\r\n\r\n             System.out.println(&quot;| &quot; &lt;&lt; array[loopcounter] &lt;&lt; &#39;%&#39;);\r\n      }\r\n\r\n        percent=100/14; // 7;\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot; TOTAL GRADES ENTERED - &quot;);\r\n\r\n        char[] line = percent*a/2;//3; Bcent=percent*b/2; Ccent=percent*c/2; Dcent=percent*d/2; \r\n    Ecent=percent*e/2; Fcent=percent*f/2;\r\n\r\n        } //end;\r\n\r\n        System.out.println(&quot; 0 10 20 30 40 50 60 70 80 90 100&quot;);\r\n        System.out.println(&quot; | | | | | | | | | | |&quot;);\r\n        System.out.println(&quot; **************************************************&quot;);\r\n\r\n        double array[6] = {Acent, Bcent, Ccent, Dcent, Ecent, Fcent}; //stores grades as \r\n    percentage\r\n        char[] line = array2[6] = {&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;}; //stores letters a-f\r\n        // loop for each grade\r\n        for(double loopcounter=0; loopcounter&lt;6; loopcounter++)\r\n    {\r\n\r\n        System.out.println(&quot; &quot;);\r\n        // loop to output each asterisk\r\n        for(double asteriskcounter=0; asteriskcounter&lt;array[loopcounter]; asteriskcounter++)\r\n    {\r\n\r\n           System.out.println(&quot;*&quot;);\r\n    }\r\n        // prdouble the grade after the asterisks\r\n        System.out.prdoubleln( &quot; GRADE &quot;[loopcounter]);\r\n\r\n\r\nplease help me again. for i really need it with my assignment and im really having a hard time catching up already.\r\nThank you so much for your help in advance.","title":"I dont know what to do with errors anymore","body":"<p>Hi im still new with coding, and ive making this code for day. it has a lot of error to the point i dont understand it anymore. can you please help with whats wrong with the code and revise it to make it work or run.</p>\n<p>here my code</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*;\npublic class GradeDistribution\n\n {\n public static void main(String[] args)\n{\n  print_header();\n\n    Scanner kb = new Scanner (System.in);\n\n{\n    System.out.println(&quot;******************************************************&quot;);\n    System.out.println(&quot;This program will present the number of grades&quot; ); //INTRODUCTION\n    System.out.println(&quot;you input for grades A-F and turn this information&quot;); //TO\n    System.out.println(&quot;in to a bar graph for ease.&quot;); //PROGRAM\n    System.out.println(&quot;******************************************************&quot;);\n    System.out.println(&quot; &quot;);\n\n\n         for(double loopcounter=0; loopcounter&lt;5; loopcounter++)\n\n         {\n\n         switch(loopcounter)\n\n         {\n\n\n        case 0:  &quot;\\nGrade A: |&quot;; break;\n\n        case 1:  &quot;\\Grade B: |&quot;; break;\n\n        case 3:  &quot;\\Grade C: |&quot;; break;\n\n        case 4:  &quot;\\Grade D: |&quot;; break;\n\n        case 5:  &quot;\\Grade F: |&quot;; break;\n\n         }\n\n\n         //loop to output each asterisk\n\n         for(double asteriskcounter=0; asteriskcounter&lt;array[loopcounter]/2; \nasteriskcounter++)\n\n         System.out.println ('*');\n\n         System.out.println(&quot;| &quot; &lt;&lt; array[loopcounter] &lt;&lt; '%');\n  }\n\n    percent=100/14; // 7;\n    System.out.println(&quot; &quot;);\n    System.out.println(&quot; TOTAL GRADES ENTERED - &quot;);\n\n    char[] line = percent*a/2;//3; Bcent=percent*b/2; Ccent=percent*c/2; Dcent=percent*d/2; \nEcent=percent*e/2; Fcent=percent*f/2;\n\n    } //end;\n\n    System.out.println(&quot; 0 10 20 30 40 50 60 70 80 90 100&quot;);\n    System.out.println(&quot; | | | | | | | | | | |&quot;);\n    System.out.println(&quot; **************************************************&quot;);\n\n    double array[6] = {Acent, Bcent, Ccent, Dcent, Ecent, Fcent}; //stores grades as \npercentage\n    char[] line = array2[6] = {'A','B','C','D','E','F'}; //stores letters a-f\n    // loop for each grade\n    for(double loopcounter=0; loopcounter&lt;6; loopcounter++)\n{\n\n    System.out.println(&quot; &quot;);\n    // loop to output each asterisk\n    for(double asteriskcounter=0; asteriskcounter&lt;array[loopcounter]; asteriskcounter++)\n{\n\n       System.out.println(&quot;*&quot;);\n}\n    // prdouble the grade after the asterisks\n    System.out.prdoubleln( &quot; GRADE &quot;[loopcounter]);\n</code></pre>\n<p>please help me again. for i really need it with my assignment and im really having a hard time catching up already.\nThank you so much for your help in advance.</p>\n"},{"tags":["java","android","gson","json"],"comments":[{"owner":{"account_id":4018454,"reputation":1215,"user_id":5010291,"accept_rate":65,"display_name":"Don&#39;t Be negative"},"score":0,"creation_date":1453283108,"post_id":34896145,"comment_id":57529678,"body_markdown":"In your Json data did Title is required... or any thing like `Title:xyz`","body":"In your Json data did Title is required... or any thing like <code>Title:xyz</code>"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1453283387,"post_id":34896145,"comment_id":57529868,"body_markdown":"@Don&#39;tBenegative &quot;Title&quot; is a object with no key,not like you mentioned.","body":"@Don&#39;tBenegative &quot;Title&quot; is a object with no key,not like you mentioned."},{"owner":{"account_id":4018454,"reputation":1215,"user_id":5010291,"accept_rate":65,"display_name":"Don&#39;t Be negative"},"score":0,"creation_date":1453283460,"post_id":34896145,"comment_id":57529927,"body_markdown":"So is it necessary or not to view in your application","body":"So is it necessary or not to view in your application"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1453284387,"post_id":34896145,"comment_id":57530551,"body_markdown":"@Don&#39;tBenegative I need to store all data in object","body":"@Don&#39;tBenegative I need to store all data in object"},{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1453293757,"post_id":34896145,"comment_id":57536991,"body_markdown":"Please post either the error message you&#39;re receiving or describe the incorrect behavior along with the code causing it.","body":"Please post either the error message you&#39;re receiving or describe the incorrect behavior along with the code causing it."},{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":0,"creation_date":1453767264,"post_id":34896145,"comment_id":57737653,"body_markdown":"@appukrb - Did you review my answer? Does it successfully parse the data?","body":"@appukrb - Did you review my answer? Does it successfully parse the data?"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1453871466,"post_id":34896145,"comment_id":57784701,"body_markdown":"@nickb thanks for your answer,but I found a simple way to parse","body":"@nickb thanks for your answer,but I found a simple way to parse"}],"answers":[{"tags":[],"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453300905,"creation_date":1453300905,"answer_id":34903035,"question_id":34896145,"body_markdown":"To start, your JSON causes an exception to be thrown because it is invalid - You have an extra comma at the end of the last value in the second example. `&quot;3&quot;: 8536,` should be `&quot;3&quot;: 8536`.\r\n\r\nAfter fixing that, this should be a simple task provided you define your objects correctly. Here is what I came up with:\r\n\r\n    public class Results {\r\n        @SerializedName(&quot;Result&quot;)\r\n        List&lt;Result&gt; results;\r\n    }\r\n    \r\n    public class Result {\r\n        String title;\r\n        Map&lt;String, Integer&gt; results;\r\n    }\r\n\r\nFrom there, the `Result` class needs to be deserialized in a special fashion, since the fields in the `Result` class do not directly map to entries in the JSON. Instead, we need to pull off the first and second elements of the `JsonArray` that is contained within each `Result`, and parse it accordingly. That looks like this:\r\n\r\n    public class ResultDeserializer implements JsonDeserializer&lt;Result&gt; {\r\n\r\n        @Override\r\n        public Result deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n            JsonArray array = json.getAsJsonArray();\r\n            \r\n            Result result = new Result();\r\n            result.title = array.get(0).getAsString();\r\n            \r\n            result.results = new LinkedHashMap&lt;String, Integer&gt;();\r\n            for(Entry&lt;String, JsonElement&gt; entry : array.get(1).getAsJsonObject().entrySet()) {\r\n                result.results.put(entry.getKey(), entry.getValue().getAsInt());\r\n            }\r\n            \r\n            return result;\r\n        }   \r\n    }\r\n\r\nNote that my example omits error checking. Finally, register this deserializer, and you should be all set:\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(Result.class, new ResultDeserializer()).create();\r\n        \r\n    Results results = gson.fromJson(json, Results.class);\r\n       \r\n    for(Result r : results.results) {\r\n        System.out.println(&quot;Title = &quot; + r.title);\r\n        for(Entry&lt;String, Integer&gt; entry : r.results.entrySet()) {\r\n            System.out.println(&quot;\\t &quot; + entry.getKey() + &quot; -&gt; &quot; + entry.getValue());\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    Title = Title\r\n    \t 0 -&gt; 1323\r\n    \t 1 -&gt; 3358\r\n    \t 2 -&gt; 2123\r\n    \t 3 -&gt; 8536\r\n    \t 4 -&gt; 1399\r\n    \t 5 -&gt; 9303\r\n    \t 7 -&gt; 9732\r\n    \t 8 -&gt; 3433\r\n    \t 9 -&gt; 1383\r\n    Title = Title\r\n    \t 0 -&gt; 1323\r\n    \t 1 -&gt; 3358\r\n    \t 2 -&gt; 2123\r\n    \t 3 -&gt; 8536\r\n\r\nI&#39;ll leave it to the OP to implement the reverse, that is a serializer for `Result` to produce the same results.","title":"Parse Dynamic Json Objects in gson","body":"<p>To start, your JSON causes an exception to be thrown because it is invalid - You have an extra comma at the end of the last value in the second example. <code>\"3\": 8536,</code> should be <code>\"3\": 8536</code>.</p>\n\n<p>After fixing that, this should be a simple task provided you define your objects correctly. Here is what I came up with:</p>\n\n<pre><code>public class Results {\n    @SerializedName(\"Result\")\n    List&lt;Result&gt; results;\n}\n\npublic class Result {\n    String title;\n    Map&lt;String, Integer&gt; results;\n}\n</code></pre>\n\n<p>From there, the <code>Result</code> class needs to be deserialized in a special fashion, since the fields in the <code>Result</code> class do not directly map to entries in the JSON. Instead, we need to pull off the first and second elements of the <code>JsonArray</code> that is contained within each <code>Result</code>, and parse it accordingly. That looks like this:</p>\n\n<pre><code>public class ResultDeserializer implements JsonDeserializer&lt;Result&gt; {\n\n    @Override\n    public Result deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        JsonArray array = json.getAsJsonArray();\n\n        Result result = new Result();\n        result.title = array.get(0).getAsString();\n\n        result.results = new LinkedHashMap&lt;String, Integer&gt;();\n        for(Entry&lt;String, JsonElement&gt; entry : array.get(1).getAsJsonObject().entrySet()) {\n            result.results.put(entry.getKey(), entry.getValue().getAsInt());\n        }\n\n        return result;\n    }   \n}\n</code></pre>\n\n<p>Note that my example omits error checking. Finally, register this deserializer, and you should be all set:</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(Result.class, new ResultDeserializer()).create();\n\nResults results = gson.fromJson(json, Results.class);\n\nfor(Result r : results.results) {\n    System.out.println(\"Title = \" + r.title);\n    for(Entry&lt;String, Integer&gt; entry : r.results.entrySet()) {\n        System.out.println(\"\\t \" + entry.getKey() + \" -&gt; \" + entry.getValue());\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Title = Title\n     0 -&gt; 1323\n     1 -&gt; 3358\n     2 -&gt; 2123\n     3 -&gt; 8536\n     4 -&gt; 1399\n     5 -&gt; 9303\n     7 -&gt; 9732\n     8 -&gt; 3433\n     9 -&gt; 1383\nTitle = Title\n     0 -&gt; 1323\n     1 -&gt; 3358\n     2 -&gt; 2123\n     3 -&gt; 8536\n</code></pre>\n\n<p>I'll leave it to the OP to implement the reverse, that is a serializer for <code>Result</code> to produce the same results.</p>\n"},{"tags":[],"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453871400,"creation_date":1453871400,"answer_id":35029315,"question_id":34896145,"body_markdown":"Found simple way to parse above json using **Nested Map** in **Gson**\r\n\r\n**Result.java**\r\n\r\n    public class Result {\r\n        @SerializedName(&quot;formatted_facet_fields&quot;)\r\n        Map&lt;String,Map&lt;String,String&gt;&gt; formatted_facet_fields;\r\n    }\r\n\r\nin response receiving side\r\n\r\n     Gson  gson=new Gson();\r\n     Result result = gson.fromJson(json_response, Result.class);","title":"Parse Dynamic Json Objects in gson","body":"<p>Found simple way to parse above json using <strong>Nested Map</strong> in <strong>Gson</strong></p>\n\n<p><strong>Result.java</strong></p>\n\n<pre><code>public class Result {\n    @SerializedName(\"formatted_facet_fields\")\n    Map&lt;String,Map&lt;String,String&gt;&gt; formatted_facet_fields;\n}\n</code></pre>\n\n<p>in response receiving side</p>\n\n<pre><code> Gson  gson=new Gson();\n Result result = gson.fromJson(json_response, Result.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22902381,"reputation":1,"user_id":17040896,"display_name":"Nishant Gohel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632985952,"creation_date":1632985952,"answer_id":69387741,"question_id":34896145,"body_markdown":"\r\n\r\nYes, You can parse nested json object.\r\n\r\n    if (!exists) {\r\n            keys = json.keys();\r\n            while (keys.hasNext()) {\r\n                nextKeys = (String) keys.next();\r\n                try {\r\n    \r\n                    if (json.get(nextKeys) instanceof JSONObject) {\r\n    \r\n                        if (exists == false) {\r\n                            getKey(json.getJSONObject(nextKeys), key);\r\n                        }\r\n    \r\n                    } else if (json.get(nextKeys) instanceof JSONArray) {\r\n                        JSONArray jsonarray = json.getJSONArray(nextKeys);\r\n                        for (int i = 0; i &lt; jsonarray.length(); i++) {\r\n                            String jsonarrayString = jsonarray.get(i).toString();\r\n                            JSONObject innerJSOn = new JSONObject(jsonarrayString);\r\n    \r\n                            if (exists == false) {\r\n                                getKey(innerJSOn, key);\r\n                            }\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                } catch (Exception e) {\r\n                    // TODO: handle exception\r\n                }\r\n    \r\n            }\r\n\r\nFor complete understanding checkout below: Code Explanation : https://www.youtube.com/watch?v=ZjZqLUGCWxo\r\n\r\n","title":"Parse Dynamic Json Objects in gson","body":"<p>Yes, You can parse nested json object.</p>\n<pre><code>if (!exists) {\n        keys = json.keys();\n        while (keys.hasNext()) {\n            nextKeys = (String) keys.next();\n            try {\n\n                if (json.get(nextKeys) instanceof JSONObject) {\n\n                    if (exists == false) {\n                        getKey(json.getJSONObject(nextKeys), key);\n                    }\n\n                } else if (json.get(nextKeys) instanceof JSONArray) {\n                    JSONArray jsonarray = json.getJSONArray(nextKeys);\n                    for (int i = 0; i &lt; jsonarray.length(); i++) {\n                        String jsonarrayString = jsonarray.get(i).toString();\n                        JSONObject innerJSOn = new JSONObject(jsonarrayString);\n\n                        if (exists == false) {\n                            getKey(innerJSOn, key);\n                        }\n\n                    }\n\n                }\n\n            } catch (Exception e) {\n                // TODO: handle exception\n            }\n\n        }\n</code></pre>\n<p>For complete understanding checkout below: Code Explanation : <a href=\"https://www.youtube.com/watch?v=ZjZqLUGCWxo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZjZqLUGCWxo</a></p>\n"}],"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3093,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":34903035,"answer_count":3,"score":4,"last_activity_date":1632985952,"creation_date":1453282057,"question_id":34896145,"body_markdown":"I have json structure like this,how I parse the json with help of Gson.I need to store the key values in json object,I tried many example related to dynamic array but dynamic json array without square brace I cannot parse using Gson.Any Solutions or need to do Manual Json Parse?If any one feel duplicate comment the answer below.\r\n\r\n    { &quot;Result&quot;:[[\r\n          &quot;Title&quot;,\r\n          {\r\n            &quot;0&quot;: 1323,\r\n            &quot;1&quot;: 3358,\r\n            &quot;2&quot;: 2123,\r\n            &quot;3&quot;: 8536,\r\n            &quot;4&quot;: 1399,\r\n            &quot;5&quot;: 9303,\r\n            &quot;7&quot;: 9732,\r\n            &quot;8&quot;: 3433,\r\n            &quot;9&quot;: 1383\r\n          }\r\n        ],[\r\n          &quot;Title&quot;,\r\n          {\r\n            &quot;0&quot;: 1323,\r\n            &quot;1&quot;: 3358,\r\n            &quot;2&quot;: 2123,\r\n            &quot;3&quot;: 8536,\r\n          }\r\n        ]]}","title":"Parse Dynamic Json Objects in gson","body":"<p>I have json structure like this,how I parse the json with help of Gson.I need to store the key values in json object,I tried many example related to dynamic array but dynamic json array without square brace I cannot parse using Gson.Any Solutions or need to do Manual Json Parse?If any one feel duplicate comment the answer below.</p>\n\n<pre><code>{ \"Result\":[[\n      \"Title\",\n      {\n        \"0\": 1323,\n        \"1\": 3358,\n        \"2\": 2123,\n        \"3\": 8536,\n        \"4\": 1399,\n        \"5\": 9303,\n        \"7\": 9732,\n        \"8\": 3433,\n        \"9\": 1383\n      }\n    ],[\n      \"Title\",\n      {\n        \"0\": 1323,\n        \"1\": 3358,\n        \"2\": 2123,\n        \"3\": 8536,\n      }\n    ]]}\n</code></pre>\n"},{"tags":["java","static-import"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632932652,"creation_date":1632932652,"answer_id":69380172,"question_id":69380084,"body_markdown":"&gt; Is there anything against this\r\n\r\nNo, it&#39;s fine.\r\n\r\n&gt; when could this lead to problems / ambiguities?\r\n\r\nwhen you get really wild with defining symbols in the file whose names clash with the imports.\r\n\r\nFor example:\r\n\r\n```\r\npackage example;\r\n\r\nimport static example.SomeClass.*;\r\n\r\nclass SomeClass {\r\n  static int foo;\r\n\r\n  void bar() {\r\n    foo = 1;\r\n\r\n    String foo = &quot;&quot;;\r\n    \r\n    System.out.println(foo);  // Prints the local variable.\r\n  }\r\n}\r\n```\r\n\r\nbut you should be giving yourself a stern talking to if you&#39;re writing code like this, so it&#39;s not really an issue.","title":"static import for constants in same file","body":"<blockquote>\n<p>Is there anything against this</p>\n</blockquote>\n<p>No, it's fine.</p>\n<blockquote>\n<p>when could this lead to problems / ambiguities?</p>\n</blockquote>\n<p>when you get really wild with defining symbols in the file whose names clash with the imports.</p>\n<p>For example:</p>\n<pre><code>package example;\n\nimport static example.SomeClass.*;\n\nclass SomeClass {\n  static int foo;\n\n  void bar() {\n    foo = 1;\n\n    String foo = &quot;&quot;;\n    \n    System.out.println(foo);  // Prints the local variable.\n  }\n}\n</code></pre>\n<p>but you should be giving yourself a stern talking to if you're writing code like this, so it's not really an issue.</p>\n"}],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69380172,"answer_count":1,"score":0,"last_activity_date":1632985946,"creation_date":1632932272,"question_id":69380084,"body_markdown":"To reference a class constant in an annotation present on the same class, the reference must be prefixed with the class name:\r\n\r\n```java\r\npackage example;\r\n\r\n@MyAnnotation(someAttribute = SomeClass.someConstant)\r\npublic class SomeClass {\r\n\r\n\tpublic static final someConstant = &quot;...&quot;;\r\n\r\n}\r\n```\r\n\r\nSince this can get quite bulky when using multiple constants / string concatenations, I might simply use the following import directive in the same file to eliminate the need for these prefixes:\r\n\r\n\r\n\r\n```java\r\npackage example;\r\n\r\nimport static example.SomeClass.*;\r\n\r\n@MyAnnotation(someAttribute = someConstant + more + constants)\r\npublic class SomeClass {\r\n\r\n\tpublic static final someConstant = &quot;...&quot;;\r\n\tpublic static final more = &quot;...&quot;;\r\n\tpublic static final constants = &quot;...&quot;;\r\n\r\n}\r\n```\r\n\r\nIs there anything against this, or when could this lead to problems / ambiguities?\r\n\r\n*Java Language Specification Chapter 7.5.4 Static-Import-on-Demand Declarations*:\r\n[v8](https://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.5.4), [v11](https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5.4), [v17](https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.5.4)","title":"static import for constants in same file","body":"<p>To reference a class constant in an annotation present on the same class, the reference must be prefixed with the class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\n@MyAnnotation(someAttribute = SomeClass.someConstant)\npublic class SomeClass {\n\n    public static final someConstant = &quot;...&quot;;\n\n}\n</code></pre>\n<p>Since this can get quite bulky when using multiple constants / string concatenations, I might simply use the following import directive in the same file to eliminate the need for these prefixes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport static example.SomeClass.*;\n\n@MyAnnotation(someAttribute = someConstant + more + constants)\npublic class SomeClass {\n\n    public static final someConstant = &quot;...&quot;;\n    public static final more = &quot;...&quot;;\n    public static final constants = &quot;...&quot;;\n\n}\n</code></pre>\n<p>Is there anything against this, or when could this lead to problems / ambiguities?</p>\n<p><em>Java Language Specification Chapter 7.5.4 Static-Import-on-Demand Declarations</em>:\n<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.5.4\" rel=\"nofollow noreferrer\">v8</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5.4\" rel=\"nofollow noreferrer\">v11</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.5.4\" rel=\"nofollow noreferrer\">v17</a></p>\n"},{"tags":["java","android","json","retrofit"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632982119,"post_id":69386949,"comment_id":122640735,"body_markdown":"By the way, your category ID and budget are strings in your shown JSON, not integers like your POJO is written","body":"By the way, your category ID and budget are strings in your shown JSON, not integers like your POJO is written"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632982195,"post_id":69386949,"comment_id":122640764,"body_markdown":"In any case, you&#39;re never using `response`, so it&#39;s unclear what you expect to happen. Can you show what the raw server response is for the input given? Also, some out of context arraylist and &quot;chips&quot; code is not useful. Please show a [mcve] of the full activity/fragment","body":"In any case, you&#39;re never using <code>response</code>, so it&#39;s unclear what you expect to happen. Can you show what the raw server response is for the input given? Also, some out of context arraylist and &quot;chips&quot; code is not useful. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the full activity/fragment"}],"owner":{"account_id":18387827,"reputation":11,"user_id":13394413,"display_name":"Nadim Mahmud Ovi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632985850,"creation_date":1632981852,"question_id":69386949,"body_markdown":"I have face a problem retrofit library in android java.\r\n\r\nhere is the json Body\r\n\r\n    {\r\n    &quot;title&quot;:&quot;Android &quot;,\r\n    &quot;type&quot;:&quot;project&quot;,\r\n    &quot;category_id&quot;:&quot;1&quot;,\r\n    &quot;tags&quot;:[&quot;swift&quot;,&quot;java&quot;,&quot;android&quot;],\r\n    &quot;end_date&quot;:&quot;2021-9-30&quot;,\r\n    &quot;description&quot;:&quot;testing&quot;,\r\n    &quot;budget&quot;:&quot;500&quot;\r\n}\r\n\r\nThis the pojo class\r\n\r\n    public class draftedJobPostModel {\r\n    private String title;\r\n    private String type;\r\n    private int category_id;\r\n    ArrayList&lt;String&gt; tags;\r\n    private String end_date;\r\n    private String description;\r\n    private int budget;\r\n    private String post_type;\r\n\r\n    public draftedJobPostModel() {\r\n    }\r\n\r\n    public draftedJobPostModel(String title, String type, int category_id, ArrayList&lt;String&gt; tags, String end_date, String description, int budget, String post_type) {\r\n        this.title = title;\r\n        this.type = type;\r\n        this.category_id = category_id;\r\n        this.tags = tags;\r\n        this.end_date = end_date;\r\n        this.description = description;\r\n        this.budget = budget;\r\n        this.post_type = post_type;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public int getCategory_id() {\r\n        return category_id;\r\n    }\r\n\r\n    public void setCategory_id(int category_id) {\r\n        this.category_id = category_id;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getTags() {\r\n        return tags;\r\n    }\r\n\r\n    public void setTags(ArrayList&lt;String&gt; tags) {\r\n        this.tags = tags;\r\n    }\r\n\r\n    public String getEnd_date() {\r\n        return end_date;\r\n    }\r\n\r\n    public void setEnd_date(String end_date) {\r\n        this.end_date = end_date;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getBudget() {\r\n        return budget;\r\n    }\r\n\r\n    public void setBudget(int budget) {\r\n        this.budget = budget;\r\n    }\r\n\r\n    public String getPost_type() {\r\n        return post_type;\r\n    }\r\n\r\n    public void setPost_type(String post_type) {\r\n        this.post_type = post_type;\r\n    }\r\n}\r\n\r\nAdd value from chip:\r\n\r\n    ArrayList&lt;String&gt; arrayTags = new ArrayList&lt;&gt;();\r\n\r\n    for (int i=0;i&lt;chipGroup.getChildCount();i++)\r\n            {\r\n                Chip chip = (Chip) chipGroup.getChildAt(i);\r\n                arrayTags.add(chip.getText().toString());\r\n            }\r\n\r\n\r\nretrofit call method:\r\n\r\n    Service service = Client.retrofit.create(Service.class);\r\n            Call&lt;createJobPostModel&gt; call = service.createJob(&quot;Bearer&quot;+&quot; &quot;+token,title,jobtype,fieldId, arrayTags,date,budget,description);\r\n            call.enqueue(new Callback&lt;createJobPostModel&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;createJobPostModel&gt; call, Response&lt;createJobPostModel&gt; response) {\r\n                    if (response.isSuccessful()){\r\n           /*             Toast.makeText(getActivity(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();*/\r\n                        Toast.makeText(getActivity(),arrayTags.toString(), Toast.LENGTH_LONG).show();\r\n                        /*arrayTags.clear();*/\r\n                    }else{\r\n                        Toast.makeText(getActivity(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;createJobPostModel&gt; call, Throwable t) {\r\n                    Toast.makeText(getActivity(), &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n\r\nEverything is ok but when i pass the arraylist its shows only last index of array value in database.\r\n\r\nhere is the return value:\r\n\r\n       &quot;tags&quot;: &quot;Android&quot;,\r\n\r\nbut i want this:\r\n\r\n    &quot;tags&quot;: [\r\n                &quot;swift&quot;,\r\n                &quot;IOS&quot;,\r\n                &quot;android&quot;\r\n            ],\r\n\r\n\r\n","title":"Passing array problem in retrofit post request","body":"<p>I have face a problem retrofit library in android java.</p>\n<p>here is the json Body</p>\n<pre><code>{\n&quot;title&quot;:&quot;Android &quot;,\n&quot;type&quot;:&quot;project&quot;,\n&quot;category_id&quot;:&quot;1&quot;,\n&quot;tags&quot;:[&quot;swift&quot;,&quot;java&quot;,&quot;android&quot;],\n&quot;end_date&quot;:&quot;2021-9-30&quot;,\n&quot;description&quot;:&quot;testing&quot;,\n&quot;budget&quot;:&quot;500&quot;\n</code></pre>\n<p>}</p>\n<p>This the pojo class</p>\n<pre><code>public class draftedJobPostModel {\nprivate String title;\nprivate String type;\nprivate int category_id;\nArrayList&lt;String&gt; tags;\nprivate String end_date;\nprivate String description;\nprivate int budget;\nprivate String post_type;\n\npublic draftedJobPostModel() {\n}\n\npublic draftedJobPostModel(String title, String type, int category_id, ArrayList&lt;String&gt; tags, String end_date, String description, int budget, String post_type) {\n    this.title = title;\n    this.type = type;\n    this.category_id = category_id;\n    this.tags = tags;\n    this.end_date = end_date;\n    this.description = description;\n    this.budget = budget;\n    this.post_type = post_type;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getType() {\n    return type;\n}\n\npublic void setType(String type) {\n    this.type = type;\n}\n\npublic int getCategory_id() {\n    return category_id;\n}\n\npublic void setCategory_id(int category_id) {\n    this.category_id = category_id;\n}\n\npublic ArrayList&lt;String&gt; getTags() {\n    return tags;\n}\n\npublic void setTags(ArrayList&lt;String&gt; tags) {\n    this.tags = tags;\n}\n\npublic String getEnd_date() {\n    return end_date;\n}\n\npublic void setEnd_date(String end_date) {\n    this.end_date = end_date;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic int getBudget() {\n    return budget;\n}\n\npublic void setBudget(int budget) {\n    this.budget = budget;\n}\n\npublic String getPost_type() {\n    return post_type;\n}\n\npublic void setPost_type(String post_type) {\n    this.post_type = post_type;\n}\n</code></pre>\n<p>}</p>\n<p>Add value from chip:</p>\n<pre><code>ArrayList&lt;String&gt; arrayTags = new ArrayList&lt;&gt;();\n\nfor (int i=0;i&lt;chipGroup.getChildCount();i++)\n        {\n            Chip chip = (Chip) chipGroup.getChildAt(i);\n            arrayTags.add(chip.getText().toString());\n        }\n</code></pre>\n<p>retrofit call method:</p>\n<pre><code>Service service = Client.retrofit.create(Service.class);\n        Call&lt;createJobPostModel&gt; call = service.createJob(&quot;Bearer&quot;+&quot; &quot;+token,title,jobtype,fieldId, arrayTags,date,budget,description);\n        call.enqueue(new Callback&lt;createJobPostModel&gt;() {\n            @Override\n            public void onResponse(Call&lt;createJobPostModel&gt; call, Response&lt;createJobPostModel&gt; response) {\n                if (response.isSuccessful()){\n       /*             Toast.makeText(getActivity(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();*/\n                    Toast.makeText(getActivity(),arrayTags.toString(), Toast.LENGTH_LONG).show();\n                    /*arrayTags.clear();*/\n                }else{\n                    Toast.makeText(getActivity(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;createJobPostModel&gt; call, Throwable t) {\n                Toast.makeText(getActivity(), &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<p>Everything is ok but when i pass the arraylist its shows only last index of array value in database.</p>\n<p>here is the return value:</p>\n<pre><code>   &quot;tags&quot;: &quot;Android&quot;,\n</code></pre>\n<p>but i want this:</p>\n<pre><code>&quot;tags&quot;: [\n            &quot;swift&quot;,\n            &quot;IOS&quot;,\n            &quot;android&quot;\n        ],\n</code></pre>\n"},{"tags":["java","spring","unit-testing","junit"],"comments":[{"owner":{"account_id":4969978,"reputation":103,"user_id":3998125,"display_name":"JorgeB"},"score":0,"creation_date":1632983915,"post_id":69387237,"comment_id":122641280,"body_markdown":"You could cast the Integer to Long","body":"You could cast the Integer to Long"}],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632983983,"creation_date":1632983983,"answer_id":69387308,"question_id":69387237,"body_markdown":"You can convert Integer to Long via `java.lang.Integer#longValue`:\r\n\r\n\r\n    assertThat(poiList.get(0).get(&quot;id_pk&quot;).longValue()).isEqualTo(member.getId_pk());\r\n\r\nBUT beware of Null pointers, if `poiList.get(0).get(&quot;id_pk&quot;)` is null then a Null Pointer Exception will be thrown!","title":"How do I compare Integer and Long types with Junit?","body":"<p>You can convert Integer to Long via <code>java.lang.Integer#longValue</code>:</p>\n<pre><code>assertThat(poiList.get(0).get(&quot;id_pk&quot;).longValue()).isEqualTo(member.getId_pk());\n</code></pre>\n<p>BUT beware of Null pointers, if <code>poiList.get(0).get(&quot;id_pk&quot;)</code> is null then a Null Pointer Exception will be thrown!</p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632984007,"creation_date":1632984007,"answer_id":69387314,"question_id":69387237,"body_markdown":"Looks like it should be corrected at entity level because if we say `poiList.get(0).get(&quot;id_pk&quot;)` is equal to `member.getId_pk()` then logically datatype for them should also be same.\r\n\r\nAs the preferred solution you should correct it entity level.\r\n\r\nBut if you still want to assert it then convert `int` to `long` first and then assert on that.\r\n\r\n    poiList.get(0).get(&quot;id_pk&quot;).longValue()","title":"How do I compare Integer and Long types with Junit?","body":"<p>Looks like it should be corrected at entity level because if we say <code>poiList.get(0).get(&quot;id_pk&quot;)</code> is equal to <code>member.getId_pk()</code> then logically datatype for them should also be same.</p>\n<p>As the preferred solution you should correct it entity level.</p>\n<p>But if you still want to assert it then convert <code>int</code> to <code>long</code> first and then assert on that.</p>\n<pre><code>poiList.get(0).get(&quot;id_pk&quot;).longValue()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632984008,"creation_date":1632984008,"answer_id":69387315,"question_id":69387237,"body_markdown":"Two ways:\r\n\r\n1. Java&#39;s Long class has an [.intValue() method](https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html) returning an int.\r\n\r\n2. Java&#39;s Integer class has a [.longvalue() method](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html).\r\n\r\nI would recommend the second, as long can take a larger range of values than int.","title":"How do I compare Integer and Long types with Junit?","body":"<p>Two ways:</p>\n<ol>\n<li><p>Java's Long class has an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\">.intValue() method</a> returning an int.</p>\n</li>\n<li><p>Java's Integer class has a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">.longvalue() method</a>.</p>\n</li>\n</ol>\n<p>I would recommend the second, as long can take a larger range of values than int.</p>\n"},{"tags":[],"owner":{"account_id":9483965,"reputation":48,"user_id":7050876,"display_name":"msl12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632984070,"creation_date":1632984070,"answer_id":69387334,"question_id":69387237,"body_markdown":"How about this:\r\n\r\n```\r\nassertThat(new BigDecimal(1)).isEqualTo(new BigDecimal(1L));\r\n```","title":"How do I compare Integer and Long types with Junit?","body":"<p>How about this:</p>\n<pre><code>assertThat(new BigDecimal(1)).isEqualTo(new BigDecimal(1L));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8718909,"reputation":216,"user_id":6522634,"display_name":"yi jiang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632985530,"creation_date":1632985530,"answer_id":69387641,"question_id":69387237,"body_markdown":"As all answers show, you need to change one param&#39;s type. Maybe both change them to String is also a good idea.\r\n\r\n     assertThat(String.valueOf(1L)).isEqualTo(String.valueOf(1))\r\n\r\n \r\n\r\n","title":"How do I compare Integer and Long types with Junit?","body":"<p>As all answers show, you need to change one param's type. Maybe both change them to String is also a good idea.</p>\n<pre><code> assertThat(String.valueOf(1L)).isEqualTo(String.valueOf(1))\n</code></pre>\n"}],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69387308,"answer_count":5,"score":1,"last_activity_date":1632985530,"creation_date":1632983571,"question_id":69387237,"body_markdown":"How do I compare Integer and Long types with Junit ?\r\n\r\nThe result of `assertThat(poiList.get(0).get(&quot;id_pk&quot;)).isEqualTo(member.getId_pk());` is:\r\n```\r\norg.opentest4j.AssertionFailedError:\r\nexpected: 1L\r\nbut was : 1\r\nExpected :1L\r\nActual :1\r\n```\r\nThe two types are:\r\n\r\n```\r\nlog.info(&quot;getClass1: {}&quot;, poiList.get(0).get(&quot;id_pk&quot;).getClass());\r\n         log.info(&quot;getClass2: {}&quot;, member.getId_pk().getClass());\r\n```\r\n\r\n```\r\n2021-09-30 15:29:08.904 INFO 19504 --- [ main] c.p.i.domain.item.ItemServiceTest : getClass1: class java.lang.Integer\r\n2021-09-30 15:29:08.904 INFO 19504 --- [ main] c.p.i.domain.item.ItemServiceTest : getClass2: class java.lang.Long\r\n```\r\n\r\nHow can I compare 1 and 1L to be equal?\r\n\r\nbest regards","title":"How do I compare Integer and Long types with Junit?","body":"<p>How do I compare Integer and Long types with Junit ?</p>\n<p>The result of <code>assertThat(poiList.get(0).get(&quot;id_pk&quot;)).isEqualTo(member.getId_pk());</code> is:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\nexpected: 1L\nbut was : 1\nExpected :1L\nActual :1\n</code></pre>\n<p>The two types are:</p>\n<pre><code>log.info(&quot;getClass1: {}&quot;, poiList.get(0).get(&quot;id_pk&quot;).getClass());\n         log.info(&quot;getClass2: {}&quot;, member.getId_pk().getClass());\n</code></pre>\n<pre><code>2021-09-30 15:29:08.904 INFO 19504 --- [ main] c.p.i.domain.item.ItemServiceTest : getClass1: class java.lang.Integer\n2021-09-30 15:29:08.904 INFO 19504 --- [ main] c.p.i.domain.item.ItemServiceTest : getClass2: class java.lang.Long\n</code></pre>\n<p>How can I compare 1 and 1L to be equal?</p>\n<p>best regards</p>\n"},{"tags":["java","hibernate","elasticsearch","quarkus","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632984992,"creation_date":1632984992,"answer_id":69387526,"question_id":69381101,"body_markdown":"This code is incorrect:\r\n\r\n```java\r\n    @GenericField\r\n    @IndexedEmbedded\r\n    private Set&lt;Language&gt; languages;\r\n```\r\n\r\nWith `@GenericField`, you are asking Hibernate Search to generate a &quot;value&quot; field (string, integer, ...) for languages. This generally won&#39;t work, because Hibernate Search doesn&#39;t know how to convert a `Language` into a string/integer/..., so that&#39;s a first problem.\r\n\r\nBut the second problem, and the one being reported by Hibernate Search, is that by also putting `@IndexedEmbedded` on the same property, you are also asking Hibernate Search to generate an &quot;object&quot; (composite) field, **with the same name as the &quot;value&quot; field from `@GenericField`**. So there&#39;s a conflict: both the &quot;value&quot; field and the &quot;object&quot; field have the same name, &quot;languages&quot;.\r\n\r\nYou should remove `@GenericField` wherever you use `@IndexedEmbedded`.\r\n\r\n----\r\n\r\nNote that technically, you *could* use both `@GenericField` and `@IndexedEmbedded` on the same property, as long as you explicitly set a different name on either annotation using `@GenericField(name = ...)` or `@IndexedEmbedded(name = ...)`. But `@GenericField` would not work unless you use a [custom value bridge](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-bridge-valuebridge), and I don&#39;t think your intention was to do that anyway. So please don&#39;t do that unless you have an actual reason and `@IndexedEmbedded` does not do what you want.","title":"@IndexedEmbedded on class containing other @IndexedEmbedded fields","body":"<p>This code is incorrect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GenericField\n    @IndexedEmbedded\n    private Set&lt;Language&gt; languages;\n</code></pre>\n<p>With <code>@GenericField</code>, you are asking Hibernate Search to generate a &quot;value&quot; field (string, integer, ...) for languages. This generally won't work, because Hibernate Search doesn't know how to convert a <code>Language</code> into a string/integer/..., so that's a first problem.</p>\n<p>But the second problem, and the one being reported by Hibernate Search, is that by also putting <code>@IndexedEmbedded</code> on the same property, you are also asking Hibernate Search to generate an &quot;object&quot; (composite) field, <strong>with the same name as the &quot;value&quot; field from <code>@GenericField</code></strong>. So there's a conflict: both the &quot;value&quot; field and the &quot;object&quot; field have the same name, &quot;languages&quot;.</p>\n<p>You should remove <code>@GenericField</code> wherever you use <code>@IndexedEmbedded</code>.</p>\n<hr />\n<p>Note that technically, you <em>could</em> use both <code>@GenericField</code> and <code>@IndexedEmbedded</code> on the same property, as long as you explicitly set a different name on either annotation using <code>@GenericField(name = ...)</code> or <code>@IndexedEmbedded(name = ...)</code>. But <code>@GenericField</code> would not work unless you use a <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-bridge-valuebridge\" rel=\"nofollow noreferrer\">custom value bridge</a>, and I don't think your intention was to do that anyway. So please don't do that unless you have an actual reason and <code>@IndexedEmbedded</code> does not do what you want.</p>\n"}],"owner":{"account_id":12544330,"reputation":87,"user_id":9128222,"display_name":"G. Colaianni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69387526,"answer_count":1,"score":0,"last_activity_date":1632984992,"creation_date":1632937093,"question_id":69381101,"body_markdown":"I&#39;m trying to manage hibernate search indexing on a class with a field mapped by @IndexedEmbedded on a custom @Embeddable entity. This entity also contains others @IndexedEmbedded fields in the @MappedSuperclass.\r\nThese are the entities involved:\r\n```\r\n@Builder\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Indexed\r\n@GeoPointBinding(fieldName = &quot;location&quot;) \r\npublic class Insertion {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;INSERTION_SEQ&quot;)\r\n\tprivate Long id;\r\n\r\n\t@NotNull\r\n\t@GenericField\r\n\tprivate Boolean publicated;\r\n\r\n\t@NotNull\r\n\t@Latitude\r\n\tprivate Double latitude;\r\n\r\n\t@NotNull\r\n\t@Longitude\r\n\tprivate Double longitude;\r\n\r\n\t@JsonIgnore\r\n\tprivate Point location;\r\n\r\n\t@FullTextField(analyzer = &quot;generic_text&quot;)\r\n\t@KeywordField(name=&quot;city_sort&quot;, sortable = Sortable.YES, normalizer = &quot;sort&quot;)\r\n\tprivate String city;\r\n\r\n\t@NotNull\r\n\t@Embedded\r\n\t@Valid\r\n\t@IndexedEmbedded\r\n\tprivate Amount amount;\r\n\t\r\n\t@IndexedEmbedded(name = &quot;insertion_mate_preferences&quot;)\r\n\t@Embedded\r\n\t@Valid\r\n\tprivate MatePreference matePreferences;\r\n\r\n}\r\n```\r\nAnd these classes:\r\n``` \r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Embeddable\r\npublic class MatePreference extends BaseProfile {\r\n\t\r\n\t@NotNull\r\n\t@GenericField\r\n\tprivate Integer minAge;\r\n\t\r\n\t@NotNull\r\n\t@GenericField\r\n\tprivate Integer maxAge;\r\n\t\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\n@MappedSuperclass\r\npublic abstract class BaseProfile implements BaseProfileView {\r\n\r\n\t@GenericField\r\n\tprivate Boolean smoker;\r\n\r\n\t@GenericField\r\n\tprivate Boolean children;\r\n\r\n\t@GenericField\r\n\tprivate Boolean hasAnimals;\r\n\r\n\t@GenericField\r\n\tprivate Boolean student;\r\n\r\n\t@GenericField\r\n\tprivate Boolean employed;\r\n\t\r\n\t@GenericField\r\n\tprivate String animalsDescription;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\t@GenericField\r\n\tprivate Genre genre;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\t@GenericField\r\n\tprivate OccupationSector occupation;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\t@ElementCollection(fetch = FetchType.EAGER)\r\n\t@GenericField\r\n\t@IndexedEmbedded\r\n\tprivate Set&lt;Personality&gt; personalities;\r\n\r\n\t@Enumerated(EnumType.STRING)\r\n\t@ElementCollection(fetch = FetchType.EAGER)\r\n\t@GenericField\r\n\t@IndexedEmbedded\r\n\tprivate Set&lt;Lifestyle&gt; lifestyles;\r\n\t\r\n\t@ElementCollection(fetch = FetchType.EAGER)\r\n\t@GenericField\r\n\t@IndexedEmbedded\r\n\tprivate Set&lt;Language&gt; languages;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\t@GenericField\r\n\tprivate StudyTitle titleOfStudy;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\t@GenericField\r\n\tprivate StudyField studyField;\r\n}\r\n```\r\nWhen running the application, Hibernate Search throws the following error:\r\n```\r\norg.hibernate.search.util.common.SearchException: HSEARCH000520: Hibernate Search encountered failures during bootstrap. Failures:\r\n\r\n    Hibernate ORM mapping: \r\n        type &#39;it.friendshome.api.common.model.insertion.Insertion&#39;: \r\n            path &#39;.matePreferences&lt;no value extractors&gt;.languages&#39;: \r\n                index &#39;Insertion&#39;: \r\n                    field &#39;insertion_mate_preferences&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;languages&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.matePreferences&lt;no value extractors&gt;.lifestyles&#39;: \r\n                index &#39;Insertion&#39;: \r\n                    field &#39;insertion_mate_preferences&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;lifestyles&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.matePreferences&lt;no value extractors&gt;.personalities&#39;: \r\n                index &#39;Insertion&#39;: \r\n                    field &#39;insertion_mate_preferences&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;personalities&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n        type &#39;it.friendshome.api.common.model.profile.Profile&#39;: \r\n            path &#39;.languages&#39;: \r\n                index &#39;Profile&#39;: \r\n                    index schema root: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;languages&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.lifestyles&#39;: \r\n                index &#39;Profile&#39;: \r\n                    index schema root: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;lifestyles&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.personalities&#39;: \r\n                index &#39;Profile&#39;: \r\n                    index schema root: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;personalities&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n        type &#39;it.friendshome.api.common.model.search.Search&#39;: \r\n            path &#39;.matePreference&lt;no value extractors&gt;.languages&#39;: \r\n                index &#39;Search&#39;: \r\n                    field &#39;matePreference&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;languages&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.matePreference&lt;no value extractors&gt;.lifestyles&#39;: \r\n                index &#39;Search&#39;: \r\n                    field &#39;matePreference&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;lifestyles&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n            path &#39;.matePreference&lt;no value extractors&gt;.personalities&#39;: \r\n                index &#39;Search&#39;: \r\n                    field &#39;matePreference&#39;: \r\n                        failures: \r\n                          - HSEARCH400520: Duplicate index field definition: &#39;personalities&#39;. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\r\n```\r\nI&#39;m running it with the following dependencies:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N8jmF.png\r\n\r\nAny suggestion on how to manage this scenario?","title":"@IndexedEmbedded on class containing other @IndexedEmbedded fields","body":"<p>I'm trying to manage hibernate search indexing on a class with a field mapped by @IndexedEmbedded on a custom @Embeddable entity. This entity also contains others @IndexedEmbedded fields in the @MappedSuperclass.\nThese are the entities involved:</p>\n<pre><code>@Builder\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Indexed\n@GeoPointBinding(fieldName = &quot;location&quot;) \npublic class Insertion {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;INSERTION_SEQ&quot;)\n    private Long id;\n\n    @NotNull\n    @GenericField\n    private Boolean publicated;\n\n    @NotNull\n    @Latitude\n    private Double latitude;\n\n    @NotNull\n    @Longitude\n    private Double longitude;\n\n    @JsonIgnore\n    private Point location;\n\n    @FullTextField(analyzer = &quot;generic_text&quot;)\n    @KeywordField(name=&quot;city_sort&quot;, sortable = Sortable.YES, normalizer = &quot;sort&quot;)\n    private String city;\n\n    @NotNull\n    @Embedded\n    @Valid\n    @IndexedEmbedded\n    private Amount amount;\n    \n    @IndexedEmbedded(name = &quot;insertion_mate_preferences&quot;)\n    @Embedded\n    @Valid\n    private MatePreference matePreferences;\n\n}\n</code></pre>\n<p>And these classes:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class MatePreference extends BaseProfile {\n    \n    @NotNull\n    @GenericField\n    private Integer minAge;\n    \n    @NotNull\n    @GenericField\n    private Integer maxAge;\n    \n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@MappedSuperclass\npublic abstract class BaseProfile implements BaseProfileView {\n\n    @GenericField\n    private Boolean smoker;\n\n    @GenericField\n    private Boolean children;\n\n    @GenericField\n    private Boolean hasAnimals;\n\n    @GenericField\n    private Boolean student;\n\n    @GenericField\n    private Boolean employed;\n    \n    @GenericField\n    private String animalsDescription;\n    \n    @Enumerated(EnumType.STRING)\n    @GenericField\n    private Genre genre;\n    \n    @Enumerated(EnumType.STRING)\n    @GenericField\n    private OccupationSector occupation;\n    \n    @Enumerated(EnumType.STRING)\n    @ElementCollection(fetch = FetchType.EAGER)\n    @GenericField\n    @IndexedEmbedded\n    private Set&lt;Personality&gt; personalities;\n\n    @Enumerated(EnumType.STRING)\n    @ElementCollection(fetch = FetchType.EAGER)\n    @GenericField\n    @IndexedEmbedded\n    private Set&lt;Lifestyle&gt; lifestyles;\n    \n    @ElementCollection(fetch = FetchType.EAGER)\n    @GenericField\n    @IndexedEmbedded\n    private Set&lt;Language&gt; languages;\n    \n    @Enumerated(EnumType.STRING)\n    @GenericField\n    private StudyTitle titleOfStudy;\n    \n    @Enumerated(EnumType.STRING)\n    @GenericField\n    private StudyField studyField;\n}\n</code></pre>\n<p>When running the application, Hibernate Search throws the following error:</p>\n<pre><code>org.hibernate.search.util.common.SearchException: HSEARCH000520: Hibernate Search encountered failures during bootstrap. Failures:\n\n    Hibernate ORM mapping: \n        type 'it.friendshome.api.common.model.insertion.Insertion': \n            path '.matePreferences&lt;no value extractors&gt;.languages': \n                index 'Insertion': \n                    field 'insertion_mate_preferences': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'languages'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.matePreferences&lt;no value extractors&gt;.lifestyles': \n                index 'Insertion': \n                    field 'insertion_mate_preferences': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'lifestyles'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.matePreferences&lt;no value extractors&gt;.personalities': \n                index 'Insertion': \n                    field 'insertion_mate_preferences': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'personalities'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n        type 'it.friendshome.api.common.model.profile.Profile': \n            path '.languages': \n                index 'Profile': \n                    index schema root: \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'languages'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.lifestyles': \n                index 'Profile': \n                    index schema root: \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'lifestyles'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.personalities': \n                index 'Profile': \n                    index schema root: \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'personalities'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n        type 'it.friendshome.api.common.model.search.Search': \n            path '.matePreference&lt;no value extractors&gt;.languages': \n                index 'Search': \n                    field 'matePreference': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'languages'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.matePreference&lt;no value extractors&gt;.lifestyles': \n                index 'Search': \n                    field 'matePreference': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'lifestyles'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n            path '.matePreference&lt;no value extractors&gt;.personalities': \n                index 'Search': \n                    field 'matePreference': \n                        failures: \n                          - HSEARCH400520: Duplicate index field definition: 'personalities'. Index field names must be unique. Look for two property mappings with the same field name, or two indexed-embeddeds with prefixes that lead to conflicting index field names, or two custom bridges declaring index fields with the same name.\n</code></pre>\n<p>I'm running it with the following dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/N8jmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N8jmF.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestion on how to manage this scenario?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10338419,"reputation":115,"user_id":15994214,"display_name":"Shehan Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632984249,"creation_date":1632984249,"answer_id":69387367,"question_id":69378433,"body_markdown":"Thank you for going through , but I found a solution and this was it. Just a simple solution which did not come into my head at glance. In the OnBindViewHolder I have added this code section below.\r\n\r\n```\r\n holder.spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                int quantity = Integer.parseInt((String) adapterView.getItemAtPosition(i)) ;\r\n                Float price = Float.valueOf(holder.price.getText().toString());\r\n                Float total = quantity * price;\r\n                holder.price.setText(total.toString());\r\n\r\n            }\r\n``` ","title":"Problem in updating a Text Field when changing value in spinner","body":"<p>Thank you for going through , but I found a solution and this was it. Just a simple solution which did not come into my head at glance. In the OnBindViewHolder I have added this code section below.</p>\n<pre><code> holder.spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                int quantity = Integer.parseInt((String) adapterView.getItemAtPosition(i)) ;\n                Float price = Float.valueOf(holder.price.getText().toString());\n                Float total = quantity * price;\n                holder.price.setText(total.toString());\n\n            }\n</code></pre>\n"}],"owner":{"account_id":10338419,"reputation":115,"user_id":15994214,"display_name":"Shehan Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632984249,"creation_date":1632925989,"question_id":69378433,"body_markdown":"I am new in Mobile Application Development on Android Studio and I have got a question on how to update the price displayed when the quantity is changed(In the spinner).\r\nBelow I have attached the Adapter class for this. The recycler view works fine only thing I want here is to get the price, which is currently 500 to be updated as a user selects a quantity from the spinner. I also have attached a snapshot of the android application activity.\r\nHere below is the coding \r\n\r\n\r\n```\r\n\r\n\r\npublic class allAdsAdapter extends RecyclerView.Adapter&lt;allAdsAdapter.adsViewHolder&gt;{\r\n\r\n    private Context context;\r\n    private List&lt;Advertisment&gt; ads;\r\n\r\n    public allAdsAdapter(Context context , List&lt;Advertisment&gt; ads){\r\n        this.context = context;\r\n        this.ads = ads;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public adsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View view = layoutInflater.inflate(R.layout.all_ads_card,parent,false);\r\n        adsViewHolder adsView = new adsViewHolder(view);\r\n        return adsView;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull adsViewHolder holder, int position) {\r\n            Advertisment adCurrent = ads.get(position);\r\n            holder.title.setText(adCurrent.getTitle());\r\n            holder.description.setText(adCurrent.getDescription());\r\n\r\n        Log.d(&quot;Image Value&quot;, &quot;onBindViewHolder: &quot; + adCurrent.getImage().trim() );\r\n            Picasso.get().load(adCurrent.getImage().trim()).into(holder.image);\r\n            holder.price.setText(Float.toString(adCurrent.getPrice()));\r\n\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(context,R.array.quantity_array,android.R.layout.simple_spinner_item);\r\n\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n\r\n        holder.spinner.setAdapter(adapter);\r\n\r\n\r\n\r\n    }\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,int pos,long id){\r\n\r\n        String quantity = (String)parent.getItemAtPosition(pos);\r\n\r\n\r\n\r\n    }\r\n\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent){\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ads.size();\r\n    }\r\n\r\n    public class adsViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        ImageView image;\r\n        TextView title,description,price;\r\n        Spinner spinner;\r\n        public adsViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            image = itemView.findViewById(R.id.img_all_ads);\r\n            description = itemView.findViewById(R.id.desc_all_ads);\r\n            title = itemView.findViewById(R.id.title_all_ads);\r\n            price = itemView.findViewById(R.id.price_all_ads);\r\n            spinner = (Spinner)itemView.findViewById(R.id.spinner_all_ads);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wR9Vu.png\r\n\r\nThank you for taking your time in going through this!","title":"Problem in updating a Text Field when changing value in spinner","body":"<p>I am new in Mobile Application Development on Android Studio and I have got a question on how to update the price displayed when the quantity is changed(In the spinner).\nBelow I have attached the Adapter class for this. The recycler view works fine only thing I want here is to get the price, which is currently 500 to be updated as a user selects a quantity from the spinner. I also have attached a snapshot of the android application activity.\nHere below is the coding</p>\n<pre><code>\n\npublic class allAdsAdapter extends RecyclerView.Adapter&lt;allAdsAdapter.adsViewHolder&gt;{\n\n    private Context context;\n    private List&lt;Advertisment&gt; ads;\n\n    public allAdsAdapter(Context context , List&lt;Advertisment&gt; ads){\n        this.context = context;\n        this.ads = ads;\n    }\n\n    @NonNull\n    @Override\n    public adsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View view = layoutInflater.inflate(R.layout.all_ads_card,parent,false);\n        adsViewHolder adsView = new adsViewHolder(view);\n        return adsView;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull adsViewHolder holder, int position) {\n            Advertisment adCurrent = ads.get(position);\n            holder.title.setText(adCurrent.getTitle());\n            holder.description.setText(adCurrent.getDescription());\n\n        Log.d(&quot;Image Value&quot;, &quot;onBindViewHolder: &quot; + adCurrent.getImage().trim() );\n            Picasso.get().load(adCurrent.getImage().trim()).into(holder.image);\n            holder.price.setText(Float.toString(adCurrent.getPrice()));\n\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(context,R.array.quantity_array,android.R.layout.simple_spinner_item);\n\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n\n        holder.spinner.setAdapter(adapter);\n\n\n\n    }\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,int pos,long id){\n\n        String quantity = (String)parent.getItemAtPosition(pos);\n\n\n\n    }\n\n    public void onNothingSelected(AdapterView&lt;?&gt; parent){\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return ads.size();\n    }\n\n    public class adsViewHolder extends RecyclerView.ViewHolder{\n\n        ImageView image;\n        TextView title,description,price;\n        Spinner spinner;\n        public adsViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            image = itemView.findViewById(R.id.img_all_ads);\n            description = itemView.findViewById(R.id.desc_all_ads);\n            title = itemView.findViewById(R.id.title_all_ads);\n            price = itemView.findViewById(R.id.price_all_ads);\n            spinner = (Spinner)itemView.findViewById(R.id.spinner_all_ads);\n\n        }\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wR9Vu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wR9Vu.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for taking your time in going through this!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1632944697,"post_id":69382173,"comment_id":122633552,"body_markdown":"Try converting your `FileInputStream` to a `BufferedInputStream`. *Your input stream MUST either support mark/reset, or be wrapped as a BufferedInputStream!*-[Apache POI WorkbookFactory documentation](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html;). Try putting `BufferredInputStream buffStream = new BufferedInputStream(inputStream);` right after your inputstream and pass it into the factory. [Reading files with BufferedInputStream](https://mkyong.com/java/how-to-read-file-from-java-bufferedinputstream-example/).","body":"Try converting your <code>FileInputStream</code> to a <code>BufferedInputStream</code>. <i>Your input stream MUST either support mark/reset, or be wrapped as a BufferedInputStream!</i>-<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html;\" rel=\"nofollow noreferrer\">Apache POI WorkbookFactory documentation</a>. Try putting <code>BufferredInputStream buffStream = new BufferedInputStream(inputStream);</code> right after your inputstream and pass it into the factory. <a href=\"https://mkyong.com/java/how-to-read-file-from-java-bufferedinputstream-example/\" rel=\"nofollow noreferrer\">Reading files with BufferedInputStream</a>."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1632944788,"post_id":69382173,"comment_id":122633587,"body_markdown":"You haven&#39;t provided any info on how built the jar. Is it a fat jar (cf You haven&#39;t provided any info on how built the jar. Is it a fat jar (cf https://www.baeldung.com/gradle-fat-jar) or a standard jar? If it&#39;s a standard jar, you need to include the poi jars and their dependencies on your classpath.","body":"You haven&#39;t provided any info on how built the jar. Is it a fat jar (cf You haven&#39;t provided any info on how built the jar. Is it a fat jar (cf <a href=\"https://www.baeldung.com/gradle-fat-jar\" rel=\"nofollow noreferrer\">baeldung.com/gradle-fat-jar</a>) or a standard jar? If it&#39;s a standard jar, you need to include the poi jars and their dependencies on your classpath."},{"owner":{"account_id":17685344,"reputation":1,"user_id":12838379,"display_name":"MiraSnow"},"score":0,"creation_date":1633206855,"post_id":69382173,"comment_id":122699562,"body_markdown":"I tried an BufferedInputStream, but it also doesn&#39;t work. I read, that you should not use an stream for files to update. So i changed it and use not anywhere an inputStream. But the error is still present. I don&#39;t know why. I can&#39;t explain it. It is a standard jar. I forget the poi jar. I fixed it, but the error is still present too.","body":"I tried an BufferedInputStream, but it also doesn&#39;t work. I read, that you should not use an stream for files to update. So i changed it and use not anywhere an inputStream. But the error is still present. I don&#39;t know why. I can&#39;t explain it. It is a standard jar. I forget the poi jar. I fixed it, but the error is still present too."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1633208863,"post_id":69382173,"comment_id":122700026,"body_markdown":"Maybe try the answer to this question:[SO: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide the poi-ooxml*.jar in the classpath/modulepath](https://stackoverflow.com/questions/29236294/getting-error-your-inputstream-was-neither-an-ole2-stream-nor-an-ooxml-stream). If it still doesn&#39;t work try downloading the poi-ooxml file and [adding it to the classpath in your jar&#39;s manifest file](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html).","body":"Maybe try the answer to this question:<a href=\"https://stackoverflow.com/questions/29236294/getting-error-your-inputstream-was-neither-an-ole2-stream-nor-an-ooxml-stream\">SO: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide the poi-ooxml*.jar in the classpath/modulepath</a>. If it still doesn&#39;t work try downloading the poi-ooxml file and <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">adding it to the classpath in your jar&#39;s manifest file</a>."}],"owner":{"account_id":17685344,"reputation":1,"user_id":12838379,"display_name":"MiraSnow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632984230,"creation_date":1632942621,"question_id":69382173,"body_markdown":"I have a problem. I wrote a little program for a friend. I read a .xlsx-file and update this. In the IDE it works well. But if i build a .jar and execute it, then i get the error &quot;Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide the poi-ooxml*.jar in the classpath/modulepath&quot;.\r\n\r\nThere are abstracts of my code:\r\n \r\n``` \r\n//Import Excel\r\npublic static ImportDaten importExcel() throws IOException {\r\n        ImportDaten importDaten = new ImportDaten();\r\n        java.util.List&lt;Kunde&gt; kunden = new ArrayList&lt;&gt;();\r\n        List&lt;Artikel&gt; artikelList = new ArrayList&lt;&gt;();\r\n        DataFormatter dataFormatter = new DataFormatter();\r\n        File inputWorkbook = new File(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;);\r\n        Workbook workbook = WorkbookFactory.create(inputWorkbook);\r\n        //Rechnungsnummer einlesen\r\n        Sheet indexSheet = workbook.getSheet(&quot;Index&quot;);\r\n        \r\n        //read data\r\n\r\n        workbook.close();\r\n\r\n        importDaten.setKunden(kunden);\r\n        importDaten.setArtikelList(artikelList);\r\n        return importDaten;\r\n    }\r\n\r\n ```\r\n```\r\npublic static void exportExcel() throws IOException {\r\n\r\n        FileInputStream inputStream = new FileInputStream(new File(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;));\r\n        Workbook workbook = WorkbookFactory.create(inputStream);\r\n\r\n        Sheet sheetIndex = workbook.getSheet(&quot;Index&quot;);\r\n        Cell zelleRechNr = sheetIndex.getRow(0).createCell(1);\r\n        zelleRechNr.setCellValue(rechnung.getRechnungsnr());\r\n\r\n        Sheet sheetRechnung = workbook.getSheet(&quot;Rechnung&quot;);\r\n\r\n        Cell zelleRechnung;\r\n\r\n        //write Data\r\n\r\n        inputStream.close();\r\n\r\n        FileOutputStream outputStream = new FileOutputStream(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;);\r\n        workbook.write(outputStream);\r\n        workbook.close();\r\n        outputStream.close();\r\n    }\r\n\r\n```\r\n\r\nI hope somebody can help me.\r\n\r\nThanks\r\n\r\nMira","title":"Getting error &quot;Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide the poi-ooxml*.jar in the classpath/modulepath&quot;","body":"<p>I have a problem. I wrote a little program for a friend. I read a .xlsx-file and update this. In the IDE it works well. But if i build a .jar and execute it, then i get the error &quot;Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven't provide the poi-ooxml*.jar in the classpath/modulepath&quot;.</p>\n<p>There are abstracts of my code:</p>\n<pre><code>//Import Excel\npublic static ImportDaten importExcel() throws IOException {\n        ImportDaten importDaten = new ImportDaten();\n        java.util.List&lt;Kunde&gt; kunden = new ArrayList&lt;&gt;();\n        List&lt;Artikel&gt; artikelList = new ArrayList&lt;&gt;();\n        DataFormatter dataFormatter = new DataFormatter();\n        File inputWorkbook = new File(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;);\n        Workbook workbook = WorkbookFactory.create(inputWorkbook);\n        //Rechnungsnummer einlesen\n        Sheet indexSheet = workbook.getSheet(&quot;Index&quot;);\n        \n        //read data\n\n        workbook.close();\n\n        importDaten.setKunden(kunden);\n        importDaten.setArtikelList(artikelList);\n        return importDaten;\n    }\n\n</code></pre>\n<pre><code>public static void exportExcel() throws IOException {\n\n        FileInputStream inputStream = new FileInputStream(new File(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;));\n        Workbook workbook = WorkbookFactory.create(inputStream);\n\n        Sheet sheetIndex = workbook.getSheet(&quot;Index&quot;);\n        Cell zelleRechNr = sheetIndex.getRow(0).createCell(1);\n        zelleRechNr.setCellValue(rechnung.getRechnungsnr());\n\n        Sheet sheetRechnung = workbook.getSheet(&quot;Rechnung&quot;);\n\n        Cell zelleRechnung;\n\n        //write Data\n\n        inputStream.close();\n\n        FileOutputStream outputStream = new FileOutputStream(&quot;C:/Users/jboeh/OneDrive/Desktop/stammdaten.xlsx&quot;);\n        workbook.write(outputStream);\n        workbook.close();\n        outputStream.close();\n    }\n\n</code></pre>\n<p>I hope somebody can help me.</p>\n<p>Thanks</p>\n<p>Mira</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8008,"page":1984,"page_size":100}
