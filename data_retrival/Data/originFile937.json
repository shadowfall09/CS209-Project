{"items":[{"tags":["java","xslt","xml-parsing","xslt-1.0","xsl-fo"],"comments":[{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666607814,"post_id":74179030,"comment_id":130969404,"body_markdown":"@xerx593: I added the full code","body":"@xerx593: I added the full code"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666609202,"post_id":74179030,"comment_id":130969877,"body_markdown":"Ty! ...It throws: In `Report(String xsl)` constructor! ..you log it, and wrap it into your custom (runtime! unchecked!) exception... Who-/whatever invokes `Report.getInstance()` can/should try/catch a `PdfReportException` ...","body":"Ty! ...It throws: In <code>Report(String xsl)</code> constructor! ..you log it, and wrap it into your custom (runtime! unchecked!) exception... Who-/whatever invokes <code>Report.getInstance()</code> can/should try/catch a <code>PdfReportException</code> ..."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666610365,"post_id":74179030,"comment_id":130970282,"body_markdown":"That sounds as if `report-regd.xslt` needs to be fixed to make sure the `fo:simple-page-master` has an attribute `master-name`","body":"That sounds as if <code>report-regd.xslt</code> needs to be fixed to make sure the <code>fo:simple-page-master</code> has an attribute <code>master-name</code>"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612263,"post_id":74179030,"comment_id":130970934,"body_markdown":"@xerx593, prepareTransfer do not throw any exception - that&#39;s all the problem- so nothing is catched in the constructor and no PdfReportException is thrown neither.","body":"@xerx593, prepareTransfer do not throw any exception - that&#39;s all the problem- so nothing is catched in the constructor and no PdfReportException is thrown neither."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612342,"post_id":74179030,"comment_id":130970966,"body_markdown":"@MartinHonnen it&#39;s not about how i can fix the xslt. What I&#39;d like is to get a clean exception if the xslt is not well formed or anything is missing.","body":"@MartinHonnen it&#39;s not about how i can fix the xslt. What I&#39;d like is to get a clean exception if the xslt is not well formed or anything is missing."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666612624,"post_id":74179030,"comment_id":130971072,"body_markdown":"Ok, believing you/understanding: the error comes only at first `generatePDFReport()`?","body":"Ok, believing you/understanding: the error comes only at first <code>generatePDFReport()</code>?"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612823,"post_id":74179030,"comment_id":130971134,"body_markdown":"@xerx593: no I think the problem is in prepareTransformer(). While debugging the mentioned logs are output in the console directly at the end of this method call. Without any exception being thrown or catched","body":"@xerx593: no I think the problem is in prepareTransformer(). While debugging the mentioned logs are output in the console directly at the end of this method call. Without any exception being thrown or catched"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666613442,"post_id":74179030,"comment_id":130971314,"body_markdown":"All the logged exceptions are &quot;checked&quot;, i can&#39;t believe this... Please breakpoint in Report constructor catch block","body":"All the logged exceptions are &quot;checked&quot;, i can&#39;t believe this... Please breakpoint in Report constructor catch block"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666613609,"post_id":74179030,"comment_id":130971371,"body_markdown":"@xerx593: I did it already and can tell that we do not enter the catch block in the constructor. This is all the problem.","body":"@xerx593: I did it already and can tell that we do not enter the catch block in the constructor. This is all the problem."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":1,"creation_date":1666613644,"post_id":74179030,"comment_id":130971389,"body_markdown":"I will have do find a workarround, like checking afterward the PDF integrity.","body":"I will have do find a workarround, like checking afterward the PDF integrity."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666613819,"post_id":74179030,"comment_id":130971443,"body_markdown":"For diagnostics please try: `catch (Throwable thr)` (all, also unchecked)","body":"For diagnostics please try: <code>catch (Throwable thr)</code> (all, also unchecked)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666626154,"post_id":74179030,"comment_id":130976275,"body_markdown":"Please step (debug) into `tFactory.newTransformer()` ..possibly something (logs &amp;) masks the exception.","body":"Please step (debug) into <code>tFactory.newTransformer()</code> ..possibly something (logs &amp;) masks the exception."}],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666617601,"creation_date":1666603394,"question_id":74179030,"body_markdown":"I convert an XML file to PDF, through XSL-LO. \r\nThis process involves a Transformer based on a XSLT file. \r\n\r\nThis is how I get the Transformer: \r\n\r\n      private void prepareTransformer(final TransformerFactory tFactory)\r\n      throws TransformerConfigurationException {\r\n    xmlTransformer = tFactory.newTransformer(\r\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\r\n  }\r\n\r\nMy problem is that if the XSLT is not well formed, then the above mentioned code would **logs** an exception **but not throws** it. This is the output in the console: \r\n````\r\n    System-ID unbekannt; Zeilennummer328; Spaltennummer69; xsl:when ist an dieser Position in der Formatvorlage nicht zul&#228;ssig!\r\nSystem-ID unbekannt; Zeilennummer63; Spaltennummer54; org.xml.sax.SAXException: javax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\r\njavax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\r\n(Position des Fehlers unbekannt)org.apache.fop.fo.ValidationException: Dem Element &quot;fo:simple-page-master&quot; fehlt ein verlangtes Property &quot;master-name&quot;! (Keine Kontextinformationen verf&#252;gbar)\r\n````\r\nAs no exception is thrown by the librairy, I can not so easily handle this situation. \r\n\r\nExpected behaviour: #newTransformer(Source source) would throw an exception. Is there a way to achieve that?\r\n\r\n\r\nEDIT: here the full class:\r\n\r\n```java\r\n@Log\r\npublic class Report {\r\n\r\n  private final String xsltPath;\r\n  private FopFactory fopFactory;\r\n  private Transformer xmlTransformer;\r\n\r\n  private Report(final String xsltPath) {\r\n    this.xsltPath = xsltPath;\r\n    try {\r\n      prepareTransformer(createFobTransformer());\r\n    } catch (final SAXException | IOException | ConfigurationException |\r\n                   TransformerConfigurationException ex) {\r\n      log.log(Level.SEVERE, null, ex);\r\n      throw new PdfReportException(ex);\r\n    }\r\n  }\r\n\r\n  public static Report getInstance() {\r\n    return new Report(&quot;/report/report-regd.xslt&quot;);\r\n  }\r\n  private void prepareTransformer(final TransformerFactory tFactory)\r\n      throws TransformerConfigurationException {\r\n    xmlTransformer = tFactory.newTransformer(\r\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\r\n  }\r\n\r\n  private TransformerFactory createFobTransformer()\r\n      throws SAXException, IOException, ConfigurationException {\r\n    final InputStream inFop = getClass().getResourceAsStream(&quot;/report/fop.xconf&quot;);\r\n    final var fopBuilder = new FopFactoryBuilder(new File(&quot;.&quot;).toURI(),\r\n        new ClasspathResolverURIAdapter());\r\n    final var cfgBuilder = new DefaultConfigurationBuilder();\r\n    final Configuration cfg = cfgBuilder.build(inFop);\r\n    fopBuilder.setConfiguration(cfg);\r\n    fopFactory = fopBuilder.build();\r\n    final TransformerFactory tFactory = TransformerFactory.newInstance();\r\n    tFactory.setURIResolver(new ClasspathURIResolver());\r\n    return tFactory;\r\n  }\r\n\r\n  public byte[] generatePDFReport(final String xml) {\r\n    final var out = new ByteArrayOutputStream();\r\n    final var agent = fopFactory.newFOUserAgent();\r\n\r\n    try {\r\n      final var fop = agent.newFop(MimeConstants.MIME_PDF, out);\r\n      final var result = new SAXResult(fop.getDefaultHandler());\r\n      final var src = new StreamSource(new StringReader(xml));\r\n      xmlTransformer.transform(src, result);\r\n    } catch (final FOPException | TransformerException e) {\r\n      throw new PdfReportException(e);\r\n    }\r\n    return out.toByteArray();\r\n  }\r\n\r\n  public static class PdfReportException extends RuntimeException {\r\n\r\n    private static final long serialVersionUID = 6009368304491510184L;\r\n\r\n    public PdfReportException(final Throwable cause) {\r\n      super(cause);\r\n    }\r\n  }\r\n}\r\n````\r\nNo exception is catched in Report constructor:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rSFwm.png","title":"XLM transformation based on XSLT: no exception thown by Transformer","body":"<p>I convert an XML file to PDF, through XSL-LO.\nThis process involves a Transformer based on a XSLT file.</p>\n<p>This is how I get the Transformer:</p>\n<pre><code>  private void prepareTransformer(final TransformerFactory tFactory)\n  throws TransformerConfigurationException {\nxmlTransformer = tFactory.newTransformer(\n    new StreamSource(getClass().getResourceAsStream(xsltPath)));\n</code></pre>\n<p>}</p>\n<p>My problem is that if the XSLT is not well formed, then the above mentioned code would <strong>logs</strong> an exception <strong>but not throws</strong> it. This is the output in the console:</p>\n<pre><code>    System-ID unbekannt; Zeilennummer328; Spaltennummer69; xsl:when ist an dieser Position in der Formatvorlage nicht zulässig!\nSystem-ID unbekannt; Zeilennummer63; Spaltennummer54; org.xml.sax.SAXException: javax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\njavax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\n(Position des Fehlers unbekannt)org.apache.fop.fo.ValidationException: Dem Element &quot;fo:simple-page-master&quot; fehlt ein verlangtes Property &quot;master-name&quot;! (Keine Kontextinformationen verfügbar)\n</code></pre>\n<p>As no exception is thrown by the librairy, I can not so easily handle this situation.</p>\n<p>Expected behaviour: #newTransformer(Source source) would throw an exception. Is there a way to achieve that?</p>\n<p>EDIT: here the full class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Log\npublic class Report {\n\n  private final String xsltPath;\n  private FopFactory fopFactory;\n  private Transformer xmlTransformer;\n\n  private Report(final String xsltPath) {\n    this.xsltPath = xsltPath;\n    try {\n      prepareTransformer(createFobTransformer());\n    } catch (final SAXException | IOException | ConfigurationException |\n                   TransformerConfigurationException ex) {\n      log.log(Level.SEVERE, null, ex);\n      throw new PdfReportException(ex);\n    }\n  }\n\n  public static Report getInstance() {\n    return new Report(&quot;/report/report-regd.xslt&quot;);\n  }\n  private void prepareTransformer(final TransformerFactory tFactory)\n      throws TransformerConfigurationException {\n    xmlTransformer = tFactory.newTransformer(\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\n  }\n\n  private TransformerFactory createFobTransformer()\n      throws SAXException, IOException, ConfigurationException {\n    final InputStream inFop = getClass().getResourceAsStream(&quot;/report/fop.xconf&quot;);\n    final var fopBuilder = new FopFactoryBuilder(new File(&quot;.&quot;).toURI(),\n        new ClasspathResolverURIAdapter());\n    final var cfgBuilder = new DefaultConfigurationBuilder();\n    final Configuration cfg = cfgBuilder.build(inFop);\n    fopBuilder.setConfiguration(cfg);\n    fopFactory = fopBuilder.build();\n    final TransformerFactory tFactory = TransformerFactory.newInstance();\n    tFactory.setURIResolver(new ClasspathURIResolver());\n    return tFactory;\n  }\n\n  public byte[] generatePDFReport(final String xml) {\n    final var out = new ByteArrayOutputStream();\n    final var agent = fopFactory.newFOUserAgent();\n\n    try {\n      final var fop = agent.newFop(MimeConstants.MIME_PDF, out);\n      final var result = new SAXResult(fop.getDefaultHandler());\n      final var src = new StreamSource(new StringReader(xml));\n      xmlTransformer.transform(src, result);\n    } catch (final FOPException | TransformerException e) {\n      throw new PdfReportException(e);\n    }\n    return out.toByteArray();\n  }\n\n  public static class PdfReportException extends RuntimeException {\n\n    private static final long serialVersionUID = 6009368304491510184L;\n\n    public PdfReportException(final Throwable cause) {\n      super(cause);\n    }\n  }\n}\n</code></pre>\n<p>No exception is catched in Report constructor:\n<a href=\"https://i.stack.imgur.com/rSFwm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSFwm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666429856,"post_id":74162068,"comment_id":130938443,"body_markdown":"Mutexes are always (AFAIK) implemented in hardware. So the jvm must use the OS mutex api.","body":"Mutexes are always (AFAIK) implemented in hardware. So the jvm must use the OS mutex api."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1666448515,"post_id":74162068,"comment_id":130941863,"body_markdown":"seems befire jdk 6, invoke the os mutex lock, after the jdk 6, using monitor. @SimGel","body":"seems befire jdk 6, invoke the os mutex lock, after the jdk 6, using monitor. @SimGel"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666595952,"post_id":74162068,"comment_id":130965691,"body_markdown":"What precisely do you mean by OS mutex?  Are you referring to a C library data structure / functions?  A system call?   And what operating system are you referring to?","body":"What precisely do you mean by OS mutex?  Are you referring to a C library data structure / functions?  A system call?   And what operating system are you referring to?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1666597300,"post_id":74162068,"comment_id":130966037,"body_markdown":"I have tweaked the title about more details, the OS mutex refer to linux/unix system call api. @StephenC","body":"I have tweaked the title about more details, the OS mutex refer to linux/unix system call api. @StephenC"}],"answers":[{"tags":[],"owner":{"account_id":1778042,"reputation":3893,"user_id":1621414,"display_name":"Danny Fang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666594103,"creation_date":1666594103,"answer_id":74177445,"question_id":74162068,"body_markdown":"Just as shown in the source code of `src/hotspot/share/runtime/objectMonitor.cpp`, it uses `Atomic::cmpxchg_ptr` (CAS ops) to try to obtain the lock of the thread. \r\n\r\n    bool ObjectMonitor::try_enter(Thread* THREAD) {\r\n      if (THREAD != _owner) {\r\n        if (THREAD-&gt;is_lock_owned ((address)_owner)) {\r\n           assert(_recursions == 0, &quot;internal state error&quot;);\r\n           _owner = THREAD ;\r\n           _recursions = 1 ;\r\n           OwnerIsThread = 1 ;\r\n           return true;\r\n        }\r\n        if (Atomic::cmpxchg_ptr (THREAD, &amp;_owner, NULL) != NULL) {\r\n          return false;\r\n        }\r\n        return true;\r\n      } else {\r\n        _recursions++;\r\n        return true;\r\n      }\r\n    }\r\n\r\nThe implementation of `Atomic::cmpxchg_ptr` is dependent on the actual arch of the system. In [x86][1] `Atomic::cmpxchg_ptr` is done by adding the [`lock`][2] prefix to ensure CPU has exclusive ownership of memory during operation.\r\n\r\n\r\n  [1]: https://elixir.bootlin.com/linux/latest/source/tools/arch/x86/include/asm/cmpxchg.h\r\n  [2]: https://stackoverflow.com/questions/8891067/what-does-the-lock-instruction-mean-in-x86-assembly","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>Just as shown in the source code of <code>src/hotspot/share/runtime/objectMonitor.cpp</code>, it uses <code>Atomic::cmpxchg_ptr</code> (CAS ops) to try to obtain the lock of the thread.</p>\n<pre><code>bool ObjectMonitor::try_enter(Thread* THREAD) {\n  if (THREAD != _owner) {\n    if (THREAD-&gt;is_lock_owned ((address)_owner)) {\n       assert(_recursions == 0, &quot;internal state error&quot;);\n       _owner = THREAD ;\n       _recursions = 1 ;\n       OwnerIsThread = 1 ;\n       return true;\n    }\n    if (Atomic::cmpxchg_ptr (THREAD, &amp;_owner, NULL) != NULL) {\n      return false;\n    }\n    return true;\n  } else {\n    _recursions++;\n    return true;\n  }\n}\n</code></pre>\n<p>The implementation of <code>Atomic::cmpxchg_ptr</code> is dependent on the actual arch of the system. In <a href=\"https://elixir.bootlin.com/linux/latest/source/tools/arch/x86/include/asm/cmpxchg.h\" rel=\"nofollow noreferrer\">x86</a> <code>Atomic::cmpxchg_ptr</code> is done by adding the <a href=\"https://stackoverflow.com/questions/8891067/what-does-the-lock-instruction-mean-in-x86-assembly\"><code>lock</code></a> prefix to ensure CPU has exclusive ownership of memory during operation.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666617598,"creation_date":1666598163,"answer_id":74178071,"question_id":74162068,"body_markdown":"Your question is (still!!) unclear, but I assume that *&quot;linux/unix system call api&quot;* is referring to the `pthread_mutex_t` type and its associated library functions.  Strictly, these are not syscalls, though they may *make* syscalls if there is lock contention.\r\n\r\nWhile JVM implementations (Java 6 onwards) do use `pthread_mutex_t` and associated functions, they are not used in the implementation of Java primitive mutexes.\r\n\r\nAs the comments say (Java 17 version):\r\n\r\n    // * The monitor synchronization subsystem avoids the use of native\r\n    //   synchronization primitives except for the narrow platform-specific\r\n    //   park-unpark abstraction.  See the comments in os_solaris.cpp regarding\r\n    //   the semantics of park-unpark.  Put another way, this monitor implementation\r\n    //   depends only on atomic operations and park-unpark.  The monitor subsystem\r\n    //   manages all RUNNING-&gt;BLOCKED and BLOCKED-&gt;READY transitions while the\r\n    //   underlying OS manages the READY&lt;-&gt;RUN transitions.\r\n\r\n\r\nSo, the answer to your question is that there is no relationship.\r\n\r\nNote that the JVM&#39;s monitor code has changed a number of times since Java 6 and the latest version (Java 19).  But the above seems to hold true for all of the versions I could look at.\r\n\r\n(I don&#39;t have a copy of the JVM source code prior to Java 6.)\r\n","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>Your question is (still!!) unclear, but I assume that <em>&quot;linux/unix system call api&quot;</em> is referring to the <code>pthread_mutex_t</code> type and its associated library functions.  Strictly, these are not syscalls, though they may <em>make</em> syscalls if there is lock contention.</p>\n<p>While JVM implementations (Java 6 onwards) do use <code>pthread_mutex_t</code> and associated functions, they are not used in the implementation of Java primitive mutexes.</p>\n<p>As the comments say (Java 17 version):</p>\n<pre><code>// * The monitor synchronization subsystem avoids the use of native\n//   synchronization primitives except for the narrow platform-specific\n//   park-unpark abstraction.  See the comments in os_solaris.cpp regarding\n//   the semantics of park-unpark.  Put another way, this monitor implementation\n//   depends only on atomic operations and park-unpark.  The monitor subsystem\n//   manages all RUNNING-&gt;BLOCKED and BLOCKED-&gt;READY transitions while the\n//   underlying OS manages the READY&lt;-&gt;RUN transitions.\n</code></pre>\n<p>So, the answer to your question is that there is no relationship.</p>\n<p>Note that the JVM's monitor code has changed a number of times since Java 6 and the latest version (Java 19).  But the above seems to hold true for all of the versions I could look at.</p>\n<p>(I don't have a copy of the JVM source code prior to Java 6.)</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178071,"answer_count":2,"score":1,"last_activity_date":1666617598,"creation_date":1666427240,"question_id":74162068,"body_markdown":"I am trying to figure out what is the relationship about monitor and the operation system mutex lock, the java implement the synchronization keywords by monitor, does the monitor invoke the operation system mutex api? or the monitor implement the mutex by himself? I have read the source code `src/hotspot/share/runtime/objectMonitor.cpp` but still could not figure out.\r\n\r\n\r\n","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>I am trying to figure out what is the relationship about monitor and the operation system mutex lock, the java implement the synchronization keywords by monitor, does the monitor invoke the operation system mutex api? or the monitor implement the mutex by himself? I have read the source code <code>src/hotspot/share/runtime/objectMonitor.cpp</code> but still could not figure out.</p>\n"},{"tags":["java","regex","path","string-matching","regex-greedy"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1666615317,"post_id":74181221,"comment_id":130971947,"body_markdown":"Try `String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Vairable+&quot;/.*&quot;;`. Note you define a `Vairable` and then use `Variable`. Do you use `find()` or `matches()`? Please add the whole relevant code and explain what output you get and what output you need.","body":"Try <code>String RegularExpression = &quot;secret&#47;roles&#47;[^&#47;]+&#47;dev&#47;&quot;+Vairable+&quot;&#47;.*&quot;;</code>. Note you define a <code>Vairable</code> and then use <code>Variable</code>. Do you use <code>find()</code> or <code>matches()</code>? Please add the whole relevant code and explain what output you get and what output you need."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1666615441,"post_id":74181221,"comment_id":130971990,"body_markdown":"I&#39;d suggest ditching regex (at least for evaluating the whole path) and using the Java (8+) Path API. You can e.g. evaluate the path element before last that way.","body":"I&#39;d suggest ditching regex (at least for evaluating the whole path) and using the Java (8+) Path API. You can e.g. evaluate the path element before last that way."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1666615519,"post_id":74181221,"comment_id":130972027,"body_markdown":"Segue: and if your rules are more complex (optional path elements, path elements depending on previous path elements) you can always evaluate each element in its sequence order and draw conclusions.","body":"Segue: and if your rules are more complex (optional path elements, path elements depending on previous path elements) you can always evaluate each element in its sequence order and draw conclusions."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666615552,"post_id":74181221,"comment_id":130972036,"body_markdown":"Here, `[can be anything]` can only have one character.","body":"Here, <code>[can be anything]</code> can only have one character."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666615628,"post_id":74181221,"comment_id":130972068,"body_markdown":"Why all the `?` question marks?","body":"Why all the <code>?</code> question marks?"},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616194,"post_id":74181221,"comment_id":130972299,"body_markdown":"@WiktorStribiżew Thank you for the suggestion, it worked. could you also tell me if it is possible that we could also cover `secret/roles/[Anything]/dev/[Variable]` ? as in no child paths after `Variable`? I use `matches()` by the way.","body":"@WiktorStribiżew Thank you for the suggestion, it worked. could you also tell me if it is possible that we could also cover <code>secret&#47;roles&#47;[Anything]&#47;dev&#47;[Variable]</code> ? as in no child paths after <code>Variable</code>? I use <code>matches()</code> by the way."},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616298,"post_id":74181221,"comment_id":130972332,"body_markdown":"@user16320675 no I mean there can be","body":"@user16320675 no I mean there can be"},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616476,"post_id":74181221,"comment_id":130972400,"body_markdown":"yes that&#39;s right, any suggestions?","body":"yes that&#39;s right, any suggestions?"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1666616497,"post_id":74181221,"comment_id":130972404,"body_markdown":"`Can be anything` means one or more chars other than `/` (`[^/]+`), since the subpart cannot be empty.","body":"<code>Can be anything</code> means one or more chars other than <code>&#47;</code> (<code>[^&#47;]+</code>), since the subpart cannot be empty."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666617483,"creation_date":1666616444,"answer_id":74181478,"question_id":74181221,"body_markdown":"Using `matches`, you can use either\r\n```java\r\nString RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/.*&quot;;\r\n```\r\nOr\r\n```java\r\nString RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/[^/]*&quot;;\r\n```\r\nIn the first case, anything can go after `Vairable` and a backslash, in the latter, only one subpart is allowed, no `/` chars can appear after that backslash.\r\n\r\nThe `Pattern.quote()` is added to escape any special regex metacharacters that may occur in the `Vairable` variable.","title":"Match Path using Regex in Java","body":"<p>Using <code>matches</code>, you can use either</p>\n<pre class=\"lang-java prettyprint-override\"><code>String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/.*&quot;;\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/[^/]*&quot;;\n</code></pre>\n<p>In the first case, anything can go after <code>Vairable</code> and a backslash, in the latter, only one subpart is allowed, no <code>/</code> chars can appear after that backslash.</p>\n<p>The <code>Pattern.quote()</code> is added to escape any special regex metacharacters that may occur in the <code>Vairable</code> variable.</p>\n"}],"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74181478,"answer_count":1,"score":1,"last_activity_date":1666617483,"creation_date":1666615198,"question_id":74181221,"body_markdown":"I&#39;m trying to match the pattern path which follows: \r\n```secret/roles/[can be anything]/dev/[Variable]/[can be additional child paths or just empty] ```\r\n\r\nI tried the following:\r\n```\r\nString Vairable = &quot;john&quot;;\r\nString RegularExpression = &quot;(secret/roles)?(/[a-zA-Z0-9_.-])?(/dev)?(/&quot; + Variable + &quot;)?(/[a-zA-Z0-9_.-]+)+/?&quot;; \r\n```\r\nbut it doesn&#39;t filter the ```Variable``` part and basically captures all the child paths under ```secret/roles/...```","title":"Match Path using Regex in Java","body":"<p>I'm trying to match the pattern path which follows:\n<code>secret/roles/[can be anything]/dev/[Variable]/[can be additional child paths or just empty] </code></p>\n<p>I tried the following:</p>\n<pre><code>String Vairable = &quot;john&quot;;\nString RegularExpression = &quot;(secret/roles)?(/[a-zA-Z0-9_.-])?(/dev)?(/&quot; + Variable + &quot;)?(/[a-zA-Z0-9_.-]+)+/?&quot;; \n</code></pre>\n<p>but it doesn't filter the <code>Variable</code> part and basically captures all the child paths under <code>secret/roles/...</code></p>\n"},{"tags":["java","android","android-studio","arraylist","hashmap"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1666552391,"post_id":74173918,"comment_id":130959216,"body_markdown":"Why are you bothering with threading, aside from it not being thread safe (as mentioned in below answer), the outer while loop depends on the thread completing it&#39;s work - you gain zero benefit from concurrency and will block on the caller anyway? Why not use a `CompletableFuture`, or let the caller decide threading.","body":"Why are you bothering with threading, aside from it not being thread safe (as mentioned in below answer), the outer while loop depends on the thread completing it&#39;s work - you gain zero benefit from concurrency and will block on the caller anyway? Why not use a <code>CompletableFuture</code>, or let the caller decide threading."},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666553264,"post_id":74173918,"comment_id":130959411,"body_markdown":"The mysql connect does not work if not in the thread run. I get the error of *android.os.NetworkOnMainThreadException Could not create connection to database server.* That&#39;s the only reason I am using the Threading code.","body":"The mysql connect does not work if not in the thread run. I get the error of <i>android.os.NetworkOnMainThreadException Could not create connection to database server.</i> That&#39;s the only reason I am using the Threading code."},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1666553480,"post_id":74173918,"comment_id":130959466,"body_markdown":"So the solution is a hack to avoid this restriction, which is there for good reason, and block the caller anyway, now resulting in other problems.. probably best that the caller runs in a different thread and this method shouldn&#39;t care about threading and mark it with `@WorkerThread`","body":"So the solution is a hack to avoid this restriction, which is there for good reason, and block the caller anyway, now resulting in other problems.. probably best that the caller runs in a different thread and this method shouldn&#39;t care about threading and mark it with <code>@WorkerThread</code>"},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666555139,"post_id":74173918,"comment_id":130959775,"body_markdown":"Updated my OP with the original code I had.","body":"Updated my OP with the original code I had."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666617273,"creation_date":1666551915,"answer_id":74173989,"question_id":74173918,"body_markdown":"I bet that you&#39;ve come up with a `boolean[]` as work around substituting a simple `boolean` flag, which you can&#39;t change from the lambda expression since it should be *effectively final*. This trick would allow updating the flag, but since it might be cached by a new thread, another thread might not be able to observe that it has been updated.\r\n\r\nTo establish a so-called *happens-before* relationship, you need to use [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html) instead of a single-element `boolean` array `b`. That would guarantee that the behavior of your code is consistent.\r\n\r\nAlso, `HashMap` is not meant to be used in multithreaded environment.\r\n\r\n# Addressing the updated question\r\n\r\nIf I&#39;ve understood the issue correctly, you&#39;re trying to reimplement the code which was developed using deprecated `AsyncTask` class.\r\n\r\nSince previously you had a code which asynchronously generating a `Map`, and returning the whole thing, you implement `Callable` interface (which contrary to `Runnable` is capable of producing the return value) to achieve the same result.\r\n\r\nThat&#39;s how such implementation might look like:\r\n\r\n    public class InfoTask implements Callable&lt;Map&lt;String, String&gt;&gt; {\r\n        \r\n        private String url;      // remove the field\r\n        private String user;     // if you want to choose another way of providing these data\r\n        private String password; // other than passing them to constructor\r\n        \r\n        // constructor\r\n        \r\n        @Override\r\n        public Map&lt;String, String&gt; call() throws Exception {\r\n    \r\n            Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n    \r\n            try (Connection connection = DriverManager.getConnection(url, user, password)) {\r\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                ResultSet resultSet = statement.executeQuery();\r\n                if (resultSet.next()) {\r\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n            }\r\n    \r\n            return info;\r\n        }\r\n    }\r\n\r\nIn order to run the [`Callable`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html) in a separate thread, you can use an instance of [`ExcecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html), which is basically a thread-management mechanism which maintains a pool of threads or a single threads and arranges execution of provided task (you can submit both `Runnable` and `Callable`).\r\n\r\nWhen the task is submitted, the executor returns you an instance of [`Future`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html). You may think of it as if it&#39;s a container wrapping the result that is expected sometime late in the future.\r\n\r\nTo obtain an `ExcecutorService` you can use one of the static factory methods provided by [`Executors`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html) class.\r\n\r\nHere&#39;s a simplistic example using with a single-threaded executor:\r\n\r\n```\r\nInfoTask task = new InfoTask(url, user, password);\r\n        \r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\nFuture&lt;Map&lt;String, String&gt;&gt; future = executor.submit(task);\r\n        \r\n// do some stuff here\r\n        \r\n// NOTE: get() call is BLOCKING\r\nMap&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS); // don&#39;t use parameterless get(), always provide a timeout\r\n        \r\nexecutor.shutdown(); // always invoke shutdown when executor is no longer needed\r\n```\r\n\r\nYou can also perform a check `isDone()` to find out whether the `Future` instance contains the result:\r\n\r\n```\r\nif (future.isDone()) {\r\n    Map&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS);\r\n    // do something\r\n}\r\n```","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>I bet that you've come up with a <code>boolean[]</code> as work around substituting a simple <code>boolean</code> flag, which you can't change from the lambda expression since it should be <em>effectively final</em>. This trick would allow updating the flag, but since it might be cached by a new thread, another thread might not be able to observe that it has been updated.</p>\n<p>To establish a so-called <em>happens-before</em> relationship, you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a> instead of a single-element <code>boolean</code> array <code>b</code>. That would guarantee that the behavior of your code is consistent.</p>\n<p>Also, <code>HashMap</code> is not meant to be used in multithreaded environment.</p>\n<h1>Addressing the updated question</h1>\n<p>If I've understood the issue correctly, you're trying to reimplement the code which was developed using deprecated <code>AsyncTask</code> class.</p>\n<p>Since previously you had a code which asynchronously generating a <code>Map</code>, and returning the whole thing, you implement <code>Callable</code> interface (which contrary to <code>Runnable</code> is capable of producing the return value) to achieve the same result.</p>\n<p>That's how such implementation might look like:</p>\n<pre><code>public class InfoTask implements Callable&lt;Map&lt;String, String&gt;&gt; {\n    \n    private String url;      // remove the field\n    private String user;     // if you want to choose another way of providing these data\n    private String password; // other than passing them to constructor\n    \n    // constructor\n    \n    @Override\n    public Map&lt;String, String&gt; call() throws Exception {\n\n        Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\n\n        try (Connection connection = DriverManager.getConnection(url, user, password)) {\n            String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            ResultSet resultSet = statement.executeQuery();\n            if (resultSet.next()) {\n                info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n            }\n        } catch (Exception e) {\n            Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n        }\n\n        return info;\n    }\n}\n</code></pre>\n<p>In order to run the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> in a separate thread, you can use an instance of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExcecutorService</code></a>, which is basically a thread-management mechanism which maintains a pool of threads or a single threads and arranges execution of provided task (you can submit both <code>Runnable</code> and <code>Callable</code>).</p>\n<p>When the task is submitted, the executor returns you an instance of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a>. You may think of it as if it's a container wrapping the result that is expected sometime late in the future.</p>\n<p>To obtain an <code>ExcecutorService</code> you can use one of the static factory methods provided by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> class.</p>\n<p>Here's a simplistic example using with a single-threaded executor:</p>\n<pre><code>InfoTask task = new InfoTask(url, user, password);\n        \nExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;Map&lt;String, String&gt;&gt; future = executor.submit(task);\n        \n// do some stuff here\n        \n// NOTE: get() call is BLOCKING\nMap&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS); // don't use parameterless get(), always provide a timeout\n        \nexecutor.shutdown(); // always invoke shutdown when executor is no longer needed\n</code></pre>\n<p>You can also perform a check <code>isDone()</code> to find out whether the <code>Future</code> instance contains the result:</p>\n<pre><code>if (future.isDone()) {\n    Map&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS);\n    // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666553461,"creation_date":1666553461,"answer_id":74174192,"question_id":74173918,"body_markdown":"You&#39;ve got a concurrency issue - when you start using threads and updating values that a different thread can see, there&#39;s no guarantee that what one thread sees is what the other one does, unless you use some form of *synchronisation*.\r\n\r\n(Basically, to make computers run real fast, they take some liberties about the order they do things in, and where they write down their working. It&#39;s like having the current data updated on a whiteboard in an office, except to work quicker people are sometimes just writing things down on a notepad at their desk, and they&#39;ll go update the whiteboard *later*)\r\n\r\nThere are a bunch of approaches to dealing with this - you can get an overview at the [section on concurrency in the Java documentation][1], and there are lots of tools at your disposal. I&#39;d really recommend reading it (or something like *Java Concurrency in Practice*) because it&#39;s a really important concept to get your head around - a lot of weird and bad stuff can happen if you don&#39;t know what you&#39;re doing with threading!\r\n\r\nBut in this case, if you have a `boolean` that only *one* thread is *writing* to, and everything else is *reading* from it, you can mark that `boolean` as `volatile`. That means it updates everywhere (so everything can see the current value) as soon as it&#39;s written. That should fix your &quot;why is it still true&quot; problem. (Although you might need to add it as a field on the `Runnable`, and store a reference to that, since you&#39;re doing all this inside a function)\r\n\r\nThe actual data you&#39;re writing in the map is the bigger issue - you need to make sure that&#39;s synchronised. You can do that by gating all access to the map (on all threads) through a `synchronized` block, but Java also provides a few concurrency-minded collections classes like [`ConcurrentHashMap`][2] that take care of that for you. But that doesn&#39;t solve all the problems related to concurrency, like race conditions - again, you have to understand the problems around this stuff, so you can be mindful about avoiding them\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>You've got a concurrency issue - when you start using threads and updating values that a different thread can see, there's no guarantee that what one thread sees is what the other one does, unless you use some form of <em>synchronisation</em>.</p>\n<p>(Basically, to make computers run real fast, they take some liberties about the order they do things in, and where they write down their working. It's like having the current data updated on a whiteboard in an office, except to work quicker people are sometimes just writing things down on a notepad at their desk, and they'll go update the whiteboard <em>later</em>)</p>\n<p>There are a bunch of approaches to dealing with this - you can get an overview at the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">section on concurrency in the Java documentation</a>, and there are lots of tools at your disposal. I'd really recommend reading it (or something like <em>Java Concurrency in Practice</em>) because it's a really important concept to get your head around - a lot of weird and bad stuff can happen if you don't know what you're doing with threading!</p>\n<p>But in this case, if you have a <code>boolean</code> that only <em>one</em> thread is <em>writing</em> to, and everything else is <em>reading</em> from it, you can mark that <code>boolean</code> as <code>volatile</code>. That means it updates everywhere (so everything can see the current value) as soon as it's written. That should fix your &quot;why is it still true&quot; problem. (Although you might need to add it as a field on the <code>Runnable</code>, and store a reference to that, since you're doing all this inside a function)</p>\n<p>The actual data you're writing in the map is the bigger issue - you need to make sure that's synchronised. You can do that by gating all access to the map (on all threads) through a <code>synchronized</code> block, but Java also provides a few concurrency-minded collections classes like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> that take care of that for you. But that doesn't solve all the problems related to concurrency, like race conditions - again, you have to understand the problems around this stuff, so you can be mindful about avoiding them</p>\n"}],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666617273,"creation_date":1666551235,"question_id":74173918,"body_markdown":"Hey all I am trying to add to a list of `map&lt;String, String&gt;` using the code below:\r\n\r\n    @NonNull\r\n    public static List&lt;Map&lt;String, String&gt;&gt; mysqlSelect(@NonNull String select, String where) {\r\n        Map&lt;String, String&gt; info = new HashMap&lt;String,String&gt;();\r\n        List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        int selectCnt = select.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\r\n        final boolean[] b = {true};\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run(){\r\n                try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\r\n                    String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser&quot;;\r\n                    PreparedStatement statement = connection.prepareStatement(sql);\r\n                    ResultSet resultSet = statement.executeQuery();\r\n\r\n                    while (resultSet.next()) {\r\n                        info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                        info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                        info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n\r\n                        list.add(info);\r\n                    }\r\n\r\n                    b[0] = false;\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n                    b[0] = false;\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        while (b[0]) { }\r\n\r\n        return list; //result.get(&quot;name&quot;)\r\n    }\r\n\r\nAs it loops in the `while () {..` part it populates the list with the needed 3 string values. However, as it does loop over and over again it seems to populate all the previous values to what was last read instead of having new data each time?\r\n\r\nExample:\r\n\r\n1st loop:\r\n\r\n    name: bob barker\r\n    address: something\r\n    phone-number = 4235421212\r\n\r\n2nd loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\nat this point the 1st loop data turns into\r\n\r\n1st loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\n2nd loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\nSo, what am I missing here?\r\n\r\n**UPDATE 1**\r\n\r\nOriginally I have the following:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        new InfoAsyncTask().execute();\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    public class InfoAsyncTask extends AsyncTask&lt;Void, Void, Map&lt;String, String&gt;&gt; {\r\n        @Override\r\n        protected Map&lt;String, String&gt; doInBackground(Void... voids) {\r\n            Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n\r\n            try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\r\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                ResultSet resultSet = statement.executeQuery();\r\n                if (resultSet.next()) {\r\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n            }\r\n\r\n            return info;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Map&lt;String, String&gt; result) {\r\n            if (!result.isEmpty()) {\r\n                TextView textViewName = findViewById(R.id.textViewName);\r\n                TextView textViewAddress = findViewById(R.id.textViewAddress);\r\n                TextView textViewPhoneNumber = findViewById(R.id.textViewPhone);\r\n\r\n                textViewName.setText(result.get(&quot;name&quot;));\r\n                textViewAddress.setText(result.get(&quot;address&quot;));\r\n                textViewPhoneNumber.setText(result.get(&quot;phone_number&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\nBut I wanted to put it into its own class file and call it from the onCreate.","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>Hey all I am trying to add to a list of <code>map&lt;String, String&gt;</code> using the code below:</p>\n<pre><code>@NonNull\npublic static List&lt;Map&lt;String, String&gt;&gt; mysqlSelect(@NonNull String select, String where) {\n    Map&lt;String, String&gt; info = new HashMap&lt;String,String&gt;();\n    List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n    int selectCnt = select.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\n    final boolean[] b = {true};\n\n    new Thread(new Runnable() {\n        @Override\n        public void run(){\n            try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser&quot;;\n                PreparedStatement statement = connection.prepareStatement(sql);\n                ResultSet resultSet = statement.executeQuery();\n\n                while (resultSet.next()) {\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n\n                    list.add(info);\n                }\n\n                b[0] = false;\n            } catch (Exception e) {\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n                b[0] = false;\n            }\n        }\n    }).start();\n\n    while (b[0]) { }\n\n    return list; //result.get(&quot;name&quot;)\n}\n</code></pre>\n<p>As it loops in the <code>while () {..</code> part it populates the list with the needed 3 string values. However, as it does loop over and over again it seems to populate all the previous values to what was last read instead of having new data each time?</p>\n<p>Example:</p>\n<p>1st loop:</p>\n<pre><code>name: bob barker\naddress: something\nphone-number = 4235421212\n</code></pre>\n<p>2nd loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>at this point the 1st loop data turns into</p>\n<p>1st loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>2nd loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>So, what am I missing here?</p>\n<p><strong>UPDATE 1</strong></p>\n<p>Originally I have the following:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new InfoAsyncTask().execute();\n}\n\n@SuppressLint(&quot;StaticFieldLeak&quot;)\npublic class InfoAsyncTask extends AsyncTask&lt;Void, Void, Map&lt;String, String&gt;&gt; {\n    @Override\n    protected Map&lt;String, String&gt; doInBackground(Void... voids) {\n        Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\n\n        try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\n            String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            ResultSet resultSet = statement.executeQuery();\n            if (resultSet.next()) {\n                info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n            }\n        } catch (Exception e) {\n            Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n        }\n\n        return info;\n    }\n\n    @Override\n    protected void onPostExecute(Map&lt;String, String&gt; result) {\n        if (!result.isEmpty()) {\n            TextView textViewName = findViewById(R.id.textViewName);\n            TextView textViewAddress = findViewById(R.id.textViewAddress);\n            TextView textViewPhoneNumber = findViewById(R.id.textViewPhone);\n\n            textViewName.setText(result.get(&quot;name&quot;));\n            textViewAddress.setText(result.get(&quot;address&quot;));\n            textViewPhoneNumber.setText(result.get(&quot;phone_number&quot;));\n        }\n    }\n}\n</code></pre>\n<p>But I wanted to put it into its own class file and call it from the onCreate.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1666617186,"post_id":74181454,"comment_id":130972659,"body_markdown":"Use an ORM instead of manually writing queries?","body":"Use an ORM instead of manually writing queries?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1666617346,"post_id":74181454,"comment_id":130972714,"body_markdown":"Long time ago (20 years) I didn&#39;t use an ORM and just coded SQL by hand as you are doing now. Of course when you have 2 or three queries it&#39;s simple. However, when you get to the point of having a dozen or more it&#39;s different. I used to segregate them in separate classes related to different &quot;modules&quot; or &quot;components&quot;. This we would minimize source control collissions when multiple developers were changing/improving/fixing queries at the same time.","body":"Long time ago (20 years) I didn&#39;t use an ORM and just coded SQL by hand as you are doing now. Of course when you have 2 or three queries it&#39;s simple. However, when you get to the point of having a dozen or more it&#39;s different. I used to segregate them in separate classes related to different &quot;modules&quot; or &quot;components&quot;. This we would minimize source control collissions when multiple developers were changing/improving/fixing queries at the same time."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1666627411,"post_id":74181454,"comment_id":130976710,"body_markdown":"A full blown ORM is not the solution to all database problems. Especially if you already have many working plain JDBC queries. With an ORM, you also get a whole series of disadvantages and peculiarities. The beginning is easy but when it gets complicated, on the one hand you need to know how your ORM is implemented inside and generates SQL. On the other hand, you still need to know SQL well to be able to create reasonably performant queries. You should take a look at MyBatis. This is a thin layer over JDBC and the SQL queries are stored in XML files.","body":"A full blown ORM is not the solution to all database problems. Especially if you already have many working plain JDBC queries. With an ORM, you also get a whole series of disadvantages and peculiarities. The beginning is easy but when it gets complicated, on the one hand you need to know how your ORM is implemented inside and generates SQL. On the other hand, you still need to know SQL well to be able to create reasonably performant queries. You should take a look at MyBatis. This is a thin layer over JDBC and the SQL queries are stored in XML files."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1666627501,"post_id":74181454,"comment_id":130976747,"body_markdown":"If you don&#39;t want to use MyBatis you can implement a similar system on your own. Store your queries in text files and create a mechanism to get a query by name.","body":"If you don&#39;t want to use MyBatis you can implement a similar system on your own. Store your queries in text files and create a mechanism to get a query by name."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666630392,"post_id":74181454,"comment_id":130977733,"body_markdown":"@Shadow using plain jdbc with manual verified sql statements is tons faster, separates the logic better and can unlease real professional knowledge engeneering. I aggree to use it at the beginning but step by step it should be understood and replaced.","body":"@Shadow using plain jdbc with manual verified sql statements is tons faster, separates the logic better and can unlease real professional knowledge engeneering. I aggree to use it at the beginning but step by step it should be understood and replaced."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1666686517,"post_id":74181454,"comment_id":130990070,"body_markdown":"@LenglBoy whereas I agree with you, the OP seems to have a problem with the approach. If you do not want to bother with manually maintaining a bunch of SQL scripts, then the alternative is ORM.","body":"@LenglBoy whereas I agree with you, the OP seems to have a problem with the approach. If you do not want to bother with manually maintaining a bunch of SQL scripts, then the alternative is ORM."}],"owner":{"account_id":25897123,"reputation":57,"user_id":19623540,"display_name":"Shadow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666617166,"creation_date":1666616339,"question_id":74181454,"body_markdown":"my current application requires a myriad of queries, which is extremely hard to maintain. My question is: How would I effectively organize / truncate all of those queries.\r\n\r\nHere&#39;s a snippet of the code:\r\n```\r\n        static MysqlConnectionPoolDataSource ds = BankDataConnection.ds;\r\n        \r\n        static Connection cn;\r\n        static CachedRowSet crs;\r\n    \r\n        static {\r\n    \r\n            try (CachedRowSet newCrs = RowSetProvider.newFactory().createCachedRowSet()) {\r\n    \r\n                cn = ds.getConnection();\r\n    \r\n                crs = newCrs;\r\n            } catch (SQLException e) {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //Used for logins\r\n        static String checkMatchPasswordQuery = &quot;CALL checkMatchPassword(?, ?, ?)&quot;;\r\n\r\n        static boolean checkMatchPassword(int client_id, String name, String inputPassword) throws SQLException {\r\n            try (CallableStatement cs = cn.prepareCall(checkMatchPasswordQuery)) {\r\n\r\n                cs.setInt(1, client_id);\r\n                cs.setString(2, name);\r\n                cs.setString(3, inputPassword);\r\n\r\n                ResultSet rs = cs.executeQuery();\r\n                rs.next();\r\n\r\n                return rs.getBoolean(&quot;matched&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        static String checkNameExist = &quot;CALL checkNameExist(?, ?)&quot;;\r\n\r\n        protected static boolean checkAccountNameExists(int client_id, String name) throws SQLException {\r\n            try (CallableStatement cs = cn.prepareCall(checkNameExist)) {\r\n\r\n                cs.setInt(1, client_id);\r\n                cs.setString(2, name);\r\n        \r\n                ResultSet rs = cs.executeQuery();\r\n                rs.next();\r\n\r\n                return rs.getBoolean(&quot;exist&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        static String getAccountId = &quot;SELECT id FROM accounts WHERE account_name = ? AND client_id = ?&quot;;\r\n\r\n        protected static int getAccountId(String name, int client_id) throws SQLException {\r\n            crs.setCommand(getAccountId);\r\n            crs.setString(1, name);\r\n            crs.setInt(2, client_id);\r\n\r\n            crs.execute(cn);\r\n            crs.first();\r\n\r\n            return crs.getInt(&quot;id&quot;);\r\n        }\r\n        \r\n        static String getAccountIdLastInserted = &quot;SELECT MAX(id) AS &#39;lastInsertedID&#39; FROM accounts&quot;;\r\n\r\n        protected static int getLastInsertedId(String name, String password) throws SQLException {\r\n            crs.setCommand(getAccountIdLastInserted);\r\n            crs.setString(1, name);\r\n            crs.setString(2, password);\r\n\r\n            crs.execute(cn);\r\n            crs.first();\r\n\r\n            return crs.getInt(&quot;lastInsertedID&quot;);\r\n        }\r\n```\r\nNote: This is just a small snippet and there are alot more methods than this\r\n\r\nHere&#39;s also the database&#39;s table for convenience:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy initial guess was that I would need to make a HashMap that stores some kind of BankAccount object with the respective id and handle all &quot;queries&quot; there. \r\n\r\nHowever, this only makes the application less dependant on the database itself, and hardly contribute to the organization as in some methods such as ```getAccountId``` or ```checkAccountNameExists``` entail substantial amount of loops.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVH4E.png","title":"How to organize lots of queries in JDBC","body":"<p>my current application requires a myriad of queries, which is extremely hard to maintain. My question is: How would I effectively organize / truncate all of those queries.</p>\n<p>Here's a snippet of the code:</p>\n<pre><code>        static MysqlConnectionPoolDataSource ds = BankDataConnection.ds;\n        \n        static Connection cn;\n        static CachedRowSet crs;\n    \n        static {\n    \n            try (CachedRowSet newCrs = RowSetProvider.newFactory().createCachedRowSet()) {\n    \n                cn = ds.getConnection();\n    \n                crs = newCrs;\n            } catch (SQLException e) {\n    \n                e.printStackTrace();\n            }\n        }\n\n        //Used for logins\n        static String checkMatchPasswordQuery = &quot;CALL checkMatchPassword(?, ?, ?)&quot;;\n\n        static boolean checkMatchPassword(int client_id, String name, String inputPassword) throws SQLException {\n            try (CallableStatement cs = cn.prepareCall(checkMatchPasswordQuery)) {\n\n                cs.setInt(1, client_id);\n                cs.setString(2, name);\n                cs.setString(3, inputPassword);\n\n                ResultSet rs = cs.executeQuery();\n                rs.next();\n\n                return rs.getBoolean(&quot;matched&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return false;\n        }\n\n        static String checkNameExist = &quot;CALL checkNameExist(?, ?)&quot;;\n\n        protected static boolean checkAccountNameExists(int client_id, String name) throws SQLException {\n            try (CallableStatement cs = cn.prepareCall(checkNameExist)) {\n\n                cs.setInt(1, client_id);\n                cs.setString(2, name);\n        \n                ResultSet rs = cs.executeQuery();\n                rs.next();\n\n                return rs.getBoolean(&quot;exist&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return false;\n        }\n\n        static String getAccountId = &quot;SELECT id FROM accounts WHERE account_name = ? AND client_id = ?&quot;;\n\n        protected static int getAccountId(String name, int client_id) throws SQLException {\n            crs.setCommand(getAccountId);\n            crs.setString(1, name);\n            crs.setInt(2, client_id);\n\n            crs.execute(cn);\n            crs.first();\n\n            return crs.getInt(&quot;id&quot;);\n        }\n        \n        static String getAccountIdLastInserted = &quot;SELECT MAX(id) AS 'lastInsertedID' FROM accounts&quot;;\n\n        protected static int getLastInsertedId(String name, String password) throws SQLException {\n            crs.setCommand(getAccountIdLastInserted);\n            crs.setString(1, name);\n            crs.setString(2, password);\n\n            crs.execute(cn);\n            crs.first();\n\n            return crs.getInt(&quot;lastInsertedID&quot;);\n        }\n</code></pre>\n<p>Note: This is just a small snippet and there are alot more methods than this</p>\n<p>Here's also the database's table for convenience:</p>\n<p><a href=\"https://i.stack.imgur.com/BVH4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVH4E.png\" alt=\"enter image description here\" /></a></p>\n<p>My initial guess was that I would need to make a HashMap that stores some kind of BankAccount object with the respective id and handle all &quot;queries&quot; there.</p>\n<p>However, this only makes the application less dependant on the database itself, and hardly contribute to the organization as in some methods such as <code>getAccountId</code> or <code>checkAccountNameExists</code> entail substantial amount of loops.</p>\n"},{"tags":["java","c#","android","asp.net-mvc"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666618388,"post_id":74181466,"comment_id":130973125,"body_markdown":"`and utf-8 char-set` You cannot use a charset as that is for text documents. You should just upload the bytes of the zip file. Nothing else.","body":"<code>and utf-8 char-set</code> You cannot use a charset as that is for text documents. You should just upload the bytes of the zip file. Nothing else."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666618583,"post_id":74181466,"comment_id":130973220,"body_markdown":"What is fileBody? We cannot see that. I think you have to add the file in another way. With addFile or addFilePart?","body":"What is fileBody? We cannot see that. I think you have to add the file in another way. With addFile or addFilePart?"},{"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"score":0,"creation_date":1666700880,"post_id":74181466,"comment_id":130994939,"body_markdown":"`FileBody fileBody = new FileBody(new File(filePath), &quot;application/zip&quot;);`","body":"<code>FileBody fileBody = new FileBody(new File(filePath), &quot;application&#47;zip&quot;);</code>"},{"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"score":0,"creation_date":1666700930,"post_id":74181466,"comment_id":130994953,"body_markdown":"here filePath is the absolute path of the zip file.","body":"here filePath is the absolute path of the zip file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666708156,"post_id":74181466,"comment_id":130997651,"body_markdown":"You should give mire info.","body":"You should give mire info."}],"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666617126,"creation_date":1666616411,"question_id":74181466,"body_markdown":"I am trying to upload a zip file from files from the android application to the server. I am initiating the HttpEntity object and uploading it in bytes using OutputStream and utf-8 char-set.\r\n\r\n                HttpEntity entity = MultipartEntityBuilder.create()\r\n                    .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\r\n                    .addPart(&quot;Solution&quot;, fileBody).build();\r\n            URL url = null;\r\n            try {\r\n                url = new URL(urlString);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                try {\r\n                    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/zip&quot;);\r\n                    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/zip;&quot;);\r\n                    connection.setRequestMethod(&quot;POST&quot;);\r\n                    connection.setUseCaches(false);\r\n                    connection.setDoInput(true);\r\n                    connection.setDoOutput(true);\r\n                    try (OutputStream os = connection.getOutputStream()) {\r\n                        byte[] input = entity.toString().getBytes(&quot;utf-8&quot;);\r\n                        os.write(input, 0, input.length);\r\n                    }\r\n                    return connection.getInputStream();\r\n                } catch (Exception e) {\r\n                    Log.v(&quot;Exception&quot;, e.getMessage());\r\n                } finally {\r\n                    connection.disconnect();\r\n                }\r\n            } catch (Exception e) {\r\n                Log.v(&quot;Exception&quot;, e.getMessage());\r\n            }\r\n\r\nOn the server, I am receiving empty &quot;Files&quot; object under HttpContext.Current.Request.\r\n\r\n    \t\t\t\t[HttpPost]\r\n\t\t\t\t[Route(&quot;UploadProblemSolution&quot;)]\r\n\t\t\t\tpublic HttpResponseMessage UploadProblemSolution()\r\n\t\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar httpRequest = HttpContext.Current.Request;\r\n\t\t\t\t\t\tif (httpRequest.Files.Count &gt; 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//save zip files\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (Exception ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t}\r\n\t\t\t\t}","title":"Uploading zip file from Android to dot net server","body":"<p>I am trying to upload a zip file from files from the android application to the server. I am initiating the HttpEntity object and uploading it in bytes using OutputStream and utf-8 char-set.</p>\n<pre><code>            HttpEntity entity = MultipartEntityBuilder.create()\n                .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\n                .addPart(&quot;Solution&quot;, fileBody).build();\n        URL url = null;\n        try {\n            url = new URL(urlString);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            try {\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/zip&quot;);\n                connection.setRequestProperty(&quot;Accept&quot;, &quot;application/zip;&quot;);\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setUseCaches(false);\n                connection.setDoInput(true);\n                connection.setDoOutput(true);\n                try (OutputStream os = connection.getOutputStream()) {\n                    byte[] input = entity.toString().getBytes(&quot;utf-8&quot;);\n                    os.write(input, 0, input.length);\n                }\n                return connection.getInputStream();\n            } catch (Exception e) {\n                Log.v(&quot;Exception&quot;, e.getMessage());\n            } finally {\n                connection.disconnect();\n            }\n        } catch (Exception e) {\n            Log.v(&quot;Exception&quot;, e.getMessage());\n        }\n</code></pre>\n<p>On the server, I am receiving empty &quot;Files&quot; object under HttpContext.Current.Request.</p>\n<pre><code>                [HttpPost]\n            [Route(&quot;UploadProblemSolution&quot;)]\n            public HttpResponseMessage UploadProblemSolution()\n            {\n                try\n                {\n                    var httpRequest = HttpContext.Current.Request;\n                    if (httpRequest.Files.Count &gt; 0)\n                    {\n                        //save zip files\n                    }\n                }\n                catch (Exception ex)\n                {\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","java","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":11460714,"reputation":1959,"user_id":8400446,"accept_rate":100,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666617115,"creation_date":1666617115,"answer_id":74181599,"question_id":74111591,"body_markdown":"I could solve the problem by **upgrading GraalVM to version 22.2**. Sadly, with this version, javascript support is not included anymore and have to be added with the console. Still have no idea what was wrong (and I am almost sure that the problem did not exist in the previous version).\r\n\r\n*This is not to credit myself. But because of the large text people might only look if there is an accepted answer and would not see an answer at the end of the text*","title":"StackOverflowError when executing javascript function from java with graalvm","body":"<p>I could solve the problem by <strong>upgrading GraalVM to version 22.2</strong>. Sadly, with this version, javascript support is not included anymore and have to be added with the console. Still have no idea what was wrong (and I am almost sure that the problem did not exist in the previous version).</p>\n<p><em>This is not to credit myself. But because of the large text people might only look if there is an accepted answer and would not see an answer at the end of the text</em></p>\n"}],"owner":{"account_id":11460714,"reputation":1959,"user_id":8400446,"accept_rate":100,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74181599,"answer_count":1,"score":1,"last_activity_date":1666617115,"creation_date":1666098744,"question_id":74111591,"body_markdown":"I know its a lot to ask to read such a big post but i hope you do as i really dont have any idea where to start looking for a solution of a problem that I dont even understand. \r\n\r\nI have a java service on a windows server. This service loads/evaluates several javascript files at startup. Those javascript files all have the same structure, they contain two functions: `process(name, content) { return { result: data } }` and `selfTest()`. The server loads the script, evaluates it, checks for the reqiured functions, runs the selftest and stores the handle of the `process` function in a map (key for the map is the field name the script is executed on) if the selftest succeeds:\r\n\r\n```\r\n// Called on MainThread\r\nprivate static final String JS_FN_SELFTEST = &quot;selfTest&quot;;\r\nprivate static final String JS_FN_PROCESS = &quot;process&quot;;\r\n\r\nprivate final Map&lt;String, Value&gt; _cache;\r\nprivate final Context _ctx;\r\n\r\npublic ScriptManager () {\r\n\t_cache = new HashMap&lt;&gt;();\r\n    _ctx = Context.newBuilder(&quot;js&quot;).allowIO(true).build();\r\n}\r\n\r\nprivate void addScriptFile(Path fileName, String... fieldNames)\r\n            throws IOException, NoSuchMethodException    {\r\n\tvar p = Path.of(fileName.toString());\r\n\tvar jsSource = Files.readString(p);\r\n\r\n\tvar evaluated = _ctx.eval(&quot;js&quot;, jsSource);\r\n\t\t\t\r\n\tif (!evaluated.hasMember(JS_FN_SELFTEST)) {\r\n\t\tthrow new NoSuchMethodException(JS_FN_SELFTEST);\r\n\t}\r\n\tvar fnSelfTest = evaluated.getMember(JS_FN_SELFTEST);\r\n\tfnSelfTest.execute();\r\n\t\r\n\tif (!evaluated.hasMember(JS_FN_PROCESS)) {\r\n\t\tthrow new NoSuchMethodException(JS_FN_PROCESS);\r\n\t}\r\n\t\r\n\tfor(String column: fieldNames) {\r\n\t\t_cache.put(column, evaluated.getMember(JS_FN_PROCESS));\r\n\t}\r\n}\r\n```\r\n\r\nAfter startup the service watches a network share for file drops. when a file drops, the file will be read and processed. The data will be cleaned first with a generic script and then the fields that are part of the map will also be processed. The following function does the cleaning, the field-processing is similar and the problem occurs there too.\r\n\r\n```\r\n// Called on JobProcessingThread\r\npublic List&lt;Data&gt; clean(DataMap dataSet)  {\r\n\tvar modified = new ArrayList&lt;Data&gt;();\r\n\tvar fnProcess = _cache.get(ALL_COLUMNS_MARKER);\r\n\t\r\n\tfor(var key: dataSet.keyList()) {\r\n\t\tvar data = dataSet.get(key);\r\n\t\tif (!data.Field.Scriptable) continue;\r\n\r\n\t\tString oldContent = data.getContent();\r\n\t\tif (oldContent == null) continue;\r\n\r\n\t\ttry {\r\n\t\t\tvar value = fnProcess.execute(data.SourceName, oldContent); // error occurs here\r\n\t\t\tvar map = value.as(Map.class);\r\n\t\t\tvar newContent = map.get(&quot;result&quot;).toString();\r\n\r\n\t\t\tif (!oldContent.equals(newContent)) {\r\n\t\t\t\tdata.setContent(newContent);\r\n\t\t\t\tmodified.add(data);\r\n\t\t\t}\r\n\t\t} catch(PolyglotException pe)    {\r\n\t\t\tdata.setProblem(pe.getMessage());\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn modified;\r\n}\r\n```\r\n\r\nAnd finally this is one of the loaded scripts:\r\n\r\n```\r\n(function() {\r\n\r\nfunction process(name, input) {\r\n    if (input === null) return { result: null };\r\n    \r\n    let tmp = input.trim();\r\n    if (tmp.length === 0) return { result: null };\r\n    \r\n\t// some logic here\r\n\t\r\n    return { \r\n        result: result !== &#39;&#39; ? result : null\r\n    };\r\n}\r\n\r\nfunction selfTest() {\r\n}\r\n\r\nreturn { process, selfTest };\r\n})();\r\n``` \r\n\r\nThats the scenario. When I run the app and drop a file I receive a StackOverflowError when the first scriptable field is processed in line `fnProcess.execute(data.SourceName, oldContent);` and The JVM is terminated (!). The script debugger of netbeans shows that this happens in the line `let tmp = input.trim();`. When i remove the `trim()` command the script will be executed until the next function call on a string (like `indexOf`) but the length check `tmp.length === 0` will be executed normally (at least the netbeans debugger shows it like that). The problem occurs regardless of the string content passed, even hard coding strings generates the error in the server environment.\r\n\r\n```\r\nUncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\r\nException in thread &quot;Thread-JobCenter&quot;: java.lang.StackOverflowError\r\njava.lang.StackOverflowError\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError0(StackOverflowCheckImpl.java:363)\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError(StackOverflowCheckImpl.java:359)\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.throwNewStackOverflowError(StackOverflowCheckImpl.java:339)\r\n\tat com.oracle.svm.core.graal.jdk.ArraycopySnippets.boundsCheck(ArraycopySnippets.java:117)\r\n\tat com.oracle.svm.core.graal.jdk.ArraycopySnippets.doArraycopy(ArraycopySnippets.java:94)\r\n\tat java.util.Arrays.copyOf(Arrays.java:3539)\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228)\r\n\tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:802)\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:242)\r\n\tat com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:144)\r\n\tat com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:187)\r\n\tat com.oracle.svm.jni.functions.JNIFunctions.NewStringUTF(JNIFunctions.java:479)\r\n\tat jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType0(CompilerToVM.java)\r\n\tat jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType(CompilerToVM.java:674)\r\n\tat jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.getHolder(HotSpotResolvedJavaMethodImpl.java:97)\r\n\tat jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.fromMetaspace(HotSpotResolvedJavaMethodImpl.java:115)\r\n\tat com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethodImpl_2_0002efromMetaspace_00028J_00029Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethod_2(JNIJavaCallWrappers.java:0)\r\n\tat org.graalvm.libgraal.jni.JNI$CallStaticObjectMethodA.call(JNI.java)\r\n\tat org.graalvm.libgraal.jni.FromLibGraalCalls.callJObject(FromLibGraalCalls.java:153)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntimeGen.callGetTruffleCallBoundaryMethods(HSTruffleCompilerRuntimeGen.java:181)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntime.getTruffleCallBoundaryMethods(HSTruffleCompilerRuntime.java:356)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.HotSpotTruffleCompilerImpl.installTruffleCallBoundaryMethods(HotSpotTruffleCompilerImpl.java:216)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.TruffleToLibGraalEntryPoints.installTruffleCallBoundaryMethods(TruffleToLibGraalEntryPoints.java:305)\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  Internal Error (jvmciRuntime.cpp:1215), pid=15740, tid=10088\r\n#  fatal error: Fatal exception in JVMCI: Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\r\n#\r\n# JRE version: OpenJDK Runtime Environment GraalVM CE 21.1.0 (16.0.1+9) (build 16.0.1+9-jvmci-21.1-b05)\r\n# Java VM: OpenJDK 64-Bit Server VM GraalVM CE 21.1.0 (16.0.1+9-jvmci-21.1-b05, mixed mode, sharing, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# C:\\Data\\hs_err_pid15740.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/oracle/graal/issues\r\n#\r\n```\r\n\r\nThis is part of the `hs_err_pid15740.log`\r\n\r\n```\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  jdk.vm.ci.hotspot.CompilerToVM.translate(Ljava/lang/Object;)J+0 jdk.internal.vm.ci@16.0.1\r\nj  jdk.vm.ci.hotspot.HotSpotJVMCIRuntime.translate(Ljava/lang/Object;)J+5 jdk.internal.vm.ci@16.0.1\r\nj  jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40 java.base@16.0.1\r\nj  jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6 java.base@16.0.1\r\nj  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+59 java.base@16.0.1\r\nj  org.graalvm.libgraal.LibGraal.translate(Ljava/lang/Object;)J+28 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleFromLibGraalEntryPoints.getTruffleCallBoundaryMethods(Ljava/lang/Object;)[J+122 jdk.internal.vm.compiler\r\nv  ~StubRoutines::call_stub\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleToLibGraalCalls.installTruffleCallBoundaryMethods(JJLorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+0 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.LibGraalHotSpotTruffleCompiler.installTruffleCallBoundaryMethods(Lorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+25 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntime.bypassedInstalledCode(Lorg/graalvm/compiler/truffle/runtime/OptimizedCallTarget;)V+14 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.interpreterCall()Z+11 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+1 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+9 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\r\n// repeated for about 8000 rows...\r\n```\r\n\r\nBut when I ran the following code with the same script file as above and i pass the same arguments to the javascript function as the server would do when the file drops, no exception is thrown:\r\n\r\n```\r\nvar ctx = Context.newBuilder(&quot;js&quot;).allowAllAccess(false).allowIO(true).build();\r\nvar js = java.nio.file.Files.readString(Path.of(&quot;scripts/0.js&quot;));\r\nvar evaluated = ctx.eval(&quot;js&quot;, js);\r\nvar fn = evaluated.getMember(&quot;process&quot;);\r\nvar result = fn.execute(&quot;test&quot;, &quot;some content &quot;);\r\n```\r\n\r\nI hope someone survived the gigantic textwall and made it till here and can tell me what i am doing wrong...","title":"StackOverflowError when executing javascript function from java with graalvm","body":"<p>I know its a lot to ask to read such a big post but i hope you do as i really dont have any idea where to start looking for a solution of a problem that I dont even understand.</p>\n<p>I have a java service on a windows server. This service loads/evaluates several javascript files at startup. Those javascript files all have the same structure, they contain two functions: <code>process(name, content) { return { result: data } }</code> and <code>selfTest()</code>. The server loads the script, evaluates it, checks for the reqiured functions, runs the selftest and stores the handle of the <code>process</code> function in a map (key for the map is the field name the script is executed on) if the selftest succeeds:</p>\n<pre><code>// Called on MainThread\nprivate static final String JS_FN_SELFTEST = &quot;selfTest&quot;;\nprivate static final String JS_FN_PROCESS = &quot;process&quot;;\n\nprivate final Map&lt;String, Value&gt; _cache;\nprivate final Context _ctx;\n\npublic ScriptManager () {\n    _cache = new HashMap&lt;&gt;();\n    _ctx = Context.newBuilder(&quot;js&quot;).allowIO(true).build();\n}\n\nprivate void addScriptFile(Path fileName, String... fieldNames)\n            throws IOException, NoSuchMethodException    {\n    var p = Path.of(fileName.toString());\n    var jsSource = Files.readString(p);\n\n    var evaluated = _ctx.eval(&quot;js&quot;, jsSource);\n            \n    if (!evaluated.hasMember(JS_FN_SELFTEST)) {\n        throw new NoSuchMethodException(JS_FN_SELFTEST);\n    }\n    var fnSelfTest = evaluated.getMember(JS_FN_SELFTEST);\n    fnSelfTest.execute();\n    \n    if (!evaluated.hasMember(JS_FN_PROCESS)) {\n        throw new NoSuchMethodException(JS_FN_PROCESS);\n    }\n    \n    for(String column: fieldNames) {\n        _cache.put(column, evaluated.getMember(JS_FN_PROCESS));\n    }\n}\n</code></pre>\n<p>After startup the service watches a network share for file drops. when a file drops, the file will be read and processed. The data will be cleaned first with a generic script and then the fields that are part of the map will also be processed. The following function does the cleaning, the field-processing is similar and the problem occurs there too.</p>\n<pre><code>// Called on JobProcessingThread\npublic List&lt;Data&gt; clean(DataMap dataSet)  {\n    var modified = new ArrayList&lt;Data&gt;();\n    var fnProcess = _cache.get(ALL_COLUMNS_MARKER);\n    \n    for(var key: dataSet.keyList()) {\n        var data = dataSet.get(key);\n        if (!data.Field.Scriptable) continue;\n\n        String oldContent = data.getContent();\n        if (oldContent == null) continue;\n\n        try {\n            var value = fnProcess.execute(data.SourceName, oldContent); // error occurs here\n            var map = value.as(Map.class);\n            var newContent = map.get(&quot;result&quot;).toString();\n\n            if (!oldContent.equals(newContent)) {\n                data.setContent(newContent);\n                modified.add(data);\n            }\n        } catch(PolyglotException pe)    {\n            data.setProblem(pe.getMessage());\n        }\n    }\n    \n    return modified;\n}\n</code></pre>\n<p>And finally this is one of the loaded scripts:</p>\n<pre><code>(function() {\n\nfunction process(name, input) {\n    if (input === null) return { result: null };\n    \n    let tmp = input.trim();\n    if (tmp.length === 0) return { result: null };\n    \n    // some logic here\n    \n    return { \n        result: result !== '' ? result : null\n    };\n}\n\nfunction selfTest() {\n}\n\nreturn { process, selfTest };\n})();\n</code></pre>\n<p>Thats the scenario. When I run the app and drop a file I receive a StackOverflowError when the first scriptable field is processed in line <code>fnProcess.execute(data.SourceName, oldContent);</code> and The JVM is terminated (!). The script debugger of netbeans shows that this happens in the line <code>let tmp = input.trim();</code>. When i remove the <code>trim()</code> command the script will be executed until the next function call on a string (like <code>indexOf</code>) but the length check <code>tmp.length === 0</code> will be executed normally (at least the netbeans debugger shows it like that). The problem occurs regardless of the string content passed, even hard coding strings generates the error in the server environment.</p>\n<pre><code>Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\nException in thread &quot;Thread-JobCenter&quot;: java.lang.StackOverflowError\njava.lang.StackOverflowError\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError0(StackOverflowCheckImpl.java:363)\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError(StackOverflowCheckImpl.java:359)\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.throwNewStackOverflowError(StackOverflowCheckImpl.java:339)\n    at com.oracle.svm.core.graal.jdk.ArraycopySnippets.boundsCheck(ArraycopySnippets.java:117)\n    at com.oracle.svm.core.graal.jdk.ArraycopySnippets.doArraycopy(ArraycopySnippets.java:94)\n    at java.util.Arrays.copyOf(Arrays.java:3539)\n    at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228)\n    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:802)\n    at java.lang.StringBuilder.append(StringBuilder.java:242)\n    at com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:144)\n    at com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:187)\n    at com.oracle.svm.jni.functions.JNIFunctions.NewStringUTF(JNIFunctions.java:479)\n    at jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType0(CompilerToVM.java)\n    at jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType(CompilerToVM.java:674)\n    at jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.getHolder(HotSpotResolvedJavaMethodImpl.java:97)\n    at jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.fromMetaspace(HotSpotResolvedJavaMethodImpl.java:115)\n    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethodImpl_2_0002efromMetaspace_00028J_00029Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethod_2(JNIJavaCallWrappers.java:0)\n    at org.graalvm.libgraal.jni.JNI$CallStaticObjectMethodA.call(JNI.java)\n    at org.graalvm.libgraal.jni.FromLibGraalCalls.callJObject(FromLibGraalCalls.java:153)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntimeGen.callGetTruffleCallBoundaryMethods(HSTruffleCompilerRuntimeGen.java:181)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntime.getTruffleCallBoundaryMethods(HSTruffleCompilerRuntime.java:356)\n    at org.graalvm.compiler.truffle.compiler.hotspot.HotSpotTruffleCompilerImpl.installTruffleCallBoundaryMethods(HotSpotTruffleCompilerImpl.java:216)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.TruffleToLibGraalEntryPoints.installTruffleCallBoundaryMethods(TruffleToLibGraalEntryPoints.java:305)\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  Internal Error (jvmciRuntime.cpp:1215), pid=15740, tid=10088\n#  fatal error: Fatal exception in JVMCI: Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\n#\n# JRE version: OpenJDK Runtime Environment GraalVM CE 21.1.0 (16.0.1+9) (build 16.0.1+9-jvmci-21.1-b05)\n# Java VM: OpenJDK 64-Bit Server VM GraalVM CE 21.1.0 (16.0.1+9-jvmci-21.1-b05, mixed mode, sharing, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Data\\hs_err_pid15740.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/oracle/graal/issues\n#\n</code></pre>\n<p>This is part of the <code>hs_err_pid15740.log</code></p>\n<pre><code>Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  jdk.vm.ci.hotspot.CompilerToVM.translate(Ljava/lang/Object;)J+0 jdk.internal.vm.ci@16.0.1\nj  jdk.vm.ci.hotspot.HotSpotJVMCIRuntime.translate(Ljava/lang/Object;)J+5 jdk.internal.vm.ci@16.0.1\nj  jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40 java.base@16.0.1\nj  jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6 java.base@16.0.1\nj  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+59 java.base@16.0.1\nj  org.graalvm.libgraal.LibGraal.translate(Ljava/lang/Object;)J+28 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleFromLibGraalEntryPoints.getTruffleCallBoundaryMethods(Ljava/lang/Object;)[J+122 jdk.internal.vm.compiler\nv  ~StubRoutines::call_stub\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleToLibGraalCalls.installTruffleCallBoundaryMethods(JJLorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+0 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.LibGraalHotSpotTruffleCompiler.installTruffleCallBoundaryMethods(Lorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+25 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntime.bypassedInstalledCode(Lorg/graalvm/compiler/truffle/runtime/OptimizedCallTarget;)V+14 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.interpreterCall()Z+11 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+1 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+9 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\n// repeated for about 8000 rows...\n</code></pre>\n<p>But when I ran the following code with the same script file as above and i pass the same arguments to the javascript function as the server would do when the file drops, no exception is thrown:</p>\n<pre><code>var ctx = Context.newBuilder(&quot;js&quot;).allowAllAccess(false).allowIO(true).build();\nvar js = java.nio.file.Files.readString(Path.of(&quot;scripts/0.js&quot;));\nvar evaluated = ctx.eval(&quot;js&quot;, js);\nvar fn = evaluated.getMember(&quot;process&quot;);\nvar result = fn.execute(&quot;test&quot;, &quot;some content &quot;);\n</code></pre>\n<p>I hope someone survived the gigantic textwall and made it till here and can tell me what i am doing wrong...</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666616905,"post_id":74181426,"comment_id":130972555,"body_markdown":"It&#39;s most probably happening in Java. Might be related to Java&#39;s `Double`. https://floating-point-gui.de/","body":"It&#39;s most probably happening in Java. Might be related to Java&#39;s <code>Double</code>. <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1666627459,"post_id":74181426,"comment_id":130976725,"body_markdown":"@Wira There are similar reports [1](https://stackoverflow.com/questions/27856598) [2](https://github.com/pgjdbc/pgjdbc/issues/1942). The driver (pgjdbc) seems to send the right value, so there might be some issue with the protocol handling in the server side. In any case, you should use `BigDecimal` if precision matters.","body":"@Wira There are similar reports <a href=\"https://stackoverflow.com/questions/27856598\">1</a> <a href=\"https://github.com/pgjdbc/pgjdbc/issues/1942\" rel=\"nofollow noreferrer\">2</a>. The driver (pgjdbc) seems to send the right value, so there might be some issue with the protocol handling in the server side. In any case, you should use <code>BigDecimal</code> if precision matters."}],"owner":{"account_id":13351149,"reputation":530,"user_id":9636333,"display_name":"Maram Sreerama Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666616200,"creation_date":1666616200,"question_id":74181426,"body_markdown":"My SQL query in MyBatis mapper\r\n```\r\n&lt;foreach collection=&quot;ps&quot; item=&quot;p&quot; separator=&quot;;&quot; open=&quot;&quot; close=&quot;&quot;&gt;\r\n    INSERT INTO ${stageTableName} VALUES(\r\n        #{p.v1},\r\n        #{p.v2},\r\n        #{p.v3},\r\n        #{p.v4},\r\n        #{p.v5},\r\n        #{vx},\r\n        #{p.quantity}\r\n    )\r\n    ON CONFLICT (&quot;v1&quot;, &quot;v2&quot;, &quot;v3&quot;, &quot;v4&quot;, &quot;v5&quot;)\r\n    DO UPDATE SET quantity = ${stageTableName}.quantity + EXCLUDED.quantity\r\n&lt;/foreach&gt;\r\n```\r\n\r\n`ps` is a List of objects in java.\r\nEverything was working well until today we hit a case where\r\n\r\nWhen p.quantity = `1222371636058.8174`\r\nThen in database what I see quantity is = `1222371636058.82`\r\n\r\n- I ran code in debug mode, and I see this is where the round off is being done.\r\n- I ran SQL query with hard coded values, and in that case DB value is store correctly, i.e. `1222371636058.8174`\r\n- But above code rounds it off. And it does only for this number. For example, a smaller number, say `123.8124872` &#39;s precision is stored correctly.\r\n\r\n---\r\n- Type of p.quantity in Java - `Double`\r\n- Type of &#39;quantity&#39; in the table - `NUMERIC(38,7)`\r\n- DB - `Postgres`\r\n\r\nPlease let me know if anyone knows whats happening here. \r\n","title":"MyBatis | Losing Double Precision on Insertion","body":"<p>My SQL query in MyBatis mapper</p>\n<pre><code>&lt;foreach collection=&quot;ps&quot; item=&quot;p&quot; separator=&quot;;&quot; open=&quot;&quot; close=&quot;&quot;&gt;\n    INSERT INTO ${stageTableName} VALUES(\n        #{p.v1},\n        #{p.v2},\n        #{p.v3},\n        #{p.v4},\n        #{p.v5},\n        #{vx},\n        #{p.quantity}\n    )\n    ON CONFLICT (&quot;v1&quot;, &quot;v2&quot;, &quot;v3&quot;, &quot;v4&quot;, &quot;v5&quot;)\n    DO UPDATE SET quantity = ${stageTableName}.quantity + EXCLUDED.quantity\n&lt;/foreach&gt;\n</code></pre>\n<p><code>ps</code> is a List of objects in java.\nEverything was working well until today we hit a case where</p>\n<p>When p.quantity = <code>1222371636058.8174</code>\nThen in database what I see quantity is = <code>1222371636058.82</code></p>\n<ul>\n<li>I ran code in debug mode, and I see this is where the round off is being done.</li>\n<li>I ran SQL query with hard coded values, and in that case DB value is store correctly, i.e. <code>1222371636058.8174</code></li>\n<li>But above code rounds it off. And it does only for this number. For example, a smaller number, say <code>123.8124872</code> 's precision is stored correctly.</li>\n</ul>\n<hr />\n<ul>\n<li>Type of p.quantity in Java - <code>Double</code></li>\n<li>Type of 'quantity' in the table - <code>NUMERIC(38,7)</code></li>\n<li>DB - <code>Postgres</code></li>\n</ul>\n<p>Please let me know if anyone knows whats happening here.</p>\n"},{"tags":["java","android-studio","build.gradle","android-12"],"comments":[{"owner":{"account_id":2917069,"reputation":1304,"user_id":2500027,"accept_rate":62,"display_name":"Suchith"},"score":0,"creation_date":1651663170,"post_id":70697678,"comment_id":127415264,"body_markdown":"any update on this issue?","body":"any update on this issue?"}],"answers":[{"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666615943,"creation_date":1666615943,"answer_id":74181367,"question_id":70697678,"body_markdown":"I ran in a very similar bug. There are two options out of my understanding:\r\n\r\n- Remove that static method from that interface\r\n- Set the minimum SDK to 24\r\n\r\nI&#39;m still not sure why that happens. However [here][1] is one guess:\r\n\r\n&gt; Support for static interface methods in Android was introduced in API 24. To facilitate backward-compatibility for Android projects with Minimum Version or TargetVersion set lower than 24, the Android build tools (d8 maybe?) extract all the static methods of the interface into a separate class (similar to how the Xamarin binding tools generate an additional class for interfaces that contain static methods), whose name is name of the interface + &quot;$-CC&quot;, and modifies the calling code to call the static methods in that class instead.\r\n\r\n\r\n  [1]: https://github.com/xamarin/xamarin-android/issues/6784#issuecomment-1091487256","title":"java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class","body":"<p>I ran in a very similar bug. There are two options out of my understanding:</p>\n<ul>\n<li>Remove that static method from that interface</li>\n<li>Set the minimum SDK to 24</li>\n</ul>\n<p>I'm still not sure why that happens. However <a href=\"https://github.com/xamarin/xamarin-android/issues/6784#issuecomment-1091487256\" rel=\"nofollow noreferrer\">here</a> is one guess:</p>\n<blockquote>\n<p>Support for static interface methods in Android was introduced in API 24. To facilitate backward-compatibility for Android projects with Minimum Version or TargetVersion set lower than 24, the Android build tools (d8 maybe?) extract all the static methods of the interface into a separate class (similar to how the Xamarin binding tools generate an additional class for interfaces that contain static methods), whose name is name of the interface + &quot;$-CC&quot;, and modifies the calling code to call the static methods in that class instead.</p>\n</blockquote>\n"}],"owner":{"account_id":13776356,"reputation":2129,"user_id":9942608,"display_name":"Himanshi Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1695,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666615943,"creation_date":1642081666,"question_id":70697678,"body_markdown":"App is getting crash after I have upgraded my targetSdkVersion and compileSdkVersion to 31.\r\nI have tried all the answers in this [link][1] but still facing same issue .\r\nEverytime i try to open the app this error is coming \r\n\r\n    java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class Landroidx/core/os/BuildCompat; or its super classes (declaration of &#39;androidx.core.os.BuildCompat&#39; appears in /data/app/~~6PPcQbptT87_5h04ffIgXg\r\n\r\n[![Screenshot][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60812702/java-lang-nosuchmethoderror-no-static-method-isatleastrz\r\n  [2]: https://i.stack.imgur.com/CfNm6.png","title":"java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class","body":"<p>App is getting crash after I have upgraded my targetSdkVersion and compileSdkVersion to 31.\nI have tried all the answers in this <a href=\"https://stackoverflow.com/questions/60812702/java-lang-nosuchmethoderror-no-static-method-isatleastrz\">link</a> but still facing same issue .\nEverytime i try to open the app this error is coming</p>\n<pre><code>java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class Landroidx/core/os/BuildCompat; or its super classes (declaration of 'androidx.core.os.BuildCompat' appears in /data/app/~~6PPcQbptT87_5h04ffIgXg\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CfNm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CfNm6.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":["java","reflection","immutability","immutables-library"],"answers":[{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666615402,"creation_date":1666063672,"answer_id":74105361,"question_id":74091992,"body_markdown":"You just add the missing methods yourself as defined in library documentation here : https://immutables.github.io/immutable.html#expressive-factory-methods. So for the missing methods you define `public static MyClass of(...)` and `public static MyClass create(...)` methods as below\r\n\r\n```\r\n@Value.Modifiable\r\n@Value.Immutable\r\npublic abstract class Point {\r\n  @Value.Parameter\r\n  public abstract double x();\r\n  @Value.Parameter\r\n  public abstract double y();\r\n  //You added this for example\r\n  @Value.Parameter\r\n  public abstract double z();\r\n\r\n  public static Point origin() {\r\n    return ImmutablePoint.of(0, 0);\r\n  }\r\n\r\n  public static MyClass of(double x, double y) {\r\n    return ImmutableMyClass.of(x, y, 0); // or another implementation you need\r\n    \r\n  }\r\n\r\n   public static MyClass create(double x, double y) {\r\n    return ModifiableMyClass.create(x, y, 0); // or another implementation you need\r\n  }\r\n}\r\n```","title":"Immutables custom create and of methods","body":"<p>You just add the missing methods yourself as defined in library documentation here : <a href=\"https://immutables.github.io/immutable.html#expressive-factory-methods\" rel=\"nofollow noreferrer\">https://immutables.github.io/immutable.html#expressive-factory-methods</a>. So for the missing methods you define <code>public static MyClass of(...)</code> and <code>public static MyClass create(...)</code> methods as below</p>\n<pre><code>@Value.Modifiable\n@Value.Immutable\npublic abstract class Point {\n  @Value.Parameter\n  public abstract double x();\n  @Value.Parameter\n  public abstract double y();\n  //You added this for example\n  @Value.Parameter\n  public abstract double z();\n\n  public static Point origin() {\n    return ImmutablePoint.of(0, 0);\n  }\n\n  public static MyClass of(double x, double y) {\n    return ImmutableMyClass.of(x, y, 0); // or another implementation you need\n    \n  }\n\n   public static MyClass create(double x, double y) {\n    return ModifiableMyClass.create(x, y, 0); // or another implementation you need\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74105361,"answer_count":1,"score":1,"last_activity_date":1666615402,"creation_date":1665972750,"question_id":74091992,"body_markdown":"I am changing a library that uses  [Immutables][1]. \r\nIn the class that I change I just added a new variable and in the generated classes I see different signatures in the `create` and `of` methods.\r\n\r\n```\r\nImmutableMyClass.of(previous variables ...,  int varNew)\r\n\r\nModifiableMyClass.create(previous variables ...,  int varNew)\r\n```\r\nSince there are users of this library that call the previous versions of these methods I need to keep previous versions while providing the new versions for a new feature; otherwise, apparently, I am breaking the backward compatibility. \r\n\r\nHow do I have `Immutables` create custom `create` and `of` methods?\r\n\r\n\r\n  [1]: https://immutables.github.io/","title":"Immutables custom create and of methods","body":"<p>I am changing a library that uses  <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a>.\nIn the class that I change I just added a new variable and in the generated classes I see different signatures in the <code>create</code> and <code>of</code> methods.</p>\n<pre><code>ImmutableMyClass.of(previous variables ...,  int varNew)\n\nModifiableMyClass.create(previous variables ...,  int varNew)\n</code></pre>\n<p>Since there are users of this library that call the previous versions of these methods I need to keep previous versions while providing the new versions for a new feature; otherwise, apparently, I am breaking the backward compatibility.</p>\n<p>How do I have <code>Immutables</code> create custom <code>create</code> and <code>of</code> methods?</p>\n"},{"tags":["java","spring","spring-security","graphql","netflix-dgs"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666615529,"post_id":74138263,"comment_id":130972030,"body_markdown":"looks like [this issue](https://github.com/Netflix/dgs-framework/issues/458)","body":"looks like <a href=\"https://github.com/Netflix/dgs-framework/issues/458\" rel=\"nofollow noreferrer\">this issue</a>"},{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1667219409,"post_id":74138263,"comment_id":131111224,"body_markdown":"Xerx593 has pointed out a bug. Apart from that, please check out this link if it helps...\nhttps://github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security/blob/master/BookDemo/src/main/java/com/graphqlspringdemo/config/JwtSecurityConfig.java","body":"Xerx593 has pointed out a bug. Apart from that, please check out this link if it helps... <a href=\"https://github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security/blob/master/BookDemo/src/main/java/com/graphqlspringdemo/config/JwtSecurityConfig.java\" rel=\"nofollow noreferrer\">github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":99458,"reputation":470,"user_id":268634,"display_name":"Andr&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1666615036,"creation_date":1666261266,"question_id":74138263,"body_markdown":"I am working on a Graphql API and want to authenticate and authorize Graphql requests. I have the setup working just fine for queries/mutations. However, with subscriptions I am running into some issues.\r\n\r\nVersions\r\n```\r\ngraphql-dgs-platform-dependencies: 5.2.4\r\nspring-boot-starter-parent: 2.7.3\r\n```\r\n\r\nI have this datafetcher:\r\n```java\r\n@DgsComponent\r\n@RequiredArgsConstructor\r\npublic class StocksDataFetcher implements SupportsGlobalObjectIdentification {\r\n    private final StocksService service;\r\n\r\n    @DgsSubscription\r\n    @Secured(&quot;ROLE_myRole&quot;)\r\n    public Publisher&lt;Stock&gt; stocks(DataFetchingEnvironment dfe) {\r\n        final var sctx = SecurityContextHolder.getContext();\r\n\r\n        return service.getStocksPublisher();\r\n    }\r\n}\r\n```\r\n\r\nThis SecurityFilter chain:\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        final var resolver = new DefaultBearerTokenResolver();\r\n        resolver.setAllowUriQueryParameter(true);\r\n\r\n        http.cors()\r\n            .and().securityContext().securityContextRepository(new NullSecurityContextRepository())\r\n            .and()\r\n            .authorizeHttpRequests().anyRequest().authenticated()\r\n            .and()\r\n            .oauth2ResourceServer()\r\n            .bearerTokenResolver(resolver)\r\n            .jwt()\r\n        ;\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nI have setup the graphql client to pass the jwt token as access_token query parameter. I get the following logs:\r\n\r\n```\r\no.s.security.web.FilterChainProxy        : Securing GET /subscriptions?access_token=[JWT REDACTED]\r\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\no.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\r\n.o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b3e4fcc6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_profile, SCOPE_email]]\r\no.s.security.web.FilterChainProxy        : Secured GET /subscriptions?access_token=[JWT REDACTED]\r\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\nbsocketGraphQLTransportWSProtocolHandler : Initialized connection for 56ec6e0e-406d-b970-7a16-46fd9ff2da03\r\nn.g.e.SimpleDataFetcherExceptionHandler  : Exception while fetching data (/stocks) : An Authentication object was not found in the SecurityContext\r\n\r\norg.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:336) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:200) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n[...]\r\n```\r\n\r\nLooking at the logs we can see that the request is authenticated, but it seems that the SecurityContextHolder is cleared before the method security on the data fetcher is evaluated.\r\n\r\nAny suggestions on how to configure this correctly or as to what is going on here, is very much appreciated.","title":"How to authorize subscriptions with DGS and Spring Security","body":"<p>I am working on a Graphql API and want to authenticate and authorize Graphql requests. I have the setup working just fine for queries/mutations. However, with subscriptions I am running into some issues.</p>\n<p>Versions</p>\n<pre><code>graphql-dgs-platform-dependencies: 5.2.4\nspring-boot-starter-parent: 2.7.3\n</code></pre>\n<p>I have this datafetcher:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DgsComponent\n@RequiredArgsConstructor\npublic class StocksDataFetcher implements SupportsGlobalObjectIdentification {\n    private final StocksService service;\n\n    @DgsSubscription\n    @Secured(&quot;ROLE_myRole&quot;)\n    public Publisher&lt;Stock&gt; stocks(DataFetchingEnvironment dfe) {\n        final var sctx = SecurityContextHolder.getContext();\n\n        return service.getStocksPublisher();\n    }\n}\n</code></pre>\n<p>This SecurityFilter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        final var resolver = new DefaultBearerTokenResolver();\n        resolver.setAllowUriQueryParameter(true);\n\n        http.cors()\n            .and().securityContext().securityContextRepository(new NullSecurityContextRepository())\n            .and()\n            .authorizeHttpRequests().anyRequest().authenticated()\n            .and()\n            .oauth2ResourceServer()\n            .bearerTokenResolver(resolver)\n            .jwt()\n        ;\n        return http.build();\n    }\n}\n</code></pre>\n<p>I have setup the graphql client to pass the jwt token as access_token query parameter. I get the following logs:</p>\n<pre><code>o.s.security.web.FilterChainProxy        : Securing GET /subscriptions?access_token=[JWT REDACTED]\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\no.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\n.o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b3e4fcc6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_profile, SCOPE_email]]\no.s.security.web.FilterChainProxy        : Secured GET /subscriptions?access_token=[JWT REDACTED]\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\nbsocketGraphQLTransportWSProtocolHandler : Initialized connection for 56ec6e0e-406d-b970-7a16-46fd9ff2da03\nn.g.e.SimpleDataFetcherExceptionHandler  : Exception while fetching data (/stocks) : An Authentication object was not found in the SecurityContext\n\norg.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:336) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:200) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\n[...]\n</code></pre>\n<p>Looking at the logs we can see that the request is authenticated, but it seems that the SecurityContextHolder is cleared before the method security on the data fetcher is evaluated.</p>\n<p>Any suggestions on how to configure this correctly or as to what is going on here, is very much appreciated.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666614704,"creation_date":1666614704,"answer_id":74181141,"question_id":74179035,"body_markdown":"Yes. There’s a single thread for executing all of the user-implemented methods in the same task. ","title":"Does processElement() block broadcastProcessElement()?","body":"<p>Yes. There’s a single thread for executing all of the user-implemented methods in the same task.</p>\n"}],"owner":{"account_id":11057209,"reputation":17,"user_id":11791225,"display_name":"Komal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74181141,"answer_count":1,"score":0,"last_activity_date":1666614704,"creation_date":1666603409,"question_id":74179035,"body_markdown":"I know that when broadcastProcessElement() is executing, processElement will not be executed, but is the vice versa also true?","title":"Does processElement() block broadcastProcessElement()?","body":"<p>I know that when broadcastProcessElement() is executing, processElement will not be executed, but is the vice versa also true?</p>\n"},{"tags":["java","android","kotlin","mutablelist"],"answers":[{"tags":[],"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666591889,"creation_date":1666591889,"answer_id":74177188,"question_id":74177010,"body_markdown":"In order to understand what is going on here you need to know how values are saved in memory. All objects that are created using the `new` keyword (not needed in Kotlin), are stored in heap memory whereas all primitive data types are in stack memory. \r\n\r\nConsider the following code\r\n\r\n    val list: MutableList&lt;String&gt; = ArrayList()\r\n\r\nWhat is happening here is that a new object of `ArrayList` is being created in the heap. The variable `list` can be considered as a box which holds the location where the actual object is created. You can imagine the variable holding a value of `0x7800abd12`.\r\n\r\nNow what happens, when you create a new variable and assign the one that you created above.\r\n\r\n    val newList = list\r\n\r\nHere, you assigned whatever value the variable `list` had to the variable `newList`. What this did was in fact save the memory address `0x7800abd12` in the variable `newList`. Remember, the value is the location where the actual list is created. Now, if the user accesses either `list` or `newList`, they will be taken to the object at the given memory address. Since both variables have the same address, any change made to either of the two variables will reflect for both of them.\r\n\r\nBut why doesn&#39;t this behaviour reflect when we are using primitive data types. Remember, I mentioned that primitive data types are stored on the stack rather than heap. Consider this example\r\n\r\n    val pi = 3.142\r\n\r\nIn this case, the variable `pi` actually holds the value `3.142` rather than a memory location. Now, when you assign it  to another variable, the new variable also holds the value rather than a memory location.\r\n\r\n    val newPi = pi\r\n\r\nHere `newPi` holds the value `3.142`. If you change `newPi` to some other value, it will only update the variable `newPi` and won&#39;t update the variable `pi`.\r\n\r\nIn order to learn more about this you can check out this [thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>In order to understand what is going on here you need to know how values are saved in memory. All objects that are created using the <code>new</code> keyword (not needed in Kotlin), are stored in heap memory whereas all primitive data types are in stack memory.</p>\n<p>Consider the following code</p>\n<pre><code>val list: MutableList&lt;String&gt; = ArrayList()\n</code></pre>\n<p>What is happening here is that a new object of <code>ArrayList</code> is being created in the heap. The variable <code>list</code> can be considered as a box which holds the location where the actual object is created. You can imagine the variable holding a value of <code>0x7800abd12</code>.</p>\n<p>Now what happens, when you create a new variable and assign the one that you created above.</p>\n<pre><code>val newList = list\n</code></pre>\n<p>Here, you assigned whatever value the variable <code>list</code> had to the variable <code>newList</code>. What this did was in fact save the memory address <code>0x7800abd12</code> in the variable <code>newList</code>. Remember, the value is the location where the actual list is created. Now, if the user accesses either <code>list</code> or <code>newList</code>, they will be taken to the object at the given memory address. Since both variables have the same address, any change made to either of the two variables will reflect for both of them.</p>\n<p>But why doesn't this behaviour reflect when we are using primitive data types. Remember, I mentioned that primitive data types are stored on the stack rather than heap. Consider this example</p>\n<pre><code>val pi = 3.142\n</code></pre>\n<p>In this case, the variable <code>pi</code> actually holds the value <code>3.142</code> rather than a memory location. Now, when you assign it  to another variable, the new variable also holds the value rather than a memory location.</p>\n<pre><code>val newPi = pi\n</code></pre>\n<p>Here <code>newPi</code> holds the value <code>3.142</code>. If you change <code>newPi</code> to some other value, it will only update the variable <code>newPi</code> and won't update the variable <code>pi</code>.</p>\n<p>In order to learn more about this you can check out this <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666614051,"creation_date":1666614051,"answer_id":74181014,"question_id":74177010,"body_markdown":"You compared changing the contents of a list with changing the value of a variable, which are not the same thing. In your example, `mPi` is first assigned to point at the value of `Data.pi` and then it’s changed to point at some other Double. You aren’t doing anything to modify the Double itself, only what the local variable `mPi` is pointing to. \r\n\r\nWhen you do `val newList = Data.list`, you are declaring the variable to point to the same list instance as in Data. Then you modify the *contents* of that same list. Since both variables are pointing at the same instance, you will observe the same changes if you inspect the instance via either variable.  Notice you did not reassign the variable’s value using `newList =` like you did in the `pi` example, which is why these are not analogous actions. \r\n\r\nIn short, with the pi example, you have two Double instances and were switching between them by changing the value of a variable. With the list example, you have only one  MutableList instance that you are internally mutating.\r\n\r\nNotably, primitive type classes are all immutable so there’s no way you could modify their contents even if you wanted to. They don’t have functions you can call on them to change the value they represent. In Kotlin you rarely have to think about the distinction between primitive classes and other classes unless you’re optimizing code performance. ","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>You compared changing the contents of a list with changing the value of a variable, which are not the same thing. In your example, <code>mPi</code> is first assigned to point at the value of <code>Data.pi</code> and then it’s changed to point at some other Double. You aren’t doing anything to modify the Double itself, only what the local variable <code>mPi</code> is pointing to.</p>\n<p>When you do <code>val newList = Data.list</code>, you are declaring the variable to point to the same list instance as in Data. Then you modify the <em>contents</em> of that same list. Since both variables are pointing at the same instance, you will observe the same changes if you inspect the instance via either variable.  Notice you did not reassign the variable’s value using <code>newList =</code> like you did in the <code>pi</code> example, which is why these are not analogous actions.</p>\n<p>In short, with the pi example, you have two Double instances and were switching between them by changing the value of a variable. With the list example, you have only one  MutableList instance that you are internally mutating.</p>\n<p>Notably, primitive type classes are all immutable so there’s no way you could modify their contents even if you wanted to. They don’t have functions you can call on them to change the value they represent. In Kotlin you rarely have to think about the distinction between primitive classes and other classes unless you’re optimizing code performance.</p>\n"}],"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74177188,"answer_count":2,"score":0,"last_activity_date":1666614051,"creation_date":1666590009,"question_id":74177010,"body_markdown":"If I `clear()` my local list (`mList`) it also clearing `companion`&#39;s Mutablelist (`list`)\r\nWhy this happening explanation&#39;s are welcome :)\r\n\r\nI&#39;ve a class with `companion` like this : \r\n\r\n```\r\nclass Data {\r\n    companion object {\r\n        var list:MutableList&lt;String&gt; = ArrayList()\r\n    }\r\n}\r\n```\r\n\r\nIf I create my local list something like this :\r\n\r\n```\r\nfun main() {\r\n   // some dummy data\r\n   Data.list.add(&quot;Lion&quot;) \r\n   Data.list.add(&quot;Cat&quot;)\r\n   Data.list.add(&quot;Dog&quot;)\r\n   Data.list.add(&quot;Cheetah&quot;)\r\n\r\n   // my local mList\r\n   val mList = Data.list\r\n\r\n   println(&quot;Before Clearing : mList = $mList\\n list = ${Data.list}&quot;)\r\n   mList.clear()\r\n   println(&quot;After Clearing : mList = $mList\\n list = ${Data.list}&quot;)\r\n}\r\n```\r\n\r\n**OutPut**\r\n\r\n```bash\r\nBefore Clearing : mList = [Lion, Cat, Dog, Cheetah]\r\n list = [Lion, Cat, Dog, Cheetah]\r\nAfter Clearing : mList = []\r\n list = []\r\n```\r\n\r\nAs You can see in output if I `clear()` local `mList` it is clearing `companion`&#39;s list Why it is ?\r\n\r\nif I do this same with some other things like `double` it is not happening like this example -\r\n```\r\n// same Data class&#39;s\r\n...\r\n  var pi = 3.14\r\n...\r\n```\r\n\r\nIf change local `mPi` it doesn&#39;t change `pi` :\r\n\r\n```\r\nvar mPi = Data.pi\r\nprintln(&quot;Before Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \r\nmPi = 319.12\r\nprintln(&quot;After Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \r\n```\r\n\r\n2nd Output\r\n\r\n```bash\r\nBefore Assigning to New value mPi =  3.14 and pi = 3.14\r\nAfter Assigning to New value mPi =  319.12 and pi = 3.14\r\n```\r\nLink of [Kotlin Playground][1]\r\n\r\nWhy it is happening? I&#39;d like to know :)\r\n\r\n\r\n  [1]: https://pl.kotl.in/rmO-R-um_","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>If I <code>clear()</code> my local list (<code>mList</code>) it also clearing <code>companion</code>'s Mutablelist (<code>list</code>)\nWhy this happening explanation's are welcome :)</p>\n<p>I've a class with <code>companion</code> like this :</p>\n<pre><code>class Data {\n    companion object {\n        var list:MutableList&lt;String&gt; = ArrayList()\n    }\n}\n</code></pre>\n<p>If I create my local list something like this :</p>\n<pre><code>fun main() {\n   // some dummy data\n   Data.list.add(&quot;Lion&quot;) \n   Data.list.add(&quot;Cat&quot;)\n   Data.list.add(&quot;Dog&quot;)\n   Data.list.add(&quot;Cheetah&quot;)\n\n   // my local mList\n   val mList = Data.list\n\n   println(&quot;Before Clearing : mList = $mList\\n list = ${Data.list}&quot;)\n   mList.clear()\n   println(&quot;After Clearing : mList = $mList\\n list = ${Data.list}&quot;)\n}\n</code></pre>\n<p><strong>OutPut</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>Before Clearing : mList = [Lion, Cat, Dog, Cheetah]\n list = [Lion, Cat, Dog, Cheetah]\nAfter Clearing : mList = []\n list = []\n</code></pre>\n<p>As You can see in output if I <code>clear()</code> local <code>mList</code> it is clearing <code>companion</code>'s list Why it is ?</p>\n<p>if I do this same with some other things like <code>double</code> it is not happening like this example -</p>\n<pre><code>// same Data class's\n...\n  var pi = 3.14\n...\n</code></pre>\n<p>If change local <code>mPi</code> it doesn't change <code>pi</code> :</p>\n<pre><code>var mPi = Data.pi\nprintln(&quot;Before Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \nmPi = 319.12\nprintln(&quot;After Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \n</code></pre>\n<p>2nd Output</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Before Assigning to New value mPi =  3.14 and pi = 3.14\nAfter Assigning to New value mPi =  319.12 and pi = 3.14\n</code></pre>\n<p>Link of <a href=\"https://pl.kotl.in/rmO-R-um_\" rel=\"nofollow noreferrer\">Kotlin Playground</a></p>\n<p>Why it is happening? I'd like to know :)</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2715545,"reputation":338,"user_id":2343010,"display_name":"Guilherme Santos"},"score":0,"creation_date":1621272658,"post_id":67464272,"comment_id":119440356,"body_markdown":"On Ubuntu, I was messing with several parallel installations (one Stable, a recent Canary and an older one). No problems. Until I removed the older Canary version, that is. I started having the exact same issue. I have tried everything as well and I am quite clueless on how to overcome this issue as of now. If I manage to I will write here my findings as a comment as it probably would be a different solution for your case on Windows.","body":"On Ubuntu, I was messing with several parallel installations (one Stable, a recent Canary and an older one). No problems. Until I removed the older Canary version, that is. I started having the exact same issue. I have tried everything as well and I am quite clueless on how to overcome this issue as of now. If I manage to I will write here my findings as a comment as it probably would be a different solution for your case on Windows."}],"answers":[{"tags":[],"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1621329866,"creation_date":1621329866,"answer_id":67583440,"question_id":67464272,"body_markdown":"I had a similar problem building a Java app on GitHub Actions. Once I upgraded from Java 11 to Java 16 I started to get the same error as you. \r\n\r\nIn my case it turned out to be a caching problem. I was caching two directories:\r\n1. `~/.gradle` (on windows this should be something like `C:\\Users\\username\\.gradle`)\r\n2. `project/.gradle` (this one is the gradle directory that is local to my app project).\r\n\r\nInvalidating the caches fixed the issue for me.","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I had a similar problem building a Java app on GitHub Actions. Once I upgraded from Java 11 to Java 16 I started to get the same error as you.</p>\n<p>In my case it turned out to be a caching problem. I was caching two directories:</p>\n<ol>\n<li><code>~/.gradle</code> (on windows this should be something like <code>C:\\Users\\username\\.gradle</code>)</li>\n<li><code>project/.gradle</code> (this one is the gradle directory that is local to my app project).</li>\n</ol>\n<p>Invalidating the caches fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1626684382,"creation_date":1626684382,"answer_id":68437593,"question_id":67464272,"body_markdown":"I had a similar problem after uninstalling a Java version with Gradle deamon running. Stopping the deamon fixed the issue for me:\r\n\r\n    gradle --stop\r\n\r\n(Probably, a cross-platform equivalent of [Miguel][1]&#39;s solution)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2185719/miguel-ferreira","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I had a similar problem after uninstalling a Java version with Gradle deamon running. Stopping the deamon fixed the issue for me:</p>\n<pre><code>gradle --stop\n</code></pre>\n<p>(Probably, a cross-platform equivalent of <a href=\"https://stackoverflow.com/users/2185719/miguel-ferreira\">Miguel</a>'s solution)</p>\n"},{"tags":[],"owner":{"account_id":18636773,"reputation":543,"user_id":13754420,"display_name":"Mustafo aka Shokhrukh Makmudov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551927,"creation_date":1653551927,"answer_id":72388597,"question_id":67464272,"body_markdown":"Update gradle(`gradle-wrapper.properties`) version from Android Studio to the lates version\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cSski.png","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>Update gradle(<code>gradle-wrapper.properties</code>) version from Android Studio to the lates version</p>\n<p><a href=\"https://i.stack.imgur.com/cSski.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSski.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20432463,"reputation":21,"user_id":14991107,"display_name":"SFZ ZFS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666614026,"creation_date":1666614026,"answer_id":74181006,"question_id":67464272,"body_markdown":"For me i just deleted the .gradle in my folder ```C:\\Users\\username\\.gradle```.\r\nWith Android Studio, dependencies are automatically reinstalled","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>For me i just deleted the .gradle in my folder <code>C:\\Users\\username\\.gradle</code>.\nWith Android Studio, dependencies are automatically reinstalled</p>\n"}],"owner":{"account_id":21116160,"reputation":143,"user_id":15523210,"display_name":"p23he"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10411,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1666614026,"creation_date":1620615814,"question_id":67464272,"body_markdown":"I am having a lot of trouble for what should be an easy task. I&#39;m trying to build a simple Java project (just Hello World) with Gradle for one of my courses before classes begin. I cloned the repository, downloaded all the relevant software, and tried `gradle build` on the command line. I get the error `Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\AdoptOpenJDK\\jre-8.0.282.8-hotspot`. This file that shows up was a previous version that I had removed.\r\n\r\nI tried reinstalling everything, and I also checked the JAVA_HOME environment variable, which is set to `C:\\Program Files\\AdoptOpenJDK\\jdk-15.0.2.7-hotspot\\`. I&#39;ve also relaunched the terminal and rebooted my computer. I&#39;m using Git Bash as my shell, if that&#39;s anything relevant. Any advice on how to change the supplied javaHome?\r\n\r\nHere are some relevant screenshots:\r\n\r\n[Result of `gradle build`][1]\r\n\r\n[Result of `java -version`][2]\r\n\r\n[JAVA_HOME environment variable][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4aDb8.png\r\n  [2]: https://i.stack.imgur.com/4pbGN.png\r\n  [3]: https://i.stack.imgur.com/uolJk.png\r\n\r\nMy (very sketchy) solution is to make a copy of the existing jre15 folder I have and rename it to `jre-8.0.282.8-hotspot`. I can build and run my program now, but it just seems very sketch.\r\n\r\nOne year update: I asked my prof when classes started when he said this solution was actually pretty ok and would suffice for the semester.","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I am having a lot of trouble for what should be an easy task. I'm trying to build a simple Java project (just Hello World) with Gradle for one of my courses before classes begin. I cloned the repository, downloaded all the relevant software, and tried <code>gradle build</code> on the command line. I get the error <code>Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\AdoptOpenJDK\\jre-8.0.282.8-hotspot</code>. This file that shows up was a previous version that I had removed.</p>\n<p>I tried reinstalling everything, and I also checked the JAVA_HOME environment variable, which is set to <code>C:\\Program Files\\AdoptOpenJDK\\jdk-15.0.2.7-hotspot\\</code>. I've also relaunched the terminal and rebooted my computer. I'm using Git Bash as my shell, if that's anything relevant. Any advice on how to change the supplied javaHome?</p>\n<p>Here are some relevant screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/4aDb8.png\" rel=\"nofollow noreferrer\">Result of <code>gradle build</code></a></p>\n<p><a href=\"https://i.stack.imgur.com/4pbGN.png\" rel=\"nofollow noreferrer\">Result of <code>java -version</code></a></p>\n<p><a href=\"https://i.stack.imgur.com/uolJk.png\" rel=\"nofollow noreferrer\">JAVA_HOME environment variable</a></p>\n<p>My (very sketchy) solution is to make a copy of the existing jre15 folder I have and rename it to <code>jre-8.0.282.8-hotspot</code>. I can build and run my program now, but it just seems very sketch.</p>\n<p>One year update: I asked my prof when classes started when he said this solution was actually pretty ok and would suffice for the semester.</p>\n"},{"tags":["java","sql","jdbc","singleton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1666613962,"post_id":74180951,"comment_id":130971489,"body_markdown":"this has nothing to do with the Singleton pattern, just with the fact that your connection has been closed. Also: there is a difference between a static field and the Singleton pattern. I don&#39;t see the pattern anywhere in your code.","body":"this has nothing to do with the Singleton pattern, just with the fact that your connection has been closed. Also: there is a difference between a static field and the Singleton pattern. I don&#39;t see the pattern anywhere in your code."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1666614279,"post_id":74180951,"comment_id":130971592,"body_markdown":"You are using a try-with-resources statement that will close the resource (=your connection) after using it in your `insertBook` method. And you only use one connection that you create once and then return for every `getConnection` call. So In Short what happens is: 1. You create `Connection conn` 2. Use that connection in `insertBook` method 3. close that connection after using. 4. `Connection conn` is now closed and can no longer be used.","body":"You are using a try-with-resources statement that will close the resource (=your connection) after using it in your <code>insertBook</code> method. And you only use one connection that you create once and then return for every <code>getConnection</code> call. So In Short what happens is: 1. You create <code>Connection conn</code> 2. Use that connection in <code>insertBook</code> method 3. close that connection after using. 4. <code>Connection conn</code> is now closed and can no longer be used."}],"owner":{"account_id":13481479,"reputation":69,"user_id":9726647,"display_name":"Narmin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666613716,"creation_date":1666613716,"question_id":74180951,"body_markdown":"In the following code I have a library database to which I add book and its details. In DbUtils I have to use singleton pattern to return connection, but when I do so I get a SQL error saying: \r\n```\r\nSQL State: S1009\r\nNo operations allowed after statement closed.SQL State: 08003\r\nNo operations allowed after connection closed.\r\n```\r\nWithout using singleton pattern everything works just fine, but like this it just keeps throwing errors. I tried to move ```preparedStatement()``` to the ```DbUtils``` class, or to use singleton pattern with it too but nothing works. Why does my code closes the connection too soon?\r\n```\r\npublic class BookRepository {\r\n        public static void insertBook(String bookName, String genre, String language) {\r\n        try (Connection con =connect.getConnection();\r\n             PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT_BOOK)) {\r\n\r\n            preparedStatement.setString(1, bookName);\r\n            preparedStatement.setString(2, genre);\r\n            preparedStatement.setString(3, language);\r\n            int row = preparedStatement.executeUpdate();\r\n\r\n        } catch (SQLException e) {\r\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class DbUtils {\r\n    private static Connection conn = null;\r\n    static {\r\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\r\n        final String  USER = &quot;root&quot;;\r\n        final String PASS = &quot;12345&quot;;\r\n        try {\r\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n        } catch (SQLException e) {\r\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n        }\r\n\r\n        System.out.println(&quot;Connected to database&quot;);\r\n    }\r\n    public static Connection getConnection() {\r\n        return conn;\r\n    }\r\n\r\n}\r\n\r\n```","title":"No operations allowed after connection closed when using Singleton pattern","body":"<p>In the following code I have a library database to which I add book and its details. In DbUtils I have to use singleton pattern to return connection, but when I do so I get a SQL error saying:</p>\n<pre><code>SQL State: S1009\nNo operations allowed after statement closed.SQL State: 08003\nNo operations allowed after connection closed.\n</code></pre>\n<p>Without using singleton pattern everything works just fine, but like this it just keeps throwing errors. I tried to move <code>preparedStatement()</code> to the <code>DbUtils</code> class, or to use singleton pattern with it too but nothing works. Why does my code closes the connection too soon?</p>\n<pre><code>public class BookRepository {\n        public static void insertBook(String bookName, String genre, String language) {\n        try (Connection con =connect.getConnection();\n             PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT_BOOK)) {\n\n            preparedStatement.setString(1, bookName);\n            preparedStatement.setString(2, genre);\n            preparedStatement.setString(3, language);\n            int row = preparedStatement.executeUpdate();\n\n        } catch (SQLException e) {\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>public class DbUtils {\n    private static Connection conn = null;\n    static {\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\n        final String  USER = &quot;root&quot;;\n        final String PASS = &quot;12345&quot;;\n        try {\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (SQLException e) {\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n        }\n\n        System.out.println(&quot;Connected to database&quot;);\n    }\n    public static Connection getConnection() {\n        return conn;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1445026396,"post_id":33178776,"comment_id":54164817,"body_markdown":"Usually, the better answer is to have two entry points. In your case, your one method taking a `Context` would turn into two methods, taking an `Activity` and an `Application`, for example.","body":"Usually, the better answer is to have two entry points. In your case, your one method taking a <code>Context</code> would turn into two methods, taking an <code>Activity</code> and an <code>Application</code>, for example."},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1445026734,"post_id":33178776,"comment_id":54164975,"body_markdown":"well idea was to keep it simple for external developer or client application","body":"well idea was to keep it simple for external developer or client application"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445026368,"creation_date":1445026368,"answer_id":33178820,"question_id":33178776,"body_markdown":"&gt; Since both methods return instance of Context object but with\r\n&gt; different capabilities, how can I differentiate if passed context\r\n&gt; object is Activity Context or Application Context ?\r\n\r\nyou can check with `instanceof`. It allows to check if the object is of a certain type. E.g.\r\n\r\n     if (context instanceof Activity) {\r\n    \r\n     } ","title":"How to differentiate between ApplicationContext and Context?","body":"<blockquote>\n  <p>Since both methods return instance of Context object but with\n  different capabilities, how can I differentiate if passed context\n  object is Activity Context or Application Context ?</p>\n</blockquote>\n\n<p>you can check with <code>instanceof</code>. It allows to check if the object is of a certain type. E.g.</p>\n\n<pre><code> if (context instanceof Activity) {\n\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5920746,"reputation":1601,"user_id":4658157,"accept_rate":79,"display_name":"Phate P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666613669,"creation_date":1666613669,"answer_id":74180940,"question_id":33178776,"body_markdown":"  ```\r\nif (yourContext != yourContext.applicationContext) {\r\n   \r\n}\r\n  ```\r\n\r\ntested with passing `applicationContext` as `yourContext` and others.","title":"How to differentiate between ApplicationContext and Context?","body":"<pre><code>if (yourContext != yourContext.applicationContext) {\n \n}\n</code></pre>\n<p>tested with passing <code>applicationContext</code> as <code>yourContext</code> and others.</p>\n"}],"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1909,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33178820,"answer_count":2,"score":4,"last_activity_date":1666613669,"creation_date":1445026169,"question_id":33178776,"body_markdown":"I have a Android method which receives instance of Context object, I want to differentiate if the passed context object is returned using one of the following methods\r\n\r\n- [View.getContext()][1]:  Returns the context the view is currently running in.  Usually the currently active Activity.\r\n\r\n- [Activity.getApplicationContext()][2]:  Returns the context for the entire application (the process all the Activities are running inside\r\n   of).  Use this instead of the current Activity context if you need a\r\n   context tied to the lifecycle of the entire application, not just the\r\n   current Activity.\r\n\r\nSince both methods return instance of Context object but with different capabilities, how can I differentiate if passed context object is Activity Context or Application Context ?\r\n\r\n [1]: http://developer.android.com/reference/android/view/View.html#getContext%28%29\r\n  [2]: http://developer.android.com/reference/android/content/ContextWrapper.html#getApplicationContext%28%29","title":"How to differentiate between ApplicationContext and Context?","body":"<p>I have a Android method which receives instance of Context object, I want to differentiate if the passed context object is returned using one of the following methods</p>\n\n<ul>\n<li><p><a href=\"http://developer.android.com/reference/android/view/View.html#getContext%28%29\" rel=\"nofollow\">View.getContext()</a>:  Returns the context the view is currently running in.  Usually the currently active Activity.</p></li>\n<li><p><a href=\"http://developer.android.com/reference/android/content/ContextWrapper.html#getApplicationContext%28%29\" rel=\"nofollow\">Activity.getApplicationContext()</a>:  Returns the context for the entire application (the process all the Activities are running inside\nof).  Use this instead of the current Activity context if you need a\ncontext tied to the lifecycle of the entire application, not just the\ncurrent Activity.</p></li>\n</ul>\n\n<p>Since both methods return instance of Context object but with different capabilities, how can I differentiate if passed context object is Activity Context or Application Context ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","application.properties"],"comments":[{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666609450,"post_id":74180135,"comment_id":130969967,"body_markdown":"properties of datasource are located in application.properties or .yaml file","body":"properties of datasource are located in application.properties or .yaml file"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1666609846,"post_id":74180135,"comment_id":130970101,"body_markdown":"@debugmode - I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.","body":"@debugmode - I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666609970,"post_id":74180135,"comment_id":130970142,"body_markdown":"You need to search spring-boot for the defaults, spring-data is not aware of these... [DatabaseDriver(enum)](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/DatabaseDriver.java) could give you good links in IDE..","body":"You need to search spring-boot for the defaults, spring-data is not aware of these... <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/DatabaseDriver.java\" rel=\"nofollow noreferrer\">DatabaseDriver(enum)</a> could give you good links in IDE.."}],"answers":[{"tags":[],"owner":{"account_id":6392733,"reputation":131,"user_id":4958265,"display_name":"Thomas Delrue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666613155,"creation_date":1666613155,"answer_id":74180858,"question_id":74180135,"body_markdown":"With regards to `spring.datasource.driverClassName` I think you were not looking yet in the right place, as JPA is already an abstraction layer above JDBC.\r\n\r\nYou should look in `org.springframework.boot:spring-boot-autoconfigure`. There you&#39;ll find `org.springframework.boot.autoconfigure.jdbc.DataSourceProperties` which is annotated with `@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)` and there you&#39;ll find `public void setDriverClassName(String driverClassName)`","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?","body":"<p>With regards to <code>spring.datasource.driverClassName</code> I think you were not looking yet in the right place, as JPA is already an abstraction layer above JDBC.</p>\n<p>You should look in <code>org.springframework.boot:spring-boot-autoconfigure</code>. There you'll find <code>org.springframework.boot.autoconfigure.jdbc.DataSourceProperties</code> which is annotated with <code>@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</code> and there you'll find <code>public void setDriverClassName(String driverClassName)</code></p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74180858,"answer_count":1,"score":1,"last_activity_date":1666613155,"creation_date":1666609253,"question_id":74180135,"body_markdown":"I have gone through the [Common Application Properties][1] reference page. This contains the list of commonly used spring props.\r\n\r\nSo, just to explore and find out the **convention** regarding how and where the above props are declared (read) in java code. I decided to set sailing towards finding `spring-data-jpa` related properties. I started to find for the java code where `spring.datasource.driverClassName` property is declared (read). \r\n\r\nI have looked at these jars:  \r\n1) `org.springframework.boot:spring-boot-starter-data-jpa:2.1.7.RELEASE.jar` - this seems to be only a meta jar not a code jar.\r\n2) `org.springframework.data:spring-data-jpa:2.1.10.RELEASE.jar` - even this jar seems to not have the declaration(reading) for this property. Or I missed locating it.\r\n\r\n**Where else should I look? Any suggestions.**   \r\n\r\nI am Just trying to understand spring boot a little deeper.\r\n \r\nAs debugmode pointed, I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?","body":"<p>I have gone through the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">Common Application Properties</a> reference page. This contains the list of commonly used spring props.</p>\n<p>So, just to explore and find out the <strong>convention</strong> regarding how and where the above props are declared (read) in java code. I decided to set sailing towards finding <code>spring-data-jpa</code> related properties. I started to find for the java code where <code>spring.datasource.driverClassName</code> property is declared (read).</p>\n<p>I have looked at these jars:</p>\n<ol>\n<li><code>org.springframework.boot:spring-boot-starter-data-jpa:2.1.7.RELEASE.jar</code> - this seems to be only a meta jar not a code jar.</li>\n<li><code>org.springframework.data:spring-data-jpa:2.1.10.RELEASE.jar</code> - even this jar seems to not have the declaration(reading) for this property. Or I missed locating it.</li>\n</ol>\n<p><strong>Where else should I look? Any suggestions.</strong></p>\n<p>I am Just trying to understand spring boot a little deeper.</p>\n<p>As debugmode pointed, I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.</p>\n"},{"tags":["java","eclipse","lombok","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666613056,"creation_date":1666613056,"answer_id":74180848,"question_id":73103028,"body_markdown":"We never found a solution to this. I don&#39;t believe Lombok&#39;s default behavior is neither safe nor useful; some annotations _are not meant_ to be used on both fields _and_ getters/setters as the same time, as the annotation changes meaning. This behavior should be opt-in, not opt-out, with Lombok.\r\n\r\nSince we couldn&#39;t get the ignore list to work effectively, we (sigh) ended up forking Lombok and removed this piece of magic. We modified `src/core/lombok/core/handlers/HandlerUtil.java`, specifically setting `NONNULL_ANNOTATIONS`, `BASE_COPYABLE_ANNOTATIONS`, `COPY_TO_SETTER_ANNOTATIONS`, `COPY_TO_BUILDER_SINGULAR_SETTER_ANNOTATIONS`, and `JACKSON_COPY_TO_BUILDER_ANNOTATIONS` all to empty collections.\r\n\r\nThis actually had the side effect of fixing a few other bugs we were stumped by with some JSON and XML bindings.","title":"How to stop lombok from copying annotations to getters/setters in Eclipse?","body":"<p>We never found a solution to this. I don't believe Lombok's default behavior is neither safe nor useful; some annotations <em>are not meant</em> to be used on both fields <em>and</em> getters/setters as the same time, as the annotation changes meaning. This behavior should be opt-in, not opt-out, with Lombok.</p>\n<p>Since we couldn't get the ignore list to work effectively, we (sigh) ended up forking Lombok and removed this piece of magic. We modified <code>src/core/lombok/core/handlers/HandlerUtil.java</code>, specifically setting <code>NONNULL_ANNOTATIONS</code>, <code>BASE_COPYABLE_ANNOTATIONS</code>, <code>COPY_TO_SETTER_ANNOTATIONS</code>, <code>COPY_TO_BUILDER_SINGULAR_SETTER_ANNOTATIONS</code>, and <code>JACKSON_COPY_TO_BUILDER_ANNOTATIONS</code> all to empty collections.</p>\n<p>This actually had the side effect of fixing a few other bugs we were stumped by with some JSON and XML bindings.</p>\n"}],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666613056,"creation_date":1658709092,"question_id":73103028,"body_markdown":"We have a problem with running Lombok &gt; 1.18.18 as an Eclipse Agent (2022-06 or v4.24.0)... it started copying JSR-303 Bean Validation constraints to the setters generated. We were surprised because this isn&#39;t backwards compatible; annotating functions that weren&#39;t previously annotated definitely is a breaking change :/\r\n\r\nThis is confusing the Apache BVal implementation (v2.0.5), as normally you wouldn&#39;t have both the field and the setter annotated. I actually don&#39;t know if the jsr303 spec allows for this, but my guess would be it is an invalid because it doesn&#39;t follow DRY principles.\r\n\r\n\r\nThere is a configuration key `lombok.copyableAnnotations` to control the behavior, but we can&#39;t seem to get Eclipse/Lombok to care about it. We put a lombok.config in the project root with this content:\r\n\r\n```\r\nconfig.stopBubbling = true\r\nlombok.copyableAnnotations =\r\n```\r\n\r\nAnd it is _still_ copying the annotations:\r\n\r\n\r\n```\r\n// output of `javap -v -p -l -constants FileName.class`\r\n  public void setUserName(java.lang.String);\r\n    descriptor: (Ljava/lang/String;)V\r\n    flags: (0x0001) ACC_PUBLIC\r\n    RuntimeVisibleParameterAnnotations:\r\n      parameter 0:\r\n        0: #26()\r\n          javax.validation.constraints.NotNull\r\n    Code:\r\n      stack=2, locals=2, args_size=2\r\n         0: aload_0\r\n         1: aload_1\r\n         2: putfield      #66                 // Field userName:Ljava/lang/String;\r\n         5: return\r\n      LineNumberTable:\r\n        line 43: 0\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0       6     0  this   Lcom/xxx/xxx/xxx/xxx/xxx/xxx/LoginPage;\r\n            0       6     1 userName   Ljava/lang/String;\r\n    RuntimeVisibleTypeAnnotations:\r\n      0: #26(): METHOD_FORMAL_PARAMETER, param_index=0\r\n        javax.validation.constraints.NotNull\r\n    MethodParameters:\r\n      Name                           Flags\r\n      userName                       final\r\n```\r\n\r\nAny help preventing this would be much appreciated! Thank you!\r\n\r\nEDIT\r\n==== \r\n\r\nOriginal stacktrace:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class org.apache.bval.jsr.descriptor.ComposedD$ForProperty cannot be cast to class org.apache.bval.jsr.descriptor.ElementD (org.apache.bval.jsr.descriptor.ComposedD$ForProperty and org.apache.bval.jsr.descriptor.ElementD are in unnamed module of loader java.net.URLClassLoader @1fbc7afb)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$DescriptorWrapper.&lt;init&gt;(ValidateProperty.java:159)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$FindDescriptor.handleProperty(ValidateProperty.java:219)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$WalkGraph.handleProperty(ValidateProperty.java:312)\r\n\tat org.apache.bval.jsr.util.PathNavigation$PathPosition.handleProperty(PathNavigation.java:324)\r\n\tat org.apache.bval.jsr.util.PathNavigation.parse(PathNavigation.java:218)\r\n\tat org.apache.bval.jsr.util.PathNavigation.navigateAndReturn(PathNavigation.java:176)\r\n\t... 86 more\r\n```","title":"How to stop lombok from copying annotations to getters/setters in Eclipse?","body":"<p>We have a problem with running Lombok &gt; 1.18.18 as an Eclipse Agent (2022-06 or v4.24.0)... it started copying JSR-303 Bean Validation constraints to the setters generated. We were surprised because this isn't backwards compatible; annotating functions that weren't previously annotated definitely is a breaking change :/</p>\n<p>This is confusing the Apache BVal implementation (v2.0.5), as normally you wouldn't have both the field and the setter annotated. I actually don't know if the jsr303 spec allows for this, but my guess would be it is an invalid because it doesn't follow DRY principles.</p>\n<p>There is a configuration key <code>lombok.copyableAnnotations</code> to control the behavior, but we can't seem to get Eclipse/Lombok to care about it. We put a lombok.config in the project root with this content:</p>\n<pre><code>config.stopBubbling = true\nlombok.copyableAnnotations =\n</code></pre>\n<p>And it is <em>still</em> copying the annotations:</p>\n<pre><code>// output of `javap -v -p -l -constants FileName.class`\n  public void setUserName(java.lang.String);\n    descriptor: (Ljava/lang/String;)V\n    flags: (0x0001) ACC_PUBLIC\n    RuntimeVisibleParameterAnnotations:\n      parameter 0:\n        0: #26()\n          javax.validation.constraints.NotNull\n    Code:\n      stack=2, locals=2, args_size=2\n         0: aload_0\n         1: aload_1\n         2: putfield      #66                 // Field userName:Ljava/lang/String;\n         5: return\n      LineNumberTable:\n        line 43: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       6     0  this   Lcom/xxx/xxx/xxx/xxx/xxx/xxx/LoginPage;\n            0       6     1 userName   Ljava/lang/String;\n    RuntimeVisibleTypeAnnotations:\n      0: #26(): METHOD_FORMAL_PARAMETER, param_index=0\n        javax.validation.constraints.NotNull\n    MethodParameters:\n      Name                           Flags\n      userName                       final\n</code></pre>\n<p>Any help preventing this would be much appreciated! Thank you!</p>\n<h1>EDIT</h1>\n<p>Original stacktrace:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class org.apache.bval.jsr.descriptor.ComposedD$ForProperty cannot be cast to class org.apache.bval.jsr.descriptor.ElementD (org.apache.bval.jsr.descriptor.ComposedD$ForProperty and org.apache.bval.jsr.descriptor.ElementD are in unnamed module of loader java.net.URLClassLoader @1fbc7afb)\n    at org.apache.bval.jsr.job.ValidateProperty$DescriptorWrapper.&lt;init&gt;(ValidateProperty.java:159)\n    at org.apache.bval.jsr.job.ValidateProperty$FindDescriptor.handleProperty(ValidateProperty.java:219)\n    at org.apache.bval.jsr.job.ValidateProperty$WalkGraph.handleProperty(ValidateProperty.java:312)\n    at org.apache.bval.jsr.util.PathNavigation$PathPosition.handleProperty(PathNavigation.java:324)\n    at org.apache.bval.jsr.util.PathNavigation.parse(PathNavigation.java:218)\n    at org.apache.bval.jsr.util.PathNavigation.navigateAndReturn(PathNavigation.java:176)\n    ... 86 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1666176236,"post_id":74123767,"comment_id":130872069,"body_markdown":"With Spring you need to configure in the main application to scan packages, so that it finds the beans defined in other modules.","body":"With Spring you need to configure in the main application to scan packages, so that it finds the beans defined in other modules."},{"owner":{"account_id":25314212,"reputation":105,"user_id":19136564,"display_name":"Joseph"},"score":0,"creation_date":1666178493,"post_id":74123767,"comment_id":130872832,"body_markdown":"The package, where the views of module B are, is included in the @ComponentScan","body":"The package, where the views of module B are, is included in the @ComponentScan"}],"owner":{"account_id":25314212,"reputation":105,"user_id":19136564,"display_name":"Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666612816,"creation_date":1666175083,"question_id":74123767,"body_markdown":"I now have two large modules that contain routes. i.e. classes that are annotated with @Route. \r\n\r\nnow the question... how can I navigate between both systems ?\r\n\r\nFor example...\r\nThis class is located in a Module A\r\n```\r\n@SpringComponent\r\n@PreserveOnRefresh\r\n@UIScope\r\n@Route(value = &quot;overview&quot;, layout = MainView.class)\r\npublic class Overview extends VerticalLayout{\r\n\r\n    public ClassificationClassesOverview() {\r\n        \r\n        Button routeToAC = new Button(&quot;CR&quot;);\r\n\r\n        routeToAssignAC.addClickListener(event -&gt; {\r\n            routeToAssignAC.getUI().ifPresent(ui -&gt; ui.navigate(AssignACView.class));\r\n        });\r\n\r\n        add(routeToAC);\r\n    }\r\n}\r\n\r\n```\r\nAnd this class is located in a Module B\r\n\r\n```\r\n@Route(&quot;cc/as&quot;)\r\n@SpringComponent\r\n@Scope(&quot;prototype&quot;)\r\npublic class AssignACView extends VerticalLayout {....}\r\n```\r\n\r\nwhen I click on the button on &quot;OverView&quot;, I get the error message that &quot;No route found for the given navigation target &#39;.....AssignACView&#39;&quot;\r\n\r\nIt is not a dependency problem.. A und B know each other\r\n\r\n================== UPDATE ==================\r\n\r\nThe problem can be solved with the annotation @EnableVaadin","title":"How can I navigate between two vaadin systems? No route found","body":"<p>I now have two large modules that contain routes. i.e. classes that are annotated with @Route.</p>\n<p>now the question... how can I navigate between both systems ?</p>\n<p>For example...\nThis class is located in a Module A</p>\n<pre><code>@SpringComponent\n@PreserveOnRefresh\n@UIScope\n@Route(value = &quot;overview&quot;, layout = MainView.class)\npublic class Overview extends VerticalLayout{\n\n    public ClassificationClassesOverview() {\n        \n        Button routeToAC = new Button(&quot;CR&quot;);\n\n        routeToAssignAC.addClickListener(event -&gt; {\n            routeToAssignAC.getUI().ifPresent(ui -&gt; ui.navigate(AssignACView.class));\n        });\n\n        add(routeToAC);\n    }\n}\n\n</code></pre>\n<p>And this class is located in a Module B</p>\n<pre><code>@Route(&quot;cc/as&quot;)\n@SpringComponent\n@Scope(&quot;prototype&quot;)\npublic class AssignACView extends VerticalLayout {....}\n</code></pre>\n<p>when I click on the button on &quot;OverView&quot;, I get the error message that &quot;No route found for the given navigation target '.....AssignACView'&quot;</p>\n<p>It is not a dependency problem.. A und B know each other</p>\n<p>================== UPDATE ==================</p>\n<p>The problem can be solved with the annotation @EnableVaadin</p>\n"},{"tags":["java","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1571896420,"post_id":58534549,"comment_id":103392726,"body_markdown":"Could you please share your pom.xml with us?","body":"Could you please share your pom.xml with us?"},{"owner":{"account_id":16840491,"reputation":390,"user_id":12176008,"display_name":"Bryl"},"score":0,"creation_date":1571897364,"post_id":58534549,"comment_id":103393029,"body_markdown":"I already edit my post and included some plugins in my pom.xml","body":"I already edit my post and included some plugins in my pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1571923405,"creation_date":1571923405,"answer_id":58542369,"question_id":58534549,"body_markdown":"I don&#39;t think the problem is with liquibase plugin itself. It&#39;s more about maven prefixes.\n\nTry  executing: `mvn org.liquibase:liquibase-maven-plugin:update` \n\nAlso, check out this [question][1].\n\n  [1]: https://stackoverflow.com/questions/40205664/how-does-maven-plugin-prefix-resolution-work-why-is-it-resolving-findbugs-but","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>I don't think the problem is with liquibase plugin itself. It's more about maven prefixes.</p>\n<p>Try  executing: <code>mvn org.liquibase:liquibase-maven-plugin:update</code></p>\n<p>Also, check out this <a href=\"https://stackoverflow.com/questions/40205664/how-does-maven-plugin-prefix-resolution-work-why-is-it-resolving-findbugs-but\">question</a>.</p>\n"},{"tags":[],"owner":{"account_id":14493854,"reputation":859,"user_id":10529573,"display_name":"Mike Menko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593331164,"creation_date":1593331164,"answer_id":62619797,"question_id":58534549,"body_markdown":"In my case problem was in path. I was trying to start command `c:\\mvn.cmd liquibase:status` from wrong folder.\r\n\r\nRunning from `c:\\projects\\My_current_project\\mvn liquibase:status` works like a charm. `c:\\projects\\My_current_project\\` is folder, where `pom.xml` is.","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>In my case problem was in path. I was trying to start command <code>c:\\mvn.cmd liquibase:status</code> from wrong folder.</p>\n<p>Running from <code>c:\\projects\\My_current_project\\mvn liquibase:status</code> works like a charm. <code>c:\\projects\\My_current_project\\</code> is folder, where <code>pom.xml</code> is.</p>\n"},{"tags":[],"owner":{"account_id":13453800,"reputation":106,"user_id":9707871,"display_name":"emarkyuu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1599572200,"creation_date":1599572200,"answer_id":63795096,"question_id":58534549,"body_markdown":"Make sure you are in the right path when you are executing `mvn liquibase:update` command. And also try to run the command in a separate terminal like command prompt. In my case I&#39;m using the terminal in IntelliJ IDEA when I had the problem but when I tried it in different terminal, it worked flawlessly.","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>Make sure you are in the right path when you are executing <code>mvn liquibase:update</code> command. And also try to run the command in a separate terminal like command prompt. In my case I'm using the terminal in IntelliJ IDEA when I had the problem but when I tried it in different terminal, it worked flawlessly.</p>\n"},{"tags":[],"owner":{"account_id":21820822,"reputation":21,"user_id":16117045,"display_name":"Daniel Lysinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666612604,"creation_date":1666612604,"answer_id":74180768,"question_id":58534549,"body_markdown":"In my case the issue was my pom is configured in such a way that the liquibase plugin is only defined under certain profiles which need to be passed in before the `mvn liquibase:&lt;your command here&gt;` gets run. \r\n\r\nfor example, if the pom.xml has a `local` profile and your liquibase plugin is ONLY defined under that profile, you should run something like `mvn -P local liquibase:update` in order for maven to pick up liquibase (since it&#39;s only defined in that profile)","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>In my case the issue was my pom is configured in such a way that the liquibase plugin is only defined under certain profiles which need to be passed in before the <code>mvn liquibase:&lt;your command here&gt;</code> gets run.</p>\n<p>for example, if the pom.xml has a <code>local</code> profile and your liquibase plugin is ONLY defined under that profile, you should run something like <code>mvn -P local liquibase:update</code> in order for maven to pick up liquibase (since it's only defined in that profile)</p>\n"}],"owner":{"account_id":16840491,"reputation":390,"user_id":12176008,"display_name":"Bryl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13793,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63795096,"answer_count":4,"score":7,"last_activity_date":1666612604,"creation_date":1571894111,"question_id":58534549,"body_markdown":"I am new to Liquibase. I have already included maven plugins and liquibase to my pom.xml however when i update liquibase using `mvn liquibase:update` I get this error:\r\n\r\n    No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] \r\n\r\nHow can I fix this error so that when I type `mvn liquibase:update` it will run properly\r\n\r\nHere are some of the dependencies that are in my `pom.xml` related to liquibase\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/build&gt;","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>I am new to Liquibase. I have already included maven plugins and liquibase to my pom.xml however when i update liquibase using <code>mvn liquibase:update</code> I get this error:</p>\n\n<pre><code>No plugin found for prefix 'liquibase' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] \n</code></pre>\n\n<p>How can I fix this error so that when I type <code>mvn liquibase:update</code> it will run properly</p>\n\n<p>Here are some of the dependencies that are in my <code>pom.xml</code> related to liquibase</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;build&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n            &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","time"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1452077990,"post_id":34631339,"comment_id":57008025,"body_markdown":"Since there is no debug. You could replace the split for the last part `AM` and `pm`. You could just check if it `String#contains` `AM` or `PM`. Afterwards you could use `String#replaceAll` with the regex `\\\\D`. That way you would replace the `AM` and `PM` and would only have the seconds left. Maybe `Hackerrank` does a bad job with the `split(&quot;&quot;)`. Since it running for me either i can just an other way to solve it that might be working.","body":"Since there is no debug. You could replace the split for the last part <code>AM</code> and <code>pm</code>. You could just check if it <code>String#contains</code> <code>AM</code> or <code>PM</code>. Afterwards you could use <code>String#replaceAll</code> with the regex <code>\\\\D</code>. That way you would replace the <code>AM</code> and <code>PM</code> and would only have the seconds left. Maybe <code>Hackerrank</code> does a bad job with the <code>split(&quot;&quot;)</code>. Since it running for me either i can just an other way to solve it that might be working."}],"answers":[{"tags":[],"owner":{"account_id":2101643,"reputation":111,"user_id":1869101,"display_name":"Murat G&#252;ven&#231;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458229459,"creation_date":1458229459,"answer_id":36065374,"question_id":34631339,"body_markdown":"I do not know why there is inconsistency between your JRE environment and Hackerrank environment. But if we came to your question, in hackerrank your code splits part[2] into 5 parts, leading empty string. \r\n\r\nWhich means if you update \r\n\r\n    String seconds = last[0]+last[1];\r\n    String timeZ = last[2]+last[3];\r\n\r\nas\r\n\r\n    String seconds = last[1]+last[2];\r\n    String timeZ = last[3]+last[4];\r\n\r\nit should run,\r\n\r\nand to prevent initial empty string, there is some suggestions you can find below:\r\n\r\nhttps://stackoverflow.com/questions/9389503/how-to-prevent-java-lang-string-split-from-creating-a-leading-empty-string\r\n\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>I do not know why there is inconsistency between your JRE environment and Hackerrank environment. But if we came to your question, in hackerrank your code splits part[2] into 5 parts, leading empty string. </p>\n\n<p>Which means if you update </p>\n\n<pre><code>String seconds = last[0]+last[1];\nString timeZ = last[2]+last[3];\n</code></pre>\n\n<p>as</p>\n\n<pre><code>String seconds = last[1]+last[2];\nString timeZ = last[3]+last[4];\n</code></pre>\n\n<p>it should run,</p>\n\n<p>and to prevent initial empty string, there is some suggestions you can find below:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9389503/how-to-prevent-java-lang-string-split-from-creating-a-leading-empty-string\">How to prevent java.lang.String.split() from creating a leading empty string?</a></p>\n"},{"tags":[],"owner":{"account_id":5499288,"reputation":1,"user_id":4369131,"display_name":"avadhesh pareek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464084324,"creation_date":1464084324,"answer_id":37410389,"question_id":34631339,"body_markdown":"You can try this for hackerrank - \r\n\r\n     public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String time = in.next();\r\n            int hours;\r\n            String hrs = time.substring(0,2);\r\n            hours = Integer.parseInt(hrs);\r\n            String mins = time.substring(3,5);\r\n            String secs = time.substring(6,8);\r\n            String am_pm = time.substring(time.length()-2,time.length());\r\n            if(am_pm.equalsIgnoreCase(&quot;PM&quot;) &amp;&amp; !hrs.equalsIgnoreCase(&quot;12&quot;)){  \r\n                hours += 12;\r\n                hrs = Integer.toString(hours);\r\n            }\r\n            else if(am_pm.equalsIgnoreCase(&quot;AM&quot;) &amp;&amp; hrs.equalsIgnoreCase(&quot;12&quot;)){\r\n                hours = 0;\r\n                hrs = &quot;00&quot;;\r\n            }\r\n            System.out.println(hrs+&quot;:&quot;+mins+&quot;:&quot;+secs);\r\n        }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>You can try this for hackerrank - </p>\n\n<pre><code> public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String time = in.next();\n        int hours;\n        String hrs = time.substring(0,2);\n        hours = Integer.parseInt(hrs);\n        String mins = time.substring(3,5);\n        String secs = time.substring(6,8);\n        String am_pm = time.substring(time.length()-2,time.length());\n        if(am_pm.equalsIgnoreCase(\"PM\") &amp;&amp; !hrs.equalsIgnoreCase(\"12\")){  \n            hours += 12;\n            hrs = Integer.toString(hours);\n        }\n        else if(am_pm.equalsIgnoreCase(\"AM\") &amp;&amp; hrs.equalsIgnoreCase(\"12\")){\n            hours = 0;\n            hrs = \"00\";\n        }\n        System.out.println(hrs+\":\"+mins+\":\"+secs);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5173049,"reputation":1,"user_id":4141016,"display_name":"Abdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471411842,"creation_date":1471411842,"answer_id":38988738,"question_id":34631339,"body_markdown":"You can try this..\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        String time = in.next();\r\n        \r\n        String[] sTime = time.split(&quot;:&quot;);\r\n        \r\n        int x = sTime[sTime.length - 1].contains(&quot;PM&quot;) ? 12 : 0 ;\r\n        \r\n        String val1 = (x == 12) ?  (Integer.parseInt(sTime[0]) + x) + &quot;&quot; :  (sTime[0].equals(&quot;12&quot;) ? &quot;00&quot; : sTime[0]);\r\n        \r\n        String result = val1 + &quot;:&quot; + sTime[1] + &quot;:&quot; + sTime[2].substring(0,2);\r\n        System.out.println(result);\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>You can try this..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String time = in.next();\n\n    String[] sTime = time.split(\":\");\n\n    int x = sTime[sTime.length - 1].contains(\"PM\") ? 12 : 0 ;\n\n    String val1 = (x == 12) ?  (Integer.parseInt(sTime[0]) + x) + \"\" :  (sTime[0].equals(\"12\") ? \"00\" : sTime[0]);\n\n    String result = val1 + \":\" + sTime[1] + \":\" + sTime[2].substring(0,2);\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3862971,"reputation":348,"user_id":3200242,"accept_rate":100,"display_name":"mpatel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519722615,"creation_date":1519722615,"answer_id":49004917,"question_id":34631339,"body_markdown":"Try the code below. Hope the comments will help to understand the logic.\r\n\r\n    static String timeConversion(String s) {\r\n        // Split the string by :\r\n        String[] sTime = s.split(&quot;:&quot;);\r\n\r\n        int x = 0;\r\n        \r\n        // if PM and hours &gt;12, add additional 12 to hours\r\n        // for AM and hour = 12, set hour to 00\r\n        if(sTime[sTime.length - 1].contains(&quot;PM&quot;) &amp;&amp; !sTime[0].equals(&quot;12&quot;))\r\n            x = 12;\r\n        \r\n        String val1 = &quot;&quot;;\r\n        if(x == 12)\r\n            val1 = (Integer.parseInt(sTime[0]) + x) + &quot;&quot;;\r\n        else {\r\n            if(sTime[0].equals(&quot;12&quot;) &amp;&amp; sTime[sTime.length - 1].contains(&quot;AM&quot;))\r\n                val1 = &quot;00&quot;;\r\n            else\r\n                val1 = sTime[0];\r\n        }\r\n\r\n        // merge the string and return the result\r\n        String result = val1 + &quot;:&quot; + sTime[1] + &quot;:&quot; + sTime[2].substring(0,2);\r\n        return result;\r\n    }\r\n\r\nCheers!","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>Try the code below. Hope the comments will help to understand the logic.</p>\n\n<pre><code>static String timeConversion(String s) {\n    // Split the string by :\n    String[] sTime = s.split(\":\");\n\n    int x = 0;\n\n    // if PM and hours &gt;12, add additional 12 to hours\n    // for AM and hour = 12, set hour to 00\n    if(sTime[sTime.length - 1].contains(\"PM\") &amp;&amp; !sTime[0].equals(\"12\"))\n        x = 12;\n\n    String val1 = \"\";\n    if(x == 12)\n        val1 = (Integer.parseInt(sTime[0]) + x) + \"\";\n    else {\n        if(sTime[0].equals(\"12\") &amp;&amp; sTime[sTime.length - 1].contains(\"AM\"))\n            val1 = \"00\";\n        else\n            val1 = sTime[0];\n    }\n\n    // merge the string and return the result\n    String result = val1 + \":\" + sTime[1] + \":\" + sTime[2].substring(0,2);\n    return result;\n}\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":15028119,"reputation":11,"user_id":10847251,"display_name":"Aman Sawarn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573999189,"creation_date":1573995201,"answer_id":58900638,"question_id":34631339,"body_markdown":"    def timeConversion(s):\r\n        # time_r=s[:-2]\r\n        am_pm=s[-2:]\r\n        if am_pm==&#39;PM&#39; and s[:2]!=&#39;12&#39;:\r\n        s=str(int(s[:2])+12) + s[2:]\r\n        if am_pm==&#39;AM&#39; and s[:2]==&#39;12&#39;:\r\n            s=&quot;00&quot; + s[2:]\r\n        return s[:-2]\r\n\r\n    print(timeConversion(&quot;07:05:45PM&quot;))\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>def timeConversion(s):\n    # time_r=s[:-2]\n    am_pm=s[-2:]\n    if am_pm=='PM' and s[:2]!='12':\n    s=str(int(s[:2])+12) + s[2:]\n    if am_pm=='AM' and s[:2]=='12':\n        s=\"00\" + s[2:]\n    return s[:-2]\n\nprint(timeConversion(\"07:05:45PM\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16898940,"reputation":11,"user_id":12220837,"display_name":"Shiv Shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589363625,"creation_date":1589363625,"answer_id":61771481,"question_id":34631339,"body_markdown":"    public static String timecon(String s) {\r\n\t\tSystem.out.println(s.substring(0, 2));\r\n\t\tint test = Integer.valueOf(s.substring(0, 2));\r\n\t\tif ((s.substring(0, 2).equals(&quot;12&quot;)) &amp;&amp; s.substring(8, 10).equals(&quot;AM&quot;)) {\r\n\t\t\treturn &quot;00&quot; + &quot;:&quot; + s.substring(3, 8);\r\n\t\t} else if (s.substring(0, 2).equals(&quot;12&quot;) &amp;&amp; (s.substring(8, 10).equals(&quot;PM&quot;))) {\r\n\t\t\treturn s.substring(0, 8);\r\n\t\t} else if (s.substring(8, 10).equals(&quot;AM&quot;)) {\r\n\t\t\treturn s.substring(0, 8);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn test + 12 + &quot;:&quot; + s.substring(3, 8);\r\n\t\t}\r\n\r\n\t}","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>public static String timecon(String s) {\n    System.out.println(s.substring(0, 2));\n    int test = Integer.valueOf(s.substring(0, 2));\n    if ((s.substring(0, 2).equals(\"12\")) &amp;&amp; s.substring(8, 10).equals(\"AM\")) {\n        return \"00\" + \":\" + s.substring(3, 8);\n    } else if (s.substring(0, 2).equals(\"12\") &amp;&amp; (s.substring(8, 10).equals(\"PM\"))) {\n        return s.substring(0, 8);\n    } else if (s.substring(8, 10).equals(\"AM\")) {\n        return s.substring(0, 8);\n    }\n    else {\n        return test + 12 + \":\" + s.substring(3, 8);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8162401,"reputation":1,"user_id":6145994,"display_name":"Muhammad Amjad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592574759,"creation_date":1592566439,"answer_id":62469391,"question_id":34631339,"body_markdown":"**You can try this in Java for Time Conversion Hackerrank** \r\n\r\n\r\n      /*\r\n     * Complete the timeConversion function below.\r\n     */\r\n    static String timeConversion(String s) {\r\n        String h,m,sec;\r\n\r\n        h = s.substring(0,2);\r\n        m = s.substring(3,5);\r\n        sec = s.substring(6,8);\r\n\r\n        if(s.contains(&quot;PM&quot;) &amp;&amp; !h.equals(&quot;12&quot;)){\r\n            int inc = 12;\r\n            inc += Integer.parseInt(h);\r\n            h = inc + &quot;&quot;;\r\n        }\r\n        if(s.contains(&quot;AM&quot;) &amp;&amp; h.equals(&quot;12&quot;)){\r\n            h = &quot;00&quot;;\r\n        }\r\n        String milTime = h + &quot;:&quot; + m + &quot;:&quot; + sec;\r\n        return milTime;\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p><strong>You can try this in Java for Time Conversion Hackerrank</strong> </p>\n\n<pre><code>  /*\n * Complete the timeConversion function below.\n */\nstatic String timeConversion(String s) {\n    String h,m,sec;\n\n    h = s.substring(0,2);\n    m = s.substring(3,5);\n    sec = s.substring(6,8);\n\n    if(s.contains(\"PM\") &amp;&amp; !h.equals(\"12\")){\n        int inc = 12;\n        inc += Integer.parseInt(h);\n        h = inc + \"\";\n    }\n    if(s.contains(\"AM\") &amp;&amp; h.equals(\"12\")){\n        h = \"00\";\n    }\n    String milTime = h + \":\" + m + \":\" + sec;\n    return milTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21824741,"reputation":1,"user_id":16120415,"display_name":"Rodrigo Freitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623038060,"creation_date":1623038060,"answer_id":67865765,"question_id":34631339,"body_markdown":"Try this:\r\n\r\n    public static String timeConversion(String s) {\r\n  \r\n    int h = Integer.parseInt(s.substring(0,2));\r\n    \r\n    if (h == 12) h = 0;\r\n    \r\n    if (s.substring(8,9).equals(&quot;P&quot;)) h = h + 12;\r\n    \r\n    return String.format(&quot;%02d&quot;, h) + s.substring(2,8);\r\n\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>Try this:</p>\n<pre><code>public static String timeConversion(String s) {\n\nint h = Integer.parseInt(s.substring(0,2));\n\nif (h == 12) h = 0;\n\nif (s.substring(8,9).equals(&quot;P&quot;)) h = h + 12;\n\nreturn String.format(&quot;%02d&quot;, h) + s.substring(2,8);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26449738,"reputation":1,"user_id":20093110,"display_name":"user20093110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664216095,"creation_date":1664216095,"answer_id":73858298,"question_id":34631339,"body_markdown":"    public static string timeConversion(string s)\r\n    {\r\n          var idate = DateTime.Parse(s);\r\n          var odate = idate.TimeOfDay;\r\n          return odate.ToString();\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>public static string timeConversion(string s)\n{\n      var idate = DateTime.Parse(s);\n      var odate = idate.TimeOfDay;\n      return odate.ToString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13923314,"reputation":29,"user_id":17731460,"display_name":"Dilsher Balouch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612509,"creation_date":1666612509,"answer_id":74180754,"question_id":34631339,"body_markdown":"the most compact code, i think \r\n\r\n    function timeConversion(s) {\r\n        // Write your code here\r\n        let time=s.slice(0,10).split(&#39;:&#39;);\r\n        // return(time);\r\n        if((time[0]&lt;12)&amp;&amp;(time[2].includes(&#39;PM&#39;))){\r\n            time[0]=parseInt(time[0])+12;\r\n        }\r\n        if((time[0]==12)&amp;&amp;(time[2].includes(&#39;AM&#39;))){\r\n            time[0]=&#39;00&#39;;\r\n        }\r\n        // return(time);\r\n        return(time.join(&#39;:&#39;).slice(0,8));\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>the most compact code, i think</p>\n<pre><code>function timeConversion(s) {\n    // Write your code here\n    let time=s.slice(0,10).split(':');\n    // return(time);\n    if((time[0]&lt;12)&amp;&amp;(time[2].includes('PM'))){\n        time[0]=parseInt(time[0])+12;\n    }\n    if((time[0]==12)&amp;&amp;(time[2].includes('AM'))){\n        time[0]='00';\n    }\n    // return(time);\n    return(time.join(':').slice(0,8));\n}\n</code></pre>\n"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":10,"score":2,"last_activity_date":1666612509,"creation_date":1452077626,"question_id":34631339,"body_markdown":"I was attempting the [Time Conversion](https://www.hackerrank.com/challenges/time-conversion) challenge on Hackerrank, but for some reason, the hour field in the 24-hour representation always comes out empty. Here&#39;s the challenge - \r\n\r\n&gt; Problem Statement\r\n&gt; \r\n&gt; Given a time in AM/PM format, convert it to military (24-hour) time.\r\n&gt; \r\n&gt; Note: Midnight is 12:00:00AM on a 12-hour clock and 00:00:00 on a\r\n&gt; 24-hour clock. Noon is 12:00:00PM on a 12-hour clock and 12:00:00 on a\r\n&gt; 24-hour clock.\r\n\r\nAnother problem seems to be that the seconds always appears to be of 1 digit. For instance, if the input is `07:05:45PM`, my Hackerrank output is `:05:4`.\r\n\r\nBut, the code runs just fine in IntelliJ on my desktop - \r\n\r\n    1:24:23AM\r\n    1\r\n    24\r\n    23AM\r\n    01:24:23\r\n    \r\n    Process finished with exit code 0\r\nand\r\n\r\n    07:05:45PM\r\n    07\r\n    05\r\n    45PM\r\n    19:05:45\r\n    \r\n    Process finished with exit code 0\r\n\r\nAs there&#39;s no way to debug the solution on hackerrank itself, I&#39;m not sure what&#39;s wrong. Here&#39;s my code - \r\n\r\n    package algorithms.Warmup;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * Created by manishgiri on 1/6/16.\r\n     */\r\n    public class TimeConversion {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String time = in.next();\r\n            String[] parts = time.split(&quot;:&quot;);\r\n            for(String part: parts){\r\n                System.out.println(part);\r\n            }\r\n            int hours = Integer.parseInt(parts[0]);\r\n            String minutes = (parts[1]);\r\n            String[] last = parts[2].split(&quot;&quot;);\r\n    \r\n            String seconds = last[0]+last[1];\r\n            String timeZ = last[2]+last[3];\r\n            String finalHour = &quot;&quot;;\r\n            if(timeZ.equalsIgnoreCase(&quot;PM&quot;)) {\r\n                if(hours == 12) {\r\n                    finalHour = Integer.toString(12);\r\n                }\r\n                else {\r\n                    finalHour = Integer.toString(hours + 12);\r\n                }\r\n            }\r\n            else if(timeZ.equalsIgnoreCase(&quot;AM&quot;)) {\r\n                if(hours == 12) {\r\n                    finalHour = &quot;00&quot;;\r\n                }\r\n                else if(hours == 10 || hours == 11) {\r\n                    finalHour = Integer.toString(hours);\r\n                }\r\n                else {\r\n                    finalHour = &quot;0&quot;+hours;\r\n                }\r\n            }\r\n            System.out.println(finalHour+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>I was attempting the <a href=\"https://www.hackerrank.com/challenges/time-conversion\" rel=\"nofollow\">Time Conversion</a> challenge on Hackerrank, but for some reason, the hour field in the 24-hour representation always comes out empty. Here's the challenge - </p>\n\n<blockquote>\n  <p>Problem Statement</p>\n  \n  <p>Given a time in AM/PM format, convert it to military (24-hour) time.</p>\n  \n  <p>Note: Midnight is 12:00:00AM on a 12-hour clock and 00:00:00 on a\n  24-hour clock. Noon is 12:00:00PM on a 12-hour clock and 12:00:00 on a\n  24-hour clock.</p>\n</blockquote>\n\n<p>Another problem seems to be that the seconds always appears to be of 1 digit. For instance, if the input is <code>07:05:45PM</code>, my Hackerrank output is <code>:05:4</code>.</p>\n\n<p>But, the code runs just fine in IntelliJ on my desktop - </p>\n\n<pre><code>1:24:23AM\n1\n24\n23AM\n01:24:23\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>and</p>\n\n<pre><code>07:05:45PM\n07\n05\n45PM\n19:05:45\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>As there's no way to debug the solution on hackerrank itself, I'm not sure what's wrong. Here's my code - </p>\n\n<pre><code>package algorithms.Warmup;\n\nimport java.util.Scanner;\n\n/**\n * Created by manishgiri on 1/6/16.\n */\npublic class TimeConversion {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String time = in.next();\n        String[] parts = time.split(\":\");\n        for(String part: parts){\n            System.out.println(part);\n        }\n        int hours = Integer.parseInt(parts[0]);\n        String minutes = (parts[1]);\n        String[] last = parts[2].split(\"\");\n\n        String seconds = last[0]+last[1];\n        String timeZ = last[2]+last[3];\n        String finalHour = \"\";\n        if(timeZ.equalsIgnoreCase(\"PM\")) {\n            if(hours == 12) {\n                finalHour = Integer.toString(12);\n            }\n            else {\n                finalHour = Integer.toString(hours + 12);\n            }\n        }\n        else if(timeZ.equalsIgnoreCase(\"AM\")) {\n            if(hours == 12) {\n                finalHour = \"00\";\n            }\n            else if(hours == 10 || hours == 11) {\n                finalHour = Integer.toString(hours);\n            }\n            else {\n                finalHour = \"0\"+hours;\n            }\n        }\n        System.out.println(finalHour+\":\"+minutes+\":\"+seconds);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","credentials","json-ld","canonicalization"],"answers":[{"tags":[],"owner":{"account_id":1816745,"reputation":478,"user_id":1651690,"display_name":"Rein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666354334,"creation_date":1666354334,"answer_id":74153440,"question_id":72995374,"body_markdown":"First, JSON-LD and Verifiable Credentials (VC) are formats to improve interoperability with other parties that issue/verify the VCs in question.\r\n\r\nThat means you can&#39;t use just any canonicalization algorithm, you must use the exact algorithm as specified. Otherwise, the resulting hash and thus signature could differ. Without looking into the differences between JCS and URDNA2015, maybe it could work in most cases, but fail in certain edge cases (due to details being different, e.g. sorting).\r\n\r\nYou probably want to select a (good) JSON-LD library to perform signing and thus canonicalization, instead of building it yourself (because it is hard to get right, as you found out).","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>First, JSON-LD and Verifiable Credentials (VC) are formats to improve interoperability with other parties that issue/verify the VCs in question.</p>\n<p>That means you can't use just any canonicalization algorithm, you must use the exact algorithm as specified. Otherwise, the resulting hash and thus signature could differ. Without looking into the differences between JCS and URDNA2015, maybe it could work in most cases, but fail in certain edge cases (due to details being different, e.g. sorting).</p>\n<p>You probably want to select a (good) JSON-LD library to perform signing and thus canonicalization, instead of building it yourself (because it is hard to get right, as you found out).</p>\n"},{"tags":[],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666612426,"creation_date":1666612426,"answer_id":74180729,"question_id":72995374,"body_markdown":"As @Rein pointed out it&#39;s better to use existing JSON-LD library. Some are listed here: https://json-ld.org/ (**Titanium** library is available for Java, but there are also libraries using different languages).\r\n\r\nHowever, I&#39;ve found out that the best option for Java devs is to use this library:\r\n[iron-vc][1]\r\n\r\n - it is from the same developers as [Titanium lib.][2] above\r\n - it already contains Titanium lib. and builds upon it\r\n - it also contains [RDF Dataset normalization lib.][3], used for the canonicalization process\r\n - it is designed to work with Verifiable Credentials and Verifiable Presentations\r\n - by default there is available implementation of [Ed25519 Signature 2020][4] signature suite\r\n - I myself created [fork][5] of it which contains [Json Web Signature 2020][6] signature suite impl. - there is pull request opened to update the original lib.\r\n\r\n\r\n  [1]: https://github.com/filip26/iron-verifiable-credentials\r\n  [2]: https://github.com/filip26/titanium-json-ld\r\n  [3]: https://github.com/w3c-ccg/rdf-dataset-canonicalization\r\n  [4]: https://www.w3.org/community/reports/credentials/CG-FINAL-di-eddsa-2020-20220724/\r\n  [5]: https://github.com/apelt/iron-verifiable-credentials\r\n  [6]: https://www.w3.org/community/reports/credentials/CG-FINAL-lds-jws2020-20220721/","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>As @Rein pointed out it's better to use existing JSON-LD library. Some are listed here: <a href=\"https://json-ld.org/\" rel=\"nofollow noreferrer\">https://json-ld.org/</a> (<strong>Titanium</strong> library is available for Java, but there are also libraries using different languages).</p>\n<p>However, I've found out that the best option for Java devs is to use this library:\n<a href=\"https://github.com/filip26/iron-verifiable-credentials\" rel=\"nofollow noreferrer\">iron-vc</a></p>\n<ul>\n<li>it is from the same developers as <a href=\"https://github.com/filip26/titanium-json-ld\" rel=\"nofollow noreferrer\">Titanium lib.</a> above</li>\n<li>it already contains Titanium lib. and builds upon it</li>\n<li>it also contains <a href=\"https://github.com/w3c-ccg/rdf-dataset-canonicalization\" rel=\"nofollow noreferrer\">RDF Dataset normalization lib.</a>, used for the canonicalization process</li>\n<li>it is designed to work with Verifiable Credentials and Verifiable Presentations</li>\n<li>by default there is available implementation of <a href=\"https://www.w3.org/community/reports/credentials/CG-FINAL-di-eddsa-2020-20220724/\" rel=\"nofollow noreferrer\">Ed25519 Signature 2020</a> signature suite</li>\n<li>I myself created <a href=\"https://github.com/apelt/iron-verifiable-credentials\" rel=\"nofollow noreferrer\">fork</a> of it which contains <a href=\"https://www.w3.org/community/reports/credentials/CG-FINAL-lds-jws2020-20220721/\" rel=\"nofollow noreferrer\">Json Web Signature 2020</a> signature suite impl. - there is pull request opened to update the original lib.</li>\n</ul>\n"}],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74180729,"answer_count":2,"score":0,"last_activity_date":1666612426,"creation_date":1657894476,"question_id":72995374,"body_markdown":"I want to sign Verifiable Credential in JSON structure with Linked Data (JSON-LD) like below:\r\n\r\n```\r\n{\r\n    &quot;@context&quot;:[\r\n        &quot;https://www.w3.org/2018/credentials/v1&quot;,\r\n        &quot;https://w3id.org/security/bbs/v1&quot;\r\n    ],\r\n    &quot;id&quot;:&quot;1234&quot;,\r\n    &quot;type&quot;:[\r\n        &quot;VerifiableCredential&quot;\r\n    ],\r\n    &quot;issuer&quot;:&quot;exampleIssuer&quot;,\r\n    &quot;validFrom&quot;:&quot;2022-06-30T00:00:00Z+01:00&quot;,\r\n    &quot;expirationDate&quot;:&quot;2022-07-30T00:00:00Z+01:00&quot;,\r\n    &quot;credentialSubject&quot;:{\r\n        &quot;customerId&quot;:&quot;123456&quot;,\r\n        &quot;name&quot;:&quot;Test User&quot;,\r\n        &quot;birthDate&quot;:&quot;1.1.1991&quot;\r\n    },\r\n    &quot;proof&quot;:{\r\n        &quot;type&quot;:&quot;BbsBlsSignatureProof2020&quot;,\r\n        &quot;verificationMethod&quot;:&quot;did:example:489398593#test&quot;,\r\n        &quot;created&quot;:&quot;2021-12-31T10:54:18Z+01:00&quot;,\r\n        &quot;proofPurpose&quot;:&quot;assertionMethod&quot;,\r\n        &quot;proofValue&quot;:&quot;...&quot;,\r\n        &quot;nonce&quot;:&quot;...&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe signing itself is not a problem. The problem is the canonicalization = how to prepare the data before signing.\r\n\r\nThe [BbsBlsSignatureProof2020][1] specifies to use *https://w3id.org/security#URDNA2015* (aka URDCA2015) canonicalization algorithm following the [RDF Dataset Canonicalization][2]. \r\n(the same is for [EcdsaSecp256k1RecoverySignature2020][3] and [JsonWebSignature2020][4]).\r\n\r\n**Is this a must-do or is it just default canonicalization algorithm and I can use any other?**\r\n\r\nThe thing is, RDF is rather complex when working with JSON-LD and seems to have [quite some flaws][5]. I would really like to use much easier [JCS][6] (JSON Canonicalization Scheme) instead, which works only with syntax of the JSON.\r\n\r\n**Any feedback on this would be highly appreciated.**\r\n\r\n\r\n  [1]: https://w3c-ccg.github.io/ldp-bbs2020/#the-bbs-signature-proof-suite-2020\r\n  [2]: https://json-ld.github.io/rdf-dataset-canonicalization/spec/\r\n  [3]: https://identity.foundation/EcdsaSecp256k1RecoverySignature2020\r\n  [4]: https://w3c-ccg.github.io/lds-jws2020/#dfn-jsonwebsignature2020\r\n  [5]: https://github.com/setl/rdf-urdna/tree/master/jsonld-warnings\r\n  [6]: https://datatracker.ietf.org/doc/html/rfc8785","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>I want to sign Verifiable Credential in JSON structure with Linked Data (JSON-LD) like below:</p>\n<pre><code>{\n    &quot;@context&quot;:[\n        &quot;https://www.w3.org/2018/credentials/v1&quot;,\n        &quot;https://w3id.org/security/bbs/v1&quot;\n    ],\n    &quot;id&quot;:&quot;1234&quot;,\n    &quot;type&quot;:[\n        &quot;VerifiableCredential&quot;\n    ],\n    &quot;issuer&quot;:&quot;exampleIssuer&quot;,\n    &quot;validFrom&quot;:&quot;2022-06-30T00:00:00Z+01:00&quot;,\n    &quot;expirationDate&quot;:&quot;2022-07-30T00:00:00Z+01:00&quot;,\n    &quot;credentialSubject&quot;:{\n        &quot;customerId&quot;:&quot;123456&quot;,\n        &quot;name&quot;:&quot;Test User&quot;,\n        &quot;birthDate&quot;:&quot;1.1.1991&quot;\n    },\n    &quot;proof&quot;:{\n        &quot;type&quot;:&quot;BbsBlsSignatureProof2020&quot;,\n        &quot;verificationMethod&quot;:&quot;did:example:489398593#test&quot;,\n        &quot;created&quot;:&quot;2021-12-31T10:54:18Z+01:00&quot;,\n        &quot;proofPurpose&quot;:&quot;assertionMethod&quot;,\n        &quot;proofValue&quot;:&quot;...&quot;,\n        &quot;nonce&quot;:&quot;...&quot;\n    }\n}\n</code></pre>\n<p>The signing itself is not a problem. The problem is the canonicalization = how to prepare the data before signing.</p>\n<p>The <a href=\"https://w3c-ccg.github.io/ldp-bbs2020/#the-bbs-signature-proof-suite-2020\" rel=\"nofollow noreferrer\">BbsBlsSignatureProof2020</a> specifies to use <em><a href=\"https://w3id.org/security#URDNA2015\" rel=\"nofollow noreferrer\">https://w3id.org/security#URDNA2015</a></em> (aka URDCA2015) canonicalization algorithm following the <a href=\"https://json-ld.github.io/rdf-dataset-canonicalization/spec/\" rel=\"nofollow noreferrer\">RDF Dataset Canonicalization</a>.\n(the same is for <a href=\"https://identity.foundation/EcdsaSecp256k1RecoverySignature2020\" rel=\"nofollow noreferrer\">EcdsaSecp256k1RecoverySignature2020</a> and <a href=\"https://w3c-ccg.github.io/lds-jws2020/#dfn-jsonwebsignature2020\" rel=\"nofollow noreferrer\">JsonWebSignature2020</a>).</p>\n<p><strong>Is this a must-do or is it just default canonicalization algorithm and I can use any other?</strong></p>\n<p>The thing is, RDF is rather complex when working with JSON-LD and seems to have <a href=\"https://github.com/setl/rdf-urdna/tree/master/jsonld-warnings\" rel=\"nofollow noreferrer\">quite some flaws</a>. I would really like to use much easier <a href=\"https://datatracker.ietf.org/doc/html/rfc8785\" rel=\"nofollow noreferrer\">JCS</a> (JSON Canonicalization Scheme) instead, which works only with syntax of the JSON.</p>\n<p><strong>Any feedback on this would be highly appreciated.</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","graphql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666612980,"post_id":74179294,"comment_id":130971174,"body_markdown":"Please use proper code tags to include the code not links to images.","body":"Please use proper code tags to include the code not links to images."}],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612418,"creation_date":1666605528,"answer_id":74179449,"question_id":74179294,"body_markdown":"It looks like you are repeating the query: I don&#39;t understand why the first line in your Postman test. Try like this:\r\n\r\n    query {\r\n      getEsgScoresData(name: $name) {\r\n        date\r\n      }\r\n    }\r\n\r\n","title":"GraphQL Java : java.lang.NoSuchMethodError","body":"<p>It looks like you are repeating the query: I don't understand why the first line in your Postman test. Try like this:</p>\n<pre><code>query {\n  getEsgScoresData(name: $name) {\n    date\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26715884,"reputation":1,"user_id":20320496,"display_name":"Mondher HADDAD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666612418,"creation_date":1666604845,"question_id":74179294,"body_markdown":"I am testing the APIs after hosting the application on DigitalOcean and I got this Error :\r\n\r\n[Error Screenshot][1]\r\n\r\nThe query and my Service File looks like that : \r\n\r\n[Repo][2]\r\n\r\n[Service][3]\r\n\r\nWhen I requested in postman like this. Getting Internal Server Error :\r\n\r\n[Postman Test][4]\r\n\r\nGraphQL Config :\r\n\r\n[Company Type][5]\r\n\r\n[Request][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WH2xs.png\r\n  [2]: https://i.stack.imgur.com/GOMQi.png\r\n  [3]: https://i.stack.imgur.com/g71qp.png\r\n  [4]: https://i.stack.imgur.com/rOSZD.png\r\n  [5]: https://i.stack.imgur.com/um0jq.png\r\n  [6]: https://i.stack.imgur.com/JFfXw.png","title":"GraphQL Java : java.lang.NoSuchMethodError","body":"<p>I am testing the APIs after hosting the application on DigitalOcean and I got this Error :</p>\n<p><a href=\"https://i.stack.imgur.com/WH2xs.png\" rel=\"nofollow noreferrer\">Error Screenshot</a></p>\n<p>The query and my Service File looks like that :</p>\n<p><a href=\"https://i.stack.imgur.com/GOMQi.png\" rel=\"nofollow noreferrer\">Repo</a></p>\n<p><a href=\"https://i.stack.imgur.com/g71qp.png\" rel=\"nofollow noreferrer\">Service</a></p>\n<p>When I requested in postman like this. Getting Internal Server Error :</p>\n<p><a href=\"https://i.stack.imgur.com/rOSZD.png\" rel=\"nofollow noreferrer\">Postman Test</a></p>\n<p>GraphQL Config :</p>\n<p><a href=\"https://i.stack.imgur.com/um0jq.png\" rel=\"nofollow noreferrer\">Company Type</a></p>\n<p><a href=\"https://i.stack.imgur.com/JFfXw.png\" rel=\"nofollow noreferrer\">Request</a></p>\n"},{"tags":["java","jmx"],"answers":[{"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1310043428,"creation_date":1310043428,"answer_id":6610959,"question_id":6610905,"body_markdown":"Are you looking for the [JVM platform MBean docs][1]?\r\n\r\nThere are examples there on to get the MBeans and interrogate them e.g.\r\n\r\n&gt; The [ThreadMXBean][2] platform MBean\r\n&gt; provides support for monitoring thread\r\n&gt; contention and thread CPU time.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/management/mxbeans.html\r\n  [2]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/ThreadMXBean.html","title":"List of JMX objects and attributes?","body":"<p>Are you looking for the <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/management/mxbeans.html\" rel=\"nofollow\">JVM platform MBean docs</a>?</p>\n\n<p>There are examples there on to get the MBeans and interrogate them e.g.</p>\n\n<blockquote>\n  <p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"nofollow\">ThreadMXBean</a> platform MBean\n  provides support for monitoring thread\n  contention and thread CPU time.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":71815,"reputation":2507,"user_id":207604,"accept_rate":50,"display_name":"Roland Hu&#223;"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1519081849,"creation_date":1310048730,"answer_id":6612195,"question_id":6610905,"body_markdown":"You can always use [mBeanServer.queryNames(null, null);][1] for getting to all MBeans registered at a certain MBeanServer (where `mBeanServer` is the `MBeanServerConnection` which you obtained either locally or remotely). \r\n\r\nHowever, before implementing your own Nagios Plugins, why not using an already exisiting one ? E.g. [jmx4perl][2]&#39;s `check_jmx4perl` which comes with tools for exploring the JMX namespace (like `jmx4perl &lt;url&gt; list` for listing all JMX MBeans with their attributes and operations or `j4psh` a readline based JMX shell with context sensitive command line completion).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/management/MBeanServer.html#queryNames%28javax.management.ObjectName,%20javax.management.QueryExp%29\r\n  [2]: https://jolokia.org/client/perl.html","title":"List of JMX objects and attributes?","body":"<p>You can always use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/management/MBeanServer.html#queryNames%28javax.management.ObjectName,%20javax.management.QueryExp%29\" rel=\"nofollow noreferrer\">mBeanServer.queryNames(null, null);</a> for getting to all MBeans registered at a certain MBeanServer (where <code>mBeanServer</code> is the <code>MBeanServerConnection</code> which you obtained either locally or remotely). </p>\n\n<p>However, before implementing your own Nagios Plugins, why not using an already exisiting one ? E.g. <a href=\"https://jolokia.org/client/perl.html\" rel=\"nofollow noreferrer\">jmx4perl</a>'s <code>check_jmx4perl</code> which comes with tools for exploring the JMX namespace (like <code>jmx4perl &lt;url&gt; list</code> for listing all JMX MBeans with their attributes and operations or <code>j4psh</code> a readline based JMX shell with context sensitive command line completion).</p>\n"},{"tags":[],"owner":{"account_id":419170,"reputation":2603,"user_id":796181,"accept_rate":75,"display_name":"helios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612382,"creation_date":1310091619,"answer_id":6619300,"question_id":6610905,"body_markdown":"Check out [MC4J][1] or [JConsole][2] - it&#39;s trivial to get going with both of &#39;em.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/mc4j/\r\n  [2]: http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html","title":"List of JMX objects and attributes?","body":"<p>Check out <a href=\"http://sourceforge.net/projects/mc4j/\" rel=\"nofollow noreferrer\">MC4J</a> or <a href=\"http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html\" rel=\"nofollow noreferrer\">JConsole</a> - it's trivial to get going with both of 'em.</p>\n"},{"tags":[],"owner":{"account_id":1383140,"reputation":1324,"user_id":1315726,"accept_rate":100,"display_name":"Chux Uzoeto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380637066,"creation_date":1380637066,"answer_id":19118626,"question_id":6610905,"body_markdown":"From a sysadmin point of view, I fully understand the bases for the question.  The standard JMX documentation, or the objects one can encounter while trying to browse JMX object trees, can be overwhelming and confusing.  \r\n\r\nI have found this [Op5 KB article][1] quite useful in providing a decent overview of JMX objects of interest for JBoss. \r\n\r\nObviously, one needs to adjust to fit with the monitoring system they are actually using, but there is enough in the examples for whatever nagios-based monitoring system is being used.\r\n\r\n\r\n  [1]: https://kb.op5.com/display/HOWTOs/Jboss+Monitoring+with+check_jmx","title":"List of JMX objects and attributes?","body":"<p>From a sysadmin point of view, I fully understand the bases for the question.  The standard JMX documentation, or the objects one can encounter while trying to browse JMX object trees, can be overwhelming and confusing.  </p>\n\n<p>I have found this <a href=\"https://kb.op5.com/display/HOWTOs/Jboss+Monitoring+with+check_jmx\" rel=\"nofollow\">Op5 KB article</a> quite useful in providing a decent overview of JMX objects of interest for JBoss. </p>\n\n<p>Obviously, one needs to adjust to fit with the monitoring system they are actually using, but there is enough in the examples for whatever nagios-based monitoring system is being used.</p>\n"},{"tags":[],"owner":{"account_id":353250,"reputation":833,"user_id":690844,"accept_rate":33,"display_name":"Gilad"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1412497704,"creation_date":1412497704,"answer_id":26200942,"question_id":6610905,"body_markdown":"You can use\r\n\r\n    Set mbeans = mBeanServer.queryNames(null, null);\r\n    for (Object mbean : mbeans)\r\n    {\r\n        WriteAttributes(mBeanServer, (ObjectName)mbean);\r\n    }\r\n\r\n    private void WriteAttributes(final MBeanServer mBeanServer, final ObjectName http)\r\n            throws InstanceNotFoundException, IntrospectionException, ReflectionException\r\n    {\r\n        MBeanInfo info = mBeanServer.getMBeanInfo(http);\r\n        MBeanAttributeInfo[] attrInfo = info.getAttributes();\r\n\r\n        System.out.println(&quot;Attributes for object: &quot; + http +&quot;:\\n&quot;);\r\n        for (MBeanAttributeInfo attr : attrInfo)\r\n        {\r\n            System.out.println(&quot;  &quot; + attr.getName() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThis will write all the object names and their attributes...","title":"List of JMX objects and attributes?","body":"<p>You can use</p>\n\n<pre><code>Set mbeans = mBeanServer.queryNames(null, null);\nfor (Object mbean : mbeans)\n{\n    WriteAttributes(mBeanServer, (ObjectName)mbean);\n}\n\nprivate void WriteAttributes(final MBeanServer mBeanServer, final ObjectName http)\n        throws InstanceNotFoundException, IntrospectionException, ReflectionException\n{\n    MBeanInfo info = mBeanServer.getMBeanInfo(http);\n    MBeanAttributeInfo[] attrInfo = info.getAttributes();\n\n    System.out.println(\"Attributes for object: \" + http +\":\\n\");\n    for (MBeanAttributeInfo attr : attrInfo)\n    {\n        System.out.println(\"  \" + attr.getName() + \"\\n\");\n    }\n}\n</code></pre>\n\n<p>This will write all the object names and their attributes...</p>\n"}],"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43020,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6612195,"answer_count":5,"score":22,"last_activity_date":1666612382,"creation_date":1310043195,"question_id":6610905,"body_markdown":"I am trying to implement a nagios plugin, and doing so requires that I know specifically what object and attribute I want to monitor. The thing is, I haven&#39;t been able to find a listing anywhere of the standard system jmx objects and attributes. Can anyone point me in the right direction? I need to monitor things like memory pools, heap size, etc.","title":"List of JMX objects and attributes?","body":"<p>I am trying to implement a nagios plugin, and doing so requires that I know specifically what object and attribute I want to monitor. The thing is, I haven't been able to find a listing anywhere of the standard system jmx objects and attributes. Can anyone point me in the right direction? I need to monitor things like memory pools, heap size, etc.</p>\n"},{"tags":["java","object","constructor","subclass","superclass"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1666518077,"post_id":74169866,"comment_id":130951982,"body_markdown":"What does `class mySuperClass(String x)` mean? That&#39;s not valid Java.","body":"What does <code>class mySuperClass(String x)</code> mean? That&#39;s not valid Java."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1666518315,"post_id":74169866,"comment_id":130952013,"body_markdown":"If the superclass constructor takes parameters, then you actually have a chance, when the parameters are being evaluated. Anyway, I think this is an [XY problem](https://xyproblem.info). Why are you trying to do this?","body":"If the superclass constructor takes parameters, then you actually have a chance, when the parameters are being evaluated. Anyway, I think this is an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. Why are you trying to do this?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666524447,"post_id":74169866,"comment_id":130953122,"body_markdown":"depends on how you define &quot;an object still created&quot;. First of all memory is allocated for the whole instance (including the superclasses), then the superclasses are initialized (constructor executed), finally (skipped some steps) the constructor of the actual class is executes and throws an Exception, abruptly exiting the (whole) instance creation. Better explained in the Java Language Specificaiton [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.5)","body":"depends on how you define &quot;an object still created&quot;. First of all memory is allocated for the whole instance (including the superclasses), then the superclasses are initialized (constructor executed), finally (skipped some steps) the constructor of the actual class is executes and throws an Exception, abruptly exiting the (whole) instance creation. Better explained in the Java Language Specificaiton <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666535979,"post_id":74169866,"comment_id":130955384,"body_markdown":"At the point *any* constructor code is run, the object has already been created. A constructor in Java is for initialization purposes. As an aside, even if super-constructors are called, there is one and only one object, no matter how many super classes an object has.","body":"At the point <i>any</i> constructor code is run, the object has already been created. A constructor in Java is for initialization purposes. As an aside, even if super-constructors are called, there is one and only one object, no matter how many super classes an object has."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666539467,"post_id":74169866,"comment_id":130956159,"body_markdown":"If the constructor throws, no object is created (or any partly created super class parts are garbage collected).","body":"If the constructor throws, no object is created (or any partly created super class parts are garbage collected)."},{"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1666553575,"post_id":74169866,"comment_id":130959487,"body_markdown":"Can you elaborate on why you don&#39;t want the superclass constructor to run?","body":"Can you elaborate on why you don&#39;t want the superclass constructor to run?"},{"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"score":0,"creation_date":1666709481,"post_id":74169866,"comment_id":130998207,"body_markdown":"@templatetypedef just because I think it may not be correct to execute the super constructor if the subclass constructor cannot be executed due to an incorrect parameter.\n\nOr at least, that&#39;s what I&#39;m trying to figure out. But if it is true that garbage collection takes care of cleaning, then it may not be a problem to start the super constructor anyway.","body":"@templatetypedef just because I think it may not be correct to execute the super constructor if the subclass constructor cannot be executed due to an incorrect parameter.  Or at least, that&#39;s what I&#39;m trying to figure out. But if it is true that garbage collection takes care of cleaning, then it may not be a problem to start the super constructor anyway."},{"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"score":0,"creation_date":1666710227,"post_id":74169866,"comment_id":130998521,"body_markdown":"So, if I understand what user16320675 and @Robert say, it is not a problem to launch the super even if the sub-class constructor fails: the exception takes care of it. \nThank You all","body":"So, if I understand what user16320675 and @Robert say, it is not a problem to launch the super even if the sub-class constructor fails: the exception takes care of it.  Thank You all"}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666554047,"creation_date":1666554047,"answer_id":74174260,"question_id":74169866,"body_markdown":"One option is to use a factory method, which lets you do something and then have the constructor run:\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    private subClass(int y) { // &lt;-- Note: Now private\r\n        super(/* ... args ... */);\r\n        this.y = y;\r\n    }\r\n\r\n    public static subClass create(int y) {\r\n        if (y &gt;= 10) {\r\n             throw new IllegalArgumentException(&quot;Shame! Shame!&quot;);\r\n        }\r\n        return new subClass(y);\r\n    }\r\n}\r\n```\r\n\r\nNow, you&#39;d create objects by writing `subClass.create(arg);` rather than `new subClass(arg);`\r\n\r\nA second option would be to replace the `int` parameter with a parameter of a custom type representing what you want. This gives more fine-grained control and makes clear that the argument isn&#39;t an `int` per se, but rather some sort of limited value.\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    public static final class SpecialInt {\r\n        private final int value;\r\n        \r\n        SpecialInt(int val) {\r\n            if (val &lt; 10) {\r\n                throw new IllegalArgumentException(&quot;That int is Not Special.&quot;);\r\n            }\r\n            value = val;\r\n        }\r\n    }\r\n\r\n    public subClass(SpecialInt y) {\r\n        super(/* ... args ... */);\r\n        this.y = y.value;\r\n    }\r\n}\r\n```\r\n\r\nI like this option because it makes clear that there&#39;s a restricted type of items that can be given to the constructor, though it does add a bit more syntax (`new subClass(new subClass.SpecialInt(137))` versus `newSubclass(137)`).\r\n\r\nA final, hacky, &quot;not great but it&#39;ll work&quot; option would be to add in static method that checks the argument to the subclass constructor and, in the normal case, returns the proper argument to the superclass constructor. However, if the argument is invalid, the helper throws an exception. This assumes that the superclass constructor takes at least one argument and won&#39;t work otherwise.\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    private static final String argCheck(int y) {\r\n        if (y &gt;= 10) {\r\n            throw new IllegalArgumentException(&quot;You have committed a Programming Sin.&quot;);\r\n        }\r\n        return /* whatever you would normally send to the superclass. */;\r\n    }\r\n\r\n    public subClass(int y) {\r\n        super(argCheck(y)); // Check y before invoking the superclass ctor\r\n\r\n        this.y = y;\r\n    }\r\n}\r\n```","title":"Prevent super-constructor instantiation if a subclass constructor parameter is illegal","body":"<p>One option is to use a factory method, which lets you do something and then have the constructor run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    private subClass(int y) { // &lt;-- Note: Now private\n        super(/* ... args ... */);\n        this.y = y;\n    }\n\n    public static subClass create(int y) {\n        if (y &gt;= 10) {\n             throw new IllegalArgumentException(&quot;Shame! Shame!&quot;);\n        }\n        return new subClass(y);\n    }\n}\n</code></pre>\n<p>Now, you'd create objects by writing <code>subClass.create(arg);</code> rather than <code>new subClass(arg);</code></p>\n<p>A second option would be to replace the <code>int</code> parameter with a parameter of a custom type representing what you want. This gives more fine-grained control and makes clear that the argument isn't an <code>int</code> per se, but rather some sort of limited value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    public static final class SpecialInt {\n        private final int value;\n        \n        SpecialInt(int val) {\n            if (val &lt; 10) {\n                throw new IllegalArgumentException(&quot;That int is Not Special.&quot;);\n            }\n            value = val;\n        }\n    }\n\n    public subClass(SpecialInt y) {\n        super(/* ... args ... */);\n        this.y = y.value;\n    }\n}\n</code></pre>\n<p>I like this option because it makes clear that there's a restricted type of items that can be given to the constructor, though it does add a bit more syntax (<code>new subClass(new subClass.SpecialInt(137))</code> versus <code>newSubclass(137)</code>).</p>\n<p>A final, hacky, &quot;not great but it'll work&quot; option would be to add in static method that checks the argument to the subclass constructor and, in the normal case, returns the proper argument to the superclass constructor. However, if the argument is invalid, the helper throws an exception. This assumes that the superclass constructor takes at least one argument and won't work otherwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    private static final String argCheck(int y) {\n        if (y &gt;= 10) {\n            throw new IllegalArgumentException(&quot;You have committed a Programming Sin.&quot;);\n        }\n        return /* whatever you would normally send to the superclass. */;\n    }\n\n    public subClass(int y) {\n        super(argCheck(y)); // Check y before invoking the superclass ctor\n\n        this.y = y;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666612316,"creation_date":1666515846,"question_id":74169866,"body_markdown":"Is it possible to prevent the instantiation of super constructor if a parameter of subclass constructor is illegal?\r\n\r\nI know that super should be the first instruction in the subclass constructor, but what happens if I throw an exception? Is the &quot;super&quot; object created anyway?\r\n\r\nExample: The subclass must not create the object if y &lt; 10. But if super comes before Y&#39;s control, is an object still created?\r\n\r\n\r\n    public class SuperClass(){ \r\n        public SuperClass(String x) { ... }\r\n    }\r\n        \r\n\r\n    public class SubClass extends SuperClass{\r\n    \tprivate int subY;\r\n        \r\n    \tpublic SubClass(int y){\r\n    \r\n    \t\tsuper();\r\n    \t\r\n    \t\tif(y&lt;10){\r\n\r\n                 this.subY = y;\r\n\r\n            }else{\r\n                \r\n                 throw new IllegalArgumentException(&quot;Error: y must be &lt;10&quot;);\r\n            }\r\n    \t}\r\n    }\r\n\r\nI read this, but it is not the case of a subclass https://stackoverflow.com/questions/14394590/preventing-instantiation-of-a-class-if-argument-to-constructor-is-illegal\r\n\r\n\r\n","title":"Prevent super-constructor instantiation if a subclass constructor parameter is illegal","body":"<p>Is it possible to prevent the instantiation of super constructor if a parameter of subclass constructor is illegal?</p>\n<p>I know that super should be the first instruction in the subclass constructor, but what happens if I throw an exception? Is the &quot;super&quot; object created anyway?</p>\n<p>Example: The subclass must not create the object if y &lt; 10. But if super comes before Y's control, is an object still created?</p>\n<pre><code>public class SuperClass(){ \n    public SuperClass(String x) { ... }\n}\n    \n\npublic class SubClass extends SuperClass{\n    private int subY;\n    \n    public SubClass(int y){\n\n        super();\n    \n        if(y&lt;10){\n\n             this.subY = y;\n\n        }else{\n            \n             throw new IllegalArgumentException(&quot;Error: y must be &lt;10&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I read this, but it is not the case of a subclass <a href=\"https://stackoverflow.com/questions/14394590/preventing-instantiation-of-a-class-if-argument-to-constructor-is-illegal\">Preventing instantiation of a class if argument to constructor is illegal?</a></p>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480489706,"post_id":40882038,"comment_id":68978752,"body_markdown":"Environment Interface is your own interface or a interface from a lib ?","body":"Environment Interface is your own interface or a interface from a lib ?"},{"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"score":0,"creation_date":1480489773,"post_id":40882038,"comment_id":68978782,"body_markdown":"It is framework interface... org.springframework.core.env.Environment; @davidxxx","body":"It is framework interface... org.springframework.core.env.Environment; @davidxxx"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480489962,"post_id":40882038,"comment_id":68978858,"body_markdown":"You could use MockEnvironment from Spring","body":"You could use MockEnvironment from Spring"},{"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"score":0,"creation_date":1480490196,"post_id":40882038,"comment_id":68978983,"body_markdown":"can you please tell me how to use  MockEnvironment from Spring??","body":"can you please tell me how to use  MockEnvironment from Spring??"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480490287,"post_id":40882038,"comment_id":68979016,"body_markdown":"I posted a simple example. If you have troubles, edit your question to give more details about your need.","body":"I posted a simple example. If you have troubles, edit your question to give more details about your need."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1480490238,"creation_date":1480490238,"answer_id":40882435,"question_id":40882038,"body_markdown":"As said in my comment, you  don&#39;t need Mockito, you can use `MockEnvironment` class to mock `Environment` from Spring.&lt;br&gt;\r\nYou can set values in this way :\r\n\r\n\t    MockEnvironment environment = new MockEnvironment();\r\n\t\tenvironment.setProperty(&quot;yourKeyOne&quot;, &quot;yourValue1&quot;);\r\n\t\tenvironment.setProperty(&quot;yourKeyTwo&quot;, &quot;yourValue2&quot;);\r\n        \r\nAnd according to your need, you can use this environment variable.\r\nFor example, here is with an `AnnotationConfigWebApplicationContext` instance :\r\n\r\n        AnnotationConfigWebApplicationContext context = new  AnnotationConfigWebApplicationContext();\r\n\t    context.setEnvironment(environment);\r\n ","title":"How to mock Environment Interface","body":"<p>As said in my comment, you  don't need Mockito, you can use <code>MockEnvironment</code> class to mock <code>Environment</code> from Spring.<br>\nYou can set values in this way :</p>\n\n<pre><code>    MockEnvironment environment = new MockEnvironment();\n    environment.setProperty(\"yourKeyOne\", \"yourValue1\");\n    environment.setProperty(\"yourKeyTwo\", \"yourValue2\");\n</code></pre>\n\n<p>And according to your need, you can use this environment variable.\nFor example, here is with an <code>AnnotationConfigWebApplicationContext</code> instance :</p>\n\n<pre><code>    AnnotationConfigWebApplicationContext context = new  AnnotationConfigWebApplicationContext();\n    context.setEnvironment(environment);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666612088,"creation_date":1480491971,"answer_id":40882893,"question_id":40882038,"body_markdown":"If you are using Mockito, you can do it as follows.\r\n\r\n    import static org.mockito.Mockito.when;\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class SampleMockitoTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate Environment mockEnvironment;\r\n    \t\r\n    \t@Test\r\n    \tpublic void sampleTest() {\r\n    \t\t//use mockEnvironment here\r\n            when(environment.getProperty(&quot;yourKey&quot;)).thenReturn(&quot;yourValue&quot;);\r\n    \t}\r\n    }","title":"How to mock Environment Interface","body":"<p>If you are using Mockito, you can do it as follows.</p>\n<pre><code>import static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\nclass SampleMockitoTest {\n    \n    @Mock\n    private Environment mockEnvironment;\n    \n    @Test\n    public void sampleTest() {\n        //use mockEnvironment here\n        when(environment.getProperty(&quot;yourKey&quot;)).thenReturn(&quot;yourValue&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12217,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666612088,"creation_date":1480488788,"question_id":40882038,"body_markdown":"I have to fetch path from the property file using Environment interface. In Junits I am not able to mock the Environment Interface. Below is my code. I want something random if I will call the method mentioned. How can I do it?\r\n\r\n \r\n\r\n    @Mock\r\n        private Class object;\r\n     @InjectMocks\r\n        Class2 object2;\r\n    \r\n    Mockito.when(object.getFilePath()).thenReturn(&quot;Random String&quot;);","title":"How to mock Environment Interface","body":"<p>I have to fetch path from the property file using Environment interface. In Junits I am not able to mock the Environment Interface. Below is my code. I want something random if I will call the method mentioned. How can I do it?</p>\n\n<pre><code>@Mock\n    private Class object;\n @InjectMocks\n    Class2 object2;\n\nMockito.when(object.getFilePath()).thenReturn(\"Random String\");\n</code></pre>\n"},{"tags":["java","html","templates"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666606015,"post_id":74179530,"comment_id":130968836,"body_markdown":"Would it be acceptable for you to modify the template so you have something like `&lt;td id=&quot;ip&quot;&gt;${ip}&lt;/td&gt;` or something similar, instead?","body":"Would it be acceptable for you to modify the template so you have something like <code>&lt;td id=&quot;ip&quot;&gt;${ip}&lt;&#47;td&gt;</code> or something similar, instead?"},{"owner":{"account_id":17511076,"reputation":452,"user_id":12699161,"display_name":"undertale"},"score":0,"creation_date":1666606570,"post_id":74179530,"comment_id":130968986,"body_markdown":"I can modify the template but I don&#39;t know how to insert vars in this way","body":"I can modify the template but I don&#39;t know how to insert vars in this way"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666607273,"post_id":74179530,"comment_id":130969208,"body_markdown":"My point is if it&#39;s ok for you to modify your template there&#39;s plenty of template engines you can use for such tasks. [Freemaker](https://freemarker.apache.org/), for example.","body":"My point is if it&#39;s ok for you to modify your template there&#39;s plenty of template engines you can use for such tasks. <a href=\"https://freemarker.apache.org/\" rel=\"nofollow noreferrer\">Freemaker</a>, for example."}],"answers":[{"tags":[],"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612049,"creation_date":1666612049,"answer_id":74180655,"question_id":74179530,"body_markdown":"You can use Apache FreeMarker here.\r\nhttps://www.vogella.com/tutorials/FreeMarker/article.html","title":"insert data dynamically to html table with java","body":"<p>You can use Apache FreeMarker here.\n<a href=\"https://www.vogella.com/tutorials/FreeMarker/article.html\" rel=\"nofollow noreferrer\">https://www.vogella.com/tutorials/FreeMarker/article.html</a></p>\n"}],"owner":{"account_id":17511076,"reputation":452,"user_id":12699161,"display_name":"undertale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666612049,"creation_date":1666605927,"question_id":74179530,"body_markdown":"I have template html file which look like this\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;style&gt;\r\n        table, th, td {\r\n            border:1px solid black;\r\n                      }\r\n        &lt;/style&gt;\r\n        &lt;body&gt;\r\n            &lt;h2&gt;Email Report: Crash in Log File&lt;/h2&gt;\r\n            &lt;table style=&quot;width:100%&quot;&gt;\r\n              &lt;tr&gt;\r\n                &lt;th&gt;Device Mode&lt;/th&gt;\r\n                &lt;th&gt;IP&lt;/th&gt;\r\n                &lt;th&gt;Platform&lt;/th&gt;\r\n                &lt;th&gt;Host Name&lt;/th&gt;\r\n                &lt;th&gt;Test&lt;/th&gt;\r\n                &lt;th&gt;Time&lt;/th&gt;\r\n              &lt;/tr&gt;\r\n              &lt;tr&gt;\r\n                &lt;td id=&quot;dm&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;pla&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;hn&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;test&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;time&quot;&gt;&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n            &lt;table style=&quot;width:100%&quot;&gt;\r\n                &lt;tr&gt;\r\n                  &lt;th&gt;Stack Trace&lt;/th&gt;\r\n              \r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                  &lt;td id=&quot;st&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n              &lt;/table&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI have in my java porgram variables like ip, deviceName and etc and i want to insert these variables to the table \r\n\r\nfor exsample insert the ip var to `&lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;`\r\n\r\nhow can I do it ?","title":"insert data dynamically to html table with java","body":"<p>I have template html file which look like this</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;style&gt;\n    table, th, td {\n        border:1px solid black;\n                  }\n    &lt;/style&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Email Report: Crash in Log File&lt;/h2&gt;\n        &lt;table style=&quot;width:100%&quot;&gt;\n          &lt;tr&gt;\n            &lt;th&gt;Device Mode&lt;/th&gt;\n            &lt;th&gt;IP&lt;/th&gt;\n            &lt;th&gt;Platform&lt;/th&gt;\n            &lt;th&gt;Host Name&lt;/th&gt;\n            &lt;th&gt;Test&lt;/th&gt;\n            &lt;th&gt;Time&lt;/th&gt;\n          &lt;/tr&gt;\n          &lt;tr&gt;\n            &lt;td id=&quot;dm&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;pla&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;hn&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;test&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;time&quot;&gt;&lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n        &lt;table style=&quot;width:100%&quot;&gt;\n            &lt;tr&gt;\n              &lt;th&gt;Stack Trace&lt;/th&gt;\n          \n            &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td id=&quot;st&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n          &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have in my java porgram variables like ip, deviceName and etc and i want to insert these variables to the table</p>\n<p>for exsample insert the ip var to <code>&lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;</code></p>\n<p>how can I do it ?</p>\n"},{"tags":["java","json","parsing","nested"],"comments":[{"owner":{"account_id":2876105,"reputation":3271,"user_id":2468131,"display_name":"Njol"},"score":1,"creation_date":1388739486,"post_id":20899839,"comment_id":31369898,"body_markdown":"I suggest to read the official documentation and take a look at their examples if there are some.","body":"I suggest to read the official documentation and take a look at their examples if there are some."}],"answers":[{"tags":[],"owner":{"account_id":371546,"reputation":7325,"user_id":720133,"accept_rate":88,"display_name":"dehlen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388739547,"creation_date":1388739547,"answer_id":20899924,"question_id":20899839,"body_markdown":"    \r\n\r\n    JSONArray jsonChildArray = (JSONArray) jsonChildArray.get(&quot;LanguageLevels&quot;);\r\n        JSONObject secObject = (JSONObject) jsonChildArray.get(1);\r\n\r\nI think this should work, but i do not have the possibility to test it at the moment..","title":"Retrieving values from nested JSON Object","body":"<pre><code>JSONArray jsonChildArray = (JSONArray) jsonChildArray.get(\"LanguageLevels\");\n    JSONObject secObject = (JSONObject) jsonChildArray.get(1);\n</code></pre>\n\n<p>I think this should work, but i do not have the possibility to test it at the moment..</p>\n"},{"tags":[],"owner":{"account_id":989247,"reputation":7431,"user_id":1538881,"display_name":"Jakub Kotowski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388739569,"creation_date":1388739569,"answer_id":20899930,"question_id":20899839,"body_markdown":"You can see that [JSONObject][1] extends a `HashMap`, so you can simply use it as a HashMap:\r\n\r\n    JSONObject jsonChildObject = (JSONObject)jsonObject.get(&quot;LanguageLevels&quot;);\r\n    for (Map.Entry in jsonChildOBject.entrySet()) {\r\n        System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n    }\r\n\r\n\r\n  [1]: http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html","title":"Retrieving values from nested JSON Object","body":"<p>You can see that <a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html\" rel=\"noreferrer\">JSONObject</a> extends a <code>HashMap</code>, so you can simply use it as a HashMap:</p>\n\n<pre><code>JSONObject jsonChildObject = (JSONObject)jsonObject.get(\"LanguageLevels\");\nfor (Map.Entry in jsonChildOBject.entrySet()) {\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1536788889,"creation_date":1388740138,"answer_id":20900063,"question_id":20899839,"body_markdown":"Maybe you&#39;re not using the latest version of a JSON for Java Library.\r\n\r\n`json-simple` has not been updated for a long time, while `JSON-Java` was updated 2 month ago. \r\n\r\n`JSON-Java` can be found on GitHub, here is the link to its repo: https://github.com/douglascrockford/JSON-java\r\n\r\nAfter switching the library, you can refer to my sample code down below:\r\n\r\n    public static void main(String[] args) {\r\n        String JSON = &quot;{\\&quot;LanguageLevels\\&quot;:{\\&quot;1\\&quot;:\\&quot;Pocz\\\\u0105tkuj\\\\u0105cy\\&quot;,\\&quot;2\\&quot;:\\&quot;\\\\u015arednioZaawansowany\\&quot;,\\&quot;3\\&quot;:\\&quot;Zaawansowany\\&quot;,\\&quot;4\\&quot;:\\&quot;Ekspert\\&quot;}}\\n&quot;;\r\n\r\n        JSONObject jsonObject = new JSONObject(JSON);\r\n        JSONObject getSth = jsonObject.getJSONObject(&quot;LanguageLevels&quot;);\r\n        Object level = getSth.get(&quot;2&quot;);\r\n\r\n        System.out.println(level);\r\n    }\r\n\r\nAnd as `JSON-Java` open-sourced, you can read the code and its document, they will guide you through.\r\n\r\nHope that it helps.","title":"Retrieving values from nested JSON Object","body":"<p>Maybe you're not using the latest version of a JSON for Java Library.</p>\n\n<p><code>json-simple</code> has not been updated for a long time, while <code>JSON-Java</code> was updated 2 month ago. </p>\n\n<p><code>JSON-Java</code> can be found on GitHub, here is the link to its repo: <a href=\"https://github.com/douglascrockford/JSON-java\" rel=\"noreferrer\">https://github.com/douglascrockford/JSON-java</a></p>\n\n<p>After switching the library, you can refer to my sample code down below:</p>\n\n<pre><code>public static void main(String[] args) {\n    String JSON = \"{\\\"LanguageLevels\\\":{\\\"1\\\":\\\"Pocz\\\\u0105tkuj\\\\u0105cy\\\",\\\"2\\\":\\\"\\\\u015arednioZaawansowany\\\",\\\"3\\\":\\\"Zaawansowany\\\",\\\"4\\\":\\\"Ekspert\\\"}}\\n\";\n\n    JSONObject jsonObject = new JSONObject(JSON);\n    JSONObject getSth = jsonObject.getJSONObject(\"LanguageLevels\");\n    Object level = getSth.get(\"2\");\n\n    System.out.println(level);\n}\n</code></pre>\n\n<p>And as <code>JSON-Java</code> open-sourced, you can read the code and its document, they will guide you through.</p>\n\n<p>Hope that it helps.</p>\n"},{"tags":[],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412101619,"creation_date":1412101619,"answer_id":26127623,"question_id":20899839,"body_markdown":"To see all keys of Jsonobject use this\r\n\r\n        String JSON = &quot;{\\&quot;LanguageLevels\\&quot;:{\\&quot;1\\&quot;:\\&quot;Pocz\\\\u0105tkuj\\\\u0105cy\\&quot;,\\&quot;2\\&quot;:\\&quot;\\\\u015arednioZaawansowany\\&quot;,\\&quot;3\\&quot;:\\&quot;Zaawansowany\\&quot;,\\&quot;4\\&quot;:\\&quot;Ekspert\\&quot;}}\\n&quot;;\r\n        JSONObject obj = new JSONObject(JSON);\r\n        Iterator iterator = obj.keys();\r\n        String key = null;\r\n        while (iterator.hasNext()) {\r\n            key = (String) iterator.next();\r\n            System.out.pritnln(key);\r\n        } \r\n","title":"Retrieving values from nested JSON Object","body":"<p>To see all keys of Jsonobject use this</p>\n\n<pre><code>    String JSON = \"{\\\"LanguageLevels\\\":{\\\"1\\\":\\\"Pocz\\\\u0105tkuj\\\\u0105cy\\\",\\\"2\\\":\\\"\\\\u015arednioZaawansowany\\\",\\\"3\\\":\\\"Zaawansowany\\\",\\\"4\\\":\\\"Ekspert\\\"}}\\n\";\n    JSONObject obj = new JSONObject(JSON);\n    Iterator iterator = obj.keys();\n    String key = null;\n    while (iterator.hasNext()) {\n        key = (String) iterator.next();\n        System.out.pritnln(key);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10711602,"reputation":149,"user_id":7883663,"display_name":"preetesh gurjar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1492514585,"creation_date":1492514585,"answer_id":43470811,"question_id":20899839,"body_markdown":"You will have to iterate step by step into nested JSON.\r\n\r\nfor e.g a JSON received from Google geocoding api\r\n\r\n    {\r\n       &quot;results&quot; : [\r\n          {\r\n             &quot;address_components&quot; : [\r\n                {\r\n                   &quot;long_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;short_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;types&quot; : [ &quot;locality&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;short_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;types&quot; : [ &quot;administrative_area_level_2&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;Madhya Pradesh&quot;,\r\n                   &quot;short_name&quot; : &quot;MP&quot;,\r\n                   &quot;types&quot; : [ &quot;administrative_area_level_1&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;India&quot;,\r\n                   &quot;short_name&quot; : &quot;IN&quot;,\r\n                   &quot;types&quot; : [ &quot;country&quot;, &quot;political&quot; ]\r\n                }\r\n             ],\r\n             &quot;formatted_address&quot; : &quot;Bhopal, Madhya Pradesh, India&quot;,\r\n             &quot;geometry&quot; : {\r\n                &quot;bounds&quot; : {\r\n                   &quot;northeast&quot; : {\r\n                      &quot;lat&quot; : 23.3326697,\r\n                      &quot;lng&quot; : 77.5748062\r\n                   },\r\n                   &quot;southwest&quot; : {\r\n                      &quot;lat&quot; : 23.0661497,\r\n                      &quot;lng&quot; : 77.2369767\r\n                   }\r\n                },\r\n                &quot;location&quot; : {\r\n                   &quot;lat&quot; : 23.2599333,\r\n                   &quot;lng&quot; : 77.412615\r\n                },\r\n                &quot;location_type&quot; : &quot;APPROXIMATE&quot;,\r\n                &quot;viewport&quot; : {\r\n                   &quot;northeast&quot; : {\r\n                      &quot;lat&quot; : 23.3326697,\r\n                      &quot;lng&quot; : 77.5748062\r\n                   },\r\n                   &quot;southwest&quot; : {\r\n                      &quot;lat&quot; : 23.0661497,\r\n                      &quot;lng&quot; : 77.2369767\r\n                   }\r\n                }\r\n             },\r\n             &quot;place_id&quot; : &quot;ChIJvY_Wj49CfDkR-NRy1RZXFQI&quot;,\r\n             &quot;types&quot; : [ &quot;locality&quot;, &quot;political&quot; ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\n**I shall iterate in below given fashion**\r\nto &quot;location&quot; : {\r\n                   &quot;lat&quot; : 23.2599333,\r\n                   &quot;lng&quot; : 77.412615\r\n\r\n  \r\n\r\n           \r\n\r\n //recieve JSON in json object \r\n\r\n            JSONObject json = new JSONObject(output.toString());\r\n\t\t\tJSONArray result = json.getJSONArray(&quot;results&quot;);\r\n\t\t\tJSONObject result1 = result.getJSONObject(0);\r\n\t\t\tJSONObject geometry = result1.getJSONObject(&quot;geometry&quot;);\r\n\t\t\tJSONObject locat = geometry.getJSONObject(&quot;location&quot;);\r\n\t\t\t\r\n\t\t\t//&quot;iterate onto level of location&quot;;\r\n\t\t\t\t\t\t\t\r\n\t\t\tdouble lat = locat.getDouble(&quot;lat&quot;);\r\n\t\t\tdouble lng = locat.getDouble(&quot;lng&quot;);","title":"Retrieving values from nested JSON Object","body":"<p>You will have to iterate step by step into nested JSON.</p>\n\n<p>for e.g a JSON received from Google geocoding api</p>\n\n<pre><code>{\n   \"results\" : [\n      {\n         \"address_components\" : [\n            {\n               \"long_name\" : \"Bhopal\",\n               \"short_name\" : \"Bhopal\",\n               \"types\" : [ \"locality\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"Bhopal\",\n               \"short_name\" : \"Bhopal\",\n               \"types\" : [ \"administrative_area_level_2\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"Madhya Pradesh\",\n               \"short_name\" : \"MP\",\n               \"types\" : [ \"administrative_area_level_1\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"India\",\n               \"short_name\" : \"IN\",\n               \"types\" : [ \"country\", \"political\" ]\n            }\n         ],\n         \"formatted_address\" : \"Bhopal, Madhya Pradesh, India\",\n         \"geometry\" : {\n            \"bounds\" : {\n               \"northeast\" : {\n                  \"lat\" : 23.3326697,\n                  \"lng\" : 77.5748062\n               },\n               \"southwest\" : {\n                  \"lat\" : 23.0661497,\n                  \"lng\" : 77.2369767\n               }\n            },\n            \"location\" : {\n               \"lat\" : 23.2599333,\n               \"lng\" : 77.412615\n            },\n            \"location_type\" : \"APPROXIMATE\",\n            \"viewport\" : {\n               \"northeast\" : {\n                  \"lat\" : 23.3326697,\n                  \"lng\" : 77.5748062\n               },\n               \"southwest\" : {\n                  \"lat\" : 23.0661497,\n                  \"lng\" : 77.2369767\n               }\n            }\n         },\n         \"place_id\" : \"ChIJvY_Wj49CfDkR-NRy1RZXFQI\",\n         \"types\" : [ \"locality\", \"political\" ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n</code></pre>\n\n<p><strong>I shall iterate in below given fashion</strong>\nto \"location\" : {\n                   \"lat\" : 23.2599333,\n                   \"lng\" : 77.412615</p>\n\n<p>//recieve JSON in json object </p>\n\n<pre><code>        JSONObject json = new JSONObject(output.toString());\n        JSONArray result = json.getJSONArray(\"results\");\n        JSONObject result1 = result.getJSONObject(0);\n        JSONObject geometry = result1.getJSONObject(\"geometry\");\n        JSONObject locat = geometry.getJSONObject(\"location\");\n\n        //\"iterate onto level of location\";\n\n        double lat = locat.getDouble(\"lat\");\n        double lng = locat.getDouble(\"lng\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526288,"reputation":41,"user_id":9758022,"display_name":"Braj Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594481235,"creation_date":1594481235,"answer_id":62851081,"question_id":20899839,"body_markdown":"Try this, you can parse nested JSON\r\n   \r\n \r\n\r\n    public static String getJsonValue(String jsonReq, String key) {\r\n            JSONObject json = new JSONObject(jsonReq);\r\n            boolean exists = json.has(key);\r\n            Iterator&lt;?&gt; keys;\r\n            String nextKeys;\r\n            String val = &quot;&quot;;\r\n            if (!exists) {\r\n                keys = json.keys();\r\n                while (keys.hasNext()) {\r\n                    nextKeys = (String) keys.next();\r\n                    try {\r\n                        if (json.get(nextKeys) instanceof JSONObject) {\r\n                            return getJsonValue(json.getJSONObject(nextKeys).toString(), key);\r\n                        } else if (json.get(nextKeys) instanceof JSONArray) {\r\n                            JSONArray jsonArray = json.getJSONArray(nextKeys);\r\n                            int i = 0;\r\n                            if (i &lt; jsonArray.length()) do {\r\n                                String jsonArrayString = jsonArray.get(i).toString();\r\n                                JSONObject innerJson = new JSONObject(jsonArrayString);\r\n                                return getJsonValue(innerJson.toString(),key);\r\n                            } while (i &lt; jsonArray.length());\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            } else {\r\n                val = json.get(key).toString();\r\n            }\r\n            return val;\r\n        }","title":"Retrieving values from nested JSON Object","body":"<p>Try this, you can parse nested JSON</p>\n<pre><code>public static String getJsonValue(String jsonReq, String key) {\n        JSONObject json = new JSONObject(jsonReq);\n        boolean exists = json.has(key);\n        Iterator&lt;?&gt; keys;\n        String nextKeys;\n        String val = &quot;&quot;;\n        if (!exists) {\n            keys = json.keys();\n            while (keys.hasNext()) {\n                nextKeys = (String) keys.next();\n                try {\n                    if (json.get(nextKeys) instanceof JSONObject) {\n                        return getJsonValue(json.getJSONObject(nextKeys).toString(), key);\n                    } else if (json.get(nextKeys) instanceof JSONArray) {\n                        JSONArray jsonArray = json.getJSONArray(nextKeys);\n                        int i = 0;\n                        if (i &lt; jsonArray.length()) do {\n                            String jsonArrayString = jsonArray.get(i).toString();\n                            JSONObject innerJson = new JSONObject(jsonArrayString);\n                            return getJsonValue(innerJson.toString(),key);\n                        } while (i &lt; jsonArray.length());\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        } else {\n            val = json.get(key).toString();\n        }\n        return val;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10002862,"reputation":1222,"user_id":7398244,"display_name":"Soropromo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611989,"creation_date":1666611989,"answer_id":74180643,"question_id":20899839,"body_markdown":"Here is an example of retrieving nested JSON object.\r\nDepartment and Product are model classes. \r\nDepartment class holds `department` as a String and `products` as ArrayList of `Product`\r\nProduct class holds `name` as a String\r\n\r\n`depts` and `products` are ArrayList of corresponding model classes\r\n\r\n            String jsonDataString = readJSONDataFromFile();\r\n            JSONArray jsonArray = new JSONArray(jsonDataString);\r\n\r\n            for (int i=0; i&lt;jsonArray.length(); ++i) {\r\n\r\n                JSONObject departmentJSONObject = jsonArray.getJSONObject(i);\r\n\r\n                String deptName = departmentJSONObject.getString(&quot;department&quot;);\r\n                JSONArray productsJSONArray =  departmentJSONObject.getJSONArray(&quot;products&quot;);\r\n\r\n                for (int j =0; j &lt;productsJSONArray.length();j++){\r\n                    JSONObject productJSONObject = productsJSONArray.getJSONObject(j);\r\n                   String prodName = productJSONObject.getString(&quot;name&quot;);\r\n\r\n                    Product product = new Product(prodName);\r\n                    products.add(product);\r\n                }\r\n                Department department = new Department(deptName, products);\r\n                depts.add(department);\r\n    \r\nHere is my raw json file\r\n\r\n     [\r\n      {\r\n        &quot;department&quot;: &quot;Cold Drink&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade&quot;,\r\n            &quot;img&quot;: &quot;some_url&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Oj&quot;,\r\n            &quot;img&quot;: &quot;some_url&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;department&quot;: &quot;CD2&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade2&quot;,\r\n            &quot;img&quot;: &quot;some_url2&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;oj2&quot;,\r\n            &quot;img&quot;: &quot;some_url2&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;department&quot;: &quot;CD3&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade3&quot;,\r\n            &quot;img&quot;: &quot;some_url3&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;oj3&quot;,\r\n            &quot;img&quot;: &quot;some_url3&quot;\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n","title":"Retrieving values from nested JSON Object","body":"<p>Here is an example of retrieving nested JSON object.\nDepartment and Product are model classes.\nDepartment class holds <code>department</code> as a String and <code>products</code> as ArrayList of <code>Product</code>\nProduct class holds <code>name</code> as a String</p>\n<p><code>depts</code> and <code>products</code> are ArrayList of corresponding model classes</p>\n<pre><code>        String jsonDataString = readJSONDataFromFile();\n        JSONArray jsonArray = new JSONArray(jsonDataString);\n\n        for (int i=0; i&lt;jsonArray.length(); ++i) {\n\n            JSONObject departmentJSONObject = jsonArray.getJSONObject(i);\n\n            String deptName = departmentJSONObject.getString(&quot;department&quot;);\n            JSONArray productsJSONArray =  departmentJSONObject.getJSONArray(&quot;products&quot;);\n\n            for (int j =0; j &lt;productsJSONArray.length();j++){\n                JSONObject productJSONObject = productsJSONArray.getJSONObject(j);\n               String prodName = productJSONObject.getString(&quot;name&quot;);\n\n                Product product = new Product(prodName);\n                products.add(product);\n            }\n            Department department = new Department(deptName, products);\n            depts.add(department);\n</code></pre>\n<p>Here is my raw json file</p>\n<pre><code> [\n  {\n    &quot;department&quot;: &quot;Cold Drink&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade&quot;,\n        &quot;img&quot;: &quot;some_url&quot;\n      },\n      {\n        &quot;name&quot;: &quot;Oj&quot;,\n        &quot;img&quot;: &quot;some_url&quot;\n      }\n    ]\n  },\n  {\n    &quot;department&quot;: &quot;CD2&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade2&quot;,\n        &quot;img&quot;: &quot;some_url2&quot;\n      },\n      {\n        &quot;name&quot;: &quot;oj2&quot;,\n        &quot;img&quot;: &quot;some_url2&quot;\n      }\n    ]\n  },\n  {\n    &quot;department&quot;: &quot;CD3&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade3&quot;,\n        &quot;img&quot;: &quot;some_url3&quot;\n      },\n      {\n        &quot;name&quot;: &quot;oj3&quot;,\n        &quot;img&quot;: &quot;some_url3&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168110,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":20900063,"answer_count":7,"score":19,"last_activity_date":1666611989,"creation_date":1388739212,"question_id":20899839,"body_markdown":"I&#39;ve got JSON file, which I want to parse.\r\nThe JSON file (&quot;myfile&quot;) has format as follows:\r\n\r\n    {\r\n        &quot;LanguageLevels&quot;: {\r\n            &quot;1&quot;: &quot;Początkujący&quot;,\r\n            &quot;2&quot;: &quot;ŚrednioZaawansowany&quot;,\r\n            &quot;3&quot;: &quot;Zaawansowany&quot;,\r\n            &quot;4&quot;: &quot;Ekspert&quot;\r\n        }\r\n    }\r\n\r\nI want to retrieve value (ŚrednioZaawansowany) of Key 2 from Language Levels.\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n \r\n    public class JsonSimpleExample {\r\n    public static void main(String[] args) {\r\n \r\n\tJSONParser parser = new JSONParser();\r\n \r\n\ttry {\r\n \r\n        Object obj = parser.parse(new FileReader(&quot;myfile&quot;); \r\n        JSONObject jsonObject = (JSONObject) obj;\r\n        JSONObject jsonChildObject = (JSONObject)jsonObject.get(&quot;LanguageLevels&quot;);\r\n\r\n\r\nWhat to do next? How I can iterate over it?\r\n","title":"Retrieving values from nested JSON Object","body":"<p>I've got JSON file, which I want to parse.\nThe JSON file (\"myfile\") has format as follows:</p>\n\n<pre><code>{\n    \"LanguageLevels\": {\n        \"1\": \"Początkujący\",\n        \"2\": \"ŚrednioZaawansowany\",\n        \"3\": \"Zaawansowany\",\n        \"4\": \"Ekspert\"\n    }\n}\n</code></pre>\n\n<p>I want to retrieve value (ŚrednioZaawansowany) of Key 2 from Language Levels.</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JsonSimpleExample {\npublic static void main(String[] args) {\n\nJSONParser parser = new JSONParser();\n\ntry {\n\n    Object obj = parser.parse(new FileReader(\"myfile\"); \n    JSONObject jsonObject = (JSONObject) obj;\n    JSONObject jsonChildObject = (JSONObject)jsonObject.get(\"LanguageLevels\");\n</code></pre>\n\n<p>What to do next? How I can iterate over it?</p>\n"},{"tags":["java","spring-boot","rest","multipartform-data","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":19272676,"reputation":1,"user_id":14086312,"display_name":"SoSayethSimon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611673,"creation_date":1666611673,"answer_id":74180587,"question_id":71901723,"body_markdown":"The cleanest way to achieve both of your goals would be to provide custom mustache templates in your project. You can find them in the [Swagger Codegen Generators Repository][1] -&gt; or more precisely, you can find the Spring Templates in this [folder for Version 3.0.33][2] of the generator.\r\n\r\nFor your case, the corresponding template would be [formParams.mustache][3], where i would suggest to alter the line from:\r\n\r\n    [...] defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}} @RequestParam(value=&quot;{{baseName}}&quot;{{#required}}, required=true [...]\r\n\r\nTo:\r\n\r\n    defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}}{{#useBeanValidation}} @Valid{{/useBeanValidation}} @RequestPart(value=&quot;{{baseName}}&quot;{{#required}}, required=true{{/required}}[...]\r\n\r\nTo use those custom templates just add the template directory to your plugin configuration:\r\n\r\n    &lt;configuration&gt;\r\n         [...]\r\n         &lt;templateDirectory&gt;src/main/resources/mustache/handlebars/JavaSpring&lt;/templateDirectory&gt;\r\n         [...]\r\n    &lt;/configuration&gt;\r\n\r\nFor a more extensive Guide on using mustache templates i can recommend the guide from the [openapi-generator on this topic][4].\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen-generators\r\n  [2]: https://github.com/swagger-api/swagger-codegen-generators/tree/v1.0.32/src/main/resources/handlebars/JavaSpring\r\n  [3]: https://github.com/swagger-api/swagger-codegen-generators/blob/v1.0.32/src/main/resources/handlebars/JavaSpring/formParams.mustache\r\n  [4]: https://openapi-generator.tech/docs/templating/","title":"swagger-codegen-maven-plugin generates multipart form-data request api with @RequestParam instead of @RequestPart","body":"<p>The cleanest way to achieve both of your goals would be to provide custom mustache templates in your project. You can find them in the <a href=\"https://github.com/swagger-api/swagger-codegen-generators\" rel=\"nofollow noreferrer\">Swagger Codegen Generators Repository</a> -&gt; or more precisely, you can find the Spring Templates in this <a href=\"https://github.com/swagger-api/swagger-codegen-generators/tree/v1.0.32/src/main/resources/handlebars/JavaSpring\" rel=\"nofollow noreferrer\">folder for Version 3.0.33</a> of the generator.</p>\n<p>For your case, the corresponding template would be <a href=\"https://github.com/swagger-api/swagger-codegen-generators/blob/v1.0.32/src/main/resources/handlebars/JavaSpring/formParams.mustache\" rel=\"nofollow noreferrer\">formParams.mustache</a>, where i would suggest to alter the line from:</p>\n<pre><code>[...] defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}} @RequestParam(value=&quot;{{baseName}}&quot;{{#required}}, required=true [...]\n</code></pre>\n<p>To:</p>\n<pre><code>defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}}{{#useBeanValidation}} @Valid{{/useBeanValidation}} @RequestPart(value=&quot;{{baseName}}&quot;{{#required}}, required=true{{/required}}[...]\n</code></pre>\n<p>To use those custom templates just add the template directory to your plugin configuration:</p>\n<pre><code>&lt;configuration&gt;\n     [...]\n     &lt;templateDirectory&gt;src/main/resources/mustache/handlebars/JavaSpring&lt;/templateDirectory&gt;\n     [...]\n&lt;/configuration&gt;\n</code></pre>\n<p>For a more extensive Guide on using mustache templates i can recommend the guide from the <a href=\"https://openapi-generator.tech/docs/templating/\" rel=\"nofollow noreferrer\">openapi-generator on this topic</a>.</p>\n"}],"owner":{"account_id":1184419,"reputation":497,"user_id":1158695,"accept_rate":12,"display_name":"Nandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666611673,"creation_date":1650197107,"question_id":71901723,"body_markdown":"I am using a request object [FileMetadata] for uploading files metadata information and send it as a part of the file upload multipart form-data request. But the swagger-codegen-maven-plugin generates the code with @RequestParam as the first part of the form-data request. Due to this I have to register a &#39;JSON to object&#39; converter in the WebMvcConfigurer to convert the request part to FileMetadata, Otherwise it will through the following error:\r\n\r\n    o.s.w.s.m.s.DefaultHandlerExceptionResolver:208 - Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.upload.file.generated.model.FileMetadata&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.upload.file.generated.model.FileMetadata&#39;: no matching editors or conversion strategy found]\r\n\r\nI have the following questions:\r\n\r\n1. Is there any option to generate both request parameters annotated with @RequestPart?\r\n2. How to generate @Valid annotation for FileMetadata request param ?\r\n\r\n\r\nConfiguration details below:\r\n\r\nOpen API spec:\r\n```\r\nopenapi: 3.0.3\r\n...\r\n...\r\npaths:\r\n  /api/v1/upload:\r\n    post:\r\n      tags:\r\n      - File upload\r\n      summary: Upload a file\r\n      operationId: uploadFile\r\n      requestBody:\r\n        description: File that needs to be uploaded\r\n        required: true\r\n        content:\r\n          multipart/form-data: # Media type \r\n            schema:\r\n              required:\r\n              - metadata\r\n              - file\r\n              type: object\r\n              properties:\r\n                metadata:\r\n                  $ref: &#39;#/components/schemas/FileMetadata&#39;\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n            encoding:\r\n              metadata: \r\n                contentType: application/json\r\n              file: \r\n                contentType: application/octet-stream\r\n      responses:\r\n        201:\r\n          description: OK\r\n        400:\r\n          description: Invalid input\r\n        401:\r\n          description: Unauthorized\r\n        403:\r\n          description: Forbidden       \r\n        404:\r\n          description: Not Found\r\n```\r\nGenerated API code:\r\n\r\n```\r\n\t    @Operation(summary = &quot;Upload a file&quot;, description = &quot;&quot;, tags={ &quot;File upload&quot; })\r\n    @ApiResponses(value = {... })\r\n    @RequestMapping(value = &quot;/api/v1/upload&quot;,\r\n        produces = { &quot;application/json&quot; }, \r\n        consumes = { &quot;multipart/form-data&quot; }, \r\n        method = RequestMethod.POST)\r\n    ResponseEntity&lt;Void&gt; uploadFile(@Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required=true,schema=@Schema()) @RequestParam(value=&quot;metadata&quot;, required=true)  FileMetadata metadata, @Parameter(description = &quot;file detail&quot;) @Valid @RequestPart(&quot;file&quot;) MultipartFile file);\r\n```\r\nPom.xml:\r\n\r\n```\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.33&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/openapi.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;language&gt;spring&lt;/language&gt;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;output&gt;${project.basedir}&lt;/output&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;com.file.upload.generated.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;com.file.upload.generated.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\t\t\t\t\t\t\t&lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n                            \t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n\t\t\t\t\t\t\t\t&lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n\t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t\t&lt;importMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/importMappings&gt;\r\n\t\t\t\t\t\t\t&lt;typeMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\r\n\t\t\t\t\t\t\t&lt;/typeMappings&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"swagger-codegen-maven-plugin generates multipart form-data request api with @RequestParam instead of @RequestPart","body":"<p>I am using a request object [FileMetadata] for uploading files metadata information and send it as a part of the file upload multipart form-data request. But the swagger-codegen-maven-plugin generates the code with @RequestParam as the first part of the form-data request. Due to this I have to register a 'JSON to object' converter in the WebMvcConfigurer to convert the request part to FileMetadata, Otherwise it will through the following error:</p>\n<pre><code>o.s.w.s.m.s.DefaultHandlerExceptionResolver:208 - Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'com.upload.file.generated.model.FileMetadata'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'com.upload.file.generated.model.FileMetadata': no matching editors or conversion strategy found]\n</code></pre>\n<p>I have the following questions:</p>\n<ol>\n<li>Is there any option to generate both request parameters annotated with @RequestPart?</li>\n<li>How to generate @Valid annotation for FileMetadata request param ?</li>\n</ol>\n<p>Configuration details below:</p>\n<p>Open API spec:</p>\n<pre><code>openapi: 3.0.3\n...\n...\npaths:\n  /api/v1/upload:\n    post:\n      tags:\n      - File upload\n      summary: Upload a file\n      operationId: uploadFile\n      requestBody:\n        description: File that needs to be uploaded\n        required: true\n        content:\n          multipart/form-data: # Media type \n            schema:\n              required:\n              - metadata\n              - file\n              type: object\n              properties:\n                metadata:\n                  $ref: '#/components/schemas/FileMetadata'\n                file:\n                  type: string\n                  format: binary\n            encoding:\n              metadata: \n                contentType: application/json\n              file: \n                contentType: application/octet-stream\n      responses:\n        201:\n          description: OK\n        400:\n          description: Invalid input\n        401:\n          description: Unauthorized\n        403:\n          description: Forbidden       \n        404:\n          description: Not Found\n</code></pre>\n<p>Generated API code:</p>\n<pre><code>        @Operation(summary = &quot;Upload a file&quot;, description = &quot;&quot;, tags={ &quot;File upload&quot; })\n    @ApiResponses(value = {... })\n    @RequestMapping(value = &quot;/api/v1/upload&quot;,\n        produces = { &quot;application/json&quot; }, \n        consumes = { &quot;multipart/form-data&quot; }, \n        method = RequestMethod.POST)\n    ResponseEntity&lt;Void&gt; uploadFile(@Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required=true,schema=@Schema()) @RequestParam(value=&quot;metadata&quot;, required=true)  FileMetadata metadata, @Parameter(description = &quot;file detail&quot;) @Valid @RequestPart(&quot;file&quot;) MultipartFile file);\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>                &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.33&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;language&gt;spring&lt;/language&gt;                         \n                            &lt;output&gt;${project.basedir}&lt;/output&gt;\n                            &lt;modelPackage&gt;com.file.upload.generated.model&lt;/modelPackage&gt;\n                            &lt;apiPackage&gt;com.file.upload.generated.api&lt;/apiPackage&gt;\n                            &lt;generateModels&gt;true&lt;/generateModels&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateApis&gt;true&lt;/generateApis&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                            &lt;configOptions&gt;\n                                &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\n                            &lt;/configOptions&gt;\n                            &lt;importMappings&gt;\n                                &lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;                             \n                            &lt;/importMappings&gt;\n                            &lt;typeMappings&gt;\n                                &lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\n                            &lt;/typeMappings&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","database","swing","networking","lan"],"comments":[{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":2,"creation_date":1442416883,"post_id":32612372,"comment_id":53076012,"body_markdown":"Welcome on SO. Please, try something and come back when you encounter programming problem. Sharing a database may not be so hard as it is accessed via an URL. Just provide a common URL","body":"Welcome on SO. Please, try something and come back when you encounter programming problem. Sharing a database may not be so hard as it is accessed via an URL. Just provide a common URL"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442417206,"creation_date":1442416155,"answer_id":32612442,"question_id":32612372,"body_markdown":"It works exactly as if the database is local.\r\n\r\nTHe only main difference is that the url to the database is not in the form 127.0.0.1 (or localhost) but has the ip of the machine where the database is present.\r\n\r\nIf changing that you have connection problems probably a firewall is blocking your requests. Check if a firewall exists and open the port of the database.\r\n\r\nIf more applications try to access to data at the same time you need to put autocommit to false and manually commit the data only when the update is finished. Other threads reading or trying to update the same data will wait until the first thread has committed (or rollbacked) the transaction.","title":"java desktop application - sharing one database host on local server","body":"<p>It works exactly as if the database is local.</p>\n\n<p>THe only main difference is that the url to the database is not in the form 127.0.0.1 (or localhost) but has the ip of the machine where the database is present.</p>\n\n<p>If changing that you have connection problems probably a firewall is blocking your requests. Check if a firewall exists and open the port of the database.</p>\n\n<p>If more applications try to access to data at the same time you need to put autocommit to false and manually commit the data only when the update is finished. Other threads reading or trying to update the same data will wait until the first thread has committed (or rollbacked) the transaction.</p>\n"},{"tags":[],"owner":{"display_name":"user4211162"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442416927,"creation_date":1442416927,"answer_id":32612722,"question_id":32612372,"body_markdown":"This is a basic approach to this problem:\r\n\r\n-Have a client side application and server side\r\n\r\n1. Request access to the database, have the server side application either accept or reject the request.\r\n\r\n2. Once authenticated to the database, have the server side application send the information over to the client application containing the database info\r\n\r\n3. When the client application wants to perform one of the actions you described : update,delete,etc...have it send requests to the server application to complete these.","title":"java desktop application - sharing one database host on local server","body":"<p>This is a basic approach to this problem:</p>\n\n<p>-Have a client side application and server side</p>\n\n<ol>\n<li><p>Request access to the database, have the server side application either accept or reject the request.</p></li>\n<li><p>Once authenticated to the database, have the server side application send the information over to the client application containing the database info</p></li>\n<li><p>When the client application wants to perform one of the actions you described : update,delete,etc...have it send requests to the server application to complete these.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506330213,"creation_date":1506330213,"answer_id":46401369,"question_id":32612372,"body_markdown":"I came across this while reading some questions. I also created a desktop application which is being accessed by other computers on the same network which includes laptops and desktop PCs in the past. \r\n\r\n**Step 1:** \r\nChoose which of the PCs will be the server. In other words, which among the PCs will be your server. Your chosen PC-server will have a server application(e.g. XAMPP) installed. This PC is where you will import your existing database (.sql file). Other PCs don&#39;t have to have XAMPP(or other server applications) installed on them. Other PCs only need to have a copy of the desktop application that you created. No need to set other PCs with server application and sql.\r\n\r\nThis PC-server that you have chosen will have a connection string with `localhost` since I assume that all of them are not accessing the internet to use the database. \r\n\r\nExample: `jdbc:mysql://localhost:3306/yourdatabasename`\r\n\r\n**Step 2:**\r\nGrant privileges to the database that was setup on your chosen PC-server\r\nThe simplest example is the one below.\r\n\r\n    grant all privileges on db_name.* to &#39;username&#39;@&#39;localhost&#39; identified by &#39;password&#39;;\r\n\r\nDon&#39;t forget to replace with your connections&#39; `username` and `password`\r\n\r\nBut you may also select certain privileges based on your preference.\r\n\r\n**Step 3:**\r\n\r\nSet other PCs&#39; **connection string** that has copy of the desktop application you created.\r\n\r\nIf PC-server has an IP Address of let&#39;s say `192.168.2.3` then, the connection string of other PCs will be\r\n\r\n`jdbc:mysql://192.168.2.3:3306/yourdatabasename`\r\n \r\nOther PCs will connect using the PC-Server&#39;s IP address since our database and server application was setup on PC-Server. \r\n\r\nI hope this helps and others who might see this question.\r\n\r\nPeace.","title":"java desktop application - sharing one database host on local server","body":"<p>I came across this while reading some questions. I also created a desktop application which is being accessed by other computers on the same network which includes laptops and desktop PCs in the past. </p>\n\n<p><strong>Step 1:</strong> \nChoose which of the PCs will be the server. In other words, which among the PCs will be your server. Your chosen PC-server will have a server application(e.g. XAMPP) installed. This PC is where you will import your existing database (.sql file). Other PCs don't have to have XAMPP(or other server applications) installed on them. Other PCs only need to have a copy of the desktop application that you created. No need to set other PCs with server application and sql.</p>\n\n<p>This PC-server that you have chosen will have a connection string with <code>localhost</code> since I assume that all of them are not accessing the internet to use the database. </p>\n\n<p>Example: <code>jdbc:mysql://localhost:3306/yourdatabasename</code></p>\n\n<p><strong>Step 2:</strong>\nGrant privileges to the database that was setup on your chosen PC-server\nThe simplest example is the one below.</p>\n\n<pre><code>grant all privileges on db_name.* to 'username'@'localhost' identified by 'password';\n</code></pre>\n\n<p>Don't forget to replace with your connections' <code>username</code> and <code>password</code></p>\n\n<p>But you may also select certain privileges based on your preference.</p>\n\n<p><strong>Step 3:</strong></p>\n\n<p>Set other PCs' <strong>connection string</strong> that has copy of the desktop application you created.</p>\n\n<p>If PC-server has an IP Address of let's say <code>192.168.2.3</code> then, the connection string of other PCs will be</p>\n\n<p><code>jdbc:mysql://192.168.2.3:3306/yourdatabasename</code></p>\n\n<p>Other PCs will connect using the PC-Server's IP address since our database and server application was setup on PC-Server. </p>\n\n<p>I hope this helps and others who might see this question.</p>\n\n<p>Peace.</p>\n"}],"owner":{"account_id":5346297,"reputation":3,"user_id":4261760,"display_name":"khiangte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46401369,"answer_count":3,"score":0,"last_activity_date":1666611367,"creation_date":1442415999,"question_id":32612372,"body_markdown":"\r\nI am working on java desktop application (swing) which needs to be install/run in three different computers on same Local Network ( LAN ). But this application need to share one database and each application should be able to insert, update, delete records in the same database.\r\n\r\nHow do i achieved that in java, any suggestion/help would be appreciated ?\r\n\r\nThanks in advance ","title":"java desktop application - sharing one database host on local server","body":"<p>I am working on java desktop application (swing) which needs to be install/run in three different computers on same Local Network ( LAN ). But this application need to share one database and each application should be able to insert, update, delete records in the same database.</p>\n\n<p>How do i achieved that in java, any suggestion/help would be appreciated ?</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["java","cassandra","versioning","cassandra-3.0"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611012,"creation_date":1666611012,"answer_id":74180462,"question_id":74099575,"body_markdown":"The CQL grammar mostly supports the equality operator, with very limited support for range queries for certain data types.\r\n\r\nIt might be possible to model your data to support your queries. For example, break up `min_version` into 3 columns:\r\n\r\n - `major_version`\r\n - `minor_version`\r\n - `patch_version`\r\n\r\nso you can perform range queries with a predicate like:\r\n\r\n```\r\n... WHERE major_version = ? AND minor_version &lt; ?\r\n```\r\n\r\nHowever, complex queries like your use case would be better served by indexing your data with software like Elasticsearch or Apache Lucene/Solr so you can perform complex searches against the data in Cassandra. Cheers!","title":"Comparing version numbers in cassandra","body":"<p>The CQL grammar mostly supports the equality operator, with very limited support for range queries for certain data types.</p>\n<p>It might be possible to model your data to support your queries. For example, break up <code>min_version</code> into 3 columns:</p>\n<ul>\n<li><code>major_version</code></li>\n<li><code>minor_version</code></li>\n<li><code>patch_version</code></li>\n</ul>\n<p>so you can perform range queries with a predicate like:</p>\n<pre><code>... WHERE major_version = ? AND minor_version &lt; ?\n</code></pre>\n<p>However, complex queries like your use case would be better served by indexing your data with software like Elasticsearch or Apache Lucene/Solr so you can perform complex searches against the data in Cassandra. Cheers!</p>\n"}],"owner":{"account_id":25109106,"reputation":11,"user_id":18958971,"display_name":"Dodel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666611012,"creation_date":1666020271,"question_id":74099575,"body_markdown":"I have a C* table with different config values that are relevant only for certain versions of the application - versions between [min_version, max_version). \r\n\r\n```\r\nconfig_name     | min_version | max_version \r\ndefaultConfig1  | 1.0.0       | 1.2.3 \r\ndefaultConfig2  | 10.0.1      | 11.1.2 \r\ndefaultConfig3  | 4.1.2       | 5.0.0\r\ndefaultConfig4  | 5.3.4       | 6.1.2\r\n```\r\n\r\nVersion 1.1.1 would fall into the [1.0.0, 1.2.3) interval, therefore we should return defaultConfig1. \r\n\r\nDoes Cassandra support writing a query that picks an entry from a table that has a version parameter in a certain interval [min_version, max_version)? (we should compare version numbers, not strings)\r\n\r\nI know this can be achieved in Java by converting version numbers to version objects and comparing the version objects. I&#39;m wondering if the same thing can be directly achieved in Cassandra?  ","title":"Comparing version numbers in cassandra","body":"<p>I have a C* table with different config values that are relevant only for certain versions of the application - versions between [min_version, max_version).</p>\n<pre><code>config_name     | min_version | max_version \ndefaultConfig1  | 1.0.0       | 1.2.3 \ndefaultConfig2  | 10.0.1      | 11.1.2 \ndefaultConfig3  | 4.1.2       | 5.0.0\ndefaultConfig4  | 5.3.4       | 6.1.2\n</code></pre>\n<p>Version 1.1.1 would fall into the [1.0.0, 1.2.3) interval, therefore we should return defaultConfig1.</p>\n<p>Does Cassandra support writing a query that picks an entry from a table that has a version parameter in a certain interval [min_version, max_version)? (we should compare version numbers, not strings)</p>\n<p>I know this can be achieved in Java by converting version numbers to version objects and comparing the version objects. I'm wondering if the same thing can be directly achieved in Cassandra?</p>\n"},{"tags":["java","spring-boot","azure","pdf"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666277791,"post_id":74141990,"comment_id":130903294,"body_markdown":"Why not change the content type property of the blob itself to actual content type?","body":"Why not change the content type property of the blob itself to actual content type?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666347027,"post_id":74141990,"comment_id":130920670,"body_markdown":"@GauravMantri do you know if there is a possibility to change the content-type of the files on the Azure platform for a whole container? i got over 4000 pdfs, i cant update them one by one.","body":"@GauravMantri do you know if there is a possibility to change the content-type of the files on the Azure platform for a whole container? i got over 4000 pdfs, i cant update them one by one."},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666349873,"post_id":74141990,"comment_id":130921585,"body_markdown":"It should be possible via Azure PowerShell Cmdlets (you may have to write some extra code for that) or you can use SDK to do it yourself. The idea is to list the blobs and then set properties of each blob appropriately.","body":"It should be possible via Azure PowerShell Cmdlets (you may have to write some extra code for that) or you can use SDK to do it yourself. The idea is to list the blobs and then set properties of each blob appropriately."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666353825,"post_id":74141990,"comment_id":130922851,"body_markdown":"thanks for your answer, i will do it using the Java SDK, i already listed all blobs, and also set the properties, but after that i do have to upload the file again right? If yes, how would i create an InputStream from a blobItem ?","body":"thanks for your answer, i will do it using the Java SDK, i already listed all blobs, and also set the properties, but after that i do have to upload the file again right? If yes, how would i create an InputStream from a blobItem ?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666518875,"post_id":74141990,"comment_id":130952085,"body_markdown":"@GauravMantri any chance that you could help me with that problem? Can i set the content-type of the BlobItems without downloading/uploading all the files? I tried to just set the Properties with `setProperties()` but that didnt seem to update the file on Azure.","body":"@GauravMantri any chance that you could help me with that problem? Can i set the content-type of the BlobItems without downloading/uploading all the files? I tried to just set the Properties with <code>setProperties()</code> but that didnt seem to update the file on Azure."},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666519807,"post_id":74141990,"comment_id":130952263,"body_markdown":"Please edit your question and include the code you’ve written. To set the properties, you don’t need to download and upload the blob.","body":"Please edit your question and include the code you’ve written. To set the properties, you don’t need to download and upload the blob."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666595007,"post_id":74141990,"comment_id":130965458,"body_markdown":"@GauravMantri i edited the question with more infos.","body":"@GauravMantri i edited the question with more infos."},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666596781,"post_id":74141990,"comment_id":130965901,"body_markdown":"Your code looks good to me. I’m wondering if your code is even going in the if block. Can you please check that?","body":"Your code looks good to me. I’m wondering if your code is even going in the if block. Can you please check that?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666602473,"post_id":74141990,"comment_id":130967754,"body_markdown":"yes it is going in the if block and even sets the content-type correctly, it just seems not to update in the azure container itself.","body":"yes it is going in the if block and even sets the content-type correctly, it just seems not to update in the azure container itself."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666608238,"post_id":74141990,"comment_id":130969549,"body_markdown":"@GauravMantri my guess is, that i only change the properties on the local object, but the information does not get passed back to the azure container?","body":"@GauravMantri my guess is, that i only change the properties on the local object, but the information does not get passed back to the azure container?"}],"answers":[{"tags":[],"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666610817,"creation_date":1666610817,"answer_id":74180417,"question_id":74141990,"body_markdown":"The best answer to that problem is to just update the files inside the Azure Container to have a content-type of `application/pdf`. \r\n\r\nIn Java i managed to do this like this:\r\n\r\n    for (BlobItem blobItem : container.listBlobs()) {\r\n            if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\r\n                BlobClient blobClient = container.getBlobClient(blobItem.getName());\r\n                BlobHttpHeaders headers = new BlobHttpHeaders();\r\n                headers.setContentType(&quot;application/pdf&quot;);\r\n                blobClient.setHttpHeaders(headers);\r\n                LOGGER.info(&quot;Updated content-type to application pdf for logo: {}&quot;, blobItem.getName());\r\n            }\r\n        }","title":"display file from url with content type octet-stream inside of a html page","body":"<p>The best answer to that problem is to just update the files inside the Azure Container to have a content-type of <code>application/pdf</code>.</p>\n<p>In Java i managed to do this like this:</p>\n<pre><code>for (BlobItem blobItem : container.listBlobs()) {\n        if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\n            BlobClient blobClient = container.getBlobClient(blobItem.getName());\n            BlobHttpHeaders headers = new BlobHttpHeaders();\n            headers.setContentType(&quot;application/pdf&quot;);\n            blobClient.setHttpHeaders(headers);\n            LOGGER.info(&quot;Updated content-type to application pdf for logo: {}&quot;, blobItem.getName());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74180417,"answer_count":1,"score":1,"last_activity_date":1666610817,"creation_date":1666277675,"question_id":74141990,"body_markdown":"we get PDFs from Azure which have a Content-Type of `application/octet-stream`. I want to embed this PDF inside of a `&lt;iframe&gt;` or `&lt;object&gt;` (or anything else thats capable of doing it) HTML page. \r\n\r\nI tried to convert the PDF to a Base64 String, but has too bad performance, because it could be that we got 50+ PDFs on the same page. The PDFs itself are logos, don&#39;t ask me why they are PDFs. \r\n\r\nIs there any other way i can try? Is it in any way possible to display in an image tag?\r\n\r\nWe are using Java in our backend, so i could change some settings of the file before delivering it to the frontend. \r\n\r\n**EDIT**\r\n\r\nas suggested, i tried to set the content-type of the files inside the Azure Container to `application/pdf` like the following:\r\n\r\n    for (BlobItem blobItem : container.listBlobs()) {\r\n        if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\r\n            BlobItemProperties props = blobItem.getProperties();\r\n            props.setContentType(&quot;application/pdf&quot;);\r\n            blobItem.setProperties(props);\r\n        }\r\n    }\r\nHowever, the content-type inside of the Azure Container is not being changed. What do i miss?","title":"display file from url with content type octet-stream inside of a html page","body":"<p>we get PDFs from Azure which have a Content-Type of <code>application/octet-stream</code>. I want to embed this PDF inside of a <code>&lt;iframe&gt;</code> or <code>&lt;object&gt;</code> (or anything else thats capable of doing it) HTML page.</p>\n<p>I tried to convert the PDF to a Base64 String, but has too bad performance, because it could be that we got 50+ PDFs on the same page. The PDFs itself are logos, don't ask me why they are PDFs.</p>\n<p>Is there any other way i can try? Is it in any way possible to display in an image tag?</p>\n<p>We are using Java in our backend, so i could change some settings of the file before delivering it to the frontend.</p>\n<p><strong>EDIT</strong></p>\n<p>as suggested, i tried to set the content-type of the files inside the Azure Container to <code>application/pdf</code> like the following:</p>\n<pre><code>for (BlobItem blobItem : container.listBlobs()) {\n    if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\n        BlobItemProperties props = blobItem.getProperties();\n        props.setContentType(&quot;application/pdf&quot;);\n        blobItem.setProperties(props);\n    }\n}\n</code></pre>\n<p>However, the content-type inside of the Azure Container is not being changed. What do i miss?</p>\n"},{"tags":["java","generics","casting","abstract-class"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1666610275,"post_id":74180167,"comment_id":130970247,"body_markdown":"Why do you need the `T extends Validator` in the first place? The `validatorClass` field could just have the type `Class&lt;?&gt;`. The generics makes no sense here IMO","body":"Why do you need the <code>T extends Validator</code> in the first place? The <code>validatorClass</code> field could just have the type <code>Class&lt;?&gt;</code>. The generics makes no sense here IMO"},{"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"score":0,"creation_date":1666610345,"post_id":74180167,"comment_id":130970277,"body_markdown":"I have some logic inside the method, which I did not include","body":"I have some logic inside the method, which I did not include"}],"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666610378,"creation_date":1666609417,"question_id":74180167,"body_markdown":"I have a abstract class which looks like this\r\n\r\n    public abstract class VehicleValidator&lt; E extends Vehicle, C extends Config&gt;  implements Validator&lt; E , C  &gt; {\r\n   \r\n    @Override\r\n    public List&lt;ValidationError&lt;? extends Vehicle&lt;E, C&gt;&gt;&gt; validateBidElement(E vehicle, C configuration) {\r\n        final List&lt;ValidationError&lt;? extends vehicle&lt;E, C&gt;&gt;&gt; errors = new ArrayList&lt;&gt;();\r\n       //some logic to create the error\r\n            errors.add(new ValidationError&lt;&gt;(&quot;VehicleValidator.InvalidPattern&quot;, VehicleValidator.class, ValidationError.Severity.ERROR));\r\n       return errors;\r\n    }\r\nThe ValidationError class looks like below\r\n           \r\n    public class ValidationError&lt;T extends Validator&gt; {\r\n\r\n    public enum Severity {\r\n        WARNING,\r\n        ERROR\r\n    }\r\n\r\n    String errorId;\r\n    Class&lt;T&gt; validatorClass;\r\n    Severity severity;}\r\n\r\nThe above give me an error \r\n\r\n     Required type:\r\n    ValidationError\r\n    &lt;? extends VehicleValidator&lt;E, C&gt;&gt;\r\n    Provided:\r\n    ValidationError\r\n    &lt;VehicleValidator&gt;\r\n\r\nWhat I understand is for creating the ValidationError&lt;T extends Validator&gt;, the second param  Class&lt;T&gt; validatorClass, which means any class that extends Validator. My abstract class VehicleValidator implements Validator&lt; E , C  &gt;. So why am I asked to cast the parameter.","title":"Java Generics incompatable types when cast to the generic type","body":"<p>I have a abstract class which looks like this</p>\n<pre><code>public abstract class VehicleValidator&lt; E extends Vehicle, C extends Config&gt;  implements Validator&lt; E , C  &gt; {\n\n@Override\npublic List&lt;ValidationError&lt;? extends Vehicle&lt;E, C&gt;&gt;&gt; validateBidElement(E vehicle, C configuration) {\n    final List&lt;ValidationError&lt;? extends vehicle&lt;E, C&gt;&gt;&gt; errors = new ArrayList&lt;&gt;();\n   //some logic to create the error\n        errors.add(new ValidationError&lt;&gt;(&quot;VehicleValidator.InvalidPattern&quot;, VehicleValidator.class, ValidationError.Severity.ERROR));\n   return errors;\n}\n</code></pre>\n<p>The ValidationError class looks like below</p>\n<pre><code>public class ValidationError&lt;T extends Validator&gt; {\n\npublic enum Severity {\n    WARNING,\n    ERROR\n}\n\nString errorId;\nClass&lt;T&gt; validatorClass;\nSeverity severity;}\n</code></pre>\n<p>The above give me an error</p>\n<pre><code> Required type:\nValidationError\n&lt;? extends VehicleValidator&lt;E, C&gt;&gt;\nProvided:\nValidationError\n&lt;VehicleValidator&gt;\n</code></pre>\n<p>What I understand is for creating the ValidationError, the second param  Class validatorClass, which means any class that extends Validator. My abstract class VehicleValidator implements Validator&lt; E , C  &gt;. So why am I asked to cast the parameter.</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666609694,"post_id":74180089,"comment_id":130970055,"body_markdown":"and ... do you have an actual question?","body":"and ... do you have an actual question?"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666610284,"post_id":74180089,"comment_id":130970252,"body_markdown":"see my edits for the actual problem statement","body":"see my edits for the actual problem statement"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610432,"post_id":74180089,"comment_id":130970318,"body_markdown":"the steps you need to take is: make sure that class is managed by Spring, otherwise the autowiring will not work. An alternative to autowiring is creating factories for your classesz","body":"the steps you need to take is: make sure that class is managed by Spring, otherwise the autowiring will not work. An alternative to autowiring is creating factories for your classesz"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666610853,"post_id":74180089,"comment_id":130970442,"body_markdown":"Could you please demonstrate the solution, it would be really helpful","body":"Could you please demonstrate the solution, it would be really helpful"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666615703,"post_id":74180089,"comment_id":130972102,"body_markdown":"To use `@Configurable` you will need to use loadtime or compile time weaving with AspectJ, else it won&#39;t work. If you haven&#39;t set that up (properly) then it won&#39;t work.","body":"To use <code>@Configurable</code> you will need to use loadtime or compile time weaving with AspectJ, else it won&#39;t work. If you haven&#39;t set that up (properly) then it won&#39;t work."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666616034,"post_id":74180089,"comment_id":130972226,"body_markdown":"I have tried the setup, but the problem is Aspet J is not properly working with Lombok I am using 1.14.0 verison for AspectJ, also I have refer lot of post but that didn&#39;t help me to make Configurable work","body":"I have tried the setup, but the problem is Aspet J is not properly working with Lombok I am using 1.14.0 verison for AspectJ, also I have refer lot of post but that didn&#39;t help me to make Configurable work"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666610273,"creation_date":1666609088,"question_id":74180089,"body_markdown":"the below bean of Class I want to inject in other non-managed bean, but it is not working as expected\r\n\r\n    @Component\r\n    @Setter\r\n    @Getter\r\n    public class AbstractLayoutProperties {\r\n    \t@Value(&quot;${spring.application.name}&quot;)\r\n    \tprivate String appName;\r\n    \r\n    \t@Autowired\r\n    \tS3Service s3Service;\r\n    \r\n    \t@Autowired\r\n    \tS3Client s3Client;\r\n    \r\n    }\r\n\r\n\r\nBelow is the class which is not managed by the spring, but I am using `@Configurable` \r\n\r\n            @Configurable(preConstruction = true, autowire = Autowire.BY_NAME)\r\n            @EnableSpringConfigured\r\n            public class OverlayServiceImpl\r\n            \t\timplements GenericVehicleOverlayService&lt;T, R&gt; {\r\n    public findOnlyActive(){\r\n    appName = layoutProperties.getAppName(); // throwint NullPointerException beacuse the object not injected properly\r\n    }\r\n        @Autowired\r\n        \tAbstractLayoutProperties layoutProperties;\r\n        }\r\n\r\nOne more point, `findOnlyActive` method I am not calling directly, I am calling this from another service, lets say\r\n\r\n    @Service\r\n    public class OtherService{\r\n    \r\n    public void findActive(){\r\n    OverlayServiceImpl impl=new OverlayServiceImpl();\r\n     impl.findOnlyActive();\r\n    }\r\n    @Autowired\r\n    OtherRepository otherRepo;\r\n    }\r\n\r\n\r\n**Problem statrement:**\r\n\r\nwhen `impl.findOnlyActive();` is executed, it should inject all the required beans inside `OverlayServiceImpl`. In the same class I have two beans which are autowired, it seems none of them injected, this is the reaosn that every time I am encountering Nullpointer exception. so my question is how do I make it work, what are the steps and action I need to take so that spring will inject the dependencies in non managed object i,e `OverlayServiceImpl`.","title":"Injecting spring beans in non managed objects","body":"<p>the below bean of Class I want to inject in other non-managed bean, but it is not working as expected</p>\n<pre><code>@Component\n@Setter\n@Getter\npublic class AbstractLayoutProperties {\n    @Value(&quot;${spring.application.name}&quot;)\n    private String appName;\n\n    @Autowired\n    S3Service s3Service;\n\n    @Autowired\n    S3Client s3Client;\n\n}\n</code></pre>\n<p>Below is the class which is not managed by the spring, but I am using <code>@Configurable</code></p>\n<pre><code>        @Configurable(preConstruction = true, autowire = Autowire.BY_NAME)\n        @EnableSpringConfigured\n        public class OverlayServiceImpl\n                implements GenericVehicleOverlayService&lt;T, R&gt; {\npublic findOnlyActive(){\nappName = layoutProperties.getAppName(); // throwint NullPointerException beacuse the object not injected properly\n}\n    @Autowired\n        AbstractLayoutProperties layoutProperties;\n    }\n</code></pre>\n<p>One more point, <code>findOnlyActive</code> method I am not calling directly, I am calling this from another service, lets say</p>\n<pre><code>@Service\npublic class OtherService{\n\npublic void findActive(){\nOverlayServiceImpl impl=new OverlayServiceImpl();\n impl.findOnlyActive();\n}\n@Autowired\nOtherRepository otherRepo;\n}\n</code></pre>\n<p><strong>Problem statrement:</strong></p>\n<p>when <code>impl.findOnlyActive();</code> is executed, it should inject all the required beans inside <code>OverlayServiceImpl</code>. In the same class I have two beans which are autowired, it seems none of them injected, this is the reaosn that every time I am encountering Nullpointer exception. so my question is how do I make it work, what are the steps and action I need to take so that spring will inject the dependencies in non managed object i,e <code>OverlayServiceImpl</code>.</p>\n"},{"tags":["java","sql","database","spring-boot","ddl"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666597127,"post_id":74177852,"comment_id":130965988,"body_markdown":"Never rely on creating the database through your entities. Always control the schema yourself, either by the `schema.sql` or by using something like Flyway to manage your schema. Don&#39;t rely on the ORM to do the proper thing for schema generation (anything besides a local test/poc).","body":"Never rely on creating the database through your entities. Always control the schema yourself, either by the <code>schema.sql</code> or by using something like Flyway to manage your schema. Don&#39;t rely on the ORM to do the proper thing for schema generation (anything besides a local test/poc)."},{"owner":{"account_id":26714947,"reputation":11,"user_id":20319671,"display_name":"Astromeda"},"score":2,"creation_date":1666597471,"post_id":74177852,"comment_id":130966084,"body_markdown":"Thanks for advice, can you clarify why I should never rely on creation by entities?","body":"Thanks for advice, can you clarify why I should never rely on creation by entities?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666610231,"creation_date":1666610231,"answer_id":74180308,"question_id":74177852,"body_markdown":"Let&#39;s leave for the moment the `schema.sql` out.\r\n\r\nORM automatic schema creation (create or update or create-drop) is normally useful during the development of application. Even during release candidates and QA reviews it is still useful because the changes which happen from development team with issues arising could be live much faster.\r\n\r\nWhen the application reaches a critical phase and is mature in production, then any changes happening automatically from ORM could be considered dangerous.\r\n\r\nAt this stage you would normally in big companies rollout in production database only some `sql` scripts that affect the database, which should be reviewed first and tested before rollout happens. Also a rollback `sql` might be necessary. \r\n\r\nSo normally ORM having effect in database schema is only during early stages of an application and not when it has matured enough in production.\r\n\r\nLet&#39;s now come back to `schema.sql`. This file can be used just once to create the database from some `sql` commands. This also would not be expected to be run anytime the application executes. At least not in majority of applications.\r\n\r\nI think a logical approach would be to use the ORM during intial stages of development and QA and then when you are about to reach a mature phase, you inspect what type of database the ORM has created and then you make a manual review just to be sure of everything and any optimizations which would make sense and at this stage you can create with the already existing schema of ORM your own permanent `schema.sql`.\r\n\r\nThe obvious reason for the above is that with `schema.sql` you have 100% control of how the database is created. Using ORM you depend on the ORM provider to build this for you. This ORM provider might provide some new library that affects how the previous was used and many other things. The result is that with ORM you  don&#39;t have 100% control on the database to be created.\r\n ","title":"When to use schema.sql in spring boot app","body":"<p>Let's leave for the moment the <code>schema.sql</code> out.</p>\n<p>ORM automatic schema creation (create or update or create-drop) is normally useful during the development of application. Even during release candidates and QA reviews it is still useful because the changes which happen from development team with issues arising could be live much faster.</p>\n<p>When the application reaches a critical phase and is mature in production, then any changes happening automatically from ORM could be considered dangerous.</p>\n<p>At this stage you would normally in big companies rollout in production database only some <code>sql</code> scripts that affect the database, which should be reviewed first and tested before rollout happens. Also a rollback <code>sql</code> might be necessary.</p>\n<p>So normally ORM having effect in database schema is only during early stages of an application and not when it has matured enough in production.</p>\n<p>Let's now come back to <code>schema.sql</code>. This file can be used just once to create the database from some <code>sql</code> commands. This also would not be expected to be run anytime the application executes. At least not in majority of applications.</p>\n<p>I think a logical approach would be to use the ORM during intial stages of development and QA and then when you are about to reach a mature phase, you inspect what type of database the ORM has created and then you make a manual review just to be sure of everything and any optimizations which would make sense and at this stage you can create with the already existing schema of ORM your own permanent <code>schema.sql</code>.</p>\n<p>The obvious reason for the above is that with <code>schema.sql</code> you have 100% control of how the database is created. Using ORM you depend on the ORM provider to build this for you. This ORM provider might provide some new library that affects how the previous was used and many other things. The result is that with ORM you  don't have 100% control on the database to be created.</p>\n"}],"owner":{"account_id":26714947,"reputation":11,"user_id":20319671,"display_name":"Astromeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666610231,"creation_date":1666596890,"question_id":74177852,"body_markdown":"I am trying to understand when to use **schema.sql** db creation technique and when to rely on Spring boot&#39;s creation based on my entity classes. How to decide? ","title":"When to use schema.sql in spring boot app","body":"<p>I am trying to understand when to use <strong>schema.sql</strong> db creation technique and when to rely on Spring boot's creation based on my entity classes. How to decide?</p>\n"},{"tags":["java","selenium","tekton"],"comments":[{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1666628938,"post_id":74180250,"comment_id":130977226,"body_markdown":"The error is about searching by CSS while in the code you have search by id. I suspect there are fields annotated with &quot;@FindBy&quot; with CSS selectors. Please check how do you look for &quot;saksbehandlerInfo&quot; variable and/or other elements","body":"The error is about searching by CSS while in the code you have search by id. I suspect there are fields annotated with &quot;@FindBy&quot; with CSS selectors. Please check how do you look for &quot;saksbehandlerInfo&quot; variable and/or other elements"},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1666640479,"post_id":74180250,"comment_id":130980873,"body_markdown":"Hm. Not sure what you mean? All the elements here are found by ID, as the posted code shows. driver.findElement(By.id(&quot;navn&quot;), (&quot;uid&quot;) and &quot;kommunenummer&quot;.","body":"Hm. Not sure what you mean? All the elements here are found by ID, as the posted code shows. driver.findElement(By.id(&quot;navn&quot;), (&quot;uid&quot;) and &quot;kommunenummer&quot;."}],"owner":{"display_name":"user9347168"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666609944,"creation_date":1666609944,"question_id":74180250,"body_markdown":"My test suite experiences random trouble when running in a Tekton environment. Locally, there are no problems. The most annoying problem is when it claims to not find a selector, and the Cucumber run screenshot shows that the selector is indeed present at the time.\r\n\r\nI&#39;ve tried \r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;navn&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getSaksbehandlerNavn());\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;uid&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getUid());\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;kommunenummer&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getKommuneNr());\r\n\r\nBut the recurring error is:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#navn&quot;}\r\n\r\nSince the error is that Selenium is unable to locate the element, I wouldn&#39;t think there&#39;s a point in trying to check for .clickable() or any other state?\r\n\r\nWhat&#39;s also a bit strange, is that it&#39;s allways the same element that it cannot find. There are 4 text fields on a login page, and it&#39;s allways the second that isn&#39;t found.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Ow4C.png\r\n\r\nThe markup:\r\n\r\n    &lt;label for=&quot;uid&quot;&gt;Saksbehandlerid&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;uid&quot; name=&quot;uid&quot; value=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;label for=&quot;navn&quot;&gt;Saksbehandlernavn&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;navn&quot; name=&quot;saksbehandlernavn&quot; value=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;label for=&quot;kommunenummer&quot;&gt;Kommunenummer&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;kommunenummer&quot; list=&quot;kommunenummer-choices&quot; name=&quot;kommunenummer&quot; value=&quot;&quot;&gt;\r\n      &lt;datalist id=&quot;kommunenummer-choices&quot;&gt;\r\n        &lt;option value=&quot;0301&quot;&gt;BLabla&lt;/option&gt;\r\n      &lt;/datalist&gt;\r\n    &lt;/div&gt;\r\n    &lt;label for=&quot;bydelsnummer&quot;&gt;Bydelsnummer&lt;/label&gt;\r\n    &lt;div&gt;\r\n      &lt;input id=&quot;bydelsnummer&quot; list=&quot;bydelsnummer-choices&quot; name=&quot;bydelsnummer&quot; value=&quot;&quot;&gt;\r\n        &lt;datalist id=&quot;bydelsnummer-choices&quot;&gt;\r\n          &lt;option value=&quot;1&quot;&gt;Blabla&lt;/option&gt;\r\n        &lt;/datalist&gt;\r\n    &lt;/div&gt;\r\n    &lt;label for=&quot;roller&quot;&gt;Roller&lt;/label&gt;\r\n      &lt;div&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;_roller&quot; value=&quot;1&quot;&gt;\r\n          &lt;select id=&quot;roller&quot; multiple=&quot;&quot; name=&quot;roller&quot;&gt;\r\n            &lt;option value=&quot;blabla&gt;blabla&lt;/option&gt;\r\n         &lt;/select&gt;\r\n      &lt;/div&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt;\r\n\r\nThe element failing is the second: &lt;input id=&quot;navn&quot;.\r\n\r\nAny ideas? If it wasn&#39;t for the fact that the run creates a screenshot when a test fails, which shows that the element is indeed present, I&#39;d chalk it down to Tekton problems. But with a 15 second timout, and the element visibly present, I really cannot grasp why Selenium has problems?","title":"Java and Selenium: Randomly unable to find selectors that are visible","body":"<p>My test suite experiences random trouble when running in a Tekton environment. Locally, there are no problems. The most annoying problem is when it claims to not find a selector, and the Cucumber run screenshot shows that the selector is indeed present at the time.</p>\n<p>I've tried</p>\n<pre><code>Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;navn&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getSaksbehandlerNavn());\n\nBrowser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;uid&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getUid());\n\nBrowser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;kommunenummer&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getKommuneNr());\n</code></pre>\n<p>But the recurring error is:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#navn&quot;}\n</code></pre>\n<p>Since the error is that Selenium is unable to locate the element, I wouldn't think there's a point in trying to check for .clickable() or any other state?</p>\n<p>What's also a bit strange, is that it's allways the same element that it cannot find. There are 4 text fields on a login page, and it's allways the second that isn't found.</p>\n<p><a href=\"https://i.stack.imgur.com/4Ow4C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ow4C.png\" alt=\"enter image description here\" /></a></p>\n<p>The markup:</p>\n<pre><code>&lt;label for=&quot;uid&quot;&gt;Saksbehandlerid&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;uid&quot; name=&quot;uid&quot; value=&quot;&quot;&gt;&lt;/div&gt;\n&lt;label for=&quot;navn&quot;&gt;Saksbehandlernavn&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;navn&quot; name=&quot;saksbehandlernavn&quot; value=&quot;&quot;&gt;&lt;/div&gt;\n&lt;label for=&quot;kommunenummer&quot;&gt;Kommunenummer&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;kommunenummer&quot; list=&quot;kommunenummer-choices&quot; name=&quot;kommunenummer&quot; value=&quot;&quot;&gt;\n  &lt;datalist id=&quot;kommunenummer-choices&quot;&gt;\n    &lt;option value=&quot;0301&quot;&gt;BLabla&lt;/option&gt;\n  &lt;/datalist&gt;\n&lt;/div&gt;\n&lt;label for=&quot;bydelsnummer&quot;&gt;Bydelsnummer&lt;/label&gt;\n&lt;div&gt;\n  &lt;input id=&quot;bydelsnummer&quot; list=&quot;bydelsnummer-choices&quot; name=&quot;bydelsnummer&quot; value=&quot;&quot;&gt;\n    &lt;datalist id=&quot;bydelsnummer-choices&quot;&gt;\n      &lt;option value=&quot;1&quot;&gt;Blabla&lt;/option&gt;\n    &lt;/datalist&gt;\n&lt;/div&gt;\n&lt;label for=&quot;roller&quot;&gt;Roller&lt;/label&gt;\n  &lt;div&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;_roller&quot; value=&quot;1&quot;&gt;\n      &lt;select id=&quot;roller&quot; multiple=&quot;&quot; name=&quot;roller&quot;&gt;\n        &lt;option value=&quot;blabla&gt;blabla&lt;/option&gt;\n     &lt;/select&gt;\n  &lt;/div&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt;\n</code></pre>\n<p>The element failing is the second: &lt;input id=&quot;navn&quot;.</p>\n<p>Any ideas? If it wasn't for the fact that the run creates a screenshot when a test fails, which shows that the element is indeed present, I'd chalk it down to Tekton problems. But with a 15 second timout, and the element visibly present, I really cannot grasp why Selenium has problems?</p>\n"},{"tags":["java","spring-boot","junit","spring-security"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666467287,"post_id":74166101,"comment_id":130945851,"body_markdown":"Spring Security @WithMockUser annotation might help.","body":"Spring Security @WithMockUser annotation might help."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666482814,"post_id":74166101,"comment_id":130948229,"body_markdown":"@ILyaCyclone I still got the same issue after using `@WithMockUser`. How can I fix it?","body":"@ILyaCyclone I still got the same issue after using <code>@WithMockUser</code>. How can I fix it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666530495,"post_id":74166101,"comment_id":130954257,"body_markdown":"@ILyaCyclone I still couldn&#39;t fix it.","body":"@ILyaCyclone I still couldn&#39;t fix it."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666609378,"creation_date":1666609378,"answer_id":74180160,"question_id":74166101,"body_markdown":"Here is the solution shown below.\r\n\r\nAdd **this line** shown below underneath `when` parts\r\n\r\n    SecurityContextHolder.setContext(securityContext);","title":"JUnit Security Test Error for Service Test of Spring Boot","body":"<p>Here is the solution shown below.</p>\n<p>Add <strong>this line</strong> shown below underneath <code>when</code> parts</p>\n<pre><code>SecurityContextHolder.setContext(securityContext);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74180160,"answer_count":1,"score":0,"last_activity_date":1666609378,"creation_date":1666463123,"question_id":74166101,"body_markdown":"I have to write a test function for findInContextUser based on JUnit Mock in Spring Boot but I have no idea how to write it.\r\n\r\nHow can I write findInContextUser for Junit Test?\r\n\r\n\r\nHere are my code defined in UserService shown below.\r\n\r\n    public UserDto getUserDto(String username) {\r\n            var user = findUserByUsername(username);\r\n            return UserDto.builder()\r\n                    .id(user.getId())\r\n                    .username(user.getUsername())\r\n                    .role(user.getRole())\r\n                    .build();\r\n        }\r\n    \r\n        public UserDto findInContextUser() {\r\n            final Authentication authentication = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\r\n            final UserDetails details = Optional.ofNullable((UserDetails) authentication.getPrincipal()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\r\n            return getUserDto(details.getUsername());\r\n        }\r\n    \r\n        private static Supplier&lt;GenericException&gt; notFoundUser(HttpStatus unauthorized) {\r\n            return () -&gt; GenericException.builder().httpStatus(unauthorized).errorMessage(&quot;user not found!&quot;).build();\r\n        }\r\n\r\nHere is my test class shown below.\r\n\r\n    @Test\r\n        void itShouldFindInContextUser(){\r\n            // given - precondition or setup\r\n            User user = User.builder()\r\n                    .username(&quot;username&quot;)\r\n                    .password(&quot;password&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            UserDto expected = UserDto.builder()\r\n                    .id(user.getId())\r\n                    .username(user.getUsername())\r\n                    .role(user.getRole())\r\n                    .build();\r\n    \r\n            var roles = Stream.of(user.getRole())\r\n                    .map(x -&gt; new SimpleGrantedAuthority(x.name()))\r\n                    .collect(Collectors.toList());\r\n    \r\n            UserDetails details = new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), roles);\r\n    \r\n            Authentication authentication = Mockito.mock(Authentication.class);\r\n            SecurityContext securityContext = Mockito.mock(SecurityContext.class);\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(securityContext.getAuthentication()).thenReturn(authentication);\r\n            when(securityContext.getAuthentication().getPrincipal()).thenReturn(details);\r\n    \r\n            // then - verify the output\r\n            UserDto actual = userService.findInContextUser(); // ERROR IS HERE\r\n            assertEquals(expected, actual);\r\n            assertEquals(expected.getUsername(), actual.getUsername());\r\n    \r\n            verify(userService, times(1)).findInContextUser();\r\n    \r\n        }\r\n\r\nHere is the error message shown below.\r\n\r\n    com.example.lib.exception.GenericException\r\n    Debug Part : 401 UNAUTHORIZED\r\n\r\nI also added `@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, roles = &quot;USER&quot;)` but nothing changed.","title":"JUnit Security Test Error for Service Test of Spring Boot","body":"<p>I have to write a test function for findInContextUser based on JUnit Mock in Spring Boot but I have no idea how to write it.</p>\n<p>How can I write findInContextUser for Junit Test?</p>\n<p>Here are my code defined in UserService shown below.</p>\n<pre><code>public UserDto getUserDto(String username) {\n        var user = findUserByUsername(username);\n        return UserDto.builder()\n                .id(user.getId())\n                .username(user.getUsername())\n                .role(user.getRole())\n                .build();\n    }\n\n    public UserDto findInContextUser() {\n        final Authentication authentication = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\n        final UserDetails details = Optional.ofNullable((UserDetails) authentication.getPrincipal()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\n        return getUserDto(details.getUsername());\n    }\n\n    private static Supplier&lt;GenericException&gt; notFoundUser(HttpStatus unauthorized) {\n        return () -&gt; GenericException.builder().httpStatus(unauthorized).errorMessage(&quot;user not found!&quot;).build();\n    }\n</code></pre>\n<p>Here is my test class shown below.</p>\n<pre><code>@Test\n    void itShouldFindInContextUser(){\n        // given - precondition or setup\n        User user = User.builder()\n                .username(&quot;username&quot;)\n                .password(&quot;password&quot;)\n                .role(Role.USER)\n                .build();\n\n        UserDto expected = UserDto.builder()\n                .id(user.getId())\n                .username(user.getUsername())\n                .role(user.getRole())\n                .build();\n\n        var roles = Stream.of(user.getRole())\n                .map(x -&gt; new SimpleGrantedAuthority(x.name()))\n                .collect(Collectors.toList());\n\n        UserDetails details = new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), roles);\n\n        Authentication authentication = Mockito.mock(Authentication.class);\n        SecurityContext securityContext = Mockito.mock(SecurityContext.class);\n\n        // when -  action or the behaviour that we are going test\n        when(securityContext.getAuthentication()).thenReturn(authentication);\n        when(securityContext.getAuthentication().getPrincipal()).thenReturn(details);\n\n        // then - verify the output\n        UserDto actual = userService.findInContextUser(); // ERROR IS HERE\n        assertEquals(expected, actual);\n        assertEquals(expected.getUsername(), actual.getUsername());\n\n        verify(userService, times(1)).findInContextUser();\n\n    }\n</code></pre>\n<p>Here is the error message shown below.</p>\n<pre><code>com.example.lib.exception.GenericException\nDebug Part : 401 UNAUTHORIZED\n</code></pre>\n<p>I also added <code>@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, roles = &quot;USER&quot;)</code> but nothing changed.</p>\n"},{"tags":["java","jackson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666522775,"creation_date":1666522438,"answer_id":74170564,"question_id":74170291,"body_markdown":"You can define an overloaded constructor in your record delegating to the canonical constructor via call `this()`, and annotate it with [`@JsonCreator`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html) (*otherwise, Jackson would use the canonical one*).\r\n\r\nThe attribute `second` can be received as a plain `String` and parsed using the method `fromName()` you&#39;ve defined in the `enum`:\r\n\r\n    record MyRec(String first, Color second) {\r\n        @JsonCreator\r\n        public MyRec(@JsonProperty(&quot;first&quot;) String first,\r\n                     @JsonProperty(&quot;second&quot;) String second) {\r\n\r\n            this(first, Color.fromName(second));\r\n        }\r\n    }\r\n\r\n**Note:** no data-binding annotations required in your `enum`.\r\n\r\n*Usage example:*\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        List&lt;String&gt; jsonRecords = List.of(\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&quot;&quot;&quot;,\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&quot;&quot;&quot;,\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;}&quot;&quot;&quot;\r\n        );\r\n        \r\n        ObjectMapper mapper1 = new JsonMapper();\r\n        List&lt;MyRec&gt; records = new ArrayList&lt;&gt;();\r\n        \r\n        for (String json : jsonRecords) {\r\n            MyRec myRec = mapper1.readValue(json, MyRec.class);\r\n            records.add(myRec);\r\n        }\r\n        \r\n        records.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\nMyRec[first=hi, second=RED]\r\nMyRec[first=hi, second=RED]\r\nMyRec[first=hi, second=RED]\r\n```\r\n\r\n***Sidenote:** possibly you might want to use* `equalsIgnoreCase()` *instead of plain* `equals()`.*","title":"How to handle deserialization of null and absent properties with Jackson?","body":"<p>You can define an overloaded constructor in your record delegating to the canonical constructor via call <code>this()</code>, and annotate it with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\"><code>@JsonCreator</code></a> (<em>otherwise, Jackson would use the canonical one</em>).</p>\n<p>The attribute <code>second</code> can be received as a plain <code>String</code> and parsed using the method <code>fromName()</code> you've defined in the <code>enum</code>:</p>\n<pre><code>record MyRec(String first, Color second) {\n    @JsonCreator\n    public MyRec(@JsonProperty(&quot;first&quot;) String first,\n                 @JsonProperty(&quot;second&quot;) String second) {\n\n        this(first, Color.fromName(second));\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> no data-binding annotations required in your <code>enum</code>.</p>\n<p><em>Usage example:</em></p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    List&lt;String&gt; jsonRecords = List.of(\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&quot;&quot;&quot;,\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&quot;&quot;&quot;,\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;}&quot;&quot;&quot;\n    );\n    \n    ObjectMapper mapper1 = new JsonMapper();\n    List&lt;MyRec&gt; records = new ArrayList&lt;&gt;();\n    \n    for (String json : jsonRecords) {\n        MyRec myRec = mapper1.readValue(json, MyRec.class);\n        records.add(myRec);\n    }\n    \n    records.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyRec[first=hi, second=RED]\nMyRec[first=hi, second=RED]\nMyRec[first=hi, second=RED]\n</code></pre>\n<p><em><strong>Sidenote:</strong> possibly you might want to use</em> <code>equalsIgnoreCase()</code> <em>instead of plain</em> <code>equals()</code>.*</p>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74170564,"answer_count":1,"score":0,"last_activity_date":1666608897,"creation_date":1666519950,"question_id":74170291,"body_markdown":"There is a record class in which one of the properties is an enum field. \r\n\r\nThe results of deserialization differ from what I&#39;m looking for. Obviously, when the field is null or absent Jackson does not use the `@JsonCreator` method and just inserts null.\r\n\r\nI would like to avoid that &quot;special treatment&quot; and deserialize nulls (and field absence as well) the same way as other values.\r\n\r\n**Model classes**\r\n```java\r\nrecord MyRec(\r\n  String first,\r\n  Color second\r\n){}\r\n\r\n// ---\r\n\r\nenum Color{\r\n  RED, GREEN;\r\n\r\n  @JsonCreator\r\n  static Color fromName(String name){\r\n    if (name == null || &quot;red&quot;.equals(name)){\r\n      return RED; \r\n    } else if (&quot;green&quot;.equals(name)) {\r\n      return GREEN;\r\n    } else {\r\n      throw new IllegalArgumentException(name);\r\n    }\r\n  }\r\n}\r\n```\r\n**Results of deserialization**\r\n\r\n            JSON                             actual            intent\r\n    ------------------------------------|-------------------|------------------|------\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&#39;   MyRec(&quot;hi&quot;, RED)    MyRec(&quot;hi&quot;, RED) |  ok\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&#39;    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;}&#39;                    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\r\n\r\n**How to force Jackson to use the `@JsonCreator` method for deserializing nulls and absent values?**","title":"How to handle deserialization of null and absent properties with Jackson?","body":"<p>There is a record class in which one of the properties is an enum field.</p>\n<p>The results of deserialization differ from what I'm looking for. Obviously, when the field is null or absent Jackson does not use the <code>@JsonCreator</code> method and just inserts null.</p>\n<p>I would like to avoid that &quot;special treatment&quot; and deserialize nulls (and field absence as well) the same way as other values.</p>\n<p><strong>Model classes</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>record MyRec(\n  String first,\n  Color second\n){}\n\n// ---\n\nenum Color{\n  RED, GREEN;\n\n  @JsonCreator\n  static Color fromName(String name){\n    if (name == null || &quot;red&quot;.equals(name)){\n      return RED; \n    } else if (&quot;green&quot;.equals(name)) {\n      return GREEN;\n    } else {\n      throw new IllegalArgumentException(name);\n    }\n  }\n}\n</code></pre>\n<p><strong>Results of deserialization</strong></p>\n<pre><code>        JSON                             actual            intent\n------------------------------------|-------------------|------------------|------\n '{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}'   MyRec(&quot;hi&quot;, RED)    MyRec(&quot;hi&quot;, RED) |  ok\n '{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}'    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\n '{&quot;first&quot;: &quot;hi&quot;}'                    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\n</code></pre>\n<p><strong>How to force Jackson to use the <code>@JsonCreator</code> method for deserializing nulls and absent values?</strong></p>\n"},{"tags":["java","arraylist","linked-list","benchmarking"],"comments":[{"owner":{"account_id":7458473,"reputation":1057,"user_id":5670909,"display_name":"Melchizedek"},"score":3,"creation_date":1636104473,"post_id":69851017,"comment_id":123472895,"body_markdown":"Does this answer your question? [Performance differences between ArrayList and LinkedList](https://stackoverflow.com/questions/10656471/performance-differences-between-arraylist-and-linkedlist)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10656471/performance-differences-between-arraylist-and-linkedlist\">Performance differences between ArrayList and LinkedList</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1636104503,"post_id":69851017,"comment_id":123472907,"body_markdown":"[This answer](https://stackoverflow.com/a/323889/40342) summarizes why you should basically never use `LinkedList`. Even Joshua Bloch (who wrote `LinkedList`) [never users it](https://twitter.com/joshbloch/status/583813919019573248).","body":"<a href=\"https://stackoverflow.com/a/323889/40342\">This answer</a> summarizes why you should basically never use <code>LinkedList</code>. Even Joshua Bloch (who wrote <code>LinkedList</code>) <a href=\"https://twitter.com/joshbloch/status/583813919019573248\" rel=\"nofollow noreferrer\">never users it</a>."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636105792,"post_id":69851017,"comment_id":123473455,"body_markdown":"ArrayList only has to copy when it reallocates, which is infrequent.  And it doesn&#39;t have to do any bookkeeping otherwise, or generate compressed references for links, basically just memset up to the allocation limit.  (JVM JIT optimizers probably aren&#39;t smart enough to optimize away multiple reallocations and just allocate the final size in the first place).","body":"ArrayList only has to copy when it reallocates, which is infrequent.  And it doesn&#39;t have to do any bookkeeping otherwise, or generate compressed references for links, basically just memset up to the allocation limit.  (JVM JIT optimizers probably aren&#39;t smart enough to optimize away multiple reallocations and just allocate the final size in the first place)."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636113593,"post_id":69851017,"comment_id":123476149,"body_markdown":"@Nikolas: As [discussed in comments on the answer here](https://stackoverflow.com/questions/69851017/why-is-an-arraylist-always-faster-than-a-linkedlist#comment123474625_69851318), the accepted answer on [Performance differences between ArrayList and LinkedList](https://stackoverflow.com/q/10656471) is only about inserting in the middle, not at the end, which is what makes ArrayList slower in that case, but not in this case.  Not a good duplicate, unless there are other answers that do cover the general case, or something that includes this case.","body":"@Nikolas: As <a href=\"https://stackoverflow.com/questions/69851017/why-is-an-arraylist-always-faster-than-a-linkedlist#comment123474625_69851318\">discussed in comments on the answer here</a>, the accepted answer on <a href=\"https://stackoverflow.com/q/10656471\">Performance differences between ArrayList and LinkedList</a> is only about inserting in the middle, not at the end, which is what makes ArrayList slower in that case, but not in this case.  Not a good duplicate, unless there are other answers that do cover the general case, or something that includes this case."}],"answers":[{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636105767,"creation_date":1636105767,"answer_id":69851318,"question_id":69851017,"body_markdown":"Most of the time, adding to an `ArrayList` _won&#39;t_ allocate a new array, since the implementation increases the size of the backing array by 50% when it needs to grow. \r\n\r\nThis may sound wasteful from a memory perspective, but even a worst-case scenario for a growing `ArrayList` uses less memory than `LinkedList` - each entry in a linked list costs an object header + 3 references (prev/value/next), whereas a worst-case growing `ArrayList` has only 1.5 references per entry (i.e., the array cells used, plus 50% which are as-yet unused).\r\n\r\nAnywho, according to my calculations, this means that adding 10 million entries to a default-initiated `ArrayList` will result in some 35 array-copying actions, which isn&#39;t very much. (And yes, `System.arraycopy` _is_ fast.) \r\n\r\nFinally, if you give your array an initial capacity of `10_000_000`, there will be zero array copies made. You can try that to see how much the copying really costs.","title":"Why is an ArrayList faster to create and add 10 million elements to than a LinkedList?","body":"<p>Most of the time, adding to an <code>ArrayList</code> <em>won't</em> allocate a new array, since the implementation increases the size of the backing array by 50% when it needs to grow.</p>\n<p>This may sound wasteful from a memory perspective, but even a worst-case scenario for a growing <code>ArrayList</code> uses less memory than <code>LinkedList</code> - each entry in a linked list costs an object header + 3 references (prev/value/next), whereas a worst-case growing <code>ArrayList</code> has only 1.5 references per entry (i.e., the array cells used, plus 50% which are as-yet unused).</p>\n<p>Anywho, according to my calculations, this means that adding 10 million entries to a default-initiated <code>ArrayList</code> will result in some 35 array-copying actions, which isn't very much. (And yes, <code>System.arraycopy</code> <em>is</em> fast.)</p>\n<p>Finally, if you give your array an initial capacity of <code>10_000_000</code>, there will be zero array copies made. You can try that to see how much the copying really costs.</p>\n"}],"owner":{"display_name":"user14978390"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1636105794,"accepted_answer_id":69851318,"answer_count":1,"score":2,"last_activity_date":1666608815,"creation_date":1636104325,"question_id":69851017,"body_markdown":"Yesterday I ran a benchmark in Java 17 where I repeatedly created a new Arraylist and Linkedlist and added 10.000.000 Elements to it.\r\n\r\nBy the nature of a LinkedList adding elements (creating a LinkedObject an putting it at the end) should be much faster than adding to an ArrayList. (Copying whole array in anotherone that is slightly larger.)\r\n\r\nAre native functions like arraycopy() really that much faster? The only thing the LinkedList was better at was merging two LinkedLists together.","title":"Why is an ArrayList faster to create and add 10 million elements to than a LinkedList?","body":"<p>Yesterday I ran a benchmark in Java 17 where I repeatedly created a new Arraylist and Linkedlist and added 10.000.000 Elements to it.</p>\n<p>By the nature of a LinkedList adding elements (creating a LinkedObject an putting it at the end) should be much faster than adding to an ArrayList. (Copying whole array in anotherone that is slightly larger.)</p>\n<p>Are native functions like arraycopy() really that much faster? The only thing the LinkedList was better at was merging two LinkedLists together.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1666545530,"post_id":74173153,"comment_id":130957596,"body_markdown":"Please show your attempt at solving this.  And you have yet to take the [tour].  I also recommend you check out [ask].","body":"Please show your attempt at solving this.  And you have yet to take the <a href=\"https://stackoverflow.com/tour\">tour</a>.  I also recommend you check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666546350,"post_id":74173153,"comment_id":130957818,"body_markdown":"@WJS Thanks, but I showed what I tried and I stucked in there.","body":"@WJS Thanks, but I showed what I tried and I stucked in there."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666608222,"creation_date":1666546345,"answer_id":74173326,"question_id":74173153,"body_markdown":"You can achieve the *target object* of **`ReceiverDTO`** from your *source object* **`ConsumerDTO`** as below:\r\n\r\n***Approach Here:***\r\n\r\nHere, I have added few more sample fields in the source as well as target class to show how to map other fields while creating a target object of type `ReceiverDTO` using `getTargetTypeObject` method.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            //Source class objects\r\n            ConsumerDTO sourceObj = new ConsumerDTO();\r\n            sourceObj.setAmount(&quot;100&quot;);\r\n            //sample for Other fields in source object\r\n            sourceObj.setName(&quot;test&quot;);\r\n            sourceObj.setId(1000);\r\n            sourceObj.setFlag(true);\r\n            //sample for Other fields in source object\r\n            ReceiverDTO targetType = getTargetTypeObject(sourceObj);\r\n            System.out.println(targetType);\r\n        }\r\n    \r\n        private static ReceiverDTO getTargetTypeObject(ConsumerDTO x) {\r\n            //Intermediate object creations\r\n            PriceInfoDto dto = new PriceInfoDto();\r\n            dto.setAmount(x.getAmount());\r\n            //Set other fields like this\r\n            dto.setName(x.getName());\r\n            dto.setId(x.getId());\r\n            dto.setFlag(x.isFlag());\r\n            //Set other fields like this\r\n            Set&lt;PriceInfoDto&gt; set = new HashSet&lt;&gt;();\r\n            set.add(dto);\r\n            //Target object\r\n            ReceiverDTO receiverDTO = new ReceiverDTO();\r\n            receiverDTO.setPrices(set);\r\n            return receiverDTO;\r\n        }\r\n    }\r\n\r\n    class ConsumerDTO {\r\n        private String amount;\r\n        private String name;\r\n        private int id;\r\n        private boolean flag;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n    \r\n    class ReceiverDTO {\r\n        private Set&lt;PriceInfoDto&gt; prices;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n    \r\n    class PriceInfoDto {\r\n        private String amount;\r\n        private String name;\r\n        private int id;\r\n        private boolean flag;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n\r\n**Output:**\r\n\r\n    ReceiverDTO{prices=[PriceInfoDto{amount=&#39;100&#39;, name=&#39;test&#39;, id=1000, flag=true}]}","title":"How to convert String to Set&lt;Object&gt;?","body":"<p>You can achieve the <em>target object</em> of <strong><code>ReceiverDTO</code></strong> from your <em>source object</em> <strong><code>ConsumerDTO</code></strong> as below:</p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>Here, I have added few more sample fields in the source as well as target class to show how to map other fields while creating a target object of type <code>ReceiverDTO</code> using <code>getTargetTypeObject</code> method.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        //Source class objects\n        ConsumerDTO sourceObj = new ConsumerDTO();\n        sourceObj.setAmount(&quot;100&quot;);\n        //sample for Other fields in source object\n        sourceObj.setName(&quot;test&quot;);\n        sourceObj.setId(1000);\n        sourceObj.setFlag(true);\n        //sample for Other fields in source object\n        ReceiverDTO targetType = getTargetTypeObject(sourceObj);\n        System.out.println(targetType);\n    }\n\n    private static ReceiverDTO getTargetTypeObject(ConsumerDTO x) {\n        //Intermediate object creations\n        PriceInfoDto dto = new PriceInfoDto();\n        dto.setAmount(x.getAmount());\n        //Set other fields like this\n        dto.setName(x.getName());\n        dto.setId(x.getId());\n        dto.setFlag(x.isFlag());\n        //Set other fields like this\n        Set&lt;PriceInfoDto&gt; set = new HashSet&lt;&gt;();\n        set.add(dto);\n        //Target object\n        ReceiverDTO receiverDTO = new ReceiverDTO();\n        receiverDTO.setPrices(set);\n        return receiverDTO;\n    }\n}\n\nclass ConsumerDTO {\n    private String amount;\n    private String name;\n    private int id;\n    private boolean flag;\n    //getters and setters\n    //toString\n}\n\nclass ReceiverDTO {\n    private Set&lt;PriceInfoDto&gt; prices;\n    //getters and setters\n    //toString\n}\n\nclass PriceInfoDto {\n    private String amount;\n    private String name;\n    private int id;\n    private boolean flag;\n    //getters and setters\n    //toString\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>ReceiverDTO{prices=[PriceInfoDto{amount='100', name='test', id=1000, flag=true}]}\n</code></pre>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74173326,"answer_count":1,"score":-3,"last_activity_date":1666608222,"creation_date":1666544903,"question_id":74173153,"body_markdown":"I have the following DTOs:\r\n\r\n    public class ConsumerDTO {\r\n        private String amount;\r\n        //...some other fields\r\n    }\r\n    \r\n    public class ReceiverDTO {\r\n        private Set&lt;PriceInfoDto&gt; prices;\r\n    //...some other fields\r\n    }\r\n    \r\n    public class PriceInfoDto {\r\n        private String amount;\r\n        //...some other fields\r\n    }\r\n\r\nI want to convert ConsumerDTO to ReceiverDTO, p.s. map my data between differently structured objects. ConsumerDTO is my source class. ReceiverDTO is my target class. I tried this:\r\n\r\n    TypeMap&lt;ConsumerDTO , ReceiverDTO&gt; propertyMapper = this.mapper.createTypeMap(ConsumerDTO .class, ReceiverDTO.class);\r\n        propertyMapper.addMapping(ConsumerDTO ::getAmount, ReceiverDTO::getAmount);\r\n\r\nBut having trouble with getting amount from set in my target class. Is there a way to solve this? I also read some articles, but they show examples with simple types.","title":"How to convert String to Set&lt;Object&gt;?","body":"<p>I have the following DTOs:</p>\n<pre><code>public class ConsumerDTO {\n    private String amount;\n    //...some other fields\n}\n\npublic class ReceiverDTO {\n    private Set&lt;PriceInfoDto&gt; prices;\n//...some other fields\n}\n\npublic class PriceInfoDto {\n    private String amount;\n    //...some other fields\n}\n</code></pre>\n<p>I want to convert ConsumerDTO to ReceiverDTO, p.s. map my data between differently structured objects. ConsumerDTO is my source class. ReceiverDTO is my target class. I tried this:</p>\n<pre><code>TypeMap&lt;ConsumerDTO , ReceiverDTO&gt; propertyMapper = this.mapper.createTypeMap(ConsumerDTO .class, ReceiverDTO.class);\n    propertyMapper.addMapping(ConsumerDTO ::getAmount, ReceiverDTO::getAmount);\n</code></pre>\n<p>But having trouble with getting amount from set in my target class. Is there a way to solve this? I also read some articles, but they show examples with simple types.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1666608467,"post_id":74179932,"comment_id":130969630,"body_markdown":"You need to also read the wheel table, create a new wheel instance and then assign that new instance to your also newly created car instance.","body":"You need to also read the wheel table, create a new wheel instance and then assign that new instance to your also newly created car instance."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666610066,"post_id":74179932,"comment_id":130970178,"body_markdown":"I would beware of trying to reinvent ORM. Your time would be much better invested in learning and using an existing ORM framework. Also, don&#39;t use [underscores](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) in Java variable names - just constants (upper case). And anything before &#39;id&#39; in your ID variable names is redundant","body":"I would beware of trying to reinvent ORM. Your time would be much better invested in learning and using an existing ORM framework. Also, don&#39;t use <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">underscores</a> in Java variable names - just constants (upper case). And anything before &#39;id&#39; in your ID variable names is redundant"},{"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"score":0,"creation_date":1666691950,"post_id":74179932,"comment_id":130991905,"body_markdown":"thank you for your comment @\nSeelenvirtuose\n I&#39;ve tried to add to the code: \t\n\n\t\t\t\t`public Wheel wheel;`\n\n\t\t\t\t`Long wheel_id = wheel.getWheel_id();`\n\n\t\t\t\t`rslt.getLong(&quot;wheel_id&quot;),`\n\nbut I still can&#39;t achieve my goal","body":"thank you for your comment @ Seelenvirtuose  I&#39;ve tried to add to the code: \t  \t\t\t\t<code>public Wheel wheel;</code>  \t\t\t\t<code>Long wheel_id = wheel.getWheel_id();</code>  \t\t\t\t<code>rslt.getLong(&quot;wheel_id&quot;),</code>  but I still can&#39;t achieve my goal"}],"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666608213,"creation_date":1666608213,"question_id":74179932,"body_markdown":"I&#39;m working with java and I would like to associate key from a class to another and display it.\r\n\r\nI have 2 classes:\r\n\r\nclass &#39;car&#39; containing:\r\n\r\n    car_id, wheel, other\r\n\r\n\r\nclass &#39;wheel&#39; containing:\r\n\r\n    wheel_id, param1, param2\r\n\r\nHere is &#39;car_manager&#39; in order to view in sqlite database &#39;car&#39; with wheel_id (related to wheel):\r\n\r\n\r\n\tpublic ArrayList&lt;CarManager&gt; getCarManager() {\r\n\t\tArrayList&lt;CarManager&gt; ListCarManager = new ArrayList&lt;CarManager&gt;();\r\n\t\tString query = &quot;SELECT car_id, wheel_id, other FROM CAR_DB ORDER BY car_id&quot;;\r\n\t\ttry {\r\n\t\t\tthis.main.getDatabase().connect();\r\n\t\t\tResultSet rslt = this.main.getDatabase().getResultOf(query);\r\n\t\t\twhile (rslt.next()) {\r\n\t\t\t\tListCarManager.add(new Car\r\n\t\t\t\t\t\t(rslt.getLong(&quot;car_id&quot;),\r\n\t\t\t\t\t\t\t\trslt.getLong(&quot;wheel_id&quot;),\r\n\t\t\t\t\t\t\t\trslt.getString(&quot;other&quot;),\r\n\t\t\t\t\t\t));\r\n\t\t\t}\r\n\t\t\trslt.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.main.getDatabase().disconnect();\r\n\t\t}\r\n\t\treturn ListCarManager;\r\n\t}\r\n\r\n\r\nHowever I have a conflict because &#39;wheel_id&#39; is a long and &#39;car&#39; contains class &#39;wheel&#39;.\r\nI would like to keep class wheel into car. I have tried different things without success:\r\n\r\n\t\t\tLong wheel_id = car.getWheel.getId();\r\n\r\n\t\t\trslt.setLong(i++, car.getWheel.getId(&quot;wheel_id&quot;),\r\n\r\n","title":"Associate file in java for sqlite database","body":"<p>I'm working with java and I would like to associate key from a class to another and display it.</p>\n<p>I have 2 classes:</p>\n<p>class 'car' containing:</p>\n<pre><code>car_id, wheel, other\n</code></pre>\n<p>class 'wheel' containing:</p>\n<pre><code>wheel_id, param1, param2\n</code></pre>\n<p>Here is 'car_manager' in order to view in sqlite database 'car' with wheel_id (related to wheel):</p>\n<pre><code>public ArrayList&lt;CarManager&gt; getCarManager() {\n    ArrayList&lt;CarManager&gt; ListCarManager = new ArrayList&lt;CarManager&gt;();\n    String query = &quot;SELECT car_id, wheel_id, other FROM CAR_DB ORDER BY car_id&quot;;\n    try {\n        this.main.getDatabase().connect();\n        ResultSet rslt = this.main.getDatabase().getResultOf(query);\n        while (rslt.next()) {\n            ListCarManager.add(new Car\n                    (rslt.getLong(&quot;car_id&quot;),\n                            rslt.getLong(&quot;wheel_id&quot;),\n                            rslt.getString(&quot;other&quot;),\n                    ));\n        }\n        rslt.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    finally {\n        this.main.getDatabase().disconnect();\n    }\n    return ListCarManager;\n}\n</code></pre>\n<p>However I have a conflict because 'wheel_id' is a long and 'car' contains class 'wheel'.\nI would like to keep class wheel into car. I have tried different things without success:</p>\n<pre><code>        Long wheel_id = car.getWheel.getId();\n\n        rslt.setLong(i++, car.getWheel.getId(&quot;wheel_id&quot;),\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1584362355,"post_id":60706090,"comment_id":107405537,"body_markdown":"What do you mean by &quot;dot value function&quot;? `original.value` is simply an instance field of type `char[]` in the original String.","body":"What do you mean by &quot;dot value function&quot;? <code>original.value</code> is simply an instance field of type <code>char[]</code> in the original String."},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":2,"creation_date":1584362612,"post_id":60706090,"comment_id":107405635,"body_markdown":"As you are looking at the source code of `String`, you can understand that the `String class` of `Java` is actually implemented with a char array, which is the `value` you saw, a field of the class, nothing to surprise.","body":"As you are looking at the source code of <code>String</code>, you can understand that the <code>String class</code> of <code>Java</code> is actually implemented with a char array, which is the <code>value</code> you saw, a field of the class, nothing to surprise."},{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584362719,"post_id":60706090,"comment_id":107405686,"body_markdown":"You are correct, `new String (&quot;newstring&quot;)`, here we are trying to create `String` object but &quot;newString&quot; already acting as `String` object, how???","body":"You are correct, <code>new String (&quot;newstring&quot;)</code>, here we are trying to create <code>String</code> object but &quot;newString&quot; already acting as <code>String</code> object, how???"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1584363006,"post_id":60706090,"comment_id":107405813,"body_markdown":"`&quot;newstring&quot;` (and every other string literal, as well)  _acts as_ a `String` because it **is a `String`**.","body":"<code>&quot;newstring&quot;</code> (and every other string literal, as well)  <i>acts as</i> a <code>String</code> because it <b>is a <code>String</code></b>."},{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584363409,"post_id":60706090,"comment_id":107405999,"body_markdown":"Kevin, just want to understand how JVM make each String literal as String object internally???","body":"Kevin, just want to understand how JVM make each String literal as String object internally???"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584362708,"creation_date":1584362708,"answer_id":60706271,"question_id":60706090,"body_markdown":"The [docs][1] says\r\n\r\n&gt; Initializes a newly created String object so that it represents the\r\n&gt; same sequence of characters as the argument; in other words, the newly\r\n&gt; created string is a copy of the argument string. Unless an explicit\r\n&gt; copy of original is needed, use of this constructor is unnecessary\r\n&gt; since Strings are immutable.\r\n\r\nTechnically the new String will get the `value` and `hash` of the `original`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nwhich means that this is a copy of another String.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-java.lang.String-\r\n  [2]: https://i.stack.imgur.com/jY85d.png","title":"How is Java String constructor implemented?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-java.lang.String-\" rel=\"nofollow noreferrer\">docs</a> says</p>\n\n<blockquote>\n  <p>Initializes a newly created String object so that it represents the\n  same sequence of characters as the argument; in other words, the newly\n  created string is a copy of the argument string. Unless an explicit\n  copy of original is needed, use of this constructor is unnecessary\n  since Strings are immutable.</p>\n</blockquote>\n\n<p>Technically the new String will get the <code>value</code> and <code>hash</code> of the <code>original</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jY85d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jY85d.png\" alt=\"enter image description here\"></a></p>\n\n<p>which means that this is a copy of another String.</p>\n"},{"tags":[],"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584362814,"creation_date":1584362814,"answer_id":60706298,"question_id":60706090,"body_markdown":"Yes, as already mentioned in the comments, this is very simple.\r\nSince you&#39;re looking at the `String` class itself — it has access to its own fields. And that is where the characters this given string consists of are actually stored — in a `char` array. This method simply references the field by name, very basic interaction.","title":"How is Java String constructor implemented?","body":"<p>Yes, as already mentioned in the comments, this is very simple.\nSince you're looking at the <code>String</code> class itself — it has access to its own fields. And that is where the characters this given string consists of are actually stored — in a <code>char</code> array. This method simply references the field by name, very basic interaction.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584384968,"creation_date":1584363908,"answer_id":60706565,"question_id":60706090,"body_markdown":"String by design holds Unicode text, so all language scripts may be combined.\r\nFor that the implementation holds an array (field name `value`), where every char is a two byte UTF-16 value.\r\n\r\nYou encountered the one and AFAIK only silly point in the Java classes.\r\n\r\nThe shown _copy constructor_ is senseless, as Strings are immutable objects,\r\nand they may be shared by simple assignment. It is a fossile of C++ inheritance,\r\nmaybe in association with String interning.\r\n\r\nTo make a _copy_ is senseless. This holds too for the internal `char` array, which indeed may be assigned by reference. (Not very consequent.)\r\n\r\nSo the following shows inexperienced java usage:\r\n\r\n    String s = new String(t);\r\n\r\nWith the newest java versions, the value of a String might actually be a byte array in some encoding, and hence the chars are lazily provided.\r\n\r\n-----------------------\r\n***About String literals:***\r\n\r\nString literals are stored in a datastructure in a .class file called the _constant pool_. Stored is it as UTF-8 bytes. The JVM ClassLoader ensures that the string is loaded as String.\r\n\r\nImports of `final static String` constants are copied into the constant pool, and the original class may no longer appear as being imported from.\r\nHolding string constant in an other class may require manually doing a clean build, as there might no longer exist a class dependency.","title":"How is Java String constructor implemented?","body":"<p>String by design holds Unicode text, so all language scripts may be combined.\nFor that the implementation holds an array (field name <code>value</code>), where every char is a two byte UTF-16 value.</p>\n\n<p>You encountered the one and AFAIK only silly point in the Java classes.</p>\n\n<p>The shown <em>copy constructor</em> is senseless, as Strings are immutable objects,\nand they may be shared by simple assignment. It is a fossile of C++ inheritance,\nmaybe in association with String interning.</p>\n\n<p>To make a <em>copy</em> is senseless. This holds too for the internal <code>char</code> array, which indeed may be assigned by reference. (Not very consequent.)</p>\n\n<p>So the following shows inexperienced java usage:</p>\n\n<pre><code>String s = new String(t);\n</code></pre>\n\n<p>With the newest java versions, the value of a String might actually be a byte array in some encoding, and hence the chars are lazily provided.</p>\n\n<hr>\n\n<p><strong><em>About String literals:</em></strong></p>\n\n<p>String literals are stored in a datastructure in a .class file called the <em>constant pool</em>. Stored is it as UTF-8 bytes. The JVM ClassLoader ensures that the string is loaded as String.</p>\n\n<p>Imports of <code>final static String</code> constants are copied into the constant pool, and the original class may no longer appear as being imported from.\nHolding string constant in an other class may require manually doing a clean build, as there might no longer exist a class dependency.</p>\n"}],"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60706565,"answer_count":3,"score":2,"last_activity_date":1666607682,"creation_date":1584361914,"question_id":60706090,"body_markdown":"I was going through Java String source code, found a CTOR where I have some doubts:\r\n\r\n    public String(String original) {\r\n        this.value = original.value;\r\n        this.hash = original.hash;\r\n    }\r\n    \r\nI understood that Original is acting as literal `String` (with double quotes) but not able to understand how is java/jvm computed `original.value` as `char` Array. What is &quot;value&quot; over here?? if value is `char` Array then how `.value` function/Field is calculated???","title":"How is Java String constructor implemented?","body":"<p>I was going through Java String source code, found a CTOR where I have some doubts:</p>\n\n<pre><code>public String(String original) {\n    this.value = original.value;\n    this.hash = original.hash;\n}\n</code></pre>\n\n<p>I understood that Original is acting as literal <code>String</code> (with double quotes) but not able to understand how is java/jvm computed <code>original.value</code> as <code>char</code> Array. What is \"value\" over here?? if value is <code>char</code> Array then how <code>.value</code> function/Field is calculated???</p>\n"},{"tags":["java","concatenation","outputstream","mutiny","smallrye"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666607296,"creation_date":1666607296,"answer_id":74179771,"question_id":74178209,"body_markdown":"Both `Multi` have to return a `Multi&lt;Customer&gt;` if you want to concatenate them.\r\n\r\nLooking at your code, it seems that what you need to do is to convert the json into a `Customer` (or collection of `Customer`) and then convert it to a `Multi`. I don&#39;t know how you convert the JSON to a `Customer`, assuming you have a function `convertToCustomer`, this is how the code should look like:\r\n```java\r\nMulti&lt;Customer&gt; customerMulti = Multi.createFrom().item( convertToCustomer(jsonGenerator)) \r\nMulti&lt;Customer&gt; customersPublisher = Multi.createFrom().publisher(new CustomerPublisher(input));\r\n\r\n// Now you can concatenate the two\r\nMulti&lt;Customer&gt; result =  Multi.createBy().concatenating()\r\n                               .streams(customerMulti, customersPublisher);\r\n```\r\n\r\nAlternatively, your method could return a `Multi&lt;Object&gt;`. But I suspect this is not what you need.","title":"How to concatenate 2 different types of streams using Smallrye Mutiny Multi?","body":"<p>Both <code>Multi</code> have to return a <code>Multi&lt;Customer&gt;</code> if you want to concatenate them.</p>\n<p>Looking at your code, it seems that what you need to do is to convert the json into a <code>Customer</code> (or collection of <code>Customer</code>) and then convert it to a <code>Multi</code>. I don't know how you convert the JSON to a <code>Customer</code>, assuming you have a function <code>convertToCustomer</code>, this is how the code should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Customer&gt; customerMulti = Multi.createFrom().item( convertToCustomer(jsonGenerator)) \nMulti&lt;Customer&gt; customersPublisher = Multi.createFrom().publisher(new CustomerPublisher(input));\n\n// Now you can concatenate the two\nMulti&lt;Customer&gt; result =  Multi.createBy().concatenating()\n                               .streams(customerMulti, customersPublisher);\n</code></pre>\n<p>Alternatively, your method could return a <code>Multi&lt;Object&gt;</code>. But I suspect this is not what you need.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74179771,"answer_count":1,"score":1,"last_activity_date":1666607296,"creation_date":1666598963,"question_id":74178209,"body_markdown":"I would like to concatenate 2 OutputStream of different types using the method `Multi.createBy().concatenating().streams`. Is there a way to achieve this?\r\n\r\nI have 2 streams one is of `ByteArrayOutputStream` and other is of custom type `CustomerEvent` and I would like to concatenate them using the SmallRye Mutiny. Is there a way to achieve this?\r\n\r\n```\r\npublic class CustomerGenerator {\r\n\r\n    private ByteArrayOutputStream jsonOutput;\r\n    private JsonGenerator jsonGenerator;\r\n\r\n    private CustomerGenerator() {\r\n        try {\r\n            jsonOutput = new ByteArrayOutputStream();\r\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n        } catch (IOException ex) {\r\n            throw new CustomerGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public Multi &lt; Customer &gt; generateCustomer(final Input input) {\r\n        try {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n            jsonGenerator.writeEndObject(); // End body\r\n            jsonGenerator.writeEndObject(); // End whole json file\r\n\r\n            Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\r\n            return Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\r\n    } catch (IOException ex) {\r\n        throw new CustomerGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n    }\r\n}\r\n}\r\n```\r\n\r\nAs you can see from the code sample, I would like to concatenate the generated JSON to my other JSON of type `Customer`. Is there a way to achieve this?\r\n\r\n```\r\nMulti &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\r\nreturn Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\r\n```","title":"How to concatenate 2 different types of streams using Smallrye Mutiny Multi?","body":"<p>I would like to concatenate 2 OutputStream of different types using the method <code>Multi.createBy().concatenating().streams</code>. Is there a way to achieve this?</p>\n<p>I have 2 streams one is of <code>ByteArrayOutputStream</code> and other is of custom type <code>CustomerEvent</code> and I would like to concatenate them using the SmallRye Mutiny. Is there a way to achieve this?</p>\n<pre><code>public class CustomerGenerator {\n\n    private ByteArrayOutputStream jsonOutput;\n    private JsonGenerator jsonGenerator;\n\n    private CustomerGenerator() {\n        try {\n            jsonOutput = new ByteArrayOutputStream();\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        } catch (IOException ex) {\n            throw new CustomerGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\n        }\n    }\n\n    public Multi &lt; Customer &gt; generateCustomer(final Input input) {\n        try {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\n            jsonGenerator.writeEndObject(); // End body\n            jsonGenerator.writeEndObject(); // End whole json file\n\n            Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\n            return Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\n    } catch (IOException ex) {\n        throw new CustomerGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n    }\n}\n}\n</code></pre>\n<p>As you can see from the code sample, I would like to concatenate the generated JSON to my other JSON of type <code>Customer</code>. Is there a way to achieve this?</p>\n<pre><code>Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\nreturn Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\n</code></pre>\n"},{"tags":["java","class","directory","package"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666606882,"creation_date":1666606882,"answer_id":74179694,"question_id":74179361,"body_markdown":"The `-d` option specifies the output directory for class files.\r\n\r\nTry this.\r\n\r\n    C:\\jaBHa&gt;javac -d . sources\\*.java\r\n    \r\n    C:\\jaBHa&gt;java classes.Test\r\n    Mon Oct 24 19:19:05 JST 2022\r\n    \r\n    C:\\jaBHa&gt;\r\n\r\n","title":"Compile source files to a different directory and then accessing them in another directory, how? JAVA","body":"<p>The <code>-d</code> option specifies the output directory for class files.</p>\n<p>Try this.</p>\n<pre><code>C:\\jaBHa&gt;javac -d . sources\\*.java\n\nC:\\jaBHa&gt;java classes.Test\nMon Oct 24 19:19:05 JST 2022\n\nC:\\jaBHa&gt;\n</code></pre>\n"}],"owner":{"account_id":21420599,"reputation":13,"user_id":15778967,"display_name":"Debendra Nath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74179694,"answer_count":1,"score":0,"last_activity_date":1666606882,"creation_date":1666605123,"question_id":74179361,"body_markdown":"My directory structure:\r\n\r\nC:\\jaBHa\r\n\r\nhere I want to create two packages - sources and classes.\r\n\r\nso it looks like \r\n\r\nC:\\jaBHa\\classes\r\n\r\nC:\\jaBHa\\sources\r\n\r\nthe sources package must contain all the source files i.e., the .java files.\r\n\r\nAnd then I want them to compile to the classes package which would contain all the .class files.\r\n\r\nhere are the codes for the three classes...\r\n\r\n```\r\n// MyDate.java\r\npackage classes;\r\n\r\npublic interface MyDate {\r\n    void showDate();\r\n}\r\n\r\n```\r\n\r\n```\r\n// DateImpl.java\r\npackage classes;\r\n\r\nimport java.util.*;\r\nimport classes.*;\r\npublic class DateImpl implements MyDate {\r\n    public void showDate() {\r\n        Date d = new Date();\r\n        System.out.println(d);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// Test.java\r\npackage classes;\r\n\r\nimport classes.*;\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        DateImpl d = new DateImpl();\r\n        d.showDate();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, I know that there&#39;s some issue with my class DateImpl java file, but my objective is...\r\n\r\nthat I want to compile these java files using the commands\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources MyDate.java\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources DateImpl.java\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources Test.java\r\n\r\nwith this the MyDate.java, DateImpl.java and Test.java files will compile to classes package...\r\n\r\nand then i run it by typing\r\n\r\nC:\\jaBHa&gt; java classes.Test \r\n\r\nas the class file of Test.java is in C:\\jaBHa\\sources\\classes package...\r\n\r\nbut here&#39;s the problem, it compiles to C:\\jaBHa\\sources\\ here it will create a package classes but I want it to compile to C:\\jaBHa\\classes not C:\\jaBHa\\sources\\classes...\r\n\r\nso I have to keep my all java files in C:\\jaBHa\\ so that it can compile to classes package.","title":"Compile source files to a different directory and then accessing them in another directory, how? JAVA","body":"<p>My directory structure:</p>\n<p>C:\\jaBHa</p>\n<p>here I want to create two packages - sources and classes.</p>\n<p>so it looks like</p>\n<p>C:\\jaBHa\\classes</p>\n<p>C:\\jaBHa\\sources</p>\n<p>the sources package must contain all the source files i.e., the .java files.</p>\n<p>And then I want them to compile to the classes package which would contain all the .class files.</p>\n<p>here are the codes for the three classes...</p>\n<pre><code>// MyDate.java\npackage classes;\n\npublic interface MyDate {\n    void showDate();\n}\n\n</code></pre>\n<pre><code>// DateImpl.java\npackage classes;\n\nimport java.util.*;\nimport classes.*;\npublic class DateImpl implements MyDate {\n    public void showDate() {\n        Date d = new Date();\n        System.out.println(d);\n    }\n}\n\n</code></pre>\n<pre><code>// Test.java\npackage classes;\n\nimport classes.*;\npublic class Test {\n    public static void main(String[] args) {\n        DateImpl d = new DateImpl();\n        d.showDate();\n    }\n}\n\n</code></pre>\n<p>Now, I know that there's some issue with my class DateImpl java file, but my objective is...</p>\n<p>that I want to compile these java files using the commands</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources MyDate.java</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources DateImpl.java</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources Test.java</p>\n<p>with this the MyDate.java, DateImpl.java and Test.java files will compile to classes package...</p>\n<p>and then i run it by typing</p>\n<p>C:\\jaBHa&gt; java classes.Test</p>\n<p>as the class file of Test.java is in C:\\jaBHa\\sources\\classes package...</p>\n<p>but here's the problem, it compiles to C:\\jaBHa\\sources\\ here it will create a package classes but I want it to compile to C:\\jaBHa\\classes not C:\\jaBHa\\sources\\classes...</p>\n<p>so I have to keep my all java files in C:\\jaBHa\\ so that it can compile to classes package.</p>\n"},{"tags":["java","android","locale"],"answers":[{"tags":[],"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666606879,"creation_date":1666606879,"answer_id":74179692,"question_id":74179542,"body_markdown":"This may help you. ref: https://developer.android.com/guide/topics/resources/providing-resources \r\n\r\nLayout\r\nTo create an alias to an existing layout, use the &lt;include&gt; element, wrapped in a &lt;merge&gt;. For example:\r\n\r\n\r\n             &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n             &lt;merge&gt;\r\n                     &lt;include layout=&quot;@layout/main_ltr&quot;/&gt;\r\n             &lt;/merge&gt; ","title":"Android how to change locale ONLY specifics Activities/Fragments","body":"<p>This may help you. ref: <a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/providing-resources</a></p>\n<p>Layout\nTo create an alias to an existing layout, use the  element, wrapped in a . For example:</p>\n<pre><code>         &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n         &lt;merge&gt;\n                 &lt;include layout=&quot;@layout/main_ltr&quot;/&gt;\n         &lt;/merge&gt; \n</code></pre>\n"}],"owner":{"account_id":16825946,"reputation":298,"user_id":12165242,"display_name":"Dennis Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666606879,"creation_date":1666606018,"question_id":74179542,"body_markdown":"I know this kind of problems had been discussed various times before but I still can not find a solution to my specific case. Let&#39;s say I want to change the locale for my text resources only in specific UI elements through a &quot;Change Locale&quot; button. Here is my approach:\r\nWhen user clicks the button, I update the each elements that needed translated. The code how I do it:\r\n\r\n    public Resources getResourcesByLocale(Context context, String languageCode) {\r\n        if (context == null || languageCode.isEmpty()) return null;\r\n        Configuration configuration = context.getResources().getConfiguration();\r\n        String[] languageCountry = languageCode.split(&quot;-&quot;);\r\n        int size = languageCountry.length;\r\n        if (size &lt; 2) {\r\n            Log.d(TAG, &quot;language and country is not correct in local&quot; + size);\r\n            return null;\r\n        } else {\r\n            Log.d(TAG, &quot;value of langauge &quot; + languageCountry[0] + &quot; value of country :  &quot; + languageCountry[1]);\r\n            String language = languageCountry[0];\r\n            String country = languageCountry[1];\r\n            configuration.setLocale(new Locale(language));\r\n\r\n            return context.createConfigurationContext(configuration).getResources();\r\n        }\r\n    }\r\n\r\nThis code calls whenever I need update my text views:\r\n\r\n    public void updateTextByLocale(Context context, String languageCode, TextView tv, int resId) {\r\n        tv.setText(getResourcesByLocale(context, languageCode).getString(resId));\r\n    }\r\n\r\nHowever, my application crashes with the exception \r\n\r\n&gt; android.content.res.Resources$NotFoundException: String resource ID\r\n&gt; #0x7f0e0074\r\n\r\nMy string resources have the value for both US and KR language. Please help!","title":"Android how to change locale ONLY specifics Activities/Fragments","body":"<p>I know this kind of problems had been discussed various times before but I still can not find a solution to my specific case. Let's say I want to change the locale for my text resources only in specific UI elements through a &quot;Change Locale&quot; button. Here is my approach:\nWhen user clicks the button, I update the each elements that needed translated. The code how I do it:</p>\n<pre><code>public Resources getResourcesByLocale(Context context, String languageCode) {\n    if (context == null || languageCode.isEmpty()) return null;\n    Configuration configuration = context.getResources().getConfiguration();\n    String[] languageCountry = languageCode.split(&quot;-&quot;);\n    int size = languageCountry.length;\n    if (size &lt; 2) {\n        Log.d(TAG, &quot;language and country is not correct in local&quot; + size);\n        return null;\n    } else {\n        Log.d(TAG, &quot;value of langauge &quot; + languageCountry[0] + &quot; value of country :  &quot; + languageCountry[1]);\n        String language = languageCountry[0];\n        String country = languageCountry[1];\n        configuration.setLocale(new Locale(language));\n\n        return context.createConfigurationContext(configuration).getResources();\n    }\n}\n</code></pre>\n<p>This code calls whenever I need update my text views:</p>\n<pre><code>public void updateTextByLocale(Context context, String languageCode, TextView tv, int resId) {\n    tv.setText(getResourcesByLocale(context, languageCode).getString(resId));\n}\n</code></pre>\n<p>However, my application crashes with the exception</p>\n<blockquote>\n<p>android.content.res.Resources$NotFoundException: String resource ID\n#0x7f0e0074</p>\n</blockquote>\n<p>My string resources have the value for both US and KR language. Please help!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1666595649,"post_id":74177639,"comment_id":130965615,"body_markdown":"(BTW that is not an *inner class*, just a *nested class* - Java Language Specification [8.1.3. Inner Classes and Enclosing Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-120): &quot;The following nested classes are implicitly `static`, so are not *inner* classes: ... - a member class of an interface&quot; - and since `static`, you have no `T` type for it {at least not the one from the interface})","body":"(BTW that is not an <i>inner class</i>, just a <i>nested class</i> - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-120\" rel=\"nofollow noreferrer\">8.1.3. Inner Classes and Enclosing Instances</a>: &quot;The following nested classes are implicitly <code>static</code>, so are not <i>inner</i> classes: ... - a member class of an interface&quot; - and since <code>static</code>, you have no <code>T</code> type for it {at least not the one from the interface})"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1666595760,"post_id":74177639,"comment_id":130965638,"body_markdown":"*How can I make the code compile* -&gt; Make `Builder` also generic -&gt; `Builder&lt;T&gt;`.","body":"<i>How can I make the code compile</i> -&gt; Make <code>Builder</code> also generic -&gt; <code>Builder&lt;T&gt;</code>."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666596068,"post_id":74177639,"comment_id":130965718,"body_markdown":"you need to show the _entire_ `Processor` (what is and where is `Person`?) and also exactly how you get that error.","body":"you need to show the <i>entire</i> <code>Processor</code> (what is and where is <code>Person</code>?) and also exactly how you get that error."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666596070,"post_id":74177639,"comment_id":130965719,"body_markdown":"using previous [solution](https://stackoverflow.com/questions/74177639/inner-class-does-not-have-access-to-t-of-the-outer-interface#comment130965638_74177639) (from Lino): be aware that `Builder&lt;T&gt;` is using a different `T` than the one of the interface (recommended to use a different type name)","body":"using previous <a href=\"https://stackoverflow.com/questions/74177639/inner-class-does-not-have-access-to-t-of-the-outer-interface#comment130965638_74177639\">solution</a> (from Lino): be aware that <code>Builder&lt;T&gt;</code> is using a different <code>T</code> than the one of the interface (recommended to use a different type name)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666618490,"post_id":74177639,"comment_id":130973170,"body_markdown":"Why do you even try this approach if it doesn’t even address your (previous) question?","body":"Why do you even try this approach if it doesn’t even address your (previous) question?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666621466,"post_id":74177639,"comment_id":130974397,"body_markdown":"@Holger: I didn&#39;t realise that it won&#39;t help until I started trying it. I couldn&#39;t understand the answer initially and wanted to try it out in case it started to make sense","body":"@Holger: I didn&#39;t realise that it won&#39;t help until I started trying it. I couldn&#39;t understand the answer initially and wanted to try it out in case it started to make sense"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666596195,"creation_date":1666596090,"answer_id":74177733,"question_id":74177639,"body_markdown":"`Processor` is not a class, it&#39;s an interface. Nested classes in interfaces are `static` by default.\r\n\r\nBut the builder does not define any logic. Move the builder to the implementation (classes) of the interface.\r\n\r\n```\r\npublic class RealProcessor&lt;T&gt; implements Processor&lt;T&gt; {\r\n     class Builder {\r\n        private T t = null;  // assign default values\r\n        private String firstName = null;\r\n        private String lastName = null;\r\n        private String cc = null;\r\n    }\r\n    List&lt;Person&gt; process();\r\n}\r\n```","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p><code>Processor</code> is not a class, it's an interface. Nested classes in interfaces are <code>static</code> by default.</p>\n<p>But the builder does not define any logic. Move the builder to the implementation (classes) of the interface.</p>\n<pre><code>public class RealProcessor&lt;T&gt; implements Processor&lt;T&gt; {\n     class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n    }\n    List&lt;Person&gt; process();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666606515,"creation_date":1666606515,"answer_id":74179633,"question_id":74177639,"body_markdown":"You will need to make static class `Builder` generic if it is declared inside the interface:\r\n\r\n    public interface Processor &lt;T&gt; {\r\n        class Builder&lt;T&gt; {\r\n           private T t = null;\r\n           // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nNote that as `Builder` is a static class the name of the generic does not need to be `&lt;T&gt;`, this is an equivalent declaration using `&lt;X&gt;`:\r\n\r\n    public interface Processor &lt;T&gt; {\r\n        class Builder&lt;X&gt; {\r\n           private X t = null;\r\n           // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nThe instantiation for both is same without need to qualify `Processor` generic type:\r\n \r\n    Builder&lt;SomeClass&gt; builder = new Processor.Builder&lt;SomeClass&gt;(arg, ... );\r\n","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p>You will need to make static class <code>Builder</code> generic if it is declared inside the interface:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n    class Builder&lt;T&gt; {\n       private T t = null;\n       // ...\n    }\n    // ...\n}\n</code></pre>\n<p>Note that as <code>Builder</code> is a static class the name of the generic does not need to be <code>&lt;T&gt;</code>, this is an equivalent declaration using <code>&lt;X&gt;</code>:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n    class Builder&lt;X&gt; {\n       private X t = null;\n       // ...\n    }\n    // ...\n}\n</code></pre>\n<p>The instantiation for both is same without need to qualify <code>Processor</code> generic type:</p>\n<pre><code>Builder&lt;SomeClass&gt; builder = new Processor.Builder&lt;SomeClass&gt;(arg, ... );\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666606515,"creation_date":1666595379,"question_id":74177639,"body_markdown":"I am trying to follow the approach given in this [answer][1] of my earlier question:  \r\nBut the code does not compile:  \r\n\r\n    public interface Processor &lt;T&gt; {\r\n         class Builder {\r\n            private T t = null;  // assign default values\r\n            private String firstName = null;\r\n            private String lastName = null;\r\n            private String cc = null;\r\n        }\r\n        List&lt;Person&gt; process();\r\n    }  \r\n\r\nI get the error\r\n\r\n    com.foo.Processor.this can not be referenced from a static context \r\n\r\nHow can I make the code compile so I can try out the approach of that answer?\r\n\r\n  [1]: https://stackoverflow.com/questions/74173946/factory-pattern-using-a-hashmap-and-functional-approach\r\n\r\n","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p>I am trying to follow the approach given in this <a href=\"https://stackoverflow.com/questions/74173946/factory-pattern-using-a-hashmap-and-functional-approach\">answer</a> of my earlier question:<br />\nBut the code does not compile:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n     class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n    }\n    List&lt;Person&gt; process();\n}  \n</code></pre>\n<p>I get the error</p>\n<pre><code>com.foo.Processor.this can not be referenced from a static context \n</code></pre>\n<p>How can I make the code compile so I can try out the approach of that answer?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":4526743,"reputation":2527,"user_id":3678308,"accept_rate":100,"display_name":"Muhammad Waleed"},"score":1,"creation_date":1462867288,"post_id":37131212,"comment_id":61804519,"body_markdown":"try this answer.... http://stackoverflow.com/a/30450020/3678308","body":"try this answer.... <a href=\"http://stackoverflow.com/a/30450020/3678308\">stackoverflow.com/a/30450020/3678308</a>"}],"answers":[{"tags":[],"owner":{"account_id":1324242,"reputation":1619,"user_id":1269429,"display_name":"MarkySmarky"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462866290,"creation_date":1462866290,"answer_id":37132229,"question_id":37131212,"body_markdown":"Try running gradle from command line:\r\n\r\n    gradle clean build --debug\r\n\r\nAnd post your log afterwards.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Try running gradle from command line:</p>\n\n<pre><code>gradle clean build --debug\n</code></pre>\n\n<p>And post your log afterwards.</p>\n"},{"tags":[],"owner":{"account_id":6257625,"reputation":113,"user_id":4865689,"display_name":"Pooja Nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462867577,"creation_date":1462867577,"answer_id":37132627,"question_id":37131212,"body_markdown":"Just check this link - https://stackoverflow.com/questions/17121033/android-studio-mergedebugresources-exception and https://stackoverflow.com/questions/23366222/libpng-error-not-a-png-file-error-showing-in-android-studio\r\n\r\nYou can try this command as well sudo apt-get install lib32stdc++6 on the console if you are working on a linux machine, then restart android studio and run your project ","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Just check this link - <a href=\"https://stackoverflow.com/questions/17121033/android-studio-mergedebugresources-exception\">Android Studio - mergeDebugResources exception</a> and <a href=\"https://stackoverflow.com/questions/23366222/libpng-error-not-a-png-file-error-showing-in-android-studio\">libpng error: Not a PNG file Error Showing In Android Studio</a></p>\n\n<p>You can try this command as well sudo apt-get install lib32stdc++6 on the console if you are working on a linux machine, then restart android studio and run your project </p>\n"},{"tags":[],"owner":{"account_id":5068479,"reputation":3082,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1462884051,"creation_date":1462884051,"answer_id":37138868,"question_id":37131212,"body_markdown":"All problem was a crashed png image in one of my drawable folders. I mean the images which we sometime face in windows photo viewer, like the one below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qjwx2.png\r\n\r\nI dropped the image from the folder and all problem got solved.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>All problem was a crashed png image in one of my drawable folders. I mean the images which we sometime face in windows photo viewer, like the one below:\n<a href=\"https://i.stack.imgur.com/Qjwx2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qjwx2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I dropped the image from the folder and all problem got solved.</p>\n"},{"tags":[],"owner":{"account_id":6653281,"reputation":2222,"user_id":5134647,"accept_rate":73,"display_name":"shadygoneinsane"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1485237017,"creation_date":1480669620,"answer_id":40928360,"question_id":37131212,"body_markdown":"In the individual apps&#39;s build.gradle, section `android {}`, insert :\r\n\r\n    aaptOptions {  \r\n        cruncherEnabled = false  \r\n    }  \r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=65335","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In the individual apps's build.gradle, section <code>android {}</code>, insert :</p>\n\n<pre><code>aaptOptions {  \n    cruncherEnabled = false  \n}  \n</code></pre>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=65335\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":3424068,"reputation":1784,"user_id":2870477,"display_name":"Floris M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501504419,"creation_date":1501504419,"answer_id":45416081,"question_id":37131212,"body_markdown":"For me, it was a corrupted PNG file. Go to your `res` folder and try to open every images.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>For me, it was a corrupted PNG file. Go to your <code>res</code> folder and try to open every images.</p>\n"},{"tags":[],"owner":{"display_name":"user8356857"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501648011,"creation_date":1501648011,"answer_id":45451472,"question_id":37131212,"body_markdown":"compress the project file and delete prjct. and extract it and open ","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>compress the project file and delete prjct. and extract it and open </p>\n"},{"tags":[],"owner":{"account_id":11889801,"reputation":27,"user_id":8701047,"display_name":"Neon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664170430,"creation_date":1507603807,"answer_id":46657926,"question_id":37131212,"body_markdown":"Actually, image file something wrong. Go to (`drawable`) and remove image or replace with new image.This will solve problem.\r\n\r\nIn addition, you can put method in (`build.gradle`), but This will not solve the problem but good way to catch up what was wrong.\r\n\r\nIn `build.gradle`, section `android {}`, insert `aaptOptions { cruncherEnabled = false }`.\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Actually, image file something wrong. Go to (<code>drawable</code>) and remove image or replace with new image.This will solve problem.</p>\n<p>In addition, you can put method in (<code>build.gradle</code>), but This will not solve the problem but good way to catch up what was wrong.</p>\n<p>In <code>build.gradle</code>, section <code>android {}</code>, insert <code>aaptOptions { cruncherEnabled = false }</code>.</p>\n"},{"tags":[],"owner":{"account_id":3651596,"reputation":21,"user_id":3043644,"display_name":"Vicky Pramanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511934783,"creation_date":1511934783,"answer_id":47545962,"question_id":37131212,"body_markdown":"In my res folder I created a 9PNG file. After deleting this file everthing is working fine.\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In my res folder I created a 9PNG file. After deleting this file everthing is working fine.</p>\n"},{"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513453080,"creation_date":1513453080,"answer_id":47849293,"question_id":37131212,"body_markdown":" 1. Browse Through Your Project Manifest and Resource Files to see if\r\n    there is an error in the Images you are using. (I was missing the\r\n    roundLauncherIcon).\r\n 2.  Check if all the images that you are using are\r\n    actually existing.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<ol>\n<li>Browse Through Your Project Manifest and Resource Files to see if\nthere is an error in the Images you are using. (I was missing the\nroundLauncherIcon).</li>\n<li>Check if all the images that you are using are\nactually existing.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521056846,"creation_date":1521056846,"answer_id":49286530,"question_id":37131212,"body_markdown":"For me, I was getting this error because the full path to the folder was longer than allowed by Windows. I moved my build to a shallower path and this error went away.\r\n\r\nRelated question: https://stackoverflow.com/questions/39595441/android-studio-2-2-google-play-services-sync-error","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>For me, I was getting this error because the full path to the folder was longer than allowed by Windows. I moved my build to a shallower path and this error went away.</p>\n\n<p>Related question: <a href=\"https://stackoverflow.com/questions/39595441/android-studio-2-2-google-play-services-sync-error\">Android Studio 2.2 Google play services sync Error</a></p>\n"},{"tags":[],"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564048601,"creation_date":1564048601,"answer_id":57199236,"question_id":37131212,"body_markdown":"On react native\n\nWhen you&#39;re inside your project directory try using :\n\n&gt; $ cd android &amp;&amp; gradlew clean\n&gt;\n&gt; $ cd .. &amp;&amp; react-native run-android","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>On react native</p>\n<p>When you're inside your project directory try using :</p>\n<blockquote>\n<p>$ cd android &amp;&amp; gradlew clean</p>\n<p>$ cd .. &amp;&amp; react-native run-android</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14443543,"reputation":53,"user_id":10433432,"display_name":"sachinsaini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593050478,"creation_date":1593050478,"answer_id":62566760,"question_id":37131212,"body_markdown":"I was facing the same issue checked all the related answer but my problem was not solved.\r\nI added a new folder drawable to add icons in my app. So after deleting that folder my problem was resolved. \r\nAlso, clean the Gradle your problem will be resolved.\r\n\r\n   ` cd android &amp;&amp; gradlew clean`&lt;br&gt;\r\n   ` cd .. &amp;&amp; react-native run-android`\r\n\r\nAlso, there may be some data which is corrupted like images you have added, try to remove those images may it work.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I was facing the same issue checked all the related answer but my problem was not solved.\nI added a new folder drawable to add icons in my app. So after deleting that folder my problem was resolved.\nAlso, clean the Gradle your problem will be resolved.</p>\n<p><code> cd android &amp;&amp; gradlew clean</code><br>\n<code> cd .. &amp;&amp; react-native run-android</code></p>\n<p>Also, there may be some data which is corrupted like images you have added, try to remove those images may it work.</p>\n"},{"tags":[],"owner":{"account_id":19810593,"reputation":1,"user_id":14509526,"display_name":"rayala venkata rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603533366,"creation_date":1603492588,"answer_id":64508091,"question_id":37131212,"body_markdown":"I have the same error too. But it has fixed now.\r\n\r\nThe main problem is some Gradle files are corrupted. I have deleted entire .gradle file and run the project again. This time it got worked!.\r\n\r\nWhen I run after deleting .gradle file, it automatically repaired the Gradle files as shown below:\r\n\r\nLOG IN DEBUG CONSOLE:\r\n\r\n```\r\nThis seems like the library is partially migrated. Jetifier will try to rewrite the library anyway.\r\n\r\n **Example of androidX reference: &#39;androidx/annotation/NonNull&#39;\r\n Example of support library reference: &#39;android/support/annotation/NonNull&#39;**\r\n\r\n√ Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\r\n\r\nInstalling build\\app\\outputs\\flutter-apk\\app.apk...\r\n\r\nWaiting for RMX1921 to report its views...\r\n\r\nDebug service listening on ws://127.0.0.1:56754/iCJTNoGKPFA=/ws\r\n\r\nSyncing files to device RMX1921...\r\n```","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I have the same error too. But it has fixed now.</p>\n<p>The main problem is some Gradle files are corrupted. I have deleted entire .gradle file and run the project again. This time it got worked!.</p>\n<p>When I run after deleting .gradle file, it automatically repaired the Gradle files as shown below:</p>\n<p>LOG IN DEBUG CONSOLE:</p>\n<pre><code>This seems like the library is partially migrated. Jetifier will try to rewrite the library anyway.\n\n **Example of androidX reference: 'androidx/annotation/NonNull'\n Example of support library reference: 'android/support/annotation/NonNull'**\n\n√ Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\n\nInstalling build\\app\\outputs\\flutter-apk\\app.apk...\n\nWaiting for RMX1921 to report its views...\n\nDebug service listening on ws://127.0.0.1:56754/iCJTNoGKPFA=/ws\n\nSyncing files to device RMX1921...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12553354,"reputation":41,"user_id":9134063,"display_name":"Muhammad Hamza Ehsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611845990,"creation_date":1611845990,"answer_id":65939713,"question_id":37131212,"body_markdown":"In my case I have deleted all PNG files in res folder and then I have reinstalled that and it works for me","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In my case I have deleted all PNG files in res folder and then I have reinstalled that and it works for me</p>\n"},{"tags":[],"owner":{"account_id":17627151,"reputation":11,"user_id":12792002,"display_name":"Jeremie Kapuku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611866412,"creation_date":1611866033,"answer_id":65944803,"question_id":37131212,"body_markdown":"I hope this is helpful to someone. \r\n\r\nI had the same error and tried the code sample below as well as deleting my .grade, to deleting my .build and .idea which didn&#39;t work.\r\n\r\n````\r\naaptOptions {  \r\n    cruncherEnabled = false  \r\n}  \r\n````\r\n\r\nI later discovered what was causing the error. \r\n\r\nIf the error wasn&#39;t caused by changing an image file extension manually. I suggest to check your strings or array.xml and make sure you aren&#39;t using a single quote without having backslash before the single quote.\r\n\r\nError:\r\n\r\n    C&#244;te d&#39;Ivoire\r\n\r\nFix:\r\n\r\n    C&#244;te d\\&#39;Ivoire\r\n\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I hope this is helpful to someone.</p>\n<p>I had the same error and tried the code sample below as well as deleting my .grade, to deleting my .build and .idea which didn't work.</p>\n<pre><code>aaptOptions {  \n    cruncherEnabled = false  \n}  \n</code></pre>\n<p>I later discovered what was causing the error.</p>\n<p>If the error wasn't caused by changing an image file extension manually. I suggest to check your strings or array.xml and make sure you aren't using a single quote without having backslash before the single quote.</p>\n<p>Error:</p>\n<pre><code>Côte d'Ivoire\n</code></pre>\n<p>Fix:</p>\n<pre><code>Côte d\\'Ivoire\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636354777,"creation_date":1636353208,"answer_id":69879413,"question_id":37131212,"body_markdown":"I tried everything above mentioned but couldn&#39;t find anything. Then I backed up my code and reverted to last runnable commit, after that i copy/pasted my code back to original piece by piece and added the files again and i found out the problem. I did `&lt;item&gt;Driver&#39;s License&lt;/item&gt;` which i changed to `&lt;item&gt;Driver\\&#39;s License&lt;/item&gt;` inside string array in strings.xml file.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I tried everything above mentioned but couldn't find anything. Then I backed up my code and reverted to last runnable commit, after that i copy/pasted my code back to original piece by piece and added the files again and i found out the problem. I did <code>&lt;item&gt;Driver's License&lt;/item&gt;</code> which i changed to <code>&lt;item&gt;Driver\\'s License&lt;/item&gt;</code> inside string array in strings.xml file.</p>\n"},{"tags":[],"owner":{"account_id":11056685,"reputation":228,"user_id":8119333,"accept_rate":100,"display_name":"BenoHiT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666606209,"creation_date":1666606209,"answer_id":74179588,"question_id":37131212,"body_markdown":"    cd adroid\r\n    ./gradlew clean\r\n\r\nworked for me","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<pre><code>cd adroid\n./gradlew clean\n</code></pre>\n<p>worked for me</p>\n"}],"owner":{"account_id":5068479,"reputation":3082,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74782,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37138868,"answer_count":17,"score":17,"last_activity_date":1666606209,"creation_date":1462863093,"question_id":37131212,"body_markdown":"currently I am using Android Studio 2.1 when I run my App it shows me some error in Message Gradle Build saying the following\r\n\r\n   \r\n\r\n     Information:Gradle tasks [:app:clean, :app:generateDebugSources, :app:prepareDebugUnitTestDependencies, :app:mockableAndroidJar, :app:generateDebugAndroidTestSources, :app:assembleDebug]\r\n    :app:clean\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDebugBuild UP-TO-DATE\r\n    :app:checkDebugManifest\r\n    :app:preReleaseBuild UP-TO-DATE\r\n    :app:prepareComAndroidSupportAppcompatV72221Library\r\n    :app:prepareComAndroidSupportDesign2221Library\r\n    :app:prepareComAndroidSupportSupportV42221Library\r\n    :app:prepareDebugDependencies\r\n    :app:compileDebugAidl\r\n    :app:compileDebugRenderscript\r\n    :app:generateDebugBuildConfig\r\n    :app:mergeDebugShaders\r\n    :app:compileDebugShaders\r\n    :app:generateDebugAssets\r\n    :app:mergeDebugAssets\r\n    :app:generateDebugResValues UP-TO-DATE\r\n    :app:generateDebugResources\r\n    :app:mergeDebugResources\r\n    AAPT err(Facade for 114461397): libpng error: Read Error\r\n    *Error:Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; Some file crunching failed, see logs for details*\r\n    Information:BUILD FAILED\r\n    Information:Total time: 24.87 secs\r\n    Information:1 error\r\n    Information:0 warnings\r\n    Information:See complete output in console\r\n\r\nI tried cleaning and rebuilding it but it didn&#39;t work. The answer for [this][1] question didn&#39;t work also. Any help would be appreciated, thanks.\r\n\r\n\r\n**Updated:**\r\nHere is the log output\r\n\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\r\n    java:69)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46\r\n    )\r\n            at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskEx\r\n    ecuter.java:35)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExec\r\n    uter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.j\r\n    ava:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.j\r\n    ava:43)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\r\n    r.java:203)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\r\n    r.java:185)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecut\r\n    or.java:66)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:\r\n    50)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n            at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n            at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n            at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n            at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n            at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n            at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter\r\n    .java:94)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\r\n    cuter.java:51)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\r\n    cuter.java:28)\r\n            at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n            at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:23\r\n    7)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:21\r\n    0)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n            at org.gradle.launcher.Main.doAction(Main.java:33)\r\n            at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n            at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    Caused by: java.lang.RuntimeException: Some file crunching failed, see logs for details\r\n            at com.android.builder.png.QueuedCruncher.waitForAll(QueuedCruncher.java:260)\r\n            at com.android.builder.png.QueuedCruncher.end(QueuedCruncher.java:280)\r\n            at com.android.ide.common.res2.MergedResourceWriter.end(MergedResourceWriter.java:132)\r\n            at com.android.ide.common.res2.DataMerger.mergeData(DataMerger.java:295)\r\n            at com.android.ide.common.res2.ResourceMerger.mergeData(ResourceMerger.java:405)\r\n            at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:178)\r\n            at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(A\r\n    nnotationProcessingTaskFactory.java:244)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\r\n    tionProcessingTaskFactory.java:220)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(Ann\r\n    otationProcessingTaskFactory.java:231)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\r\n    tionProcessingTaskFactory.java:209)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.j\r\n    ava:80)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\r\n    java:61)\r\n            ... 57 more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30764604/execution-failed-for-task-appmergedebugresources-crunching-cruncher-png-fa","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>currently I am using Android Studio 2.1 when I run my App it shows me some error in Message Gradle Build saying the following</p>\n\n<pre><code> Information:Gradle tasks [:app:clean, :app:generateDebugSources, :app:prepareDebugUnitTestDependencies, :app:mockableAndroidJar, :app:generateDebugAndroidTestSources, :app:assembleDebug]\n:app:clean\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:checkDebugManifest\n:app:preReleaseBuild UP-TO-DATE\n:app:prepareComAndroidSupportAppcompatV72221Library\n:app:prepareComAndroidSupportDesign2221Library\n:app:prepareComAndroidSupportSupportV42221Library\n:app:prepareDebugDependencies\n:app:compileDebugAidl\n:app:compileDebugRenderscript\n:app:generateDebugBuildConfig\n:app:mergeDebugShaders\n:app:compileDebugShaders\n:app:generateDebugAssets\n:app:mergeDebugAssets\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources\n:app:mergeDebugResources\nAAPT err(Facade for 114461397): libpng error: Read Error\n*Error:Execution failed for task ':app:mergeDebugResources'.\n&gt; Some file crunching failed, see logs for details*\nInformation:BUILD FAILED\nInformation:Total time: 24.87 secs\nInformation:1 error\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>I tried cleaning and rebuilding it but it didn't work. The answer for <a href=\"https://stackoverflow.com/questions/30764604/execution-failed-for-task-appmergedebugresources-crunching-cruncher-png-fa\">this</a> question didn't work also. Any help would be appreciated, thanks.</p>\n\n<p><strong>Updated:</strong>\nHere is the log output</p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\njava:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46\n)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskEx\necuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExec\nuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.j\nava:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.j\nava:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\nr.java:203)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\nr.java:185)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecut\nor.java:66)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:\n50)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\n        at org.gradle.internal.Factories$1.create(Factories.java:22)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter\n.java:94)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\ncuter.java:51)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\ncuter.java:28)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:23\n7)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:21\n0)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n        at org.gradle.launcher.Main.doAction(Main.java:33)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nCaused by: java.lang.RuntimeException: Some file crunching failed, see logs for details\n        at com.android.builder.png.QueuedCruncher.waitForAll(QueuedCruncher.java:260)\n        at com.android.builder.png.QueuedCruncher.end(QueuedCruncher.java:280)\n        at com.android.ide.common.res2.MergedResourceWriter.end(MergedResourceWriter.java:132)\n        at com.android.ide.common.res2.DataMerger.mergeData(DataMerger.java:295)\n        at com.android.ide.common.res2.ResourceMerger.mergeData(ResourceMerger.java:405)\n        at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:178)\n        at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(A\nnnotationProcessingTaskFactory.java:244)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\ntionProcessingTaskFactory.java:220)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(Ann\notationProcessingTaskFactory.java:231)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\ntionProcessingTaskFactory.java:209)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.j\nava:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\njava:61)\n        ... 57 more\n</code></pre>\n"},{"tags":["java","sql","oracle","spring-boot","plsql"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1666605056,"post_id":74179172,"comment_id":130968540,"body_markdown":"You shouldn&#39;t have quotes around your bind variable placeholder (i.e. it should be `?` not `&#39;?&#39;`), but that won&#39;t cause the error you&#39;re seeing. Are you able to see the actual SQL statement issued to the database - maybe it&#39;s in a log file somewhere?","body":"You shouldn&#39;t have quotes around your bind variable placeholder (i.e. it should be <code>?</code> not <code>&#39;?&#39;</code>), but that won&#39;t cause the error you&#39;re seeing. Are you able to see the actual SQL statement issued to the database - maybe it&#39;s in a log file somewhere?"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1666644191,"post_id":74179172,"comment_id":130982017,"body_markdown":"On a side note: You will never get any outer joined rows with your left outer join, because you are dismissing them in your where clause right away. (If an acnts row has no clients match, then the client columns will be null in the joined row, so the clients_type_flg will not equal &#39;C&#39;.)","body":"On a side note: You will never get any outer joined rows with your left outer join, because you are dismissing them in your where clause right away. (If an acnts row has no clients match, then the client columns will be null in the joined row, so the clients_type_flg will not equal &#39;C&#39;.)"},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667197648,"post_id":74179172,"comment_id":131105069,"body_markdown":"@ThorstenKettner I want result == 0 records from the right side, if there is no match. is the query not efficient?","body":"@ThorstenKettner I want result == 0 records from the right side, if there is no match. is the query not efficient?"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667201115,"post_id":74179172,"comment_id":131105813,"body_markdown":"It seems you haven&#39;t understood my explanation. When there is an acnts row that has no match in clients, `from acnts left join clients on ...` creats a result row with all clients columns set to null. Then you have `where ... clients.clients_type_flg = &#39;C&#39;`. As the clients_type_flg is null in that outer-joined row, the row will get dismissed. Move that condition to the `ON` clause, so as to say &quot;outer join all clients_type_flg-C client rows to the acnts rows.","body":"It seems you haven&#39;t understood my explanation. When there is an acnts row that has no match in clients, <code>from acnts left join clients on ...</code> creats a result row with all clients columns set to null. Then you have <code>where ... clients.clients_type_flg = &#39;C&#39;</code>. As the clients_type_flg is null in that outer-joined row, the row will get dismissed. Move that condition to the <code>ON</code> clause, so as to say &quot;outer join all clients_type_flg-C client rows to the acnts rows."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667201358,"post_id":74179172,"comment_id":131105889,"body_markdown":"BTW: Hasn&#39;t Tim&#39;s answer solved your original problem? You said you were getting ORA-00923 with your query. Has Tim&#39;s answer solved that issue for you? Then you should mark it as accepted (with the tick/check next to the answer). If you are still getting this error, then you should tell us so.","body":"BTW: Hasn&#39;t Tim&#39;s answer solved your original problem? You said you were getting ORA-00923 with your query. Has Tim&#39;s answer solved that issue for you? Then you should mark it as accepted (with the tick/check next to the answer). If you are still getting this error, then you should tell us so."},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667228935,"post_id":74179172,"comment_id":131114909,"body_markdown":"@ThorstenKettner `select * from acnts\nouter join clients on\nclients.clients_type_flg = &#39;C&#39; and acnts_client_num = clients.clients_code` you mean to rearrange like this? I have tried to compare both cases and result returned  is the same.","body":"@ThorstenKettner <code>select * from acnts outer join clients on clients.clients_type_flg = &#39;C&#39; and acnts_client_num = clients.clients_code</code> you mean to rearrange like this? I have tried to compare both cases and result returned  is the same."},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667229129,"post_id":74179172,"comment_id":131114994,"body_markdown":"@ThorstenKettner No Tim&#39;s answer did not solve the problem, that is not the cause of the error","body":"@ThorstenKettner No Tim&#39;s answer did not solve the problem, that is not the cause of the error"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667250625,"post_id":74179172,"comment_id":131121565,"body_markdown":"The error message &quot;ORA-00923: FROM keyword not found where expected&quot; indicates a syntax error, but the query you are showing has no syntax error (see https://dbfiddle.uk/VJtFYLqo). This means the SQL gets mutilated on its way to the DBMS. Maybe some Java person can explain this. Maybe they will need to see more code, though.","body":"The error message &quot;ORA-00923: FROM keyword not found where expected&quot; indicates a syntax error, but the query you are showing has no syntax error (see <a href=\"https://dbfiddle.uk/VJtFYLqo\" rel=\"nofollow noreferrer\">dbfiddle.uk/VJtFYLqo</a>). This means the SQL gets mutilated on its way to the DBMS. Maybe some Java person can explain this. Maybe they will need to see more code, though."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667250892,"post_id":74179172,"comment_id":131121614,"body_markdown":"And yes, I meant to rearrange the `ON` clause like this. (Except that `outer join` is syntactically wrong; it must be `left outer join` or `left join`.) So, there are actually two problems: In Oracle the query runs, but you don&#39;t get the expected output. And from Java you get a syntax error. This request asks for the problem in Java. Maybe you should open another request for the problem in Oracle.","body":"And yes, I meant to rearrange the <code>ON</code> clause like this. (Except that <code>outer join</code> is syntactically wrong; it must be <code>left outer join</code> or <code>left join</code>.) So, there are actually two problems: In Oracle the query runs, but you don&#39;t get the expected output. And from Java you get a syntax error. This request asks for the problem in Java. Maybe you should open another request for the problem in Oracle."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666604912,"creation_date":1666604912,"answer_id":74179312,"question_id":74179172,"body_markdown":"The only obvious problem with your SQL statement is that you have put single quotes around the `?` placeholder.  Try using this version:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    SELECT *\r\n    FROM acnts a\r\n    LEFT JOIN clients c ON a.acnts_client_num = c.clients_code\r\n    WHERE a.acnts_internal_acnum = ? AND  -- Note: NO single quotes around ?\r\n          c.clients_type_flg = &#39;C&#39;","title":"ORA-00923: FROM keyword not found where expectedA","body":"<p>The only obvious problem with your SQL statement is that you have put single quotes around the <code>?</code> placeholder.  Try using this version:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM acnts a\nLEFT JOIN clients c ON a.acnts_client_num = c.clients_code\nWHERE a.acnts_internal_acnum = ? AND  -- Note: NO single quotes around ?\n      c.clients_type_flg = 'C'\n</code></pre>\n"}],"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666604912,"creation_date":1666604231,"question_id":74179172,"body_markdown":"I am learning SQL and Java Spring Boot.\r\n\r\nI have created an SQL statements manager in my program and used it in my java files. Below is the SQL statement.\r\n\r\n`mapSQLStmt.put(&quot;valcurpcustomer&quot;, &quot;select * from acnts left join clients on acnts.acnts_client_num = clients.clients_code where acnts.acnts_internal_acnum = &#39;?&#39; and clients.clients_type_flg=&#39;C&#39; &quot;);`\r\n\r\nand down below is how I pass `acnts.acnts_internal_acnum` into a statement.\r\n```java\r\nrevalDTO.clearMap();\r\nrevalDTO.setValue(&quot;SQLToken&quot;,&quot;valcurpcustomer&quot;);\r\nrevalDTO.setValue(&quot;Args&quot;,corpcust.trim());\r\nrevalDTO.setValue(&quot;DataTypes&quot;,&quot;S&quot;);\r\nrevalDTO = qrymgr.getInfo(revalDTO);\r\nif(revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowPresent&quot;)) {\r\n\r\n}\r\nelse if (revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowNotPresent&quot;)) {\r\n    revalDTO.setValue(ErrorKey, &quot;Only Corporate Customer ... &quot;);\r\n    merrmsg = &quot;MF:txtCustomerCode|&quot;+revalDTO.getValue(ErrorKey).toString();\r\n    return false;\r\n}\r\n```\r\n\r\n`qrymgr` is the query manager\r\n\r\nBut even though I am passing the existing field in DB I am getting this error.\r\n\r\nPlease educate me or point me in a direction where I can learn.\r\n\r\nI apologize for my English, I am using a translator.","title":"ORA-00923: FROM keyword not found where expectedA","body":"<p>I am learning SQL and Java Spring Boot.</p>\n<p>I have created an SQL statements manager in my program and used it in my java files. Below is the SQL statement.</p>\n<p><code>mapSQLStmt.put(&quot;valcurpcustomer&quot;, &quot;select * from acnts left join clients on acnts.acnts_client_num = clients.clients_code where acnts.acnts_internal_acnum = '?' and clients.clients_type_flg='C' &quot;);</code></p>\n<p>and down below is how I pass <code>acnts.acnts_internal_acnum</code> into a statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>revalDTO.clearMap();\nrevalDTO.setValue(&quot;SQLToken&quot;,&quot;valcurpcustomer&quot;);\nrevalDTO.setValue(&quot;Args&quot;,corpcust.trim());\nrevalDTO.setValue(&quot;DataTypes&quot;,&quot;S&quot;);\nrevalDTO = qrymgr.getInfo(revalDTO);\nif(revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowPresent&quot;)) {\n\n}\nelse if (revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowNotPresent&quot;)) {\n    revalDTO.setValue(ErrorKey, &quot;Only Corporate Customer ... &quot;);\n    merrmsg = &quot;MF:txtCustomerCode|&quot;+revalDTO.getValue(ErrorKey).toString();\n    return false;\n}\n</code></pre>\n<p><code>qrymgr</code> is the query manager</p>\n<p>But even though I am passing the existing field in DB I am getting this error.</p>\n<p>Please educate me or point me in a direction where I can learn.</p>\n<p>I apologize for my English, I am using a translator.</p>\n"},{"tags":["java","spring-boot","mocking","mutual-authentication"],"answers":[{"tags":[],"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610527557,"creation_date":1610527557,"answer_id":65698380,"question_id":65681138,"body_markdown":"As I haven&#39;t found a way, I went for com.github.tomakehurst.wiremock.WireMockServer which works pretty good. Here is how I set it up, please note that I needed to add keyManagerPassword as well (I&#39;m not sure why, but it&#39;s simply the one of the keystore)\r\n\r\n      public WireMockServer mutualTlsMock;\r\n  \r\n      @BeforeEach\r\n      void setUp() {\r\n        mutualTlsMock = new WireMockServer(options()\r\n          .httpsPort(8443)\r\n          .needClientAuth(true)\r\n          .keystorePath(&quot;path/to/my/keystore.jks&quot;)\r\n          .keystorePassword(&quot;keystorePassword&quot;)\r\n          .keyManagerPassword(&quot;keystorePassword&quot;)\r\n          .trustStorePath(&quot;path/to/my/keystore.jks&quot;)\r\n          .trustStorePassword(&quot;keystorePassword&quot;));\r\n        mutualTlsMock.start();\r\n      }\r\n\r\n      @AfterEach\r\n      void shutdown() {\r\n        mutualTlsMock.shutdown();\r\n      }","title":"Does MockRestServiceServer support mutual TLS and if so, how to configure it?","body":"<p>As I haven't found a way, I went for com.github.tomakehurst.wiremock.WireMockServer which works pretty good. Here is how I set it up, please note that I needed to add keyManagerPassword as well (I'm not sure why, but it's simply the one of the keystore)</p>\n<pre><code>  public WireMockServer mutualTlsMock;\n\n  @BeforeEach\n  void setUp() {\n    mutualTlsMock = new WireMockServer(options()\n      .httpsPort(8443)\n      .needClientAuth(true)\n      .keystorePath(&quot;path/to/my/keystore.jks&quot;)\n      .keystorePassword(&quot;keystorePassword&quot;)\n      .keyManagerPassword(&quot;keystorePassword&quot;)\n      .trustStorePath(&quot;path/to/my/keystore.jks&quot;)\n      .trustStorePassword(&quot;keystorePassword&quot;));\n    mutualTlsMock.start();\n  }\n\n  @AfterEach\n  void shutdown() {\n    mutualTlsMock.shutdown();\n  }\n</code></pre>\n"}],"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65698380,"answer_count":1,"score":3,"last_activity_date":1666603992,"creation_date":1610443664,"question_id":65681138,"body_markdown":"We use `org.springframework.test.web.client.MockRestServiceServer` in our IT tests to verify our `RestTemplate` handling. Now, I need to include also some tests for mutual authentication and I&#39;m not sure if this is possible and how to achieve that. Does `MockRestServiceServer` support that or do I need to go for something else?","title":"Does MockRestServiceServer support mutual TLS and if so, how to configure it?","body":"<p>We use <code>org.springframework.test.web.client.MockRestServiceServer</code> in our IT tests to verify our <code>RestTemplate</code> handling. Now, I need to include also some tests for mutual authentication and I'm not sure if this is possible and how to achieve that. Does <code>MockRestServiceServer</code> support that or do I need to go for something else?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1666606000,"post_id":74179088,"comment_id":130968831,"body_markdown":"What about just adding `or :p_user_name = &#39;&#39;`?","body":"What about just adding <code>or :p_user_name = &#39;&#39;</code>?"},{"owner":{"account_id":2032581,"reputation":337,"user_id":1815842,"accept_rate":100,"display_name":"Sieva K"},"score":0,"creation_date":1666712765,"post_id":74179088,"comment_id":130999474,"body_markdown":"The change breaks existing code. `:arg IS NULL` was better than `:arg = &#39;&#39;` IMO.","body":"The change breaks existing code. <code>:arg IS NULL</code> was better than <code>:arg = &#39;&#39;</code> IMO."},{"owner":{"account_id":2032581,"reputation":337,"user_id":1815842,"accept_rate":100,"display_name":"Sieva K"},"score":0,"creation_date":1666713723,"post_id":74179088,"comment_id":130999841,"body_markdown":"Issue open in spring-data-jpa: https://github.com/spring-projects/spring-data-jpa/issues/2683","body":"Issue open in spring-data-jpa: <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2683\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/issues/2683</a>"}],"owner":{"account_id":7137145,"reputation":31,"user_id":5456310,"display_name":"Yuvanakannan Ganesan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666603699,"creation_date":1666603699,"question_id":74179088,"body_markdown":"After Upgrading to spring boot 2.7.5 from 2.7.4, we can see that the NULL query parameters which involves &quot;LIKE&quot; clause are getting bound as empty strings and not as NULL. The same is  bound as NULL, if the query condition is &quot;=&quot;.\r\n\r\nFor example\r\n\r\nIf the query is as below and the p_user_name is passed as NULL,\r\n    ```select user from User where :p_user_name is null or userName = :p_user_name```\r\n\r\nthe parameter is properly getting bound as NULL,\r\nbinding parameter [1] as [VARCHAR] - [null]\r\nbinding parameter [2] as [VARCHAR] - [null]\r\n\r\nWhereas  if the query is changed to like below\r\n    ```select user from User where :p_user_name is null or userName LIKE :p_user_name```\r\n\r\nthe parameter is incorrectly getting bound as EMPTY Strings,\r\nbinding parameter [1] as [VARCHAR] - []\r\nbinding parameter [2] as [VARCHAR] - []\r\n\r\nThe existing functionalities are impact due to this.","title":"Issue with JPA parameter binding after upgrading to spring boot 2.7.5","body":"<p>After Upgrading to spring boot 2.7.5 from 2.7.4, we can see that the NULL query parameters which involves &quot;LIKE&quot; clause are getting bound as empty strings and not as NULL. The same is  bound as NULL, if the query condition is &quot;=&quot;.</p>\n<p>For example</p>\n<p>If the query is as below and the p_user_name is passed as NULL,\n<code>select user from User where :p_user_name is null or userName = :p_user_name</code></p>\n<p>the parameter is properly getting bound as NULL,\nbinding parameter [1] as [VARCHAR] - [null]\nbinding parameter [2] as [VARCHAR] - [null]</p>\n<p>Whereas  if the query is changed to like below\n<code>select user from User where :p_user_name is null or userName LIKE :p_user_name</code></p>\n<p>the parameter is incorrectly getting bound as EMPTY Strings,\nbinding parameter [1] as [VARCHAR] - []\nbinding parameter [2] as [VARCHAR] - []</p>\n<p>The existing functionalities are impact due to this.</p>\n"},{"tags":["java","spring","testing","spring-boot"],"comments":[{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475610168,"post_id":39858226,"comment_id":67008985,"body_markdown":"Could you share MyIT content?","body":"Could you share MyIT content?"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475674889,"post_id":39858226,"comment_id":67037775,"body_markdown":"Added complete MyIT class","body":"Added complete MyIT class"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475675498,"post_id":39858226,"comment_id":67038282,"body_markdown":"You are requesting **&quot;/&quot;**  with restTemplate, do you handle **@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)** in your rest controller **MyController**","body":"You are requesting <b>&quot;/&quot;</b>  with restTemplate, do you handle <b>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)</b> in your rest controller <b>MyController</b>"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475675749,"post_id":39858226,"comment_id":67038483,"body_markdown":"yes I do. Used @Getmapping(&quot;/&quot;)","body":"yes I do. Used @Getmapping(&quot;/&quot;)"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475677736,"post_id":39858226,"comment_id":67040078,"body_markdown":"I have a separate JUnit for just the controller using MockMvc and that works fine","body":"I have a separate JUnit for just the controller using MockMvc and that works fine"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475679473,"post_id":39858226,"comment_id":67041549,"body_markdown":"The error means that MyController is not scanned and loaded by spring. MyController is in main package and MyIT is in test package, right? May be you should add @ComponentScan(&quot;mycontroller.package&quot;) in MyIT to scan MyController","body":"The error means that MyController is not scanned and loaded by spring. MyController is in main package and MyIT is in test package, right? May be you should add @ComponentScan(&quot;mycontroller.package&quot;) in MyIT to scan MyController"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475689064,"post_id":39858226,"comment_id":67047538,"body_markdown":"Thanks Issam. As I mentioned in my original post, I did try with `@ComponentScan(basePackages = &quot;my.controller.package&quot;)` and it doesn&#39;t help. I enabled debug log and I can see that `o.s.b.f.s.DefaultListableBeanFactory` is creating my controller bean (and my System.out on the controller constructor is being printed), so the controller is definitely being loaded; it is just not being wired correctly. Now that I am not using `@SpringApplication` (this not being one), I wonder what that annotation sets up that is not done by `@SpringBootTest`","body":"Thanks Issam. As I mentioned in my original post, I did try with <code>@ComponentScan(basePackages = &quot;my.controller.package&quot;)</code> and it doesn&#39;t help. I enabled debug log and I can see that <code>o.s.b.f.s.DefaultListableBeanFactory</code> is creating my controller bean (and my System.out on the controller constructor is being printed), so the controller is definitely being loaded; it is just not being wired correctly. Now that I am not using <code>@SpringApplication</code> (this not being one), I wonder what that annotation sets up that is not done by <code>@SpringBootTest</code>"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475699430,"post_id":39858226,"comment_id":67053298,"body_markdown":"I give it a try and it&#39;s working. see https://github.com/ielatif/stackoverflow/tree/master/SpringBootTest-for-a-non-spring-boot-application","body":"I give it a try and it&#39;s working. see <a href=\"https://github.com/ielatif/stackoverflow/tree/master/SpringBootTest-for-a-non-spring-boot-application\" rel=\"nofollow noreferrer\">github.com/ielatif/stackoverflow/tree/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2692961,"reputation":331,"user_id":2325781,"display_name":"mpianello"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1528134010,"creation_date":1528134010,"answer_id":50686013,"question_id":39858226,"body_markdown":"This can be achieved by creating a TestConfig inner class and annotate it with @SpringBootConfiguration like:\r\n\r\n    @SpringBootConfiguration\r\n    public static class TestConfig {\r\n    }\r\n\r\nThen, in your test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(...)\r\n    @Import(MyIT.TestConfig.class)\r\n    public class MyIT {\r\n    \r\n        @SpringBootConfiguration\r\n        @ComponentScan(&quot;com.example&quot;)\r\n        public static class TestConfig {\r\n        }\r\n    }\r\n\r\nNote that TestConfig class also has @ComponentScan annotation. This is used by Spring to find your applicacion beans.","title":"@SpringBootTest for a non-spring-boot application","body":"<p>This can be achieved by creating a TestConfig inner class and annotate it with @SpringBootConfiguration like:</p>\n\n<pre><code>@SpringBootConfiguration\npublic static class TestConfig {\n}\n</code></pre>\n\n<p>Then, in your test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(...)\n@Import(MyIT.TestConfig.class)\npublic class MyIT {\n\n    @SpringBootConfiguration\n    @ComponentScan(\"com.example\")\n    public static class TestConfig {\n    }\n}\n</code></pre>\n\n<p>Note that TestConfig class also has @ComponentScan annotation. This is used by Spring to find your applicacion beans.</p>\n"},{"tags":[],"owner":{"account_id":540795,"reputation":534,"user_id":909116,"accept_rate":64,"display_name":"Zeta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666603244,"creation_date":1666603244,"answer_id":74178995,"question_id":39858226,"body_markdown":"Have a test configuration that define beans that you want to use, annotate with  `@TestConfiguration`\r\n\r\n    @TestConfiguration\r\n    public class TestConfig {\r\n        @Bean\r\n        public Faker getFaker() {\r\n            return new Faker();\r\n        }\r\n    }\r\n\r\nThen your test class would like this\r\n\r\n    @SpringBootTest(classes = {MyService.class,TestConfig.class})\r\n    @RunWith(SpringRunner.class)\r\n    public class MyIT {\r\n    \r\n        @Autowired\r\n        MyService myService;\r\n\r\n        @Autowired\r\n        Faker faker;\r\n    }","title":"@SpringBootTest for a non-spring-boot application","body":"<p>Have a test configuration that define beans that you want to use, annotate with  <code>@TestConfiguration</code></p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n    @Bean\n    public Faker getFaker() {\n        return new Faker();\n    }\n}\n</code></pre>\n<p>Then your test class would like this</p>\n<pre><code>@SpringBootTest(classes = {MyService.class,TestConfig.class})\n@RunWith(SpringRunner.class)\npublic class MyIT {\n\n    @Autowired\n    MyService myService;\n\n    @Autowired\n    Faker faker;\n}\n</code></pre>\n"}],"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13061,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1666603244,"creation_date":1475601598,"question_id":39858226,"body_markdown":"I am creating a non-spring-boot application using spring-rest, spring-data-jpa etc and I would like to do integration testing using spring boot (1.4.1.RELEASE). Note that I don&#39;t have a SpringApplication class or @SpringApplication annotation anywhere\r\n\r\nOn my test class I have\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyConfiguration.class)\r\n    public class MyIT { }\r\n    \r\n    @RestController\r\n    public class MyController { }\r\n\r\n\r\n\r\nThis is starting an embedded tomcat and I can see that my controller is being initialized, however, I get a 404 when calling my service using TestRestTemplate. It appears that DispatcherServlet does not seem to know about my controllers\r\n\r\nAlso, I had to define a servletContainer bean as follows\r\n\r\n    @Bean\r\n    public EmbeddedServletContainerFactory servletContainer() {\r\n        TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\r\n        factory.setPort(9000);\r\n        factory.setSessionTimeout(10, TimeUnit.MINUTES);\r\n        return factory;\r\n    }\r\n\r\nAm I missing any configuration for Spring to have my controllers visible to embedded tomcat? I tried using @EnableAutoConfiguration @ComponentScan on the test class but they don&#39;t have any effect. I have wasted two days on this and any hints are greatly appreciated!!\r\n\r\nComplete MyIT class\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = { TestContextConfiguration.class })\r\n    public class MyIT {\r\n\r\n    @Value(&quot;${local.server.port}&quot;)\r\n    private int serverPort;\r\n\r\n    @Resource\r\n    private TestRestTemplate restTemplate;\r\n   \r\n    @Test\r\n    public void test() throws Exception {\r\n        System.out.println(&quot;Port:&quot; + serverPort);\r\n        System.out.println(&quot;Hello:&quot; + this.restTemplate.getForEntity(&quot;/&quot;, String.class));\r\n    }\r\n\r\n}\r\n\r\n\r\nController class\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String hello() {\r\n            System.out.println(&quot;Hello called&quot;);\r\n            return &quot;Hello&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nOutput of the test\r\n\r\n    Port:9000\r\n    Hello:&lt;404 Not Found,&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/8.5.5 - Error report&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 - /&lt;/h1&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;/&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The requested resource is not available.&lt;/u&gt;&lt;/p&gt;&lt;hr class=&quot;line&quot;&gt;&lt;h3&gt;Apache Tomcat/8.5.5&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;,{Content-Type=[text/html;charset=utf-8], Content-Language=[en], Content-Length=[992], Date=[Wed, 05 Oct 2016 14:26:46 GMT]}&gt;\r\n\r\n","title":"@SpringBootTest for a non-spring-boot application","body":"<p>I am creating a non-spring-boot application using spring-rest, spring-data-jpa etc and I would like to do integration testing using spring boot (1.4.1.RELEASE). Note that I don't have a SpringApplication class or @SpringApplication annotation anywhere</p>\n\n<p>On my test class I have</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyConfiguration.class)\npublic class MyIT { }\n\n@RestController\npublic class MyController { }\n</code></pre>\n\n<p>This is starting an embedded tomcat and I can see that my controller is being initialized, however, I get a 404 when calling my service using TestRestTemplate. It appears that DispatcherServlet does not seem to know about my controllers</p>\n\n<p>Also, I had to define a servletContainer bean as follows</p>\n\n<pre><code>@Bean\npublic EmbeddedServletContainerFactory servletContainer() {\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n    factory.setPort(9000);\n    factory.setSessionTimeout(10, TimeUnit.MINUTES);\n    return factory;\n}\n</code></pre>\n\n<p>Am I missing any configuration for Spring to have my controllers visible to embedded tomcat? I tried using @EnableAutoConfiguration @ComponentScan on the test class but they don't have any effect. I have wasted two days on this and any hints are greatly appreciated!!</p>\n\n<p>Complete MyIT class</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = { TestContextConfiguration.class })\npublic class MyIT {\n\n@Value(\"${local.server.port}\")\nprivate int serverPort;\n\n@Resource\nprivate TestRestTemplate restTemplate;\n\n@Test\npublic void test() throws Exception {\n    System.out.println(\"Port:\" + serverPort);\n    System.out.println(\"Hello:\" + this.restTemplate.getForEntity(\"/\", String.class));\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Controller class</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n    @GetMapping(\"/\")\n    public String hello() {\n        System.out.println(\"Hello called\");\n        return \"Hello\";\n    }\n\n}\n</code></pre>\n\n<p>Output of the test</p>\n\n<pre><code>Port:9000\nHello:&lt;404 Not Found,&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/8.5.5 - Error report&lt;/title&gt;&lt;style type=\"text/css\"&gt;H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 - /&lt;/h1&gt;&lt;div class=\"line\"&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;/&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The requested resource is not available.&lt;/u&gt;&lt;/p&gt;&lt;hr class=\"line\"&gt;&lt;h3&gt;Apache Tomcat/8.5.5&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;,{Content-Type=[text/html;charset=utf-8], Content-Language=[en], Content-Length=[992], Date=[Wed, 05 Oct 2016 14:26:46 GMT]}&gt;\n</code></pre>\n"},{"tags":["java","executable","elf","coff","dwarf"],"answers":[{"tags":[],"owner":{"account_id":29210,"reputation":28899,"user_id":78720,"accept_rate":87,"display_name":"sigjuice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238864032,"creation_date":1238779189,"answer_id":714878,"question_id":714675,"body_markdown":"Does gdb support your target CPU?\r\n\r\nIf yes, your program that implements the debugging protocol and talks to the target could also implement the [GDB Remote Serial Protocol][1] and provide a TCP socket for gdb to communicate with.\r\n\r\nThe arrangement would be something like this\r\n\r\ngdb &lt;--gdb protocol--&gt; java-prog &lt;--your debug protocol--&gt; target\r\n\r\nTo run the whole thing, assuming your target is already running your program\r\n\r\n1. Run java-prog\r\n2. Run `gdb your-executable` and connect to java-prog\r\n\r\n    (gdb) target remote 127.0.0.1:port\r\n\r\n3. Ask gdb to read a value\r\n\r\n    (gdb) p foo.bar[7].baz  \r\n\r\nThis is translated to gdb packets which are sent to java-prog over TCP.\r\njava-prog should do the translation between the gdb protocol and your custom debug protocol. \r\n\r\n\r\n\r\n  [1]: http://sourceware.org/gdb/current/onlinedocs/gdb_34.html#SEC721\r\n\r\n","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>Does gdb support your target CPU?</p>\n\n<p>If yes, your program that implements the debugging protocol and talks to the target could also implement the <a href=\"http://sourceware.org/gdb/current/onlinedocs/gdb_34.html#SEC721\" rel=\"nofollow noreferrer\">GDB Remote Serial Protocol</a> and provide a TCP socket for gdb to communicate with.</p>\n\n<p>The arrangement would be something like this</p>\n\n<p>gdb &lt;--gdb protocol--> java-prog &lt;--your debug protocol--> target</p>\n\n<p>To run the whole thing, assuming your target is already running your program</p>\n\n<ol>\n<li>Run java-prog</li>\n<li><p>Run <code>gdb your-executable</code> and connect to java-prog</p>\n\n<p>(gdb) target remote 127.0.0.1:port</p></li>\n<li><p>Ask gdb to read a value</p>\n\n<p>(gdb) p foo.bar[7].baz  </p></li>\n</ol>\n\n<p>This is translated to gdb packets which are sent to java-prog over TCP.\njava-prog should do the translation between the gdb protocol and your custom debug protocol. </p>\n"},{"tags":[],"owner":{"account_id":5807,"reputation":392461,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238864350,"creation_date":1238864350,"answer_id":717407,"question_id":714675,"body_markdown":"You could build a JNI interface to [GNU binutils][1] compiled for your platform.  However, if the GPL conflicts with your software&#39;s license, then this will not be a viable solution.\r\n\r\n[1]: http://www.gnu.org/software/binutils/","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>You could build a JNI interface to <a href=\"http://www.gnu.org/software/binutils/\" rel=\"nofollow noreferrer\">GNU binutils</a> compiled for your platform.  However, if the GPL conflicts with your software's license, then this will not be a viable solution.</p>\n"}],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666603113,"creation_date":1238775856,"question_id":714675,"body_markdown":"This is a situation I run into now and then:\r\n\r\nFor an embedded system which does not use virtual addressing, I have an executable file that was compiled from C or C++ code with debugging information included. It&#39;s usually in COFF or ELF/DWARF (I get those two mixed up) format.\r\n\r\nAt runtime, on a PC, I would like to determine the address of a variable given its name. (e.g. &quot;foo.bar[7].baz&quot;) This allows me to read/write the variable&#39;s value on the embedded system (given a debugging protocol that is beyond the scope of this question). Obviously, any variables that are stack-based or heap-based are out since they don&#39;t have static addresses.\r\n\r\nI&#39;ve done this before myself in C++ to parse COFF files from TI&#39;s compiler for their 2800 series DSPs, and it was kind of a pain. I was wondering if there was a Java library out there that does this sort of thing already, since I&#39;m facing the same thing with one or two other processors&#39; executable files.\r\n\r\n----------\r\n\r\n**Update:** (11/18/2009) A promising clue!\r\n\r\nHas anyone out there used the Eclipse CDT ELF parser?\r\n\r\n(See http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html for one of the javadoc pgs)\r\n\r\nTI&#39;s Code Composer 4 (based on Eclipse) seems to use this, so it seems like if I can figure out where the documentation is maybe I can use that to solve my problem.","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>This is a situation I run into now and then:</p>\n\n<p>For an embedded system which does not use virtual addressing, I have an executable file that was compiled from C or C++ code with debugging information included. It's usually in COFF or ELF/DWARF (I get those two mixed up) format.</p>\n\n<p>At runtime, on a PC, I would like to determine the address of a variable given its name. (e.g. \"foo.bar[7].baz\") This allows me to read/write the variable's value on the embedded system (given a debugging protocol that is beyond the scope of this question). Obviously, any variables that are stack-based or heap-based are out since they don't have static addresses.</p>\n\n<p>I've done this before myself in C++ to parse COFF files from TI's compiler for their 2800 series DSPs, and it was kind of a pain. I was wondering if there was a Java library out there that does this sort of thing already, since I'm facing the same thing with one or two other processors' executable files.</p>\n\n<hr>\n\n<p><strong>Update:</strong> (11/18/2009) A promising clue!</p>\n\n<p>Has anyone out there used the Eclipse CDT ELF parser?</p>\n\n<p>(See <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html\" rel=\"nofollow noreferrer\">http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html</a> for one of the javadoc pgs)</p>\n\n<p>TI's Code Composer 4 (based on Eclipse) seems to use this, so it seems like if I can figure out where the documentation is maybe I can use that to solve my problem.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1666599977,"post_id":74178354,"comment_id":130966902,"body_markdown":"Would it be simpler to sort the list, putting null values as first?","body":"Would it be simpler to sort the list, putting null values as first?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1666600294,"post_id":74178354,"comment_id":130967003,"body_markdown":"For sure, especially because `List.sort` would change the actual `brokers` list instead of creating a copy only inside the method, like this implementation does.","body":"For sure, especially because <code>List.sort</code> would change the actual <code>brokers</code> list instead of creating a copy only inside the method, like this implementation does."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600082,"creation_date":1666600082,"answer_id":74178401,"question_id":74178354,"body_markdown":"Parameters of methods are passed by-value (that means, the reference to objects are passed by value). So when you modify the reference in the `brokers` parameter (the object it is pointing to) this change only has impact inside the method.\r\n\r\nThe caller of the method will not notice any change.\r\n\r\nAnd in your method, you don&#39;t use the `brokers` parameter after the re-assignment and so you don&#39;t use the actual result of the `ListUtils.union` call.","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>Parameters of methods are passed by-value (that means, the reference to objects are passed by value). So when you modify the reference in the <code>brokers</code> parameter (the object it is pointing to) this change only has impact inside the method.</p>\n<p>The caller of the method will not notice any change.</p>\n<p>And in your method, you don't use the <code>brokers</code> parameter after the re-assignment and so you don't use the actual result of the <code>ListUtils.union</code> call.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666602735,"creation_date":1666600688,"answer_id":74178505,"question_id":74178354,"body_markdown":"You are assigning new Object to `brokers` reference. `brokers` is a  reference to this list Object, but when you assign new object to it, it&#39;s not visible outside of the function. You could say that it&#39;s pointing to a new object from now on.\r\n\r\nYou need to **return brokers as new list (recommended)** or **clear the list then add all values** from union.\r\n\r\nExample:\r\n\r\n    brokers.clear();\r\n    brokers.addAll(ListUtils.union(commonBrokers, nullTypeBrokers))\r\n\r\nBut this has many drawbacks:\r\n\r\n- violates conventions for clean code\r\n- will not work for null reference.\r\n- You might change original list - mutating is wrong\r\n\r\nYou can use **sort function** here instead:\r\n\r\n    @Test\r\n    public void setNullsFirst() {\r\n\r\n        List&lt;Broker&gt; brokers = List.of(\r\n                new Broker(&quot;1.&quot;),\r\n                new Broker(null),\r\n                new Broker(&quot;2.&quot;),\r\n                new Broker(null)\r\n        );\r\n\r\n        System.out.println(moveNullBrokerToEnd(brokers));\r\n\r\n    }\r\n    private List&lt;Broker&gt; moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\r\n        return Optional.ofNullable(brokers).orElseGet(Collections::emptyList)\r\n                .stream()\r\n                .sorted(Comparator.comparing(broker-&gt;broker.memberType==null?-1:0))\r\n                .toList();\r\n    }\r\n\r\nThe results are:\r\n\r\n&gt; [Broker(memberType=null), Broker(memberType=null), Broker(memberType=1.), Broker(memberType=2)]","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>You are assigning new Object to <code>brokers</code> reference. <code>brokers</code> is a  reference to this list Object, but when you assign new object to it, it's not visible outside of the function. You could say that it's pointing to a new object from now on.</p>\n<p>You need to <strong>return brokers as new list (recommended)</strong> or <strong>clear the list then add all values</strong> from union.</p>\n<p>Example:</p>\n<pre><code>brokers.clear();\nbrokers.addAll(ListUtils.union(commonBrokers, nullTypeBrokers))\n</code></pre>\n<p>But this has many drawbacks:</p>\n<ul>\n<li>violates conventions for clean code</li>\n<li>will not work for null reference.</li>\n<li>You might change original list - mutating is wrong</li>\n</ul>\n<p>You can use <strong>sort function</strong> here instead:</p>\n<pre><code>@Test\npublic void setNullsFirst() {\n\n    List&lt;Broker&gt; brokers = List.of(\n            new Broker(&quot;1.&quot;),\n            new Broker(null),\n            new Broker(&quot;2.&quot;),\n            new Broker(null)\n    );\n\n    System.out.println(moveNullBrokerToEnd(brokers));\n\n}\nprivate List&lt;Broker&gt; moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\n    return Optional.ofNullable(brokers).orElseGet(Collections::emptyList)\n            .stream()\n            .sorted(Comparator.comparing(broker-&gt;broker.memberType==null?-1:0))\n            .toList();\n}\n</code></pre>\n<p>The results are:</p>\n<blockquote>\n<p>[Broker(memberType=null), Broker(memberType=null), Broker(memberType=1.), Broker(memberType=2)]</p>\n</blockquote>\n"}],"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666602147,"accepted_answer_id":74178505,"answer_count":2,"score":0,"last_activity_date":1666602735,"creation_date":1666599857,"question_id":74178354,"body_markdown":"I want to move some special object in the list to the bottom of it.\r\nI tried to used below code to implement it but it shows last assignment is never been used...\r\nI have walkaround but I really want to know why my code is wrong? \r\nAfter the method proceed the list I passed in, it still the old sequence. No impact...\r\n\r\n    private void moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\r\n    if (brokers != null) {\r\n      List&lt;Broker&gt; nullTypeBrokers = new ArrayList&lt;&gt;();\r\n      List&lt;Broker&gt; commonBrokers = new ArrayList&lt;&gt;();\r\n      for (Broker broker : brokers) {\r\n        if (broker.getMemberType()==null) {\r\n          nullTypeBrokers.add(broker);\r\n        } else {\r\n          commonBrokers.add(broker);\r\n        }\r\n      }\r\n      brokers = ListUtils.union(commonBrokers, nullTypeBrokers);\r\n    }\r\n  }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zoDjM.png","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>I want to move some special object in the list to the bottom of it.\nI tried to used below code to implement it but it shows last assignment is never been used...\nI have walkaround but I really want to know why my code is wrong?\nAfter the method proceed the list I passed in, it still the old sequence. No impact...</p>\n<pre><code>private void moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\nif (brokers != null) {\n  List&lt;Broker&gt; nullTypeBrokers = new ArrayList&lt;&gt;();\n  List&lt;Broker&gt; commonBrokers = new ArrayList&lt;&gt;();\n  for (Broker broker : brokers) {\n    if (broker.getMemberType()==null) {\n      nullTypeBrokers.add(broker);\n    } else {\n      commonBrokers.add(broker);\n    }\n  }\n  brokers = ListUtils.union(commonBrokers, nullTypeBrokers);\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/zoDjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zoDjM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666602725,"creation_date":1666602725,"answer_id":74178886,"question_id":74173248,"body_markdown":"I don&#39;t know MongoDB but a Flink MongoDB connector is in the works at https://github.com/apache/flink-connector-mongodb","title":"Optimising write performance for custom mongodb-sink in flink stream job","body":"<p>I don't know MongoDB but a Flink MongoDB connector is in the works at <a href=\"https://github.com/apache/flink-connector-mongodb\" rel=\"nofollow noreferrer\">https://github.com/apache/flink-connector-mongodb</a></p>\n"}],"owner":{"account_id":26710514,"reputation":1,"user_id":20315978,"display_name":"Lannest Caster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666602725,"creation_date":1666545594,"question_id":74173248,"body_markdown":"I have a streaming flink job which writes data into MongoDB (Kafka -&gt; Map -&gt; MongoDB). Since there seems to be no MongoDB Sink connector currently available for Flink, I created creating a custom one for writing data into MongoDB.\r\n\r\nHowever, the number of write operations seems pretty low. Even though I tried using mongodb driver reactive-streams for asynchronous operations, the result was still not satisfying for my needs (only around 2k writes/sec) when I needed at least 5k writes for my application.\r\n\r\nIs there any other things I can do for optimising write performance in such scenario? Below is the code I used for my custom MongoDB flink.\r\n\r\n \r\n\r\n```\r\nimport com.mongodb.WriteConcern;\r\nimport com.mongodb.client.result.InsertOneResult;\r\nimport com.mongodb.reactivestreams.client.MongoClient;\r\nimport com.mongodb.reactivestreams.client.MongoClients;\r\nimport com.mongodb.reactivestreams.client.MongoDatabase;\r\nimport org.apache.flink.configuration.ConfigOptions;\r\nimport org.apache.flink.configuration.Configuration;\r\nimport org.apache.flink.streaming.api.functions.sink.RichSinkFunction;\r\nimport org.bson.Document;\r\nimport org.reactivestreams.Publisher;\r\nimport org.reactivestreams.Subscriber;\r\nimport org.reactivestreams.Subscription;\r\n\r\nimport java.util.logging.Logger;\r\n\r\npublic class MongoDBSinkConfig extends RichSinkFunction&lt;Document&gt; {\r\n\r\n    Configuration configuration;\r\n\r\n    static MongoClient mongoClient;\r\n\r\n    static MongoDatabase mongoDatabase;\r\n\r\n    public MongoDBSinkConfig(Configuration configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    @Override\r\n    public void open(Configuration parameters) {\r\n        String uri = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_URI).stringType().noDefaultValue());\r\n        String database = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_DATABASE).stringType().noDefaultValue());\r\n        String config = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.CONFIG_COLLECTION).stringType().noDefaultValue());\r\n        MongoDBMetricConfig.loadMongoDBMetricConfig(uri, database, config);\r\n        mongoClient = MongoClients.create(uri);\r\n        mongoDatabase = mongoClient.getDatabase(database).withWriteConcern(WriteConcern.UNACKNOWLEDGED);\r\n    }\r\n\r\n    @Override\r\n    public void invoke(Document value, Context context) {\r\n        Publisher&lt;InsertOneResult&gt; insertResult = mongoDatabase.getCollection(&quot;collection&quot;).withWriteConcern(WriteConcern.UNACKNOWLEDGED).insertOne(value);\r\n        \r\n        insertResult.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\r\n            @Override\r\n            public void onSubscribe(Subscription s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNext(InsertOneResult insertOneResult) {\r\n                Logger.getGlobal().info(insertOneResult.toString());\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n                Logger.getGlobal().info(t.getMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n            }\r\n\r\n\r\n        }) ;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        SinkUtils.closeConnection();\r\n    }\r\n}\r\n```","title":"Optimising write performance for custom mongodb-sink in flink stream job","body":"<p>I have a streaming flink job which writes data into MongoDB (Kafka -&gt; Map -&gt; MongoDB). Since there seems to be no MongoDB Sink connector currently available for Flink, I created creating a custom one for writing data into MongoDB.</p>\n<p>However, the number of write operations seems pretty low. Even though I tried using mongodb driver reactive-streams for asynchronous operations, the result was still not satisfying for my needs (only around 2k writes/sec) when I needed at least 5k writes for my application.</p>\n<p>Is there any other things I can do for optimising write performance in such scenario? Below is the code I used for my custom MongoDB flink.</p>\n<pre><code>import com.mongodb.WriteConcern;\nimport com.mongodb.client.result.InsertOneResult;\nimport com.mongodb.reactivestreams.client.MongoClient;\nimport com.mongodb.reactivestreams.client.MongoClients;\nimport com.mongodb.reactivestreams.client.MongoDatabase;\nimport org.apache.flink.configuration.ConfigOptions;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.functions.sink.RichSinkFunction;\nimport org.bson.Document;\nimport org.reactivestreams.Publisher;\nimport org.reactivestreams.Subscriber;\nimport org.reactivestreams.Subscription;\n\nimport java.util.logging.Logger;\n\npublic class MongoDBSinkConfig extends RichSinkFunction&lt;Document&gt; {\n\n    Configuration configuration;\n\n    static MongoClient mongoClient;\n\n    static MongoDatabase mongoDatabase;\n\n    public MongoDBSinkConfig(Configuration configuration) {\n        this.configuration = configuration;\n    }\n\n    @Override\n    public void open(Configuration parameters) {\n        String uri = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_URI).stringType().noDefaultValue());\n        String database = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_DATABASE).stringType().noDefaultValue());\n        String config = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.CONFIG_COLLECTION).stringType().noDefaultValue());\n        MongoDBMetricConfig.loadMongoDBMetricConfig(uri, database, config);\n        mongoClient = MongoClients.create(uri);\n        mongoDatabase = mongoClient.getDatabase(database).withWriteConcern(WriteConcern.UNACKNOWLEDGED);\n    }\n\n    @Override\n    public void invoke(Document value, Context context) {\n        Publisher&lt;InsertOneResult&gt; insertResult = mongoDatabase.getCollection(&quot;collection&quot;).withWriteConcern(WriteConcern.UNACKNOWLEDGED).insertOne(value);\n        \n        insertResult.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\n            @Override\n            public void onSubscribe(Subscription s) {\n\n            }\n\n            @Override\n            public void onNext(InsertOneResult insertOneResult) {\n                Logger.getGlobal().info(insertOneResult.toString());\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                Logger.getGlobal().info(t.getMessage());\n            }\n\n            @Override\n            public void onComplete() {\n            }\n\n\n        }) ;\n\n    }\n\n    @Override\n    public void close() {\n        SinkUtils.closeConnection();\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jpa"],"comments":[{"owner":{"account_id":239851,"reputation":1760,"user_id":509723,"accept_rate":82,"display_name":"ike3"},"score":0,"creation_date":1474361615,"post_id":39589281,"comment_id":66488463,"body_markdown":"Which JPA vendor do you use? Ho do you initialize it (java code, spring, app server, etc?) If java, can you post some code?","body":"Which JPA vendor do you use? Ho do you initialize it (java code, spring, app server, etc?) If java, can you post some code?"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474365662,"post_id":39589281,"comment_id":66491060,"body_markdown":"Thanks for your reply sir....!                                                                     In log4j.xml               &lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;        And                     &lt;persistence version=&quot;2.1&quot;&gt; am using sir please help if possible.","body":"Thanks for your reply sir....!                                                                     In log4j.xml               &lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntit&zwnj;&#8203;y&quot;  /&gt;        And                     &lt;persistence version=&quot;2.1&quot;&gt; am using sir please help if possible."},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474365875,"post_id":39589281,"comment_id":66491209,"body_markdown":"I dont want to used persistence.xml or trying to make persistence.xml dynamic which will take connection from properties file.  but my log4j.xml entry always taking connection from persistence.xml .","body":"I dont want to used persistence.xml or trying to make persistence.xml dynamic which will take connection from properties file.  but my log4j.xml entry always taking connection from persistence.xml ."},{"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"score":0,"creation_date":1474365958,"post_id":39589281,"comment_id":66491271,"body_markdown":"Follow this link , i believe this is what you are looking for. http://stackoverflow.com/questions/19170876/persistence-xml-to-import-database-parameters-values-from-properties-file","body":"Follow this link , i believe this is what you are looking for. <a href=\"http://stackoverflow.com/questions/19170876/persistence-xml-to-import-database-parameters-values-from-properties-file\" title=\"persistence xml to import database parameters values from properties file\">stackoverflow.com/questions/19170876/&hellip;</a>"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474372849,"post_id":39589281,"comment_id":66495763,"body_markdown":"thnx for reply sir but this was not worked for me ....!                                      The link which you suggest exactly I am looking for to make persistence.xml externalised from property file.                                              There are lot student and developer facing this problem but yet nobody was successful to resolve this issue . But I know you will definetly help me..!","body":"thnx for reply sir but this was not worked for me ....!                                      The link which you suggest exactly I am looking for to make persistence.xml externalised from property file.                                              There are lot student and developer facing this problem but yet nobody was successful to resolve this issue . But I know you will definetly help me..!"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474446286,"post_id":39589281,"comment_id":66529760,"body_markdown":"Anybody have any resolution for this problem ..?                                                       Please reply friend...!","body":"Anybody have any resolution for this problem ..?                                                       Please reply friend...!"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474526842,"post_id":39589281,"comment_id":66568740,"body_markdown":"Hi mhasan sir do you have any idea about this issue ? Can you please suggest if u have any approach.","body":"Hi mhasan sir do you have any idea about this issue ? Can you please suggest if u have any approach."}],"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666602518,"creation_date":1474360464,"question_id":39589281,"body_markdown":"I am using persistence.xml where is my db connection. And in log4j.xml  I have given `persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;` which is in persistence.xml so it will take database connection from persistence.xml but which is hardcoded.\r\n\r\nSo I wanted make my persistence.xml dynamic which take connection from properties file.\r\n\r\nI want to make persistence.xml dynamic which reads file from property file; like using `${username}` as key in persistence which take from properties file.\r\n\r\nIn log4j2.xml I have mentioned `&lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;`.\r\n\r\nIn persistence.xml I have mentioned below like\r\n`&lt;persistence-unit name=&quot;JPAloggingPersistenceUnit&quot;  transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;`.","title":"Externalised persistence.xml from property file","body":"<p>I am using persistence.xml where is my db connection. And in log4j.xml  I have given <code>persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;</code> which is in persistence.xml so it will take database connection from persistence.xml but which is hardcoded.</p>\n<p>So I wanted make my persistence.xml dynamic which take connection from properties file.</p>\n<p>I want to make persistence.xml dynamic which reads file from property file; like using <code>${username}</code> as key in persistence which take from properties file.</p>\n<p>In log4j2.xml I have mentioned <code>&lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;</code>.</p>\n<p>In persistence.xml I have mentioned below like\n<code>&lt;persistence-unit name=&quot;JPAloggingPersistenceUnit&quot;  transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1666599130,"post_id":74178211,"comment_id":130966611,"body_markdown":"Have you looked at the overloads of `Integer.parseInt`? Note that by the time it&#39;s an `int`, the value doesn&#39;t have any particular format - so `int hexint = 0x67;` is precisely equivalent to `int hexint = 103;`","body":"Have you looked at the overloads of <code>Integer.parseInt</code>? Note that by the time it&#39;s an <code>int</code>, the value doesn&#39;t have any particular format - so <code>int hexint = 0x67;</code> is precisely equivalent to <code>int hexint = 103;</code>"},{"owner":{"account_id":10056178,"reputation":117,"user_id":7434294,"display_name":"Sigmalalalala"},"score":0,"creation_date":1666602337,"post_id":74178211,"comment_id":130967720,"body_markdown":"that makes sense now, I keep getting 103 when printing, thanks for the explanation","body":"that makes sense now, I keep getting 103 when printing, thanks for the explanation"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676181534,"post_id":74178211,"comment_id":133083912,"body_markdown":"It&#39;s not quite addressing what you are asking for, but Java 17 introduced a new class **java.util.HexFormat** which frequently simplifies the solution to questions like this. In your case the only constraint is that your `hexstring` must only contain hex characters (i.e. _&quot;67&quot;_ rather than _&quot;0x67&quot;_), but then the solution is trivial:  `int hexint = HexFormat.fromHexDigits(&quot;67&quot;);`. That feels like a much more intuitive approach than `decode()` or `parseInt()` to me.","body":"It&#39;s not quite addressing what you are asking for, but Java 17 introduced a new class <b>java.util.HexFormat</b> which frequently simplifies the solution to questions like this. In your case the only constraint is that your <code>hexstring</code> must only contain hex characters (i.e. <i>&quot;67&quot;</i> rather than <i>&quot;0x67&quot;</i>), but then the solution is trivial:  <code>int hexint = HexFormat.fromHexDigits(&quot;67&quot;);</code>. That feels like a much more intuitive approach than <code>decode()</code> or <code>parseInt()</code> to me."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666599217,"creation_date":1666599217,"answer_id":74178260,"question_id":74178211,"body_markdown":"If you only have a single byte, you can strip of the leading `&quot;0x&quot;` part and then parse as a base-16 number with `Integer#parseInt`:\r\n\r\n```\r\nInteger.parseInt(&quot;0x67&quot;.substring(2), 0x10);\r\nInteger.parseInt(&quot;0x67&quot;.substring(2), 16);\r\n```\r\n\r\n0x10 is the hexadecimal representation of the decimal number 16.","title":"Convert hex string value to hex int","body":"<p>If you only have a single byte, you can strip of the leading <code>&quot;0x&quot;</code> part and then parse as a base-16 number with <code>Integer#parseInt</code>:</p>\n<pre><code>Integer.parseInt(&quot;0x67&quot;.substring(2), 0x10);\nInteger.parseInt(&quot;0x67&quot;.substring(2), 16);\n</code></pre>\n<p>0x10 is the hexadecimal representation of the decimal number 16.</p>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666600087,"creation_date":1666600087,"answer_id":74178402,"question_id":74178211,"body_markdown":"```\r\nString hexstring = &quot;67&quot;;\r\nint hexint = Integer.parseInt(hexstring, 16);\r\nSystem.out.println(hexint); // 103 (decimal)\r\n```\r\n\r\nWith `Integer.parseInt(String s, int radix)` you can parse a `String` to an `int`.\r\n\r\nThe `radix` is the base of that number system, in case of hex-values it is 16.","title":"Convert hex string value to hex int","body":"<pre><code>String hexstring = &quot;67&quot;;\nint hexint = Integer.parseInt(hexstring, 16);\nSystem.out.println(hexint); // 103 (decimal)\n</code></pre>\n<p>With <code>Integer.parseInt(String s, int radix)</code> you can parse a <code>String</code> to an <code>int</code>.</p>\n<p>The <code>radix</code> is the base of that number system, in case of hex-values it is 16.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666602460,"creation_date":1666600698,"answer_id":74178507,"question_id":74178211,"body_markdown":"[`Integer#decode`](https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#decode-java.lang.String-) can be used to convert hexadecmial string representation into its integer value:\r\n\r\n```\r\nInteger.decode(&quot;0x67&quot;);\r\n```\r\n\r\nThis function automatically detects the correct base and will parse return the int `103` (0x67 = 6*16+7). If you want to manually specify a different base, see [my other answer](https://stackoverflow.com/a/74178260/112968)","title":"Convert hex string value to hex int","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#decode-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Integer#decode</code></a> can be used to convert hexadecmial string representation into its integer value:</p>\n<pre><code>Integer.decode(&quot;0x67&quot;);\n</code></pre>\n<p>This function automatically detects the correct base and will parse return the int <code>103</code> (0x67 = 6*16+7). If you want to manually specify a different base, see <a href=\"https://stackoverflow.com/a/74178260/112968\">my other answer</a></p>\n"}],"owner":{"account_id":10056178,"reputation":117,"user_id":7434294,"display_name":"Sigmalalalala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74178507,"answer_count":3,"score":1,"last_activity_date":1666602460,"creation_date":1666598970,"question_id":74178211,"body_markdown":"How can I convert the `hexstring` into the form of `hexint` below?\r\n```\r\nstring hexstring = &quot;0x67&quot;;\r\nint hexint = 0x67;\r\n```","title":"Convert hex string value to hex int","body":"<p>How can I convert the <code>hexstring</code> into the form of <code>hexint</code> below?</p>\n<pre><code>string hexstring = &quot;0x67&quot;;\nint hexint = 0x67;\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1427209899,"post_id":29235982,"comment_id":46678525,"body_markdown":"What are you wanting to return from the method if there isn&#39;t an object present?","body":"What are you wanting to return from the method if there isn&#39;t an object present?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1427210279,"post_id":29235982,"comment_id":46678789,"body_markdown":"I&#39;d want to return `Optional` always as indicated by the method return parameter.","body":"I&#39;d want to return <code>Optional</code> always as indicated by the method return parameter."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1427213150,"creation_date":1427209786,"answer_id":29236163,"question_id":29235982,"body_markdown":"I don&#39;t think you can do it in a single statement. Better do:\r\n\r\n    if (!obj.isPresent()) {\r\n        logger.fatal(...);   \r\n    } else {\r\n        obj.get().setAvailable(true);\r\n    }\r\n    return obj;","title":"How to execute logic on Optional if not present?","body":"<p>I don't think you can do it in a single statement. Better do:</p>\n\n<pre><code>if (!obj.isPresent()) {\n    logger.fatal(...);   \n} else {\n    obj.get().setAvailable(true);\n}\nreturn obj;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427209792,"creation_date":1427209792,"answer_id":29236164,"question_id":29235982,"body_markdown":"You need [Optional.isPresent()][1] and [orElse()][2]. Your snippet won;t work because it doesn&#39;t return anything if not present. \r\n\r\nThe point of Optional is to return it from the method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-","title":"How to execute logic on Optional if not present?","body":"<p>You need <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\" rel=\"nofollow\">Optional.isPresent()</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow\">orElse()</a>. Your snippet won;t work because it doesn't return anything if not present. </p>\n\n<p>The point of Optional is to return it from the method.</p>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1427212663,"creation_date":1427210145,"answer_id":29236316,"question_id":29235982,"body_markdown":"You will have to split this into multiple statements. Here is one way to do that:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n  \r\n    obj.ifPresent(o -&gt; o.setAvailable(true));\r\n    return obj;\r\n\r\nAnother way (possibly over-engineered) is to use `map`:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n\r\n    return obj.map(o -&gt; {o.setAvailable(true); return o;});\r\n\r\nIf `obj.setAvailable` conveniently returns `obj`, then you can simply the second example to:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n\r\n    return obj.map(o -&gt; o.setAvailable(true));","title":"How to execute logic on Optional if not present?","body":"<p>You will have to split this into multiple statements. Here is one way to do that:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nobj.ifPresent(o -&gt; o.setAvailable(true));\nreturn obj;\n</code></pre>\n\n<p>Another way (possibly over-engineered) is to use <code>map</code>:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nreturn obj.map(o -&gt; {o.setAvailable(true); return o;});\n</code></pre>\n\n<p>If <code>obj.setAvailable</code> conveniently returns <code>obj</code>, then you can simply the second example to:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nreturn obj.map(o -&gt; o.setAvailable(true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1439386824,"creation_date":1427210495,"answer_id":29236471,"question_id":29235982,"body_markdown":"I suppose you cannot change the `dao.find()` method to return an instance of `Optional&lt;Obj&gt;`, so you have to create the appropriate one yourself.\r\n\r\nThe following code should help you out. I&#39;ve create the class `OptionalAction`,\r\nwhich provides the if-else mechanism for you.\r\n\r\n    public class OptionalTest\r\n    {\r\n      public static Optional&lt;DbObject&gt; getObjectFromDb()\r\n      {\r\n        // doa.find()\r\n        DbObject v = find();\r\n    \r\n        // create appropriate Optional\r\n        Optional&lt;DbObject&gt; object = Optional.ofNullable(v);\r\n    \r\n        // @formatter:off\r\n        OptionalAction.\r\n        ifPresent(object)\r\n        .then(o -&gt; o.setAvailable(true))\r\n        .elseDo(o -&gt; System.out.println(&quot;Fatal! Object not available!&quot;));\r\n        // @formatter:on\r\n        return object;\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        Optional&lt;DbObject&gt; object = getObjectFromDb();\r\n        if (object.isPresent())\r\n          System.out.println(object.get());\r\n        else\r\n          System.out.println(&quot;There is no object!&quot;);\r\n      }\r\n    \r\n      // find may return null\r\n      public static DbObject find()\r\n      {\r\n        return (Math.random() &gt; 0.5) ? null : new DbObject();\r\n      }\r\n    \r\n      static class DbObject\r\n      {\r\n        private boolean available = false;\r\n    \r\n        public boolean isAvailable()\r\n        {\r\n          return available;\r\n        }\r\n    \r\n        public void setAvailable(boolean available)\r\n        {\r\n          this.available = available;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n          return &quot;DbObject [available=&quot; + available + &quot;]&quot;;\r\n        }\r\n      }\r\n    \r\n      static class OptionalAction\r\n      {\r\n        public static &lt;T&gt; IfAction&lt;T&gt; ifPresent(Optional&lt;T&gt; optional)\r\n        {\r\n          return new IfAction&lt;&gt;(optional);\r\n        }\r\n    \r\n        private static class IfAction&lt;T&gt;\r\n        {\r\n          private final Optional&lt;T&gt; optional;\r\n    \r\n          public IfAction(Optional&lt;T&gt; optional)\r\n          {\r\n            this.optional = optional;\r\n          }\r\n    \r\n          public ElseAction&lt;T&gt; then(Consumer&lt;? super T&gt; consumer)\r\n          {\r\n            if (optional.isPresent())\r\n              consumer.accept(optional.get());\r\n            return new ElseAction&lt;&gt;(optional);\r\n          }\r\n        }\r\n    \r\n        private static class ElseAction&lt;T&gt;\r\n        {\r\n          private final Optional&lt;T&gt; optional;\r\n    \r\n          public ElseAction(Optional&lt;T&gt; optional)\r\n          {\r\n            this.optional = optional;\r\n          }\r\n    \r\n          public void elseDo(Consumer&lt;? super T&gt; consumer)\r\n          {\r\n            if (!optional.isPresent())\r\n              consumer.accept(null);\r\n          }\r\n        }\r\n      }\r\n    }","title":"How to execute logic on Optional if not present?","body":"<p>I suppose you cannot change the <code>dao.find()</code> method to return an instance of <code>Optional&lt;Obj&gt;</code>, so you have to create the appropriate one yourself.</p>\n\n<p>The following code should help you out. I've create the class <code>OptionalAction</code>,\nwhich provides the if-else mechanism for you.</p>\n\n<pre><code>public class OptionalTest\n{\n  public static Optional&lt;DbObject&gt; getObjectFromDb()\n  {\n    // doa.find()\n    DbObject v = find();\n\n    // create appropriate Optional\n    Optional&lt;DbObject&gt; object = Optional.ofNullable(v);\n\n    // @formatter:off\n    OptionalAction.\n    ifPresent(object)\n    .then(o -&gt; o.setAvailable(true))\n    .elseDo(o -&gt; System.out.println(\"Fatal! Object not available!\"));\n    // @formatter:on\n    return object;\n  }\n\n  public static void main(String[] args)\n  {\n    Optional&lt;DbObject&gt; object = getObjectFromDb();\n    if (object.isPresent())\n      System.out.println(object.get());\n    else\n      System.out.println(\"There is no object!\");\n  }\n\n  // find may return null\n  public static DbObject find()\n  {\n    return (Math.random() &gt; 0.5) ? null : new DbObject();\n  }\n\n  static class DbObject\n  {\n    private boolean available = false;\n\n    public boolean isAvailable()\n    {\n      return available;\n    }\n\n    public void setAvailable(boolean available)\n    {\n      this.available = available;\n    }\n\n    @Override\n    public String toString()\n    {\n      return \"DbObject [available=\" + available + \"]\";\n    }\n  }\n\n  static class OptionalAction\n  {\n    public static &lt;T&gt; IfAction&lt;T&gt; ifPresent(Optional&lt;T&gt; optional)\n    {\n      return new IfAction&lt;&gt;(optional);\n    }\n\n    private static class IfAction&lt;T&gt;\n    {\n      private final Optional&lt;T&gt; optional;\n\n      public IfAction(Optional&lt;T&gt; optional)\n      {\n        this.optional = optional;\n      }\n\n      public ElseAction&lt;T&gt; then(Consumer&lt;? super T&gt; consumer)\n      {\n        if (optional.isPresent())\n          consumer.accept(optional.get());\n        return new ElseAction&lt;&gt;(optional);\n      }\n    }\n\n    private static class ElseAction&lt;T&gt;\n    {\n      private final Optional&lt;T&gt; optional;\n\n      public ElseAction(Optional&lt;T&gt; optional)\n      {\n        this.optional = optional;\n      }\n\n      public void elseDo(Consumer&lt;? super T&gt; consumer)\n      {\n        if (!optional.isPresent())\n          consumer.accept(null);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":781889,"reputation":1598,"user_id":843704,"accept_rate":73,"display_name":"erkfel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449186886,"creation_date":1449186886,"answer_id":34078539,"question_id":29235982,"body_markdown":"I was able to came up with a couple of &quot;one line&quot; solutions, for example:\r\n\r\n        obj.map(o -&gt; (Runnable) () -&gt; o.setAvailable(true))\r\n           .orElse(() -&gt; logger.fatal(&quot;Object not available&quot;))\r\n           .run();\r\n\r\nor\r\n\r\n        obj.map(o -&gt; (Consumer&lt;Object&gt;) c -&gt; o.setAvailable(true))\r\n           .orElse(o -&gt; logger.fatal(&quot;Object not available&quot;))\r\n           .accept(null);\r\n\r\nor\r\n\r\n        obj.map(o -&gt; (Supplier&lt;Object&gt;) () -&gt; {\r\n                o.setAvailable(true);\r\n                return null;\r\n        }).orElse(() () -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;)\r\n                return null;\r\n        }).get();\r\n\r\nIt doesn&#39;t look very nice, something like `orElseRun` would be much better, but I think that option with Runnable is acceptable if you really want one line solution.    ","title":"How to execute logic on Optional if not present?","body":"<p>I was able to came up with a couple of \"one line\" solutions, for example:</p>\n\n<pre><code>    obj.map(o -&gt; (Runnable) () -&gt; o.setAvailable(true))\n       .orElse(() -&gt; logger.fatal(\"Object not available\"))\n       .run();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    obj.map(o -&gt; (Consumer&lt;Object&gt;) c -&gt; o.setAvailable(true))\n       .orElse(o -&gt; logger.fatal(\"Object not available\"))\n       .accept(null);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    obj.map(o -&gt; (Supplier&lt;Object&gt;) () -&gt; {\n            o.setAvailable(true);\n            return null;\n    }).orElse(() () -&gt; {\n            logger.fatal(\"Object not available\")\n            return null;\n    }).get();\n</code></pre>\n\n<p>It doesn't look very nice, something like <code>orElseRun</code> would be much better, but I think that option with Runnable is acceptable if you really want one line solution.    </p>\n"},{"tags":[],"owner":{"account_id":3220420,"reputation":864,"user_id":3854962,"display_name":"UTF_or_Death"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1649421751,"creation_date":1460920747,"answer_id":36681079,"question_id":29235982,"body_markdown":"There **is** an `.orElseRun` method, but it is called `.orElseGet`. \r\n\r\nThe main problem with your pseudocode is that `.isPresent` doesn&#39;t return an `Optional&lt;&gt;`. But `.map` returns an `Optional&lt;&gt;` which has the `orElseGet` method.\r\n\r\nIf you really want to do this in one statement this is possible:\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n        return dao.find()\r\n            .map( obj -&gt; { \r\n                obj.setAvailable(true);\r\n                return Optional.of(obj); \r\n             })\r\n            .orElseGet( () -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;); \r\n                return Optional.empty();\r\n        });\r\n    }\r\n\r\nBut this is even clunkier than what you had before. ","title":"How to execute logic on Optional if not present?","body":"<p>There <strong>is</strong> an <code>.orElseRun</code> method, but it is called <code>.orElseGet</code>.</p>\n<p>The main problem with your pseudocode is that <code>.isPresent</code> doesn't return an <code>Optional&lt;&gt;</code>. But <code>.map</code> returns an <code>Optional&lt;&gt;</code> which has the <code>orElseGet</code> method.</p>\n<p>If you really want to do this in one statement this is possible:</p>\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    return dao.find()\n        .map( obj -&gt; { \n            obj.setAvailable(true);\n            return Optional.of(obj); \n         })\n        .orElseGet( () -&gt; {\n            logger.fatal(&quot;Object not available&quot;); \n            return Optional.empty();\n    });\n}\n</code></pre>\n<p>But this is even clunkier than what you had before.</p>\n"},{"tags":[],"owner":{"account_id":2048586,"reputation":840,"user_id":1828105,"display_name":"Hasasn"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1469719709,"creation_date":1461747837,"answer_id":36885135,"question_id":29235982,"body_markdown":"First of all, your `dao.find()` should either return an `Optional&lt;Obj&gt;` or you will have to create one.\r\n\r\ne.g.\r\n\r\n    Optional&lt;Obj&gt; = dao.find();\r\n\r\nor you can do it yourself like:\r\n\r\n    Optional&lt;Obj&gt; = Optional.ofNullable(dao.find());\r\n\r\nthis one will return `Optional&lt;Obj&gt;` if present or `Optional.empty()` if not present.\r\n\r\nSo now let&#39;s get to the solution,\r\n\r\n    public Obj getObjectFromDB() {\r\n       return Optional.ofNullable(dao.find()).flatMap(ob -&gt; {\r\n                ob.setAvailable(true);\r\n                return Optional.of(ob);    \r\n            }).orElseGet(() -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;);\r\n                return null;\r\n            });\r\n        }\r\n\r\nThis is the one liner you&#39;re looking for :)","title":"How to execute logic on Optional if not present?","body":"<p>First of all, your <code>dao.find()</code> should either return an <code>Optional&lt;Obj&gt;</code> or you will have to create one.</p>\n\n<p>e.g.</p>\n\n<pre><code>Optional&lt;Obj&gt; = dao.find();\n</code></pre>\n\n<p>or you can do it yourself like:</p>\n\n<pre><code>Optional&lt;Obj&gt; = Optional.ofNullable(dao.find());\n</code></pre>\n\n<p>this one will return <code>Optional&lt;Obj&gt;</code> if present or <code>Optional.empty()</code> if not present.</p>\n\n<p>So now let's get to the solution,</p>\n\n<pre><code>public Obj getObjectFromDB() {\n   return Optional.ofNullable(dao.find()).flatMap(ob -&gt; {\n            ob.setAvailable(true);\n            return Optional.of(ob);    \n        }).orElseGet(() -&gt; {\n            logger.fatal(\"Object not available\");\n            return null;\n        });\n    }\n</code></pre>\n\n<p>This is the one liner you're looking for :)</p>\n"},{"tags":[],"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":152,"is_accepted":true,"score":151,"last_activity_date":1535457786,"creation_date":1476102490,"answer_id":39958306,"question_id":29235982,"body_markdown":"With Java 9 or higher, [`ifPresentOrElse`][1] is most likely what you want:\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    Optional&lt;&gt; opt = dao.find();\r\n\r\n    opt.ifPresentOrElse(obj -&gt; obj.setAvailable(true),\r\n                        () -&gt; logger.error(&quot;…&quot;));\r\n    \r\n\r\nCurrying using [vavr][2] or alike might get even neater code, but I haven&#39;t tried yet.\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-\r\n\r\n[2]: http://www.vavr.io/","title":"How to execute logic on Optional if not present?","body":"<p>With Java 9 or higher, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-\" rel=\"noreferrer\"><code>ifPresentOrElse</code></a> is most likely what you want:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;&gt; opt = dao.find();\n\nopt.ifPresentOrElse(obj -&gt; obj.setAvailable(true),\n                    () -&gt; logger.error(\"…\"));\n</code></pre>\n\n<p>Currying using <a href=\"http://www.vavr.io/\" rel=\"noreferrer\">vavr</a> or alike might get even neater code, but I haven't tried yet.</p>\n"},{"tags":[],"owner":{"account_id":296506,"reputation":2368,"user_id":1079659,"display_name":"Cmyker"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1666602409,"creation_date":1545162897,"answer_id":53840137,"question_id":29235982,"body_markdown":"For Java 8 Spring Data offers [`ifPresentOrElse`][1] from &quot;Utility methods to work with Optionals&quot; to achieve what you want.\r\nExample would be:\r\n\r\n```java\r\nimport static org.springframework.data.util.Optionals.ifPresentOrElse;    \r\n    \r\nifPresentOrElse(dao.find(), obj -&gt; obj.setAvailable(true), () -&gt; logger.fatal(&quot;Object not available&quot;));\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/2.1.3.RELEASE/api/org/springframework/data/util/Optionals.html#ifPresentOrElse-java.util.Optional-java.util.function.Consumer-java.lang.Runnable-","title":"How to execute logic on Optional if not present?","body":"<p>For Java 8 Spring Data offers <a href=\"https://docs.spring.io/spring-data/commons/docs/2.1.3.RELEASE/api/org/springframework/data/util/Optionals.html#ifPresentOrElse-java.util.Optional-java.util.function.Consumer-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>ifPresentOrElse</code></a> from &quot;Utility methods to work with Optionals&quot; to achieve what you want.\nExample would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.data.util.Optionals.ifPresentOrElse;    \n    \nifPresentOrElse(dao.find(), obj -&gt; obj.setAvailable(true), () -&gt; logger.fatal(&quot;Object not available&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9926930,"reputation":363,"user_id":7348163,"display_name":"sergeidyga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571931552,"creation_date":1571931552,"answer_id":58544756,"question_id":29235982,"body_markdown":"With Java 8 `Optional` it can be done with:\r\n\r\n        Optional&lt;Obj&gt; obj = dao.find();\r\n\r\n        obj.map(obj.setAvailable(true)).orElseGet(() -&gt; {\r\n            logger.fatal(&quot;Object not available&quot;);\r\n            return null;\r\n        });","title":"How to execute logic on Optional if not present?","body":"<p>With Java 8 <code>Optional</code> it can be done with:</p>\n\n<pre><code>    Optional&lt;Obj&gt; obj = dao.find();\n\n    obj.map(obj.setAvailable(true)).orElseGet(() -&gt; {\n        logger.fatal(\"Object not available\");\n        return null;\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580661503,"creation_date":1580661188,"answer_id":60028200,"question_id":29235982,"body_markdown":"For those of you who want to execute a side-effect **only if an optional is absent**\r\n\r\ni.e. an equivalent of `ifAbsent()` or `ifNotPresent()` here is a slight modification to the great answers already provided.\r\n\r\n    myOptional.ifPresentOrElse(x -&gt; {}, () -&gt; {\r\n      // logic goes here\r\n    })","title":"How to execute logic on Optional if not present?","body":"<p>For those of you who want to execute a side-effect <strong>only if an optional is absent</strong></p>\n\n<p>i.e. an equivalent of <code>ifAbsent()</code> or <code>ifNotPresent()</code> here is a slight modification to the great answers already provided.</p>\n\n<pre><code>myOptional.ifPresentOrElse(x -&gt; {}, () -&gt; {\n  // logic goes here\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8147033,"reputation":314,"user_id":6135401,"display_name":"Muriithi Derrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591048428,"creation_date":1591048428,"answer_id":62141582,"question_id":29235982,"body_markdown":"**ifPresentOrElse** can handle cases of nullpointers as well. Easy approach.\r\n\r\n       Optional.ofNullable(null)\r\n                .ifPresentOrElse(name -&gt; System.out.println(&quot;my name is &quot;+ name),\r\n                        ()-&gt;System.out.println(&quot;no name or was a null pointer&quot;));\r\n","title":"How to execute logic on Optional if not present?","body":"<p><strong>ifPresentOrElse</strong> can handle cases of nullpointers as well. Easy approach.</p>\n\n<pre><code>   Optional.ofNullable(null)\n            .ifPresentOrElse(name -&gt; System.out.println(\"my name is \"+ name),\n                    ()-&gt;System.out.println(\"no name or was a null pointer\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626357251,"creation_date":1624968343,"answer_id":68178387,"question_id":29235982,"body_markdown":"\r\n### Title: &quot;How to execute logic on Optional if not present?&quot;\r\n\r\n### Answer:\r\n\r\nUse `orElseGet()` as a workaround for the missing `ifNotPresent()`. And since it expects us to return something just return \r\n`null`.\r\n\r\n```java\r\nOptional.empty().orElseGet(() -&gt; {\r\n    System.out.println(&quot;The object is not present&quot;);\r\n    return null;\r\n});\r\n\r\n//output: The object is not present\r\n\r\n```\r\n\r\nor\r\n\r\n```java\r\n\r\nOptional.ofNullable(null).orElseGet(() -&gt; {\r\n    System.out.println(&quot;The object is not present&quot;);\r\n    return null;\r\n});\r\n\r\n//output: The object is not present\r\n\r\n```\r\n\r\nI also use it to easily implement the [singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern) with lazy initialization.\r\n\r\n\r\n```java\r\npublic class Settings {\r\n    private Settings(){}    \r\n    private static Settings instance;\r\n    public static synchronized Settings getInstance(){\r\n        Optional.ofNullable(instance).orElseGet(() -&gt; instance = new Settings());\r\n        return instance;\r\n    } \r\n}\r\n```\r\n\r\nOf course the `getInstance()` content can be written in one line by directly returning the first statement, but I wanted to demonstrate the use of `orElseGet()` as an `ifNotPresent()`.","title":"How to execute logic on Optional if not present?","body":"<h3 id=\"title-how-to-execute-logic-on-optional-if-not-present-9272\">Title: &quot;How to execute logic on Optional if not present?&quot;</h3>\n<h3 id=\"answer-khrn\">Answer:</h3>\n<p>Use <code>orElseGet()</code> as a workaround for the missing <code>ifNotPresent()</code>. And since it expects us to return something just return\n<code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.empty().orElseGet(() -&gt; {\n    System.out.println(&quot;The object is not present&quot;);\n    return null;\n});\n\n//output: The object is not present\n\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nOptional.ofNullable(null).orElseGet(() -&gt; {\n    System.out.println(&quot;The object is not present&quot;);\n    return null;\n});\n\n//output: The object is not present\n\n</code></pre>\n<p>I also use it to easily implement the <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a> with lazy initialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Settings {\n    private Settings(){}    \n    private static Settings instance;\n    public static synchronized Settings getInstance(){\n        Optional.ofNullable(instance).orElseGet(() -&gt; instance = new Settings());\n        return instance;\n    } \n}\n</code></pre>\n<p>Of course the <code>getInstance()</code> content can be written in one line by directly returning the first statement, but I wanted to demonstrate the use of <code>orElseGet()</code> as an <code>ifNotPresent()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662459215,"creation_date":1661876592,"answer_id":73545628,"question_id":29235982,"body_markdown":"In order to get the value from one call, or do an extra call if the previous returned an empty value, you can chain the commands.\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n        return dao.find().or(() -&gt; dao.findBySomethingElse());\r\n    }","title":"How to execute logic on Optional if not present?","body":"<p>In order to get the value from one call, or do an extra call if the previous returned an empty value, you can chain the commands.</p>\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    return dao.find().or(() -&gt; dao.findBySomethingElse());\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206336,"favorite_count":0,"down_vote_count":1,"up_vote_count":111,"accepted_answer_id":39958306,"answer_count":14,"score":110,"last_activity_date":1666602409,"creation_date":1427209293,"question_id":29235982,"body_markdown":"I want to replace the following code using java8 `Optional`:\r\n\r\n    public Obj getObjectFromDB() {\r\n    \tObj obj = dao.find();\r\n    \tif (obj != null) {\r\n    \t\tobj.setAvailable(true);\r\n    \t} else {\r\n    \t\tlogger.fatal(&quot;Object not available&quot;);\r\n    \t}\r\n    \r\n    \treturn obj;\r\n    }\r\n\r\n\r\nThe following pseudocode does not work as there is no `orElseRun` method, but anyways it illustrates my purpose:\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n    \tOptional&lt;Obj&gt; obj = dao.find();\r\n    \treturn obj.ifPresent(obj.setAvailable(true)).orElseRun(logger.fatal(&quot;Object not available&quot;));\r\n    }\r\n","title":"How to execute logic on Optional if not present?","body":"<p>I want to replace the following code using java8 <code>Optional</code>:</p>\n\n<pre><code>public Obj getObjectFromDB() {\n    Obj obj = dao.find();\n    if (obj != null) {\n        obj.setAvailable(true);\n    } else {\n        logger.fatal(\"Object not available\");\n    }\n\n    return obj;\n}\n</code></pre>\n\n<p>The following pseudocode does not work as there is no <code>orElseRun</code> method, but anyways it illustrates my purpose:</p>\n\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    Optional&lt;Obj&gt; obj = dao.find();\n    return obj.ifPresent(obj.setAvailable(true)).orElseRun(logger.fatal(\"Object not available\"));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","heroku"],"comments":[{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1666552167,"post_id":74173561,"comment_id":130959164,"body_markdown":"What did you put inside the `system.properties` file?","body":"What did you put inside the <code>system.properties</code> file?"},{"owner":{"account_id":23966638,"reputation":13,"user_id":17956045,"display_name":"Benamor Omar"},"score":0,"creation_date":1666602011,"post_id":74173561,"comment_id":130967600,"body_markdown":"java.runtime.version=11 and i tried java.runtime.version=zulu-11","body":"java.runtime.version=11 and i tried java.runtime.version=zulu-11"},{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1666647024,"post_id":74173561,"comment_id":130982705,"body_markdown":"Then the only guess I have is that &quot;root of the project&quot; is not the same as root of the repository. It&#39;s either that or you have found a rather major bug in Heroku - considering how central it is to be able to change java version I think that&#39;s really unlikely to be the case.","body":"Then the only guess I have is that &quot;root of the project&quot; is not the same as root of the repository. It&#39;s either that or you have found a rather major bug in Heroku - considering how central it is to be able to change java version I think that&#39;s really unlikely to be the case."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666552799,"creation_date":1666552799,"answer_id":74174110,"question_id":74173561,"body_markdown":"By default, Heroku uses JDK 1.8 for Java Apps.\r\n\r\nYou can change this by specifying your Java Runtime version in the `system.properties` file. \r\n\r\n```\r\njava.runtime.version=&lt;jdk_version&gt; (e.g. 11)\r\n```\r\n\r\nTake a look at [this][1] for more.\r\n\r\n\r\n  [1]: https://www.codejava.net/heroku/change-java-version-for-apps","title":"How to change java runtime version in heroku app","body":"<p>By default, Heroku uses JDK 1.8 for Java Apps.</p>\n<p>You can change this by specifying your Java Runtime version in the <code>system.properties</code> file.</p>\n<pre><code>java.runtime.version=&lt;jdk_version&gt; (e.g. 11)\n</code></pre>\n<p>Take a look at <a href=\"https://www.codejava.net/heroku/change-java-version-for-apps\" rel=\"nofollow noreferrer\">this</a> for more.</p>\n"}],"owner":{"account_id":23966638,"reputation":13,"user_id":17956045,"display_name":"Benamor Omar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666602191,"creation_date":1666548385,"question_id":74173561,"body_markdown":"I&#39;m trying to deploy a spring boot app that uses JDK 11 but when Building on the Heroku it installs OpenJdk 1.8 :\r\n\r\n```\r\n-----&gt; Uploading build...\r\n       - success\r\n-----&gt; Deploying...\r\nremote: \r\nremote: -----&gt; Building on the Heroku-22 stack\r\nremote: -----&gt; Using buildpack: heroku/jvm\r\nremote: -----&gt; heroku-deploy app detected\r\nremote: -----&gt; Installing OpenJDK 1.8... done\r\nremote: -----&gt; Discovering process types\r\nremote:        Procfile declares types -&gt; web\r\nremote: \r\nremote: -----&gt; Compressing...\r\nremote:        Done: 106.2M\r\nremote: -----&gt; Launching...\r\nremote:        Released v14\r\n```\r\nAlthough i created a &#39;system.properties&#39; file in the root of the project and commited it to git ```java.runtime.version=11``` but it still installing OpenJdk 1.8 and not 11.\r\n\r\n\r\nand this is the exception from the Heroku Cli :\r\n\r\n```\r\n2022-10-23T18:03:37.124247+00:00 heroku[web.1]: State changed from starting to crashed\r\n2022-10-23T18:03:37.127120+00:00 heroku[web.1]: State changed from crashed to starting\r\n2022-10-23T18:03:41.139758+00:00 heroku[web.1]: Starting process with command `java $JAVA_OPTS -jar SeniorCare-0.0.1-SNAPSHOT.jar  $JAR_OPTS`\r\n2022-10-23T18:03:42.062965+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n2022-10-23T18:03:42.069472+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8\r\n2022-10-23T18:03:42.544439+00:00 heroku[web.1]: Process exited with status 1\r\n2022-10-23T18:03:42.646566+00:00 heroku[web.1]: State changed from starting to crashed\r\n2022-10-23T18:03:42.408259+00:00 app[web.1]: Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: dsi/senior/SeniorCareApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n2022-10-23T18:03:42.408398+00:00 app[web.1]: at java.lang.ClassLoader.defineClass1(Native Method)\r\n2022-10-23T18:03:42.408445+00:00 app[web.1]: at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\r\n2022-10-23T18:03:42.408507+00:00 app[web.1]: at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n2022-10-23T18:03:42.408597+00:00 app[web.1]: at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n2022-10-23T18:03:42.408637+00:00 app[web.1]: at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n2022-10-23T18:03:42.408674+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n2022-10-23T18:03:42.408712+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n2022-10-23T18:03:42.408768+00:00 app[web.1]: at java.security.AccessController.doPrivileged(Native Method)\r\n2022-10-23T18:03:42.408826+00:00 app[web.1]: at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n2022-10-23T18:03:42.408878+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n2022-10-23T18:03:42.408940+00:00 app[web.1]: at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n2022-10-23T18:03:42.408997+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n2022-10-23T18:03:42.409054+00:00 app[web.1]: at java.lang.Class.forName0(Native Method)\r\n2022-10-23T18:03:42.409099+00:00 app[web.1]: at java.lang.Class.forName(Class.java:348)\r\n2022-10-23T18:03:42.409161+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\r\n2022-10-23T18:03:42.409220+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n2022-10-23T18:03:42.409255+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n2022-10-23T18:03:42.409297+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n```\r\n\r\n   ","title":"How to change java runtime version in heroku app","body":"<p>I'm trying to deploy a spring boot app that uses JDK 11 but when Building on the Heroku it installs OpenJdk 1.8 :</p>\n<pre><code>-----&gt; Uploading build...\n       - success\n-----&gt; Deploying...\nremote: \nremote: -----&gt; Building on the Heroku-22 stack\nremote: -----&gt; Using buildpack: heroku/jvm\nremote: -----&gt; heroku-deploy app detected\nremote: -----&gt; Installing OpenJDK 1.8... done\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; web\nremote: \nremote: -----&gt; Compressing...\nremote:        Done: 106.2M\nremote: -----&gt; Launching...\nremote:        Released v14\n</code></pre>\n<p>Although i created a 'system.properties' file in the root of the project and commited it to git <code>java.runtime.version=11</code> but it still installing OpenJdk 1.8 and not 11.</p>\n<p>and this is the exception from the Heroku Cli :</p>\n<pre><code>2022-10-23T18:03:37.124247+00:00 heroku[web.1]: State changed from starting to crashed\n2022-10-23T18:03:37.127120+00:00 heroku[web.1]: State changed from crashed to starting\n2022-10-23T18:03:41.139758+00:00 heroku[web.1]: Starting process with command `java $JAVA_OPTS -jar SeniorCare-0.0.1-SNAPSHOT.jar  $JAR_OPTS`\n2022-10-23T18:03:42.062965+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2022-10-23T18:03:42.069472+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8\n2022-10-23T18:03:42.544439+00:00 heroku[web.1]: Process exited with status 1\n2022-10-23T18:03:42.646566+00:00 heroku[web.1]: State changed from starting to crashed\n2022-10-23T18:03:42.408259+00:00 app[web.1]: Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: dsi/senior/SeniorCareApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n2022-10-23T18:03:42.408398+00:00 app[web.1]: at java.lang.ClassLoader.defineClass1(Native Method)\n2022-10-23T18:03:42.408445+00:00 app[web.1]: at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\n2022-10-23T18:03:42.408507+00:00 app[web.1]: at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n2022-10-23T18:03:42.408597+00:00 app[web.1]: at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n2022-10-23T18:03:42.408637+00:00 app[web.1]: at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n2022-10-23T18:03:42.408674+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n2022-10-23T18:03:42.408712+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n2022-10-23T18:03:42.408768+00:00 app[web.1]: at java.security.AccessController.doPrivileged(Native Method)\n2022-10-23T18:03:42.408826+00:00 app[web.1]: at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n2022-10-23T18:03:42.408878+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n2022-10-23T18:03:42.408940+00:00 app[web.1]: at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n2022-10-23T18:03:42.408997+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n2022-10-23T18:03:42.409054+00:00 app[web.1]: at java.lang.Class.forName0(Native Method)\n2022-10-23T18:03:42.409099+00:00 app[web.1]: at java.lang.Class.forName(Class.java:348)\n2022-10-23T18:03:42.409161+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\n2022-10-23T18:03:42.409220+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n2022-10-23T18:03:42.409255+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n2022-10-23T18:03:42.409297+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n</code></pre>\n"},{"tags":["java","charles-proxy"],"answers":[{"tags":[],"owner":{"account_id":6114310,"reputation":44,"user_id":4769837,"display_name":"pepijn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666602155,"creation_date":1666602155,"answer_id":74178775,"question_id":69702334,"body_markdown":"For me going to `C:\\Users\\my account\\.accessibility.properties` and commenting out every line by adding a `#` a front of it worked.(I at least don&#39;t need the accessibility)\r\n\r\nFound this solution at: https://stackoverflow.com/questions/15260989/exception-in-thread-main-java-awt-awterror-assistive-technology-not-found#comment117751693_15263840","title":"Charles proxy won&#39;t start. Assistive Technology not found: com.sun.java.accessibility.AccessBridge","body":"<p>For me going to <code>C:\\Users\\my account\\.accessibility.properties</code> and commenting out every line by adding a <code>#</code> a front of it worked.(I at least don't need the accessibility)</p>\n<p>Found this solution at: <a href=\"https://stackoverflow.com/questions/15260989/exception-in-thread-main-java-awt-awterror-assistive-technology-not-found#comment117751693_15263840\">Exception in thread &quot;main&quot; java.awt.AWTError: Assistive Technology not found</a></p>\n"}],"owner":{"account_id":1450937,"reputation":868,"user_id":1367902,"accept_rate":71,"display_name":"derodevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178775,"answer_count":1,"score":1,"last_activity_date":1666602155,"creation_date":1635129654,"question_id":69702334,"body_markdown":"My previous question was deleted [here][1] because it was considered as duplicate. I say it&#39;s not because the answers were about java itself while mine is about charles proxy and those answers didn&#39;t resolve my problem.\r\n\r\nI had installed `jdk-17.0.1` and `jre1.8.0_311` on my machine when I tried to open `charles proxy 4.6.2` on double click but nothing happened, the application didn&#39;t start. I try to open via command prompt by typing `Charles.exe` and this error is shown\r\n\r\n    java.awt.AWTError: Assistive Technology not found: com.sun.java.accessibility.AccessBridge\r\n            at java.desktop/java.awt.Toolkit.newAWTError(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.fallbackToLoadClassForAT(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\r\n            at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\r\n            at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\n            at java.base/java.util.stream.ReferencePipeline.forEach(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.loadAssistiveTechnologies(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.getDefaultToolkit(Unknown Source)\r\n            at de.sciss.syntaxpane.DefaultSyntaxKit.&lt;clinit&gt;(DefaultSyntaxKit.java:105)\r\n            at com.xk72.charles.gui.lib.UIUtils.&lt;clinit&gt;(Unknown Source)\r\n            at com.xk72.charles.gui.s.h(Unknown Source)\r\n            at com.xk72.charles.gui.Main.c(Unknown Source)\r\n            at com.xk72.charles.Main.b(Unknown Source)\r\n            at com.xk72.charles.gui.Main.main(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n            at com.xk72.lib.a.a(Unknown Source)\r\n            at com.xk72.charles.gui.MainWithClassLoader.main(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.java.accessibility.AccessBridge\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n            at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Unknown Source)\r\n            ... 24 more\r\n\r\nI&#39;m using Windows 10 64bit. `%JAVA_HOME%` is also setup\r\n\r\n  [1]: https://stackoverflow.com/questions/69698763/charles-proxy-wont-open-assistive-technology-not-found-com-sun-java-accessibi","title":"Charles proxy won&#39;t start. Assistive Technology not found: com.sun.java.accessibility.AccessBridge","body":"<p>My previous question was deleted <a href=\"https://stackoverflow.com/questions/69698763/charles-proxy-wont-open-assistive-technology-not-found-com-sun-java-accessibi\">here</a> because it was considered as duplicate. I say it's not because the answers were about java itself while mine is about charles proxy and those answers didn't resolve my problem.</p>\n<p>I had installed <code>jdk-17.0.1</code> and <code>jre1.8.0_311</code> on my machine when I tried to open <code>charles proxy 4.6.2</code> on double click but nothing happened, the application didn't start. I try to open via command prompt by typing <code>Charles.exe</code> and this error is shown</p>\n<pre><code>java.awt.AWTError: Assistive Technology not found: com.sun.java.accessibility.AccessBridge\n        at java.desktop/java.awt.Toolkit.newAWTError(Unknown Source)\n        at java.desktop/java.awt.Toolkit.fallbackToLoadClassForAT(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n        at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n        at java.base/java.util.stream.ReferencePipeline.forEach(Unknown Source)\n        at java.desktop/java.awt.Toolkit.loadAssistiveTechnologies(Unknown Source)\n        at java.desktop/java.awt.Toolkit.getDefaultToolkit(Unknown Source)\n        at de.sciss.syntaxpane.DefaultSyntaxKit.&lt;clinit&gt;(DefaultSyntaxKit.java:105)\n        at com.xk72.charles.gui.lib.UIUtils.&lt;clinit&gt;(Unknown Source)\n        at com.xk72.charles.gui.s.h(Unknown Source)\n        at com.xk72.charles.gui.Main.c(Unknown Source)\n        at com.xk72.charles.Main.b(Unknown Source)\n        at com.xk72.charles.gui.Main.main(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at com.xk72.lib.a.a(Unknown Source)\n        at com.xk72.charles.gui.MainWithClassLoader.main(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.sun.java.accessibility.AccessBridge\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Unknown Source)\n        ... 24 more\n</code></pre>\n<p>I'm using Windows 10 64bit. <code>%JAVA_HOME%</code> is also setup</p>\n"},{"tags":["java","junit5","sonarlint"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1666601024,"post_id":74178463,"comment_id":130967248,"body_markdown":"You can leave out `assertNotNull(ressource)` since a null `ressource` will cause the test to fail anyway. But that still exceeds the 25 max assertions.","body":"You can leave out <code>assertNotNull(ressource)</code> since a null <code>ressource</code> will cause the test to fail anyway. But that still exceeds the 25 max assertions."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666602064,"creation_date":1666602064,"answer_id":74178763,"question_id":74178463,"body_markdown":"Personally, I wouldn&#39;t bother with checking the number of assertions, since, sure, it&#39;s best if the unit test remains compact, but what&#39;s the test worth, if it doesn&#39;t test all it should test?\r\n\r\nTwo approaches jump to mind.\r\n\r\nLet&#39;s say you have a Person class, which has a few fields (I&#39;m not going to go for thirty asserts), but you are limited to one assertion per test.\r\n\r\n    public class Person {\r\n      private String name;\r\n      private Date birthDay;\r\n    \r\n      public Person(String name, Date birthDay) {\r\n        this.name = name;\r\n        this.birthDay = birthDay;\r\n      }\r\n    \r\n      public String getName() { return name; }\r\n    \r\n      public Date getBirthDate() { return birthDay; }\r\n    \r\n      public boolean isAdult() { /* assume implemented */ }\r\n    }\r\n\r\nApproach 1 - several tests:\r\n\r\n    public class PersonTest {\r\n    \r\n     @Test\r\n     public void testName() {\r\n       assertEquals(&quot;Name should be Sam&quot;, &quot;Sam&quot;, buildPerson().getName());\r\n     }\r\n    \r\n     @Test\r\n     public void testAdult() {\r\n       assertTrue(&quot;Person should be an adult&quot;, buildPerson().isAdult());\r\n     }\r\n    \r\n      public Person buildPerson() {\r\n        return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\r\n      }\r\n    }\r\n\r\nSo, this honors your limitation, but this might be a big overkill for your thirty assertions.\r\n\r\nYou can also perform the actual testing in a separate method. Personally, I don&#39;t really see an upside to this, but it would help you limit your number of assertions:\r\n\r\n    public class PersonTest {\r\n    \r\n       @Test\r\n       public void testPerson() {\r\n         Person p = buildPerson();\r\n         String result = comparePersonToExpectations(p, &quot;Sam&quot;, true);\r\n         assertEquals(result, &quot;&quot;, result);\r\n       }\r\n    \r\n       public String comparePersonToExpectations(Person person, String expectedName, boolean shouldBeAdult) {\r\n         if ( !expectedName.equals(person.getName())\r\n           return &quot;Name should be: &quot; + expectedName + &quot; but was: &quot; + person.getName();\r\n         if ( shouldBeAdult != person.isAdult()) \r\n           return &quot;AdultCheck expected: &quot; + shouldBeAdult + &quot;, Actual: &quot; + person.isAdult();\r\n         return &quot;&quot;;\r\n       }\r\n    \r\n       public Person buildPerson() {\r\n         return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\r\n       }\r\n    }\r\n\r\n","title":"Best way to unit test mapper for huge java object with junit 5","body":"<p>Personally, I wouldn't bother with checking the number of assertions, since, sure, it's best if the unit test remains compact, but what's the test worth, if it doesn't test all it should test?</p>\n<p>Two approaches jump to mind.</p>\n<p>Let's say you have a Person class, which has a few fields (I'm not going to go for thirty asserts), but you are limited to one assertion per test.</p>\n<pre><code>public class Person {\n  private String name;\n  private Date birthDay;\n\n  public Person(String name, Date birthDay) {\n    this.name = name;\n    this.birthDay = birthDay;\n  }\n\n  public String getName() { return name; }\n\n  public Date getBirthDate() { return birthDay; }\n\n  public boolean isAdult() { /* assume implemented */ }\n}\n</code></pre>\n<p>Approach 1 - several tests:</p>\n<pre><code>public class PersonTest {\n\n @Test\n public void testName() {\n   assertEquals(&quot;Name should be Sam&quot;, &quot;Sam&quot;, buildPerson().getName());\n }\n\n @Test\n public void testAdult() {\n   assertTrue(&quot;Person should be an adult&quot;, buildPerson().isAdult());\n }\n\n  public Person buildPerson() {\n    return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\n  }\n}\n</code></pre>\n<p>So, this honors your limitation, but this might be a big overkill for your thirty assertions.</p>\n<p>You can also perform the actual testing in a separate method. Personally, I don't really see an upside to this, but it would help you limit your number of assertions:</p>\n<pre><code>public class PersonTest {\n\n   @Test\n   public void testPerson() {\n     Person p = buildPerson();\n     String result = comparePersonToExpectations(p, &quot;Sam&quot;, true);\n     assertEquals(result, &quot;&quot;, result);\n   }\n\n   public String comparePersonToExpectations(Person person, String expectedName, boolean shouldBeAdult) {\n     if ( !expectedName.equals(person.getName())\n       return &quot;Name should be: &quot; + expectedName + &quot; but was: &quot; + person.getName();\n     if ( shouldBeAdult != person.isAdult()) \n       return &quot;AdultCheck expected: &quot; + shouldBeAdult + &quot;, Actual: &quot; + person.isAdult();\n     return &quot;&quot;;\n   }\n\n   public Person buildPerson() {\n     return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":26715381,"reputation":13,"user_id":20320052,"display_name":"Samuel Holmes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178763,"answer_count":1,"score":1,"last_activity_date":1666602064,"creation_date":1666600429,"question_id":74178463,"body_markdown":"I need to unit test a mapper for a 30 arguments object, however SonarLint recommendation is to remain under 25 assertions for a single test. Is there a way to test my mapper without making two tests ?\r\n\r\nHere is my test : \r\n\r\n```\r\n@Test\r\nvoid devraitConvertireEnApercu() {\r\n\r\n        //creation of documentConventionOTD with all fields\r\n\r\n\t\tApercuConvention ressource = mappeur.p2r(documentConventionOTD);\r\n\r\n\t\tassertAll(\r\n\t\t\t\t() -&gt; assertNotNull(ressource),\r\n\t\t\t\t() -&gt; assertNotNull(ressource),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getIdConvention(), ressource.getId()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getTypeConvention(), ressource.getTypeConvention()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodeGeo(), ressource.getCodeGeo()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getOrganismeFormation(), ressource.getOrganismeFormation()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getIntituleFormation(), ressource.getIntituleFormation()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodePostalLieuFormation(), ressource.getCodePostal()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getVilleLieuFormation(), ressource.getVille()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateDebutConvention(), ressource.getDateDebut()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getNbPlaces(), ressource.getNbPlaces()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantBDCInitial(), ressource.getMontantBDCInitial()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateBDCInitial(), ressource.getDateBDCInitial()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantBDCRectificatif(), ressource.getMontantBDCRectificatif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateBDCRectificatif(), ressource.getDateBDCRectificatif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantTotalAvance(), ressource.getMontantTotalAvance()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstAvanceDemandee(), ressource.getEstAvanceDemandee()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateCalculAvance(), ressource.getDateCalculAvance()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstBeneficiaireAvanceActif(), ressource.getEstBeneficiaireAvanceActif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEtatRapprochement(), ressource.getEtatRapprochement()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCGenere(), ressource.getDateAlerteBDCGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCGenere(), ressource.getEstTraiteeAlerteBDCGenere()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCNonGenere(), ressource.getDateAlerteBDCNonGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCNonGenere(), ressource.getEstTraiteeAlerteBDCNonGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlertePrixTotal(), ressource.getDateAlertePrixTotal()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlertePrixTotal(), ressource.getEstTraiteeAlertePrixTotal()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteNombrePlaceAchetees(), ressource.getDateAlerteNombrePlaceAchetees()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteNombrePlaceAchetees(), ressource.getEstTraiteeAlerteNombrePlaceAchetees()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getNumeroBonReservation(), ressource.getNumeroBonReservation()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodeTypeSession(), ressource.getTypeSession())\r\n\t\t);\r\n\r\n\r\n\t}\r\n```","title":"Best way to unit test mapper for huge java object with junit 5","body":"<p>I need to unit test a mapper for a 30 arguments object, however SonarLint recommendation is to remain under 25 assertions for a single test. Is there a way to test my mapper without making two tests ?</p>\n<p>Here is my test :</p>\n<pre><code>@Test\nvoid devraitConvertireEnApercu() {\n\n        //creation of documentConventionOTD with all fields\n\n        ApercuConvention ressource = mappeur.p2r(documentConventionOTD);\n\n        assertAll(\n                () -&gt; assertNotNull(ressource),\n                () -&gt; assertNotNull(ressource),\n                () -&gt; assertEquals(documentConventionOTD.getIdConvention(), ressource.getId()),\n                () -&gt; assertEquals(documentConventionOTD.getTypeConvention(), ressource.getTypeConvention()),\n                () -&gt; assertEquals(documentConventionOTD.getCodeGeo(), ressource.getCodeGeo()),\n                () -&gt; assertEquals(documentConventionOTD.getOrganismeFormation(), ressource.getOrganismeFormation()),\n                () -&gt; assertEquals(documentConventionOTD.getIntituleFormation(), ressource.getIntituleFormation()),\n\n                () -&gt; assertEquals(documentConventionOTD.getCodePostalLieuFormation(), ressource.getCodePostal()),\n                () -&gt; assertEquals(documentConventionOTD.getVilleLieuFormation(), ressource.getVille()),\n                () -&gt; assertEquals(documentConventionOTD.getDateDebutConvention(), ressource.getDateDebut()),\n                () -&gt; assertEquals(documentConventionOTD.getNbPlaces(), ressource.getNbPlaces()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantBDCInitial(), ressource.getMontantBDCInitial()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateBDCInitial(), ressource.getDateBDCInitial()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantBDCRectificatif(), ressource.getMontantBDCRectificatif()),\n                () -&gt; assertEquals(documentConventionOTD.getDateBDCRectificatif(), ressource.getDateBDCRectificatif()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantTotalAvance(), ressource.getMontantTotalAvance()),\n                () -&gt; assertEquals(documentConventionOTD.getEstAvanceDemandee(), ressource.getEstAvanceDemandee()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateCalculAvance(), ressource.getDateCalculAvance()),\n                () -&gt; assertEquals(documentConventionOTD.getEstBeneficiaireAvanceActif(), ressource.getEstBeneficiaireAvanceActif()),\n                () -&gt; assertEquals(documentConventionOTD.getEtatRapprochement(), ressource.getEtatRapprochement()),\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCGenere(), ressource.getDateAlerteBDCGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCGenere(), ressource.getEstTraiteeAlerteBDCGenere()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCNonGenere(), ressource.getDateAlerteBDCNonGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCNonGenere(), ressource.getEstTraiteeAlerteBDCNonGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getDateAlertePrixTotal(), ressource.getDateAlertePrixTotal()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlertePrixTotal(), ressource.getEstTraiteeAlertePrixTotal()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteNombrePlaceAchetees(), ressource.getDateAlerteNombrePlaceAchetees()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteNombrePlaceAchetees(), ressource.getEstTraiteeAlerteNombrePlaceAchetees()),\n                () -&gt; assertEquals(documentConventionOTD.getNumeroBonReservation(), ressource.getNumeroBonReservation()),\n                () -&gt; assertEquals(documentConventionOTD.getCodeTypeSession(), ressource.getTypeSession())\n        );\n\n\n    }\n</code></pre>\n"},{"tags":["java","operators","expression","operator-precedence","integer-arithmetic"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666600917,"post_id":74178490,"comment_id":130967210,"body_markdown":"Why should `a=5` and then `++a` give you `7`? Also by the time you reach `a++`, it isn&#39;t `5` anymore. The whole expression evaluates to `11 * 6 - 6 = 60`","body":"Why should <code>a=5</code> and then <code>++a</code> give you <code>7</code>? Also by the time you reach <code>a++</code>, it isn&#39;t <code>5</code> anymore. The whole expression evaluates to <code>11 * 6 - 6 = 60</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1666601026,"post_id":74178490,"comment_id":130967249,"body_markdown":"Does this answer your question? [How do the post increment (i++) and pre increment (++i) operators work in Java?](https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java\">How do the post increment (i++) and pre increment (++i) operators work in Java?</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666601038,"post_id":74178490,"comment_id":130967252,"body_markdown":"Unary operators have residence `++b` results to `11` and `++a` would give `6`.  Postincrement `a++` would change **only** the value stored in variable `a` to `7`, but while calculating `c` the value `6` would be used. Therefore, you would have `c = 11 * 6 - 6;`","body":"Unary operators have residence <code>++b</code> results to <code>11</code> and <code>++a</code> would give <code>6</code>.  Postincrement <code>a++</code> would change <b>only</b> the value stored in variable <code>a</code> to <code>7</code>, but while calculating <code>c</code> the value <code>6</code> would be used. Therefore, you would have <code>c = 11 * 6 - 6;</code>"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1666601065,"post_id":74178490,"comment_id":130967263,"body_markdown":"hey @QBrute, when a++ is executed, we will first utilize the value and then increase it by 1 , so value of a becomes 6, but in place of a++ we write 5 only. Now ++a means pre-increment so we will first increase the value and then utilize it, so ++a becomes 6+1 = 7.","body":"hey @QBrute, when a++ is executed, we will first utilize the value and then increase it by 1 , so value of a becomes 6, but in place of a++ we write 5 only. Now ++a means pre-increment so we will first increase the value and then utilize it, so ++a becomes 6+1 = 7."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666601231,"post_id":74178490,"comment_id":130967327,"body_markdown":"I know how the operators work, your explanation is wrong. By the time you reach `a++`, the value of `a` is already `6` because of the preceding `++a`. So you have `11 * 6 - 6 = 60` which is the correct answer that you&#39;re referring to...","body":"I know how the operators work, your explanation is wrong. By the time you reach <code>a++</code>, the value of <code>a</code> is already <code>6</code> because of the preceding <code>++a</code>. So you have <code>11 * 6 - 6 = 60</code> which is the correct answer that you&#39;re referring to..."},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1666601321,"post_id":74178490,"comment_id":130967366,"body_markdown":"@QBrute I get what you&#39;re saying, but Java docs say post increment has higher precedence so shouldn&#39;t a++ be executed earlier than ++a?","body":"@QBrute I get what you&#39;re saying, but Java docs say post increment has higher precedence so shouldn&#39;t a++ be executed earlier than ++a?"},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1666601406,"post_id":74178490,"comment_id":130967389,"body_markdown":"@AnshulV.Kumar Precedence between pre- and postincrement doesn&#39;t come into play here, since they are not applied to the same operand.","body":"@AnshulV.Kumar Precedence between pre- and postincrement doesn&#39;t come into play here, since they are not applied to the same operand."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666601429,"post_id":74178490,"comment_id":130967396,"body_markdown":"No, because Java still evaluates from left to right and follows mathematical rules. The left expression is a multiplication, so `++b * ++a` is evaluated first, which in turn increases `a` before you reach the `- a++` part","body":"No, because Java still evaluates from left to right and follows mathematical rules. The left expression is a multiplication, so <code>++b * ++a</code> is evaluated first, which in turn increases <code>a</code> before you reach the <code>- a++</code> part"}],"answers":[{"tags":[],"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666601315,"creation_date":1666601315,"answer_id":74178619,"question_id":74178490,"body_markdown":"The difference between `++a` and `a++` is that in first it will increase the value of a and then use it&#39;s result as the input for next expression but `a++` will use the value of a for the expression and then increase a.\r\n\r\nAlso precedence of multiplication is higher than addition/substraction.\r\nIn your case:\r\n```\r\nc = ++b * ++a - a++ ;\r\nc = ((++10) * (++5)) - (a++)\r\nc = (11 * 6) - (6++) // a&#39;s value is 6 because of increment.\r\nc = 66 - 6 // A value will become 7 but 6 will be used.\r\nc = 60\r\n```","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>The difference between <code>++a</code> and <code>a++</code> is that in first it will increase the value of a and then use it's result as the input for next expression but <code>a++</code> will use the value of a for the expression and then increase a.</p>\n<p>Also precedence of multiplication is higher than addition/substraction.\nIn your case:</p>\n<pre><code>c = ++b * ++a - a++ ;\nc = ((++10) * (++5)) - (a++)\nc = (11 * 6) - (6++) // a's value is 6 because of increment.\nc = 66 - 6 // A value will become 7 but 6 will be used.\nc = 60\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666601979,"creation_date":1666601979,"answer_id":74178742,"question_id":74178490,"body_markdown":"According to the [Java Language Specification section 15.7.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1),\r\n\r\n&gt; The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.\r\n\r\nThis applies, in your expression, to the `-` operator.  That means that `++b * ++a` is fully evaluated before any part of `a++` is evaluated.\r\n\r\nWhen `++b * ++a` is evaluated, a side-effect is that `a` is increased to 6.  The value of `++b * ++a` is 66, because with a prefix operator, the &quot;post-operation&quot; value of the variable is used in the calculation, so this is `11 * 6`.\r\n\r\nOnce `++b * ++a` has been evaluated, the right hand operand of the `-` operation can be evaluated.  This is `a++`, which evaluates to 6, but increases `a` to 7. \r\n\r\nThe subtraction is therefore `66 - 6`, which is 60.\r\n\r\nUnfortunately, you have been misled by [the table in the Oracle Java tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html), which suggests that postfix operators are always evaluated before prefix operators.  Since this statement contradicts the Java Language Specification, I can only imagine that the authors of the Oracle Java tutorial actually intended something different, but didn&#39;t express themselves very well.","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1\" rel=\"nofollow noreferrer\">Java Language Specification section 15.7.1</a>,</p>\n<blockquote>\n<p>The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.</p>\n</blockquote>\n<p>This applies, in your expression, to the <code>-</code> operator.  That means that <code>++b * ++a</code> is fully evaluated before any part of <code>a++</code> is evaluated.</p>\n<p>When <code>++b * ++a</code> is evaluated, a side-effect is that <code>a</code> is increased to 6.  The value of <code>++b * ++a</code> is 66, because with a prefix operator, the &quot;post-operation&quot; value of the variable is used in the calculation, so this is <code>11 * 6</code>.</p>\n<p>Once <code>++b * ++a</code> has been evaluated, the right hand operand of the <code>-</code> operation can be evaluated.  This is <code>a++</code>, which evaluates to 6, but increases <code>a</code> to 7.</p>\n<p>The subtraction is therefore <code>66 - 6</code>, which is 60.</p>\n<p>Unfortunately, you have been misled by <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">the table in the Oracle Java tutorial</a>, which suggests that postfix operators are always evaluated before prefix operators.  Since this statement contradicts the Java Language Specification, I can only imagine that the authors of the Oracle Java tutorial actually intended something different, but didn't express themselves very well.</p>\n"}],"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74178742,"answer_count":2,"score":0,"last_activity_date":1666601979,"creation_date":1666600623,"question_id":74178490,"body_markdown":"I have the following code in Java :\r\n\r\n    int a=5,b=10,c;\r\n    c = ++b * ++a - a++ ;\r\n    System.out.println(c);\r\n   \r\nNow referring to the Java operators precedence table :-\r\n\r\n[Table][1]\r\n\r\nWe will first evaluate the postfix a++ and then prefix ++a and ++b, which gives us :\r\n\r\nc= 11 * 7 - 5 \r\n = 72\r\n\r\nBut this answer is wrong, and the correct answer is 60\r\nWhat am I doing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KQRc9.png","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>I have the following code in Java :</p>\n<pre><code>int a=5,b=10,c;\nc = ++b * ++a - a++ ;\nSystem.out.println(c);\n</code></pre>\n<p>Now referring to the Java operators precedence table :-</p>\n<p><a href=\"https://i.stack.imgur.com/KQRc9.png\" rel=\"nofollow noreferrer\">Table</a></p>\n<p>We will first evaluate the postfix a++ and then prefix ++a and ++b, which gives us :</p>\n<p>c= 11 * 7 - 5\n= 72</p>\n<p>But this answer is wrong, and the correct answer is 60\nWhat am I doing here?</p>\n"},{"tags":["java","android","xml","game-development"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666602029,"post_id":74178719,"comment_id":130967611,"body_markdown":"Maybe take a bitmap screenshot of that screen and then pass the bitmap to the other activity or wherever you want and then set the image?","body":"Maybe take a bitmap screenshot of that screen and then pass the bitmap to the other activity or wherever you want and then set the image?"},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666603261,"post_id":74178719,"comment_id":130968007,"body_markdown":"I&#39;m creating a village game and I have this kind of functionality where an image view is zoomable but when starting the game, it shows the whole image when I just want to be kind of in the take the view to the main hall upon start up","body":"I&#39;m creating a village game and I have this kind of functionality where an image view is zoomable but when starting the game, it shows the whole image when I just want to be kind of in the take the view to the main hall upon start up"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666603343,"post_id":74178719,"comment_id":130968027,"body_markdown":"Sorry. I couldnt get you.","body":"Sorry. I couldnt get you."},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666603578,"post_id":74178719,"comment_id":130968093,"body_markdown":"It like in Clash of Clans where on starting up the game you will be shown the town hall that kind of functionality is what I&#39;ve meant","body":"It like in Clash of Clans where on starting up the game you will be shown the town hall that kind of functionality is what I&#39;ve meant"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666603888,"post_id":74178719,"comment_id":130968199,"body_markdown":"So u want to show the entire base on startup?","body":"So u want to show the entire base on startup?"},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666604606,"post_id":74178719,"comment_id":130968405,"body_markdown":"no, that&#39;s my problem it shows the entire village I just wanted to show a specific part of the village","body":"no, that&#39;s my problem it shows the entire village I just wanted to show a specific part of the village"}],"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666601865,"creation_date":1666601865,"question_id":74178719,"body_markdown":"I would like to ask is there&#39;s a way for me to kind of put the screen view into a specific part of an image view kind of like when the user start the game it will first show that spot thanks\r\n","title":"Set the screen view to a specific part of imageview","body":"<p>I would like to ask is there's a way for me to kind of put the screen view into a specific part of an image view kind of like when the user start the game it will first show that spot thanks</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","serializable"],"comments":[{"owner":{"account_id":146748,"reputation":2260,"user_id":357403,"display_name":"Koshinae"},"score":0,"creation_date":1666600134,"post_id":74178382,"comment_id":130966950,"body_markdown":"Does this answer your question? [Get AsyncContext from HttpServletRequest](https://stackoverflow.com/questions/45957127/get-asynccontext-from-httpservletrequest)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45957127/get-asynccontext-from-httpservletrequest\">Get AsyncContext from HttpServletRequest</a>"}],"answers":[{"tags":[],"owner":{"account_id":26715184,"reputation":1,"user_id":20319876,"display_name":"Andy Wong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666601650,"creation_date":1666600399,"answer_id":74178456,"question_id":74178382,"body_markdown":"The solution to this problem in my project:\r\n\r\nPayResponseVO. Java class **needs to implement Serializable interface**\r\n\r\n    @Data\r\n    public class PayResponseVO implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -7991519952738359328L;\r\n    \r\n        private Object payInfo;\r\n    \r\n        private String orderNo;\r\n    \r\n        private String shopId;\r\n    }","title":"It is illegal to call this method if the current request is not in asynchronous mode","body":"<p>The solution to this problem in my project:</p>\n<p>PayResponseVO. Java class <strong>needs to implement Serializable interface</strong></p>\n<pre><code>@Data\npublic class PayResponseVO implements Serializable {\n\n    private static final long serialVersionUID = -7991519952738359328L;\n\n    private Object payInfo;\n\n    private String orderNo;\n\n    private String shopId;\n}\n</code></pre>\n"}],"owner":{"account_id":26715184,"reputation":1,"user_id":20319876,"display_name":"Andy Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666601650,"creation_date":1666600004,"question_id":74178382,"body_markdown":"Errors Occurred：\r\n\r\n    {\r\n      &quot;status&quot; : 1,\r\n      &quot;code&quot; : 0,\r\n      &quot;message&quot; : &quot;It is illegal to call this method if the current request is not in asynchronous mode (i.e. isAsyncStarted() returns false)&quot;,\r\n      &quot;param&quot; : null,\r\n      &quot;data&quot; : null\r\n    }\r\n\r\n\r\nCode related to the occurrence of an error:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/cashier/v1&quot;)\r\n    public class PayController {\r\n    \t@ApiOperation(&quot;pay for shop&quot;)\r\n    \t@GetMapping(value = &quot;/pay&quot;)\r\n    \tpublic ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) {\r\n    \t\treturn payService.pay(requestVO, request);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    @Service\r\n    @Slf4j\r\n    public class PayServiceImpl implements IPayService {\r\n    \t@Override\r\n    \tpublic ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) throws AuthorizationException {\r\n    \t\tlog.info(&quot;pay request param:{}&quot;, JSON.toJSONString(requestVO));\r\n    \t\tPayResponseVO vo = new PayResponseVO();\r\n    \t\t......\r\n    \t\tvo.setOrderNo(businessOrderNo);\r\n            vo.setShopId(requestVO.getShopId());\r\n            log.info(&quot;pay response param:{}&quot;, JSON.toJSONString(vo));\r\n    \t\treturn ResponseVO.success(vo);\r\n    \t}\r\n    }\r\n    \r\n    @Data\r\n    public class PayResponseVO {\r\n    \r\n        private Object payInfo;\r\n    \r\n        private String orderNo;\r\n    \r\n        private String shopId;\r\n    }\r\n\r\nSingle step debugging all code can be executed normally, but the front end still has errors，\r\nI encountered this error, but there is no appropriate solution online. I solved it myself. I share the solution below\r\n\r\n","title":"It is illegal to call this method if the current request is not in asynchronous mode","body":"<p>Errors Occurred：</p>\n<pre><code>{\n  &quot;status&quot; : 1,\n  &quot;code&quot; : 0,\n  &quot;message&quot; : &quot;It is illegal to call this method if the current request is not in asynchronous mode (i.e. isAsyncStarted() returns false)&quot;,\n  &quot;param&quot; : null,\n  &quot;data&quot; : null\n}\n</code></pre>\n<p>Code related to the occurrence of an error:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/cashier/v1&quot;)\npublic class PayController {\n    @ApiOperation(&quot;pay for shop&quot;)\n    @GetMapping(value = &quot;/pay&quot;)\n    public ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) {\n        return payService.pay(requestVO, request);\n    }\n}\n\n\n@Service\n@Slf4j\npublic class PayServiceImpl implements IPayService {\n    @Override\n    public ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) throws AuthorizationException {\n        log.info(&quot;pay request param:{}&quot;, JSON.toJSONString(requestVO));\n        PayResponseVO vo = new PayResponseVO();\n        ......\n        vo.setOrderNo(businessOrderNo);\n        vo.setShopId(requestVO.getShopId());\n        log.info(&quot;pay response param:{}&quot;, JSON.toJSONString(vo));\n        return ResponseVO.success(vo);\n    }\n}\n\n@Data\npublic class PayResponseVO {\n\n    private Object payInfo;\n\n    private String orderNo;\n\n    private String shopId;\n}\n</code></pre>\n<p>Single step debugging all code can be executed normally, but the front end still has errors，\nI encountered this error, but there is no appropriate solution online. I solved it myself. I share the solution below</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666138772,"creation_date":1666138772,"answer_id":74118663,"question_id":74112148,"body_markdown":"Based on your schema it looks like you&#39;re trying to have new data always use the N+1 run_id. Are you sure you want to do that? Why not use a value based on the timestamp? It&#39;s like like &quot;3&quot; is any more meaningful than &quot;1666138714&quot; when it comes to unique run IDs.\r\n\r\nIf you really truly want an incrementing number like that it&#39;s best to track the number separately as its own item and maintain that number as you run jobs.","title":"How to get max value from table Dynamodb - Java","body":"<p>Based on your schema it looks like you're trying to have new data always use the N+1 run_id. Are you sure you want to do that? Why not use a value based on the timestamp? It's like like &quot;3&quot; is any more meaningful than &quot;1666138714&quot; when it comes to unique run IDs.</p>\n<p>If you really truly want an incrementing number like that it's best to track the number separately as its own item and maintain that number as you run jobs.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666601220,"creation_date":1666601220,"answer_id":74178600,"question_id":74112148,"body_markdown":"This is not something easy you can do in NoSQL, at least effectively.\r\n\r\nThe data in the partition is stored in lexicographical order based on the sort key. This means that if you put the runId as a sort key in a GSI you can query it and get the first element. Just remember that it has to be zero-padded","title":"How to get max value from table Dynamodb - Java","body":"<p>This is not something easy you can do in NoSQL, at least effectively.</p>\n<p>The data in the partition is stored in lexicographical order based on the sort key. This means that if you put the runId as a sort key in a GSI you can query it and get the first element. Just remember that it has to be zero-padded</p>\n"}],"owner":{"account_id":22755662,"reputation":85,"user_id":16915156,"display_name":"Garry S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74118663,"answer_count":2,"score":0,"last_activity_date":1666601220,"creation_date":1666101000,"question_id":74112148,"body_markdown":"How to get max value of field - run_id from DynamoDB table, result will be 3\r\n\r\n    +--------+----------------------+------------+---------+---------+\r\n    | run_id | add_date             | track_name |  status | user_id |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track1     | fail    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track2     | pass    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track3     | fail    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 2      | 2022-09-23 11:04:06  | us         | pass    |  2      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 3      | 2022-09-23 11:04:06  | it         | pass    |  3      |\r\n    +--------+----------------------+------------+---------+---------+\r\n\r\nI know it can be achievable with mysql with &quot;SELECT MAX(run_id) from table_name Limit 1&quot;\r\n\r\nTried below code for get item from table: (its for getting item from table only but i want to see how we can get max using below code)\r\n\r\n    final AmazonDynamoDB ddb = AmazonDynamoDBClientBuilder.defaultClient();\r\n\r\n    HashMap&lt;String,AttributeValue&gt; keyToGet = new HashMap&lt;&gt;();\r\n\t\t\t\t\t\t\t\t\r\n\tkeyToGet.put(&quot;run_id&quot;, new AttributeValue(&quot;3&quot;));\r\n\t\t\t\t\t\t\t\t\r\n\tGetItemResult result = ddb.getItem(detail_runinto_table, keyToGet, true);","title":"How to get max value from table Dynamodb - Java","body":"<p>How to get max value of field - run_id from DynamoDB table, result will be 3</p>\n<pre><code>+--------+----------------------+------------+---------+---------+\n| run_id | add_date             | track_name |  status | user_id |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track1     | fail    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track2     | pass    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track3     | fail    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 2      | 2022-09-23 11:04:06  | us         | pass    |  2      |\n+--------+----------------------+------------+---------+---------+\n| 3      | 2022-09-23 11:04:06  | it         | pass    |  3      |\n+--------+----------------------+------------+---------+---------+\n</code></pre>\n<p>I know it can be achievable with mysql with &quot;SELECT MAX(run_id) from table_name Limit 1&quot;</p>\n<p>Tried below code for get item from table: (its for getting item from table only but i want to see how we can get max using below code)</p>\n<pre><code>final AmazonDynamoDB ddb = AmazonDynamoDBClientBuilder.defaultClient();\n\nHashMap&lt;String,AttributeValue&gt; keyToGet = new HashMap&lt;&gt;();\n                            \nkeyToGet.put(&quot;run_id&quot;, new AttributeValue(&quot;3&quot;));\n                            \nGetItemResult result = ddb.getItem(detail_runinto_table, keyToGet, true);\n</code></pre>\n"},{"tags":["java","oop","generics","design-patterns","lambda"],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666599528,"creation_date":1666552277,"answer_id":74174041,"question_id":74173946,"body_markdown":"I suggest to adopt [the builder pattern][1] to build a `Person. This pattern allows you to specify optional args and has the added value of &quot;naming&quot; args through fluent setter methods. something like\r\n\r\n    private interface Processor &lt;T&gt; {\r\n        public static class Builder {\r\n            private T t = null;  // assign default values\r\n            private String firstName = null;\r\n            private String lastName = null;\r\n            private String cc = null;\r\n\r\n            public Builder with(T t) {\r\n                this.t = t;\r\n                return this;\r\n            }\r\n            public Builder withFirstName(String firstName) {\r\n                this.firstName = firstName;\r\n                return this;\r\n            }\r\n            // same fluent setters for all instance vars\r\n            public Processor build() {\r\n                return new Processor(...);\r\n            }\r\n        }\r\n\r\n        List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\r\n    }\r\n\r\n    Processor processor = Processor.Builder\r\n        .with(new Foo())\r\n        .withFirstName(&quot;John&quot;)\r\n        .withLastName(&quot;Doe&quot;)\r\n        // no explicit set for cc, so default is used\r\n        .build();\r\n    processor.process();\r\n\r\nUpdate Oct 24th\r\n=====\r\n\r\nfollowing the comments, I went and re-examined the sample code from the question and realised that the builder pattern can apply to build an instance of `Person` and that instance can be passed to the `process()` method:\r\n\r\n    public class PersonBuilder {\r\n    \tprivate Person person = null;\r\n    \r\n    \tpublic PersonBuilder(String firstName, String lastName) {\r\n    \t\tperson = new Person(firstName, lastName);\r\n    \t}\r\n    \tpublic PersonBuilder withId(String id) {\r\n    \t\tperson.setId(id);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic PersonBuilder withCc(String cc) {\r\n    \t\tperson.setCc(cc);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic Person build() {\r\n    \t\treturn person;\r\n    \t}\r\n    }\r\n\r\nthe definition of `process()` is simplified to   \r\n\r\n\tprivate interface Processor &lt;T&gt; {\r\n\t\tList&lt;Person&gt; process(T t, Person person);\r\n\t}\r\n\r\nand the call in main() becomes\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Person&gt; personList = new TestBuilder().process(new Foo(),\r\n\t\t\t// no null arg\r\n\t\t\tnew PersonBuilder(&quot;John&quot;, &quot;Doe&quot;).withId(&quot;123&quot;).build());\r\n\t\tSystem.out.println(personList);\r\n\t}\r\n\r\n  [1]: https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/\r\n\r\n\r\n","title":"Factory pattern using a hashmap and functional approach","body":"<p>I suggest to adopt <a href=\"https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/\" rel=\"nofollow noreferrer\">the builder pattern</a> to build a `Person. This pattern allows you to specify optional args and has the added value of &quot;naming&quot; args through fluent setter methods. something like</p>\n<pre><code>private interface Processor &lt;T&gt; {\n    public static class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n\n        public Builder with(T t) {\n            this.t = t;\n            return this;\n        }\n        public Builder withFirstName(String firstName) {\n            this.firstName = firstName;\n            return this;\n        }\n        // same fluent setters for all instance vars\n        public Processor build() {\n            return new Processor(...);\n        }\n    }\n\n    List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\n}\n\nProcessor processor = Processor.Builder\n    .with(new Foo())\n    .withFirstName(&quot;John&quot;)\n    .withLastName(&quot;Doe&quot;)\n    // no explicit set for cc, so default is used\n    .build();\nprocessor.process();\n</code></pre>\n<h1>Update Oct 24th</h1>\n<p>following the comments, I went and re-examined the sample code from the question and realised that the builder pattern can apply to build an instance of <code>Person</code> and that instance can be passed to the <code>process()</code> method:</p>\n<pre><code>public class PersonBuilder {\n    private Person person = null;\n\n    public PersonBuilder(String firstName, String lastName) {\n        person = new Person(firstName, lastName);\n    }\n    public PersonBuilder withId(String id) {\n        person.setId(id);\n        return this;\n    }\n    public PersonBuilder withCc(String cc) {\n        person.setCc(cc);\n        return this;\n    }\n    public Person build() {\n        return person;\n    }\n}\n</code></pre>\n<p>the definition of <code>process()</code> is simplified to</p>\n<pre><code>private interface Processor &lt;T&gt; {\n    List&lt;Person&gt; process(T t, Person person);\n}\n</code></pre>\n<p>and the call in main() becomes</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Person&gt; personList = new TestBuilder().process(new Foo(),\n        // no null arg\n        new PersonBuilder(&quot;John&quot;, &quot;Doe&quot;).withId(&quot;123&quot;).build());\n    System.out.println(personList);\n}\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666600903,"creation_date":1666551466,"question_id":74173946,"body_markdown":"This is a follow up of my [earlier question][1].  \r\nI want to create a factory like approach to be able to call different methods depending on the type.  \r\nThe following code works (note it is long but it is a very simplified version to show the structure. In reality for instance there won&#39;t be just one `Person` added to the result list):  \r\n\r\n    public class TestBuilder &lt;T&gt;{\r\n        private interface Processor &lt;T&gt; {\r\n            List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\r\n        }\r\n    \r\n        private class FooProcessor implements Processor &lt;Foo&gt; {\r\n            @Override\r\n            public List&lt;Person&gt; process(Foo foo, String firstName, String lastName, String id, String cc) {\r\n                System.out.println(&quot;processFoo&quot;);\r\n                Person p = new Person(firstName, lastName);\r\n                p.setId(foo.getId());;\r\n                return new ArrayList&lt;&gt;(Arrays.asList(p));\r\n            }\r\n        }\r\n    \r\n        private class BarProcessor implements Processor &lt;Bar&gt; {\r\n            @Override\r\n            public List&lt;Person&gt; process(Bar bar, String firstName, String lastName, String id, String cc) {\r\n                System.out.println(&quot;processBar&quot;);\r\n                Person p = new Person(firstName, lastName);\r\n                p.setCc(bar.getCC());\r\n                return new ArrayList&lt;&gt;(Arrays.asList(p));\r\n            }\r\n        }\r\n    \r\n        private Map&lt;AnInterface&lt;T&gt;, Processor &lt;T&gt;&gt; map = new HashMap&lt;&gt;();\r\n        private TestBuilder() {\r\n            map.put((AnInterface&lt;T&gt;) new Foo(), (Processor&lt;T&gt;) new FooProcessor());\r\n            map.put((AnInterface&lt;T&gt;) new Bar(), (Processor&lt;T&gt;) new BarProcessor());\r\n        }\r\n    \r\n    \r\n        public List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc) {\r\n            return map.get(t).process(t, firstName, lastName, id, cc);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; personList = new TestBuilder().process(new Foo(), &quot;John&quot;, &quot;Doe&quot;, &quot;123&quot;, null);\r\n            System.out.println(personList);\r\n        }\r\n    }\r\n\r\nThe issues I have that I&#39;d like help with are the following:  \r\n\r\n \r\nI am passing `null` in some cases in the `process` method because not all arguments are relevant for all types. Hence I also want to ask how can I make the approach more flexible i.e. so that I am able (as I add a new type) to pass if possible only the relevant arguments without making the code complicated?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74167355/generic-method-using-instanceof-and-can-it-be-avoided\r\n\r\n\r\n\r\n\r\n","title":"Factory pattern using a hashmap and functional approach","body":"<p>This is a follow up of my <a href=\"https://stackoverflow.com/questions/74167355/generic-method-using-instanceof-and-can-it-be-avoided\">earlier question</a>.<br />\nI want to create a factory like approach to be able to call different methods depending on the type.<br />\nThe following code works (note it is long but it is a very simplified version to show the structure. In reality for instance there won't be just one <code>Person</code> added to the result list):</p>\n<pre><code>public class TestBuilder &lt;T&gt;{\n    private interface Processor &lt;T&gt; {\n        List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\n    }\n\n    private class FooProcessor implements Processor &lt;Foo&gt; {\n        @Override\n        public List&lt;Person&gt; process(Foo foo, String firstName, String lastName, String id, String cc) {\n            System.out.println(&quot;processFoo&quot;);\n            Person p = new Person(firstName, lastName);\n            p.setId(foo.getId());;\n            return new ArrayList&lt;&gt;(Arrays.asList(p));\n        }\n    }\n\n    private class BarProcessor implements Processor &lt;Bar&gt; {\n        @Override\n        public List&lt;Person&gt; process(Bar bar, String firstName, String lastName, String id, String cc) {\n            System.out.println(&quot;processBar&quot;);\n            Person p = new Person(firstName, lastName);\n            p.setCc(bar.getCC());\n            return new ArrayList&lt;&gt;(Arrays.asList(p));\n        }\n    }\n\n    private Map&lt;AnInterface&lt;T&gt;, Processor &lt;T&gt;&gt; map = new HashMap&lt;&gt;();\n    private TestBuilder() {\n        map.put((AnInterface&lt;T&gt;) new Foo(), (Processor&lt;T&gt;) new FooProcessor());\n        map.put((AnInterface&lt;T&gt;) new Bar(), (Processor&lt;T&gt;) new BarProcessor());\n    }\n\n\n    public List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc) {\n        return map.get(t).process(t, firstName, lastName, id, cc);\n    }\n\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; personList = new TestBuilder().process(new Foo(), &quot;John&quot;, &quot;Doe&quot;, &quot;123&quot;, null);\n        System.out.println(personList);\n    }\n}\n</code></pre>\n<p>The issues I have that I'd like help with are the following:</p>\n<p>I am passing <code>null</code> in some cases in the <code>process</code> method because not all arguments are relevant for all types. Hence I also want to ask how can I make the approach more flexible i.e. so that I am able (as I add a new type) to pass if possible only the relevant arguments without making the code complicated?</p>\n"},{"tags":["java","json","pojo"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1638516605,"post_id":70210692,"comment_id":124114189,"body_markdown":"Did you override `equals()` and `hashCode()` for your POJOs?","body":"Did you override <code>equals()</code> and <code>hashCode()</code> for your POJOs?"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638516726,"post_id":70210692,"comment_id":124114231,"body_markdown":"@LHCHIN No I didnt","body":"@LHCHIN No I didnt"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1638516998,"post_id":70210692,"comment_id":124114297,"body_markdown":"You have to override `equals()` (generated by your IDE for example) so that you can compare two PickEvents based on their internal details. Please refer to [Compare two objects with .equals() and == operator](https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator).","body":"You have to override <code>equals()</code> (generated by your IDE for example) so that you can compare two PickEvents based on their internal details. Please refer to <a href=\"https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator\">Compare two objects with .equals() and == operator</a>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1638517280,"post_id":70210692,"comment_id":124114383,"body_markdown":"@LHCHIN – You are right that `equals()` is needed to compare based on the internal details. But when the method is not overwritten, `assertEquals()` for two distinct objects should always fail. Why is it not failing here??","body":"@LHCHIN – You are right that <code>equals()</code> is needed to compare based on the internal details. But when the method is not overwritten, <code>assertEquals()</code> for two distinct objects should always fail. Why is it not failing here??"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1638517493,"post_id":70210692,"comment_id":124114443,"body_markdown":"@Rumi – What happens if you replace `assertEquals()` by `assertSame()`?","body":"@Rumi – What happens if you replace <code>assertEquals()</code> by <code>assertSame()</code>?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1638517667,"post_id":70210692,"comment_id":124114492,"body_markdown":"I don&#39;t understand why your test is *not* failing, but be aware Lomboks `@Data` annotation already provides the `equals()` and `hashCode()` methods!","body":"I don&#39;t understand why your test is <i>not</i> failing, but be aware Lomboks <code>@Data</code> annotation already provides the <code>equals()</code> and <code>hashCode()</code> methods!"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638518667,"post_id":70210692,"comment_id":124114794,"body_markdown":"@tquadrat with assertSame its coming as AssertionFails but its retrieving null values for the json content. I am updating the code","body":"@tquadrat with assertSame its coming as AssertionFails but its retrieving null values for the json content. I am updating the code"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638519537,"post_id":70210692,"comment_id":124115046,"body_markdown":"Remove ```objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);```. In fact, an exception occurred during the parsing process.","body":"Remove <code>objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);</code>. In fact, an exception occurred during the parsing process."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638520098,"post_id":70210692,"comment_id":124115216,"body_markdown":"@zysaaa I removed that line and I can see the exception, none of the field is getting accepted, would you mind to paste a bit of your code, just want to check out your approach.","body":"@zysaaa I removed that line and I can see the exception, none of the field is getting accepted, would you mind to paste a bit of your code, just want to check out your approach."}],"answers":[{"tags":[],"owner":{"account_id":18089135,"reputation":450,"user_id":13149219,"display_name":"Utsav10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638520257,"creation_date":1638520257,"answer_id":70211425,"question_id":70210692,"body_markdown":"You are trying to read a PickEvent Object but you&#39;re actually sending a list there.\r\n\r\nPlease change your json to \r\n\r\n    {\r\n        &quot;pickEventActivities&quot;: {\r\n            &quot;orderId&quot;: &quot;115&quot;,\r\n            &quot;lineNbr&quot;: 1,\r\n            &quot;pick&quot;: &quot;Hello&quot;,\r\n            &quot;activations&quot;: [{\r\n                &quot;activationType&quot;: &quot;Bi&quot;,\r\n                &quot;activationValue&quot;: &quot;3&quot;\r\n            }]\r\n        }\r\n    }\r\n\r\nor try changing your code to \r\n\r\n    List&lt;PickEvent&gt; list1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), new ParameterizedTypeReference&lt;PickEvent&gt;(){});","title":"Comparing two JSON files using java","body":"<p>You are trying to read a PickEvent Object but you're actually sending a list there.</p>\n<p>Please change your json to</p>\n<pre><code>{\n    &quot;pickEventActivities&quot;: {\n        &quot;orderId&quot;: &quot;115&quot;,\n        &quot;lineNbr&quot;: 1,\n        &quot;pick&quot;: &quot;Hello&quot;,\n        &quot;activations&quot;: [{\n            &quot;activationType&quot;: &quot;Bi&quot;,\n            &quot;activationValue&quot;: &quot;3&quot;\n        }]\n    }\n}\n</code></pre>\n<p>or try changing your code to</p>\n<pre><code>List&lt;PickEvent&gt; list1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), new ParameterizedTypeReference&lt;PickEvent&gt;(){});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638520655,"creation_date":1638520655,"answer_id":70211508,"question_id":70210692,"body_markdown":"&gt; It should give me an assertion error, but the test succeeds.\r\n\r\nBecause you use ```objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);```. In fact, an exception occurred during the parsing process.\r\n\r\nTry:\r\n\r\n\r\n```\r\n    public void compareJson() throws Exception {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        Wrapper wrapper = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\r\n        Wrapper wrapper2 = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\r\n        System.out.println(wrapper.equals(wrapper2));\r\n    }\r\n\r\n    @Data\r\n    static class Wrapper {\r\n        List&lt;PickEvent&gt; pickEventActivities;\r\n    }\r\n```","title":"Comparing two JSON files using java","body":"<blockquote>\n<p>It should give me an assertion error, but the test succeeds.</p>\n</blockquote>\n<p>Because you use <code>objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);</code>. In fact, an exception occurred during the parsing process.</p>\n<p>Try:</p>\n<pre><code>    public void compareJson() throws Exception {\n        final ObjectMapper objectMapper = new ObjectMapper();\n        Wrapper wrapper = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\n        Wrapper wrapper2 = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\n        System.out.println(wrapper.equals(wrapper2));\n    }\n\n    @Data\n    static class Wrapper {\n        List&lt;PickEvent&gt; pickEventActivities;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5325242,"reputation":1531,"user_id":4247456,"display_name":"Volodymyr Kret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600864,"creation_date":1666600864,"answer_id":74178541,"question_id":70210692,"body_markdown":"Here is my github repo for Intellij Idea plugin. \r\nBasically JSON comparator implemented in java. It compares JSON by fields, values and objects in array","title":"Comparing two JSON files using java","body":"<p>Here is my github repo for Intellij Idea plugin.\nBasically JSON comparator implemented in java. It compares JSON by fields, values and objects in array</p>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70211508,"answer_count":3,"score":0,"last_activity_date":1666600864,"creation_date":1638515559,"question_id":70210692,"body_markdown":"I have two JSON files, called &quot;pickevent1&quot; and &quot;pickevent2&quot;. I have to compare if both files are matching; if they don&#39;t match, I need to know where they don&#39;t match.\r\n\r\n**pickevent1**\r\n  \r\n\r\n     {\r\n         &quot;pickEventActivities&quot;: [{\r\n             &quot;orderId&quot;: &quot;215&quot;,\r\n             &quot;lineNbr&quot;: 0,\r\n             &quot;pick&quot;: &quot;EACH&quot;,\r\n             &quot;activations&quot;: [{\r\n                 &quot;activationType&quot;: &quot;Si&quot;,\r\n                 &quot;activationValue&quot;: &quot;31&quot;\r\n             }]\r\n          }]\r\n      }\r\n\r\n**pickevent2**\r\n\r\n    {\r\n        &quot;pickEventActivities&quot;: [{\r\n            &quot;orderId&quot;: &quot;115&quot;,\r\n            &quot;lineNbr&quot;: 1,\r\n            &quot;pick&quot;: &quot;Hello&quot;,\r\n            &quot;activations&quot;: [{\r\n                &quot;activationType&quot;: &quot;Bi&quot;,\r\n                &quot;activationValue&quot;: &quot;3&quot;\r\n            }]\r\n        }]\r\n    }\r\n\r\nI created a pick event POJO class:\r\n\r\n    \r\n    @JsonRootName(value = &quot;pickEventActivities&quot;)\r\n    @Data\r\n    @JsonPropertyOrder({ &quot;orderId&quot;, &quot;lineNbr&quot;, &quot;pick&quot;})\r\n    class PickEvent {\r\n        String orderId;\r\n        String lineNbr;\r\n        String pick;\r\n        List&lt;Activation&gt; activations;\r\n    }\r\n\r\nand a Activation POJO class:\r\n\r\n    @Data\r\n    @JsonPropertyOrder({ &quot;activationType&quot;, &quot;activationValue&quot;})\r\n    public class Activation {\r\n        String activationType;\r\n        String activationValue;\r\n    }\r\n\r\n\r\nTo make sure it works, I created a test class:\r\n\r\n    public void compareJson() throws Exception {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.configure(ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n        \r\n        PickEvent result1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), PickEvent.class);\r\n        PickEvent result2 = objectMapper.readValue(new File(&quot;src/../pickevent2.json&quot;), PickEvent.class);\r\n        \r\n        assertEquals(result1, result2);\r\n    }\r\n\r\nBut when I am doing `assertSame(result1,result2)` its giving me null for json values:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AssertionError: expected same:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt; was not:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt;\r\n    \tat org.junit.Assert.fail(Assert.java:88)\r\n    \tat org.junit.Assert.failNotSame(Assert.java:828)\r\n    \tat org.junit.Assert.assertSame(Assert.java:771)\r\n    \tat org.junit.Assert.assertSame(Assert.java:782)\r\n    \tat JsonDiff.PickEventDiff.comparejson(PickEventDiff.java:26)\r\n    \tat JsonDiff.PickEventDiff.main(PickEventDiff.java:32)\r\n\r\nIt should give me an assertion error, but the test succeeds.\r\n","title":"Comparing two JSON files using java","body":"<p>I have two JSON files, called &quot;pickevent1&quot; and &quot;pickevent2&quot;. I have to compare if both files are matching; if they don't match, I need to know where they don't match.</p>\n<p><strong>pickevent1</strong></p>\n<pre><code> {\n     &quot;pickEventActivities&quot;: [{\n         &quot;orderId&quot;: &quot;215&quot;,\n         &quot;lineNbr&quot;: 0,\n         &quot;pick&quot;: &quot;EACH&quot;,\n         &quot;activations&quot;: [{\n             &quot;activationType&quot;: &quot;Si&quot;,\n             &quot;activationValue&quot;: &quot;31&quot;\n         }]\n      }]\n  }\n</code></pre>\n<p><strong>pickevent2</strong></p>\n<pre><code>{\n    &quot;pickEventActivities&quot;: [{\n        &quot;orderId&quot;: &quot;115&quot;,\n        &quot;lineNbr&quot;: 1,\n        &quot;pick&quot;: &quot;Hello&quot;,\n        &quot;activations&quot;: [{\n            &quot;activationType&quot;: &quot;Bi&quot;,\n            &quot;activationValue&quot;: &quot;3&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>I created a pick event POJO class:</p>\n<pre><code>@JsonRootName(value = &quot;pickEventActivities&quot;)\n@Data\n@JsonPropertyOrder({ &quot;orderId&quot;, &quot;lineNbr&quot;, &quot;pick&quot;})\nclass PickEvent {\n    String orderId;\n    String lineNbr;\n    String pick;\n    List&lt;Activation&gt; activations;\n}\n</code></pre>\n<p>and a Activation POJO class:</p>\n<pre><code>@Data\n@JsonPropertyOrder({ &quot;activationType&quot;, &quot;activationValue&quot;})\npublic class Activation {\n    String activationType;\n    String activationValue;\n}\n</code></pre>\n<p>To make sure it works, I created a test class:</p>\n<pre><code>public void compareJson() throws Exception {\n    final ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.configure(ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n    \n    PickEvent result1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), PickEvent.class);\n    PickEvent result2 = objectMapper.readValue(new File(&quot;src/../pickevent2.json&quot;), PickEvent.class);\n    \n    assertEquals(result1, result2);\n}\n</code></pre>\n<p>But when I am doing <code>assertSame(result1,result2)</code> its giving me null for json values:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AssertionError: expected same:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt; was not:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt;\n    at org.junit.Assert.fail(Assert.java:88)\n    at org.junit.Assert.failNotSame(Assert.java:828)\n    at org.junit.Assert.assertSame(Assert.java:771)\n    at org.junit.Assert.assertSame(Assert.java:782)\n    at JsonDiff.PickEventDiff.comparejson(PickEventDiff.java:26)\n    at JsonDiff.PickEventDiff.main(PickEventDiff.java:32)\n</code></pre>\n<p>It should give me an assertion error, but the test succeeds.</p>\n"},{"tags":["java","maven","spring-boot","maven-2","maven-3"],"answers":[{"tags":[],"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600153,"creation_date":1666600153,"answer_id":74178416,"question_id":41833999,"body_markdown":"Please double check the env parameters and java related properties in maven configuration.\r\nAlso please run the the command with -X option to see the debug messages from maven ","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project siriproject: Compilation failure","body":"<p>Please double check the env parameters and java related properties in maven configuration.\nAlso please run the the command with -X option to see the debug messages from maven</p>\n"}],"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666600153,"creation_date":1485277100,"question_id":41833999,"body_markdown":"I am using Maven 3.1 and JDK 1.8. When I tried Build war file using &quot; clean install spring-boot:repackage &quot; command in the eclipse -&gt; run as -&gt; maven build . throwing following error.\r\n\r\n\r\n&gt; [ERROR] -&gt; [Help 1]\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\r\n&gt; execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\r\n&gt; (default-compile) on project siriproject: Compilation failure \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n&gt; \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307) \tat\r\n&gt; org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193) \tat\r\n&gt; org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106) \tat\r\n&gt; org.apache.maven.cli.MavenCli.execute(MavenCli.java:863) \tat\r\n&gt; org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288) \tat\r\n&gt; org.apache.maven.cli.MavenCli.main(MavenCli.java:199) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n&gt; Caused by:\r\n&gt; org.apache.maven.plugin.compiler.CompilationFailureException:\r\n&gt; Compilation failure \tat\r\n&gt; org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n&gt; \t... 20 more\r\n\r\n\r\npom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;siriusxm&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        \r\n        &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t    &lt;pluginRepository&gt;\r\n    \t        &lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t    &lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.0&lt;/version&gt;\r\n    \t        &lt;exclusions&gt;\r\n    \t            &lt;exclusion&gt;\r\n    \t                &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\r\n    \t                &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\r\n    \t            &lt;/exclusion&gt;\r\n    \t            &lt;exclusion&gt;\r\n                    \t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                    \t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                \t&lt;/exclusion&gt;\r\n    \t        &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;11.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n        \r\n        \r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t          &lt;goals&gt;\r\n    \t\t\t            &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t          &lt;/goals&gt;\r\n    \t\t\t        &lt;/execution&gt;\r\n    \t\t\t      &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                \r\n                &lt;!-- tag::wsdl[] --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.12.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                        &lt;generatePackage&gt;com.abc.ondb.siriproject.wsdl&lt;/generatePackage&gt;\r\n                        &lt;generateDirectory&gt;${project.build.sourceDirectory}&lt;/generateDirectory&gt;\r\n                        &lt;schemas&gt;\r\n                            &lt;schema&gt;\r\n                                &lt;url&gt;https://api-ext-test.siriproject.com/ESB/CreatePromotionRegistrationByWin/v_1?wsdl&lt;/url&gt;\r\n                            &lt;/schema&gt;\r\n                        &lt;/schemas&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- end::wsdl[] --&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;    \r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project siriproject: Compilation failure","body":"<p>I am using Maven 3.1 and JDK 1.8. When I tried Build war file using \" clean install spring-boot:repackage \" command in the eclipse -> run as -> maven build . throwing following error.</p>\n\n<blockquote>\n  <p>[ERROR] -> [Help 1]\n  org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\n  execute goal\n  org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\n  (default-compile) on project siriproject: Compilation failure     at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at\n  org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)   at\n  org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)    at\n  org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)  at\n  org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)  at\n  org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)   at\n  org.apache.maven.cli.MavenCli.main(MavenCli.java:199)     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n  Caused by:\n  org.apache.maven.plugin.compiler.CompilationFailureException:\n  Compilation failure   at\n  org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at\n  org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at\n  org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more</p>\n</blockquote>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;siriusxm&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n            &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\n                    &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n                    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                      &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                      &lt;/goals&gt;\n                    &lt;/execution&gt;\n                  &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- tag::wsdl[] --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;com.abc.ondb.siriproject.wsdl&lt;/generatePackage&gt;\n                    &lt;generateDirectory&gt;${project.build.sourceDirectory}&lt;/generateDirectory&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;\n                            &lt;url&gt;https://api-ext-test.siriproject.com/ESB/CreatePromotionRegistrationByWin/v_1?wsdl&lt;/url&gt;\n                        &lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- end::wsdl[] --&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;    \n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jbutton","jtextfield","jlist"],"comments":[{"owner":{"display_name":"user330315"},"score":3,"creation_date":1666596107,"post_id":74176586,"comment_id":130965729,"body_markdown":"Please do **not** post code as images. See here for more details why: http://meta.stackoverflow.com/questions/285551","body":"Please do <b>not</b> post code as images. See here for more details why: <a href=\"http://meta.stackoverflow.com/questions/285551\">meta.stackoverflow.com/questions/285551</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666599908,"creation_date":1666599908,"answer_id":74178366,"question_id":74176586,"body_markdown":"Here is a simple *Swing* application that displays a [JTextField](https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html), a [JList](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) and a [JButton](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html).\r\n\r\nWhen you click on the `JButton` the selected item in the `JList` is copied to the `JTextField`. (Refer to method `setTextFieldText` in the below code.)\r\n\r\nNote that the [ActionListener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) is implemented using a [method reference](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextField;\r\n\r\npublic class ShirleyB {\r\n    private JList&lt;String&gt; list;\r\n    private JTextField textField;\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Shirley B&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTextField(), BorderLayout.PAGE_START);\r\n        frame.add(createList(), BorderLayout.CENTER);\r\n        frame.add(createButton(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButton() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Add&quot;);\r\n        button.addActionListener(this::setTextFieldText);\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    private JScrollPane createList() {\r\n        String[] items = new String[]{&quot;Zeroth&quot;,\r\n                                      &quot;First&quot;,\r\n                                      &quot;Second&quot;,\r\n                                      &quot;Third&quot;,\r\n                                      &quot;Last&quot;};\r\n        list = new JList&lt;&gt;(items);\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        return scrollPane;\r\n    }\r\n\r\n    private JPanel createTextField() {\r\n        JPanel panel = new JPanel();\r\n        textField = new JTextField(20);\r\n        panel.add(textField);\r\n        return panel;\r\n    }\r\n\r\n    private void setTextFieldText(ActionEvent event) {\r\n        String selection = list.getSelectedValue();\r\n        textField.setText(selection);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new ShirleyB().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n","title":"How do I add something written on a JList to JTextfield by clicking on a JButton?","body":"<p>Here is a simple <em>Swing</em> application that displays a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html\" rel=\"nofollow noreferrer\">JTextField</a>, a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a> and a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">JButton</a>.</p>\n<p>When you click on the <code>JButton</code> the selected item in the <code>JList</code> is copied to the <code>JTextField</code>. (Refer to method <code>setTextFieldText</code> in the below code.)</p>\n<p>Note that the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a> is implemented using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\n\npublic class ShirleyB {\n    private JList&lt;String&gt; list;\n    private JTextField textField;\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Shirley B&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTextField(), BorderLayout.PAGE_START);\n        frame.add(createList(), BorderLayout.CENTER);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Add&quot;);\n        button.addActionListener(this::setTextFieldText);\n        panel.add(button);\n        return panel;\n    }\n\n    private JScrollPane createList() {\n        String[] items = new String[]{&quot;Zeroth&quot;,\n                                      &quot;First&quot;,\n                                      &quot;Second&quot;,\n                                      &quot;Third&quot;,\n                                      &quot;Last&quot;};\n        list = new JList&lt;&gt;(items);\n        JScrollPane scrollPane = new JScrollPane(list);\n        return scrollPane;\n    }\n\n    private JPanel createTextField() {\n        JPanel panel = new JPanel();\n        textField = new JTextField(20);\n        panel.add(textField);\n        return panel;\n    }\n\n    private void setTextFieldText(ActionEvent event) {\n        String selection = list.getSelectedValue();\n        textField.setText(selection);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new ShirleyB().buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26713675,"reputation":69,"user_id":20318582,"display_name":"killuaconfessions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666616494,"answer_count":1,"score":-1,"last_activity_date":1666599908,"creation_date":1666583983,"question_id":74176586,"body_markdown":"I&#39;m making a program to insert users into a PostgreSQL database using NetBeans, and recently I&#39;ve faced a problem that I&#39;m asking myself if it&#39;s possible to fix? Basically, I wanted to select something from a `JList` and put it into a `JTextField`. Is it possible? I&#39;ve tried a lot of ways to do it and nothing&#39;s working.\r\n\r\n[here&#39;s the interface i did:][1]\r\n\r\n\r\n[Code:][2]\r\n\r\n\r\n[Code2:][3]\r\n\r\n\r\n[Code3:][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6utkM.png\r\n  [2]: https://i.stack.imgur.com/iyOst.png\r\n  [3]: https://i.stack.imgur.com/A1eMw.png\r\n  [4]: https://i.stack.imgur.com/5ljJw.png","title":"How do I add something written on a JList to JTextfield by clicking on a JButton?","body":"<p>I'm making a program to insert users into a PostgreSQL database using NetBeans, and recently I've faced a problem that I'm asking myself if it's possible to fix? Basically, I wanted to select something from a <code>JList</code> and put it into a <code>JTextField</code>. Is it possible? I've tried a lot of ways to do it and nothing's working.</p>\n<p><a href=\"https://i.stack.imgur.com/6utkM.png\" rel=\"nofollow noreferrer\">here's the interface i did:</a></p>\n<p><a href=\"https://i.stack.imgur.com/iyOst.png\" rel=\"nofollow noreferrer\">Code:</a></p>\n<p><a href=\"https://i.stack.imgur.com/A1eMw.png\" rel=\"nofollow noreferrer\">Code2:</a></p>\n<p><a href=\"https://i.stack.imgur.com/5ljJw.png\" rel=\"nofollow noreferrer\">Code3:</a></p>\n"},{"tags":["java","maven-2"],"comments":[{"owner":{"account_id":156391,"reputation":9819,"user_id":373653,"display_name":"sjr"},"score":3,"creation_date":1299354117,"post_id":5206287,"comment_id":5854019,"body_markdown":"Looks like your Java code doesn&#39;t compile. You need to provide more Maven output though!","body":"Looks like your Java code doesn&#39;t compile. You need to provide more Maven output though!"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1299359548,"post_id":5206287,"comment_id":5854778,"body_markdown":"check whether your code java version corresponds to one in pom, maven-compiler-plugin and some more stacktrace would be useful","body":"check whether your code java version corresponds to one in pom, maven-compiler-plugin and some more stacktrace would be useful"}],"answers":[{"tags":[],"owner":{"account_id":163413,"reputation":398,"user_id":385541,"accept_rate":47,"display_name":"Vipin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299354505,"creation_date":1299354505,"answer_id":5206343,"question_id":5206287,"body_markdown":"I guess there is some problem with your code or some dependency might be missing, causing java code compilation failure. Try mvn -e option to get the detail stack trace that might be more helpful","title":"maven compile fails","body":"<p>I guess there is some problem with your code or some dependency might be missing, causing java code compilation failure. Try mvn -e option to get the detail stack trace that might be more helpful</p>\n"},{"tags":[],"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666599329,"creation_date":1666599329,"answer_id":74178279,"question_id":5206287,"body_markdown":"Try with -X option and provide the output if you still have the issue","title":"maven compile fails","body":"<p>Try with -X option and provide the output if you still have the issue</p>\n"}],"owner":{"account_id":34082,"reputation":671,"user_id":95950,"accept_rate":86,"display_name":"Ashvin Ranpariya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666599329,"creation_date":1299353905,"question_id":5206287,"body_markdown":"I have encountered the following error. Can anyone give any solution?\r\n\r\n**Build errors for CTServices; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project CTServices: Compilation failure**","title":"maven compile fails","body":"<p>I have encountered the following error. Can anyone give any solution?</p>\n\n<p><strong>Build errors for CTServices; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project CTServices: Compilation failure</strong></p>\n"},{"tags":["java","spring","spring-boot","maven","groovy"],"comments":[{"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"score":0,"creation_date":1676554794,"post_id":73206503,"comment_id":133163024,"body_markdown":"having a similar issue. just checking: did you manage to solve Anish?","body":"having a similar issue. just checking: did you manage to solve Anish?"}],"answers":[{"tags":[],"owner":{"account_id":26715194,"reputation":1,"user_id":20319885,"display_name":"groszek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666598597,"creation_date":1666598597,"answer_id":74178141,"question_id":73206503,"body_markdown":"I had a similar problem. In my case helps update javax.servlet-api to the newest version\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring boot upgrade - codehaus gmavenplus-plugin throwing missing dependency javax.servlet.http.HttpUpgradeHandler exception","body":"<p>I had a similar problem. In my case helps update javax.servlet-api to the newest version</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2518325,"reputation":115,"user_id":3782444,"display_name":"Anish Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666598597,"creation_date":1659438369,"question_id":73206503,"body_markdown":"Our application is built on legacy spring boot 1 and tomcat 7. We have 2 types of test suites - Junits(Java) and Integration Test(Written in Groovy). We use below plugin to compile our groovy tests.\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n                        &lt;version&gt;${groovyVersion}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;!-- testGenerateStubs allows us to reference Groovy classes from Java tests --&gt;\r\n                            &lt;goal&gt;testGenerateStubs&lt;/goal&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testSources&gt;\r\n                        &lt;testSource&gt;\r\n                            &lt;directory&gt;src/test/groovy&lt;/directory&gt;\r\n                        &lt;/testSource&gt;\r\n                        &lt;testSource&gt;\r\n                            &lt;directory&gt;src/test-integration/java&lt;/directory&gt;\r\n                            &lt;directory&gt;src/test-integration/groovy&lt;/directory&gt;\r\n                        &lt;/testSource&gt;\r\n                    &lt;/testSources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nWe are recently doing a major upgrade to spring boot 2.7.1 and in process of removing deprecated methods - code refactoring etc. We are almost done with it but only today found an issue with goal &quot;testCompile&quot; of gmavenplus-plugin. It is throwing below error.\r\n\r\n    [INFO] --- gmavenplus-plugin:1.2:testCompile (default)\r\n    [INFO] Using Groovy 2.4.6 to perform testCompile.\r\n    [INFO] BUILD FAILURE \r\n    [ERROR] Failed to execute goal org.codehaus.gmavenplus:gmavenplus-plugin:1.2:testCompile (default) on project trta-tds: Error occurred while calling a method on a Groovy class from classpath.: InvocationTargetException: Unable to load class org.springframework.mock.web.MockHttpServletRequest due to missing dependency javax/servlet/http/HttpUpgradeHandler\r\n\r\nWe are suspecting this could be tomcat 7 issue but again we do not see tomcat being used for &quot;testCompile&quot; goal. We are on tight timeline. Please let us know your suggestions/solutions.\r\n\r\n","title":"Spring boot upgrade - codehaus gmavenplus-plugin throwing missing dependency javax.servlet.http.HttpUpgradeHandler exception","body":"<p>Our application is built on legacy spring boot 1 and tomcat 7. We have 2 types of test suites - Junits(Java) and Integration Test(Written in Groovy). We use below plugin to compile our groovy tests.</p>\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n            &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n                    &lt;version&gt;${groovyVersion}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;!-- testGenerateStubs allows us to reference Groovy classes from Java tests --&gt;\n                        &lt;goal&gt;testGenerateStubs&lt;/goal&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;testSources&gt;\n                    &lt;testSource&gt;\n                        &lt;directory&gt;src/test/groovy&lt;/directory&gt;\n                    &lt;/testSource&gt;\n                    &lt;testSource&gt;\n                        &lt;directory&gt;src/test-integration/java&lt;/directory&gt;\n                        &lt;directory&gt;src/test-integration/groovy&lt;/directory&gt;\n                    &lt;/testSource&gt;\n                &lt;/testSources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>We are recently doing a major upgrade to spring boot 2.7.1 and in process of removing deprecated methods - code refactoring etc. We are almost done with it but only today found an issue with goal &quot;testCompile&quot; of gmavenplus-plugin. It is throwing below error.</p>\n<pre><code>[INFO] --- gmavenplus-plugin:1.2:testCompile (default)\n[INFO] Using Groovy 2.4.6 to perform testCompile.\n[INFO] BUILD FAILURE \n[ERROR] Failed to execute goal org.codehaus.gmavenplus:gmavenplus-plugin:1.2:testCompile (default) on project trta-tds: Error occurred while calling a method on a Groovy class from classpath.: InvocationTargetException: Unable to load class org.springframework.mock.web.MockHttpServletRequest due to missing dependency javax/servlet/http/HttpUpgradeHandler\n</code></pre>\n<p>We are suspecting this could be tomcat 7 issue but again we do not see tomcat being used for &quot;testCompile&quot; goal. We are on tight timeline. Please let us know your suggestions/solutions.</p>\n"},{"tags":["java","greatest-common-divisor"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666598215,"post_id":74177901,"comment_id":130966299,"body_markdown":"`for (int i = 2; i &lt; minNum; i++) {` never reaches `minNum`, so `gcd` will never be 5","body":"<code>for (int i = 2; i &lt; minNum; i++) {</code> never reaches <code>minNum</code>, so <code>gcd</code> will never be 5"},{"owner":{"account_id":26074607,"reputation":1,"user_id":19773722,"display_name":"Francis"},"score":0,"creation_date":1666598393,"post_id":74177901,"comment_id":130966362,"body_markdown":"how can I fix it?","body":"how can I fix it?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666598406,"post_id":74177901,"comment_id":130966366,"body_markdown":"`for (int i = 2; i &lt;= minNum; i++) {`","body":"<code>for (int i = 2; i &lt;= minNum; i++) {</code>"}],"owner":{"account_id":26074607,"reputation":1,"user_id":19773722,"display_name":"Francis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666598154,"creation_date":1666597161,"question_id":74177901,"body_markdown":"    import java.util.Scanner;\r\n    public class Chapter7_7_14 {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            int[] numsToFind = new int[5];\r\n            System.out.println(&quot;Please enter 5 numbers now to find their GCD:&quot;);\r\n    \r\n            for (int i = 0; i &lt; numsToFind.length; i++) {\r\n                numsToFind[i] = input.nextInt();\r\n            }\r\n    \r\n            System.out.println(&quot;The GCD of these 5 integers is &quot; + gcd(numsToFind));\r\n        }\r\n    \r\n        public static int gcd(int... numbers) {\r\n            int minNum = numbers[0];\r\n            for (int i = 1; i &lt; numbers.length; i++) {\r\n                if (numbers[i] &lt; minNum) {\r\n                    minNum = numbers[i];\r\n                }\r\n            }\r\n    \r\n            int gcd = 1;\r\n            boolean checkNum;\r\n    \r\n            for (int i = 2; i &lt; minNum; i++) {\r\n                checkNum = true;\r\n                for (int j = 0; j &lt; numbers.length; j++) {\r\n                    if (numbers[j] % i != 0)\r\n                        checkNum = false;\r\n                }\r\n                if (checkNum) {\r\n                    gcd = i;\r\n                }\r\n            }\r\n            return gcd;\r\n        }\r\n        \r\n    }\r\n    \r\n\r\n\r\nWhy is my output wrong. When I input 5 numbers to find their gcd the answer is wrong. for example 5 10 15 20 25 gcd is 1 which is wrong right? can y&#39;all please help me. I appreciate it so much\r\n       ","title":"Computing GCD. Why the output of 5 10 15 20 25 GCD is 1","body":"<pre><code>import java.util.Scanner;\npublic class Chapter7_7_14 {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int[] numsToFind = new int[5];\n        System.out.println(&quot;Please enter 5 numbers now to find their GCD:&quot;);\n\n        for (int i = 0; i &lt; numsToFind.length; i++) {\n            numsToFind[i] = input.nextInt();\n        }\n\n        System.out.println(&quot;The GCD of these 5 integers is &quot; + gcd(numsToFind));\n    }\n\n    public static int gcd(int... numbers) {\n        int minNum = numbers[0];\n        for (int i = 1; i &lt; numbers.length; i++) {\n            if (numbers[i] &lt; minNum) {\n                minNum = numbers[i];\n            }\n        }\n\n        int gcd = 1;\n        boolean checkNum;\n\n        for (int i = 2; i &lt; minNum; i++) {\n            checkNum = true;\n            for (int j = 0; j &lt; numbers.length; j++) {\n                if (numbers[j] % i != 0)\n                    checkNum = false;\n            }\n            if (checkNum) {\n                gcd = i;\n            }\n        }\n        return gcd;\n    }\n    \n}\n</code></pre>\n<p>Why is my output wrong. When I input 5 numbers to find their gcd the answer is wrong. for example 5 10 15 20 25 gcd is 1 which is wrong right? can y'all please help me. I appreciate it so much</p>\n"},{"tags":["java","maven","ssh","mariadb"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1666614838,"post_id":74178054,"comment_id":130971786,"body_markdown":"`saveRichiesteAssistenza` specifies IP_2:3366, which does not use the SSH tunnel. Since you say you want to use the tunnel, have the DB driver connect to localhost:3366 (or 127.0.0.1:3366) which is where the tunnel is listening, and the tunnel will relay to IP_2:3306 which is presumably where the DBMS is (not 3366).","body":"<code>saveRichiesteAssistenza</code> specifies IP_2:3366, which does not use the SSH tunnel. Since you say you want to use the tunnel, have the DB driver connect to localhost:3366 (or 127.0.0.1:3366) which is where the tunnel is listening, and the tunnel will relay to IP_2:3306 which is presumably where the DBMS is (not 3366)."},{"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"score":0,"creation_date":1666682238,"post_id":74178054,"comment_id":130988612,"body_markdown":"Hi @dave_thompson_085, if i understood, can i connect to IP_2:3306? Because connection to IP_2:3306 works fine via navicat or similar DB manager.\nBut i&#39;ve tried to connect via IP_2:3306 and i&#39;ve the same `Connection Refused` error","body":"Hi @dave_thompson_085, if i understood, can i connect to IP_2:3306? Because connection to IP_2:3306 works fine via navicat or similar DB manager. But i&#39;ve tried to connect via IP_2:3306 and i&#39;ve the same <code>Connection Refused</code> error"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1666845798,"post_id":74178054,"comment_id":131033106,"body_markdown":"If IP_2 is reachable from your system and accepts incoming connections to 3306 yes, but generally people only set up SSH tunnels when those conditions aren&#39;t met. You say you are already using the tunnel, and I assumed you had a reason to do so and weren&#39;t just deliberately wasting everybody&#39;s time.","body":"If IP_2 is reachable from your system and accepts incoming connections to 3306 yes, but generally people only set up SSH tunnels when those conditions aren&#39;t met. You say you are already using the tunnel, and I assumed you had a reason to do so and weren&#39;t just deliberately wasting everybody&#39;s time."}],"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666598109,"creation_date":1666598109,"question_id":74178054,"body_markdown":"I am developing a small java utility with which I have to retrieve data on a remote mariadb database reachable at IP_1, so the recovered data must be manipulated and saved on another database, always mariadb, on a server reachable at IP_2.\r\nTo connect to the database reachable on IP_2, using navicat, I connect in ssh to the server and then to the database as localhost. (and the connection happens correctly)\r\nI then looked for guides on how to do this in java maven, and defined the program.\r\nNonetheless I can also connect correctly with Java in SSH, then when I have to communicate with the DB and open the connection, I get the following error:\r\n\r\n`java.sql.SQLNonTransientConnectionException: Socket fail to connect to host: address = (host = 192.168.100.144) (port = 3366) (type = primary). Connection refused`\r\n\r\nDo you have any suggestions or advice? I have no idea how to fix it\r\n\r\n- mycode:\r\n App.java\r\n```\r\npackage mspay.helpdesk;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\nimport java.util.*;\r\nimport java.util.Properties;\r\nimport java.io.IOException;\r\nimport java.sql.*;\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.JSchException;\r\nimport com.jcraft.jsch.Session;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Recupero richieste di assistenza tecnica!&quot;);\r\n\r\n        // Apertura connessione SSH\r\n        try {\r\n            final JSch jsch = new JSch();\r\n            Session session = jsch.getSession(&quot;username&quot;, &quot;IP_2&quot;, 22);\r\n            session.setPassword(&quot;password&quot;);\r\n            final Properties config = new Properties();\r\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setConfig(config);\r\n            session.connect();\r\n            session.setPortForwardingL(3366, &quot;IP_2&quot;, 3306);\r\n\r\n            if (session.isConnected()) {\r\n                System.out.println(&quot;Connessione SSH stabilita con successo!&quot;);\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Utility u = new Utility(&quot;IP_1&quot;, &quot;user&quot;, &quot;password&quot;, &quot;name&quot;);\r\n                u.takeCassettiAttivi();\r\n\r\n                ResultSet ca = u.getComuni();\r\n                try {\r\n                    while (ca.next()) {\r\n                        System.out.println(&quot;Eleborazione del comune di: &quot; + ca.getString(2));\r\n                        u.takeRichiesteAssistenza(ca.getString(3));\r\n                        ResultSet ri = u.getRichieste();\r\n                        u.saveRichiesteAssistenza(ri, ca.getString(2).replace(&quot;&#39;&quot;, &quot; &quot;));\r\n                    }\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Impossibile stabilire connessione SSH!&quot;);\r\n                System.exit(0);\r\n            }\r\n\r\n        } catch (JSchException jsche) {\r\n            jsche.printStackTrace();\r\n        }catch(ClassNotFoundException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- Class Utility.java\r\n```\r\npackage mspay.helpdesk;\r\n\r\nimport java.util.*;\r\n//gestione sql\r\nimport java.sql.*;\r\n//gestione files\r\nimport java.nio.file.*;\r\nimport java.io.File;\r\nimport java.util.Date;\r\nimport java.time.LocalDate;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Utility {\r\n\r\n   static private String host;\r\n   static private String uname;\r\n   static private String pwd;\r\n   static private String db;\r\n   static Connection c = null;\r\n   static private ResultSet ca;\r\n   static private ResultSet rich;\r\n\r\n   public Utility(String h, String usr, String pass, String database) {\r\n      host = h;\r\n      uname = usr;\r\n      pwd = pass;\r\n      db = database;\r\n   }\r\n\r\n   // recuperiamo i cassetti attivi\r\n   public void takeCassettiAttivi() {\r\n      try {\r\n         c = DriverManager.getConnection(\r\n               &quot;jdbc:mariadb://&quot; + host + &quot;:3306/&quot; + db + &quot;?&quot; + &quot;user=&quot; + uname + &quot;&amp;password=&quot; + pwd + &quot;&quot;);\r\n\r\n         String sql = &quot;SELECT * FROM `cassetti` where abilitato = 1&quot;;\r\n         Statement st = c.createStatement();\r\n         ca = st.executeQuery(sql);\r\n         c.close();\r\n      } catch (SQLException e) {\r\n         e.printStackTrace();\r\n\r\n      }\r\n\r\n   }\r\n\r\n   // recuperiamo le richieste di assistenza tecnica\r\n   public void takeRichiesteAssistenza(String database) {\r\n      try {\r\n         c = DriverManager.getConnection(\r\n               &quot;jdbc:mariadb://&quot; + host + &quot;:3306/&quot; + database + &quot;?&quot; + &quot;user=&quot; + uname + &quot;&amp;password=&quot; + pwd + &quot;&quot;);\r\n\r\n         // recupero le richieste di assistenza tecnica\r\n         String sql = &quot;SELECT * FROM `tbl_richiestatecnica` WHERE tecData BETWEEN &#39;2022-10-19&#39; AND &#39;2022-10-21&#39; ORDER BY idTEC DESC&quot;;\r\n         Statement st = c.createStatement();\r\n         rich = st.executeQuery(sql);\r\n         System.out.println(&quot;Operazione di recupero delle richieste avvenuta con successo, COMUNE DI :&quot; + database);\r\n         c.close();\r\n      } catch (SQLException e) {\r\n         e.printStackTrace();\r\n      }\r\n   }\r\n\r\n   // salviamo le richieste sul database\r\n   public void saveRichiesteAssistenza(ResultSet richieste, String comune) {\r\n\r\n      System.out.println(&quot;Salvataggio delle richieste nel repository centrale, COMUNE DI :&quot; + comune);\r\n      try {\r\n         String database = &quot;dbname&quot;;\r\n         c = DriverManager.getConnection(\r\n               &quot;jdbc:mariadb://IP_2:3366/&quot; + database + &quot;?user=db_user&amp;password=db_password&quot;);\r\n\r\n         if (c.isValid(0)) {\r\n            System.out.println(&quot;Connessione al server ubuntu avvenuta con successo&quot;);\r\n            try {\r\n               for (int i = 0; i &lt; 10; i++) {\r\n                  TimeUnit.SECONDS.sleep(1);\r\n               }\r\n            } catch (InterruptedException e) {\r\n               e.printStackTrace();\r\n            }\r\n\r\n         }\r\n\r\n         // effettuo l&#39;insert delle richieste all&#39;interno del DB di helpdesk\r\n         if (!comune.equals(&quot;Civitanova Marche&quot;)) {\r\n            while (richieste.next()) {\r\n               StringBuilder sql = new StringBuilder(\r\n                     &quot;INSERT INTO richieste_assistenza (comune, nominativo, cfpiva, email, oggetto, richiesta, mailcomune, datarichiesta, orarichiesta, stato) VALUES (&quot;);\r\n               sql.append(&quot;&#39;&quot; + comune + &quot;&#39;, &#39;&quot; + richieste.getString(4).replace(&quot;&#39;&quot;, &quot; &quot;) + &quot;&#39;, &#39;&quot;\r\n                     + richieste.getString(5) + &quot;&#39;, &#39;&quot; + richieste.getString(6) + &quot;&#39;, &#39;&quot; + richieste.getString(7)\r\n                     + &quot;&#39;, &#39;&quot; + richieste.getString(8) + &quot;&#39;, &#39;&quot; + richieste.getString(14) + &quot;&#39;, &#39;&quot;\r\n                     + richieste.getString(2) + &quot;&#39;, &#39;&quot; + richieste.getString(3) + &quot;&#39;, &#39;TODO&#39;)&quot;);\r\n               System.out.println(&quot;QUERY DI UPDATE&quot;);\r\n               System.out.println(sql.toString());\r\n               Statement st = c.createStatement();\r\n               st.executeUpdate(sql.toString());\r\n            }\r\n            c.close();\r\n         } else {\r\n            while (richieste.next()) {\r\n               StringBuilder sql = new StringBuilder(\r\n                     &quot;INSERT INTO richieste_assistenza (comune, nominativo, cfpiva, email, oggetto, richiesta, mailcomune, datarichiesta, orarichiesta, stato) VALUES (&quot;);\r\n               sql.append(&quot;&#39;&quot; + comune + &quot;&#39;, &#39;&quot; + richieste.getString(4).replace(&quot;&#39;&quot;, &quot; &quot;) + &quot;&#39;, &#39;&quot;\r\n                     + richieste.getString(11) + &quot;&#39;, &#39;&quot; + richieste.getString(5) + &quot;&#39;, &#39;&quot; + richieste.getString(6)\r\n                     + &quot;&#39;, &#39;&quot; + richieste.getString(7) + &quot;&#39;, &#39;&quot; + richieste.getString(13) + &quot;&#39;, &#39;&quot;\r\n                     + richieste.getString(2) + &quot;&#39;, &#39;&quot; + richieste.getString(3) + &quot;&#39;, &#39;TODO&#39;)&quot;);\r\n               System.out.println(&quot;QUERY DI UPDATE&quot;);\r\n               System.out.println(sql.toString());\r\n               Statement st = c.createStatement();\r\n               st.executeUpdate(sql.toString());\r\n            }\r\n            c.close();\r\n         }\r\n      } catch (SQLException e) {\r\n         e.printStackTrace();\r\n      }\r\n   }\r\n\r\n   public ResultSet getComuni() {\r\n      return ca;\r\n   }\r\n\r\n   public ResultSet getRichieste() {\r\n      return rich;\r\n   }\r\n\r\n}\r\n\r\n```","title":"Java can&#39;t connect to database via SSH tunnel","body":"<p>I am developing a small java utility with which I have to retrieve data on a remote mariadb database reachable at IP_1, so the recovered data must be manipulated and saved on another database, always mariadb, on a server reachable at IP_2.\nTo connect to the database reachable on IP_2, using navicat, I connect in ssh to the server and then to the database as localhost. (and the connection happens correctly)\nI then looked for guides on how to do this in java maven, and defined the program.\nNonetheless I can also connect correctly with Java in SSH, then when I have to communicate with the DB and open the connection, I get the following error:</p>\n<p><code>java.sql.SQLNonTransientConnectionException: Socket fail to connect to host: address = (host = 192.168.100.144) (port = 3366) (type = primary). Connection refused</code></p>\n<p>Do you have any suggestions or advice? I have no idea how to fix it</p>\n<ul>\n<li>mycode:\nApp.java</li>\n</ul>\n<pre><code>package mspay.helpdesk;\n\n/**\n * Hello world!\n *\n */\nimport java.util.*;\nimport java.util.Properties;\nimport java.io.IOException;\nimport java.sql.*;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\n\npublic class App {\n    public static void main(String[] args) {\n        System.out.println(&quot;Recupero richieste di assistenza tecnica!&quot;);\n\n        // Apertura connessione SSH\n        try {\n            final JSch jsch = new JSch();\n            Session session = jsch.getSession(&quot;username&quot;, &quot;IP_2&quot;, 22);\n            session.setPassword(&quot;password&quot;);\n            final Properties config = new Properties();\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(config);\n            session.connect();\n            session.setPortForwardingL(3366, &quot;IP_2&quot;, 3306);\n\n            if (session.isConnected()) {\n                System.out.println(&quot;Connessione SSH stabilita con successo!&quot;);\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                Utility u = new Utility(&quot;IP_1&quot;, &quot;user&quot;, &quot;password&quot;, &quot;name&quot;);\n                u.takeCassettiAttivi();\n\n                ResultSet ca = u.getComuni();\n                try {\n                    while (ca.next()) {\n                        System.out.println(&quot;Eleborazione del comune di: &quot; + ca.getString(2));\n                        u.takeRichiesteAssistenza(ca.getString(3));\n                        ResultSet ri = u.getRichieste();\n                        u.saveRichiesteAssistenza(ri, ca.getString(2).replace(&quot;'&quot;, &quot; &quot;));\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.println(&quot;Impossibile stabilire connessione SSH!&quot;);\n                System.exit(0);\n            }\n\n        } catch (JSchException jsche) {\n            jsche.printStackTrace();\n        }catch(ClassNotFoundException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Class Utility.java</li>\n</ul>\n<pre><code>package mspay.helpdesk;\n\nimport java.util.*;\n//gestione sql\nimport java.sql.*;\n//gestione files\nimport java.nio.file.*;\nimport java.io.File;\nimport java.util.Date;\nimport java.time.LocalDate;\nimport java.text.SimpleDateFormat;\nimport java.util.concurrent.TimeUnit;\n\npublic class Utility {\n\n   static private String host;\n   static private String uname;\n   static private String pwd;\n   static private String db;\n   static Connection c = null;\n   static private ResultSet ca;\n   static private ResultSet rich;\n\n   public Utility(String h, String usr, String pass, String database) {\n      host = h;\n      uname = usr;\n      pwd = pass;\n      db = database;\n   }\n\n   // recuperiamo i cassetti attivi\n   public void takeCassettiAttivi() {\n      try {\n         c = DriverManager.getConnection(\n               &quot;jdbc:mariadb://&quot; + host + &quot;:3306/&quot; + db + &quot;?&quot; + &quot;user=&quot; + uname + &quot;&amp;password=&quot; + pwd + &quot;&quot;);\n\n         String sql = &quot;SELECT * FROM `cassetti` where abilitato = 1&quot;;\n         Statement st = c.createStatement();\n         ca = st.executeQuery(sql);\n         c.close();\n      } catch (SQLException e) {\n         e.printStackTrace();\n\n      }\n\n   }\n\n   // recuperiamo le richieste di assistenza tecnica\n   public void takeRichiesteAssistenza(String database) {\n      try {\n         c = DriverManager.getConnection(\n               &quot;jdbc:mariadb://&quot; + host + &quot;:3306/&quot; + database + &quot;?&quot; + &quot;user=&quot; + uname + &quot;&amp;password=&quot; + pwd + &quot;&quot;);\n\n         // recupero le richieste di assistenza tecnica\n         String sql = &quot;SELECT * FROM `tbl_richiestatecnica` WHERE tecData BETWEEN '2022-10-19' AND '2022-10-21' ORDER BY idTEC DESC&quot;;\n         Statement st = c.createStatement();\n         rich = st.executeQuery(sql);\n         System.out.println(&quot;Operazione di recupero delle richieste avvenuta con successo, COMUNE DI :&quot; + database);\n         c.close();\n      } catch (SQLException e) {\n         e.printStackTrace();\n      }\n   }\n\n   // salviamo le richieste sul database\n   public void saveRichiesteAssistenza(ResultSet richieste, String comune) {\n\n      System.out.println(&quot;Salvataggio delle richieste nel repository centrale, COMUNE DI :&quot; + comune);\n      try {\n         String database = &quot;dbname&quot;;\n         c = DriverManager.getConnection(\n               &quot;jdbc:mariadb://IP_2:3366/&quot; + database + &quot;?user=db_user&amp;password=db_password&quot;);\n\n         if (c.isValid(0)) {\n            System.out.println(&quot;Connessione al server ubuntu avvenuta con successo&quot;);\n            try {\n               for (int i = 0; i &lt; 10; i++) {\n                  TimeUnit.SECONDS.sleep(1);\n               }\n            } catch (InterruptedException e) {\n               e.printStackTrace();\n            }\n\n         }\n\n         // effettuo l'insert delle richieste all'interno del DB di helpdesk\n         if (!comune.equals(&quot;Civitanova Marche&quot;)) {\n            while (richieste.next()) {\n               StringBuilder sql = new StringBuilder(\n                     &quot;INSERT INTO richieste_assistenza (comune, nominativo, cfpiva, email, oggetto, richiesta, mailcomune, datarichiesta, orarichiesta, stato) VALUES (&quot;);\n               sql.append(&quot;'&quot; + comune + &quot;', '&quot; + richieste.getString(4).replace(&quot;'&quot;, &quot; &quot;) + &quot;', '&quot;\n                     + richieste.getString(5) + &quot;', '&quot; + richieste.getString(6) + &quot;', '&quot; + richieste.getString(7)\n                     + &quot;', '&quot; + richieste.getString(8) + &quot;', '&quot; + richieste.getString(14) + &quot;', '&quot;\n                     + richieste.getString(2) + &quot;', '&quot; + richieste.getString(3) + &quot;', 'TODO')&quot;);\n               System.out.println(&quot;QUERY DI UPDATE&quot;);\n               System.out.println(sql.toString());\n               Statement st = c.createStatement();\n               st.executeUpdate(sql.toString());\n            }\n            c.close();\n         } else {\n            while (richieste.next()) {\n               StringBuilder sql = new StringBuilder(\n                     &quot;INSERT INTO richieste_assistenza (comune, nominativo, cfpiva, email, oggetto, richiesta, mailcomune, datarichiesta, orarichiesta, stato) VALUES (&quot;);\n               sql.append(&quot;'&quot; + comune + &quot;', '&quot; + richieste.getString(4).replace(&quot;'&quot;, &quot; &quot;) + &quot;', '&quot;\n                     + richieste.getString(11) + &quot;', '&quot; + richieste.getString(5) + &quot;', '&quot; + richieste.getString(6)\n                     + &quot;', '&quot; + richieste.getString(7) + &quot;', '&quot; + richieste.getString(13) + &quot;', '&quot;\n                     + richieste.getString(2) + &quot;', '&quot; + richieste.getString(3) + &quot;', 'TODO')&quot;);\n               System.out.println(&quot;QUERY DI UPDATE&quot;);\n               System.out.println(sql.toString());\n               Statement st = c.createStatement();\n               st.executeUpdate(sql.toString());\n            }\n            c.close();\n         }\n      } catch (SQLException e) {\n         e.printStackTrace();\n      }\n   }\n\n   public ResultSet getComuni() {\n      return ca;\n   }\n\n   public ResultSet getRichieste() {\n      return rich;\n   }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","kotlin","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661971694,"creation_date":1661971694,"answer_id":73560598,"question_id":73532777,"body_markdown":"This can easily be solved by replacing the field injection of `AbstractEntityService` with constructor injection, and removing the `@Service` annotation:\r\n```kotlin\r\nabstract class AbstractEntityService&lt;T&gt;(\r\n    private val entityRepository: AbstractRepository&lt;T&gt;,\r\n    private val otherService: OtherService,\r\n) {\r\n    ...\r\n}\r\n\r\n```\r\nNow, if this class wasn&#39;t abstract, its dependencies could be injected by Spring at least as good as in the definition where `otherService` is a field. But this definition is better in the way that you can now also pass the dependency into this class from your subclass like this:\r\n```kotlin\r\n@Service\r\nclass MyEntityService(\r\n    myRepository: MyRepository,\r\n    otherService: OtherService,\r\n    /* some other dependencies */\r\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository, otherService) {\r\n    /* some additional methods */\r\n}\r\n```\r\nI&#39;m not quite sure what you mean why `MyRepository` cannot be autowired because of type erasure, I guess there are some details missing in the question. \r\n\r\nIf the problem is that you have different components of type `MyRepository` in your application context, you could annotate one of them with `@Primary` which makes Spring to choose that component whenever it has to autowire a single candidate.\r\n\r\nAnother way could be to give your bean a name and then qualify the dependency in your `MyEntityService`:\r\n```kotlin\r\n@Repository(&quot;myrepo&quot;)\r\nopen class MyRepository : AbstractRepository&lt;MyEntity&gt; {\r\n   ...\r\n}\r\n\r\n@Service\r\nclass MyEntityService(\r\n    @Qualifier(&quot;myrepo&quot;)\r\n    myRepository: AbstractRepository&lt;MyEntity&gt;,\r\n    otherService: OtherService,\r\n    /* some other dependencies */\r\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository, otherService) {\r\n    /* some additional methods */\r\n}\r\n\r\n```","title":"Spring: Generic class with autowired dependencies","body":"<p>This can easily be solved by replacing the field injection of <code>AbstractEntityService</code> with constructor injection, and removing the <code>@Service</code> annotation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class AbstractEntityService&lt;T&gt;(\n    private val entityRepository: AbstractRepository&lt;T&gt;,\n    private val otherService: OtherService,\n) {\n    ...\n}\n\n</code></pre>\n<p>Now, if this class wasn't abstract, its dependencies could be injected by Spring at least as good as in the definition where <code>otherService</code> is a field. But this definition is better in the way that you can now also pass the dependency into this class from your subclass like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass MyEntityService(\n    myRepository: MyRepository,\n    otherService: OtherService,\n    /* some other dependencies */\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository, otherService) {\n    /* some additional methods */\n}\n</code></pre>\n<p>I'm not quite sure what you mean why <code>MyRepository</code> cannot be autowired because of type erasure, I guess there are some details missing in the question.</p>\n<p>If the problem is that you have different components of type <code>MyRepository</code> in your application context, you could annotate one of them with <code>@Primary</code> which makes Spring to choose that component whenever it has to autowire a single candidate.</p>\n<p>Another way could be to give your bean a name and then qualify the dependency in your <code>MyEntityService</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Repository(&quot;myrepo&quot;)\nopen class MyRepository : AbstractRepository&lt;MyEntity&gt; {\n   ...\n}\n\n@Service\nclass MyEntityService(\n    @Qualifier(&quot;myrepo&quot;)\n    myRepository: AbstractRepository&lt;MyEntity&gt;,\n    otherService: OtherService,\n    /* some other dependencies */\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository, otherService) {\n    /* some additional methods */\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666598024,"creation_date":1666598024,"answer_id":74178043,"question_id":73532777,"body_markdown":"It turns out that this\r\n```\r\n@Service\r\nabstract class AbstractEntityService&lt;T&gt;(\r\n  private val entityRepository: AbstractRepository&lt;T&gt;,\r\n) {\r\n  \r\n  @Autowired\r\n  private lateinit var otherService: OtherService\r\n\r\n  fun getEntity(entityId: Long): T\r\n\r\n  fun commonMethodUsingOtherService(): T\r\n}\r\n```\r\nactually works, in spite of what OP (me) claimed in the issue. Apparently, Spring supports autowiring in abstract classes. Moreover, `@Service` annotation (or generally `@Component`) is understandably ignored by Spring, so it doesn&#39;t try to inject `AbstractRepository&lt;T&gt;` into the constructor. On the other hand, Spring can inject it if declared explicitly because it [supports generics as bean qualifiers][1]:\r\n```\r\nabstract class AbstractEntityService&lt;T&gt; {\r\n  \r\n  @Autowired\r\n  private lateinit var otherService: OtherService\r\n\r\n  @Autowired\r\n  private lateinit var entityRepository: AbstractRepository&lt;T&gt;\r\n}\r\n```\r\n\r\nI really don&#39;t know what I was thinking when I posted this issue :-) Perhaps, I got confused by errors emitted by IDE which apparently is not so smart and cannot perform the generic type bean resolution, so it complains `Could not autowire. No beans of &#39;AbstractRepository&lt;T&gt;&#39; type found.`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-generics-as-qualifiers","title":"Spring: Generic class with autowired dependencies","body":"<p>It turns out that this</p>\n<pre><code>@Service\nabstract class AbstractEntityService&lt;T&gt;(\n  private val entityRepository: AbstractRepository&lt;T&gt;,\n) {\n  \n  @Autowired\n  private lateinit var otherService: OtherService\n\n  fun getEntity(entityId: Long): T\n\n  fun commonMethodUsingOtherService(): T\n}\n</code></pre>\n<p>actually works, in spite of what OP (me) claimed in the issue. Apparently, Spring supports autowiring in abstract classes. Moreover, <code>@Service</code> annotation (or generally <code>@Component</code>) is understandably ignored by Spring, so it doesn't try to inject <code>AbstractRepository&lt;T&gt;</code> into the constructor. On the other hand, Spring can inject it if declared explicitly because it <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-generics-as-qualifiers\" rel=\"nofollow noreferrer\">supports generics as bean qualifiers</a>:</p>\n<pre><code>abstract class AbstractEntityService&lt;T&gt; {\n  \n  @Autowired\n  private lateinit var otherService: OtherService\n\n  @Autowired\n  private lateinit var entityRepository: AbstractRepository&lt;T&gt;\n}\n</code></pre>\n<p>I really don't know what I was thinking when I posted this issue :-) Perhaps, I got confused by errors emitted by IDE which apparently is not so smart and cannot perform the generic type bean resolution, so it complains <code>Could not autowire. No beans of 'AbstractRepository&lt;T&gt;' type found.</code></p>\n"}],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74178043,"answer_count":2,"score":2,"last_activity_date":1666598024,"creation_date":1661795420,"question_id":73532777,"body_markdown":"I have a standard Spring Boot MVC app with many entities and corresponding repositories and services. There&#39;s a lot of infrastructure shared among the components so I would like to abstract that away to generic classes. The way I&#39;m currently trying to achieve that is this (showing just the skeleton to convey the idea):\r\n\r\n```kotlin\r\ninterface AbstractRepository&lt;T&gt; {\r\n    fun findById(entityId: Long): T \r\n}\r\n\r\nabstract class AbstractEntityService&lt;T&gt;(\r\n  private val entityRepository: AbstractRepository&lt;T&gt;,\r\n) {\r\n\r\n  fun getEntity(entityId: Long): T = entityRepository.findById(entityId)\r\n}\r\n\r\n@Repository\r\ninterface MyRepository : AbstractRepository&lt;MyEntity&gt;\r\n\r\n@Service\r\nclass MyEntityService(\r\n  myRepository: MyRepository,\r\n  /* some other dependencies */\r\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository) {\r\n  /* some additional methods */\r\n}\r\n```\r\n\r\nThis seems to work, i.e. I can instantiate (or autowire) `MyEntityService`. Note, however, that I have to pass `MyRepository` explicitly to the constructor instead of letting Spring autowire it. That isn&#39;t possible because of runtime type erasure. But so far it doesn&#39;t bother me much.\r\n\r\nProblems arise when I want to add some logic to `AbstractEntityService` which requires some other beans, i.e. something like this\r\n```kotlin\r\n@Service\r\nabstract class AbstractEntityService&lt;T&gt;(\r\n  private val entityRepository: AbstractRepository&lt;T&gt;,\r\n) {\r\n  \r\n  @Autowired\r\n  private lateinit var otherService: OtherService\r\n\r\n  fun getEntity(entityId: Long): T\r\n\r\n  fun commonMethodUsingOtherService(): T\r\n}\r\n```\r\n\r\nBut now I have a problem because in order to autowire `OtherService` I had to make my abstract service a Spring component (`@Service`) which has an unwanted side effect of Spring trying to inject `AbstractRepository&lt;T&gt;` declared in my constructor. And because of the above mentioned type erasure it finds lots of beans of `AbstractRepository` type and fails.\r\n\r\n**My question**: How can I convince Spring to not inject a bean into my `AbstractEntityService` constructor?\r\n\r\n**Related question**: Is there a technically different solution to my problem (mentioned in the first paragraph) which avoids possible framework restrictions/shortcomings? I.e. not using inheritance, structuring my code differently etc.","title":"Spring: Generic class with autowired dependencies","body":"<p>I have a standard Spring Boot MVC app with many entities and corresponding repositories and services. There's a lot of infrastructure shared among the components so I would like to abstract that away to generic classes. The way I'm currently trying to achieve that is this (showing just the skeleton to convey the idea):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface AbstractRepository&lt;T&gt; {\n    fun findById(entityId: Long): T \n}\n\nabstract class AbstractEntityService&lt;T&gt;(\n  private val entityRepository: AbstractRepository&lt;T&gt;,\n) {\n\n  fun getEntity(entityId: Long): T = entityRepository.findById(entityId)\n}\n\n@Repository\ninterface MyRepository : AbstractRepository&lt;MyEntity&gt;\n\n@Service\nclass MyEntityService(\n  myRepository: MyRepository,\n  /* some other dependencies */\n) : AbstractEntityService&lt;MyEntity&gt;(myRepository) {\n  /* some additional methods */\n}\n</code></pre>\n<p>This seems to work, i.e. I can instantiate (or autowire) <code>MyEntityService</code>. Note, however, that I have to pass <code>MyRepository</code> explicitly to the constructor instead of letting Spring autowire it. That isn't possible because of runtime type erasure. But so far it doesn't bother me much.</p>\n<p>Problems arise when I want to add some logic to <code>AbstractEntityService</code> which requires some other beans, i.e. something like this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nabstract class AbstractEntityService&lt;T&gt;(\n  private val entityRepository: AbstractRepository&lt;T&gt;,\n) {\n  \n  @Autowired\n  private lateinit var otherService: OtherService\n\n  fun getEntity(entityId: Long): T\n\n  fun commonMethodUsingOtherService(): T\n}\n</code></pre>\n<p>But now I have a problem because in order to autowire <code>OtherService</code> I had to make my abstract service a Spring component (<code>@Service</code>) which has an unwanted side effect of Spring trying to inject <code>AbstractRepository&lt;T&gt;</code> declared in my constructor. And because of the above mentioned type erasure it finds lots of beans of <code>AbstractRepository</code> type and fails.</p>\n<p><strong>My question</strong>: How can I convince Spring to not inject a bean into my <code>AbstractEntityService</code> constructor?</p>\n<p><strong>Related question</strong>: Is there a technically different solution to my problem (mentioned in the first paragraph) which avoids possible framework restrictions/shortcomings? I.e. not using inheritance, structuring my code differently etc.</p>\n"},{"tags":["java","spring","spring-boot","validation","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7925138,"reputation":114,"user_id":5984784,"display_name":"toowboga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666597896,"creation_date":1666597896,"answer_id":74178025,"question_id":74143917,"body_markdown":"If you want to validate two fields of a class, you have to use a custom validator with a class level constraint and then compare both values in the validator class.  \r\n\r\nCheck this [answer][1] for more information.\r\n\r\nAnother solution is to define a method that must validate to true and put the `@AssertTrue` annotation on the top of it:\r\n\r\n```\r\n@AssertTrue\r\nprivate boolean isEqual() {\r\n    return userpassword.equals(confirmPassword);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2783859/5984784","title":"Spring Boot JPA Custom validation null point error for password confirmation","body":"<p>If you want to validate two fields of a class, you have to use a custom validator with a class level constraint and then compare both values in the validator class.</p>\n<p>Check this <a href=\"https://stackoverflow.com/a/2783859/5984784\">answer</a> for more information.</p>\n<p>Another solution is to define a method that must validate to true and put the <code>@AssertTrue</code> annotation on the top of it:</p>\n<pre><code>@AssertTrue\nprivate boolean isEqual() {\n    return userpassword.equals(confirmPassword);\n}\n</code></pre>\n"}],"owner":{"account_id":12848624,"reputation":15,"user_id":9294231,"display_name":"Programming Shortcut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666597896,"creation_date":1666286434,"question_id":74143917,"body_markdown":"I made a registration form and I want to validate all filed of the form I validated expect one field to match the fields of PASSWORD matching so make custom validtion but is  not working i attaced code in\r\n     \r\n\r\n    \r\n    @Entity\r\n    public class Userlist {\r\n      ......\r\n      @Size(min = 8, message = &quot;Please enter atleast 8 digit password&quot;)\r\n\t  private String userpassword;\r\n\t  @PasswordMatch(message=&quot;Your Password is not match with created password&quot;)\r\n\t  private String confirmpassword;\r\n    }\r\n\r\n \r\n    package com.picture.picturesalbum.anotation;\r\n\r\n    import static java.lang.annotation.ElementType.ANNOTATION_TYPE;  \r\n    import static java.lang.annotation.ElementType.CONSTRUCTOR;\r\n    import static java.lang.annotation.ElementType.FIELD;\r\n    import static java.lang.annotation.ElementType.METHOD;\r\n    import static java.lang.annotation.ElementType.PARAMETER;\r\n    import static java.lang.annotation.ElementType.TYPE_USE;\r\n\r\n    import java.lang.annotation.*;\r\n\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n\r\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = PasswordMatchValidator.class)\r\n    public @interface PasswordMatch {\r\n\r\n\tpublic String message() default &quot;Your Password is not match with created password &quot;;\r\n    public Class&lt;?&gt;[] groups() default {};\r\n    public Class&lt;? extends Payload&gt;[] payload() default {};\r\n \r\n    }\r\n\r\n\r\n      package com.picture.picturesalbum.anotation;\r\n      import com.picture.picturesalbum.model.Userlist;\r\n      import jakarta.validation.ConstraintValidator; \r\n      import jakarta.validation.ConstraintValidatorContext;\r\n      public class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, String&gt; {\r\n\t  Userlist userlist = new Userlist();\r\n\t  public boolean isValid(String value, ConstraintValidatorContext context) {\r\n     // Userlist userlist = new Userlist();\t\r\n\t\tif (value.contentEquals(userlist.getUserpassword())) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nError is \r\n\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.CharSequence.length()&quot; because &quot;cs&quot; is null\r\n\r\n","title":"Spring Boot JPA Custom validation null point error for password confirmation","body":"<p>I made a registration form and I want to validate all filed of the form I validated expect one field to match the fields of PASSWORD matching so make custom validtion but is  not working i attaced code in</p>\n<pre><code>@Entity\npublic class Userlist {\n  ......\n  @Size(min = 8, message = &quot;Please enter atleast 8 digit password&quot;)\n  private String userpassword;\n  @PasswordMatch(message=&quot;Your Password is not match with created password&quot;)\n  private String confirmpassword;\n}\n\n\npackage com.picture.picturesalbum.anotation;\n\nimport static java.lang.annotation.ElementType.ANNOTATION_TYPE;  \nimport static java.lang.annotation.ElementType.CONSTRUCTOR;\nimport static java.lang.annotation.ElementType.FIELD;\nimport static java.lang.annotation.ElementType.METHOD;\nimport static java.lang.annotation.ElementType.PARAMETER;\nimport static java.lang.annotation.ElementType.TYPE_USE;\n\nimport java.lang.annotation.*;\n\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = PasswordMatchValidator.class)\npublic @interface PasswordMatch {\n\npublic String message() default &quot;Your Password is not match with created password &quot;;\npublic Class&lt;?&gt;[] groups() default {};\npublic Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n\n\n  package com.picture.picturesalbum.anotation;\n  import com.picture.picturesalbum.model.Userlist;\n  import jakarta.validation.ConstraintValidator; \n  import jakarta.validation.ConstraintValidatorContext;\n  public class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, String&gt; {\n  Userlist userlist = new Userlist();\n  public boolean isValid(String value, ConstraintValidatorContext context) {\n // Userlist userlist = new Userlist(); \n    if (value.contentEquals(userlist.getUserpassword())) {\n        return true;\n    } else {\n        return false;\n    }\n  }\n}\n</code></pre>\n<p>Error is</p>\n<pre><code>    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.CharSequence.length()&quot; because &quot;cs&quot; is null</p>\n"},{"tags":["java","spring-boot","spring-data-rest"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1666598103,"post_id":74177929,"comment_id":130966261,"body_markdown":"Where is the path `http://localhost:8080/rest-api/apps/` defined? Did you mean `http://localhost:8080/rest-api/profile/apps/`?","body":"Where is the path <code>http:&#47;&#47;localhost:8080&#47;rest-api&#47;apps&#47;</code> defined? Did you mean <code>http:&#47;&#47;localhost:8080&#47;rest-api&#47;profile&#47;apps&#47;</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666598511,"post_id":74177929,"comment_id":130966404,"body_markdown":"Because it is about resources **not** about repository methods. Normally `/users` would list all users and thus call the `findAll` method. The `/users/{id}` would get the specific user (and call the `findById` method). You have to think in resources and not methods. Non default methods are exposed, by default, by name and parameters (you can change this using the Spring Data REST annotations).","body":"Because it is about resources <b>not</b> about repository methods. Normally <code>&#47;users</code> would list all users and thus call the <code>findAll</code> method. The <code>&#47;users&#47;{id}</code> would get the specific user (and call the <code>findById</code> method). You have to think in resources and not methods. Non default methods are exposed, by default, by name and parameters (you can change this using the Spring Data REST annotations)."},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1666598852,"post_id":74177929,"comment_id":130966517,"body_markdown":"@dunni rest-api is the base path for my rest API. when I go to this link it lists all apps and their links like self or profile.","body":"@dunni rest-api is the base path for my rest API. when I go to this link it lists all apps and their links like self or profile."},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1666598995,"post_id":74177929,"comment_id":130966565,"body_markdown":"@M.Deinum Is it possible to determine what those settings are or at least give me a link?","body":"@M.Deinum Is it possible to determine what those settings are or at least give me a link?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666599322,"post_id":74177929,"comment_id":130966672,"body_markdown":"The Spring Data REST documentation explains all of that.","body":"The Spring Data REST documentation explains all of that."},{"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"score":1,"creation_date":1666599875,"post_id":74177929,"comment_id":130966863,"body_markdown":"Have a look at https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.http-methods","body":"Have a look at <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.http-methods\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1666609007,"post_id":74177929,"comment_id":130969805,"body_markdown":"@M.Deinum Thank you, is it possible to say what is the difference between method and resource? Basically, what does resource mean in spring data rest? And basically, what is the reason that all CrudRepository methods are not exposed?","body":"@M.Deinum Thank you, is it possible to say what is the difference between method and resource? Basically, what does resource mean in spring data rest? And basically, what is the reason that all CrudRepository methods are not exposed?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666613036,"post_id":74177929,"comment_id":130971195,"body_markdown":"They are exposed (POST will call `save` etc). That is basically what http resources are. It isn&#39;t dumb exporting all methods of the repository it is smarter then that.","body":"They are exposed (POST will call <code>save</code> etc). That is basically what http resources are. It isn&#39;t dumb exporting all methods of the repository it is smarter then that."}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666597358,"creation_date":1666597358,"question_id":74177929,"body_markdown":"I have a project with spring data rest that when I run it does not have some expected features. When I go to http://localhost:8080/rest-api/profile, the following links appear, which the repository related to each of them has extended CrudRepository.\r\n\r\n    {\r\n      &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile&quot;\r\n        },\r\n        &quot;roles&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/roles&quot;\r\n        },\r\n        &quot;users&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/users&quot;\r\n        },\r\n        &quot;offers&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/offers&quot;\r\n        },\r\n        &quot;businesses&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/businesses&quot;\r\n        },\r\n        &quot;apps&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/apps&quot;\r\n        },\r\n        &quot;addresses&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/addresses&quot;\r\n        },\r\n        &quot;contacts&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/contacts&quot;\r\n        }\r\n      }\r\n    }\r\nNow, when I go to the http://localhost:8080/rest-api/users/search, the following page opens:\r\n\r\n    {\r\n      &quot;_links&quot;: {\r\n        &quot;getByEmail&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/getByEmail{?email}&quot;,\r\n          &quot;templated&quot;: true\r\n        },\r\n        &quot;getByRoleName&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/getByRoleName{?role}&quot;,\r\n          &quot;templated&quot;: true\r\n        },\r\n        &quot;existsByEmail&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/existsByEmail{?email}&quot;,\r\n          &quot;templated&quot;: true\r\n        },\r\n        &quot;self&quot;: {\r\n          &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n**First question:**\r\n\r\n1-Why does not the spring data rest expose method for CrudRepository&#39;s specific methods? like findAll ro findById ?Are they not the search method?\r\n\r\n\r\n\r\n**Second question:** \r\n\r\nWhen I open http://localhost:8080/rest-api/apps/search it gives a 404 not found error.\r\n\r\n\r\nWhy does it give an error when I go to the search link related to apps? Don&#39;t apps have search methods? In addition, when I go to the mentioned link, the following line is logged in the program console:\r\n\r\n    2022-10-24 11:02:14.990  WARN 7560 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.data.rest.webmvc.ResourceNotFoundException: EntityRepresentationModel not found!]\r\n\r\nI would be really appreciated if you would answer me.","title":"The spring data rest&#39;s behavior looks weird","body":"<p>I have a project with spring data rest that when I run it does not have some expected features. When I go to http://localhost:8080/rest-api/profile, the following links appear, which the repository related to each of them has extended CrudRepository.</p>\n<pre><code>{\n  &quot;_links&quot;: {\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile&quot;\n    },\n    &quot;roles&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/roles&quot;\n    },\n    &quot;users&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/users&quot;\n    },\n    &quot;offers&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/offers&quot;\n    },\n    &quot;businesses&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/businesses&quot;\n    },\n    &quot;apps&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/apps&quot;\n    },\n    &quot;addresses&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/addresses&quot;\n    },\n    &quot;contacts&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/profile/contacts&quot;\n    }\n  }\n}\n</code></pre>\n<p>Now, when I go to the http://localhost:8080/rest-api/users/search, the following page opens:</p>\n<pre><code>{\n  &quot;_links&quot;: {\n    &quot;getByEmail&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/getByEmail{?email}&quot;,\n      &quot;templated&quot;: true\n    },\n    &quot;getByRoleName&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/getByRoleName{?role}&quot;,\n      &quot;templated&quot;: true\n    },\n    &quot;existsByEmail&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search/existsByEmail{?email}&quot;,\n      &quot;templated&quot;: true\n    },\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/rest-api/users/search&quot;\n    }\n  }\n}\n</code></pre>\n<p><strong>First question:</strong></p>\n<p>1-Why does not the spring data rest expose method for CrudRepository's specific methods? like findAll ro findById ?Are they not the search method?</p>\n<p><strong>Second question:</strong></p>\n<p>When I open http://localhost:8080/rest-api/apps/search it gives a 404 not found error.</p>\n<p>Why does it give an error when I go to the search link related to apps? Don't apps have search methods? In addition, when I go to the mentioned link, the following line is logged in the program console:</p>\n<pre><code>2022-10-24 11:02:14.990  WARN 7560 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.data.rest.webmvc.ResourceNotFoundException: EntityRepresentationModel not found!]\n</code></pre>\n<p>I would be really appreciated if you would answer me.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1664911582,"post_id":73951187,"comment_id":130576992,"body_markdown":"Please have a look at the answers to https://stackoverflow.com/q/15736654; gson-extras&#39; `RuntimeTypeAdapterFactory` seems to fit for your use case. Unfortunately it is not published on Maven Central though.","body":"Please have a look at the answers to <a href=\"https://stackoverflow.com/q/15736654\">stackoverflow.com/q/15736654</a>; gson-extras&#39; <code>RuntimeTypeAdapterFactory</code> seems to fit for your use case. Unfortunately it is not published on Maven Central though."},{"owner":{"account_id":3529693,"reputation":1020,"user_id":2949645,"display_name":"Sahib Yar"},"score":0,"creation_date":1664948973,"post_id":73951187,"comment_id":130583014,"body_markdown":"As I have already mentioned I have already tried `RuntimeTypeAdapterFactory` and it is not working for me.","body":"As I have already mentioned I have already tried <code>RuntimeTypeAdapterFactory</code> and it is not working for me."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1665007892,"post_id":73951187,"comment_id":130601550,"body_markdown":"You only mentioned that you did not want to implement a custom (de)serializer; you did not mention that you already tried the `RuntimeTypeAdapterFactory` approach. Please include the code you have so far and describe why it is not working, e.g. throwing an exception, producing wrong results (if so which), ...","body":"You only mentioned that you did not want to implement a custom (de)serializer; you did not mention that you already tried the <code>RuntimeTypeAdapterFactory</code> approach. Please include the code you have so far and describe why it is not working, e.g. throwing an exception, producing wrong results (if so which), ..."}],"owner":{"account_id":3529693,"reputation":1020,"user_id":2949645,"display_name":"Sahib Yar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666597000,"creation_date":1664902400,"question_id":73951187,"body_markdown":"I have a set of classes with following structure \r\n```Java\r\npublic abstract class Rule { .... }\r\npublic class RuleType1 extends Rule { ... }\r\npublic class RuleType2 extends Rule { ... }\r\npublic class RuleType3 extends Rule { ... }\r\npublic class RuleType4 extends Rule { ... }\r\n\r\npublic class RuleSet extends Rule {\r\n     ... \r\n     private final Collection&lt;Rule&gt; rules;\r\n}\r\n```\r\nI want to parse following json, which contains multiple **nested** `Rule` child classes. Since `RuleSet` contains `Collection` of `Rule`, it can have multiple `RuleSet` as well.    \r\n\r\nI have checked these answers already. I don&#39;t want to implement custom (de)serializer because that will make child classes less flexible. (Whoever will change classes will need to change serializer classes as well) \r\n\r\nhttps://stackoverflow.com/questions/3629596/deserializing-an-abstract-class-in-gson\r\n\r\nhttps://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects\r\n\r\n\r\nHere is the same json, I want to serialize/deserialize. \r\n```JSON\r\n{\r\n    &quot;ruleType&quot;: &quot;ruleSet&quot;,\r\n    &quot;rules&quot;: [\r\n        {\r\n            &quot;ruleType&quot;: &quot;ruleSet&quot;,\r\n            &quot;rules&quot;: [\r\n                {\r\n                    &quot;ruleType&quot;: &quot;RuleType1&quot;\r\n                },\r\n                {\r\n                    &quot;ruleType&quot;: &quot;ruleSet&quot;,\r\n                    &quot;rules&quot;: [\r\n                        {\r\n                            &quot;ruleType&quot;: &quot;RuleType2&quot;\r\n                        },\r\n                        {\r\n                            &quot;ruleType&quot;: &quot;RuleType3&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;ruleType&quot;: &quot;ruleSet&quot;,\r\n            &quot;rules&quot;: [\r\n                {\r\n                    &quot;ruleType&quot;: &quot;RuleType1&quot;\r\n                },\r\n                {\r\n                    &quot;ruleType&quot;: &quot;ruleSet&quot;,\r\n                    &quot;rules&quot;: [\r\n                        {\r\n                            &quot;ruleType&quot;: &quot;RuleType3&quot;\r\n                        },\r\n                        {\r\n                            &quot;ruleType&quot;: &quot;RuleType4&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nEdit after comments:\r\n--------\r\n\r\n[![enter image description here][1]][1]\r\nThis is my class structure where `RuleSet` has `Collection&lt;IRule&gt; rules`\r\n\r\nAnd this is my class\r\n```java\r\npublic class SampleClass {\r\n    public IRule parameters;\r\n    public double defaultConfidence;\r\n    public String ruleType;\r\n}\r\n```\r\n\r\n```java\r\n    static RuntimeTypeAdapterFactory&lt;IRule&gt; adaptor = RuntimeTypeAdapterFactory.of(IRule.class)\r\n            .registerSubtype(RuleSet.class)\r\n            .registerSubtype(Rule.class);\r\n\r\n    static RuntimeTypeAdapterFactory&lt;Rule&gt; ruleAdaptor = RuntimeTypeAdapterFactory.of(Rule.class)\r\n            .registerSubtype(DocumentTypesRule.class)\r\n            .registerSubtype(DataAttributesRule.class)\r\n            .registerSubtype(DictionariesRule.class)\r\n            .registerSubtype(FileFormatsRule.class)\r\n            .registerSubtype(FileLengthRule.class)\r\n            .registerSubtype(FileNamePatternsRule.class)\r\n            .registerSubtype(FixedRule.class)\r\n            .registerSubtype(ImageTypesRule.class)\r\n            .registerSubtype(KeywordsRule.class)\r\n            .registerSubtype(RegexesRule.class)\r\n            .registerSubtype(SimilaritiesRule.class)\r\n            .registerSubtype(TopicsRule.class);\r\n\r\n    private static final Gson GSON = new GsonBuilder()\r\n            .registerTypeAdapterFactory(adaptor)\r\n            .registerTypeAdapterFactory(ruleAdaptor)\r\n            .create();\r\n```\r\n\r\nand facing following error while calling `GSON.fromJson(response, SampleClass.class)`\r\n```\r\njava.lang.RuntimeException: Unable to invoke no-args constructor for interface &lt;classPath&gt;.IRule. Registering an InstanceCreator with Gson for this type may fix this problem.\r\n```\r\n  [1]: https://i.stack.imgur.com/66jYK.png","title":"GSON serialize a list of polymorphic Composite classes","body":"<p>I have a set of classes with following structure</p>\n<pre><code>public abstract class Rule { .... }\npublic class RuleType1 extends Rule { ... }\npublic class RuleType2 extends Rule { ... }\npublic class RuleType3 extends Rule { ... }\npublic class RuleType4 extends Rule { ... }\n\npublic class RuleSet extends Rule {\n     ... \n     private final Collection&lt;Rule&gt; rules;\n}\n</code></pre>\n<p>I want to parse following json, which contains multiple <strong>nested</strong> <code>Rule</code> child classes. Since <code>RuleSet</code> contains <code>Collection</code> of <code>Rule</code>, it can have multiple <code>RuleSet</code> as well.</p>\n<p>I have checked these answers already. I don't want to implement custom (de)serializer because that will make child classes less flexible. (Whoever will change classes will need to change serializer classes as well)</p>\n<p><a href=\"https://stackoverflow.com/questions/3629596/deserializing-an-abstract-class-in-gson\">Deserializing an abstract class in Gson</a></p>\n<p><a href=\"https://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects\">Gson serialize a list of polymorphic objects</a></p>\n<p>Here is the same json, I want to serialize/deserialize.</p>\n<pre><code>{\n    &quot;ruleType&quot;: &quot;ruleSet&quot;,\n    &quot;rules&quot;: [\n        {\n            &quot;ruleType&quot;: &quot;ruleSet&quot;,\n            &quot;rules&quot;: [\n                {\n                    &quot;ruleType&quot;: &quot;RuleType1&quot;\n                },\n                {\n                    &quot;ruleType&quot;: &quot;ruleSet&quot;,\n                    &quot;rules&quot;: [\n                        {\n                            &quot;ruleType&quot;: &quot;RuleType2&quot;\n                        },\n                        {\n                            &quot;ruleType&quot;: &quot;RuleType3&quot;\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;ruleType&quot;: &quot;ruleSet&quot;,\n            &quot;rules&quot;: [\n                {\n                    &quot;ruleType&quot;: &quot;RuleType1&quot;\n                },\n                {\n                    &quot;ruleType&quot;: &quot;ruleSet&quot;,\n                    &quot;rules&quot;: [\n                        {\n                            &quot;ruleType&quot;: &quot;RuleType3&quot;\n                        },\n                        {\n                            &quot;ruleType&quot;: &quot;RuleType4&quot;\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<h2>Edit after comments:</h2>\n<p><a href=\"https://i.stack.imgur.com/66jYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66jYK.png\" alt=\"enter image description here\" /></a>\nThis is my class structure where <code>RuleSet</code> has <code>Collection&lt;IRule&gt; rules</code></p>\n<p>And this is my class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleClass {\n    public IRule parameters;\n    public double defaultConfidence;\n    public String ruleType;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    static RuntimeTypeAdapterFactory&lt;IRule&gt; adaptor = RuntimeTypeAdapterFactory.of(IRule.class)\n            .registerSubtype(RuleSet.class)\n            .registerSubtype(Rule.class);\n\n    static RuntimeTypeAdapterFactory&lt;Rule&gt; ruleAdaptor = RuntimeTypeAdapterFactory.of(Rule.class)\n            .registerSubtype(DocumentTypesRule.class)\n            .registerSubtype(DataAttributesRule.class)\n            .registerSubtype(DictionariesRule.class)\n            .registerSubtype(FileFormatsRule.class)\n            .registerSubtype(FileLengthRule.class)\n            .registerSubtype(FileNamePatternsRule.class)\n            .registerSubtype(FixedRule.class)\n            .registerSubtype(ImageTypesRule.class)\n            .registerSubtype(KeywordsRule.class)\n            .registerSubtype(RegexesRule.class)\n            .registerSubtype(SimilaritiesRule.class)\n            .registerSubtype(TopicsRule.class);\n\n    private static final Gson GSON = new GsonBuilder()\n            .registerTypeAdapterFactory(adaptor)\n            .registerTypeAdapterFactory(ruleAdaptor)\n            .create();\n</code></pre>\n<p>and facing following error while calling <code>GSON.fromJson(response, SampleClass.class)</code></p>\n<pre><code>java.lang.RuntimeException: Unable to invoke no-args constructor for interface &lt;classPath&gt;.IRule. Registering an InstanceCreator with Gson for this type may fix this problem.\n</code></pre>\n"},{"tags":["java","json","list","arraylist"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1666582304,"post_id":74176438,"comment_id":130963571,"body_markdown":"`List&lt;?&gt;` can contain any object.  You need to iterate over the list and perform whatever conversion is needed to produce `MyObject` instances from the objects in `xmpl`.  Only you know how to do that.","body":"<code>List&lt;?&gt;</code> can contain any object.  You need to iterate over the list and perform whatever conversion is needed to produce <code>MyObject</code> instances from the objects in <code>xmpl</code>.  Only you know how to do that."},{"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"score":0,"creation_date":1666584430,"post_id":74176438,"comment_id":130963800,"body_markdown":"Thanks @JimGarrison you are right! the real issue is the casting from LinkedTreeMap  to MyObject, so I look around again and found this workaround.","body":"Thanks @JimGarrison you are right! the real issue is the casting from LinkedTreeMap  to MyObject, so I look around again and found this workaround."}],"answers":[{"tags":[],"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666584794,"creation_date":1666584794,"answer_id":74176643,"question_id":74176438,"body_markdown":"The real issue is not when converting ? to MyObject, but the LinkedTreeMap to MyObject, from \r\n[this explanation][1]\r\nby @harsh\r\n\r\nso I did this workaround\r\n\r\n    String jsonData = gson.toJson(xmpl.getData());\r\n\r\n    MyObjectBean[] objs = gson.fromJson(jsonData,MyObjectBean[].class);\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61686042/how-to-deal-with-cannot-be-cast-to-class-error-gson-java","title":"How to convert List&lt;?&gt; to List&lt;Object&gt; in java?","body":"<p>The real issue is not when converting ? to MyObject, but the LinkedTreeMap to MyObject, from\n<a href=\"https://stackoverflow.com/questions/61686042/how-to-deal-with-cannot-be-cast-to-class-error-gson-java\">this explanation</a>\nby @harsh</p>\n<p>so I did this workaround</p>\n<pre><code>String jsonData = gson.toJson(xmpl.getData());\n\nMyObjectBean[] objs = gson.fromJson(jsonData,MyObjectBean[].class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666596947,"creation_date":1666588702,"answer_id":74176899,"question_id":74176438,"body_markdown":"You could go with two solutions, to start with:\r\n\r\n1. You can change the Generic type, this way You don&#39;t say data is any collection, but it&#39;s a collection of type `&lt;T&gt;`. Now You can create classes with given type anywhere You need it.\r\n\r\nGeneric value `&lt;?&gt;` means in general that you don&#39;t care what is inside, and probably You won&#39;t read it anyway. When You are interested only if collection is null or what it&#39;s size.\r\n\r\nWhen You need to do something with it, then use Generic types.\r\n\r\nExample:\r\n\r\n    public class Example&lt;T&gt; {\r\n     private List&lt;T&gt; data;\r\n    }\r\n\r\nNow inside of your controller, create a private class, to deserialize your payload.\r\n\r\n    static class MyObjectExample extends Example&lt;MyObject&gt;{\r\n    }\r\n\r\nNow you can use it do decode JSON:\r\n\r\n      MyObjectExample xmpl = gson.fromJson(json, MyObjectExample.class);\r\n      List&lt;MyObject&gt; source = xmpl.getData();\r\n\r\nNow if your code can be serialized to MyObject it will work.\r\n\r\n2. Spring supports deserialization also.\r\n\r\n If you have a @RestController annotation added to your Controller class\r\n\r\nExample:\r\n\r\n    @PostMapping(&quot;/getResult&quot;)\r\n    public Result getResult(@RequestBody MyObjectExample xmpl) {\r\n    \r\n          // get Result\r\n          return result;\r\n    }\r\n\r\nOr you can add \r\n\r\n    consumes = MediaType.APPLICATION_JSON_VALUE\r\n\r\nto your REST method. \r\n\r\n\r\n**Try using Spring to convert your value for you**.\r\n\r\nYou can find more \r\n- [GetMapping and PostMapping][1]\r\n- [tutotrial][2]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/\r\n  [2]: https://spring.io/guides/tutorials/rest/","title":"How to convert List&lt;?&gt; to List&lt;Object&gt; in java?","body":"<p>You could go with two solutions, to start with:</p>\n<ol>\n<li>You can change the Generic type, this way You don't say data is any collection, but it's a collection of type <code>&lt;T&gt;</code>. Now You can create classes with given type anywhere You need it.</li>\n</ol>\n<p>Generic value <code>&lt;?&gt;</code> means in general that you don't care what is inside, and probably You won't read it anyway. When You are interested only if collection is null or what it's size.</p>\n<p>When You need to do something with it, then use Generic types.</p>\n<p>Example:</p>\n<pre><code>public class Example&lt;T&gt; {\n private List&lt;T&gt; data;\n}\n</code></pre>\n<p>Now inside of your controller, create a private class, to deserialize your payload.</p>\n<pre><code>static class MyObjectExample extends Example&lt;MyObject&gt;{\n}\n</code></pre>\n<p>Now you can use it do decode JSON:</p>\n<pre><code>  MyObjectExample xmpl = gson.fromJson(json, MyObjectExample.class);\n  List&lt;MyObject&gt; source = xmpl.getData();\n</code></pre>\n<p>Now if your code can be serialized to MyObject it will work.</p>\n<ol start=\"2\">\n<li>Spring supports deserialization also.</li>\n</ol>\n<p>If you have a @RestController annotation added to your Controller class</p>\n<p>Example:</p>\n<pre><code>@PostMapping(&quot;/getResult&quot;)\npublic Result getResult(@RequestBody MyObjectExample xmpl) {\n\n      // get Result\n      return result;\n}\n</code></pre>\n<p>Or you can add</p>\n<pre><code>consumes = MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n<p>to your REST method.</p>\n<p><strong>Try using Spring to convert your value for you</strong>.</p>\n<p>You can find more</p>\n<ul>\n<li><a href=\"https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/\" rel=\"nofollow noreferrer\">GetMapping and PostMapping</a></li>\n<li><a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">tutotrial</a></li>\n</ul>\n"}],"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74176899,"answer_count":2,"score":1,"last_activity_date":1666596947,"creation_date":1666582061,"question_id":74176438,"body_markdown":"How to convert List&lt;?&gt; to List&lt;Object&gt; in java?\r\n\r\nFor example I have this class\r\n\r\n    @Data\r\n    public class Example {\r\n     private List&lt;?&gt; data;\r\n    }\r\n\r\nand I used in this function\r\n\r\n    @PostMapping(&quot;/getResult&quot;)\r\n\t@ResponseBody\r\n\tpublic Result getResult(@RequestBody String json) {\r\n         \r\n          Gson gson = new Gson();\r\n          Example xmpl = gson.fromJson(json, Example.class);\r\n          List&lt;MyObject&gt; source = (List&lt;MyObject&gt;)xmpl.getData(); //==&gt; error\r\n\r\n          // get Result\r\n\r\n          return result;\r\n    \r\n    }\r\n\r\nIt will give this error \r\n\r\n      class com.google.gson.internal.LinkedTreeMap cannot be cast to class com.myproject.MyObject\r\n\r\n\r\nEDITED: \r\n\r\nThe real problem is not from converting ? to object, but from converting LinkedTreeMap to the object\r\n\r\nWORKAROUND : \r\n\r\n\r\n        String jsonData = gson.toJson(xmpl.getData());\r\n\r\n\t\tMyObjectBean[] objs = gson.fromJson(jsonData,MyObjectBean[].class);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to convert List&lt;?&gt; to List&lt;Object&gt; in java?","body":"<p>How to convert List&lt;?&gt; to List in java?</p>\n<p>For example I have this class</p>\n<pre><code>@Data\npublic class Example {\n private List&lt;?&gt; data;\n}\n</code></pre>\n<p>and I used in this function</p>\n<pre><code>@PostMapping(&quot;/getResult&quot;)\n@ResponseBody\npublic Result getResult(@RequestBody String json) {\n     \n      Gson gson = new Gson();\n      Example xmpl = gson.fromJson(json, Example.class);\n      List&lt;MyObject&gt; source = (List&lt;MyObject&gt;)xmpl.getData(); //==&gt; error\n\n      // get Result\n\n      return result;\n\n}\n</code></pre>\n<p>It will give this error</p>\n<pre><code>  class com.google.gson.internal.LinkedTreeMap cannot be cast to class com.myproject.MyObject\n</code></pre>\n<p>EDITED:</p>\n<p>The real problem is not from converting ? to object, but from converting LinkedTreeMap to the object</p>\n<p>WORKAROUND :</p>\n<pre><code>    String jsonData = gson.toJson(xmpl.getData());\n\n    MyObjectBean[] objs = gson.fromJson(jsonData,MyObjectBean[].class);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562822479,"creation_date":1562822479,"answer_id":56982083,"question_id":56974486,"body_markdown":"This happens when the 3rd transaction starts before the 2nd one commits. \r\nThe effect gets more obvious because JPA doesn&#39;t reload an entity once it is loaded in a session. \r\n\r\nIn order to minimise this problem keep your transaction as short as possible.\r\nAlso make sure you handle optimistic locking exceptions probably by doing a retry in a new transaction.  ","title":"spring jpa crud repository fetching old data from DB in multithreaded environment","body":"<p>This happens when the 3rd transaction starts before the 2nd one commits. \nThe effect gets more obvious because JPA doesn't reload an entity once it is loaded in a session. </p>\n\n<p>In order to minimise this problem keep your transaction as short as possible.\nAlso make sure you handle optimistic locking exceptions probably by doing a retry in a new transaction.  </p>\n"}],"owner":{"account_id":7936946,"reputation":1018,"user_id":5992557,"display_name":"Joyson Rego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56982083,"answer_count":1,"score":0,"last_activity_date":1666596740,"creation_date":1562774117,"question_id":56974486,"body_markdown":"i am running spring boot application with mysql database and kafka as messaging service(did transaction synchronization using chainedKafkaTransactionManager for kafka and mysql) for some asynchronous operations.\r\n  \r\nwhen the multiple messages are coming to kafka listener sometime the old data coming from data base instead of previously data which is commited.\r\n\r\nI am using crud repository and also this case only happens on the multiple messages at a same time \r\n\r\nexample:\r\n   updating one object PERSON which is having name and id; \r\n\r\n1st message will get the object by id and update the name as SAM.\r\n\r\n2nd  message will get the object and updates name as REGO\r\n\r\n3rd message will get the object  then if i check the data it containes SAM as name but in database its having REGO.\r\n\r\nI tried with adding isolation property as read commited in transaction but no luck\r\n\r\n```\r\n// listeners  \r\n\r\n@Autowired\r\nprivate PersonRepository personRepository;\r\n\r\n@Autowired\r\nprivate AddressRepository addressRepository;     \r\n\r\n@KafkaListener(id = &quot;update_name&quot;, topics = &quot;update_name&quot;)\r\n@Transactional(readOnly = false)\r\npublic void updateName(PersonModel personModel) {\r\n    Person person = personRepository.findById(personModel.getId());   \r\n    log.info(&quot;before -&gt; name which is in database : &quot; + person.getName());\r\n    person.setName(personModel.getName());\r\n    person = personRepository.save(person);\r\n    log.info(&quot;after-&gt; name which is in database : &quot; + person.getName());\r\n}\r\n\r\n@KafkaListener(id = &quot;update_name_and_address&quot;, topics = &quot;update_name_and_address&quot;)\r\n@Transactional(readOnly = false)\r\npublic void updateNameAndAddress(PersonModel personModel) {\r\n    Address addr= addressRepository.findById(personModel.getAddresId);    \r\n    addr.setPlace(personModel.getPlace());\r\n    addressRepository.save(addr);\r\n \r\n    updateName(personModel);\r\n}\r\n\r\n// repository\r\npublic interface PersonRepository extends CrudRepository&lt;Person , Integer&gt; {\r\n\r\n}\r\n```\r\nI need latest data from database","title":"spring jpa crud repository fetching old data from DB in multithreaded environment","body":"<p>i am running spring boot application with mysql database and kafka as messaging service(did transaction synchronization using chainedKafkaTransactionManager for kafka and mysql) for some asynchronous operations.</p>\n\n<p>when the multiple messages are coming to kafka listener sometime the old data coming from data base instead of previously data which is commited.</p>\n\n<p>I am using crud repository and also this case only happens on the multiple messages at a same time </p>\n\n<p>example:\n   updating one object PERSON which is having name and id; </p>\n\n<p>1st message will get the object by id and update the name as SAM.</p>\n\n<p>2nd  message will get the object and updates name as REGO</p>\n\n<p>3rd message will get the object  then if i check the data it containes SAM as name but in database its having REGO.</p>\n\n<p>I tried with adding isolation property as read commited in transaction but no luck</p>\n\n<pre><code>// listeners  \n\n@Autowired\nprivate PersonRepository personRepository;\n\n@Autowired\nprivate AddressRepository addressRepository;     \n\n@KafkaListener(id = \"update_name\", topics = \"update_name\")\n@Transactional(readOnly = false)\npublic void updateName(PersonModel personModel) {\n    Person person = personRepository.findById(personModel.getId());   \n    log.info(\"before -&gt; name which is in database : \" + person.getName());\n    person.setName(personModel.getName());\n    person = personRepository.save(person);\n    log.info(\"after-&gt; name which is in database : \" + person.getName());\n}\n\n@KafkaListener(id = \"update_name_and_address\", topics = \"update_name_and_address\")\n@Transactional(readOnly = false)\npublic void updateNameAndAddress(PersonModel personModel) {\n    Address addr= addressRepository.findById(personModel.getAddresId);    \n    addr.setPlace(personModel.getPlace());\n    addressRepository.save(addr);\n\n    updateName(personModel);\n}\n\n// repository\npublic interface PersonRepository extends CrudRepository&lt;Person , Integer&gt; {\n\n}\n</code></pre>\n\n<p>I need latest data from database</p>\n"},{"tags":["java","intellij-idea","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666551083,"post_id":74173569,"comment_id":130958934,"body_markdown":"Do yourself a favour and learn how to use jar at the command line. You can put as many class files as you want in a jar file","body":"Do yourself a favour and learn how to use jar at the command line. You can put as many class files as you want in a jar file"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666552548,"creation_date":1666552548,"answer_id":74174073,"question_id":74173569,"body_markdown":"Take a look at the [docs][1]. It is very well explained.\r\n\r\nExample of how to do this with `jar` commands:\r\n\r\n```\r\njar cvf jar_name.jar YourClassNameComesHere.class\r\n```\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/build.html","title":"Create jar file from single class file","body":"<p>Take a look at the <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">docs</a>. It is very well explained.</p>\n<p>Example of how to do this with <code>jar</code> commands:</p>\n<pre><code>jar cvf jar_name.jar YourClassNameComesHere.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666596315,"creation_date":1666596315,"answer_id":74177763,"question_id":74173569,"body_markdown":"You can use `Create Directory` button in the `Output Layout` tree under `File | Project Structure | Artifacts` to create desired packages in the jar and then use `+ | File`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NNyD3.png\r\n\r\nTo build the artifact please use `Build | Build Artifacts` from the main menu.\r\n\r\nSee https://www.jetbrains.com/help/idea/working-with-artifacts.html for more information.","title":"Create jar file from single class file","body":"<p>You can use <code>Create Directory</code> button in the <code>Output Layout</code> tree under <code>File | Project Structure | Artifacts</code> to create desired packages in the jar and then use <code>+ | File</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/NNyD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNyD3.png\" alt=\"enter image description here\" /></a></p>\n<p>To build the artifact please use <code>Build | Build Artifacts</code> from the main menu.</p>\n<p>See <a href=\"https://www.jetbrains.com/help/idea/working-with-artifacts.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/working-with-artifacts.html</a> for more information.</p>\n"}],"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666596315,"creation_date":1666548447,"question_id":74173569,"body_markdown":"Is there any possibility to create a jar file, not for the entire project, but only for one class file in IntelliJ? In that file, I don&#39;t need all libraries and etc. I need only files with a specific class.","title":"Create jar file from single class file","body":"<p>Is there any possibility to create a jar file, not for the entire project, but only for one class file in IntelliJ? In that file, I don't need all libraries and etc. I need only files with a specific class.</p>\n"},{"tags":["java","gradle","unsupported-class-version","java-runtime-compiler"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1547203516,"post_id":54144042,"comment_id":95121013,"body_markdown":"Related, possibly duplicate: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\" title=\"how to fix java lang unsupportedclassversionerror unsupported major minor versi\">stackoverflow.com/questions/10382929/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1547200779,"creation_date":1547200779,"answer_id":54144163,"question_id":54144042,"body_markdown":"Java 8 doesn&#39;t support quantum computing. You need Java 11 or later.\r\n\r\nJokes aside, the project you&#39;re including [depends](https://github.com/gluonhq/strange/blob/master/pom.xml) on [OpenJFX 11-ea+24](https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX), which requires Java 11.\r\n\r\nGet OpenJDK 11 [here](https://github.com/ojdkbuild/ojdkbuild/releases).\r\n\r\nNote: `UnsupportedClassVersionError` prints a number like `55.0`. [Subtract](https://fabianlee.org/2018/01/19/java-determining-the-java-version-used-to-compile-a-class-class-file-has-the-wrong-version/) `44` from it to determine the needed Java version.","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>Java 8 doesn't support quantum computing. You need Java 11 or later.</p>\n\n<p>Jokes aside, the project you're including <a href=\"https://github.com/gluonhq/strange/blob/master/pom.xml\" rel=\"noreferrer\">depends</a> on <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"noreferrer\">OpenJFX 11-ea+24</a>, which requires Java 11.</p>\n\n<p>Get OpenJDK 11 <a href=\"https://github.com/ojdkbuild/ojdkbuild/releases\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note: <code>UnsupportedClassVersionError</code> prints a number like <code>55.0</code>. <a href=\"https://fabianlee.org/2018/01/19/java-determining-the-java-version-used-to-compile-a-class-class-file-has-the-wrong-version/\" rel=\"noreferrer\">Subtract</a> <code>44</code> from it to determine the needed Java version.</p>\n"},{"tags":[],"owner":{"account_id":22256785,"reputation":101,"user_id":16488841,"display_name":"Happy Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666596096,"creation_date":1666596096,"answer_id":74177735,"question_id":54144042,"body_markdown":"Last week, I updated my Mac&#39;s Android Studio from 2021.2.1 to 2021.3.1. Then our project was built failed for the similar reason: \r\n\r\n&gt; Cause: com/android/tools/idea/gradle/run/OutputBuildAction has been\r\n&gt; compiled by a more recent version of the Java Runtime (class file\r\n&gt; version 55.0), this version of the Java Runtime only recognizes class\r\n&gt; file versions up to 53.0\r\n\r\nI found several discussion on the Jetbrains YouTrack Forum: [Failed to run Android project in the Idea 2020.3 EAP (OutputBuildAction has been compiled by a more recent version of the Java Runtime (class file version 55.0))][1]. The suggested workaround is to update the defined Gradle JDK version to JDK11, but many Android projects don&#39;t support Gradle JDK11, so does mine.\r\n\r\nAnother solution is to downgrade Android Studio from 2021.3.1 to 2021.2.1, and it worked for me. Hope it helps.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-251407/Failed-to-run-Android-project-in-the-Idea-20203-EAP-OutputBuildAction-has-been-compiled-by-a-more-recent-version-of-the-Java","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>Last week, I updated my Mac's Android Studio from 2021.2.1 to 2021.3.1. Then our project was built failed for the similar reason:</p>\n<blockquote>\n<p>Cause: com/android/tools/idea/gradle/run/OutputBuildAction has been\ncompiled by a more recent version of the Java Runtime (class file\nversion 55.0), this version of the Java Runtime only recognizes class\nfile versions up to 53.0</p>\n</blockquote>\n<p>I found several discussion on the Jetbrains YouTrack Forum: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-251407/Failed-to-run-Android-project-in-the-Idea-20203-EAP-OutputBuildAction-has-been-compiled-by-a-more-recent-version-of-the-Java\" rel=\"nofollow noreferrer\">Failed to run Android project in the Idea 2020.3 EAP (OutputBuildAction has been compiled by a more recent version of the Java Runtime (class file version 55.0))</a>. The suggested workaround is to update the defined Gradle JDK version to JDK11, but many Android projects don't support Gradle JDK11, so does mine.</p>\n<p>Another solution is to downgrade Android Studio from 2021.3.1 to 2021.2.1, and it worked for me. Hope it helps.</p>\n"}],"owner":{"account_id":15098547,"reputation":75,"user_id":10896279,"display_name":"Lobotomeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16602,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54144163,"answer_count":2,"score":6,"last_activity_date":1666596096,"creation_date":1547200340,"question_id":54144042,"body_markdown":"I&#39;m very new to Gradle, and I wanted to give a try to this cool project : *Strange*, a Quantum Computing API for Java (I&#39;ll leave a link to the github project below). \r\nThey recommend using Gradle, so I did.\r\n\r\nIn the directory I&#39;m working on, there&#39;s only 3 files : \r\n\r\n 1. My java main class **HelloStrangeWorld.java**,\r\n 2. **build.gradle**,\r\n 3. and **settings.gradle**\r\n\r\n  \r\n\r\nNow I just wanted to test, in my directory, the command :\r\n\r\n    $ gradle tasks\r\n\r\nAnd I got this :\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\njava.lang.UnsupportedClassVersionError: org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n&gt; org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n***What I have :***\r\n-------------------\r\n\r\n - My Java is set on 1.8 \r\n\r\n - I installed Graddle using SDKMAN\r\n\r\nThe content of **build.gradle** is the following : \r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.2.1&#39;\r\n    }\r\n    \r\n    group &#39;helloStrangeWorld&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile &#39;com.gluonhq:strange:0.0.5&#39;\r\n    }\r\n    \r\n    mainClassName = &#39;HelloStrangeWorld&#39;\r\n\r\nThe content of my main class is the following :\r\n\r\n\r\n    import com.gluonhq.strange.*;\r\n    import com.gluonhq.strange.gate.*;\r\n    import com.gluonhq.strange.local.SimpleQuantumExecutionEnvironment;\r\n    import java.util.Arrays;\r\n    \r\n    public class HelloStrangeWorld {\r\n    \r\n        public static void main(String[] args) {\r\n            Program p = new Program(2);\r\n            Step s = new Step();\r\n            s.addGate(new X(0));\r\n            p.addStep(s);\r\n            Step t = new Step();\r\n            t.addGate(new Hadamard(0));\r\n            t.addGate(new X(1));\r\n            p.addStep(t);\r\n            SimpleQuantumExecutionEnvironment sqee = new SimpleQuantumExecutionEnvironment();\r\n            Result res = sqee.runProgram(p);\r\n            Qubit[] qubits = res.getQubits();\r\n            Arrays.asList(qubits).forEach(q -&gt; System.out.println(&quot;qubit with probability on 1 = &quot;+q.getProbability()+&quot;, measured it gives &quot;+ q.measure()));\r\n        }\r\n    \r\n    }\r\n\r\n***What I&#39;ve tried so far :***\r\n------------------------------\r\n\r\n - I have checked that my JAVA_HOME is setted to my jdk8. I use zsh, so I checked on both .bashrc and .zshrc, and the env variable is setted in both place.\r\n\r\n\r\n - I changed from Java 8 to Java 7, it returns me that Gradle isn&#39;t supposed to work with Java 7. So I went back to Java 8\r\n\r\n - I checked the symbolic links setted in /etc/alternatives and all the java related are pointing to the version 8 of java\r\n\r\n\r\n\r\nAm I missing something obvious about the use of Gradle ?\r\n\r\nThank you\r\n\r\n\r\nHere&#39;s the link for the [Strange project on gitHub][1].\r\n\r\n\r\n  [1]: https://github.com/gluonhq/strange/tree/master","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>I'm very new to Gradle, and I wanted to give a try to this cool project : <em>Strange</em>, a Quantum Computing API for Java (I'll leave a link to the github project below). \nThey recommend using Gradle, so I did.</p>\n\n<p>In the directory I'm working on, there's only 3 files : </p>\n\n<ol>\n<li>My java main class <strong>HelloStrangeWorld.java</strong>,</li>\n<li><strong>build.gradle</strong>,</li>\n<li>and <strong>settings.gradle</strong></li>\n</ol>\n\n<p>Now I just wanted to test, in my directory, the command :</p>\n\n<pre><code>$ gradle tasks\n</code></pre>\n\n<p>And I got this :</p>\n\n<p>FAILURE: Build failed with an exception.\n* What went wrong:\njava.lang.UnsupportedClassVersionError: org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n\n<blockquote>\n  <p>org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n\n<hr>\n\n<h2><strong><em>What I have :</em></strong></h2>\n\n<ul>\n<li><p>My Java is set on 1.8 </p></li>\n<li><p>I installed Graddle using SDKMAN</p></li>\n</ul>\n\n<p>The content of <strong>build.gradle</strong> is the following : </p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.2.1'\n}\n\ngroup 'helloStrangeWorld'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile 'com.gluonhq:strange:0.0.5'\n}\n\nmainClassName = 'HelloStrangeWorld'\n</code></pre>\n\n<p>The content of my main class is the following :</p>\n\n<pre><code>import com.gluonhq.strange.*;\nimport com.gluonhq.strange.gate.*;\nimport com.gluonhq.strange.local.SimpleQuantumExecutionEnvironment;\nimport java.util.Arrays;\n\npublic class HelloStrangeWorld {\n\n    public static void main(String[] args) {\n        Program p = new Program(2);\n        Step s = new Step();\n        s.addGate(new X(0));\n        p.addStep(s);\n        Step t = new Step();\n        t.addGate(new Hadamard(0));\n        t.addGate(new X(1));\n        p.addStep(t);\n        SimpleQuantumExecutionEnvironment sqee = new SimpleQuantumExecutionEnvironment();\n        Result res = sqee.runProgram(p);\n        Qubit[] qubits = res.getQubits();\n        Arrays.asList(qubits).forEach(q -&gt; System.out.println(\"qubit with probability on 1 = \"+q.getProbability()+\", measured it gives \"+ q.measure()));\n    }\n\n}\n</code></pre>\n\n<h2><strong><em>What I've tried so far :</em></strong></h2>\n\n<ul>\n<li><p>I have checked that my JAVA_HOME is setted to my jdk8. I use zsh, so I checked on both .bashrc and .zshrc, and the env variable is setted in both place.</p></li>\n<li><p>I changed from Java 8 to Java 7, it returns me that Gradle isn't supposed to work with Java 7. So I went back to Java 8</p></li>\n<li><p>I checked the symbolic links setted in /etc/alternatives and all the java related are pointing to the version 8 of java</p></li>\n</ul>\n\n<p>Am I missing something obvious about the use of Gradle ?</p>\n\n<p>Thank you</p>\n\n<p>Here's the link for the <a href=\"https://github.com/gluonhq/strange/tree/master\" rel=\"nofollow noreferrer\">Strange project on gitHub</a>.</p>\n"},{"tags":["java","eclipse","hibernate","maven","jpa"],"comments":[{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1414523994,"post_id":26616723,"comment_id":41844648,"body_markdown":"maybe same problem: http://stackoverflow.com/questions/20734540/nosuchmethoderror-in-javax-persistence-table-indexesljavax-persistence-index","body":"maybe same problem: <a href=\"http://stackoverflow.com/questions/20734540/nosuchmethoderror-in-javax-persistence-table-indexesljavax-persistence-index\" title=\"nosuchmethoderror in javax persistence table indexesljavax persistence index\">stackoverflow.com/questions/20734540/&hellip;</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":1,"creation_date":1414524081,"post_id":26616723,"comment_id":41844698,"body_markdown":"@pL4Gu33 I already read that posting.  The question and answer are related to the play framework, which I am not using in this project, so I think this is a different question, unless you can show a specific thing I can do in my eclipse to resolve this error.","body":"@pL4Gu33 I already read that posting.  The question and answer are related to the play framework, which I am not using in this project, so I think this is a different question, unless you can show a specific thing I can do in my eclipse to resolve this error."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1414527439,"post_id":26616723,"comment_id":41846471,"body_markdown":"@pL4Gu33 I just added a note in my posting that toggling the hibernate version can turn the error off and then bring the error back again.  Does this help identify the solution?","body":"@pL4Gu33 I just added a note in my posting that toggling the hibernate version can turn the error off and then bring the error back again.  Does this help identify the solution?"}],"answers":[{"tags":[],"owner":{"account_id":1612399,"reputation":1128,"user_id":1490991,"display_name":"hcura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414685846,"creation_date":1414685846,"answer_id":26658126,"question_id":26616723,"body_markdown":"First you need to figure out which dependency is bringing the wrong JPA. To do this use maven dependency:tree. The output is pretty straightforward and you will be able to determine what to exclude.\r\n\r\nTo exclude do something like this:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\r\n          &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\r\n          &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt; \r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nSorry I can&#39;t help more but with the information you provide, this is all I can do.\r\n\r\nCheers.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>First you need to figure out which dependency is bringing the wrong JPA. To do this use maven dependency:tree. The output is pretty straightforward and you will be able to determine what to exclude.</p>\n\n<p>To exclude do something like this:</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\n  &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\n      &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\n      &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<p>Sorry I can't help more but with the information you provide, this is all I can do.</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":385409,"reputation":978,"user_id":742533,"display_name":"mrjmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415042968,"creation_date":1415042968,"answer_id":26721596,"question_id":26616723,"body_markdown":"I resolved the same issue in my project by excluding the Hibernate ejb3 lib that was included via a transitive dependency.  The dependency from maven dependency:tree was as follows:\r\n\r\n    [INFO] |  +- org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile\r\n    [INFO] |  |  +- org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile\r\n\r\nIn my project, this was originally included in the executable jar my build process produced, via the maven assembly plugin. To exclude this (and other libs), I used the assembly plugin&#39;s dependencySet configuration in src/main/assemble/test-jar-with-dependencies.xml:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n    &lt;id&gt;test-jar-with-dependencies&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\t&lt;dependencySets&gt;\t\r\n\t\t&lt;dependencySet&gt;\r\n\t\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;org.eclipse.persistence&lt;/exclude&gt;\t\t\t\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:hibernate-annotations:jar:3.4.0.GA&lt;/exclude&gt;\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA&lt;/exclude&gt;\t\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:ejb3-persistence&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n\t\t\t&lt;useProjectAttachments&gt;true&lt;/useProjectAttachments&gt;\r\n\t\t\t&lt;unpack&gt;true&lt;/unpack&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependencySet&gt;\r\n\t&lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nHope that helps!\r\n\r\n","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I resolved the same issue in my project by excluding the Hibernate ejb3 lib that was included via a transitive dependency.  The dependency from maven dependency:tree was as follows:</p>\n\n<pre><code>[INFO] |  +- org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile\n[INFO] |  |  +- org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile\n</code></pre>\n\n<p>In my project, this was originally included in the executable jar my build process produced, via the maven assembly plugin. To exclude this (and other libs), I used the assembly plugin's dependencySet configuration in src/main/assemble/test-jar-with-dependencies.xml:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd\"&gt;\n&lt;id&gt;test-jar-with-dependencies&lt;/id&gt;\n&lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n&lt;/formats&gt;\n&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n&lt;dependencySets&gt;    \n    &lt;dependencySet&gt;\n        &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;org.eclipse.persistence&lt;/exclude&gt;          \n            &lt;exclude&gt;org.hibernate:hibernate-annotations:jar:3.4.0.GA&lt;/exclude&gt;\n            &lt;exclude&gt;org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA&lt;/exclude&gt; \n            &lt;exclude&gt;org.hibernate:ejb3-persistence&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n        &lt;useProjectAttachments&gt;true&lt;/useProjectAttachments&gt;\n        &lt;unpack&gt;true&lt;/unpack&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":5383476,"reputation":11,"user_id":4288121,"display_name":"Timmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416842854,"creation_date":1416842854,"answer_id":27108254,"question_id":26616723,"body_markdown":"you can import hibernate-jpa-2.1-api-1.0.0.Final.jar.\r\nit is not ejb3-persistence.jar.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>you can import hibernate-jpa-2.1-api-1.0.0.Final.jar.\nit is not ejb3-persistence.jar.</p>\n"},{"tags":[],"owner":{"account_id":989613,"reputation":146,"user_id":1007285,"display_name":"Denys"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1418243956,"creation_date":1418241787,"answer_id":27409828,"question_id":26616723,"body_markdown":"In my case the culprit was javaee-api and glassfish libs that didn&#39;t support JPA 2.1","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>In my case the culprit was javaee-api and glassfish libs that didn't support JPA 2.1</p>\n"},{"tags":[],"owner":{"account_id":3464204,"reputation":79,"user_id":3232718,"display_name":"sinihong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421787825,"creation_date":1421787825,"answer_id":28055089,"question_id":26616723,"body_markdown":"In case of JBoss7, you should replace the api jar in jboss7/modules/javax/persistence/api with updating module.xml file with the updated jar file. ","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>In case of JBoss7, you should replace the api jar in jboss7/modules/javax/persistence/api with updating module.xml file with the updated jar file. </p>\n"},{"tags":[],"owner":{"account_id":5684044,"reputation":131,"user_id":4494154,"display_name":"James Akim"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1666595287,"creation_date":1422263411,"answer_id":28147230,"question_id":26616723,"body_markdown":"If you are using Jboss 7.1.1, jboss already has `hibernate-jpa-2.0` in its classpath, so during runtime it uses the one in its classpath, not the one you&#39;ve deployed with your app. To point jboss to the version that you want (`hibernate-jpa-2.1`) do the following: \r\n\r\n1. copy `hibernate-jpa-2.1-api-1.0.0.final.jar` to the following directory : `jboss-as-7.1.1.Final/modules/javax/persistence/api/main`\r\n\r\n2. open `module.xml` and change the resource-root as follows : \r\n`resource-root path=&quot;hibernate-jpa-2.1-api-1.0.0.final.jar&quot;`\r\n(pointing it to jpa 2.1)\r\n\r\n3. re-compile and re-deploy your app, then you are good to go.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>If you are using Jboss 7.1.1, jboss already has <code>hibernate-jpa-2.0</code> in its classpath, so during runtime it uses the one in its classpath, not the one you've deployed with your app. To point jboss to the version that you want (<code>hibernate-jpa-2.1</code>) do the following:</p>\n<ol>\n<li><p>copy <code>hibernate-jpa-2.1-api-1.0.0.final.jar</code> to the following directory : <code>jboss-as-7.1.1.Final/modules/javax/persistence/api/main</code></p>\n</li>\n<li><p>open <code>module.xml</code> and change the resource-root as follows :\n<code>resource-root path=&quot;hibernate-jpa-2.1-api-1.0.0.final.jar&quot;</code>\n(pointing it to jpa 2.1)</p>\n</li>\n<li><p>re-compile and re-deploy your app, then you are good to go.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8140816,"reputation":71,"user_id":6131039,"display_name":"Adam Davis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1482339486,"creation_date":1482339486,"answer_id":41268032,"question_id":26616723,"body_markdown":"I spent a lot of time on this.\r\n\r\nFor me, it was the javax.persistence.jar conflicting with hibernate jars.\r\n\r\nI removed the persistence.jar and it started working.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I spent a lot of time on this.</p>\n\n<p>For me, it was the javax.persistence.jar conflicting with hibernate jars.</p>\n\n<p>I removed the persistence.jar and it started working.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36258,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27409828,"answer_count":7,"score":12,"last_activity_date":1666595287,"creation_date":1414523921,"question_id":26616723,"body_markdown":"I am upgrading jpa, hibernate, spring, and jdk to enable the new features from JPA 2.1.  But I am getting the following error:  \r\n  \r\n    java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;  \r\n    \r\nI have read other postings about this, but they do not resolve the error on my machine.  For instance, &lt;a href=&quot;https://stackoverflow.com/questions/22431153/getting-nosuchmethoderror-javax-persistence-table-indexes-while-performing-jp&quot;&gt;SJuan76&#39;s answer to this posting &lt;/a&gt;suggests upgrading to jpa 2.1, but I have set the eclipse jpa project facet to version 2.1 and I have also included `hibernate-jpa-2.1-api` in my pom.xml.  You can read all the versions of the various libraries in the complete pom.xml &lt;a href=&quot;https://jumpshare.com/v/4uC5ssP2AfF7HrW84Roe?b=EKq81LlN7Did4OzmAEOR&quot;&gt;by clicking on this link&lt;/a&gt;.  **What do I need to change in the pom.xml or in the eclipse project to resolve this error?**  \r\n  \r\n**Note: I can get rid of the error by changing the hibernate version in the pom.xml back to `&lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;`, but this defeats the purpose of upgrading.  Does the fact that changing the hibernate version turns the error on and off help us to diagnose the problem?**  \r\n  \r\nIf the problem is multiple jars conflicting with each other, I could use the eclipse type manager to disable one of the jars, but which jar would I look for?  \r\n  \r\nHere is the complete stack trace:  \r\n    \r\n    ERROR ContextLoader - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) [catalina.jar:7.0.42]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262) [na:1.7.0_45]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_45]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_45]\r\n        at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\r\n    Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        ... 21 common frames omitted\r\n    Oct 28, 2014 11:01:16 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n    Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936)\r\n        at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824)\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788)\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742)\r\n        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410)\r\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)\r\n        at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n    ... 21 more\r\n","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I am upgrading jpa, hibernate, spring, and jdk to enable the new features from JPA 2.1.  But I am getting the following error:  </p>\n\n<pre><code>java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;  \n</code></pre>\n\n<p>I have read other postings about this, but they do not resolve the error on my machine.  For instance, <a href=\"https://stackoverflow.com/questions/22431153/getting-nosuchmethoderror-javax-persistence-table-indexes-while-performing-jp\">SJuan76's answer to this posting </a>suggests upgrading to jpa 2.1, but I have set the eclipse jpa project facet to version 2.1 and I have also included <code>hibernate-jpa-2.1-api</code> in my pom.xml.  You can read all the versions of the various libraries in the complete pom.xml <a href=\"https://jumpshare.com/v/4uC5ssP2AfF7HrW84Roe?b=EKq81LlN7Did4OzmAEOR\" rel=\"nofollow noreferrer\">by clicking on this link</a>.  <strong>What do I need to change in the pom.xml or in the eclipse project to resolve this error?</strong>  </p>\n\n<p><strong>Note: I can get rid of the error by changing the hibernate version in the pom.xml back to <code>&lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;</code>, but this defeats the purpose of upgrading.  Does the fact that changing the hibernate version turns the error on and off help us to diagnose the problem?</strong>  </p>\n\n<p>If the problem is multiple jars conflicting with each other, I could use the eclipse type manager to disable one of the jars, but which jar would I look for?  </p>\n\n<p>Here is the complete stack trace:  </p>\n\n<pre><code>ERROR ContextLoader - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434) [catalina.jar:7.0.42]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) [catalina.jar:7.0.42]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [na:1.7.0_45]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_45]\n    at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    ... 21 common frames omitted\nOct 28, 2014 11:01:16 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n... 21 more\n</code></pre>\n"},{"tags":["java",".net","exception"],"answers":[{"tags":[],"owner":{"account_id":9969,"reputation":13679,"user_id":18636,"display_name":"Derek Slager"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1222207042,"creation_date":1222207042,"answer_id":124173,"question_id":124143,"body_markdown":"The basic design philosophy of C# is that actually catching exceptions is rarely useful, whereas cleaning up resources in exceptional situations is quite important. I think it&#39;s fair to say that `using` (the IDisposable pattern) is their answer to checked exceptions. See [1] for more.\r\n\r\n1. http://www.artima.com/intv/handcuffs.html","title":"Why are Exceptions not Checked in .NET?","body":"<p>The basic design philosophy of C# is that actually catching exceptions is rarely useful, whereas cleaning up resources in exceptional situations is quite important. I think it's fair to say that <code>using</code> (the IDisposable pattern) is their answer to checked exceptions. See [1] for more.</p>\n\n<ol>\n<li><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">http://www.artima.com/intv/handcuffs.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7042,"reputation":21329,"user_id":12034,"accept_rate":90,"display_name":"noah"},"down_vote_count":3,"up_vote_count":46,"is_accepted":true,"score":43,"last_activity_date":1222207046,"creation_date":1222207046,"answer_id":124175,"question_id":124143,"body_markdown":"Because the response to checked exceptions is almost always:\r\n\r\n    try {\r\n      // exception throwing code\r\n    } catch(Exception e) {\r\n       // either\r\n       log.error(&quot;Error fooing bar&quot;,e);\r\n       // OR\r\n       throw new RuntimeException(e);\r\n    }\r\n\r\nIf you actually know that there is something you can do if a particular exception is thrown, then you can catch it and then handle it, but otherwise it&#39;s just incantations to appease the compiler.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Because the response to checked exceptions is almost always:</p>\n\n<pre><code>try {\n  // exception throwing code\n} catch(Exception e) {\n   // either\n   log.error(\"Error fooing bar\",e);\n   // OR\n   throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>If you actually know that there is something you can do if a particular exception is thrown, then you can catch it and then handle it, but otherwise it's just incantations to appease the compiler.</p>\n"},{"tags":[],"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222207111,"creation_date":1222207111,"answer_id":124180,"question_id":124143,"body_markdown":"I went from Java to C# because of a job change.  At first, I was a little concerned about the difference, but in practice, it hasn&#39;t made a difference.\r\n\r\nMaybe, it&#39;s because I come from C++, which has the exception declaration, but it&#39;s not commonly used.  I write every single line of code as if it could throw -- always use using around Disposable and think about cleanup I should do in finally.\r\n\r\nIn retrospect the propagation of the throws declaration in Java didn&#39;t really get me anything.  \r\n\r\nI would like a way to say that a function definitely never throws -- I think that would be more useful.","title":"Why are Exceptions not Checked in .NET?","body":"<p>I went from Java to C# because of a job change.  At first, I was a little concerned about the difference, but in practice, it hasn't made a difference.</p>\n\n<p>Maybe, it's because I come from C++, which has the exception declaration, but it's not commonly used.  I write every single line of code as if it could throw -- always use using around Disposable and think about cleanup I should do in finally.</p>\n\n<p>In retrospect the propagation of the throws declaration in Java didn't really get me anything.  </p>\n\n<p>I would like a way to say that a function definitely never throws -- I think that would be more useful.</p>\n"},{"tags":[],"owner":{"account_id":10547,"reputation":32116,"user_id":19990,"accept_rate":44,"display_name":"Armin Ronacher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222207611,"creation_date":1222207611,"answer_id":124225,"question_id":124143,"body_markdown":"Additionally to the responses that were written already, not having checked exceptions helps you in many situations a lot.  Checked exceptions make generics harder to implement and if you have read the closure proposals you will notice that every single closure proposal has to work around checked exceptions in a rather ugly way.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Additionally to the responses that were written already, not having checked exceptions helps you in many situations a lot.  Checked exceptions make generics harder to implement and if you have read the closure proposals you will notice that every single closure proposal has to work around checked exceptions in a rather ugly way.</p>\n"},{"tags":[],"owner":{"account_id":10689,"reputation":27648,"user_id":20310,"accept_rate":57,"display_name":"Constantin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1457732870,"creation_date":1222207710,"answer_id":124231,"question_id":124143,"body_markdown":"By the time .NET was designed, Java had checked exceptions for quite some time and this feature was viewed by Java developers at best as &lt;del&gt;[controversial](http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx)&lt;/del&gt; [controversial](https://web.archive.org/web/20081012105853/http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx). Thus .NET designers [chose](http://www.artima.com/intv/handcuffs.html) not to include it in C# language.","title":"Why are Exceptions not Checked in .NET?","body":"<p>By the time .NET was designed, Java had checked exceptions for quite some time and this feature was viewed by Java developers at best as <del><a href=\"http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx\" rel=\"nofollow noreferrer\">controversial</a></del> <a href=\"https://web.archive.org/web/20081012105853/http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx\" rel=\"nofollow noreferrer\">controversial</a>. Thus .NET designers <a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"nofollow noreferrer\">chose</a> not to include it in C# language.</p>\n"},{"tags":[],"owner":{"account_id":3953,"reputation":12996,"user_id":5806,"accept_rate":86,"display_name":"Steve Morgan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310237330,"creation_date":1222208122,"answer_id":124261,"question_id":124143,"body_markdown":"Interestingly, the guys at Microsoft Research have added checked exceptions to [Spec#][1], their superset of C#.\r\n\r\n\r\n  [1]: http://research.microsoft.com/SpecSharp/ &quot;Spec#&quot;","title":"Why are Exceptions not Checked in .NET?","body":"<p>Interestingly, the guys at Microsoft Research have added checked exceptions to <a href=\"http://research.microsoft.com/SpecSharp/\" rel=\"nofollow noreferrer\" title=\"Spec#\">Spec#</a>, their superset of C#.</p>\n"},{"tags":[],"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222209768,"creation_date":1222209768,"answer_id":124368,"question_id":124143,"body_markdown":"I sometimes miss checked exceptions in C#/.NET.\r\n\r\nI suppose besides Java no other notable platform has them. Maybe the .NET guys just went with the flow...","title":"Why are Exceptions not Checked in .NET?","body":"<p>I sometimes miss checked exceptions in C#/.NET.</p>\n\n<p>I suppose besides Java no other notable platform has them. Maybe the .NET guys just went with the flow...</p>\n"},{"tags":[],"owner":{"account_id":4440,"reputation":36218,"user_id":6682,"accept_rate":67,"display_name":"Atif Aziz"},"down_vote_count":1,"up_vote_count":100,"is_accepted":false,"score":99,"last_activity_date":1666593440,"creation_date":1222247054,"answer_id":126122,"question_id":124143,"body_markdown":"In the article [The Trouble with Checked Exceptions][1] and in Anders Hejlsberg&#39;s (designer of the C# language) own voice, there are three main reasons for C# not supporting checked exceptions as they are found and verified in Java:\r\n\r\n  - **Neutral on Checked Exceptions**\r\n\r\n    &gt; “C# is basically silent on the checked\r\n    &gt; exceptions issue. Once a better\r\n    &gt; solution is known—and trust me we\r\n    &gt; continue to think about it—we can go\r\n    &gt; back and actually put something in\r\n    &gt; place.”\r\n\r\n  - **Versioning with Checked Exceptions**\r\n\r\n    &gt; “Adding a new exception to a throws\r\n    &gt; clause in a new version breaks client\r\n    &gt; code. It&#39;s like adding a method to an\r\n    &gt; interface. After you publish an\r\n    &gt; interface, it is for all practical\r\n    &gt; purposes immutable, …”\r\n\r\n    &gt; “It is funny how people think that the\r\n    &gt; important thing about exceptions    is\r\n    &gt; handling them. That is not the\r\n    &gt; important thing about exceptions. In a\r\n    &gt; well-written application there&#39;s a\r\n    &gt; ratio of ten to one, in my opinion, of\r\n    &gt; try finally to try catch. Or in C#,\r\n    &gt; [`using`][2] statements, which are\r\n    &gt; like try finally.”\r\n\r\n  - **Scalability of Checked Exceptions**\r\n\r\n    &gt; “In the small, checked exceptions are\r\n    &gt; very enticing…The trouble\r\n    &gt; begins when you start building big\r\n    &gt; systems where you&#39;re talking to four\r\n    &gt; or five different subsystems. Each\r\n    &gt; subsystem throws four to ten\r\n    &gt; exceptions. Now, each time you walk up\r\n    &gt; the ladder of aggregation, you have\r\n    &gt; this exponential hierarchy below you\r\n    &gt; of exceptions you have to deal with.\r\n    &gt; You end up having to declare 40\r\n    &gt; exceptions that you might throw.…\r\n    &gt; It just balloons out of control.”\r\n\r\nIn his article, “[Why doesn&#39;t C# have exception specifications?][3]”, [Anson Horton][4] (Visual C# Program Manager) also lists the following reasons (see the article for details on each point):\r\n\r\n  - Versioning\r\n  - Productivity and code quality\r\n  - Impracticality of having class author differentiate between \r\n    *checked* and *unchecked* exceptions\r\n  - Difficulty of determining the correct exceptions for interfaces.\r\n\r\nIt is interesting to note that C# does, nonetheless, support documentation of exceptions thrown by a given method via the [`&lt;exception&gt;`][5] tag and the compiler even takes the trouble to verify that the referenced exception type does indeed exist. There is, however, no check made at the call sites or usage of the method.\r\n\r\nYou may also want to look into the [Exception Hunter][6], which is a commerical tool by [Red Gate Software][7], that uses static analysis to determine and report exceptions thrown by a method and which may potentially go uncaught:\r\n\r\n&gt; Exception Hunter is a new analysis\r\n&gt; tool that finds and reports the set of\r\n&gt; possible exceptions your functions\r\n&gt; might throw – before you even ship.\r\n&gt; With it, you can locate unhandled\r\n&gt; exceptions easily and quickly, down to\r\n&gt; the line of code that is throwing the\r\n&gt; exceptions. Once you have the results,\r\n&gt; you can decide which exceptions need\r\n&gt; to be handled (with some exception\r\n&gt; handling code) before you release your\r\n&gt; application into the wild.\r\n\r\n \r\n\r\nFinally, [Bruce Eckel][8], author of [Thinking in Java][9], has an article called, “[Does Java need Checked Exceptions?][10]”, that may be worth reading up as well because the question of why checked exceptions are not there in C# usually takes root in comparisons to Java.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/handcuffs.html\r\n  [2]: http://msdn.microsoft.com/en-us/library/aa664736.aspx\r\n  [3]: http://msdn.microsoft.com/en-us/vcsharp/aa336812.aspx\r\n  [4]: http://blogs.msdn.com/ansonh/\r\n  [5]: http://msdn.microsoft.com/en-us/library/w1htk11d.aspx\r\n  [6]: http://www.red-gate.com/products/exception_hunter/index.htm\r\n  [7]: http://www.red-gate.com/\r\n  [8]: https://www.mindviewllc.com/about/\r\n  [9]: https://www.amazon.com/Thinking-Java-4th-Bruce-Eckel/dp/0131872486/\r\n  [10]: https://web.archive.org/web/20180516002915/http://www.mindview.net/Etc/Discussions/CheckedExceptions","title":"Why are Exceptions not Checked in .NET?","body":"<p>In the article <a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"nofollow noreferrer\">The Trouble with Checked Exceptions</a> and in Anders Hejlsberg's (designer of the C# language) own voice, there are three main reasons for C# not supporting checked exceptions as they are found and verified in Java:</p>\n<ul>\n<li><p><strong>Neutral on Checked Exceptions</strong></p>\n<blockquote>\n<p>“C# is basically silent on the checked\nexceptions issue. Once a better\nsolution is known—and trust me we\ncontinue to think about it—we can go\nback and actually put something in\nplace.”</p>\n</blockquote>\n</li>\n<li><p><strong>Versioning with Checked Exceptions</strong></p>\n<blockquote>\n<p>“Adding a new exception to a throws\nclause in a new version breaks client\ncode. It's like adding a method to an\ninterface. After you publish an\ninterface, it is for all practical\npurposes immutable, …”</p>\n</blockquote>\n<blockquote>\n<p>“It is funny how people think that the\nimportant thing about exceptions    is\nhandling them. That is not the\nimportant thing about exceptions. In a\nwell-written application there's a\nratio of ten to one, in my opinion, of\ntry finally to try catch. Or in C#,\n<a href=\"http://msdn.microsoft.com/en-us/library/aa664736.aspx\" rel=\"nofollow noreferrer\"><code>using</code></a> statements, which are\nlike try finally.”</p>\n</blockquote>\n</li>\n<li><p><strong>Scalability of Checked Exceptions</strong></p>\n<blockquote>\n<p>“In the small, checked exceptions are\nvery enticing…The trouble\nbegins when you start building big\nsystems where you're talking to four\nor five different subsystems. Each\nsubsystem throws four to ten\nexceptions. Now, each time you walk up\nthe ladder of aggregation, you have\nthis exponential hierarchy below you\nof exceptions you have to deal with.\nYou end up having to declare 40\nexceptions that you might throw.…\nIt just balloons out of control.”</p>\n</blockquote>\n</li>\n</ul>\n<p>In his article, “<a href=\"http://msdn.microsoft.com/en-us/vcsharp/aa336812.aspx\" rel=\"nofollow noreferrer\">Why doesn't C# have exception specifications?</a>”, <a href=\"http://blogs.msdn.com/ansonh/\" rel=\"nofollow noreferrer\">Anson Horton</a> (Visual C# Program Manager) also lists the following reasons (see the article for details on each point):</p>\n<ul>\n<li>Versioning</li>\n<li>Productivity and code quality</li>\n<li>Impracticality of having class author differentiate between\n<em>checked</em> and <em>unchecked</em> exceptions</li>\n<li>Difficulty of determining the correct exceptions for interfaces.</li>\n</ul>\n<p>It is interesting to note that C# does, nonetheless, support documentation of exceptions thrown by a given method via the <a href=\"http://msdn.microsoft.com/en-us/library/w1htk11d.aspx\" rel=\"nofollow noreferrer\"><code>&lt;exception&gt;</code></a> tag and the compiler even takes the trouble to verify that the referenced exception type does indeed exist. There is, however, no check made at the call sites or usage of the method.</p>\n<p>You may also want to look into the <a href=\"http://www.red-gate.com/products/exception_hunter/index.htm\" rel=\"nofollow noreferrer\">Exception Hunter</a>, which is a commerical tool by <a href=\"http://www.red-gate.com/\" rel=\"nofollow noreferrer\">Red Gate Software</a>, that uses static analysis to determine and report exceptions thrown by a method and which may potentially go uncaught:</p>\n<blockquote>\n<p>Exception Hunter is a new analysis\ntool that finds and reports the set of\npossible exceptions your functions\nmight throw – before you even ship.\nWith it, you can locate unhandled\nexceptions easily and quickly, down to\nthe line of code that is throwing the\nexceptions. Once you have the results,\nyou can decide which exceptions need\nto be handled (with some exception\nhandling code) before you release your\napplication into the wild.</p>\n</blockquote>\n<p>Finally, <a href=\"https://www.mindviewllc.com/about/\" rel=\"nofollow noreferrer\">Bruce Eckel</a>, author of <a href=\"https://rads.stackoverflow.com/amzn/click/com/0131872486\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Thinking in Java</a>, has an article called, “<a href=\"https://web.archive.org/web/20180516002915/http://www.mindview.net/Etc/Discussions/CheckedExceptions\" rel=\"nofollow noreferrer\">Does Java need Checked Exceptions?</a>”, that may be worth reading up as well because the question of why checked exceptions are not there in C# usually takes root in comparisons to Java.</p>\n"},{"tags":[],"owner":{"account_id":1589,"reputation":17992,"user_id":2131,"accept_rate":100,"display_name":"DrPizza"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430384729,"creation_date":1222559222,"answer_id":144777,"question_id":124143,"body_markdown":"Fundamentally, whether an exception should be handled or not is a property of the _caller_, rather than of the function.\r\n\r\nFor example, in some programs there is no value in handling an IOException (consider ad hoc command-line utilities to perform data crunching; they&#39;re never going to be used by a &quot;user&quot;, they&#39;re specialist tools used by specialist people). In some programs, there is value in handling an IOException at a point &quot;near&quot; to the call (perhaps if you get a FNFE for your config file you&#39;ll drop back to some defaults, or look in another location, or something of that nature). In other programs, you want it to bubble up a long way before it&#39;s handled (for example you might want it to abort until it reaches the UI, at which point it should alert the user that something has gone wrong.\r\n\r\nEach of these cases is dependent on the _application_, and not the _library_. And yet, with checked exceptions, it is the _library_ that makes the decision. The Java IO library makes the decision that it will use checked exceptions (which strongly encourage handling that&#39;s local to the call) when in some programs a better strategy may be non-local handling, or no handling at all.\r\n\r\nThis shows the real flaw with checked exceptions in practice, and it&#39;s far more fundamental than the superficial (although also important) flaw that too many people will write stupid exception handlers just to make the compiler shut up. The problem I describe is an issue even when experienced, conscientious developers are writing the program.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Fundamentally, whether an exception should be handled or not is a property of the <em>caller</em>, rather than of the function.</p>\n\n<p>For example, in some programs there is no value in handling an IOException (consider ad hoc command-line utilities to perform data crunching; they're never going to be used by a \"user\", they're specialist tools used by specialist people). In some programs, there is value in handling an IOException at a point \"near\" to the call (perhaps if you get a FNFE for your config file you'll drop back to some defaults, or look in another location, or something of that nature). In other programs, you want it to bubble up a long way before it's handled (for example you might want it to abort until it reaches the UI, at which point it should alert the user that something has gone wrong.</p>\n\n<p>Each of these cases is dependent on the <em>application</em>, and not the <em>library</em>. And yet, with checked exceptions, it is the <em>library</em> that makes the decision. The Java IO library makes the decision that it will use checked exceptions (which strongly encourage handling that's local to the call) when in some programs a better strategy may be non-local handling, or no handling at all.</p>\n\n<p>This shows the real flaw with checked exceptions in practice, and it's far more fundamental than the superficial (although also important) flaw that too many people will write stupid exception handlers just to make the compiler shut up. The problem I describe is an issue even when experienced, conscientious developers are writing the program.</p>\n"},{"tags":[],"owner":{"account_id":564431,"reputation":21,"user_id":122086,"display_name":"HomieG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244820043,"creation_date":1244820043,"answer_id":987246,"question_id":124143,"body_markdown":"Anders himself answers that question in [this episode][1] of the Software engineering radio podcast\r\n\r\n\r\n  [1]: http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg","title":"Why are Exceptions not Checked in .NET?","body":"<p>Anders himself answers that question in <a href=\"http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg\" rel=\"nofollow noreferrer\">this episode</a> of the Software engineering radio podcast</p>\n"}],"owner":{"account_id":26309,"reputation":2311,"user_id":68336,"accept_rate":88,"display_name":"Enrico Murru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10517,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":124175,"answer_count":10,"score":42,"last_activity_date":1666593440,"creation_date":1222206744,"question_id":124143,"body_markdown":"I know Googling I can find an appropriate answer, but I prefer listening to your personal (and maybe technical) opinions.&lt;br/&gt;\r\n**What is the main reason of the difference between Java and C# in throwing exceptions?**&lt;br/&gt;\r\nIn Java the signature of a method that throws an exception has to use the &quot;throws&quot; keyword, while in C# you don&#39;t know in compilation time if an exception could be thrown.\r\n","title":"Why are Exceptions not Checked in .NET?","body":"<p>I know Googling I can find an appropriate answer, but I prefer listening to your personal (and maybe technical) opinions.<br/>\n<strong>What is the main reason of the difference between Java and C# in throwing exceptions?</strong><br/>\nIn Java the signature of a method that throws an exception has to use the \"throws\" keyword, while in C# you don't know in compilation time if an exception could be thrown.</p>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1666359330,"post_id":74154453,"comment_id":130924866,"body_markdown":"Seems your have put the wrong tag","body":"Seems your have put the wrong tag"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666458086,"creation_date":1666458086,"answer_id":74165470,"question_id":74154453,"body_markdown":"You may consider another library _Josson_. Just one function `keys()` can do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;   \\&quot;ALPHA\\&quot;:[&quot; +\r\n        &quot;      1,2,3,4&quot; +\r\n        &quot;   ],&quot; +\r\n        &quot;   \\&quot;BETA\\&quot;:[&quot; +\r\n        &quot;     5,6,7&quot; +\r\n        &quot;   ],&quot; +\r\n        &quot;   \\&quot;GAMMA\\&quot;:[&quot; +\r\n        &quot;     8,9&quot; +\r\n        &quot;   ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;keys()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ &quot;ALPHA&quot;, &quot;BETA&quot;, &quot;GAMMA&quot; ]","title":"Accesing only key names of json using jsonPath","body":"<p>You may consider another library <em>Josson</em>. Just one function <code>keys()</code> can do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;   \\&quot;ALPHA\\&quot;:[&quot; +\n    &quot;      1,2,3,4&quot; +\n    &quot;   ],&quot; +\n    &quot;   \\&quot;BETA\\&quot;:[&quot; +\n    &quot;     5,6,7&quot; +\n    &quot;   ],&quot; +\n    &quot;   \\&quot;GAMMA\\&quot;:[&quot; +\n    &quot;     8,9&quot; +\n    &quot;   ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;keys()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ &quot;ALPHA&quot;, &quot;BETA&quot;, &quot;GAMMA&quot; ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6496722,"reputation":123,"user_id":5029103,"display_name":"Ilias Mertzanidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666593077,"creation_date":1666593077,"answer_id":74177325,"question_id":74154453,"body_markdown":"Thanks a lot @Raymond Choi, it should also work. \r\n\r\nBut based on your answer, that I should use the function `keys()`, I search a lit bit more and I found that `jsonPath` indeed has his own function.\r\n\r\nSo the solution to my question is simple:\r\n\r\n`jsonPath(&quot;$.keys())`","title":"Accesing only key names of json using jsonPath","body":"<p>Thanks a lot @Raymond Choi, it should also work.</p>\n<p>But based on your answer, that I should use the function <code>keys()</code>, I search a lit bit more and I found that <code>jsonPath</code> indeed has his own function.</p>\n<p>So the solution to my question is simple:</p>\n<p><code>jsonPath(&quot;$.keys())</code></p>\n"}],"owner":{"account_id":6496722,"reputation":123,"user_id":5029103,"display_name":"Ilias Mertzanidis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74177325,"answer_count":2,"score":0,"last_activity_date":1666593112,"creation_date":1666359176,"question_id":74154453,"body_markdown":"I have a simple question, say I have the following json\r\n\r\n```\r\n{\r\n   &quot;ALPHA&quot;:[\r\n      ....\r\n   ],\r\n   &quot;BETA&quot;:[\r\n     ....\r\n   ],\r\n   &quot;GAMMA&quot;:[\r\n     .....\r\n   ]\r\n}\r\n```\r\n\r\nhow do I access the subroot elements, I mean just the names:  `&quot;ALPHA&quot;,&quot;BETA&quot;,&quot;GAMMA&quot; `using jsonPath? **Be aware that I mean their names not their array!!!**\r\n\r\nI tried ```jsonPath(&quot;$[*]&quot;, ...)``` but it doesn&#39;t work, any sugesstions?","title":"Accesing only key names of json using jsonPath","body":"<p>I have a simple question, say I have the following json</p>\n<pre><code>{\n   &quot;ALPHA&quot;:[\n      ....\n   ],\n   &quot;BETA&quot;:[\n     ....\n   ],\n   &quot;GAMMA&quot;:[\n     .....\n   ]\n}\n</code></pre>\n<p>how do I access the subroot elements, I mean just the names:  <code>&quot;ALPHA&quot;,&quot;BETA&quot;,&quot;GAMMA&quot; </code>using jsonPath? <strong>Be aware that I mean their names not their array!!!</strong></p>\n<p>I tried <code>jsonPath(&quot;$[*]&quot;, ...)</code> but it doesn't work, any sugesstions?</p>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1664918612,"post_id":73953467,"comment_id":130578955,"body_markdown":"Where is your build class located?  Is it a member of `BaseEntity`?  Builders don&#39;t have to be fluent.  It looks like you&#39;re just constructing a `Person` then setting its attributes.  What&#39;s wrong with `person.setId(1);`, `person.setName(&quot;name&quot;);`, etc.?","body":"Where is your build class located?  Is it a member of <code>BaseEntity</code>?  Builders don&#39;t have to be fluent.  It looks like you&#39;re just constructing a <code>Person</code> then setting its attributes.  What&#39;s wrong with <code>person.setId(1);</code>, <code>person.setName(&quot;name&quot;);</code>, etc.?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664921930,"creation_date":1664919869,"answer_id":73953900,"question_id":73953467,"body_markdown":"You can implement the [Builder pattern](https://en.wikipedia.org/wiki/Builder_pattern) by introducing a nested class `Builder` with a set of self-returning methods (i.e. returning an instance of `Builder`) which can be chained in a fluent way.\r\n\r\nMethod `Builder.build()` should return an instance of `Person`.\r\n\r\n***Note*** that you setters of your entities can be `void`.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public class Person extends NamedEntity {\r\n        private String address;\r\n        \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n        \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n        \r\n        public static class Builder {\r\n            private Person person;\r\n    \r\n            public Builder() {\r\n                this.person = new Person();\r\n            }\r\n            \r\n            public Builder name(String name) {\r\n                person.setName(name);\r\n                return this;\r\n            }\r\n    \r\n            public Builder address(String address) {\r\n                person.setAddress(address);\r\n                return this;\r\n            }\r\n    \r\n            public Builder id(Integer id) {\r\n                person.setId(id);\r\n                return this;\r\n            }\r\n    \r\n            public Person build() {\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nPerson person = new Person.Builder()\r\n    .name(&quot;Alice&quot;)\r\n    .address(&quot;Wonderland&quot;)\r\n    .id(1)\r\n    .build();\r\n```\r\n\r\n***Note:*** \r\n* There could be multiple ways to obtain an instance of `Builder`. You can introduce in the `Person` class a static method `builder()` returning a new `Builder`, or static methods like `withName(String)`, `withId(Integer)` might also be handy (*for inspiration have a look at* [`User`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/User.html#withUsername(java.lang.String)) *class from Spring Security*).\r\n* When dialing with immutable objects, `Builder` class should have all the field of the target class duplicated instead of keeping the reference to the target object. And in such case, method `build()` would be responsible for constructing an instance of the target type.","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>You can implement the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder pattern</a> by introducing a nested class <code>Builder</code> with a set of self-returning methods (i.e. returning an instance of <code>Builder</code>) which can be chained in a fluent way.</p>\n<p>Method <code>Builder.build()</code> should return an instance of <code>Person</code>.</p>\n<p><em><strong>Note</strong></em> that you setters of your entities can be <code>void</code>.</p>\n<p>That's how implementation might look like:</p>\n<pre><code>public class Person extends NamedEntity {\n    private String address;\n    \n    public String getAddress() {\n        return address;\n    }\n    \n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    public static class Builder {\n        private Person person;\n\n        public Builder() {\n            this.person = new Person();\n        }\n        \n        public Builder name(String name) {\n            person.setName(name);\n            return this;\n        }\n\n        public Builder address(String address) {\n            person.setAddress(address);\n            return this;\n        }\n\n        public Builder id(Integer id) {\n            person.setId(id);\n            return this;\n        }\n\n        public Person build() {\n            return person;\n        }\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>Person person = new Person.Builder()\n    .name(&quot;Alice&quot;)\n    .address(&quot;Wonderland&quot;)\n    .id(1)\n    .build();\n</code></pre>\n<p><em><strong>Note:</strong></em></p>\n<ul>\n<li>There could be multiple ways to obtain an instance of <code>Builder</code>. You can introduce in the <code>Person</code> class a static method <code>builder()</code> returning a new <code>Builder</code>, or static methods like <code>withName(String)</code>, <code>withId(Integer)</code> might also be handy (<em>for inspiration have a look at</em> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/User.html#withUsername(java.lang.String)\" rel=\"nofollow noreferrer\"><code>User</code></a> <em>class from Spring Security</em>).</li>\n<li>When dialing with immutable objects, <code>Builder</code> class should have all the field of the target class duplicated instead of keeping the reference to the target object. And in such case, method <code>build()</code> would be responsible for constructing an instance of the target type.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11016405,"reputation":55,"user_id":8092128,"display_name":"Witek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664955895,"creation_date":1664955895,"answer_id":73957239,"question_id":73953467,"body_markdown":"Thanks for all the sugestions\r\nI know the builder pattern, but in this particular case is the same workaround as overriding the methods `setId` and `setName`\r\nThe point here is:\r\nit is possible that `setId` method will return the instance of child class the method is called from\r\n\r\nlet&#39;s say I&#39;d like to put a complex object to my builder (why not?):\r\n\r\n    public class Person extends NamedEntity {\r\n        private String address;\r\n    \r\n    ... getters/setters\r\n        \r\n        public Builder builder() {\r\n            return new Builder();\r\n        }\r\n        \r\n        public final static class Builder {\r\n            private final Person person;\r\n            private Long id;\r\n            private String name;\r\n            private String address;\r\n            \r\n            private Builder() { \r\n                this.person = new Person(); \r\n            }\r\n        \r\n            public Builder withId(Long id) {\r\n                person.setId(id);\r\n                return this;\r\n            }\r\n    ..... other setters\r\n            \r\n            public Builder withDto(PersonDTO dto) {\r\n                person\r\n                .setId(dto.getId())\r\n                .setName(dto.getName())\r\n                .setAddress(dto.getAddress()\r\n            }\r\n            \r\n            public Person build() {\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\nas you may guess the `person.setId` returns instance of BaseEntity ","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>Thanks for all the sugestions\nI know the builder pattern, but in this particular case is the same workaround as overriding the methods <code>setId</code> and <code>setName</code>\nThe point here is:\nit is possible that <code>setId</code> method will return the instance of child class the method is called from</p>\n<p>let's say I'd like to put a complex object to my builder (why not?):</p>\n<pre><code>public class Person extends NamedEntity {\n    private String address;\n\n... getters/setters\n    \n    public Builder builder() {\n        return new Builder();\n    }\n    \n    public final static class Builder {\n        private final Person person;\n        private Long id;\n        private String name;\n        private String address;\n        \n        private Builder() { \n            this.person = new Person(); \n        }\n    \n        public Builder withId(Long id) {\n            person.setId(id);\n            return this;\n        }\n..... other setters\n        \n        public Builder withDto(PersonDTO dto) {\n            person\n            .setId(dto.getId())\n            .setName(dto.getName())\n            .setAddress(dto.getAddress()\n        }\n        \n        public Person build() {\n            return person;\n        }\n    }\n}\n</code></pre>\n<p>as you may guess the <code>person.setId</code> returns instance of BaseEntity</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1666593040,"creation_date":1664957427,"answer_id":73957528,"question_id":73953467,"body_markdown":"You can use the same trick as enums (`Enum`), a generic type parameter for the child class.\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity&lt;E extends BaseEntity&lt;E&gt;&gt; implements Serializable {\r\n    \r\n      private Integer id;\r\n      \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n\r\n      protected final E getThis() {\r\n          return this;\r\n      }\r\n\r\n      public E setId(Integer id) {\r\n        this.id = id;\r\n        return getThis();\r\n      }\r\n    }\r\n\r\n    @MappedSuperclass\r\n    public abstract class NamedEntity&lt;E extends NamedEntity&lt;E&gt;&gt; extends BaseEntity&lt;E&gt; {\r\n      private String name;\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public E setName(String name) {\r\n        this.name = name;\r\n        return getThis();\r\n      }\r\n    }\r\n\r\nFor child classes of Person you need not continue with this pattern.\r\n\r\n    @Entity\r\n    public class Person extends NamedEntity&lt;Person&gt; {\r\n      private String address;\r\n    \r\n      public String getAddress() {\r\n        return address;\r\n      }\r\n    \r\n      public Person setAddress(String address) {\r\n        this.address = address;\r\n        return this;\r\n      }\r\n    }\r\n\r\nNow you can do_\r\n\r\n    Person einstein = new Person()\r\n      .setId(76)\r\n      .setName(&quot;Albert&quot;)\r\n      .setAddress(&quot;Princeton, New Jersey&quot;);\r\n\r\nThe alternative is a _Builder_ pattern, however it has the same inheritance problem, and you might end up with *.Builder classes inheriting from parent Builder classes.\r\n\r\nI would even say it is not worth this boiler plate code, just for a fluent API (chained calls). The criteria API for instance does hardly need using created objects, and the passed values for the setters must come from some code too.\r\n\r\nAlso setters implies the classes are _mutable_. It would be much nicer if most fields were immutable. With entity classes unrealistic, but setters are an ugly initialisation. When possible use constructors/builders without setters.\r\n\r\n","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>You can use the same trick as enums (<code>Enum</code>), a generic type parameter for the child class.</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity&lt;E extends BaseEntity&lt;E&gt;&gt; implements Serializable {\n\n  private Integer id;\n  \n  public Integer getId() {\n    return id;\n  }\n\n  protected final E getThis() {\n      return this;\n  }\n\n  public E setId(Integer id) {\n    this.id = id;\n    return getThis();\n  }\n}\n\n@MappedSuperclass\npublic abstract class NamedEntity&lt;E extends NamedEntity&lt;E&gt;&gt; extends BaseEntity&lt;E&gt; {\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public E setName(String name) {\n    this.name = name;\n    return getThis();\n  }\n}\n</code></pre>\n<p>For child classes of Person you need not continue with this pattern.</p>\n<pre><code>@Entity\npublic class Person extends NamedEntity&lt;Person&gt; {\n  private String address;\n\n  public String getAddress() {\n    return address;\n  }\n\n  public Person setAddress(String address) {\n    this.address = address;\n    return this;\n  }\n}\n</code></pre>\n<p>Now you can do_</p>\n<pre><code>Person einstein = new Person()\n  .setId(76)\n  .setName(&quot;Albert&quot;)\n  .setAddress(&quot;Princeton, New Jersey&quot;);\n</code></pre>\n<p>The alternative is a <em>Builder</em> pattern, however it has the same inheritance problem, and you might end up with *.Builder classes inheriting from parent Builder classes.</p>\n<p>I would even say it is not worth this boiler plate code, just for a fluent API (chained calls). The criteria API for instance does hardly need using created objects, and the passed values for the setters must come from some code too.</p>\n<p>Also setters implies the classes are <em>mutable</em>. It would be much nicer if most fields were immutable. With entity classes unrealistic, but setters are an ugly initialisation. When possible use constructors/builders without setters.</p>\n"}],"owner":{"account_id":11016405,"reputation":55,"user_id":8092128,"display_name":"Witek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73957528,"answer_count":3,"score":0,"last_activity_date":1666593040,"creation_date":1664916262,"question_id":73953467,"body_markdown":"I&#39;d like to solve such problem. I have some abstract class and a concrete class with setters that return the instance of that class:\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity implements Serializable {\r\n    \r\n      private Integer id;\r\n      \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n    \r\n      public BaseEntity setId(Integer id) {\r\n        this.id = id;\r\n        return this;\r\n      }\r\n    }\r\n\r\nnext abstract:\r\n\r\n    @MappedSuperclass\r\n    public abstract class NamedEntity extends BaseEntity {\r\n      private String name;\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public NamedEntity setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n      }\r\n    }\r\n\r\nand finally a concrete class:\r\n\r\n    @Entity\r\n    public class Person extends NamedEntity {\r\n      private String address;\r\n    \r\n      public String getAddress() {\r\n        return address;\r\n      }\r\n    \r\n      public void setAddress(String address) {\r\n        this.address = address;\r\n      }\r\n    }\r\n\r\nI&#39;d like to use this kind of builder but in current setup it&#39;s not working due to different return types of parent setters\r\n\r\n      public Person build() {\r\n        Person person = new Person()\r\n            .setId(1);          //return BaseEntity instead of Person\r\n            .setName(&quot;name&quot;)    //returns NamedEntity instead of Person\r\n            .setAddress(&quot;foo&quot;); //return Person!\r\n        return person;\r\n      }\r\n\r\nof course ther&#39;s a workaround with overriden setters but.... can it be done other way using generics?\r\n\r\n      @Override\r\n      public Person setId(Integer id) {\r\n        super.setId(id);\r\n        return this;\r\n      }\r\n      \r\n      @Override\r\n      public Person setName(String name) {\r\n        super.setName(name);\r\n        return this;\r\n      }","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>I'd like to solve such problem. I have some abstract class and a concrete class with setters that return the instance of that class:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n\n  private Integer id;\n  \n  public Integer getId() {\n    return id;\n  }\n\n  public BaseEntity setId(Integer id) {\n    this.id = id;\n    return this;\n  }\n}\n</code></pre>\n<p>next abstract:</p>\n<pre><code>@MappedSuperclass\npublic abstract class NamedEntity extends BaseEntity {\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public NamedEntity setName(String name) {\n    this.name = name;\n    return this;\n  }\n}\n</code></pre>\n<p>and finally a concrete class:</p>\n<pre><code>@Entity\npublic class Person extends NamedEntity {\n  private String address;\n\n  public String getAddress() {\n    return address;\n  }\n\n  public void setAddress(String address) {\n    this.address = address;\n  }\n}\n</code></pre>\n<p>I'd like to use this kind of builder but in current setup it's not working due to different return types of parent setters</p>\n<pre><code>  public Person build() {\n    Person person = new Person()\n        .setId(1);          //return BaseEntity instead of Person\n        .setName(&quot;name&quot;)    //returns NamedEntity instead of Person\n        .setAddress(&quot;foo&quot;); //return Person!\n    return person;\n  }\n</code></pre>\n<p>of course ther's a workaround with overriden setters but.... can it be done other way using generics?</p>\n<pre><code>  @Override\n  public Person setId(Integer id) {\n    super.setId(id);\n    return this;\n  }\n  \n  @Override\n  public Person setName(String name) {\n    super.setName(name);\n    return this;\n  }\n</code></pre>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1666586559,"post_id":74176756,"comment_id":130964041,"body_markdown":"`System.out.println(&quot;Successfully signed up.&quot;)` should be *inside* the `try`, as the last statement. You also need to actually call your validation function, which you are not doing.","body":"<code>System.out.println(&quot;Successfully signed up.&quot;)</code> should be <i>inside</i> the <code>try</code>, as the last statement. You also need to actually call your validation function, which you are not doing."}],"answers":[{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666592592,"creation_date":1666591325,"answer_id":74177135,"question_id":74176756,"body_markdown":"Here is my solution to it, the explanation is already embedded:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class UserSignUp {\r\n\t    public static void main(String[] args) {\r\n\t\t    // No need for two scanners, one scanner can accept multiple (also\r\n\t\t    // multiple-lined) inputs.\r\n\t\t    Scanner in = new Scanner(System.in);\r\n\r\n\t\t    try {\r\n\t\t\t    // Put validation inside the try block.\r\n\t\t\t    // Regarding there are no other use of the variables, it is unnecessary to give\r\n\t\t\t    // the two variables &quot;Method Level Scope&quot; instead of &quot;Block Scope&quot;.\r\n\t\t\t    System.out.print(&quot;Enter your username: &quot;);\r\n\t\t\t    String username = in.nextLine();\r\n\t\t\t    validateUsername(username);\r\n\t\t\t    System.out.print(&quot;Enter your password: &quot;);\r\n\t\t\t    String password = in.nextLine();\r\n\t\t\t    validatePassword(password);\r\n\t\t\t    // Put the println() inside the try block.\r\n\t\t\t    System.out.println(&quot;Successfully signed up.&quot;);\r\n\t\t    } catch (IllegalArgumentException e) {\r\n\t\t\t    System.out.println(e);\r\n\t\t    }\r\n\r\n\t    }\r\n\r\n\t    public static void validateUsername(String username) throws IllegalArgumentException {\r\n\t\t    String pattern = &quot;.+@.+\\\\.com&quot;;\r\n\t\t    // If not matches the pattern,\r\n\t\t    if (!username.matches(pattern)) {\r\n\t\t\t    throw new IllegalArgumentException(&quot;Invalid username.&quot;);\r\n\t\t    }\r\n\t    }\r\n\r\n\t    public static void validatePassword(String password) throws IllegalArgumentException {\r\n\t\t    boolean isUppercase = false;\r\n\t\t    boolean isLowercase = false;\r\n\t\t    boolean isDigit = false;\r\n\t\t    boolean hasSpecialCharacter = false;\r\n\t\t    char ch = &#39;\\0&#39;;\r\n\r\n\t\t    for (int i = 0; i &lt; password.length(); i++) {\r\n\t\t\t    ch = password.charAt(i);\r\n\t\t\t    if (Character.isUpperCase(ch))\r\n\t\t\t\t    isUppercase = true;\r\n\t\t\t    if (Character.isLowerCase(ch))\r\n\t\t\t\t    isLowercase = true;\r\n\t\t\t    if (Character.isDigit(ch))\r\n\t\t\t\t    isDigit = true;\r\n\t\t\t    // ch is already defined as a character.\r\n\t\t\t    if (!Character.isDigit(ch) &amp;&amp; !Character.isLetter(ch))\r\n\t\t\t\t    hasSpecialCharacter = true;\r\n\t\t    }\r\n\r\n\t\t    // Ask for the constraints after read through all characters.\r\n\t\t    if (isUppercase != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\r\n\t\t    else if (isLowercase != true)\r\n\t\t\t    // Fix the error message of lower-case letters.\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\r\n\t\t    else if (isDigit != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\r\n\t\t    else if (hasSpecialCharacter != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\r\n\r\n\t    }\r\n    }\r\n\r\nHope this answer helps and please leave this question as it is as someone might need it, unless there is important changes.","title":"Validating e-mail username and password using try/catch block","body":"<p>Here is my solution to it, the explanation is already embedded:</p>\n<pre><code>import java.util.Scanner;\n\npublic class UserSignUp {\n    public static void main(String[] args) {\n        // No need for two scanners, one scanner can accept multiple (also\n        // multiple-lined) inputs.\n        Scanner in = new Scanner(System.in);\n\n        try {\n            // Put validation inside the try block.\n            // Regarding there are no other use of the variables, it is unnecessary to give\n            // the two variables &quot;Method Level Scope&quot; instead of &quot;Block Scope&quot;.\n            System.out.print(&quot;Enter your username: &quot;);\n            String username = in.nextLine();\n            validateUsername(username);\n            System.out.print(&quot;Enter your password: &quot;);\n            String password = in.nextLine();\n            validatePassword(password);\n            // Put the println() inside the try block.\n            System.out.println(&quot;Successfully signed up.&quot;);\n        } catch (IllegalArgumentException e) {\n            System.out.println(e);\n        }\n\n    }\n\n    public static void validateUsername(String username) throws IllegalArgumentException {\n        String pattern = &quot;.+@.+\\\\.com&quot;;\n        // If not matches the pattern,\n        if (!username.matches(pattern)) {\n            throw new IllegalArgumentException(&quot;Invalid username.&quot;);\n        }\n    }\n\n    public static void validatePassword(String password) throws IllegalArgumentException {\n        boolean isUppercase = false;\n        boolean isLowercase = false;\n        boolean isDigit = false;\n        boolean hasSpecialCharacter = false;\n        char ch = '\\0';\n\n        for (int i = 0; i &lt; password.length(); i++) {\n            ch = password.charAt(i);\n            if (Character.isUpperCase(ch))\n                isUppercase = true;\n            if (Character.isLowerCase(ch))\n                isLowercase = true;\n            if (Character.isDigit(ch))\n                isDigit = true;\n            // ch is already defined as a character.\n            if (!Character.isDigit(ch) &amp;&amp; !Character.isLetter(ch))\n                hasSpecialCharacter = true;\n        }\n\n        // Ask for the constraints after read through all characters.\n        if (isUppercase != true)\n            throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\n        else if (isLowercase != true)\n            // Fix the error message of lower-case letters.\n            throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\n        else if (isDigit != true)\n            throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\n        else if (hasSpecialCharacter != true)\n            throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\n\n    }\n}\n</code></pre>\n<p>Hope this answer helps and please leave this question as it is as someone might need it, unless there is important changes.</p>\n"}],"owner":{"account_id":26713940,"reputation":13,"user_id":20318813,"display_name":"uglyorgans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74177135,"answer_count":1,"score":1,"last_activity_date":1666592592,"creation_date":1666586288,"question_id":74176756,"body_markdown":"I&#39;m trying to write a code that validates an email as a username and a password that has at least one uppercase, one lowercase, and one special character. When I run the program, I&#39;m getting &quot;Successfully signed up.&quot; no matter what I input. I believe my error is in my try/catch block.\r\n\r\n        import java.util.Scanner;\r\n    \r\n        public class UserSignUp {\r\n            public static void main(String[] args) {\r\n                Scanner input1 = new Scanner(System.in);\r\n                Scanner input2 = new Scanner(System.in);\r\n                String username;\r\n                String password;\r\n    \r\n            try {\r\n                System.out.print(&quot;Enter your username: &quot;);\r\n                username = input1.nextLine();\r\n                System.out.print(&quot;Enter your password: &quot;);\r\n                password = input2.nextLine();\r\n            }\r\n            catch (IllegalArgumentException e) {\r\n                System.out.println(e);\r\n            }\r\n            System.out.println(&quot;Successfully signed up.&quot;);\r\n        }\r\n    \r\n        public static void validateUsername(String username) throws IllegalArgumentException {\r\n            String pattern = &quot;.+@.+\\\\.com&quot;;\r\n            if (username.matches(pattern)) {\r\n                throw new IllegalArgumentException(&quot;Invalid username.&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void validatePassword(String password) throws IllegalArgumentException {\r\n            boolean isUppercase = false;\r\n            boolean isLowercase = false;\r\n            boolean isDigit = false;\r\n            boolean hasSpecialCharacter = false;\r\n            char ch = 0;\r\n    \r\n            for (int i = 0; i &lt; password.length(); i++) {\r\n                ch = password.charAt(i);\r\n                if (Character.isUpperCase(ch)) {\r\n                    isUppercase = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\r\n                }\r\n                if (Character.isLowerCase(ch)) {\r\n                    isLowercase = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\r\n                }\r\n                if (Character.isDigit(ch)) {\r\n                    isDigit = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\r\n                }\r\n                if (!Character.isDigit(password.charAt(ch)) &amp;&amp; !Character.isLetter(password.charAt(ch))) {\r\n                    hasSpecialCharacter = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Validating e-mail username and password using try/catch block","body":"<p>I'm trying to write a code that validates an email as a username and a password that has at least one uppercase, one lowercase, and one special character. When I run the program, I'm getting &quot;Successfully signed up.&quot; no matter what I input. I believe my error is in my try/catch block.</p>\n<pre><code>    import java.util.Scanner;\n\n    public class UserSignUp {\n        public static void main(String[] args) {\n            Scanner input1 = new Scanner(System.in);\n            Scanner input2 = new Scanner(System.in);\n            String username;\n            String password;\n\n        try {\n            System.out.print(&quot;Enter your username: &quot;);\n            username = input1.nextLine();\n            System.out.print(&quot;Enter your password: &quot;);\n            password = input2.nextLine();\n        }\n        catch (IllegalArgumentException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;Successfully signed up.&quot;);\n    }\n\n    public static void validateUsername(String username) throws IllegalArgumentException {\n        String pattern = &quot;.+@.+\\\\.com&quot;;\n        if (username.matches(pattern)) {\n            throw new IllegalArgumentException(&quot;Invalid username.&quot;);\n        }\n    }\n\n    public static void validatePassword(String password) throws IllegalArgumentException {\n        boolean isUppercase = false;\n        boolean isLowercase = false;\n        boolean isDigit = false;\n        boolean hasSpecialCharacter = false;\n        char ch = 0;\n\n        for (int i = 0; i &lt; password.length(); i++) {\n            ch = password.charAt(i);\n            if (Character.isUpperCase(ch)) {\n                isUppercase = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\n            }\n            if (Character.isLowerCase(ch)) {\n                isLowercase = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\n            }\n            if (Character.isDigit(ch)) {\n                isDigit = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\n            }\n            if (!Character.isDigit(password.charAt(ch)) &amp;&amp; !Character.isLetter(password.charAt(ch))) {\n                hasSpecialCharacter = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","protocol-buffers","protobuf-java","forward-compatibility"],"answers":[{"tags":[],"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666592364,"creation_date":1666592364,"answer_id":74177240,"question_id":74171099,"body_markdown":"The [Updating a Message Type](https://developers.google.com/protocol-buffers/docs/proto3#updating) section in proto3 language guide says:\r\n\r\n&gt; unrecognized proto3 enum types will be preserved in the message, but how this is represented when the message is deserialized is language-dependent.\r\n\r\nThe [Java Generated Code Reference](https://developers.google.com/protocol-buffers/docs/reference/java-generated#enum) further says:\r\n\r\n&gt; If you are using proto3, it also adds the special value UNRECOGNIZED to the enum type.\r\n\r\nSo it appears this is the way the Java protobuf library is designed to represent unknown enum values.","title":"Protocol Buffers and forward compatibility with enums broken?","body":"<p>The <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#updating\" rel=\"nofollow noreferrer\">Updating a Message Type</a> section in proto3 language guide says:</p>\n<blockquote>\n<p>unrecognized proto3 enum types will be preserved in the message, but how this is represented when the message is deserialized is language-dependent.</p>\n</blockquote>\n<p>The <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java-generated#enum\" rel=\"nofollow noreferrer\">Java Generated Code Reference</a> further says:</p>\n<blockquote>\n<p>If you are using proto3, it also adds the special value UNRECOGNIZED to the enum type.</p>\n</blockquote>\n<p>So it appears this is the way the Java protobuf library is designed to represent unknown enum values.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666592364,"creation_date":1666527732,"question_id":74171099,"body_markdown":"I was looking into protobuf and enum and trying to understand forward compatibility. So I tested the following:   \r\n\r\nI have this proto file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    package com.transport;\r\n    \r\n    message CustomerOptions {\r\n      int32 id = 1;\r\n      TransportOptions transport_option = 2;\r\n    }\r\n    \r\n    enum TransportOptions {\r\n      UNKNOWN = 0;\r\n      CAR = 1;\r\n      BUS = 2;\r\n      TRAIN = 3;\r\n      AIRPLANE = 4;\r\n    }\r\n\r\nWhat I did was save that to a binary file as follows:  \r\n\r\n    CustomerOptions.Builder builder1 = CustomerOptions.newBuilder();\r\n    builder1.setId(1);\r\n    builder1.setTransportOption(Options.TransportOptions.AIRPLANE);\r\n    CustomerOptions options = builder1.build();\r\n    \r\n    FileOutputStream fileOutputStream = new FileOutputStream(&quot;customer_options_message.bin&quot;);\r\n    options.writeTo(fileOutputStream);\r\n\r\nNow what I did was remove a field from the `TransportOptions` in the proto file which now became:  \r\n\r\n    syntax = &quot;proto3&quot;;\r\n    package com.transport;\r\n    \r\n    message CustomerOptions {\r\n      int32 id = 1;\r\n      TransportOptions transport_option = 2;\r\n    }\r\n    \r\n    enum TransportOptions {\r\n      UNKNOWN = 0;\r\n      CAR = 1;\r\n      BUS = 2;\r\n      TRAIN = 3;\r\n    }\r\n\r\nSo now I removed `AIRPLANE`.  \r\n\r\nNow with this new schema I read the binary file that was written before that had `AIRPLANE` as follows:   \r\n\r\n    FileInputStream fileInputStream = new FileInputStream(&quot;customer_options_message.bin&quot;);\r\n    CustomerOptions customerOptions = CustomerOptions.parseFrom(fileInputStream);  \r\n\r\nNow what happens is the following:  \r\n\r\nIf I do:\r\n\r\n    System.out.println(customerOptions.getTransportOption());  \r\n\r\nthis prints:\r\n\r\n&gt; UNRECOGNIZED\r\n\r\nI was expecting that it would print `UKNOWN` i.e that since the code reads an unknown field (`AIRPLANE`) it would use the default value which should be the first one i.e. `UNKNOWN = 0`.   \r\n\r\nWhy is this not the case.  \r\nThe weird is that if I do the following:  \r\n\r\n    System.out.println(customerOptions);  \r\n\r\nI get:  \r\n\r\n&gt; transport_option: UNKNOWN_ENUM_VALUE_TransportOptions_4  \r\n\r\nSo again I see `UNKNOWN` but it seems that the value is `-1` and not `0`.  \r\n\r\nWhat exactly is going on here? How does compatibility work with enums?\r\n\r\n","title":"Protocol Buffers and forward compatibility with enums broken?","body":"<p>I was looking into protobuf and enum and trying to understand forward compatibility. So I tested the following:</p>\n<p>I have this proto file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.transport;\n\nmessage CustomerOptions {\n  int32 id = 1;\n  TransportOptions transport_option = 2;\n}\n\nenum TransportOptions {\n  UNKNOWN = 0;\n  CAR = 1;\n  BUS = 2;\n  TRAIN = 3;\n  AIRPLANE = 4;\n}\n</code></pre>\n<p>What I did was save that to a binary file as follows:</p>\n<pre><code>CustomerOptions.Builder builder1 = CustomerOptions.newBuilder();\nbuilder1.setId(1);\nbuilder1.setTransportOption(Options.TransportOptions.AIRPLANE);\nCustomerOptions options = builder1.build();\n\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;customer_options_message.bin&quot;);\noptions.writeTo(fileOutputStream);\n</code></pre>\n<p>Now what I did was remove a field from the <code>TransportOptions</code> in the proto file which now became:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.transport;\n\nmessage CustomerOptions {\n  int32 id = 1;\n  TransportOptions transport_option = 2;\n}\n\nenum TransportOptions {\n  UNKNOWN = 0;\n  CAR = 1;\n  BUS = 2;\n  TRAIN = 3;\n}\n</code></pre>\n<p>So now I removed <code>AIRPLANE</code>.</p>\n<p>Now with this new schema I read the binary file that was written before that had <code>AIRPLANE</code> as follows:</p>\n<pre><code>FileInputStream fileInputStream = new FileInputStream(&quot;customer_options_message.bin&quot;);\nCustomerOptions customerOptions = CustomerOptions.parseFrom(fileInputStream);  \n</code></pre>\n<p>Now what happens is the following:</p>\n<p>If I do:</p>\n<pre><code>System.out.println(customerOptions.getTransportOption());  \n</code></pre>\n<p>this prints:</p>\n<blockquote>\n<p>UNRECOGNIZED</p>\n</blockquote>\n<p>I was expecting that it would print <code>UKNOWN</code> i.e that since the code reads an unknown field (<code>AIRPLANE</code>) it would use the default value which should be the first one i.e. <code>UNKNOWN = 0</code>.</p>\n<p>Why is this not the case.<br />\nThe weird is that if I do the following:</p>\n<pre><code>System.out.println(customerOptions);  \n</code></pre>\n<p>I get:</p>\n<blockquote>\n<p>transport_option: UNKNOWN_ENUM_VALUE_TransportOptions_4</p>\n</blockquote>\n<p>So again I see <code>UNKNOWN</code> but it seems that the value is <code>-1</code> and not <code>0</code>.</p>\n<p>What exactly is going on here? How does compatibility work with enums?</p>\n"},{"tags":["java","printing","java-print"],"answers":[{"tags":[],"owner":{"account_id":11807716,"reputation":59,"user_id":8639824,"display_name":"Jake N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666592000,"creation_date":1666169924,"answer_id":74122569,"question_id":58381604,"body_markdown":"Please try to filter attributes by JobName class \r\n`(package javax.print.attribute.standard)`.\r\n","title":"File names from print queue java","body":"<p>Please try to filter attributes by JobName class\n<code>(package javax.print.attribute.standard)</code>.</p>\n"}],"owner":{"account_id":2382442,"reputation":2985,"user_id":2084190,"accept_rate":78,"display_name":"Adrian Jandl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666592000,"creation_date":1571074575,"question_id":58381604,"body_markdown":"How can I get the file names in the print queue from Java?\r\nI would like to get all items in the print queue, even those not started through the `PrintJob` API.\r\n\r\nI know that I can use the `PrintService#getAttributes` method to get all Attributes and then check the &quot;queued-job-count&quot; attribute for how many items are in the print queue as seen in [this][1] question.\r\nIs it possible to get the names of the files in the queue?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50367276/2084190","title":"File names from print queue java","body":"<p>How can I get the file names in the print queue from Java?\nI would like to get all items in the print queue, even those not started through the <code>PrintJob</code> API.</p>\n\n<p>I know that I can use the <code>PrintService#getAttributes</code> method to get all Attributes and then check the \"queued-job-count\" attribute for how many items are in the print queue as seen in <a href=\"https://stackoverflow.com/a/50367276/2084190\">this</a> question.\nIs it possible to get the names of the files in the queue?</p>\n"},{"tags":["java","hql","scrollableresults"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":2,"creation_date":1536246116,"post_id":52201728,"comment_id":91363265,"body_markdown":"As from hibernate document,&quot;cast(... as ...), where the second argument is the name of a Hibernate type,&quot; try using &#39;int&#39; instead of INT for type matching","body":"As from hibernate document,&quot;cast(... as ...), where the second argument is the name of a Hibernate type,&quot; try using &#39;int&#39; instead of INT for type matching"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1622387503,"post_id":52201728,"comment_id":119773521,"body_markdown":"... or `CAST(... AS integer)`. Note that Hibernate types are case-sensitive.","body":"... or <code>CAST(... AS integer)</code>. Note that Hibernate types are case-sensitive."}],"answers":[{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631025517,"creation_date":1631025517,"answer_id":69090185,"question_id":52201728,"body_markdown":"please replace \r\n\r\n    CAST(xxxx AS INT)\r\nby\r\n\r\n    CAST(xxxx AS int)\r\n\r\n\r\n","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<p>please replace</p>\n<pre><code>CAST(xxxx AS INT)\n</code></pre>\n<p>by</p>\n<pre><code>CAST(xxxx AS int)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7001893,"reputation":1,"user_id":5367671,"display_name":"tharanga rajapaksha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666591931,"creation_date":1666092276,"answer_id":74110163,"question_id":52201728,"body_markdown":"I also could complete as above.\r\n\r\n    CAST(SUBSTRING(&lt;column name &gt;, -3) AS int)","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<p>I also could complete as above.</p>\n<pre><code>CAST(SUBSTRING(&lt;column name &gt;, -3) AS int)\n</code></pre>\n"}],"owner":{"account_id":12071113,"reputation":113,"user_id":8826447,"display_name":"P.S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11830,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1666591931,"creation_date":1536228706,"question_id":52201728,"body_markdown":"&gt; Caused by: org.hibernate.QueryException: Could not resolve requested\r\n&gt; type for CAST : INT [ SELECT SUBSTRING(referenceComptable , 8, 14) AS\r\n&gt; seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid,\r\n&gt; SUBSTRING(referenceComptable, 1,3) AS journal FROM\r\n&gt; com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\r\n&gt; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \r\n&gt; ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS\r\n&gt; INT) ASC ]\r\n\r\nHQL QUery:\r\n    public ScrollableResults retrieveSequenceNumberForCegidGenerated(){\r\n    \r\n    \t\tStringBuilder queryBuilder = new StringBuilder(&quot; SELECT SUBSTRING(referenceComptable , 8, 14) AS seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid, SUBSTRING(referenceComptable, 1,3) AS journal&quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; FROM EtapeJudiciaireLnkFactureActesHonoraires &quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate &quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS INT) ASC &quot;);\r\n    \r\n    \t\tQuery query = getFilteredCurrentSession().createQuery(queryBuilder.toString());\r\n    \r\n    \t\t//SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tDate date = new Date();\r\n    \r\n    \t\tLocalDate yearIntervalDate = LocalDate.now().minusDays(365);\r\n    \t\tDate dateYearIntervalDate = Date.from(yearIntervalDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n    \r\n    \t\tquery.setParameter(&quot;date&quot;, date);\r\n    \t\tquery.setParameter(&quot;dateYearIntervalDate&quot;, dateYearIntervalDate);\r\n    \r\n    \t\tScrollableResults referenceComptable = query.scroll(ScrollMode.FORWARD_ONLY);\r\n    \t\tquery.setCacheMode(CacheMode.IGNORE)\r\n    \t\t\t .setFetchSize(500);\r\n    \r\n    \t\treturn referenceComptable;\r\n    \t}\r\n\r\nWhen i tried to CAST as INT it didn&#39;y work also. What can be done to cast it ffrom string to integer?\r\n\r\nStack Trace\r\n\r\n&gt; Caused by: org.hibernate.QueryException: Could not resolve requested\r\n&gt; type for CAST : INTEGER [ SELECT SUBSTRING(referenceComptable , 8, 7)\r\n&gt; AS seqNum, SUBSTRING(referenceComptable, 4,4) AS yearCegid,\r\n&gt; SUBSTRING(referenceComptable, 1,3) AS journal FROM\r\n&gt; com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\r\n&gt; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \r\n&gt; ORDER BY CAST(SUBSTRING(referenceComptable , 8, 14) AS INTEGER),\r\n&gt; CAST(SUBSTRING(referenceComptable, 4,7) AS INTEGER), journal ASC ] \tat\r\n&gt; org.hibernate.QueryException.generateQueryException(QueryException.java:120)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:218)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:76)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:298)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1825)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; com.dso.dao.comptabilite.cegid.impl.ReferenceComptableSequenceDAOImpl.retrieveSequenceNumberForCegidGenerated","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<blockquote>\n  <p>Caused by: org.hibernate.QueryException: Could not resolve requested\n  type for CAST : INT [ SELECT SUBSTRING(referenceComptable , 8, 14) AS\n  seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid,\n  SUBSTRING(referenceComptable, 1,3) AS journal FROM\n  com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\n  WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \n  ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS\n  INT) ASC ]</p>\n</blockquote>\n\n<p>HQL QUery:\n    public ScrollableResults retrieveSequenceNumberForCegidGenerated(){</p>\n\n<pre><code>        StringBuilder queryBuilder = new StringBuilder(\" SELECT SUBSTRING(referenceComptable , 8, 14) AS seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid, SUBSTRING(referenceComptable, 1,3) AS journal\")\n                            .append(\" FROM EtapeJudiciaireLnkFactureActesHonoraires \")\n                            .append(\" WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \")\n                            .append(\" ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS INT) ASC \");\n\n        Query query = getFilteredCurrentSession().createQuery(queryBuilder.toString());\n\n        //SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n        Date date = new Date();\n\n        LocalDate yearIntervalDate = LocalDate.now().minusDays(365);\n        Date dateYearIntervalDate = Date.from(yearIntervalDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n\n        query.setParameter(\"date\", date);\n        query.setParameter(\"dateYearIntervalDate\", dateYearIntervalDate);\n\n        ScrollableResults referenceComptable = query.scroll(ScrollMode.FORWARD_ONLY);\n        query.setCacheMode(CacheMode.IGNORE)\n             .setFetchSize(500);\n\n        return referenceComptable;\n    }\n</code></pre>\n\n<p>When i tried to CAST as INT it didn'y work also. What can be done to cast it ffrom string to integer?</p>\n\n<p>Stack Trace</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.QueryException: Could not resolve requested\n  type for CAST : INTEGER [ SELECT SUBSTRING(referenceComptable , 8, 7)\n  AS seqNum, SUBSTRING(referenceComptable, 4,4) AS yearCegid,\n  SUBSTRING(referenceComptable, 1,3) AS journal FROM\n  com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\n  WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \n  ORDER BY CAST(SUBSTRING(referenceComptable , 8, 14) AS INTEGER),\n  CAST(SUBSTRING(referenceComptable, 4,7) AS INTEGER), journal ASC ]    at\n  org.hibernate.QueryException.generateQueryException(QueryException.java:120)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:218)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:115)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:76)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:298)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1825)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  com.dso.dao.comptabilite.cegid.impl.ReferenceComptableSequenceDAOImpl.retrieveSequenceNumberForCegidGenerated</p>\n</blockquote>\n"},{"tags":["java","button","joptionpane"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666591904,"post_id":74177175,"comment_id":130964834,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#JFrame() - call a constructor first","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#JFrame()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/&hellip;</a> - call a constructor first"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666591987,"post_id":74177175,"comment_id":130964851,"body_markdown":"See https://www.guru99.com/java-swing-gui.html for an example","body":"See <a href=\"https://www.guru99.com/java-swing-gui.html\" rel=\"nofollow noreferrer\">guru99.com/java-swing-gui.html</a> for an example"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1666592169,"post_id":74177175,"comment_id":130964882,"body_markdown":"If a correct `main` method is added, where a `MyFirstGUI` instance is created, pressing the button will work and show the message dialog correctly. However, using `null` layout in swing is not advised, use proper [LayoutManagers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) instead. All in all, I would suggest you to work through the basics of the [java swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/) to get the hang of it.","body":"If a correct <code>main</code> method is added, where a <code>MyFirstGUI</code> instance is created, pressing the button will work and show the message dialog correctly. However, using <code>null</code> layout in swing is not advised, use proper <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">LayoutManagers</a> instead. All in all, I would suggest you to work through the basics of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">java swing tutorial</a> to get the hang of it."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1666595921,"post_id":74177175,"comment_id":130965679,"body_markdown":"this code works fine for me when the class `MyFirstGUI` is called from a main method like this:- `new MyFirstGUI().setVisible(true);`","body":"this code works fine for me when the class <code>MyFirstGUI</code> is called from a main method like this:- <code>new MyFirstGUI().setVisible(true);</code>"}],"owner":{"account_id":26272105,"reputation":1,"user_id":19941868,"display_name":"phylansalvador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666591655,"creation_date":1666591655,"question_id":74177175,"body_markdown":"```package basics;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.Color;\r\npublic class MyFirstGUI extends JFrame {\r\n\tpublic MyFirstGUI() {\r\n\t\tgetContentPane().setLayout(null);\r\n\t\t\r\n\t\tJButton btnNewButton = new JButton(&quot;New button&quot;);\r\n\t\tbtnNewButton.setBackground(new Color(255, 155, 62));\r\n\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) { \r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;nice&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnNewButton.setBounds(0, 6, 117, 29);\r\n\t\tgetContentPane().add(btnNewButton);\r\n\t}\r\n\t\r\n}\r\n```\r\nproblem is that button does not give an output when it is pressed. havent tried many solutions since i really dont know where to go with this one. should be noted that im using WindowsBuilder on Eclipse IDE","title":"Trying to showMessageDialog using JOptionPane upon press of a button","body":"<pre><code>import javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.Color;\npublic class MyFirstGUI extends JFrame {\n    public MyFirstGUI() {\n        getContentPane().setLayout(null);\n        \n        JButton btnNewButton = new JButton(&quot;New button&quot;);\n        btnNewButton.setBackground(new Color(255, 155, 62));\n        btnNewButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) { \n                JOptionPane.showMessageDialog(null, &quot;nice&quot;);\n            }\n        });\n        btnNewButton.setBounds(0, 6, 117, 29);\n        getContentPane().add(btnNewButton);\n    }\n    \n}\n</code></pre>\n<p>problem is that button does not give an output when it is pressed. havent tried many solutions since i really dont know where to go with this one. should be noted that im using WindowsBuilder on Eclipse IDE</p>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666591318,"post_id":74177080,"comment_id":130964732,"body_markdown":"Look at the values in result. `&#39;0&#39;` is not the same thing as `0`","body":"Look at the values in result. <code>&#39;0&#39;</code> is not the same thing as <code>0</code>"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666591381,"creation_date":1666591381,"answer_id":74177140,"question_id":74177080,"body_markdown":"\r\nChange `result[i] == 0` to `result[i] == &#39;0&#39;` and it will work\r\n\r\n    public static void displayHeadAndTails(int[] result) {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (result[i] == &#39;0&#39;)\r\n                System.out.print(&quot;H&quot;);\r\n            else System.out.print(&quot;T&quot;);\r\n            if ((i + 1) % 3 == 0)\r\n                System.out.println();\r\n        }\r\n    }\r\n\r\nAlso,it&#39;s better to using `{}` after `if else`","title":"How should I fix this?","body":"<p>Change <code>result[i] == 0</code> to <code>result[i] == '0'</code> and it will work</p>\n<pre><code>public static void displayHeadAndTails(int[] result) {\n    for (int i = 0; i &lt; 9; i++) {\n        if (result[i] == '0')\n            System.out.print(&quot;H&quot;);\n        else System.out.print(&quot;T&quot;);\n        if ((i + 1) % 3 == 0)\n            System.out.println();\n    }\n}\n</code></pre>\n<p>Also,it's better to using <code>{}</code> after <code>if else</code></p>\n"}],"owner":{"account_id":26594629,"reputation":9,"user_id":20217226,"display_name":"user20217226"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666591381,"creation_date":1666590828,"question_id":74177080,"body_markdown":"When I run the program and it asks me to input a number between 0 to 511. I enter 7 it turns out to be \r\n\r\nTTT\r\nTTT\r\nTTT \r\n\r\nbut it should be like this \r\nHHH\r\nHHH\r\nTTT \r\n\r\n\r\n    import java.util.Scanner;\r\n    public class coins {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number between 0 and 511&quot;);\r\n            int number = input.nextInt();\r\n            int[] result = decimalToBinary(number);\r\n            displayHeadAndTails(result);\r\n        }\r\n        public static int[] decimalToBinary(int number) {\r\n            int[] result = new int[9];\r\n            int i = result.length - 1;\r\n            while (number != 0) {\r\n                if (number % 2 == 0) {\r\n                    result[i--] = &#39;0&#39;;\r\n                } else {\r\n                    result[i--] = &#39;1&#39;;\r\n                }\r\n                number /= 2;\r\n            }\r\n            for (int k = i; k &gt;= 0; k--) {\r\n                result[k] = &#39;0&#39;;\r\n            }\r\n            return result;\r\n        }\r\n        public static void displayHeadAndTails(int[] result) {\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                if (result[i] == 0)\r\n                    System.out.print(&quot;H&quot;);\r\n                else System.out.print(&quot;T&quot;);\r\n                if ((i + 1) % 3 == 0)\r\n                System.out.println();\r\n            }\r\n        }\r\n    }","title":"How should I fix this?","body":"<p>When I run the program and it asks me to input a number between 0 to 511. I enter 7 it turns out to be</p>\n<p>TTT\nTTT\nTTT</p>\n<p>but it should be like this\nHHH\nHHH\nTTT</p>\n<pre><code>import java.util.Scanner;\npublic class coins {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter a number between 0 and 511&quot;);\n        int number = input.nextInt();\n        int[] result = decimalToBinary(number);\n        displayHeadAndTails(result);\n    }\n    public static int[] decimalToBinary(int number) {\n        int[] result = new int[9];\n        int i = result.length - 1;\n        while (number != 0) {\n            if (number % 2 == 0) {\n                result[i--] = '0';\n            } else {\n                result[i--] = '1';\n            }\n            number /= 2;\n        }\n        for (int k = i; k &gt;= 0; k--) {\n            result[k] = '0';\n        }\n        return result;\n    }\n    public static void displayHeadAndTails(int[] result) {\n        for (int i = 0; i &lt; 9; i++) {\n            if (result[i] == 0)\n                System.out.print(&quot;H&quot;);\n            else System.out.print(&quot;T&quot;);\n            if ((i + 1) % 3 == 0)\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","ide","m2eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1666592200,"post_id":74175516,"comment_id":130964889,"body_markdown":"You are being asked here whether you trust what is being installed, or generally trust what is being installed, by being offered two checkboxes, of which you must tick one to install it. For details see [here](https://gitlab.eclipse.org/eclipsefdn/it/websites/eclipseide.org/-/issues/11).","body":"You are being asked here whether you trust what is being installed, or generally trust what is being installed, by being offered two checkboxes, of which you must tick one to install it. For details see <a href=\"https://gitlab.eclipse.org/eclipsefdn/it/websites/eclipseide.org/-/issues/11\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666610967,"post_id":74175516,"comment_id":130970479,"body_markdown":"Just click the check box before &quot;Unsigned&quot; and you should be able to proceed.","body":"Just click the check box before &quot;Unsigned&quot; and you should be able to proceed."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667231388,"post_id":74175516,"comment_id":131115778,"body_markdown":"@howlger: Thank you!! I don&#39;t know what might have caused it, it&#39;s been here for a while for me. hopefully it one of the future versions it will be addressed.","body":"@howlger: Thank you!! I don&#39;t know what might have caused it, it&#39;s been here for a while for me. hopefully it one of the future versions it will be addressed."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667231565,"post_id":74175516,"comment_id":131115853,"body_markdown":"@greg-449: Thank you Greg!! I did for both check boxes. I can still install them by &quot;trusting&quot;, however I don&#39;t know what&#39;s missing locally that&#39;s causing this issue.","body":"@greg-449: Thank you Greg!! I did for both check boxes. I can still install them by &quot;trusting&quot;, however I don&#39;t know what&#39;s missing locally that&#39;s causing this issue."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667232422,"post_id":74175516,"comment_id":131116188,"body_markdown":"Nothing is missing, it is just that some plug-ins are built without being digitally signed. Eclipse is just letting you know. It is possible (but very unlikely) that unsigned plug-ins could have been tampered with.","body":"Nothing is missing, it is just that some plug-ins are built without being digitally signed. Eclipse is just letting you know. It is possible (but very unlikely) that unsigned plug-ins could have been tampered with."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667522682,"post_id":74175516,"comment_id":131192518,"body_markdown":"@greg-449: That&#39;s genuinely comforting to know. Thank you!! I hope Eclipse could fix it someday (although it&#39;s still up to the third party whether if they want to get &quot;license&quot; from Eclipse to be trusted.","body":"@greg-449: That&#39;s genuinely comforting to know. Thank you!! I hope Eclipse could fix it someday (although it&#39;s still up to the third party whether if they want to get &quot;license&quot; from Eclipse to be trusted."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667545679,"post_id":74175516,"comment_id":131195956,"body_markdown":"@Omutwar It&#39;s nothing that can be fixed on Eclipse side. Third party have to sign their content with their PGP private key and it&#39;s up to you to trust or not to trust new PGP identities.","body":"@Omutwar It&#39;s nothing that can be fixed on Eclipse side. Third party have to sign their content with their PGP private key and it&#39;s up to you to trust or not to trust new PGP identities."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667706384,"post_id":74175516,"comment_id":131229171,"body_markdown":"@howlger: That&#39;s how I proceeded for now. Thank you for your response!! :)","body":"@howlger: That&#39;s how I proceeded for now. Thank you for your response!! :)"}],"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1666591266,"creation_date":1666568243,"question_id":74175516,"body_markdown":"I don&#39;t know what I may have changed locally, but when I attempted to install update, got this error below: \r\n\r\n\r\n[![Install dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/msi8I.png\r\n\r\n\r\nI was unable to continue, can someone who may be familiar with the root cause show me a way. \r\n\r\nThank you ","title":"Java update issue : &lt;do you trust unassigned content of unassigned origin&gt;","body":"<p>I don't know what I may have changed locally, but when I attempted to install update, got this error below:</p>\n<p><a href=\"https://i.stack.imgur.com/msi8I.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/msi8I.png\" alt=\"Install dialog\" /></a></p>\n<p>I was unable to continue, can someone who may be familiar with the root cause show me a way.</p>\n<p>Thank you</p>\n"},{"tags":["java","google-cloud-platform","hbase","google-cloud-dataflow","google-cloud-bigtable"],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666590901,"creation_date":1666590901,"answer_id":74177086,"question_id":74113597,"body_markdown":"The package [org.apache.hadoop.hbase.client](https://cloud.google.com/bigtable/docs/hbase-client/javadoc/org/apache/hadoop/hbase/client/package-summary) is an [HBase client for Java](https://hbase.apache.org/) while [com.google.cloud.bigtable.data.v2](https://cloud.google.com/java/docs/reference/google-cloud-bigtable/latest/com.google.cloud.bigtable.data.v2) is a Cloud Bigtable data API client.\r\n\r\n[Cloud Bigtable](https://cloud.google.com/bigtable/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-PH-all-en-dr-skws-all-all-trial-e-dr-1009882&amp;utm_content=text-ad-none-none-DEV_c-CRE_468768400460-ADGP_Hybrid%20%7C%20SKWS%20-%20EXA%20%7C%20Txt%20~%20Databases%20~%20Cloud%20Bigtable_big%20data-big%20table-KWID_43700024746630443-kwd-317056130768&amp;userloc_9067371-network_g&amp;utm_term=KW_cloud%20bigtable&amp;gclid=CjwKCAjwzNOaBhAcEiwAD7Tb6DMXmz76h5QOcxkHDmxAbXz5HQmPdJKbReRWJXnCutAEwNnAu2oS3BoCGK0QAvD_BwE&amp;gclsrc=aw.ds) is a NoSQL database but not an open-source project. A connection with Apache HBase library for Java can integrate Cloud Bigtable with [Apache Hadoop](https://hadoop.apache.org/)/Apache Hbase and adapts to existing Apache ecosystem.\r\nApache Hbase is one of the many tools and application that Apache Hadoop included to collect, store, analyze, and manage big data.\r\n\r\nYou can refer to this SO [link](https://stackoverflow.com/questions/24860516/what-it-the-difference-between-hbase-and-bigtable) to view the answers of the question which is related to yours. Also, you may look up to this [documentation](https://cloud.google.com/bigtable/docs/hbase-differences#column_families) for more information about their differences.","title":"What is the difference between to use org.apache.hadoop.hbase.client Vs com.google.cloud.bigtable.data.v2 on dataflow gcp","body":"<p>The package <a href=\"https://cloud.google.com/bigtable/docs/hbase-client/javadoc/org/apache/hadoop/hbase/client/package-summary\" rel=\"nofollow noreferrer\">org.apache.hadoop.hbase.client</a> is an <a href=\"https://hbase.apache.org/\" rel=\"nofollow noreferrer\">HBase client for Java</a> while <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigtable/latest/com.google.cloud.bigtable.data.v2\" rel=\"nofollow noreferrer\">com.google.cloud.bigtable.data.v2</a> is a Cloud Bigtable data API client.</p>\n<p><a href=\"https://cloud.google.com/bigtable/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-PH-all-en-dr-skws-all-all-trial-e-dr-1009882&amp;utm_content=text-ad-none-none-DEV_c-CRE_468768400460-ADGP_Hybrid%20%7C%20SKWS%20-%20EXA%20%7C%20Txt%20%7E%20Databases%20%7E%20Cloud%20Bigtable_big%20data-big%20table-KWID_43700024746630443-kwd-317056130768&amp;userloc_9067371-network_g&amp;utm_term=KW_cloud%20bigtable&amp;gclid=CjwKCAjwzNOaBhAcEiwAD7Tb6DMXmz76h5QOcxkHDmxAbXz5HQmPdJKbReRWJXnCutAEwNnAu2oS3BoCGK0QAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Cloud Bigtable</a> is a NoSQL database but not an open-source project. A connection with Apache HBase library for Java can integrate Cloud Bigtable with <a href=\"https://hadoop.apache.org/\" rel=\"nofollow noreferrer\">Apache Hadoop</a>/Apache Hbase and adapts to existing Apache ecosystem.\nApache Hbase is one of the many tools and application that Apache Hadoop included to collect, store, analyze, and manage big data.</p>\n<p>You can refer to this SO <a href=\"https://stackoverflow.com/questions/24860516/what-it-the-difference-between-hbase-and-bigtable\">link</a> to view the answers of the question which is related to yours. Also, you may look up to this <a href=\"https://cloud.google.com/bigtable/docs/hbase-differences#column_families\" rel=\"nofollow noreferrer\">documentation</a> for more information about their differences.</p>\n"}],"owner":{"account_id":12134091,"reputation":25,"user_id":8860045,"display_name":"masterdevsshm83_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666590901,"creation_date":1666106859,"question_id":74113597,"body_markdown":"There are a difference of perfomance o stability, or long term support maybe ?. I mean is needed migrate hbase api to big table connector apache beam. ","title":"What is the difference between to use org.apache.hadoop.hbase.client Vs com.google.cloud.bigtable.data.v2 on dataflow gcp","body":"<p>There are a difference of perfomance o stability, or long term support maybe ?. I mean is needed migrate hbase api to big table connector apache beam.</p>\n"},{"tags":["java","eclipse","visual-studio-code","lejos-nxj"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666348889,"post_id":74152265,"comment_id":130921258,"body_markdown":"`org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER` is an Eclipse container which would be defined by an Eclipse plug-in.","body":"<code>org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER</code> is an Eclipse container which would be defined by an Eclipse plug-in."},{"owner":{"account_id":20169974,"reputation":1,"user_id":14793017,"display_name":"David Krčm&#225;ř"},"score":0,"creation_date":1666436642,"post_id":74152265,"comment_id":130939526,"body_markdown":"Yes that’s right, it is generated by a plugin. Is there any way I can include it in VS Code?","body":"Yes that’s right, it is generated by a plugin. Is there any way I can include it in VS Code?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666589882,"creation_date":1666589882,"answer_id":74177000,"question_id":74152265,"body_markdown":"In the **JAVA PROJECTS** panel, click the plus sign to the right of `Referenced Libraries` to add a local `.jar` file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zViNw.png","title":"Libraries not imported when editing Eclipse project in VS Code","body":"<p>In the <strong>JAVA PROJECTS</strong> panel, click the plus sign to the right of <code>Referenced Libraries</code> to add a local <code>.jar</code> file.</p>\n<p><a href=\"https://i.stack.imgur.com/zViNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zViNw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20169974,"reputation":1,"user_id":14793017,"display_name":"David Krčm&#225;ř"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666589882,"creation_date":1666347978,"question_id":74152265,"body_markdown":"So, I&#39;ve been trying to edit my Java Eclipse project in VS Code. I installed the &quot;Extension pack for Java&quot; extension and tried to open my projects. Loading .jar files and JavaSE works great, but it seems it cannot load the `&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;`. **Is there any way how to tell VS Code what its value is?**&lt;br&gt;\r\nWhen I open any of my files containing anything from that library, VS Code cannot resolve imports from that library: [screenshot of the import error][1]&lt;br&gt;\r\nHere is how importing anything from java and jar files works:\r\n\r\nMy .classpath file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/ascs-libs.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\nMy .project file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;ASCS-Vehicle&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.lejos.ev3.ldt.leJOSEV3Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.lejos.ev3.ldt.leJOSEV3Nature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t&lt;/natures&gt;\r\n\t&lt;filteredResources&gt;\r\n\t\t&lt;filter&gt;\r\n\t\t\t&lt;id&gt;1666344409294&lt;/id&gt;\r\n\t\t\t&lt;name&gt;&lt;/name&gt;\r\n\t\t\t&lt;type&gt;30&lt;/type&gt;\r\n\t\t\t&lt;matcher&gt;\r\n\t\t\t\t&lt;id&gt;org.eclipse.core.resources.regexFilterMatcher&lt;/id&gt;\r\n\t\t\t\t&lt;arguments&gt;node_modules|\\.git|__CREATED_BY_JAVA_LANGUAGE_SERVER__&lt;/arguments&gt;\r\n\t\t\t&lt;/matcher&gt;\r\n\t\t&lt;/filter&gt;\r\n\t&lt;/filteredResources&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/F3pvG.png","title":"Libraries not imported when editing Eclipse project in VS Code","body":"<p>So, I've been trying to edit my Java Eclipse project in VS Code. I installed the &quot;Extension pack for Java&quot; extension and tried to open my projects. Loading .jar files and JavaSE works great, but it seems it cannot load the <code>&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;</code>. <strong>Is there any way how to tell VS Code what its value is?</strong><br>\nWhen I open any of my files containing anything from that library, VS Code cannot resolve imports from that library: <a href=\"https://i.stack.imgur.com/F3pvG.png\" rel=\"nofollow noreferrer\">screenshot of the import error</a><br>\nHere is how importing anything from java and jar files works:</p>\n<p>My .classpath file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;/&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/ascs-libs.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>My .project file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;ASCS-Vehicle&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.lejos.ev3.ldt.leJOSEV3Builder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.lejos.ev3.ldt.leJOSEV3Nature&lt;/nature&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n    &lt;filteredResources&gt;\n        &lt;filter&gt;\n            &lt;id&gt;1666344409294&lt;/id&gt;\n            &lt;name&gt;&lt;/name&gt;\n            &lt;type&gt;30&lt;/type&gt;\n            &lt;matcher&gt;\n                &lt;id&gt;org.eclipse.core.resources.regexFilterMatcher&lt;/id&gt;\n                &lt;arguments&gt;node_modules|\\.git|__CREATED_BY_JAVA_LANGUAGE_SERVER__&lt;/arguments&gt;\n            &lt;/matcher&gt;\n        &lt;/filter&gt;\n    &lt;/filteredResources&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":["java","macos","gradle"],"comments":[{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":1,"creation_date":1666345325,"post_id":74151682,"comment_id":130920083,"body_markdown":"Withhout really wanting to dive into it, there have been changes to Java over the years that allow less and less dirty hacks. You may be better off just leaving it on that version and letting someone spend time on it that knows more about Java. Or you may consider going to Java 17 which is an LTS version with a far higher adoption than 19 which will soon lose support anyway. If it&#39;s a repo you rarely touch, I&#39;d just go with 17 now and the next LTS (21) when it comes out and there is a need.","body":"Withhout really wanting to dive into it, there have been changes to Java over the years that allow less and less dirty hacks. You may be better off just leaving it on that version and letting someone spend time on it that knows more about Java. Or you may consider going to Java 17 which is an LTS version with a far higher adoption than 19 which will soon lose support anyway. If it&#39;s a repo you rarely touch, I&#39;d just go with 17 now and the next LTS (21) when it comes out and there is a need."},{"owner":{"account_id":9746016,"reputation":1,"user_id":7225993,"display_name":"jimorey"},"score":0,"creation_date":1666345479,"post_id":74151682,"comment_id":130920139,"body_markdown":"@SebastiaanvandenBroek good to know. I did try Java 17 and got the the exact same result. I will switch back to that version though given what you&#39;ve mentioned about LTS.","body":"@SebastiaanvandenBroek good to know. I did try Java 17 and got the the exact same result. I will switch back to that version though given what you&#39;ve mentioned about LTS."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1666346701,"post_id":74151682,"comment_id":130920564,"body_markdown":"https://stackoverflow.com/questions/70756414/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina had a similar error on a version incompatibility between the JRE and Cucumber. In your case it could be an incompatibility between your JRE and some other dependency, like JUnit.","body":"<a href=\"https://stackoverflow.com/questions/70756414/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina\" title=\"java lang reflect inaccessibleobjectexception unable to make field private fina\">stackoverflow.com/questions/70756414/&hellip;</a> had a similar error on a version incompatibility between the JRE and Cucumber. In your case it could be an incompatibility between your JRE and some other dependency, like JUnit."}],"answers":[{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666589523,"creation_date":1666589523,"answer_id":74176964,"question_id":74151682,"body_markdown":"By massive coincidence I actually ran into the issue myself a few days after commenting, and thus had to solve it.\r\n\r\nI had to replace the old Mockito library with the newer &#39;inline&#39; version. This can be found at https://mvnrepository.com/artifact/org.mockito/mockito-inline\r\n\r\nThis version no longer attempts to do things that Java 17 doesn&#39;t allow anymore while trying to create a Mock object.","title":"Reviving an old java repo and getting this error java.lang.reflect.InaccessibleObjectException: Unable to make field private final","body":"<p>By massive coincidence I actually ran into the issue myself a few days after commenting, and thus had to solve it.</p>\n<p>I had to replace the old Mockito library with the newer 'inline' version. This can be found at <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mockito/mockito-inline</a></p>\n<p>This version no longer attempts to do things that Java 17 doesn't allow anymore while trying to create a Mock object.</p>\n"}],"owner":{"account_id":9746016,"reputation":1,"user_id":7225993,"display_name":"jimorey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666589523,"creation_date":1666344995,"question_id":74151682,"body_markdown":"I&#39;m trying to revive an older java repo that needs some changes to be made. I am no java pro by far, but alas it must be done.\r\n\r\nThe repo specifies OpenJDK-14.0.1 and Gradle-6.5 but I have decided to get it running on a newer version of Java and Gradle so that the next poor soul that comes along may have an easier chance of getting setup.\r\n\r\nAs such I&#39;ve gone with OpenJDK-19.0.1 and Gradle-7.5.1 and expectedly there have been some issues.\r\n\r\nOne being the ```compile``` configuration having been removed from Gradle-7.5.1 replaced with ```implementation``` and the second needing to update the version for Lombok to a higher version so I have gone with 1.18.24\r\n\r\nNow the repo builds and 321 of 330 tests pass with 9 failing. This is where I am stuck. All the failing tests are all in the same file and fail because of the same error. Not being a java pro this error doesn&#39;t mean much to me.\r\n\r\nSo my questions is what causes this error in Java and how is it fixed?\r\n\r\nThe error and a stripped back version of the code with only one of the failing tests is supplied below.\r\n\r\n**ERROR**\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @48cf768c\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:136)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:98)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.access$000(EnvironmentVariables.java:34)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.restoreOriginalVariables(EnvironmentVariables.java:82)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.evaluate(EnvironmentVariables.java:73)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor124.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\n**CODE**\r\n```\r\npackage com.pastoralcare.filter;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.contrib.java.lang.system.EnvironmentVariables;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.mock.web.MockHttpServletRequest;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.util.ReflectionTestUtils;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\n\r\nimport com.authenticator.AuthenticationTokenAuthenticator;\r\nimport com.authenticator.InterServiceTokenAuthenticator;\r\nimport com.authorization.CheckStaffPermissions;\r\nimport com.dto.PermissionSetCodeDto;\r\nimport com.model.AuthToken;\r\nimport com.pastoralcare.constant.RestAPIConstants;\r\nimport com.pastoralcare.dto.AuthTokenDto;\r\nimport com.pastoralcare.dto.PermissionSetCodesDto;\r\nimport com.pastoralcare.dto.TokenDto;\r\n\r\n@RunWith(SpringRunner.class)\r\npublic class TokenFilterTest {\r\n\r\n\t@InjectMocks\r\n\tTokenFilter tokenFilter;\r\n\r\n\t@Mock\r\n\tTokenDto tokenDto;\r\n\r\n\t@MockBean\r\n\tFilterChain filterChain;\r\n\r\n\t@Mock\r\n\tPermissionSetCodesDto permissionSetCodesDto;\r\n\r\n\t@Mock\r\n\tAuthTokenDto authTokenDto;\r\n\r\n\t@Mock\r\n\tInterServiceTokenAuthenticator internalAuth;\r\n\r\n\t@Mock\r\n\tAuthenticationTokenAuthenticator authnValidator; \r\n\r\n\t@Mock\r\n\tCheckStaffPermissions checkStaffPermissions; \r\n\r\n\t@Mock\r\n\tAuthToken authToken; \r\n\r\n\t@Mock\r\n\tPermissionSetCodeDto permissionSetCodeDto;\r\n\r\n\tMockHttpServletRequest httpServletRequest = new MockHttpServletRequest();\r\n\tMockHttpServletResponse httpServletResponse = new MockHttpServletResponse();\r\n\r\n\t@Rule\r\n\tpublic final EnvironmentVariables environmentVariables = new EnvironmentVariables();\r\n\r\n\tPermissionSetCodesDto permissionSetsDto;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t//\t\ttokenFilter = new TokenFilter();\r\n\t\ttokenFilter.tokenDto = mock(TokenDto.class);\r\n\r\n\t\tUUID communityId = UUID.randomUUID();\r\n\t\tUUID tenantId = UUID.randomUUID();\r\n\t\ttokenFilter.tokenDto.setTenantId(tenantId);\r\n\t\ttokenFilter.tokenDto.setCommunityId(communityId);\r\n\t\ttokenFilter.tokenDto.setFirstName(&quot;name&quot;);\r\n\t\ttokenFilter.tokenDto.setLastName(&quot;surname&quot;);\r\n\t\ttokenFilter.tokenDto.setTimezoneIanaCode(&quot;UTC&quot;);\r\n\t\t\r\n\t\tReflectionTestUtils.setField(tokenFilter, &quot;interServiceAuthKey&quot;, &quot;8Y419dV49Jw+yeRho5iUIgLErSztNnlWvfmc2vzi8D8=&quot;);\r\n\t\tReflectionTestUtils.setField(tokenFilter, &quot;activeProfile&quot;, &quot;activeProfile&quot;);\r\n\r\n\t\tRequestContextHolder.setRequestAttributes(new ServletRequestAttributes(httpServletRequest));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testDoFilterActuator() throws ServletException, IOException {\r\n\t\thttpServletRequest.setRequestURI(&quot;/actuator/&quot;);\r\n\t\tMockHttpServletResponse mockResp = new MockHttpServletResponse();\r\n\t\tFilterChain mockFilterChain = Mockito.mock(FilterChain.class);\r\n\t\ttokenFilter.doFilter(httpServletRequest, mockResp, mockFilterChain);\r\n\t\tassertEquals(200, mockResp.getStatus());\r\n    }\r\n\r\n}\r\n```","title":"Reviving an old java repo and getting this error java.lang.reflect.InaccessibleObjectException: Unable to make field private final","body":"<p>I'm trying to revive an older java repo that needs some changes to be made. I am no java pro by far, but alas it must be done.</p>\n<p>The repo specifies OpenJDK-14.0.1 and Gradle-6.5 but I have decided to get it running on a newer version of Java and Gradle so that the next poor soul that comes along may have an easier chance of getting setup.</p>\n<p>As such I've gone with OpenJDK-19.0.1 and Gradle-7.5.1 and expectedly there have been some issues.</p>\n<p>One being the <code>compile</code> configuration having been removed from Gradle-7.5.1 replaced with <code>implementation</code> and the second needing to update the version for Lombok to a higher version so I have gone with 1.18.24</p>\n<p>Now the repo builds and 321 of 330 tests pass with 9 failing. This is where I am stuck. All the failing tests are all in the same file and fail because of the same error. Not being a java pro this error doesn't mean much to me.</p>\n<p>So my questions is what causes this error in Java and how is it fixed?</p>\n<p>The error and a stripped back version of the code with only one of the failing tests is supplied below.</p>\n<p><strong>ERROR</strong></p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @48cf768c\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:136)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:98)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.access$000(EnvironmentVariables.java:34)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.restoreOriginalVariables(EnvironmentVariables.java:82)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.evaluate(EnvironmentVariables.java:73)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at jdk.internal.reflect.GeneratedMethodAccessor124.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p><strong>CODE</strong></p>\n<pre><code>package com.pastoralcare.filter;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.contrib.java.lang.system.EnvironmentVariables;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.util.ReflectionTestUtils;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\n\nimport com.authenticator.AuthenticationTokenAuthenticator;\nimport com.authenticator.InterServiceTokenAuthenticator;\nimport com.authorization.CheckStaffPermissions;\nimport com.dto.PermissionSetCodeDto;\nimport com.model.AuthToken;\nimport com.pastoralcare.constant.RestAPIConstants;\nimport com.pastoralcare.dto.AuthTokenDto;\nimport com.pastoralcare.dto.PermissionSetCodesDto;\nimport com.pastoralcare.dto.TokenDto;\n\n@RunWith(SpringRunner.class)\npublic class TokenFilterTest {\n\n    @InjectMocks\n    TokenFilter tokenFilter;\n\n    @Mock\n    TokenDto tokenDto;\n\n    @MockBean\n    FilterChain filterChain;\n\n    @Mock\n    PermissionSetCodesDto permissionSetCodesDto;\n\n    @Mock\n    AuthTokenDto authTokenDto;\n\n    @Mock\n    InterServiceTokenAuthenticator internalAuth;\n\n    @Mock\n    AuthenticationTokenAuthenticator authnValidator; \n\n    @Mock\n    CheckStaffPermissions checkStaffPermissions; \n\n    @Mock\n    AuthToken authToken; \n\n    @Mock\n    PermissionSetCodeDto permissionSetCodeDto;\n\n    MockHttpServletRequest httpServletRequest = new MockHttpServletRequest();\n    MockHttpServletResponse httpServletResponse = new MockHttpServletResponse();\n\n    @Rule\n    public final EnvironmentVariables environmentVariables = new EnvironmentVariables();\n\n    PermissionSetCodesDto permissionSetsDto;\n    \n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        //      tokenFilter = new TokenFilter();\n        tokenFilter.tokenDto = mock(TokenDto.class);\n\n        UUID communityId = UUID.randomUUID();\n        UUID tenantId = UUID.randomUUID();\n        tokenFilter.tokenDto.setTenantId(tenantId);\n        tokenFilter.tokenDto.setCommunityId(communityId);\n        tokenFilter.tokenDto.setFirstName(&quot;name&quot;);\n        tokenFilter.tokenDto.setLastName(&quot;surname&quot;);\n        tokenFilter.tokenDto.setTimezoneIanaCode(&quot;UTC&quot;);\n        \n        ReflectionTestUtils.setField(tokenFilter, &quot;interServiceAuthKey&quot;, &quot;8Y419dV49Jw+yeRho5iUIgLErSztNnlWvfmc2vzi8D8=&quot;);\n        ReflectionTestUtils.setField(tokenFilter, &quot;activeProfile&quot;, &quot;activeProfile&quot;);\n\n        RequestContextHolder.setRequestAttributes(new ServletRequestAttributes(httpServletRequest));\n    }\n\n    @Test\n    public void testDoFilterActuator() throws ServletException, IOException {\n        httpServletRequest.setRequestURI(&quot;/actuator/&quot;);\n        MockHttpServletResponse mockResp = new MockHttpServletResponse();\n        FilterChain mockFilterChain = Mockito.mock(FilterChain.class);\n        tokenFilter.doFilter(httpServletRequest, mockResp, mockFilterChain);\n        assertEquals(200, mockResp.getStatus());\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","rounding","negative-number"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":13,"creation_date":1460459657,"post_id":36571600,"comment_id":60741664,"body_markdown":"nearest integer, means the nearest upper integer. `-1` is greater than `-1.5`.","body":"nearest integer, means the nearest upper integer. <code>-1</code> is greater than <code>-1.5</code>."},{"owner":{"account_id":2088430,"reputation":921,"user_id":1858795,"accept_rate":71,"display_name":"Sujit Singh"},"score":0,"creation_date":1460460436,"post_id":36571600,"comment_id":60742193,"body_markdown":"@Tunki: Shouldn&#39;t there be a mention for same? They just said &quot;nearest integer&quot; not &quot;nearest upper integer&quot;","body":"@Tunki: Shouldn&#39;t there be a mention for same? They just said &quot;nearest integer&quot; not &quot;nearest upper integer&quot;"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1460461028,"post_id":36571600,"comment_id":60742650,"body_markdown":"You can find this in [`RoundingMode.HALF_EVEN`](https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#HALF_EVEN) docs: *This rounding mode is analogous to the rounding policy used for float and double arithmetic in Java.*. Otherwise, refer to [4.2.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3) of the Java spec.","body":"You can find this in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_EVEN</code></a> docs: <i>This rounding mode is analogous to the rounding policy used for float and double arithmetic in Java.</i>. Otherwise, refer to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\" rel=\"nofollow noreferrer\">4.2.3</a> of the Java spec."}],"answers":[{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460460599,"creation_date":1460459802,"answer_id":36571691,"question_id":36571600,"body_markdown":"Rounding mode to round towards negative infinity. If the result is positive, behave as for RoundingMode.`DOWN`; if negative, behave as for `RoundingMode`.UP. Note that this rounding mode never increases the calculated value.\r\nIt is just matter of whole number and its position against number chart. From [here][1] you can see `javadocs`.\r\n \r\n\r\n    public static int round(float a)\r\n\r\nReturns the closest int to the argument, with ties rounding up.\r\n\r\n    Special cases:\r\n\r\n - If the argument is ` NaN`, the result is 0.\r\n - If the argument is negative infinity or any value less than or equal to the value of `Integer.MIN_VALUE`, the result is equal to the value of `Integer.MIN_VALUE`.\r\n - If the argument is positive infinity or any value greater than or equal to the value of `Integer.MAX_VALUE`, the result is equal to the value of `Integer.MAX_VALUE`.\r\n\r\n  \r\n\r\n      Parameters:\r\n\r\na - a floating-point value to be rounded to an integer.\r\n\r\n    Returns:\r\n\r\nthe value of the argument rounded to the nearest int value.\r\nReview this [link too][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>Rounding mode to round towards negative infinity. If the result is positive, behave as for RoundingMode.<code>DOWN</code>; if negative, behave as for <code>RoundingMode</code>.UP. Note that this rounding mode never increases the calculated value.\nIt is just matter of whole number and its position against number chart. From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow\">here</a> you can see <code>javadocs</code>.</p>\n\n<pre><code>public static int round(float a)\n</code></pre>\n\n<p>Returns the closest int to the argument, with ties rounding up.</p>\n\n<pre><code>Special cases:\n</code></pre>\n\n<ul>\n<li>If the argument is <code>NaN</code>, the result is 0.</li>\n<li>If the argument is negative infinity or any value less than or equal to the value of <code>Integer.MIN_VALUE</code>, the result is equal to the value of <code>Integer.MIN_VALUE</code>.</li>\n<li><p>If the argument is positive infinity or any value greater than or equal to the value of <code>Integer.MAX_VALUE</code>, the result is equal to the value of <code>Integer.MAX_VALUE</code>.</p>\n\n<p>Parameters:</p></li>\n</ul>\n\n<p>a - a floating-point value to be rounded to an integer.</p>\n\n<pre><code>Returns:\n</code></pre>\n\n<p>the value of the argument rounded to the nearest int value.\nReview this <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\" rel=\"nofollow\">link too</a></p>\n"},{"tags":[],"owner":{"account_id":1378972,"reputation":25142,"user_id":1312382,"display_name":"Aconcagua"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635862888,"creation_date":1460459961,"answer_id":36571754,"question_id":36571600,"body_markdown":"The problem is that the distance between 1 and 1.5 as well as 1.5 and 2 is exactly the same (0.5). There are several different ways you now could round:\r\n\r\n* always towards positive infinity\r\n* always towards negative infinity\r\n* always towards zero\r\n* always away from zero\r\n* towards nearest odd or even number\r\n* ... (see [Wikipedia][1])\r\n\r\nObviously, both Java and JS opted for the first one (which is not uncommon) while PHP and MySql round away from zero.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Rounding","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>The problem is that the distance between 1 and 1.5 as well as 1.5 and 2 is exactly the same (0.5). There are several different ways you now could round:</p>\n<ul>\n<li>always towards positive infinity</li>\n<li>always towards negative infinity</li>\n<li>always towards zero</li>\n<li>always away from zero</li>\n<li>towards nearest odd or even number</li>\n<li>... (see <a href=\"https://en.wikipedia.org/wiki/Rounding\" rel=\"nofollow noreferrer\">Wikipedia</a>)</li>\n</ul>\n<p>Obviously, both Java and JS opted for the first one (which is not uncommon) while PHP and MySql round away from zero.</p>\n"},{"tags":[],"owner":{"account_id":1247957,"reputation":66653,"user_id":1209018,"accept_rate":79,"display_name":"Rajaprabhu Aravindasamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460460392,"creation_date":1460460392,"answer_id":36571910,"question_id":36571600,"body_markdown":"From the [Ecma script documentation][1],\r\n\r\n&gt; Returns the Number value that is closest to x and is equal to a\r\n&gt; mathematical integer. If two integer Number values are equally close\r\n&gt; to x, then the result is the Number value that is closer to +∞. If x\r\n&gt; is already an integer, the result is x.\r\n\r\nwhere x is the number passed to `Math.round()`.\r\n\r\nSo `Math.round(1.5)` will return 2 hence 2 is closer to +∞ while comparing with 1. Similarly `Math.round(-1.5)` will return -1 hence -1 is closer to +∞ while comparing with -2.\r\n\r\n\r\n\r\n  [1]: http://www.ecma-international.org/ecma-262/5.1/#sec-15.8.2.15","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>From the <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.8.2.15\" rel=\"nofollow\">Ecma script documentation</a>,</p>\n\n<blockquote>\n  <p>Returns the Number value that is closest to x and is equal to a\n  mathematical integer. If two integer Number values are equally close\n  to x, then the result is the Number value that is closer to +∞. If x\n  is already an integer, the result is x.</p>\n</blockquote>\n\n<p>where x is the number passed to <code>Math.round()</code>.</p>\n\n<p>So <code>Math.round(1.5)</code> will return 2 hence 2 is closer to +∞ while comparing with 1. Similarly <code>Math.round(-1.5)</code> will return -1 hence -1 is closer to +∞ while comparing with -2.</p>\n"}],"owner":{"account_id":2088430,"reputation":921,"user_id":1858795,"accept_rate":71,"display_name":"Sujit Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3427,"favorite_count":0,"down_vote_count":10,"up_vote_count":6,"accepted_answer_id":36571691,"answer_count":3,"score":-4,"last_activity_date":1666588130,"creation_date":1460459549,"question_id":36571600,"body_markdown":"Today, I saw this behaviour of Java and Javascript&#39;s Math.round function.\r\n\r\nIt makes 1.40 to 1 as well as -1.40 to -1\r\n\r\nIt makes 1.60 to 2 as well as -1.60 to -2\r\n\r\n**Now, it makes 1.5 to 2.\r\nBut, makes -1.5 to -1.**\r\n\r\nI checked this behaviour in round equivalents of PhP and MySQL as well.\r\nBoth gave results as expected. i.e. round(-1.5) to -2\r\n\r\nEven the [Math.round definition][1] says it should round it to nearest integer.\r\n\r\nWanted to know why is it so?\r\n\r\n\r\n  [1]: http://www.w3schools.com/jsref/jsref_round.asp","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>Today, I saw this behaviour of Java and Javascript's Math.round function.</p>\n<p>It makes 1.40 to 1 as well as -1.40 to -1</p>\n<p>It makes 1.60 to 2 as well as -1.60 to -2</p>\n<p><strong>Now, it makes 1.5 to 2.\nBut, makes -1.5 to -1.</strong></p>\n<p>I checked this behaviour in round equivalents of PhP and MySQL as well.\nBoth gave results as expected. i.e. round(-1.5) to -2</p>\n<p>Even the <a href=\"http://www.w3schools.com/jsref/jsref_round.asp\" rel=\"nofollow noreferrer\">Math.round definition</a> says it should round it to nearest integer.</p>\n<p>Wanted to know why is it so?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1567577557,"post_id":57780908,"comment_id":101998710,"body_markdown":"You could repeat every method, because of *method chaining*. But you don&#39;t need it. For better readablity you shouldn&#39;t repeat any method. Also in some cases it is possible that the second call overwrites the first call.","body":"You could repeat every method, because of <i>method chaining</i>. But you don&#39;t need it. For better readablity you shouldn&#39;t repeat any method. Also in some cases it is possible that the second call overwrites the first call."}],"answers":[{"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567567196,"creation_date":1567566887,"answer_id":57781015,"question_id":57780908,"body_markdown":"Quoting from the documentation:\r\n\r\n&gt; Note that the matchers are considered in order.\r\n\r\nIn your configuration, `/user/**` gets the precedence over `/user/document/**`. So, in both of cases, the second `antMatcher(...)` is never applied.\r\nAnswering your second question (Do I need to call it every time?) - the answer is **NO**. Here is a sample configuration (again from the documentation):\r\n\r\n    http.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t.antMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;).and().formLogin();","title":"What does the authorizeRequests in Spring Security do?","body":"<p>Quoting from the documentation:</p>\n\n<blockquote>\n  <p>Note that the matchers are considered in order.</p>\n</blockquote>\n\n<p>In your configuration, <code>/user/**</code> gets the precedence over <code>/user/document/**</code>. So, in both of cases, the second <code>antMatcher(...)</code> is never applied.\nAnswering your second question (Do I need to call it every time?) - the answer is <strong>NO</strong>. Here is a sample configuration (again from the documentation):</p>\n\n<pre><code>http.authorizeRequests().antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n    .antMatchers(\"/**\").hasRole(\"USER\").and().formLogin();\n</code></pre>\n"}],"owner":{"account_id":3399605,"reputation":967,"user_id":2852193,"accept_rate":43,"display_name":"anathema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15756,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666587870,"creation_date":1567565717,"question_id":57780908,"body_markdown":"I have been experimenting on having a multiple security config for different api endpoint as of the moment I have this configuration:\r\n\r\n\r\n    http\r\n        .antMatcher(&quot;/user/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/user/document/**&quot;).permitAll()\r\n            .and()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .httpBasic();\r\n\r\nthis configuration is working but I am also confused that when I tried to remove the second `authorizeRequests()` (See below). The configuration is also working.\r\n\r\n\r\n    http\r\n        .antMatcher(&quot;/user/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/user/document/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .httpBasic();\r\n\r\n\r\nWhat does this method do? And do I have to call it every time?","title":"What does the authorizeRequests in Spring Security do?","body":"<p>I have been experimenting on having a multiple security config for different api endpoint as of the moment I have this configuration:</p>\n\n<pre><code>http\n    .antMatcher(\"/user/**\")\n    .authorizeRequests()\n        .antMatchers(\"/user/document/**\").permitAll()\n        .and()\n    .authorizeRequests()\n        .anyRequest().authenticated()\n        .and()\n    .httpBasic();\n</code></pre>\n\n<p>this configuration is working but I am also confused that when I tried to remove the second <code>authorizeRequests()</code> (See below). The configuration is also working.</p>\n\n<pre><code>http\n    .antMatcher(\"/user/**\")\n    .authorizeRequests()\n        .antMatchers(\"/user/document/**\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .httpBasic();\n</code></pre>\n\n<p>What does this method do? And do I have to call it every time?</p>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1666255239,"post_id":74135867,"comment_id":130894183,"body_markdown":"With `when(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);` you are trying to mock two methods at on time. Should be `when(webClientBuilder.get()).thenReturn(requestHeadersUriSpec);`. If you have to mock `when(webClientBuilder.build()).then???;` please add an additional mock-Statement.","body":"With <code>when(webClientBuilder.build().get()).thenReturn(requestHeade&zwnj;&#8203;rsUriSpec);</code> you are trying to mock two methods at on time. Should be <code>when(webClientBuilder.get()).thenReturn(requestHeadersUriSpe&zwnj;&#8203;c);</code>. If you have to mock <code>when(webClientBuilder.build()).then???;</code> please add an additional mock-Statement."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666587619,"creation_date":1666587619,"answer_id":74176843,"question_id":74135867,"body_markdown":"Mocking WebClient could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries, ...   \r\n\r\nI would recommend [WireMock](https://wiremock.org/) which provides a very good API for testing web clients. Here are some examples\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(200)\r\n                .withBody(...)\r\n        )\r\n);\r\n```\r\n\r\nYou could easily test both positive and negative scenarios by providing different stubs\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(500)\r\n        )\r\n);\r\n```\r\n\r\nor test retry logic using [Scenarios](https://wiremock.org/docs/stateful-behaviour/) or even simulate timeouts using [Delays](https://wiremock.org/docs/simulating-faults/).\r\n","title":"Unable to Mock WebClient, calls the external API without mocking","body":"<p>Mocking WebClient could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries, ...</p>\n<p>I would recommend <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">WireMock</a> which provides a very good API for testing web clients. Here are some examples</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(200)\n                .withBody(...)\n        )\n);\n</code></pre>\n<p>You could easily test both positive and negative scenarios by providing different stubs</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(500)\n        )\n);\n</code></pre>\n<p>or test retry logic using <a href=\"https://wiremock.org/docs/stateful-behaviour/\" rel=\"nofollow noreferrer\">Scenarios</a> or even simulate timeouts using <a href=\"https://wiremock.org/docs/simulating-faults/\" rel=\"nofollow noreferrer\">Delays</a>.</p>\n"}],"owner":{"account_id":25341942,"reputation":1,"user_id":19160221,"display_name":"Sahal Ghafur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666587619,"creation_date":1666250598,"question_id":74135867,"body_markdown":"I have a service which calls an external API and maps into a list of entities (which is another entity). To create Unit test cases, I have created a json file with the required output and mapped it there.\r\n\r\nThe service had initially used RestTemplate and I was able to mock it easily with the same code but then I had to change it to WebClient to make it synchronous, But now it&#39;s not mocking the WebClient and leads to the external API.\r\n\r\nAny help would be greatly appreciated, I haven&#39;t put out the whole code as I&#39;m facing issues in WebClient specifically, the same unit test had passed when I used RestTemplate\r\n\r\nI understand MockWebServer would be easier but I&#39;m looking for solutions in WebClient if possible\r\n\r\n**EntityService.java**\r\n\r\n    public Mono&lt;List&lt;EntityDTO&gt;&gt; getNumber(String Uri) {\r\n\r\n    return WebClient.builder()\r\n            .baseUrl(Uri)\r\n            .build()\r\n            .get()\r\n            .exchange()\r\n            .flatMap(response -&gt; response.bodyToMono(EntityDTO.class))\r\n            .flatMapMany(dto -&gt; Flux.fromIterable(dto.getEntityDetails()))\r\n            .map(this::getEntityDTO)\r\n            .collectList();}\r\n\r\n**EntityServiceTest.java**\r\n\r\n \r\n\r\n     @Test\r\n     void shouldReturnEntities() throws IOException {\r\n     \tServiceInstance si = mock(ServiceInstance.class);\r\n    \tString exampleRequest =new String(Files.readAllBytes(Paths.get(&quot;entityPath/entitytest.json&quot;)));\r\n            \r\n\tClientResponse response = ClientResponse.create(HttpStatus.OK)\r\n                            .header(HttpHeaders.CONTENT_TYPE,\r\n                                    MediaType.APPLICATION_JSON_VALUE)\r\n                            .body(exampleRequest)\r\n                            .build();\r\n    \r\n    Entity entity = Entity.builder().id(&quot;1&quot;).name(&quot;test&quot;)).build\r\n                      \r\n    when(si.getServiceId()).thenReturn(&quot;external-api&quot;);\r\n    when(discoveryClient.getInstances(anyString())).thenReturn(List.of(si));            \r\n    when(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);\r\n    when(requestHeadersUriSpec.exchange()).thenReturn(Mono.just(response));\r\n    when(entityRepository.findById(eq(entity.getId()))).thenReturn(Optional.of(entity));\r\n   \r\n   \tFlux&lt;EntityDTO&gt; entityNumbers = entityService.getEntityNumbers(entity.getId(),0,1).\r\n    StepVerifier.create(entityNumbers).expectNext(entity).verifyComplete();\r\n    }\r\n\r\n\r\n","title":"Unable to Mock WebClient, calls the external API without mocking","body":"<p>I have a service which calls an external API and maps into a list of entities (which is another entity). To create Unit test cases, I have created a json file with the required output and mapped it there.</p>\n<p>The service had initially used RestTemplate and I was able to mock it easily with the same code but then I had to change it to WebClient to make it synchronous, But now it's not mocking the WebClient and leads to the external API.</p>\n<p>Any help would be greatly appreciated, I haven't put out the whole code as I'm facing issues in WebClient specifically, the same unit test had passed when I used RestTemplate</p>\n<p>I understand MockWebServer would be easier but I'm looking for solutions in WebClient if possible</p>\n<p><strong>EntityService.java</strong></p>\n<pre><code>public Mono&lt;List&lt;EntityDTO&gt;&gt; getNumber(String Uri) {\n\nreturn WebClient.builder()\n        .baseUrl(Uri)\n        .build()\n        .get()\n        .exchange()\n        .flatMap(response -&gt; response.bodyToMono(EntityDTO.class))\n        .flatMapMany(dto -&gt; Flux.fromIterable(dto.getEntityDetails()))\n        .map(this::getEntityDTO)\n        .collectList();}\n</code></pre>\n<p><strong>EntityServiceTest.java</strong></p>\n<pre><code> @Test\n void shouldReturnEntities() throws IOException {\n    ServiceInstance si = mock(ServiceInstance.class);\n    String exampleRequest =new String(Files.readAllBytes(Paths.get(&quot;entityPath/entitytest.json&quot;)));\n        \nClientResponse response = ClientResponse.create(HttpStatus.OK)\n                        .header(HttpHeaders.CONTENT_TYPE,\n                                MediaType.APPLICATION_JSON_VALUE)\n                        .body(exampleRequest)\n                        .build();\n\nEntity entity = Entity.builder().id(&quot;1&quot;).name(&quot;test&quot;)).build\n                  \nwhen(si.getServiceId()).thenReturn(&quot;external-api&quot;);\nwhen(discoveryClient.getInstances(anyString())).thenReturn(List.of(si));            \nwhen(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);\nwhen(requestHeadersUriSpec.exchange()).thenReturn(Mono.just(response));\nwhen(entityRepository.findById(eq(entity.getId()))).thenReturn(Optional.of(entity));\n\nFlux&lt;EntityDTO&gt; entityNumbers = entityService.getEntityNumbers(entity.getId(),0,1).\nStepVerifier.create(entityNumbers).expectNext(entity).verifyComplete();\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","jar","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666588697,"post_id":74176797,"comment_id":130964306,"body_markdown":"Did you use any JavaFX classes? You said this is a console app. But some programmers have been known to use a few of the JavaFX classes in non-GUI apps. An observable collection, and a “pair” tuple are two in my vague recollection.","body":"Did you use any JavaFX classes? You said this is a console app. But some programmers have been known to use a few of the JavaFX classes in non-GUI apps. An observable collection, and a “pair” tuple are two in my vague recollection."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1666628244,"post_id":74176797,"comment_id":130977007,"body_markdown":"The output looks correct to me, as JavaFX modules are required to be on the module path and therefore can not be shaded into a single jar with the application classes. You should be able to run this with `java -p &lt;dir with jars&gt; -jar &lt;app jar&gt;`","body":"The output looks correct to me, as JavaFX modules are required to be on the module path and therefore can not be shaded into a single jar with the application classes. You should be able to run this with <code>java -p &lt;dir with jars&gt; -jar &lt;app jar&gt;</code>"},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666632658,"post_id":74176797,"comment_id":130978424,"body_markdown":"@BasilBourque This app is a guy app, but I want to run it through the console.","body":"@BasilBourque This app is a guy app, but I want to run it through the console."},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666632677,"post_id":74176797,"comment_id":130978428,"body_markdown":"@JornVernee I will try that and let you know if it worked","body":"@JornVernee I will try that and let you know if it worked"},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666633027,"post_id":74176797,"comment_id":130978536,"body_markdown":"@JornVernee It did not work. It says that JavaFX runtime components are missing, and are required to run this application","body":"@JornVernee It did not work. It says that JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666633109,"post_id":74176797,"comment_id":130978554,"body_markdown":"You’ll need to explain more by what you mean about running your GUI app on the console — that’s contradictory.","body":"You’ll need to explain more by what you mean about running your GUI app on the console — that’s contradictory."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666641492,"post_id":74176797,"comment_id":130981222,"body_markdown":"Study the [getting started documentation for JavaFX](https://openjfx.io/openjfx-docs/).  Ensure you can accomplish your objective with the provided hello, world app, then apply whatever you learned from that to your pre-existing project.  In general, you would be likely be better off looking into alternate packaging such as jlink or jpackage than jar distributions for JavaFX apps.","body":"Study the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started documentation for JavaFX</a>.  Ensure you can accomplish your objective with the provided hello, world app, then apply whatever you learned from that to your pre-existing project.  In general, you would be likely be better off looking into alternate packaging such as jlink or jpackage than jar distributions for JavaFX apps."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1666696718,"post_id":74176797,"comment_id":130993522,"body_markdown":"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing","body":"<a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\" title=\"maven shade javafx runtime components are missing\">stackoverflow.com/questions/52653836/&hellip;</a>"}],"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666586954,"creation_date":1666586954,"question_id":74176797,"body_markdown":"I am trying to package and run through the command prompt, a program I developed two years ago. The program runs out of a jar on my Windows Desktop when I compile the Jar on Windows, but when I compile it from my Mac, using the menu for creating the Jar file, and then building the artifact, IntelliJ produces 9 files, a Jar for the program and 8 jars which are produced with javafx-like wording pictured here. The project was originally developed in Java 1.8 and I am trying now to compile it using Java 17.0.2. Could anyone tell me what I might be doing wrong?[![Image of 9 jars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pvXUh.png","title":"How to package a jar file with JavaFX libraries to run the Jar on MacOS","body":"<p>I am trying to package and run through the command prompt, a program I developed two years ago. The program runs out of a jar on my Windows Desktop when I compile the Jar on Windows, but when I compile it from my Mac, using the menu for creating the Jar file, and then building the artifact, IntelliJ produces 9 files, a Jar for the program and 8 jars which are produced with javafx-like wording pictured here. The project was originally developed in Java 1.8 and I am trying now to compile it using Java 17.0.2. Could anyone tell me what I might be doing wrong?<a href=\"https://i.stack.imgur.com/pvXUh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvXUh.png\" alt=\"Image of 9 jars\" /></a></p>\n"},{"tags":["java","android","multithreading","executorservice"],"comments":[{"owner":{"account_id":71046,"reputation":11239,"user_id":205528,"display_name":"Kien Truong"},"score":2,"creation_date":1664933823,"post_id":73955163,"comment_id":130581201,"body_markdown":"Protips: Catch and log all exception in the `Runnable` that you pass on to an `ExcecutorService`, otherwise the thread can die silently and your `ExecutorService` will stop accepting new job.","body":"Protips: Catch and log all exception in the <code>Runnable</code> that you pass on to an <code>ExcecutorService</code>, otherwise the thread can die silently and your <code>ExecutorService</code> will stop accepting new job."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1664950505,"post_id":73955163,"comment_id":130583278,"body_markdown":"no exception thrown here","body":"no exception thrown here"}],"answers":[{"tags":[],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666586810,"creation_date":1666586810,"answer_id":74176787,"question_id":73955163,"body_markdown":"I don&#39;t know the exact reason for this, but I used `Executors.newFixedThreadPool(4);` and I kept the thread count as 4, with no calculation for thread count 4, but it worked for me,\r\n\r\n **anyone knows this reason please edit this answer and add the valid reason for this**\r\n\r\n    public class App extends Application {\r\n        private static final String TAG = &quot;##App##&quot;;\r\n        private ExecutorService executorService;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            executorService= Executors.newFixedThreadPool(4);\r\n        }\r\n    \r\n        public void callIntent(Context context, Intent intent){\r\n            Log.d(TAG, &quot;callIntent: starting&quot;);\r\n            if(executor.isShutdown()||executor.isTerminated()){\r\n                Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\r\n                executor = Executors.newSingleThreadExecutor();\r\n            }else{\r\n                Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\r\n            }\r\n            executorService.execute(new Runnable() {\r\n                @Override\r\n                    public void run() {\r\n                        Log.d(TAG, &quot;run: inside run &quot;);\r\n                        context.startActivity(intent);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }","title":"ExecuterService&#39;s execute() method not executing sometimes even though when it&#39;s not shutdown or terminated - Android","body":"<p>I don't know the exact reason for this, but I used <code>Executors.newFixedThreadPool(4);</code> and I kept the thread count as 4, with no calculation for thread count 4, but it worked for me,</p>\n<p><strong>anyone knows this reason please edit this answer and add the valid reason for this</strong></p>\n<pre><code>public class App extends Application {\n    private static final String TAG = &quot;##App##&quot;;\n    private ExecutorService executorService;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService= Executors.newFixedThreadPool(4);\n    }\n\n    public void callIntent(Context context, Intent intent){\n        Log.d(TAG, &quot;callIntent: starting&quot;);\n        if(executor.isShutdown()||executor.isTerminated()){\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\n            executor = Executors.newSingleThreadExecutor();\n        }else{\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\n        }\n        executorService.execute(new Runnable() {\n            @Override\n                public void run() {\n                    Log.d(TAG, &quot;run: inside run &quot;);\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74176787,"answer_count":1,"score":0,"last_activity_date":1666586810,"creation_date":1664933601,"question_id":73955163,"body_markdown":"In my multi-threaded application, and in order to prevent *application not responding* (ANR), I used `ExecutorService` object&#39;s execute API to call the `startActvity()`. Most of the time it works as expected. I am able to see the logs `callIntent: starting` and `run: inside run`, but after I restart the device multiple time and try to call the `callIntent(context,intent)` it is not working sometimes. It&#39;s strange behavior.\r\n\r\nWhat went wrong with this implementation?\r\n\r\n&gt; when I used the main/UI thread, I&#39;m getting ANR and I already run\r\n&gt; HandlerThread to run this startActivity, but the same behavior\r\n\r\n**executor is not shutdown nor terminated, but it failed to execute**\r\n```java\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class App extends Application {\r\n    private static final String TAG = &quot;##App##&quot;;\r\n    private ExecutorService executorService;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        executorService= Executors.newSingleThreadExecutor();\r\n    }\r\n\r\n    public void callIntent(Context context, Intent intent){\r\n        Log.d(TAG, &quot;callIntent: starting&quot;);\r\n        if(executor.isShutdown()||executor.isTerminated()){\r\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\r\n            executor = Executors.newSingleThreadExecutor();\r\n        }else{\r\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\r\n        }\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n                public void run() {\r\n                    Log.d(TAG, &quot;run: inside run &quot;);\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```","title":"ExecuterService&#39;s execute() method not executing sometimes even though when it&#39;s not shutdown or terminated - Android","body":"<p>In my multi-threaded application, and in order to prevent <em>application not responding</em> (ANR), I used <code>ExecutorService</code> object's execute API to call the <code>startActvity()</code>. Most of the time it works as expected. I am able to see the logs <code>callIntent: starting</code> and <code>run: inside run</code>, but after I restart the device multiple time and try to call the <code>callIntent(context,intent)</code> it is not working sometimes. It's strange behavior.</p>\n<p>What went wrong with this implementation?</p>\n<blockquote>\n<p>when I used the main/UI thread, I'm getting ANR and I already run\nHandlerThread to run this startActivity, but the same behavior</p>\n</blockquote>\n<p><strong>executor is not shutdown nor terminated, but it failed to execute</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Application;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class App extends Application {\n    private static final String TAG = &quot;##App##&quot;;\n    private ExecutorService executorService;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService= Executors.newSingleThreadExecutor();\n    }\n\n    public void callIntent(Context context, Intent intent){\n        Log.d(TAG, &quot;callIntent: starting&quot;);\n        if(executor.isShutdown()||executor.isTerminated()){\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\n            executor = Executors.newSingleThreadExecutor();\n        }else{\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\n        }\n        executorService.execute(new Runnable() {\n            @Override\n                public void run() {\n                    Log.d(TAG, &quot;run: inside run &quot;);\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","colors","jpanel","jcomponent"],"comments":[{"owner":{"account_id":3015171,"reputation":3578,"user_id":2557554,"accept_rate":71,"display_name":"David Yee"},"score":0,"creation_date":1402264942,"post_id":24110920,"comment_id":37195591,"body_markdown":"Does it have to be a `JComponent` or can it be a `JPanel`?","body":"Does it have to be a <code>JComponent</code> or can it be a <code>JPanel</code>?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426630685,"creation_date":1402265663,"answer_id":24111421,"question_id":24110920,"body_markdown":"Basically, because `JComponent` has no UI delegate, it never paints its background (its `paintComponent` method essentially does nothing).\r\n\r\nYou could supply a UI delegate that performs the required actions, or simply use `JPanel`, for example:\r\n\r\n![enter image description here][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.border.CompoundBorder;\r\n\r\n    public class TestComponent {\r\n\r\n        public static void main(String[] args) {\r\n            new TestComponent();\r\n        }\r\n    \r\n        public TestComponent() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n        \r\n            public TestPane() {\r\n                setBackground(Color.WHITE);\r\n                setBorder(new CompoundBorder(\r\n                                BorderFactory.createEmptyBorder(0,10,10,10),\r\n                                BorderFactory.createLineBorder(Color.RED)\r\n                ));\r\n            }\r\n        \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n        \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oW58M.png","title":"JComponent - cannot set Background/Border","body":"<p>Basically, because <code>JComponent</code> has no UI delegate, it never paints its background (its <code>paintComponent</code> method essentially does nothing).</p>\n\n<p>You could supply a UI delegate that performs the required actions, or simply use <code>JPanel</code>, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oW58M.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport javax.swing.BorderFactory;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.CompoundBorder;\n\npublic class TestComponent {\n\n    public static void main(String[] args) {\n        new TestComponent();\n    }\n\n    public TestComponent() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBackground(Color.WHITE);\n            setBorder(new CompoundBorder(\n                            BorderFactory.createEmptyBorder(0,10,10,10),\n                            BorderFactory.createLineBorder(Color.RED)\n            ));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2185770,"reputation":1249,"user_id":1934225,"accept_rate":77,"display_name":"D-Lef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402349360,"creation_date":1402349360,"answer_id":24129387,"question_id":24110920,"body_markdown":"I found a simple solution to my problem. I just added the Jcomponent to a Jpanel and then I added the Jpanel to the Jframe.\r\n\r\n        JPanel outer = new JPanel(new GridBagLayout()); \r\n        JPanel drawPanel = new JPanel(new GridBagLayout());\r\n        drawPanel.add(new DrawingBoard(500,500));\r\n        drawPanel.setBackground(Color.WHITE);\r\n        outer.setBorder(BorderFactory.createEmptyBorder(0,10,10,10));\r\n        JScrollPane scrollPane = new JScrollPane(drawPanel);\r\n        outer.add(scrollPane);\r\n        this.add(outer, BorderLayout.CENTER);","title":"JComponent - cannot set Background/Border","body":"<p>I found a simple solution to my problem. I just added the Jcomponent to a Jpanel and then I added the Jpanel to the Jframe.</p>\n\n<pre><code>    JPanel outer = new JPanel(new GridBagLayout()); \n    JPanel drawPanel = new JPanel(new GridBagLayout());\n    drawPanel.add(new DrawingBoard(500,500));\n    drawPanel.setBackground(Color.WHITE);\n    outer.setBorder(BorderFactory.createEmptyBorder(0,10,10,10));\n    JScrollPane scrollPane = new JScrollPane(drawPanel);\n    outer.add(scrollPane);\n    this.add(outer, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26649324,"reputation":1,"user_id":20263852,"display_name":"VsRoom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666586486,"creation_date":1666586486,"answer_id":74176771,"question_id":24110920,"body_markdown":"This is a good opportunity for you to set rounded corners for custom components, for example the following example implements setting rounded corners and margins：\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class BaseComponent extends JComponent {\r\n\tprivate Insets insets;\r\n\tprivate int radius = 0;\r\n\r\n\tpublic BaseComponent() {\r\n\t}\r\n\r\n\r\n\tpublic BaseComponent(Insets insets, int radius) {\r\n\t\tthis.insets = insets;\r\n\t\tthis.radius = radius;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics gr) {\r\n\t\tGraphics2D g2 = (Graphics2D) gr.create();\r\n\t\t// 背景\r\n\t\tif (getBackground() != null &amp;&amp; isOpaque()) {\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,\r\n\t\t\t\t\tBoolean.getBoolean(&quot;apple.awt.graphics.UseQuartz&quot;) ?\r\n\t\t\t\t\t\t\tRenderingHints.VALUE_STROKE_PURE : RenderingHints.VALUE_STROKE_NORMALIZE);\r\n\t\t\tg2.setColor(getBackground());\r\n\t\t\tg2.fillRoundRect(0, 0, getWidth(), getHeight(), radius, radius);\r\n\t\t}\r\n\t\tg2.dispose();\r\n\t}\r\n\r\n\t/**\r\n\t * 获取内边距，如果没有调用 {@link #setInsets(Insets)} ，则调用父类的insets，否则就获取设置的内边距\r\n\t */\r\n\t@Override\r\n\tpublic Insets getInsets() {\r\n\t\tif (insets == null) return super.getInsets();\r\n\t\treturn insets;\r\n\t}\r\n\r\n\tpublic int getRadius() {\r\n\t\treturn radius;\r\n\t}\r\n\r\n\tpublic void setRadius(int radius) {\r\n\t\tthis.radius = radius;\r\n\t}\r\n\r\n\tpublic void setInsets(Insets insets) {\r\n\t\tthis.insets = insets;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame f = new JFrame();\r\n\t\tf.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\r\n\t\tBaseComponent c = new BaseComponent();\r\n\t\tc.setLayout(new BorderLayout());\r\n\t\tc.add(new JLabel(&quot;this is a label&quot;));\r\n\t\tc.setBackground(Color.ORANGE);\r\n\t\tc.setPreferredSize(new Dimension(300,200));\r\n\t\tc.setRadius(20);\r\n\t\tc.setOpaque(true);\r\n\t\tc.setInsets(new Insets(10,10,10,10));\r\n\r\n\t\tf.getContentPane().setLayout(new FlowLayout());\r\n\t\tf.getContentPane().add(c);\r\n\t\tf.pack();\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\tf.setVisible(true);\r\n\t}\r\n}\r\n\r\n```","title":"JComponent - cannot set Background/Border","body":"<p>This is a good opportunity for you to set rounded corners for custom components, for example the following example implements setting rounded corners and margins：</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class BaseComponent extends JComponent {\n    private Insets insets;\n    private int radius = 0;\n\n    public BaseComponent() {\n    }\n\n\n    public BaseComponent(Insets insets, int radius) {\n        this.insets = insets;\n        this.radius = radius;\n    }\n\n    @Override\n    protected void paintComponent(Graphics gr) {\n        Graphics2D g2 = (Graphics2D) gr.create();\n        // 背景\n        if (getBackground() != null &amp;&amp; isOpaque()) {\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,\n                    Boolean.getBoolean(&quot;apple.awt.graphics.UseQuartz&quot;) ?\n                            RenderingHints.VALUE_STROKE_PURE : RenderingHints.VALUE_STROKE_NORMALIZE);\n            g2.setColor(getBackground());\n            g2.fillRoundRect(0, 0, getWidth(), getHeight(), radius, radius);\n        }\n        g2.dispose();\n    }\n\n    /**\n     * 获取内边距，如果没有调用 {@link #setInsets(Insets)} ，则调用父类的insets，否则就获取设置的内边距\n     */\n    @Override\n    public Insets getInsets() {\n        if (insets == null) return super.getInsets();\n        return insets;\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    public void setRadius(int radius) {\n        this.radius = radius;\n    }\n\n    public void setInsets(Insets insets) {\n        this.insets = insets;\n    }\n\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        BaseComponent c = new BaseComponent();\n        c.setLayout(new BorderLayout());\n        c.add(new JLabel(&quot;this is a label&quot;));\n        c.setBackground(Color.ORANGE);\n        c.setPreferredSize(new Dimension(300,200));\n        c.setRadius(20);\n        c.setOpaque(true);\n        c.setInsets(new Insets(10,10,10,10));\n\n        f.getContentPane().setLayout(new FlowLayout());\n        f.getContentPane().add(c);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2185770,"reputation":1249,"user_id":1934225,"accept_rate":77,"display_name":"D-Lef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":24129387,"answer_count":3,"score":-1,"last_activity_date":1666586486,"creation_date":1402262213,"question_id":24110920,"body_markdown":"I want to add a `JComponent` in my basic `JFrame`. My problem is that I cannot set background color or border for my component.\r\n\r\n##`JFrame`\r\n\r\n    JPanel drawPanel = new JPanel(new GridBagLayout());\r\n    drawPanel.add(new DrawingBoard());\r\n    JScrollPane scrollPane = new JScrollPane(drawPanel);\r\n    this.add(scrollPane, BorderLayout.CENTER);\r\n    this.setVisible(true);\r\n\r\n##`JComponent`\r\n\r\n    private class DrawingBoard extends JComponent {\r\n            ...\r\n            public DrawingBoard() {\r\n            this.setPreferredSize(new Dimension(500, 500));\r\n            this.setBackground(Color.WHITE);     //doesn&#39;t work\r\n            this.setBorder(BorderFactory.createEmptyBorder(0,10,10,10)); //doesn&#39;t work\r\n            this.setOpaque(true);\r\n            ...","title":"JComponent - cannot set Background/Border","body":"<p>I want to add a <code>JComponent</code> in my basic <code>JFrame</code>. My problem is that I cannot set background color or border for my component.</p>\n\n<h2><code>JFrame</code></h2>\n\n<pre><code>JPanel drawPanel = new JPanel(new GridBagLayout());\ndrawPanel.add(new DrawingBoard());\nJScrollPane scrollPane = new JScrollPane(drawPanel);\nthis.add(scrollPane, BorderLayout.CENTER);\nthis.setVisible(true);\n</code></pre>\n\n<h2><code>JComponent</code></h2>\n\n<pre><code>private class DrawingBoard extends JComponent {\n        ...\n        public DrawingBoard() {\n        this.setPreferredSize(new Dimension(500, 500));\n        this.setBackground(Color.WHITE);     //doesn't work\n        this.setBorder(BorderFactory.createEmptyBorder(0,10,10,10)); //doesn't work\n        this.setOpaque(true);\n        ...\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9055,"page":937,"page_size":100}
