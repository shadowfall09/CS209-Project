{"items":[{"tags":["java","multidimensional-array","methods"],"comments":[{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":1,"creation_date":1646159158,"post_id":71312803,"comment_id":126052997,"body_markdown":"Could you add some expected input/output or clarify the behaviour you expect? The input in your question is a bit confusing as you talk about a 2d array but are using a 1d array and it&#39;s unclear what you are actually attempting to accomplish. Based on what you&#39;ve described it shouldn&#39;t be too hard, just a case of understanding exactly what you need.","body":"Could you add some expected input/output or clarify the behaviour you expect? The input in your question is a bit confusing as you talk about a 2d array but are using a 1d array and it&#39;s unclear what you are actually attempting to accomplish. Based on what you&#39;ve described it shouldn&#39;t be too hard, just a case of understanding exactly what you need."},{"owner":{"account_id":20557566,"reputation":17,"user_id":15088753,"display_name":"Evil2"},"score":0,"creation_date":1646160236,"post_id":71312803,"comment_id":126053347,"body_markdown":"@Barnesly sorry about the confusion. as long as I can get names names out of an array it will be fine I just assumed that doing it with a 2d array would be easier. but basically to state my question again. I need to output 1 random name out of a list of 5 names every time i call a method. when a the method outputs a name from the list i need the name to not be able to be output again until i run the method 4 more times and all the names are used. let me know if that makes any more sense. again sorry if im a little slow im still a begginner at this.","body":"@Barnesly sorry about the confusion. as long as I can get names names out of an array it will be fine I just assumed that doing it with a 2d array would be easier. but basically to state my question again. I need to output 1 random name out of a list of 5 names every time i call a method. when a the method outputs a name from the list i need the name to not be able to be output again until i run the method 4 more times and all the names are used. let me know if that makes any more sense. again sorry if im a little slow im still a begginner at this."},{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":0,"creation_date":1646160602,"post_id":71312803,"comment_id":126053448,"body_markdown":"Ahhh that makes sense - I&#39;ll post an answer in a bit","body":"Ahhh that makes sense - I&#39;ll post an answer in a bit"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646161015,"post_id":71312803,"comment_id":126053573,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":0,"creation_date":1646162656,"post_id":71312803,"comment_id":126054014,"body_markdown":"I&#39;ve added an answer but think you actually aren&#39;t for off doing what you are asking - all I&#39;ve really done is shuffled things around so you have a method to call which returns a name as and when you need it (whether in a loop or otherwise). Hopefully it helps but if not let me know...","body":"I&#39;ve added an answer but think you actually aren&#39;t for off doing what you are asking - all I&#39;ve really done is shuffled things around so you have a method to call which returns a name as and when you need it (whether in a loop or otherwise). Hopefully it helps but if not let me know..."}],"answers":[{"tags":[],"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646162577,"creation_date":1646162577,"answer_id":71313631,"question_id":71312803,"body_markdown":"One way of doing this is to randomly remove an item from the list each time you want to process a name, and continue to do so while there are more names left in the list.\r\n\r\ne.g.\r\n```java\r\n    private static final Random R = new Random(System.currentTimeMillis());\r\n\r\n    private static String getRandomFromList(List&lt;String&gt; list) {\r\n        final int index = r.nextInt(list.size());\r\n        return list.remove(index);\r\n    }\r\n\r\n    private static void processName(String name) {\r\n        // do stuff here\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\r\n        final List&lt;String&gt; names = Arrays.stream(peoples).collect(Collectors.toList());\r\n\r\n\r\n        while (!names.isEmpty()) {\r\n            final String name = getRandomFromList(names);\r\n            // Now do your processing for the name here e.g.\r\n            processName(name);\r\n        }\r\n    }\r\n```\r\n\r\nSo you can call `getRandomFromList` 4 times (in the above example), getting a random name each time which you can then process. Rather than assuming a specific number of entries I have just put this in a while loop with a check on whether there are any names left.\r\n\r\nIf you need to call it more sequentially you can do something like below. It&#39;s good to make sure there are actually names left in the list and if not you can write out an error and return early, or throw an exception.\r\n```java\r\nif (names.isEmpty()) {\r\n    return; // or log error, or throw exception\r\n}\r\nString name = getRandomFromList(names);\r\n\r\n// do stuff with first name\r\n\r\nif (names.isEmpty()) {\r\n    return; // or log error, or throw exception\r\n}\r\nname = getRandomFromList(names);\r\n\r\n// do stuff with second name\r\n\r\n// etc.\r\n```","title":"How would I return one string at a time from a 2d array and not have any repeating ouputs until i have used the entire list?","body":"<p>One way of doing this is to randomly remove an item from the list each time you want to process a name, and continue to do so while there are more names left in the list.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Random R = new Random(System.currentTimeMillis());\n\n    private static String getRandomFromList(List&lt;String&gt; list) {\n        final int index = r.nextInt(list.size());\n        return list.remove(index);\n    }\n\n    private static void processName(String name) {\n        // do stuff here\n    }\n\n    public static void main(String[] args) {\n        final String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\n        final List&lt;String&gt; names = Arrays.stream(peoples).collect(Collectors.toList());\n\n\n        while (!names.isEmpty()) {\n            final String name = getRandomFromList(names);\n            // Now do your processing for the name here e.g.\n            processName(name);\n        }\n    }\n</code></pre>\n<p>So you can call <code>getRandomFromList</code> 4 times (in the above example), getting a random name each time which you can then process. Rather than assuming a specific number of entries I have just put this in a while loop with a check on whether there are any names left.</p>\n<p>If you need to call it more sequentially you can do something like below. It's good to make sure there are actually names left in the list and if not you can write out an error and return early, or throw an exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (names.isEmpty()) {\n    return; // or log error, or throw exception\n}\nString name = getRandomFromList(names);\n\n// do stuff with first name\n\nif (names.isEmpty()) {\n    return; // or log error, or throw exception\n}\nname = getRandomFromList(names);\n\n// do stuff with second name\n\n// etc.\n</code></pre>\n"}],"owner":{"account_id":20557566,"reputation":17,"user_id":15088753,"display_name":"Evil2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71313631,"answer_count":1,"score":0,"last_activity_date":1648639514,"creation_date":1646157779,"question_id":71312803,"body_markdown":"I am trying to make a thing that selects one of five names from a 2d array of strings and return it. I only want to return one name at a time so I am using methods, but I also want the names to not repeat until all of them have been generated. I found something that was almost what I needed. However the output was still in a list and if I put it in a method it would just repeat.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n  import java.util.Collections;\r\n    import java.util.List;\r\n\r\npublic class Main {\r\n  static void runArray() {\r\n        String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\r\n    List&lt;String&gt; names = Arrays.asList(peoples);\r\n    Collections.shuffle(names);\r\n    for (String name : names) {\r\n      System.out.println(name + &quot; &quot;);\r\n    }\r\n  }\r\n  public static void main(String[] args) {\r\n    runArray();\r\n  }\r\n}\r\n```","title":"How would I return one string at a time from a 2d array and not have any repeating ouputs until i have used the entire list?","body":"<p>I am trying to make a thing that selects one of five names from a 2d array of strings and return it. I only want to return one name at a time so I am using methods, but I also want the names to not repeat until all of them have been generated. I found something that was almost what I needed. However the output was still in a list and if I put it in a method it would just repeat.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n  import java.util.Collections;\n    import java.util.List;\n\npublic class Main {\n  static void runArray() {\n        String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\n    List&lt;String&gt; names = Arrays.asList(peoples);\n    Collections.shuffle(names);\n    for (String name : names) {\n      System.out.println(name + &quot; &quot;);\n    }\n  }\n  public static void main(String[] args) {\n    runArray();\n  }\n}\n</code></pre>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":2,"creation_date":1335505512,"post_id":10345344,"comment_id":13325931,"body_markdown":"Everything in Java except primitive types are objects. Would you prepend `obj` on every variable name?","body":"Everything in Java except primitive types are objects. Would you prepend <code>obj</code> on every variable name?"},{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1335505520,"post_id":10345344,"comment_id":13325934,"body_markdown":"this `obj...` stuff if from old times.","body":"this <code>obj...</code> stuff if from old times."},{"owner":{"account_id":552770,"reputation":2556,"user_id":917672,"accept_rate":100,"display_name":"Neifen"},"score":1,"creation_date":1335505565,"post_id":10345344,"comment_id":13325941,"body_markdown":"if for you it is more simple to identify your attribute... why not with &quot;obj&quot;","body":"if for you it is more simple to identify your attribute... why not with &quot;obj&quot;"},{"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"score":0,"creation_date":1335505644,"post_id":10345344,"comment_id":13325963,"body_markdown":"Can anyone tell what is the standard followed ?","body":"Can anyone tell what is the standard followed ?"},{"owner":{"account_id":960726,"reputation":4256,"user_id":985143,"display_name":"Zaz Gmy"},"score":1,"creation_date":1335505690,"post_id":10345344,"comment_id":13325974,"body_markdown":"see this http://www.iwombat.com/standards/JavaStyleGuide.html","body":"see this <a href=\"http://www.iwombat.com/standards/JavaStyleGuide.html\" rel=\"nofollow noreferrer\">iwombat.com/standards/JavaStyleGuide.html</a>"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1335512135,"post_id":10345344,"comment_id":13327817,"body_markdown":"**Objects** don&#39;t have names. **Variables** have names.","body":"<b>Objects</b> don&#39;t have names. <b>Variables</b> have names."}],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1335505835,"creation_date":1335505493,"answer_id":10345368,"question_id":10345344,"body_markdown":"Just call it `car`.  [Hungarian notation][1] is not used by Sun/Oracle.\r\n\r\nName your variables in a manner which describes their *use*.  But you don&#39;t need to indicate the type in the variable name.  You already specified the type in the variable declaration.  IDEs will show you the type of the variable if you mouse-over them so that information is always readily available.\r\n\r\nYou should use `lowercaseStartingCamelCase` for variable names and method names, and `UppercaseStartingCamelCase` for class names.\r\n\r\nIf you want to read how Sun/Oracle do things, you can read their [Code Conventions for the Java Programming Language][2].\r\n\r\n[1]: http://en.wikipedia.org/wiki/Hungarian_notation\r\n[2]: http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html","title":"Naming convention for objects in Java","body":"<p>Just call it <code>car</code>.  <a href=\"http://en.wikipedia.org/wiki/Hungarian_notation\" rel=\"noreferrer\">Hungarian notation</a> is not used by Sun/Oracle.</p>\n\n<p>Name your variables in a manner which describes their <em>use</em>.  But you don't need to indicate the type in the variable name.  You already specified the type in the variable declaration.  IDEs will show you the type of the variable if you mouse-over them so that information is always readily available.</p>\n\n<p>You should use <code>lowercaseStartingCamelCase</code> for variable names and method names, and <code>UppercaseStartingCamelCase</code> for class names.</p>\n\n<p>If you want to read how Sun/Oracle do things, you can read their <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html\" rel=\"noreferrer\">Code Conventions for the Java Programming Language</a>.</p>\n"},{"tags":[],"owner":{"account_id":878548,"reputation":573,"user_id":148591,"display_name":"Gren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335505533,"creation_date":1335505533,"answer_id":10345377,"question_id":10345344,"body_markdown":"Name your objects what they are, it makes reading and refactoring easier.","title":"Naming convention for objects in Java","body":"<p>Name your objects what they are, it makes reading and refactoring easier.</p>\n"},{"tags":[],"owner":{"account_id":1367428,"reputation":2301,"user_id":1303587,"display_name":"llewellyn falco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335505628,"creation_date":1335505628,"answer_id":10345388,"question_id":10345344,"body_markdown":"naming conventions for objects in java are just names.\r\nFor example \r\n\r\n    Car car = new Car(&quot;Ferrari&quot;);\r\n\r\nThe remnants of Hungarian notation have been abandoned mainly because of the added support the IDE&#39;s have provided for navigation.","title":"Naming convention for objects in Java","body":"<p>naming conventions for objects in java are just names.\nFor example </p>\n\n<pre><code>Car car = new Car(\"Ferrari\");\n</code></pre>\n\n<p>The remnants of Hungarian notation have been abandoned mainly because of the added support the IDE's have provided for navigation.</p>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1335507674,"creation_date":1335506003,"answer_id":10345450,"question_id":10345344,"body_markdown":"Being you are senior , after all I can suggest you some naming \r\nconvention related to your doubts. As we know all class name are\r\nstarted with first capital letter, suppose class &quot;MyTest&quot; when \r\nobject we need to create of this class it should be &quot;mytest&quot;. \r\nObject name should be in this format. According to the jakarta\r\nproject menifesto I found this type of convection and the are\r\nfollowing . Other than jakarta, Sun API including IDE for \r\ndevelopment also they are using this.\r\nHope ,it will help you.Yes I am new.Thanks for your helpful information.\r\n\r\n","title":"Naming convention for objects in Java","body":"<p>Being you are senior , after all I can suggest you some naming \nconvention related to your doubts. As we know all class name are\nstarted with first capital letter, suppose class \"MyTest\" when \nobject we need to create of this class it should be \"mytest\". \nObject name should be in this format. According to the jakarta\nproject menifesto I found this type of convection and the are\nfollowing . Other than jakarta, Sun API including IDE for \ndevelopment also they are using this.\nHope ,it will help you.Yes I am new.Thanks for your helpful information.</p>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335508194,"creation_date":1335506020,"answer_id":10345453,"question_id":10345344,"body_markdown":"class name in small letters is Sun/Oracle standard.\r\n\r\nwhen you are working for a company,\r\n\r\ndepending upon project naming conventions it may vary.\r\n\r\n    Car car=new Car(); //good to follow\r\n\r\nif It is [Singleton pattern][1],you may give a name like below\r\n\r\n  \r\n\r\n     private static final Car singletonCar=new Car();\r\n\r\n\r\n\r\n[1]:http://en.wikipedia.org/wiki/Singleton_pattern","title":"Naming convention for objects in Java","body":"<p>class name in small letters is Sun/Oracle standard.</p>\n\n<p>when you are working for a company,</p>\n\n<p>depending upon project naming conventions it may vary.</p>\n\n<pre><code>Car car=new Car(); //good to follow\n</code></pre>\n\n<p>if It is <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">Singleton pattern</a>,you may give a name like below</p>\n\n<pre><code> private static final Car singletonCar=new Car();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335506977,"creation_date":1335506977,"answer_id":10345611,"question_id":10345344,"body_markdown":"Your example is a bit too trivial. In reality you would never name a field of object type &quot;Car&quot; as &quot;car&quot;. Likewise you never name an &quot;Integer&quot; type as &quot;integer&quot;.\r\n\r\nInstead, the use names that tell the reader what the field is used for. Some examples:\r\n\r\n    private Transport preferredTransportMethod;\r\n\r\n    private int invoiceCounter;\r\n\r\nPrefixing field type is not used commonly is Java. However, class member are sometimes prefixed with lower case &quot;m&quot; to prevent accidental self assignments in setter methods.\r\n\r\n    private long mTripDurationMillis;","title":"Naming convention for objects in Java","body":"<p>Your example is a bit too trivial. In reality you would never name a field of object type \"Car\" as \"car\". Likewise you never name an \"Integer\" type as \"integer\".</p>\n\n<p>Instead, the use names that tell the reader what the field is used for. Some examples:</p>\n\n<pre><code>private Transport preferredTransportMethod;\n\nprivate int invoiceCounter;\n</code></pre>\n\n<p>Prefixing field type is not used commonly is Java. However, class member are sometimes prefixed with lower case \"m\" to prevent accidental self assignments in setter methods.</p>\n\n<pre><code>private long mTripDurationMillis;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598771,"reputation":27,"user_id":3730115,"display_name":"pietroSV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648639417,"creation_date":1648638820,"answer_id":71676200,"question_id":10345344,"body_markdown":"If you use more objects, I do it like this:\r\n```\r\nCar carFerrari = new Car(&quot;Ferrari&quot;);\r\nCar carFord = new Car(&quot;Ford&quot;);\r\nCar carAudi = new Car(&quot;Audi&quot;);\r\n```\r\nOf course, the names can be &quot;ferrari&quot;, &quot;ford&quot; and &quot;audi&quot;, but I like to refer to objects of same type.","title":"Naming convention for objects in Java","body":"<p>If you use more objects, I do it like this:</p>\n<pre><code>Car carFerrari = new Car(&quot;Ferrari&quot;);\nCar carFord = new Car(&quot;Ford&quot;);\nCar carAudi = new Car(&quot;Audi&quot;);\n</code></pre>\n<p>Of course, the names can be &quot;ferrari&quot;, &quot;ford&quot; and &quot;audi&quot;, but I like to refer to objects of same type.</p>\n"}],"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28935,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10345368,"answer_count":7,"score":14,"last_activity_date":1648639417,"creation_date":1335505361,"question_id":10345344,"body_markdown":"I had started programming in Java 2 years back. Seniors in our project at that time had advised me to append &#39;obj&#39; to the name of the object which is being created.\r\n\r\nEx:\r\n\r\n    Car objCar = new Car(&quot;Ferrari&quot;);\r\n\r\nHere `objCar` is what I am talking about. But many at Stack Overflow had opposed to it and now I find that this shouldn&#39;t be the way naming of an object should be done. I am clear with naming conventions when collections are used but I am confused when objects of general classes are created.\r\n\r\nCan anyone shed some light on it? ","title":"Naming convention for objects in Java","body":"<p>I had started programming in Java 2 years back. Seniors in our project at that time had advised me to append 'obj' to the name of the object which is being created.</p>\n<p>Ex:</p>\n<pre><code>Car objCar = new Car(&quot;Ferrari&quot;);\n</code></pre>\n<p>Here <code>objCar</code> is what I am talking about. But many at Stack Overflow had opposed to it and now I find that this shouldn't be the way naming of an object should be done. I am clear with naming conventions when collections are used but I am confused when objects of general classes are created.</p>\n<p>Can anyone shed some light on it?</p>\n"},{"tags":["java","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648639408,"creation_date":1648639408,"answer_id":71676329,"question_id":71675884,"body_markdown":"```diff\r\ndiff --git ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\nindex 757269f..a9df941 100644\r\n--- ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\n+++ ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\n@@ -21,8 +21,8 @@ public class TestHomePage\r\n     public void userPageRendersSuccessfully()\r\n     {\r\n         System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\r\n-        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n-        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\r\n+        tester.getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n+        System.out.println(&quot;Uesr name in session:&quot; + tester.getSession().getAttribute(&quot;userName&quot;));\r\n         //start and render the test page\r\n         tester.startPage(UserPage.class);\r\n         //assert rendered page class\r\n```\r\n\r\nIt seems you confuse the Wicket Session (`org.apache.wicket.Session`) with the HttpSession.\r\nIn the test you set the attribute on the HttpSession, while in `UserPage` you tried to read it from the Wicket Session.","title":"Accessing attributes of session throws NullPointerException error, when using WicketTester","body":"<pre><code>diff --git ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\nindex 757269f..a9df941 100644\n--- ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\n+++ ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\n@@ -21,8 +21,8 @@ public class TestHomePage\n     public void userPageRendersSuccessfully()\n     {\n         System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\n-        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n-        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\n+        tester.getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n+        System.out.println(&quot;Uesr name in session:&quot; + tester.getSession().getAttribute(&quot;userName&quot;));\n         //start and render the test page\n         tester.startPage(UserPage.class);\n         //assert rendered page class\n</code></pre>\n<p>It seems you confuse the Wicket Session (<code>org.apache.wicket.Session</code>) with the HttpSession.\nIn the test you set the attribute on the HttpSession, while in <code>UserPage</code> you tried to read it from the Wicket Session.</p>\n"}],"owner":{"account_id":19321062,"reputation":15,"user_id":14124741,"display_name":"Rajani Sohoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676329,"answer_count":1,"score":0,"last_activity_date":1648639408,"creation_date":1648637499,"question_id":71675884,"body_markdown":"Accessing attributes of session throws NullPointerException error, when using WicketTester.\r\n  \r\nThere was similar question asked earlier\r\nhttps://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\r\n  \r\nThe discussion their suggested using\r\n  \r\ntester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n  \r\ninstead of \r\n  \r\ntester.getHttpSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n  \r\nMaking that change did not resolve the problem.\r\nComplete project, created using &#39;wicket.apache.org/start/quickstart.html&#39; can be found at github.com/rjngshn/WicketTesterSession \r\n\r\n        public class TestHomePage\r\n    {\r\n        private WicketTester tester;\r\n\r\n        @BeforeEach\r\n        public void setUp()\r\n        {\r\n            tester = new WicketTester(new RTApplication());\r\n        }\r\n    // https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\r\n        @Test\r\n        public void userPageRendersSuccessfully()\r\n        {\r\n            System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\r\n            tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n            System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\r\n            //start and render the test page\r\n            tester.startPage(UserPage.class);\r\n            //assert rendered page class\r\n            tester.assertRenderedPage(UserPage.class);\r\n            tester.assertModelValue(&quot;txtUserName&quot;, &quot;Test user 1&quot;);\r\n            System.out.println(&quot;Complete testing userPageRendersSuccessfully &quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe error is:\r\n\r\n     [WARN] [stderr] java.lang.NullPointerException\r\n     [WARN] [stderr] \tat uk.ac.ox.ndph.ckb.UserPage.onInitialize(UserPage.java:19)\r\n     [WARN] [stderr] \tat org.apache.wicket.Component.fireInitialize(Component.java:883)\r\n     [WARN] [stderr] \tat org.apache.wicket.MarkupContainer.internalInitialize(MarkupContainer.java:1045)\r\n...","title":"Accessing attributes of session throws NullPointerException error, when using WicketTester","body":"<p>Accessing attributes of session throws NullPointerException error, when using WicketTester.</p>\n<p>There was similar question asked earlier\n<a href=\"https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\">wicket 9: unit testing + mockito + httpSession</a></p>\n<p>The discussion their suggested using</p>\n<p>tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);</p>\n<p>instead of</p>\n<p>tester.getHttpSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);</p>\n<p>Making that change did not resolve the problem.\nComplete project, created using 'wicket.apache.org/start/quickstart.html' can be found at github.com/rjngshn/WicketTesterSession</p>\n<pre><code>    public class TestHomePage\n{\n    private WicketTester tester;\n\n    @BeforeEach\n    public void setUp()\n    {\n        tester = new WicketTester(new RTApplication());\n    }\n// https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\n    @Test\n    public void userPageRendersSuccessfully()\n    {\n        System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\n        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\n        //start and render the test page\n        tester.startPage(UserPage.class);\n        //assert rendered page class\n        tester.assertRenderedPage(UserPage.class);\n        tester.assertModelValue(&quot;txtUserName&quot;, &quot;Test user 1&quot;);\n        System.out.println(&quot;Complete testing userPageRendersSuccessfully &quot;);\n    }\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code> [WARN] [stderr] java.lang.NullPointerException\n [WARN] [stderr]    at uk.ac.ox.ndph.ckb.UserPage.onInitialize(UserPage.java:19)\n [WARN] [stderr]    at org.apache.wicket.Component.fireInitialize(Component.java:883)\n [WARN] [stderr]    at org.apache.wicket.MarkupContainer.internalInitialize(MarkupContainer.java:1045)\n</code></pre>\n<p>...</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1648572792,"post_id":71665932,"comment_id":126656836,"body_markdown":"What is it that you want to test? In general, in this type of situation, you would just get call the static method, get the result, and test the result.","body":"What is it that you want to test? In general, in this type of situation, you would just get call the static method, get the result, and test the result."},{"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"score":0,"creation_date":1648572889,"post_id":71665932,"comment_id":126656869,"body_markdown":"@Paul Samsotha Check whether this given object has the provided parameters inside it.","body":"@Paul Samsotha Check whether this given object has the provided parameters inside it."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1648572951,"post_id":71665932,"comment_id":126656893,"body_markdown":"Well you have the client as a return value. Can you just check those values on the client? Like client.getHostname()","body":"Well you have the client as a return value. Can you just check those values on the client? Like client.getHostname()"},{"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"score":0,"creation_date":1648573195,"post_id":71665932,"comment_id":126656975,"body_markdown":"this NonBlockingStatsDClientBuilder object doesn&#39;t have any getters. That&#39;s the problem","body":"this NonBlockingStatsDClientBuilder object doesn&#39;t have any getters. That&#39;s the problem"},{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1648809553,"post_id":71665932,"comment_id":126724042,"body_markdown":"if `NonBlockingStatsDClientBuilder` is provided by a third-party library, then you don&#39;t need to test it. It should be tested by developer/author.","body":"if <code>NonBlockingStatsDClientBuilder</code> is provided by a third-party library, then you don&#39;t need to test it. It should be tested by developer/author."}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648639279,"creation_date":1648639279,"answer_id":71676300,"question_id":71665932,"body_markdown":"Since you have mentioned the `StatsDClient` doesn&#39;t have any getters, can you override the `equals` method of `StatsDClient` something like this.\r\nThis way you&#39;d not need getters\r\n\r\n    public class StatsDClient {\r\n        private String hostName;\r\n        private String prefix;\r\n        private int port;\r\n     \r\n        public StatsDClient(String hostName, String prefix, int port) {\r\n            this.hostName = hostName;\r\n            this.prefix = prefix;\r\n            this.port = port;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (!this.getClass().equals(obj.getClass())) {\r\n                return false;\r\n            }\r\n            StatsDClient otherStatsClient = (StatsDClient) obj;\r\n    \r\n            return this.hostName.equals(otherStatsClient.hostName) &amp;&amp; this.prefix.equals(otherStatsClient.prefix)\r\n                    &amp;&amp; this.port == otherStatsClient.port;\r\n        }\r\n    }\r\n\r\nYou can build expected `StatsDClient` and assert against the result\r\n\r\n    @Test\r\n    public void verifyStatsDClient() {\r\n        StatsDClient actualStatsDClient = exampleClass.getClient();\r\n        StatsDClient expectedStatsDClient = new StatsDClient(&quot;expectedHost&quot;,&quot;expectedPrefix&quot;,expectedPort);\r\n        assertEquals(expectedStatsDClient,actualStatsDClient);\r\n    }\r\n\r\nSince equals is overridden, `assertEquals` should implicitly calls the `equals` and verifies ","title":"Junit test Java static method","body":"<p>Since you have mentioned the <code>StatsDClient</code> doesn't have any getters, can you override the <code>equals</code> method of <code>StatsDClient</code> something like this.\nThis way you'd not need getters</p>\n<pre><code>public class StatsDClient {\n    private String hostName;\n    private String prefix;\n    private int port;\n \n    public StatsDClient(String hostName, String prefix, int port) {\n        this.hostName = hostName;\n        this.prefix = prefix;\n        this.port = port;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (!this.getClass().equals(obj.getClass())) {\n            return false;\n        }\n        StatsDClient otherStatsClient = (StatsDClient) obj;\n\n        return this.hostName.equals(otherStatsClient.hostName) &amp;&amp; this.prefix.equals(otherStatsClient.prefix)\n                &amp;&amp; this.port == otherStatsClient.port;\n    }\n}\n</code></pre>\n<p>You can build expected <code>StatsDClient</code> and assert against the result</p>\n<pre><code>@Test\npublic void verifyStatsDClient() {\n    StatsDClient actualStatsDClient = exampleClass.getClient();\n    StatsDClient expectedStatsDClient = new StatsDClient(&quot;expectedHost&quot;,&quot;expectedPrefix&quot;,expectedPort);\n    assertEquals(expectedStatsDClient,actualStatsDClient);\n}\n</code></pre>\n<p>Since equals is overridden, <code>assertEquals</code> should implicitly calls the <code>equals</code> and verifies</p>\n"}],"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648639279,"creation_date":1648572479,"question_id":71665932,"body_markdown":"I&#39;m bit newbie to Java. Is it possible to Unit test scenario like this?\r\n    \r\n    public class exampleClass {\r\n    \r\n        public static StatsDClient getClient() {\r\n            return new NonBlockingStatsDClientBuilder()\r\n                    .prefix(&quot;statsd1&quot;)\r\n                    .hostname(&quot;localhost&quot;)\r\n                    .port(4000)\r\n                    .build();\r\n        }\r\n    }","title":"Junit test Java static method","body":"<p>I'm bit newbie to Java. Is it possible to Unit test scenario like this?</p>\n<pre><code>public class exampleClass {\n\n    public static StatsDClient getClient() {\n        return new NonBlockingStatsDClientBuilder()\n                .prefix(&quot;statsd1&quot;)\n                .hostname(&quot;localhost&quot;)\n                .port(4000)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","httprequest"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1648638156,"post_id":71675797,"comment_id":126673754,"body_markdown":"Can you post your `@GetMapping` method?","body":"Can you post your <code>@GetMapping</code> method?"},{"owner":{"account_id":1853146,"reputation":1785,"user_id":2256551,"accept_rate":76,"display_name":"SAR"},"score":0,"creation_date":1648638252,"post_id":71675797,"comment_id":126673786,"body_markdown":"private static final Logger logger = LogManager.getLogger(); remove static from it","body":"private static final Logger logger = LogManager.getLogger(); remove static from it"},{"owner":{"account_id":2982484,"reputation":373,"user_id":2532173,"accept_rate":92,"display_name":"Lucas Bertollo"},"score":1,"creation_date":1648638303,"post_id":71675797,"comment_id":126673803,"body_markdown":"Your method param Boo is missing @RequestBody","body":"Your method param Boo is missing @RequestBody"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1648638922,"post_id":71675797,"comment_id":126674015,"body_markdown":"@Sar Why should I?","body":"@Sar Why should I?"}],"answers":[{"tags":[],"owner":{"account_id":2982484,"reputation":373,"user_id":2532173,"accept_rate":92,"display_name":"Lucas Bertollo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648639098,"creation_date":1648639098,"answer_id":71676261,"question_id":71675797,"body_markdown":"When you need to bound a request body to method parameter you should use @RequestBody annotation. That&#39;s why your Boo object attributes are null.\r\n\r\n    @PostMapping(path = &quot;/foo&quot;)\r\n    public String add(@RequestBody Boo boo, HttpServletRequest request)\r\n\r\nDocs:\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html","title":"Spring RestController Mapping method has object with null fields when making request with valid JSON body","body":"<p>When you need to bound a request body to method parameter you should use @RequestBody annotation. That's why your Boo object attributes are null.</p>\n<pre><code>@PostMapping(path = &quot;/foo&quot;)\npublic String add(@RequestBody Boo boo, HttpServletRequest request)\n</code></pre>\n<p>Docs:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html</a></p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71676261,"answer_count":1,"score":4,"last_activity_date":1648639098,"creation_date":1648637225,"question_id":71675797,"body_markdown":"I am trying to test my `@PostMapping` in on of my `@RestController`.\r\nThat controller looks like this:\r\n\r\n    @RestController\r\n    public class MyTestController\r\n    {\r\n    \tprivate static final Logger logger = LogManager.getLogger();\r\n    \r\n    \t@PostMapping(path = &quot;/foo&quot;)\r\n    \tpublic String add(@Valid Boo boo, HttpServletRequest request)\r\n    \t{\r\n    \t\tif (LoadManager.insert(request.getRemoteAddr()) &lt; 3)\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tBooManager.persist(boo);\r\n    \t\t\t\treturn &quot;1&quot;;\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tlogger.error(ExceptionUtils.getStackTrace(e));\r\n    \t\t\t}\r\n    \t\treturn &quot;0&quot;;\r\n    \t}\r\n    }\r\n\r\nHowever `boo` fields are all null when I make a post request and look at boo object during debug in that add method.\r\n\r\nRequest body:\r\n\r\n    {\r\n        &quot;officialName&quot; : &quot;test&quot;,\r\n        &quot;phone&quot; : &quot;test&quot;,\r\n        &quot;email&quot; : &quot;test&quot;,\r\n        &quot;churchArea&quot; : &quot;test&quot;,\r\n        &quot;deanery&quot; : &quot;test&quot;,\r\n        &quot;town&quot; : &quot;test&quot;,\r\n        &quot;pass&quot; : &quot;test152S56&quot;\r\n    }\r\n\r\nRequest header `Content-Type` is set to `application/json`\r\n\r\nBoo class:\r\n\r\n    @Data\r\n    public class Boo\r\n    {\r\n    \t@Size(max = 1000)\r\n    \t@NotBlank\r\n    \tprivate String officialName;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String phone;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String email;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String churchArea;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String deanery;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String town;\r\n    \r\n    \t@Size(max = 1000)\r\n    \t@NotBlank\r\n    \tprivate String pass;\r\n    }\r\n@Data annotation is from [lombok][1], which generates, among other things, public getters and setter for that class.\r\n\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data","title":"Spring RestController Mapping method has object with null fields when making request with valid JSON body","body":"<p>I am trying to test my <code>@PostMapping</code> in on of my <code>@RestController</code>.\nThat controller looks like this:</p>\n<pre><code>@RestController\npublic class MyTestController\n{\n    private static final Logger logger = LogManager.getLogger();\n\n    @PostMapping(path = &quot;/foo&quot;)\n    public String add(@Valid Boo boo, HttpServletRequest request)\n    {\n        if (LoadManager.insert(request.getRemoteAddr()) &lt; 3)\n            try\n            {\n                BooManager.persist(boo);\n                return &quot;1&quot;;\n            }\n            catch (Exception e)\n            {\n                logger.error(ExceptionUtils.getStackTrace(e));\n            }\n        return &quot;0&quot;;\n    }\n}\n</code></pre>\n<p>However <code>boo</code> fields are all null when I make a post request and look at boo object during debug in that add method.</p>\n<p>Request body:</p>\n<pre><code>{\n    &quot;officialName&quot; : &quot;test&quot;,\n    &quot;phone&quot; : &quot;test&quot;,\n    &quot;email&quot; : &quot;test&quot;,\n    &quot;churchArea&quot; : &quot;test&quot;,\n    &quot;deanery&quot; : &quot;test&quot;,\n    &quot;town&quot; : &quot;test&quot;,\n    &quot;pass&quot; : &quot;test152S56&quot;\n}\n</code></pre>\n<p>Request header <code>Content-Type</code> is set to <code>application/json</code></p>\n<p>Boo class:</p>\n<pre><code>@Data\npublic class Boo\n{\n    @Size(max = 1000)\n    @NotBlank\n    private String officialName;\n\n    @Size(max = 100)\n    @NotBlank\n    private String phone;\n\n    @Size(max = 100)\n    @NotBlank\n    private String email;\n\n    @Size(max = 100)\n    @NotBlank\n    private String churchArea;\n\n    @Size(max = 100)\n    @NotBlank\n    private String deanery;\n\n    @Size(max = 100)\n    @NotBlank\n    private String town;\n\n    @Size(max = 1000)\n    @NotBlank\n    private String pass;\n}\n</code></pre>\n<p>@Data annotation is from <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">lombok</a>, which generates, among other things, public getters and setter for that class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1518567242,"post_id":48777744,"comment_id":84557094,"body_markdown":"You&#39;ll have to avoid writing to the map while copying it, probably by synchronizing.","body":"You&#39;ll have to avoid writing to the map while copying it, probably by synchronizing."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1518567476,"post_id":48777744,"comment_id":84557158,"body_markdown":"Unless you have access to and can modify every place in the code that _writes_ to the map you&#39;re out of luck.  Or, substitute a `ConcurrentHashMap` at instantiation.","body":"Unless you have access to and can modify every place in the code that <i>writes</i> to the map you&#39;re out of luck.  Or, substitute a <code>ConcurrentHashMap</code> at instantiation."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1518567957,"post_id":48777744,"comment_id":84557287,"body_markdown":"If you can&#39;t control access and type of the map, a hacky workaround is to catch CME and retry a couple of times in the hope of getting lucky. The success rate will obviously depend on how often the map is written to.","body":"If you can&#39;t control access and type of the map, a hacky workaround is to catch CME and retry a couple of times in the hope of getting lucky. The success rate will obviously depend on how often the map is written to."},{"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"score":0,"creation_date":1518568112,"post_id":48777744,"comment_id":84557331,"body_markdown":"Will toArray method work as expected if I am interested in only the keySet of the Map https://www.journaldev.com/378/java-util-concurrentmodificationexception#to-avoid-concurrentmodificationexception-in-multi-threaded-environment . I think it should not but not sure","body":"Will toArray method work as expected if I am interested in only the keySet of the Map <a href=\"https://www.journaldev.com/378/java-util-concurrentmodificationexception#to-avoid-concurrentmodificationexception-in-multi-threaded-environment\" rel=\"nofollow noreferrer\">journaldev.com/378/&hellip;</a> . I think it should not but not sure"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1518569231,"post_id":48777744,"comment_id":84557651,"body_markdown":"Are you actually using the `HashMap` across multiple threads? Have you actually run into a `ConcurrentModificationException`, or are you simply worried you might see one? What have you tried so far?","body":"Are you actually using the <code>HashMap</code> across multiple threads? Have you actually run into a <code>ConcurrentModificationException</code>, or are you simply worried you might see one? What have you tried so far?"},{"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"score":0,"creation_date":1518569473,"post_id":48777744,"comment_id":84557722,"body_markdown":"We are getting ConcurrentModificationException. See the options that I see are have a ConcurrentHashMap, keep a separate copy of HashMap, or synchronize all part. Though not saying they are not possible I wanted to know if there is an easy way.","body":"We are getting ConcurrentModificationException. See the options that I see are have a ConcurrentHashMap, keep a separate copy of HashMap, or synchronize all part. Though not saying they are not possible I wanted to know if there is an easy way."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1518571550,"post_id":48777744,"comment_id":84558244,"body_markdown":"As I said in my answer `ConcurrentModificationException` can happen even if you&#39;re not using multiple threads. If you *are* using multiple threads you can&#39;t safely use `HashMap` without synchronizing everything. The &quot;easy&quot; option would be to use `ConcurrentHashMap`, but it&#39;s difficult to give concrete advice without concrete example code to look at.","body":"As I said in my answer <code>ConcurrentModificationException</code> can happen even if you&#39;re not using multiple threads. If you <i>are</i> using multiple threads you can&#39;t safely use <code>HashMap</code> without synchronizing everything. The &quot;easy&quot; option would be to use <code>ConcurrentHashMap</code>, but it&#39;s difficult to give concrete advice without concrete example code to look at."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1614378171,"post_id":48777744,"comment_id":117376906,"body_markdown":"@dimo414 `ConcurrentHashMap` only makes each method call into the map thread safe. It does not make higher-level operations like copying out all elements thread safe. (`ConcurrentHashMap` has a `putAll` method that can copy another collection _into_ the map, but it doesn&#39;t have a method to copy all elements out.)","body":"@dimo414 <code>ConcurrentHashMap</code> only makes each method call into the map thread safe. It does not make higher-level operations like copying out all elements thread safe. (<code>ConcurrentHashMap</code> has a <code>putAll</code> method that can copy another collection <i>into</i> the map, but it doesn&#39;t have a method to copy all elements out.)"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1614384174,"post_id":48777744,"comment_id":117378149,"body_markdown":"@TedHopp copying the contents of a `ConcurrentHashMap` is indeed thread-safe (as is any any other operation involving iterating over the map). It isn&#39;t _atomic_, but it is safe.","body":"@TedHopp copying the contents of a <code>ConcurrentHashMap</code> is indeed thread-safe (as is any any other operation involving iterating over the map). It isn&#39;t <i>atomic</i>, but it is safe."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1614470337,"post_id":48777744,"comment_id":117396206,"body_markdown":"@dimo414 - Sure, it&#39;s thread safe in the sense of preserving the integrity of the data structure. But copying is only thread-safe if you&#39;re copying _from_ a `ConcurrentHashMap`. The problem here is copying from any old `HashMap`. I don&#39;t see how copying _into_ a `ConcurrentHashMap` helps with this problem. And wrapping the source `HashMap` in a `ConcurrentHashMap` won&#39;t help if there are other references to the map floating around in unsynchronized threads.","body":"@dimo414 - Sure, it&#39;s thread safe in the sense of preserving the integrity of the data structure. But copying is only thread-safe if you&#39;re copying <i>from</i> a <code>ConcurrentHashMap</code>. The problem here is copying from any old <code>HashMap</code>. I don&#39;t see how copying <i>into</i> a <code>ConcurrentHashMap</code> helps with this problem. And wrapping the source <code>HashMap</code> in a <code>ConcurrentHashMap</code> won&#39;t help if there are other references to the map floating around in unsynchronized threads."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1614533999,"post_id":48777744,"comment_id":117408633,"body_markdown":"Consider posting a new question with more details about what you&#39;re trying to understand; I&#39;d be happy to say more but it&#39;s difficult to do so in the comments of an old question. But it&#39;s perfectly safe to copy the contents of a HashMap into a CHM.","body":"Consider posting a new question with more details about what you&#39;re trying to understand; I&#39;d be happy to say more but it&#39;s difficult to do so in the comments of an old question. But it&#39;s perfectly safe to copy the contents of a HashMap into a CHM."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1518567861,"creation_date":1518567575,"answer_id":48777813,"question_id":48777744,"body_markdown":"You will need to ensure that the original HashMap is not modified while creating the new map. The most direct way to do this is to synchronize on the original map:\r\n\r\n    HashMap&lt;K, V&gt; original = ...\r\n\r\n    HashMap&lt;K, V&gt; copy;\r\n    synchronized (original) {\r\n        copy = new HashMap&lt;&gt;(original);\r\n    }\r\n\r\nThis will only work in a thread-safe manner if all code that might modify `original` is synchronized on the same object (`original` itself, in my sample code, although it could be any shared object). If `original` is an object returned by `Collections.synchronizedMap()`, then you _must_ synchronize on `original` for all synchronization to work properly; using another lock object won&#39;t work due to how synchronized maps operate internally.","title":"Thread safe way to copy a HashMap","body":"<p>You will need to ensure that the original HashMap is not modified while creating the new map. The most direct way to do this is to synchronize on the original map:</p>\n\n<pre><code>HashMap&lt;K, V&gt; original = ...\n\nHashMap&lt;K, V&gt; copy;\nsynchronized (original) {\n    copy = new HashMap&lt;&gt;(original);\n}\n</code></pre>\n\n<p>This will only work in a thread-safe manner if all code that might modify <code>original</code> is synchronized on the same object (<code>original</code> itself, in my sample code, although it could be any shared object). If <code>original</code> is an object returned by <code>Collections.synchronizedMap()</code>, then you <em>must</em> synchronize on <code>original</code> for all synchronization to work properly; using another lock object won't work due to how synchronized maps operate internally.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518569181,"creation_date":1518569181,"answer_id":48778008,"question_id":48777744,"body_markdown":"First off, it&#39;s *never* safe to use a `HashMap` across multiple threads without some sort of external synchronization. If you&#39;re doing so currently and aren&#39;t running into issues that&#39;s just luck, and you&#39;ll see very strange bugs or even crashes in the near future.\r\n\r\nThe easiest option is to use a `ConcurrentHashMap`, which is designed to be safely used by multiple threads at the same time. You can then safely copy the map into another map whenever you&#39;d like.\r\n\r\nAs Ted Hopp mentions, using `synchronized` blocks is a potential alternative, but it&#39;s much more error-prone if not done correctly.\r\n\r\n---\r\n\r\nNote also that you can get a `ConcurrentModificationException` even if you&#39;re not working with a `HashMap` across multiple threads. For example:\r\n\r\n    for (K key : map.keySet()) {\r\n      map.remove(key);\r\n    }\r\n\r\nwould cause a `ConcurrentModificationException` because the map is modified &quot;concurrently&quot; with an attempt to iterate over its contents. So just seeing a CME does not mean that you need a thread-safe solution, you may simply need to change how you&#39;re modifying the collection:\r\n\r\n    Set&lt;K&gt; keysSnapshot = new HashSet&lt;&gt;(map.keySet());\r\n    for (K key : keysSnapshot) {\r\n      map.remove(key);\r\n    }","title":"Thread safe way to copy a HashMap","body":"<p>First off, it's <em>never</em> safe to use a <code>HashMap</code> across multiple threads without some sort of external synchronization. If you're doing so currently and aren't running into issues that's just luck, and you'll see very strange bugs or even crashes in the near future.</p>\n\n<p>The easiest option is to use a <code>ConcurrentHashMap</code>, which is designed to be safely used by multiple threads at the same time. You can then safely copy the map into another map whenever you'd like.</p>\n\n<p>As Ted Hopp mentions, using <code>synchronized</code> blocks is a potential alternative, but it's much more error-prone if not done correctly.</p>\n\n<hr>\n\n<p>Note also that you can get a <code>ConcurrentModificationException</code> even if you're not working with a <code>HashMap</code> across multiple threads. For example:</p>\n\n<pre><code>for (K key : map.keySet()) {\n  map.remove(key);\n}\n</code></pre>\n\n<p>would cause a <code>ConcurrentModificationException</code> because the map is modified \"concurrently\" with an attempt to iterate over its contents. So just seeing a CME does not mean that you need a thread-safe solution, you may simply need to change how you're modifying the collection:</p>\n\n<pre><code>Set&lt;K&gt; keysSnapshot = new HashSet&lt;&gt;(map.keySet());\nfor (K key : keysSnapshot) {\n  map.remove(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1248518,"reputation":46,"user_id":1209455,"display_name":"user1209455"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648639026,"creation_date":1648639026,"answer_id":71676250,"question_id":48777744,"body_markdown":"\r\nUsing \r\n\r\n```\r\n  var in = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n```\r\n\r\nthis will copy the map inside the mutex:\r\n\r\n\r\n```\r\n  private static &lt;K, V&gt; Map&lt;K, V&gt; copy(Map&lt;K, V&gt; in) {\r\n    if (in == null) {\r\n      return null;\r\n    }\r\n    Map&lt;K, V&gt; out = new HashMap&lt;&gt;();\r\n    in.forEach((k, v) -&gt; out.put(k, v));\r\n    return out;\r\n  }\r\n```\r\n\r\n\r\n","title":"Thread safe way to copy a HashMap","body":"<p>Using</p>\n<pre><code>  var in = Collections.synchronizedMap(new HashMap&lt;&gt;());\n</code></pre>\n<p>this will copy the map inside the mutex:</p>\n<pre><code>  private static &lt;K, V&gt; Map&lt;K, V&gt; copy(Map&lt;K, V&gt; in) {\n    if (in == null) {\n      return null;\n    }\n    Map&lt;K, V&gt; out = new HashMap&lt;&gt;();\n    in.forEach((k, v) -&gt; out.put(k, v));\n    return out;\n  }\n</code></pre>\n"}],"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648639026,"creation_date":1518567181,"question_id":48777744,"body_markdown":"I have a scenario where I want to copy a HashMap into a new HashMap but in a thread safe manner. I want to do this to avoid any Concurrent Modification exceptions while copying the map.","title":"Thread safe way to copy a HashMap","body":"<p>I have a scenario where I want to copy a HashMap into a new HashMap but in a thread safe manner. I want to do this to avoid any Concurrent Modification exceptions while copying the map.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1648565727,"post_id":71662617,"comment_id":126653829,"body_markdown":"at the very least, consider using maven and save yourself losing hair over every single dependency (or dependency update)","body":"at the very least, consider using maven and save yourself losing hair over every single dependency (or dependency update)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1648598277,"post_id":71662617,"comment_id":126663826,"body_markdown":"If your goal is to compile from the command-line without Android Studio, then you should use `gradle`.","body":"If your goal is to compile from the command-line without Android Studio, then you should use <code>gradle</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648638727,"creation_date":1648561524,"answer_id":71663233,"question_id":71662617,"body_markdown":"OK, so the problem is that the `NonNull` annotation is not defined in that JAR file.  (Or at least, not in the `android.jar` that I found ... on Github.)\r\n\r\nI managed to find a JAR containing `androidx.annotation.NonNull` in the Maven Central Repository: https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0\r\n\r\nBut I suspect that you are going to find more of these issues as your project gets more complicated.\r\n\r\n---------------------\r\n\r\n&gt; Is there any way to let `javac` know that I am using AndroidX?\r\n\r\nNo there isn&#39;t.  The `javac` compiler understands nothing about `Android` let alone `AndroidX`.  It only knows about what you added to the compile-time classpath.  So if you are going to persist with compiling using `javac` directly, you are going to have to figure out how to find the JARs that you need for yourself&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nMy recommendation would be:\r\n\r\n  - Just use Android Studio.  It really isn&#39;t that slow ... when you take into account all of the features it provides to make coding, testing, debugging, etc.\r\n\r\n  - You can also use the Gradle build tool&lt;sup&gt;2&lt;/sup&gt; independently of Android Studio.   It has a plugin designed especially for building Android apps; see https://developer.android.com/studio/build.  Among other things, it will automate the downloading of the dependencies and the configuration of the classpath.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - And down the track you will need to manually *update* the JARs that you manually downloaded, etc.\r\n&lt;br&gt;2 - There are alternatives such as Maven, Ant and so on, but AFAIK Gradle has the best integration for Android.&lt;/sup&gt;","title":"Get javac to use androidx","body":"<p>OK, so the problem is that the <code>NonNull</code> annotation is not defined in that JAR file.  (Or at least, not in the <code>android.jar</code> that I found ... on Github.)</p>\n<p>I managed to find a JAR containing <code>androidx.annotation.NonNull</code> in the Maven Central Repository: <a href=\"https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0</a></p>\n<p>But I suspect that you are going to find more of these issues as your project gets more complicated.</p>\n<hr />\n<blockquote>\n<p>Is there any way to let <code>javac</code> know that I am using AndroidX?</p>\n</blockquote>\n<p>No there isn't.  The <code>javac</code> compiler understands nothing about <code>Android</code> let alone <code>AndroidX</code>.  It only knows about what you added to the compile-time classpath.  So if you are going to persist with compiling using <code>javac</code> directly, you are going to have to figure out how to find the JARs that you need for yourself<sup>1</sup>.</p>\n<p>My recommendation would be:</p>\n<ul>\n<li><p>Just use Android Studio.  It really isn't that slow ... when you take into account all of the features it provides to make coding, testing, debugging, etc.</p>\n</li>\n<li><p>You can also use the Gradle build tool<sup>2</sup> independently of Android Studio.   It has a plugin designed especially for building Android apps; see <a href=\"https://developer.android.com/studio/build\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build</a>.  Among other things, it will automate the downloading of the dependencies and the configuration of the classpath.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1 - And down the track you will need to manually <em>update</em> the JARs that you manually downloaded, etc.\n<br>2 - There are alternatives such as Maven, Ant and so on, but AFAIK Gradle has the best integration for Android.</sup></p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648598468,"creation_date":1648598468,"answer_id":71670073,"question_id":71662617,"body_markdown":"&gt; Is there any way to let javac know that I am using AndroidX?\r\n\r\nYes, you can download the JAR files for the libraries you are using and add them to the classpath.\r\n\r\nHowever, this leads down a path of suffering and sadness because you will have to download many different JAR files that are implement different parts the `androidx` package, depending on what features you need.\r\n\r\nI strongly suggest you to use Android Studio. It is an incredible tool that makes Android development easier than it otherwise would be.\r\n\r\nIf your goal here is to compile your app from the command line, then you need to learn about `gradle`. This is a tool that will download the dependencies for you then run `javac` with the correct classpath set. Basically it automates all the steps you would need to take to do this manually.","title":"Get javac to use androidx","body":"<blockquote>\n<p>Is there any way to let javac know that I am using AndroidX?</p>\n</blockquote>\n<p>Yes, you can download the JAR files for the libraries you are using and add them to the classpath.</p>\n<p>However, this leads down a path of suffering and sadness because you will have to download many different JAR files that are implement different parts the <code>androidx</code> package, depending on what features you need.</p>\n<p>I strongly suggest you to use Android Studio. It is an incredible tool that makes Android development easier than it otherwise would be.</p>\n<p>If your goal here is to compile your app from the command line, then you need to learn about <code>gradle</code>. This is a tool that will download the dependencies for you then run <code>javac</code> with the correct classpath set. Basically it automates all the steps you would need to take to do this manually.</p>\n"}],"owner":{"account_id":17144652,"reputation":11,"user_id":12407861,"display_name":"FelinaSaber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71663233,"answer_count":2,"score":0,"last_activity_date":1648638727,"creation_date":1648559185,"question_id":71662617,"body_markdown":"I am now coding Android apps without using Android Studio, and when I compile, I encountered the errors:\r\n&gt; ./src/com/example/projectname/GamePanel.java:8: error: cannot find symbol\r\n&gt; import androidx.annotation.NonNull;\r\n\r\nwhere the &quot;^&quot; points at the period before &quot;NonNull&quot;, and \r\n&gt; error: package androidx.appcompat.app does not exist\r\n\r\nAnd my compile command is:\r\n\r\n`javac -d obj -sourcepath src -classpath ../android/platforms/android-32/android.jar ./src/com/example/projectname/*.java`\r\n\r\nThe internet tells me that I should set android.useAndroidX to true, but I am not using Android Studio. Is there any way to let javac know that I am using AndroidX?","title":"Get javac to use androidx","body":"<p>I am now coding Android apps without using Android Studio, and when I compile, I encountered the errors:</p>\n<blockquote>\n<p>./src/com/example/projectname/GamePanel.java:8: error: cannot find symbol\nimport androidx.annotation.NonNull;</p>\n</blockquote>\n<p>where the &quot;^&quot; points at the period before &quot;NonNull&quot;, and</p>\n<blockquote>\n<p>error: package androidx.appcompat.app does not exist</p>\n</blockquote>\n<p>And my compile command is:</p>\n<p><code>javac -d obj -sourcepath src -classpath ../android/platforms/android-32/android.jar ./src/com/example/projectname/*.java</code></p>\n<p>The internet tells me that I should set android.useAndroidX to true, but I am not using Android Studio. Is there any way to let javac know that I am using AndroidX?</p>\n"},{"tags":["java","regex-lookarounds"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1648638570,"post_id":71676003,"comment_id":126673901,"body_markdown":"You may simply split your string with the pattern, `DATA.split(&quot;(?&lt;=de)lim&quot;)`. See https://ideone.com/aZDakN","body":"You may simply split your string with the pattern, <code>DATA.split(&quot;(?&lt;=de)lim&quot;)</code>. See <a href=\"https://ideone.com/aZDakN\" rel=\"nofollow noreferrer\">ideone.com/aZDakN</a>"},{"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"score":0,"creation_date":1648638867,"post_id":71676003,"comment_id":126673992,"body_markdown":"I am aware you can achieve a similar result in other ways, my question is specifically about `Scanner`","body":"I am aware you can achieve a similar result in other ways, my question is specifically about <code>Scanner</code>"},{"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"score":0,"creation_date":1648640527,"post_id":71676003,"comment_id":126674617,"body_markdown":"I think this is a different version of this JDK bug: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407","body":"I think this is a different version of this JDK bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407</a>"}],"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648638339,"creation_date":1648637992,"question_id":71676003,"body_markdown":"If I use a `Scanner` with a delimiter that contains a lookbehind, like `(?&lt;=de)lim`, the delimiter is not skipped when I design my input such that the internal buffer of the Scanner starts with `&quot;lim&quot;`, even though in the source text it is preceded by `&quot;de&quot;`:\r\n\r\n```java\r\npublic class Scanning {\r\n    final static int SCANNER_BUFFER_SIZE = 1024 * 2;\r\n    final static int OFFSET = 5;\r\n    final static String DATA = &quot;=&quot;.repeat(SCANNER_BUFFER_SIZE - OFFSET) + &quot;delimdelim&quot; + &quot;=&quot;.repeat(10);\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(new StringReader(DATA));\r\n\r\n        scanner.useDelimiter(&quot;(?&lt;=de)lim&quot;);\r\n\r\n        while(scanner.hasNext()) {\r\n            System.out.println(scanner.next().replaceAll(&quot;=+&quot;, &quot;=&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI think that `DATA` should be split on these delimiters:\r\n\r\n```\r\n===(...)===delimdelim==========\r\n             ^~~  ^~~\r\n```\r\n\r\nAnd so the output should be:\r\n\r\n\r\n```\r\n=de\r\nde\r\n=\r\n```\r\n\r\nHowever, this outputs (openjdk version &quot;17.0.2&quot; 2022-01-18):\r\n\r\n```\r\n=de\r\nlimde\r\n=\r\n```\r\n\r\nI can see in the debugger that when the scanner is about to return `&quot;limde&quot;`, `scanner.buf` and `scanner.matcher.text` contain `&quot;limdelim...&quot;`, so I suspect that it the cause. If I alter `OFFSET` to e.g. `3` or `7`, my expected behavior occurs.\r\n\r\nI could not find any reference to this behavior in the documentation of `Scanner` or `Pattern`, so is this intended? Is it not safe to use lookaround for the delimiter of a `Scanner`?","title":"Scanner with a lookbehind delimiter does not work near Scanner.BUFFER_SIZE boundary","body":"<p>If I use a <code>Scanner</code> with a delimiter that contains a lookbehind, like <code>(?&lt;=de)lim</code>, the delimiter is not skipped when I design my input such that the internal buffer of the Scanner starts with <code>&quot;lim&quot;</code>, even though in the source text it is preceded by <code>&quot;de&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scanning {\n    final static int SCANNER_BUFFER_SIZE = 1024 * 2;\n    final static int OFFSET = 5;\n    final static String DATA = &quot;=&quot;.repeat(SCANNER_BUFFER_SIZE - OFFSET) + &quot;delimdelim&quot; + &quot;=&quot;.repeat(10);\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(new StringReader(DATA));\n\n        scanner.useDelimiter(&quot;(?&lt;=de)lim&quot;);\n\n        while(scanner.hasNext()) {\n            System.out.println(scanner.next().replaceAll(&quot;=+&quot;, &quot;=&quot;));\n        }\n    }\n}\n</code></pre>\n<p>I think that <code>DATA</code> should be split on these delimiters:</p>\n<pre><code>===(...)===delimdelim==========\n             ^~~  ^~~\n</code></pre>\n<p>And so the output should be:</p>\n<pre><code>=de\nde\n=\n</code></pre>\n<p>However, this outputs (openjdk version &quot;17.0.2&quot; 2022-01-18):</p>\n<pre><code>=de\nlimde\n=\n</code></pre>\n<p>I can see in the debugger that when the scanner is about to return <code>&quot;limde&quot;</code>, <code>scanner.buf</code> and <code>scanner.matcher.text</code> contain <code>&quot;limdelim...&quot;</code>, so I suspect that it the cause. If I alter <code>OFFSET</code> to e.g. <code>3</code> or <code>7</code>, my expected behavior occurs.</p>\n<p>I could not find any reference to this behavior in the documentation of <code>Scanner</code> or <code>Pattern</code>, so is this intended? Is it not safe to use lookaround for the delimiter of a <code>Scanner</code>?</p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1586263536,"post_id":61079389,"comment_id":108059294,"body_markdown":"You can modify environment variables, but not the build command? Why that?","body":"You can modify environment variables, but not the build command? Why that?"},{"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"score":0,"creation_date":1586263667,"post_id":61079389,"comment_id":108059385,"body_markdown":"It is a gitlab-ci build, I cannot modify the repo, but I can modify the environment variables in group level.","body":"It is a gitlab-ci build, I cannot modify the repo, but I can modify the environment variables in group level."}],"answers":[{"tags":[],"owner":{"account_id":24744654,"reputation":21,"user_id":18630986,"display_name":"flesser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648638326,"creation_date":1648638326,"answer_id":71676089,"question_id":61079389,"body_markdown":"You could try something like this in your gitlab-ci build script, just before calling `mvn`:  \r\n(see https://maven.apache.org/configure.html#mvn-maven-config-file)\r\n```bash\r\nmkdir -p .mvn &amp;&amp; echo &quot;-s /tmp/settings.xml&quot; &gt;&gt; .mvn/maven.config\r\n```\r\n\r\nThis does not modify the repo, only adds a file to the local checkout within the running build job.\r\n\r\n--- \r\n\r\n**Starting with Maven 4** this should also work:\r\n```bash\r\nexport MAVEN_ARGS=&quot;-s /tmp/settings.xml&quot;\r\n```\r\nsee https://maven.apache.org/configure.html#maven_args-environment-variable\r\n","title":"Maven build: set settings.xml path from environment variable","body":"<p>You could try something like this in your gitlab-ci build script, just before calling <code>mvn</code>:<br />\n(see <a href=\"https://maven.apache.org/configure.html#mvn-maven-config-file\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html#mvn-maven-config-file</a>)</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mkdir -p .mvn &amp;&amp; echo &quot;-s /tmp/settings.xml&quot; &gt;&gt; .mvn/maven.config\n</code></pre>\n<p>This does not modify the repo, only adds a file to the local checkout within the running build job.</p>\n<hr />\n<p><strong>Starting with Maven 4</strong> this should also work:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_ARGS=&quot;-s /tmp/settings.xml&quot;\n</code></pre>\n<p>see <a href=\"https://maven.apache.org/configure.html#maven_args-environment-variable\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html#maven_args-environment-variable</a></p>\n"}],"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648638326,"creation_date":1586260160,"question_id":61079389,"body_markdown":"How can I set the path of the settings.xml from environment variable in a mvn build?\r\n\r\nI have tried: \r\n\r\n    export MAVEN_OPTS=&quot;-s /tmp/settings.xml&quot;\r\n\r\nor \r\n\r\n    export MAVEN_OPTS=&quot;--settings /tmp/settings.xml&quot;\r\n\r\nbut it not works.\r\n\r\nI need it, because I cannot modify the build command.","title":"Maven build: set settings.xml path from environment variable","body":"<p>How can I set the path of the settings.xml from environment variable in a mvn build?</p>\n\n<p>I have tried: </p>\n\n<pre><code>export MAVEN_OPTS=\"-s /tmp/settings.xml\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>export MAVEN_OPTS=\"--settings /tmp/settings.xml\"\n</code></pre>\n\n<p>but it not works.</p>\n\n<p>I need it, because I cannot modify the build command.</p>\n"},{"tags":["java","email","smtp","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":184517,"reputation":1199,"user_id":420611,"accept_rate":38,"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1597927210,"creation_date":1512758575,"answer_id":47720397,"question_id":47166425,"body_markdown":"This is the fix for the next guy looking:\r\n\r\n    mail.smtp.starttls.enable=true;\r\n    mail.smtp.ssl.protocols=TLSv1.2;","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>This is the fix for the next guy looking:</p>\n<pre><code>mail.smtp.starttls.enable=true;\nmail.smtp.ssl.protocols=TLSv1.2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7368323,"reputation":151,"user_id":5609398,"display_name":"Vojtěch Zavřel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1597927232,"creation_date":1587109326,"answer_id":61266411,"question_id":47166425,"body_markdown":"It didn&#39;t work for me in one pretty old app and I couldn&#39;t realize why. After some research I found that the `javax.mail` version in the app dependencies was 1.4. You must upgrade to at least 1.5.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>It didn't work for me in one pretty old app and I couldn't realize why. After some research I found that the <code>javax.mail</code> version in the app dependencies was 1.4. You must upgrade to at least 1.5.</p>\n"},{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1625597201,"creation_date":1625597201,"answer_id":68275949,"question_id":47166425,"body_markdown":"I needed both Vojtech Zavrel and Sunny&#39;s answer in my case. I was running Java 1.8 Spring Boot 1.2.5 and running on Big Sur 11.2.3 and spring version 4.2.1.RELEASE. \r\n\r\nAfter I updated my dependency like this \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand I updated my `JavaMailSenderImpl` with\r\n\r\n    Properties prop = new Properties();\r\n    prop.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    prop.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    prop.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;); // Added this line\r\n    prop.setProperty(&quot;mail.smtp.ssl.trust&quot;, mailUri.getHost());\r\n    mailSender.setJavaMailProperties(prop);\r\n\r\n\r\nI saw the `Received fatal alert: protocol_version` error resolve.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>I needed both Vojtech Zavrel and Sunny's answer in my case. I was running Java 1.8 Spring Boot 1.2.5 and running on Big Sur 11.2.3 and spring version 4.2.1.RELEASE.</p>\n<p>After I updated my dependency like this</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I updated my <code>JavaMailSenderImpl</code> with</p>\n<pre><code>Properties prop = new Properties();\nprop.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nprop.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nprop.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;); // Added this line\nprop.setProperty(&quot;mail.smtp.ssl.trust&quot;, mailUri.getHost());\nmailSender.setJavaMailProperties(prop);\n</code></pre>\n<p>I saw the <code>Received fatal alert: protocol_version</code> error resolve.</p>\n"},{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648638311,"creation_date":1648638311,"answer_id":71676087,"question_id":47166425,"body_markdown":"An update to the most recent version (1.6.2.) of Java Mail also fixes the issue. In my case I upgraded from:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis fixed the error\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 421 4.7.66 TLS 1.0 and 1.1 are not supported. Please upgrade/update your client to support TLS 1.2\r\n\r\nI was getting from an Outlook SMTP-Server. No property changes needed.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>An update to the most recent version (1.6.2.) of Java Mail also fixes the issue. In my case I upgraded from:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This fixed the error</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 421 4.7.66 TLS 1.0 and 1.1 are not supported. Please upgrade/update your client to support TLS 1.2</p>\n</blockquote>\n<p>I was getting from an Outlook SMTP-Server. No property changes needed.</p>\n"}],"owner":{"account_id":184517,"reputation":1199,"user_id":420611,"accept_rate":38,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57445,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":47720397,"answer_count":4,"score":24,"last_activity_date":1648638311,"creation_date":1510084687,"question_id":47166425,"body_markdown":"Have a JDK7 app running on Tomcat and it does have the following env settings:\r\n\r\n    -Dhttps.protocols=TLSv1.1,TLSv1.2 \r\n\r\nThe above setting ensures that we don&#39;t use TLS 1.0 when connecting over HTTPS while making API calls etc.\r\n\r\nWe also use the org.springframework.mail.javamail.**JavaMailSenderImpl** class to send outgoing SMTP email, and use these props:\r\n\r\n     mail.smtp.auth=false;mail.smtp.socketFactory.port=2525;mail.smtp.socketFactory.fallback=true;mail.smtp.starttls.enable=true\r\n\r\nThe problem is that the connection to the SMTP email server is failing when it&#39;s upgraded to TLS1.2. \r\n\r\n&gt; javax.net.ssl.SSLHandshakeException: Remote host closed connection\r\n&gt; during handshake\r\n\r\n**Is there a settings or code change that will force the TLS1.2 protocol?**\r\n\r\nI did some searching and it looks like these env settings are only for applet and web clients, not for server side apps\r\n\r\n    -Ddeployment.security.SSLv2Hello=false -Ddeployment.security.SSLv3=false -Ddeployment.security.TLSv1=false\r\n\r\n","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>Have a JDK7 app running on Tomcat and it does have the following env settings:</p>\n\n<pre><code>-Dhttps.protocols=TLSv1.1,TLSv1.2 \n</code></pre>\n\n<p>The above setting ensures that we don't use TLS 1.0 when connecting over HTTPS while making API calls etc.</p>\n\n<p>We also use the org.springframework.mail.javamail.<strong>JavaMailSenderImpl</strong> class to send outgoing SMTP email, and use these props:</p>\n\n<pre><code> mail.smtp.auth=false;mail.smtp.socketFactory.port=2525;mail.smtp.socketFactory.fallback=true;mail.smtp.starttls.enable=true\n</code></pre>\n\n<p>The problem is that the connection to the SMTP email server is failing when it's upgraded to TLS1.2. </p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLHandshakeException: Remote host closed connection\n  during handshake</p>\n</blockquote>\n\n<p><strong>Is there a settings or code change that will force the TLS1.2 protocol?</strong></p>\n\n<p>I did some searching and it looks like these env settings are only for applet and web clients, not for server side apps</p>\n\n<pre><code>-Ddeployment.security.SSLv2Hello=false -Ddeployment.security.SSLv3=false -Ddeployment.security.TLSv1=false\n</code></pre>\n"},{"tags":["java","android","android-listview"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1648617808,"post_id":71670768,"comment_id":126666872,"body_markdown":"Code seems fine . How r you So sure that its not getting called ? Add a break point on `getView` and debug it . Or put a Log inside `getView`.","body":"Code seems fine . How r you So sure that its not getting called ? Add a break point on <code>getView</code> and debug it . Or put a Log inside <code>getView</code>."}],"answers":[{"tags":[],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648610098,"creation_date":1648610098,"answer_id":71671086,"question_id":71670768,"body_markdown":"```\r\n@Override\r\npublic View getView(int i, View view, ViewGroup viewGroup) {\r\n\r\n\r\n    view = LayoutInflater.from(mContext).inflate(R.layout.wordlist_layout, viewGroup, false);\r\n\r\n    TextView wordview1  = view.findViewById(R.id.wordView1);\r\n    wordview1.setText(items.get(i).w1);\r\n\r\n    return view;\r\n}\r\n```","title":"In ListviewAdapter I dont know why getview() function not call","body":"<pre><code>@Override\npublic View getView(int i, View view, ViewGroup viewGroup) {\n\n\n    view = LayoutInflater.from(mContext).inflate(R.layout.wordlist_layout, viewGroup, false);\n\n    TextView wordview1  = view.findViewById(R.id.wordView1);\n    wordview1.setText(items.get(i).w1);\n\n    return view;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13503962,"reputation":153,"user_id":9742636,"display_name":"Alireza Lorestani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648638161,"creation_date":1648638161,"answer_id":71676049,"question_id":71670768,"body_markdown":"I think your problem is the condition in its body, not the whole function. There is no need to check if it is null or not. you can simply inflate the view as mentioned in this [article][1]:\r\n\r\n     @Override\r\n    public View getView(int i, View view, ViewGroup viewGroup) {\r\n        LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        view = inflater.inflate(R.layout.wordlist_layout, viewGroup, false);\r\n        TextView wordview1 = view.findViewById(R.id.wordView1);\r\n        System.out.println(&quot;wordlist layout = &quot; + items.get(i).w1);\r\n        wordview1.setText(items.get(i).w1);\r\n        return view;\r\n    }\r\n\r\n\r\n  [1]: https://www.raywenderlich.com/155-android-listview-tutorial-with-kotlin","title":"In ListviewAdapter I dont know why getview() function not call","body":"<p>I think your problem is the condition in its body, not the whole function. There is no need to check if it is null or not. you can simply inflate the view as mentioned in this <a href=\"https://www.raywenderlich.com/155-android-listview-tutorial-with-kotlin\" rel=\"nofollow noreferrer\">article</a>:</p>\n<pre><code> @Override\npublic View getView(int i, View view, ViewGroup viewGroup) {\n    LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    view = inflater.inflate(R.layout.wordlist_layout, viewGroup, false);\n    TextView wordview1 = view.findViewById(R.id.wordView1);\n    System.out.println(&quot;wordlist layout = &quot; + items.get(i).w1);\n    wordview1.setText(items.get(i).w1);\n    return view;\n}\n</code></pre>\n"}],"owner":{"account_id":24740194,"reputation":1,"user_id":18627032,"display_name":"aswddv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648638161,"creation_date":1648606595,"question_id":71670768,"body_markdown":"i want know why getview() function is not call \r\nmaybe override is wrong?\r\ni want make custom listlayout \r\nwhat&#39;s wrong in listviewadapter?\r\n\r\n\r\n\r\n\r\n\r\n    public class ListViewAdapter extends BaseAdapter {\r\n\r\n    private Context mContext;\r\n    private ArrayList&lt;Word&gt; items;\r\n\r\n    public ListViewAdapter(Context mContext, ArrayList&lt;Word&gt; items) {\r\n        this.mContext = mContext;\r\n        this.items = items;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return items.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int i) {\r\n        return items.get(i);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int i) {\r\n        return i;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int i, View view, ViewGroup viewGroup) {\r\n\r\n        if (view == null) {\r\n            LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            view = inflater.inflate(R.layout.wordlist_layout, viewGroup, false);\r\n        }\r\n        TextView wordview1 = view.findViewById(R.id.wordView1);        \r\n        System.out.println(&quot;wordlist layout = &quot; + items.get(i).w1);\r\n        wordview1.setText(items.get(i).w1);\r\n       \r\n        return view;\r\n    }\r\n\r\n// this is my Main activity code\r\n\r\n    private ArrayList&lt;Word&gt; items;\r\n    private ListViewAdapter listviewadapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button btn = findViewById(R.id.submit_Button);        \r\n\r\n\r\n        btn.setOnClickListener(view -&gt; {           \r\n\r\n            ListView word_listview = findViewById(R.id.Wordle_Word_List);\r\n            items = new ArrayList&lt;Word&gt;();\r\n     \r\n            items.add(new Word(&#39;a&#39;));\r\n            listviewadapter = new ListViewAdapter(getApplicationContext(), items);\r\n            word_listview.setAdapter(listviewadapter);\r\n\r\n\r\n        });\r\n    }\r\n\r\ni dont know what is missing in my code \r\nIn ListviewAdapter I dont know why getview() function not call ","title":"In ListviewAdapter I dont know why getview() function not call","body":"<p>i want know why getview() function is not call\nmaybe override is wrong?\ni want make custom listlayout\nwhat's wrong in listviewadapter?</p>\n<pre><code>public class ListViewAdapter extends BaseAdapter {\n\nprivate Context mContext;\nprivate ArrayList&lt;Word&gt; items;\n\npublic ListViewAdapter(Context mContext, ArrayList&lt;Word&gt; items) {\n    this.mContext = mContext;\n    this.items = items;\n}\n\n\n@Override\npublic int getCount() {\n    return items.size();\n}\n\n@Override\npublic Object getItem(int i) {\n    return items.get(i);\n}\n\n@Override\npublic long getItemId(int i) {\n    return i;\n}\n\n@Override\npublic View getView(int i, View view, ViewGroup viewGroup) {\n\n    if (view == null) {\n        LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        view = inflater.inflate(R.layout.wordlist_layout, viewGroup, false);\n    }\n    TextView wordview1 = view.findViewById(R.id.wordView1);        \n    System.out.println(&quot;wordlist layout = &quot; + items.get(i).w1);\n    wordview1.setText(items.get(i).w1);\n   \n    return view;\n}\n</code></pre>\n<p>// this is my Main activity code</p>\n<pre><code>private ArrayList&lt;Word&gt; items;\nprivate ListViewAdapter listviewadapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button btn = findViewById(R.id.submit_Button);        \n\n\n    btn.setOnClickListener(view -&gt; {           \n\n        ListView word_listview = findViewById(R.id.Wordle_Word_List);\n        items = new ArrayList&lt;Word&gt;();\n \n        items.add(new Word('a'));\n        listviewadapter = new ListViewAdapter(getApplicationContext(), items);\n        word_listview.setAdapter(listviewadapter);\n\n\n    });\n}\n</code></pre>\n<p>i dont know what is missing in my code\nIn ListviewAdapter I dont know why getview() function not call</p>\n"},{"tags":["java","string-formatting"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648638078,"creation_date":1648638078,"answer_id":71676030,"question_id":71675832,"body_markdown":"You can use `DecimalFormat` instead, this works for greater than 1 value as well\r\n\r\n    float someFloat = -0.42f;\r\n    String withoutLeadingZero = new DecimalFormat(&quot;.##&quot;).format(someFloat);\r\n    System.out.println(withoutLeadingZero);","title":"How to format a float so that the digit before the separator is not shown, if it is 0","body":"<p>You can use <code>DecimalFormat</code> instead, this works for greater than 1 value as well</p>\n<pre><code>float someFloat = -0.42f;\nString withoutLeadingZero = new DecimalFormat(&quot;.##&quot;).format(someFloat);\nSystem.out.println(withoutLeadingZero);\n</code></pre>\n"}],"owner":{"account_id":329949,"reputation":1240,"user_id":653770,"accept_rate":52,"display_name":"packoman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676030,"answer_count":1,"score":0,"last_activity_date":1648638078,"creation_date":1648637341,"question_id":71675832,"body_markdown":"I currently something like this:\r\n```\r\nfloat someFloat = -0.42f;\r\nString.format(&quot;%.2f&quot;, someFloat);\r\n```\r\nThis will print as:\r\n```\r\n-0.42\r\n```\r\nI would like to save space, since this is output to a GUI with limited horizontal space. So instead I would like it to print:\r\n\r\n```\r\n-.42\r\n```\r\nand similarly for a positive value, e.g.:\r\n```\r\n.52\r\n```\r\nFor values a with |a|&gt;1, it should still print the digit before the separator, e.g.:\r\n```\r\n42.42\r\n```\r\nHow do I achieve this?","title":"How to format a float so that the digit before the separator is not shown, if it is 0","body":"<p>I currently something like this:</p>\n<pre><code>float someFloat = -0.42f;\nString.format(&quot;%.2f&quot;, someFloat);\n</code></pre>\n<p>This will print as:</p>\n<pre><code>-0.42\n</code></pre>\n<p>I would like to save space, since this is output to a GUI with limited horizontal space. So instead I would like it to print:</p>\n<pre><code>-.42\n</code></pre>\n<p>and similarly for a positive value, e.g.:</p>\n<pre><code>.52\n</code></pre>\n<p>For values a with |a|&gt;1, it should still print the digit before the separator, e.g.:</p>\n<pre><code>42.42\n</code></pre>\n<p>How do I achieve this?</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","reactive"],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648638057,"creation_date":1648638057,"answer_id":71676024,"question_id":71664646,"body_markdown":"Multiple persistance unit are not supported at the moment with Hibernate Reactive on Quarkus, see https://quarkus.io/guides/hibernate-reactive#hr-limitations","title":"Can&#39;t inject a named persistence unit in Quarkus repository","body":"<p>Multiple persistance unit are not supported at the moment with Hibernate Reactive on Quarkus, see <a href=\"https://quarkus.io/guides/hibernate-reactive#hr-limitations\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-reactive#hr-limitations</a></p>\n"}],"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648638057,"creation_date":1648566828,"question_id":71664646,"body_markdown":"I&#39;m trying to inject a named persistence unit in a `PanacheRepositoryBase` and the application fails to initialise with the following exception:\r\n\r\n```\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type javax.persistence.EntityManagerFactory and qualifiers [@PersistenceUnit(value = &quot;primary&quot;)]\r\n\t- java member: com.demo.repository.PeopleRepository#entityManagerFactory\r\n\t- declared on CLASS bean [types=[io.quarkus.hibernate.reactive.panache.PanacheRepositoryBase&lt;com.demo.entity.People, java.util.UUID&gt;, com.demo.repository.PeopleRepository, java.lang.Object], qualifiers=[@Default, @Any], target=com.demo.repository.PeopleRepository]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:524)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:260)\r\n\t... 13 more\r\n```\r\n\r\n**application.properties:**\r\n```\r\nquarkus.datasource.&quot;primary&quot;.db-kind=postgresql\r\nquarkus.datasource.&quot;primary&quot;.reactive.url=postgresql://localhost:5432/db1\r\nquarkus.datasource.&quot;primary&quot;.username=postgres\r\nquarkus.datasource.&quot;primary&quot;.password=root\r\nquarkus.datasource.&quot;primary&quot;.jdbc=false\r\n\r\nquarkus.hibernate-orm.&quot;primary&quot;.datasource=primary\r\nquarkus.hibernate-orm.&quot;primary&quot;.database.default-schema=app1\r\nquarkus.hibernate-orm.&quot;primary&quot;.database.generation.create-schemas=true\r\nquarkus.hibernate-orm.&quot;primary&quot;.database.generation=drop-and-create\r\nquarkus.hibernate-orm.&quot;primary&quot;.packages=com.demo.entity\r\n```\r\n\r\n**Repository:**\r\n```\r\n@ApplicationScoped\r\npublic class PeopleRepository implements PanacheRepositoryBase&lt;People, UUID&gt; {\r\n\r\n    @PersistenceUnit(&quot;primary&quot;) // import io.quarkus.hibernate.orm.PersistenceUnit;\r\n    @Inject\r\n    EntityManagerFactory entityManagerFactory;\r\n}\r\n```\r\n\r\nJust changing as follow, works fine:\r\n```\r\nquarkus.datasource.db-kind=postgresql\r\nquarkus.datasource.reactive.url=postgresql://localhost:5432/db1\r\nquarkus.datasource.username=postgres\r\nquarkus.datasource.password=root\r\nquarkus.datasource.jdbc=false\r\n\r\nquarkus.hibernate-orm.database.default-schema=app1\r\nquarkus.hibernate-orm.database.generation.create-schemas=true\r\nquarkus.hibernate-orm.database.generation=drop-and-create\r\nquarkus.hibernate-orm.packages=com.demo.entity\r\n```\r\n\r\n```\r\n@ApplicationScoped\r\npublic class PeopleRepository implements PanacheRepositoryBase&lt;People, UUID&gt; {\r\n\r\n    @Inject\r\n    EntityManagerFactory entityManagerFactory;\r\n}\r\n```\r\n\r\n**pom.xml (Quarkus 2.7.5.Final):**\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-reactive-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"Can&#39;t inject a named persistence unit in Quarkus repository","body":"<p>I'm trying to inject a named persistence unit in a <code>PanacheRepositoryBase</code> and the application fails to initialise with the following exception:</p>\n<pre><code>Caused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type javax.persistence.EntityManagerFactory and qualifiers [@PersistenceUnit(value = &quot;primary&quot;)]\n    - java member: com.demo.repository.PeopleRepository#entityManagerFactory\n    - declared on CLASS bean [types=[io.quarkus.hibernate.reactive.panache.PanacheRepositoryBase&lt;com.demo.entity.People, java.util.UUID&gt;, com.demo.repository.PeopleRepository, java.lang.Object], qualifiers=[@Default, @Any], target=com.demo.repository.PeopleRepository]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:524)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:260)\n    ... 13 more\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>quarkus.datasource.&quot;primary&quot;.db-kind=postgresql\nquarkus.datasource.&quot;primary&quot;.reactive.url=postgresql://localhost:5432/db1\nquarkus.datasource.&quot;primary&quot;.username=postgres\nquarkus.datasource.&quot;primary&quot;.password=root\nquarkus.datasource.&quot;primary&quot;.jdbc=false\n\nquarkus.hibernate-orm.&quot;primary&quot;.datasource=primary\nquarkus.hibernate-orm.&quot;primary&quot;.database.default-schema=app1\nquarkus.hibernate-orm.&quot;primary&quot;.database.generation.create-schemas=true\nquarkus.hibernate-orm.&quot;primary&quot;.database.generation=drop-and-create\nquarkus.hibernate-orm.&quot;primary&quot;.packages=com.demo.entity\n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>@ApplicationScoped\npublic class PeopleRepository implements PanacheRepositoryBase&lt;People, UUID&gt; {\n\n    @PersistenceUnit(&quot;primary&quot;) // import io.quarkus.hibernate.orm.PersistenceUnit;\n    @Inject\n    EntityManagerFactory entityManagerFactory;\n}\n</code></pre>\n<p>Just changing as follow, works fine:</p>\n<pre><code>quarkus.datasource.db-kind=postgresql\nquarkus.datasource.reactive.url=postgresql://localhost:5432/db1\nquarkus.datasource.username=postgres\nquarkus.datasource.password=root\nquarkus.datasource.jdbc=false\n\nquarkus.hibernate-orm.database.default-schema=app1\nquarkus.hibernate-orm.database.generation.create-schemas=true\nquarkus.hibernate-orm.database.generation=drop-and-create\nquarkus.hibernate-orm.packages=com.demo.entity\n</code></pre>\n<pre><code>@ApplicationScoped\npublic class PeopleRepository implements PanacheRepositoryBase&lt;People, UUID&gt; {\n\n    @Inject\n    EntityManagerFactory entityManagerFactory;\n}\n</code></pre>\n<p><strong>pom.xml (Quarkus 2.7.5.Final):</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-reactive-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","encryption"],"answers":[{"tags":[],"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335292237,"creation_date":1335292237,"answer_id":10303888,"question_id":10303767,"body_markdown":"`KeyGenerator` is used to _generate_ keys\r\n\r\nYou may want to check `KeySpec`, `SecretKey` and `SecretKeyFactory` classes\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/javax/crypto/spec/package-summary.html","title":"Encrypt and Decrypt in Java","body":"<p><code>KeyGenerator</code> is used to <em>generate</em> keys</p>\n\n<p>You may want to check <code>KeySpec</code>, <code>SecretKey</code> and <code>SecretKeyFactory</code> classes</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/javax/crypto/spec/package-summary.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/javax/crypto/spec/package-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":795681,"reputation":375,"user_id":920345,"accept_rate":80,"display_name":"Hugues"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1335292425,"creation_date":1335292425,"answer_id":10303948,"question_id":10303767,"body_markdown":"Here is a sample I made a couple of months ago\r\nThe class encrypt and decrypt data\r\n\r\n    import java.security.*;\r\n    import java.security.spec.*;\r\n    \r\n    import java.io.*;\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.*;\r\n    \r\n    public class TestEncryptDecrypt {\r\n    \r\n    private final String ALGO = &quot;DES&quot;;\r\n    private final String MODE = &quot;ECB&quot;;\r\n    private final String PADDING = &quot;PKCS5Padding&quot;;\r\n    private static int mode = 0;\r\n    \r\n    public static void main(String args[]) {\r\n    \tTestEncryptDecrypt me = new TestEncryptDecrypt();\r\n    \tif(args.length == 0) mode = 2;\r\n    \telse mode = Integer.parseInt(args[0]);\r\n    \tswitch (mode) {\r\n    \tcase 0:\r\n    \t\tme.encrypt();\r\n    \t\tbreak;\r\n    \tcase 1:\r\n    \t\tme.decrypt();\r\n    \t\tbreak;\r\n    \tdefault:\r\n    \t\tme.encrypt();\r\n    \t\tme.decrypt();\r\n    \t}\r\n    }\r\n    \r\n    public void encrypt() {\r\n    try {\r\n    \tSystem.out.println(&quot;Start encryption ...&quot;);\r\n    \r\n    \t/* Get Input Data */\r\n    \tString input = getInputData();\r\n    \tSystem.out.println(&quot;Input data : &quot;+input);\r\n    \r\n    \t/* Create Secret Key */\r\n    \tKeyGenerator keyGen = KeyGenerator.getInstance(ALGO);\r\n    \tSecureRandom random = SecureRandom.getInstance(&quot;SHA1PRNG&quot;, &quot;SUN&quot;);\r\n    \tkeyGen.init(56,random);\r\n          Key sharedKey = keyGen.generateKey();\r\n    \r\n    \t/* Create the Cipher and init it with the secret key */\r\n    \tCipher c = Cipher.getInstance(ALGO+&quot;/&quot;+MODE+&quot;/&quot;+PADDING);\r\n    \t//System.out.println(&quot;\\n&quot; + c.getProvider().getInfo());\r\n    \tc.init(Cipher.ENCRYPT_MODE,sharedKey);\r\n    \tbyte[] ciphertext = c.doFinal(input.getBytes());\r\n    \tSystem.out.println(&quot;Input Encrypted : &quot;+new String(ciphertext,&quot;UTF8&quot;));\r\n    \t\r\n    \t/* Save key to a file */\r\n    \tsave(sharedKey.getEncoded(),&quot;shared.key&quot;);\r\n    \t\r\n    \t/* Save encrypted data to a file */\r\n    \tsave(ciphertext,&quot;encrypted.txt&quot;);\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\t\r\n    }\r\n    \r\n    public void decrypt() {\r\n    try {\r\n    \tSystem.out.println(&quot;Start decryption ...&quot;);\r\n    \r\n    \t/* Get encoded shared key from file*/\r\n    \tbyte[] encoded = load(&quot;shared.key&quot;);\r\n          SecretKeyFactory kf = SecretKeyFactory.getInstance(ALGO);\r\n    \tKeySpec ks = new DESKeySpec(encoded);\r\n    \tSecretKey ky = kf.generateSecret(ks);\r\n    \r\n    \t/* Get encoded data */\r\n    \tbyte[] ciphertext = load(&quot;encrypted.txt&quot;);\r\n    \tSystem.out.println(&quot;Encoded data = &quot; + new String(ciphertext,&quot;UTF8&quot;));\r\n    \r\n    \t/* Create a Cipher object and initialize it with the secret key */\r\n    \tCipher c = Cipher.getInstance(ALGO+&quot;/&quot;+MODE+&quot;/&quot;+PADDING);\r\n    \tc.init(Cipher.DECRYPT_MODE,ky);\r\n    \r\n    \t/* Update and decrypt */\r\n    \tbyte[] plainText = c.doFinal(ciphertext);\r\n    \tSystem.out.println(&quot;Plain Text : &quot;+new String(plainText,&quot;UTF8&quot;));\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\t\r\n    }\r\n    \r\n    private String getInputData() {\r\n    \tString id = &quot;owner.id=...&quot;;\r\n    \tString name = &quot;owner.name=...&quot;;\r\n    \tString contact = &quot;owner.contact=...&quot;;\r\n    \tString tel = &quot;owner.tel=...&quot;;\r\n    \tfinal String rc = System.getProperty(&quot;line.separator&quot;);\r\n    \tStringBuffer buf = new StringBuffer();\r\n    \tbuf.append(id);\r\n    \tbuf.append(rc);\r\n    \tbuf.append(name);\r\n    \tbuf.append(rc);\r\n    \tbuf.append(contact);\r\n    \tbuf.append(rc);\r\n    \tbuf.append(tel);\r\n    \treturn buf.toString();\r\n    }\r\n    \r\n    \r\n    private void save(byte[] buf, String file) throws IOException {\r\n          FileOutputStream fos = new FileOutputStream(file);\r\n          fos.write(buf);\r\n          fos.close();\r\n    }\r\n    \r\n    private byte[] load(String file) throws FileNotFoundException, IOException {\r\n    \tFileInputStream fis = new FileInputStream(file);\r\n    \tbyte[] buf = new byte[fis.available()];\r\n    \tfis.read(buf);\r\n    \tfis.close();\r\n    \treturn buf;\r\n    }\r\n    }\r\n\r\n","title":"Encrypt and Decrypt in Java","body":"<p>Here is a sample I made a couple of months ago\nThe class encrypt and decrypt data</p>\n\n<pre><code>import java.security.*;\nimport java.security.spec.*;\n\nimport java.io.*;\nimport javax.crypto.*;\nimport javax.crypto.spec.*;\n\npublic class TestEncryptDecrypt {\n\nprivate final String ALGO = \"DES\";\nprivate final String MODE = \"ECB\";\nprivate final String PADDING = \"PKCS5Padding\";\nprivate static int mode = 0;\n\npublic static void main(String args[]) {\n    TestEncryptDecrypt me = new TestEncryptDecrypt();\n    if(args.length == 0) mode = 2;\n    else mode = Integer.parseInt(args[0]);\n    switch (mode) {\n    case 0:\n        me.encrypt();\n        break;\n    case 1:\n        me.decrypt();\n        break;\n    default:\n        me.encrypt();\n        me.decrypt();\n    }\n}\n\npublic void encrypt() {\ntry {\n    System.out.println(\"Start encryption ...\");\n\n    /* Get Input Data */\n    String input = getInputData();\n    System.out.println(\"Input data : \"+input);\n\n    /* Create Secret Key */\n    KeyGenerator keyGen = KeyGenerator.getInstance(ALGO);\n    SecureRandom random = SecureRandom.getInstance(\"SHA1PRNG\", \"SUN\");\n    keyGen.init(56,random);\n      Key sharedKey = keyGen.generateKey();\n\n    /* Create the Cipher and init it with the secret key */\n    Cipher c = Cipher.getInstance(ALGO+\"/\"+MODE+\"/\"+PADDING);\n    //System.out.println(\"\\n\" + c.getProvider().getInfo());\n    c.init(Cipher.ENCRYPT_MODE,sharedKey);\n    byte[] ciphertext = c.doFinal(input.getBytes());\n    System.out.println(\"Input Encrypted : \"+new String(ciphertext,\"UTF8\"));\n\n    /* Save key to a file */\n    save(sharedKey.getEncoded(),\"shared.key\");\n\n    /* Save encrypted data to a file */\n    save(ciphertext,\"encrypted.txt\");\n} catch (Exception e) {\n    e.printStackTrace();\n}   \n}\n\npublic void decrypt() {\ntry {\n    System.out.println(\"Start decryption ...\");\n\n    /* Get encoded shared key from file*/\n    byte[] encoded = load(\"shared.key\");\n      SecretKeyFactory kf = SecretKeyFactory.getInstance(ALGO);\n    KeySpec ks = new DESKeySpec(encoded);\n    SecretKey ky = kf.generateSecret(ks);\n\n    /* Get encoded data */\n    byte[] ciphertext = load(\"encrypted.txt\");\n    System.out.println(\"Encoded data = \" + new String(ciphertext,\"UTF8\"));\n\n    /* Create a Cipher object and initialize it with the secret key */\n    Cipher c = Cipher.getInstance(ALGO+\"/\"+MODE+\"/\"+PADDING);\n    c.init(Cipher.DECRYPT_MODE,ky);\n\n    /* Update and decrypt */\n    byte[] plainText = c.doFinal(ciphertext);\n    System.out.println(\"Plain Text : \"+new String(plainText,\"UTF8\"));\n} catch (Exception e) {\n    e.printStackTrace();\n}   \n}\n\nprivate String getInputData() {\n    String id = \"owner.id=...\";\n    String name = \"owner.name=...\";\n    String contact = \"owner.contact=...\";\n    String tel = \"owner.tel=...\";\n    final String rc = System.getProperty(\"line.separator\");\n    StringBuffer buf = new StringBuffer();\n    buf.append(id);\n    buf.append(rc);\n    buf.append(name);\n    buf.append(rc);\n    buf.append(contact);\n    buf.append(rc);\n    buf.append(tel);\n    return buf.toString();\n}\n\n\nprivate void save(byte[] buf, String file) throws IOException {\n      FileOutputStream fos = new FileOutputStream(file);\n      fos.write(buf);\n      fos.close();\n}\n\nprivate byte[] load(String file) throws FileNotFoundException, IOException {\n    FileInputStream fis = new FileInputStream(file);\n    byte[] buf = new byte[fis.available()];\n    fis.read(buf);\n    fis.close();\n    return buf;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":460624,"reputation":3557,"user_id":861832,"accept_rate":84,"display_name":"oneiros"},"down_vote_count":2,"up_vote_count":32,"is_accepted":true,"score":30,"last_activity_date":1335359851,"creation_date":1335359851,"answer_id":10316509,"question_id":10303767,"body_markdown":"Here is a solution using the **javax.crypto** library and the apache commons codec library for encoding and decoding in Base64 that I was looking for: \r\n\r\n    import java.security.spec.KeySpec;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.DESedeKeySpec;\r\n    import org.apache.commons.codec.binary.Base64;\r\n     \r\n    public class TrippleDes {\r\n     \r\n        private static final String UNICODE_FORMAT = &quot;UTF8&quot;;\r\n        public static final String DESEDE_ENCRYPTION_SCHEME = &quot;DESede&quot;;\r\n        private KeySpec ks;\r\n        private SecretKeyFactory skf;\r\n        private Cipher cipher;\r\n        byte[] arrayBytes;\r\n        private String myEncryptionKey;\r\n        private String myEncryptionScheme;\r\n        SecretKey key;\r\n     \r\n        public TrippleDes() throws Exception {\r\n            myEncryptionKey = &quot;ThisIsSpartaThisIsSparta&quot;;\r\n            myEncryptionScheme = DESEDE_ENCRYPTION_SCHEME;\r\n            arrayBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\r\n            ks = new DESedeKeySpec(arrayBytes);\r\n            skf = SecretKeyFactory.getInstance(myEncryptionScheme);\r\n            cipher = Cipher.getInstance(myEncryptionScheme);\r\n            key = skf.generateSecret(ks);\r\n        }\r\n     \r\n        \r\n        public String encrypt(String unencryptedString) {\r\n            String encryptedString = null;\r\n            try {\r\n                cipher.init(Cipher.ENCRYPT_MODE, key);\r\n                byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\r\n                byte[] encryptedText = cipher.doFinal(plainText);\r\n                encryptedString = new String(Base64.encodeBase64(encryptedText));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return encryptedString;\r\n        }\r\n        \r\n        \r\n        public String decrypt(String encryptedString) {\r\n            String decryptedText=null;\r\n            try {\r\n                cipher.init(Cipher.DECRYPT_MODE, key);\r\n                byte[] encryptedText = Base64.decodeBase64(encryptedString);\r\n                byte[] plainText = cipher.doFinal(encryptedText);\r\n                decryptedText= new String(plainText);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return decryptedText;\r\n        }\r\n     \r\n        \r\n        public static void main(String args []) throws Exception\r\n        {\r\n        \tTrippleDes td= new TrippleDes();\r\n     \r\n            String target=&quot;imparator&quot;;\r\n            String encrypted=td.encrypt(target);\r\n            String decrypted=td.decrypt(encrypted);\r\n     \r\n            System.out.println(&quot;String To Encrypt: &quot;+ target);\r\n            System.out.println(&quot;Encrypted String:&quot; + encrypted);\r\n            System.out.println(&quot;Decrypted String:&quot; + decrypted);\r\n     \r\n        }\r\n     \r\n    }\r\n\r\nRunning the above program results with the following output: \r\n\r\n    String To Encrypt: imparator\r\n    Encrypted String:FdBNaYWfjpWN9eYghMpbRA==\r\n    Decrypted String:imparator","title":"Encrypt and Decrypt in Java","body":"<p>Here is a solution using the <strong>javax.crypto</strong> library and the apache commons codec library for encoding and decoding in Base64 that I was looking for: </p>\n\n<pre><code>import java.security.spec.KeySpec;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.DESedeKeySpec;\nimport org.apache.commons.codec.binary.Base64;\n\npublic class TrippleDes {\n\n    private static final String UNICODE_FORMAT = \"UTF8\";\n    public static final String DESEDE_ENCRYPTION_SCHEME = \"DESede\";\n    private KeySpec ks;\n    private SecretKeyFactory skf;\n    private Cipher cipher;\n    byte[] arrayBytes;\n    private String myEncryptionKey;\n    private String myEncryptionScheme;\n    SecretKey key;\n\n    public TrippleDes() throws Exception {\n        myEncryptionKey = \"ThisIsSpartaThisIsSparta\";\n        myEncryptionScheme = DESEDE_ENCRYPTION_SCHEME;\n        arrayBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\n        ks = new DESedeKeySpec(arrayBytes);\n        skf = SecretKeyFactory.getInstance(myEncryptionScheme);\n        cipher = Cipher.getInstance(myEncryptionScheme);\n        key = skf.generateSecret(ks);\n    }\n\n\n    public String encrypt(String unencryptedString) {\n        String encryptedString = null;\n        try {\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n            byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\n            byte[] encryptedText = cipher.doFinal(plainText);\n            encryptedString = new String(Base64.encodeBase64(encryptedText));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return encryptedString;\n    }\n\n\n    public String decrypt(String encryptedString) {\n        String decryptedText=null;\n        try {\n            cipher.init(Cipher.DECRYPT_MODE, key);\n            byte[] encryptedText = Base64.decodeBase64(encryptedString);\n            byte[] plainText = cipher.doFinal(encryptedText);\n            decryptedText= new String(plainText);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return decryptedText;\n    }\n\n\n    public static void main(String args []) throws Exception\n    {\n        TrippleDes td= new TrippleDes();\n\n        String target=\"imparator\";\n        String encrypted=td.encrypt(target);\n        String decrypted=td.decrypt(encrypted);\n\n        System.out.println(\"String To Encrypt: \"+ target);\n        System.out.println(\"Encrypted String:\" + encrypted);\n        System.out.println(\"Decrypted String:\" + decrypted);\n\n    }\n\n}\n</code></pre>\n\n<p>Running the above program results with the following output: </p>\n\n<pre><code>String To Encrypt: imparator\nEncrypted String:FdBNaYWfjpWN9eYghMpbRA==\nDecrypted String:imparator\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1644114066,"creation_date":1449268345,"answer_id":34098587,"question_id":10303767,"body_markdown":"**Symmetric Key Cryptography** : Symmetric key uses the same key for encryption and decryption. The main challenge with this type of cryptography is the exchange of the secret key between the two parties sender and receiver.\r\n\r\n**Example :**  The following example uses symmetric key for encryption and decryption algorithm available as part of the Sun&#39;s JCE(**J**ava **C**ryptography **E**xtension). Sun JCE is has two layers, the crypto API layer and the provider layer.  \r\n\r\n**DES** (**D**ata **E**ncryption **S**tandard) was a popular symmetric key algorithm. Presently DES is outdated and  considered insecure. **Triple DES** and a stronger variant of *DES*. It is a symmetric-key block cipher. There are other algorithms like **Blowfish**, **Twofish** and **AES**(**A**dvanced **E**ncryption **S**tandard). AES is the latest encryption standard over the DES.\r\n\r\nSteps :\r\n\r\n 1. **Add the Security Provider :** We are using the SunJCE Provider that is available with the JDK. \r\n 2. **Generate Secret Key :** Use `KeyGenerator` and an algorithm to generate a secret key. We are using `DESede` ([DESede][1] is descriptive name for 3DES implementation: DESede = DES-Encrypt-Decrypt-Encrypt = Triple DES).  \r\n 3. **Encode Text :** For consistency across platform encode the plain text as byte using `UTF-8 encoding`. \r\n 4. **Encrypt Text :** Instantiate `Cipher` with `ENCRYPT_MODE`, use the secret key and encrypt the bytes. \r\n 5. **Decrypt Text :** Instantiate `Cipher` with `DECRYPT_MODE`, use the same secret key and decrypt the bytes.  \r\n\r\nAll the above given steps and concept are same, we just replace algorithms.  \r\n\r\n\r\n    import java.util.Base64;    \r\n    import javax.crypto.Cipher;  \r\n    import javax.crypto.KeyGenerator;   \r\n    import javax.crypto.SecretKey;  \r\n    public class EncryptionDecryptionAES {  \r\n    \tstatic Cipher cipher;  \r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n            /* \r\n             create key \r\n             If we need to generate a new key use a KeyGenerator\r\n             If we have existing plaintext key use a SecretKeyFactory\r\n            */ \r\n    \t\tKeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n    \t\tkeyGenerator.init(128); // block size is 128bits\r\n    \t\tSecretKey secretKey = keyGenerator.generateKey();\r\n            \r\n            /*\r\n              Cipher Info\r\n              Algorithm : for the encryption of electronic data\r\n              mode of operation : to avoid repeated blocks encrypt to the same values.\r\n              padding: ensuring messages are the proper length necessary for certain ciphers \r\n              mode/padding are not used with stream cyphers.  \r\n             */\r\n    \t\tcipher = Cipher.getInstance(&quot;AES&quot;); //SunJCE provider AES algorithm, mode(optional) and padding schema(optional)  \r\n    \r\n    \t\tString plainText = &quot;AES Symmetric Encryption Decryption&quot;;\r\n    \t\tSystem.out.println(&quot;Plain Text Before Encryption: &quot; + plainText);\r\n    \r\n    \t\tString encryptedText = encrypt(plainText, secretKey);\r\n    \t\tSystem.out.println(&quot;Encrypted Text After Encryption: &quot; + encryptedText);\r\n    \r\n    \t\tString decryptedText = decrypt(encryptedText, secretKey);\r\n    \t\tSystem.out.println(&quot;Decrypted Text After Decryption: &quot; + decryptedText);\r\n    \t}\r\n    \r\n    \tpublic static String encrypt(String plainText, SecretKey secretKey)\r\n    \t\t\tthrows Exception {\r\n    \t\tbyte[] plainTextByte = plainText.getBytes();\r\n    \t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \t\tbyte[] encryptedByte = cipher.doFinal(plainTextByte);\r\n    \t\tBase64.Encoder encoder = Base64.getEncoder();\r\n    \t\tString encryptedText = encoder.encodeToString(encryptedByte);\r\n    \t\treturn encryptedText;\r\n    \t}\r\n    \r\n    \tpublic static String decrypt(String encryptedText, SecretKey secretKey)\r\n    \t\t\tthrows Exception {\r\n    \t\tBase64.Decoder decoder = Base64.getDecoder();\r\n    \t\tbyte[] encryptedTextByte = decoder.decode(encryptedText);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    \t\tbyte[] decryptedByte = cipher.doFinal(encryptedTextByte);\r\n    \t\tString decryptedText = new String(decryptedByte);\r\n    \t\treturn decryptedText;\r\n    \t}\r\n    }\r\n\r\n\r\nOutput: \r\n\r\n    Plain Text Before Encryption: AES Symmetric Encryption Decryption\r\n    Encrypted Text After Encryption: sY6vkQrWRg0fvRzbqSAYxepeBIXg4AySj7Xh3x4vDv8TBTkNiTfca7wW/dxiMMJl\r\n    Decrypted Text After Decryption: AES Symmetric Encryption Decryption\r\n\r\n[Source][2]\r\n\r\n**Example:** Cipher with two modes, they are encrypt and decrypt. we have to start every time after setting mode to encrypt or decrypt a text.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17281431/1697099\r\n  [2]: http://javapapers.com/java/java-symmetric-aes-encryption-decryption-using-jce/\r\n  [3]: https://i.stack.imgur.com/lj3vU.jpg","title":"Encrypt and Decrypt in Java","body":"<p><strong>Symmetric Key Cryptography</strong> : Symmetric key uses the same key for encryption and decryption. The main challenge with this type of cryptography is the exchange of the secret key between the two parties sender and receiver.</p>\n<p><strong>Example :</strong>  The following example uses symmetric key for encryption and decryption algorithm available as part of the Sun's JCE(<strong>J</strong>ava <strong>C</strong>ryptography <strong>E</strong>xtension). Sun JCE is has two layers, the crypto API layer and the provider layer.</p>\n<p><strong>DES</strong> (<strong>D</strong>ata <strong>E</strong>ncryption <strong>S</strong>tandard) was a popular symmetric key algorithm. Presently DES is outdated and  considered insecure. <strong>Triple DES</strong> and a stronger variant of <em>DES</em>. It is a symmetric-key block cipher. There are other algorithms like <strong>Blowfish</strong>, <strong>Twofish</strong> and <strong>AES</strong>(<strong>A</strong>dvanced <strong>E</strong>ncryption <strong>S</strong>tandard). AES is the latest encryption standard over the DES.</p>\n<p>Steps :</p>\n<ol>\n<li><strong>Add the Security Provider :</strong> We are using the SunJCE Provider that is available with the JDK.</li>\n<li><strong>Generate Secret Key :</strong> Use <code>KeyGenerator</code> and an algorithm to generate a secret key. We are using <code>DESede</code> (<a href=\"https://stackoverflow.com/a/17281431/1697099\">DESede</a> is descriptive name for 3DES implementation: DESede = DES-Encrypt-Decrypt-Encrypt = Triple DES).</li>\n<li><strong>Encode Text :</strong> For consistency across platform encode the plain text as byte using <code>UTF-8 encoding</code>.</li>\n<li><strong>Encrypt Text :</strong> Instantiate <code>Cipher</code> with <code>ENCRYPT_MODE</code>, use the secret key and encrypt the bytes.</li>\n<li><strong>Decrypt Text :</strong> Instantiate <code>Cipher</code> with <code>DECRYPT_MODE</code>, use the same secret key and decrypt the bytes.</li>\n</ol>\n<p>All the above given steps and concept are same, we just replace algorithms.</p>\n<pre><code>import java.util.Base64;    \nimport javax.crypto.Cipher;  \nimport javax.crypto.KeyGenerator;   \nimport javax.crypto.SecretKey;  \npublic class EncryptionDecryptionAES {  \n    static Cipher cipher;  \n\n    public static void main(String[] args) throws Exception {\n        /* \n         create key \n         If we need to generate a new key use a KeyGenerator\n         If we have existing plaintext key use a SecretKeyFactory\n        */ \n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGenerator.init(128); // block size is 128bits\n        SecretKey secretKey = keyGenerator.generateKey();\n        \n        /*\n          Cipher Info\n          Algorithm : for the encryption of electronic data\n          mode of operation : to avoid repeated blocks encrypt to the same values.\n          padding: ensuring messages are the proper length necessary for certain ciphers \n          mode/padding are not used with stream cyphers.  \n         */\n        cipher = Cipher.getInstance(&quot;AES&quot;); //SunJCE provider AES algorithm, mode(optional) and padding schema(optional)  \n\n        String plainText = &quot;AES Symmetric Encryption Decryption&quot;;\n        System.out.println(&quot;Plain Text Before Encryption: &quot; + plainText);\n\n        String encryptedText = encrypt(plainText, secretKey);\n        System.out.println(&quot;Encrypted Text After Encryption: &quot; + encryptedText);\n\n        String decryptedText = decrypt(encryptedText, secretKey);\n        System.out.println(&quot;Decrypted Text After Decryption: &quot; + decryptedText);\n    }\n\n    public static String encrypt(String plainText, SecretKey secretKey)\n            throws Exception {\n        byte[] plainTextByte = plainText.getBytes();\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        byte[] encryptedByte = cipher.doFinal(plainTextByte);\n        Base64.Encoder encoder = Base64.getEncoder();\n        String encryptedText = encoder.encodeToString(encryptedByte);\n        return encryptedText;\n    }\n\n    public static String decrypt(String encryptedText, SecretKey secretKey)\n            throws Exception {\n        Base64.Decoder decoder = Base64.getDecoder();\n        byte[] encryptedTextByte = decoder.decode(encryptedText);\n        cipher.init(Cipher.DECRYPT_MODE, secretKey);\n        byte[] decryptedByte = cipher.doFinal(encryptedTextByte);\n        String decryptedText = new String(decryptedByte);\n        return decryptedText;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Plain Text Before Encryption: AES Symmetric Encryption Decryption\nEncrypted Text After Encryption: sY6vkQrWRg0fvRzbqSAYxepeBIXg4AySj7Xh3x4vDv8TBTkNiTfca7wW/dxiMMJl\nDecrypted Text After Decryption: AES Symmetric Encryption Decryption\n</code></pre>\n<p><a href=\"http://javapapers.com/java/java-symmetric-aes-encryption-decryption-using-jce/\" rel=\"noreferrer\">Source</a></p>\n<p><strong>Example:</strong> Cipher with two modes, they are encrypt and decrypt. we have to start every time after setting mode to encrypt or decrypt a text.\n<a href=\"https://i.stack.imgur.com/lj3vU.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lj3vU.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12399137,"reputation":11,"user_id":9037246,"display_name":"Govind Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512107405,"creation_date":1512103384,"answer_id":47586753,"question_id":10303767,"body_markdown":"    public class GenerateEncryptedPassword {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            Scanner sc= new Scanner(System.in);    \r\n            System.out.println(&quot;Please enter the password that needs to be encrypted :&quot;);\r\n            String input = sc.next();\r\n        \r\n            try {\r\n                String encryptedPassword= AESencrp.encrypt(input);\r\n                System.out.println(&quot;Encrypted password generated is :&quot;+encryptedPassword);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(GenerateEncryptedPassword.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }","title":"Encrypt and Decrypt in Java","body":"<pre><code>public class GenerateEncryptedPassword {\n\n    public static void main(String[] args){\n\n        Scanner sc= new Scanner(System.in);    \n        System.out.println(\"Please enter the password that needs to be encrypted :\");\n        String input = sc.next();\n\n        try {\n            String encryptedPassword= AESencrp.encrypt(input);\n            System.out.println(\"Encrypted password generated is :\"+encryptedPassword);\n        } catch (Exception ex) {\n            Logger.getLogger(GenerateEncryptedPassword.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13879731,"reputation":2069,"user_id":10020379,"display_name":"Yunus ER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562745341,"creation_date":1562745341,"answer_id":56965942,"question_id":10303767,"body_markdown":"If you use a static key, encrypt and decrypt always give the same result;\r\n\r\n    public static final String CRYPTOR_KEY = &quot;your static key here&quot;;\r\n    byte[] keyByte = Base64.getDecoder().decode(CRYPTOR_KEY);\r\n    key = new SecretKeySpec(keyByte, &quot;AES&quot;);","title":"Encrypt and Decrypt in Java","body":"<p>If you use a static key, encrypt and decrypt always give the same result;</p>\n\n<pre><code>public static final String CRYPTOR_KEY = \"your static key here\";\nbyte[] keyByte = Base64.getDecoder().decode(CRYPTOR_KEY);\nkey = new SecretKeySpec(keyByte, \"AES\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2598014,"reputation":334,"user_id":2251214,"display_name":"shunkana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597555605,"creation_date":1597555605,"answer_id":63433458,"question_id":10303767,"body_markdown":"You may want to use the [jasypt][1] library (Java Simplified Encryption), which is quite easy to use. ( Also, it&#39;s recommended to check against the encrypted password rather than decrypting the encrypted password )\r\n\r\nTo use jasypt, if you&#39;re using maven, you can include jasypt into your pom.xml file as follows:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.9.3&lt;/version&gt;\r\n\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then to encrypt the password, you can use StrongPasswordEncryptor\r\n\r\n    public static String encryptPassword(String inputPassword) {\r\n        StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\r\n        return encryptor.encryptPassword(inputPassword);\r\n    }\r\n\r\n**Note:** *the encrypted password is different every time you call encryptPassword but the checkPassword method can still check that the unencrypted password still matches each of the encrypted passwords.*\r\n\r\nAnd to check the unencrypted password against the encrypted password, you can use the checkPassword method:\r\n\r\n    public static boolean checkPassword(String inputPassword, String encryptedStoredPassword) {\r\n        StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\r\n        return encryptor.checkPassword(inputPassword, encryptedStoredPassword);\r\n    }\r\n\r\nThe page below provides detailed information on the complexities involved in creating safe encrypted passwords.\r\n\r\nhttp://www.jasypt.org/howtoencryptuserpasswords.html\r\n\r\n\r\n  [1]: http://www.jasypt.org","title":"Encrypt and Decrypt in Java","body":"<p>You may want to use the <a href=\"http://www.jasypt.org\" rel=\"nofollow noreferrer\">jasypt</a> library (Java Simplified Encryption), which is quite easy to use. ( Also, it's recommended to check against the encrypted password rather than decrypting the encrypted password )</p>\n<p>To use jasypt, if you're using maven, you can include jasypt into your pom.xml file as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\n    &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\n    &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then to encrypt the password, you can use StrongPasswordEncryptor</p>\n<pre><code>public static String encryptPassword(String inputPassword) {\n    StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\n    return encryptor.encryptPassword(inputPassword);\n}\n</code></pre>\n<p><strong>Note:</strong> <em>the encrypted password is different every time you call encryptPassword but the checkPassword method can still check that the unencrypted password still matches each of the encrypted passwords.</em></p>\n<p>And to check the unencrypted password against the encrypted password, you can use the checkPassword method:</p>\n<pre><code>public static boolean checkPassword(String inputPassword, String encryptedStoredPassword) {\n    StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\n    return encryptor.checkPassword(inputPassword, encryptedStoredPassword);\n}\n</code></pre>\n<p>The page below provides detailed information on the complexities involved in creating safe encrypted passwords.</p>\n<p><a href=\"http://www.jasypt.org/howtoencryptuserpasswords.html\" rel=\"nofollow noreferrer\">http://www.jasypt.org/howtoencryptuserpasswords.html</a></p>\n"},{"tags":[],"owner":{"account_id":24659648,"reputation":21,"user_id":18555998,"display_name":"Gourav Kaushal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648638056,"creation_date":1648036810,"answer_id":71586839,"question_id":10303767,"body_markdown":"Simple and easy solution :- jasypt library.\r\nTo use this library in your maven project include below dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.3&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThere is one security advantage of using this library is it does not provide any direct method to decrypt the password.\r\n\r\nUser can not pick any ecrypted password and pass it to library to get original password. To validate any user *jasypt* library provide a method which accept 2 parameters i.e. input password and encrypted password, the method will return true if the password is correct and false if password is wrong.\r\n\r\nJust create a Utility Class like this.\r\n\r\n    public class EncryptDecryptPassword {\r\n\tpublic static String encryptPassword(String inputPassword) {\r\n\t\tStrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\r\n\t\treturn encryptor.encryptPassword(inputPassword);\r\n\t}\r\n\r\n\tpublic static boolean checkPassword(String inputPassword, String encryptedStoredPassword) {\r\n\t\tStrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\r\n\t\treturn encryptor.checkPassword(inputPassword, encryptedStoredPassword);\r\n\t}\r\n\r\n    }\r\n\r\nUse these static methods from anywhere from your project to perform encryption.","title":"Encrypt and Decrypt in Java","body":"<p>Simple and easy solution :- jasypt library.\nTo use this library in your maven project include below dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\n    &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\n    &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There is one security advantage of using this library is it does not provide any direct method to decrypt the password.</p>\n<p>User can not pick any ecrypted password and pass it to library to get original password. To validate any user <em>jasypt</em> library provide a method which accept 2 parameters i.e. input password and encrypted password, the method will return true if the password is correct and false if password is wrong.</p>\n<p>Just create a Utility Class like this.</p>\n<pre><code>public class EncryptDecryptPassword {\npublic static String encryptPassword(String inputPassword) {\n    StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\n    return encryptor.encryptPassword(inputPassword);\n}\n\npublic static boolean checkPassword(String inputPassword, String encryptedStoredPassword) {\n    StrongPasswordEncryptor encryptor = new StrongPasswordEncryptor();\n    return encryptor.checkPassword(inputPassword, encryptedStoredPassword);\n}\n\n}\n</code></pre>\n<p>Use these static methods from anywhere from your project to perform encryption.</p>\n"}],"owner":{"account_id":460624,"reputation":3557,"user_id":861832,"accept_rate":84,"display_name":"oneiros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170319,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":10316509,"answer_count":8,"score":21,"last_activity_date":1648638056,"creation_date":1335291734,"question_id":10303767,"body_markdown":"I would like to store an encrypted password in a Java file. \r\nI saw at a solution using **javax.crypto**, but the problem with that was that the key\r\nwas being generated on the fly and it was random. \r\n\r\nThis password will be then taken and decrypted in the Java program in runtime. \r\nGiven that I am going to store an already encrypted password in a file - I want to get the \r\nright text when decrypting it. \r\n\r\nIs there a way to tell the javax.crypto method: \r\n\r\n    key = KeyGenerator.getInstance(algorithm).generateKey()\r\n\r\nCan this be replaced with my own key generated once based on some private key? \r\n\r\nCan anyone point me to some resources on how to do this? ","title":"Encrypt and Decrypt in Java","body":"<p>I would like to store an encrypted password in a Java file. \nI saw at a solution using <strong>javax.crypto</strong>, but the problem with that was that the key\nwas being generated on the fly and it was random. </p>\n\n<p>This password will be then taken and decrypted in the Java program in runtime. \nGiven that I am going to store an already encrypted password in a file - I want to get the \nright text when decrypting it. </p>\n\n<p>Is there a way to tell the javax.crypto method: </p>\n\n<pre><code>key = KeyGenerator.getInstance(algorithm).generateKey()\n</code></pre>\n\n<p>Can this be replaced with my own key generated once based on some private key? </p>\n\n<p>Can anyone point me to some resources on how to do this? </p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648637910,"creation_date":1648637910,"answer_id":71675994,"question_id":71675555,"body_markdown":"    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ViewGroup root =  (ViewGroup) findViewById(R.id.content_main);\r\n            addCustomView(root);\r\n    }\r\n    \r\n     private void addCustomView(ViewGroup root) {\r\n            GridLayout gridLayout = new GridLayout(this);\r\n            GridLayout.LayoutParams layoutParams = new GridLayout.LayoutParams();\r\n            layoutParams.height = GridLayout.LayoutParams.MATCH_PARENT;\r\n            layoutParams.width = GridLayout.LayoutParams.MATCH_PARENT;\r\n            layoutParams.setMargins(10, 10, 10, 10);\r\n            gridLayout.setLayoutParams(layoutParams);\r\n            gridLayout.setColumnCount(4);\r\n            gridLayout.setRowCount(5);\r\n    \r\n        ImageView imageView = new ImageView(this);\r\n                    imageView.setImageResource();\r\n                    imageView.setLayoutParams(new ViewGroup.LayoutParams(150, 150));\r\n    \r\n                    GridLayout.Spec rowSpan = GridLayout.spec(GridLayout.UNDEFINED, 1, 1f);\r\n                    GridLayout.Spec colSpan = GridLayout.spec(GridLayout.UNDEFINED, 1, 1f);\r\n    \r\n          GridLayout.LayoutParams gridParam = new GridLayout.LayoutParams(\r\n                            rowSpan, colSpan\r\n                    );\r\n        }\r\n            root.addView(gridLayout);\r\n\r\n","title":"GridLayout created programmatically does not look the same as the GridLayout created in XML","body":"<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ViewGroup root =  (ViewGroup) findViewById(R.id.content_main);\n        addCustomView(root);\n}\n\n private void addCustomView(ViewGroup root) {\n        GridLayout gridLayout = new GridLayout(this);\n        GridLayout.LayoutParams layoutParams = new GridLayout.LayoutParams();\n        layoutParams.height = GridLayout.LayoutParams.MATCH_PARENT;\n        layoutParams.width = GridLayout.LayoutParams.MATCH_PARENT;\n        layoutParams.setMargins(10, 10, 10, 10);\n        gridLayout.setLayoutParams(layoutParams);\n        gridLayout.setColumnCount(4);\n        gridLayout.setRowCount(5);\n\n    ImageView imageView = new ImageView(this);\n                imageView.setImageResource();\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(150, 150));\n\n                GridLayout.Spec rowSpan = GridLayout.spec(GridLayout.UNDEFINED, 1, 1f);\n                GridLayout.Spec colSpan = GridLayout.spec(GridLayout.UNDEFINED, 1, 1f);\n\n      GridLayout.LayoutParams gridParam = new GridLayout.LayoutParams(\n                        rowSpan, colSpan\n                );\n    }\n        root.addView(gridLayout);\n</code></pre>\n"}],"owner":{"account_id":18726648,"reputation":1,"user_id":17643789,"display_name":"Tiklyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648637910,"creation_date":1648636139,"question_id":71675555,"body_markdown":"I want to create a grid of green tile the same as the XML file but programmatically:\r\n\r\n         &lt;GridLayout\r\n            android:layout_width=&quot;320dp&quot;\r\n            android:layout_height=&quot;389dp&quot;\r\n            android:columnCount=&quot;4&quot;\r\n            android:rowCount=&quot;6&quot;\r\n            android:useDefaultMargins=&quot;true&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;\r\n            tools:layout_editor_absoluteY=&quot;81dp&quot;&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView17&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView18&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView19&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView20&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView21&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView25&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView22&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView23&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView24&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_rowWeight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\r\n    \r\n        &lt;/GridLayout&gt;\r\n\r\nThe result when launching the app using XML look like : https://i.stack.imgur.com/pljkD.png\r\n\r\nThe result when adding Tile programmatically look like : https://i.stack.imgur.com/IjhH5.png\r\n\r\nI tried to do it programmatically but the UI does not look the same as using XML .\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        GridLayout layout = findViewById(R.id.grid);\r\n        for (int i = 0; i &lt; 4 * 6; i++) {\r\n            GridLayout.LayoutParams param= new GridLayout.LayoutParams();\r\n            param.columnSpec = GridLayout.spec(GridLayout.UNDEFINED, 1f);\r\n            param.rowSpec = GridLayout.spec(GridLayout.UNDEFINED,1f);\r\n            param.height = 0;\r\n            param.width = 0;\r\n            ImageView v = new ImageView(this);\r\n            v.setImageResource(R.drawable.green_tile);\r\n            v.setLayoutParams(param);\r\n            layout.addView(v);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAs you can see there more space between tile horizontally and I don&#39;t want that.","title":"GridLayout created programmatically does not look the same as the GridLayout created in XML","body":"<p>I want to create a grid of green tile the same as the XML file but programmatically:</p>\n<pre><code>     &lt;GridLayout\n        android:layout_width=&quot;320dp&quot;\n        android:layout_height=&quot;389dp&quot;\n        android:columnCount=&quot;4&quot;\n        android:rowCount=&quot;6&quot;\n        android:useDefaultMargins=&quot;true&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteY=&quot;81dp&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView17&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView18&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView19&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView20&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView21&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView25&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView22&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView23&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_rowWeight=&quot;1&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            app:srcCompat=&quot;@drawable/green_tile&quot; /&gt;\n\n    &lt;/GridLayout&gt;\n</code></pre>\n<p>The result when launching the app using XML look like : <a href=\"https://i.stack.imgur.com/pljkD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pljkD.png</a></p>\n<p>The result when adding Tile programmatically look like : <a href=\"https://i.stack.imgur.com/IjhH5.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/IjhH5.png</a></p>\n<p>I tried to do it programmatically but the UI does not look the same as using XML .</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    GridLayout layout = findViewById(R.id.grid);\n    for (int i = 0; i &lt; 4 * 6; i++) {\n        GridLayout.LayoutParams param= new GridLayout.LayoutParams();\n        param.columnSpec = GridLayout.spec(GridLayout.UNDEFINED, 1f);\n        param.rowSpec = GridLayout.spec(GridLayout.UNDEFINED,1f);\n        param.height = 0;\n        param.width = 0;\n        ImageView v = new ImageView(this);\n        v.setImageResource(R.drawable.green_tile);\n        v.setLayoutParams(param);\n        layout.addView(v);\n    }\n\n}\n</code></pre>\n<p>As you can see there more space between tile horizontally and I don't want that.</p>\n"},{"tags":["java","android","logcat","android-anr-dialog"],"answers":[{"tags":[],"owner":{"account_id":2588727,"reputation":1,"user_id":2243852,"display_name":"Sergio C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648637601,"creation_date":1648637601,"answer_id":71675912,"question_id":70882079,"body_markdown":"I had a similar problem for the error `Unknown bits set in runtime_flags: 0x40000000`.\r\n\r\nIn my case, it was fixed by setting the `FLAG_IMMUTABLE` or `FLAG_MUTABLE` on all `PendingIntent` I was using. For example:\r\n\r\n```\r\nval pendingIntent = PendingIntent.getActivity(context, 0, Intent(context, MyActivity.class), FLAG_IMMUTABLE)\r\n```\r\n\r\n\r\nI&#39;m not sure if it was the actual problem, but after fixing that the error was not shown anymore and the app started successfully.\r\n\r\nAlso I have to say that stacktrace of the error was printed on the Logcat:\r\n\r\n```\r\n...\r\nCaused by: java.lang.IllegalArgumentException: com.example.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n...\r\n```\r\n\r\nI hope it helps you.","title":"android app stop immediately when running on android 11 only without logcat messages","body":"<p>I had a similar problem for the error <code>Unknown bits set in runtime_flags: 0x40000000</code>.</p>\n<p>In my case, it was fixed by setting the <code>FLAG_IMMUTABLE</code> or <code>FLAG_MUTABLE</code> on all <code>PendingIntent</code> I was using. For example:</p>\n<pre><code>val pendingIntent = PendingIntent.getActivity(context, 0, Intent(context, MyActivity.class), FLAG_IMMUTABLE)\n</code></pre>\n<p>I'm not sure if it was the actual problem, but after fixing that the error was not shown anymore and the app started successfully.</p>\n<p>Also I have to say that stacktrace of the error was printed on the Logcat:</p>\n<pre><code>...\nCaused by: java.lang.IllegalArgumentException: com.example.myapp: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n...\n</code></pre>\n<p>I hope it helps you.</p>\n"}],"owner":{"account_id":9920554,"reputation":75,"user_id":7343826,"display_name":"Ahmed Gamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648637601,"creation_date":1643300530,"question_id":70882079,"body_markdown":"My problem is that my app is working properly on android 10 and below, but when running on android 11 it stops immediately right after launching.\r\n\r\nI don&#39;t know exactly what is the reason and the logcat doesn&#39;t give a clear error message.\r\n\r\nThanks in advance\r\n\r\nthis my logcat messages\r\n\r\n        2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\r\n    2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\r\n    2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\r\n    2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Loaded layer handle (3109881255676878641) for layer /my_product/lib64/libcolorx-loader.so\r\n    2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Looking for entrypoint ColorX_Check\r\n    2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Found ColorX_Check for /my_product/lib64/libcolorx-loader.so\r\n    2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Check failed\r\n    2022-01-27 20:07:09.246 2914-2914/com.dev.everyEntertainment E/OplusCustomizeRestrictionManager: sInstance is null, start a new sInstance\r\n    2022-01-27 20:07:09.395 2914-2973/com.dev.everyEntertainment E/ExtensionsLoader: dlopen failed: library &quot;libhwuiextimpl.so&quot; not found\r\n    2022-01-27 20:07:23.192 2914-3165/com.dev.everyEntertainment E/ion: ioctl c0044901 failed with code -1: Invalid argument\r\n    2022-01-27 20:07:23.513 2914-2973/com.dev.everyEntertainment E/OpenGLRenderer: fbcNotifyFrameComplete error: undefined symbol: fbcNotifyFrameComplete\r\n    2022-01-27 20:07:23.513 2914-2973/com.dev.everyEntertainment E/OpenGLRenderer: fbcNotifyNoRender error: undefined symbol: fbcNotifyNoRender\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt; msg&#39;s executing time is too long\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Blocked msg = { when=-14s109ms what=0 target=android.view.Choreographer$FrameHandler callback=android.view.Choreographer$FrameDisplayEventReceiver } , cost  = 14109 ms\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt;Current msg List is:\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;1&gt; = { when=-1d1h16m2s578ms what=0 target=android.view.ViewRootImpl$ViewRootHandler callback=android.view.ViewRootImpl$$ExternalSyntheticLambda12 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;2&gt; = { when=-14s105ms what=0 target=android.view.ViewRootImpl$ViewRootHandler callback=androidx.appcompat.app.AppCompatDelegateImpl$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;3&gt; = { when=-14s101ms barrier=1 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;4&gt; = { when=-13s610ms what=0 target=android.app.ActivityThread$H callback=android.app.ActivityThread$$ExternalSyntheticLambda1 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;5&gt; = { when=-577ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;6&gt; = { when=-529ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;7&gt; = { when=-446ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;8&gt; = { when=-438ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;9&gt; = { when=-423ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;10&gt; = { when=-346ms what=31 target=android.view.ViewRootImpl$ViewRootHandler obj=com.android.internal.os.SomeArgs@85c692a }\r\n    2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt;CURRENT MSG DUMP OVER&lt;&lt;&lt;\r\n\r\n","title":"android app stop immediately when running on android 11 only without logcat messages","body":"<p>My problem is that my app is working properly on android 10 and below, but when running on android 11 it stops immediately right after launching.</p>\n<p>I don't know exactly what is the reason and the logcat doesn't give a clear error message.</p>\n<p>Thanks in advance</p>\n<p>this my logcat messages</p>\n<pre><code>    2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\n2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\n2022-01-27 20:07:08.866 2914-2914/? E/ryEntertainmen: Unknown bits set in runtime_flags: 0x40000000\n2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Loaded layer handle (3109881255676878641) for layer /my_product/lib64/libcolorx-loader.so\n2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Looking for entrypoint ColorX_Check\n2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Found ColorX_Check for /my_product/lib64/libcolorx-loader.so\n2022-01-27 20:07:09.134 2914-2977/com.dev.everyEntertainment E/ryEntertainmen: Check failed\n2022-01-27 20:07:09.246 2914-2914/com.dev.everyEntertainment E/OplusCustomizeRestrictionManager: sInstance is null, start a new sInstance\n2022-01-27 20:07:09.395 2914-2973/com.dev.everyEntertainment E/ExtensionsLoader: dlopen failed: library &quot;libhwuiextimpl.so&quot; not found\n2022-01-27 20:07:23.192 2914-3165/com.dev.everyEntertainment E/ion: ioctl c0044901 failed with code -1: Invalid argument\n2022-01-27 20:07:23.513 2914-2973/com.dev.everyEntertainment E/OpenGLRenderer: fbcNotifyFrameComplete error: undefined symbol: fbcNotifyFrameComplete\n2022-01-27 20:07:23.513 2914-2973/com.dev.everyEntertainment E/OpenGLRenderer: fbcNotifyNoRender error: undefined symbol: fbcNotifyNoRender\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt; msg's executing time is too long\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Blocked msg = { when=-14s109ms what=0 target=android.view.Choreographer$FrameHandler callback=android.view.Choreographer$FrameDisplayEventReceiver } , cost  = 14109 ms\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt;Current msg List is:\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;1&gt; = { when=-1d1h16m2s578ms what=0 target=android.view.ViewRootImpl$ViewRootHandler callback=android.view.ViewRootImpl$$ExternalSyntheticLambda12 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;2&gt; = { when=-14s105ms what=0 target=android.view.ViewRootImpl$ViewRootHandler callback=androidx.appcompat.app.AppCompatDelegateImpl$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;3&gt; = { when=-14s101ms barrier=1 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;4&gt; = { when=-13s610ms what=0 target=android.app.ActivityThread$H callback=android.app.ActivityThread$$ExternalSyntheticLambda1 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;5&gt; = { when=-577ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;6&gt; = { when=-529ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;7&gt; = { when=-446ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;8&gt; = { when=-438ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;9&gt; = { when=-423ms what=0 target=android.os.Handler callback=androidx.core.content.res.ResourcesCompat$FontCallback$2 }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: Current msg &lt;10&gt; = { when=-346ms what=31 target=android.view.ViewRootImpl$ViewRootHandler obj=com.android.internal.os.SomeArgs@85c692a }\n2022-01-27 20:07:23.519 2914-2914/com.dev.everyEntertainment E/ANR_LOG: &gt;&gt;&gt;CURRENT MSG DUMP OVER&lt;&lt;&lt;\n</code></pre>\n"},{"tags":["java","shell","amazon-ec2","containers"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648636988,"post_id":71675723,"comment_id":126673372,"body_markdown":"You can have multiple docker containers inside `ec2`, can have as many docker containers as your ec2 is capable of","body":"You can have multiple docker containers inside <code>ec2</code>, can have as many docker containers as your ec2 is capable of"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648637595,"creation_date":1648637595,"answer_id":71675909,"question_id":71675723,"body_markdown":"The way you ask it sounds like you have a virtual machine on Amazon, and you manage your containers manually (as opposed to e.g. letting Kubernetes do the job).\r\n\r\nThis way a docker container is just a process on the machine. And of course a single machine can run many processes.","title":"Can I have two containers in one ec2 instance for different purpose?","body":"<p>The way you ask it sounds like you have a virtual machine on Amazon, and you manage your containers manually (as opposed to e.g. letting Kubernetes do the job).</p>\n<p>This way a docker container is just a process on the machine. And of course a single machine can run many processes.</p>\n"}],"owner":{"account_id":10383883,"reputation":69,"user_id":7657683,"accept_rate":0,"display_name":"Saran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648758565,"answer_count":1,"score":1,"last_activity_date":1648637595,"creation_date":1648636863,"question_id":71675723,"body_markdown":"I wanted to have one ec2 instance with two containers. One for performing backend operations using java. Another one to launch the shell scripts which also needs persistence storage.\r\n\r\nI guess this can be achieved through ecs. But am not very well versed in ecs and also worried about DevOps when ecs need to be configured. So it it possible to have both containers without help of container service like ecs.","title":"Can I have two containers in one ec2 instance for different purpose?","body":"<p>I wanted to have one ec2 instance with two containers. One for performing backend operations using java. Another one to launch the shell scripts which also needs persistence storage.</p>\n<p>I guess this can be achieved through ecs. But am not very well versed in ecs and also worried about DevOps when ecs need to be configured. So it it possible to have both containers without help of container service like ecs.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1648629517,"post_id":71674006,"comment_id":126670349,"body_markdown":"what does it mean &quot;the first 2 elements&quot; ? did you mean &quot;any 2 elements&quot;? also, method `getTwoItemsWhichSumTo100()` is named incorrectly since it receives target which can be different than 100...","body":"what does it mean &quot;the first 2 elements&quot; ? did you mean &quot;any 2 elements&quot;? also, method <code>getTwoItemsWhichSumTo100()</code> is named incorrectly since it receives target which can be different than 100..."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648629826,"creation_date":1648629826,"answer_id":71674137,"question_id":71674006,"body_markdown":"the problem you&#39;re facing is that the int is the value , not the key.\r\nso `pairOfItems.containsKey(remainder)` should not compile.\r\nluckily for you, Map also has `containsValue()` method. as long as there is no requirement for minimum performance, that should solve your problem.  \r\n...and you don&#39;t need a 2nd map. you can just ask `items.containsValue(reminder)`","title":"Getting two elements from a map which their sum equals to a desired number","body":"<p>the problem you're facing is that the int is the value , not the key.\nso <code>pairOfItems.containsKey(remainder)</code> should not compile.\nluckily for you, Map also has <code>containsValue()</code> method. as long as there is no requirement for minimum performance, that should solve your problem.<br />\n...and you don't need a 2nd map. you can just ask <code>items.containsValue(reminder)</code></p>\n"},{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648635596,"creation_date":1648635596,"answer_id":71675427,"question_id":71674006,"body_markdown":"I would suggest introducing a new Map `remainderToItem`, looping through all relevant items and adding their reminder to the Map as key and item key as the value \r\n\r\nthen iterate the `relevantItems` Map again to find the price is matching with some other reminder \r\nAlso check `remainderToItem.get(entry.getValue()).equals(entry.getKey()))` *(in case the value is 50 reminder is also 50)*, this prevents adding same item again to `itemsThatCanBeBought`\r\n\r\n\r\n    \r\n    \r\n    private static List&lt;String&gt; getTwoItemsWhichSumTo100(Map&lt;String, Integer&gt; items, int target) {\r\n\r\n        Map&lt;String, Integer&gt; relevantItems = getRelevantItems(items, target);\r\n        Map&lt;Integer, String&gt; remainderToItem = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; itemsThatCanBeBought = new ArrayList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; entry : relevantItems.entrySet()) {\r\n            int remainder = target - entry.getValue();\r\n            remainderToItem.put(remainder, entry.getKey());\r\n        }\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; entry : relevantItems.entrySet()) {\r\n\r\n            if (remainderToItem.containsKey(entry.getValue()) &amp;&amp; !remainderToItem.get(entry.getValue()).equals(entry.getKey())) {\r\n                itemsThatCanBeBought.add(entry.getKey());\r\n                itemsThatCanBeBought.add(remainderToItem.get(entry.getValue()));\r\n                return itemsThatCanBeBought;\r\n            }\r\n        }\r\n        return itemsThatCanBeBought;\r\n    }\r\n\r\n    private static Map&lt;String, Integer&gt; getRelevantItems(Map&lt;String, Integer&gt; items, int target) {\r\n        Map&lt;String, Integer&gt; relevantItems = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;String, Integer&gt; entry : items.entrySet()) {\r\n            if (entry.getValue() &lt; target) relevantItems.put(entry.getKey(), entry.getValue());\r\n        }\r\n        return relevantItems;\r\n    }","title":"Getting two elements from a map which their sum equals to a desired number","body":"<p>I would suggest introducing a new Map <code>remainderToItem</code>, looping through all relevant items and adding their reminder to the Map as key and item key as the value</p>\n<p>then iterate the <code>relevantItems</code> Map again to find the price is matching with some other reminder\nAlso check <code>remainderToItem.get(entry.getValue()).equals(entry.getKey()))</code> <em>(in case the value is 50 reminder is also 50)</em>, this prevents adding same item again to <code>itemsThatCanBeBought</code></p>\n<pre><code>private static List&lt;String&gt; getTwoItemsWhichSumTo100(Map&lt;String, Integer&gt; items, int target) {\n\n    Map&lt;String, Integer&gt; relevantItems = getRelevantItems(items, target);\n    Map&lt;Integer, String&gt; remainderToItem = new HashMap&lt;&gt;();\n    List&lt;String&gt; itemsThatCanBeBought = new ArrayList&lt;&gt;();\n\n    for (Map.Entry&lt;String, Integer&gt; entry : relevantItems.entrySet()) {\n        int remainder = target - entry.getValue();\n        remainderToItem.put(remainder, entry.getKey());\n    }\n\n    for (Map.Entry&lt;String, Integer&gt; entry : relevantItems.entrySet()) {\n\n        if (remainderToItem.containsKey(entry.getValue()) &amp;&amp; !remainderToItem.get(entry.getValue()).equals(entry.getKey())) {\n            itemsThatCanBeBought.add(entry.getKey());\n            itemsThatCanBeBought.add(remainderToItem.get(entry.getValue()));\n            return itemsThatCanBeBought;\n        }\n    }\n    return itemsThatCanBeBought;\n}\n\nprivate static Map&lt;String, Integer&gt; getRelevantItems(Map&lt;String, Integer&gt; items, int target) {\n    Map&lt;String, Integer&gt; relevantItems = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;String, Integer&gt; entry : items.entrySet()) {\n        if (entry.getValue() &lt; target) relevantItems.put(entry.getKey(), entry.getValue());\n    }\n    return relevantItems;\n}\n</code></pre>\n"}],"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71675427,"answer_count":2,"score":0,"last_activity_date":1648637356,"creation_date":1648629168,"question_id":71674006,"body_markdown":"I am trying to find a way to get the first 2 elements from a map which their value combined gives me a desired sum.\r\nI was thinking of a solution which combined 2 maps where the key of the second map is the reminder of the target number minus the value of the entry of the first map.\r\nI am lost and not sure what I am missing.\r\nWhat am I missing here?\r\n\r\n   ","title":"Getting two elements from a map which their sum equals to a desired number","body":"<p>I am trying to find a way to get the first 2 elements from a map which their value combined gives me a desired sum.\nI was thinking of a solution which combined 2 maps where the key of the second map is the reminder of the target number minus the value of the entry of the first map.\nI am lost and not sure what I am missing.\nWhat am I missing here?</p>\n"},{"tags":["java","eclipse","maven","terminal","jsoup"],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447169303,"creation_date":1447169303,"answer_id":33633558,"question_id":33633456,"body_markdown":"Specifying a dependency to Maven makes it available for compiling -- not for running your code afterwards. Eclipse reads your POM and also sees the dependency.\r\n\r\nRead up on the appassembler-maven-plugin or about making a MANIFEST.MF with a Class-Path to solve your problem.\r\n","title":"java.lang.ClassNotFoundException: org.jsoup.nodes.Document using Maven","body":"<p>Specifying a dependency to Maven makes it available for compiling -- not for running your code afterwards. Eclipse reads your POM and also sees the dependency.</p>\n\n<p>Read up on the appassembler-maven-plugin or about making a MANIFEST.MF with a Class-Path to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2860204,"reputation":4706,"user_id":2455626,"accept_rate":50,"display_name":"Avihoo Mamka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1447171182,"creation_date":1447169414,"answer_id":33633600,"question_id":33633456,"body_markdown":"Your `JAR` does not include your dependencies after it has been packaged.\r\n\r\nAdd this code to your `pom.xml` under the `plugins` section:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nAnd add the file `assembly.xml` to your resources directory:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\r\n        &lt;!-- TODO: a jarjar format would be better --&gt;\r\n        &lt;id&gt;jar-with-dependencies&lt;/id&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;jar&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n        &lt;dependencySets&gt;\r\n            &lt;dependencySet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n                &lt;unpack&gt;true&lt;/unpack&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependencySet&gt;\r\n        &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nAnd then you can run `mvn clean clean install` or `mvn package`","title":"java.lang.ClassNotFoundException: org.jsoup.nodes.Document using Maven","body":"<p>Your <code>JAR</code> does not include your dependencies after it has been packaged.</p>\n\n<p>Add this code to your <code>pom.xml</code> under the <code>plugins</code> section:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>And add the file <code>assembly.xml</code> to your resources directory:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd\"&gt;\n    &lt;!-- TODO: a jarjar format would be better --&gt;\n    &lt;id&gt;jar-with-dependencies&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>And then you can run <code>mvn clean clean install</code> or <code>mvn package</code></p>\n"},{"tags":[],"owner":{"account_id":6829815,"reputation":401,"user_id":5262426,"accept_rate":67,"display_name":"N K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447193733,"creation_date":1447193733,"answer_id":33640695,"question_id":33633456,"body_markdown":"As an aside, I&#39;m using IntelliJ IDEA with Maven support, and my setup is very similar to yours except for the scope: compile element in the dependency declaration. Looks like the IDE takes care of these specific requirements. \r\n\r\nUnless you are specifically looking to understand Maven, you could consider using such an IDE to handle the minutiae for you.","title":"java.lang.ClassNotFoundException: org.jsoup.nodes.Document using Maven","body":"<p>As an aside, I'm using IntelliJ IDEA with Maven support, and my setup is very similar to yours except for the scope: compile element in the dependency declaration. Looks like the IDE takes care of these specific requirements. </p>\n\n<p>Unless you are specifically looking to understand Maven, you could consider using such an IDE to handle the minutiae for you.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648637155,"creation_date":1648637155,"answer_id":71675785,"question_id":33633456,"body_markdown":"Maven jar plugin is created on the `package` phase, and the jar  created by this plugin is, by default, not executable, though you have specified the class that contains `main` method in the generated `MANIFEST.MF` file:\r\n\r\n    &lt;archive&gt;\r\n       &lt;manifest&gt;\r\n       &lt;mainClass&gt;com.sample.App&lt;/mainClass&gt;\r\n       &lt;/manifest&gt;\r\n    &lt;/archive&gt;\r\n\r\nso you was able to execute it, **but** this JAR that you have assembled only contains the compiled source code file (`.class` files generated from your source `.java` files) and the resources (typically located in `src/main/resource` folder, though this location can be overrided, extended e.t.c.), that&#39;s all.\r\n\r\nSo, this jar is not a fat JAR (you can create one with maven shade plugin, see [official usage example here][1]).\r\n\r\nAlso there is no `Class-Path` entry specified in the `MANIFEST.MF` within the JAR (you can specify the Class-Path entry in the maven jar plugin configuration, see [here official example][2], also take a look into [maven-dependency-plugin][3], also widely used in this cases) - so, JVM is throwing `NoClassDefFoundError`, because at runtime it is not able to find some classes, and this happens because **JVM has no idea where to search for them**\r\n\r\nPonder on it - classes of your dependencies are not present in the JAR itself, because it is not a fat Jar you are assembling, neither there is a classpath specified in your manifest. \r\n\r\nSo, I think the easiest solution would be to include the maven-shade-plugin into your build and assemble an uber jar. Include the following plugin into your build:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n           &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHope it helped, have a nice day.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/usage.html\r\n  [2]: https://maven.apache.org/shared/maven-archiver/examples/classpath.html\r\n  [3]: https://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-project-dependencies.html","title":"java.lang.ClassNotFoundException: org.jsoup.nodes.Document using Maven","body":"<p>Maven jar plugin is created on the <code>package</code> phase, and the jar  created by this plugin is, by default, not executable, though you have specified the class that contains <code>main</code> method in the generated <code>MANIFEST.MF</code> file:</p>\n<pre><code>&lt;archive&gt;\n   &lt;manifest&gt;\n   &lt;mainClass&gt;com.sample.App&lt;/mainClass&gt;\n   &lt;/manifest&gt;\n&lt;/archive&gt;\n</code></pre>\n<p>so you was able to execute it, <strong>but</strong> this JAR that you have assembled only contains the compiled source code file (<code>.class</code> files generated from your source <code>.java</code> files) and the resources (typically located in <code>src/main/resource</code> folder, though this location can be overrided, extended e.t.c.), that's all.</p>\n<p>So, this jar is not a fat JAR (you can create one with maven shade plugin, see <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/usage.html\" rel=\"nofollow noreferrer\">official usage example here</a>).</p>\n<p>Also there is no <code>Class-Path</code> entry specified in the <code>MANIFEST.MF</code> within the JAR (you can specify the Class-Path entry in the maven jar plugin configuration, see <a href=\"https://maven.apache.org/shared/maven-archiver/examples/classpath.html\" rel=\"nofollow noreferrer\">here official example</a>, also take a look into <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-project-dependencies.html\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a>, also widely used in this cases) - so, JVM is throwing <code>NoClassDefFoundError</code>, because at runtime it is not able to find some classes, and this happens because <strong>JVM has no idea where to search for them</strong></p>\n<p>Ponder on it - classes of your dependencies are not present in the JAR itself, because it is not a fat Jar you are assembling, neither there is a classpath specified in your manifest.</p>\n<p>So, I think the easiest solution would be to include the maven-shade-plugin into your build and assemble an uber jar. Include the following plugin into your build:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n       &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Hope it helped, have a nice day.</p>\n"}],"owner":{"account_id":1551534,"reputation":1281,"user_id":1443801,"accept_rate":60,"display_name":"Paagalpan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6775,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33633600,"answer_count":4,"score":2,"last_activity_date":1648637155,"creation_date":1447169056,"question_id":33633456,"body_markdown":"I&#39;m using maven to manage my project.\r\n\r\nThis is my main file:\r\n\r\n    package com.sample;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    /**\r\n     * Hello world!\r\n     *\r\n     */\r\n    public class App {\r\n    \tpublic static void main(String[] args )\r\n        {\r\n    \t\ttry\r\n    \t\t{\r\n\r\n    \t\t/*\tString html = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;/head&gt;&quot;\r\n    \t\t\t\t\t  + &quot;&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    \t\t\t\t\tDocument doc = Jsoup.parse(html);*/\r\n    \t\t\tDocument doc = Jsoup.connect(&quot;http://www.javatpoint.com&quot;).get();  \r\n    \t\t\tString title = doc.title();  \r\n    \t\t\tSystem.out.println(&quot;title is: &quot; + title);  \r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n        }\r\n    }\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sample-pc&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sample-pc&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n    \t\t\t        &lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t\t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.sample.App&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nWhen I run the following commands:\r\n\r\n    mvn clean package\r\n    java -jar target/sample-pc-1.0-SNAPSHOT.jar \r\n\r\nI get the following errors:\r\n\r\n\r\n&gt; Error: A JNI error has occurred, please check your installation and\r\n&gt; try again Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/jsoup/nodes/Document \tat\r\n&gt; java.lang.Class.getDeclaredMethods0(Native Method) \tat\r\n&gt; java.lang.Class.privateGetDeclaredMethods(Class.java:2701) \tat\r\n&gt; java.lang.Class.privateGetMethodRecursive(Class.java:3048) \tat\r\n&gt; java.lang.Class.getMethod0(Class.java:3018) \tat\r\n&gt; java.lang.Class.getMethod(Class.java:1784) \tat\r\n&gt; sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n&gt; \tat\r\n&gt; sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\n&gt; Caused by: java.lang.ClassNotFoundException: org.jsoup.nodes.Document\r\n&gt; \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) \tat\r\n&gt; java.lang.\r\n\r\nHowever, if I directly run the app from eclipse, it runs without any errors. I am not sure why I cant run it from the command line.\r\n\r\n\r\nThanks","title":"java.lang.ClassNotFoundException: org.jsoup.nodes.Document using Maven","body":"<p>I'm using maven to manage my project.</p>\n\n<p>This is my main file:</p>\n\n<pre><code>package com.sample;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\n/**\n * Hello world!\n *\n */\npublic class App {\n    public static void main(String[] args )\n    {\n        try\n        {\n\n        /*  String html = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;/head&gt;\"\n                      + \"&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n                    Document doc = Jsoup.parse(html);*/\n            Document doc = Jsoup.connect(\"http://www.javatpoint.com\").get();  \n            String title = doc.title();  \n            System.out.println(\"title is: \" + title);  \n        }\n        catch (Exception e)\n        {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n\n<p>This is my pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;sample-pc&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sample-pc&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.8.3&lt;/version&gt;\n                    &lt;scope&gt;compile&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n        &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.sample.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>When I run the following commands:</p>\n\n<pre><code>mvn clean package\njava -jar target/sample-pc-1.0-SNAPSHOT.jar \n</code></pre>\n\n<p>I get the following errors:</p>\n\n<blockquote>\n  <p>Error: A JNI error has occurred, please check your installation and\n  try again Exception in thread \"main\" java.lang.NoClassDefFoundError:\n  org/jsoup/nodes/Document  at\n  java.lang.Class.getDeclaredMethods0(Native Method)    at\n  java.lang.Class.privateGetDeclaredMethods(Class.java:2701)    at\n  java.lang.Class.privateGetMethodRecursive(Class.java:3048)    at\n  java.lang.Class.getMethod0(Class.java:3018)   at\n  java.lang.Class.getMethod(Class.java:1784)    at\n  sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\n    at\n  sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\n  Caused by: java.lang.ClassNotFoundException: org.jsoup.nodes.Document\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)   at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)     at\n  java.lang.</p>\n</blockquote>\n\n<p>However, if I directly run the app from eclipse, it runs without any errors. I am not sure why I cant run it from the command line.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"owner":{"account_id":15772565,"reputation":165,"user_id":11381193,"display_name":"Ikaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648636765,"creation_date":1647942623,"question_id":71569963,"body_markdown":"I&#39;m interacting with a C library in a Java application using GraalVm. This library uses a field to store the error messages value triggered by the functions. I need to know how to declare it in my GraalVm class to access it.\r\n\r\n**C code:** \r\n```\r\ntypedef struct {\r\n    int err_no;\r\n    char *msg;\r\n} ttErr;\r\n\r\nextern ttErr tt_err;\r\n```\r\n\r\n**Java code:** \r\n```\r\n@CStruct(&quot;ttErr&quot;)\r\npublic interface TtErr extends PointerBase {\r\n\r\n    @CField(&quot;err_no&quot;)\r\n    int getErrNo();\r\n\r\n    @CField(&quot;err_no&quot;)\r\n    void setErrNo(int errNo);\r\n\r\n    @CField(&quot;msg&quot;)\r\n    CCharPointer getMsg();\r\n\r\n    @CField(&quot;msg&quot;)\r\n    void setMsg(CCharPointer msg);\r\n}\r\n\r\n@????(&quot;tt_err&quot;) //How to declare this? \r\nTtErr ttErrAccessor;\r\n\r\n```\r\n\r\nThanks in advance","title":"How to declare &quot;extern&quot; field with graalvm.nativeimage","body":"<p>I'm interacting with a C library in a Java application using GraalVm. This library uses a field to store the error messages value triggered by the functions. I need to know how to declare it in my GraalVm class to access it.</p>\n<p><strong>C code:</strong></p>\n<pre><code>typedef struct {\n    int err_no;\n    char *msg;\n} ttErr;\n\nextern ttErr tt_err;\n</code></pre>\n<p><strong>Java code:</strong></p>\n<pre><code>@CStruct(&quot;ttErr&quot;)\npublic interface TtErr extends PointerBase {\n\n    @CField(&quot;err_no&quot;)\n    int getErrNo();\n\n    @CField(&quot;err_no&quot;)\n    void setErrNo(int errNo);\n\n    @CField(&quot;msg&quot;)\n    CCharPointer getMsg();\n\n    @CField(&quot;msg&quot;)\n    void setMsg(CCharPointer msg);\n}\n\n@????(&quot;tt_err&quot;) //How to declare this? \nTtErr ttErrAccessor;\n\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1421079456,"post_id":27905674,"comment_id":44211825,"body_markdown":"Can you elaborate a little bit more, cause copying resources like jsp&#39;s sounds wrong to me. Apart from that why are you using an old version of [maven-remote-resources-plugin](http://maven.apache.org/plugins/maven-remote-resources-plugin/) currently 1.5.","body":"Can you elaborate a little bit more, cause copying resources like jsp&#39;s sounds wrong to me. Apart from that why are you using an old version of <a href=\"http://maven.apache.org/plugins/maven-remote-resources-plugin/\" rel=\"nofollow noreferrer\">maven-remote-resources-plugin</a> currently 1.5."},{"owner":{"account_id":5613812,"reputation":81,"user_id":4445821,"display_name":"Gerardo"},"score":0,"creation_date":1421137586,"post_id":27905674,"comment_id":44233558,"body_markdown":"I tried with different versions of the plugin and it doesn&#39;t change anything. Elaborate a bit more is kind of difficult, there&#39;s not to much to say, the module B is an extension of module A and what we want is that any change in module A will be copied to module B automatically","body":"I tried with different versions of the plugin and it doesn&#39;t change anything. Elaborate a bit more is kind of difficult, there&#39;s not to much to say, the module B is an extension of module A and what we want is that any change in module A will be copied to module B automatically"}],"answers":[{"tags":[],"owner":{"account_id":5613812,"reputation":81,"user_id":4445821,"display_name":"Gerardo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1421152872,"creation_date":1421152872,"answer_id":27922438,"question_id":27905674,"body_markdown":"Ok, I found a solution. \r\nLooks like remote maven-remote-resources-plugin only works for resources under src/main/resources so in my case the trick was to copy /webapp/* to that folder via resources and to execute the plugin after the resources are copied I had specify `&lt;phase&gt;process-resources&lt;/phase&gt;` in the plugin because otherwise it was been executing before having the resources in their place.\r\nHere is the code for the profile\r\n\r\n    &lt;profile&gt;\r\n                &lt;id&gt;share-resources&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n                &lt;/properties&gt;\r\n                &lt;build&gt;\r\n                    &lt;resources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n                        &lt;/resource&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${project.basedir}/src/main/config/embedded&lt;/directory&gt;\r\n                        &lt;/resource&gt;\r\n                        &lt;!-- This is the one for webapp --&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${project.basedir}/src/main/webapp&lt;/directory&gt;\r\n                            &lt;targetPath&gt;${project.build.outputDirectory}/shared-resources&lt;/targetPath&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/resources&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.5&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;bundle&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;resourcesDirectory&gt;${project.build.outputDirectory}&lt;/resourcesDirectory&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                        &lt;includes&gt;\r\n                                            &lt;include&gt;**/shared-resources/**/*.*&lt;/include&gt;\r\n                                        &lt;/includes&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n\r\nTo retrieve the resources in module B just did as in the documentation\r\n","title":"maven-remote-resources-plugin doesn&#39;t copy files, only folder structure","body":"<p>Ok, I found a solution. \nLooks like remote maven-remote-resources-plugin only works for resources under src/main/resources so in my case the trick was to copy /webapp/* to that folder via resources and to execute the plugin after the resources are copied I had specify <code>&lt;phase&gt;process-resources&lt;/phase&gt;</code> in the plugin because otherwise it was been executing before having the resources in their place.\nHere is the code for the profile</p>\n\n<pre><code>&lt;profile&gt;\n            &lt;id&gt;share-resources&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n            &lt;/properties&gt;\n            &lt;build&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n                    &lt;/resource&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}/src/main/config/embedded&lt;/directory&gt;\n                    &lt;/resource&gt;\n                    &lt;!-- This is the one for webapp --&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}/src/main/webapp&lt;/directory&gt;\n                        &lt;targetPath&gt;${project.build.outputDirectory}/shared-resources&lt;/targetPath&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\n                            &lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.5&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;process-resources&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;bundle&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;resourcesDirectory&gt;${project.build.outputDirectory}&lt;/resourcesDirectory&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\n                                        &lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/shared-resources/**/*.*&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n</code></pre>\n\n<p>To retrieve the resources in module B just did as in the documentation</p>\n"}],"owner":{"account_id":5613812,"reputation":81,"user_id":4445821,"display_name":"Gerardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2827,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27922438,"answer_count":1,"score":2,"last_activity_date":1648636555,"creation_date":1421077466,"question_id":27905674,"body_markdown":"I have a maven project with a module which is a java web application (A module) and another module (B module) that is also a java web application that uses the classes from the A module and its resources. Creating a jar and installing it in the maven repository its no problem to compile the B module but my problem its to copy the resources from A to B.\r\n \r\nI am trying to copy the jsp and other files from A module. Following the documentation and some blogs I managed to get the `target\\classes\\META-INF\\maven\\remote-resources.xml`, but when I try to copy those resources in the B module I only get the folder structure but any file inside.\r\n\r\nA module pom\r\n   \r\n```xml\r\n&lt;profile&gt;\r\n\t&lt;id&gt;validator&lt;/id&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;bundle&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;resourcesDirectory&gt;${project.basedir}/src/main/webapp&lt;/resourcesDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;**/*.*&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\n   \r\n\r\nB module pom\r\n\r\n```xml\r\n&lt;profile&gt;\r\n\t&lt;id&gt;embedded&lt;/id&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;resourceBundles&gt;\r\n\t\t\t\t\t\t&lt;resourceBundle&gt;my.group:my.artifact:${my.version}&lt;/resourceBundle&gt;\r\n\t\t\t\t\t&lt;/resourceBundles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${project.basedir}/src/main/config/embedded&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nIn the output I get no errors but there are no files in the `target\\maven-shared-archive-resources\\` only the folder structure as it is in module A.\r\n\r\nAny idea what I am doing wrong?","title":"maven-remote-resources-plugin doesn&#39;t copy files, only folder structure","body":"<p>I have a maven project with a module which is a java web application (A module) and another module (B module) that is also a java web application that uses the classes from the A module and its resources. Creating a jar and installing it in the maven repository its no problem to compile the B module but my problem its to copy the resources from A to B.</p>\n<p>I am trying to copy the jsp and other files from A module. Following the documentation and some blogs I managed to get the <code>target\\classes\\META-INF\\maven\\remote-resources.xml</code>, but when I try to copy those resources in the B module I only get the folder structure but any file inside.</p>\n<p>A module pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;validator&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;bundle&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;resourcesDirectory&gt;${project.basedir}/src/main/webapp&lt;/resourcesDirectory&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/WEB-INF/**&lt;/exclude&gt;\n                                &lt;exclude&gt;**/META-INF/**&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*.*&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>B module pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;embedded&lt;/id&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-remote-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resourceBundles&gt;\n                        &lt;resourceBundle&gt;my.group:my.artifact:${my.version}&lt;/resourceBundle&gt;\n                    &lt;/resourceBundles&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/src/main/config/embedded&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>In the output I get no errors but there are no files in the <code>target\\maven-shared-archive-resources\\</code> only the folder structure as it is in module A.</p>\n<p>Any idea what I am doing wrong?</p>\n"},{"tags":["java","sftp","bouncycastle"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1648637118,"post_id":71675643,"comment_id":126673425,"body_markdown":"Not only the availability of bouncycastle itself is relevant, but also availability of the individual algorithms. One of each group written out in the error message about the failed settlement should be available. Or the building process doesn&#39;t care about your adding of Bouncycastle as provider, you could do it statically, like described here: https://github.com/bcgit/bc-java/wiki/Provider-Installation","body":"Not only the availability of bouncycastle itself is relevant, but also availability of the individual algorithms. One of each group written out in the error message about the failed settlement should be available. Or the building process doesn&#39;t care about your adding of Bouncycastle as provider, you could do it statically, like described here: <a href=\"https://github.com/bcgit/bc-java/wiki/Provider-Installation\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/wiki/Provider-Installation</a>"}],"owner":{"account_id":24743984,"reputation":46,"user_id":18630384,"display_name":"iklen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648636515,"creation_date":1648636515,"question_id":71675643,"body_markdown":"I am trying to upload some file to a server using custom sshj/sftp fat jar. However I am stuck on a problem where dependency is reporting that it is unable to reach a settlement.\r\n\r\nUSAGE:\r\n```\r\njava -jar ...\r\n```\r\n\r\n**NOTE**: This works on one server, but does not work on the other. Both servers have identical ciphers configured in *sshd_config*.\r\n\r\n```\r\nBouncy Castle provider is available\r\nnet.schmizz.sshj.transport.TransportException: Unable to reach a settlement: [diffie-hellman-group1-sha1, diffie-hellman-group-exchange-sha1] and [curve25519-sha256, curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group16-sha512, diffie-hellman-group18-sha512, diffie-hellman-group14-sha256, diffie-hellman-group14-sha1]\r\n        at net.schmizz.sshj.transport.Proposal.firstMatch(Proposal.java:145)\r\n        at net.schmizz.sshj.transport.Proposal.negotiate(Proposal.java:127)\r\n        at net.schmizz.sshj.transport.KeyExchanger.gotKexInit(KeyExchanger.java:227)\r\n        at net.schmizz.sshj.transport.KeyExchanger.handle(KeyExchanger.java:359)\r\n        at net.schmizz.sshj.transport.TransportImpl.handle(TransportImpl.java:509)\r\n        at net.schmizz.sshj.transport.Decoder.decode(Decoder.java:107)\r\n        at net.schmizz.sshj.transport.Decoder.received(Decoder.java:175)\r\n        at net.schmizz.sshj.transport.Reader.run(Reader.java:60)\r\n```\r\n\r\nI have added BouncyCastle as a provider:\r\n```\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nif (Security.getProvider(&quot;BC&quot;) == null){\r\n   System.out.println(&quot;Bouncy Castle provider is NOT available&quot;);\r\n}\r\nelse{\r\n    System.out.println(&quot;Bouncy Castle provider is available&quot;);\r\n}\r\n```\r\n\r\nThis is excerpt from gradle build file:\r\n```\r\nsourceCompatibility = 1.8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ntask copyShadowLibs(type: Copy) {\r\n    from configurations.shadow\r\n    into &#39;build/libs&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;commons-cli:commons-cli:1.5.0&#39;)\r\n    implementation(&#39;com.jcraft:jzlib:1.1.3&#39;)\r\n    implementation(&#39;org.slf4j:slf4j-api:1.7.7&#39;)\r\n    implementation(&#39;org.slf4j:slf4j-nop:1.7.7&#39;)\r\n    implementation(&#39;com.hierynomus:sshj:0.16.0&#39;)\r\n    shadow &#39;org.bouncycastle:bcprov-jdk15to18:1.67&#39;\r\n}\r\n\r\nshadowJar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;some_main_class&#39;\r\n    }\r\n    archiveFileName = &quot;${project.name}.jar&quot;\r\n}\r\n\r\nshadowJar.dependsOn(copyShadowLibs)\r\n```\r\n\r\nI am out of ideas what to check - could be ssh version or something else entirely..\r\n","title":"sshj/sftp unable to reach settlement even though BouncyCastle is loaded","body":"<p>I am trying to upload some file to a server using custom sshj/sftp fat jar. However I am stuck on a problem where dependency is reporting that it is unable to reach a settlement.</p>\n<p>USAGE:</p>\n<pre><code>java -jar ...\n</code></pre>\n<p><strong>NOTE</strong>: This works on one server, but does not work on the other. Both servers have identical ciphers configured in <em>sshd_config</em>.</p>\n<pre><code>Bouncy Castle provider is available\nnet.schmizz.sshj.transport.TransportException: Unable to reach a settlement: [diffie-hellman-group1-sha1, diffie-hellman-group-exchange-sha1] and [curve25519-sha256, curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group16-sha512, diffie-hellman-group18-sha512, diffie-hellman-group14-sha256, diffie-hellman-group14-sha1]\n        at net.schmizz.sshj.transport.Proposal.firstMatch(Proposal.java:145)\n        at net.schmizz.sshj.transport.Proposal.negotiate(Proposal.java:127)\n        at net.schmizz.sshj.transport.KeyExchanger.gotKexInit(KeyExchanger.java:227)\n        at net.schmizz.sshj.transport.KeyExchanger.handle(KeyExchanger.java:359)\n        at net.schmizz.sshj.transport.TransportImpl.handle(TransportImpl.java:509)\n        at net.schmizz.sshj.transport.Decoder.decode(Decoder.java:107)\n        at net.schmizz.sshj.transport.Decoder.received(Decoder.java:175)\n        at net.schmizz.sshj.transport.Reader.run(Reader.java:60)\n</code></pre>\n<p>I have added BouncyCastle as a provider:</p>\n<pre><code>Security.addProvider(new BouncyCastleProvider());\nif (Security.getProvider(&quot;BC&quot;) == null){\n   System.out.println(&quot;Bouncy Castle provider is NOT available&quot;);\n}\nelse{\n    System.out.println(&quot;Bouncy Castle provider is available&quot;);\n}\n</code></pre>\n<p>This is excerpt from gradle build file:</p>\n<pre><code>sourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ntask copyShadowLibs(type: Copy) {\n    from configurations.shadow\n    into 'build/libs'\n}\n\ndependencies {\n    implementation('commons-cli:commons-cli:1.5.0')\n    implementation('com.jcraft:jzlib:1.1.3')\n    implementation('org.slf4j:slf4j-api:1.7.7')\n    implementation('org.slf4j:slf4j-nop:1.7.7')\n    implementation('com.hierynomus:sshj:0.16.0')\n    shadow 'org.bouncycastle:bcprov-jdk15to18:1.67'\n}\n\nshadowJar {\n    manifest {\n        attributes 'Main-Class': 'some_main_class'\n    }\n    archiveFileName = &quot;${project.name}.jar&quot;\n}\n\nshadowJar.dependsOn(copyShadowLibs)\n</code></pre>\n<p>I am out of ideas what to check - could be ssh version or something else entirely..</p>\n"},{"tags":["java","sql-server","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648637074,"post_id":71675633,"comment_id":126673410,"body_markdown":"I would create a temporary table, insert all records to it, then call a function inside db which will attempt to insert all data from temp table to your main table, it can go one by one and check if insert failed/succeeded then it will return a list with id to you. It can return only successful or failed or return all id with a column next to it with a number like 1/0 if it was a success or not. Then you delete your temporary table. It should be pretty fast","body":"I would create a temporary table, insert all records to it, then call a function inside db which will attempt to insert all data from temp table to your main table, it can go one by one and check if insert failed/succeeded then it will return a list with id to you. It can return only successful or failed or return all id with a column next to it with a number like 1/0 if it was a success or not. Then you delete your temporary table. It should be pretty fast"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648637150,"post_id":71675633,"comment_id":126673437,"body_markdown":"but it all depends on how fast your records in table are changing if you need to override record if it already exists etc.","body":"but it all depends on how fast your records in table are changing if you need to override record if it already exists etc."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648637265,"post_id":71675633,"comment_id":126673475,"body_markdown":"Another approach (only if records in table are changing slowly) would be to fetch existing id something like ```select id from table where id in (list of id here)``` It will be limited by database implementation for example in Oracle you can put only 2000 items into &quot;in&quot; statement. Then just remove resulted id from your &quot;to insert&quot; list and you will insert only not duplicated ones. In this approach you should have an index on your id which you check for duplication. Also in both approaches you should have constraint &quot;unique&quot; on that id which should be unique","body":"Another approach (only if records in table are changing slowly) would be to fetch existing id something like <code>select id from table where id in (list of id here)</code> It will be limited by database implementation for example in Oracle you can put only 2000 items into &quot;in&quot; statement. Then just remove resulted id from your &quot;to insert&quot; list and you will insert only not duplicated ones. In this approach you should have an index on your id which you check for duplication. Also in both approaches you should have constraint &quot;unique&quot; on that id which should be unique"},{"owner":{"account_id":15303494,"reputation":51,"user_id":11041054,"display_name":"Jacek Andrzejczyk"},"score":0,"creation_date":1648637873,"post_id":71675633,"comment_id":126673673,"body_markdown":"Thanks a lot, I will check these solution. I can even divide it to few batch having 2k items. Also I have unique on my column with id so it  is not a problem.","body":"Thanks a lot, I will check these solution. I can even divide it to few batch having 2k items. Also I have unique on my column with id so it  is not a problem."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648637958,"post_id":71675633,"comment_id":126673699,"body_markdown":"After you check which will be better let me know :) I&#39;m curious myself","body":"After you check which will be better let me know :) I&#39;m curious myself"},{"owner":{"account_id":15303494,"reputation":51,"user_id":11041054,"display_name":"Jacek Andrzejczyk"},"score":0,"creation_date":1649319390,"post_id":71675633,"comment_id":126846898,"body_markdown":"Hi, I tried both solutions, and I need to say that the one with temp table is way more efficient. Thanks for help, it works really good.","body":"Hi, I tried both solutions, and I need to say that the one with temp table is way more efficient. Thanks for help, it works really good."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1649319987,"post_id":71675633,"comment_id":126847108,"body_markdown":"I&#39;m glad that I could help. I though that temp table would be better. Thanks for feedback :)","body":"I&#39;m glad that I could help. I though that temp table would be better. Thanks for feedback :)"}],"owner":{"account_id":15303494,"reputation":51,"user_id":11041054,"display_name":"Jacek Andrzejczyk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648636471,"creation_date":1648636471,"question_id":71675633,"body_markdown":"I am writing app which take big json file, and save it to db. To do this I use java, spring + hibernate, and my db is MS SQL.\r\n\r\nThe problem is to save many records(about 25k) to table without duplicates, and it need to be done efficiency.\r\n\r\nIt&#39;s not that I can&#39;t resolve this problem at all, it&#39;s easy to use method: save instead of saveAll, and with every record, check if this id exist in database. The biggest problem is, to find the way, to do it really efficiency. I save this data many times per day, and also my table have about few millions of records, and it will still grow, so you can imagine how long it can take to check every id.\r\n\r\nMy column where I need to remove duplicates is &#39;id&#39; but it is not the key of my table, my key column is &#39;something_id&#39;.\r\n\r\nAnother important thing is, I need use transactional, to know which files were saved properly in table. \r\n\r\nMy ideas so far:\r\n\r\nAdd unique(id) with (ignore_dup_key = ON) - It does not work, maybe it only works for key column?\r\n\r\nLike I said earlier, for now it works with check if &#39;id&#39; exist in table, if exist I just remove it from map, then save it, but it is slow, and if we will have more records in table it will be only slower.\r\n\r\nI have idea to catch exception DataIntegrityViolationException to remove duplicate and run saveAll method once again, and this mechanism would work using recurrency, but sometimes duplicates records are about 25% of whole file, so it may work slow anyway. Also I thought, that I could split file mannualy to use divide and conquer and split it by half when exception occurs then remove record and save only half of the data. \r\n\r\nAnother idea was to use in transactional annotation - dontRollbackOn and specify DataIntegrityViolationException, but it didn&#39;t work. \r\n\r\nI would be grateful, if you can just show me some new options, or confirm that one of the ways I tried, is good solution, and I just need spend more time on reading and implementation, because maybe one of my solution didn&#39;t worked because I missed something.","title":"Save many records to table without duplicates using java and hibernate","body":"<p>I am writing app which take big json file, and save it to db. To do this I use java, spring + hibernate, and my db is MS SQL.</p>\n<p>The problem is to save many records(about 25k) to table without duplicates, and it need to be done efficiency.</p>\n<p>It's not that I can't resolve this problem at all, it's easy to use method: save instead of saveAll, and with every record, check if this id exist in database. The biggest problem is, to find the way, to do it really efficiency. I save this data many times per day, and also my table have about few millions of records, and it will still grow, so you can imagine how long it can take to check every id.</p>\n<p>My column where I need to remove duplicates is 'id' but it is not the key of my table, my key column is 'something_id'.</p>\n<p>Another important thing is, I need use transactional, to know which files were saved properly in table.</p>\n<p>My ideas so far:</p>\n<p>Add unique(id) with (ignore_dup_key = ON) - It does not work, maybe it only works for key column?</p>\n<p>Like I said earlier, for now it works with check if 'id' exist in table, if exist I just remove it from map, then save it, but it is slow, and if we will have more records in table it will be only slower.</p>\n<p>I have idea to catch exception DataIntegrityViolationException to remove duplicate and run saveAll method once again, and this mechanism would work using recurrency, but sometimes duplicates records are about 25% of whole file, so it may work slow anyway. Also I thought, that I could split file mannualy to use divide and conquer and split it by half when exception occurs then remove record and save only half of the data.</p>\n<p>Another idea was to use in transactional annotation - dontRollbackOn and specify DataIntegrityViolationException, but it didn't work.</p>\n<p>I would be grateful, if you can just show me some new options, or confirm that one of the ways I tried, is good solution, and I just need spend more time on reading and implementation, because maybe one of my solution didn't worked because I missed something.</p>\n"},{"tags":["java","ssl","websphere","ibm-mq","keystore"],"comments":[{"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"score":0,"creation_date":1648851594,"post_id":71675596,"comment_id":126737330,"body_markdown":"Can anyone help if there is a solution other than creating a new keystore file with single entry?","body":"Can anyone help if there is a solution other than creating a new keystore file with single entry?"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648636313,"creation_date":1648636313,"question_id":71675596,"body_markdown":"I&#39;m trying to enable ssl client authentication in my java application for connecting to WMQ\r\nI&#39;m starting with this main class:\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\r\n        // Queue manager details\r\n        String qmgrName = &quot;MGR&quot;;\r\n\r\n        String keyStorePath   = &quot;keystore.jks&quot;;\r\n        String trustStorePath = &quot;keystore.jks&quot;;\r\n        String password       = &quot;changeit&quot;;\r\n\r\n        // Create a keystore object for the keystore\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\r\n        // Open our file and read the keystore\r\n        FileInputStream keyStoreInput = new FileInputStream(keyStorePath);\r\n        try {\r\n            keyStore.load(keyStoreInput, password.toCharArray());\r\n        }\r\n        finally {\r\n            keyStoreInput.close();\r\n        }\r\n\r\n        // Create a keystore object for the truststore\r\n        KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\r\n        // Open our file and read the truststore (no password)\r\n        FileInputStream trustStoreInput = new FileInputStream(trustStorePath);\r\n        try {\r\n            trustStore.load(trustStoreInput, password.toCharArray());\r\n        }\r\n        finally {\r\n            trustStoreInput.close();\r\n        }\r\n\r\n        // Create a default trust and key manager\r\n        TrustManagerFactory trustManagerFactory =\r\n                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\r\n        KeyManagerFactory keyManagerFactory =\r\n                KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\r\n        // Initialise the managers\r\n        trustManagerFactory.init(trustStore);\r\n        keyManagerFactory.init(keyStore, password.toCharArray());\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // TLS\r\n        System.out.println(&quot;SSLContextider: &quot; + sslContext.getProvider().toString());\r\n\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n\r\n        // Get an SSLSocketFactory to pass to WMQ\r\n        SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n        // Set the socket factory in our WMQ parameters\r\n\r\n        MQQueueConnectionFactory cf = new MQQueueConnectionFactory();\r\n        cf.setStringProperty(CommonConstants.WMQ_HOST_NAME, _IP);\r\n        cf.setIntProperty(CommonConstants.WMQ_PORT, 1414);\r\n        cf.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n        cf.setStringProperty(CommonConstants.WMQ_CHANNEL, &quot;DEV.ADMIN.SVRCONN&quot;);\r\n        cf.setStringProperty(CommonConstants.WMQ_QUEUE_MANAGER, qmgrName);\r\n        cf.setBooleanProperty(CommonConstants.USER_AUTHENTICATION_MQCSP, false);\r\n        cf.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;);\r\n        cf.setSSLSocketFactory(sslSocketFactory);\r\n\r\n            try (MQQueueConnection jmsConnection =\r\n                         (MQQueueConnection)\r\n                                cf.createQueueConnection();\r\n                 MQQueueSession session =\r\n                         (MQQueueSession) jmsConnection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n                 MQQueueSender sender =\r\n                         (MQQueueSender) session.createSender(session.createQueue(&quot;DEV&quot;))) {\r\n                jmsConnection.start();\r\n\r\n                sender.send(session.createTextMessage(&quot;aaa&quot;));\r\n            }\r\n    }\r\n\r\nMy problem is that when I will integrate my code in our application, I will have keystore file which contains multiples keys.\r\nHow can I specify which alias I want WMQ java client to use?\r\n","title":"SSL client authentication into Websphere MQ","body":"<p>I'm trying to enable ssl client authentication in my java application for connecting to WMQ\nI'm starting with this main class:</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n\n    // Queue manager details\n    String qmgrName = &quot;MGR&quot;;\n\n    String keyStorePath   = &quot;keystore.jks&quot;;\n    String trustStorePath = &quot;keystore.jks&quot;;\n    String password       = &quot;changeit&quot;;\n\n    // Create a keystore object for the keystore\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n\n    // Open our file and read the keystore\n    FileInputStream keyStoreInput = new FileInputStream(keyStorePath);\n    try {\n        keyStore.load(keyStoreInput, password.toCharArray());\n    }\n    finally {\n        keyStoreInput.close();\n    }\n\n    // Create a keystore object for the truststore\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n\n    // Open our file and read the truststore (no password)\n    FileInputStream trustStoreInput = new FileInputStream(trustStorePath);\n    try {\n        trustStore.load(trustStoreInput, password.toCharArray());\n    }\n    finally {\n        trustStoreInput.close();\n    }\n\n    // Create a default trust and key manager\n    TrustManagerFactory trustManagerFactory =\n            TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n\n    KeyManagerFactory keyManagerFactory =\n            KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n\n    // Initialise the managers\n    trustManagerFactory.init(trustStore);\n    keyManagerFactory.init(keyStore, password.toCharArray());\n\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // TLS\n    System.out.println(&quot;SSLContextider: &quot; + sslContext.getProvider().toString());\n\n    sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\n\n    // Get an SSLSocketFactory to pass to WMQ\n    SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n    // Set the socket factory in our WMQ parameters\n\n    MQQueueConnectionFactory cf = new MQQueueConnectionFactory();\n    cf.setStringProperty(CommonConstants.WMQ_HOST_NAME, _IP);\n    cf.setIntProperty(CommonConstants.WMQ_PORT, 1414);\n    cf.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n    cf.setStringProperty(CommonConstants.WMQ_CHANNEL, &quot;DEV.ADMIN.SVRCONN&quot;);\n    cf.setStringProperty(CommonConstants.WMQ_QUEUE_MANAGER, qmgrName);\n    cf.setBooleanProperty(CommonConstants.USER_AUTHENTICATION_MQCSP, false);\n    cf.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;);\n    cf.setSSLSocketFactory(sslSocketFactory);\n\n        try (MQQueueConnection jmsConnection =\n                     (MQQueueConnection)\n                            cf.createQueueConnection();\n             MQQueueSession session =\n                     (MQQueueSession) jmsConnection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n             MQQueueSender sender =\n                     (MQQueueSender) session.createSender(session.createQueue(&quot;DEV&quot;))) {\n            jmsConnection.start();\n\n            sender.send(session.createTextMessage(&quot;aaa&quot;));\n        }\n}\n</code></pre>\n<p>My problem is that when I will integrate my code in our application, I will have keystore file which contains multiples keys.\nHow can I specify which alias I want WMQ java client to use?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"display_name":"user957654"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1412758600,"creation_date":1412758600,"answer_id":26252885,"question_id":26252155,"body_markdown":"i think what you are looking for is spring  `Interceptor` .\r\n\r\nplease check this [tutorial][1] which is describing how to use interceptors . \r\n\r\nand check spring documentation [Intercepting requests with a HandlerInterceptor][2] .\r\n\r\nfinally check this answer [here][3] \r\n\r\nHope that helps .\r\n\r\n\r\n  [1]: http://www.journaldev.com/2676/spring-mvc-interceptors-example-handlerinterceptor-and-handlerinterceptoradapter\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping-interceptor\r\n  [3]: https://stackoverflow.com/a/3292549/957654","title":"How to add HTTP lifecycle middleware handler to spring?","body":"<p>i think what you are looking for is spring  <code>Interceptor</code> .</p>\n\n<p>please check this <a href=\"http://www.journaldev.com/2676/spring-mvc-interceptors-example-handlerinterceptor-and-handlerinterceptoradapter\" rel=\"noreferrer\">tutorial</a> which is describing how to use interceptors . </p>\n\n<p>and check spring documentation <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping-interceptor\" rel=\"noreferrer\">Intercepting requests with a HandlerInterceptor</a> .</p>\n\n<p>finally check this answer <a href=\"https://stackoverflow.com/a/3292549/957654\">here</a> </p>\n\n<p>Hope that helps .</p>\n"},{"tags":[],"owner":{"account_id":15410505,"reputation":91,"user_id":16415888,"display_name":"chandler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648636273,"creation_date":1648636273,"answer_id":71675586,"question_id":26252155,"body_markdown":"To whom ever this may concern regarding the answer, the class `HandlerInterceptorAdapter` is now deprecated. You can implement the `HandlerInterceptor` which comes in the form of an interface instead. You can then implement `preHandle`, `postHandle`, or `afterCompletion` methods. See [this](https://stackoverflow.com/questions/65136917/spring-boot-2-4-0-the-type-handlerinterceptoradapter-is-deprecated) question.","title":"How to add HTTP lifecycle middleware handler to spring?","body":"<p>To whom ever this may concern regarding the answer, the class <code>HandlerInterceptorAdapter</code> is now deprecated. You can implement the <code>HandlerInterceptor</code> which comes in the form of an interface instead. You can then implement <code>preHandle</code>, <code>postHandle</code>, or <code>afterCompletion</code> methods. See <a href=\"https://stackoverflow.com/questions/65136917/spring-boot-2-4-0-the-type-handlerinterceptoradapter-is-deprecated\">this</a> question.</p>\n"}],"owner":{"account_id":1295922,"reputation":15282,"user_id":1246987,"accept_rate":89,"display_name":"bodokaiser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34176,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26252885,"answer_count":2,"score":11,"last_activity_date":1648636273,"creation_date":1412756140,"question_id":26252155,"body_markdown":"I have a **CustomerController.java**:\r\n\r\n    package com.satisfeet.http;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import com.satisfeet.core.model.Address;\r\n    import com.satisfeet.core.model.Customer;\r\n    import com.satisfeet.core.service.CustomerService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/customers&quot;)\r\n    public class CustomerController {\r\n    \r\n        @Autowired\r\n        private CustomerService service;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Iterable&lt;Customer&gt; index() {\r\n            return this.service.list();\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        public Customer create(@RequestBody Customer customer) {\r\n            this.service.create(customer);\r\n    \r\n            return customer;\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/{id}&quot;)\r\n        public Customer show(@PathVariable Integer id) {\r\n            return this.service.show(id);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.PUT, value = &quot;/{id}&quot;)\r\n        public void update(@PathVariable Integer id, @RequestBody Customer customer) {\r\n            this.service.update(id, customer);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.DELETE, value = &quot;/{id}&quot;)\r\n        public void destroy(@PathVariable Integer id) {\r\n            this.service.delete(id);\r\n        }\r\n    \r\n    }\r\n\r\nand a **ExceptionController.java**:\r\n\r\n    package com.satisfeet.http;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    import com.satisfeet.core.exception.NotFoundException;\r\n    \r\n    @ControllerAdvice\r\n    public class ExceptionController {\r\n    \r\n        @ExceptionHandler(NotFoundException.class)\r\n        public ResponseEntity notFoundError() {\r\n            return new ResponseEntity(HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n    }\r\n\r\nI would now like to add some sort of HTTP request-response middleware which is executed before the response is written and write the HTTP status code in json:\r\n\r\n    HTTP/1.1 404 OK\r\n    Connection: close\r\n    Content-Type: application/json\r\n    \r\n    {&quot;error&quot;:&quot;not found&quot;}\r\n\r\nI know how to convert a `HttpStatus` to a `String` but I do not know where I could do this globally with `@ControllerAdvice`.\r\n\r\n**So how do I register a global handler which has access to a response object?**\r\n","title":"How to add HTTP lifecycle middleware handler to spring?","body":"<p>I have a <strong>CustomerController.java</strong>:</p>\n\n<pre><code>package com.satisfeet.http;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.satisfeet.core.model.Address;\nimport com.satisfeet.core.model.Customer;\nimport com.satisfeet.core.service.CustomerService;\n\n@RestController\n@RequestMapping(\"/customers\")\npublic class CustomerController {\n\n    @Autowired\n    private CustomerService service;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public Iterable&lt;Customer&gt; index() {\n        return this.service.list();\n    }\n\n    @RequestMapping(method = RequestMethod.POST)\n    public Customer create(@RequestBody Customer customer) {\n        this.service.create(customer);\n\n        return customer;\n    }\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/{id}\")\n    public Customer show(@PathVariable Integer id) {\n        return this.service.show(id);\n    }\n\n    @RequestMapping(method = RequestMethod.PUT, value = \"/{id}\")\n    public void update(@PathVariable Integer id, @RequestBody Customer customer) {\n        this.service.update(id, customer);\n    }\n\n    @RequestMapping(method = RequestMethod.DELETE, value = \"/{id}\")\n    public void destroy(@PathVariable Integer id) {\n        this.service.delete(id);\n    }\n\n}\n</code></pre>\n\n<p>and a <strong>ExceptionController.java</strong>:</p>\n\n<pre><code>package com.satisfeet.http;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\nimport com.satisfeet.core.exception.NotFoundException;\n\n@ControllerAdvice\npublic class ExceptionController {\n\n    @ExceptionHandler(NotFoundException.class)\n    public ResponseEntity notFoundError() {\n        return new ResponseEntity(HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n\n<p>I would now like to add some sort of HTTP request-response middleware which is executed before the response is written and write the HTTP status code in json:</p>\n\n<pre><code>HTTP/1.1 404 OK\nConnection: close\nContent-Type: application/json\n\n{\"error\":\"not found\"}\n</code></pre>\n\n<p>I know how to convert a <code>HttpStatus</code> to a <code>String</code> but I do not know where I could do this globally with <code>@ControllerAdvice</code>.</p>\n\n<p><strong>So how do I register a global handler which has access to a response object?</strong></p>\n"},{"tags":["java","ssl","tomcat","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1648270335,"post_id":71624250,"comment_id":126587468,"body_markdown":"Did you read the documentation? https://h2database.com/html/advanced.html#tls_connections Configuration of Tomcat isn&#39;t related to configuration of H2 in any way. (Anonymous TLS doesn&#39;t work in new JVMs, so you need to configure the keystore explicitly.)","body":"Did you read the documentation? <a href=\"https://h2database.com/html/advanced.html#tls_connections\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#tls_connections</a> Configuration of Tomcat isn&#39;t related to configuration of H2 in any way. (Anonymous TLS doesn&#39;t work in new JVMs, so you need to configure the keystore explicitly.)"},{"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"score":0,"creation_date":1648507797,"post_id":71624250,"comment_id":126637081,"body_markdown":"When did anonymous TLS stop working in new JVMs? How new? I can&#39;t find any official documentation. Are you referring to this: https://github.com/h2database/h2database/issues/1303","body":"When did anonymous TLS stop working in new JVMs? How new? I can&#39;t find any official documentation. Are you referring to this: <a href=\"https://github.com/h2database/h2database/issues/1303\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/1303</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648510628,"post_id":71624250,"comment_id":126637542,"body_markdown":"Anonymous TLS *never* worked in any JVM I have ever used in 20+ years, unless you specifically enable anonymous cipher suites at both ends. But it doesn&#39;t have anything to do with this error.","body":"Anonymous TLS <i>never</i> worked in any JVM I have ever used in 20+ years, unless you specifically enable anonymous cipher suites at both ends. But it doesn&#39;t have anything to do with this error."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1648514554,"post_id":71624250,"comment_id":126638148,"body_markdown":"There is a trick to enable it through reflection and it is actually used by H2, but this trick does&#39;t work in Java 11 and later versions and I think it may not work in **some new** Java 8 VMs. Type of keystore and keys in it need to be supported by JVM and JDK has own `keytool` utility, it can be used to generate a self-signed certificate and store it in compatible way.","body":"There is a trick to enable it through reflection and it is actually used by H2, but this trick does&#39;t work in Java 11 and later versions and I think it may not work in <b>some new</b> Java 8 VMs. Type of keystore and keys in it need to be supported by JVM and JDK has own <code>keytool</code> utility, it can be used to generate a self-signed certificate and store it in compatible way."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648540240,"post_id":71624250,"comment_id":126643162,"body_markdown":"@user207421+ what is newish is that Java 11 (2018) and 8u261 (2020) up support TLS1.3, and _if you use_ 1.3 anonymous is no longer possible at all -- except in manual/nonresumption PSK, which Java does not (and did not) support. niemand: the last cause &#39;DerValue rejects tag 45&#39; indicates your supposed pkcs12 contains a hyphen where it shouldn&#39;t, _possibly_ at the beginning, which would occur if you got the pkcs12 mixed up with or overwritten by one of the PEM files (which begin with 5 hyphens); please check `od -tx1` or similar on the beginning of your supposed pkcs12.","body":"@user207421+ what is newish is that Java 11 (2018) and 8u261 (2020) up support TLS1.3, and <i>if you use</i> 1.3 anonymous is no longer possible at all -- except in manual/nonresumption PSK, which Java does not (and did not) support. niemand: the last cause &#39;DerValue rejects tag 45&#39; indicates your supposed pkcs12 contains a hyphen where it shouldn&#39;t, <i>possibly</i> at the beginning, which would occur if you got the pkcs12 mixed up with or overwritten by one of the PEM files (which begin with 5 hyphens); please check <code>od -tx1</code> or similar on the beginning of your supposed pkcs12."},{"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"score":0,"creation_date":1648569843,"post_id":71624250,"comment_id":126655787,"body_markdown":"@dave_thompson_085 I updated with the result of the `od -tx1`. `2d` (hyphen) first appears at offset 320.","body":"@dave_thompson_085 I updated with the result of the <code>od -tx1</code>. <code>2d</code> (hyphen) first appears at offset 320."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648621308,"post_id":71624250,"comment_id":126667626,"body_markdown":"I just noticed you said you set `javax.net.ssl.keyStore*` for the server but `javax.net.ssl.trustStore*` for the client. What _is_ set for `trustStore*` _on the server_? That&#39;s where the problem is. If that&#39;s something different than the pkcs12 you just created, you need to look at that different something.","body":"I just noticed you said you set <code>javax.net.ssl.keyStore*</code> for the server but <code>javax.net.ssl.trustStore*</code> for the client. What <i>is</i> set for <code>trustStore*</code> <i>on the server</i>? That&#39;s where the problem is. If that&#39;s something different than the pkcs12 you just created, you need to look at that different something."},{"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"score":0,"creation_date":1648634448,"post_id":71624250,"comment_id":126672353,"body_markdown":"@dave_thompson_085 I need to correct that statement. They were actually all set for the server. I had intended for the client to connect anonymously over TCP SSL (i.e., no credentials coming from client side), but that is apparently a lost cause. I can connect over TCP SSL when I include the properties using `-D&lt;prop=value&gt;` (and the keystore and truststore files) when starting the H2 Shell on command line on client side. See my update with full details.","body":"@dave_thompson_085 I need to correct that statement. They were actually all set for the server. I had intended for the client to connect anonymously over TCP SSL (i.e., no credentials coming from client side), but that is apparently a lost cause. I can connect over TCP SSL when I include the properties using <code>-D&lt;prop=value&gt;</code> (and the keystore and truststore files) when starting the H2 Shell on command line on client side. See my update with full details."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648662125,"post_id":71624250,"comment_id":126683843,"body_markdown":"I concur a PKCS12 from OpenSSL won&#39;t actually work as Java truststore (i.e. trustAnchors empty). You _can_ create a PKCS12 with keytool usable as both keystore and truststore, _if_ you create both privateKey and trustedCert entries; OpenSSL doesn&#39;t support that mixture _or_ the special bag attribute Java needs for trustedCert. But Java _should_ be able _read_ OpenSSL PKCS12. OTOH if you can no longer replicate it I don&#39;t think there&#39;s anything to do -- and even if you can, this now looks arcane enough we (I) would probably need a dummy or test key you can expose publicly. Cheers.","body":"I concur a PKCS12 from OpenSSL won&#39;t actually work as Java truststore (i.e. trustAnchors empty). You <i>can</i> create a PKCS12 with keytool usable as both keystore and truststore, <i>if</i> you create both privateKey and trustedCert entries; OpenSSL doesn&#39;t support that mixture <i>or</i> the special bag attribute Java needs for trustedCert. But Java <i>should</i> be able <i>read</i> OpenSSL PKCS12. OTOH if you can no longer replicate it I don&#39;t think there&#39;s anything to do -- and even if you can, this now looks arcane enough we (I) would probably need a dummy or test key you can expose publicly. Cheers."}],"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648509337,"answer_count":0,"score":0,"last_activity_date":1648636208,"creation_date":1648252566,"question_id":71624250,"body_markdown":"I&#39;m running H2 tcp server.  \r\nJava (Servlet 3.1 webapp in Tomcat 8.5):\r\n```\r\norg.h2.tools.Server tcp = Server.createTcpServer(&quot;-ifExists&quot;, &quot;-tcpSSL&quot;, &quot;-tcpPort&quot;, &quot;8089&quot;, &quot;-tcpAllowOthers&quot;).start();\r\n```\r\nI&#39;m trying to access it on a remote machine via the H2 Shell on command line:\r\n```\r\n$ java -cp h2-2.1.210.jar org.h2.tools.Shell\r\n```\r\nAfter opening port 8089 on router, tcp connections work:\r\n```\r\njdbc:h2:tcp://mySite.net:8089/file:/Users/xyz/tomcat/webapps/ROOT/WEB-INF/database/myh2db;IFEXISTS=TRUE;MODE=MySQL;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\njdbc:h2:tcp://mySite.net:8089//Users/xyz/tomcat/webapps/ROOT/WEB-INF/database/myh2db;IFEXISTS=TRUE;MODE=MySQL;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n```\r\nBut any attempt at using ssl fails with:\r\n```\r\nSQL Exception: Connection is broken: &quot;javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nAt first I thought it was a Tomcat issue with port 8089, but it doesn&#39;t look to be. The router routes incoming requests at its port 80 to Tomcat at port 8080. Tomcat redirects any HTTPS requests Tomcat receives to the router&#39;s port 443, and the router routes incoming requests it receives at its port 443 to Tomcat&#39;s port 8443.  \r\n  \r\nFor H2 tcp SSL (running in Tomcat, bound to port 8089), I have set up the router to route incoming requests at port 8089 to port 8089. So now tcp works, but ssl fails with the `javax.net.ssl.SSLHandshakeException`.  \r\n  \r\nTomcat server.xml:\r\n```\r\n&lt;Connector port=&quot;8080&quot;\r\n           protocol=&quot;HTTP/1.1&quot;\r\n           connectionTimeout=&quot;20000&quot;\r\n           redirectPort=&quot;443&quot;&gt;\r\n   &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n&lt;/Connector&gt;\r\n.\r\n.\r\n.\r\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\r\n               sslImplementationName=&quot;org.apache.tomcat.util.net.jsse.JSSEImplementation&quot;\r\n               scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\r\n     &lt;SSLHostConfig certificateVerification=&quot;none&quot; sslProtocol=&quot;TLS&quot;&gt;\r\n         &lt;Certificate certificateKeystoreFile=&quot;conf/tomcat.keystore&quot;\r\n                      type=&quot;RSA&quot;\r\n                      certificateKeystorePassword=&quot;&lt;password&gt;&quot; /&gt;\r\n     &lt;/SSLHostConfig&gt;\r\n&lt;/Connector&gt;\r\n```\r\nAny idea what the problem is? How to fix it?  \r\nThanks.\r\n\r\n**UPDATE 2022-03-28**  \r\nThanks to Evgenij&#39;s pointer, I did some more research.  \r\nI used openssl (on macOS) to create new self-signed certificate. I have the following files from this process:\r\n\r\n - server.key (private key)\r\n - server.crt (the certificate)\r\n - server.pem (concatenation of above 2; used to make keystore.pkcs12; otherwise looks useless)\r\n - keystore.pkcs12 \r\n\r\nI then set six java system properties (keyStore and trustStore for the TcpServer (for anonymous TLS connection from client side)):\r\n\r\n - `javax.net.ssl.keyStore=/path/to/keystore.pkcs12` \r\n - `javax.net.ssl.keyStorePassword=&lt;password&gt;` \r\n - `javax.net.ssl.keyStoreType=pkcs12`\r\n - `javax.net.ssl.trustStore=/path/to/keystore.pkcs12` \r\n - `javax.net.ssl.trustStorePassword=&lt;password&gt;` \r\n - `javax.net.ssl.trustStoreType=pkcs12`\r\n\r\nNow when I start up Tomcat, I get:  \r\n```\r\nError starting H2 server\r\norg.h2.jdbc.JdbcSQLNonTransientException: IO Exception: &quot;java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)&quot;; &quot;port: 8089 ssl: true&quot; [90031-210]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:573)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:496)\r\n\tat org.h2.message.DbException.get(DbException.java:216)\r\n\tat org.h2.message.DbException.convertIOException(DbException.java:461)\r\n\tat org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:214)\r\n\tat org.h2.util.NetUtils.createServerSocket(NetUtils.java:177)\r\n\tat org.h2.server.TcpServer.start(TcpServer.java:236)\r\n\tat org.h2.tools.Server.start(Server.java:521)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n\tat java.base/javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:175)\r\n\tat java.base/javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:188)\r\n\tat org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:152)\r\n\tat org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:204)\r\n\t... 17 common frames omitted\r\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1901)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n\tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\r\n\tat java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:99)\r\n\tat java.base/javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:114)\r\n\tat org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:149)\r\n\t... 18 common frames omitted\r\nCaused by: java.security.KeyStoreException: problem accessing trust store\r\n\tat java.base/sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:73)\r\n\tat java.base/javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:278)\r\n\tat java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getTrustManagers(SSLContextImpl.java:1053)\r\n\tat java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:1023)\r\n\tat java.base/sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1198)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat java.base/java.security.Provider.newInstanceUtil(Provider.java:154)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1894)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n\tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\r\n\tat java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:99)\r\n\tat java.base/javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:114)\r\n\tat org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:149)\r\n\tat org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:204)\r\n\tat org.h2.util.NetUtils.createServerSocket(NetUtils.java:174)\r\n\t... 16 common frames omitted\r\nCaused by: java.io.IOException: toDerInputStream rejects tag type 45\r\n\tat java.base/sun.security.util.DerValue.toDerInputStream(DerValue.java:858)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1974)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n\tat java.base/sun.security.ssl.TrustStoreManager$TrustAnchorManager.loadKeyStore(TrustStoreManager.java:365)\r\n\tat java.base/sun.security.ssl.TrustStoreManager$TrustAnchorManager.getTrustedCerts(TrustStoreManager.java:313)\r\n\tat java.base/sun.security.ssl.TrustStoreManager.getTrustedCerts(TrustStoreManager.java:55)\r\n\tat java.base/sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:49)\r\n\t... 34 common frames omitted\r\n```\r\n**UPDATE 2022-03-29**  \r\n@dave_thompson_085, to your comment re `toDerInputStream rejects tag type 45`, here are the first few lines of the `od -tx1` output on the keystore.pkcs12:\r\n```\r\n$ od -tx1 keystore.pkcs12 \r\n0000000    30  82  09  e9  02  01  03  30  82  09  af  06  09  2a  86  48\r\n0000020    86  f7  0d  01  07  01  a0  82  09  a0  04  82  09  9c  30  82\r\n0000040    09  98  30  82  04  4f  06  09  2a  86  48  86  f7  0d  01  07\r\n0000060    06  a0  82  04  40  30  82  04  3c  02  01  00  30  82  04  35\r\n0000100    06  09  2a  86  48  86  f7  0d  01  07  01  30  1c  06  0a  2a\r\n0000120    86  48  86  f7  0d  01  0c  01  06  30  0e  04  08  7c  2f  ef\r\n0000140    9d  c7  1d  83  a8  02  02  08  00  80  82  04  08  5a  ea  2b\r\n0000160    57  b0  b6  ba  58  4c  b5  45  7c  48  28  e0  5c  94  50  aa\r\n0000200    b0  9b  5d  33  b1  94  0b  eb  5e  85  0b  58  83  3c  f0  86\r\n0000220    24  d7  b9  53  12  fa  ab  8b  b1  fe  b4  2b  5c  b7  2c  0a\r\n...\r\n```\r\nDo I look for `2d` (the hex value for the hyphen character)? I don&#39;t see any there. The first time any `2d` appears is at offset 320:\r\n```\r\n$ od -tx1 keystore.pkcs12 | grep 2d\r\n0000320    76  6c  82  cb  b4  2f  b2  78  a3  d3  8d  2d  53  36  5e  65\r\n...\r\n```\r\nAlso: I thought I&#39;d try importing the cert (pem file) into $JAVA_HOME/lib/security/cacerts instead of setting those six Java system properties. So I downloaded the pem file via the browser (clicking on the padlock icon in the URL locator box), and I imported it:  \r\n```\r\n$ keytool -importcert -file cert.pem -alias testcert -cacerts\r\n```\r\nI then listed the cacerts file and confirmed cert.pem was imported into it. But I also noticed that the `Keystore type: JKS`:\r\n```\r\n$ keytool -list -cacerts\r\nEnter keystore password:  \r\nKeystore type: JKS\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 214 entries\r\n...\r\n```\r\nIs that `JKS` type in conflict with the openssl origin of the cert.pem file, which is `pkcs12`? Should the pem file have been converted first into JKS format before importing into cacerts?  \r\nI tested the H2 TcpServer over ssl, and it still throws the same exception as before:\r\n```\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n**UPDATE 2022-03-29, #2**  \r\nI did over again the truststore and keystore per the instructions given at Oracle using Java keytool: [Creating a Keystore to Use with JSSE][1]. And I reset all six JVM system properties. I started up Tomcat running the TcpServer, then I tried again connecting to the server remotely via tcp over ssl. Getting the same exceptions.  \r\n\r\n**UPDATE 2022-03-30**  \r\nI give up getting anonymous TLS connection to work. I am able to connect non-anonymously from the client to the server when I have the client also have the six JVM system properties point to the client&#39;s own set of truststore and keystore (client&#39;s own credential) when starting the H2 Shell:\r\n```\r\n$ java -Djavax.net.ssl.keyStore=/path/to/keystore -Djavax.net.ssl.keyStorePassword=&lt;password&gt; -Djavax.net.ssl.keyStoreType=PKCS12 -Djavax.net.ssl.trustStore=/path/to/truststore -Djavax.net.ssl.trustStorePassword=&lt;password&gt; -Djavax.net.ssl.trustStoreType=PKCS12 -cp h2-2.1.210.jar org.h2.tools.Shell\r\n```\r\nWhat I did learn was that the truststore must have its own file; it cannot share the same file as the keystore even though the files are equivalent to each other. Sharing the same file leads to:\r\n```\r\nSEVERE [main] org.apache.catalina.core.StandardService.\r\ninitInternal Failed to initialize connector [Connector[org.apache.coyote.http11.\r\nHttp11Nio2Protocol-8443]]\r\n...\r\nCaused by: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n```\r\nThe latest set of truststore and keystore files were all generated via Java keytool. Since I am using Java 11, all files are PKCS12. I have had no success with the OpenSSL files (also PKCS12) mentioned at the very beginning.  \r\n  \r\nI have not been able to replicate the `toDerInputStream rejects tag type 45` exception.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-3D26386B-BC7A-41BB-AC70-80E6CD147D6F","title":"H2 tcp over SSL causing javax.net.ssl.SSLHandshakeException","body":"<p>I'm running H2 tcp server.<br />\nJava (Servlet 3.1 webapp in Tomcat 8.5):</p>\n<pre><code>org.h2.tools.Server tcp = Server.createTcpServer(&quot;-ifExists&quot;, &quot;-tcpSSL&quot;, &quot;-tcpPort&quot;, &quot;8089&quot;, &quot;-tcpAllowOthers&quot;).start();\n</code></pre>\n<p>I'm trying to access it on a remote machine via the H2 Shell on command line:</p>\n<pre><code>$ java -cp h2-2.1.210.jar org.h2.tools.Shell\n</code></pre>\n<p>After opening port 8089 on router, tcp connections work:</p>\n<pre><code>jdbc:h2:tcp://mySite.net:8089/file:/Users/xyz/tomcat/webapps/ROOT/WEB-INF/database/myh2db;IFEXISTS=TRUE;MODE=MySQL;CASE_INSENSITIVE_IDENTIFIERS=TRUE\njdbc:h2:tcp://mySite.net:8089//Users/xyz/tomcat/webapps/ROOT/WEB-INF/database/myh2db;IFEXISTS=TRUE;MODE=MySQL;CASE_INSENSITIVE_IDENTIFIERS=TRUE\n</code></pre>\n<p>But any attempt at using ssl fails with:</p>\n<pre><code>SQL Exception: Connection is broken: &quot;javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>At first I thought it was a Tomcat issue with port 8089, but it doesn't look to be. The router routes incoming requests at its port 80 to Tomcat at port 8080. Tomcat redirects any HTTPS requests Tomcat receives to the router's port 443, and the router routes incoming requests it receives at its port 443 to Tomcat's port 8443.</p>\n<p>For H2 tcp SSL (running in Tomcat, bound to port 8089), I have set up the router to route incoming requests at port 8089 to port 8089. So now tcp works, but ssl fails with the <code>javax.net.ssl.SSLHandshakeException</code>.</p>\n<p>Tomcat server.xml:</p>\n<pre><code>&lt;Connector port=&quot;8080&quot;\n           protocol=&quot;HTTP/1.1&quot;\n           connectionTimeout=&quot;20000&quot;\n           redirectPort=&quot;443&quot;&gt;\n   &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n&lt;/Connector&gt;\n.\n.\n.\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\n               sslImplementationName=&quot;org.apache.tomcat.util.net.jsse.JSSEImplementation&quot;\n               scheme=&quot;https&quot; secure=&quot;true&quot;\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n     &lt;SSLHostConfig certificateVerification=&quot;none&quot; sslProtocol=&quot;TLS&quot;&gt;\n         &lt;Certificate certificateKeystoreFile=&quot;conf/tomcat.keystore&quot;\n                      type=&quot;RSA&quot;\n                      certificateKeystorePassword=&quot;&lt;password&gt;&quot; /&gt;\n     &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>Any idea what the problem is? How to fix it?<br />\nThanks.</p>\n<p><strong>UPDATE 2022-03-28</strong><br />\nThanks to Evgenij's pointer, I did some more research.<br />\nI used openssl (on macOS) to create new self-signed certificate. I have the following files from this process:</p>\n<ul>\n<li>server.key (private key)</li>\n<li>server.crt (the certificate)</li>\n<li>server.pem (concatenation of above 2; used to make keystore.pkcs12; otherwise looks useless)</li>\n<li>keystore.pkcs12</li>\n</ul>\n<p>I then set six java system properties (keyStore and trustStore for the TcpServer (for anonymous TLS connection from client side)):</p>\n<ul>\n<li><code>javax.net.ssl.keyStore=/path/to/keystore.pkcs12</code></li>\n<li><code>javax.net.ssl.keyStorePassword=&lt;password&gt;</code></li>\n<li><code>javax.net.ssl.keyStoreType=pkcs12</code></li>\n<li><code>javax.net.ssl.trustStore=/path/to/keystore.pkcs12</code></li>\n<li><code>javax.net.ssl.trustStorePassword=&lt;password&gt;</code></li>\n<li><code>javax.net.ssl.trustStoreType=pkcs12</code></li>\n</ul>\n<p>Now when I start up Tomcat, I get:</p>\n<pre><code>Error starting H2 server\norg.h2.jdbc.JdbcSQLNonTransientException: IO Exception: &quot;java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)&quot;; &quot;port: 8089 ssl: true&quot; [90031-210]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:573)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)\n    at org.h2.message.DbException.get(DbException.java:216)\n    at org.h2.message.DbException.convertIOException(DbException.java:461)\n    at org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:214)\n    at org.h2.util.NetUtils.createServerSocket(NetUtils.java:177)\n    at org.h2.server.TcpServer.start(TcpServer.java:236)\n    at org.h2.tools.Server.start(Server.java:521)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.base/javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:175)\n    at java.base/javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:188)\n    at org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:152)\n    at org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:204)\n    ... 17 common frames omitted\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1901)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\n    at java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:99)\n    at java.base/javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:114)\n    at org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:149)\n    ... 18 common frames omitted\nCaused by: java.security.KeyStoreException: problem accessing trust store\n    at java.base/sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:73)\n    at java.base/javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:278)\n    at java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getTrustManagers(SSLContextImpl.java:1053)\n    at java.base/sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:1023)\n    at java.base/sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1198)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at java.base/java.security.Provider.newInstanceUtil(Provider.java:154)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1894)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\n    at java.base/javax.net.ssl.SSLContext.getDefault(SSLContext.java:99)\n    at java.base/javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:114)\n    at org.h2.security.CipherFactory.createServerSocket(CipherFactory.java:149)\n    at org.h2.util.NetUtils.createServerSocketTry(NetUtils.java:204)\n    at org.h2.util.NetUtils.createServerSocket(NetUtils.java:174)\n    ... 16 common frames omitted\nCaused by: java.io.IOException: toDerInputStream rejects tag type 45\n    at java.base/sun.security.util.DerValue.toDerInputStream(DerValue.java:858)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1974)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n    at java.base/sun.security.ssl.TrustStoreManager$TrustAnchorManager.loadKeyStore(TrustStoreManager.java:365)\n    at java.base/sun.security.ssl.TrustStoreManager$TrustAnchorManager.getTrustedCerts(TrustStoreManager.java:313)\n    at java.base/sun.security.ssl.TrustStoreManager.getTrustedCerts(TrustStoreManager.java:55)\n    at java.base/sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:49)\n    ... 34 common frames omitted\n</code></pre>\n<p><strong>UPDATE 2022-03-29</strong><br />\n@dave_thompson_085, to your comment re <code>toDerInputStream rejects tag type 45</code>, here are the first few lines of the <code>od -tx1</code> output on the keystore.pkcs12:</p>\n<pre><code>$ od -tx1 keystore.pkcs12 \n0000000    30  82  09  e9  02  01  03  30  82  09  af  06  09  2a  86  48\n0000020    86  f7  0d  01  07  01  a0  82  09  a0  04  82  09  9c  30  82\n0000040    09  98  30  82  04  4f  06  09  2a  86  48  86  f7  0d  01  07\n0000060    06  a0  82  04  40  30  82  04  3c  02  01  00  30  82  04  35\n0000100    06  09  2a  86  48  86  f7  0d  01  07  01  30  1c  06  0a  2a\n0000120    86  48  86  f7  0d  01  0c  01  06  30  0e  04  08  7c  2f  ef\n0000140    9d  c7  1d  83  a8  02  02  08  00  80  82  04  08  5a  ea  2b\n0000160    57  b0  b6  ba  58  4c  b5  45  7c  48  28  e0  5c  94  50  aa\n0000200    b0  9b  5d  33  b1  94  0b  eb  5e  85  0b  58  83  3c  f0  86\n0000220    24  d7  b9  53  12  fa  ab  8b  b1  fe  b4  2b  5c  b7  2c  0a\n...\n</code></pre>\n<p>Do I look for <code>2d</code> (the hex value for the hyphen character)? I don't see any there. The first time any <code>2d</code> appears is at offset 320:</p>\n<pre><code>$ od -tx1 keystore.pkcs12 | grep 2d\n0000320    76  6c  82  cb  b4  2f  b2  78  a3  d3  8d  2d  53  36  5e  65\n...\n</code></pre>\n<p>Also: I thought I'd try importing the cert (pem file) into $JAVA_HOME/lib/security/cacerts instead of setting those six Java system properties. So I downloaded the pem file via the browser (clicking on the padlock icon in the URL locator box), and I imported it:</p>\n<pre><code>$ keytool -importcert -file cert.pem -alias testcert -cacerts\n</code></pre>\n<p>I then listed the cacerts file and confirmed cert.pem was imported into it. But I also noticed that the <code>Keystore type: JKS</code>:</p>\n<pre><code>$ keytool -list -cacerts\nEnter keystore password:  \nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 214 entries\n...\n</code></pre>\n<p>Is that <code>JKS</code> type in conflict with the openssl origin of the cert.pem file, which is <code>pkcs12</code>? Should the pem file have been converted first into JKS format before importing into cacerts?<br />\nI tested the H2 TcpServer over ssl, and it still throws the same exception as before:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p><strong>UPDATE 2022-03-29, #2</strong><br />\nI did over again the truststore and keystore per the instructions given at Oracle using Java keytool: <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-3D26386B-BC7A-41BB-AC70-80E6CD147D6F\" rel=\"nofollow noreferrer\">Creating a Keystore to Use with JSSE</a>. And I reset all six JVM system properties. I started up Tomcat running the TcpServer, then I tried again connecting to the server remotely via tcp over ssl. Getting the same exceptions.</p>\n<p><strong>UPDATE 2022-03-30</strong><br />\nI give up getting anonymous TLS connection to work. I am able to connect non-anonymously from the client to the server when I have the client also have the six JVM system properties point to the client's own set of truststore and keystore (client's own credential) when starting the H2 Shell:</p>\n<pre><code>$ java -Djavax.net.ssl.keyStore=/path/to/keystore -Djavax.net.ssl.keyStorePassword=&lt;password&gt; -Djavax.net.ssl.keyStoreType=PKCS12 -Djavax.net.ssl.trustStore=/path/to/truststore -Djavax.net.ssl.trustStorePassword=&lt;password&gt; -Djavax.net.ssl.trustStoreType=PKCS12 -cp h2-2.1.210.jar org.h2.tools.Shell\n</code></pre>\n<p>What I did learn was that the truststore must have its own file; it cannot share the same file as the keystore even though the files are equivalent to each other. Sharing the same file leads to:</p>\n<pre><code>SEVERE [main] org.apache.catalina.core.StandardService.\ninitInternal Failed to initialize connector [Connector[org.apache.coyote.http11.\nHttp11Nio2Protocol-8443]]\n...\nCaused by: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>The latest set of truststore and keystore files were all generated via Java keytool. Since I am using Java 11, all files are PKCS12. I have had no success with the OpenSSL files (also PKCS12) mentioned at the very beginning.</p>\n<p>I have not been able to replicate the <code>toDerInputStream rejects tag type 45</code> exception.</p>\n"},{"tags":["java","regex","lookbehind"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1648487272,"post_id":71651047,"comment_id":126630861,"body_markdown":"By not using a lookbehind. Lookaheads and lookbehinds are by definition not part of the captured results.","body":"By not using a lookbehind. Lookaheads and lookbehinds are by definition not part of the captured results."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648488642,"post_id":71651047,"comment_id":126631370,"body_markdown":"Did you actually try to compile your example?? Do yourself a favour and give us a [mre] so you can test better for yourself as well.","body":"Did you actually try to compile your example?? Do yourself a favour and give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so you can test better for yourself as well."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648635995,"creation_date":1648488878,"answer_id":71651411,"question_id":71651047,"body_markdown":"Why don&#39;t you just use one regex to match it all?\r\n```\r\n(first:)(\\w+)(=&quot;.+&quot;)\r\n```\r\n\r\nAnd then simply use one match, and use the groups 1 and 2 for the first expected row and the groups 2 and 3 for the second expected row.\r\n\r\nI modified your example to be compilable and showing my attempt:\r\n```lang-java\r\npackage examples.stackoverflow.q71651411;\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Q71651411 {\r\n  public static void main(String[] args) {\r\n    Pattern p = Pattern.compile(&quot;(first:)(\\\\w+)(=\\&quot;.+\\&quot;)&quot;);\r\n    Matcher m = p.matcher(&quot;first:second=\\&quot;hello\\&quot;&quot;);\r\n    while (m.find()) {\r\n      System.out.println(&quot;part 1: &quot; + m.group(1) + m.group(2));\r\n      System.out.println(&quot;part 2: &quot; + m.group(2) + m.group(3));\r\n    }\r\n  }\r\n}\r\n```","title":"How to capture lookbehind using java","body":"<p>Why don't you just use one regex to match it all?</p>\n<pre><code>(first:)(\\w+)(=&quot;.+&quot;)\n</code></pre>\n<p>And then simply use one match, and use the groups 1 and 2 for the first expected row and the groups 2 and 3 for the second expected row.</p>\n<p>I modified your example to be compilable and showing my attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q71651411;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Q71651411 {\n  public static void main(String[] args) {\n    Pattern p = Pattern.compile(&quot;(first:)(\\\\w+)(=\\&quot;.+\\&quot;)&quot;);\n    Matcher m = p.matcher(&quot;first:second=\\&quot;hello\\&quot;&quot;);\n    while (m.find()) {\n      System.out.println(&quot;part 1: &quot; + m.group(1) + m.group(2));\n      System.out.println(&quot;part 2: &quot; + m.group(2) + m.group(3));\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5875838,"reputation":17,"user_id":17408256,"display_name":"Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71651411,"answer_count":1,"score":-1,"last_activity_date":1648635995,"creation_date":1648487120,"question_id":71651047,"body_markdown":"I am trying to capture text that is matched by lookbehind.\r\n\r\n&lt;b&gt;My code :&lt;/b&gt;\r\n\r\n    private static final String t1=&quot;first:\\\\\\w*&quot;;\r\n    private static final String t2=&quot;(?&lt;=\\\\w+)=\\\\&quot;.+\\\\&quot;&quot;;\r\n    private static final String t=t1+&#39;|&#39;+t2;\r\n\r\n    Pattern p=Pattern.compile(t);\r\n    Matcher m=p.matcher(&quot;first:second=\\\\&quot;hello\\\\&quot;&quot;);\r\n    while(m.find())\r\n          System.out.println(m.group());\r\n\r\n&lt;b&gt;The output:&lt;/b&gt;&lt;br&gt;\r\nfirst:second&lt;br&gt;\r\n=&quot;hello&quot;\r\n\r\n&lt;b&gt;I expected:&lt;/b&gt;&lt;br&gt;\r\nfirst:second&lt;br&gt;\r\nsecond=&quot;hello&quot;\r\n\r\nHow can I change my regex so that I could get what I expect.\r\n\r\nThank you\r\n","title":"How to capture lookbehind using java","body":"<p>I am trying to capture text that is matched by lookbehind.</p>\n<p><b>My code :</b></p>\n<pre><code>private static final String t1=&quot;first:\\\\\\w*&quot;;\nprivate static final String t2=&quot;(?&lt;=\\\\w+)=\\\\&quot;.+\\\\&quot;&quot;;\nprivate static final String t=t1+'|'+t2;\n\nPattern p=Pattern.compile(t);\nMatcher m=p.matcher(&quot;first:second=\\\\&quot;hello\\\\&quot;&quot;);\nwhile(m.find())\n      System.out.println(m.group());\n</code></pre>\n<p><b>The output:</b><br>\nfirst:second<br>\n=&quot;hello&quot;</p>\n<p><b>I expected:</b><br>\nfirst:second<br>\nsecond=&quot;hello&quot;</p>\n<p>How can I change my regex so that I could get what I expect.</p>\n<p>Thank you</p>\n"},{"tags":["javascript","java","ajax","jira-rest-api","atlassian-plugin-sdk"],"answers":[{"tags":[],"owner":{"account_id":8712079,"reputation":31,"user_id":6517967,"display_name":"harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648621719,"creation_date":1648621719,"answer_id":71672465,"question_id":71672389,"body_markdown":"As per your code snippet, you are not returning any object in the response body. \r\n```\r\nreturn Response.noContent().build(); \r\nor \r\nreturn Response.status(401).build();\r\n```\r\n\r\n@Consumes expects a json response being returned from your API.\r\n\r\nDo you want the API to return any response?\r\n\r\n\r\n","title":"Using @Consumes annotation on Rest API call giving 500 Internal Server Error","body":"<p>As per your code snippet, you are not returning any object in the response body.</p>\n<pre><code>return Response.noContent().build(); \nor \nreturn Response.status(401).build();\n</code></pre>\n<p>@Consumes expects a json response being returned from your API.</p>\n<p>Do you want the API to return any response?</p>\n"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648635934,"creation_date":1648621228,"question_id":71672389,"body_markdown":"I am trying to build a custom build plugin using Atlassian sdk framework and in that I have developed a custom build Rest API to update data stored in database.\r\n\r\nI am invoking the rest API using AJAX call from JavaScript file as given below:\r\n```\r\n            $.ajax({\r\n            \theaders:{         \r\n           \t\t\t&#39;Content-Type&#39;:&#39;application/json&#39;,\r\n           \t\t\t &#39;Accept&#39;: &#39;application/json&#39;\r\n        \t\t},\r\n                url : serviceUrl + &quot;rules/update&quot;,\r\n                type: &quot;POST&quot;,\r\n                data : ruleObj\r\n        \t\t\r\n            })\r\n```\r\nThis API call will invoke the following REST API:\r\n\r\n```\r\n@Path(&quot;/rules&quot;)\r\npublic class fieldsResource {\r\n    @POST\r\n\t@Path(&quot;/update&quot;)\r\n\t@Produces({ MediaType.APPLICATION_JSON })\r\n\t@Consumes({ MediaType.APPLICATION_JSON })\r\n\tpublic Response update(@Context\r\n\tHttpServletRequest req, @Context\r\n\tHttpServletResponse res) {\r\n\r\n\t\tjiraAuthenticationContext = ComponentAccessor.getJiraAuthenticationContext();\r\n\t\tappuser = jiraAuthenticationContext.getLoggedInUser();\r\n\r\n\t\t// Fetch rule id of rule which need to be updated\r\n\t\tfinal int ruleId = Integer.parseInt(req.getParameter(&quot;id&quot;));\r\n\r\n\t\tRules rule = rule.findRuleById(ruleId);\r\n\r\n\t\tboolean ifUserHasRequiredAccess = ifUserHasRequiredAccess(req, res, projectKey, appuser,\r\n\t\t\t\tuserManager, jiraAuthenticationContext, loginUriProvider);\r\n\t\t\r\n\t\tif (ifUserHasRequiredAccess) {\r\n\t\t\tlog.warn(&quot;Update API is invoked for rule &quot; + ruleId + &quot; to update Action triggered by : &quot; + appuser);\t\r\n\t\t\treturn Response.noContent().build();\r\n\t\t}\r\n\t\treturn Response.status(401).build();\r\n\t}\r\n}\r\n```\r\n\r\nInitially without adding Content-Type, Accept in JS file and without adding @Consumes({ MediaType.APPLICATION_JSON })\r\nThe API call was successful, but After adding @Consumes({ MediaType.APPLICATION_JSON }), I am getting 500 Internal Server Error.\r\n\r\nI tried adding &#39;text/plain&#39; also, then also it is throwing 500 Internal Server Error. \r\n\r\nI need to add @Consumes({ MediaType.APPLICATION_JSON }) for this API call. \r\nCan anyone please guide me on resolving this issue?\r\n\r\n","title":"Using @Consumes annotation on Rest API call giving 500 Internal Server Error","body":"<p>I am trying to build a custom build plugin using Atlassian sdk framework and in that I have developed a custom build Rest API to update data stored in database.</p>\n<p>I am invoking the rest API using AJAX call from JavaScript file as given below:</p>\n<pre><code>            $.ajax({\n                headers:{         \n                    'Content-Type':'application/json',\n                     'Accept': 'application/json'\n                },\n                url : serviceUrl + &quot;rules/update&quot;,\n                type: &quot;POST&quot;,\n                data : ruleObj\n                \n            })\n</code></pre>\n<p>This API call will invoke the following REST API:</p>\n<pre><code>@Path(&quot;/rules&quot;)\npublic class fieldsResource {\n    @POST\n    @Path(&quot;/update&quot;)\n    @Produces({ MediaType.APPLICATION_JSON })\n    @Consumes({ MediaType.APPLICATION_JSON })\n    public Response update(@Context\n    HttpServletRequest req, @Context\n    HttpServletResponse res) {\n\n        jiraAuthenticationContext = ComponentAccessor.getJiraAuthenticationContext();\n        appuser = jiraAuthenticationContext.getLoggedInUser();\n\n        // Fetch rule id of rule which need to be updated\n        final int ruleId = Integer.parseInt(req.getParameter(&quot;id&quot;));\n\n        Rules rule = rule.findRuleById(ruleId);\n\n        boolean ifUserHasRequiredAccess = ifUserHasRequiredAccess(req, res, projectKey, appuser,\n                userManager, jiraAuthenticationContext, loginUriProvider);\n        \n        if (ifUserHasRequiredAccess) {\n            log.warn(&quot;Update API is invoked for rule &quot; + ruleId + &quot; to update Action triggered by : &quot; + appuser);   \n            return Response.noContent().build();\n        }\n        return Response.status(401).build();\n    }\n}\n</code></pre>\n<p>Initially without adding Content-Type, Accept in JS file and without adding @Consumes({ MediaType.APPLICATION_JSON })\nThe API call was successful, but After adding @Consumes({ MediaType.APPLICATION_JSON }), I am getting 500 Internal Server Error.</p>\n<p>I tried adding 'text/plain' also, then also it is throwing 500 Internal Server Error.</p>\n<p>I need to add @Consumes({ MediaType.APPLICATION_JSON }) for this API call.\nCan anyone please guide me on resolving this issue?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1648634946,"post_id":71675134,"comment_id":126672554,"body_markdown":"You forgot to use the value of `temp` in your second `if`.","body":"You forgot to use the value of <code>temp</code> in your second <code>if</code>."},{"owner":{"account_id":23417369,"reputation":39,"user_id":17478126,"display_name":"IMBABOT"},"score":0,"creation_date":1648635250,"post_id":71675134,"comment_id":126672662,"body_markdown":"still not working","body":"still not working"}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1648635928,"creation_date":1648635928,"answer_id":71675504,"question_id":71675134,"body_markdown":"This should work like a charm :)\r\n\r\n    private static int[] arrShift(int[]arr, int count) {\r\n        if (count &gt;= 0) {\r\n            for (int i = 0; i &lt; count; i++) {\r\n                int temp = arr[arr.length - 1];\r\n                for (int j = arr.length - 2; j &gt; -1; j--) {\r\n                    arr[j + 1] = arr[j];\r\n                }\r\n                arr[0] = temp;\r\n            }\r\n        }\r\n        if (count &lt; 0){\r\n            count *=-1;\r\n            for (int i = 0; i &lt; count; i++) {\r\n                int temp = arr[0];\r\n                for (int j = 0; j &lt; arr.length -1; j++) {\r\n                    arr[j] = arr[j + 1];\r\n                }\r\n                arr[arr.length - 1] = temp;\r\n            }\r\n        }\r\n        return arr;\r\n    }","title":"Shift array elements by n posisition","body":"<p>This should work like a charm :)</p>\n<pre><code>private static int[] arrShift(int[]arr, int count) {\n    if (count &gt;= 0) {\n        for (int i = 0; i &lt; count; i++) {\n            int temp = arr[arr.length - 1];\n            for (int j = arr.length - 2; j &gt; -1; j--) {\n                arr[j + 1] = arr[j];\n            }\n            arr[0] = temp;\n        }\n    }\n    if (count &lt; 0){\n        count *=-1;\n        for (int i = 0; i &lt; count; i++) {\n            int temp = arr[0];\n            for (int j = 0; j &lt; arr.length -1; j++) {\n                arr[j] = arr[j + 1];\n            }\n            arr[arr.length - 1] = temp;\n        }\n    }\n    return arr;\n}\n</code></pre>\n"}],"owner":{"account_id":23417369,"reputation":39,"user_id":17478126,"display_name":"IMBABOT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71675504,"answer_count":1,"score":-2,"last_activity_date":1648635928,"creation_date":1648634179,"question_id":71675134,"body_markdown":"I&#39;ve got `method` to move elements in `array`, move to right work fine, move to left work incorrect. Method get two incoming parameters:\r\n\r\n1st: `array`\r\n\r\n2nd: `int` variable to move element on this `int` parameter.\r\n\r\nHere is my method:\r\n\r\n    private static int[] arrShift(int[]arr, int count) {\r\n        if (count &gt;= 0) {\r\n            for (int i = 0; i &lt; count; i++) {\r\n                int temp = arr[arr.length - 1];\r\n                for (int j = arr.length - 2; j &gt; -1; j--) {\r\n                    arr[j + 1] = arr[j];\r\n                }\r\n                arr[0] = temp;\r\n            }\r\n        }\r\n        if (count &lt; 0){\r\n            count *=-1;\r\n            int temp = arr[0];\r\n            for (int i = 0; i &lt; count; i++) {\r\n                for (int j = 0; j &lt; arr.length -1; j++) {\r\n                    arr[j] = arr[j + 1];\r\n                }\r\n            }\r\n            arr[0] = temp;\r\n        }\r\n        return arr;\r\n    }\r\nHow shift elements to left?","title":"Shift array elements by n posisition","body":"<p>I've got <code>method</code> to move elements in <code>array</code>, move to right work fine, move to left work incorrect. Method get two incoming parameters:</p>\n<p>1st: <code>array</code></p>\n<p>2nd: <code>int</code> variable to move element on this <code>int</code> parameter.</p>\n<p>Here is my method:</p>\n<pre><code>private static int[] arrShift(int[]arr, int count) {\n    if (count &gt;= 0) {\n        for (int i = 0; i &lt; count; i++) {\n            int temp = arr[arr.length - 1];\n            for (int j = arr.length - 2; j &gt; -1; j--) {\n                arr[j + 1] = arr[j];\n            }\n            arr[0] = temp;\n        }\n    }\n    if (count &lt; 0){\n        count *=-1;\n        int temp = arr[0];\n        for (int i = 0; i &lt; count; i++) {\n            for (int j = 0; j &lt; arr.length -1; j++) {\n                arr[j] = arr[j + 1];\n            }\n        }\n        arr[0] = temp;\n    }\n    return arr;\n}\n</code></pre>\n<p>How shift elements to left?</p>\n"},{"tags":["java","spring-boot","junit","mockito","junit4"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648635803,"post_id":71675455,"comment_id":126672878,"body_markdown":"Please check guidelines before asking, https://stackoverflow.com/help/how-to-ask","body":"Please check guidelines before asking, <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648635841,"post_id":71675455,"comment_id":126672894,"body_markdown":"This question is unclear. Of course you can mock other classes.","body":"This question is unclear. Of course you can mock other classes."},{"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"score":0,"creation_date":1648636015,"post_id":71675455,"comment_id":126672962,"body_markdown":"Question is interpreted pretty badly. You asking if you can mock methods of another classes or what ? Btw. you can mock any classes  even independently of junit","body":"Question is interpreted pretty badly. You asking if you can mock methods of another classes or what ? Btw. you can mock any classes  even independently of junit"},{"owner":{"account_id":23558452,"reputation":1,"user_id":17600118,"display_name":"Abhishek Lc"},"score":0,"creation_date":1649563624,"post_id":71675455,"comment_id":126905326,"body_markdown":"Yes that is what I am exactly asking!!","body":"Yes that is what I am exactly asking!!"}],"owner":{"account_id":23558452,"reputation":1,"user_id":17600118,"display_name":"Abhishek Lc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648635738,"creation_date":1648635738,"question_id":71675455,"body_markdown":"I am new to java, for curiosity I am asking, can I mock methods of another classes by using mockito, or only the classes I can mock. thanks in advance","title":"Can we mock methods also by by using mockito API in junit?","body":"<p>I am new to java, for curiosity I am asking, can I mock methods of another classes by using mockito, or only the classes I can mock. thanks in advance</p>\n"},{"tags":["java","methods","arguments","parameter-passing","variadic-functions"],"comments":[{"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"score":13,"creation_date":1384795198,"post_id":2330942,"comment_id":29869008,"body_markdown":"Since its homework, we don&#39;t want to know your question, we just want to know you are learning.","body":"Since its homework, we don&#39;t want to know your question, we just want to know you are learning."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":313,"is_accepted":false,"score":313,"last_activity_date":1508463788,"creation_date":1267061266,"answer_id":2330958,"question_id":2330942,"body_markdown":"That&#39;s correct. You can find more about it in [the Oracle guide on varargs][1].\r\n\r\nHere&#39;s an example:\r\n\r\n    void foo(String... args) {\r\n        for (String arg : args) {\r\n            System.out.println(arg);\r\n        }\r\n    }\r\n\r\nwhich can be called as\r\n\r\n    foo(&quot;foo&quot;); // Single arg.\r\n    foo(&quot;foo&quot;, &quot;bar&quot;); // Multiple args.\r\n    foo(&quot;foo&quot;, &quot;bar&quot;, &quot;lol&quot;); // Don&#39;t matter how many!\r\n    foo(new String[] { &quot;foo&quot;, &quot;bar&quot; }); // Arrays are also accepted.\r\n    foo(); // And even no args.\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html","title":"Java variable number of arguments for a method","body":"<p>That's correct. You can find more about it in <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html\" rel=\"noreferrer\">the Oracle guide on varargs</a>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>void foo(String... args) {\n    for (String arg : args) {\n        System.out.println(arg);\n    }\n}\n</code></pre>\n\n<p>which can be called as</p>\n\n<pre><code>foo(\"foo\"); // Single arg.\nfoo(\"foo\", \"bar\"); // Multiple args.\nfoo(\"foo\", \"bar\", \"lol\"); // Don't matter how many!\nfoo(new String[] { \"foo\", \"bar\" }); // Arrays are also accepted.\nfoo(); // And even no args.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83981,"reputation":31313,"user_id":235058,"accept_rate":70,"display_name":"Roland Bouman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1267061268,"creation_date":1267061268,"answer_id":2330959,"question_id":2330942,"body_markdown":"Yup...since Java 5: [http://java.sun.com/j2se/1.5.0/docs/guide/language/varargs.html][1]\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/language/varargs.html","title":"Java variable number of arguments for a method","body":"<p>Yup...since Java 5: <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/varargs.html\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/guide/language/varargs.html</a></p>\n"},{"tags":[],"owner":{"account_id":59056,"reputation":50006,"user_id":176741,"accept_rate":90,"display_name":"Dolph"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1589353995,"creation_date":1267061303,"answer_id":2330961,"question_id":2330942,"body_markdown":"Yes, it&#39;s possible:\r\n\r\n    public void myMethod(int... numbers) { /* your code */ }","title":"Java variable number of arguments for a method","body":"<p>Yes, it's possible:</p>\n\n<pre><code>public void myMethod(int... numbers) { /* your code */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4988032,"reputation":171,"user_id":4011070,"display_name":"Abey Ella"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1449567862,"creation_date":1409907095,"answer_id":25682000,"question_id":2330942,"body_markdown":"    Variable number of arguments\r\nIt is possible to pass a variable number of arguments to a method. However, there \r\nare some restrictions:\r\n\r\n- The variable number of parameters must all be the same type\r\n- They are treated as an array within the method\r\n- They must be the last parameter of the method\r\n\r\nTo understand these restrictions, consider the method, in the following code snippet, used to return the largest integer in a list of integers:\r\n\r\n    private static int largest(int... numbers) {\r\n         int currentLargest = numbers[0];\r\n         for (int number : numbers) {\r\n            if (number &gt; currentLargest) {\r\n                currentLargest = number;\r\n            }\r\n         }\r\n         return currentLargest;\r\n    }\r\n\r\nsource Oracle Certified Associate Java SE 7 Programmer Study Guide 2012\r\n","title":"Java variable number of arguments for a method","body":"<pre><code>Variable number of arguments\n</code></pre>\n\n<p>It is possible to pass a variable number of arguments to a method. However, there \nare some restrictions:</p>\n\n<ul>\n<li>The variable number of parameters must all be the same type</li>\n<li>They are treated as an array within the method</li>\n<li>They must be the last parameter of the method</li>\n</ul>\n\n<p>To understand these restrictions, consider the method, in the following code snippet, used to return the largest integer in a list of integers:</p>\n\n<pre><code>private static int largest(int... numbers) {\n     int currentLargest = numbers[0];\n     for (int number : numbers) {\n        if (number &gt; currentLargest) {\n            currentLargest = number;\n        }\n     }\n     return currentLargest;\n}\n</code></pre>\n\n<p>source Oracle Certified Associate Java SE 7 Programmer Study Guide 2012</p>\n"},{"tags":[],"owner":{"account_id":1525128,"reputation":53868,"user_id":2377343,"accept_rate":36,"display_name":"T.Todua"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1585039196,"creation_date":1484507155,"answer_id":41665146,"question_id":2330942,"body_markdown":" For different types of arguments, there is **3-dots** :\r\n\r\n    public void foo(Object... x) {\r\n        String myVar1  = x.length &gt; 0 ? (String)x[0]  : &quot;Hello&quot;;\r\n        int myVar2     = x.length &gt; 1 ? Integer.parseInt((String) x[1]) : 888;\r\n    } \r\nThen call it\r\n\r\n    foo(&quot;Hii&quot;); \r\n    foo(&quot;Hii&quot;, 146); \r\n   \r\n   for security, use like this: \r\n    &lt;br/&gt;`if (!(x[0] instanceof String)) { throw new IllegalArgumentException(&quot;...&quot;); }`\r\n\r\n&gt; The main drawback of this approach is that if optional parameters are of different types you lose static type checking. \r\nPlease, see [**more variations**][1] .\r\n\r\n  [1]: https://stackoverflow.com/a/12994104/2377343","title":"Java variable number of arguments for a method","body":"<p>For different types of arguments, there is <strong>3-dots</strong> :</p>\n\n<pre><code>public void foo(Object... x) {\n    String myVar1  = x.length &gt; 0 ? (String)x[0]  : \"Hello\";\n    int myVar2     = x.length &gt; 1 ? Integer.parseInt((String) x[1]) : 888;\n} \n</code></pre>\n\n<p>Then call it</p>\n\n<pre><code>foo(\"Hii\"); \nfoo(\"Hii\", 146); \n</code></pre>\n\n<p>for security, use like this: \n    <br/><code>if (!(x[0] instanceof String)) { throw new IllegalArgumentException(\"...\"); }</code></p>\n\n<blockquote>\n  <p>The main drawback of this approach is that if optional parameters are of different types you lose static type checking. \n  Please, see <a href=\"https://stackoverflow.com/a/12994104/2377343\"><strong>more variations</strong></a> .</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6470383,"reputation":303,"user_id":5010743,"display_name":"Code_Eat_Sleep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529562053,"creation_date":1508468212,"answer_id":46841757,"question_id":2330942,"body_markdown":"Yes Java allows `vargs` in method parameter . \r\n\r\n   \r\n\r\n    public class&#160;&#160;Varargs\r\n    {\r\n       public&#160;int&#160;add(int...&#160;numbers)\r\n       {&#160;\r\n          int&#160;result =&#160;1;&#160;\r\n          for(int&#160;number: numbers)\r\n          {\r\n             result= result+number;&#160;&#160;\r\n          }&#160;&#160;return&#160;result;&#160;\r\n       }\r\n    }","title":"Java variable number of arguments for a method","body":"<p>Yes Java allows <code>vargs</code> in method parameter . </p>\n\n<pre><code>public class  Varargs\n{\n   public int add(int... numbers)\n   { \n      int result = 1; \n      for(int number: numbers)\n      {\n         result= result+number;  \n      }  return result; \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250007,"favorite_count":0,"down_vote_count":3,"up_vote_count":180,"answer_count":6,"score":177,"last_activity_date":1648635713,"creation_date":1267061075,"question_id":2330942,"body_markdown":"Is it possible to declare a method that will allow a variable number of parameters ?\r\n\r\nWhat is the symbolism used in the definition that indicate that the method should allow a variable number of parameters?\r\n\r\n**Answer:** varargs\r\n","title":"Java variable number of arguments for a method","body":"<p>Is it possible to declare a method that will allow a variable number of parameters ?</p>\n\n<p>What is the symbolism used in the definition that indicate that the method should allow a variable number of parameters?</p>\n\n<p><strong>Answer:</strong> varargs</p>\n"},{"tags":["java","spring","jakarta-ee","soap","restful-url"],"answers":[{"tags":[],"owner":{"account_id":15380036,"reputation":344,"user_id":11095701,"display_name":"devmind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552992873,"creation_date":1552992873,"answer_id":55239294,"question_id":55228386,"body_markdown":"Just use String values instead of ```ClientProperties``` constants:\r\n```\r\n        client.property(&quot;jersey.config.client.connectTimeout&quot;, 500);\r\n        client.property(&quot;jersey.config.client.readTimeout&quot;, 2000);\r\n```","title":"Set connection time out with javax.ws.rs.client.WebTarget","body":"<p>Just use String values instead of <code>ClientProperties</code> constants:</p>\n\n<pre><code>        client.property(\"jersey.config.client.connectTimeout\", 500);\n        client.property(\"jersey.config.client.readTimeout\", 2000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054771,"reputation":2177,"user_id":3333174,"accept_rate":71,"display_name":"r&#252;-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648635528,"creation_date":1648635528,"answer_id":71675412,"question_id":55228386,"body_markdown":"Maybe this is just in newer versions of JAX-RS (it says &#39;since 2.1&#39;), but now you can do this:\r\n\r\n```java\r\nClientBuilder.newBuilder()\r\n\t.connectTimeout(3, SECONDS)\r\n\t.readTimeout(1, SECONDS)\r\n\t.build()\r\n\t.target(...)\r\n```\r\n","title":"Set connection time out with javax.ws.rs.client.WebTarget","body":"<p>Maybe this is just in newer versions of JAX-RS (it says 'since 2.1'), but now you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientBuilder.newBuilder()\n    .connectTimeout(3, SECONDS)\n    .readTimeout(1, SECONDS)\n    .build()\n    .target(...)\n</code></pre>\n"}],"owner":{"account_id":14500154,"reputation":43,"user_id":10473595,"display_name":"Abinash Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648635528,"creation_date":1552935718,"question_id":55228386,"body_markdown":"I have an URL for which I am trying to set connection time out for 10 seconds.\r\nCode snippet :-\r\n\r\n    WebTarget t=null;\r\n    Client c = ClientBuilder.newBuilder()\r\n\t\t\t\t\t.hostnameVerifier(&lt;HostNameVerifier&gt;)\r\n\t\t\t\t\t.sslContext(&lt;SSLContext&gt;)\r\n\t\t\t\t\t.build();\r\n\t\t\tclient.register(&lt;credentials for url&gt;);\t\r\n\t\t\tt = c.t(url);\r\n\r\nFrom different sources, I have found the solution like below.\r\n\r\n    ClientConfig clientConfig = new ClientConfig();\r\n    clientConfig.property(ClientProperties.READ_TIMEOUT, 2000);\r\n    clientConfig.property(ClientProperties.CONNECT_TIMEOUT, 500);\r\nBut both ***ClientConfig*** and ***ClientProperties*** is a utility of **org.glassfish.jersey.client** package. \r\nI have a limitation to use this.\r\n\r\nCan anyone suggest here how to set connection timeout without using ClientConfig and ClientProperties.\r\n\r\nAny help will be appreciated.","title":"Set connection time out with javax.ws.rs.client.WebTarget","body":"<p>I have an URL for which I am trying to set connection time out for 10 seconds.\nCode snippet :-</p>\n\n<pre><code>WebTarget t=null;\nClient c = ClientBuilder.newBuilder()\n                .hostnameVerifier(&lt;HostNameVerifier&gt;)\n                .sslContext(&lt;SSLContext&gt;)\n                .build();\n        client.register(&lt;credentials for url&gt;); \n        t = c.t(url);\n</code></pre>\n\n<p>From different sources, I have found the solution like below.</p>\n\n<pre><code>ClientConfig clientConfig = new ClientConfig();\nclientConfig.property(ClientProperties.READ_TIMEOUT, 2000);\nclientConfig.property(ClientProperties.CONNECT_TIMEOUT, 500);\n</code></pre>\n\n<p>But both <strong><em>ClientConfig</em></strong> and <strong><em>ClientProperties</em></strong> is a utility of <strong>org.glassfish.jersey.client</strong> package. \nI have a limitation to use this.</p>\n\n<p>Can anyone suggest here how to set connection timeout without using ClientConfig and ClientProperties.</p>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","reactjs","spring-boot","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648635465,"creation_date":1648635465,"answer_id":71675397,"question_id":71675194,"body_markdown":"You need to also indicate the context root of your application in the URL.\r\n\r\nTo know what is the context root of the app you just deployed, go to : http://127.0.0.1:9990/console/index.html#deployments\r\n\r\nThen the URL of your project must look like this: localhost:8080/your-context-root/\r\n\r\nFor better understanding in how to deploy spring boot in wildfly i recommend you this article: https://medium.com/swlh/how-to-deploy-spring-boot-application-in-wildfly-application-server-b3670c031ad4","title":"Facing 403 forbidden while accessing spring boot app on wildfly 26.0.1","body":"<p>You need to also indicate the context root of your application in the URL.</p>\n<p>To know what is the context root of the app you just deployed, go to : <a href=\"http://127.0.0.1:9990/console/index.html#deployments\" rel=\"nofollow noreferrer\">http://127.0.0.1:9990/console/index.html#deployments</a></p>\n<p>Then the URL of your project must look like this: localhost:8080/your-context-root/</p>\n<p>For better understanding in how to deploy spring boot in wildfly i recommend you this article: <a href=\"https://medium.com/swlh/how-to-deploy-spring-boot-application-in-wildfly-application-server-b3670c031ad4\" rel=\"nofollow noreferrer\">https://medium.com/swlh/how-to-deploy-spring-boot-application-in-wildfly-application-server-b3670c031ad4</a></p>\n"}],"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648635465,"creation_date":1648634412,"question_id":71675194,"body_markdown":"I have a spring boot application with out any security enabled and react as front-end both coupled into a single war. the application is deploying successfully but cant able to access the application using localhost:8080 as it is giving 403 forbidden error and while accessing rest end point im facing 404 not found error on wildfly 26.0.1 but the same application is working fine with out any error on wildfly 15.0.1.\r\n\r\ni cant able to understand why it is working on older version of wildfly but not in newer version of wildfly.","title":"Facing 403 forbidden while accessing spring boot app on wildfly 26.0.1","body":"<p>I have a spring boot application with out any security enabled and react as front-end both coupled into a single war. the application is deploying successfully but cant able to access the application using localhost:8080 as it is giving 403 forbidden error and while accessing rest end point im facing 404 not found error on wildfly 26.0.1 but the same application is working fine with out any error on wildfly 15.0.1.</p>\n<p>i cant able to understand why it is working on older version of wildfly but not in newer version of wildfly.</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648496105,"creation_date":1648496105,"answer_id":71652830,"question_id":71652279,"body_markdown":"It looks like you just ignore the power of the `UnZipTransformer`. It does return for us something like this:\r\n\r\n    final SortedMap&lt;String, Object&gt; uncompressedData = new TreeMap&lt;&gt;(); \r\n\r\nwhich has a content like this in your case:\r\n\r\n    uncompressedData.put(zipEntryName, destinationFile);\r\n\r\nSo, you don&#39;t need that extra flow to poll a working dir when you can work easily with the result of unzipping.\r\n\r\nOn the other hand the `FileReadingMessageSource` can be configured with the `RecursiveDirectoryScanner` to let it to iterate sub-dirs recursively. By default it scans only the top dir and ignore all the sub-dirs.","title":"Spring Integration UnZipTransformer output. How to access the files in the subdirectory","body":"<p>It looks like you just ignore the power of the <code>UnZipTransformer</code>. It does return for us something like this:</p>\n<pre><code>final SortedMap&lt;String, Object&gt; uncompressedData = new TreeMap&lt;&gt;(); \n</code></pre>\n<p>which has a content like this in your case:</p>\n<pre><code>uncompressedData.put(zipEntryName, destinationFile);\n</code></pre>\n<p>So, you don't need that extra flow to poll a working dir when you can work easily with the result of unzipping.</p>\n<p>On the other hand the <code>FileReadingMessageSource</code> can be configured with the <code>RecursiveDirectoryScanner</code> to let it to iterate sub-dirs recursively. By default it scans only the top dir and ignore all the sub-dirs.</p>\n"},{"tags":[],"owner":{"account_id":6815511,"reputation":41,"user_id":5244350,"display_name":"A Singleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648635256,"creation_date":1648635256,"answer_id":71675350,"question_id":71652279,"body_markdown":"Thanks very much Artem. As suggested, I used the SortedMap that was returned by the UnZipTransformer in a ZipOutputHandler to count the tiff files and record the xml file name.\r\n\r\nUpdated Flow\r\n```\r\n    @Bean\r\n    public IntegrationFlow fileUnzipper() {\r\n        return IntegrationFlows.from(unzippedDirectory(), c -&gt; c.poller(Pollers.fixedDelay(1000)))\r\n                .filter(source -&gt; ((File) source).getName().endsWith(&quot;.zip&quot;))\r\n                .transform(unZipTransformer())\r\n                .handle(zipOutputHandler(), &quot;process&quot;)\r\n                .log()\r\n                .get();\r\n    }\r\n```\r\n\r\n\r\nprocess method in the Handler\r\n```\r\n    public File process(SortedMap&lt;String, Object&gt; uncompressedData) {\r\n        uncompressedData.forEach((s, o) -&gt; {\r\n            if (s.endsWith(&quot;tif&quot;)) {\r\n                tiffCount++;\r\n                tiffNames.add(s);\r\n            }\r\n            if (s.endsWith(&quot;XML&quot;)) {\r\n                xmlName = s;\r\n                xmlFile = new File(o.toString());\r\n                extractedDirectory = xmlFile.getParentFile();\r\n            }\r\n        });\r\n```","title":"Spring Integration UnZipTransformer output. How to access the files in the subdirectory","body":"<p>Thanks very much Artem. As suggested, I used the SortedMap that was returned by the UnZipTransformer in a ZipOutputHandler to count the tiff files and record the xml file name.</p>\n<p>Updated Flow</p>\n<pre><code>    @Bean\n    public IntegrationFlow fileUnzipper() {\n        return IntegrationFlows.from(unzippedDirectory(), c -&gt; c.poller(Pollers.fixedDelay(1000)))\n                .filter(source -&gt; ((File) source).getName().endsWith(&quot;.zip&quot;))\n                .transform(unZipTransformer())\n                .handle(zipOutputHandler(), &quot;process&quot;)\n                .log()\n                .get();\n    }\n</code></pre>\n<p>process method in the Handler</p>\n<pre><code>    public File process(SortedMap&lt;String, Object&gt; uncompressedData) {\n        uncompressedData.forEach((s, o) -&gt; {\n            if (s.endsWith(&quot;tif&quot;)) {\n                tiffCount++;\n                tiffNames.add(s);\n            }\n            if (s.endsWith(&quot;XML&quot;)) {\n                xmlName = s;\n                xmlFile = new File(o.toString());\n                extractedDirectory = xmlFile.getParentFile();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":6815511,"reputation":41,"user_id":5244350,"display_name":"A Singleton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648635256,"creation_date":1648493306,"question_id":71652279,"body_markdown":"I&#39;m new to Spring Integration and I have a project where I want to process the contents of a zip file. The zip contains n number of tiff files and one xml file. The xml file contains information about how many tiff files should be in the zip so I need to compare the number of tiff files with the info in the xml file. \r\n\r\nMy process is: poll a directory for a zip file, move the zip file to a &quot;working&quot; directory, unzip the file, find the xml file and read the contents, count the tiff files and confirm that the names and number of files matches the xml data.\r\n\r\nI have all of the steps working except for the stage where I try to read the zip and tiff files. My problem is that the `UnZipTransformer` creates an intermediate directory with a name in uuid format below the working directory and I&#39;m unable to work out how to get the files from this directory.\r\n\r\ndirectory structure after the unzip has happened\r\n```\r\nworking/\r\n   0eca3f50-eedb-9ebd-5a3a-4ceb3ad8abbd/\r\n        01.tif\r\n        02.tif\r\n        my.xml\r\n```\r\n\r\nThis Flow works. It extracts the contents of the zip file.\r\n```\r\n@Configuration\r\npublic class FileUnzipIntegrationFlow {\r\n\r\n    public static final String UNZIP_OUTPUT = &quot;unzipOutputChannel&quot;;\r\n    @Value(&quot;${unzipped.dir}&quot;)\r\n    String unzippedDir;\r\n    @Value(&quot;${working.dir}&quot;)\r\n    String workingDir;\r\n\r\n    @Bean\r\n    public MessageSource&lt;File&gt; unzippedDirectory() {\r\n        FileReadingMessageSource messageSource = new FileReadingMessageSource();\r\n        messageSource.setDirectory(new File(unzippedDir));\r\n        return messageSource;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public IntegrationFlow fileUnzipper() {\r\n        return IntegrationFlows.from(unzippedDirectory(), c -&gt; c.poller(Pollers.fixedDelay(1000)))\r\n                .filter(source -&gt; ((File)source).getName().endsWith(&quot;.zip&quot;))\r\n                .transform(unZipTransformer())\r\n                .log()\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = UNZIP_OUTPUT)\r\n    public SubscribableChannel unzipOutputChannel()\r\n    {\r\n        return MessageChannels.publishSubscribe(UNZIP_OUTPUT)\r\n                .get();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Transformer(inputChannel = &quot;input&quot;, outputChannel = UNZIP_OUTPUT)\r\n    public UnZipTransformer unZipTransformer() {\r\n        UnZipTransformer unZipTransformer = new UnZipTransformer();\r\n        unZipTransformer.setExpectSingleResult(false);\r\n        unZipTransformer.setZipResultType(ZipResultType.FILE);\r\n        unZipTransformer.setWorkDirectory(new File(workingDir));\r\n        unZipTransformer.setDeleteFiles(false);\r\n        return unZipTransformer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI can&#39;t work out how to get to the sub-directory in this Flow\r\n```\r\nimport static com.santanderuk.spring.integration.FileUnzipIntegrationFlow.UNZIP_OUTPUT;\r\n\r\n@Configuration\r\npublic class XmlVerificationFlow {\r\n    @Value(&quot;${working.dir}&quot;)\r\n    String workingDir;\r\n\r\n    @Bean\r\n    public IntegrationFlow xmlVerfier() {\r\n        return IntegrationFlows.from(xmlWorkingDirectory(),\r\n                        c -&gt; c.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(1))).\r\n                               filter(source -&gt; ((File)source).getName().toLowerCase().endsWith(&quot;.xml&quot;)).\r\n\r\n                handle(xmlFileHandler()).\r\n                get();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public MessageSource&lt;File&gt; workingDirectory() {\r\n        FileReadingMessageSource messageSource = new FileReadingMessageSource();\r\n        messageSource.setDirectory(new File(workingDir));\r\n        return messageSource;\r\n    }\r\n\r\n```\r\nThe snippet above only works when I manually move the xml file from the sub-directory into the working directory. I can also see the payload value in the logging, which has the directory name I need but I have not been able to find out how to access this information\r\n\r\n```\r\n2022-03-28 19:39:14.395  INFO 7588 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : GenericMessage [payload={10000001.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000001.tif, 10000002.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000002.tif, 10000003.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000003.tif, 10000004.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000004.tif, 10000005.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000005.tif, 10000006.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000006.tif, 10000007.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000007.tif, 10000008.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000008.tif, 10000009.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000009.tif, 10000010.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000010.tif, 20220304S092800.XML=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\20220304S092800.XML}, headers={file_originalFile=processing\\unzipped\\202203040001.zip, id=2835eb9e-ff3b-71bf-7432-4967a1f808f6, file_name=202203040001.zip, file_relativePath=202203040001.zip, timestamp=1648492754392}]\r\n```","title":"Spring Integration UnZipTransformer output. How to access the files in the subdirectory","body":"<p>I'm new to Spring Integration and I have a project where I want to process the contents of a zip file. The zip contains n number of tiff files and one xml file. The xml file contains information about how many tiff files should be in the zip so I need to compare the number of tiff files with the info in the xml file.</p>\n<p>My process is: poll a directory for a zip file, move the zip file to a &quot;working&quot; directory, unzip the file, find the xml file and read the contents, count the tiff files and confirm that the names and number of files matches the xml data.</p>\n<p>I have all of the steps working except for the stage where I try to read the zip and tiff files. My problem is that the <code>UnZipTransformer</code> creates an intermediate directory with a name in uuid format below the working directory and I'm unable to work out how to get the files from this directory.</p>\n<p>directory structure after the unzip has happened</p>\n<pre><code>working/\n   0eca3f50-eedb-9ebd-5a3a-4ceb3ad8abbd/\n        01.tif\n        02.tif\n        my.xml\n</code></pre>\n<p>This Flow works. It extracts the contents of the zip file.</p>\n<pre><code>@Configuration\npublic class FileUnzipIntegrationFlow {\n\n    public static final String UNZIP_OUTPUT = &quot;unzipOutputChannel&quot;;\n    @Value(&quot;${unzipped.dir}&quot;)\n    String unzippedDir;\n    @Value(&quot;${working.dir}&quot;)\n    String workingDir;\n\n    @Bean\n    public MessageSource&lt;File&gt; unzippedDirectory() {\n        FileReadingMessageSource messageSource = new FileReadingMessageSource();\n        messageSource.setDirectory(new File(unzippedDir));\n        return messageSource;\n    }\n\n\n    @Bean\n    public IntegrationFlow fileUnzipper() {\n        return IntegrationFlows.from(unzippedDirectory(), c -&gt; c.poller(Pollers.fixedDelay(1000)))\n                .filter(source -&gt; ((File)source).getName().endsWith(&quot;.zip&quot;))\n                .transform(unZipTransformer())\n                .log()\n                .get();\n    }\n\n    @Bean(name = UNZIP_OUTPUT)\n    public SubscribableChannel unzipOutputChannel()\n    {\n        return MessageChannels.publishSubscribe(UNZIP_OUTPUT)\n                .get();\n    }\n\n\n    @Bean\n    @Transformer(inputChannel = &quot;input&quot;, outputChannel = UNZIP_OUTPUT)\n    public UnZipTransformer unZipTransformer() {\n        UnZipTransformer unZipTransformer = new UnZipTransformer();\n        unZipTransformer.setExpectSingleResult(false);\n        unZipTransformer.setZipResultType(ZipResultType.FILE);\n        unZipTransformer.setWorkDirectory(new File(workingDir));\n        unZipTransformer.setDeleteFiles(false);\n        return unZipTransformer;\n    }\n\n}\n</code></pre>\n<p>I can't work out how to get to the sub-directory in this Flow</p>\n<pre><code>import static com.santanderuk.spring.integration.FileUnzipIntegrationFlow.UNZIP_OUTPUT;\n\n@Configuration\npublic class XmlVerificationFlow {\n    @Value(&quot;${working.dir}&quot;)\n    String workingDir;\n\n    @Bean\n    public IntegrationFlow xmlVerfier() {\n        return IntegrationFlows.from(xmlWorkingDirectory(),\n                        c -&gt; c.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(1))).\n                               filter(source -&gt; ((File)source).getName().toLowerCase().endsWith(&quot;.xml&quot;)).\n\n                handle(xmlFileHandler()).\n                get();\n    }\n\n\n    @Bean\n    public MessageSource&lt;File&gt; workingDirectory() {\n        FileReadingMessageSource messageSource = new FileReadingMessageSource();\n        messageSource.setDirectory(new File(workingDir));\n        return messageSource;\n    }\n\n</code></pre>\n<p>The snippet above only works when I manually move the xml file from the sub-directory into the working directory. I can also see the payload value in the logging, which has the directory name I need but I have not been able to find out how to access this information</p>\n<pre><code>2022-03-28 19:39:14.395  INFO 7588 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : GenericMessage [payload={10000001.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000001.tif, 10000002.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000002.tif, 10000003.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000003.tif, 10000004.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000004.tif, 10000005.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000005.tif, 10000006.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000006.tif, 10000007.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000007.tif, 10000008.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000008.tif, 10000009.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000009.tif, 10000010.tif=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\10000010.tif, 20220304S092800.XML=processing\\working\\1cd8f803-2e45-dfe2-1c39-99b0d74f83f0\\20220304S092800.XML}, headers={file_originalFile=processing\\unzipped\\202203040001.zip, id=2835eb9e-ff3b-71bf-7432-4967a1f808f6, file_name=202203040001.zip, file_relativePath=202203040001.zip, timestamp=1648492754392}]\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":1,"creation_date":1648629621,"post_id":71674023,"comment_id":126670385,"body_markdown":"Could you quickly update the question and put the table behind CustomObject? also is incrementalID a primary key?","body":"Could you quickly update the question and put the table behind CustomObject? also is incrementalID a primary key?"},{"owner":{"account_id":24743225,"reputation":5,"user_id":18629711,"display_name":"Carol"},"score":0,"creation_date":1648629811,"post_id":71674023,"comment_id":126670466,"body_markdown":"@JuliyanageSilva CustomObject is not a entity but a DTO. So am just reading data from table and putting in DTO. That&#39;s all","body":"@JuliyanageSilva CustomObject is not a entity but a DTO. So am just reading data from table and putting in DTO. That&#39;s all"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1648634989,"post_id":71674023,"comment_id":126672568,"body_markdown":"@Carol Do you mean that your table has no incremental ID, but you want to add a generated one to the DTOs?","body":"@Carol Do you mean that your table has no incremental ID, but you want to add a generated one to the DTOs?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648639952,"post_id":71674023,"comment_id":126674405,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648634747,"creation_date":1648630648,"answer_id":71674330,"question_id":71674023,"body_markdown":"It seems to be this:\r\n\r\n     @Query(&quot;Select new CustomObject(incremantal_column_name,name, phone, place) from table&quot;)\r\n     List&lt;CustomObjectDTO&gt; getData();\r\n\r\nand in CustomObjectDTO class:\r\n\r\n@Column(name = &quot;incremantal_column_name)\r\nlong incrementalID;","title":"How to get incremental value in JPA?","body":"<p>It seems to be this:</p>\n<pre><code> @Query(&quot;Select new CustomObject(incremantal_column_name,name, phone, place) from table&quot;)\n List&lt;CustomObjectDTO&gt; getData();\n</code></pre>\n<p>and in CustomObjectDTO class:</p>\n<p>@Column(name = &quot;incremantal_column_name)\nlong incrementalID;</p>\n"}],"owner":{"account_id":24743225,"reputation":5,"user_id":18629711,"display_name":"Carol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648634747,"creation_date":1648629273,"question_id":71674023,"body_markdown":"I&#39;m trying to get incremented value only while extracting data from Table. Below is my code snippet.\r\n\r\n    public interface Repo extends PagingAndSortingRepository&lt;T,T&gt; {\r\n    \r\n     @Query(&quot;Select new CustomObject(name, phone, place) from table&quot;)\r\n      List&lt;CustomObjectDTO&gt; getData();\r\n    \r\n    }\r\n\r\n\r\n\r\n  \r\n\r\nNote:   `CustomObjectDTO` has all three attributes mentioned in select query.\r\n\r\nMay I know please How can I get the `incrementalID` as first col in select query ? I mean need a serial number with every record in select query output.\r\n\r\nAny suggestions ?\r\n\r\n","title":"How to get incremental value in JPA?","body":"<p>I'm trying to get incremented value only while extracting data from Table. Below is my code snippet.</p>\n<pre><code>public interface Repo extends PagingAndSortingRepository&lt;T,T&gt; {\n\n @Query(&quot;Select new CustomObject(name, phone, place) from table&quot;)\n  List&lt;CustomObjectDTO&gt; getData();\n\n}\n</code></pre>\n<p>Note:   <code>CustomObjectDTO</code> has all three attributes mentioned in select query.</p>\n<p>May I know please How can I get the <code>incrementalID</code> as first col in select query ? I mean need a serial number with every record in select query output.</p>\n<p>Any suggestions ?</p>\n"},{"tags":["java","asynchronous","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648634747,"creation_date":1648634747,"answer_id":71675251,"question_id":71673034,"body_markdown":"The [KafkaItemWriter](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/kafka/KafkaItemWriter.java) provided by Spring Batch waits for the async call to return (up to a configurable timeout). This is to ensure that the write operation has succeeded or failed.\r\n\r\nIf you are writing a custom `ItemWriter`, you can get inspiration from that.","title":"how to ensure Spring batch job completion when using async call in writer step","body":"<p>The <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/kafka/KafkaItemWriter.java\" rel=\"nofollow noreferrer\">KafkaItemWriter</a> provided by Spring Batch waits for the async call to return (up to a configurable timeout). This is to ensure that the write operation has succeeded or failed.</p>\n<p>If you are writing a custom <code>ItemWriter</code>, you can get inspiration from that.</p>\n"}],"owner":{"account_id":6613712,"reputation":106,"user_id":5107794,"display_name":"Danny Fried"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71675251,"answer_count":1,"score":0,"last_activity_date":1648634747,"creation_date":1648624720,"question_id":71673034,"body_markdown":"My spring batch process reads millions of rows from a DB in a read step, \r\nand publishing it to a kafka topic in the write step.\r\n\r\nIn the corporate I&#39;m working we are using a wrapper on kafka and I&#39;m currently calling a sendAsync() method which takes in eventSupplier the message and a callback: org.apache.kafka.clients.producer.Callback\r\n\r\nMy question is since it is a batch I&#39;m afraid that the job execution will end before I get indication on all the messages sent in async mode. ( perhaps exceptions were thrown on the last msgs) \r\n\r\nIs there a spring batch platform supported way to ensure step completion ? \r\nor should I just implement Future.isDone() in the write step ? \r\nI saw in the spring batch documentation that there is a KafkaItemWriter should I use it in my case ? I&#39;m currently implementing ItemWriter\r\nThanks.","title":"how to ensure Spring batch job completion when using async call in writer step","body":"<p>My spring batch process reads millions of rows from a DB in a read step,\nand publishing it to a kafka topic in the write step.</p>\n<p>In the corporate I'm working we are using a wrapper on kafka and I'm currently calling a sendAsync() method which takes in eventSupplier the message and a callback: org.apache.kafka.clients.producer.Callback</p>\n<p>My question is since it is a batch I'm afraid that the job execution will end before I get indication on all the messages sent in async mode. ( perhaps exceptions were thrown on the last msgs)</p>\n<p>Is there a spring batch platform supported way to ensure step completion ?\nor should I just implement Future.isDone() in the write step ?\nI saw in the spring batch documentation that there is a KafkaItemWriter should I use it in my case ? I'm currently implementing ItemWriter\nThanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1648630715,"post_id":71674307,"comment_id":126670809,"body_markdown":"What answer do you receive?","body":"What answer do you receive?"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":2,"creation_date":1648630822,"post_id":71674307,"comment_id":126670861,"body_markdown":"... but that is the correct answer.","body":"... but that is the correct answer."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648630824,"post_id":71674307,"comment_id":126670862,"body_markdown":"@bill: that looks like the same number you claim should be returned, so what is the problem?","body":"@bill: that looks like the same number you claim should be returned, so what is the problem?"},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":3,"creation_date":1648630947,"post_id":71674307,"comment_id":126670917,"body_markdown":"Your code returns 4.41167627772402E-4 which is another representation of  0.000441168. I don&#39;t see any problem.","body":"Your code returns 4.41167627772402E-4 which is another representation of  0.000441168. I don&#39;t see any problem."},{"owner":{"account_id":24743479,"reputation":35,"user_id":18629943,"display_name":"bill"},"score":0,"creation_date":1648630988,"post_id":71674307,"comment_id":126670935,"body_markdown":"I received 4.41167627772402E-4 but answer should be 0.000441168","body":"I received 4.41167627772402E-4 but answer should be 0.000441168"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":2,"creation_date":1648631019,"post_id":71674307,"comment_id":126670948,"body_markdown":"It&#39;s time to learn scientific notation.","body":"It&#39;s time to learn scientific notation."},{"owner":{"account_id":24743479,"reputation":35,"user_id":18629943,"display_name":"bill"},"score":0,"creation_date":1648631062,"post_id":71674307,"comment_id":126670962,"body_markdown":"How to convert the answer to the regular notation then?","body":"How to convert the answer to the regular notation then?"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1648631151,"post_id":71674307,"comment_id":126670999,"body_markdown":"Have a look at [java.text.DecimalFormat](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html).","body":"Have a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">java.text.DecimalFormat</a>."}],"answers":[{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648634682,"creation_date":1648634682,"answer_id":71675239,"question_id":71674307,"body_markdown":"Java&#39;s `double` is represented in [IEEE 754][1]. In other words, `double` cannot represent `0.000441168` exactly: instead represent nearest value.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IEEE_754","title":"calculate power of two numbers iterative solution must be logn","body":"<p>Java's <code>double</code> is represented in <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a>. In other words, <code>double</code> cannot represent <code>0.000441168</code> exactly: instead represent nearest value.</p>\n"}],"owner":{"account_id":24743479,"reputation":35,"user_id":18629943,"display_name":"bill"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648634682,"creation_date":1648630560,"question_id":71674307,"body_markdown":"I am trying to calculate the power of 2 numbers in `O(log n)`, I receive wrong answer for the input:  6.9 to the power -4.\r\n\r\nAnswer should be : 0.000441168\r\n\r\nI received 4.41167627772402E-4\r\n\r\nI based on code from [this website](https://www.techiedelight.com/power-function-implementation-recursive-iterative/)\r\n\r\nI added the option for negative power, if pow is negative I return 1/x^pow\r\n\r\n\r\nwhy I received wrong answer, any ideas?\r\n\r\nhere is my code:\r\n\r\n```\r\n  public static double exp(double x, int pow) {\r\n        double res = 1;\r\n        boolean f = false;\r\n        if (pow &lt; 0) {\r\n            pow *= (-1);\r\n            f = true;\r\n        }\r\n        while (pow &gt; 0) {\r\n            // If pow is odd,\r\n            // multiply\r\n            // x with result\r\n            if ((pow &amp; 1) == 1)\r\n                res = res * x;\r\n\r\n            // pow  must be even now\r\n         \r\n                pow = pow &gt;&gt; 1; // pow = pow /2\r\n\r\n            x = x * x; // Change x to x^2\r\n        }\r\n        if (!f)\r\n            return res;\r\n        else\r\n            return 1 / res;\r\n    }\r\n```","title":"calculate power of two numbers iterative solution must be logn","body":"<p>I am trying to calculate the power of 2 numbers in <code>O(log n)</code>, I receive wrong answer for the input:  6.9 to the power -4.</p>\n<p>Answer should be : 0.000441168</p>\n<p>I received 4.41167627772402E-4</p>\n<p>I based on code from <a href=\"https://www.techiedelight.com/power-function-implementation-recursive-iterative/\" rel=\"nofollow noreferrer\">this website</a></p>\n<p>I added the option for negative power, if pow is negative I return 1/x^pow</p>\n<p>why I received wrong answer, any ideas?</p>\n<p>here is my code:</p>\n<pre><code>  public static double exp(double x, int pow) {\n        double res = 1;\n        boolean f = false;\n        if (pow &lt; 0) {\n            pow *= (-1);\n            f = true;\n        }\n        while (pow &gt; 0) {\n            // If pow is odd,\n            // multiply\n            // x with result\n            if ((pow &amp; 1) == 1)\n                res = res * x;\n\n            // pow  must be even now\n         \n                pow = pow &gt;&gt; 1; // pow = pow /2\n\n            x = x * x; // Change x to x^2\n        }\n        if (!f)\n            return res;\n        else\n            return 1 / res;\n    }\n</code></pre>\n"},{"tags":["java","checkbox","struts2","struts"],"comments":[{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1510828407,"post_id":10027033,"comment_id":81605333,"body_markdown":"Can you consider accepting my answer?","body":"Can you consider accepting my answer?"}],"answers":[{"tags":[],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648634505,"creation_date":1333626886,"answer_id":10028094,"question_id":10027033,"body_markdown":"in short `fieldValue` is The actual HTML value attribute of the checkbox and that will be submitted by the check box.Generally we need not to set this value since this is true by default.\r\n\r\nOn the other hand `value` parameter will be used to Preset the value of input element.Please go through the Struts2 form tag document to understand how exactly its working\r\n\r\n - [struts-2-form-tags][1]\r\n - [struts-2-checkbox-tag][2]\r\n\r\n\r\n\r\n  [1]: https://struts.apache.org/getting-started/form-tags.html\r\n  [2]: https://struts.apache.org/tag-developers/checkbox-tag.html\r\n","title":"Struts 2 checkbox : What&#39;s the use of the value attribute when the fieldValue can only be true or false?","body":"<p>in short <code>fieldValue</code> is The actual HTML value attribute of the checkbox and that will be submitted by the check box.Generally we need not to set this value since this is true by default.</p>\n<p>On the other hand <code>value</code> parameter will be used to Preset the value of input element.Please go through the Struts2 form tag document to understand how exactly its working</p>\n<ul>\n<li><a href=\"https://struts.apache.org/getting-started/form-tags.html\" rel=\"nofollow noreferrer\">struts-2-form-tags</a></li>\n<li><a href=\"https://struts.apache.org/tag-developers/checkbox-tag.html\" rel=\"nofollow noreferrer\">struts-2-checkbox-tag</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397838792,"creation_date":1393530940,"answer_id":22079009,"question_id":10027033,"body_markdown":"Look up the &quot;key&quot; attribute of checkbox. That may be all that you need. If you don&#39;t want to use the &quot;key&quot; attribute, read on.\r\n\r\nI have found better luck using &quot;value&quot; attribute. I am a bit confused about &quot;fieldValue&quot; myself. I have seen that &quot;fieldValue&quot; can be used for showing the current value, but if you don&#39;t have the &quot;value&quot; attribute, the value (after changing on the form) is not sent to the action method.","title":"Struts 2 checkbox : What&#39;s the use of the value attribute when the fieldValue can only be true or false?","body":"<p>Look up the \"key\" attribute of checkbox. That may be all that you need. If you don't want to use the \"key\" attribute, read on.</p>\n\n<p>I have found better luck using \"value\" attribute. I am a bit confused about \"fieldValue\" myself. I have seen that \"fieldValue\" can be used for showing the current value, but if you don't have the \"value\" attribute, the value (after changing on the form) is not sent to the action method.</p>\n"},{"tags":[],"owner":{"account_id":2311085,"reputation":149,"user_id":2029198,"display_name":"Hiro_Hamada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447126784,"creation_date":1447126784,"answer_id":33622472,"question_id":10027033,"body_markdown":"`fieldValue` is the value attribute of checkbox that will be submitted by the check box.&lt;br&gt;&lt;br&gt;\r\n`fieldValue` can be `String`, `boolean` (true/false) etc depending upon your requirement.&lt;br&gt;&lt;br&gt; For more info have a glance at this link &lt;a&gt;http://www.mkyong.com/struts2/struts-2-scheckbox-checkbox-example/&lt;/a&gt;","title":"Struts 2 checkbox : What&#39;s the use of the value attribute when the fieldValue can only be true or false?","body":"<p><code>fieldValue</code> is the value attribute of checkbox that will be submitted by the check box.<br><br>\n<code>fieldValue</code> can be <code>String</code>, <code>boolean</code> (true/false) etc depending upon your requirement.<br><br> For more info have a glance at this link <a href=\"http://www.mkyong.com/struts2/struts-2-scheckbox-checkbox-example/\" rel=\"nofollow\">http://www.mkyong.com/struts2/struts-2-scheckbox-checkbox-example/</a></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1468157115,"creation_date":1457092049,"answer_id":35795274,"question_id":10027033,"body_markdown":"I think I can have a word about this because I have struggled a lot with this topic.\r\n\r\nWhat we can find in [official documentation][1] about `fieldValue` of `&lt;s:checkbox&gt;` says:\r\n&gt; \r\n    Name           fieldValue\r\n    Required\t   FALSE\r\n    Default\t       TRUE\r\n    Evaluated      FALSE\r\n    Description    The actual HTML value attribute of the checkbox.\r\n&gt; \r\n\r\nBut it&#39;s saying nothing. I suggest to change it to:\r\n\r\n&gt; With `fieldValue`, we can submit a `String` type value into action\r\n&gt; class.\r\n\r\nIt means:\r\n\r\n - When the string literally is `&quot;true&quot;` or `&quot;false&quot;`, and the variable in action class is of `boolean` type, the string is parsed automatically into boolean value to be stored in the `boolean` type variable.\r\n - If we do not define `fieldValue` at all,  the default value `&quot;true&quot;` of string type is always submitted to the variable, if there is any defined in Action class to hold it.\r\n\r\n\r\nNote that **if we have `fieldValue` set, but the checkbox is not checked, nothing will be sent to backend, meaning the `String` type field to receive the checkbox&#39;s value will be `null`.**\r\n\r\nBut, it can do more than that. Let&#39;s see a real-world example combining `&lt;s:checkbox /&gt;` and Struts 2 Action class fields&#39; naming rules.\r\n\r\nImagine I have a list of checkbox, for example, for a list of Users to select, and each checkbox contains its `idUser` to process. Now if I want to parse more than one `idUser` to do my task, I can define:\r\n\r\n    &lt;s:iterator value=&quot;listUsers&quot;&gt;\r\n        &lt;s:checkbox name=&quot;userId&quot; id=&quot;userId&quot; fieldValue=&quot;%{idUser}&quot;\r\n        ....\r\n    &lt;/s:iterator&gt;\r\n\r\nNow we will receive a list of numbers in my action class, but with same `name`. Then we define a field of type `List&lt;String&gt;` or an array to receive all these IDs of users:\r\n\r\n    private List&lt;String&gt; userId;\r\n\r\nwith its getter/setter. Then we can do what we want with this list. **Remember that if we want to do calculations with them, these numbers must be parsed into Integer/Long/Whatever you like.** \r\n\r\nMoreover, if we want to submit &quot;YES/NO&quot; or &quot;1/0&quot;, or &quot;radiant/dire&quot; in a checkbox(you name it, and now you know what game I play), we can put a simple JavaScript function in the `onchange` event of this checkbox to monitor its status, or, more simply, parse its value in action class. \r\n\r\nIf we have:\r\n\r\n    &lt;s:checkbox id=&quot;myCamp&quot; name=&quot;myCamp&quot; fieldValue=&quot;radiant&quot;&gt;&lt;/s:checkbox&gt;\r\n\r\nAnd in action class we must have:\r\n\r\n    String myCampString = null;\r\n    if (StringUtils.isBlank(myCamp)){  //myCamp = null, means I am in Dire.\r\n        myCampString = &quot;dire&quot;;\r\n    } else if (myCamp.equalsIgnoreCase(&quot;radiant&quot;)){ //myCamp = &quot;radiant&quot;, means I am in Radiant.\r\n        myCampString = &quot;radiant&quot;;\r\n    }\r\n    // then we process myCampString, now it cannot be null.\r\n\r\n\r\n\r\n***************************I am the middle river*******************************\r\n\r\n\r\n\r\nAs for `value=&quot;true&quot;/&quot;false&quot;`, I think it&#39;s a good example where we programmers cannot name things properly and think everyone can understand what we are talking about :). It can have some clearer name like `preselected`/`selectByDefault`, etc.\r\n\r\nAgain, refrencing Struts 2 DOC, we have:\r\n\r\n&gt; \r\n    Name\t     value\r\n    Required\t FALSE\r\n    Default\t \r\n    Evaluated\t FALSE\r\n    Type\t     String\r\n    Description\t Preset the value of input element.\r\n&gt; \r\n\r\nActually, it would be better if we put:\r\n\r\n&gt; `value` in `&lt;s:checkbox&gt;` define whether this checkbox should be checked when it is rendered for the first time. (*)\r\n\r\n(*) Note that if `value` changes after it finished loading the page, Struts 2 will not populate the value into `&lt;s:checkbox /&gt;` to change its status. JavaScript functions are responsible for this part, for example AngularJS.\r\n\r\nFor example, if I want to create a new `User` with a form, and by default every user is `active` when it&#39;s created, we can put this:\r\n\r\n        &lt;s:checkbox name=&quot;isActive&quot; id=&quot;isActive&quot; value=&quot;true&quot;&gt;&lt;/s:checkbox&gt;\r\n\r\nBut, when in a form of editing users, we want to make it checked when the user is active, and not to be checked when is not active, we can do this:\r\n\r\n    &lt;s:checkbox name=&quot;isActive&quot; id=&quot;isActive&quot; value=&quot;%{user.isActive}&quot;\r\n\r\nSo that&#39;s some tips to make it more understandable, although the DOC has made it clear (in the author&#39;s way, I think).\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/checkbox.html\r\n  ","title":"Struts 2 checkbox : What&#39;s the use of the value attribute when the fieldValue can only be true or false?","body":"<p>I think I can have a word about this because I have struggled a lot with this topic.</p>\n\n<p>What we can find in <a href=\"https://struts.apache.org/docs/checkbox.html\" rel=\"noreferrer\">official documentation</a> about <code>fieldValue</code> of <code>&lt;s:checkbox&gt;</code> says:</p>\n\n<blockquote>\n<pre><code>Name           fieldValue\nRequired       FALSE\nDefault        TRUE\nEvaluated      FALSE\nDescription    The actual HTML value attribute of the checkbox.\n</code></pre>\n</blockquote>\n\n<p>But it's saying nothing. I suggest to change it to:</p>\n\n<blockquote>\n  <p>With <code>fieldValue</code>, we can submit a <code>String</code> type value into action\n  class.</p>\n</blockquote>\n\n<p>It means:</p>\n\n<ul>\n<li>When the string literally is <code>\"true\"</code> or <code>\"false\"</code>, and the variable in action class is of <code>boolean</code> type, the string is parsed automatically into boolean value to be stored in the <code>boolean</code> type variable.</li>\n<li>If we do not define <code>fieldValue</code> at all,  the default value <code>\"true\"</code> of string type is always submitted to the variable, if there is any defined in Action class to hold it.</li>\n</ul>\n\n<p>Note that <strong>if we have <code>fieldValue</code> set, but the checkbox is not checked, nothing will be sent to backend, meaning the <code>String</code> type field to receive the checkbox's value will be <code>null</code>.</strong></p>\n\n<p>But, it can do more than that. Let's see a real-world example combining <code>&lt;s:checkbox /&gt;</code> and Struts 2 Action class fields' naming rules.</p>\n\n<p>Imagine I have a list of checkbox, for example, for a list of Users to select, and each checkbox contains its <code>idUser</code> to process. Now if I want to parse more than one <code>idUser</code> to do my task, I can define:</p>\n\n<pre><code>&lt;s:iterator value=\"listUsers\"&gt;\n    &lt;s:checkbox name=\"userId\" id=\"userId\" fieldValue=\"%{idUser}\"\n    ....\n&lt;/s:iterator&gt;\n</code></pre>\n\n<p>Now we will receive a list of numbers in my action class, but with same <code>name</code>. Then we define a field of type <code>List&lt;String&gt;</code> or an array to receive all these IDs of users:</p>\n\n<pre><code>private List&lt;String&gt; userId;\n</code></pre>\n\n<p>with its getter/setter. Then we can do what we want with this list. <strong>Remember that if we want to do calculations with them, these numbers must be parsed into Integer/Long/Whatever you like.</strong> </p>\n\n<p>Moreover, if we want to submit \"YES/NO\" or \"1/0\", or \"radiant/dire\" in a checkbox(you name it, and now you know what game I play), we can put a simple JavaScript function in the <code>onchange</code> event of this checkbox to monitor its status, or, more simply, parse its value in action class. </p>\n\n<p>If we have:</p>\n\n<pre><code>&lt;s:checkbox id=\"myCamp\" name=\"myCamp\" fieldValue=\"radiant\"&gt;&lt;/s:checkbox&gt;\n</code></pre>\n\n<p>And in action class we must have:</p>\n\n<pre><code>String myCampString = null;\nif (StringUtils.isBlank(myCamp)){  //myCamp = null, means I am in Dire.\n    myCampString = \"dire\";\n} else if (myCamp.equalsIgnoreCase(\"radiant\")){ //myCamp = \"radiant\", means I am in Radiant.\n    myCampString = \"radiant\";\n}\n// then we process myCampString, now it cannot be null.\n</code></pre>\n\n<p>***************************I am the middle river*******************************</p>\n\n<p>As for <code>value=\"true\"/\"false\"</code>, I think it's a good example where we programmers cannot name things properly and think everyone can understand what we are talking about :). It can have some clearer name like <code>preselected</code>/<code>selectByDefault</code>, etc.</p>\n\n<p>Again, refrencing Struts 2 DOC, we have:</p>\n\n<blockquote>\n<pre><code>Name         value\nRequired     FALSE\nDefault  \nEvaluated    FALSE\nType         String\nDescription  Preset the value of input element.\n</code></pre>\n</blockquote>\n\n<p>Actually, it would be better if we put:</p>\n\n<blockquote>\n  <p><code>value</code> in <code>&lt;s:checkbox&gt;</code> define whether this checkbox should be checked when it is rendered for the first time. (*)</p>\n</blockquote>\n\n<p>(*) Note that if <code>value</code> changes after it finished loading the page, Struts 2 will not populate the value into <code>&lt;s:checkbox /&gt;</code> to change its status. JavaScript functions are responsible for this part, for example AngularJS.</p>\n\n<p>For example, if I want to create a new <code>User</code> with a form, and by default every user is <code>active</code> when it's created, we can put this:</p>\n\n<pre><code>    &lt;s:checkbox name=\"isActive\" id=\"isActive\" value=\"true\"&gt;&lt;/s:checkbox&gt;\n</code></pre>\n\n<p>But, when in a form of editing users, we want to make it checked when the user is active, and not to be checked when is not active, we can do this:</p>\n\n<pre><code>&lt;s:checkbox name=\"isActive\" id=\"isActive\" value=\"%{user.isActive}\"\n</code></pre>\n\n<p>So that's some tips to make it more understandable, although the DOC has made it clear (in the author's way, I think).</p>\n"}],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20740,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1648634505,"creation_date":1333622322,"question_id":10027033,"body_markdown":"* Why do we need a **value** attribute as well as a **fieldValue** attribute in `s:checkbox` tag, unlike `s:textfield`, which has only the **value** attribute ?\r\n\r\n* Does the `s:checkbox` tag&#39;s `fieldValue` attribute allow strings other than &quot;**true**&quot; or &quot;**false**&quot; ?\r\nIn Struts2 in Action (Manning) , it says about the `fieldValue` attribute \r\n\r\n&gt; The actual value that’ll be submitted by the checkbox. Maybe true or\r\n&gt; false\r\n\r\nThat is, if I use \r\n\r\n `&lt;s:checkbox name=&quot;wantMoreChocolates&quot; fieldValue=&quot;true&quot;/&gt;`\r\n\r\n then **wantMoreChocolate** can only be Boolean type in the java class. In that case, **why do the docs specify the type of fieldValue to be a String and not Boolean** ?\r\n\r\n* Moreover, about the value property, it says \r\n\r\n&gt; the value attribute, as with the other UI components, points to the\r\n&gt; actual Java-side property to which the component is bound, a Boolean\r\n&gt; in this case.\r\n\r\nIf through &quot;**value**&quot; we specify the actual property to which the component is bound, **then what&#39;s the role of the name attribute**. Since, the name attribute has to point to a Boolean value, why does it have to use the value attribute to bind it to another boolean ?\r\n\r\n\r\n* Why can&#39;t prepopulation occur solely on the basis of the property corresponding to the name attribute","title":"Struts 2 checkbox : What&#39;s the use of the value attribute when the fieldValue can only be true or false?","body":"<ul>\n<li><p>Why do we need a <strong>value</strong> attribute as well as a <strong>fieldValue</strong> attribute in <code>s:checkbox</code> tag, unlike <code>s:textfield</code>, which has only the <strong>value</strong> attribute ?</p></li>\n<li><p>Does the <code>s:checkbox</code> tag's <code>fieldValue</code> attribute allow strings other than \"<strong>true</strong>\" or \"<strong>false</strong>\" ?\nIn Struts2 in Action (Manning) , it says about the <code>fieldValue</code> attribute </p></li>\n</ul>\n\n<blockquote>\n  <p>The actual value that’ll be submitted by the checkbox. Maybe true or\n  false</p>\n</blockquote>\n\n<p>That is, if I use </p>\n\n<p><code>&lt;s:checkbox name=\"wantMoreChocolates\" fieldValue=\"true\"/&gt;</code></p>\n\n<p>then <strong>wantMoreChocolate</strong> can only be Boolean type in the java class. In that case, <strong>why do the docs specify the type of fieldValue to be a String and not Boolean</strong> ?</p>\n\n<ul>\n<li>Moreover, about the value property, it says </li>\n</ul>\n\n<blockquote>\n  <p>the value attribute, as with the other UI components, points to the\n  actual Java-side property to which the component is bound, a Boolean\n  in this case.</p>\n</blockquote>\n\n<p>If through \"<strong>value</strong>\" we specify the actual property to which the component is bound, <strong>then what's the role of the name attribute</strong>. Since, the name attribute has to point to a Boolean value, why does it have to use the value attribute to bind it to another boolean ?</p>\n\n<ul>\n<li>Why can't prepopulation occur solely on the basis of the property corresponding to the name attribute</li>\n</ul>\n"},{"tags":["java","spring-boot","java.nio.file"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":2,"creation_date":1648451632,"post_id":71643583,"comment_id":126617852,"body_markdown":"In jar file there is no directory such as src/main/resources. Maybe you can copy to different location.","body":"In jar file there is no directory such as src/main/resources. Maybe you can copy to different location."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648452035,"post_id":71643583,"comment_id":126617970,"body_markdown":"You can check your target folder and see the structure there also you can move file under /tmp folder or different location.","body":"You can check your target folder and see the structure there also you can move file under /tmp folder or different location."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1648461453,"post_id":71643583,"comment_id":126621086,"body_markdown":"You don&#39;t have read access to `folderName`. Not surprising if it really is a folder.","body":"You don&#39;t have read access to <code>folderName</code>. Not surprising if it really is a folder."},{"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"score":0,"creation_date":1648464806,"post_id":71643583,"comment_id":126622375,"body_markdown":"@Gurkanİlleez changing directory does not solve the issue.","body":"@Gurkanİlleez changing directory does not solve the issue."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648465925,"post_id":71643583,"comment_id":126622756,"body_markdown":"You can not use src/main/resource so at least you need to change folder location to tmp folder","body":"You can not use src/main/resource so at least you need to change folder location to tmp folder"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648508132,"post_id":71643583,"comment_id":126637134,"body_markdown":"The `src` directory isn&#39;t there at runtime. Check what is actually in the JAR or WAR file and use that path.","body":"The <code>src</code> directory isn&#39;t there at runtime. Check what is actually in the JAR or WAR file and use that path."}],"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648634496,"creation_date":1648451271,"question_id":71643583,"body_markdown":"I want to zip a directory and it is content and download with REST request, but i get java.nio.file.AccessDeniedException error when i copy the directory.\r\n\r\n    public void downloadZipFile(String folderName, HttpServletResponse response) {\r\n        response.setContentType(&quot;application/zip&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=download.zip&quot;);\r\n    \r\n            try (ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\r\n                FileSystemResource fileSystemResource = new FileSystemResource(folderName);\r\n                ZipEntry zipEntry = new ZipEntry(Objects.requireNonNull(fileSystemResource.getFilename()));\r\n                zipEntry.setSize(fileSystemResource.contentLength());\r\n                zipEntry.setTime(System.currentTimeMillis());\r\n    \r\n                zipOutputStream.putNextEntry(zipEntry);\r\n                \r\n                //The error is thrown here\r\n                StreamUtils.copy(fileSystemResource.getInputStream(), zipOutputStream);\r\n\r\n                zipOutputStream.closeEntry();\r\n    \r\n                zipOutputStream.finish();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nfolderName:\r\n\r\n    src\\main\\resources\\images\\marker-1","title":"AccessDeniedException when trying to zip folder","body":"<p>I want to zip a directory and it is content and download with REST request, but i get java.nio.file.AccessDeniedException error when i copy the directory.</p>\n<pre><code>public void downloadZipFile(String folderName, HttpServletResponse response) {\n    response.setContentType(&quot;application/zip&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=download.zip&quot;);\n\n        try (ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\n            FileSystemResource fileSystemResource = new FileSystemResource(folderName);\n            ZipEntry zipEntry = new ZipEntry(Objects.requireNonNull(fileSystemResource.getFilename()));\n            zipEntry.setSize(fileSystemResource.contentLength());\n            zipEntry.setTime(System.currentTimeMillis());\n\n            zipOutputStream.putNextEntry(zipEntry);\n            \n            //The error is thrown here\n            StreamUtils.copy(fileSystemResource.getInputStream(), zipOutputStream);\n\n            zipOutputStream.closeEntry();\n\n            zipOutputStream.finish();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>folderName:</p>\n<pre><code>src\\main\\resources\\images\\marker-1\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","jboss"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648630314,"post_id":71661890,"comment_id":126670673,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1648735962,"post_id":71661890,"comment_id":126704663,"body_markdown":"Has your code changed on the second debug?","body":"Has your code changed on the second debug?"},{"owner":{"account_id":24661061,"reputation":1,"user_id":18557275,"display_name":"Rafa"},"score":0,"creation_date":1648740859,"post_id":71661890,"comment_id":126706989,"body_markdown":"No, it has not changed. It even has the same behavior.","body":"No, it has not changed. It even has the same behavior."}],"owner":{"account_id":24661061,"reputation":1,"user_id":18557275,"display_name":"Rafa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648633891,"creation_date":1648556306,"question_id":71661890,"body_markdown":"I&#39;m trying to debug a server ran with JBOSS 7.1 in IntelliJ. It works fine the first time and stops in every breakpoint properly. However, if I try to do the same a second time without stopping the server, then it works as expected but it does not stop in any breakpoint.\r\n\r\nI think it could be related to my standalone:\r\n\r\n```\r\nif [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\r\n   JAVA_OPTS=&quot;-Xms1303m -Xmx1303m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&quot;\r\n   JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true&quot;\r\nelse\r\n   echo &quot;JAVA_OPTS already set in environment; overriding default settings with values: $JAVA_OPTS&quot;\r\nfi\r\n```\r\n\r\n Any idea on what should I do or look for?\r\n","title":"Why can I debug only once in Intellij with JBOSS?","body":"<p>I'm trying to debug a server ran with JBOSS 7.1 in IntelliJ. It works fine the first time and stops in every breakpoint properly. However, if I try to do the same a second time without stopping the server, then it works as expected but it does not stop in any breakpoint.</p>\n<p>I think it could be related to my standalone:</p>\n<pre><code>if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\n   JAVA_OPTS=&quot;-Xms1303m -Xmx1303m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&quot;\n   JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true&quot;\nelse\n   echo &quot;JAVA_OPTS already set in environment; overriding default settings with values: $JAVA_OPTS&quot;\nfi\n</code></pre>\n<p>Any idea on what should I do or look for?</p>\n"},{"tags":["java","android","accessibilityservice"],"comments":[{"owner":{"account_id":10736121,"reputation":1010,"user_id":7900721,"display_name":"Andrew Steinmetz"},"score":0,"creation_date":1642135620,"post_id":70705993,"comment_id":124996351,"body_markdown":"If it&#39;s not clickable for a normal user, why would it be clickable for a TalkBack user?","body":"If it&#39;s not clickable for a normal user, why would it be clickable for a TalkBack user?"},{"owner":{"account_id":4643464,"reputation":41,"user_id":3762576,"display_name":"ThangTu"},"score":0,"creation_date":1642138854,"post_id":70705993,"comment_id":124996743,"body_markdown":"Hi, I can click it with normal use. But I can&#39;t use AccessibilityService to perform the ACTION_CLICK on it","body":"Hi, I can click it with normal use. But I can&#39;t use AccessibilityService to perform the ACTION_CLICK on it"},{"owner":{"account_id":10736121,"reputation":1010,"user_id":7900721,"display_name":"Andrew Steinmetz"},"score":0,"creation_date":1642139158,"post_id":70705993,"comment_id":124996787,"body_markdown":"Not sure how you can click it when the xml sets the textview with `clickable=&quot;false&quot;`","body":"Not sure how you can click it when the xml sets the textview with <code>clickable=&quot;false&quot;</code>"},{"owner":{"account_id":4643464,"reputation":41,"user_id":3762576,"display_name":"ThangTu"},"score":0,"creation_date":1642140820,"post_id":70705993,"comment_id":124997068,"body_markdown":"Yes, I have the same concern as you. I dont know why I can click on it, but the clickable=&quot;false&quot;. I only notice when using AccessibilityService. It&#39;s not clickable for AccessibilityService","body":"Yes, I have the same concern as you. I dont know why I can click on it, but the clickable=&quot;false&quot;. I only notice when using AccessibilityService. It&#39;s not clickable for AccessibilityService"}],"answers":[{"tags":[],"owner":{"account_id":6281389,"reputation":387,"user_id":4882274,"accept_rate":100,"display_name":"largoWinch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648633689,"creation_date":1648633689,"answer_id":71675028,"question_id":70705993,"body_markdown":"I don&#39;t know if you have found the answer but maybe you could try this:\r\n\r\n    nodeInfo.getParent().performAction(AccessibilityNodeInfo.ACTION_CLICK);\r\n\r\nIf you have your button inside a list or some place, maybe this could help you.\r\n\r\nIf that, does not work, check the [documentation][1] because it says that you can&#39;t call the `setVisibleToUser()` method from an AccessibilityService.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo#setVisibleToUser(boolean)","title":"AccessibilityService - Perform ACTION_CLICK on unclickable item","body":"<p>I don't know if you have found the answer but maybe you could try this:</p>\n<pre><code>nodeInfo.getParent().performAction(AccessibilityNodeInfo.ACTION_CLICK);\n</code></pre>\n<p>If you have your button inside a list or some place, maybe this could help you.</p>\n<p>If that, does not work, check the <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo#setVisibleToUser(boolean)\" rel=\"nofollow noreferrer\">documentation</a> because it says that you can't call the <code>setVisibleToUser()</code> method from an AccessibilityService.</p>\n"}],"owner":{"account_id":4643464,"reputation":41,"user_id":3762576,"display_name":"ThangTu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648633689,"creation_date":1642133895,"question_id":70705993,"body_markdown":"I have tried to perform ACTION_CLICK on clickable item successfully. But, It&#39;s not working with unclickable item. Here my code:\r\n\r\n    List&lt;AccessibilityNodeInfo&gt; nodeInfoList = rootNode.findAccessibilityNodeInfosByViewId(&quot;com.VCB:id/tvLanguage&quot;);\r\n                if (nodeInfoList == null || nodeInfoList.isEmpty())\r\n                    return;\r\n    \r\n                for (AccessibilityNodeInfo nodeInfo : nodeInfoList) {\r\n                    nodeInfo.setVisibleToUser(false);\r\n                    nodeInfo.performAction(AccessibilityNodeInfo.ACTION_CLICK);\r\n                    Toast.makeText(getApplicationContext(), &quot;Text:&quot; + nodeInfo.getText(), Toast.LENGTH_SHORT).show();\r\n\r\nAndroid widget TextView of &quot;com.VCB:id/tvLanguage&quot;: \r\n\r\n    &lt;android.widget.TextView index=&quot;1&quot; package=&quot;com.VCB&quot; class=&quot;android.widget.TextView&quot; text=&quot;English&quot; resource-id=&quot;com.VCB:id/tvLanguage&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; scrollable=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[894,206][1019,252]&quot; displayed=&quot;true&quot; /&gt;\r\nAs you can see, the clickable=&quot;false&quot;, which not allow me to click it by AccessibilityService. Is there any approach to bypass this?\r\n\r\nThank you,\r\n","title":"AccessibilityService - Perform ACTION_CLICK on unclickable item","body":"<p>I have tried to perform ACTION_CLICK on clickable item successfully. But, It's not working with unclickable item. Here my code:</p>\n<pre><code>List&lt;AccessibilityNodeInfo&gt; nodeInfoList = rootNode.findAccessibilityNodeInfosByViewId(&quot;com.VCB:id/tvLanguage&quot;);\n            if (nodeInfoList == null || nodeInfoList.isEmpty())\n                return;\n\n            for (AccessibilityNodeInfo nodeInfo : nodeInfoList) {\n                nodeInfo.setVisibleToUser(false);\n                nodeInfo.performAction(AccessibilityNodeInfo.ACTION_CLICK);\n                Toast.makeText(getApplicationContext(), &quot;Text:&quot; + nodeInfo.getText(), Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>Android widget TextView of &quot;com.VCB:id/tvLanguage&quot;:</p>\n<pre><code>&lt;android.widget.TextView index=&quot;1&quot; package=&quot;com.VCB&quot; class=&quot;android.widget.TextView&quot; text=&quot;English&quot; resource-id=&quot;com.VCB:id/tvLanguage&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; scrollable=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[894,206][1019,252]&quot; displayed=&quot;true&quot; /&gt;\n</code></pre>\n<p>As you can see, the clickable=&quot;false&quot;, which not allow me to click it by AccessibilityService. Is there any approach to bypass this?</p>\n<p>Thank you,</p>\n"},{"tags":["java","rest","http"],"answers":[{"tags":[],"owner":{"account_id":354716,"reputation":1249,"user_id":693233,"accept_rate":61,"display_name":"l0r3nz4cc10"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1615284344,"creation_date":1615284344,"answer_id":66544768,"question_id":66535069,"body_markdown":"A way to do this is to use a newer version of `spring-web`, like `5.3.4`, in which the class `UriComponentsBuilder` gets a new method `UriBuilder queryParamIfPresent(String name, Optional&lt;?&gt; value)` that you can use like this:\r\n\r\n    private URI getApiUrl(QueryParametersObject qpo) {\r\n        String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\r\n        UriComponentsBuilder builder = UriComponentsBuilder\r\n            .fromHttpUrl(url)\r\n            .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\r\n            .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2())  // MANDATORY\r\n            .queryParamIfPresent(&quot;optionalParam1&quot;, Optional.of(qpo.getOptionalParam1()))\r\n            .queryParamIfPresent(&quot;optionalParam2&quot;, Optional.of(qpo.getOptionalParam2()))\r\n            .queryParamIfPresent(&quot;optionalParam3&quot;, Optional.of(qpo.getOptionalParam3()));\r\n        return builder.build().encode().toUri();\r\n    }","title":"How to dynamically remove empty query parameters?","body":"<p>A way to do this is to use a newer version of <code>spring-web</code>, like <code>5.3.4</code>, in which the class <code>UriComponentsBuilder</code> gets a new method <code>UriBuilder queryParamIfPresent(String name, Optional&lt;?&gt; value)</code> that you can use like this:</p>\n<pre><code>private URI getApiUrl(QueryParametersObject qpo) {\n    String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\n    UriComponentsBuilder builder = UriComponentsBuilder\n        .fromHttpUrl(url)\n        .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\n        .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2())  // MANDATORY\n        .queryParamIfPresent(&quot;optionalParam1&quot;, Optional.of(qpo.getOptionalParam1()))\n        .queryParamIfPresent(&quot;optionalParam2&quot;, Optional.of(qpo.getOptionalParam2()))\n        .queryParamIfPresent(&quot;optionalParam3&quot;, Optional.of(qpo.getOptionalParam3()));\n    return builder.build().encode().toUri();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648633651,"creation_date":1648633651,"answer_id":71675019,"question_id":66535069,"body_markdown":"Further enhancing the accepted answer by @l0r3nz4cc10\r\n\r\n`Optional.ofNullable` would be a better approach !!!\r\n\r\n```\r\n\r\nprivate URI getApiUrl(QueryParametersObject qpo) {\r\n    String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\r\n    UriComponentsBuilder builder = UriComponentsBuilder\r\n        .fromHttpUrl(url)\r\n        .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\r\n        .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2())  // MANDATORY\r\n        .queryParamIfPresent(&quot;optionalParam1&quot;, Optional.ofNullable(qpo.getOptionalParam1()))\r\n        .queryParamIfPresent(&quot;optionalParam2&quot;, Optional.ofNullable(qpo.getOptionalParam2()))\r\n        .queryParamIfPresent(&quot;optionalParam3&quot;, Optional.ofNullable(qpo.getOptionalParam3()));\r\n    return builder.build().encode().toUri();\r\n```","title":"How to dynamically remove empty query parameters?","body":"<p>Further enhancing the accepted answer by @l0r3nz4cc10</p>\n<p><code>Optional.ofNullable</code> would be a better approach !!!</p>\n<pre><code>\nprivate URI getApiUrl(QueryParametersObject qpo) {\n    String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\n    UriComponentsBuilder builder = UriComponentsBuilder\n        .fromHttpUrl(url)\n        .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\n        .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2())  // MANDATORY\n        .queryParamIfPresent(&quot;optionalParam1&quot;, Optional.ofNullable(qpo.getOptionalParam1()))\n        .queryParamIfPresent(&quot;optionalParam2&quot;, Optional.ofNullable(qpo.getOptionalParam2()))\n        .queryParamIfPresent(&quot;optionalParam3&quot;, Optional.ofNullable(qpo.getOptionalParam3()));\n    return builder.build().encode().toUri();\n</code></pre>\n"}],"owner":{"account_id":354716,"reputation":1249,"user_id":693233,"accept_rate":61,"display_name":"l0r3nz4cc10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66544768,"answer_count":2,"score":1,"last_activity_date":1648633651,"creation_date":1615227416,"question_id":66535069,"body_markdown":"I am sending some get query to an API that returns a **400 Bad request** when I send empty query parameters.\r\n\r\nHowever, I do not know in advance which optional query parameters will be empty.\r\nApart from testing each optional parameter for emptyness, is there a simpler approach to dynamically remove empty parameters ?\r\n\r\nCurrently I am doing:\r\n\r\n    private URI getApiUrl(QueryParametersObject qpo) {\r\n        String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\r\n        UriComponentsBuilder builder = UriComponentsBuilder\r\n                .fromHttpUrl(url)\r\n                .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\r\n                .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2());  // MANDATORY\r\n\t\t\t\t\r\n\t    if (!qpo.getOptionalParam1().isEmpty())\r\n\t    \tbuilder.queryParam(&quot;optionalParam1&quot;, qpo.getOptionalParam1());\r\n\t   \tif (!qpo.getOptionalParam2().isEmpty())\r\n\t    \tbuilder.queryParam(&quot;optionalParam2&quot;, qpo.getOptionalParam2());\r\n\t    if (!qpo.getOptionalParam3().isEmpty())\r\n\t    \tbuilder.queryParam(&quot;optionalParam3&quot;, qpo.getOptionalParam3());\r\n        return builder.build().encode().toUri();\r\n    }\r\n\r\nIt can become quite cumbersome when the number of optional query parameters grows.","title":"How to dynamically remove empty query parameters?","body":"<p>I am sending some get query to an API that returns a <strong>400 Bad request</strong> when I send empty query parameters.</p>\n<p>However, I do not know in advance which optional query parameters will be empty.\nApart from testing each optional parameter for emptyness, is there a simpler approach to dynamically remove empty parameters ?</p>\n<p>Currently I am doing:</p>\n<pre><code>private URI getApiUrl(QueryParametersObject qpo) {\n    String url = configBundle.getPropertyStr(&quot;some.api.url&quot;);\n    UriComponentsBuilder builder = UriComponentsBuilder\n            .fromHttpUrl(url)\n            .queryParam(&quot;mandatoryParam1&quot;, qpo.getMandatoryParam1())  // MANDATORY\n            .queryParam(&quot;mandatoryParam2&quot;, qpo.getMandatoryParam2());  // MANDATORY\n            \n    if (!qpo.getOptionalParam1().isEmpty())\n        builder.queryParam(&quot;optionalParam1&quot;, qpo.getOptionalParam1());\n    if (!qpo.getOptionalParam2().isEmpty())\n        builder.queryParam(&quot;optionalParam2&quot;, qpo.getOptionalParam2());\n    if (!qpo.getOptionalParam3().isEmpty())\n        builder.queryParam(&quot;optionalParam3&quot;, qpo.getOptionalParam3());\n    return builder.build().encode().toUri();\n}\n</code></pre>\n<p>It can become quite cumbersome when the number of optional query parameters grows.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1648634313,"post_id":71675012,"comment_id":126672300,"body_markdown":"You can get environment variables with `System.getenv()` https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getenv-java.lang.String- . Set them in your shell beforehand e.g. `export KEY_STORE_PASSWORD=user3310115password`","body":"You can get environment variables with <code>System.getenv()</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getenv-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> . Set them in your shell beforehand e.g. <code>export KEY_STORE_PASSWORD=user3310115password</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648634472,"post_id":71675012,"comment_id":126672364,"body_markdown":"@byxor the bigger problem is how to get that value to where it&#39;s supposed to go (to that `javax.net.ssl.keyStorePassword` vm param) before it&#39;s used for the first time.","body":"@byxor the bigger problem is how to get that value to where it&#39;s supposed to go (to that <code>javax.net.ssl.keyStorePassword</code> vm param) before it&#39;s used for the first time."}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648633626,"creation_date":1648633626,"question_id":71675012,"body_markdown":"Currently we pass the `password` like shown below but how to I make sure that it is hidden when a `ps` command is run\r\n\r\n    java -Djavax.net.ssl.keystoreLocation=${CERTLOCATION} -Djavax.net.ssl.keyStorePassword=${PASSWORD}\r\n\r\nOne option that I saw online was to pass them as env variables. How can I do it?","title":"Hide passwords java commandline starup","body":"<p>Currently we pass the <code>password</code> like shown below but how to I make sure that it is hidden when a <code>ps</code> command is run</p>\n<pre><code>java -Djavax.net.ssl.keystoreLocation=${CERTLOCATION} -Djavax.net.ssl.keyStorePassword=${PASSWORD}\n</code></pre>\n<p>One option that I saw online was to pass them as env variables. How can I do it?</p>\n"},{"tags":["java","selenium","selenium-webdriver","jmeter","jmeter-plugins"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648633459,"creation_date":1648633459,"answer_id":71674973,"question_id":71674884,"body_markdown":"There is no &quot;java&quot; in the WebDriver Sampler, if you choose `java` from the language dropdown it means [Beanshell][1] which you really [shouldn&#39;t be using since JMeter 3.1][2]  \r\n\r\n\r\nFor JavaScript the code you copied and pasted from [this answer][3] should work just fine. \r\n\r\nFor [Groovy][4] you need to change `var` to `def`. \r\n\r\n\r\n  [1]: http://www.beanshell.org/\r\n  [2]: https://www.blazemeter.com/blog/is-beanshell-dead/\r\n  [3]: https://stackoverflow.com/a/71083235/2897748\r\n  [4]: https://groovy-lang.org/","title":"How to scroll up and down to any element using web driver sampler JMeter and java and selenium wedriver","body":"<p>There is no &quot;java&quot; in the WebDriver Sampler, if you choose <code>java</code> from the language dropdown it means <a href=\"http://www.beanshell.org/\" rel=\"nofollow noreferrer\">Beanshell</a> which you really <a href=\"https://www.blazemeter.com/blog/is-beanshell-dead/\" rel=\"nofollow noreferrer\">shouldn't be using since JMeter 3.1</a></p>\n<p>For JavaScript the code you copied and pasted from <a href=\"https://stackoverflow.com/a/71083235/2897748\">this answer</a> should work just fine.</p>\n<p>For <a href=\"https://groovy-lang.org/\" rel=\"nofollow noreferrer\">Groovy</a> you need to change <code>var</code> to <code>def</code>.</p>\n"}],"owner":{"account_id":24292499,"reputation":11,"user_id":18237246,"display_name":"NOMADIC RiSHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648633459,"creation_date":1648633060,"question_id":71674884,"body_markdown":"I am not able to scroll down a page while using JMeter with WebDriversampler and java.\r\nI have tried below but not works for me\r\nvar element = WDS.browser.findElement(org.openqa.selenium.By.id(&#39;some id&#39;)) - locate the Web Element you want to &quot;see&quot;\r\nWDS.browser.executeScript(&#39;arguments[0].scrollIntoView(true);&#39;, element) - bring the element into the visible area\r\n","title":"How to scroll up and down to any element using web driver sampler JMeter and java and selenium wedriver","body":"<p>I am not able to scroll down a page while using JMeter with WebDriversampler and java.\nI have tried below but not works for me\nvar element = WDS.browser.findElement(org.openqa.selenium.By.id('some id')) - locate the Web Element you want to &quot;see&quot;\nWDS.browser.executeScript('arguments[0].scrollIntoView(true);', element) - bring the element into the visible area</p>\n"},{"tags":["java","docker","gitlab","cicd"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648566185,"creation_date":1648566185,"answer_id":71664468,"question_id":71661425,"body_markdown":"I would put the token into a gitlab variable like `$MAVEN_TOKEN`, then use `$MAVEN_TOKEN` in the `settings.xml` and commit the `settings.xml` to the repository.","title":"How to access Gitlab Package Registry from CI/CD Dockerfile?","body":"<p>I would put the token into a gitlab variable like <code>$MAVEN_TOKEN</code>, then use <code>$MAVEN_TOKEN</code> in the <code>settings.xml</code> and commit the <code>settings.xml</code> to the repository.</p>\n"},{"tags":[],"owner":{"account_id":19558505,"reputation":1696,"user_id":14312225,"display_name":"quoc9x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648633242,"creation_date":1648578645,"answer_id":71667135,"question_id":71661425,"body_markdown":"You can pass it as an environment variable.   \r\n`settings.xml`\r\n\r\n    &lt;settings&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;httpHeaders&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;Private-Token&lt;/name&gt;\r\n                &lt;value&gt;${MY_TOKEN}&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/httpHeaders&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n`Dockerfile`\r\n\r\n    FROM $BUILD_IMAGE as dependencies\r\n    COPY pom.xml .\r\n    COPY src src\r\n    COPY settings.xml settings.xml\r\n\r\n    ARG MY_TOKEN\r\n\r\n    RUN mvn package\r\n    RUN mvn package -s settings.xml\r\nThen, use `docker build`\r\n\r\n    docker build --build-arg MY_TOKEN=$MY_TOKEN -t image-name:tag .\r\n\r\n`docker` will get $MY_TOKEN from env of OS.\r\n\r\n\r\n","title":"How to access Gitlab Package Registry from CI/CD Dockerfile?","body":"<p>You can pass it as an environment variable.<br />\n<code>settings.xml</code></p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Private-Token&lt;/name&gt;\n            &lt;value&gt;${MY_TOKEN}&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p><code>Dockerfile</code></p>\n<pre><code>FROM $BUILD_IMAGE as dependencies\nCOPY pom.xml .\nCOPY src src\nCOPY settings.xml settings.xml\n\nARG MY_TOKEN\n\nRUN mvn package\nRUN mvn package -s settings.xml\n</code></pre>\n<p>Then, use <code>docker build</code></p>\n<pre><code>docker build --build-arg MY_TOKEN=$MY_TOKEN -t image-name:tag .\n</code></pre>\n<p><code>docker</code> will get $MY_TOKEN from env of OS.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71667135,"answer_count":2,"score":1,"last_activity_date":1648633242,"creation_date":1648554287,"question_id":71661425,"body_markdown":"I set up a `Package Registry` in `gitlab` that contains a `my-commons.jar`, making use of it in my project as follows:\r\n\r\n`pom.xml`:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.my.company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis also requires the use of a `Private-Token` for access, that is placed into the `~/.m2/settings.xml`:\r\n\r\n    &lt;settings&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;httpHeaders&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;Private-Token&lt;/name&gt;\r\n                &lt;value&gt;MY_TOKEN&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/httpHeaders&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\nThis works fine locally.\r\n\r\nQuestion: how can I reuse this in a docker file, and especially when it comes to the gitlab `CI/CD` pipeline. Should I commit a custom `settings.xml` to gitlab that includes the private token, so that the gitlab pipeline knows how to access the package repository?\r\n\r\n`Dockerfile`:\r\n\r\n    FROM $BUILD_IMAGE as dependencies\r\n    COPY pom.xml .\r\n    COPY src src\r\n    RUN mvn package\r\n    #RUN mvn package private_settings.xml #is that reasonable?\r\n\r\n","title":"How to access Gitlab Package Registry from CI/CD Dockerfile?","body":"<p>I set up a <code>Package Registry</code> in <code>gitlab</code> that contains a <code>my-commons.jar</code>, making use of it in my project as follows:</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.my.company&lt;/groupId&gt;\n        &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This also requires the use of a <code>Private-Token</code> for access, that is placed into the <code>~/.m2/settings.xml</code>:</p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Private-Token&lt;/name&gt;\n            &lt;value&gt;MY_TOKEN&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>This works fine locally.</p>\n<p>Question: how can I reuse this in a docker file, and especially when it comes to the gitlab <code>CI/CD</code> pipeline. Should I commit a custom <code>settings.xml</code> to gitlab that includes the private token, so that the gitlab pipeline knows how to access the package repository?</p>\n<p><code>Dockerfile</code>:</p>\n<pre><code>FROM $BUILD_IMAGE as dependencies\nCOPY pom.xml .\nCOPY src src\nRUN mvn package\n#RUN mvn package private_settings.xml #is that reasonable?\n</code></pre>\n"},{"tags":["java","docker","maven","gitlab"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648633199,"creation_date":1648633199,"answer_id":71674915,"question_id":71665994,"body_markdown":"`--build-arg` must be &quot;instantiated&quot; in the `Dockerfile` using `ARG`:\r\n\r\n    FROM maven:3.8.4-eclipse-temurin-11 as dependencies\r\n    ARG CI_JOB_TOKEN #this was missing!\r\n    COPY pom.xml .","title":"Gitlab Registry dependency not resolved during mvn when using mounted cache?","body":"<p><code>--build-arg</code> must be &quot;instantiated&quot; in the <code>Dockerfile</code> using <code>ARG</code>:</p>\n<pre><code>FROM maven:3.8.4-eclipse-temurin-11 as dependencies\nARG CI_JOB_TOKEN #this was missing!\nCOPY pom.xml .\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648633199,"creation_date":1648572792,"question_id":71665994,"body_markdown":"I&#39;m trying to optimize the download of `maven` dependencies in my `gitlab` CI/CD pipelines with `docker`.\r\n\r\nProblem: when using the `dependency:go-offline` feature that is designed for that purpose, my dependencies from gitlab repository are not properly resolved anymore (all public dependencies are ok).\r\n\r\n`Dockerfile`:\r\n\r\n    FROM maven:3.8.4-eclipse-temurin-11 as dependencies\r\n    COPY pom.xml .\r\n    COPY ci_settings.xml .\r\n    RUN --mount=type=cache,target=/root/.m2 mvn -B dependency:go-offline -s ci_settings.xml\r\n    #this works instead:\r\n    #RUN mvn -B dependency:resolve -s ci_settings.xml\r\n\r\n`ci_settings.xml` simply sets the following property:\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;Job-Token&lt;/name&gt;\r\n        &lt;value&gt;${CI_JOB_TOKEN}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n                \r\n`.gitlab-ci.yml`:\r\n\r\n    image: docker:20\r\n    variables:\r\n      DOCKER_BUILDKIT: 1\r\n    services:\r\n      - docker:dind\r\n    build:\r\n      script:\r\n        - docker build --build-arg CI_JOB_TOKEN=$CI_JOB_TOKEN .\r\n\r\n\r\nResult:\r\n\r\n    #15 3.284 [INFO] --- maven-dependency-plugin:3.2.0:resolve (default-cli) @ hello-docker ---\r\n    #15 4.122 [INFO] \r\n    #15 4.122 [INFO] The following files have been resolved:\r\n    #15 4.122 [INFO]    com.exmaple:hello-commons:jar:1.0.0:compile -- module hello.commons (auto)\r\n    \r\n    #18 5.663 [INFO] Downloading from gitlab-maven: https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.pom\r\n    #18 5.721 [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/example/hello-commons/1.0.0/hello-commons-1.0.0.pom\r\n    #18 5.741 [WARNING] The POM for com.example:hello-commons:jar:1.0.0 is missing, no dependency information available\r\n    \r\n    #18 14.17 [INFO] BUILD FAILURE\r\n    #18 14.17 [INFO] ------------------------------------------------------------------------\r\n    #18 14.18 [INFO] Total time:  12.894 s\r\n    #18 14.18 [INFO] Finished at: 2022-03-29T16:36:44Z\r\n    #18 14.18 [INFO] ------------------------------------------------------------------------\r\n    #18 14.18 [ERROR] Failed to execute goal on project hello-docker: Could not resolve dependencies for project com.example:hello-docker:jar:1.0.0: Could not find artifact com.example:hello-commons:jar:1.0.0 in gitlab-maven (https://git.my-company.com/api/v4/projects/295/packages/maven) -&gt; [Help 1]\r\n\r\nThe result is strange, because I even can download the *.jar and *.pom at the exact same path that maven is not able to resolve here.\r\n\r\nWhat could be the problem?","title":"Gitlab Registry dependency not resolved during mvn when using mounted cache?","body":"<p>I'm trying to optimize the download of <code>maven</code> dependencies in my <code>gitlab</code> CI/CD pipelines with <code>docker</code>.</p>\n<p>Problem: when using the <code>dependency:go-offline</code> feature that is designed for that purpose, my dependencies from gitlab repository are not properly resolved anymore (all public dependencies are ok).</p>\n<p><code>Dockerfile</code>:</p>\n<pre><code>FROM maven:3.8.4-eclipse-temurin-11 as dependencies\nCOPY pom.xml .\nCOPY ci_settings.xml .\nRUN --mount=type=cache,target=/root/.m2 mvn -B dependency:go-offline -s ci_settings.xml\n#this works instead:\n#RUN mvn -B dependency:resolve -s ci_settings.xml\n</code></pre>\n<p><code>ci_settings.xml</code> simply sets the following property:</p>\n<pre><code>&lt;property&gt;\n    &lt;name&gt;Job-Token&lt;/name&gt;\n    &lt;value&gt;${CI_JOB_TOKEN}&lt;/value&gt;\n&lt;/property&gt;\n            \n</code></pre>\n<p><code>.gitlab-ci.yml</code>:</p>\n<pre><code>image: docker:20\nvariables:\n  DOCKER_BUILDKIT: 1\nservices:\n  - docker:dind\nbuild:\n  script:\n    - docker build --build-arg CI_JOB_TOKEN=$CI_JOB_TOKEN .\n</code></pre>\n<p>Result:</p>\n<pre><code>#15 3.284 [INFO] --- maven-dependency-plugin:3.2.0:resolve (default-cli) @ hello-docker ---\n#15 4.122 [INFO] \n#15 4.122 [INFO] The following files have been resolved:\n#15 4.122 [INFO]    com.exmaple:hello-commons:jar:1.0.0:compile -- module hello.commons (auto)\n\n#18 5.663 [INFO] Downloading from gitlab-maven: https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.pom\n#18 5.721 [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/example/hello-commons/1.0.0/hello-commons-1.0.0.pom\n#18 5.741 [WARNING] The POM for com.example:hello-commons:jar:1.0.0 is missing, no dependency information available\n\n#18 14.17 [INFO] BUILD FAILURE\n#18 14.17 [INFO] ------------------------------------------------------------------------\n#18 14.18 [INFO] Total time:  12.894 s\n#18 14.18 [INFO] Finished at: 2022-03-29T16:36:44Z\n#18 14.18 [INFO] ------------------------------------------------------------------------\n#18 14.18 [ERROR] Failed to execute goal on project hello-docker: Could not resolve dependencies for project com.example:hello-docker:jar:1.0.0: Could not find artifact com.example:hello-commons:jar:1.0.0 in gitlab-maven (https://git.my-company.com/api/v4/projects/295/packages/maven) -&gt; [Help 1]\n</code></pre>\n<p>The result is strange, because I even can download the *.jar and *.pom at the exact same path that maven is not able to resolve here.</p>\n<p>What could be the problem?</p>\n"},{"tags":["java","integer","integer-overflow"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":106,"creation_date":1413354896,"post_id":26375932,"comment_id":41407653,"body_markdown":"You most probably have an integer overflow.","body":"You most probably have an integer overflow."},{"owner":{"account_id":4288590,"reputation":1903,"user_id":3505528,"accept_rate":83,"display_name":"Aniruddha Sarkar"},"score":1,"creation_date":1413355001,"post_id":26375932,"comment_id":41407706,"body_markdown":"But i have also done the program using long.","body":"But i have also done the program using long."},{"owner":{"account_id":71527,"reputation":1523,"user_id":206883,"display_name":"ponomandr"},"score":3,"creation_date":1413355423,"post_id":26375932,"comment_id":41407867,"body_markdown":"Max int value is 2147483647, max long value is 9223372036854775807. So you get overflow in both cases","body":"Max int value is 2147483647, max long value is 9223372036854775807. So you get overflow in both cases"},{"owner":{"account_id":4248656,"reputation":1992,"user_id":3476849,"accept_rate":58,"display_name":"kasperd"},"score":68,"creation_date":1413370286,"post_id":26375932,"comment_id":41416156,"body_markdown":"If you consider the prime factors in the product, you&#39;ll have `2` show up about 90 times. That means you&#39;ll need a variable with at least 90 bits to get a non-zero output. 32 and 64 are both less than 90. In order to compute integers larger than the native words, you have to use whatever big integer class is available in your chosen language.","body":"If you consider the prime factors in the product, you&#39;ll have <code>2</code> show up about 90 times. That means you&#39;ll need a variable with at least 90 bits to get a non-zero output. 32 and 64 are both less than 90. In order to compute integers larger than the native words, you have to use whatever big integer class is available in your chosen language."},{"owner":{"account_id":1252466,"reputation":79539,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":4,"creation_date":1413381156,"post_id":26375932,"comment_id":41422763,"body_markdown":"Feel free to use `BigInteger` instead.","body":"Feel free to use <code>BigInteger</code> instead."},{"owner":{"account_id":6227,"reputation":34836,"user_id":10396,"accept_rate":76,"display_name":"AShelly"},"score":62,"creation_date":1413382444,"post_id":26375932,"comment_id":41423580,"body_markdown":"Technically, this is the product of numbers from 10 to 98.","body":"Technically, this is the product of numbers from 10 to 98."},{"owner":{"account_id":4119865,"reputation":262,"user_id":3380530,"display_name":"Wlerin"},"score":1,"creation_date":1413418714,"post_id":26375932,"comment_id":41440806,"body_markdown":"@PaulDraper Alternatively, use a language that doesn&#39;t have integer overflows.","body":"@PaulDraper Alternatively, use a language that doesn&#39;t have integer overflows."},{"owner":{"account_id":31629,"reputation":264547,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"score":45,"creation_date":1413435960,"post_id":26375932,"comment_id":41444538,"body_markdown":"What? Why was this question closed as a duplicate of a question _which is being closed as a duplicate of **this** question_?","body":"What? Why was this question closed as a duplicate of a question <i>which is being closed as a duplicate of <b>this</b> question</i>?"},{"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"score":3,"creation_date":1413441806,"post_id":26375932,"comment_id":41446573,"body_markdown":"This isn&#39;t a duplicate in any case. The interesting thing here is not why the answer is wrong but why it&#39;s 0, which isn&#39;t asked in the other question.","body":"This isn&#39;t a duplicate in any case. The interesting thing here is not why the answer is wrong but why it&#39;s 0, which isn&#39;t asked in the other question."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":2,"creation_date":1413449426,"post_id":26375932,"comment_id":41450277,"body_markdown":"Not a duplicate. Vote for reopen","body":"Not a duplicate. Vote for reopen"},{"owner":{"account_id":1600346,"reputation":9532,"user_id":1481489,"display_name":"zamnuts"},"score":7,"creation_date":1413477784,"post_id":26375932,"comment_id":41467587,"body_markdown":"FYI, the answer is `25977982938941930515945176761070443325092850981258133993315252362474391176210383043658995147728530422794328291965962468114563072000000000000000000000`. So this is definitely an integer overflow issue if you&#39;re using `int`!","body":"FYI, the answer is <code>259779829389419305159451767610704433250928509812581339933152&zwnj;&#8203;52362474391176210383&zwnj;&#8203;04365899514772853042&zwnj;&#8203;27943282919659624681&zwnj;&#8203;14563072000000000000&zwnj;&#8203;000000000</code>. So this is definitely an integer overflow issue if you&#39;re using <code>int</code>!"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1413506205,"post_id":26375932,"comment_id":41479602,"body_markdown":"Kinda the same reason why factorials can&#39;t be calculated to large numbers using just `int`.","body":"Kinda the same reason why factorials can&#39;t be calculated to large numbers using just <code>int</code>."},{"owner":{"account_id":1216909,"reputation":208,"user_id":1186407,"display_name":"Tortoise"},"score":6,"creation_date":1413518293,"post_id":26375932,"comment_id":41482288,"body_markdown":"@zamnuts That&#39;s the correct answer to the product of all integers from 10 to 98, which is what he coded it to do. The product of all integers from 10 to 99, as stated in the title, is `2571820310955251121078572499345973889184192247144555265338209983884964726444827921322240519625124511856638500904630284343341744128000000000000000000000`. ([source](http://www.wolframalpha.com/input/?i=99!%2F9!))","body":"@zamnuts That&#39;s the correct answer to the product of all integers from 10 to 98, which is what he coded it to do. The product of all integers from 10 to 99, as stated in the title, is <code>257182031095525112107857249934597388918419224714455526533820&zwnj;&#8203;99838849647264448279&zwnj;&#8203;21322240519625124511&zwnj;&#8203;85663850090463028434&zwnj;&#8203;33417441280000000000&zwnj;&#8203;00000000000</code>. (<a href=\"http://www.wolframalpha.com/input/?i=99!%2F9!\" rel=\"nofollow noreferrer\">source</a>)"},{"owner":{"account_id":8510,"reputation":11088,"user_id":15394,"accept_rate":65,"display_name":"glenatron"},"score":82,"creation_date":1413536032,"post_id":26375932,"comment_id":41488448,"body_markdown":"Got 99 problems and 2147483648 aint 1.","body":"Got 99 problems and 2147483648 aint 1."},{"owner":{"account_id":107038,"reputation":133820,"user_id":284795,"accept_rate":79,"display_name":"Colonel Panic"},"score":1,"creation_date":1413582916,"post_id":26375932,"comment_id":41512692,"body_markdown":"@aniruddha.sarkar Have you tried moving the print statement inside the loop? What happens?","body":"@aniruddha.sarkar Have you tried moving the print statement inside the loop? What happens?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":1,"creation_date":1413603746,"post_id":26375932,"comment_id":41516765,"body_markdown":"This demonstrates the old adage that any language which requires developers to know and care about the number of bits required to store a given numeric value is unsuitable for most programming. And of course a disturbing aspect of this is that no exception was raised, leading to silently getting the answer completely wrong.","body":"This demonstrates the old adage that any language which requires developers to know and care about the number of bits required to store a given numeric value is unsuitable for most programming. And of course a disturbing aspect of this is that no exception was raised, leading to silently getting the answer completely wrong."},{"owner":{"account_id":2052845,"reputation":15850,"user_id":2074608,"accept_rate":100,"display_name":"Qantas 94 Heavy"},"score":2,"creation_date":1413700371,"post_id":26375932,"comment_id":41537964,"body_markdown":"Very closely related is this question: [Why does i = i + i give me 0?](http://stackoverflow.com/questions/24173463/why-does-i-i-i-give-me-0)","body":"Very closely related is this question: <a href=\"http://stackoverflow.com/questions/24173463/why-does-i-i-i-give-me-0\">Why does i = i + i give me 0?</a>"},{"owner":{"account_id":182574,"reputation":1506,"user_id":417377,"accept_rate":83,"display_name":"Martin Capodici"},"score":0,"creation_date":1413758061,"post_id":26375932,"comment_id":41552784,"body_markdown":"Things are much easier in Haskell, you just need: product [10..99], and you get: 2571820310955251121078572499345973889184192247144555265338209983884964726444827921322240519625124511856638500904630284343341744128000000000000000000000","body":"Things are much easier in Haskell, you just need: product [10..99], and you get: 257182031095525112107857249934597388918419224714455526533820&zwnj;&#8203;99838849647264448279&zwnj;&#8203;21322240519625124511&zwnj;&#8203;85663850090463028434&zwnj;&#8203;33417441280000000000&zwnj;&#8203;00000000000"},{"owner":{"account_id":328117,"reputation":14517,"user_id":650891,"display_name":"Stephen Chung"},"score":0,"creation_date":1413952160,"post_id":26375932,"comment_id":41632813,"body_markdown":"There are 9 powers of 10 in the series, so the result must at least contain 9 zeroes at the end.  And there are multiple combos of numbers with factors of 2 and 5 which, when multiplied, yield powers of 10.  There are 45 even numbers, and 9 powers of 5 that is not powers of 10, which means at least 9 combos of numbers with factors of 2 and 5, yield another 9 zeros.  So we have at least 19 zeros at the end of the result.","body":"There are 9 powers of 10 in the series, so the result must at least contain 9 zeroes at the end.  And there are multiple combos of numbers with factors of 2 and 5 which, when multiplied, yield powers of 10.  There are 45 even numbers, and 9 powers of 5 that is not powers of 10, which means at least 9 combos of numbers with factors of 2 and 5, yield another 9 zeros.  So we have at least 19 zeros at the end of the result."},{"owner":{"account_id":37972,"reputation":1797,"user_id":108769,"accept_rate":45,"display_name":"akjain"},"score":2,"creation_date":1413975709,"post_id":26375932,"comment_id":41642597,"body_markdown":"very basic and academic question.. you could evaluate yourself..","body":"very basic and academic question.. you could evaluate yourself.."},{"owner":{"account_id":2070782,"reputation":534,"user_id":4042202,"accept_rate":50,"display_name":"Key_coder"},"score":0,"creation_date":1415883373,"post_id":26375932,"comment_id":42368466,"body_markdown":"if you want the actual product try BigInteger.","body":"if you want the actual product try BigInteger."},{"owner":{"account_id":3344799,"reputation":37214,"user_id":2810305,"accept_rate":69,"display_name":"Lutz Prechelt"},"score":0,"creation_date":1422803738,"post_id":26375932,"comment_id":44885144,"body_markdown":"**Summing up** the methods to avoid this problem: **(1)** use `double` instead of `int`; valid for up to 308 digits in the integer result. **(2)** use [java.math.BigInteger](http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html). **(3)** use a language that will switch to arbitrary-length integer automatically when needed, such as [Python](https://docs.python.org/3/library/stdtypes.html#typesnumeric).","body":"<b>Summing up</b> the methods to avoid this problem: <b>(1)</b> use <code>double</code> instead of <code>int</code>; valid for up to 308 digits in the integer result. <b>(2)</b> use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">java.math.BigInteger</a>. <b>(3)</b> use a language that will switch to arbitrary-length integer automatically when needed, such as <a href=\"https://docs.python.org/3/library/stdtypes.html#typesnumeric\" rel=\"nofollow noreferrer\">Python</a>."},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1425289862,"post_id":26375932,"comment_id":45886448,"body_markdown":"There are 45 even numbers from 10 to 99, so definitely the last 45 bits of the result must be 0, which overflows int. Counting more factors of 2 in those numbers results in a lot more low 0 bits, which also overflows long","body":"There are 45 even numbers from 10 to 99, so definitely the last 45 bits of the result must be 0, which overflows int. Counting more factors of 2 in those numbers results in a lot more low 0 bits, which also overflows long"}],"answers":[{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1413518414,"creation_date":1413354971,"answer_id":26375959,"question_id":26375932,"body_markdown":"It looks like an [integer overflow][1].\r\n\r\nTake a look at this\r\n\r\n    BigDecimal product=new BigDecimal(1);\r\n    for(int i=10;i&lt;99;i++){\r\n        product=product.multiply(new BigDecimal(i));\r\n    }\r\n    System.out.println(product);\r\n\r\nOutput:\r\n\r\n    25977982938941930515945176761070443325092850981258133993315252362474391176210383043658995147728530422794328291965962468114563072000000000000000000000\r\n\r\nOutput no longer be a `int` value. Then you will get wrong value because of the overflow. \r\n\r\n \r\n\r\n&gt; If it overflows, it goes back to the minimum value and continues from\r\n&gt; there. If it underflows, it goes back to the maximum value and\r\n&gt; continues from there.\r\n\r\nMore [info][2]\r\n\r\n**Edit**. \r\n\r\nLet&#39;s change your code as follows\r\n\r\n    int product = 1;\r\n    for (int i = 10; i &lt; 99; i++) {\r\n       product *= i;\r\n       System.out.println(product);\r\n    }\r\n    \r\nOut put:\r\n\r\n    10\r\n    110\r\n    1320\r\n    17160\r\n    240240\r\n    3603600\r\n    57657600\r\n    980179200\r\n    463356416\r\n    213837312\r\n    -18221056\r\n    -382642176\r\n    171806720\r\n    -343412736\r\n    348028928\r\n    110788608\r\n    -1414463488\r\n    464191488\r\n    112459776\r\n    -1033633792\r\n    -944242688\r\n    793247744\r\n    -385875968\r\n    150994944\r\n    838860800\r\n    -704643072\r\n    402653184\r\n    2013265920\r\n    -805306368\r\n    -1342177280\r\n    -2147483648\r\n    -2147483648&gt;&gt;&gt;binary representation is 11111111111111111111111111101011 10000000000000000000000000000000 \r\n     0 &gt;&gt;&gt; here binary representation will become 11111111111111111111111111101011 00000000000000000000000000000000 \r\n     ----\r\n     0\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Integer_overflow\r\n  [2]: https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>It looks like an <a href=\"http://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">integer overflow</a>.</p>\n\n<p>Take a look at this</p>\n\n<pre><code>BigDecimal product=new BigDecimal(1);\nfor(int i=10;i&lt;99;i++){\n    product=product.multiply(new BigDecimal(i));\n}\nSystem.out.println(product);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>25977982938941930515945176761070443325092850981258133993315252362474391176210383043658995147728530422794328291965962468114563072000000000000000000000\n</code></pre>\n\n<p>Output no longer be a <code>int</code> value. Then you will get wrong value because of the overflow. </p>\n\n<blockquote>\n  <p>If it overflows, it goes back to the minimum value and continues from\n  there. If it underflows, it goes back to the maximum value and\n  continues from there.</p>\n</blockquote>\n\n<p>More <a href=\"https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo\">info</a></p>\n\n<p><strong>Edit</strong>. </p>\n\n<p>Let's change your code as follows</p>\n\n<pre><code>int product = 1;\nfor (int i = 10; i &lt; 99; i++) {\n   product *= i;\n   System.out.println(product);\n}\n</code></pre>\n\n<p>Out put:</p>\n\n<pre><code>10\n110\n1320\n17160\n240240\n3603600\n57657600\n980179200\n463356416\n213837312\n-18221056\n-382642176\n171806720\n-343412736\n348028928\n110788608\n-1414463488\n464191488\n112459776\n-1033633792\n-944242688\n793247744\n-385875968\n150994944\n838860800\n-704643072\n402653184\n2013265920\n-805306368\n-1342177280\n-2147483648\n-2147483648&gt;&gt;&gt;binary representation is 11111111111111111111111111101011 10000000000000000000000000000000 \n 0 &gt;&gt;&gt; here binary representation will become 11111111111111111111111111101011 00000000000000000000000000000000 \n ----\n 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":6,"up_vote_count":21,"is_accepted":false,"score":15,"last_activity_date":1413391221,"creation_date":1413355111,"answer_id":26375995,"question_id":26375932,"body_markdown":"Somewhere in the middle you get `0` as the product. So, your entire product will be 0.\r\n\r\nIn your case :\r\n\r\n    for (int i = 10; i &lt; 99; i++) {\r\n    \tif (product &lt; Integer.MAX_VALUE)\r\n    \t\tSystem.out.println(product);\r\n        product *= i;\r\n    }\r\n    // System.out.println(product);\r\n    \r\n    System.out.println(-2147483648 * EvenValueOfi); // --&gt; this is the culprit (Credits : Kocko&#39;s answer )\r\n\r\n    O/P :\r\n    1\r\n    10\r\n    110\r\n    1320\r\n    17160\r\n    240240\r\n    3603600\r\n    57657600\r\n    980179200\r\n    463356416\r\n    213837312\r\n    -18221056\r\n    -382642176\r\n    171806720\r\n    -343412736\r\n    348028928\r\n    110788608\r\n    -1414463488\r\n    464191488\r\n    112459776\r\n    -1033633792\r\n    -944242688\r\n    793247744\r\n    -385875968\r\n    150994944\r\n    838860800\r\n    -704643072\r\n    402653184\r\n    2013265920\r\n    -805306368\r\n    -1342177280  --&gt; Multiplying this and the current value of `i` will also give -2147483648 (INT overflow)\r\n    -2147483648  --&gt; Multiplying this and the current value of `i` will also give -2147483648 (INT overflow)\r\n \r\n    -2147483648  -&gt;  Multiplying this and the current value of &#39;i&#39; will give 0 (INT overflow)\r\n    0\r\n    0\r\n    0\r\n\r\nEvery time you multiply the current value of `i` with the number you get `0` as output.\r\n","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>Somewhere in the middle you get <code>0</code> as the product. So, your entire product will be 0.</p>\n\n<p>In your case :</p>\n\n<pre><code>for (int i = 10; i &lt; 99; i++) {\n    if (product &lt; Integer.MAX_VALUE)\n        System.out.println(product);\n    product *= i;\n}\n// System.out.println(product);\n\nSystem.out.println(-2147483648 * EvenValueOfi); // --&gt; this is the culprit (Credits : Kocko's answer )\n\nO/P :\n1\n10\n110\n1320\n17160\n240240\n3603600\n57657600\n980179200\n463356416\n213837312\n-18221056\n-382642176\n171806720\n-343412736\n348028928\n110788608\n-1414463488\n464191488\n112459776\n-1033633792\n-944242688\n793247744\n-385875968\n150994944\n838860800\n-704643072\n402653184\n2013265920\n-805306368\n-1342177280  --&gt; Multiplying this and the current value of `i` will also give -2147483648 (INT overflow)\n-2147483648  --&gt; Multiplying this and the current value of `i` will also give -2147483648 (INT overflow)\n\n-2147483648  -&gt;  Multiplying this and the current value of 'i' will give 0 (INT overflow)\n0\n0\n0\n</code></pre>\n\n<p>Every time you multiply the current value of <code>i</code> with the number you get <code>0</code> as output.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1413538806,"creation_date":1413355121,"answer_id":26375998,"question_id":26375932,"body_markdown":"If I run this code What I get all -\r\n\r\n              1 * 10 =          10\r\n             10 * 11 =         110\r\n            110 * 12 =        1320\r\n           1320 * 13 =       17160\r\n          17160 * 14 =      240240\r\n         240240 * 15 =     3603600\r\n        3603600 * 16 =    57657600\r\n       57657600 * 17 =   980179200\r\n      980179200 * 18 =   463356416 &lt;- Integer Overflow (17643225600)\r\n      463356416 * 19 =   213837312\r\n      213837312 * 20 =   -18221056\r\n      -18221056 * 21 =  -382642176\r\n     -382642176 * 22 =   171806720\r\n      171806720 * 23 =  -343412736\r\n     -343412736 * 24 =   348028928\r\n      348028928 * 25 =   110788608\r\n      110788608 * 26 = -1414463488\r\n    -1414463488 * 27 =   464191488\r\n      464191488 * 28 =   112459776\r\n      112459776 * 29 = -1033633792\r\n    -1033633792 * 30 =  -944242688\r\n     -944242688 * 31 =   793247744\r\n      793247744 * 32 =  -385875968\r\n     -385875968 * 33 =   150994944\r\n      150994944 * 34 =   838860800\r\n      838860800 * 35 =  -704643072\r\n     -704643072 * 36 =   402653184\r\n      402653184 * 37 =  2013265920\r\n     2013265920 * 38 =  -805306368\r\n     -805306368 * 39 = -1342177280\r\n    -1342177280 * 40 = -2147483648\r\n    -2147483648 * 41 = -2147483648\r\n    -2147483648 * 42 =           0 &lt;- produce 0 \r\n              0 * 43 =           0\r\n\r\n------------\r\n&lt;u&gt;Integer Overflow cause&lt;/u&gt; -\r\n\r\n    980179200 * 18 =   463356416 (should be 17643225600)\r\n\r\n    17643225600 : 10000011011100111100100001000000000 &lt;-Actual\r\n    MAX_Integer :     1111111111111111111111111111111\r\n    463356416   :     0011011100111100100001000000000 &lt;- 32 bit Integer\r\n\r\nProduce 0 cause -\r\n \r\n\r\n    -2147483648 * 42 =           0 (should be -90194313216)\r\n    \r\n    -90194313216: 1010100000000000000000000000000000000 &lt;- Actual\r\n    MAX_Integer :       1111111111111111111111111111111\r\n    0           :      00000000000000000000000000000000 &lt;- 32 bit Integer","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>If I run this code What I get all -</p>\n\n<pre><code>          1 * 10 =          10\n         10 * 11 =         110\n        110 * 12 =        1320\n       1320 * 13 =       17160\n      17160 * 14 =      240240\n     240240 * 15 =     3603600\n    3603600 * 16 =    57657600\n   57657600 * 17 =   980179200\n  980179200 * 18 =   463356416 &lt;- Integer Overflow (17643225600)\n  463356416 * 19 =   213837312\n  213837312 * 20 =   -18221056\n  -18221056 * 21 =  -382642176\n -382642176 * 22 =   171806720\n  171806720 * 23 =  -343412736\n -343412736 * 24 =   348028928\n  348028928 * 25 =   110788608\n  110788608 * 26 = -1414463488\n-1414463488 * 27 =   464191488\n  464191488 * 28 =   112459776\n  112459776 * 29 = -1033633792\n-1033633792 * 30 =  -944242688\n -944242688 * 31 =   793247744\n  793247744 * 32 =  -385875968\n -385875968 * 33 =   150994944\n  150994944 * 34 =   838860800\n  838860800 * 35 =  -704643072\n -704643072 * 36 =   402653184\n  402653184 * 37 =  2013265920\n 2013265920 * 38 =  -805306368\n -805306368 * 39 = -1342177280\n-1342177280 * 40 = -2147483648\n-2147483648 * 41 = -2147483648\n-2147483648 * 42 =           0 &lt;- produce 0 \n          0 * 43 =           0\n</code></pre>\n\n<hr>\n\n<p>Integer Overflow cause -</p>\n\n<pre><code>980179200 * 18 =   463356416 (should be 17643225600)\n\n17643225600 : 10000011011100111100100001000000000 &lt;-Actual\nMAX_Integer :     1111111111111111111111111111111\n463356416   :     0011011100111100100001000000000 &lt;- 32 bit Integer\n</code></pre>\n\n<p>Produce 0 cause -</p>\n\n<pre><code>-2147483648 * 42 =           0 (should be -90194313216)\n\n-90194313216: 1010100000000000000000000000000000000 &lt;- Actual\nMAX_Integer :       1111111111111111111111111111111\n0           :      00000000000000000000000000000000 &lt;- 32 bit Integer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31629,"reputation":264547,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"down_vote_count":0,"up_vote_count":425,"is_accepted":true,"score":425,"last_activity_date":1537481554,"creation_date":1413364203,"answer_id":26378663,"question_id":26375932,"body_markdown":"Here is what the program does at each step:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n              1 * 10 =          10\r\n             10 * 11 =         110\r\n            110 * 12 =        1320\r\n           1320 * 13 =       17160\r\n          17160 * 14 =      240240\r\n         240240 * 15 =     3603600\r\n        3603600 * 16 =    57657600\r\n       57657600 * 17 =   980179200\r\n      980179200 * 18 =   463356416\r\n      463356416 * 19 =   213837312\r\n      213837312 * 20 =   -18221056\r\n      -18221056 * 21 =  -382642176\r\n     -382642176 * 22 =   171806720\r\n      171806720 * 23 =  -343412736\r\n     -343412736 * 24 =   348028928\r\n      348028928 * 25 =   110788608\r\n      110788608 * 26 = -1414463488\r\n    -1414463488 * 27 =   464191488\r\n      464191488 * 28 =   112459776\r\n      112459776 * 29 = -1033633792\r\n    -1033633792 * 30 =  -944242688\r\n     -944242688 * 31 =   793247744\r\n      793247744 * 32 =  -385875968\r\n     -385875968 * 33 =   150994944\r\n      150994944 * 34 =   838860800\r\n      838860800 * 35 =  -704643072\r\n     -704643072 * 36 =   402653184\r\n      402653184 * 37 =  2013265920\r\n     2013265920 * 38 =  -805306368\r\n     -805306368 * 39 = -1342177280\r\n    -1342177280 * 40 = -2147483648\r\n    -2147483648 * 41 = -2147483648\r\n    -2147483648 * 42 =           0\r\n              0 * 43 =           0\r\n              0 * 44 =           0\r\n    vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\r\n    vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\r\n              0 * 97 =           0\r\n              0 * 98 =           0\r\n\r\nNotice that on some steps the multiplication results in a smaller number (980179200 * 18 = 463356416) or incorrect sign (213837312 * 20 = -18221056), indicating that there was an integer overflow. But where does the zero come from? Read on.\r\n\r\nKeeping in mind that `int` data type [is a 32-bit signed][1], [two&#39;s complement][2] integer, here is an explanation of each step:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Operation         Result(1)     Binary Representation(2)                                           Result(3)\r\n    ----------------  ------------  -----------------------------------------------------------------  ------------\r\n              1 * 10            10                                                               1010            10\r\n             10 * 11           110                                                            1101110           110\r\n            110 * 12          1320                                                        10100101000          1320\r\n           1320 * 13         17160                                                    100001100001000         17160\r\n          17160 * 14        240240                                                 111010101001110000        240240\r\n         240240 * 15       3603600                                             1101101111110010010000       3603600\r\n        3603600 * 16      57657600                                         11011011111100100100000000      57657600\r\n       57657600 * 17     980179200                                     111010011011000101100100000000     980179200\r\n      980179200 * 18   17643225600                               100 00011011100111100100001000000000     463356416\r\n      463356416 * 19    8803771904                                10 00001100101111101110011000000000     213837312\r\n      213837312 * 20    4276746240                                   11111110111010011111100000000000     -18221056\r\n      -18221056 * 21    -382642176  11111111111111111111111111111111 11101001001100010101100000000000    -382642176\r\n     -382642176 * 22   -8418127872  11111111111111111111111111111110 00001010001111011001000000000000     171806720\r\n      171806720 * 23    3951554560                                   11101011100001111111000000000000    -343412736\r\n     -343412736 * 24   -8241905664  11111111111111111111111111111110 00010100101111101000000000000000     348028928\r\n      348028928 * 25    8700723200                                10 00000110100110101000000000000000     110788608\r\n      110788608 * 26    2880503808                                   10101011101100010000000000000000   -1414463488\r\n    -1414463488 * 27  -38190514176  11111111111111111111111111110111 00011011101010110000000000000000     464191488\r\n      464191488 * 28   12997361664                                11 00000110101101000000000000000000     112459776\r\n      112459776 * 29    3261333504                                   11000010011001000000000000000000   -1033633792\r\n    -1033633792 * 30  -31009013760  11111111111111111111111111111000 11000111101110000000000000000000    -944242688\r\n     -944242688 * 31  -29271523328  11111111111111111111111111111001 00101111010010000000000000000000     793247744\r\n      793247744 * 32   25383927808                               101 11101001000000000000000000000000    -385875968\r\n     -385875968 * 33  -12733906944  11111111111111111111111111111101 00001001000000000000000000000000     150994944\r\n      150994944 * 34    5133828096                                 1 00110010000000000000000000000000     838860800\r\n      838860800 * 35   29360128000                               110 11010110000000000000000000000000    -704643072\r\n     -704643072 * 36  -25367150592  11111111111111111111111111111010 00011000000000000000000000000000     402653184\r\n      402653184 * 37   14898167808                                11 01111000000000000000000000000000    2013265920\r\n     2013265920 * 38   76504104960                             10001 11010000000000000000000000000000    -805306368\r\n     -805306368 * 39  -31406948352  11111111111111111111111111111000 10110000000000000000000000000000   -1342177280\r\n    -1342177280 * 40  -53687091200  11111111111111111111111111110011 10000000000000000000000000000000   -2147483648\r\n    -2147483648 * 41  -88046829568  11111111111111111111111111101011 10000000000000000000000000000000   -2147483648\r\n    -2147483648 * 42  -90194313216  11111111111111111111111111101011 00000000000000000000000000000000             0\r\n              0 * 43             0                                                                  0             0\r\n    vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\r\n    vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\r\n              0 * 98             0                                                                  0             0\r\n\r\n1. is the _correct_ result\r\n2. is the internal representation of the result (64 bits are used for illustration)\r\n3. is the result represented by the two&#39;s complement of the lower 32 bits\r\n\r\nWe know that multiplying a number by an even number:\r\n\r\n- shifts the bits towards left and adds zero bits towards right\r\n- results in an even number\r\n\r\nSo basically your program multiplies an even number with another number repeatedly which zeroes out the result bits starting from right.\r\n\r\nPS: If the multiplications involved odd numbers only then the result will not become zero.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\r\n  [2]: https://en.wikipedia.org/wiki/Two&#39;s_complement","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>Here is what the program does at each step:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>          1 * 10 =          10\n         10 * 11 =         110\n        110 * 12 =        1320\n       1320 * 13 =       17160\n      17160 * 14 =      240240\n     240240 * 15 =     3603600\n    3603600 * 16 =    57657600\n   57657600 * 17 =   980179200\n  980179200 * 18 =   463356416\n  463356416 * 19 =   213837312\n  213837312 * 20 =   -18221056\n  -18221056 * 21 =  -382642176\n -382642176 * 22 =   171806720\n  171806720 * 23 =  -343412736\n -343412736 * 24 =   348028928\n  348028928 * 25 =   110788608\n  110788608 * 26 = -1414463488\n-1414463488 * 27 =   464191488\n  464191488 * 28 =   112459776\n  112459776 * 29 = -1033633792\n-1033633792 * 30 =  -944242688\n -944242688 * 31 =   793247744\n  793247744 * 32 =  -385875968\n -385875968 * 33 =   150994944\n  150994944 * 34 =   838860800\n  838860800 * 35 =  -704643072\n -704643072 * 36 =   402653184\n  402653184 * 37 =  2013265920\n 2013265920 * 38 =  -805306368\n -805306368 * 39 = -1342177280\n-1342177280 * 40 = -2147483648\n-2147483648 * 41 = -2147483648\n-2147483648 * 42 =           0\n          0 * 43 =           0\n          0 * 44 =           0\nvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\nvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n          0 * 97 =           0\n          0 * 98 =           0\n</code></pre>\n\n<p>Notice that on some steps the multiplication results in a smaller number (980179200 * 18 = 463356416) or incorrect sign (213837312 * 20 = -18221056), indicating that there was an integer overflow. But where does the zero come from? Read on.</p>\n\n<p>Keeping in mind that <code>int</code> data type <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">is a 32-bit signed</a>, <a href=\"https://en.wikipedia.org/wiki/Two&#39;s_complement\" rel=\"nofollow noreferrer\">two's complement</a> integer, here is an explanation of each step:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Operation         Result(1)     Binary Representation(2)                                           Result(3)\n----------------  ------------  -----------------------------------------------------------------  ------------\n          1 * 10            10                                                               1010            10\n         10 * 11           110                                                            1101110           110\n        110 * 12          1320                                                        10100101000          1320\n       1320 * 13         17160                                                    100001100001000         17160\n      17160 * 14        240240                                                 111010101001110000        240240\n     240240 * 15       3603600                                             1101101111110010010000       3603600\n    3603600 * 16      57657600                                         11011011111100100100000000      57657600\n   57657600 * 17     980179200                                     111010011011000101100100000000     980179200\n  980179200 * 18   17643225600                               100 00011011100111100100001000000000     463356416\n  463356416 * 19    8803771904                                10 00001100101111101110011000000000     213837312\n  213837312 * 20    4276746240                                   11111110111010011111100000000000     -18221056\n  -18221056 * 21    -382642176  11111111111111111111111111111111 11101001001100010101100000000000    -382642176\n -382642176 * 22   -8418127872  11111111111111111111111111111110 00001010001111011001000000000000     171806720\n  171806720 * 23    3951554560                                   11101011100001111111000000000000    -343412736\n -343412736 * 24   -8241905664  11111111111111111111111111111110 00010100101111101000000000000000     348028928\n  348028928 * 25    8700723200                                10 00000110100110101000000000000000     110788608\n  110788608 * 26    2880503808                                   10101011101100010000000000000000   -1414463488\n-1414463488 * 27  -38190514176  11111111111111111111111111110111 00011011101010110000000000000000     464191488\n  464191488 * 28   12997361664                                11 00000110101101000000000000000000     112459776\n  112459776 * 29    3261333504                                   11000010011001000000000000000000   -1033633792\n-1033633792 * 30  -31009013760  11111111111111111111111111111000 11000111101110000000000000000000    -944242688\n -944242688 * 31  -29271523328  11111111111111111111111111111001 00101111010010000000000000000000     793247744\n  793247744 * 32   25383927808                               101 11101001000000000000000000000000    -385875968\n -385875968 * 33  -12733906944  11111111111111111111111111111101 00001001000000000000000000000000     150994944\n  150994944 * 34    5133828096                                 1 00110010000000000000000000000000     838860800\n  838860800 * 35   29360128000                               110 11010110000000000000000000000000    -704643072\n -704643072 * 36  -25367150592  11111111111111111111111111111010 00011000000000000000000000000000     402653184\n  402653184 * 37   14898167808                                11 01111000000000000000000000000000    2013265920\n 2013265920 * 38   76504104960                             10001 11010000000000000000000000000000    -805306368\n -805306368 * 39  -31406948352  11111111111111111111111111111000 10110000000000000000000000000000   -1342177280\n-1342177280 * 40  -53687091200  11111111111111111111111111110011 10000000000000000000000000000000   -2147483648\n-2147483648 * 41  -88046829568  11111111111111111111111111101011 10000000000000000000000000000000   -2147483648\n-2147483648 * 42  -90194313216  11111111111111111111111111101011 00000000000000000000000000000000             0\n          0 * 43             0                                                                  0             0\nvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\nvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n          0 * 98             0                                                                  0             0\n</code></pre>\n\n<ol>\n<li>is the <em>correct</em> result</li>\n<li>is the internal representation of the result (64 bits are used for illustration)</li>\n<li>is the result represented by the two's complement of the lower 32 bits</li>\n</ol>\n\n<p>We know that multiplying a number by an even number:</p>\n\n<ul>\n<li>shifts the bits towards left and adds zero bits towards right</li>\n<li>results in an even number</li>\n</ul>\n\n<p>So basically your program multiplies an even number with another number repeatedly which zeroes out the result bits starting from right.</p>\n\n<p>PS: If the multiplications involved odd numbers only then the result will not become zero.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1413379817,"creation_date":1413375198,"answer_id":26382333,"question_id":26375932,"body_markdown":"Since many of the existing answer point to implementation details of Java and debug output, lets have a look at the math behind binary multiplication to really answer the why.\r\n\r\nThe comment of @kasperd goes in the right direction. Suppose you do not multiply directly with the number but with the prime factors of that number instead. Than a lot of numbers will have 2 as a prime factor. In binary this is equal to a left shift. By commutativity we can multiply with prime factors of 2 first. That means we just do a left shift.\r\n\r\nWhen having a look at binary multiplication rules, the only case where a 1 will result in a specific digit position is when both operand values are one.\r\n\r\nSo the effect of a left shift is that the lowest bit position of a 1 when further multiplying the result is increased.\r\n\r\nSince integer contains only the lowest order bits, they all will be set to 0 when the prime factor 2 is cotnained often enough in the result.\r\n\r\nNote that two&#39;s complement representation is not of interest for this analysis, since the sign of the multiplication result can be computed independently from the resulting number. That means if the value overflows and becomes negative, the lowest order bits are represented as 1, but during multiplication they are treated again as being 0.","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>Since many of the existing answer point to implementation details of Java and debug output, lets have a look at the math behind binary multiplication to really answer the why.</p>\n\n<p>The comment of @kasperd goes in the right direction. Suppose you do not multiply directly with the number but with the prime factors of that number instead. Than a lot of numbers will have 2 as a prime factor. In binary this is equal to a left shift. By commutativity we can multiply with prime factors of 2 first. That means we just do a left shift.</p>\n\n<p>When having a look at binary multiplication rules, the only case where a 1 will result in a specific digit position is when both operand values are one.</p>\n\n<p>So the effect of a left shift is that the lowest bit position of a 1 when further multiplying the result is increased.</p>\n\n<p>Since integer contains only the lowest order bits, they all will be set to 0 when the prime factor 2 is cotnained often enough in the result.</p>\n\n<p>Note that two's complement representation is not of interest for this analysis, since the sign of the multiplication result can be computed independently from the resulting number. That means if the value overflows and becomes negative, the lowest order bits are represented as 1, but during multiplication they are treated again as being 0.</p>\n"},{"tags":[],"owner":{"account_id":99652,"reputation":13162,"user_id":269061,"accept_rate":82,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1413391811,"creation_date":1413391466,"answer_id":26387762,"question_id":26375932,"body_markdown":"Eventually, the calculation overflows, and eventually that overflow leads to a product of zero; that happens when `product == -2147483648` and `i == 42`.  Try this code out to verify it for yourself (or run the code [here](http://ideone.com/PGuFnc)):\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    class Ideone {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception {\r\n    \t\tSystem.out.println(&quot;Result: &quot; + (-2147483648 * 42));\r\n    \t}\r\n    }\r\n\r\nOnce it&#39;s zero, it of course stays zero.  Here&#39;s some code that will produce a more accurate result (you can run the code [here](http://ideone.com/n2t3Ni)):\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    class Ideone {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception {\r\n    \t\tBigInteger p = BigInteger.valueOf(1);\r\n    \t\tBigInteger start = BigInteger.valueOf(10);\r\n    \t\tBigInteger end = BigInteger.valueOf(99);\r\n    \t\tfor(BigInteger i = start; i.compareTo(end) &lt; 0; i = i.add(BigInteger.ONE)){\r\n    \t\t\tp = p.multiply(i);\r\n    \t\t\tSystem.out.println(&quot;p: &quot; + p);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nProduct: &quot; + p);\r\n    \t}\r\n    }","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>Eventually, the calculation overflows, and eventually that overflow leads to a product of zero; that happens when <code>product == -2147483648</code> and <code>i == 42</code>.  Try this code out to verify it for yourself (or run the code <a href=\"http://ideone.com/PGuFnc\">here</a>):</p>\n\n<pre><code>import java.math.BigInteger;\n\nclass Ideone {\n    public static void main (String[] args) throws java.lang.Exception {\n        System.out.println(\"Result: \" + (-2147483648 * 42));\n    }\n}\n</code></pre>\n\n<p>Once it's zero, it of course stays zero.  Here's some code that will produce a more accurate result (you can run the code <a href=\"http://ideone.com/n2t3Ni\">here</a>):</p>\n\n<pre><code>import java.math.BigInteger;\n\nclass Ideone {\n    public static void main (String[] args) throws java.lang.Exception {\n        BigInteger p = BigInteger.valueOf(1);\n        BigInteger start = BigInteger.valueOf(10);\n        BigInteger end = BigInteger.valueOf(99);\n        for(BigInteger i = start; i.compareTo(end) &lt; 0; i = i.add(BigInteger.ONE)){\n            p = p.multiply(i);\n            System.out.println(\"p: \" + p);\n        }\n        System.out.println(\"\\nProduct: \" + p);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410133,"reputation":55768,"user_id":781792,"display_name":"Tim S."},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1413476505,"creation_date":1413402574,"answer_id":26390876,"question_id":26375932,"body_markdown":"It&#39;s because of integer overflow. When you multiply many even numbers together, the binary number gets a lot of trailing zeroes. When you have over 32 trailing zeroes for an `int`, it rolls over to `0`.\r\n\r\nTo help you visualize this, here are the multiplications in hex calculated on a number type that won&#39;t overflow. See how the trailing zeroes slowly grow, and note that an `int` is made up of the last 8 hex-digits. After multiplying by 42 (0x2A), all 32 bits of an `int` are zeroes!\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n                                         1 (int: 00000001) * 0A =\r\n                                         A (int: 0000000A) * 0B =\r\n                                        6E (int: 0000006E) * 0C =\r\n                                       528 (int: 00000528) * 0D =\r\n                                      4308 (int: 00004308) * 0E =\r\n                                     3AA70 (int: 0003AA70) * 0F =\r\n                                    36FC90 (int: 0036FC90) * 10 =\r\n                                   36FC900 (int: 036FC900) * 11 =\r\n                                  3A6C5900 (int: 3A6C5900) * 12 =\r\n                                 41B9E4200 (int: 1B9E4200) * 13 =\r\n                                4E0CBEE600 (int: 0CBEE600) * 14 =\r\n                               618FEE9F800 (int: FEE9F800) * 15 =\r\n                              800CE9315800 (int: E9315800) * 16 =\r\n                             B011C0A3D9000 (int: 0A3D9000) * 17 =\r\n                            FD1984EB87F000 (int: EB87F000) * 18 =\r\n                          17BA647614BE8000 (int: 14BE8000) * 19 =\r\n                         25133CF88069A8000 (int: 069A8000) * 1A =\r\n                        3C3F4313D0ABB10000 (int: ABB10000) * 1B =\r\n                       65AAC1317021BAB0000 (int: 1BAB0000) * 1C =\r\n                      B1EAD216843B06B40000 (int: 06B40000) * 1D =\r\n                    142799CC8CFAAFC2640000 (int: C2640000) * 1E =\r\n                   25CA405F8856098C7B80000 (int: C7B80000) * 1F =\r\n                  4937DCB91826B2802F480000 (int: 2F480000) * 20 =\r\n                 926FB972304D65005E9000000 (int: E9000000) * 21 =\r\n               12E066E7B839FA050C309000000 (int: 09000000) * 22 =\r\n              281CDAAC677B334AB9E732000000 (int: 32000000) * 23 =\r\n             57BF1E59225D803376A9BD6000000 (int: D6000000) * 24 =\r\n            C56E04488D526073CAFDEA18000000 (int: 18000000) * 25 =\r\n          1C88E69E7C6CE7F0BC56B2D578000000 (int: 78000000) * 26 =\r\n         43C523B86782A6DBBF4DE8BAFD0000000 (int: D0000000) * 27 =\r\n        A53087117C4E76B7A24DE747C8B0000000 (int: B0000000) * 28 =\r\n      19CF951ABB6C428CB15C2C23375B80000000 (int: 80000000) * 29 =\r\n     4223EE1480456A88867C311A3DDA780000000 (int: 80000000) * 2A =\r\n    AD9E50F5D0B637A6610600E4E25D7B00000000 (int: 00000000)\r\n","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>It's because of integer overflow. When you multiply many even numbers together, the binary number gets a lot of trailing zeroes. When you have over 32 trailing zeroes for an <code>int</code>, it rolls over to <code>0</code>.</p>\n\n<p>To help you visualize this, here are the multiplications in hex calculated on a number type that won't overflow. See how the trailing zeroes slowly grow, and note that an <code>int</code> is made up of the last 8 hex-digits. After multiplying by 42 (0x2A), all 32 bits of an <code>int</code> are zeroes!</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>                                     1 (int: 00000001) * 0A =\n                                     A (int: 0000000A) * 0B =\n                                    6E (int: 0000006E) * 0C =\n                                   528 (int: 00000528) * 0D =\n                                  4308 (int: 00004308) * 0E =\n                                 3AA70 (int: 0003AA70) * 0F =\n                                36FC90 (int: 0036FC90) * 10 =\n                               36FC900 (int: 036FC900) * 11 =\n                              3A6C5900 (int: 3A6C5900) * 12 =\n                             41B9E4200 (int: 1B9E4200) * 13 =\n                            4E0CBEE600 (int: 0CBEE600) * 14 =\n                           618FEE9F800 (int: FEE9F800) * 15 =\n                          800CE9315800 (int: E9315800) * 16 =\n                         B011C0A3D9000 (int: 0A3D9000) * 17 =\n                        FD1984EB87F000 (int: EB87F000) * 18 =\n                      17BA647614BE8000 (int: 14BE8000) * 19 =\n                     25133CF88069A8000 (int: 069A8000) * 1A =\n                    3C3F4313D0ABB10000 (int: ABB10000) * 1B =\n                   65AAC1317021BAB0000 (int: 1BAB0000) * 1C =\n                  B1EAD216843B06B40000 (int: 06B40000) * 1D =\n                142799CC8CFAAFC2640000 (int: C2640000) * 1E =\n               25CA405F8856098C7B80000 (int: C7B80000) * 1F =\n              4937DCB91826B2802F480000 (int: 2F480000) * 20 =\n             926FB972304D65005E9000000 (int: E9000000) * 21 =\n           12E066E7B839FA050C309000000 (int: 09000000) * 22 =\n          281CDAAC677B334AB9E732000000 (int: 32000000) * 23 =\n         57BF1E59225D803376A9BD6000000 (int: D6000000) * 24 =\n        C56E04488D526073CAFDEA18000000 (int: 18000000) * 25 =\n      1C88E69E7C6CE7F0BC56B2D578000000 (int: 78000000) * 26 =\n     43C523B86782A6DBBF4DE8BAFD0000000 (int: D0000000) * 27 =\n    A53087117C4E76B7A24DE747C8B0000000 (int: B0000000) * 28 =\n  19CF951ABB6C428CB15C2C23375B80000000 (int: 80000000) * 29 =\n 4223EE1480456A88867C311A3DDA780000000 (int: 80000000) * 2A =\nAD9E50F5D0B637A6610600E4E25D7B00000000 (int: 00000000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112043,"reputation":7128,"user_id":295691,"display_name":"user295691"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1413572367,"creation_date":1413408722,"answer_id":26392468,"question_id":26375932,"body_markdown":"Computer multiplication is really happening modulo 2^32. Once you have accumulated enough powers of two in the multiplicand, then all values will be 0.\r\n\r\nHere we have all the even numbers in the series, along with the maximum power of two that divides the number, and the cumulative power of two\r\n\r\n    num   max2  total\r\n    10    2     1\r\n    12    4     3\r\n    14    2     4\r\n    16    16    8\r\n    18    2     9\r\n    20    4    11\r\n    22    2    12\r\n    24    8    15\r\n    26    2    16\r\n    28    4    18\r\n    30    2    19\r\n    32    32   24\r\n    34    2    25\r\n    36    4    27\r\n    38    2    28\r\n    40    8    31\r\n    42    2    32\r\n\r\nThe product up to 42 is equal to x * 2^32 = 0 (mod 2^32).  The sequence of the powers of two is related to Gray codes (among other things), and appears as https://oeis.org/A001511.\r\n\r\nEDIT: to see why other responses to this question are incomplete, consider the fact that the same program, restricted to odd integers only, would _not_ converge to 0, despite all the overflowing.","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>Computer multiplication is really happening modulo 2^32. Once you have accumulated enough powers of two in the multiplicand, then all values will be 0.</p>\n\n<p>Here we have all the even numbers in the series, along with the maximum power of two that divides the number, and the cumulative power of two</p>\n\n<pre><code>num   max2  total\n10    2     1\n12    4     3\n14    2     4\n16    16    8\n18    2     9\n20    4    11\n22    2    12\n24    8    15\n26    2    16\n28    4    18\n30    2    19\n32    32   24\n34    2    25\n36    4    27\n38    2    28\n40    8    31\n42    2    32\n</code></pre>\n\n<p>The product up to 42 is equal to x * 2^32 = 0 (mod 2^32).  The sequence of the powers of two is related to Gray codes (among other things), and appears as <a href=\"https://oeis.org/A001511\" rel=\"noreferrer\">https://oeis.org/A001511</a>.</p>\n\n<p>EDIT: to see why other responses to this question are incomplete, consider the fact that the same program, restricted to odd integers only, would <em>not</em> converge to 0, despite all the overflowing.</p>\n"},{"tags":[],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413472065,"creation_date":1413471666,"answer_id":26407637,"question_id":26375932,"body_markdown":"It is an integer overflow.\r\n\r\nThe int data type is 4 bytes, or 32 bits.  Therefore, numbers larger than 2^(32 - 1) - 1 (2,147,483,647) cannot be stored in this data type.  Your numerical values will be incorrect.\r\n\r\nFor very large numbers, you will want to import and use the class &lt;code&gt;java.math.BigInteger:&lt;/code&gt;\r\n\r\n    BigInteger product = BigInteger.ONE;\r\n    for (long i = 10; i &lt; 99; i++) \r\n        product = product.multiply(BigInteger.valueOf(i));\r\n    System.out.println(product.toString());\r\n\r\nNOTE: For numerical values that are still too large for the int data type, but small enough to fit within 8 bytes (absolute value less than or equal to 2^(64 - 1) - 1), you should probably use the &lt;code&gt;long&lt;/code&gt; primitive.  \r\n\r\nHackerRank&#39;s practice problems (www.hackerrank.com), such as the Algorithms practice section, (https://www.hackerrank.com/domains/algorithms/warmup) include some very good large-number questions that give good practice about how to think about the appropriate data type to use.","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>It is an integer overflow.</p>\n\n<p>The int data type is 4 bytes, or 32 bits.  Therefore, numbers larger than 2^(32 - 1) - 1 (2,147,483,647) cannot be stored in this data type.  Your numerical values will be incorrect.</p>\n\n<p>For very large numbers, you will want to import and use the class <code>java.math.BigInteger:</code></p>\n\n<pre><code>BigInteger product = BigInteger.ONE;\nfor (long i = 10; i &lt; 99; i++) \n    product = product.multiply(BigInteger.valueOf(i));\nSystem.out.println(product.toString());\n</code></pre>\n\n<p>NOTE: For numerical values that are still too large for the int data type, but small enough to fit within 8 bytes (absolute value less than or equal to 2^(64 - 1) - 1), you should probably use the <code>long</code> primitive.  </p>\n\n<p>HackerRank's practice problems (www.hackerrank.com), such as the Algorithms practice section, (<a href=\"https://www.hackerrank.com/domains/algorithms/warmup\" rel=\"nofollow\">https://www.hackerrank.com/domains/algorithms/warmup</a>) include some very good large-number questions that give good practice about how to think about the appropriate data type to use.</p>\n"}],"owner":{"account_id":4288590,"reputation":1903,"user_id":3505528,"accept_rate":83,"display_name":"Aniruddha Sarkar"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31658,"favorite_count":0,"down_vote_count":55,"up_vote_count":186,"accepted_answer_id":26378663,"answer_count":9,"score":131,"last_activity_date":1648633027,"creation_date":1413354841,"question_id":26375932,"body_markdown":"The following block of codes gives the output as 0.\r\n\r\n    public class HelloWorld{\r\n\r\n        public static void main(String []args){\r\n            int product = 1;\r\n\t\t    for (int i = 10; i &lt;= 99; i++) {\r\n\t\t    \tproduct *= i;\r\n\t\t    }\r\n\t\t    System.out.println(product);\r\n        }\r\n    }\r\n\r\nPlease can somebody explain why this happens?\r\n","title":"Why does Java think that the product of all numbers from 10 to 99 is 0?","body":"<p>The following block of codes gives the output as 0.</p>\n<pre><code>public class HelloWorld{\n\n    public static void main(String []args){\n        int product = 1;\n        for (int i = 10; i &lt;= 99; i++) {\n            product *= i;\n        }\n        System.out.println(product);\n    }\n}\n</code></pre>\n<p>Please can somebody explain why this happens?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4122427,"reputation":1051,"user_id":5663215,"accept_rate":25,"display_name":"Seamas"},"score":0,"creation_date":1484876954,"post_id":41754712,"comment_id":70701871,"body_markdown":"you need to unzip your jar file to see where is your Sample.txt.Maybe is has been moved when you package.","body":"you need to unzip your jar file to see where is your Sample.txt.Maybe is has been moved when you package."},{"owner":{"account_id":9200389,"reputation":411,"user_id":6837570,"accept_rate":100,"display_name":"Greg"},"score":0,"creation_date":1484877089,"post_id":41754712,"comment_id":70701911,"body_markdown":"I did it&#39;s here : XXX-0.0.1-SNAPSHOT\\BOOT-INF\\classes\\static\\Sample.txt","body":"I did it&#39;s here : XXX-0.0.1-SNAPSHOT\\BOOT-INF\\classes\\static\\Sample.txt"},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":0,"creation_date":1484878357,"post_id":41754712,"comment_id":70702250,"body_markdown":"Please print the CLASSPATH variable on the shell and show the value. `echo %classpath%`.","body":"Please print the CLASSPATH variable on the shell and show the value. <code>echo %classpath%</code>."},{"owner":{"account_id":9200389,"reputation":411,"user_id":6837570,"accept_rate":100,"display_name":"Greg"},"score":0,"creation_date":1484878637,"post_id":41754712,"comment_id":70702307,"body_markdown":"got this ! :  %classpath%","body":"got this ! :  %classpath%"},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":0,"creation_date":1484878800,"post_id":41754712,"comment_id":70702350,"body_markdown":"So it is not set. How do you run your program. Show the full command.","body":"So it is not set. How do you run your program. Show the full command."},{"owner":{"account_id":9200389,"reputation":411,"user_id":6837570,"accept_rate":100,"display_name":"Greg"},"score":0,"creation_date":1484879139,"post_id":41754712,"comment_id":70702438,"body_markdown":"java -jar target/XXX-0.0.1-SNAPSHOT.jar","body":"java -jar target/XXX-0.0.1-SNAPSHOT.jar"},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":0,"creation_date":1484879894,"post_id":41754712,"comment_id":70702633,"body_markdown":"Can you try java -cp target/XXX-0.0.1-SNAPSHOT.jar full.package.name.ClassName","body":"Can you try java -cp target/XXX-0.0.1-SNAPSHOT.jar full.package.name.ClassName"}],"answers":[{"tags":[],"owner":{"account_id":1146287,"reputation":4408,"user_id":1128953,"accept_rate":75,"display_name":"Liping Huang"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1535526730,"creation_date":1484877200,"answer_id":41754831,"question_id":41754712,"body_markdown":"Please try `resourceLoader.getResource(&quot;classpath:static/Sample.txt&quot;);`\r\n\r\nWorking with this code when run with `java -jar XXXX.jar`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LosfT.png\r\n\r\n------ update ------\r\n\r\nAfter go through your codes, the problem is you try to read the file by the `FileInputStream` but actually it&#39;s inside the jar file. \r\n\r\nBut actually you get the `org.springframework.core.io.Resource` so means you cat get the InputStream, so you can do it like `new BufferedReader(new InputStreamReader(resource.getInputStream())).readLine();`","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>Please try <code>resourceLoader.getResource(\"classpath:static/Sample.txt\");</code></p>\n\n<p>Working with this code when run with <code>java -jar XXXX.jar</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/LosfT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LosfT.png\" alt=\"enter image description here\"></a></p>\n\n<p>------ update ------</p>\n\n<p>After go through your codes, the problem is you try to read the file by the <code>FileInputStream</code> but actually it's inside the jar file. </p>\n\n<p>But actually you get the <code>org.springframework.core.io.Resource</code> so means you cat get the InputStream, so you can do it like <code>new BufferedReader(new InputStreamReader(resource.getInputStream())).readLine();</code></p>\n"},{"tags":[],"owner":{"account_id":4122427,"reputation":1051,"user_id":5663215,"accept_rate":25,"display_name":"Seamas"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1619609690,"creation_date":1484881196,"answer_id":41755351,"question_id":41754712,"body_markdown":"I have checked your code.If you would like to load a file from classpath in a Spring Boot JAR, then you have to use the `resource.getInputStream()` rather than `resource.getFile()`.If you try to use `resource.getFile()` you will receive an error, because Spring tries to access a file system path, but it can not access a path in your JAR.\r\n\r\ndetail as below:\r\n\r\nhttps://smarterco.de/java-load-file-classpath-spring-boot/","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>I have checked your code.If you would like to load a file from classpath in a Spring Boot JAR, then you have to use the <code>resource.getInputStream()</code> rather than <code>resource.getFile()</code>.If you try to use <code>resource.getFile()</code> you will receive an error, because Spring tries to access a file system path, but it can not access a path in your JAR.</p>\n<p>detail as below:</p>\n<p><a href=\"https://smarterco.de/java-load-file-classpath-spring-boot/\" rel=\"nofollow noreferrer\">https://smarterco.de/java-load-file-classpath-spring-boot/</a></p>\n"},{"tags":[],"owner":{"account_id":2659819,"reputation":6153,"user_id":2299789,"accept_rate":62,"display_name":"BERGUIGA Mohamed Amine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508859605,"creation_date":1508859605,"answer_id":46914703,"question_id":41754712,"body_markdown":"I had the same problem and as @Gipple Lake explained, with Spring boot you need to load file as inputStream. So bellow I&#39;ll add my code as example, where I want to read import.xml file\r\n\r\n\tpublic void init() {\r\n\t\tResource resource = new ClassPathResource(&quot;imports/imports.xml&quot;);\r\n\t\ttry {\r\n\t\t\tInputStream dbAsStream = resource.getInputStream();\r\n\t\t\ttry {\r\n\t\t\t\tdocument = readXml(dbAsStream);\r\n\t\t\t\t} catch (SAXException e) {\r\n\t\t\t\t\ttrace.error(e.getMessage(), e);\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (ParserConfigurationException e) {\r\n\t\t\t\t\ttrace.error(e.getMessage(), e);\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\ttrace.error(e.getMessage(), e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tinitListeImports();\r\n\t\tinitNewImports();\r\n\t}\r\n\r\n\tpublic static Document readXml(InputStream is) throws SAXException, IOException,\r\n\t      ParserConfigurationException {\r\n\t      DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\r\n\t      dbf.setValidating(false);\r\n\t      dbf.setIgnoringComments(false);\r\n\t      dbf.setIgnoringElementContentWhitespace(true);\r\n\t      dbf.setNamespaceAware(true);\r\n\t      DocumentBuilder db = null;\r\n\t      db = dbf.newDocumentBuilder();\r\n\t      \r\n\t      return db.parse(is);\r\n\t  }\r\n\r\n\r\nI added &quot;`imports.xml`&quot; bellow `src/main/ressources/imports`","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>I had the same problem and as @Gipple Lake explained, with Spring boot you need to load file as inputStream. So bellow I'll add my code as example, where I want to read import.xml file</p>\n\n<pre><code>public void init() {\n    Resource resource = new ClassPathResource(\"imports/imports.xml\");\n    try {\n        InputStream dbAsStream = resource.getInputStream();\n        try {\n            document = readXml(dbAsStream);\n            } catch (SAXException e) {\n                trace.error(e.getMessage(), e);\n                e.printStackTrace();\n            } catch (ParserConfigurationException e) {\n                trace.error(e.getMessage(), e);\n                e.printStackTrace();\n            }\n    } catch (IOException e) {\n        trace.error(e.getMessage(), e);\n        e.printStackTrace();\n    }\n    initListeImports();\n    initNewImports();\n}\n\npublic static Document readXml(InputStream is) throws SAXException, IOException,\n      ParserConfigurationException {\n      DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n\n      dbf.setValidating(false);\n      dbf.setIgnoringComments(false);\n      dbf.setIgnoringElementContentWhitespace(true);\n      dbf.setNamespaceAware(true);\n      DocumentBuilder db = null;\n      db = dbf.newDocumentBuilder();\n\n      return db.parse(is);\n  }\n</code></pre>\n\n<p>I added \"<code>imports.xml</code>\" bellow <code>src/main/ressources/imports</code></p>\n"},{"tags":[],"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537273645,"creation_date":1537273645,"answer_id":52386599,"question_id":41754712,"body_markdown":"Put the files under **`resources/static`**, it will be in classpath and read the path like below  \r\n\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.core.io.Resource;\r\n\r\n    Resource resource = new ClassPathResource(&quot;/static/pathtosomefile.txt&quot;);\r\n    resource.getURL().getPath()","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>Put the files under <strong><code>resources/static</code></strong>, it will be in classpath and read the path like below  </p>\n\n<pre><code>import org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\n\nResource resource = new ClassPathResource(\"/static/pathtosomefile.txt\");\nresource.getURL().getPath()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225667,"reputation":738,"user_id":2722112,"display_name":"Marosdee Uma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594176310,"creation_date":1594176310,"answer_id":62786753,"question_id":41754712,"body_markdown":"If you want to read all file in folders\r\n    \r\nthis is sample code.\r\n    \r\n    \r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\n    import org.springframework.core.io.support.ResourcePatternResolver;\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;app/files&quot;)\r\n    public class FileDirController {\r\n        @GetMapping(&quot;&quot;)\r\n        public ModelAndView index(ModelAndView modelAndView) {\r\n    \r\n            ClassLoader cl = this.getClass().getClassLoader();\r\n            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\r\n    \r\n            Resource resources[] = new Resource[0];\r\n            try {\r\n                resources = resolver.getResources(&quot;files/*&quot;); // src/main/resources/files\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            for (final Resource res : resources ) {\r\n                System.out.println(&quot;resources&quot; + res.getFilename());\r\n            }\r\n    \r\n    \r\n            modelAndView.setViewName(&quot;views/file_dir&quot;);\r\n    \r\n            return modelAndView;\r\n        }\r\n    }","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>If you want to read all file in folders</p>\n<p>this is sample code.</p>\n<pre><code>import org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.io.support.ResourcePatternResolver;\n\n@Controller\n@RequestMapping(&quot;app/files&quot;)\npublic class FileDirController {\n    @GetMapping(&quot;&quot;)\n    public ModelAndView index(ModelAndView modelAndView) {\n\n        ClassLoader cl = this.getClass().getClassLoader();\n        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\n\n        Resource resources[] = new Resource[0];\n        try {\n            resources = resolver.getResources(&quot;files/*&quot;); // src/main/resources/files\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        for (final Resource res : resources ) {\n            System.out.println(&quot;resources&quot; + res.getFilename());\n        }\n\n\n        modelAndView.setViewName(&quot;views/file_dir&quot;);\n\n        return modelAndView;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619608223,"creation_date":1619608223,"answer_id":67299104,"question_id":41754712,"body_markdown":"if resource is present inside `resources/static/listings.csv`\r\n \r\n`String path = &quot;classpath:static/listings.csv&quot;;`\r\n\r\n`ResultSet rs = new Csv().read(path, null, null);`","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>if resource is present inside <code>resources/static/listings.csv</code></p>\n<p><code>String path = &quot;classpath:static/listings.csv&quot;;</code></p>\n<p><code>ResultSet rs = new Csv().read(path, null, null);</code></p>\n"},{"tags":[],"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648632811,"creation_date":1648632811,"answer_id":71674822,"question_id":41754712,"body_markdown":"Adding the answer from [here][1]. Read the `ClassPathResource` and copy the content to a `String`.\r\n\r\n    try {\r\n       ClassPathResource classPathResource = new ClassPathResource(&quot;static/Sample.txt&quot;);\r\n       byte[] data = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\r\n       String content = new String(data, StandardCharsets.UTF_8);\r\n    } catch (Exception ex) {\r\n      ex.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69687770/8440358","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>Adding the answer from <a href=\"https://stackoverflow.com/a/69687770/8440358\">here</a>. Read the <code>ClassPathResource</code> and copy the content to a <code>String</code>.</p>\n<pre><code>try {\n   ClassPathResource classPathResource = new ClassPathResource(&quot;static/Sample.txt&quot;);\n   byte[] data = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\n   String content = new String(data, StandardCharsets.UTF_8);\n} catch (Exception ex) {\n  ex.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":9200389,"reputation":411,"user_id":6837570,"accept_rate":100,"display_name":"Greg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80745,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":41755351,"answer_count":7,"score":18,"last_activity_date":1648632811,"creation_date":1484876316,"question_id":41754712,"body_markdown":"I’m trying to read a text file using Spring resource loader like this :\r\n\r\n    Resource resource  = resourceLoader.getResource(&quot;classpath:\\\\static\\\\Sample.txt&quot;);\r\n\r\nThe file locates  here in my Spring boot project:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIt works fine when running the application in eclipse, but when I package the application then run it using java –jar , I get file not found exception :\r\n\r\n    java.io.FileNotFoundException: class path resource [static/Sample.txt] cannot be resolved to absolute file path because it does not reside in the\r\n     file system: jar:file:/C:/workspace-test/XXX/target/XXX-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/Sample.txt\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSScg.png\r\n\r\nI unziped the Jar file the Sample locates in :\r\nXXX-0.0.1-SNAPSHOT\\BOOT-INF\\classes\\static\\Sample.txt \r\n\r\nCan someone help me please ?\r\n\r\nThanks in advance!","title":"Spring Boot - Reading Text File using ResourceLoader","body":"<p>I’m trying to read a text file using Spring resource loader like this :</p>\n\n<pre><code>Resource resource  = resourceLoader.getResource(\"classpath:\\\\static\\\\Sample.txt\");\n</code></pre>\n\n<p>The file locates  here in my Spring boot project:\n<a href=\"https://i.stack.imgur.com/eSScg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eSScg.png\" alt=\"enter image description here\"></a></p>\n\n<p>It works fine when running the application in eclipse, but when I package the application then run it using java –jar , I get file not found exception :</p>\n\n<pre><code>java.io.FileNotFoundException: class path resource [static/Sample.txt] cannot be resolved to absolute file path because it does not reside in the\n file system: jar:file:/C:/workspace-test/XXX/target/XXX-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/Sample.txt\n</code></pre>\n\n<p>I unziped the Jar file the Sample locates in :\nXXX-0.0.1-SNAPSHOT\\BOOT-INF\\classes\\static\\Sample.txt </p>\n\n<p>Can someone help me please ?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","swing","jbutton","jprogressbar"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1648632980,"post_id":71674813,"comment_id":126671715,"body_markdown":"Unrelated to your issue: [Java, setting layout to null](https://stackoverflow.com/questions/33249871/java-setting-layout-to-null) and [Java naming convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"Unrelated to your issue: <a href=\"https://stackoverflow.com/questions/33249871/java-setting-layout-to-null\">Java, setting layout to null</a> and <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming convention</a>"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1648633126,"post_id":71674813,"comment_id":126671789,"body_markdown":"Does this answer your question? [What&#39;s the point of setDefaultCloseOperation(WindowConstants.EXIT\\_ON\\_CLOSE);?](https://stackoverflow.com/questions/32077449/whats-the-point-of-setdefaultcloseoperationwindowconstants-exit-on-close)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32077449/whats-the-point-of-setdefaultcloseoperationwindowconstants-exit-on-close\">What&#39;s the point of setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);?</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1648635078,"post_id":71674813,"comment_id":126672600,"body_markdown":"Swing is lazy when it comes to laying its components.  If you make the window visible and then add new components, then you must ensure that you&#39;re telling the parent container that it needs to `revalidate` and `repaint` it&#39;s contents - but most of your issues are most likely associated with the `null` layout. Consider providing a [mcve]","body":"Swing is lazy when it comes to laying its components.  If you make the window visible and then add new components, then you must ensure that you&#39;re telling the parent container that it needs to <code>revalidate</code> and <code>repaint</code> it&#39;s contents - but most of your issues are most likely associated with the <code>null</code> layout. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":24743752,"reputation":1,"user_id":18630179,"display_name":"ashii0322"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648632775,"creation_date":1648632775,"question_id":71674813,"body_markdown":"I&#39;m creating a Loading Page for our group project, but every time I call the loading page class, it is invisible.\r\n\r\nHere is my Main class:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tnew caller();\r\n\t\t\r\n\t}\r\n\r\nHere is the button that when you click you will go into the loading page class.\r\n\r\n\r\n\tJFrame frame = new JFrame();\r\n\tJButton btn = new JButton(&quot;Press me!&quot;);\r\n\t\r\n\tcaller(){\r\n        \r\n\t\tbtn.setBounds(20, 30, 120, 50);\r\n\t\tbtn.setFocusable(false);\r\n\t\tbtn.addActionListener(this);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tframe.setSize(420, 420);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLayout(null);\r\n\t\tframe.add(btn);\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tif(e.getSource()==btn) {\r\n\t\t\t\r\n\t\t\tframe.dispose();\r\n\t\t\tnew loading_page();\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nAnd here is the loading page class\r\n\r\n\r\n\t JLabel lablab = new JLabel();\r\n\t JProgressBar bar = new JProgressBar();\r\n\t JFrame frame = new JFrame();\r\n\t\r\n\tloading_page(){\r\n\t\t\r\n\t\tlablab.setBackground(Color.WHITE);\r\n\t\tlablab.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlablab.setIcon(new ImageIcon(&quot;C:\\\\Users\\\\KHAdmin\\\\Documents\\\\Pictures\\\\giphy.gif&quot;));\r\n\t\tlablab.setBounds(65, 40, 367, 215);\r\n\t\t\r\n\t\tbar.setForeground(Color.cyan);\r\n\t\tbar.setBounds(10, 300, 480, 17);\r\n\t\tbar.setValue(0);\r\n\t\tbar.setStringPainted(true);\r\n\t\tbar.setFont(new Font(&quot;MV Boli&quot;, Font.BOLD, 15));\r\n\t\tbar.setForeground(Color.CYAN);\r\n\t\tbar.setBackground(Color.BLACK);\r\n\t\t\r\n\t\tframe.setUndecorated(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setBounds(400, 200, 500, 335);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLayout(null);\r\n\t\t\r\n\t\tframe.getContentPane().setBackground(Color.BLACK);\r\n\t\tframe.getContentPane().add(lablab);\r\n\t\tframe.getContentPane().add(bar);\r\n\t\t\r\n\t\t\r\n\t\tint counter =0;\r\n\t\t\r\n\t\twhile(counter&lt;=100) {\r\n\t\t\t\r\n\t\t\tbar.setValue(counter);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(50);\r\n\t\t\t\tif(counter==100) {\r\n\t\t\t\t\tframe.dispose();\r\n\t\t\t\t}\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tcounter +=1;\r\n\t\t\r\n\t}\r\n\t\t{\r\n\t\t\tnew caller();\r\n\t\t}\r\n    }\r\n\r\nI think it&#39;s in the while(counter&lt;==100) statement.\r\nI used the frame dispose to dispose the frame from the previous class, but when the system call the 3rd class which is the loading page class, it&#39;s invisible.  ","title":"Why my frame is invisible every time I call it from the JButton?","body":"<p>I'm creating a Loading Page for our group project, but every time I call the loading page class, it is invisible.</p>\n<p>Here is my Main class:</p>\n<pre><code>public static void main(String[] args) {\n    \n    new caller();\n    \n}\n</code></pre>\n<p>Here is the button that when you click you will go into the loading page class.</p>\n<pre><code>JFrame frame = new JFrame();\nJButton btn = new JButton(&quot;Press me!&quot;);\n\ncaller(){\n    \n    btn.setBounds(20, 30, 120, 50);\n    btn.setFocusable(false);\n    btn.addActionListener(this);\n    \n    \n    \n    frame.setSize(420, 420);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    frame.setLayout(null);\n    frame.add(btn);\n    \n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n    \n    if(e.getSource()==btn) {\n        \n        frame.dispose();\n        new loading_page();\n        \n        \n    }\n}\n</code></pre>\n<p>And here is the loading page class</p>\n<pre><code> JLabel lablab = new JLabel();\n JProgressBar bar = new JProgressBar();\n JFrame frame = new JFrame();\n\nloading_page(){\n    \n    lablab.setBackground(Color.WHITE);\n    lablab.setHorizontalAlignment(SwingConstants.CENTER);\n    lablab.setIcon(new ImageIcon(&quot;C:\\\\Users\\\\KHAdmin\\\\Documents\\\\Pictures\\\\giphy.gif&quot;));\n    lablab.setBounds(65, 40, 367, 215);\n    \n    bar.setForeground(Color.cyan);\n    bar.setBounds(10, 300, 480, 17);\n    bar.setValue(0);\n    bar.setStringPainted(true);\n    bar.setFont(new Font(&quot;MV Boli&quot;, Font.BOLD, 15));\n    bar.setForeground(Color.CYAN);\n    bar.setBackground(Color.BLACK);\n    \n    frame.setUndecorated(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setBounds(400, 200, 500, 335);\n    frame.setVisible(true);\n    frame.setLayout(null);\n    \n    frame.getContentPane().setBackground(Color.BLACK);\n    frame.getContentPane().add(lablab);\n    frame.getContentPane().add(bar);\n    \n    \n    int counter =0;\n    \n    while(counter&lt;=100) {\n        \n        bar.setValue(counter);\n        try {\n            Thread.sleep(50);\n            if(counter==100) {\n                frame.dispose();\n            }\n        } catch (InterruptedException e) {\n            \n            e.printStackTrace();\n        }\n        counter +=1;\n    \n}\n    {\n        new caller();\n    }\n}\n</code></pre>\n<p>I think it's in the while(counter&lt;==100) statement.\nI used the frame dispose to dispose the frame from the previous class, but when the system call the 3rd class which is the loading page class, it's invisible.</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1648720498,"post_id":71674603,"comment_id":126698510,"body_markdown":"Does this answer your question? [Unfortunately MyApp has stopped. How can I solve this?](https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648632762,"creation_date":1648632762,"answer_id":71674810,"question_id":71674603,"body_markdown":"The issue is that you are not opening the activity. Only giving a context view without executing the code. This bad. Whenever you want to go to another activity, use this code:\r\n```java\r\nIntent intent = new Intent(this, OtherActivity.class);\r\nstartActivity(intent);\r\n```\r\n\r\nAlso in the `onBackpressed` I see that you are just doing `setContentView`. Don&#39;t do that. Use this instead:\r\n```java\r\nfinish();\r\n```","title":"WebView will not load when in another layout, but works fine in main","body":"<p>The issue is that you are not opening the activity. Only giving a context view without executing the code. This bad. Whenever you want to go to another activity, use this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(this, OtherActivity.class);\nstartActivity(intent);\n</code></pre>\n<p>Also in the <code>onBackpressed</code> I see that you are just doing <code>setContentView</code>. Don't do that. Use this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>finish();\n</code></pre>\n"}],"owner":{"account_id":23445723,"reputation":29,"user_id":17502575,"display_name":"Andrew Dawson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648632762,"creation_date":1648631914,"question_id":71674603,"body_markdown":"I am working on an android project that reqires a home screen that I just have image buttons on for the time being, but would like to access different layouts, it access the different layouts just fine, but when using the same code for webview, webview refuses to load and just displays a blank screen, the same code worked fine on the main activity, but is giving me trouble now and im not sure where to go from here, I only have an image on the second activity as a sanity check that my buttons were going to the right places \r\n\r\nMain Activity\r\n```\r\npackage com.example.bsc_group;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_main);\r\n        ImageButton foodButton = (ImageButton) findViewById(R.id.imageButtonFood);\r\n        foodButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n            }\r\n        });\r\n\r\n        ImageButton techButton = (ImageButton) findViewById(R.id.imageButtonTech);\r\n        techButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n            }\r\n        });\r\n\r\n        ImageButton calendarButton = (ImageButton) findViewById(R.id.imageButtonCalendar);\r\n        calendarButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                setContentView(R.layout.bcs_calendar_widget);\r\n            }\r\n        });\r\n    }\r\n}\r\n``` \r\nSecond activity\r\n```\r\npackage com.example.bsc_group;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ArrayAdapter;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\npublic class BcsCalendarWidget extends AppCompatActivity {\r\n    public WebView webView;\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        webView = findViewById(R.id.webviewWidget);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(&quot;https://google.com&quot;);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        setContentView(R.layout.bcs_calendar_widget);\r\n        {\r\n            //Spinner spinnerBcsListings = findViewById(R.id.spinner_bcs_group);\r\n            //ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.bcs_group_listings, android.R.layout.simple_spinner_item);\r\n            //adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\r\n            //spinnerBcsListings.setAdapter(adapter);\r\n        }\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()){\r\n            webView.goBack();\r\n        }else {\r\n            setContentView(R.layout.activity_main);}\r\n    }\r\n}\r\n```\r\nXML file for second activity\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webviewWidget&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;/WebView&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher_foreground&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"WebView will not load when in another layout, but works fine in main","body":"<p>I am working on an android project that reqires a home screen that I just have image buttons on for the time being, but would like to access different layouts, it access the different layouts just fine, but when using the same code for webview, webview refuses to load and just displays a blank screen, the same code worked fine on the main activity, but is giving me trouble now and im not sure where to go from here, I only have an image on the second activity as a sanity check that my buttons were going to the right places</p>\n<p>Main Activity</p>\n<pre><code>package com.example.bsc_group;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.ImageButton;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main);\n        ImageButton foodButton = (ImageButton) findViewById(R.id.imageButtonFood);\n        foodButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n            }\n        });\n\n        ImageButton techButton = (ImageButton) findViewById(R.id.imageButtonTech);\n        techButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n            }\n        });\n\n        ImageButton calendarButton = (ImageButton) findViewById(R.id.imageButtonCalendar);\n        calendarButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                setContentView(R.layout.bcs_calendar_widget);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Second activity</p>\n<pre><code>package com.example.bsc_group;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.ArrayAdapter;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\npublic class BcsCalendarWidget extends AppCompatActivity {\n    public WebView webView;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        webView = findViewById(R.id.webviewWidget);\n        webView.setWebViewClient(new WebViewClient());\n        webView.loadUrl(&quot;https://google.com&quot;);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        setContentView(R.layout.bcs_calendar_widget);\n        {\n            //Spinner spinnerBcsListings = findViewById(R.id.spinner_bcs_group);\n            //ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.bcs_group_listings, android.R.layout.simple_spinner_item);\n            //adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\n            //spinnerBcsListings.setAdapter(adapter);\n        }\n    }\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()){\n            webView.goBack();\n        }else {\n            setContentView(R.layout.activity_main);}\n    }\n}\n</code></pre>\n<p>XML file for second activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;WebView\n        android:id=&quot;@+id/webviewWidget&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;/WebView&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:srcCompat=&quot;@mipmap/ic_launcher_foreground&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-framework-beans"],"comments":[{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1507116692,"post_id":46563392,"comment_id":80080887,"body_markdown":"you&#39;re right .. it duplicates another question: https://stackoverflow.com/questions/41754712/spring-boot-reading-text-file-using-resourceloader Please try to even google one time before posting useless questions..","body":"you&#39;re right .. it duplicates another question: <a href=\"https://stackoverflow.com/questions/41754712/spring-boot-reading-text-file-using-resourceloader\" title=\"spring boot reading text file using resourceloader\">stackoverflow.com/questions/41754712/&hellip;</a> Please try to even google one time before posting useless questions.."},{"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"score":0,"creation_date":1507116976,"post_id":46563392,"comment_id":80081069,"body_markdown":"you cannot get file from a `jar`.. try fetch the file as stream..","body":"you cannot get file from a <code>jar</code>.. try fetch the file as stream.."}],"answers":[{"tags":[],"owner":{"account_id":7838072,"reputation":86,"user_id":5925321,"display_name":"becem wniss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507117073,"creation_date":1507117073,"answer_id":46563880,"question_id":46563392,"body_markdown":"try to use the code below to access files in ressources folder with spring boot\r\n\r\n     File file = new ClassPathResource(&quot;schema.graphql&quot;).getFile();","title":"Reading file available in resources folder with SpringBoot","body":"<p>try to use the code below to access files in ressources folder with spring boot</p>\n\n<pre><code> File file = new ClassPathResource(\"schema.graphql\").getFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9927857,"reputation":1692,"user_id":7348815,"accept_rate":73,"display_name":"Aliaksei Stadnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507117147,"creation_date":1507117147,"answer_id":46563905,"question_id":46563392,"body_markdown":"You could use [ClassPathResource][1]\r\n\r\nSmth like this : \r\n\r\n    InputStream inputStream = new ClassPathResource(&quot;schema.graphql&quot;).getInputStream();\r\n\r\nOr \r\n\r\n    File file = new ClassPathResource(&quot;schema.graphql&quot;).getFile();\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html","title":"Reading file available in resources folder with SpringBoot","body":"<p>You could use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html\" rel=\"nofollow noreferrer\">ClassPathResource</a></p>\n\n<p>Smth like this : </p>\n\n<pre><code>InputStream inputStream = new ClassPathResource(\"schema.graphql\").getInputStream();\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>File file = new ClassPathResource(\"schema.graphql\").getFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648632200,"creation_date":1648632200,"answer_id":71674679,"question_id":46563392,"body_markdown":"Adding the answer from [here][1],\r\nAccessing the `ClassPathResource` and copying the content to a `String`\r\n\r\n    try {\r\n       ClassPathResource classPathResource = new ClassPathResource(&quot;schema.graphql&quot;);\r\n       byte[] data = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\r\n       String content = new String(data, StandardCharsets.UTF_8);\r\n    } catch (Exception ex) {\r\n      ex.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69687770/8440358","title":"Reading file available in resources folder with SpringBoot","body":"<p>Adding the answer from <a href=\"https://stackoverflow.com/a/69687770/8440358\">here</a>,\nAccessing the <code>ClassPathResource</code> and copying the content to a <code>String</code></p>\n<pre><code>try {\n   ClassPathResource classPathResource = new ClassPathResource(&quot;schema.graphql&quot;);\n   byte[] data = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\n   String content = new String(data, StandardCharsets.UTF_8);\n} catch (Exception ex) {\n  ex.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":7187561,"reputation":31,"user_id":5489038,"display_name":"user5489038"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4196,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1648632310,"creation_date":1507115516,"question_id":46563392,"body_markdown":"I am going to read a file available in resources folder in my Springboot application. I have used ResourceLoader to do it. But I get a FileNotFoundException when I try to execute my application.\r\n\r\n    Error creating bean with name &#39;demoController&#39;: Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [schema.graphql] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/dilan/Projects/demo/target/demo.jar!/BOOT-INF/classes!/schema.graphql\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\r\n\r\n\r\nBelow is my Code \r\n\r\n     @Autowired\r\n    private ResourceLoader resourceLoader;\r\n\r\n    final Resource fileResource = resourceLoader.getResource(&quot;classpath:schema.graphql&quot;);\r\n    File schemaFile = fileResource.getFile();\r\n    TypeDefinitionRegistry definitionRegistry = new SchemaParser().parse(schemaFile);\r\n    RuntimeWiring wiring = buildRuntimeWiring();\r\n\r\nCan anybody please help me to sort this out\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VxhXY.png","title":"Reading file available in resources folder with SpringBoot","body":"<p>I am going to read a file available in resources folder in my Springboot application. I have used ResourceLoader to do it. But I get a FileNotFoundException when I try to execute my application.</p>\n<pre><code>Error creating bean with name 'demoController': Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [schema.graphql] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/dilan/Projects/demo/target/demo.jar!/BOOT-INF/classes!/schema.graphql\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar!/:4.3.9.RELEASE]\n</code></pre>\n<p>Below is my Code</p>\n<pre><code> @Autowired\nprivate ResourceLoader resourceLoader;\n\nfinal Resource fileResource = resourceLoader.getResource(&quot;classpath:schema.graphql&quot;);\nFile schemaFile = fileResource.getFile();\nTypeDefinitionRegistry definitionRegistry = new SchemaParser().parse(schemaFile);\nRuntimeWiring wiring = buildRuntimeWiring();\n</code></pre>\n<p>Can anybody please help me to sort this out</p>\n<p><img src=\"https://i.stack.imgur.com/VxhXY.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1648631241,"post_id":71674390,"comment_id":126671023,"body_markdown":"Check the constraints on this table and make sure that this particular insert is not violating those constraints.  Most likely it is.","body":"Check the constraints on this table and make sure that this particular insert is not violating those constraints.  Most likely it is."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1648631513,"post_id":71674390,"comment_id":126671112,"body_markdown":"Read also https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms","body":"Read also <a href=\"https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms\" title=\"why should i tag my rdbms\">meta.stackoverflow.com/questions/388759/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648632101,"creation_date":1648632101,"answer_id":71674653,"question_id":71674390,"body_markdown":"From error : you are trying to insert NULL value into PRIMARY KEY column, which obviously has not null constraint.\r\nYou are expecting DB to take care of generating ID for your entity - what i see from generation type strategy.\r\nYou are probably using H2 DB ? So check table definition.\r\nYour primary key should be of type &#39;bigint&#39; (http://www.h2database.com/html/datatypes.html#bigint_type).\r\n\r\nAbout identity in H2, documentation says:\r\n\r\n&gt; Identity column is a column generated with a sequence. The column declared as the identity column with IDENTITY data type or with IDENTITY () clause is implicitly the primary key column of this table. GENERATED ALWAYS AS IDENTITY, GENERATED BY DEFAULT AS IDENTITY, and AUTO_INCREMENT clauses do not create the primary key constraint automatically. GENERATED ALWAYS AS IDENTITY clause indicates that column can only be generated by the sequence, its value cannot be set explicitly. Identity column has implicit NOT NULL constraint. Identity column may not have DEFAULT or ON UPDATE expressions.\r\n\r\nSo your SQL should looks something like this :\r\n\r\n    CREATE TABLE TEST(\r\n         ID BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\r\n         ...);\r\n\r\nI ma guessing you are using JPA (from the annotations). So if you are letting JPA to generate table for you, check table in H2 console as i mentioned earlier. \r\n\r\nThis would be my first step from information you provided.\r\nHope this helps","title":"NULL not allowed for column &quot;ID&quot;; SQL statement","body":"<p>From error : you are trying to insert NULL value into PRIMARY KEY column, which obviously has not null constraint.\nYou are expecting DB to take care of generating ID for your entity - what i see from generation type strategy.\nYou are probably using H2 DB ? So check table definition.\nYour primary key should be of type 'bigint' (<a href=\"http://www.h2database.com/html/datatypes.html#bigint_type\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/datatypes.html#bigint_type</a>).</p>\n<p>About identity in H2, documentation says:</p>\n<blockquote>\n<p>Identity column is a column generated with a sequence. The column declared as the identity column with IDENTITY data type or with IDENTITY () clause is implicitly the primary key column of this table. GENERATED ALWAYS AS IDENTITY, GENERATED BY DEFAULT AS IDENTITY, and AUTO_INCREMENT clauses do not create the primary key constraint automatically. GENERATED ALWAYS AS IDENTITY clause indicates that column can only be generated by the sequence, its value cannot be set explicitly. Identity column has implicit NOT NULL constraint. Identity column may not have DEFAULT or ON UPDATE expressions.</p>\n</blockquote>\n<p>So your SQL should looks something like this :</p>\n<pre><code>CREATE TABLE TEST(\n     ID BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n     ...);\n</code></pre>\n<p>I ma guessing you are using JPA (from the annotations). So if you are letting JPA to generate table for you, check table in H2 console as i mentioned earlier.</p>\n<p>This would be my first step from information you provided.\nHope this helps</p>\n"}],"owner":{"account_id":22259263,"reputation":1,"user_id":16490951,"display_name":"tiago ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648632101,"creation_date":1648630904,"question_id":71674390,"body_markdown":"Helllo, I&#39;ve been trying to create an Entity named ContratoAluguer, however each time I try to create this Entity the following error occurs:\r\n\r\n```Exception in thread &quot;main&quot; javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;ID&quot;; SQL statement:\r\nINSERT INTO CONTRATOALUGUER (CLIENT_ID, AUTOMOVEL_ID) VALUES (?, ?) [23502-200]\r\nError Code: 23502\r\nCall: INSERT INTO CONTRATOALUGUER (CLIENT_ID, AUTOMOVEL_ID) VALUES (?, ?)\r\n\tbind =&gt; [2 parameters bound] \r\n    \r\n\r\n-----------------------Entity Code Below-----------\r\n\r\n    package isep.eapli.demo_orm.domain;\r\n\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n\r\n    @Entity\r\n    public class ContratoAluguer {\r\n\r\n    @OneToOne\r\n    private Automovel automovel;\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ContratoId&quot;)\r\n    private List&lt;CondutorAutorizado&gt; condutorAutorizadoList;\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    private Cliente client;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public ContratoAluguer(Automovel automovel, List&lt;CondutorAutorizado&gt; condutorAutorizadoList, Cliente client) {\r\n        this.automovel = automovel;\r\n        this.condutorAutorizadoList = condutorAutorizadoList;\r\n        this.client = client;\r\n    }\r\n","title":"NULL not allowed for column &quot;ID&quot;; SQL statement","body":"<p>Helllo, I've been trying to create an Entity named ContratoAluguer, however each time I try to create this Entity the following error occurs:</p>\n<pre><code>Internal Exception: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;ID&quot;; SQL statement:\nINSERT INTO CONTRATOALUGUER (CLIENT_ID, AUTOMOVEL_ID) VALUES (?, ?) [23502-200]\nError Code: 23502\nCall: INSERT INTO CONTRATOALUGUER (CLIENT_ID, AUTOMOVEL_ID) VALUES (?, ?)\n    bind =&gt; [2 parameters bound] \n    \n\n-----------------------Entity Code Below-----------\n\n    package isep.eapli.demo_orm.domain;\n\n    import javax.persistence.*;\n    import java.util.List;\n\n    @Entity\n    public class ContratoAluguer {\n\n    @OneToOne\n    private Automovel automovel;\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;ContratoId&quot;)\n    private List&lt;CondutorAutorizado&gt; condutorAutorizadoList;\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Cliente client;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public ContratoAluguer(Automovel automovel, List&lt;CondutorAutorizado&gt; condutorAutorizadoList, Cliente client) {\n        this.automovel = automovel;\n        this.condutorAutorizadoList = condutorAutorizadoList;\n        this.client = client;\n    }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1648625334,"post_id":71673019,"comment_id":126668771,"body_markdown":"The stream only performs 1 passthrough when you do the terminal operation, so in order to do the filtering you have to already know the maximum. Hence, you need to find the maximum first, as you&#39;ve already done.","body":"The stream only performs 1 passthrough when you do the terminal operation, so in order to do the filtering you have to already know the maximum. Hence, you need to find the maximum first, as you&#39;ve already done."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1648625394,"post_id":71673019,"comment_id":126668798,"body_markdown":"By the way, be aware that a stream can only be collected once. You should start with a `List&lt;MyObject&gt;` or something and make 2 streams out of it. One for getting the maximum and the second for the filter+map.","body":"By the way, be aware that a stream can only be collected once. You should start with a <code>List&lt;MyObject&gt;</code> or something and make 2 streams out of it. One for getting the maximum and the second for the filter+map."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1648626391,"post_id":71673019,"comment_id":126669202,"body_markdown":"Did you mean `.max(Comparator.naturalOrder())` or `.max(Comparator.comparing(MyObject::getSome))`? Seems the comparable type is `Some`, from your comments, not `MyObject`.","body":"Did you mean <code>.max(Comparator.naturalOrder())</code> or <code>.max(Comparator.comparing(MyObject::getSome))</code>? Seems the comparable type is <code>Some</code>, from your comments, not <code>MyObject</code>."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648632051,"creation_date":1648625869,"answer_id":71673296,"question_id":71673019,"body_markdown":"If you have to do in one pass, you can write a custom Collector to reduce the stream into a list of max elements. Here&#39;s an implementation based on [this answer](https://stackoverflow.com/questions/29334404/how-to-force-max-to-return-all-maximum-values-in-a-java-stream/29339106#29339106) by Stuart Marks.\r\n\r\n\r\n    List&lt;MyObject&gt; maxList = list.stream()\r\n                                 .collect(maxList(Comparator.comparing(MyObject::getSome)));\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; maxList(Comparator&lt;? super T&gt; comp) {\r\n        return Collector.of(\r\n            ArrayList::new,\r\n            (list, t) -&gt; {\r\n                int c;\r\n                if (list.isEmpty() || (c = comp.compare(t, list.get(0))) == 0) {\r\n                    list.add(t);\r\n                } else if (c &gt; 0) {\r\n                    list.clear();\r\n                    list.add(t);\r\n                }\r\n            },\r\n            (list1, list2) -&gt; {\r\n                if (list1.isEmpty()) {\r\n                    return list2;\r\n                } \r\n                if (list2.isEmpty()) {\r\n                    return list1;\r\n                }\r\n                int r = comp.compare(list1.get(0), list2.get(0));\r\n                if (r &lt; 0) {\r\n                    return list2;\r\n                } else if (r &gt; 0) {\r\n                    return list1;\r\n                } else {\r\n                    list1.addAll(list2);\r\n                    return list1;\r\n                }\r\n            });\r\n    }\r\n\r\nThe Collector will maintain an ArrayList to be used for the result, and accumulate each element into it, checking how the element compares to the first element of the current list. The part `c = comp.compare(t, list.get(0))) == 0` will check if the element has the same max value, and if so will add it to the list.","title":"How can I filter stream by some max value from it?","body":"<p>If you have to do in one pass, you can write a custom Collector to reduce the stream into a list of max elements. Here's an implementation based on <a href=\"https://stackoverflow.com/questions/29334404/how-to-force-max-to-return-all-maximum-values-in-a-java-stream/29339106#29339106\">this answer</a> by Stuart Marks.</p>\n<pre><code>List&lt;MyObject&gt; maxList = list.stream()\n                             .collect(maxList(Comparator.comparing(MyObject::getSome)));\n\nstatic &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; maxList(Comparator&lt;? super T&gt; comp) {\n    return Collector.of(\n        ArrayList::new,\n        (list, t) -&gt; {\n            int c;\n            if (list.isEmpty() || (c = comp.compare(t, list.get(0))) == 0) {\n                list.add(t);\n            } else if (c &gt; 0) {\n                list.clear();\n                list.add(t);\n            }\n        },\n        (list1, list2) -&gt; {\n            if (list1.isEmpty()) {\n                return list2;\n            } \n            if (list2.isEmpty()) {\n                return list1;\n            }\n            int r = comp.compare(list1.get(0), list2.get(0));\n            if (r &lt; 0) {\n                return list2;\n            } else if (r &gt; 0) {\n                return list1;\n            } else {\n                list1.addAll(list2);\n                return list1;\n            }\n        });\n}\n</code></pre>\n<p>The Collector will maintain an ArrayList to be used for the result, and accumulate each element into it, checking how the element compares to the first element of the current list. The part <code>c = comp.compare(t, list.get(0))) == 0</code> will check if the element has the same max value, and if so will add it to the list.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648627368,"creation_date":1648627368,"answer_id":71673618,"question_id":71673019,"body_markdown":"If you&#39;re on Java 12+, you can use `Collectors.teeing`:\r\n\r\n\tList&lt;Other&gt; maxObjects = list.stream().collect(\r\n        Collectors.teeing(\r\n\t\t\tCollectors.maxBy(Comparator.comparing(MyObject::getSome)),\r\n\t\t\tCollectors.groupingBy(\r\n\t\t\t\tMyObject::getSome,\r\n\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\tMyObject::getValue, \r\n\t\t\t\t\tCollectors.toList())),\r\n\t\t\t(max, groups) -&gt; max.map(MyObject::getSome).map(groups::get).orElse(null)));","title":"How can I filter stream by some max value from it?","body":"<p>If you're on Java 12+, you can use <code>Collectors.teeing</code>:</p>\n<pre><code>List&lt;Other&gt; maxObjects = list.stream().collect(\n    Collectors.teeing(\n        Collectors.maxBy(Comparator.comparing(MyObject::getSome)),\n        Collectors.groupingBy(\n            MyObject::getSome,\n            Collectors.mapping(\n                MyObject::getValue, \n                Collectors.toList())),\n        (max, groups) -&gt; max.map(MyObject::getSome).map(groups::get).orElse(null)));\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1648631015,"accepted_answer_id":71673296,"answer_count":2,"score":2,"last_activity_date":1648632051,"creation_date":1648624657,"question_id":71673019,"body_markdown":"Let&#39;s say I have a stream of following object.\r\n\r\n```java\r\nclass MyObject {\r\n    private Some some; // Comparable\r\n    private Other value\r\n}\r\n```\r\n\r\nIs there any idiom doing following things in a single chain?\r\n\r\n* With given `Stream&lt;MyObject&gt;`,\r\n* Finds the maximum value of `some`.\r\n* Map `value`s whose `some` is the maximum.\r\n\r\nas if,\r\n\r\n```java\r\nfinal List&lt;MyObject&gt; list = getList();\r\nfinal Some max = list.stream().max(Comparator.naturalOrder())\r\nfinal List&lt;Other&gt; list = list.stream()\r\n        .filter(e -&gt; Objects.equals(e.some, max)\r\n        .map(e -&gt; e.getValue()).collect(toList());\r\n```\r\n\r\n","title":"How can I filter stream by some max value from it?","body":"<p>Let's say I have a stream of following object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyObject {\n    private Some some; // Comparable\n    private Other value\n}\n</code></pre>\n<p>Is there any idiom doing following things in a single chain?</p>\n<ul>\n<li>With given <code>Stream&lt;MyObject&gt;</code>,</li>\n<li>Finds the maximum value of <code>some</code>.</li>\n<li>Map <code>value</code>s whose <code>some</code> is the maximum.</li>\n</ul>\n<p>as if,</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;MyObject&gt; list = getList();\nfinal Some max = list.stream().max(Comparator.naturalOrder())\nfinal List&lt;Other&gt; list = list.stream()\n        .filter(e -&gt; Objects.equals(e.some, max)\n        .map(e -&gt; e.getValue()).collect(toList());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1648090772,"post_id":71596555,"comment_id":126538520,"body_markdown":"Do you *close* the file after creation and before trying to use InputStream with it?","body":"Do you <i>close</i> the file after creation and before trying to use InputStream with it?"},{"owner":{"display_name":"user1191027"},"score":0,"creation_date":1648090937,"post_id":71596555,"comment_id":126538543,"body_markdown":"@HovercraftFullOfEels: I added the code that writes to `file`","body":"@HovercraftFullOfEels: I added the code that writes to <code>file</code>"},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1648091162,"post_id":71596555,"comment_id":126538567,"body_markdown":"What is your build environment? How are you running your (I assume) test? Normally the resources are copied to the build/target directory where your class files are. The src directory is usually not part of your classpath.","body":"What is your build environment? How are you running your (I assume) test? Normally the resources are copied to the build/target directory where your class files are. The src directory is usually not part of your classpath."},{"owner":{"display_name":"user1191027"},"score":0,"creation_date":1648091211,"post_id":71596555,"comment_id":126538571,"body_markdown":"@HopeyOne: I&#39;m using maven. I append `src/test/resources` to the filename in the unit test so that it creates the temp file in `test/resources` instead of `main/resources`","body":"@HopeyOne: I&#39;m using maven. I append <code>src&#47;test&#47;resources</code> to the filename in the unit test so that it creates the temp file in <code>test&#47;resources</code> instead of <code>main&#47;resources</code>"},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1648091801,"post_id":71596555,"comment_id":126538634,"body_markdown":"@ThreaT , I think the default for maven is that your resources would be copied to the target/test-classes directory which is why you will find it when you create the file beforehand. Where are you writing your on-the-fly test file?","body":"@ThreaT , I think the default for maven is that your resources would be copied to the target/test-classes directory which is why you will find it when you create the file beforehand. Where are you writing your on-the-fly test file?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648093551,"post_id":71596555,"comment_id":126538846,"body_markdown":"The `src` directory isn&#39;t there at runtime, and resources are (a) not in a file system and (b) read-only.","body":"The <code>src</code> directory isn&#39;t there at runtime, and resources are (a) not in a file system and (b) read-only."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648123228,"creation_date":1648091187,"answer_id":71596596,"question_id":71596555,"body_markdown":"The `getResourceAsStream` system _fundamentally_ doesn&#39;t &quot;do&quot; writes. That method will retrieve a resource from wherever the system is loaded classes from, and there is no guarantee that &#39;whereever&#39; that might be supports the notion of writing. In fact, _all_ available places it could be coming from do not support it.. _except_ running from &#39;raw&#39; class files. Which is a situation that generally only holds during development, thus, making this a pointless exercise.\r\n\r\nHence, the code you wrote does not work and cannot be made to work. If you want to write data, `getResourceAsStream` cannot be involved in the process.\r\n\r\nMore generally, code is in locations that you can&#39;t write to. Or, should be - a few backwater OSes have crazy bad security defaults and allow you to do so. This simply means said OS sucks, not that you should run right off the cliff after them. Hence, any hackery (which is certainly available, but fragile, as it requires certain classpath setups that java doesn&#39;t guarantee) should be avoided - all you&#39;ll end up obtaining is a directory that you can&#39;t write to. Or shouldn&#39;t be writing to.\r\n\r\nThe correct place to store data is.. not &#39;next to / inside the jar&#39;. It&#39;s in the user&#39;s home dir, the &#39;Documents&#39; dir, or some location configured by the user.\r\n\r\nYou can get to a user&#39;s home dir with `Paths.get(System.getProperty(&quot;user.home&quot;))`.\r\n\r\n## ADDENDUM: Testing with `getResourceAsStream`.\r\n\r\nIf you want to modify what a certain gRAS call returns for testing purposes, you have a few broad options.\r\n\r\n### Best option: test resources\r\n\r\ngRAS can read from anywhere on the classpath, and during test runs, your test stuff _is in there_&lt;sup&gt;1&lt;/sup&gt;. Hence, all you really need is to parameterize the string you pass to gRAS, so that test runs can use a different string there. Then, store the test data there. If you need to generate that stuff on the fly, have a separate tiny little app in your test source code that makes it, and then just stick it in the usual `src/test/resources` (And check it in). Randomness in tests is annoying, don&#39;t add it if there&#39;s no good reason for it.\r\n\r\n### Alternative 1: mock it\r\n\r\nI&#39;m not as familiar with these technologies, but some seem to really like it: You can mock out various parts of the system with mocking libraries, thus, you can mock out what `gRAS` returns and return custom InputStreams, e.g. created with:\r\n\r\n```java\r\nString testData = &quot;Here is my test data I just generated&quot;;\r\nreturn new ByteArrayInputStream(testData.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\n### Alternative 2: Classloader\r\n\r\nYou can write your own ClassLoader and respond however you please when the system asks you for a resource. This is the _point_ of them: If you want to write a java app where classes aren&#39;t loaded from a jar file but instead pulled over a network, you can do that, by writing your own ClassLoader. You can even generate the class files on the fly, or take existing ones and modify them with bytecode introspection libraries such as ASM or BCEL, etc. You could write your own and have a system whereby the test code can tell this custom classloader of yours: If anybody asks for &quot;/com/foo/data.txt&quot;, just return this data instead of the actual contents of that resource.\r\n\r\nIt&#39;s a little bit involved - start by reading the javadoc of ClassLoader and search the web for a few examples and tutorials, there should be plenty around. This feels like a bit of a heavyhanded solution for the problem, though. However, it most accurately answers the question: &quot;I want to generate what getResourceAsStream returns from my own code, on the fly&quot;.\r\n\r\n\r\n[1] Usually. gRAS calls boil down to &#39;the classloader&#39; and there are fancypants test setups that stick the test stuff in a separate classloader from the main app stuff - and in that case `gRAS` would no longer be able to find it. The primary aim of such an exercise is to ensure that no application code actually uses anything in the test code, as the point is that the test code isn&#39;t there at all during production (but how do you test that - with modular classloaders). However, TestNG and JUnit both, as far as I know, don&#39;t do this out of the box. So you should be fine.\r\n","title":"File Not Found when reading a file created during runtime as resource","body":"<p>The <code>getResourceAsStream</code> system <em>fundamentally</em> doesn't &quot;do&quot; writes. That method will retrieve a resource from wherever the system is loaded classes from, and there is no guarantee that 'whereever' that might be supports the notion of writing. In fact, <em>all</em> available places it could be coming from do not support it.. <em>except</em> running from 'raw' class files. Which is a situation that generally only holds during development, thus, making this a pointless exercise.</p>\n<p>Hence, the code you wrote does not work and cannot be made to work. If you want to write data, <code>getResourceAsStream</code> cannot be involved in the process.</p>\n<p>More generally, code is in locations that you can't write to. Or, should be - a few backwater OSes have crazy bad security defaults and allow you to do so. This simply means said OS sucks, not that you should run right off the cliff after them. Hence, any hackery (which is certainly available, but fragile, as it requires certain classpath setups that java doesn't guarantee) should be avoided - all you'll end up obtaining is a directory that you can't write to. Or shouldn't be writing to.</p>\n<p>The correct place to store data is.. not 'next to / inside the jar'. It's in the user's home dir, the 'Documents' dir, or some location configured by the user.</p>\n<p>You can get to a user's home dir with <code>Paths.get(System.getProperty(&quot;user.home&quot;))</code>.</p>\n<h2>ADDENDUM: Testing with <code>getResourceAsStream</code>.</h2>\n<p>If you want to modify what a certain gRAS call returns for testing purposes, you have a few broad options.</p>\n<h3>Best option: test resources</h3>\n<p>gRAS can read from anywhere on the classpath, and during test runs, your test stuff <em>is in there</em><sup>1</sup>. Hence, all you really need is to parameterize the string you pass to gRAS, so that test runs can use a different string there. Then, store the test data there. If you need to generate that stuff on the fly, have a separate tiny little app in your test source code that makes it, and then just stick it in the usual <code>src/test/resources</code> (And check it in). Randomness in tests is annoying, don't add it if there's no good reason for it.</p>\n<h3>Alternative 1: mock it</h3>\n<p>I'm not as familiar with these technologies, but some seem to really like it: You can mock out various parts of the system with mocking libraries, thus, you can mock out what <code>gRAS</code> returns and return custom InputStreams, e.g. created with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String testData = &quot;Here is my test data I just generated&quot;;\nreturn new ByteArrayInputStream(testData.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<h3>Alternative 2: Classloader</h3>\n<p>You can write your own ClassLoader and respond however you please when the system asks you for a resource. This is the <em>point</em> of them: If you want to write a java app where classes aren't loaded from a jar file but instead pulled over a network, you can do that, by writing your own ClassLoader. You can even generate the class files on the fly, or take existing ones and modify them with bytecode introspection libraries such as ASM or BCEL, etc. You could write your own and have a system whereby the test code can tell this custom classloader of yours: If anybody asks for &quot;/com/foo/data.txt&quot;, just return this data instead of the actual contents of that resource.</p>\n<p>It's a little bit involved - start by reading the javadoc of ClassLoader and search the web for a few examples and tutorials, there should be plenty around. This feels like a bit of a heavyhanded solution for the problem, though. However, it most accurately answers the question: &quot;I want to generate what getResourceAsStream returns from my own code, on the fly&quot;.</p>\n<p>[1] Usually. gRAS calls boil down to 'the classloader' and there are fancypants test setups that stick the test stuff in a separate classloader from the main app stuff - and in that case <code>gRAS</code> would no longer be able to find it. The primary aim of such an exercise is to ensure that no application code actually uses anything in the test code, as the point is that the test code isn't there at all during production (but how do you test that - with modular classloaders). However, TestNG and JUnit both, as far as I know, don't do this out of the box. So you should be fine.</p>\n"}],"owner":{"display_name":"user1191027"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71596596,"answer_count":1,"score":1,"last_activity_date":1648631879,"creation_date":1648090719,"question_id":71596555,"body_markdown":"This line returns `null` because it can&#39;t find the file:\r\n\r\n`inputStream = getClass().getClassLoader().getResourceAsStream(filename);`\r\n\r\nThe `file` is `src/test/resources/test.tmp`.\r\n\r\nThe `file` is written to like this:\r\n\r\n`Files.write(Paths.get(file.getAbsolutePath()), &quot;test&quot;.getBytes(StandardCharsets.UTF_8));`\r\n\r\nIf I create `file` before running the application then it works but if I create `file` during runtime (like in a unit test) then `inputStream` returns as `null` because `file` is not found.\r\n\r\nHow do I create a file during runtime that can be read from the resources directory as a `Stream`?","title":"File Not Found when reading a file created during runtime as resource","body":"<p>This line returns <code>null</code> because it can't find the file:</p>\n<p><code>inputStream = getClass().getClassLoader().getResourceAsStream(filename);</code></p>\n<p>The <code>file</code> is <code>src/test/resources/test.tmp</code>.</p>\n<p>The <code>file</code> is written to like this:</p>\n<p><code>Files.write(Paths.get(file.getAbsolutePath()), &quot;test&quot;.getBytes(StandardCharsets.UTF_8));</code></p>\n<p>If I create <code>file</code> before running the application then it works but if I create <code>file</code> during runtime (like in a unit test) then <code>inputStream</code> returns as <code>null</code> because <code>file</code> is not found.</p>\n<p>How do I create a file during runtime that can be read from the resources directory as a <code>Stream</code>?</p>\n"},{"tags":["java","c#","websocket"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1648632433,"post_id":71674541,"comment_id":126671483,"body_markdown":"[This answer](https://stackoverflow.com/questions/55328012/how-to-receive-binary-data-in-a-java-websocket-client) points to [this documentation](https://javaee.github.io/javaee-spec/javadocs/javax/websocket/OnMessage.html) which states: _&quot;if the method is handling binary messages:&quot;_ you can use the following parameters: _&quot;byte[] and boolean pair, or ByteBuffer and boolean pair to receive the message in parts&quot;_, amongst other options. Does this answer your question?","body":"<a href=\"https://stackoverflow.com/questions/55328012/how-to-receive-binary-data-in-a-java-websocket-client\">This answer</a> points to <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/websocket/OnMessage.html\" rel=\"nofollow noreferrer\">this documentation</a> which states: <i>&quot;if the method is handling binary messages:&quot;</i> you can use the following parameters: <i>&quot;byte[] and boolean pair, or ByteBuffer and boolean pair to receive the message in parts&quot;</i>, amongst other options. Does this answer your question?"},{"owner":{"account_id":16619068,"reputation":23,"user_id":12009958,"display_name":"rapp"},"score":0,"creation_date":1648644268,"post_id":71674541,"comment_id":126676168,"body_markdown":"Unfortunately no, because I already tried the approch suggested  but my goal is exactly reproduce the same C# code","body":"Unfortunately no, because I already tried the approch suggested  but my goal is exactly reproduce the same C# code"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648645525,"post_id":71674541,"comment_id":126676726,"body_markdown":"We don&#39;t know what Java library you&#39;re currently using for websocket operations","body":"We don&#39;t know what Java library you&#39;re currently using for websocket operations"},{"owner":{"account_id":16619068,"reputation":23,"user_id":12009958,"display_name":"rapp"},"score":0,"creation_date":1648716129,"post_id":71674541,"comment_id":126696779,"body_markdown":"I&#39;m using javax.websocket","body":"I&#39;m using javax.websocket"}],"owner":{"account_id":16619068,"reputation":23,"user_id":12009958,"display_name":"rapp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648631603,"creation_date":1648631603,"question_id":71674541,"body_markdown":"there is a way to realize the following C# code in Java?\r\n\r\n    ClientWebSocket webSocket = new ClientWebSocket(); \r\n    webSocket.ConnectAsync(uri, CancellationToken.None).Wait(); \r\n    while (webSocket.State == WebSocketState.Open) \r\n    { \r\n    var result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None); \r\n    //TODO: analize result\r\n    }\r\n\r\nThanks\r\n\r\n","title":"Java - Websocket - read buffer portion","body":"<p>there is a way to realize the following C# code in Java?</p>\n<pre><code>ClientWebSocket webSocket = new ClientWebSocket(); \nwebSocket.ConnectAsync(uri, CancellationToken.None).Wait(); \nwhile (webSocket.State == WebSocketState.Open) \n{ \nvar result = await webSocket.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None); \n//TODO: analize result\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","eclipse-rcp","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1648622168,"post_id":71672306,"comment_id":126667879,"body_markdown":"You cannot add TreeItems like this to a tree managed by TreeViewer - the viewer is in charge of the items and you must not add them directly. Instead update the elements in your content provider and use TreeViewer.add or refresh","body":"You cannot add TreeItems like this to a tree managed by TreeViewer - the viewer is in charge of the items and you must not add them directly. Instead update the elements in your content provider and use TreeViewer.add or refresh"},{"owner":{"account_id":24741790,"reputation":11,"user_id":18628448,"display_name":"Vt0613"},"score":0,"creation_date":1648624191,"post_id":71672306,"comment_id":126668422,"body_markdown":"When I tried using the content provider, all values from the database were not displayed, only a single item gets displayed. If you have any links or samples for the same please do link it, thank you","body":"When I tried using the content provider, all values from the database were not displayed, only a single item gets displayed. If you have any links or samples for the same please do link it, thank you"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1648624919,"post_id":71672306,"comment_id":126668636,"body_markdown":"[This article](https://www.eclipse.org/articles/Article-TreeViewer/TreeViewerArticle.htm) covers all aspects of using TreeViewer including adding new items. As I already said you **must** use the content provider for additions.","body":"<a href=\"https://www.eclipse.org/articles/Article-TreeViewer/TreeViewerArticle.htm\" rel=\"nofollow noreferrer\">This article</a> covers all aspects of using TreeViewer including adding new items. As I already said you <b>must</b> use the content provider for additions."},{"owner":{"account_id":24741790,"reputation":11,"user_id":18628448,"display_name":"Vt0613"},"score":0,"creation_date":1648627064,"post_id":71672306,"comment_id":126669450,"body_markdown":"How can I add children dynamically? I need to obtain values from a database and display them in the treeViewer.","body":"How can I add children dynamically? I need to obtain values from a database and display them in the treeViewer."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1648634990,"post_id":71672306,"comment_id":126672569,"body_markdown":"You update the data in your content provider and then use TreeViewer add, remove, update or refresh depending on exactly what you need to do.","body":"You update the data in your content provider and then use TreeViewer add, remove, update or refresh depending on exactly what you need to do."}],"owner":{"account_id":24741790,"reputation":11,"user_id":18628448,"display_name":"Vt0613"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648631462,"creation_date":1648620654,"question_id":71672306,"body_markdown":"I need to perform the following task:\r\nOn selection of a single tree item in a treeViewer, relevant data is supposed to display in the tableViewer.\r\nI have retrieved data from MySQL, using the rs.getString() method, and added the obtained string array into the tree item using the setText() method.\r\nI need to select one of the string values displayed in the treeViewer that has been dynamically generated.\r\n\r\nOn using a selection event for the tree, all generated elements get selected. How can I obtain a single selection?\r\nIs there any method similar to getSelectedItem() for a treeViewer?\r\nThis is the code i used to generate the tree items: \r\n\r\n    \t\t\t\r\n    Tree tree_1 = treeViewer.getTree();\r\n    tree_1.setBounds(316, 205, 244, 446);\r\n    try {\r\n    \tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);  \r\n    \tConnection con2 = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/project&quot;,&quot;xxxx&quot;,&quot;xxxx&quot;);   \r\n    \tStatement stmt2 = con2.createStatement();  \r\n    \tString query2=&quot;select DISTINCT xxx FROM xxxxx&quot;;\r\n    \tResultSet rs2=stmt2.executeQuery(query2);  \r\n    \twhile(rs2.next()) {\r\n            String executive=rs2.getString(&quot;xxxx&quot;);\r\n    \t\tTreeItem item4=new TreeItem(tree_1,SWT.NONE);\r\n    \t\titem4.setText(executive);\r\n    \t\titem4.setFont(SWTResourceManager.getFont(&quot;Times New Roman&quot;, 12, SWT.NORMAL));\r\n        }\r\n    }\r\n    \t\t","title":"How can I perform a single selection on dynamically generated tree items?","body":"<p>I need to perform the following task:\nOn selection of a single tree item in a treeViewer, relevant data is supposed to display in the tableViewer.\nI have retrieved data from MySQL, using the rs.getString() method, and added the obtained string array into the tree item using the setText() method.\nI need to select one of the string values displayed in the treeViewer that has been dynamically generated.</p>\n<p>On using a selection event for the tree, all generated elements get selected. How can I obtain a single selection?\nIs there any method similar to getSelectedItem() for a treeViewer?\nThis is the code i used to generate the tree items:</p>\n<pre><code>Tree tree_1 = treeViewer.getTree();\ntree_1.setBounds(316, 205, 244, 446);\ntry {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);  \n    Connection con2 = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/project&quot;,&quot;xxxx&quot;,&quot;xxxx&quot;);   \n    Statement stmt2 = con2.createStatement();  \n    String query2=&quot;select DISTINCT xxx FROM xxxxx&quot;;\n    ResultSet rs2=stmt2.executeQuery(query2);  \n    while(rs2.next()) {\n        String executive=rs2.getString(&quot;xxxx&quot;);\n        TreeItem item4=new TreeItem(tree_1,SWT.NONE);\n        item4.setText(executive);\n        item4.setFont(SWTResourceManager.getFont(&quot;Times New Roman&quot;, 12, SWT.NORMAL));\n    }\n}\n        \n</code></pre>\n"},{"tags":["java","spring","spring-boot","camunda"],"answers":[{"tags":[],"owner":{"account_id":14004176,"reputation":93,"user_id":10114822,"display_name":"barkeldiho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648631390,"creation_date":1648631390,"answer_id":71674494,"question_id":71672758,"body_markdown":"Luckily, I was able to answer my own question. \r\n\r\n1.) In a vanilla Spring Boot environment the **DispatcherServlet** has a property `setThreadContextInheritable` set to `false`. This indicates that no request details are shared with possible child threads from the parent thread that handles a certain request. A possible solution to the stated problem would of course be to set this property to `true`. But in environments utilizing thread pools such modification would expose request information to all contained threads and thus should not be the prefered solution ([Ref][1]).\r\n\r\n2.) While debugging I could find that the Camunda REST dependency spawns a bean of Type **FilterRegistrationBean** which is named `requestContextFilter` and thus replaces the original bean of Type **OrderedRequestContextFilter** *which is automatically maintained and spawned by Spring*. The original bean exposes the request details to the current thread. Since its missing the details are not shared among child threads and the **RequestContextHolder** remains empty.\r\n\r\nHence, using a new bean of type [**RequestContextListener**][2] seems like the correct approach to expose request details to the current child thread without messing with the DispatcherServlet properties:\r\n\r\n```\r\n@Bean\r\npublic RequestContextListener requestContextListener() {\r\n    return new RequestContextListener();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/FrameworkServlet.html#setThreadContextInheritable-boolean-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestContextListener.html","title":"RequestContextHolder null when using Camunda-REST dependency","body":"<p>Luckily, I was able to answer my own question.</p>\n<p>1.) In a vanilla Spring Boot environment the <strong>DispatcherServlet</strong> has a property <code>setThreadContextInheritable</code> set to <code>false</code>. This indicates that no request details are shared with possible child threads from the parent thread that handles a certain request. A possible solution to the stated problem would of course be to set this property to <code>true</code>. But in environments utilizing thread pools such modification would expose request information to all contained threads and thus should not be the prefered solution (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/FrameworkServlet.html#setThreadContextInheritable-boolean-\" rel=\"nofollow noreferrer\">Ref</a>).</p>\n<p>2.) While debugging I could find that the Camunda REST dependency spawns a bean of Type <strong>FilterRegistrationBean</strong> which is named <code>requestContextFilter</code> and thus replaces the original bean of Type <strong>OrderedRequestContextFilter</strong> <em>which is automatically maintained and spawned by Spring</em>. The original bean exposes the request details to the current thread. Since its missing the details are not shared among child threads and the <strong>RequestContextHolder</strong> remains empty.</p>\n<p>Hence, using a new bean of type <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestContextListener.html\" rel=\"nofollow noreferrer\"><strong>RequestContextListener</strong></a> seems like the correct approach to expose request details to the current child thread without messing with the DispatcherServlet properties:</p>\n<pre><code>@Bean\npublic RequestContextListener requestContextListener() {\n    return new RequestContextListener();\n}\n</code></pre>\n"}],"owner":{"account_id":14004176,"reputation":93,"user_id":10114822,"display_name":"barkeldiho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71674494,"answer_count":1,"score":0,"last_activity_date":1648631390,"creation_date":1648623270,"question_id":71672758,"body_markdown":"**Introduction**\r\n\r\nI recently stumbled across a problem in my Camunda/Spring Boot application. I just want to expose the Camunda REST-API and thus let Maven incorporate the camunda-bpm-spring-boot-starter-rest dependency. Unfortunately, this seems to mess with the Spring Boot configurations I am having already in place for non-Camunda API endpoints.\r\n\r\n**Specific Problem Description**\r\n\r\nI have a class of type AccessDecisionVoter in which the [RequestContextHolder][1] is utilized to obtain the current request details, while querying a self-made REST endpoint. This decision voter class is involved in method security and basically decides whether a user is authorized for this endpoint. While this approach works fine with all sorts of other Camunda dependencies the above mentioned dependency somehow distorts the request handling for my own API (The Camunda REST-API works fine). The result being a RequestContextHolder that returns **null** which ultimately leads to an AccessDeniedException.\r\n\r\n*Using the RequestContextHolder:*\r\n\r\n```\r\nHttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(RequestContextHolder.getRequestAttributes())).getRequest();\r\n```\r\n\r\n**Interpretation and Possible Solution**\r\n\r\nIt seems like the problem could possibly be related to a thread issue in which the request information is not handed down to some child thread. But this would require the dependency to mess with the DispatcherServlet or something else and/or spawn a new thread to handle a request to a non-Camunda API. Seems weird, but on the other hand spawning a Bean of type RequestContextListener (Spring) indeed solves the problem.\r\n\r\n```\r\n@Bean\r\npublic RequestContextListener requestContextListener() {\r\n    return new RequestContextListener();\r\n}\r\n```\r\n\r\n*It would be great to understand this problem and how the dependency is messing with my endpoints.* Ultimately I am looking for some modification (maybe some property?) that helps me get rid of the RequestContextListener bean. Though it seems fine as a workaround.\r\n\r\nAny good explanations?\r\n\r\nCheers barkeldiho\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestContextHolder.html","title":"RequestContextHolder null when using Camunda-REST dependency","body":"<p><strong>Introduction</strong></p>\n<p>I recently stumbled across a problem in my Camunda/Spring Boot application. I just want to expose the Camunda REST-API and thus let Maven incorporate the camunda-bpm-spring-boot-starter-rest dependency. Unfortunately, this seems to mess with the Spring Boot configurations I am having already in place for non-Camunda API endpoints.</p>\n<p><strong>Specific Problem Description</strong></p>\n<p>I have a class of type AccessDecisionVoter in which the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestContextHolder.html\" rel=\"nofollow noreferrer\">RequestContextHolder</a> is utilized to obtain the current request details, while querying a self-made REST endpoint. This decision voter class is involved in method security and basically decides whether a user is authorized for this endpoint. While this approach works fine with all sorts of other Camunda dependencies the above mentioned dependency somehow distorts the request handling for my own API (The Camunda REST-API works fine). The result being a RequestContextHolder that returns <strong>null</strong> which ultimately leads to an AccessDeniedException.</p>\n<p><em>Using the RequestContextHolder:</em></p>\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(RequestContextHolder.getRequestAttributes())).getRequest();\n</code></pre>\n<p><strong>Interpretation and Possible Solution</strong></p>\n<p>It seems like the problem could possibly be related to a thread issue in which the request information is not handed down to some child thread. But this would require the dependency to mess with the DispatcherServlet or something else and/or spawn a new thread to handle a request to a non-Camunda API. Seems weird, but on the other hand spawning a Bean of type RequestContextListener (Spring) indeed solves the problem.</p>\n<pre><code>@Bean\npublic RequestContextListener requestContextListener() {\n    return new RequestContextListener();\n}\n</code></pre>\n<p><em>It would be great to understand this problem and how the dependency is messing with my endpoints.</em> Ultimately I am looking for some modification (maybe some property?) that helps me get rid of the RequestContextListener bean. Though it seems fine as a workaround.</p>\n<p>Any good explanations?</p>\n<p>Cheers barkeldiho</p>\n"},{"tags":["java","spring-boot","enums","mapstruct"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648670087,"post_id":71674465,"comment_id":126686463,"body_markdown":"What version of mapstruct do you use?","body":"What version of mapstruct do you use?"},{"owner":{"account_id":11962967,"reputation":87,"user_id":13797266,"display_name":"Ananya Chaurasia"},"score":0,"creation_date":1648671964,"post_id":71674465,"comment_id":126687075,"body_markdown":"@Eugene 1.4.2.Final","body":"@Eugene 1.4.2.Final"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1648674634,"post_id":71674465,"comment_id":126687933,"body_markdown":"I have built your example without issues. Java 1.8, mapstruct 1.4.2.Final, maven-compiler-plugin 3.5.1","body":"I have built your example without issues. Java 1.8, mapstruct 1.4.2.Final, maven-compiler-plugin 3.5.1"}],"owner":{"account_id":11962967,"reputation":87,"user_id":13797266,"display_name":"Ananya Chaurasia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648631276,"creation_date":1648631276,"question_id":71674465,"body_markdown":"I have a class called BalanceTarget\r\n\r\n   \r\n\r\n     public class BalanceTarget   {\r\n      @JsonProperty(&quot;amount&quot;)\r\n      private String amount;\r\n    \r\n      public enum CreditDebitIndicatorEnum {\r\n        CREDIT(&quot;Credit&quot;),\r\n        \r\n        DEBIT(&quot;Debit&quot;);\r\n    \r\n        private String value;\r\n    \r\n        CreditDebitIndicatorEnum(String value) {\r\n          this.value = value;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getValue() {\r\n          return value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return String.valueOf(value);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static CreditDebitIndicatorEnum fromValue(String value) {\r\n          for (CreditDebitIndicatorEnum b : CreditDebitIndicatorEnum.values()) {\r\n            if (b.value.equals(value)) {\r\n              return b;\r\n            }\r\n          }\r\n          throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    \r\n      @JsonProperty(&quot;creditDebitIndicator&quot;)\r\n      private CreditDebitIndicatorEnum creditDebitIndicator;\r\n \r\n      //getter and setters\r\n     \r\n    }\r\n\r\nAnother class BalanceSource\r\n\r\n    public class BalanceSource   {\r\n          @JsonProperty(&quot;amount&quot;)\r\n          private String amount;\r\n        \r\n          public enum CreditDebitIndicatorEnum {\r\n            C(&quot;C&quot;),\r\n            \r\n            D(&quot;D&quot;);\r\n        \r\n            private String value;\r\n        \r\n            CreditDebitIndicatorEnum(String value) {\r\n              this.value = value;\r\n            }\r\n        \r\n            @JsonValue\r\n            public String getValue() {\r\n              return value;\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n              return String.valueOf(value);\r\n            }\r\n        \r\n            @JsonCreator\r\n            public static CreditDebitIndicatorEnum fromValue(String value) {\r\n              for (CreditDebitIndicatorEnum b : CreditDebitIndicatorEnum.values()) {\r\n                if (b.value.equals(value)) {\r\n                  return b;\r\n                }\r\n              }\r\n              throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n            }\r\n          }\r\n        \r\n          @JsonProperty(&quot;creditDebitIndicator&quot;)\r\n          private CreditDebitIndicatorEnum creditDebitIndicator;\r\n   \r\n         //getter and setters\r\n        }\r\n\r\nI have a mapper for Balance\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = CreditDebitIndicatorMapper.class)\r\n    public interface BalanceMapper {\r\n    \r\n        BalanceTarget convert(BalanceSource a);\r\n    }\r\n\r\nI have another mapper for CreditDebitIndicator\r\n\r\n        @Mapper(componentModel = &quot;spring&quot;)\r\n        public interface CreditDebitIndicatorMapper {\r\n        \r\n            @ValueMapping(source = &quot;C&quot;, target = &quot;CREDIT&quot;)\r\n            @ValueMapping(source = &quot;D&quot;, target = &quot;DEBIT&quot;)\r\n            BalanceTarget.CreditDebitIndicatorEnum convert(BalanceSource.CreditDebitIndicatorEnum a);\r\n    }\r\n\r\nOn building the code it gives out this error\r\n\r\n&gt; The following constants from the property\r\n&gt; &quot;BalanceSource.CreditDebitIndicatorEnum\r\n&gt; balances[].creditDebitIndicator&quot; enum have no corresponding constant\r\n&gt; in the &quot;BalanceTarget.CreditDebitIndicatorEnum\r\n&gt; balances[].creditDebitIndicator&quot; enum and must be be mapped via adding\r\n&gt; additional mappings: C, D.\r\n\r\n","title":"Class mapping using mapstruct that has an attribute as enum","body":"<p>I have a class called BalanceTarget</p>\n<pre><code> public class BalanceTarget   {\n  @JsonProperty(&quot;amount&quot;)\n  private String amount;\n\n  public enum CreditDebitIndicatorEnum {\n    CREDIT(&quot;Credit&quot;),\n    \n    DEBIT(&quot;Debit&quot;);\n\n    private String value;\n\n    CreditDebitIndicatorEnum(String value) {\n      this.value = value;\n    }\n\n    @JsonValue\n    public String getValue() {\n      return value;\n    }\n\n    @Override\n    public String toString() {\n      return String.valueOf(value);\n    }\n\n    @JsonCreator\n    public static CreditDebitIndicatorEnum fromValue(String value) {\n      for (CreditDebitIndicatorEnum b : CreditDebitIndicatorEnum.values()) {\n        if (b.value.equals(value)) {\n          return b;\n        }\n      }\n      throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n  }\n\n  @JsonProperty(&quot;creditDebitIndicator&quot;)\n  private CreditDebitIndicatorEnum creditDebitIndicator;\n\n  //getter and setters\n \n}\n</code></pre>\n<p>Another class BalanceSource</p>\n<pre><code>public class BalanceSource   {\n      @JsonProperty(&quot;amount&quot;)\n      private String amount;\n    \n      public enum CreditDebitIndicatorEnum {\n        C(&quot;C&quot;),\n        \n        D(&quot;D&quot;);\n    \n        private String value;\n    \n        CreditDebitIndicatorEnum(String value) {\n          this.value = value;\n        }\n    \n        @JsonValue\n        public String getValue() {\n          return value;\n        }\n    \n        @Override\n        public String toString() {\n          return String.valueOf(value);\n        }\n    \n        @JsonCreator\n        public static CreditDebitIndicatorEnum fromValue(String value) {\n          for (CreditDebitIndicatorEnum b : CreditDebitIndicatorEnum.values()) {\n            if (b.value.equals(value)) {\n              return b;\n            }\n          }\n          throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n        }\n      }\n    \n      @JsonProperty(&quot;creditDebitIndicator&quot;)\n      private CreditDebitIndicatorEnum creditDebitIndicator;\n\n     //getter and setters\n    }\n</code></pre>\n<p>I have a mapper for Balance</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = CreditDebitIndicatorMapper.class)\npublic interface BalanceMapper {\n\n    BalanceTarget convert(BalanceSource a);\n}\n</code></pre>\n<p>I have another mapper for CreditDebitIndicator</p>\n<pre><code>    @Mapper(componentModel = &quot;spring&quot;)\n    public interface CreditDebitIndicatorMapper {\n    \n        @ValueMapping(source = &quot;C&quot;, target = &quot;CREDIT&quot;)\n        @ValueMapping(source = &quot;D&quot;, target = &quot;DEBIT&quot;)\n        BalanceTarget.CreditDebitIndicatorEnum convert(BalanceSource.CreditDebitIndicatorEnum a);\n}\n</code></pre>\n<p>On building the code it gives out this error</p>\n<blockquote>\n<p>The following constants from the property\n&quot;BalanceSource.CreditDebitIndicatorEnum\nbalances[].creditDebitIndicator&quot; enum have no corresponding constant\nin the &quot;BalanceTarget.CreditDebitIndicatorEnum\nbalances[].creditDebitIndicator&quot; enum and must be be mapped via adding\nadditional mappings: C, D.</p>\n</blockquote>\n"},{"tags":["java","ignite"],"comments":[{"owner":{"account_id":15624718,"reputation":2360,"user_id":11272685,"display_name":"Alexandr Shapkin"},"score":0,"creation_date":1648556530,"post_id":71642364,"comment_id":126649571,"body_markdown":"So, what&#39;s the question? How to flush the data from Ignite to an external DB not automatically (on entry update/batch size reaching/timeout) but manually?","body":"So, what&#39;s the question? How to flush the data from Ignite to an external DB not automatically (on entry update/batch size reaching/timeout) but manually?"}],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648631086,"creation_date":1648631086,"answer_id":71674423,"question_id":71642364,"body_markdown":"That&#39;s just not how the Cache Store is intended to work. I would suggest either:\r\n\r\n1. Two tables, one writes through to Postgres, the other one is purely in-memory. In this one, you can use the JDBC Cache Store adapter\r\n2. Write your own Cache Store adapter. In this, you would have an extra column that would indicate whether the row should be written through","title":"Ignite - Manually trigger persistence","body":"<p>That's just not how the Cache Store is intended to work. I would suggest either:</p>\n<ol>\n<li>Two tables, one writes through to Postgres, the other one is purely in-memory. In this one, you can use the JDBC Cache Store adapter</li>\n<li>Write your own Cache Store adapter. In this, you would have an extra column that would indicate whether the row should be written through</li>\n</ol>\n"}],"owner":{"account_id":16363268,"reputation":11,"user_id":11818331,"display_name":"melc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648631086,"creation_date":1648441174,"question_id":71642364,"body_markdown":"I have an application using in-memory ignite caches. What I would like to do is, after user input, trigger the persistence of those caches in a Postgres DB.\r\n\r\nI already checked the ignite persistence with writeThrough and WriteBehindEnabled properties. it doesn&#39;t work in this case because I don&#39;t want to write on the db every time I write on the caches.\r\n\r\nI also found that, when configuring the caches with persistence, we create the store with a `CacheConfiguration&lt;key, value&gt;`, we can then use the following to trigger a write :\r\n\r\n    cache.getSnap(ignite, snapdId).getCache().forEach(e -&gt; {\r\n                cache.getConfig().getCacheStoreFactory().create().write(e);\r\n            });\r\n\r\nUnfortunately this throws an exception with `this.session().cacheName()` as the session is null.\r\nThe `this.session()` returns the following attribute: `@CacheStoreSessionResource private CacheStoreSession ses;`\r\n\r\nIf someone knows how I could do that, that would very much help me.\r\n\r\nThanks !","title":"Ignite - Manually trigger persistence","body":"<p>I have an application using in-memory ignite caches. What I would like to do is, after user input, trigger the persistence of those caches in a Postgres DB.</p>\n<p>I already checked the ignite persistence with writeThrough and WriteBehindEnabled properties. it doesn't work in this case because I don't want to write on the db every time I write on the caches.</p>\n<p>I also found that, when configuring the caches with persistence, we create the store with a <code>CacheConfiguration&lt;key, value&gt;</code>, we can then use the following to trigger a write :</p>\n<pre><code>cache.getSnap(ignite, snapdId).getCache().forEach(e -&gt; {\n            cache.getConfig().getCacheStoreFactory().create().write(e);\n        });\n</code></pre>\n<p>Unfortunately this throws an exception with <code>this.session().cacheName()</code> as the session is null.\nThe <code>this.session()</code> returns the following attribute: <code>@CacheStoreSessionResource private CacheStoreSession ses;</code></p>\n<p>If someone knows how I could do that, that would very much help me.</p>\n<p>Thanks !</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1535673359,"post_id":52106765,"comment_id":91164449,"body_markdown":"Ummm, because it doesn&#39;t. That seems like an impossible question to answer satisfactorily.","body":"Ummm, because it doesn&#39;t. That seems like an impossible question to answer satisfactorily."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1535673769,"post_id":52106765,"comment_id":91164544,"body_markdown":"Guava has a peeking iterator, if it helps.","body":"Guava has a peeking iterator, if it helps."},{"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"score":0,"creation_date":1535674443,"post_id":52106765,"comment_id":91164676,"body_markdown":"Thanks.  I saw the peeking iterator and it&#39;s a bit surprising peek() is not in the standard Java iterator.","body":"Thanks.  I saw the peeking iterator and it&#39;s a bit surprising peek() is not in the standard Java iterator."},{"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"score":0,"creation_date":1627569441,"post_id":52106765,"comment_id":121196158,"body_markdown":"This is not an answer to the question as to &quot;why&quot;, but for those who landed on this page looking for such an iterator, I can recommend https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-","body":"This is not an answer to the question as to &quot;why&quot;, but for those who landed on this page looking for such an iterator, I can recommend <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-\" rel=\"nofollow noreferrer\">guava.dev/releases/22.0/api/docs/com/google/common/collect/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1630856090,"creation_date":1535673875,"answer_id":52106859,"question_id":52106765,"body_markdown":"&gt; Why doesn&#39;t the standard Java iterator have peek()?\r\n\r\n1.  Because `peek()` is not part of the [Iterator design pattern](https://en.wikipedia.org/wiki/Iterator_pattern) as it is normally described.\r\n\r\n2.  Because the vast majority of iterator use-cases don&#39;t require it.  Forcing all implementations (including a myriad custom / 3rd party classes) to implement an unnecessary method would be a bad idea.\r\n\r\n3.  Because the `peek()` method has potential impacts on the semantics for iterators of lazy data sources.\r\n\r\n4.  Because implementing `peek()` affects the efficiency (memory, CPU) of a iterator in some circumstances.   Whether you actually use it or not.\r\n\r\n5.  Because `peek()` would in some obscure circumstances lead to a memory leak.\r\n\r\n6.  Because ... [KISS](https://en.wikipedia.org/wiki/KISS_principle).\r\n\r\nBut ultimately, the real reason is ... because they designed it that way back in the year ~2000.  And we weren&#39;t in the room when the design debates took place&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&lt;sup&gt;1 - For what it is worth, it seems that most&lt;sup&gt;2&lt;/sup&gt; other languages have made the same decision for their standard iterator API.  Rust seems to be an exception to this; see https://doc.rust-lang.org/std/iter/struct.Peekable.html.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - ... based on a highly non-scientific &quot;survey&quot; using Google search.&lt;/sup&gt;\r\n\r\n---------------\r\n\r\nIf you want an iterator abstraction that provides `peek()` as well, you can extend the `Iterator` interface and implement the iterators for yourself.  Indeed an general purpose iterator-with-peek can easily be implemented as a wrapper for a regular `Iterator`.\r\n\r\nOr look for a 3rd-party API / implementation(s); e.g. [Guava][1], [Apache Commons][2], etc.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/PeekingIterator.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/PeekingIterator.html","title":"Why doesn&#39;t the standard Java iterator have peek()?","body":"<blockquote>\n<p>Why doesn't the standard Java iterator have peek()?</p>\n</blockquote>\n<ol>\n<li><p>Because <code>peek()</code> is not part of the <a href=\"https://en.wikipedia.org/wiki/Iterator_pattern\" rel=\"nofollow noreferrer\">Iterator design pattern</a> as it is normally described.</p>\n</li>\n<li><p>Because the vast majority of iterator use-cases don't require it.  Forcing all implementations (including a myriad custom / 3rd party classes) to implement an unnecessary method would be a bad idea.</p>\n</li>\n<li><p>Because the <code>peek()</code> method has potential impacts on the semantics for iterators of lazy data sources.</p>\n</li>\n<li><p>Because implementing <code>peek()</code> affects the efficiency (memory, CPU) of a iterator in some circumstances.   Whether you actually use it or not.</p>\n</li>\n<li><p>Because <code>peek()</code> would in some obscure circumstances lead to a memory leak.</p>\n</li>\n<li><p>Because ... <a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">KISS</a>.</p>\n</li>\n</ol>\n<p>But ultimately, the real reason is ... because they designed it that way back in the year ~2000.  And we weren't in the room when the design debates took place<sup>1</sup>.</p>\n<p><sup>1 - For what it is worth, it seems that most<sup>2</sup> other languages have made the same decision for their standard iterator API.  Rust seems to be an exception to this; see <a href=\"https://doc.rust-lang.org/std/iter/struct.Peekable.html\" rel=\"nofollow noreferrer\">https://doc.rust-lang.org/std/iter/struct.Peekable.html</a>.</sup></p>\n<p><sup>2 - ... based on a highly non-scientific &quot;survey&quot; using Google search.</sup></p>\n<hr />\n<p>If you want an iterator abstraction that provides <code>peek()</code> as well, you can extend the <code>Iterator</code> interface and implement the iterators for yourself.  Indeed an general purpose iterator-with-peek can easily be implemented as a wrapper for a regular <code>Iterator</code>.</p>\n<p>Or look for a 3rd-party API / implementation(s); e.g. <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/PeekingIterator.html\" rel=\"nofollow noreferrer\">Guava</a>, <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/PeekingIterator.html\" rel=\"nofollow noreferrer\">Apache Commons</a>, etc.</p>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648631058,"creation_date":1600012603,"answer_id":63872714,"question_id":52106765,"body_markdown":"The following example implements an Iterator with a `peek` method.  The implementation of `remove` is left for the reader.\r\n\r\n~~~java\r\nimport java.util.Iterator;\r\n\r\n/**\r\n * An Iterator with a peek method for just one value.\r\n */\r\npublic class PeekIterator&lt;T&gt; implements Iterator&lt;T&gt;\r\n{\r\n  private Iterator&lt;T&gt; iterator;\r\n\r\n  public PeekIterator (Iterator&lt;T&gt; iterator) { this.iterator = iterator; }\r\n\r\n  private boolean peeked = false;\r\n  private T peeked_value = null;\r\n\r\n  public boolean hasNext () { return iterator.hasNext () || peeked; }\r\n\r\n  public T next ()\r\n  {\r\n    T value;\r\n    if (peeked) {\r\n      peeked = false;\r\n      value = peeked_value;\r\n    }\r\n    else\r\n      if (iterator.hasNext ())\r\n        value = iterator.next();\r\n      else\r\n        value = null;\r\n    return value;\r\n  }\r\n\r\n  public T peek ()\r\n  {\r\n    T value;\r\n    if (peeked)\r\n      value = peeked_value;\r\n    else {\r\n      peeked = true;\r\n      if (iterator.hasNext ())\r\n        peeked_value = iterator.next ();\r\n      else\r\n        peeked_value = null;\r\n      value = peeked_value;\r\n    }\r\n    return value;\r\n  }\r\n}\r\n~~~\r\n","title":"Why doesn&#39;t the standard Java iterator have peek()?","body":"<p>The following example implements an Iterator with a <code>peek</code> method.  The implementation of <code>remove</code> is left for the reader.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Iterator;\n\n/**\n * An Iterator with a peek method for just one value.\n */\npublic class PeekIterator&lt;T&gt; implements Iterator&lt;T&gt;\n{\n  private Iterator&lt;T&gt; iterator;\n\n  public PeekIterator (Iterator&lt;T&gt; iterator) { this.iterator = iterator; }\n\n  private boolean peeked = false;\n  private T peeked_value = null;\n\n  public boolean hasNext () { return iterator.hasNext () || peeked; }\n\n  public T next ()\n  {\n    T value;\n    if (peeked) {\n      peeked = false;\n      value = peeked_value;\n    }\n    else\n      if (iterator.hasNext ())\n        value = iterator.next();\n      else\n        value = null;\n    return value;\n  }\n\n  public T peek ()\n  {\n    T value;\n    if (peeked)\n      value = peeked_value;\n    else {\n      peeked = true;\n      if (iterator.hasNext ())\n        peeked_value = iterator.next ();\n      else\n        peeked_value = null;\n      value = peeked_value;\n    }\n    return value;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15578732,"reputation":636,"user_id":11239174,"display_name":"Devxln"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606222225,"creation_date":1606222225,"answer_id":64986882,"question_id":52106765,"body_markdown":"If you really need an iterator with peek(), why not use a `LinkedList` as your initial datastructure? It provides `.peek()` and `.pop()` to retrieve the head.","title":"Why doesn&#39;t the standard Java iterator have peek()?","body":"<p>If you really need an iterator with peek(), why not use a <code>LinkedList</code> as your initial datastructure? It provides <code>.peek()</code> and <code>.pop()</code> to retrieve the head.</p>\n"}],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9752,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":52106859,"answer_count":3,"score":13,"last_activity_date":1648631058,"creation_date":1535672911,"question_id":52106765,"body_markdown":"Is there any particular reason the basic Java iterator was programmed not to have a function like peek(), which would return the next element without advancing the iterator?","title":"Why doesn&#39;t the standard Java iterator have peek()?","body":"<p>Is there any particular reason the basic Java iterator was programmed not to have a function like peek(), which would return the next element without advancing the iterator?</p>\n"},{"tags":["java","csv","bufferedreader","read.csv","bufferedinputstream"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1648572679,"post_id":71665928,"comment_id":126656807,"body_markdown":"What exactly is this section of code supposed to tell us? Where is the column handling part?","body":"What exactly is this section of code supposed to tell us? Where is the column handling part?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648572784,"post_id":71665928,"comment_id":126656834,"body_markdown":"[Edit] your question and post some sample data from the CSV files as well as how you want that data printed.","body":"<a href=\"https://stackoverflow.com/posts/71665928/edit\">Edit</a> your question and post some sample data from the CSV files as well as how you want that data printed."},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1648587539,"post_id":71665928,"comment_id":126661512,"body_markdown":"There are several free-to-use CSV parsing libraries for java. Consider using one of them instead of writing your own code, if you can.","body":"There are several free-to-use CSV parsing libraries for java. Consider using one of them instead of writing your own code, if you can."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1648592745,"post_id":71665928,"comment_id":126662781,"body_markdown":"Use the [String#format()] method, for example, a two column CSV data file: `ret.add(String.format(&quot;%-10s %-10s%n&quot;, line.toString().split(&quot;\\\\s*,\\\\s*&quot;)[0], line.toString().split(&quot;\\\\s*,\\\\s*&quot;)[1]);`.","body":"Use the [String#format()] method, for example, a two column CSV data file: <code>ret.add(String.format(&quot;%-10s %-10s%n&quot;, line.toString().split(&quot;\\\\s*,\\\\s*&quot;)[0], line.toString().split(&quot;\\\\s*,\\\\s*&quot;)[1]);</code>."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648587412,"creation_date":1648587412,"answer_id":71668684,"question_id":71665928,"body_markdown":"A `BufferedReader` reads lines, and does not care for the content of those lines. So this code will simply save lines into `ret` as it is reading them:\r\n\r\n     List&lt;String&gt; ret = new ArrayList&lt;&gt;();\r\n     try (BufferedReader r = new BufferedReader(new InputStreamReader(str))) {\r\n         r.lines().skip(1).forEachOrdered(l -&gt; ret.add(l.replace(&quot;\\&quot;&quot;, &quot;&quot;));\r\n     }\r\n     // now ret contains one string per CSV line, excluding the 1st\r\n\r\n(This is somewhat better than your code in that it is guaranteed to close the reader correctly, and does not require any casts to string).\r\n\r\nIf your CSV lines do not contain any `,` characters that are not separators, you can modify the above code to split lines into columns; which you can then reorder:\r\n\r\n     List&lt;String[]&gt; ret = new ArrayList&lt;&gt;(); // list of string arrays\r\n     try (BufferedReader r = new BufferedReader(new InputStreamReader(str))) {\r\n         r.lines().skip(1).forEachOrdered(l -&gt; \r\n            ret.add(l.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)); // splits by &#39;,&#39;\r\n     }\r\n     // now ret contains a String[] per CSV line, skipping the 1st;\r\n     // with ret.get(0)[1] being the 2nd column of the 1st non-skipped line\r\n\r\n     // this will output all lines, reversing the order of columns 1 and 2:\r\n     for (String[] line : ret) {\r\n        System.out.print(line[1] + &quot;, &quot; + line[0]);\r\n        for (int i=2; i&lt;line.length; i++) System.out.print(&quot;, &quot; + line[i]);\r\n        System.out.println();\r\n     }\r\n\r\nIf your CSV lines *can* contain `,`s that are not delimiters, you will need to learn how to correctly parse (=read) CSVs, and that requires significantly  more than a `BufferedReader`. I would recommend using an external library to handle this correctly (for there are [many types of CSVs](https://en.wikipedia.org/wiki/Comma-separated_values) in the wild). In particular, using [Apache Commons CSV](https://commons.apache.org/proper/commons-csv/), things are relatively straightforward:\r\n\r\n    try (Reader in = new FileReader(&quot;path/to/file.csv&quot;)) {\r\n       Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.parse(in);\r\n       for (CSVRecord record : records) {\r\n           String columnOne = record.get(0);\r\n           String columnTwo = record.get(1);\r\n       }\r\n    }","title":"BufferedReader - Output columns in in different order JAVA","body":"<p>A <code>BufferedReader</code> reads lines, and does not care for the content of those lines. So this code will simply save lines into <code>ret</code> as it is reading them:</p>\n<pre><code> List&lt;String&gt; ret = new ArrayList&lt;&gt;();\n try (BufferedReader r = new BufferedReader(new InputStreamReader(str))) {\n     r.lines().skip(1).forEachOrdered(l -&gt; ret.add(l.replace(&quot;\\&quot;&quot;, &quot;&quot;));\n }\n // now ret contains one string per CSV line, excluding the 1st\n</code></pre>\n<p>(This is somewhat better than your code in that it is guaranteed to close the reader correctly, and does not require any casts to string).</p>\n<p>If your CSV lines do not contain any <code>,</code> characters that are not separators, you can modify the above code to split lines into columns; which you can then reorder:</p>\n<pre><code> List&lt;String[]&gt; ret = new ArrayList&lt;&gt;(); // list of string arrays\n try (BufferedReader r = new BufferedReader(new InputStreamReader(str))) {\n     r.lines().skip(1).forEachOrdered(l -&gt; \n        ret.add(l.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)); // splits by ','\n }\n // now ret contains a String[] per CSV line, skipping the 1st;\n // with ret.get(0)[1] being the 2nd column of the 1st non-skipped line\n\n // this will output all lines, reversing the order of columns 1 and 2:\n for (String[] line : ret) {\n    System.out.print(line[1] + &quot;, &quot; + line[0]);\n    for (int i=2; i&lt;line.length; i++) System.out.print(&quot;, &quot; + line[i]);\n    System.out.println();\n }\n</code></pre>\n<p>If your CSV lines <em>can</em> contain <code>,</code>s that are not delimiters, you will need to learn how to correctly parse (=read) CSVs, and that requires significantly  more than a <code>BufferedReader</code>. I would recommend using an external library to handle this correctly (for there are <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">many types of CSVs</a> in the wild). In particular, using <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a>, things are relatively straightforward:</p>\n<pre><code>try (Reader in = new FileReader(&quot;path/to/file.csv&quot;)) {\n   Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.parse(in);\n   for (CSVRecord record : records) {\n       String columnOne = record.get(0);\n       String columnTwo = record.get(1);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648630760,"creation_date":1648572443,"question_id":71665928,"body_markdown":"I have 2 csv files with column &#39;car&#39;, &#39;bike&#39;, &#39;tractor&#39; etc\r\n\r\nThe below code prints out data from the csv which works fine, however cvs 1 prints out in a different or to csv 2 so I want to arrange the columns in a different order.\r\n\r\nFrom this code, how can I organise the data to print out in order of which column I want first, second etc.\r\n\r\n``` \r\nBufferedReader r = new BufferedReader(new InputStreamReader(str));\r\n          Stream lines = r.lines().skip(1);\r\n\r\n          lines.forEachOrdered(\r\n              line -&gt; {\r\n               line= ((String) line).replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n                 ret.add((String) line);\r\n``` \r\n\r\nThe columns print out like this:\r\n\r\n**csv 1**\r\n```\r\nCar, Bike, Tractor, Plane, Train\r\n```\r\n**csv 2**\r\n```\r\nBike, Plane, Tractor, Train, Car,\r\n```\r\nbut I want to manipulate the code so the two csv files print out in the same order like;\r\n```\r\nBike, Plane ,Tractor, Train, Car\r\n```\r\nI can&#39;t use the likes of **col[1],col[3]**, as the two files are in different or so I would need to call them by column name in the csv file so **col[&quot;Truck&quot;]** etc\r\n\r\n **Or is there another way. Like creating a new list from the csv 1 output and rearranging ?**\r\n\r\nI haven&#39;t used BufferedReader much so I&#39;m not sure if this is a silly question and there&#39;s a simple solution\r\n\r\n\r\n\r\n","title":"BufferedReader - Output columns in in different order JAVA","body":"<p>I have 2 csv files with column 'car', 'bike', 'tractor' etc</p>\n<p>The below code prints out data from the csv which works fine, however cvs 1 prints out in a different or to csv 2 so I want to arrange the columns in a different order.</p>\n<p>From this code, how can I organise the data to print out in order of which column I want first, second etc.</p>\n<pre><code>BufferedReader r = new BufferedReader(new InputStreamReader(str));\n          Stream lines = r.lines().skip(1);\n\n          lines.forEachOrdered(\n              line -&gt; {\n               line= ((String) line).replace(&quot;\\&quot;&quot;, &quot;&quot;);\n                 ret.add((String) line);\n</code></pre>\n<p>The columns print out like this:</p>\n<p><strong>csv 1</strong></p>\n<pre><code>Car, Bike, Tractor, Plane, Train\n</code></pre>\n<p><strong>csv 2</strong></p>\n<pre><code>Bike, Plane, Tractor, Train, Car,\n</code></pre>\n<p>but I want to manipulate the code so the two csv files print out in the same order like;</p>\n<pre><code>Bike, Plane ,Tractor, Train, Car\n</code></pre>\n<p>I can't use the likes of <strong>col[1],col[3]</strong>, as the two files are in different or so I would need to call them by column name in the csv file so <strong>col[&quot;Truck&quot;]</strong> etc</p>\n<p><strong>Or is there another way. Like creating a new list from the csv 1 output and rearranging ?</strong></p>\n<p>I haven't used BufferedReader much so I'm not sure if this is a silly question and there's a simple solution</p>\n"},{"tags":["javascript","java","angular","typescript"],"comments":[{"owner":{"account_id":16899644,"reputation":753,"user_id":12221382,"display_name":"Aldin Bradaric"},"score":0,"creation_date":1648627170,"post_id":71673217,"comment_id":126669497,"body_markdown":"And what&#39;s the actual issue?","body":"And what&#39;s the actual issue?"},{"owner":{"account_id":24742591,"reputation":1,"user_id":18629156,"display_name":"HexFyber"},"score":0,"creation_date":1648630234,"post_id":71673217,"comment_id":126670641,"body_markdown":"@AldinBradaric it won&#39;t let me use a foreach on that:\n\nThis expression is not callable.\n  Type &#39;{ [key: string]: number; }&#39; has no call signatures.","body":"@AldinBradaric it won&#39;t let me use a foreach on that:  This expression is not callable.   Type &#39;{ [key: string]: number; }&#39; has no call signatures."},{"owner":{"account_id":16899644,"reputation":753,"user_id":12221382,"display_name":"Aldin Bradaric"},"score":0,"creation_date":1648632235,"post_id":71673217,"comment_id":126671398,"body_markdown":"Because `activityMap` is defined as an object, which itself cannot be iterated. You&#39;d have to define a structure that is capable of utilizing `forEach`, ie. an array or map (iirc, TS should be able to use maps).","body":"Because <code>activityMap</code> is defined as an object, which itself cannot be iterated. You&#39;d have to define a structure that is capable of utilizing <code>forEach</code>, ie. an array or map (iirc, TS should be able to use maps)."},{"owner":{"account_id":24742591,"reputation":1,"user_id":18629156,"display_name":"HexFyber"},"score":1,"creation_date":1648633379,"post_id":71673217,"comment_id":126671885,"body_markdown":"@AldinBradaric thanks this helped me solve it. it made me figure out that the service was returning an object instead of a map so I went for Object.keys and was able to manage that object as a map.","body":"@AldinBradaric thanks this helped me solve it. it made me figure out that the service was returning an object instead of a map so I went for Object.keys and was able to manage that object as a map."}],"answers":[{"tags":[],"owner":{"account_id":17484581,"reputation":372,"user_id":12677894,"display_name":"Dimitar Cetelev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648630609,"creation_date":1648630609,"answer_id":71674320,"question_id":71673217,"body_markdown":"Since you are returning an observable, you have to first subscribe to the observable, then you can iterate the returned values.\r\n\r\nThere are 2 approaches in order how we handle subscriptions\r\n\r\n# Approach 1\r\n# Handling subscription inside our component\r\n\r\n```\r\nthis.myService.getPackage().subscribe((response: Package) =&gt; { \r\n    response.activityMap.forEach((key: string, value: Map&lt;string, number&gt;) =&gt; {\r\n             //do something\r\n         });\r\n})\r\n```\r\n\r\nAlso make sure to unsubscribe as well to prevent your application from having memory leaks.\r\n\r\nYou can do that with TakeUntill RxJS operator https://www.digitalocean.com/community/tutorials/angular-takeuntil-rxjs-unsubscribe\r\n\r\n\r\nOR\r\n# Approach 2\r\n# Using Async pipe\r\nInstead of subscribing, you can using async pipes which is considered as a best practice\r\nhttps://blog.angular-university.io/angular-reactive-templates/\r\n\r\n# Tip\r\n\r\nInstead of iterating inside the subscription, I would recommend that you use RxJS Map Operator combined inside a Pipe\r\nhttps://rxjs.dev/api/operators/map","title":"foreach through a map that has another map as value in Angular","body":"<p>Since you are returning an observable, you have to first subscribe to the observable, then you can iterate the returned values.</p>\n<p>There are 2 approaches in order how we handle subscriptions</p>\n<h1>Approach 1</h1>\n<h1>Handling subscription inside our component</h1>\n<pre><code>this.myService.getPackage().subscribe((response: Package) =&gt; { \n    response.activityMap.forEach((key: string, value: Map&lt;string, number&gt;) =&gt; {\n             //do something\n         });\n})\n</code></pre>\n<p>Also make sure to unsubscribe as well to prevent your application from having memory leaks.</p>\n<p>You can do that with TakeUntill RxJS operator <a href=\"https://www.digitalocean.com/community/tutorials/angular-takeuntil-rxjs-unsubscribe\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/angular-takeuntil-rxjs-unsubscribe</a></p>\n<p>OR</p>\n<h1>Approach 2</h1>\n<h1>Using Async pipe</h1>\n<p>Instead of subscribing, you can using async pipes which is considered as a best practice\n<a href=\"https://blog.angular-university.io/angular-reactive-templates/\" rel=\"nofollow noreferrer\">https://blog.angular-university.io/angular-reactive-templates/</a></p>\n<h1>Tip</h1>\n<p>Instead of iterating inside the subscription, I would recommend that you use RxJS Map Operator combined inside a Pipe\n<a href=\"https://rxjs.dev/api/operators/map\" rel=\"nofollow noreferrer\">https://rxjs.dev/api/operators/map</a></p>\n"}],"owner":{"account_id":24742591,"reputation":1,"user_id":18629156,"display_name":"HexFyber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648630609,"creation_date":1648625500,"question_id":71673217,"body_markdown":"I made a service in Java that returns as observable a map\\&lt;k, map\\&lt;k,v\\&gt;\\&gt; and I&#39;m attempting to iterate through the outer map with a foreach. I&#39;m struggling to.\r\n\r\n```\r\n[...]\r\n.then(\r\n    (response: Package) =&gt; {\r\n         response.activityMap.forEach((key: string, value: Map&lt;string, number&gt;) =&gt; {\r\n             //do something\r\n         });\r\n    }\r\n)\r\n[...]\r\n```\r\n\r\nPackage is a type with the following parameters:\r\n\r\n```\r\nexport interface Package{ \r\n    diagnostic?: Diagnostic;\r\n    activityMap?: { [key: string]: { [key: string]: number; }; };\r\n}\r\n```\r\n\r\nWhat I&#39;m trying to do is to make a forEach that iterates through the &quot;father&quot; map, so for each key //dosomething\r\n\r\nBut it won&#39;t let me use foreach:\r\n\r\nThis expression is not callable.\r\n  Type &#39;{ [key: string]: number; }&#39; has no call signatures.","title":"foreach through a map that has another map as value in Angular","body":"<p>I made a service in Java that returns as observable a map&lt;k, map&lt;k,v&gt;&gt; and I'm attempting to iterate through the outer map with a foreach. I'm struggling to.</p>\n<pre><code>[...]\n.then(\n    (response: Package) =&gt; {\n         response.activityMap.forEach((key: string, value: Map&lt;string, number&gt;) =&gt; {\n             //do something\n         });\n    }\n)\n[...]\n</code></pre>\n<p>Package is a type with the following parameters:</p>\n<pre><code>export interface Package{ \n    diagnostic?: Diagnostic;\n    activityMap?: { [key: string]: { [key: string]: number; }; };\n}\n</code></pre>\n<p>What I'm trying to do is to make a forEach that iterates through the &quot;father&quot; map, so for each key //dosomething</p>\n<p>But it won't let me use foreach:</p>\n<p>This expression is not callable.\nType '{ [key: string]: number; }' has no call signatures.</p>\n"},{"tags":["java","kubectl"],"comments":[{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1623225298,"post_id":67896925,"comment_id":120015005,"body_markdown":"Could you please provide your OS name?","body":"Could you please provide your OS name?"},{"owner":{"account_id":7294843,"reputation":61,"user_id":5560088,"display_name":"oleg-sta"},"score":0,"creation_date":1623227380,"post_id":67896925,"comment_id":120015939,"body_markdown":"First googling gives me: https://github.com/kubernetes-client/java, did you check it?","body":"First googling gives me: <a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">github.com/kubernetes-client/java</a>, did you check it?"}],"answers":[{"tags":[],"owner":{"display_name":"user15659347"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623229571,"creation_date":1623229571,"answer_id":67900951,"question_id":67896925,"body_markdown":"Best approach would be to use [official java client library][1].  \r\n[Installation] is pretty easy, and [code examples] shows you how to use it.\r\n___\r\nIf the official one does not meet your requirements, there are also community-maintained client libraries:\r\n  * [Java (OSGi)][2]\r\n  * [Java (Fabric8, OSGi)][3]\r\n  * [Java][4]\r\n\r\n[1]: https://github.com/kubernetes-client/java\r\n[Installation]: https://github.com/kubernetes-client/java/wiki/1.-Installation\r\n[code examples]: https://github.com/kubernetes-client/java/wiki/3.-Code-Examples\r\n[2]: https://bitbucket.org/amdatulabs/amdatu-kubernetes/src/master/\r\n[3]: https://github.com/fabric8io/kubernetes-client\r\n[4]: https://github.com/manusa/yakc","title":"how to run kubectl command in java","body":"<p>Best approach would be to use <a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">official java client library</a>.<br />\n<a href=\"https://github.com/kubernetes-client/java/wiki/1.-Installation\" rel=\"nofollow noreferrer\">Installation</a> is pretty easy, and <a href=\"https://github.com/kubernetes-client/java/wiki/3.-Code-Examples\" rel=\"nofollow noreferrer\">code examples</a> shows you how to use it.</p>\n<hr />\n<p>If the official one does not meet your requirements, there are also community-maintained client libraries:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/amdatulabs/amdatu-kubernetes/src/master/\" rel=\"nofollow noreferrer\">Java (OSGi)</a></li>\n<li><a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">Java (Fabric8, OSGi)</a></li>\n<li><a href=\"https://github.com/manusa/yakc\" rel=\"nofollow noreferrer\">Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user18629894"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648630202,"creation_date":1648630202,"answer_id":71674220,"question_id":67896925,"body_markdown":"I had same issue but resolved by programmatically creating bash file containing kubectl... command I was trying to execute directly.\r\n\r\nFor example, create bash file and put your kubectl command there (i.e.: some-file.sh). Then try then executing it in bash process running within your java code (bash some-file.sh).","title":"how to run kubectl command in java","body":"<p>I had same issue but resolved by programmatically creating bash file containing kubectl... command I was trying to execute directly.</p>\n<p>For example, create bash file and put your kubectl command there (i.e.: some-file.sh). Then try then executing it in bash process running within your java code (bash some-file.sh).</p>\n"}],"owner":{"account_id":11348189,"reputation":179,"user_id":8320076,"accept_rate":60,"display_name":"yk42b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648630202,"creation_date":1623207440,"question_id":67896925,"body_markdown":"I can run ```kubectl get secret/rabbitmq-expressmode -n expressmode``` in shell successfully. \r\n\r\nHowever when I try to run it in java with either `ProcessBuilder` or `Runtime.getRuntime().exec`, the error:\r\n\r\n    Error from server (BadRequest): the server rejected our request for an unknown reason\r\n\r\n \r\n\r\nis thrown out.\r\n\r\nWhat&#39;s the possible reason?","title":"how to run kubectl command in java","body":"<p>I can run <code>kubectl get secret/rabbitmq-expressmode -n expressmode</code> in shell successfully.</p>\n<p>However when I try to run it in java with either <code>ProcessBuilder</code> or <code>Runtime.getRuntime().exec</code>, the error:</p>\n<pre><code>Error from server (BadRequest): the server rejected our request for an unknown reason\n</code></pre>\n<p>is thrown out.</p>\n<p>What's the possible reason?</p>\n"},{"tags":["java","inputstream","resteasy","undertow"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1636148699,"post_id":69852325,"comment_id":123488796,"body_markdown":"You&#39;re only option is going to read the input stream in chunks and possibly just stop after the buffer gets too big.","body":"You&#39;re only option is going to read the input stream in chunks and possibly just stop after the buffer gets too big."},{"owner":{"account_id":16707523,"reputation":391,"user_id":12138701,"display_name":"Cl&#233;ment Gibert"},"score":0,"creation_date":1636390506,"post_id":69852325,"comment_id":123538221,"body_markdown":"Thanks James that helped me.","body":"Thanks James that helped me."}],"owner":{"account_id":16707523,"reputation":391,"user_id":12138701,"display_name":"Cl&#233;ment Gibert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648630200,"creation_date":1636110603,"question_id":69852325,"body_markdown":"I have a WebService to post a file in the database, and I really need to display the body of the HTTP request to check if the client&#39;s implementations are correct.\r\nI tried the undertow filter configuration on my Wildfly server, it gives some informations but not multipart/form-data header, so I used a **RequestLoggingFilter** class that implements **ContainerRequestFilter** to log the body when the resteasy facade is used.\r\n\r\nMy facade is annotated with this :\r\n```java \r\n    @POST\r\n    @Logged\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n```\r\nIts working but when I use the ServletInputStream to display the body, I&#39;m loading the whole file in RAM. In case I use a &quot;big&quot; file, my method will throw an exception, and the facade will not get an open InputStream.\r\n\r\n```xml\r\n11:21:58,943 TRACE [project.ws.utils.RequestLoggingFilter] (default task-1) Error bodyio.undertow.server.RequestTooBigException: UT000020: Connection terminated as request was larger than 10485760\r\n11:21:58,945 TRACE [project.ws.utils.RequestLoggingFilter] (default task-1) --------------------------------------------------------\r\n11:21:58,954 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Unexpected end of headers detected. Higher level boundary detected or EOF reached.\r\n11:21:58,956 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Invalid header encountered\r\n11:21:58,960 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Body part ended prematurely. Boundary detected in header or EOF reached.\r\n11:21:58,970 ERROR [project.ws.handler.exceptions.GlobalExceptionMapper] (default task-1) RESTEASY007500: Could find no Content-Disposition header within part: java.lang.RuntimeException: RESTEASY007500: Could find no Content-Disposition header within part\r\n```\r\n\r\nlog class :\r\n```java\r\n@Logged\r\n@Provider\r\npublic class RequestLoggingFilter implements ContainerRequestFilter{\r\n    \r\n    private static final Logger LOGGER = LoggerFactory.getLogger(RequestLoggingFilter.class);\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) throws IOException {\r\n        if (!LOGGER.isTraceEnabled()) {\r\n            return;\r\n        }\r\n        LOGGER.trace(&quot;--------------------------------------------------------&quot;);\r\n        LOGGER.trace(&quot;URI=&quot; + requestContext.getUriInfo().getPath());\r\n        LOGGER.trace(&quot;Content length=&quot; + requestContext.getLength());\r\n        LOGGER.trace(&quot;Content type=&quot; + requestContext.getMediaType());\r\n        LOGGER.trace(&quot;Methode=:&quot; + requestContext.getMethod());\r\n        LOGGER.trace(&quot;Cookies=:&quot; + requestContext.getCookies());\r\n        LOGGER.trace(&quot;MediaTypes=&quot; + requestContext.getAcceptableMediaTypes());\r\n        LOGGER.trace(&quot;AceptableLanguages=&quot; + requestContext.getAcceptableLanguages());\r\n        LOGGER.trace(&quot;Date=&quot; + requestContext.getDate());\r\n        LOGGER.trace(&quot;   Header:&quot;);\r\n        requestContext.getHeaders().forEach((key, value) -&gt; {\r\n            LOGGER.trace(&quot;       header=&quot; + key + &quot; : &quot; + value);\r\n        });\r\n        try {\r\n            if (requestContext.hasEntity()) {\r\n                String result = IOUtils.toString(requestContext.getEntityStream(), StandardCharsets.UTF_8);\r\n                LOGGER.trace(&quot;   Body:&quot;);\r\n                Scanner scanner = new Scanner(result);\r\n                while (scanner.hasNextLine()) {\r\n                    LOGGER.trace(&quot;        &quot; + scanner.nextLine());\r\n                }\r\n                scanner.close();\r\n                requestContext.setEntityStream(CharSource.wrap(result).asByteSource(StandardCharsets.UTF_8).openStream());\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.trace(&quot;Error body&quot; + e);\r\n        }\r\n        LOGGER.trace(&quot;--------------------------------------------------------&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nlogs : \r\n```xml\r\n --------------------------------------------------------\r\nURI=/reception\r\nContent length=259\r\nContent type=multipart/form-data;boundary=&quot;----=_Part_43_341076338.1636107376952&quot;\r\nMethode=:POST\r\nCookies=:{}\r\nMediaTypes=[*/*]\r\nAceptableLanguages=[]\r\nDate=null\r\n    Header:\r\n       header=Accept-Encoding : [gzip,deflate]\r\n       header=apiKey : [test]\r\n       header=Connection : [Keep-Alive]\r\n       header=Content-Length : [259]\r\n       header=Content-Type : [multipart/form-data; boundary=&quot;----=_Part_43_341076338.1636107376952&quot;]\r\n       header=Host : [localhost:9000]\r\n       header=MIME-Version : [1.0]\r\n       header=User-Agent : [Apache-HttpClient/4.1.1 (java 1.5)]\r\n    Body:\r\n        \r\n         ------=_Part_43_341076338.1636107376952\r\n         Content-Type: text/plain; charset=Cp1252; name=file3.tmp\r\n         Content-Transfer-Encoding: binary\r\n         Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;file3.tmp&quot;         \r\n        ------=_Part_43_341076338.1636107376952--\r\n --------------------------------------------------------\r\n``` \r\n\r\nHow can I use the ServletInputStream  in the ContainerRequestFilter without loading the whole file, log the multipart/form-data header and let the InputStream open for the facade ? (Java 8)\r\n\r\n","title":"How to read multipart/form-data header from ServletInputStream and load content into a temp file","body":"<p>I have a WebService to post a file in the database, and I really need to display the body of the HTTP request to check if the client's implementations are correct.\nI tried the undertow filter configuration on my Wildfly server, it gives some informations but not multipart/form-data header, so I used a <strong>RequestLoggingFilter</strong> class that implements <strong>ContainerRequestFilter</strong> to log the body when the resteasy facade is used.</p>\n<p>My facade is annotated with this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    @Logged\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.TEXT_PLAIN)\n</code></pre>\n<p>Its working but when I use the ServletInputStream to display the body, I'm loading the whole file in RAM. In case I use a &quot;big&quot; file, my method will throw an exception, and the facade will not get an open InputStream.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>11:21:58,943 TRACE [project.ws.utils.RequestLoggingFilter] (default task-1) Error bodyio.undertow.server.RequestTooBigException: UT000020: Connection terminated as request was larger than 10485760\n11:21:58,945 TRACE [project.ws.utils.RequestLoggingFilter] (default task-1) --------------------------------------------------------\n11:21:58,954 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Unexpected end of headers detected. Higher level boundary detected or EOF reached.\n11:21:58,956 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Invalid header encountered\n11:21:58,960 WARN  [org.apache.james.mime4j.parser.MimeEntity] (default task-1) Body part ended prematurely. Boundary detected in header or EOF reached.\n11:21:58,970 ERROR [project.ws.handler.exceptions.GlobalExceptionMapper] (default task-1) RESTEASY007500: Could find no Content-Disposition header within part: java.lang.RuntimeException: RESTEASY007500: Could find no Content-Disposition header within part\n</code></pre>\n<p>log class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Logged\n@Provider\npublic class RequestLoggingFilter implements ContainerRequestFilter{\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(RequestLoggingFilter.class);\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n        if (!LOGGER.isTraceEnabled()) {\n            return;\n        }\n        LOGGER.trace(&quot;--------------------------------------------------------&quot;);\n        LOGGER.trace(&quot;URI=&quot; + requestContext.getUriInfo().getPath());\n        LOGGER.trace(&quot;Content length=&quot; + requestContext.getLength());\n        LOGGER.trace(&quot;Content type=&quot; + requestContext.getMediaType());\n        LOGGER.trace(&quot;Methode=:&quot; + requestContext.getMethod());\n        LOGGER.trace(&quot;Cookies=:&quot; + requestContext.getCookies());\n        LOGGER.trace(&quot;MediaTypes=&quot; + requestContext.getAcceptableMediaTypes());\n        LOGGER.trace(&quot;AceptableLanguages=&quot; + requestContext.getAcceptableLanguages());\n        LOGGER.trace(&quot;Date=&quot; + requestContext.getDate());\n        LOGGER.trace(&quot;   Header:&quot;);\n        requestContext.getHeaders().forEach((key, value) -&gt; {\n            LOGGER.trace(&quot;       header=&quot; + key + &quot; : &quot; + value);\n        });\n        try {\n            if (requestContext.hasEntity()) {\n                String result = IOUtils.toString(requestContext.getEntityStream(), StandardCharsets.UTF_8);\n                LOGGER.trace(&quot;   Body:&quot;);\n                Scanner scanner = new Scanner(result);\n                while (scanner.hasNextLine()) {\n                    LOGGER.trace(&quot;        &quot; + scanner.nextLine());\n                }\n                scanner.close();\n                requestContext.setEntityStream(CharSource.wrap(result).asByteSource(StandardCharsets.UTF_8).openStream());\n            }\n        } catch (Exception e) {\n            LOGGER.trace(&quot;Error body&quot; + e);\n        }\n        LOGGER.trace(&quot;--------------------------------------------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>logs :</p>\n<pre class=\"lang-xml prettyprint-override\"><code> --------------------------------------------------------\nURI=/reception\nContent length=259\nContent type=multipart/form-data;boundary=&quot;----=_Part_43_341076338.1636107376952&quot;\nMethode=:POST\nCookies=:{}\nMediaTypes=[*/*]\nAceptableLanguages=[]\nDate=null\n    Header:\n       header=Accept-Encoding : [gzip,deflate]\n       header=apiKey : [test]\n       header=Connection : [Keep-Alive]\n       header=Content-Length : [259]\n       header=Content-Type : [multipart/form-data; boundary=&quot;----=_Part_43_341076338.1636107376952&quot;]\n       header=Host : [localhost:9000]\n       header=MIME-Version : [1.0]\n       header=User-Agent : [Apache-HttpClient/4.1.1 (java 1.5)]\n    Body:\n        \n         ------=_Part_43_341076338.1636107376952\n         Content-Type: text/plain; charset=Cp1252; name=file3.tmp\n         Content-Transfer-Encoding: binary\n         Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;file3.tmp&quot;         \n        ------=_Part_43_341076338.1636107376952--\n --------------------------------------------------------\n</code></pre>\n<p>How can I use the ServletInputStream  in the ContainerRequestFilter without loading the whole file, log the multipart/form-data header and let the InputStream open for the facade ? (Java 8)</p>\n"},{"tags":["java","java-14"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1648567241,"post_id":71664687,"comment_id":126654592,"body_markdown":"If you want `STOP` to behave the same as `default` then just omit the `STOP` case, and it will be part of the default.","body":"If you want <code>STOP</code> to behave the same as <code>default</code> then just omit the <code>STOP</code> case, and it will be part of the default."},{"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"score":0,"creation_date":1648567367,"post_id":71664687,"comment_id":126654654,"body_markdown":"@khelwood That&#39;s of course correct, but not as expressive as explicitly mentioning it.","body":"@khelwood That&#39;s of course correct, but not as expressive as explicitly mentioning it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1648573277,"post_id":71664687,"comment_id":126657001,"body_markdown":"you already found out that it is a preview feature of Java 17 (and 18) - part of [Pattern Matching for switch](https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html) - so it is not possible to use it with previous versions","body":"you already found out that it is a preview feature of Java 17 (and 18) - part of <a href=\"https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html\" rel=\"nofollow noreferrer\">Pattern Matching for switch</a> - so it is not possible to use it with previous versions"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648625899,"post_id":71664687,"comment_id":126669005,"body_markdown":"What is `state`? An `enum`?","body":"What is <code>state</code>? An <code>enum</code>?"},{"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"score":0,"creation_date":1648629979,"post_id":71664687,"comment_id":126670540,"body_markdown":"Yes, it&#39;s an enum.","body":"Yes, it&#39;s an enum."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648719710,"post_id":71664687,"comment_id":126698221,"body_markdown":"Then, if you don’t want to write just `default -&gt;` because you want to be “as expressive as explicitly mentioning it”, why don’t you list *all* remaining cases and omit `default`? Oh, I see, you edited the question and added the definition. So, there’s no reason for a `default` at all. Just use `switch (state) { case PLAY -&gt; run(); case STOP -&gt; stop(); }` or, if you consider potential modifications of the `enum` type: `switch (state) { case PLAY -&gt; run(); case STOP -&gt; stop(); default -&gt; throw new AssertionError(); }`","body":"Then, if you don’t want to write just <code>default -&gt;</code> because you want to be “as expressive as explicitly mentioning it”, why don’t you list <i>all</i> remaining cases and omit <code>default</code>? Oh, I see, you edited the question and added the definition. So, there’s no reason for a <code>default</code> at all. Just use <code>switch (state) { case PLAY -&gt; run(); case STOP -&gt; stop(); }</code> or, if you consider potential modifications of the <code>enum</code> type: <code>switch (state) { case PLAY -&gt; run(); case STOP -&gt; stop(); default -&gt; throw new AssertionError(); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":8008050,"reputation":337,"user_id":6040762,"display_name":"rehnoj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648568682,"creation_date":1648568682,"answer_id":71665074,"question_id":71664687,"body_markdown":"Do not think that is possible. An alternative is to  just include stop() in both cases:\r\n```java\r\nswitch (state) {\r\n    case PLAY -&gt; run();\r\n    case STOP -&gt; stop();\r\n    default -&gt; stop();\r\n}\r\n```","title":"Java 14 Switch-Expression with default case","body":"<p>Do not think that is possible. An alternative is to  just include stop() in both cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (state) {\n    case PLAY -&gt; run();\n    case STOP -&gt; stop();\n    default -&gt; stop();\n}\n</code></pre>\n"}],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1648630097,"creation_date":1648567048,"question_id":71664687,"body_markdown":"How can I declare a switch case as default, with the new Java 14 Switch Expressions?\r\n\r\nAll I want is:\r\n\r\n\r\n    enum States {\r\n        PLAY, STOP\r\n    }\r\n    ...\r\n    States state = ...\r\n\r\n    switch (state) {\r\n        case PLAY -&gt; { run(); }\r\n        case STOP, default -&gt; { stop(); }\r\n    }\r\n\r\nWhich doesn&#39;t compile. It compiles with Java 17 _**Preview**_-Features, but that can&#39;t be the solution?! I really want to avoid using unfinished features.\r\n\r\nIt should be the equivalent to the old-style switch statement:\r\n\r\n    switch (state) {\r\n        case PLAY: run(); break;\r\n        case STOP: // &lt;-- No extra &quot;break;&quot;. Intentional fall-through!\r\n        default: stop(); break;\r\n    }\r\n\r\nIs that possible with plain Java 14 (or maybe 17)?","title":"Java 14 Switch-Expression with default case","body":"<p>How can I declare a switch case as default, with the new Java 14 Switch Expressions?</p>\n<p>All I want is:</p>\n<pre><code>enum States {\n    PLAY, STOP\n}\n...\nStates state = ...\n\nswitch (state) {\n    case PLAY -&gt; { run(); }\n    case STOP, default -&gt; { stop(); }\n}\n</code></pre>\n<p>Which doesn't compile. It compiles with Java 17 <em><strong>Preview</strong></em>-Features, but that can't be the solution?! I really want to avoid using unfinished features.</p>\n<p>It should be the equivalent to the old-style switch statement:</p>\n<pre><code>switch (state) {\n    case PLAY: run(); break;\n    case STOP: // &lt;-- No extra &quot;break;&quot;. Intentional fall-through!\n    default: stop(); break;\n}\n</code></pre>\n<p>Is that possible with plain Java 14 (or maybe 17)?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648630061,"creation_date":1648630061,"answer_id":71674195,"question_id":71673160,"body_markdown":"You need to change the value of `deactivate.setup` in the application properties.\r\n\r\nIn your case, the list values are as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/axvO2.png\r\n\r\nAs you can see `{` and `&#39;` characters are in the list. So change `deactivate.setup` value with `user_deleted,user_deactivated,admin_deleted,admin_deactivated`.","title":"Reading values from app propertis and check if contains?","body":"<p>You need to change the value of <code>deactivate.setup</code> in the application properties.</p>\n<p>In your case, the list values are as below</p>\n<p><a href=\"https://i.stack.imgur.com/axvO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axvO2.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see <code>{</code> and <code>'</code> characters are in the list. So change <code>deactivate.setup</code> value with <code>user_deleted,user_deactivated,admin_deleted,admin_deactivated</code>.</p>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648630061,"creation_date":1648625238,"question_id":71673160,"body_markdown":"I have this in my app propertis:\r\n\r\n    deactivate.setup ={&#39;user_deleted&#39;,&#39;user_deactivated&#39;,&#39;admin_deleted&#39;,&#39;admin_deactivated&#39;}\r\nThis is how i read properties:\r\n\r\n    @Value(&quot;${deactivate.setup}&quot;)\r\n    private List&lt;String&gt; deactivate;\r\n\r\nBut when i use this it always return false:\r\n\r\n    if(deactivate.contains(getCode(resource))){}\r\n\r\nAny suggestion?","title":"Reading values from app propertis and check if contains?","body":"<p>I have this in my app propertis:</p>\n<pre><code>deactivate.setup ={'user_deleted','user_deactivated','admin_deleted','admin_deactivated'}\n</code></pre>\n<p>This is how i read properties:</p>\n<pre><code>@Value(&quot;${deactivate.setup}&quot;)\nprivate List&lt;String&gt; deactivate;\n</code></pre>\n<p>But when i use this it always return false:</p>\n<pre><code>if(deactivate.contains(getCode(resource))){}\n</code></pre>\n<p>Any suggestion?</p>\n"},{"tags":["java","swing","splash-screen","java-threads"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":6,"creation_date":1648630122,"post_id":71674187,"comment_id":126670597,"body_markdown":"Just from the title, I&#39;d recommend: Don&#39;t block the Event Dispatch Thread.","body":"Just from the title, I&#39;d recommend: Don&#39;t block the Event Dispatch Thread."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1648631358,"post_id":71674187,"comment_id":126671056,"body_markdown":"Thread th = new Thread(); th.sleep(100); --&gt; you are strying to &quot;sleep&quot; a non started thread , th here is just an instance , if you like to make it do some work you need to submit the task to the thread th and use th.start();","body":"Thread th = new Thread(); th.sleep(100); --&gt; you are strying to &quot;sleep&quot; a non started thread , th here is just an instance , if you like to make it do some work you need to submit the task to the thread th and use th.start();"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1648635127,"post_id":71674187,"comment_id":126672611,"body_markdown":"Swing is single threaded and not thread safe.  See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details","body":"Swing is single threaded and not thread safe.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1648635229,"post_id":71674187,"comment_id":126672652,"body_markdown":"Your best bet is to probably use a [`SwingWorker`](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html), for [example](https://stackoverflow.com/questions/14802662/splash-screen-progress-bar-not-drawing/14803941#14803941) and [example](https://stackoverflow.com/questions/69275599/jframe-splash-screen-wont-display-an-image/69276856#69276856)","body":"Your best bet is to probably use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>, for <a href=\"https://stackoverflow.com/questions/14802662/splash-screen-progress-bar-not-drawing/14803941#14803941\">example</a> and <a href=\"https://stackoverflow.com/questions/69275599/jframe-splash-screen-wont-display-an-image/69276856#69276856\">example</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649256942,"post_id":71674187,"comment_id":126830828,"body_markdown":"`Thread.sleep(…)` is a `static` method; writing `th.sleep(…)` is misleading. The `th` is irrelevant and since you’re not using it anywhere else, the whole `Thread` instance has no effect here. As said by Oussama ZAGHDOUD, you’re not even starting the thread.","body":"<code>Thread.sleep(…)</code> is a <code>static</code> method; writing <code>th.sleep(…)</code> is misleading. The <code>th</code> is irrelevant and since you’re not using it anywhere else, the whole <code>Thread</code> instance has no effect here. As said by Oussama ZAGHDOUD, you’re not even starting the thread."}],"owner":{"account_id":12622352,"reputation":1,"user_id":9177372,"display_name":"Ivan Kojic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648630026,"creation_date":1648630026,"question_id":71674187,"body_markdown":"I&#39;m trying to make Splash screen.\r\nI have a class SplashScreen.java that extends JFrame. I saw many examples of the code I&#39;m using but for some reason it doesn&#39;t work. After running I just get an all black JFrame without components, but in console its showing numbers from for loop one at the time as it should.\r\n\r\nWhen I remove thread.sleep I get my JFrame but progressBar is at &quot;100%&quot; right away, as it should be.\r\n\r\n[Picture of a black JFrame without components][1]\r\n\r\nWhat am I doing wrong? Why swing components are not showing at all when I call thread.sleep()?\r\n\r\n\r\nCode from SplashScreen.java class:\r\n```\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tThread th = new Thread();\r\n\t\t\tfor(int i = 0; i &lt;= 100; i++) {\r\n\r\n\t\t\t\tlblLoadingValue.setText(i + &quot;%&quot;);\r\n\t\t\t\tprogressBar.setValue(i);\r\n\t\t\t\tif (i == 10) {\r\n\t\t\t\t\tlblLoading.setText(&quot;Loading App...&quot;);\r\n\t\t\t\t\tprogressBar.setBackground(Color.CYAN);\r\n\t\t\t\t\tSystem.out.println(&quot;1&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (i == 20) {\r\n\t\t\t\t\tlblLoading.setText(&quot;Loading Modules...&quot;);\r\n\t\t\t\t\tprogressBar.setBackground(Color.RED);\r\n\t\t\t\t\tSystem.out.println(&quot;2&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (i == 40) {\r\n\t\t\t\t\tlblLoading.setText(&quot;Connecting to Database...&quot;);\r\n\t\t\t\t\tprogressBar.setBackground(Color.YELLOW);\r\n\t\t\t\t\tSystem.out.println(&quot;3&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (i == 60) {\r\n\t\t\t\t\tlblLoading.setText(&quot;Connection Successful...&quot;);\r\n\t\t\t\t\tprogressBar.setBackground(Color.GREEN);\r\n\t\t\t\t\tSystem.out.println(&quot;4&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (i == 80) {\r\n\t\t\t\t\tlblLoading.setText(&quot;Launching App...&quot;);\r\n\t\t\t\t\tprogressBar.setBackground(Color.ORANGE);\r\n\t\t\t\t\tSystem.out.println(&quot;5&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (i == 100) {\r\n\t\t\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t\t\t\tdispose();\r\n\t\t\t\t\tLogin login = new Login();\r\n\t\t\t\t\tlogin.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\tth.sleep(100);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n```\r\nThis code is in constructor of SplashScreen class, after creation of all swing elements.\r\nPlease ignore progressBar.setBackground, I tried to see will it show any color at all..\r\n\r\n\r\nCode from starting class(App.java):\r\n```\r\npublic class App {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\t\t\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdbConnect conn = new dbConnect();\r\n\t\t\t\t\t\tconn.connect();\r\n\r\n//\t\t\t\t\t\tSTART SS\r\n\t\t\t\t\t\tSplashScreen sp = new SplashScreen();\r\n\t\t\t\t\t\tsp.setVisible(true);\r\n\r\n\t\t\t\t\t\tconn.closeConnection();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U0cZL.jpg","title":"Java Swing Components not showing if Thread.sleep is called","body":"<p>I'm trying to make Splash screen.\nI have a class SplashScreen.java that extends JFrame. I saw many examples of the code I'm using but for some reason it doesn't work. After running I just get an all black JFrame without components, but in console its showing numbers from for loop one at the time as it should.</p>\n<p>When I remove thread.sleep I get my JFrame but progressBar is at &quot;100%&quot; right away, as it should be.</p>\n<p><a href=\"https://i.stack.imgur.com/U0cZL.jpg\" rel=\"nofollow noreferrer\">Picture of a black JFrame without components</a></p>\n<p>What am I doing wrong? Why swing components are not showing at all when I call thread.sleep()?</p>\n<p>Code from SplashScreen.java class:</p>\n<pre><code>        try {\n            \n            Thread th = new Thread();\n            for(int i = 0; i &lt;= 100; i++) {\n\n                lblLoadingValue.setText(i + &quot;%&quot;);\n                progressBar.setValue(i);\n                if (i == 10) {\n                    lblLoading.setText(&quot;Loading App...&quot;);\n                    progressBar.setBackground(Color.CYAN);\n                    System.out.println(&quot;1&quot;);\n                }\n                if (i == 20) {\n                    lblLoading.setText(&quot;Loading Modules...&quot;);\n                    progressBar.setBackground(Color.RED);\n                    System.out.println(&quot;2&quot;);\n                }\n                if (i == 40) {\n                    lblLoading.setText(&quot;Connecting to Database...&quot;);\n                    progressBar.setBackground(Color.YELLOW);\n                    System.out.println(&quot;3&quot;);\n                }\n                if (i == 60) {\n                    lblLoading.setText(&quot;Connection Successful...&quot;);\n                    progressBar.setBackground(Color.GREEN);\n                    System.out.println(&quot;4&quot;);\n                }\n                if (i == 80) {\n                    lblLoading.setText(&quot;Launching App...&quot;);\n                    progressBar.setBackground(Color.ORANGE);\n                    System.out.println(&quot;5&quot;);\n                }\n                if (i == 100) {\n                    System.out.println(&quot;Done&quot;);\n                    dispose();\n                    Login login = new Login();\n                    login.setVisible(true);\n                }\n                th.sleep(100);\n            }\n        } catch (Exception e) {\n            // TODO: handle exception\n        }\n</code></pre>\n<p>This code is in constructor of SplashScreen class, after creation of all swing elements.\nPlease ignore progressBar.setBackground, I tried to see will it show any color at all..</p>\n<p>Code from starting class(App.java):</p>\n<pre><code>public class App {\n    \n    public static void main(String[] args) {\n                    \n            EventQueue.invokeLater(new Runnable() {\n                public void run() {\n                    try {\n                        dbConnect conn = new dbConnect();\n                        conn.connect();\n\n//                      START SS\n                        SplashScreen sp = new SplashScreen();\n                        sp.setVisible(true);\n\n                        conn.closeConnection();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648629998,"creation_date":1648629998,"answer_id":71674179,"question_id":71664443,"body_markdown":"You can create a `Filter`. This Filter gets the User from DB and add it to session as attribute. \r\nThen you can take the User object from session by `httpRequest.getAttribute()`\r\n\r\nHere is about creating filter: https://www.baeldung.com/spring-boot-add-filter\r\n\r\nIt is about setting ang getting session object: https://stackoverflow.com/questions/35444633/spring-how-to-pass-objects-from-filters-to-controllers\r\n","title":"In Spring Boot, can I automatically map a JWT ID token to a repository entity before the request hits the controller?","body":"<p>You can create a <code>Filter</code>. This Filter gets the User from DB and add it to session as attribute.\nThen you can take the User object from session by <code>httpRequest.getAttribute()</code></p>\n<p>Here is about creating filter: <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-add-filter</a></p>\n<p>It is about setting ang getting session object: <a href=\"https://stackoverflow.com/questions/35444633/spring-how-to-pass-objects-from-filters-to-controllers\">Spring: how to pass objects from filters to controllers</a></p>\n"}],"owner":{"account_id":22986989,"reputation":11,"user_id":17309311,"display_name":"Gimmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648629998,"creation_date":1648566101,"question_id":71664443,"body_markdown":"I have a Spring Boot web application that expects all incoming requests to have a cookie with a valid JWT ID token. The ID token holds the email address of the user, which is used to query the database for the User entity. The User entity is then used by multiple services.\r\n\r\nCurrently, the controllers receive the raw ID token as a parameter, and then passes it down to the services:\r\n\r\n```java\r\n@PostMapping()\r\nvoid foo(@CookieValue String rawIdToken) {\r\n  myService.bar(rawIdToken);\r\n}\r\n```\r\n\r\nThen each service is parsing the token and querying the database:\r\n\r\n```java\r\nvoid bar(String rawIdToken) {\r\n\r\n  // Parse the ID token\r\n  IdToken idToken = IdToken.from(&quot;RAW_ID_TOKEN&quot;);\r\n\r\n  // Query the database\r\n  User user = userRepository.findByEmail(idToken.getEmail());\r\n\r\n  // Code that requires the User entity..\r\n}\r\n```\r\n\r\nIs there a way to avoid having to do this every time, and instead automatically make the User entity available to all controllers? So that, for example, the sample controller above can become something like that:\r\n\r\n```java\r\n@PostMapping()\r\nvoid foo(User user) {\r\n  myService.bar(user);\r\n}\r\n```\r\n\r\nAnd the service:\r\n\r\n```java\r\nvoid bar(User user) {\r\n  // Code that requires the User entity..\r\n}\r\n```\r\n\r\nPlease let me know if I am looking at this the wrong way.","title":"In Spring Boot, can I automatically map a JWT ID token to a repository entity before the request hits the controller?","body":"<p>I have a Spring Boot web application that expects all incoming requests to have a cookie with a valid JWT ID token. The ID token holds the email address of the user, which is used to query the database for the User entity. The User entity is then used by multiple services.</p>\n<p>Currently, the controllers receive the raw ID token as a parameter, and then passes it down to the services:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping()\nvoid foo(@CookieValue String rawIdToken) {\n  myService.bar(rawIdToken);\n}\n</code></pre>\n<p>Then each service is parsing the token and querying the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bar(String rawIdToken) {\n\n  // Parse the ID token\n  IdToken idToken = IdToken.from(&quot;RAW_ID_TOKEN&quot;);\n\n  // Query the database\n  User user = userRepository.findByEmail(idToken.getEmail());\n\n  // Code that requires the User entity..\n}\n</code></pre>\n<p>Is there a way to avoid having to do this every time, and instead automatically make the User entity available to all controllers? So that, for example, the sample controller above can become something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping()\nvoid foo(User user) {\n  myService.bar(user);\n}\n</code></pre>\n<p>And the service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bar(User user) {\n  // Code that requires the User entity..\n}\n</code></pre>\n<p>Please let me know if I am looking at this the wrong way.</p>\n"},{"tags":["java","while-loop","break"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1648629072,"post_id":71673950,"comment_id":126670189,"body_markdown":"What does it print out, when you expect that it would break?","body":"What does it print out, when you expect that it would break?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648629624,"post_id":71673950,"comment_id":126670386,"body_markdown":"In short: `0.1` cannot be exactly represented by a `double`. That means adding up that value multiple times will not be exactly `0.5`, but a value slightly bigger. Change the condition in your `if` to `number &gt;= 0.5`.","body":"In short: <code>0.1</code> cannot be exactly represented by a <code>double</code>. That means adding up that value multiple times will not be exactly <code>0.5</code>, but a value slightly bigger. Change the condition in your <code>if</code> to <code>number &gt;= 0.5</code>."},{"owner":{"account_id":24743077,"reputation":1,"user_id":18629589,"display_name":"ansc"},"score":0,"creation_date":1648983436,"post_id":71673950,"comment_id":126756346,"body_markdown":"@AndyTurner problem is that it doesn&#39;t stop counting","body":"@AndyTurner problem is that it doesn&#39;t stop counting"},{"owner":{"account_id":24743077,"reputation":1,"user_id":18629589,"display_name":"ansc"},"score":0,"creation_date":1648983462,"post_id":71673950,"comment_id":126756349,"body_markdown":"@f1sh oh i never even thought of the representation...","body":"@f1sh oh i never even thought of the representation..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649001746,"post_id":71673950,"comment_id":126760243,"body_markdown":"@ansc I understand that it won&#39;t stop counting, that wasn&#39;t my question: I asked, when you expected that it *would have* stopped, *what did it print*? That is, does it print `0.5`, or something else?","body":"@ansc I understand that it won&#39;t stop counting, that wasn&#39;t my question: I asked, when you expected that it <i>would have</i> stopped, <i>what did it print</i>? That is, does it print <code>0.5</code>, or something else?"}],"owner":{"account_id":24743077,"reputation":1,"user_id":18629589,"display_name":"ansc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648629082,"answer_count":0,"score":0,"last_activity_date":1648628937,"creation_date":1648628937,"question_id":71673950,"body_markdown":"//Hi. i&#39;m having problem with my break for the loop. It&#39;s my understanding that only a minor tweak needs to be made. I&#39;ve tried different approaches, though they mostly involve making bigger changes. Can anyone help me out with pointing out why my code doesn&#39;t stop when number reaches 0.5?\r\n\r\n    public class test_c  \r\n    {  \r\n    public static void main(String\\[\\] args)  \r\n    {  \r\n    double number = 2.0;\r\n\r\n    while (true)  \r\n    {  \r\n    number -= 0.1;  \r\n    if (number == 0.5)  \r\n    break;  \r\n  \r\n    System.out.println (number);  \r\n    }  \r\n    }  \r\n    }\r\n\r\n//I&#39;m at a loss and way behind..","title":"My loop won&#39;t break. what am I doing wrong?","body":"<p>//Hi. i'm having problem with my break for the loop. It's my understanding that only a minor tweak needs to be made. I've tried different approaches, though they mostly involve making bigger changes. Can anyone help me out with pointing out why my code doesn't stop when number reaches 0.5?</p>\n<pre><code>public class test_c  \n{  \npublic static void main(String\\[\\] args)  \n{  \ndouble number = 2.0;\n\nwhile (true)  \n{  \nnumber -= 0.1;  \nif (number == 0.5)  \nbreak;  \n\nSystem.out.println (number);  \n}  \n}  \n}\n</code></pre>\n<p>//I'm at a loss and way behind..</p>\n"},{"tags":["java","macos","info.plist","darkmode"],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648628730,"creation_date":1648628730,"answer_id":71673892,"question_id":71673586,"body_markdown":"Things seem to have moved on, I found this issue fixed in Java 14 - https://bugs.openjdk.java.net/browse/JDK-8235363\r\n\r\nI found setting \r\n\r\n    -Dapple.awt.application.appearance=system\r\n\r\nas an element in *JVMOptions* in the *Info.plist* worked as expected.","title":"Java application not using dark title bars even though have implemented NSRequiresAquaSystemAppearance = False","body":"<p>Things seem to have moved on, I found this issue fixed in Java 14 - <a href=\"https://bugs.openjdk.java.net/browse/JDK-8235363\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8235363</a></p>\n<p>I found setting</p>\n<pre><code>-Dapple.awt.application.appearance=system\n</code></pre>\n<p>as an element in <em>JVMOptions</em> in the <em>Info.plist</em> worked as expected.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71673892,"answer_count":1,"score":2,"last_activity_date":1648628871,"creation_date":1648627204,"question_id":71673586,"body_markdown":"I have implemented a Dark Mode for my Java application (using [flatlaf][1]) but the title bar has light appearance even when MacOS itself it set to use Dark Mode. The possible solution is to set **NSRequiresAquaSystemAppearance** to **false** in the **Info.plist** file. I have done this as part of building the appbundle (with [TheInfiniteKind fork of appbundler][2]) but it is not working for me\r\n\r\nThis is the contents of the generated **Info.plist** file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n    &lt;plist version=&quot;1.0&quot;&gt;\r\n    &lt;dict&gt;\r\n    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\r\n    &lt;string&gt;English&lt;/string&gt;\r\n    &lt;key&gt;CFBundleExecutable&lt;/key&gt;\r\n    &lt;string&gt;SongKong&lt;/string&gt;\r\n    &lt;key&gt;CFBundleIconFile&lt;/key&gt;\r\n    &lt;string&gt;songkong.icns&lt;/string&gt;\r\n    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;\r\n    &lt;string&gt;com.jthink.songkong&lt;/string&gt;\r\n    &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\r\n    &lt;string&gt;SongKong&lt;/string&gt;\r\n    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\r\n    &lt;string&gt;6.0&lt;/string&gt;\r\n    &lt;key&gt;CFBundleName&lt;/key&gt;\r\n    &lt;string&gt;SongKong&lt;/string&gt;\r\n    &lt;key&gt;CFBundlePackageType&lt;/key&gt;\r\n    &lt;string&gt;APPL&lt;/string&gt;\r\n    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\r\n    &lt;string&gt;8.2&lt;/string&gt;\r\n    &lt;key&gt;CFBundleVersion&lt;/key&gt;\r\n    &lt;string&gt;1.0&lt;/string&gt;\r\n    &lt;key&gt;CFBundleHelpBookFolder&lt;/key&gt;\r\n    &lt;string&gt;SongKongHelp&lt;/string&gt;\r\n    &lt;key&gt;CFBundleHelpBookName&lt;/key&gt;\r\n    &lt;string&gt;com.jthink.songkong.Help&lt;/string&gt;\r\n    &lt;key&gt;CFBundleAllowMixedLocalizations&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;CFBundleSignature&lt;/key&gt;\r\n    &lt;string&gt;sgkg&lt;/string&gt;\r\n    &lt;key&gt;NSHumanReadableCopyright&lt;/key&gt;\r\n    &lt;string&gt;&lt;/string&gt;\r\n    &lt;key&gt;LSMinimumSystemVersion&lt;/key&gt;\r\n    &lt;string&gt;10.7&lt;/string&gt;\r\n    &lt;key&gt;LSApplicationCategoryType&lt;/key&gt;\r\n    &lt;string&gt;public.app-category.music&lt;/string&gt;\r\n    &lt;key&gt;LSUIElement&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;NSHighResolutionCapable&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;NSSupportsAutomaticGraphicsSwitching&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;IgnorePSN&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;NSRequiresAquaSystemAppearance&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;JVMRuntime&lt;/key&gt;\r\n    &lt;string&gt;temurin-17.jdk&lt;/string&gt;\r\n    &lt;key&gt;JREPreferred&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;JDKPreferred&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;JVMMainClassName&lt;/key&gt;\r\n    &lt;string&gt;com.jthink.songkong.cmdline.SongKong&lt;/string&gt;\r\n    &lt;key&gt;JVMDebug&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\r\n    &lt;array&gt;\r\n    &lt;dict&gt;\r\n    &lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;\r\n    &lt;array&gt;\r\n    &lt;string&gt;mp3&lt;/string&gt;\r\n    &lt;string&gt;wma&lt;/string&gt;\r\n    &lt;string&gt;ogg&lt;/string&gt;\r\n    &lt;string&gt;flac&lt;/string&gt;\r\n    &lt;string&gt;wav&lt;/string&gt;\r\n    &lt;string&gt;aif&lt;/string&gt;\r\n    &lt;string&gt;aiff&lt;/string&gt;\r\n    &lt;string&gt;aifc&lt;/string&gt;\r\n    &lt;/array&gt;\r\n    &lt;key&gt;LSTypeIsPackage&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;CFBundleTypeName&lt;/key&gt;\r\n    &lt;string&gt;Music Files&lt;/string&gt;\r\n    &lt;key&gt;CFBundleTypeRole&lt;/key&gt;\r\n    &lt;string&gt;Editor&lt;/string&gt;\r\n    &lt;/dict&gt;\r\n    &lt;/array&gt;\r\n    &lt;key&gt;LSArchitecturePriority&lt;/key&gt;\r\n    &lt;array&gt;\r\n    &lt;/array&gt;\r\n    &lt;key&gt;LSEnvironment&lt;/key&gt;\r\n    &lt;dict&gt;\r\n    &lt;key&gt;LC_CTYPE&lt;/key&gt;\r\n    &lt;string&gt;UTF-8&lt;/string&gt;\r\n    &lt;/dict&gt;\r\n    &lt;key&gt;JVMOptions&lt;/key&gt;\r\n    &lt;array&gt;\r\n    &lt;string&gt;-Dcom.mchange.v2.log.MLog=com.mchange.v2.log.jdk14logging.Jdk14MLog&lt;/string&gt;\r\n    &lt;string&gt;-Dorg.jboss.logging.provider=jdk&lt;/string&gt;\r\n    &lt;string&gt;-Djava.util.logging.config.class=com.jthink.songkong.logging.StandardLogging&lt;/string&gt;\r\n    &lt;string&gt;-Dapple.laf.useScreenMenuBar=true&lt;/string&gt;\r\n    &lt;string&gt;-Dapple.awt.brushMetalLook=true&lt;/string&gt;\r\n    &lt;string&gt;-Dsun.java2d.metal=true&lt;/string&gt;\r\n    &lt;string&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;/string&gt;\r\n    &lt;/array&gt;\r\n    &lt;key&gt;JVMDefaultOptions&lt;/key&gt;\r\n    &lt;dict&gt;\r\n    &lt;/dict&gt;\r\n    &lt;key&gt;JVMArguments&lt;/key&gt;\r\n    &lt;array&gt;\r\n    &lt;/array&gt;\r\n    &lt;key&gt;NSRequiresAquaSystemAppearance&lt;/key&gt;\r\n    &lt;false/&gt;\r\n    &lt;key&gt;AppleWindowTabbingMode&lt;/key&gt;\r\n    &lt;string&gt;manual&lt;/string&gt;\r\n    &lt;/dict&gt;\r\n    &lt;/plist&gt;\r\n\r\n\r\n  [1]: https://www.formdev.com/flatlaf/\r\n  [2]: https://github.com/TheInfiniteKind/appbundler","title":"Java application not using dark title bars even though have implemented NSRequiresAquaSystemAppearance = False","body":"<p>I have implemented a Dark Mode for my Java application (using <a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">flatlaf</a>) but the title bar has light appearance even when MacOS itself it set to use Dark Mode. The possible solution is to set <strong>NSRequiresAquaSystemAppearance</strong> to <strong>false</strong> in the <strong>Info.plist</strong> file. I have done this as part of building the appbundle (with <a href=\"https://github.com/TheInfiniteKind/appbundler\" rel=\"nofollow noreferrer\">TheInfiniteKind fork of appbundler</a>) but it is not working for me</p>\n<p>This is the contents of the generated <strong>Info.plist</strong> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n&lt;dict&gt;\n&lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\n&lt;string&gt;English&lt;/string&gt;\n&lt;key&gt;CFBundleExecutable&lt;/key&gt;\n&lt;string&gt;SongKong&lt;/string&gt;\n&lt;key&gt;CFBundleIconFile&lt;/key&gt;\n&lt;string&gt;songkong.icns&lt;/string&gt;\n&lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n&lt;string&gt;com.jthink.songkong&lt;/string&gt;\n&lt;key&gt;CFBundleDisplayName&lt;/key&gt;\n&lt;string&gt;SongKong&lt;/string&gt;\n&lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\n&lt;string&gt;6.0&lt;/string&gt;\n&lt;key&gt;CFBundleName&lt;/key&gt;\n&lt;string&gt;SongKong&lt;/string&gt;\n&lt;key&gt;CFBundlePackageType&lt;/key&gt;\n&lt;string&gt;APPL&lt;/string&gt;\n&lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\n&lt;string&gt;8.2&lt;/string&gt;\n&lt;key&gt;CFBundleVersion&lt;/key&gt;\n&lt;string&gt;1.0&lt;/string&gt;\n&lt;key&gt;CFBundleHelpBookFolder&lt;/key&gt;\n&lt;string&gt;SongKongHelp&lt;/string&gt;\n&lt;key&gt;CFBundleHelpBookName&lt;/key&gt;\n&lt;string&gt;com.jthink.songkong.Help&lt;/string&gt;\n&lt;key&gt;CFBundleAllowMixedLocalizations&lt;/key&gt;\n&lt;true/&gt;\n&lt;key&gt;CFBundleSignature&lt;/key&gt;\n&lt;string&gt;sgkg&lt;/string&gt;\n&lt;key&gt;NSHumanReadableCopyright&lt;/key&gt;\n&lt;string&gt;&lt;/string&gt;\n&lt;key&gt;LSMinimumSystemVersion&lt;/key&gt;\n&lt;string&gt;10.7&lt;/string&gt;\n&lt;key&gt;LSApplicationCategoryType&lt;/key&gt;\n&lt;string&gt;public.app-category.music&lt;/string&gt;\n&lt;key&gt;LSUIElement&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;NSHighResolutionCapable&lt;/key&gt;\n&lt;true/&gt;\n&lt;key&gt;NSSupportsAutomaticGraphicsSwitching&lt;/key&gt;\n&lt;true/&gt;\n&lt;key&gt;IgnorePSN&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;NSRequiresAquaSystemAppearance&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;JVMRuntime&lt;/key&gt;\n&lt;string&gt;temurin-17.jdk&lt;/string&gt;\n&lt;key&gt;JREPreferred&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;JDKPreferred&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;JVMMainClassName&lt;/key&gt;\n&lt;string&gt;com.jthink.songkong.cmdline.SongKong&lt;/string&gt;\n&lt;key&gt;JVMDebug&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n&lt;array&gt;\n&lt;dict&gt;\n&lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;\n&lt;array&gt;\n&lt;string&gt;mp3&lt;/string&gt;\n&lt;string&gt;wma&lt;/string&gt;\n&lt;string&gt;ogg&lt;/string&gt;\n&lt;string&gt;flac&lt;/string&gt;\n&lt;string&gt;wav&lt;/string&gt;\n&lt;string&gt;aif&lt;/string&gt;\n&lt;string&gt;aiff&lt;/string&gt;\n&lt;string&gt;aifc&lt;/string&gt;\n&lt;/array&gt;\n&lt;key&gt;LSTypeIsPackage&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;CFBundleTypeName&lt;/key&gt;\n&lt;string&gt;Music Files&lt;/string&gt;\n&lt;key&gt;CFBundleTypeRole&lt;/key&gt;\n&lt;string&gt;Editor&lt;/string&gt;\n&lt;/dict&gt;\n&lt;/array&gt;\n&lt;key&gt;LSArchitecturePriority&lt;/key&gt;\n&lt;array&gt;\n&lt;/array&gt;\n&lt;key&gt;LSEnvironment&lt;/key&gt;\n&lt;dict&gt;\n&lt;key&gt;LC_CTYPE&lt;/key&gt;\n&lt;string&gt;UTF-8&lt;/string&gt;\n&lt;/dict&gt;\n&lt;key&gt;JVMOptions&lt;/key&gt;\n&lt;array&gt;\n&lt;string&gt;-Dcom.mchange.v2.log.MLog=com.mchange.v2.log.jdk14logging.Jdk14MLog&lt;/string&gt;\n&lt;string&gt;-Dorg.jboss.logging.provider=jdk&lt;/string&gt;\n&lt;string&gt;-Djava.util.logging.config.class=com.jthink.songkong.logging.StandardLogging&lt;/string&gt;\n&lt;string&gt;-Dapple.laf.useScreenMenuBar=true&lt;/string&gt;\n&lt;string&gt;-Dapple.awt.brushMetalLook=true&lt;/string&gt;\n&lt;string&gt;-Dsun.java2d.metal=true&lt;/string&gt;\n&lt;string&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;/string&gt;\n&lt;/array&gt;\n&lt;key&gt;JVMDefaultOptions&lt;/key&gt;\n&lt;dict&gt;\n&lt;/dict&gt;\n&lt;key&gt;JVMArguments&lt;/key&gt;\n&lt;array&gt;\n&lt;/array&gt;\n&lt;key&gt;NSRequiresAquaSystemAppearance&lt;/key&gt;\n&lt;false/&gt;\n&lt;key&gt;AppleWindowTabbingMode&lt;/key&gt;\n&lt;string&gt;manual&lt;/string&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n"},{"tags":["java","ftp"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1285790955,"post_id":3824983,"comment_id":4060418,"body_markdown":"Is getTImestamp() reporting the correct values for all files?","body":"Is getTImestamp() reporting the correct values for all files?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285788140,"creation_date":1285788140,"answer_id":3825076,"question_id":3824983,"body_markdown":"I see only one mistake:\r\n\r\n    FTPFile choice = null;\r\n\r\nIf the first file were the latest modified file, then the method would return `null`, causing a potential `NullPointerException`.\r\n\r\nChange it to\r\n\r\n    FTPFile choice = files[0];\r\n\r\nand the logic should be right.\r\n\r\nIf it still doesn&#39;t return the expected file, then most likely the file in question simply doesn&#39;t have the expected last modified date. Add something like this to the `for` loop in the method:\r\n\r\n    System.out.println(file.getTimestamp().getTime() + &quot; - &quot; + file.getName());\r\n\r\nAnd look closer.","title":"get latest file from ftp","body":"<p>I see only one mistake:</p>\n\n<pre><code>FTPFile choice = null;\n</code></pre>\n\n<p>If the first file were the latest modified file, then the method would return <code>null</code>, causing a potential <code>NullPointerException</code>.</p>\n\n<p>Change it to</p>\n\n<pre><code>FTPFile choice = files[0];\n</code></pre>\n\n<p>and the logic should be right.</p>\n\n<p>If it still doesn't return the expected file, then most likely the file in question simply doesn't have the expected last modified date. Add something like this to the <code>for</code> loop in the method:</p>\n\n<pre><code>System.out.println(file.getTimestamp().getTime() + \" - \" + file.getName());\n</code></pre>\n\n<p>And look closer.</p>\n"},{"tags":[],"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1285791745,"creation_date":1285788647,"answer_id":3825133,"question_id":3824983,"body_markdown":"Instead of your &quot;lastFileModified&quot; method, I would create a Comparator. It would be easier to write the sort method:\r\n\r\n    public class LastModifiedComparator implements Comparator&lt;FTPFile&gt; {\r\n\r\n        public int compare(FTPFile f1, FTPFile f2) {\r\n            return f1.getTimestamp().compareTo(f2.getTimeStamp());\r\n        }\r\n    }\r\n\r\nThen, getting the &quot;last&quot; FTPFile is much easier:\r\n\r\n    public FTPFile getMaxLastModified(FTPFile[] ftpFiles) {\r\n        return Collections.max(Arrays.asList(ftpFiles), new LastModifiedComparator());\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nTo come back to your problem: the &quot;lastModified&quot; timestamp is not linked to the FTP upload order. When you upload a file through the FTP protocol, the original timestamp of the file may be preserved.\r\n\r\nSo, if file1 is older than file2, your method will always return file2, even if file2 is uploaded before file1 on the FTP server.\r\n\r\nI think that it is impossible to determine the last uploaded file. This information is not stored by the FTP protocol.\r\nYou can do that only if you overload the &quot;put&quot; method of your FTP client:\r\n\r\n    public void put(File file) {\r\n        // upload code\r\n        FTPFile ftpFile = getJustUploadedFile(file);\r\n        ftpFile.setTimestamp(new Calendar()); // Now! \r\n    }\r\n\r\n","title":"get latest file from ftp","body":"<p>Instead of your \"lastFileModified\" method, I would create a Comparator. It would be easier to write the sort method:</p>\n\n<pre><code>public class LastModifiedComparator implements Comparator&lt;FTPFile&gt; {\n\n    public int compare(FTPFile f1, FTPFile f2) {\n        return f1.getTimestamp().compareTo(f2.getTimeStamp());\n    }\n}\n</code></pre>\n\n<p>Then, getting the \"last\" FTPFile is much easier:</p>\n\n<pre><code>public FTPFile getMaxLastModified(FTPFile[] ftpFiles) {\n    return Collections.max(Arrays.asList(ftpFiles), new LastModifiedComparator());\n}\n</code></pre>\n\n<hr>\n\n<p>To come back to your problem: the \"lastModified\" timestamp is not linked to the FTP upload order. When you upload a file through the FTP protocol, the original timestamp of the file may be preserved.</p>\n\n<p>So, if file1 is older than file2, your method will always return file2, even if file2 is uploaded before file1 on the FTP server.</p>\n\n<p>I think that it is impossible to determine the last uploaded file. This information is not stored by the FTP protocol.\nYou can do that only if you overload the \"put\" method of your FTP client:</p>\n\n<pre><code>public void put(File file) {\n    // upload code\n    FTPFile ftpFile = getJustUploadedFile(file);\n    ftpFile.setTimestamp(new Calendar()); // Now! \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16648537,"reputation":19,"user_id":12032184,"display_name":"Sagir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648628769,"creation_date":1648628769,"answer_id":71673908,"question_id":3824983,"body_markdown":"    FTPClient ftpClient = new FTPClient();\r\n            ftpClient.connect(server, port);\r\n            ftpClient.login(user, pass);\r\n            ftpClient.enterLocalPassiveMode();\r\n      final FTPFile[] ftpFiles = ftpClient.listFiles(&quot;/YourPath&quot;);\r\n      final FTPFile latestFile = Stream.of(ftpFiles).max(Comparator.comparing(FTPFile::getTimestamp))\r\n         .orElse(null);","title":"get latest file from ftp","body":"<pre><code>FTPClient ftpClient = new FTPClient();\n        ftpClient.connect(server, port);\n        ftpClient.login(user, pass);\n        ftpClient.enterLocalPassiveMode();\n  final FTPFile[] ftpFiles = ftpClient.listFiles(&quot;/YourPath&quot;);\n  final FTPFile latestFile = Stream.of(ftpFiles).max(Comparator.comparing(FTPFile::getTimestamp))\n     .orElse(null);\n</code></pre>\n"}],"owner":{"account_id":48172,"reputation":1016,"user_id":142990,"accept_rate":91,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15369,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":3825133,"answer_count":3,"score":9,"last_activity_date":1648628769,"creation_date":1285787255,"question_id":3824983,"body_markdown":"Trying to create a simple plugin that simply connects to an ftp site, looks up the latest file and then downloads it. However, it isn&#39;t getting the latest file.\r\n\r\nI&#39;m using the org.apache.commons.net.ftp.ftpclient for everything.\r\n\r\nHere is my code\r\n\r\n    public static void main(String[] args)\r\n      {\r\n      FTPClient client = new FTPClient();\r\n      try\r\n      {\r\n         client.connect(host);\r\n         client.login(user, pwd);\r\n         FTPFile[] files = client.listFiles();\r\n         FTPFile lastFile = lastFileModified(files); \r\n         System.out.println(lastFile.getName());\r\n         client.disconnect();\r\n      }\r\n      catch(SocketException e)\r\n      {\r\n         // TODO Auto-generated catch block\r\n         e.printStackTrace();\r\n      }\r\n      catch(IOException e)\r\n      {\r\n         // TODO Auto-generated catch block\r\n         e.printStackTrace();\r\n      }\r\n      \r\n    }\r\n   \r\n    public static FTPFile lastFileModified(FTPFile[] files) {\r\n      Date lastMod = files[0].getTimestamp().getTime();\r\n      FTPFile choice = null;\r\n      for (FTPFile file : files) {\r\n              if (file.getTimestamp().getTime().after(lastMod)) {\r\n                      choice = file;\r\n                      lastMod = file.getTimestamp().getTime();\r\n              }\r\n       }\r\n       return choice;\r\n    }\r\n\r\nIt&#39;s getting the list of files, and then returning a file, it just isn&#39;t the latest file. Is there any other way to compare file modification dates using FTPClient or can anyone point me in a direction on what I&#39;m doing wrong. Thanks.","title":"get latest file from ftp","body":"<p>Trying to create a simple plugin that simply connects to an ftp site, looks up the latest file and then downloads it. However, it isn't getting the latest file.</p>\n\n<p>I'm using the org.apache.commons.net.ftp.ftpclient for everything.</p>\n\n<p>Here is my code</p>\n\n<pre><code>public static void main(String[] args)\n  {\n  FTPClient client = new FTPClient();\n  try\n  {\n     client.connect(host);\n     client.login(user, pwd);\n     FTPFile[] files = client.listFiles();\n     FTPFile lastFile = lastFileModified(files); \n     System.out.println(lastFile.getName());\n     client.disconnect();\n  }\n  catch(SocketException e)\n  {\n     // TODO Auto-generated catch block\n     e.printStackTrace();\n  }\n  catch(IOException e)\n  {\n     // TODO Auto-generated catch block\n     e.printStackTrace();\n  }\n\n}\n\npublic static FTPFile lastFileModified(FTPFile[] files) {\n  Date lastMod = files[0].getTimestamp().getTime();\n  FTPFile choice = null;\n  for (FTPFile file : files) {\n          if (file.getTimestamp().getTime().after(lastMod)) {\n                  choice = file;\n                  lastMod = file.getTimestamp().getTime();\n          }\n   }\n   return choice;\n}\n</code></pre>\n\n<p>It's getting the list of files, and then returning a file, it just isn't the latest file. Is there any other way to compare file modification dates using FTPClient or can anyone point me in a direction on what I'm doing wrong. Thanks.</p>\n"},{"tags":["java","multithreading","hibernate","repository"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648629512,"post_id":71673866,"comment_id":126670345,"body_markdown":"What component&#39;s thread-safety are you doubting? Your question is akin to &quot;is Ford with air conditioning fast?&quot;.","body":"What component&#39;s thread-safety are you doubting? Your question is akin to &quot;is Ford with air conditioning fast?&quot;."},{"owner":{"account_id":7695149,"reputation":107,"user_id":5829952,"display_name":"Matthieu Durand"},"score":0,"creation_date":1648631514,"post_id":71673866,"comment_id":126671113,"body_markdown":"Any, the issue is that connection are closing in the middle of the thread (&quot;This statement has been closed&quot;). This issue wasn&#39;t happening before using threads so that&#39;s why I&#39;m asking the question.","body":"Any, the issue is that connection are closing in the middle of the thread (&quot;This statement has been closed&quot;). This issue wasn&#39;t happening before using threads so that&#39;s why I&#39;m asking the question."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648632275,"post_id":71673866,"comment_id":126671419,"body_markdown":"There are plenty of non-threadsafe classes, and if you&#39;ve written broken code then you&#39;ll need to fix it.","body":"There are plenty of non-threadsafe classes, and if you&#39;ve written broken code then you&#39;ll need to fix it."},{"owner":{"account_id":7695149,"reputation":107,"user_id":5829952,"display_name":"Matthieu Durand"},"score":0,"creation_date":1648712940,"post_id":71673866,"comment_id":126695628,"body_markdown":"Is there any list of non thread-safe classes ?","body":"Is there any list of non thread-safe classes ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648713378,"post_id":71673866,"comment_id":126695786,"body_markdown":"No. But if there were, it would be bigger than the list of thread-safe classes. You have an XY problem that you&#39;re trying to solve in a bad way mon ami, there is no magical &quot;make my software thread-safe&quot; trick. If you&#39;re writing a regular Spring Boot program with HikariCP, repositories and the standard stuff, it&#39;s pretty hard to write thread-unsafe programs unless you do something really strange. If you&#39;re working with WebMVC then normally you&#39;re isolated in your own thread. With Webflux it might be different.","body":"No. But if there were, it would be bigger than the list of thread-safe classes. You have an XY problem that you&#39;re trying to solve in a bad way mon ami, there is no magical &quot;make my software thread-safe&quot; trick. If you&#39;re writing a regular Spring Boot program with HikariCP, repositories and the standard stuff, it&#39;s pretty hard to write thread-unsafe programs unless you do something really strange. If you&#39;re working with WebMVC then normally you&#39;re isolated in your own thread. With Webflux it might be different."},{"owner":{"account_id":7695149,"reputation":107,"user_id":5829952,"display_name":"Matthieu Durand"},"score":0,"creation_date":1648715863,"post_id":71673866,"comment_id":126696689,"body_markdown":"Do you know if Cacheable is thread-safe ? It&#39;s the only &quot;non-standard&quot; part of the application, even tho it&#39;s relatively heavy.","body":"Do you know if Cacheable is thread-safe ? It&#39;s the only &quot;non-standard&quot; part of the application, even tho it&#39;s relatively heavy."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648716798,"post_id":71673866,"comment_id":126697065,"body_markdown":"[Cacheable](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html) is quite standard. Don&#39;t ask &quot;is ClassX thread-safe&quot;, ask &quot;is my code using ClassX correctly&quot;. Your code is broken, you&#39;re concentrating on code written by others (for some odd reason). You probably should be showing your code, instead of guessing about which classes might not be thread-safe (the javadoc may usually say something about thread-safety, but you shouldn&#39;t assume a class is thread-safe).","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\" rel=\"nofollow noreferrer\">Cacheable</a> is quite standard. Don&#39;t ask &quot;is ClassX thread-safe&quot;, ask &quot;is my code using ClassX correctly&quot;. Your code is broken, you&#39;re concentrating on code written by others (for some odd reason). You probably should be showing your code, instead of guessing about which classes might not be thread-safe (the javadoc may usually say something about thread-safety, but you shouldn&#39;t assume a class is thread-safe)."}],"owner":{"account_id":7695149,"reputation":107,"user_id":5829952,"display_name":"Matthieu Durand"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648628574,"creation_date":1648628574,"question_id":71673866,"body_markdown":"I have been looking for this information, and I found contradictory statements. Most of the questions and answers have been in a context where sessions are managed manually, which isn&#39;t my case. I&#39;m using springboot repository to manage all my data, and am not managing any session manually.\r\n\r\nIs Hibernate with repositories thread safe ? Are there any way to make it so ?","title":"Is Hibernate with Repositories thread safe?","body":"<p>I have been looking for this information, and I found contradictory statements. Most of the questions and answers have been in a context where sessions are managed manually, which isn't my case. I'm using springboot repository to manage all my data, and am not managing any session manually.</p>\n<p>Is Hibernate with repositories thread safe ? Are there any way to make it so ?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":4085121,"reputation":53,"user_id":4204848,"display_name":"Prasanna Rodrigo"},"score":0,"creation_date":1648547446,"post_id":71658917,"comment_id":126645967,"body_markdown":"Did you try using a TreeSet instead of the ArrayList and a Task Object with a priority number?","body":"Did you try using a TreeSet instead of the ArrayList and a Task Object with a priority number?"},{"owner":{"account_id":8915371,"reputation":319,"user_id":6654129,"display_name":"Asfos22"},"score":0,"creation_date":1648554098,"post_id":71658917,"comment_id":126648600,"body_markdown":"No please, the requirement is ArrayList.","body":"No please, the requirement is ArrayList."}],"owner":{"account_id":8915371,"reputation":319,"user_id":6654129,"display_name":"Asfos22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648628358,"creation_date":1648542993,"question_id":71658917,"body_markdown":"Changing list array priorities. A task can be moved from one list to the other. The idea is that changing the priority of a low-priority task will remove it from the low-priority list and add it to the end of the high-priority list. However, changing the priority of a high-priority task will add it to the beginning of the list of low-priority tasks also 6.Promoting a task. This method will move a high priority task one up the list (the head of the list is the task at index 0). When this method is called with the first task (the one at index 0), there should be no effect (since the task can’t actually go higher up).\r\n \r\n \r\n\r\n              public void changePriority(boolean important, int index) {\r\n                \r\n                \t\tif (important) {\r\n                \t\t\t       \r\n                \t\t\t    \r\n                \t\t        int endOfList = highPriority.size();\r\n                \t\t        \r\n                \t\t          highPriority.add(lowPriority.get(index));\r\n                \t\t\t\t  lowPriority.add(0, highPriority.get(endOfList));\r\n                \t\t\t\t  removeHighPriorityTask(endOfList);// to remove task in lowPriority\r\n                \t\t\t\t\r\n                \t\t} else {\r\n                \t\t\t\r\n                \t\t\t\r\n                \t\t\tint endOfList = highPriority.size();\r\n                \t        \r\n                \t        highPriority.add(endOfList, lowPriority.get(index));\r\n                \t       \r\n                \t        removeLowPriorityTask(index);\r\n                \t        \r\n                \t        // -- promote\r\n                \t        promote(endOfList);\r\n                \t       \r\n                \t\t}\r\n                \r\n                \t}\r\n                \r\n                /* Initialises both lists, to initially be empty. */\r\n                \tpublic void initialiseLists() {\r\n                \r\n                \t\tthis.lowPriority = new ArrayList&lt;String&gt;();\r\n                \t\tthis.highPriority = new ArrayList&lt;String&gt;();\r\n                \r\n                \t}\r\n            \r\n            public void promote(int index) {\r\n            \r\n            \r\n            \t\t  Integer value = index;\r\n            \t\t  value = value ++; // increment value\r\n            \t\t  \r\n            \t\t  highPriority.set(value, highPriority.get(index));\r\n            \t\t \r\n            \t\t\r\n            \t}\r\n        \t/*\r\n        \t * \r\n        \t *\r\n        \t * @param task string to add at the end of the low Priority List\r\n        \t */\r\n        \tpublic void addTask(String task) {\r\n        \r\n        \t\t//lowPriority.add(task);\r\n        \t\t//highPriority.add(task);\r\n        \t\tint endOfList = lowPriority.size();\r\n        \t\tlowPriority.add(endOfList, task);\r\n        \r\n        \t}\r\n        \r\n        public ArrayList&lt;String&gt; highPriority, lowPriority; // the two lists of tasks\r\n    \r\n    /* Produces a string with all the tasks in both lists. */\r\n    \tpublic String toString() {\r\n    \r\n    \t\tString taskString = &quot;&quot;;\r\n    \r\n    \t\tfor (String s : lowPriority) {\r\n    \t\t\ttaskString += s + &quot;\\t&quot;;\r\n    \t\t}\r\n    \r\n    \t\treturn taskString; // dummy return value (before this method is implemented)\r\n    \t}\r\n    \r\n    /* Main class */\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tListsManager tasks = new ListsManager();\r\n    \t\ttasks.addTask(&quot;test 1&quot;);\r\n    \t\ttasks.addTask(&quot;test 2&quot;);\r\n    \t\ttasks.addTask(&quot;test 3&quot;);\r\n    \t\ttasks.changePriority(true, 1);\r\n    \r\n    \t\t// -- print out\r\n    \t\tSystem.out.print(&quot;Lists &quot; + tasks.toString());\r\n    \t}","title":"What is the best way of change ArrayList priority, a task can be moved from one list to the other","body":"<p>Changing list array priorities. A task can be moved from one list to the other. The idea is that changing the priority of a low-priority task will remove it from the low-priority list and add it to the end of the high-priority list. However, changing the priority of a high-priority task will add it to the beginning of the list of low-priority tasks also 6.Promoting a task. This method will move a high priority task one up the list (the head of the list is the task at index 0). When this method is called with the first task (the one at index 0), there should be no effect (since the task can’t actually go higher up).</p>\n<pre><code>          public void changePriority(boolean important, int index) {\n            \n                    if (important) {\n                               \n                            \n                            int endOfList = highPriority.size();\n                            \n                              highPriority.add(lowPriority.get(index));\n                              lowPriority.add(0, highPriority.get(endOfList));\n                              removeHighPriorityTask(endOfList);// to remove task in lowPriority\n                            \n                    } else {\n                        \n                        \n                        int endOfList = highPriority.size();\n                        \n                        highPriority.add(endOfList, lowPriority.get(index));\n                       \n                        removeLowPriorityTask(index);\n                        \n                        // -- promote\n                        promote(endOfList);\n                       \n                    }\n            \n                }\n            \n            /* Initialises both lists, to initially be empty. */\n                public void initialiseLists() {\n            \n                    this.lowPriority = new ArrayList&lt;String&gt;();\n                    this.highPriority = new ArrayList&lt;String&gt;();\n            \n                }\n        \n        public void promote(int index) {\n        \n        \n                  Integer value = index;\n                  value = value ++; // increment value\n                  \n                  highPriority.set(value, highPriority.get(index));\n                 \n                \n            }\n        /*\n         * \n         *\n         * @param task string to add at the end of the low Priority List\n         */\n        public void addTask(String task) {\n    \n            //lowPriority.add(task);\n            //highPriority.add(task);\n            int endOfList = lowPriority.size();\n            lowPriority.add(endOfList, task);\n    \n        }\n    \n    public ArrayList&lt;String&gt; highPriority, lowPriority; // the two lists of tasks\n\n/* Produces a string with all the tasks in both lists. */\n    public String toString() {\n\n        String taskString = &quot;&quot;;\n\n        for (String s : lowPriority) {\n            taskString += s + &quot;\\t&quot;;\n        }\n\n        return taskString; // dummy return value (before this method is implemented)\n    }\n\n/* Main class */\npublic static void main(String[] args) {\n\n        ListsManager tasks = new ListsManager();\n        tasks.addTask(&quot;test 1&quot;);\n        tasks.addTask(&quot;test 2&quot;);\n        tasks.addTask(&quot;test 3&quot;);\n        tasks.changePriority(true, 1);\n\n        // -- print out\n        System.out.print(&quot;Lists &quot; + tasks.toString());\n    }\n</code></pre>\n"},{"tags":["java","version","maven-3","maven-assembly-plugin","manifest.mf"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648626658,"post_id":71673342,"comment_id":126669296,"body_markdown":"Might help: https://stackoverflow.com/questions/1272648/reading-my-own-jars-manifest","body":"Might help: <a href=\"https://stackoverflow.com/questions/1272648/reading-my-own-jars-manifest\" title=\"reading my own jars manifest\">stackoverflow.com/questions/1272648/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648627935,"creation_date":1648627935,"answer_id":71673748,"question_id":71673342,"body_markdown":"&quot;Every time I use .getPackage().getImplementationVersion(), my program is not returning my implementation version from my pom.xml or MANIFEST.MF but the java version of the running VM.&quot;\r\n\r\nThat is because this is exactly what `getImplementationVersion()` should do. The documentation talks about the version &quot;of this implementation&quot;. By that the documentation means the version of the Java implementation. Every Java release has several implementations, like the Oracle JDK, OpenJDK, Eclipse, Microsoft, Google, Amazon all have their implementation. They never meant to return the version of the library, application or whatnot.\r\n\r\nWhat you want to achive can be done in several ways. The most usual way is to create a `version.properties` file in `src/main/resources` and have a key\r\n\r\n```\r\nversion: ${project.version}\r\n```\r\n\r\nConfigure in the pom to filter this resource when it gets copied during the build from the resource directory to the `target/classes` directory. After that your code simply has to load this properties file and use the value.","title":"Java Maven: instead of Implementation-Version program returns Java-Runtime Version","body":"<p>&quot;Every time I use .getPackage().getImplementationVersion(), my program is not returning my implementation version from my pom.xml or MANIFEST.MF but the java version of the running VM.&quot;</p>\n<p>That is because this is exactly what <code>getImplementationVersion()</code> should do. The documentation talks about the version &quot;of this implementation&quot;. By that the documentation means the version of the Java implementation. Every Java release has several implementations, like the Oracle JDK, OpenJDK, Eclipse, Microsoft, Google, Amazon all have their implementation. They never meant to return the version of the library, application or whatnot.</p>\n<p>What you want to achive can be done in several ways. The most usual way is to create a <code>version.properties</code> file in <code>src/main/resources</code> and have a key</p>\n<pre><code>version: ${project.version}\n</code></pre>\n<p>Configure in the pom to filter this resource when it gets copied during the build from the resource directory to the <code>target/classes</code> directory. After that your code simply has to load this properties file and use the value.</p>\n"}],"owner":{"account_id":11500602,"reputation":1,"user_id":8428515,"display_name":"Anna Pixie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648627935,"creation_date":1648626085,"question_id":71673342,"body_markdown":"I&#39;ve been working on this for a while and tried every possible solution on here, but nothing seems to works. Apparently, I couldn&#39;t find anyone having the same problem on here as well. Please help :)\r\n\r\nEvery time I use ```.getPackage().getImplementationVersion()```, my program is not returning my implementation version from my pom.xml or MANIFEST.MF but the java version of the running VM. This happens for both the workspace as well as the final jar. The manifest-file seems to be just fine. At first, I thought it takes the Build-Jdk from the manifest, but no, it actually dynamically gets the running java version.\r\n\r\nI know there is an option to get the version by reading through the pom (even though I have not tried that yet), but I really would appreciate to have this code get going somehow.\r\n\r\nI built a minimum reproducible example with JavaFX, the desired version is written into the title of the popup window.\r\n\r\nI&#39;m using Java Zulu 8 and Maven 3.3.9 on Eclipse Oxygen atm.\r\n\r\n**App.java**\r\n\r\n```\r\n# import javafx.application.Application;\r\n\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\n\r\npublic class App extends Application {\r\n\r\n    public static void main(String\\[\\] args) {\r\n    \tApplication.launch(args);\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n    \r\n            Scene scene = new Scene(new AnchorPane());\t        \r\n            stage.setScene(scene);\r\n            stage.setTitle(App.class.getClass().getPackage().getImplementationVersion());\t        \r\n            stage.show();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;de.xyz.TestVersion&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;VersionTester&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;VersionTester&lt;/name&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;!-- main class --&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;App&lt;/mainClass&gt;\t\t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\t\t\t\t\t\t\t&lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMANIFEST.MF that is being created in the JAR-file\r\n\r\n```\r\nManifest-Version: 1.0\r\nArchiver-Version: Plexus Archiver\r\nCreated-By: Apache Maven\r\nBuild-Jdk: 1.8.0_322\r\nSpecification-Title: VersionTester\r\nSpecification-Version: 0.0.1-SNAPSHOT\r\nImplementation-Title: VersionTester\r\nImplementation-Version: 0.0.1-SNAPSHOT\r\nImplementation-Vendor-Id: de.xyz.TestVersion\r\nMain-Class: App\r\n```\r\n\r\nalready tried:\r\n\r\n- getPackage().getImplementationVersion()\r\n\r\n\r\n- getPackage().getSpecificationVersion()\r\n\r\n- tried both in different classes in different packages of the project, ultimately in the Main-Class\r\n\r\n\r\n- tried maven-jar-plugin instead of maven-assembly-plugin","title":"Java Maven: instead of Implementation-Version program returns Java-Runtime Version","body":"<p>I've been working on this for a while and tried every possible solution on here, but nothing seems to works. Apparently, I couldn't find anyone having the same problem on here as well. Please help :)</p>\n<p>Every time I use <code>.getPackage().getImplementationVersion()</code>, my program is not returning my implementation version from my pom.xml or MANIFEST.MF but the java version of the running VM. This happens for both the workspace as well as the final jar. The manifest-file seems to be just fine. At first, I thought it takes the Build-Jdk from the manifest, but no, it actually dynamically gets the running java version.</p>\n<p>I know there is an option to get the version by reading through the pom (even though I have not tried that yet), but I really would appreciate to have this code get going somehow.</p>\n<p>I built a minimum reproducible example with JavaFX, the desired version is written into the title of the popup window.</p>\n<p>I'm using Java Zulu 8 and Maven 3.3.9 on Eclipse Oxygen atm.</p>\n<p><strong>App.java</strong></p>\n<pre><code># import javafx.application.Application;\n\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\n\npublic class App extends Application {\n\n    public static void main(String\\[\\] args) {\n        Application.launch(args);\n    }\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n    \n            Scene scene = new Scene(new AnchorPane());          \n            stage.setScene(scene);\n            stage.setTitle(App.class.getClass().getPackage().getImplementationVersion());           \n            stage.show();\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;de.xyz.TestVersion&lt;/groupId&gt;\n    &lt;artifactId&gt;VersionTester&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;VersionTester&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;!-- main class --&gt;\n                            &lt;mainClass&gt;App&lt;/mainClass&gt;                          &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;                         &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>MANIFEST.MF that is being created in the JAR-file</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven\nBuild-Jdk: 1.8.0_322\nSpecification-Title: VersionTester\nSpecification-Version: 0.0.1-SNAPSHOT\nImplementation-Title: VersionTester\nImplementation-Version: 0.0.1-SNAPSHOT\nImplementation-Vendor-Id: de.xyz.TestVersion\nMain-Class: App\n</code></pre>\n<p>already tried:</p>\n<ul>\n<li><p>getPackage().getImplementationVersion()</p>\n</li>\n<li><p>getPackage().getSpecificationVersion()</p>\n</li>\n<li><p>tried both in different classes in different packages of the project, ultimately in the Main-Class</p>\n</li>\n<li><p>tried maven-jar-plugin instead of maven-assembly-plugin</p>\n</li>\n</ul>\n"},{"tags":["java","selenium","loops","selenium-webdriver","webdriverwait"],"comments":[{"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"score":0,"creation_date":1648627782,"post_id":71673236,"comment_id":126669704,"body_markdown":"&quot;I need to refresh my web page until a certain item appears in my webpage. I cannot simply use the find element statement since the item only appears after some time(2-6min)&quot; ---- Why don&#39;t you use Explict wait for the first time itself.","body":"&quot;I need to refresh my web page until a certain item appears in my webpage. I cannot simply use the find element statement since the item only appears after some time(2-6min)&quot; ---- Why don&#39;t you use Explict wait for the first time itself."},{"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"score":0,"creation_date":1648635176,"post_id":71673236,"comment_id":126672633,"body_markdown":"Explict wait will wait for the element present for given time it won&#39;t refresh the page  but my req is to refresh the page after every 5sec and check for element. @SwaroopHumane","body":"Explict wait will wait for the element present for given time it won&#39;t refresh the page  but my req is to refresh the page after every 5sec and check for element. @SwaroopHumane"}],"answers":[{"tags":[],"owner":{"account_id":12633247,"reputation":121,"user_id":9183763,"display_name":"Amit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648627927,"creation_date":1648627927,"answer_id":71673745,"question_id":71673236,"body_markdown":"Simply you can do with below code:\r\n\r\n    driver.navigate().to(AppUrl);    \r\n    int size;\r\n        do{\r\n        \tif(driver.findElement(by.xpath(&quot;//body[contains(text(),&#39;404 - Not Found&#39;)]&quot;)).getText().contains(&quot;404 - Not Found&quot;)){\r\n        \t\t//Script status fail\r\n        \t\tbreak;\r\n        \t}else{\r\n        \t\tsize = driver.findElements(by.xpath(&quot;//*[@id=&#39;btnLogin&#39;]&quot;)).size();\r\n        \t\tif(size == 0){\r\n        \t\tdriver.navigate().refresh();\r\n        \t\t}else{\r\n        \t\t\tbreak;\r\n        \t\t}\r\n        \t}\r\n        }while(size &lt; 1);","title":"I want to refresh my browser until my login page appears - JAVA -Selenium","body":"<p>Simply you can do with below code:</p>\n<pre><code>driver.navigate().to(AppUrl);    \nint size;\n    do{\n        if(driver.findElement(by.xpath(&quot;//body[contains(text(),'404 - Not Found')]&quot;)).getText().contains(&quot;404 - Not Found&quot;)){\n            //Script status fail\n            break;\n        }else{\n            size = driver.findElements(by.xpath(&quot;//*[@id='btnLogin']&quot;)).size();\n            if(size == 0){\n            driver.navigate().refresh();\n            }else{\n                break;\n            }\n        }\n    }while(size &lt; 1);\n</code></pre>\n"}],"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71673745,"answer_count":1,"score":0,"last_activity_date":1648627927,"creation_date":1648625604,"question_id":71673236,"body_markdown":"I need to refresh my web page until a certain item appears in my webpage. I cannot simply use the find element statement since the item only appears after some time(2-6min) and **only when the page has been refreshed. \\*\\***\r\nNow I need to create a loop in which the site keeps refreshing until it gets a lands on the login page (I am using login button for verification in below code). When it finds the element I then can select continue my test.\r\nalso I need handle one case, in case if I get 404 error\\*\\*(//body\\[contains(text(),&#39;404 - Not Found&#39;)\\]) I want to terminate my loop and should fail the test case.\r\n\r\nCan someone assist me with this issue or give me advice on how to create the same outcome but then with a better approach? Much appreciated\r\n\r\nThe below code I tried but it&#39;s an endless loop and cannot handle 404 error\r\n\r\n```\r\ndriver.navigate().to(AppUrl);\r\n\r\n!Boolean elementFound = false;\r\n\t\tdo { \r\n\t\t\tdriver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n\t\ttry { \r\n\t\t\telementFound = driver.findElement(By.xpath(&quot;//*[@id=&#39;btnLogin&#39;]&quot;)).isDisplayed(); \r\n\t\t} catch (NoSuchElementException e){ \r\n\t\t\t\r\n\t\t}\r\n\t\tdriver.navigate().refresh(); \r\n\t\t} while (!elementFound);   \r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;userID\\&quot;]&quot;)).sendKeys(UserId);\r\n```","title":"I want to refresh my browser until my login page appears - JAVA -Selenium","body":"<p>I need to refresh my web page until a certain item appears in my webpage. I cannot simply use the find element statement since the item only appears after some time(2-6min) and <strong>only when the page has been refreshed. **</strong>\nNow I need to create a loop in which the site keeps refreshing until it gets a lands on the login page (I am using login button for verification in below code). When it finds the element I then can select continue my test.\nalso I need handle one case, in case if I get 404 error**(//body[contains(text(),'404 - Not Found')]) I want to terminate my loop and should fail the test case.</p>\n<p>Can someone assist me with this issue or give me advice on how to create the same outcome but then with a better approach? Much appreciated</p>\n<p>The below code I tried but it's an endless loop and cannot handle 404 error</p>\n<pre><code>driver.navigate().to(AppUrl);\n\n!Boolean elementFound = false;\n        do { \n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        try { \n            elementFound = driver.findElement(By.xpath(&quot;//*[@id='btnLogin']&quot;)).isDisplayed(); \n        } catch (NoSuchElementException e){ \n            \n        }\n        driver.navigate().refresh(); \n        } while (!elementFound);   \n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;userID\\&quot;]&quot;)).sendKeys(UserId);\n</code></pre>\n"},{"tags":["java","groovy"],"owner":{"account_id":15169395,"reputation":137,"user_id":10945951,"display_name":"rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648627890,"creation_date":1648627890,"question_id":71673738,"body_markdown":"i am new to groovy coding, kindly help .\r\n\r\nConsider i have a excel file with below data:\r\n\r\n&gt; first row blank, second row 1 header, third row correct header and consecutive rows has data\r\n\r\n\r\n[![excel file contents][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4FyT7.png\r\n\r\nhow to fetch data from 4th row 3rd column onwards? ( eg. t1,t2,t3 etc only)\r\n\r\nsample code writtn so far..\r\n\r\n    Workbook workbook = WorkbookFactory.\r\n    create(new FileInputStream(&quot;/home/Desktop/testref.xlsx&quot;));\r\n    loggerApi.info(&quot;Workbook has &quot; + workbook.getNumberOfSheets() + &quot; Sheets : &quot;);\r\n    def getSheetNames() {\r\n    \tint nrSheets = workbook.getNumberOfSheets();\r\n    \tString[] names = new String[nrSheets];\r\n    \tfor ( int i = 0; i &lt; nrSheets; i++ ) {\r\n    \tnames[i] = workbook.getSheetName( i );\r\n    \t}\r\n    \tloggerApi.info(&quot;names&quot;+names);\r\n     return names;\r\n    }\r\n    \r\n    if (getSheetNames() == &#39;Reference Catalog&#39;){\r\n    \r\n    \tloggerApi.info(&quot;Sheet one chosen&quot;);\r\n    }\r\n    \r\n    Sheet sheet = workbook.getSheetAt(0);\r\n    loggerApi.info(&quot;Sheet&quot;+sheet);\r\n    ExcelWSheet = workbook.getSheet(&#39;Reference Catalog&#39;);\r\n    loggerApi.info(&quot;ExcelWSheet&quot;+ExcelWSheet);\r\n    \r\n    loggerApi.info(&quot;Iterating over Rows and Columns using Iterator&quot;);\r\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    while (rowIterator.hasNext()) {\r\n    \tRow row = rowIterator.next();\r\n    \t\r\n    \tint len = row.getLastCellNum();\r\n    \tfor ( int i = 0; len &gt; i ; i++) {\r\n    \t\t\r\n    \t\tloggerApi.info(row.getCell(i).toString());\r\n    \t\t\r\n    \t\tif(len-1 == i)\r\n    \t\t{\r\n    \t\t\t// print nothing\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tloggerApi.info(&quot;,&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \tSystem.out.println();\r\n    \r\n    }","title":"read specific column from header and get match with other file in groovy","body":"<p>i am new to groovy coding, kindly help .</p>\n<p>Consider i have a excel file with below data:</p>\n<blockquote>\n<p>first row blank, second row 1 header, third row correct header and consecutive rows has data</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/4FyT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4FyT7.png\" alt=\"excel file contents\" /></a></p>\n<p>how to fetch data from 4th row 3rd column onwards? ( eg. t1,t2,t3 etc only)</p>\n<p>sample code writtn so far..</p>\n<pre><code>Workbook workbook = WorkbookFactory.\ncreate(new FileInputStream(&quot;/home/Desktop/testref.xlsx&quot;));\nloggerApi.info(&quot;Workbook has &quot; + workbook.getNumberOfSheets() + &quot; Sheets : &quot;);\ndef getSheetNames() {\n    int nrSheets = workbook.getNumberOfSheets();\n    String[] names = new String[nrSheets];\n    for ( int i = 0; i &lt; nrSheets; i++ ) {\n    names[i] = workbook.getSheetName( i );\n    }\n    loggerApi.info(&quot;names&quot;+names);\n return names;\n}\n\nif (getSheetNames() == 'Reference Catalog'){\n\n    loggerApi.info(&quot;Sheet one chosen&quot;);\n}\n\nSheet sheet = workbook.getSheetAt(0);\nloggerApi.info(&quot;Sheet&quot;+sheet);\nExcelWSheet = workbook.getSheet('Reference Catalog');\nloggerApi.info(&quot;ExcelWSheet&quot;+ExcelWSheet);\n\nloggerApi.info(&quot;Iterating over Rows and Columns using Iterator&quot;);\nIterator&lt;Row&gt; rowIterator = sheet.iterator();\nwhile (rowIterator.hasNext()) {\n    Row row = rowIterator.next();\n    \n    int len = row.getLastCellNum();\n    for ( int i = 0; len &gt; i ; i++) {\n        \n        loggerApi.info(row.getCell(i).toString());\n        \n        if(len-1 == i)\n        {\n            // print nothing\n        }\n        else\n        {\n            loggerApi.info(&quot;,&quot;);\n        }\n        \n    }\n    System.out.println();\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","build.gradle","android-manifest"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1648627105,"post_id":71673385,"comment_id":126669467,"body_markdown":"Did you tried https://stackoverflow.com/questions/69287478/androidexported-added-but-still-getting-error-apps-targeting-android-12-and-hig","body":"Did you tried <a href=\"https://stackoverflow.com/questions/69287478/androidexported-added-but-still-getting-error-apps-targeting-android-12-and-hig\" title=\"androidexported added but still getting error apps targeting android 12 and hig\">stackoverflow.com/questions/69287478/&hellip;</a>"},{"owner":{"account_id":18625675,"reputation":624,"user_id":13574850,"display_name":"Mukul Kumar"},"score":0,"creation_date":1648627896,"post_id":71673385,"comment_id":126669758,"body_markdown":"Yes, tried that. No luck. Just for reference as per the accepted solution of your link @AmmarAbdullah , whenever I am lowing the targetSdkVersion to 30, the Gradle build itself fails. Only for targetSdkVersion 32, my build is successfully.","body":"Yes, tried that. No luck. Just for reference as per the accepted solution of your link @AmmarAbdullah , whenever I am lowing the targetSdkVersion to 30, the Gradle build itself fails. Only for targetSdkVersion 32, my build is successfully."}],"answers":[{"tags":[],"owner":{"account_id":13756177,"reputation":405,"user_id":10202308,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648627688,"creation_date":1648627688,"answer_id":71673690,"question_id":71673385,"body_markdown":"Your libraries are defining probably an &quot;intent_filter&quot; on an activity\r\n\r\n    debugImplementation &#39;com.squareup.leakcanary:leakcanary-android:1.5.4&#39;\r\n    releaseImplementation &#39;com.squareup.leakcanary:leakcanary-android-no-op:1.5.4&#39;\r\n\r\nIf your application is targeting API 31+, the attribute &quot;exported&quot; is mandatory.\r\n\r\nSo as the developer of that library didn&#39;t target API 31, the exported flag what not mandatory on his side. And he built it without exported attribute.\r\n\r\nSo what you can do, is redefine that specific class on your manifest to declare it explicitly exported or not. For example :\r\n\r\n    &lt;activity android:name=&quot;com.squareup.leakcanary.internal.DisplayLeakActivity&quot;\r\n             android:exported=&quot;true&quot;/&gt;","title":"Manifest merger failed with multiple errors | Android 12 and higher are required to specify an explicit value for `android:exported`","body":"<p>Your libraries are defining probably an &quot;intent_filter&quot; on an activity</p>\n<pre><code>debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.5.4'\nreleaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.4'\n</code></pre>\n<p>If your application is targeting API 31+, the attribute &quot;exported&quot; is mandatory.</p>\n<p>So as the developer of that library didn't target API 31, the exported flag what not mandatory on his side. And he built it without exported attribute.</p>\n<p>So what you can do, is redefine that specific class on your manifest to declare it explicitly exported or not. For example :</p>\n<pre><code>&lt;activity android:name=&quot;com.squareup.leakcanary.internal.DisplayLeakActivity&quot;\n         android:exported=&quot;true&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":18625675,"reputation":624,"user_id":13574850,"display_name":"Mukul Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71673690,"answer_count":1,"score":0,"last_activity_date":1648627688,"creation_date":1648626295,"question_id":71673385,"body_markdown":"I am new to java and android. And on running the emulator I am facing this merge conflict issue.\r\n\r\nComplete Error message:\r\n\r\n&gt; Execution failed for task &#39;:processDefaultsDebugMainManifest&#39;.\r\n\r\n&gt; Manifest merger failed with multiple errors, see logs\r\n\r\n&gt; Error: android:exported needs to be explicitly specified for element &lt;activity#com.squareup.leakcanary.internal.DisplayLeakActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. main manifest (this file), line 35\r\n\r\n \r\n\r\nHere\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n              package=&quot;com.iab.omid.sampleapp&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;application\r\n\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:name=&quot;.AdApplication&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.AdListActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.AdDetailActivity&quot;\r\n            android:label=&quot;@string/title_ad_detail&quot;\r\n            android:parentActivityName=&quot;.AdListActivity&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                android:value=&quot;com.iab.omid.sampleapp.AdListActivity&quot;/&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nand **build.gradle**\r\n\r\n    buildscript {\r\n    \text {\r\n            targetCompatibility = JavaVersion.VERSION_1_8\r\n        }\r\n        repositories {\r\n    \t\tgoogle()\r\n            mavenCentral()\r\n    \t} \r\n    \tdependencies {\r\n    \t\tclasspath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n    \t}\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    repositories {\r\n        google()\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    \r\n    android {\r\n        compileSdk 32\r\n        flavorDimensions &quot;&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.iab.omid.sampleapp&quot;\r\n            minSdkVersion 18\r\n            targetSdkVersion 32\r\n            versionCode 1020\r\n            versionName &quot;1.1.3&quot;\r\n            testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n            buildConfigField(&quot;String&quot;, &quot;PARTNER_NAME&quot;, &quot;\\&quot;com.iab.omid.sampleapp\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;VENDOR_KEY&quot;, &quot;\\&quot;dummyVendor\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;VALIDATION_SCRIPT_URL&quot;, &quot;\\&quot;complianceomsdk.iabtechlab.com\\&quot;&quot;)\r\n            // This override URL will only change URLs seen in Charles proxy for Html ads\r\n            buildConfigField(&quot;String&quot;, &quot;VALIDATION_SCRIPT_URL_OVERRIDE&quot;, &quot;\\&quot;complianceomsdk.iabtechlab.com\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;VERIFICATION_URL&quot;, &quot;\\&quot;https://s3-us-west-2.amazonaws.com/omsdk-files/compliance-js/omid-validation-verification-script-v1.js\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;VERIFICATION_PARAMETERS&quot;, &quot;\\&quot;http://omid-android-reference-app/sendMessage?msg=\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;HTML_DISPLAY_AD&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/creatives/html_display_creative.html\\&quot;&quot;)\r\n            buildConfigField(&quot;String&quot;, &quot;HTML_VIDEO_AD&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/creatives/html_video_creative.html\\&quot;&quot;)\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        productFlavors {\r\n            defaults {\r\n    \r\n            }\r\n    \r\n            instrumentationTest {\r\n                buildConfigField(&quot;String&quot;, &quot;VERIFICATION_URL&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/fullstack/fullstack-verification-script.js\\&quot;&quot;)\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildToolsVersion &#39;32.0.0&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.aar&#39;], dir: &#39;../&#39;)\r\n        implementation &#39;com.google.android.exoplayer:exoplayer:2.10.5&#39;, {\r\n            exclude group: &#39;com.android.support&#39;\r\n        }\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;commons-io:commons-io:2.4&#39;\r\n        implementation &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        implementation &#39;io.reactivex:rxjava:1.3.8&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.6&#39;\r\n        implementation &#39;com.facebook.stetho:stetho:1.5.0&#39;\r\n        implementation &#39;com.facebook.stetho:stetho-okhttp3:1.5.0&#39;\r\n        debugImplementation &#39;com.squareup.leakcanary:leakcanary-android:1.5.4&#39;\r\n        releaseImplementation &#39;com.squareup.leakcanary:leakcanary-android-no-op:1.5.4&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n    \r\n        androidTestImplementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n        androidTestImplementation &#39;org.mockito:mockito-android:4.3.1&#39;\r\n        androidTestImplementation &#39;com.azimolabs.conditionwatcher:conditionwatcher:0.2&#39;\r\n        androidTestImplementation &#39;androidx.test.uiautomator:uiautomator:2.2.0&#39;\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot;\r\n    }\r\n    \r\n    task downloadOMSDKJS(type:Exec) {\r\n        if (!file(&#39;./src/main/res/raw/omsdk_v1.js&#39;).exists()) {\r\n            workingDir &#39;../&#39;\r\n            commandLine &#39;sh&#39;, &#39;./scripts/download-omsdk-js.sh&#39;\r\n        } else {\r\n            // We need a dummy execCommand here.\r\n            commandLine &#39;sh&#39;\r\n        }\r\n    }\r\n    \r\n    preBuild.dependsOn downloadOMSDKJS\r\n\r\n\r\nI have already tried many other solutions available on StackOverflow but still haven&#39;t made any progress. \r\n\r\nPlease let me know if any more details are required to be shared to solve this in a comment.\r\n\r\n","title":"Manifest merger failed with multiple errors | Android 12 and higher are required to specify an explicit value for `android:exported`","body":"<p>I am new to java and android. And on running the emulator I am facing this merge conflict issue.</p>\n<p>Complete Error message:</p>\n<blockquote>\n<p>Execution failed for task ':processDefaultsDebugMainManifest'.</p>\n</blockquote>\n<blockquote>\n<p>Manifest merger failed with multiple errors, see logs</p>\n</blockquote>\n<blockquote>\n<p>Error: android:exported needs to be explicitly specified for element &lt;activity#com.squareup.leakcanary.internal.DisplayLeakActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. main manifest (this file), line 35</p>\n</blockquote>\n<p>Here\n<strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n          xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n          package=&quot;com.iab.omid.sampleapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n&lt;application\n\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    android:name=&quot;.AdApplication&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n    &lt;activity\n        android:name=&quot;.AdListActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n        android:exported=&quot;true&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.AdDetailActivity&quot;\n        android:label=&quot;@string/title_ad_detail&quot;\n        android:parentActivityName=&quot;.AdListActivity&quot;\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.PARENT_ACTIVITY&quot;\n            android:value=&quot;com.iab.omid.sampleapp.AdListActivity&quot;/&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>and <strong>build.gradle</strong></p>\n<pre><code>buildscript {\n    ext {\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n    repositories {\n        google()\n        mavenCentral()\n    } \n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n    }\n}\n\napply plugin: 'com.android.application'\n\nrepositories {\n    google()\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n}\n\nandroid {\n    compileSdk 32\n    flavorDimensions &quot;&quot;\n    defaultConfig {\n        applicationId &quot;com.iab.omid.sampleapp&quot;\n        minSdkVersion 18\n        targetSdkVersion 32\n        versionCode 1020\n        versionName &quot;1.1.3&quot;\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n        buildConfigField(&quot;String&quot;, &quot;PARTNER_NAME&quot;, &quot;\\&quot;com.iab.omid.sampleapp\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;VENDOR_KEY&quot;, &quot;\\&quot;dummyVendor\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;VALIDATION_SCRIPT_URL&quot;, &quot;\\&quot;complianceomsdk.iabtechlab.com\\&quot;&quot;)\n        // This override URL will only change URLs seen in Charles proxy for Html ads\n        buildConfigField(&quot;String&quot;, &quot;VALIDATION_SCRIPT_URL_OVERRIDE&quot;, &quot;\\&quot;complianceomsdk.iabtechlab.com\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;VERIFICATION_URL&quot;, &quot;\\&quot;https://s3-us-west-2.amazonaws.com/omsdk-files/compliance-js/omid-validation-verification-script-v1.js\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;VERIFICATION_PARAMETERS&quot;, &quot;\\&quot;http://omid-android-reference-app/sendMessage?msg=\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;HTML_DISPLAY_AD&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/creatives/html_display_creative.html\\&quot;&quot;)\n        buildConfigField(&quot;String&quot;, &quot;HTML_VIDEO_AD&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/creatives/html_video_creative.html\\&quot;&quot;)\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n        defaults {\n\n        }\n\n        instrumentationTest {\n            buildConfigField(&quot;String&quot;, &quot;VERIFICATION_URL&quot;, &quot;\\&quot;https://omsdk-files.s3-us-west-2.amazonaws.com/fullstack/fullstack-verification-script.js\\&quot;&quot;)\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildToolsVersion '32.0.0'\n}\n\ndependencies {\n    implementation fileTree(include: ['*.aar'], dir: '../')\n    implementation 'com.google.android.exoplayer:exoplayer:2.10.5', {\n        exclude group: 'com.android.support'\n    }\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'commons-io:commons-io:2.4'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'io.reactivex:rxjava:1.3.8'\n    implementation 'org.apache.commons:commons-lang3:3.6'\n    implementation 'com.facebook.stetho:stetho:1.5.0'\n    implementation 'com.facebook.stetho:stetho-okhttp3:1.5.0'\n    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.5.4'\n    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.4'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    androidTestImplementation 'androidx.annotation:annotation:1.3.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'org.mockito:mockito-android:4.3.1'\n    androidTestImplementation 'com.azimolabs.conditionwatcher:conditionwatcher:0.2'\n    androidTestImplementation 'androidx.test.uiautomator:uiautomator:2.2.0'\n}\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot;\n}\n\ntask downloadOMSDKJS(type:Exec) {\n    if (!file('./src/main/res/raw/omsdk_v1.js').exists()) {\n        workingDir '../'\n        commandLine 'sh', './scripts/download-omsdk-js.sh'\n    } else {\n        // We need a dummy execCommand here.\n        commandLine 'sh'\n    }\n}\n\npreBuild.dependsOn downloadOMSDKJS\n</code></pre>\n<p>I have already tried many other solutions available on StackOverflow but still haven't made any progress.</p>\n<p>Please let me know if any more details are required to be shared to solve this in a comment.</p>\n"},{"tags":["java","drools","rules","rule-engine"],"comments":[{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":0,"creation_date":1373024216,"post_id":17487725,"comment_id":25416853,"body_markdown":"this is very hard to answer. the best thing would be for you to do a PoC and see for yourself","body":"this is very hard to answer. the best thing would be for you to do a PoC and see for yourself"},{"owner":{"account_id":2588798,"reputation":347,"user_id":2243914,"accept_rate":62,"display_name":"Avinash"},"score":0,"creation_date":1373258812,"post_id":17487725,"comment_id":25473799,"body_markdown":"Gonna do that. Thank you :)","body":"Gonna do that. Thank you :)"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1373027056,"creation_date":1373027056,"answer_id":17488843,"question_id":17487725,"body_markdown":"The worst problem is that `eval` is opaque to Drools and so must be re-evaluated every time. The impact this can have on performance may range from negligible to huge, however.\r\n\r\nUsing `eval` is first and foremost a code smell in Drools and an indication that the solution should be rethought. In the final analysis it is almost never truly necessary, and if it is necessary, then the whole Drools system may be a wrong tool for the job.","title":"How much of a performance hit does eval() cause in Drools?","body":"<p>The worst problem is that <code>eval</code> is opaque to Drools and so must be re-evaluated every time. The impact this can have on performance may range from negligible to huge, however.</p>\n\n<p>Using <code>eval</code> is first and foremost a code smell in Drools and an indication that the solution should be rethought. In the final analysis it is almost never truly necessary, and if it is necessary, then the whole Drools system may be a wrong tool for the job.</p>\n"},{"tags":[],"owner":{"account_id":355377,"reputation":41,"user_id":694299,"display_name":"user694299"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440420250,"creation_date":1440420250,"answer_id":32182652,"question_id":17487725,"body_markdown":"instead of using eval it is possible to evaluate using Boolean wrapper class\r\n\r\n// eval(value == &quot;India&quot;) \r\n\r\nBoolean(booleanValue == true) from value == &quot;India&quot;\r\n","title":"How much of a performance hit does eval() cause in Drools?","body":"<p>instead of using eval it is possible to evaluate using Boolean wrapper class</p>\n\n<p>// eval(value == \"India\") </p>\n\n<p>Boolean(booleanValue == true) from value == \"India\"</p>\n"}],"owner":{"account_id":2588798,"reputation":347,"user_id":2243914,"accept_rate":62,"display_name":"Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3246,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17488843,"answer_count":2,"score":3,"last_activity_date":1648627489,"creation_date":1373023327,"question_id":17487725,"body_markdown":"I am new to drools. I was wondering if eval causes an appreciable decrease in evaluation times? There are certain situations in my current project where I have to to use eval. Is the performance difference worth fretting over? Any alternatives?\r\n\r\nI know the question might seem a bit open ended, but just wondering out loud. In case there is a lack of clarity or lack of info, do let me know\r\n\r\nYour friendly neighborhood coder,\r\n\r\nAvinash","title":"How much of a performance hit does eval() cause in Drools?","body":"<p>I am new to drools. I was wondering if eval causes an appreciable decrease in evaluation times? There are certain situations in my current project where I have to to use eval. Is the performance difference worth fretting over? Any alternatives?</p>\n\n<p>I know the question might seem a bit open ended, but just wondering out loud. In case there is a lack of clarity or lack of info, do let me know</p>\n\n<p>Your friendly neighborhood coder,</p>\n\n<p>Avinash</p>\n"},{"tags":["java","spring-boot","jms","ibm-mq","jmstemplate"],"comments":[{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1648549083,"post_id":71601514,"comment_id":126646659,"body_markdown":"Did you check / log what `config.getReplyQ()` returns?","body":"Did you check / log what <code>config.getReplyQ()</code> returns?"}],"answers":[{"tags":[],"owner":{"account_id":17796902,"reputation":43,"user_id":12924554,"display_name":"Rohan Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648627418,"creation_date":1648627418,"answer_id":71673630,"question_id":71601514,"body_markdown":"    jmsTemplate.send(config.getQ(), session -&gt; {\r\n                TextMessage msg = session.createTextMessage();\r\n                msg.setText(message);\r\n                msg.setJMSReplyTo(config.getReplyQ());\r\n                msg.setJMSCorrelationID(&quot;asd_123584_lkj&quot;);\r\n                System.out.println(&quot;Message : &quot; + msg);\r\n                return msg;\r\n            });\r\nAbove method will set the JMSReplyTo.\r\n\r\n[Here the definition of sendAndReceive is present which stated that &quot;a temporary queue is created as part of this operation and is set in the JMSReplyTO header of the message&quot;][1]\r\n\r\nAnd to ignore the RFH2 header [setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ)][2] can be used like below:\r\n\r\n    public Destination getQ() throws JMSException {\r\n            MQQueue replyToQ = new MQQueue(queueManager, queues);\r\n            replyToQ.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\r\n            Destination rt = (Destination) replyToQ;\r\n            return rt;\r\n        }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\r\n  [2]: https://www.ibm.com/docs/en/ibm-mq/8.0?topic=objects-targclient","title":"Reply-To Queue is not updating in IBM MQ while putting message type as request","body":"<pre><code>jmsTemplate.send(config.getQ(), session -&gt; {\n            TextMessage msg = session.createTextMessage();\n            msg.setText(message);\n            msg.setJMSReplyTo(config.getReplyQ());\n            msg.setJMSCorrelationID(&quot;asd_123584_lkj&quot;);\n            System.out.println(&quot;Message : &quot; + msg);\n            return msg;\n        });\n</code></pre>\n<p>Above method will set the JMSReplyTo.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\" rel=\"nofollow noreferrer\">Here the definition of sendAndReceive is present which stated that &quot;a temporary queue is created as part of this operation and is set in the JMSReplyTO header of the message&quot;</a></p>\n<p>And to ignore the RFH2 header <a href=\"https://www.ibm.com/docs/en/ibm-mq/8.0?topic=objects-targclient\" rel=\"nofollow noreferrer\">setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ)</a> can be used like below:</p>\n<pre><code>public Destination getQ() throws JMSException {\n        MQQueue replyToQ = new MQQueue(queueManager, queues);\n        replyToQ.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\n        Destination rt = (Destination) replyToQ;\n        return rt;\n    }\n</code></pre>\n"}],"owner":{"account_id":17796902,"reputation":43,"user_id":12924554,"display_name":"Rohan Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71673630,"answer_count":1,"score":0,"last_activity_date":1648627418,"creation_date":1648120666,"question_id":71601514,"body_markdown":"    jmsTemplate.sendAndReceive(&quot;Queue2&quot;, session -&gt; {\r\n                    TextMessage msg = session.createTextMessage();\r\n                    msg.setText(message);\r\n                    msg.setJMSReplyTo(config.getReplyQ());      //Not updated but auto generated queue updated\r\n                    msg.setJMSCorrelationID(&quot;asd_123584_lkj&quot;);  //Updated in Destination Queue\r\n                    msg.setJMSType(&quot;MQSTR&quot;);\r\n\r\n                    System.out.println(&quot;Message : &quot;+msg);\r\n    \r\n                    return msg;\r\n                });\r\n\r\n\r\n    public Destination getReplyQ() throws JMSException {\r\n            MQQueue replyToQ = new MQQueue(queueManager, replyQueue);\r\n            Destination replyTo = (Destination) replyToQ;\r\n            return replyTo;\r\n        }\r\n\r\n[![IBM MQ message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pzgjC.png\r\n\r\nI read some articles that says using JMS will update the RFH but not MQMD and this Reply-To Queue is part of MQMD and I didn&#39;t find the right class to update the MQMD header and send the message to MQ and update the reply-to queue.","title":"Reply-To Queue is not updating in IBM MQ while putting message type as request","body":"<pre><code>jmsTemplate.sendAndReceive(&quot;Queue2&quot;, session -&gt; {\n                TextMessage msg = session.createTextMessage();\n                msg.setText(message);\n                msg.setJMSReplyTo(config.getReplyQ());      //Not updated but auto generated queue updated\n                msg.setJMSCorrelationID(&quot;asd_123584_lkj&quot;);  //Updated in Destination Queue\n                msg.setJMSType(&quot;MQSTR&quot;);\n\n                System.out.println(&quot;Message : &quot;+msg);\n\n                return msg;\n            });\n\n\npublic Destination getReplyQ() throws JMSException {\n        MQQueue replyToQ = new MQQueue(queueManager, replyQueue);\n        Destination replyTo = (Destination) replyToQ;\n        return replyTo;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pzgjC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzgjC.png\" alt=\"IBM MQ message\" /></a></p>\n<p>I read some articles that says using JMS will update the RFH but not MQMD and this Reply-To Queue is part of MQMD and I didn't find the right class to update the MQMD header and send the message to MQ and update the reply-to queue.</p>\n"},{"tags":["java","lambda","stream","java-stream","collectors"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648618523,"post_id":71671973,"comment_id":126667005,"body_markdown":"have you tried adding a collector at the end?","body":"have you tried adding a collector at the end?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648618601,"creation_date":1648618601,"answer_id":71672017,"question_id":71671973,"body_markdown":"That&#39;s not the correct way. `map` is an intermediate operation (i.e. it is evaluated lazily) and you have no terminal operation, so it&#39;s never evaluated. You should `collect` the data into a `Map`:\r\n\r\n    Map&lt;Long, PickingDetails&gt; pickingDetailsDTOMap = \r\n        pickingJobModels.stream()\r\n                        .collect(Collectors.toMap(pm -&gt; pm.getPickListDTO().getReferenceId(),\r\n                                                  pm -&gt; getPickingDetails(pm)));","title":"using stream instead of for loop for maps in java","body":"<p>That's not the correct way. <code>map</code> is an intermediate operation (i.e. it is evaluated lazily) and you have no terminal operation, so it's never evaluated. You should <code>collect</code> the data into a <code>Map</code>:</p>\n<pre><code>Map&lt;Long, PickingDetails&gt; pickingDetailsDTOMap = \n    pickingJobModels.stream()\n                    .collect(Collectors.toMap(pm -&gt; pm.getPickListDTO().getReferenceId(),\n                                              pm -&gt; getPickingDetails(pm)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648627300,"creation_date":1648618837,"answer_id":71672047,"question_id":71671973,"body_markdown":"When you create a stream, you create a definition of operations. These operations are to be executed one after the other for each element traveling through the stream.\r\n\r\nIt is like setting up people and giving them instructions. The first one, the stream&#39;s source has the instruction: if the next person standing to the right of you is asking for a value from you, give them the next element from this array, collection, or whatever the stream source is.\r\n\r\nThe following person is doing the &quot;map&quot; gets the instruction: whenever someone standing to the right of you asks a value from you, then you first request a value from the man standing on your left, do the map operation on the value and give the person to the right.\r\n\r\nThe last man in the row, the terminal operation is the ONLY ONE getting an instruction that says: actively ask for values from the person on your left and collect these values.\r\n\r\nWhat you did giving two men the instructions, but there is no terminal operation executing the stream.\r\n\r\nStreams are executed from right to left. If there is no terminal operation, then nothing will happen.","title":"using stream instead of for loop for maps in java","body":"<p>When you create a stream, you create a definition of operations. These operations are to be executed one after the other for each element traveling through the stream.</p>\n<p>It is like setting up people and giving them instructions. The first one, the stream's source has the instruction: if the next person standing to the right of you is asking for a value from you, give them the next element from this array, collection, or whatever the stream source is.</p>\n<p>The following person is doing the &quot;map&quot; gets the instruction: whenever someone standing to the right of you asks a value from you, then you first request a value from the man standing on your left, do the map operation on the value and give the person to the right.</p>\n<p>The last man in the row, the terminal operation is the ONLY ONE getting an instruction that says: actively ask for values from the person on your left and collect these values.</p>\n<p>What you did giving two men the instructions, but there is no terminal operation executing the stream.</p>\n<p>Streams are executed from right to left. If there is no terminal operation, then nothing will happen.</p>\n"}],"owner":{"account_id":18963822,"reputation":538,"user_id":16134191,"display_name":"rudeTool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71672017,"answer_count":2,"score":0,"last_activity_date":1648627300,"creation_date":1648618340,"question_id":71671973,"body_markdown":"I am working on java project where I have to iterate a list and put values in a new map based on computations in that list.\r\n\r\nHere&#39;s whats working using a basic for loop:\r\n\r\n        Map&lt;Long, PickingDetails&gt; pickingDetailsDTOMap = new HashMap&lt;&gt;();\r\n        for(int i=0;i&lt;pickingJobModels.size();i++)\r\n         {\r\n     pickingDetailsDTOMap.put(pickingJobModels.get(i).getPickListDTO().getReferenceId(),getPickingDetails(pickingJobModels.get(i)));\r\n          }\r\n\r\nBut I want to do it with streams so I did this:\r\n\r\n    pickingJobModels.stream().map(pickingJobModel -&gt; pickingDetailsDTOMap.put(pickingJobModel.getPickListDTO().getReferenceId(),getPickingDetails(pickingJobModel)));\r\n\r\nbut when I return that `pickingDetailsDTOMap` I get empty map.\r\n\r\nAny suggestions how to use stream in this case?","title":"using stream instead of for loop for maps in java","body":"<p>I am working on java project where I have to iterate a list and put values in a new map based on computations in that list.</p>\n<p>Here's whats working using a basic for loop:</p>\n<pre><code>    Map&lt;Long, PickingDetails&gt; pickingDetailsDTOMap = new HashMap&lt;&gt;();\n    for(int i=0;i&lt;pickingJobModels.size();i++)\n     {\n pickingDetailsDTOMap.put(pickingJobModels.get(i).getPickListDTO().getReferenceId(),getPickingDetails(pickingJobModels.get(i)));\n      }\n</code></pre>\n<p>But I want to do it with streams so I did this:</p>\n<pre><code>pickingJobModels.stream().map(pickingJobModel -&gt; pickingDetailsDTOMap.put(pickingJobModel.getPickListDTO().getReferenceId(),getPickingDetails(pickingJobModel)));\n</code></pre>\n<p>but when I return that <code>pickingDetailsDTOMap</code> I get empty map.</p>\n<p>Any suggestions how to use stream in this case?</p>\n"},{"tags":["java","option-type"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648473870,"creation_date":1648470163,"answer_id":71647404,"question_id":71647368,"body_markdown":"Primitives cannot be used as generics in Java so you are getting autoboxed. Try to declare eg `List&lt;int&gt;` to see what will happen.","title":"Optional &quot;map&quot; maps String to Boolean object instead of primitive boolean when using &quot;var&quot;","body":"<p>Primitives cannot be used as generics in Java so you are getting autoboxed. Try to declare eg <code>List&lt;int&gt;</code> to see what will happen.</p>\n"},{"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648470253,"creation_date":1648470253,"answer_id":71647427,"question_id":71647368,"body_markdown":"`Optional&lt;T&gt;#orElse` returns `T`, which cannot be a primitive. Try replacing `var` with `boolean` to force unboxing.","title":"Optional &quot;map&quot; maps String to Boolean object instead of primitive boolean when using &quot;var&quot;","body":"<p><code>Optional&lt;T&gt;#orElse</code> returns <code>T</code>, which cannot be a primitive. Try replacing <code>var</code> with <code>boolean</code> to force unboxing.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648627097,"creation_date":1648627097,"answer_id":71673560,"question_id":71647368,"body_markdown":"As said by others, there is no `Optional&lt;boolean&gt;` as Java’s Generics do not support primitive types as type arguments.\r\n\r\nHowever, you’re using the wrong tool for the job. Use\r\n\r\n```java\r\nfinal var myBoolean = myAttribute\r\n    .filter(MyClass::mapStringToBoolean)\r\n    .isPresent();\r\n```","title":"Optional &quot;map&quot; maps String to Boolean object instead of primitive boolean when using &quot;var&quot;","body":"<p>As said by others, there is no <code>Optional&lt;boolean&gt;</code> as Java’s Generics do not support primitive types as type arguments.</p>\n<p>However, you’re using the wrong tool for the job. Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var myBoolean = myAttribute\n    .filter(MyClass::mapStringToBoolean)\n    .isPresent();\n</code></pre>\n"}],"owner":{"account_id":6295688,"reputation":347,"user_id":4891964,"accept_rate":67,"display_name":"Dawid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1648627097,"creation_date":1648470016,"question_id":71647368,"body_markdown":"I have following problem, I&#39;m not sure if it is IntelliJ Bug or something else.\r\n\r\nI have static function which maps string to boolean. When I use this function in `Optional.map()` it maps every time to Boolean instead of boolean. Is this standard behavior of type inference?\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n    public void myMethod() {\r\n        Optional&lt;String&gt; myAttribute = Optional.of(&quot;1&quot;);\r\n    \r\n        final var myBoolean = myAttribute\r\n          .map(MyClass::mapStringToBoolean) //it maps to Optional&lt;Boolean&gt;, why not to boolean when function gives primitive back?\r\n          .orElse(false);\r\n\r\n        // &quot;myBoolean&quot; is Boolean instead of boolean\r\n    }\r\n\r\n    public static boolean mapStringToBoolean(String myString) {\r\n        return &quot;1&quot;.equals(myString) || &quot;true&quot;.equals(myString);\r\n    }\r\n}\r\n```","title":"Optional &quot;map&quot; maps String to Boolean object instead of primitive boolean when using &quot;var&quot;","body":"<p>I have following problem, I'm not sure if it is IntelliJ Bug or something else.</p>\n<p>I have static function which maps string to boolean. When I use this function in <code>Optional.map()</code> it maps every time to Boolean instead of boolean. Is this standard behavior of type inference?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    public void myMethod() {\n        Optional&lt;String&gt; myAttribute = Optional.of(&quot;1&quot;);\n    \n        final var myBoolean = myAttribute\n          .map(MyClass::mapStringToBoolean) //it maps to Optional&lt;Boolean&gt;, why not to boolean when function gives primitive back?\n          .orElse(false);\n\n        // &quot;myBoolean&quot; is Boolean instead of boolean\n    }\n\n    public static boolean mapStringToBoolean(String myString) {\n        return &quot;1&quot;.equals(myString) || &quot;true&quot;.equals(myString);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","algorithm","anagram"],"comments":[{"owner":{"account_id":107038,"reputation":133820,"user_id":284795,"accept_rate":79,"display_name":"Colonel Panic"},"score":0,"creation_date":1438186382,"post_id":15045640,"comment_id":51350000,"body_markdown":"Hint for mathematicians: the relation &quot;are anagrams&quot; between strings is an equivalence relation, so partitions the set of all strings into equivalence classes. Write down a rule to choose a representative from each class. Then you compare classes by comparing representatives.","body":"Hint for mathematicians: the relation &quot;are anagrams&quot; between strings is an equivalence relation, so partitions the set of all strings into equivalence classes. Write down a rule to choose a representative from each class. Then you compare classes by comparing representatives."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1453091214,"post_id":15045640,"comment_id":57434717,"body_markdown":"Folks - if you are going to answer this, please please, please 1) check that your Answer isn&#39;t just another duplicate of the 37 previous answers, and 2) don&#39;t just post code.  Post an explanation of your code, and say why it is different to (and hopeful better than) the other answers.","body":"Folks - if you are going to answer this, please please, please 1) check that your Answer isn&#39;t just another duplicate of the 37 previous answers, and 2) don&#39;t just post code.  Post an explanation of your code, and say why it is different to (and hopeful better than) the other answers."},{"owner":{"account_id":216122,"reputation":50749,"user_id":471164,"accept_rate":89,"display_name":"vitaut"},"score":2,"creation_date":1458828592,"post_id":15045640,"comment_id":60037721,"body_markdown":"Possible duplicate of [finding if two words are anagrams of each other](http://stackoverflow.com/questions/4236906/finding-if-two-words-are-anagrams-of-each-other)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4236906/finding-if-two-words-are-anagrams-of-each-other\">finding if two words are anagrams of each other</a>"},{"owner":{"account_id":392965,"reputation":1871,"user_id":754550,"display_name":"miracle173"},"score":0,"creation_date":1497623911,"post_id":15045640,"comment_id":76171584,"body_markdown":"The question is , why the code is not working properly. All these posts that provide an code/algorithm to solfe the problem are unnecessary . The accepted answer does not find the problem in the code, too, and makes a wrong claim (that it did not support by a reference or proof) but gets a lot of upvotes . this is infuriating.","body":"The question is , why the code is not working properly. All these posts that provide an code/algorithm to solfe the problem are unnecessary . The accepted answer does not find the problem in the code, too, and makes a wrong claim (that it did not support by a reference or proof) but gets a lot of upvotes . this is infuriating."}],"answers":[{"tags":[],"owner":{"account_id":2379142,"reputation":138,"user_id":2081600,"display_name":"MPogoda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1361653638,"creation_date":1361653638,"answer_id":15045702,"question_id":15045640,"body_markdown":"You should use something like that:\r\n\r\n        for (int i...) {\r\n            isFound = false;\r\n            for (int j...) {\r\n                if (...) {\r\n                    ...\r\n                    isFound = true;\r\n                }\r\n            }\r\n\r\nDefault value for `isFound` should be false. Just it","title":"How to check if two words are anagrams","body":"<p>You should use something like that:</p>\n\n<pre><code>    for (int i...) {\n        isFound = false;\n        for (int j...) {\n            if (...) {\n                ...\n                isFound = true;\n            }\n        }\n</code></pre>\n\n<p>Default value for <code>isFound</code> should be false. Just it</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1545435481,"creation_date":1361654132,"answer_id":15045791,"question_id":15045640,"body_markdown":"Two words are anagrams of each other if they contain the same number of characters and the same characters.  You should only need to sort the characters in lexicographic order, and determine if all the characters in one string are equal to *and in the same order as* all of the characters in the other string.\r\n\r\nHere&#39;s a code example.  Look into [`Arrays`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html) in the API to understand what&#39;s going on here.\r\n\r\n    public boolean isAnagram(String firstWord, String secondWord) {\r\n         char[] word1 = firstWord.replaceAll(&quot;[\\\\s]&quot;, &quot;&quot;).toCharArray();\r\n         char[] word2 = secondWord.replaceAll(&quot;[\\\\s]&quot;, &quot;&quot;).toCharArray();\r\n         Arrays.sort(word1);\r\n         Arrays.sort(word2);\r\n         return Arrays.equals(word1, word2);\r\n    }","title":"How to check if two words are anagrams","body":"<p>Two words are anagrams of each other if they contain the same number of characters and the same characters.  You should only need to sort the characters in lexicographic order, and determine if all the characters in one string are equal to <em>and in the same order as</em> all of the characters in the other string.</p>\n\n<p>Here's a code example.  Look into <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> in the API to understand what's going on here.</p>\n\n<pre><code>public boolean isAnagram(String firstWord, String secondWord) {\n     char[] word1 = firstWord.replaceAll(\"[\\\\s]\", \"\").toCharArray();\n     char[] word2 = secondWord.replaceAll(\"[\\\\s]\", \"\").toCharArray();\n     Arrays.sort(word1);\n     Arrays.sort(word2);\n     return Arrays.equals(word1, word2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40164,"reputation":10071,"user_id":116286,"accept_rate":100,"display_name":"jb."},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1458929845,"creation_date":1361654711,"answer_id":15045892,"question_id":15045640,"body_markdown":"If you sort either array, the solution becomes O(n log n). but if you use a hashmap, it&#39;s O(n). tested and working.\r\n\r\n    char[] word1 = &quot;test&quot;.toCharArray();\r\n    char[] word2 = &quot;tes&quot;.toCharArray();\r\n    \r\n    Map&lt;Character, Integer&gt; lettersInWord1 = new HashMap&lt;Character, Integer&gt;();\r\n    \r\n    for (char c : word1) {\r\n        int count = 1;\r\n        if (lettersInWord1.containsKey(c)) {\r\n            count = lettersInWord1.get(c) + 1;\r\n        }\r\n        lettersInWord1.put(c, count);\r\n    }\r\n    \r\n    for (char c : word2) {\r\n        int count = -1;\r\n        if (lettersInWord1.containsKey(c)) {\r\n            count = lettersInWord1.get(c) - 1;\r\n        }\r\n        lettersInWord1.put(c, count);\r\n    }\r\n    \r\n    for (char c : lettersInWord1.keySet()) {\r\n        if (lettersInWord1.get(c) != 0) {\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    return true;\r\n\r\n","title":"How to check if two words are anagrams","body":"<p>If you sort either array, the solution becomes O(n log n). but if you use a hashmap, it's O(n). tested and working.</p>\n\n<pre><code>char[] word1 = \"test\".toCharArray();\nchar[] word2 = \"tes\".toCharArray();\n\nMap&lt;Character, Integer&gt; lettersInWord1 = new HashMap&lt;Character, Integer&gt;();\n\nfor (char c : word1) {\n    int count = 1;\n    if (lettersInWord1.containsKey(c)) {\n        count = lettersInWord1.get(c) + 1;\n    }\n    lettersInWord1.put(c, count);\n}\n\nfor (char c : word2) {\n    int count = -1;\n    if (lettersInWord1.containsKey(c)) {\n        count = lettersInWord1.get(c) - 1;\n    }\n    lettersInWord1.put(c, count);\n}\n\nfor (char c : lettersInWord1.keySet()) {\n    if (lettersInWord1.get(c) != 0) {\n        return false;\n    }\n}\n\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2414110,"reputation":1,"user_id":2108562,"display_name":"user2108562"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1361819568,"creation_date":1361819568,"answer_id":15074595,"question_id":15045640,"body_markdown":"Seems to be very awkward for such a simple task. \r\n\r\nFirstly, \r\n\r\nYour loops are much too complicated. Try something like this. \r\n\r\n    public static String lettersOnly(String word) \r\n    {\r\n        int length = word.length();\r\n        StringBuilder end = new StringBuilder(length);\r\n        char x;\r\n\r\n        for (int i = (length - 1); i &gt;= 0; i--) {\r\n            x = word.charAt(i);\r\n            if (Character.isLetter(x)) {\r\n                end.append(x);\r\n            }\r\n        }\r\n        return end.toString();\r\n\r\nThis is a much more simplistic way of checking if they are anagrams.\r\n\r\nYou could also create a separate method for all of the printing which would be much easier.\r\n\r\nAnd lastly, just use \r\n\r\n        String ltrsOnlyOne = lettersOnly(wordOne);\r\n        String ltrsOnlyTwo = lettersOnly(wordTwo);\r\n\r\nfor creating the strings. \r\n      \r\n","title":"How to check if two words are anagrams","body":"<p>Seems to be very awkward for such a simple task. </p>\n\n<p>Firstly, </p>\n\n<p>Your loops are much too complicated. Try something like this. </p>\n\n<pre><code>public static String lettersOnly(String word) \n{\n    int length = word.length();\n    StringBuilder end = new StringBuilder(length);\n    char x;\n\n    for (int i = (length - 1); i &gt;= 0; i--) {\n        x = word.charAt(i);\n        if (Character.isLetter(x)) {\n            end.append(x);\n        }\n    }\n    return end.toString();\n</code></pre>\n\n<p>This is a much more simplistic way of checking if they are anagrams.</p>\n\n<p>You could also create a separate method for all of the printing which would be much easier.</p>\n\n<p>And lastly, just use </p>\n\n<pre><code>    String ltrsOnlyOne = lettersOnly(wordOne);\n    String ltrsOnlyTwo = lettersOnly(wordTwo);\n</code></pre>\n\n<p>for creating the strings. </p>\n"},{"tags":[],"owner":{"account_id":2498610,"reputation":1,"user_id":2174368,"display_name":"jmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366499275,"creation_date":1366499275,"answer_id":16126156,"question_id":15045640,"body_markdown":"Some other solution without sorting.\r\n\r\n    public static boolean isAnagram(String s1, String s2){\r\n\t\t//case insensitive anagram\r\n\t\t \r\n\t\tStringBuffer sb = new StringBuffer(s2.toLowerCase());\r\n\t\tfor (char c: s1.toLowerCase().toCharArray()){\r\n\t\t\tif (Character.isLetter(c)){\r\n                \r\n\t\t\t\tint index = sb.indexOf(String.valueOf(c));\r\n\t\t\t\tif (index == -1){\r\n                    //char does not exist in other s2\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tsb.deleteCharAt(index);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (char c: sb.toString().toCharArray()){\r\n\t\t\t//only allow whitespace as left overs\r\n\t\t\tif (!Character.isWhitespace(c)){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n","title":"How to check if two words are anagrams","body":"<p>Some other solution without sorting.</p>\n\n<pre><code>public static boolean isAnagram(String s1, String s2){\n    //case insensitive anagram\n\n    StringBuffer sb = new StringBuffer(s2.toLowerCase());\n    for (char c: s1.toLowerCase().toCharArray()){\n        if (Character.isLetter(c)){\n\n            int index = sb.indexOf(String.valueOf(c));\n            if (index == -1){\n                //char does not exist in other s2\n                return false;\n            }\n            sb.deleteCharAt(index);\n        }\n    }\n    for (char c: sb.toString().toCharArray()){\n        //only allow whitespace as left overs\n        if (!Character.isWhitespace(c)){\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2874950,"reputation":1162,"user_id":2467287,"display_name":"SeriousBusiness"},"down_vote_count":5,"up_vote_count":103,"is_accepted":true,"score":98,"last_activity_date":1370733916,"creation_date":1370733916,"answer_id":17004897,"question_id":15045640,"body_markdown":"Fastest algorithm would be to map each of the 26 English characters to a unique prime number. Then calculate the product of the string. By the fundamental theorem of arithmetic, 2 strings are anagrams if and only if their products are the same.","title":"How to check if two words are anagrams","body":"<p>Fastest algorithm would be to map each of the 26 English characters to a unique prime number. Then calculate the product of the string. By the fundamental theorem of arithmetic, 2 strings are anagrams if and only if their products are the same.</p>\n"},{"tags":[],"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1375871003,"creation_date":1375871003,"answer_id":18100878,"question_id":15045640,"body_markdown":"By using more memory (an HashMap of at most N/2 elements)we do not need to sort the strings.\r\n\r\n    public static boolean areAnagrams(String one, String two) {\r\n        if (one.length() == two.length()) {\r\n            String s0 = one.toLowerCase();\r\n            String s1 = two.toLowerCase();\r\n            HashMap&lt;Character, Integer&gt; chars = new HashMap&lt;Character, Integer&gt;(one.length());\r\n            Integer count;\r\n            for (char c : s0.toCharArray()) {\r\n                count = chars.get(c);\r\n                count = Integer.valueOf(count != null ? count + 1 : 1);\r\n                chars.put(c, count);\r\n            }\r\n            for (char c : s1.toCharArray()) {\r\n                count = chars.get(c);\r\n                if (count == null) {\r\n                    return false;\r\n                } else {\r\n                    count--;\r\n                    chars.put(c, count);\r\n                }\r\n            }\r\n            for (Integer i : chars.values()) {\r\n                if (i != 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\nThis function is actually running in O(N) ... instead of O(NlogN) for the solution that sorts the strings. If I were to assume that you are going to use only alphabetic characters I could only use an array of  26 ints (from a to z without accents or decorations) instead of the hashmap.\r\n\r\nIf we define that :\r\nN = |one| + |two|\r\nwe do one iteration over N (once over one to increment the counters, and once to decrement them over two).\r\nThen to check the totals we iterate over at mose N/2.\r\n\r\nThe other algorithms described have one advantage: they do not use extra memory assuming that Arrays.sort uses inplace versions of QuickSort or merge sort. But since we are talking about anagrams I will assume that we are talking about human languages, thus words should not be long enough to give memory issues.","title":"How to check if two words are anagrams","body":"<p>By using more memory (an HashMap of at most N/2 elements)we do not need to sort the strings.</p>\n\n<pre><code>public static boolean areAnagrams(String one, String two) {\n    if (one.length() == two.length()) {\n        String s0 = one.toLowerCase();\n        String s1 = two.toLowerCase();\n        HashMap&lt;Character, Integer&gt; chars = new HashMap&lt;Character, Integer&gt;(one.length());\n        Integer count;\n        for (char c : s0.toCharArray()) {\n            count = chars.get(c);\n            count = Integer.valueOf(count != null ? count + 1 : 1);\n            chars.put(c, count);\n        }\n        for (char c : s1.toCharArray()) {\n            count = chars.get(c);\n            if (count == null) {\n                return false;\n            } else {\n                count--;\n                chars.put(c, count);\n            }\n        }\n        for (Integer i : chars.values()) {\n            if (i != 0) {\n                return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>This function is actually running in O(N) ... instead of O(NlogN) for the solution that sorts the strings. If I were to assume that you are going to use only alphabetic characters I could only use an array of  26 ints (from a to z without accents or decorations) instead of the hashmap.</p>\n\n<p>If we define that :\nN = |one| + |two|\nwe do one iteration over N (once over one to increment the counters, and once to decrement them over two).\nThen to check the totals we iterate over at mose N/2.</p>\n\n<p>The other algorithms described have one advantage: they do not use extra memory assuming that Arrays.sort uses inplace versions of QuickSort or merge sort. But since we are talking about anagrams I will assume that we are talking about human languages, thus words should not be long enough to give memory issues.</p>\n"},{"tags":[],"owner":{"account_id":3618984,"reputation":119,"user_id":3018233,"display_name":"Mokhtar Kalmoush"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1386469334,"creation_date":1386469334,"answer_id":20449119,"question_id":15045640,"body_markdown":"        /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    package Algorithms;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    /**\r\n     *\r\n     * @author Mokhtar\r\n     */\r\n    public class Anagrams {\r\n    \r\n        //Write aprogram to check if two words are anagrams\r\n        public static void main(String[] args) {\r\n            Anagrams an=new Anagrams();\r\n            ArrayList&lt;String&gt; l=new ArrayList&lt;String&gt;();\r\n            String result=JOptionPane.showInputDialog(&quot;How many words to test anagrams&quot;);\r\n            if(Integer.parseInt(result) &gt;1)\r\n            {    \r\n                for(int i=0;i&lt;Integer.parseInt(result);i++)\r\n                {\r\n                    \r\n                    String word=JOptionPane.showInputDialog(&quot;Enter word #&quot;+i);\r\n                    l.add(word);   \r\n                }\r\n                System.out.println(an.isanagrams(l));\r\n            }\r\n            else\r\n            {\r\n                JOptionPane.showMessageDialog(null, &quot;Can not be tested, \\nYou can test two words or more&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static String sortString( String w )\r\n    \t{\r\n    \t\tchar[] ch = w.toCharArray();\r\n    \t\tArrays.sort(ch);\r\n    \t\treturn new String(ch);\r\n    \t}\r\n    \r\n        public boolean isanagrams(ArrayList&lt;String&gt; l)\r\n        {\r\n            boolean isanagrams=true; \r\n            ArrayList&lt;String&gt; anagrams = null;\r\n            HashMap&lt;String, ArrayList&lt;String&gt;&gt; map =  new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n            for(int i=0;i&lt;l.size();i++)\r\n                {\r\n    \t\tString word = l.get(i);\r\n    \t\tString sortedWord = sortString(word);\r\n    \t        anagrams = map.get( sortedWord );\r\n    \t\tif( anagrams == null ) anagrams = new ArrayList&lt;String&gt;();\r\n    \t\tanagrams.add(word);\r\n    \t\tmap.put(sortedWord, anagrams);\r\n                }\r\n    \r\n                for(int h=0;h&lt;l.size();h++)\r\n                {\r\n                    if(!anagrams.contains(l.get(h)))\r\n                    {\r\n                        isanagrams=false;\r\n                        break;\r\n                    }\r\n                }\r\n                \r\n                return isanagrams;\r\n    \t\t//}\r\n            }\r\n    \r\n    }\r\n\r\n","title":"How to check if two words are anagrams","body":"<pre><code>    /*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage Algorithms;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport javax.swing.JOptionPane;\n\n/**\n *\n * @author Mokhtar\n */\npublic class Anagrams {\n\n    //Write aprogram to check if two words are anagrams\n    public static void main(String[] args) {\n        Anagrams an=new Anagrams();\n        ArrayList&lt;String&gt; l=new ArrayList&lt;String&gt;();\n        String result=JOptionPane.showInputDialog(\"How many words to test anagrams\");\n        if(Integer.parseInt(result) &gt;1)\n        {    \n            for(int i=0;i&lt;Integer.parseInt(result);i++)\n            {\n\n                String word=JOptionPane.showInputDialog(\"Enter word #\"+i);\n                l.add(word);   \n            }\n            System.out.println(an.isanagrams(l));\n        }\n        else\n        {\n            JOptionPane.showMessageDialog(null, \"Can not be tested, \\nYou can test two words or more\");\n        }\n\n    }\n\n    private static String sortString( String w )\n    {\n        char[] ch = w.toCharArray();\n        Arrays.sort(ch);\n        return new String(ch);\n    }\n\n    public boolean isanagrams(ArrayList&lt;String&gt; l)\n    {\n        boolean isanagrams=true; \n        ArrayList&lt;String&gt; anagrams = null;\n        HashMap&lt;String, ArrayList&lt;String&gt;&gt; map =  new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n        for(int i=0;i&lt;l.size();i++)\n            {\n        String word = l.get(i);\n        String sortedWord = sortString(word);\n            anagrams = map.get( sortedWord );\n        if( anagrams == null ) anagrams = new ArrayList&lt;String&gt;();\n        anagrams.add(word);\n        map.put(sortedWord, anagrams);\n            }\n\n            for(int h=0;h&lt;l.size();h++)\n            {\n                if(!anagrams.contains(l.get(h)))\n                {\n                    isanagrams=false;\n                    break;\n                }\n            }\n\n            return isanagrams;\n        //}\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2634317,"reputation":10972,"user_id":2279448,"display_name":"Zoran Horvat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1627242933,"creation_date":1387403502,"answer_id":20669196,"question_id":15045640,"body_markdown":"Sorting approach is not the best one. It takes O(n) space and O(nlogn) time. Instead, make a hash map of characters and count them (increment characters that appear in the first string and decrement characters that appear in the second string). When some count reaches zero, remove it from hash. Finally, if two strings are anagrams, then the hash table will be empty in the end - otherwise it will not be empty.\r\n\r\nCouple of important notes: (1) Ignore letter case and (2) Ignore white space.\r\n\r\nHere is the detailed analysis and implementation in C#: [Testing If Two Strings are Anagrams][1]\r\n\r\n\r\n  [1]: https://codinghelmet.com/exercises/anagram-testing","title":"How to check if two words are anagrams","body":"<p>Sorting approach is not the best one. It takes O(n) space and O(nlogn) time. Instead, make a hash map of characters and count them (increment characters that appear in the first string and decrement characters that appear in the second string). When some count reaches zero, remove it from hash. Finally, if two strings are anagrams, then the hash table will be empty in the end - otherwise it will not be empty.</p>\n<p>Couple of important notes: (1) Ignore letter case and (2) Ignore white space.</p>\n<p>Here is the detailed analysis and implementation in C#: <a href=\"https://codinghelmet.com/exercises/anagram-testing\" rel=\"nofollow noreferrer\">Testing If Two Strings are Anagrams</a></p>\n"},{"tags":[],"owner":{"account_id":3545864,"reputation":41,"user_id":2961847,"display_name":"Jeff Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1391113612,"creation_date":1391051596,"answer_id":21447112,"question_id":15045640,"body_markdown":"We&#39;re walking two equal length strings and tracking the differences between them. We don&#39;t care what the differences are, we just want to know if they have the same characters or not. We can do this in O(n/2) without any post processing (or a lot of primes).\r\n\r\n    public class TestAnagram {\r\n      public static boolean isAnagram(String first, String second) {\r\n        String positive = first.toLowerCase();\r\n        String negative = second.toLowerCase();\r\n\r\n        if (positive.length() != negative.length()) {\r\n          return false;\r\n        }\r\n\r\n        int[] counts = new int[26];\r\n\r\n        int diff = 0;\r\n\r\n        for (int i = 0; i &lt; positive.length(); i++) {\r\n          int pos = (int) positive.charAt(i) - 97; // convert the char into an array index\r\n          if (counts[pos] &gt;= 0) { // the other string doesn&#39;t have this\r\n            diff++; // an increase in differences\r\n          } else { // it does have it\r\n            diff--; // a decrease in differences\r\n          }\r\n          counts[pos]++; // track it\r\n\r\n          int neg = (int) negative.charAt(i) - 97;\r\n          if (counts[neg] &lt;= 0) { // the other string doesn&#39;t have this\r\n            diff++; // an increase in differences\r\n          } else { // it does have it\r\n            diff--; // a decrease in differences\r\n          }\r\n          counts[neg]--; // track it\r\n        }\r\n\r\n        return diff == 0;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(isAnagram(&quot;zMarry&quot;, &quot;zArmry&quot;)); // true\r\n        System.out.println(isAnagram(&quot;basiparachromatin&quot;, &quot;marsipobranchiata&quot;)); // true\r\n        System.out.println(isAnagram(&quot;hydroxydeoxycorticosterones&quot;, &quot;hydroxydesoxycorticosterone&quot;)); // true\r\n        System.out.println(isAnagram(&quot;hydroxydeoxycorticosterones&quot;, &quot;hydroxydesoxycorticosterons&quot;)); // false\r\n        System.out.println(isAnagram(&quot;zArmcy&quot;, &quot;zArmry&quot;)); // false\r\n      }\r\n    }\r\n\r\nYes this code is dependent on the ASCII English character set of lowercase characters but it shouldn&#39;t be hard to modify to other languages. You can always use a Map[Character, Int] to track the same information, it&#39;ll just be slower.","title":"How to check if two words are anagrams","body":"<p>We're walking two equal length strings and tracking the differences between them. We don't care what the differences are, we just want to know if they have the same characters or not. We can do this in O(n/2) without any post processing (or a lot of primes).</p>\n\n<pre><code>public class TestAnagram {\n  public static boolean isAnagram(String first, String second) {\n    String positive = first.toLowerCase();\n    String negative = second.toLowerCase();\n\n    if (positive.length() != negative.length()) {\n      return false;\n    }\n\n    int[] counts = new int[26];\n\n    int diff = 0;\n\n    for (int i = 0; i &lt; positive.length(); i++) {\n      int pos = (int) positive.charAt(i) - 97; // convert the char into an array index\n      if (counts[pos] &gt;= 0) { // the other string doesn't have this\n        diff++; // an increase in differences\n      } else { // it does have it\n        diff--; // a decrease in differences\n      }\n      counts[pos]++; // track it\n\n      int neg = (int) negative.charAt(i) - 97;\n      if (counts[neg] &lt;= 0) { // the other string doesn't have this\n        diff++; // an increase in differences\n      } else { // it does have it\n        diff--; // a decrease in differences\n      }\n      counts[neg]--; // track it\n    }\n\n    return diff == 0;\n  }\n\n  public static void main(String[] args) {\n    System.out.println(isAnagram(\"zMarry\", \"zArmry\")); // true\n    System.out.println(isAnagram(\"basiparachromatin\", \"marsipobranchiata\")); // true\n    System.out.println(isAnagram(\"hydroxydeoxycorticosterones\", \"hydroxydesoxycorticosterone\")); // true\n    System.out.println(isAnagram(\"hydroxydeoxycorticosterones\", \"hydroxydesoxycorticosterons\")); // false\n    System.out.println(isAnagram(\"zArmcy\", \"zArmry\")); // false\n  }\n}\n</code></pre>\n\n<p>Yes this code is dependent on the ASCII English character set of lowercase characters but it shouldn't be hard to modify to other languages. You can always use a Map[Character, Int] to track the same information, it'll just be slower.</p>\n"},{"tags":[],"owner":{"account_id":105356,"reputation":2071,"user_id":281191,"accept_rate":0,"display_name":"goroncy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391519479,"creation_date":1391519479,"answer_id":21553499,"question_id":15045640,"body_markdown":"O(n) solution without any kind of sorting and using only one map. \r\n\r\n    public boolean isAnagram(String leftString, String rightString) {\r\n      if (leftString == null || rightString == null) {\r\n        return false;\r\n      } else if (leftString.length() != rightString.length()) {\r\n        return false;\r\n      }\r\n\r\n      Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\r\n\r\n      for(int i = 0; i &lt; leftString.length(); i++){\r\n        char charFromLeft = leftString.charAt(i);\r\n        int nrOfCharsInLeft = occurrencesMap.containsKey(charFromLeft) ? occurrencesMap.get(charFromLeft) : 0;\r\n        occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\r\n        char charFromRight = rightString.charAt(i);\r\n        int nrOfCharsInRight = occurrencesMap.containsKey(charFromRight) ? occurrencesMap.get(charFromRight) : 0;\r\n        occurrencesMap.put(charFromRight, --nrOfCharsInRight);\r\n      }\r\n\r\n      for(int occurrencesNr : occurrencesMap.values()){\r\n        if(occurrencesNr != 0){\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\nand less generic solution but a little bit faster one. You have to place your alphabet here:\r\n\r\n    public boolean isAnagram(String leftString, String rightString) {\r\n      if (leftString == null || rightString == null) {\r\n        return false;\r\n      } else if (leftString.length() != rightString.length()) {\r\n        return false;\r\n      }\r\n\r\n      char letters[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n      Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\r\n      for (char l : letters) {\r\n        occurrencesMap.put(l, 0);\r\n      }\r\n\r\n      for(int i = 0; i &lt; leftString.length(); i++){\r\n        char charFromLeft = leftString.charAt(i);\r\n        Integer nrOfCharsInLeft = occurrencesMap.get(charFromLeft);\r\n        occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\r\n        char charFromRight = rightString.charAt(i);\r\n        Integer nrOfCharsInRight = occurrencesMap.get(charFromRight);\r\n        occurrencesMap.put(charFromRight, --nrOfCharsInRight);\r\n      }\r\n\r\n      for(Integer occurrencesNr : occurrencesMap.values()){\r\n        if(occurrencesNr != 0){\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }","title":"How to check if two words are anagrams","body":"<p>O(n) solution without any kind of sorting and using only one map. </p>\n\n<pre><code>public boolean isAnagram(String leftString, String rightString) {\n  if (leftString == null || rightString == null) {\n    return false;\n  } else if (leftString.length() != rightString.length()) {\n    return false;\n  }\n\n  Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\n\n  for(int i = 0; i &lt; leftString.length(); i++){\n    char charFromLeft = leftString.charAt(i);\n    int nrOfCharsInLeft = occurrencesMap.containsKey(charFromLeft) ? occurrencesMap.get(charFromLeft) : 0;\n    occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\n    char charFromRight = rightString.charAt(i);\n    int nrOfCharsInRight = occurrencesMap.containsKey(charFromRight) ? occurrencesMap.get(charFromRight) : 0;\n    occurrencesMap.put(charFromRight, --nrOfCharsInRight);\n  }\n\n  for(int occurrencesNr : occurrencesMap.values()){\n    if(occurrencesNr != 0){\n      return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>and less generic solution but a little bit faster one. You have to place your alphabet here:</p>\n\n<pre><code>public boolean isAnagram(String leftString, String rightString) {\n  if (leftString == null || rightString == null) {\n    return false;\n  } else if (leftString.length() != rightString.length()) {\n    return false;\n  }\n\n  char letters[] = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\n  Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\n  for (char l : letters) {\n    occurrencesMap.put(l, 0);\n  }\n\n  for(int i = 0; i &lt; leftString.length(); i++){\n    char charFromLeft = leftString.charAt(i);\n    Integer nrOfCharsInLeft = occurrencesMap.get(charFromLeft);\n    occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\n    char charFromRight = rightString.charAt(i);\n    Integer nrOfCharsInRight = occurrencesMap.get(charFromRight);\n    occurrencesMap.put(charFromRight, --nrOfCharsInRight);\n  }\n\n  for(Integer occurrencesNr : occurrencesMap.values()){\n    if(occurrencesNr != 0){\n      return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3769790,"reputation":119,"user_id":3132317,"display_name":"muneebahmad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392495844,"creation_date":1392495844,"answer_id":21803171,"question_id":15045640,"body_markdown":"I am a C++ developer and the code below is in C++. I believe the fastest and easiest way to go about it would be the following:\r\n\r\nCreate a vector of ints of size 26, with all slots initialized to 0, and place each character of the string into the appropriate position in the vector. Remember, the vector is in alphabetical order and so if the first letter in the string is z, it would go in myvector[26]. Note: This can be done using ASCII characters so essentially your code will look something like this:\r\n\r\n    string s = zadg;\r\n    for(int i =0; i &lt; s.size(); ++i){\r\n        myvector[s[i] - &#39;a&#39;] = myvector[&#39;s[i] - &#39;a&#39;] + 1;\r\n    } \r\nSo inserting all the elements would take O(n) time as you would only traverse the list once. You can now do the exact same thing for the second string and that too would take O(n) time. You can then compare the two vectors by checking to see if the counters in each slot are the same. If they are, that means you had the same number of EACH character in both the strings and thus they are anagrams. The comparing of the two vectors should also take O(n) time as you are only traversing through it once. \r\n\r\nNote: The code only works for a single word of characters. If you have spaces, and numbers and symbols, you can just create a vector of size 96 (ASCII characters 32-127) and instead of saying - &#39;a&#39; you would say - &#39; &#39; as the space character is the first one in the ASCII list of characters.\r\n\r\nI hope that helps. If i have made a mistake somewhere, please leave a comment.","title":"How to check if two words are anagrams","body":"<p>I am a C++ developer and the code below is in C++. I believe the fastest and easiest way to go about it would be the following:</p>\n\n<p>Create a vector of ints of size 26, with all slots initialized to 0, and place each character of the string into the appropriate position in the vector. Remember, the vector is in alphabetical order and so if the first letter in the string is z, it would go in myvector[26]. Note: This can be done using ASCII characters so essentially your code will look something like this:</p>\n\n<pre><code>string s = zadg;\nfor(int i =0; i &lt; s.size(); ++i){\n    myvector[s[i] - 'a'] = myvector['s[i] - 'a'] + 1;\n} \n</code></pre>\n\n<p>So inserting all the elements would take O(n) time as you would only traverse the list once. You can now do the exact same thing for the second string and that too would take O(n) time. You can then compare the two vectors by checking to see if the counters in each slot are the same. If they are, that means you had the same number of EACH character in both the strings and thus they are anagrams. The comparing of the two vectors should also take O(n) time as you are only traversing through it once. </p>\n\n<p>Note: The code only works for a single word of characters. If you have spaces, and numbers and symbols, you can just create a vector of size 96 (ASCII characters 32-127) and instead of saying - 'a' you would say - ' ' as the space character is the first one in the ASCII list of characters.</p>\n\n<p>I hope that helps. If i have made a mistake somewhere, please leave a comment.</p>\n"},{"tags":[],"owner":{"account_id":2350272,"reputation":159,"user_id":2059329,"display_name":"ak_2050"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398024680,"creation_date":1398002511,"answer_id":23183326,"question_id":15045640,"body_markdown":"A similar answer may have been posted in C++, here it is again in Java. Note that the most elegant way would be to use a Trie to store the characters in sorted order, however, that&#39;s a more complex solution. One way is to use a hashset&lt;String&gt; to store all the words we are comparing and then compare them one by one. To compare them, make an array of characters with the index representing the ANCII value of the characters (using a normalizer since ie. ANCII value of &#39;a&#39; is 97) and the value representing the occurrence count of that character. This will run in O(n) time and use O(m*z) space where m is the size of the currentWord and z the size for the storedWord, both for which we create a Char[].\r\n\r\n    public static boolean makeAnagram(String currentWord, String storedWord){\r\n        if(currentWord.length() != storedWord.length()) return false;//words must be same length\r\n        Integer[] currentWordChars = new Integer[totalAlphabets];\r\n        Integer[] storedWordChars = new Integer[totalAlphabets];\r\n        //create a temp Arrays to compare the words\r\n        storeWordCharacterInArray(currentWordChars, currentWord);\r\n        storeWordCharacterInArray(storedWordChars, storedWord);\r\n        for(int i = 0; i &lt; totalAlphabets; i++){\r\n            //compare the new word to the current charList to see if anagram is possible\r\n            if(currentWordChars[i] != storedWordChars[i]) return false;\r\n        }\r\n        return true;//and store this word in the HashSet of word in the Heap\r\n    }\r\n    //for each word store its characters\r\n    public static void storeWordCharacterInArray(Integer[] characterList, String word){\r\n        char[] charCheck = word.toCharArray();\r\n        for(char c: charCheck){\r\n            Character cc = c;\r\n            int index = cc.charValue()-indexNormalizer;\r\n            characterList[index] += 1;\r\n        }\r\n    }","title":"How to check if two words are anagrams","body":"<p>A similar answer may have been posted in C++, here it is again in Java. Note that the most elegant way would be to use a Trie to store the characters in sorted order, however, that's a more complex solution. One way is to use a hashset to store all the words we are comparing and then compare them one by one. To compare them, make an array of characters with the index representing the ANCII value of the characters (using a normalizer since ie. ANCII value of 'a' is 97) and the value representing the occurrence count of that character. This will run in O(n) time and use O(m*z) space where m is the size of the currentWord and z the size for the storedWord, both for which we create a Char[].</p>\n\n<pre><code>public static boolean makeAnagram(String currentWord, String storedWord){\n    if(currentWord.length() != storedWord.length()) return false;//words must be same length\n    Integer[] currentWordChars = new Integer[totalAlphabets];\n    Integer[] storedWordChars = new Integer[totalAlphabets];\n    //create a temp Arrays to compare the words\n    storeWordCharacterInArray(currentWordChars, currentWord);\n    storeWordCharacterInArray(storedWordChars, storedWord);\n    for(int i = 0; i &lt; totalAlphabets; i++){\n        //compare the new word to the current charList to see if anagram is possible\n        if(currentWordChars[i] != storedWordChars[i]) return false;\n    }\n    return true;//and store this word in the HashSet of word in the Heap\n}\n//for each word store its characters\npublic static void storeWordCharacterInArray(Integer[] characterList, String word){\n    char[] charCheck = word.toCharArray();\n    for(char c: charCheck){\n        Character cc = c;\n        int index = cc.charValue()-indexNormalizer;\n        characterList[index] += 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4464166,"reputation":1,"user_id":4992037,"display_name":"Anshul Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399981714,"creation_date":1399980533,"answer_id":23630013,"question_id":15045640,"body_markdown":"A simple method to figure out whether the testString is an anagram of the baseString.\r\n\r\n    private static boolean isAnagram(String baseString, String testString){\r\n\t\t//Assume that there are no empty spaces in either string.\r\n\t\t\r\n\t\tif(baseString.length() != testString.length()){\r\n\t\t\tSystem.out.println(&quot;The 2 given words cannot be anagram since their lengths are different&quot;);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(baseString.length() == testString.length()){\r\n\t\t\t\tif(baseString.equalsIgnoreCase(testString)){\r\n\t\t\t\t\tSystem.out.println(&quot;The 2 given words are anagram since they are identical.&quot;);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tList&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(Character ch : baseString.toLowerCase().toCharArray()){\r\n\t\t\t\t\t\tlist.add(ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;List is : &quot;+ list);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(Character ch : testString.toLowerCase().toCharArray()){\r\n\t\t\t\t\t\tif(list.contains(ch)){\r\n\t\t\t\t\t\t\tlist.remove(ch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(list.isEmpty()){\r\n\t\t\t\t\t\tSystem.out.println(&quot;The 2 words are anagrams&quot;);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"How to check if two words are anagrams","body":"<p>A simple method to figure out whether the testString is an anagram of the baseString.</p>\n\n<pre><code>private static boolean isAnagram(String baseString, String testString){\n    //Assume that there are no empty spaces in either string.\n\n    if(baseString.length() != testString.length()){\n        System.out.println(\"The 2 given words cannot be anagram since their lengths are different\");\n        return false;\n    }\n    else{\n        if(baseString.length() == testString.length()){\n            if(baseString.equalsIgnoreCase(testString)){\n                System.out.println(\"The 2 given words are anagram since they are identical.\");\n                return true;\n            }\n            else{\n                List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n\n                for(Character ch : baseString.toLowerCase().toCharArray()){\n                    list.add(ch);\n                }\n                System.out.println(\"List is : \"+ list);\n\n                for(Character ch : testString.toLowerCase().toCharArray()){\n                    if(list.contains(ch)){\n                        list.remove(ch);\n                    }\n                }\n\n                if(list.isEmpty()){\n                    System.out.println(\"The 2 words are anagrams\");\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508086,"reputation":425,"user_id":2181169,"accept_rate":100,"display_name":"53by97"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1449055320,"creation_date":1401096082,"answer_id":23866816,"question_id":15045640,"body_markdown":"A way to solve this - based on Sai Kiran&#39;s answer..\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Anagram {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.print(&quot;Enter first word : &quot;);\r\n    \t\tString word1 = sc.nextLine();\r\n    \t\tSystem.out.print(&quot;Enter second word : &quot;);\r\n    \t\tString word2 = sc.nextLine();\r\n    \r\n    \t\tsc.close();\r\n    \r\n    \t\tSystem.out.println(&quot;Is Anagram : &quot; + isAnagram(word1, word2));\r\n    \t}\r\n    \r\n    \tprivate static boolean isAnagram(String word1, String word2) {\r\n    \r\n    \t\tif (word1.length() != word2.length()) {\r\n    \t\t\tSystem.err.println(&quot;Words length didn&#39;t match!&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tchar ch1, ch2;\r\n    \t\tint len = word1.length(), sumOfWord1Chars = 0, sumOfWord2Chars = 0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\tch1 = word1.charAt(i);\r\n    \t\t\tif (word2.indexOf(ch1) &lt; 0) {\r\n    \t\t\t\tSystem.err.println(&quot;&#39;&quot; + ch1 + &quot;&#39; not found in \\&quot;&quot; + word2\r\n    \t\t\t\t\t\t+ &quot;\\&quot;&quot;);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tsumOfWord1Chars += word1.charAt(i);\r\n    \r\n    \t\t\tch2 = word2.charAt(i);\r\n    \t\t\tif (word1.indexOf(ch2) &lt; 0) {\r\n    \t\t\t\tSystem.err.println(&quot;&#39;&quot; + ch2 + &quot;&#39; not found in \\&quot;&quot; + word1\r\n    \t\t\t\t\t\t+ &quot;\\&quot;&quot;);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tsumOfWord2Chars += word2.charAt(i);\r\n    \t\t}\r\n    \r\n    \t\tif (sumOfWord1Chars != sumOfWord2Chars) {\r\n    \t\t\tSystem.err\r\n    \t\t\t\t\t.println(&quot;Sum of both words didn&#39;t match, i.e., words having same characters but with different counts!&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    }","title":"How to check if two words are anagrams","body":"<p>A way to solve this - based on Sai Kiran's answer..</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Anagram {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(\"Enter first word : \");\n        String word1 = sc.nextLine();\n        System.out.print(\"Enter second word : \");\n        String word2 = sc.nextLine();\n\n        sc.close();\n\n        System.out.println(\"Is Anagram : \" + isAnagram(word1, word2));\n    }\n\n    private static boolean isAnagram(String word1, String word2) {\n\n        if (word1.length() != word2.length()) {\n            System.err.println(\"Words length didn't match!\");\n            return false;\n        }\n\n        char ch1, ch2;\n        int len = word1.length(), sumOfWord1Chars = 0, sumOfWord2Chars = 0;\n\n        for (int i = 0; i &lt; len; i++) {\n            ch1 = word1.charAt(i);\n            if (word2.indexOf(ch1) &lt; 0) {\n                System.err.println(\"'\" + ch1 + \"' not found in \\\"\" + word2\n                        + \"\\\"\");\n                return false;\n            }\n            sumOfWord1Chars += word1.charAt(i);\n\n            ch2 = word2.charAt(i);\n            if (word1.indexOf(ch2) &lt; 0) {\n                System.err.println(\"'\" + ch2 + \"' not found in \\\"\" + word1\n                        + \"\\\"\");\n                return false;\n            }\n            sumOfWord2Chars += word2.charAt(i);\n        }\n\n        if (sumOfWord1Chars != sumOfWord2Chars) {\n            System.err\n                    .println(\"Sum of both words didn't match, i.e., words having same characters but with different counts!\");\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2154909,"reputation":702,"user_id":1910380,"accept_rate":69,"display_name":"Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402841221,"creation_date":1402840838,"answer_id":24230337,"question_id":15045640,"body_markdown":"Sorry, the solution is in C#, but I think the different elements used to arrive at the solution is quite intuitive. Slight tweak required for hyphenated words but for normal words it should work fine.\r\n        \r\n        internal bool isAnagram(string input1,string input2)\r\n        {\r\n            Dictionary&lt;char, int&gt; outChars = AddToDict(input2.ToLower().Replace(&quot; &quot;, &quot;&quot;));\r\n            input1 = input1.ToLower().Replace(&quot; &quot;,&quot;&quot;);\r\n            foreach(char c in input1)\r\n            {\r\n                if (outChars.ContainsKey(c))\r\n                {\r\n                    if (outChars[c] &gt; 1)\r\n                        outChars[c] -= 1;\r\n                    else\r\n                        outChars.Remove(c);\r\n                }\r\n            }\r\n            return outChars.Count == 0;\r\n        }\r\n\r\n        private Dictionary&lt;char, int&gt; AddToDict(string input)\r\n        {\r\n            Dictionary&lt;char, int&gt; inputChars = new Dictionary&lt;char, int&gt;();\r\n            foreach(char c in input)\r\n            {\r\n                if(inputChars.ContainsKey(c))\r\n                {\r\n                    inputChars[c] += 1;\r\n                }\r\n                else\r\n                {\r\n                    inputChars.Add(c, 1);\r\n                }     \r\n            }\r\n            return inputChars;\r\n        }","title":"How to check if two words are anagrams","body":"<p>Sorry, the solution is in C#, but I think the different elements used to arrive at the solution is quite intuitive. Slight tweak required for hyphenated words but for normal words it should work fine.</p>\n\n<pre><code>    internal bool isAnagram(string input1,string input2)\n    {\n        Dictionary&lt;char, int&gt; outChars = AddToDict(input2.ToLower().Replace(\" \", \"\"));\n        input1 = input1.ToLower().Replace(\" \",\"\");\n        foreach(char c in input1)\n        {\n            if (outChars.ContainsKey(c))\n            {\n                if (outChars[c] &gt; 1)\n                    outChars[c] -= 1;\n                else\n                    outChars.Remove(c);\n            }\n        }\n        return outChars.Count == 0;\n    }\n\n    private Dictionary&lt;char, int&gt; AddToDict(string input)\n    {\n        Dictionary&lt;char, int&gt; inputChars = new Dictionary&lt;char, int&gt;();\n        foreach(char c in input)\n        {\n            if(inputChars.ContainsKey(c))\n            {\n                inputChars[c] += 1;\n            }\n            else\n            {\n                inputChars.Add(c, 1);\n            }     \n        }\n        return inputChars;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4518727,"reputation":2512,"user_id":3672715,"accept_rate":75,"display_name":"Ripu Daman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411930996,"creation_date":1411679280,"answer_id":26048109,"question_id":15045640,"body_markdown":"I saw that no one has used the &quot;hashcode&quot; approach to find out the anagrams. I found my approach little different than the approaches discussed above hence thought of sharing it. I wrote the below code to find the anagrams which works in O(n). \r\n\r\n    /**\r\n     * This class performs the logic of finding anagrams\r\n     * @author ripudam\r\n     *\r\n     */\r\n    public class AnagramTest {\r\n\r\n\t    public static boolean isAnagram(final String word1, final String word2) {\r\n\r\n                if (word1 == null || word2 == null || word1.length() != word2.length()) {\r\n\t\t\t         return false;\r\n\t\t        }\r\n\r\n\t\t\t    if (word1.equals(word2)) {\r\n\t    \t\t\treturn true;\r\n\t\t\t    }\r\n\r\n\t    \t\tfinal AnagramWrapper word1Obj = new AnagramWrapper(word1);\r\n\t\t\t    final AnagramWrapper word2Obj = new AnagramWrapper(word2);\r\n\r\n\t    \t\tif (word1Obj.equals(word2Obj)) {\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\r\n\t\t\t    return false;\r\n\t\t    }\r\n\r\n\t\t    /*\r\n\t\t     * Inner class to wrap the string received for anagram check to find the\r\n\t\t     * hash\r\n\t\t     */\r\n\t    \tstatic class AnagramWrapper {\r\n\t    \t\tString word;\r\n\r\n\t    \t\tpublic AnagramWrapper(final String word) {\r\n\t    \t\t\tthis.word = word;\r\n\t    \t\t}\r\n\r\n\t    \t\t@Override\r\n\t    \t\tpublic boolean equals(final Object obj) {\r\n\r\n\t    \t\t\treturn hashCode() == obj.hashCode();\r\n\t    \t\t}\r\n\r\n\t    \t\t@Override\r\n\t    \t\tpublic int hashCode() {\r\n\t    \t\t\tfinal char[] array = word.toCharArray();\r\n\t    \t\t\tint hashcode = 0;\r\n\t    \t\t\tfor (final char c : array) {\r\n\t    \t\t\t\thashcode = hashcode + (c * c);\r\n\t    \t\t\t}\r\n\t    \t\t\treturn hashcode;\r\n\t    \t\t}\r\n\t    \t }\r\n\t    }","title":"How to check if two words are anagrams","body":"<p>I saw that no one has used the \"hashcode\" approach to find out the anagrams. I found my approach little different than the approaches discussed above hence thought of sharing it. I wrote the below code to find the anagrams which works in O(n). </p>\n\n<pre><code>/**\n * This class performs the logic of finding anagrams\n * @author ripudam\n *\n */\npublic class AnagramTest {\n\n    public static boolean isAnagram(final String word1, final String word2) {\n\n            if (word1 == null || word2 == null || word1.length() != word2.length()) {\n                 return false;\n            }\n\n            if (word1.equals(word2)) {\n                return true;\n            }\n\n            final AnagramWrapper word1Obj = new AnagramWrapper(word1);\n            final AnagramWrapper word2Obj = new AnagramWrapper(word2);\n\n            if (word1Obj.equals(word2Obj)) {\n                return true;\n            }\n\n            return false;\n        }\n\n        /*\n         * Inner class to wrap the string received for anagram check to find the\n         * hash\n         */\n        static class AnagramWrapper {\n            String word;\n\n            public AnagramWrapper(final String word) {\n                this.word = word;\n            }\n\n            @Override\n            public boolean equals(final Object obj) {\n\n                return hashCode() == obj.hashCode();\n            }\n\n            @Override\n            public int hashCode() {\n                final char[] array = word.toCharArray();\n                int hashcode = 0;\n                for (final char c : array) {\n                    hashcode = hashcode + (c * c);\n                }\n                return hashcode;\n            }\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1648626886,"creation_date":1411787846,"answer_id":26070946,"question_id":15045640,"body_markdown":"Lots of people have presented solutions, but I just want to talk about the algorithmic complexity of some of the common approaches:\r\n\r\n  - The simple &quot;sort the characters using `Arrays.sort()`&quot; approach is going to be `O(N log N)`.\r\n\r\n  - If you use radix sorting, that reduces to `O(N)` with `O(M)` space, where `M` is the number of distinct characters in the alphabet.  (That is 26 in English ... but in theory we ought to consider multi-lingual anagrams.)\r\n\r\n  - The &quot;count the characters&quot; using an array of counts is also `O(N)` ... and faster than radix sort because you don&#39;t need to reconstruct the sorted string.   Space usage will be `O(M)`.\r\n\r\n  - A &quot;count the characters&quot; using a dictionary, hashmap, treemap, or equivalent will be slower that the array approach, unless the alphabet is huge.\r\n\r\n  - The elegant &quot;product-of-primes&quot; approach is unfortunately `O(N^2)` in the worst case  This is because for long-enough words or phrases, the product of the primes won&#39;t fit into a `long`.  That means that you&#39;d need to use `BigInteger`, and N times multiplying a `BigInteger` by a small constant is `O(N^2)`.  \r\n\r\n    For a hypothetical large alphabet, the scaling factor is going to be large.  The worst-case space usage to hold the product of the primes as a `BigInteger` is (I think) `O(N*logM)`.\r\n\r\n  - A `hashcode` based approach is usually `O(N)` if the words are not anagrams.  If the hashcodes are equal, then you still need to do a proper anagram test.  So this is not a complete solution.\r\n\r\n--------------------\r\n\r\nI would also like to highlight that most of the posted answers assume that each code-point in the input string is represented as a single `char` value.  This is not a valid assumption for code-points outside of the [BMP][1] (plane 0); e.g. if an input string contains emojis.\r\n\r\nThe solutions that make the invalid assumption will probably work most of the time anyway.  A code-point outside of the BMP will represented in the string as two char values: a low surrogate and a high surrogate.  If the strings contain only one such code-point, we can get away with treating the `char` values as if they were code-points.  However, we can get into trouble when the strings being tested contain 2 or more code-points.  Then the faulty algorithms will fail to distinguish some cases.  For example, `[SH1, SL1, SH2, SL2]` versus `[SH1, SL2, SH2, SL1]` where the `SH&lt;n&gt;` and `SL&lt;2&gt;` denote high and low surrogates respectively.  The net result will be false anagrams.\r\n\r\n[Alex Salauyou&#39;s answer][2] gives a couple of solutions that will work for *all* valid Unicode code-points.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\r\n  [2]: https://stackoverflow.com/a/36217106/139985","title":"How to check if two words are anagrams","body":"<p>Lots of people have presented solutions, but I just want to talk about the algorithmic complexity of some of the common approaches:</p>\n<ul>\n<li><p>The simple &quot;sort the characters using <code>Arrays.sort()</code>&quot; approach is going to be <code>O(N log N)</code>.</p>\n</li>\n<li><p>If you use radix sorting, that reduces to <code>O(N)</code> with <code>O(M)</code> space, where <code>M</code> is the number of distinct characters in the alphabet.  (That is 26 in English ... but in theory we ought to consider multi-lingual anagrams.)</p>\n</li>\n<li><p>The &quot;count the characters&quot; using an array of counts is also <code>O(N)</code> ... and faster than radix sort because you don't need to reconstruct the sorted string.   Space usage will be <code>O(M)</code>.</p>\n</li>\n<li><p>A &quot;count the characters&quot; using a dictionary, hashmap, treemap, or equivalent will be slower that the array approach, unless the alphabet is huge.</p>\n</li>\n<li><p>The elegant &quot;product-of-primes&quot; approach is unfortunately <code>O(N^2)</code> in the worst case  This is because for long-enough words or phrases, the product of the primes won't fit into a <code>long</code>.  That means that you'd need to use <code>BigInteger</code>, and N times multiplying a <code>BigInteger</code> by a small constant is <code>O(N^2)</code>.</p>\n<p>For a hypothetical large alphabet, the scaling factor is going to be large.  The worst-case space usage to hold the product of the primes as a <code>BigInteger</code> is (I think) <code>O(N*logM)</code>.</p>\n</li>\n<li><p>A <code>hashcode</code> based approach is usually <code>O(N)</code> if the words are not anagrams.  If the hashcodes are equal, then you still need to do a proper anagram test.  So this is not a complete solution.</p>\n</li>\n</ul>\n<hr />\n<p>I would also like to highlight that most of the posted answers assume that each code-point in the input string is represented as a single <code>char</code> value.  This is not a valid assumption for code-points outside of the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\">BMP</a> (plane 0); e.g. if an input string contains emojis.</p>\n<p>The solutions that make the invalid assumption will probably work most of the time anyway.  A code-point outside of the BMP will represented in the string as two char values: a low surrogate and a high surrogate.  If the strings contain only one such code-point, we can get away with treating the <code>char</code> values as if they were code-points.  However, we can get into trouble when the strings being tested contain 2 or more code-points.  Then the faulty algorithms will fail to distinguish some cases.  For example, <code>[SH1, SL1, SH2, SL2]</code> versus <code>[SH1, SL2, SH2, SL1]</code> where the <code>SH&lt;n&gt;</code> and <code>SL&lt;2&gt;</code> denote high and low surrogates respectively.  The net result will be false anagrams.</p>\n<p><a href=\"https://stackoverflow.com/a/36217106/139985\">Alex Salauyou's answer</a> gives a couple of solutions that will work for <em>all</em> valid Unicode code-points.</p>\n"},{"tags":[],"owner":{"account_id":4676184,"reputation":551,"user_id":3786442,"accept_rate":100,"display_name":"Aswin"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1490739801,"creation_date":1425251897,"answer_id":28800457,"question_id":15045640,"body_markdown":"Here&#39;s a simple fast O(n) solution without using sorting or multiple loops or hash maps. We increment the count of each character in the first array and decrement the count of each character in the second array. If the resulting counts array is full of zeros, the strings are anagrams. Can be expanded to include other characters by increasing the size of the counts array.\r\n\r\n    class AnagramsFaster{\r\n\r\n    \tprivate static boolean compare(String a, String b){\r\n    \t\tchar[] aArr = a.toLowerCase().toCharArray(), bArr = b.toLowerCase().toCharArray();\r\n    \t\tif (aArr.length != bArr.length)\r\n    \t\t\treturn false;\r\n    \t\tint[] counts = new int[26]; // An array to hold the number of occurrences of each character\r\n    \t\tfor (int i = 0; i &lt; aArr.length; i++){\r\n    \t\t\tcounts[aArr[i]-97]++;  // Increment the count of the character at i\r\n    \t\t\tcounts[bArr[i]-97]--;  // Decrement the count of the character at i\r\n    \t\t}\r\n            // If the strings are anagrams, the counts array will be full of zeros\r\n    \t\tfor (int i = 0; i&lt;26; i++)\r\n    \t\t\tif (counts[i] != 0)\r\n    \t\t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args){\r\n    \t\tSystem.out.println(compare(args[0], args[1]));\r\n    \t}\r\n    }","title":"How to check if two words are anagrams","body":"<p>Here's a simple fast O(n) solution without using sorting or multiple loops or hash maps. We increment the count of each character in the first array and decrement the count of each character in the second array. If the resulting counts array is full of zeros, the strings are anagrams. Can be expanded to include other characters by increasing the size of the counts array.</p>\n\n<pre><code>class AnagramsFaster{\n\n    private static boolean compare(String a, String b){\n        char[] aArr = a.toLowerCase().toCharArray(), bArr = b.toLowerCase().toCharArray();\n        if (aArr.length != bArr.length)\n            return false;\n        int[] counts = new int[26]; // An array to hold the number of occurrences of each character\n        for (int i = 0; i &lt; aArr.length; i++){\n            counts[aArr[i]-97]++;  // Increment the count of the character at i\n            counts[bArr[i]-97]--;  // Decrement the count of the character at i\n        }\n        // If the strings are anagrams, the counts array will be full of zeros\n        for (int i = 0; i&lt;26; i++)\n            if (counts[i] != 0)\n                return false;\n        return true;\n    }\n\n    public static void main(String[] args){\n        System.out.println(compare(args[0], args[1]));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331637,"reputation":390,"user_id":656430,"display_name":"chakming"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1566398023,"creation_date":1436952720,"answer_id":31426625,"question_id":15045640,"body_markdown":"Many complicated answers here. Base on the [accepted answer][1] and [the comment][2] mentioning the &#39;ac&#39;-&#39;bb&#39; issue assuming A=65 B=66 C=67, we could simply use the square of each integer that represent a char and solve the problem:\r\n\r\n    public boolean anagram(String s, String t) {\r\n        if(s.length() != t.length())\r\n            return false;\r\n\r\n        int value = 0;\r\n        for(int i = 0; i &lt; s.length(); i++){\r\n            value += ((int)s.charAt(i))^2;\r\n            value -= ((int)t.charAt(i))^2;\r\n        }\r\n        return value == 0;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15045640/how-to-check-if-two-words-are-anagrams-in-java/31426625#17004897\r\n  [2]: https://stackoverflow.com/questions/15045640/how-to-check-if-two-words-are-anagrams-in-java/31426625#comment50369816_17004897","title":"How to check if two words are anagrams","body":"<p>Many complicated answers here. Base on the <a href=\"https://stackoverflow.com/questions/15045640/how-to-check-if-two-words-are-anagrams-in-java/31426625#17004897\">accepted answer</a> and <a href=\"https://stackoverflow.com/questions/15045640/how-to-check-if-two-words-are-anagrams-in-java/31426625#comment50369816_17004897\">the comment</a> mentioning the 'ac'-'bb' issue assuming A=65 B=66 C=67, we could simply use the square of each integer that represent a char and solve the problem:</p>\n\n<pre><code>public boolean anagram(String s, String t) {\n    if(s.length() != t.length())\n        return false;\n\n    int value = 0;\n    for(int i = 0; i &lt; s.length(); i++){\n        value += ((int)s.charAt(i))^2;\n        value -= ((int)t.charAt(i))^2;\n    }\n    return value == 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249802,"reputation":601,"user_id":526108,"accept_rate":74,"display_name":"okello"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1438000316,"creation_date":1437871353,"answer_id":31632492,"question_id":15045640,"body_markdown":"I know this is an old question. However, I&#39;m hoping this can be of help to someone. The time complexity of this solution is O(n^2).\r\n\r\n    public boolean areAnagrams(final String word1, final String word2) {\r\n    \t\tif (word1.length() != word2.length())\r\n    \t\t\treturn false;\r\n    \r\n    \t\tif (word1.equals(word2))\r\n    \t\t\treturn true;\r\n    \r\n    \t\tif (word1.length() == 0 &amp;&amp; word2.length() == 0)\r\n    \t\t\treturn true;\r\n    \r\n    \t\tString secondWord = word2;\r\n    \t\tfor (int i = 0; i &lt; word1.length(); i++) {\r\n    \t\t\tif (secondWord.indexOf(word1.charAt(i)) == -1)\r\n    \t\t\t\treturn false;\r\n    \r\n    \t\t\tsecondWord = secondWord.replaceFirst(word1.charAt(i) + &quot;&quot;, &quot;&quot;);\r\n    \t\t}\r\n    \r\n    \t\tif (secondWord.length() &gt; 0)\r\n    \t\t\treturn false;\r\n    \r\n    \t\treturn true;\r\n    }","title":"How to check if two words are anagrams","body":"<p>I know this is an old question. However, I'm hoping this can be of help to someone. The time complexity of this solution is O(n^2).</p>\n\n<pre><code>public boolean areAnagrams(final String word1, final String word2) {\n        if (word1.length() != word2.length())\n            return false;\n\n        if (word1.equals(word2))\n            return true;\n\n        if (word1.length() == 0 &amp;&amp; word2.length() == 0)\n            return true;\n\n        String secondWord = word2;\n        for (int i = 0; i &lt; word1.length(); i++) {\n            if (secondWord.indexOf(word1.charAt(i)) == -1)\n                return false;\n\n            secondWord = secondWord.replaceFirst(word1.charAt(i) + \"\", \"\");\n        }\n\n        if (secondWord.length() &gt; 0)\n            return false;\n\n        return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":107038,"reputation":133820,"user_id":284795,"accept_rate":79,"display_name":"Colonel Panic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462543055,"creation_date":1438186133,"answer_id":31705741,"question_id":15045640,"body_markdown":"How a mathematician might think about the problem *before writing any code*:\r\n\r\n1. The relation &quot;are anagrams&quot; between strings is an **equivalence relation**, so partitions the set of all strings into equivalence classes.\r\n2. Suppose we had a rule to choose a **representative** (crib) from each class, then it&#39;s easy to test whether two classes are the same by comparing their representatives.\r\n3. An obvious representative for a set of strings is &quot;the **smallest element by lexicographic order**&quot;, which is easy to compute from any element by sorting. For example, the representative of the anagram class containing &#39;hat&#39; is &#39;aht&#39;.\r\n\r\nIn your example &quot;schoolmaster&quot; and &quot;theclassroom&quot; are anagrams because they are both in the anagram class with crib &quot;acehlmoorsst&quot;.\r\n\r\nIn pseudocode: \r\n\r\n    &gt;&gt;&gt; def crib(word):\r\n    ...     return sorted(word)\r\n    ...\r\n    &gt;&gt;&gt; crib(&quot;schoolmaster&quot;) == crib(&quot;theclassroom&quot;)\r\n    True\r\n","title":"How to check if two words are anagrams","body":"<p>How a mathematician might think about the problem <em>before writing any code</em>:</p>\n\n<ol>\n<li>The relation \"are anagrams\" between strings is an <strong>equivalence relation</strong>, so partitions the set of all strings into equivalence classes.</li>\n<li>Suppose we had a rule to choose a <strong>representative</strong> (crib) from each class, then it's easy to test whether two classes are the same by comparing their representatives.</li>\n<li>An obvious representative for a set of strings is \"the <strong>smallest element by lexicographic order</strong>\", which is easy to compute from any element by sorting. For example, the representative of the anagram class containing 'hat' is 'aht'.</li>\n</ol>\n\n<p>In your example \"schoolmaster\" and \"theclassroom\" are anagrams because they are both in the anagram class with crib \"acehlmoorsst\".</p>\n\n<p>In pseudocode: </p>\n\n<pre><code>&gt;&gt;&gt; def crib(word):\n...     return sorted(word)\n...\n&gt;&gt;&gt; crib(\"schoolmaster\") == crib(\"theclassroom\")\nTrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455707408,"creation_date":1455707408,"answer_id":35455001,"question_id":15045640,"body_markdown":"Here is another approach using HashMap in Java\r\n\r\n    public static boolean isAnagram(String first, String second) {\r\n\t\tif (first == null || second == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (first.length() != second.length()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn doCheckAnagramUsingHashMap(first.toLowerCase(), second.toLowerCase());\r\n\t}\r\n\r\n\tprivate static boolean doCheckAnagramUsingHashMap(final String first, final String second) {\r\n\t\tMap&lt;Character, Integer&gt; counter = populateMap(first, second);\r\n\t\treturn validateMap(counter);\r\n\t}\r\n\r\n\tprivate static boolean validateMap(Map&lt;Character, Integer&gt; counter) {\r\n\t\tfor (int val : counter.values()) {\r\n\t\t\tif (val != 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\nHere is the test case\r\n\r\n    @Test\r\n\tpublic void anagramTest() {\r\n\t\tassertTrue(StringUtil.isAnagram(&quot;keep&quot; , &quot;PeeK&quot;));\r\n\t\tassertFalse(StringUtil.isAnagram(&quot;Hello&quot;, &quot;hell&quot;));\r\n\t\tassertTrue(StringUtil.isAnagram(&quot;SiLeNt caT&quot;, &quot;LisTen cat&quot;));\t\t\r\n\t}\r\n    \r\n    ","title":"How to check if two words are anagrams","body":"<p>Here is another approach using HashMap in Java</p>\n\n<pre><code>public static boolean isAnagram(String first, String second) {\n    if (first == null || second == null) {\n        return false;\n    }\n    if (first.length() != second.length()) {\n        return false;\n    }\n    return doCheckAnagramUsingHashMap(first.toLowerCase(), second.toLowerCase());\n}\n\nprivate static boolean doCheckAnagramUsingHashMap(final String first, final String second) {\n    Map&lt;Character, Integer&gt; counter = populateMap(first, second);\n    return validateMap(counter);\n}\n\nprivate static boolean validateMap(Map&lt;Character, Integer&gt; counter) {\n    for (int val : counter.values()) {\n        if (val != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Here is the test case</p>\n\n<pre><code>@Test\npublic void anagramTest() {\n    assertTrue(StringUtil.isAnagram(\"keep\" , \"PeeK\"));\n    assertFalse(StringUtil.isAnagram(\"Hello\", \"hell\"));\n    assertTrue(StringUtil.isAnagram(\"SiLeNt caT\", \"LisTen cat\"));       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284875,"reputation":3452,"user_id":583237,"accept_rate":73,"display_name":"Pradip Kharbuja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457498539,"creation_date":1457498539,"answer_id":35883036,"question_id":15045640,"body_markdown":"Works perfectly! But not a good approach because it runs in O(n^2) \r\n\r\n    boolean isAnagram(String A, String B) {\r\n        if(A.length() != B.length())\r\n            return false;\r\n       \r\n       A = A.toLowerCase();\r\n       B = B.toLowerCase();\r\n       \r\n       for(int i = 0; i &lt; A.length(); i++){\r\n           boolean found = false;\r\n           for(int j = 0; j &lt; B.length(); j++){\r\n               if(A.charAt(i) == B.charAt(j)){\r\n                   found = true;\r\n                   break;\r\n               }\r\n           }\r\n           if(!found){\r\n               return false;\r\n           }\r\n       }\r\n       \r\n       for(int i = 0; i &lt; B.length(); i++){\r\n           boolean found = false;\r\n           for(int j = 0; j &lt; A.length(); j++){\r\n               if(A.charAt(j) == B.charAt(i)){\r\n                   found = true;\r\n                   break;\r\n               }\r\n           }\r\n           if(!found){\r\n               return false;\r\n           }\r\n       }\r\n       \r\n       int sum1 = 0, sum2 = 0;\r\n       for(int i = 0; i &lt; A.length(); i++){\r\n           sum1 += (int)A.charAt(i);\r\n           sum2 += (int)B.charAt(i);               \r\n       }\r\n       \r\n       if(sum1 == sum2){\r\n           return true;\r\n       } \r\n       return false;\r\n    }","title":"How to check if two words are anagrams","body":"<p>Works perfectly! But not a good approach because it runs in O(n^2) </p>\n\n<pre><code>boolean isAnagram(String A, String B) {\n    if(A.length() != B.length())\n        return false;\n\n   A = A.toLowerCase();\n   B = B.toLowerCase();\n\n   for(int i = 0; i &lt; A.length(); i++){\n       boolean found = false;\n       for(int j = 0; j &lt; B.length(); j++){\n           if(A.charAt(i) == B.charAt(j)){\n               found = true;\n               break;\n           }\n       }\n       if(!found){\n           return false;\n       }\n   }\n\n   for(int i = 0; i &lt; B.length(); i++){\n       boolean found = false;\n       for(int j = 0; j &lt; A.length(); j++){\n           if(A.charAt(j) == B.charAt(i)){\n               found = true;\n               break;\n           }\n       }\n       if(!found){\n           return false;\n       }\n   }\n\n   int sum1 = 0, sum2 = 0;\n   for(int i = 0; i &lt; A.length(); i++){\n       sum1 += (int)A.charAt(i);\n       sum2 += (int)B.charAt(i);               \n   }\n\n   if(sum1 == sum2){\n       return true;\n   } \n   return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458911671,"creation_date":1458897179,"answer_id":36217106,"question_id":15045640,"body_markdown":"So far all proposed solutions work with separate `char` items, not code points. I&#39;d like to propose two solutions to properly handle [surrogate pairs][1] as well (those are characters [from U+10000 to U+10FFFF][2], composed of two `char` items).\r\n\r\n1) One-line **O(n logn)** solution which utilizes Java 8 [`CharSequence.codePoints()`][3] stream:\r\n\r\n    static boolean areAnagrams(CharSequence a, CharSequence b) {\r\n        return Arrays.equals(a.codePoints().sorted().toArray(),\r\n                             b.codePoints().sorted().toArray());\r\n    }\r\n\r\n2) Less elegant **O(n)** solution *(in fact, it will be faster only for long strings with low chances to be anagrams)*:\r\n\r\n    static boolean areAnagrams(CharSequence a, CharSequence b) {\r\n        int len = a.length();\r\n        if (len != b.length())\r\n            return false;\r\n    \r\n        // collect codepoint occurrences in &quot;a&quot;\r\n        Map&lt;Integer, Integer&gt; ocr = new HashMap&lt;&gt;(64);\r\n        a.codePoints().forEach(c -&gt; ocr.merge(c, 1, Integer::sum));\r\n    \r\n        // for each codepoint in &quot;b&quot;, look for matching occurrence\r\n        for (int i = 0, c = 0; i &lt; len; i += Character.charCount(c)) {\r\n            int cc = ocr.getOrDefault((c = Character.codePointAt(b, i)), 0);\r\n            if (cc == 0)                        \r\n                return false;            \r\n            ocr.put(c, cc - 1);\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5903080/3459206\r\n  [2]: https://en.wikipedia.org/wiki/UTF-16#U.2B10000_to_U.2B10FFFF\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--","title":"How to check if two words are anagrams","body":"<p>So far all proposed solutions work with separate <code>char</code> items, not code points. I'd like to propose two solutions to properly handle <a href=\"https://stackoverflow.com/a/5903080/3459206\">surrogate pairs</a> as well (those are characters <a href=\"https://en.wikipedia.org/wiki/UTF-16#U.2B10000_to_U.2B10FFFF\" rel=\"nofollow noreferrer\">from U+10000 to U+10FFFF</a>, composed of two <code>char</code> items).</p>\n\n<p>1) One-line <strong>O(n logn)</strong> solution which utilizes Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"nofollow noreferrer\"><code>CharSequence.codePoints()</code></a> stream:</p>\n\n<pre><code>static boolean areAnagrams(CharSequence a, CharSequence b) {\n    return Arrays.equals(a.codePoints().sorted().toArray(),\n                         b.codePoints().sorted().toArray());\n}\n</code></pre>\n\n<p>2) Less elegant <strong>O(n)</strong> solution <em>(in fact, it will be faster only for long strings with low chances to be anagrams)</em>:</p>\n\n<pre><code>static boolean areAnagrams(CharSequence a, CharSequence b) {\n    int len = a.length();\n    if (len != b.length())\n        return false;\n\n    // collect codepoint occurrences in \"a\"\n    Map&lt;Integer, Integer&gt; ocr = new HashMap&lt;&gt;(64);\n    a.codePoints().forEach(c -&gt; ocr.merge(c, 1, Integer::sum));\n\n    // for each codepoint in \"b\", look for matching occurrence\n    for (int i = 0, c = 0; i &lt; len; i += Character.charCount(c)) {\n        int cc = ocr.getOrDefault((c = Character.codePointAt(b, i)), 0);\n        if (cc == 0)                        \n            return false;            \n        ocr.put(c, cc - 1);\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2070417,"reputation":107,"user_id":1845047,"display_name":"Kuldeep Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465733924,"creation_date":1465723332,"answer_id":37772633,"question_id":15045640,"body_markdown":"Thanks for pointing out to make comment, while making comment I found that there was incorrect logic. I corrected the logic and added comment for each piece of code.\r\n\r\n\r\n    // Time complexity: O(N) where N is number of character in String\r\n\t// Required space :constant space.\r\n\t// will work for string that contains ASCII chars\r\n\t\r\n\tprivate static boolean isAnagram(String s1, String s2) {\r\n\r\n\t\t// if length of both string&#39;s are not equal then they are not anagram of each other\t\r\n\t\tif(s1.length() != s2.length())return false;\r\n\t\t\r\n\t\t// array to store the presence of a character with number of occurrences.\t\r\n\t\tint []seen = new int[256];\r\n\r\n\t\t// initialize the array with zero. Do not need to initialize specifically  since by default element will initialized by 0.\r\n\t\t// Added this is just increase the readability of the code. \r\n\t\tArrays.fill(seen, 0);\r\n\r\n\t\t// convert each string to lower case if you want to make ABC and aBC as anagram, other wise no need to change the case.  \r\n\t\ts1 = s1.toLowerCase();\r\n\t\ts2 = s2.toLowerCase();\r\n\r\n\t\t//  iterate through the first string and count the occurrences of each character\r\n\t\tfor(int i =0; i &lt; s1.length(); i++){\r\n\t\t\tseen[s1.charAt(i)] = seen[s1.charAt(i)] +1;\r\n\t\t}\r\n\r\n\t\t// iterate through second string and if any char has 0 occurrence then return false, it mean some char in s2 is there that is not present in s1.\r\n\t\t// other wise reduce the occurrences by one every time .\r\n\t\tfor(int i =0; i &lt; s2.length(); i++){\r\n\t\t\tif(seen[s2.charAt(i)] ==0)return false;\r\n\t\t\tseen[s2.charAt(i)] = seen[s2.charAt(i)]-1;\r\n\t\t}\r\n\r\n\t\t// now if both string have same occurrence of each character then the seen array must contains all element as zero. if any one has non zero element return false mean there are \r\n\t\t// some character that either does not appear in one of the string or/and mismatch in occurrences \r\n\t\tfor(int i = 0; i &lt; 256; i++){\r\n\t\t\tif(seen[i] != 0)return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n","title":"How to check if two words are anagrams","body":"<p>Thanks for pointing out to make comment, while making comment I found that there was incorrect logic. I corrected the logic and added comment for each piece of code.</p>\n\n<pre><code>// Time complexity: O(N) where N is number of character in String\n// Required space :constant space.\n// will work for string that contains ASCII chars\n\nprivate static boolean isAnagram(String s1, String s2) {\n\n    // if length of both string's are not equal then they are not anagram of each other \n    if(s1.length() != s2.length())return false;\n\n    // array to store the presence of a character with number of occurrences.   \n    int []seen = new int[256];\n\n    // initialize the array with zero. Do not need to initialize specifically  since by default element will initialized by 0.\n    // Added this is just increase the readability of the code. \n    Arrays.fill(seen, 0);\n\n    // convert each string to lower case if you want to make ABC and aBC as anagram, other wise no need to change the case.  \n    s1 = s1.toLowerCase();\n    s2 = s2.toLowerCase();\n\n    //  iterate through the first string and count the occurrences of each character\n    for(int i =0; i &lt; s1.length(); i++){\n        seen[s1.charAt(i)] = seen[s1.charAt(i)] +1;\n    }\n\n    // iterate through second string and if any char has 0 occurrence then return false, it mean some char in s2 is there that is not present in s1.\n    // other wise reduce the occurrences by one every time .\n    for(int i =0; i &lt; s2.length(); i++){\n        if(seen[s2.charAt(i)] ==0)return false;\n        seen[s2.charAt(i)] = seen[s2.charAt(i)]-1;\n    }\n\n    // now if both string have same occurrence of each character then the seen array must contains all element as zero. if any one has non zero element return false mean there are \n    // some character that either does not appear in one of the string or/and mismatch in occurrences \n    for(int i = 0; i &lt; 256; i++){\n        if(seen[i] != 0)return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260695,"reputation":590,"user_id":1219063,"accept_rate":11,"display_name":"Kumar Pallav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473008442,"creation_date":1473008442,"answer_id":39319386,"question_id":15045640,"body_markdown":"\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.TreeMap;\r\n\t/**\r\n\t * Check if Anagram by Prime Number Logic\r\n\t * @author Pallav\r\n\t *\r\n\t */\r\n\tpublic class Anagram {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSystem.out.println(isAnagram(args[0].toUpperCase(),\r\n\t\t\t\t\targs[1].toUpperCase()));\r\n\t\t}\r\n\t/**\r\n\t * \r\n\t * @param word : The String 1\r\n\t * @param anagram_word : The String 2 with which Anagram to be verified\r\n\t * @return true or false based on Anagram\r\n\t */\r\n\t\tpublic static Boolean isAnagram(String word, String anagram_word) {\r\n\t\t\t//If length is different return false\r\n\t\t\tif (word.length() != anagram_word.length()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tchar[] words_char = word.toCharArray();//Get the Char Array of First String\r\n\t\t\tchar[] anagram_word_char = anagram_word.toCharArray();//Get the Char Array of Second String\r\n\t\t\tint words_char_num = 1;//Initialize Multiplication Factor to 1\r\n\t\t\tint anagram_word_num = 1;//Initialize Multiplication Factor to 1 for String 2\r\n\t\t\tMap&lt;Character, Integer&gt; wordPrimeMap = wordPrimeMap();//Get the Prime numbers Mapped to each alphabets in English\r\n\t\t\tfor (int i = 0; i &lt; words_char.length; i++) {\r\n\t\t\t\twords_char_num *= wordPrimeMap.get(words_char[i]);//get Multiplication value for String 1\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; anagram_word_char.length; i++) {\r\n\t\t\t\tanagram_word_num *= wordPrimeMap.get(anagram_word_char[i]);//get Multiplication value for String 2\r\n\t\t\t}\r\n\t\r\n\t\t\treturn anagram_word_num == words_char_num;\r\n\t\t}\r\n\t/**\r\n\t * Get the Prime numbers Mapped to each alphabets in English\r\n\t * @return\r\n\t */\r\n\t\tpublic static Map&lt;Character, Integer&gt; wordPrimeMap() {\r\n\t\t\tList&lt;Integer&gt; primes = primes(26);\r\n\t\t\tint k = 65;\r\n\t\t\tMap&lt;Character, Integer&gt; map = new TreeMap&lt;Character, Integer&gt;();\r\n\t\t\tfor (int i = 0; i &lt; primes.size(); i++) {\r\n\t\t\t\tCharacter character = (char) k;\r\n\t\t\t\tmap.put(character, primes.get(i));\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\t// System.out.println(map);\r\n\t\t\treturn map;\r\n\t\t}\r\n\t/**\r\n\t * get first N prime Numbers where Number is greater than 2\r\n\t * @param N : Number of Prime Numbers\r\n\t * @return\r\n\t */\r\n\t\tpublic static List&lt;Integer&gt; primes(Integer N) {\r\n\t\t\tList&lt;Integer&gt; primes = new ArrayList&lt;Integer&gt;();\r\n\t\t\tprimes.add(2);\r\n\t\t\tprimes.add(3);\r\n\t\r\n\t\t\tint n = 5;\r\n\t\t\tint k = 0;\r\n\t\t\tdo {\r\n\t\t\t\tboolean is_prime = true;\r\n\t\t\t\tfor (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n\t\t\t\t\tif (n % i == 0) {\r\n\t\t\t\t\t\tis_prime = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif (is_prime == true) {\r\n\t\t\t\t\tprimes.add(n);\r\n\t\r\n\t\t\t\t}\r\n\t\t\t\tn++;\r\n\t\t\t\t// System.out.println(k);\r\n\t\t\t} while (primes.size() &lt; N);\r\n\t\r\n\t\t\t// }\r\n\t\r\n\t\t\treturn primes;\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"How to check if two words are anagrams","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.TreeMap;\n/**\n * Check if Anagram by Prime Number Logic\n * @author Pallav\n *\n */\npublic class Anagram {\n    public static void main(String args[]) {\n        System.out.println(isAnagram(args[0].toUpperCase(),\n                args[1].toUpperCase()));\n    }\n/**\n * \n * @param word : The String 1\n * @param anagram_word : The String 2 with which Anagram to be verified\n * @return true or false based on Anagram\n */\n    public static Boolean isAnagram(String word, String anagram_word) {\n        //If length is different return false\n        if (word.length() != anagram_word.length()) {\n            return false;\n        }\n        char[] words_char = word.toCharArray();//Get the Char Array of First String\n        char[] anagram_word_char = anagram_word.toCharArray();//Get the Char Array of Second String\n        int words_char_num = 1;//Initialize Multiplication Factor to 1\n        int anagram_word_num = 1;//Initialize Multiplication Factor to 1 for String 2\n        Map&lt;Character, Integer&gt; wordPrimeMap = wordPrimeMap();//Get the Prime numbers Mapped to each alphabets in English\n        for (int i = 0; i &lt; words_char.length; i++) {\n            words_char_num *= wordPrimeMap.get(words_char[i]);//get Multiplication value for String 1\n        }\n        for (int i = 0; i &lt; anagram_word_char.length; i++) {\n            anagram_word_num *= wordPrimeMap.get(anagram_word_char[i]);//get Multiplication value for String 2\n        }\n\n        return anagram_word_num == words_char_num;\n    }\n/**\n * Get the Prime numbers Mapped to each alphabets in English\n * @return\n */\n    public static Map&lt;Character, Integer&gt; wordPrimeMap() {\n        List&lt;Integer&gt; primes = primes(26);\n        int k = 65;\n        Map&lt;Character, Integer&gt; map = new TreeMap&lt;Character, Integer&gt;();\n        for (int i = 0; i &lt; primes.size(); i++) {\n            Character character = (char) k;\n            map.put(character, primes.get(i));\n            k++;\n        }\n        // System.out.println(map);\n        return map;\n    }\n/**\n * get first N prime Numbers where Number is greater than 2\n * @param N : Number of Prime Numbers\n * @return\n */\n    public static List&lt;Integer&gt; primes(Integer N) {\n        List&lt;Integer&gt; primes = new ArrayList&lt;Integer&gt;();\n        primes.add(2);\n        primes.add(3);\n\n        int n = 5;\n        int k = 0;\n        do {\n            boolean is_prime = true;\n            for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n                if (n % i == 0) {\n                    is_prime = false;\n                    break;\n                }\n            }\n\n            if (is_prime == true) {\n                primes.add(n);\n\n            }\n            n++;\n            // System.out.println(k);\n        } while (primes.size() &lt; N);\n\n        // }\n\n        return primes;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5694835,"reputation":329,"user_id":4501631,"accept_rate":44,"display_name":"Rahul Sah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497009176,"creation_date":1497009176,"answer_id":44457112,"question_id":15045640,"body_markdown":"I had written this program in java.  I think this might also help:\r\n\r\n\r\n    public class Anagram {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tcheckAnagram(&quot;listen&quot;, &quot;silent&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void checkAnagram(String str1, String str2) {\r\n    \t\tboolean isAnagram = false;\r\n    \t\tstr1 = sortStr(str1);\r\n    \t\tstr2 = sortStr(str2);\r\n    \t\tif (str1.equals(str2)) {\r\n    \t\t\tisAnagram = true;\r\n    \t\t}\r\n    \t\tif (isAnagram) {\r\n    \t\t\tSystem.out.println(&quot;Two strings are anagram&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Two string are not anagram&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String sortStr(String str) {\r\n    \t\tchar[] strArr = str.toCharArray();\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\tfor (int j = i + 1; j &lt; str.length(); j++) {\r\n    \t\t\t\tif (strArr[i] &gt; strArr[j]) {\r\n    \t\t\t\t\tchar temp = strArr[i];\r\n    \t\t\t\t\tstrArr[i] = strArr[j];\r\n    \t\t\t\t\tstrArr[j] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tString output = String.valueOf(strArr);\r\n    \t\treturn output;\r\n    \t}\r\n    }\r\n\r\n","title":"How to check if two words are anagrams","body":"<p>I had written this program in java.  I think this might also help:</p>\n\n<pre><code>public class Anagram {\n    public static void main(String[] args) {\n        checkAnagram(\"listen\", \"silent\");\n    }\n\n    public static void checkAnagram(String str1, String str2) {\n        boolean isAnagram = false;\n        str1 = sortStr(str1);\n        str2 = sortStr(str2);\n        if (str1.equals(str2)) {\n            isAnagram = true;\n        }\n        if (isAnagram) {\n            System.out.println(\"Two strings are anagram\");\n        } else {\n            System.out.println(\"Two string are not anagram\");\n        }\n\n    }\n\n    public static String sortStr(String str) {\n        char[] strArr = str.toCharArray();\n        for (int i = 0; i &lt; str.length(); i++) {\n            for (int j = i + 1; j &lt; str.length(); j++) {\n                if (strArr[i] &gt; strArr[j]) {\n                    char temp = strArr[i];\n                    strArr[i] = strArr[j];\n                    strArr[j] = temp;\n                }\n            }\n        }\n        String output = String.valueOf(strArr);\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1527044,"reputation":142,"user_id":1425181,"display_name":"Amardeep Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500635605,"creation_date":1500635605,"answer_id":45236219,"question_id":15045640,"body_markdown":"    private static boolean checkAnagram(String s1, String s2) {\r\n       if (s1 == null || s2 == null) {\r\n           return false;\r\n       } else if (s1.length() != s2.length()) {\r\n           return false;\r\n       }\r\n       char[] a1 = s1.toCharArray();\r\n       char[] a2 = s2.toCharArray();\r\n       int length = s2.length();\r\n       int s1Count = 0;\r\n       int s2Count = 0;\r\n       for (int i = 0; i &lt; length; i++) {\r\n           s1Count+=a1[i];\r\n           s2Count+=a2[i];\r\n       }\r\n       return s2Count == s1Count ? true : false;\r\n    }","title":"How to check if two words are anagrams","body":"<pre><code>private static boolean checkAnagram(String s1, String s2) {\n   if (s1 == null || s2 == null) {\n       return false;\n   } else if (s1.length() != s2.length()) {\n       return false;\n   }\n   char[] a1 = s1.toCharArray();\n   char[] a2 = s2.toCharArray();\n   int length = s2.length();\n   int s1Count = 0;\n   int s2Count = 0;\n   for (int i = 0; i &lt; length; i++) {\n       s1Count+=a1[i];\n       s2Count+=a2[i];\n   }\n   return s2Count == s1Count ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1117020,"reputation":3542,"user_id":1106134,"accept_rate":56,"display_name":"Kaliyug Antagonist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505648609,"creation_date":1505648609,"answer_id":46263684,"question_id":15045640,"body_markdown":"IMHO, the most efficient solution was provided by @Siguza, I have extended it to cover strings with space e.g: &quot;William Shakespeare&quot;, &quot;I am a weakish speller&quot;, &quot;School master&quot;, &quot;The classroom&quot;\r\n\r\n    public int getAnagramScore(String word, String anagram) {\r\n    \r\n    \t\tif (word == null || anagram == null) {\r\n    \t\t\tthrow new NullPointerException(&quot;Both, word and anagram, must be non-null&quot;);\r\n    \t\t}\r\n    \r\n    \t\tchar[] wordArray = word.trim().toLowerCase().toCharArray();\r\n    \t\tchar[] anagramArray = anagram.trim().toLowerCase().toCharArray();\r\n    \r\n    \t\tint[] alphabetCountArray = new int[26];\r\n    \r\n    \t\tint reference = &#39;a&#39;;\r\n    \r\n    \t\tfor (int i = 0; i &lt; wordArray.length; i++) {\r\n    \t\t\tif (!Character.isWhitespace(wordArray[i])) {\r\n    \t\t\t\talphabetCountArray[wordArray[i] - reference]++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; anagramArray.length; i++) {\r\n    \t\t\tif (!Character.isWhitespace(anagramArray[i])) {\r\n    \t\t\t\talphabetCountArray[anagramArray[i] - reference]--;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; 26; i++)\r\n    \t\t\tif (alphabetCountArray[i] != 0)\r\n    \t\t\t\treturn 0;\r\n    \r\n    \t\treturn word.length();\r\n    \r\n    \t}","title":"How to check if two words are anagrams","body":"<p>IMHO, the most efficient solution was provided by @Siguza, I have extended it to cover strings with space e.g: \"William Shakespeare\", \"I am a weakish speller\", \"School master\", \"The classroom\"</p>\n\n<pre><code>public int getAnagramScore(String word, String anagram) {\n\n        if (word == null || anagram == null) {\n            throw new NullPointerException(\"Both, word and anagram, must be non-null\");\n        }\n\n        char[] wordArray = word.trim().toLowerCase().toCharArray();\n        char[] anagramArray = anagram.trim().toLowerCase().toCharArray();\n\n        int[] alphabetCountArray = new int[26];\n\n        int reference = 'a';\n\n        for (int i = 0; i &lt; wordArray.length; i++) {\n            if (!Character.isWhitespace(wordArray[i])) {\n                alphabetCountArray[wordArray[i] - reference]++;\n            }\n        }\n        for (int i = 0; i &lt; anagramArray.length; i++) {\n            if (!Character.isWhitespace(anagramArray[i])) {\n                alphabetCountArray[anagramArray[i] - reference]--;\n            }\n        }\n\n        for (int i = 0; i &lt; 26; i++)\n            if (alphabetCountArray[i] != 0)\n                return 0;\n\n        return word.length();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8346196,"reputation":333,"user_id":6269836,"accept_rate":75,"display_name":"T&#252;rkmen Mustafa Demirci"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1508331350,"creation_date":1508310889,"answer_id":46804638,"question_id":15045640,"body_markdown":"Here is my solution.First explode the strings into char arrays then sort them  and then comparing if they are equal or not. I guess time complexity of this code is O(a+b).if a=b we can say O(2A)\r\n\r\n   \r\n\r\n    public boolean isAnagram(String s1, String s2) {\r\n    \r\n    \t\tStringBuilder sb1 = new StringBuilder();\r\n    \t\tStringBuilder sb2 = new StringBuilder();\r\n    \t\tif (s1.length() != s2.length())\r\n    \t\t\treturn false;\r\n    \r\n    \t\tchar arr1[] = s1.toCharArray();\r\n    \t\tchar arr2[] = s2.toCharArray();\r\n    \t\tArrays.sort(arr1);\r\n    \t\tArrays.sort(arr2);\r\n    \r\n    \r\n    \r\n    \t\tfor (char c : arr1) {\r\n    \t\t\tsb1.append(c);\r\n    \t\t}\r\n    \r\n    \t\tfor (char c : arr2) {\r\n    \t\t\tsb2.append(c);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(sb1.toString());\r\n    \t\tSystem.out.println(sb2.toString());\r\n    \t\t\r\n    \t\tif (sb1.toString().equals(sb2.toString()))\r\n    \t\t\treturn true;\r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \r\n    \t}","title":"How to check if two words are anagrams","body":"<p>Here is my solution.First explode the strings into char arrays then sort them  and then comparing if they are equal or not. I guess time complexity of this code is O(a+b).if a=b we can say O(2A)</p>\n\n<pre><code>public boolean isAnagram(String s1, String s2) {\n\n        StringBuilder sb1 = new StringBuilder();\n        StringBuilder sb2 = new StringBuilder();\n        if (s1.length() != s2.length())\n            return false;\n\n        char arr1[] = s1.toCharArray();\n        char arr2[] = s2.toCharArray();\n        Arrays.sort(arr1);\n        Arrays.sort(arr2);\n\n\n\n        for (char c : arr1) {\n            sb1.append(c);\n        }\n\n        for (char c : arr2) {\n            sb2.append(c);\n        }\n\n        System.out.println(sb1.toString());\n        System.out.println(sb2.toString());\n\n        if (sb1.toString().equals(sb2.toString()))\n            return true;\n        else\n            return false;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1163291,"reputation":61,"user_id":1142362,"display_name":"chaatna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546664413,"creation_date":1546664413,"answer_id":54049119,"question_id":15045640,"body_markdown":"The simplest solution with complexity O(N) is using Map&lt;Character, Integer&gt;.\r\n\r\n  \r\n\r\n    public static Boolean checkAnagram(String string1, String string2) {\r\n        Boolean anagram = true;\r\n    \r\n        Map&lt;Character, Integer&gt; map1 = new HashMap&lt;&gt;();\r\n        Map&lt;Character, Integer&gt; map2 = new HashMap&lt;&gt;();\r\n    \r\n       \r\n        char[] chars1 = string1.toCharArray();\r\n        char[] chars2 = string2.toCharArray();\r\n    \r\n        for(int i=0; i&lt;chars1.length; i++) {\r\n            if(map1.get(chars1[i]) == null) {\r\n                map1.put(chars1[i], 1);\r\n            } else {\r\n                map1.put(chars1[i], map1.get(chars1[i])+1);\r\n            }\r\n    \r\n            if(map2.get(chars2[i]) == null) {\r\n                map2.put(chars2[i], 1);\r\n            } else {\r\n                map2.put(chars2[i], map2.get(chars2[i])+1);\r\n            }\r\n        }\r\n    \r\n        Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet1 = map1.entrySet();\r\n        Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet2 = map2.entrySet();\r\n        for(Map.Entry&lt;Character, Integer&gt; entry:entrySet1) {\r\n            \r\n            if(entry.getValue() != map2.get(entry.getKey())) {\r\n                anagram = false;\r\n                break;\r\n            }\r\n        }\r\n    \r\n        return anagram;\r\n    }\r\n\r\n\r\n","title":"How to check if two words are anagrams","body":"<p>The simplest solution with complexity O(N) is using Map.</p>\n\n<pre><code>public static Boolean checkAnagram(String string1, String string2) {\n    Boolean anagram = true;\n\n    Map&lt;Character, Integer&gt; map1 = new HashMap&lt;&gt;();\n    Map&lt;Character, Integer&gt; map2 = new HashMap&lt;&gt;();\n\n\n    char[] chars1 = string1.toCharArray();\n    char[] chars2 = string2.toCharArray();\n\n    for(int i=0; i&lt;chars1.length; i++) {\n        if(map1.get(chars1[i]) == null) {\n            map1.put(chars1[i], 1);\n        } else {\n            map1.put(chars1[i], map1.get(chars1[i])+1);\n        }\n\n        if(map2.get(chars2[i]) == null) {\n            map2.put(chars2[i], 1);\n        } else {\n            map2.put(chars2[i], map2.get(chars2[i])+1);\n        }\n    }\n\n    Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet1 = map1.entrySet();\n    Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet2 = map2.entrySet();\n    for(Map.Entry&lt;Character, Integer&gt; entry:entrySet1) {\n\n        if(entry.getValue() != map2.get(entry.getKey())) {\n            anagram = false;\n            break;\n        }\n    }\n\n    return anagram;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3599900,"reputation":497,"user_id":3003424,"accept_rate":60,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551118594,"creation_date":1551118594,"answer_id":54872357,"question_id":15045640,"body_markdown":"    // When this method returns 0 means strings are Anagram, else Not.\r\n    \r\n    public static int isAnagram(String str1, String str2) {\r\n    \t\tint value = 0;\r\n    \t\tif (str1.length() == str2.length()) {\r\n    \t\t\tfor (int i = 0; i &lt; str1.length(); i++) {\r\n    \t\t\t\tvalue = value + str1.charAt(i);\r\n    \t\t\t\tvalue = value - str2.charAt(i);\r\n    \t\t\t}\r\n    \r\n    \t\t} else {\r\n    \t\t\tvalue = -1;\r\n    \t\t}\r\n    \t\treturn value;\r\n    \t}","title":"How to check if two words are anagrams","body":"<pre><code>// When this method returns 0 means strings are Anagram, else Not.\n\npublic static int isAnagram(String str1, String str2) {\n        int value = 0;\n        if (str1.length() == str2.length()) {\n            for (int i = 0; i &lt; str1.length(); i++) {\n                value = value + str1.charAt(i);\n                value = value - str2.charAt(i);\n            }\n\n        } else {\n            value = -1;\n        }\n        return value;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3898797,"reputation":45,"user_id":3227130,"display_name":"user3691240"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1588955946,"creation_date":1588955946,"answer_id":61683791,"question_id":15045640,"body_markdown":"   \r\n        String str1 = &quot;evil&quot;;\r\n\t\tString str2 = &quot;vile&quot;;\r\n\r\n\t\tint ana1 = 0;\r\n\t\tint ana2 = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; str1.length(); i++) {\r\n\t\t\tana1 += str1.charAt(i);\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; str1.length(); i++) {\r\n\t\t\tana2 += str2.charAt(i);\r\n\t\t}\r\n\r\n\t\tif (ana1 == ana2) {\r\n\t\t\tSystem.out.println(&quot;Is anagram&quot;);\r\n\t\t}","title":"How to check if two words are anagrams","body":"<pre><code>    String str1 = \"evil\";\n    String str2 = \"vile\";\n\n    int ana1 = 0;\n    int ana2 = 0;\n\n    for (int i = 0; i &lt; str1.length(); i++) {\n        ana1 += str1.charAt(i);\n    }\n\n    for (int i = 0; i &lt; str1.length(); i++) {\n        ana2 += str2.charAt(i);\n    }\n\n    if (ana1 == ana2) {\n        System.out.println(\"Is anagram\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610530025,"creation_date":1610530025,"answer_id":65699018,"question_id":15045640,"body_markdown":"let&#39;s take a question: Given two strings s and t, write a function to determine if t is an anagram of s.\r\n\r\nFor example,\r\ns = &quot;anagram&quot;, t = &quot;nagaram&quot;, return true.\r\ns = &quot;rat&quot;, t = &quot;car&quot;, return false.\r\n\r\nMethod 1(Using HashMap ):\r\n\r\n        \r\n    public class Method1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;protijayi&quot;;\r\n    \t\tString b = &quot;jayiproti&quot;;\r\n    \t\tSystem.out.println(isAnagram(a, b ));// output =&gt; true\r\n    \r\n    \t}\r\n    \r\n    \tprivate static boolean isAnagram(String a, String b) {\r\n    \t\tMap&lt;Character ,Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tfor( char c : a.toCharArray()) {\r\n    \t\t\tmap.put(c,    map.getOrDefault(c, 0 ) + 1 );\r\n    \t\t}\r\n    \t\tfor(char c : b.toCharArray()) {\r\n    \t\t\tint count = map.getOrDefault(c, 0);\r\n    \t\t\tif(count  == 0 ) {return false ; }\r\n    \t\t\telse {map.put(c, count - 1 ) ; }\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nMethod 2 :\r\n\r\n  \r\n\r\n      \r\n    public class Method2 {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;protijayi&quot;;\r\n    \tString b = &quot;jayiproti&quot;;\r\n    \r\n    \t\r\n    \tSystem.out.println(isAnagram(a, b));// output=&gt; true\r\n    }\r\n    \r\n    private static boolean isAnagram(String a, String b) {\r\n       \r\n    \t\r\n    \tint[] alphabet = new int[26];\r\n    \tfor(int i = 0 ; i &lt; a.length() ;i++) {\r\n    \t\t alphabet[a.charAt(i) - &#39;a&#39;]++ ;\r\n    \t}\r\n    \tfor (int i = 0; i &lt; b.length(); i++) {\r\n    \t\t alphabet[b.charAt(i) - &#39;a&#39;]-- ;\r\n    \t}\r\n    \t\r\n    \tfor(  int w :  alphabet ) {\r\n    \t\t if(w != 0 ) {return false;}\r\n    \t}\r\n    \treturn true;\r\n    \t\r\n    }\r\n    }\r\n\r\nMethod 3 :\r\n\r\n    public class Method3 {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;protijayi&quot;;\r\n    \tString b = &quot;jayiproti&quot;;\r\n    \t\r\n    \t\r\n    \tSystem.out.println(isAnagram(a, b ));// output =&gt; true\r\n    }\r\n    \r\n    private static boolean isAnagram(String a, String b) {\r\n    \tchar[] ca = a.toCharArray() ;\r\n    \tchar[] cb = b.toCharArray();\r\n    \tArrays.sort(   ca     );\r\n    \t\r\n    \tArrays.sort(   cb        );\r\n    \treturn Arrays.equals(ca , cb );\r\n    }\r\n    }\r\n Method 4 :\r\n        \r\n    public class AnagramsOrNot {\r\n        public static void main(String[] args) {\r\n            String a = &quot;Protijayi&quot;;\r\n            String b = &quot;jayiProti&quot;;\r\n            isAnagram(a, b);\r\n        }\r\n    \r\n        private static void isAnagram(String a, String b) {\r\n            Map&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n            a.codePoints().forEach(code -&gt; map.put(code, map.getOrDefault(code, 0) + 1));\r\n            System.out.println(map);\r\n            b.codePoints().forEach(code -&gt; map.put(code, map.getOrDefault(code, 0) - 1));\r\n            System.out.println(map);\r\n            if (map.values().contains(0)) {\r\n                System.out.println(&quot;Anagrams&quot;);\r\n            } else {\r\n                System.out.println(&quot;Not Anagrams&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIn Python:\r\n\r\n    def areAnagram(a, b):\r\n        if len(a) != len(b): return False\r\n        count1 = [0] * 256\r\n        count2 = [0] * 256\r\n        for i in a:count1[ord(i)] += 1\r\n        for i in b:count2[ord(i)] += 1\r\n    \r\n        for i in range(256):\r\n            if(count1[i] != count2[i]):return False    \r\n    \r\n        return True\r\n    \r\n    \r\n    str1 = &quot;Giniiii&quot;\r\n    str2 = &quot;Protijayi&quot;\r\n    print(areAnagram(str1, str2))\r\n\r\nLet&#39;s take another famous Interview Question: Group the Anagrams from a given String:\r\n\r\n\r\n    public class GroupAnagrams {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;Gini Gina Protijayi iGin aGin jayiProti Soudipta&quot;;\r\n    \t\tMap&lt;String, List&lt;String&gt;&gt; map = Arrays.stream(a.split(&quot; &quot;)).collect(Collectors.groupingBy(GroupAnagrams::sortedString));\r\n    \t\tSystem.out.println(&quot;MAP =&gt; &quot; + map);\r\n    \t\tmap.forEach((k,v) -&gt; System.out.println(k +&quot; and the anagrams are =&gt;&quot; + v ));\r\n    \t\t/*\r\n    \t\t Look at the Map output:\r\n    \t\tMAP =&gt; {Giin=[Gini, iGin], Paiijorty=[Protijayi, jayiProti], Sadioptu=[Soudipta], Gain=[Gina, aGin]}\r\n    \t\tAs we can see, there are multiple Lists. Hence, we have to use a flatMap(List::stream)\r\n    \t\tNow, Look at the output:\r\n    \t\tPaiijorty and the anagrams are =&gt;[Protijayi, jayiProti]\r\n    \t   \r\n    \t\tNow, look at this output:\r\n    \t\tSadioptu and the anagrams are =&gt;[Soudipta]\r\n    \t\tList contains only word. No anagrams.\r\n    \t\tThat means we have to work with map.values(). List contains all the anagrams.\r\n    \t\t\r\n    \t\t\t\t\t \r\n    \t\t*/\r\n    \t\tString stringFromMapHavingListofLists = map.values().stream().flatMap(List::stream).collect(Collectors.joining(&quot; &quot;));\r\n    \t\tSystem.out.println(stringFromMapHavingListofLists);\r\n    \t}\r\n    \r\n    \tpublic static String sortedString(String a) {\r\n    \t\tString sortedString = a.chars().sorted()\r\n    \t\t\t\t.collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\r\n    \r\n    \t\treturn sortedString;\r\n    \r\n    \t}\r\n    \t\r\n    \t/*\r\n    \t * The output : Gini iGin Protijayi jayiProti Soudipta Gina aGin\r\n    \t * All the anagrams are side by side.\r\n    \t */\r\n    }\r\n\r\nNow to Group Anagrams in Python is again easy.We have to :\r\nSort the lists. Then, Create a dictionary. Now dictionary will tell us where are those anagrams are( Indices of Dictionary). Then values of the dictionary is the actual indices of the anagrams. \r\n\r\n\r\n    def groupAnagrams(words):\r\n     \r\n        # sort each word in the list\r\n        A = [&#39;&#39;.join(sorted(word)) for word in words]\r\n        dict = {}\r\n        for indexofsamewords, names in enumerate(A):\r\n         dict.setdefault(names, []).append(indexofsamewords)\r\n        print(dict)\r\n        #{&#39;AOOPR&#39;: [0, 2, 5, 11, 13], &#39;ABTU&#39;: [1, 3, 4], &#39;Sorry&#39;: [6], &#39;adnopr&#39;: [7], &#39;Sadioptu&#39;: [8, 16], &#39; KPaaehiklry&#39;: [9], &#39;Taeggllnouy&#39;: [10], &#39;Leov&#39;: [12], &#39;Paiijorty&#39;: [14, 18], &#39;Paaaikpr&#39;: [15], &#39;Saaaabhmryz&#39;: [17], &#39; CNaachlortttu&#39;: [19], &#39;Saaaaborvz&#39;: [20]}\r\n     \r\n        for index in dict.values():\r\n         print([words[i] for i in index])\r\n     \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n     \r\n        # list of words\r\n        words = [&quot;ROOPA&quot;,&quot;TABU&quot;,&quot;OOPAR&quot;,&quot;BUTA&quot;,&quot;BUAT&quot; , &quot;PAROO&quot;,&quot;Soudipta&quot;,\r\n            &quot;Kheyali Park&quot;, &quot;Tollygaunge&quot;, &quot;AROOP&quot;,&quot;Love&quot;,&quot;AOORP&quot;, &quot;Protijayi&quot;,&quot;Paikpara&quot;,&quot;dipSouta&quot;,&quot;Shyambazaar&quot;,\r\n            &quot;jayiProti&quot;, &quot;North Calcutta&quot;, &quot;Sovabazaar&quot;]\r\n     \r\n        groupAnagrams(words)\r\n     \r\n\r\nThe Output  :\r\n````````\r\n[&#39;ROOPA&#39;, &#39;OOPAR&#39;, &#39;PAROO&#39;, &#39;AROOP&#39;, &#39;AOORP&#39;]\r\n[&#39;TABU&#39;, &#39;BUTA&#39;, &#39;BUAT&#39;]\r\n[&#39;Soudipta&#39;, &#39;dipSouta&#39;]\r\n[&#39;Kheyali Park&#39;]\r\n[&#39;Tollygaunge&#39;]\r\n[&#39;Love&#39;]\r\n[&#39;Protijayi&#39;, &#39;jayiProti&#39;]\r\n[&#39;Paikpara&#39;]\r\n[&#39;Shyambazaar&#39;]\r\n[&#39;North Calcutta&#39;]\r\n[&#39;Sovabazaar&#39;]\r\n`````````````````````````````\r\nAnother Important Anagram Question : Find the Anagram occuring Max. number of times.\r\nIn the Example, ROOPA is the word which has occured maximum number of times. \r\nHence, [&#39;ROOPA&#39; &#39;OOPAR&#39; &#39;PAROO&#39; &#39;AROOP&#39; &#39;AOORP&#39;] will be the final output.\r\n\r\n\r\n\r\n    from sqlite3 import collections\r\n    from statistics import mode, mean\r\n    \r\n    import numpy as np\r\n    \r\n    \r\n    # list of words\r\n    words = [&quot;ROOPA&quot;,&quot;TABU&quot;,&quot;OOPAR&quot;,&quot;BUTA&quot;,&quot;BUAT&quot; , &quot;PAROO&quot;,&quot;Soudipta&quot;,\r\n            &quot;Kheyali Park&quot;, &quot;Tollygaunge&quot;, &quot;AROOP&quot;,&quot;Love&quot;,&quot;AOORP&quot;,\r\n             &quot;Protijayi&quot;,&quot;Paikpara&quot;,&quot;dipSouta&quot;,&quot;Shyambazaar&quot;,\r\n            &quot;jayiProti&quot;, &quot;North Calcutta&quot;, &quot;Sovabazaar&quot;]\r\n    \r\n    print(&quot;.....Method 1....... &quot;)\r\n    \r\n    sortedwords = [&#39;&#39;.join(sorted(word)) for word in words]\r\n    print(sortedwords)\r\n    print(&quot;...........&quot;)\r\n    LongestAnagram = np.array(words)[np.array(sortedwords) == mode(sortedwords)]\r\n    # Longest anagram \r\n    print(&quot;Longest anagram by Method 1:&quot;)\r\n    print(LongestAnagram)\r\n    \r\n    print(&quot;.....................................................&quot;)  \r\n    \r\n    print(&quot;.....Method 2....... &quot;)  \r\n    \r\n    A = [&#39;&#39;.join(sorted(word)) for word in words]\r\n    \r\n    dict = {}\r\n    \r\n    for indexofsamewords,samewords in  enumerate(A):\r\n        dict.setdefault(samewords,[]).append(samewords)\r\n    #print(dict)  \r\n    #{&#39;AOOPR&#39;: [&#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;], &#39;ABTU&#39;: [&#39;ABTU&#39;, &#39;ABTU&#39;, &#39;ABTU&#39;], &#39;Sadioptu&#39;: [&#39;Sadioptu&#39;, &#39;Sadioptu&#39;], &#39; KPaaehiklry&#39;: [&#39; KPaaehiklry&#39;], &#39;Taeggllnouy&#39;: [&#39;Taeggllnouy&#39;], &#39;Leov&#39;: [&#39;Leov&#39;], &#39;Paiijorty&#39;: [&#39;Paiijorty&#39;, &#39;Paiijorty&#39;], &#39;Paaaikpr&#39;: [&#39;Paaaikpr&#39;], &#39;Saaaabhmryz&#39;: [&#39;Saaaabhmryz&#39;], &#39; CNaachlortttu&#39;: [&#39; CNaachlortttu&#39;], &#39;Saaaaborvz&#39;: [&#39;Saaaaborvz&#39;]}\r\n         \r\n    aa =  max(dict.items() , key = lambda x : len(x[1]))\r\n    print(&quot;aa =&gt; &quot; , aa)    \r\n    word, anagrams = aa \r\n    print(&quot;Longest anagram by Method 2:&quot;)\r\n    print(&quot; &quot;.join(anagrams))    \r\n\r\nThe Output :\r\n\r\n\r\n    .....Method 1....... \r\n    [&#39;AOOPR&#39;, &#39;ABTU&#39;, &#39;AOOPR&#39;, &#39;ABTU&#39;, &#39;ABTU&#39;, &#39;AOOPR&#39;, &#39;Sadioptu&#39;, &#39; KPaaehiklry&#39;, &#39;Taeggllnouy&#39;, &#39;AOOPR&#39;, &#39;Leov&#39;, &#39;AOOPR&#39;, &#39;Paiijorty&#39;, &#39;Paaaikpr&#39;, &#39;Sadioptu&#39;, &#39;Saaaabhmryz&#39;, &#39;Paiijorty&#39;, &#39; CNaachlortttu&#39;, &#39;Saaaaborvz&#39;]\r\n    ...........\r\n    Longest anagram by Method 1:\r\n    [&#39;ROOPA&#39; &#39;OOPAR&#39; &#39;PAROO&#39; &#39;AROOP&#39; &#39;AOORP&#39;]\r\n    .....................................................\r\n    .....Method 2....... \r\n    aa =&gt;  (&#39;AOOPR&#39;, [&#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;, &#39;AOOPR&#39;])\r\n    Longest anagram by Method 2:\r\n    AOOPR AOOPR AOOPR AOOPR AOOPR\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n         \r\n\r\n\r\n\r\n\r\n","title":"How to check if two words are anagrams","body":"<p>let's take a question: Given two strings s and t, write a function to determine if t is an anagram of s.</p>\n<p>For example,\ns = &quot;anagram&quot;, t = &quot;nagaram&quot;, return true.\ns = &quot;rat&quot;, t = &quot;car&quot;, return false.</p>\n<p>Method 1(Using HashMap ):</p>\n<pre><code>public class Method1 {\n\n    public static void main(String[] args) {\n        String a = &quot;protijayi&quot;;\n        String b = &quot;jayiproti&quot;;\n        System.out.println(isAnagram(a, b ));// output =&gt; true\n\n    }\n\n    private static boolean isAnagram(String a, String b) {\n        Map&lt;Character ,Integer&gt; map = new HashMap&lt;&gt;();\n        for( char c : a.toCharArray()) {\n            map.put(c,    map.getOrDefault(c, 0 ) + 1 );\n        }\n        for(char c : b.toCharArray()) {\n            int count = map.getOrDefault(c, 0);\n            if(count  == 0 ) {return false ; }\n            else {map.put(c, count - 1 ) ; }\n        }\n        \n        return true;\n    }\n\n}\n</code></pre>\n<p>Method 2 :</p>\n<pre><code>public class Method2 {\npublic static void main(String[] args) {\n    String a = &quot;protijayi&quot;;\n    String b = &quot;jayiproti&quot;;\n\n    \n    System.out.println(isAnagram(a, b));// output=&gt; true\n}\n\nprivate static boolean isAnagram(String a, String b) {\n   \n    \n    int[] alphabet = new int[26];\n    for(int i = 0 ; i &lt; a.length() ;i++) {\n         alphabet[a.charAt(i) - 'a']++ ;\n    }\n    for (int i = 0; i &lt; b.length(); i++) {\n         alphabet[b.charAt(i) - 'a']-- ;\n    }\n    \n    for(  int w :  alphabet ) {\n         if(w != 0 ) {return false;}\n    }\n    return true;\n    \n}\n}\n</code></pre>\n<p>Method 3 :</p>\n<pre><code>public class Method3 {\npublic static void main(String[] args) {\n    String a = &quot;protijayi&quot;;\n    String b = &quot;jayiproti&quot;;\n    \n    \n    System.out.println(isAnagram(a, b ));// output =&gt; true\n}\n\nprivate static boolean isAnagram(String a, String b) {\n    char[] ca = a.toCharArray() ;\n    char[] cb = b.toCharArray();\n    Arrays.sort(   ca     );\n    \n    Arrays.sort(   cb        );\n    return Arrays.equals(ca , cb );\n}\n}\n</code></pre>\n<p>Method 4 :</p>\n<pre><code>public class AnagramsOrNot {\n    public static void main(String[] args) {\n        String a = &quot;Protijayi&quot;;\n        String b = &quot;jayiProti&quot;;\n        isAnagram(a, b);\n    }\n\n    private static void isAnagram(String a, String b) {\n        Map&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\n        a.codePoints().forEach(code -&gt; map.put(code, map.getOrDefault(code, 0) + 1));\n        System.out.println(map);\n        b.codePoints().forEach(code -&gt; map.put(code, map.getOrDefault(code, 0) - 1));\n        System.out.println(map);\n        if (map.values().contains(0)) {\n            System.out.println(&quot;Anagrams&quot;);\n        } else {\n            System.out.println(&quot;Not Anagrams&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In Python:</p>\n<pre><code>def areAnagram(a, b):\n    if len(a) != len(b): return False\n    count1 = [0] * 256\n    count2 = [0] * 256\n    for i in a:count1[ord(i)] += 1\n    for i in b:count2[ord(i)] += 1\n\n    for i in range(256):\n        if(count1[i] != count2[i]):return False    \n\n    return True\n\n\nstr1 = &quot;Giniiii&quot;\nstr2 = &quot;Protijayi&quot;\nprint(areAnagram(str1, str2))\n</code></pre>\n<p>Let's take another famous Interview Question: Group the Anagrams from a given String:</p>\n<pre><code>public class GroupAnagrams {\n    public static void main(String[] args) {\n        String a = &quot;Gini Gina Protijayi iGin aGin jayiProti Soudipta&quot;;\n        Map&lt;String, List&lt;String&gt;&gt; map = Arrays.stream(a.split(&quot; &quot;)).collect(Collectors.groupingBy(GroupAnagrams::sortedString));\n        System.out.println(&quot;MAP =&gt; &quot; + map);\n        map.forEach((k,v) -&gt; System.out.println(k +&quot; and the anagrams are =&gt;&quot; + v ));\n        /*\n         Look at the Map output:\n        MAP =&gt; {Giin=[Gini, iGin], Paiijorty=[Protijayi, jayiProti], Sadioptu=[Soudipta], Gain=[Gina, aGin]}\n        As we can see, there are multiple Lists. Hence, we have to use a flatMap(List::stream)\n        Now, Look at the output:\n        Paiijorty and the anagrams are =&gt;[Protijayi, jayiProti]\n       \n        Now, look at this output:\n        Sadioptu and the anagrams are =&gt;[Soudipta]\n        List contains only word. No anagrams.\n        That means we have to work with map.values(). List contains all the anagrams.\n        \n                     \n        */\n        String stringFromMapHavingListofLists = map.values().stream().flatMap(List::stream).collect(Collectors.joining(&quot; &quot;));\n        System.out.println(stringFromMapHavingListofLists);\n    }\n\n    public static String sortedString(String a) {\n        String sortedString = a.chars().sorted()\n                .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\n\n        return sortedString;\n\n    }\n    \n    /*\n     * The output : Gini iGin Protijayi jayiProti Soudipta Gina aGin\n     * All the anagrams are side by side.\n     */\n}\n</code></pre>\n<p>Now to Group Anagrams in Python is again easy.We have to :\nSort the lists. Then, Create a dictionary. Now dictionary will tell us where are those anagrams are( Indices of Dictionary). Then values of the dictionary is the actual indices of the anagrams.</p>\n<pre><code>def groupAnagrams(words):\n \n    # sort each word in the list\n    A = [''.join(sorted(word)) for word in words]\n    dict = {}\n    for indexofsamewords, names in enumerate(A):\n     dict.setdefault(names, []).append(indexofsamewords)\n    print(dict)\n    #{'AOOPR': [0, 2, 5, 11, 13], 'ABTU': [1, 3, 4], 'Sorry': [6], 'adnopr': [7], 'Sadioptu': [8, 16], ' KPaaehiklry': [9], 'Taeggllnouy': [10], 'Leov': [12], 'Paiijorty': [14, 18], 'Paaaikpr': [15], 'Saaaabhmryz': [17], ' CNaachlortttu': [19], 'Saaaaborvz': [20]}\n \n    for index in dict.values():\n     print([words[i] for i in index])\n \n\nif __name__ == '__main__':\n \n    # list of words\n    words = [&quot;ROOPA&quot;,&quot;TABU&quot;,&quot;OOPAR&quot;,&quot;BUTA&quot;,&quot;BUAT&quot; , &quot;PAROO&quot;,&quot;Soudipta&quot;,\n        &quot;Kheyali Park&quot;, &quot;Tollygaunge&quot;, &quot;AROOP&quot;,&quot;Love&quot;,&quot;AOORP&quot;, &quot;Protijayi&quot;,&quot;Paikpara&quot;,&quot;dipSouta&quot;,&quot;Shyambazaar&quot;,\n        &quot;jayiProti&quot;, &quot;North Calcutta&quot;, &quot;Sovabazaar&quot;]\n \n    groupAnagrams(words)\n \n</code></pre>\n<p>The Output  :</p>\n<pre><code>['ROOPA', 'OOPAR', 'PAROO', 'AROOP', 'AOORP']\n['TABU', 'BUTA', 'BUAT']\n['Soudipta', 'dipSouta']\n['Kheyali Park']\n['Tollygaunge']\n['Love']\n['Protijayi', 'jayiProti']\n['Paikpara']\n['Shyambazaar']\n['North Calcutta']\n['Sovabazaar']\n</code></pre>\n<p>Another Important Anagram Question : Find the Anagram occuring Max. number of times.\nIn the Example, ROOPA is the word which has occured maximum number of times.\nHence, ['ROOPA' 'OOPAR' 'PAROO' 'AROOP' 'AOORP'] will be the final output.</p>\n<pre><code>from sqlite3 import collections\nfrom statistics import mode, mean\n\nimport numpy as np\n\n\n# list of words\nwords = [&quot;ROOPA&quot;,&quot;TABU&quot;,&quot;OOPAR&quot;,&quot;BUTA&quot;,&quot;BUAT&quot; , &quot;PAROO&quot;,&quot;Soudipta&quot;,\n        &quot;Kheyali Park&quot;, &quot;Tollygaunge&quot;, &quot;AROOP&quot;,&quot;Love&quot;,&quot;AOORP&quot;,\n         &quot;Protijayi&quot;,&quot;Paikpara&quot;,&quot;dipSouta&quot;,&quot;Shyambazaar&quot;,\n        &quot;jayiProti&quot;, &quot;North Calcutta&quot;, &quot;Sovabazaar&quot;]\n\nprint(&quot;.....Method 1....... &quot;)\n\nsortedwords = [''.join(sorted(word)) for word in words]\nprint(sortedwords)\nprint(&quot;...........&quot;)\nLongestAnagram = np.array(words)[np.array(sortedwords) == mode(sortedwords)]\n# Longest anagram \nprint(&quot;Longest anagram by Method 1:&quot;)\nprint(LongestAnagram)\n\nprint(&quot;.....................................................&quot;)  \n\nprint(&quot;.....Method 2....... &quot;)  \n\nA = [''.join(sorted(word)) for word in words]\n\ndict = {}\n\nfor indexofsamewords,samewords in  enumerate(A):\n    dict.setdefault(samewords,[]).append(samewords)\n#print(dict)  \n#{'AOOPR': ['AOOPR', 'AOOPR', 'AOOPR', 'AOOPR', 'AOOPR'], 'ABTU': ['ABTU', 'ABTU', 'ABTU'], 'Sadioptu': ['Sadioptu', 'Sadioptu'], ' KPaaehiklry': [' KPaaehiklry'], 'Taeggllnouy': ['Taeggllnouy'], 'Leov': ['Leov'], 'Paiijorty': ['Paiijorty', 'Paiijorty'], 'Paaaikpr': ['Paaaikpr'], 'Saaaabhmryz': ['Saaaabhmryz'], ' CNaachlortttu': [' CNaachlortttu'], 'Saaaaborvz': ['Saaaaborvz']}\n     \naa =  max(dict.items() , key = lambda x : len(x[1]))\nprint(&quot;aa =&gt; &quot; , aa)    \nword, anagrams = aa \nprint(&quot;Longest anagram by Method 2:&quot;)\nprint(&quot; &quot;.join(anagrams))    \n</code></pre>\n<p>The Output :</p>\n<pre><code>.....Method 1....... \n['AOOPR', 'ABTU', 'AOOPR', 'ABTU', 'ABTU', 'AOOPR', 'Sadioptu', ' KPaaehiklry', 'Taeggllnouy', 'AOOPR', 'Leov', 'AOOPR', 'Paiijorty', 'Paaaikpr', 'Sadioptu', 'Saaaabhmryz', 'Paiijorty', ' CNaachlortttu', 'Saaaaborvz']\n...........\nLongest anagram by Method 1:\n['ROOPA' 'OOPAR' 'PAROO' 'AROOP' 'AOORP']\n.....................................................\n.....Method 2....... \naa =&gt;  ('AOOPR', ['AOOPR', 'AOOPR', 'AOOPR', 'AOOPR', 'AOOPR'])\nLongest anagram by Method 2:\nAOOPR AOOPR AOOPR AOOPR AOOPR\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612560612,"creation_date":1612560612,"answer_id":66070834,"question_id":15045640,"body_markdown":"This could be the simple function call \r\n\r\nA mix of functional Code and Imperative style of code \r\n\r\n    static boolean isAnagram(String a, String b) {\r\n        \r\n        String sortedA = &quot;&quot;;\r\n        Object[] aArr = a.toLowerCase().chars().sorted().mapToObj(i -&gt; (char) i).toArray();\r\n        for (Object o: aArr) {\r\n            sortedA = sortedA.concat(o.toString());\r\n        }\r\n        \r\n        \r\n        String sortedB = &quot;&quot;;\r\n        Object[] bArr = b.toLowerCase().chars().sorted().mapToObj(i -&gt; (char) i).toArray();\r\n        for (Object o: bArr) {\r\n            sortedB = sortedB.concat(o.toString());\r\n        }\r\n        \r\n        if(sortedA.equals(sortedB))    \r\n            return true;\r\n        else\r\n            return false;    \r\n    }","title":"How to check if two words are anagrams","body":"<p>This could be the simple function call</p>\n<p>A mix of functional Code and Imperative style of code</p>\n<pre><code>static boolean isAnagram(String a, String b) {\n    \n    String sortedA = &quot;&quot;;\n    Object[] aArr = a.toLowerCase().chars().sorted().mapToObj(i -&gt; (char) i).toArray();\n    for (Object o: aArr) {\n        sortedA = sortedA.concat(o.toString());\n    }\n    \n    \n    String sortedB = &quot;&quot;;\n    Object[] bArr = b.toLowerCase().chars().sorted().mapToObj(i -&gt; (char) i).toArray();\n    for (Object o: bArr) {\n        sortedB = sortedB.concat(o.toString());\n    }\n    \n    if(sortedA.equals(sortedB))    \n        return true;\n    else\n        return false;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5126421,"reputation":518,"user_id":4108292,"display_name":"Freeze Francis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625236789,"creation_date":1625236434,"answer_id":68226987,"question_id":15045640,"body_markdown":"There are 3 solution i can think of :\r\n\r\n1) Using sorting\r\n```\r\n# O(NlogN) + O(MlogM) time, O(1) space \r\ndef solve_by_sort(word1, word2):\r\n    return sorted(word1) == sorted(word2)\r\n```\r\n\r\n2) Using letter frequency count\r\n```\r\n# O(N+M) time, O(N+M) space\r\ndef solve_by_letter_frequency(word1, word2):\r\n    from collections import Counter\r\n    return Counter(word1) == Counter(word2)\r\n```\r\n\r\n3) Using the concept of prime factorization. (assign primes to each letter)\r\n```\r\nimport operator\r\nfrom functools import reduce\r\n\r\n# O(N) time, O(1) space - prime factorization\r\ndef solve_by_prime_number_hash(word1, word2):\r\n    return get_prime_number_hash(word1) == get_prime_number_hash(word2)\r\n\r\ndef get_prime_number_hash(word):\r\n    letter_code = {&#39;a&#39;: 2, &#39;b&#39;: 3, &#39;c&#39;: 5, &#39;d&#39;: 7, &#39;e&#39;: 11, &#39;f&#39;: 13, &#39;g&#39;: 17, &#39;h&#39;: 19, &#39;i&#39;: 23, &#39;j&#39;: 29, &#39;k&#39;: 31,&#39;l&#39;: 37, &#39;m&#39;: 41, &#39;n&#39;: 43,&#39;o&#39;: 47, &#39;p&#39;: 53, &#39;q&#39;: 59, &#39;r&#39;: 61, &#39;s&#39;: 67, &#39;t&#39;: 71, &#39;u&#39;: 73, &#39;v&#39;: 79, &#39;w&#39;: 83, &#39;x&#39;: 89, &#39;y&#39;: 97,&#39;z&#39;: 101}\r\n    return 0 if not word else reduce(operator.mul, [letter_code[letter] for letter in word])\r\n```\r\n\r\nI have put more detailed analysis of these in my medium [story][1].\n\r\n\r\n  [1]: https://freezefrancis.medium.com/algorithm-for-detecting-anagrams-8454680f2c0b","title":"How to check if two words are anagrams","body":"<p>There are 3 solution i can think of :</p>\n<ol>\n<li>Using sorting</li>\n</ol>\n<pre><code># O(NlogN) + O(MlogM) time, O(1) space \ndef solve_by_sort(word1, word2):\n    return sorted(word1) == sorted(word2)\n</code></pre>\n<ol start=\"2\">\n<li>Using letter frequency count</li>\n</ol>\n<pre><code># O(N+M) time, O(N+M) space\ndef solve_by_letter_frequency(word1, word2):\n    from collections import Counter\n    return Counter(word1) == Counter(word2)\n</code></pre>\n<ol start=\"3\">\n<li>Using the concept of prime factorization. (assign primes to each letter)</li>\n</ol>\n<pre><code>import operator\nfrom functools import reduce\n\n# O(N) time, O(1) space - prime factorization\ndef solve_by_prime_number_hash(word1, word2):\n    return get_prime_number_hash(word1) == get_prime_number_hash(word2)\n\ndef get_prime_number_hash(word):\n    letter_code = {'a': 2, 'b': 3, 'c': 5, 'd': 7, 'e': 11, 'f': 13, 'g': 17, 'h': 19, 'i': 23, 'j': 29, 'k': 31,'l': 37, 'm': 41, 'n': 43,'o': 47, 'p': 53, 'q': 59, 'r': 61, 's': 67, 't': 71, 'u': 73, 'v': 79, 'w': 83, 'x': 89, 'y': 97,'z': 101}\n    return 0 if not word else reduce(operator.mul, [letter_code[letter] for letter in word])\n</code></pre>\n<p>I have put more detailed analysis of these in my medium <a href=\"https://freezefrancis.medium.com/algorithm-for-detecting-anagrams-8454680f2c0b\" rel=\"nofollow noreferrer\">story</a>.</p>\n"}],"owner":{"account_id":2407041,"reputation":603,"user_id":2103209,"accept_rate":80,"display_name":"Chilli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185397,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":17004897,"answer_count":37,"score":50,"last_activity_date":1648626886,"creation_date":1361653346,"question_id":15045640,"body_markdown":"I have a program that shows you whether two words are anagrams of one another. There are a few examples that will not work properly and I would appreciate any help, although if it were not advanced that would be great, as I am a 1st year programmer. &quot;schoolmaster&quot; and &quot;theclassroom&quot; are anagrams of one another, however when I change &quot;theclassroom&quot; to &quot;theclafsroom&quot; it still says they are anagrams, what am I doing wrong?\r\n\r\n```java\r\nimport java.util.ArrayList;\r\npublic class AnagramCheck {\r\n    public static void main(String args[]) {\r\n        String phrase1 = &quot;tbeclassroom&quot;;\r\n        phrase1 = (phrase1.toLowerCase()).trim();\r\n        char[] phrase1Arr = phrase1.toCharArray();\r\n\r\n        String phrase2 = &quot;schoolmaster&quot;;\r\n        phrase2 = (phrase2.toLowerCase()).trim();\r\n        ArrayList&lt;Character&gt; phrase2ArrList = convertStringToArraylist(phrase2);\r\n\r\n        if (phrase1.length() != phrase2.length()) {\r\n            System.out.print(&quot;There is no anagram present.&quot;);\r\n        } else {\r\n            boolean isFound = true;\r\n            for (int i = 0; i &lt; phrase1Arr.length; i++) {\r\n                for (int j = 0; j &lt; phrase2ArrList.size(); j++) {\r\n                    if (phrase1Arr[i] == phrase2ArrList.get(j)) {\r\n                        System.out.print(&quot;There is a common element.\\n&quot;);\r\n                        isFound =;\r\n                        phrase2ArrList.remove(j);\r\n                    }\r\n                }\r\n                if (isFound == false) {\r\n                    System.out.print(&quot;There are no anagrams present.&quot;);\r\n                    return;\r\n                }\r\n            }\r\n            System.out.printf(&quot;%s is an anagram of %s&quot;, phrase1, phrase2);\r\n        }\r\n    }\r\n\r\n    public static ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\r\n        ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            charList.add(str.charAt(i));\r\n        }\r\n        return charList;\r\n    }\r\n}\r\n```\r\n","title":"How to check if two words are anagrams","body":"<p>I have a program that shows you whether two words are anagrams of one another. There are a few examples that will not work properly and I would appreciate any help, although if it were not advanced that would be great, as I am a 1st year programmer. &quot;schoolmaster&quot; and &quot;theclassroom&quot; are anagrams of one another, however when I change &quot;theclassroom&quot; to &quot;theclafsroom&quot; it still says they are anagrams, what am I doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\npublic class AnagramCheck {\n    public static void main(String args[]) {\n        String phrase1 = &quot;tbeclassroom&quot;;\n        phrase1 = (phrase1.toLowerCase()).trim();\n        char[] phrase1Arr = phrase1.toCharArray();\n\n        String phrase2 = &quot;schoolmaster&quot;;\n        phrase2 = (phrase2.toLowerCase()).trim();\n        ArrayList&lt;Character&gt; phrase2ArrList = convertStringToArraylist(phrase2);\n\n        if (phrase1.length() != phrase2.length()) {\n            System.out.print(&quot;There is no anagram present.&quot;);\n        } else {\n            boolean isFound = true;\n            for (int i = 0; i &lt; phrase1Arr.length; i++) {\n                for (int j = 0; j &lt; phrase2ArrList.size(); j++) {\n                    if (phrase1Arr[i] == phrase2ArrList.get(j)) {\n                        System.out.print(&quot;There is a common element.\\n&quot;);\n                        isFound =;\n                        phrase2ArrList.remove(j);\n                    }\n                }\n                if (isFound == false) {\n                    System.out.print(&quot;There are no anagrams present.&quot;);\n                    return;\n                }\n            }\n            System.out.printf(&quot;%s is an anagram of %s&quot;, phrase1, phrase2);\n        }\n    }\n\n    public static ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\n        ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\n        for (int i = 0; i &lt; str.length(); i++) {\n            charList.add(str.charAt(i));\n        }\n        return charList;\n    }\n}\n</code></pre>\n"},{"tags":["java","stack","callstack"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648622499,"post_id":71672531,"comment_id":126667969,"body_markdown":"I don&#39;t see how you can do this in Java, unless you are writing some kind of p-code interpreter. You don&#39;t have access to return addresses, for a start. I also don&#39;t see the point of pushing the method name.","body":"I don&#39;t see how you can do this in Java, unless you are writing some kind of p-code interpreter. You don&#39;t have access to return addresses, for a start. I also don&#39;t see the point of pushing the method name."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648623585,"creation_date":1648622971,"answer_id":71672706,"question_id":71672531,"body_markdown":"What you are trying to implement is already inside the Java programming language and its runtime implementation. You cannot intermingle with it, and that is good.\r\n\r\nSo make up your mind: create your own programming language and interpreter in whichever language you pick and you have full control on the stack and variables, or accept Java is doing it for you and your best visibility is to use a debugger.\r\n\r\nAlmost all universities have model computers with an appropriate model language for such a learning exercise, so it is not totally off the world.","title":"Simulating a simple Call Stack in java","body":"<p>What you are trying to implement is already inside the Java programming language and its runtime implementation. You cannot intermingle with it, and that is good.</p>\n<p>So make up your mind: create your own programming language and interpreter in whichever language you pick and you have full control on the stack and variables, or accept Java is doing it for you and your best visibility is to use a debugger.</p>\n<p>Almost all universities have model computers with an appropriate model language for such a learning exercise, so it is not totally off the world.</p>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648626711,"creation_date":1648626711,"answer_id":71673479,"question_id":71672531,"body_markdown":"The first thing you should investigate is Reverse Polish Notation (RPN) which is a way of expressing arithmetic operations and function calls that can easily be translated to a stack.\r\n\r\nIn RPN the infix expression:\r\n\r\n2 + 3 * 5 \r\n\r\nis written as:\r\n\r\n    2 3 5 * +\r\n\r\nIt is processed by pushing the operands onto a stack. When an operator is encountered the number of parameters required are popped and evaluated and the result pushed back on the stack.\r\n\r\nSo, in this example, 2 3 and 5 are pushed. When * is encountered 3 and 5 are popped and multiplied and the result (15) pushed. When + is encountered 2 and 15 are popped and added and the result is pushed. The result is left on the stack.\r\n\r\nMethod calls work the same as operators. (In fact, operators can be thought off as &quot;special&quot; methods). For example:\r\n\r\n    substr(&quot;hello&quot;, 2, 4)\r\n\r\nwould be written as:\r\n\r\n    &quot;hello&quot; \r\n    2 \r\n    4\r\n    new MethodName(&quot;substr&quot;)\r\n\r\nWith the last item, I am wrapping the method name in an object of type `MethodName` (a class I invented) to distinguish it from `String` types.\r\n\r\nYou will store these items in a Java `Stack&lt;Object&gt;` type and use the `push` and `pop` operations there.\r\n\r\nAfter you have popped your arguments and method name off the stack you will have to write a lot of code to interpret what you have and call the appropriate function, either using reflection or hard-coding the method calls.\r\n\r\nI not prepared to go into more detail as this is quite a lot of work. If this is an exercise, then you will have to work some of it out yourself. If it is not, then there are libraries to do this kind of thing. For example, JEP.\r\n","title":"Simulating a simple Call Stack in java","body":"<p>The first thing you should investigate is Reverse Polish Notation (RPN) which is a way of expressing arithmetic operations and function calls that can easily be translated to a stack.</p>\n<p>In RPN the infix expression:</p>\n<p>2 + 3 * 5</p>\n<p>is written as:</p>\n<pre><code>2 3 5 * +\n</code></pre>\n<p>It is processed by pushing the operands onto a stack. When an operator is encountered the number of parameters required are popped and evaluated and the result pushed back on the stack.</p>\n<p>So, in this example, 2 3 and 5 are pushed. When * is encountered 3 and 5 are popped and multiplied and the result (15) pushed. When + is encountered 2 and 15 are popped and added and the result is pushed. The result is left on the stack.</p>\n<p>Method calls work the same as operators. (In fact, operators can be thought off as &quot;special&quot; methods). For example:</p>\n<pre><code>substr(&quot;hello&quot;, 2, 4)\n</code></pre>\n<p>would be written as:</p>\n<pre><code>&quot;hello&quot; \n2 \n4\nnew MethodName(&quot;substr&quot;)\n</code></pre>\n<p>With the last item, I am wrapping the method name in an object of type <code>MethodName</code> (a class I invented) to distinguish it from <code>String</code> types.</p>\n<p>You will store these items in a Java <code>Stack&lt;Object&gt;</code> type and use the <code>push</code> and <code>pop</code> operations there.</p>\n<p>After you have popped your arguments and method name off the stack you will have to write a lot of code to interpret what you have and call the appropriate function, either using reflection or hard-coding the method calls.</p>\n<p>I not prepared to go into more detail as this is quite a lot of work. If this is an exercise, then you will have to work some of it out yourself. If it is not, then there are libraries to do this kind of thing. For example, JEP.</p>\n"}],"owner":{"account_id":24609074,"reputation":11,"user_id":18510909,"display_name":"Robin_Hood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648626711,"creation_date":1648622103,"question_id":71672531,"body_markdown":"I&#39;m trying to simulate a simple call stack in java, and just run it with simple math functions (such as Fibonacci, Factorial) that I&#39;ve implemented previously.\r\n\r\nLogic wise here&#39;s what I&#39;m attempting to do:\r\n\r\nWhenever a method is called, Push a &#39;stack frame&#39; onto a regular stack.\r\n\r\n• Stack frame would contain local variables, parameters\r\n\r\n• Store the method names and arguments on to the stack as a String.\r\n \r\n• As the method is exited, these values are popped off of the stack.\r\n\r\n• Should be able to display the &#39;Call Stack&#39; at any time by calling a ```display()``` method. (Already implemented in my stack class) \r\n\r\nI&#39;m having a little trouble understanding the logic around it, this is all I&#39;ve got at the moment:\r\n\r\n```\r\npublic class CallStack \r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int num1 = 5; \r\n        int num2 = 10; \r\n        MyStack B = new MyStack(3); \r\n\r\n        Fibonacci.CalcFib(num1); \r\n        B.push(&quot;Fibonacci.CalcFib(num1)&quot;);\r\n        B.push(String.valueOf(num1));\r\n        B.display();  \r\n        B.pop();  \r\n\r\n        System.out.println();\r\n        Factorial.CalcFact(num2);\r\n        B.push(&quot;Factorial.CalcFib(num2)&quot;);\r\n        B.push(String.valueOf(num2));\r\n        B.display();\r\n        B.pop(); \r\n    }\r\n}\r\n\r\n```\r\n\r\nI know this isn&#39;t how it should be implemented, but I can&#39;t seem to understand how else I would go about doing this. And how I would pop that method off the stack once it&#39;s done. \r\n\r\nAny help/tips would be appreciated, thank you!","title":"Simulating a simple Call Stack in java","body":"<p>I'm trying to simulate a simple call stack in java, and just run it with simple math functions (such as Fibonacci, Factorial) that I've implemented previously.</p>\n<p>Logic wise here's what I'm attempting to do:</p>\n<p>Whenever a method is called, Push a 'stack frame' onto a regular stack.</p>\n<p>• Stack frame would contain local variables, parameters</p>\n<p>• Store the method names and arguments on to the stack as a String.</p>\n<p>• As the method is exited, these values are popped off of the stack.</p>\n<p>• Should be able to display the 'Call Stack' at any time by calling a <code>display()</code> method. (Already implemented in my stack class)</p>\n<p>I'm having a little trouble understanding the logic around it, this is all I've got at the moment:</p>\n<pre><code>public class CallStack \n{\n    public static void main(String[] args)\n    {\n        int num1 = 5; \n        int num2 = 10; \n        MyStack B = new MyStack(3); \n\n        Fibonacci.CalcFib(num1); \n        B.push(&quot;Fibonacci.CalcFib(num1)&quot;);\n        B.push(String.valueOf(num1));\n        B.display();  \n        B.pop();  \n\n        System.out.println();\n        Factorial.CalcFact(num2);\n        B.push(&quot;Factorial.CalcFib(num2)&quot;);\n        B.push(String.valueOf(num2));\n        B.display();\n        B.pop(); \n    }\n}\n\n</code></pre>\n<p>I know this isn't how it should be implemented, but I can't seem to understand how else I would go about doing this. And how I would pop that method off the stack once it's done.</p>\n<p>Any help/tips would be appreciated, thank you!</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648626475,"creation_date":1648626142,"answer_id":71673358,"question_id":71673082,"body_markdown":"You need to add `highlightBuilder` to `searchSourceBuilder` as shown below:\r\n```java\r\nsearchSourceBuilder.query(queryBuilder);\r\nsearchSourceBuilder.highlighter(highlightBuilder);\r\nsearchRequest.source(searchSourceBuilder);\r\n```\r\n\r\nUsing below code you can get highlighting as well:\r\n```java\r\nSearchHits hits = searchResponse.getHits();\r\nfor (SearchHit hit : hits.getHits()) {\r\n    Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields();\r\n    HighlightField highlight = highlightFields.get(&quot;title&quot;); \r\n    Text[] fragments = highlight.fragments();  \r\n    String fragmentString = fragments[0].string();\r\n}\r\n```\r\n\r\nPlease check [this][1] documentation for more information about search API.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html#java-rest-high-search-response-highlighting","title":"highlight of elasticsearch in java?","body":"<p>You need to add <code>highlightBuilder</code> to <code>searchSourceBuilder</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>searchSourceBuilder.query(queryBuilder);\nsearchSourceBuilder.highlighter(highlightBuilder);\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n<p>Using below code you can get highlighting as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchHits hits = searchResponse.getHits();\nfor (SearchHit hit : hits.getHits()) {\n    Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields();\n    HighlightField highlight = highlightFields.get(&quot;title&quot;); \n    Text[] fragments = highlight.fragments();  \n    String fragmentString = fragments[0].string();\n}\n</code></pre>\n<p>Please check <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html#java-rest-high-search-response-highlighting\" rel=\"nofollow noreferrer\">this</a> documentation for more information about search API.</p>\n"}],"owner":{"account_id":24675086,"reputation":11,"user_id":18569598,"display_name":"AJITHKUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648626475,"creation_date":1648624921,"question_id":71673082,"body_markdown":"i need to highlight the match word in a document,\r\nin java client.\r\ni don&#39;t know where to fix highlight object\r\nthis is my java code for search:\r\n\r\n                HighlightBuilder highlightBuilder = new HighlightBuilder().postTags(&quot;&lt;highlight&gt;&quot;).preTags(&quot;&lt;/highlight&gt;&quot;).field(&quot;filename&quot;);\r\n    \t\t\tSearchRequest searchRequest = new SearchRequest(&quot;userdoc&quot;); \r\n    \t\t\tSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); \r\n    \t\t\tBoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(QueryBuilders.wildcardQuery(&quot;filedata&quot;,word));\r\n    \t\t\tif(usertype.equals(&quot;user&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tqueryBuilder.filter(QueryBuilders.termQuery(&quot;email&quot;, email));\r\n    \t\t\t}\r\n    \t\t\tsearchSourceBuilder.query(queryBuilder);\r\n    \t\t\tsearchRequest.source(searchSourceBuilder);\r\n    \t\t\tsearchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n\r\n","title":"highlight of elasticsearch in java?","body":"<p>i need to highlight the match word in a document,\nin java client.\ni don't know where to fix highlight object\nthis is my java code for search:</p>\n<pre><code>            HighlightBuilder highlightBuilder = new HighlightBuilder().postTags(&quot;&lt;highlight&gt;&quot;).preTags(&quot;&lt;/highlight&gt;&quot;).field(&quot;filename&quot;);\n            SearchRequest searchRequest = new SearchRequest(&quot;userdoc&quot;); \n            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); \n            BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(QueryBuilders.wildcardQuery(&quot;filedata&quot;,word));\n            if(usertype.equals(&quot;user&quot;))\n            {\n                queryBuilder.filter(QueryBuilders.termQuery(&quot;email&quot;, email));\n            }\n            searchSourceBuilder.query(queryBuilder);\n            searchRequest.source(searchSourceBuilder);\n            searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n</code></pre>\n"},{"tags":["java","spring-boot","enums","swagger","swagger-ui"],"comments":[{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1649850367,"post_id":71662948,"comment_id":126979134,"body_markdown":"What version you are using for springdoc:openapi?","body":"What version you are using for springdoc:openapi?"}],"answers":[{"tags":[],"owner":{"account_id":2640358,"reputation":331,"user_id":2284150,"display_name":"Mihail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648562907,"creation_date":1648562907,"answer_id":71663611,"question_id":71662948,"body_markdown":"You need to annotate your enum with Schema annotation like this:\r\n\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    \r\n    @Schema(name = &quot;Activity flag values&quot;, description = &quot;Activity flag values&quot;)\r\n    public enum ActivityFlag {\r\n    \tACTIVE,\r\n    \tINACTIVE,\r\n        ALL\r\n    }\r\n\r\nIn UI it will be a dropdown:\r\n\r\n[![Enum in swaggger][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVfvV.png","title":"Swagger OpenApi / Can&#39;t see my enum attrubue","body":"<p>You need to annotate your enum with Schema annotation like this:</p>\n<pre><code>import io.swagger.v3.oas.annotations.media.Schema;\n\n@Schema(name = &quot;Activity flag values&quot;, description = &quot;Activity flag values&quot;)\npublic enum ActivityFlag {\n    ACTIVE,\n    INACTIVE,\n    ALL\n}\n</code></pre>\n<p>In UI it will be a dropdown:</p>\n<p><a href=\"https://i.stack.imgur.com/hVfvV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVfvV.png\" alt=\"Enum in swaggger\" /></a></p>\n"}],"owner":{"account_id":23581614,"reputation":21,"user_id":17620559,"display_name":"laBuse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648626401,"creation_date":1648560488,"question_id":71662948,"body_markdown":"i&#39;m actually learn spring boot and i started use swagger for test my controller,\r\nMy problem is this :\r\n\r\nMy contructor lokk like this :\r\n\r\n```\r\n @Override\r\n    public String toString() {\r\n        return &quot;Card{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, picture=&#39;&quot; + picture + &#39;\\&#39;&#39; +\r\n                &quot;, powerLvl=&quot; + powerLvl +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, location=&#39;&quot; + location + &#39;\\&#39;&#39; +\r\n                &quot;, ability=&quot; + ability +\r\n                &quot;, row=&quot; + rowName +\r\n                &quot;, type=&quot; + type +\r\n                &#39;}&#39;;\r\n    }\r\n```\r\n\r\nSo i have 3 enum look like this :\r\n\r\n```\r\npublic enum Ability {\r\n\r\n\r\n    BERSERKER( &quot;Berserker&quot;),\r\n    COMMANDER( &quot;Commander&quot;),\r\n    DECOY( &quot;Decoy&quot;),\r\n    MEDIC( &quot;Medic&quot;),\r\n    MORALE_BOOST( &quot;Morale boost&quot;),\r\n    MARDROEME(&quot;mardroeme&quot;),\r\n    MUSTER( &quot;muster&quot;),\r\n    SCORCH( &quot;scorch&quot;),\r\n    SPY( &quot;spy&quot;),\r\n    TIGHT_BOND( &quot;tightBond&quot;),\r\n    SUMMON_AVENGER( &quot;summonAvenger&quot;);\r\n```\r\n\r\nAnd i don&#39;t understand how, in swagger interface let me choice an enum choice when i create a card.\r\n\r\nMy post for create a card in swagger look like this :\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 0,\r\n  &quot;name&quot;: &quot;eee&quot;,\r\n  &quot;picture&quot;: &quot;eee&quot;,\r\n  &quot;powerLvl&quot;: 10,\r\n  &quot;description&quot;: &quot;ee&quot;,\r\n  &quot;location&quot;: &quot;ee&quot;\r\n}\r\n```\r\n\r\nwhy i don&#39;t have my enum and how can i do.\r\n\r\nthank you for your time.\r\n\r\nI search a lot and i try to modifie my json but not working.\r\n\r\n\r\n-----\r\n\r\nAfer the your response i try to add this :\r\n\r\npackage com.example.gwent_projet.entity;\r\n\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\n\r\n@Schema(name = &quot;Ability card values&quot;, description = &quot;Ability card values&quot;)\r\npublic enum Ability {\r\n\r\n\r\n    BERSERKER( &quot;Berserker&quot;),\r\n    COMMANDER( &quot;Commander&quot;),\r\n    DECOY( &quot;Decoy&quot;),\r\n    MEDIC( &quot;Medic&quot;),\r\n    MORALE_BOOST( &quot;Morale boost&quot;),\r\n    MARDROEME(&quot;mardroeme&quot;),\r\n    MUSTER( &quot;muster&quot;),\r\n    SCORCH( &quot;scorch&quot;),\r\n    SPY( &quot;spy&quot;),\r\n    TIGHT_BOND( &quot;tightBond&quot;),\r\n    SUMMON_AVENGER( &quot;summonAvenger&quot;);\r\n    \r\n    \r\n    private final String abilityName;\r\n\r\n    private Ability(String abilityName) {\r\n        this.abilityName = abilityName;\r\n    }\r\n\r\n    public String getShortName() {\r\n        return abilityName;\r\n    }\r\n}\r\n\r\nbut in my swagger interface i don&#39;t see a change for my card creation :\r\n[Swagger result][1]\r\n\r\nI don&#39;t understand, i&#39;m sorry.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3k5Rt.png","title":"Swagger OpenApi / Can&#39;t see my enum attrubue","body":"<p>i'm actually learn spring boot and i started use swagger for test my controller,\nMy problem is this :</p>\n<p>My contructor lokk like this :</p>\n<pre><code> @Override\n    public String toString() {\n        return &quot;Card{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, picture='&quot; + picture + '\\'' +\n                &quot;, powerLvl=&quot; + powerLvl +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, location='&quot; + location + '\\'' +\n                &quot;, ability=&quot; + ability +\n                &quot;, row=&quot; + rowName +\n                &quot;, type=&quot; + type +\n                '}';\n    }\n</code></pre>\n<p>So i have 3 enum look like this :</p>\n<pre><code>public enum Ability {\n\n\n    BERSERKER( &quot;Berserker&quot;),\n    COMMANDER( &quot;Commander&quot;),\n    DECOY( &quot;Decoy&quot;),\n    MEDIC( &quot;Medic&quot;),\n    MORALE_BOOST( &quot;Morale boost&quot;),\n    MARDROEME(&quot;mardroeme&quot;),\n    MUSTER( &quot;muster&quot;),\n    SCORCH( &quot;scorch&quot;),\n    SPY( &quot;spy&quot;),\n    TIGHT_BOND( &quot;tightBond&quot;),\n    SUMMON_AVENGER( &quot;summonAvenger&quot;);\n</code></pre>\n<p>And i don't understand how, in swagger interface let me choice an enum choice when i create a card.</p>\n<p>My post for create a card in swagger look like this :</p>\n<pre><code>{\n  &quot;id&quot;: 0,\n  &quot;name&quot;: &quot;eee&quot;,\n  &quot;picture&quot;: &quot;eee&quot;,\n  &quot;powerLvl&quot;: 10,\n  &quot;description&quot;: &quot;ee&quot;,\n  &quot;location&quot;: &quot;ee&quot;\n}\n</code></pre>\n<p>why i don't have my enum and how can i do.</p>\n<p>thank you for your time.</p>\n<p>I search a lot and i try to modifie my json but not working.</p>\n<hr />\n<p>Afer the your response i try to add this :</p>\n<p>package com.example.gwent_projet.entity;</p>\n<p>import io.swagger.v3.oas.annotations.media.Schema;</p>\n<p>@Schema(name = &quot;Ability card values&quot;, description = &quot;Ability card values&quot;)\npublic enum Ability {</p>\n<pre><code>BERSERKER( &quot;Berserker&quot;),\nCOMMANDER( &quot;Commander&quot;),\nDECOY( &quot;Decoy&quot;),\nMEDIC( &quot;Medic&quot;),\nMORALE_BOOST( &quot;Morale boost&quot;),\nMARDROEME(&quot;mardroeme&quot;),\nMUSTER( &quot;muster&quot;),\nSCORCH( &quot;scorch&quot;),\nSPY( &quot;spy&quot;),\nTIGHT_BOND( &quot;tightBond&quot;),\nSUMMON_AVENGER( &quot;summonAvenger&quot;);\n\n\nprivate final String abilityName;\n\nprivate Ability(String abilityName) {\n    this.abilityName = abilityName;\n}\n\npublic String getShortName() {\n    return abilityName;\n}\n</code></pre>\n<p>}</p>\n<p>but in my swagger interface i don't see a change for my card creation :\n<a href=\"https://i.stack.imgur.com/3k5Rt.png\" rel=\"nofollow noreferrer\">Swagger result</a></p>\n<p>I don't understand, i'm sorry.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1648591334,"post_id":71668085,"comment_id":126662435,"body_markdown":"Assuming a wheat-corn costs one million dollar and a wheat-corn burns withing 0.00001 second to ashes inside the sun, you will need over a billion suns to burn all wheatcorns you could possibly buy with a price a bigdecimal could represent. I am pretty sure you do not need bigdecimal for a price.","body":"Assuming a wheat-corn costs one million dollar and a wheat-corn burns withing 0.00001 second to ashes inside the sun, you will need over a billion suns to burn all wheatcorns you could possibly buy with a price a bigdecimal could represent. I am pretty sure you do not need bigdecimal for a price."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":1,"creation_date":1648626007,"post_id":71668085,"comment_id":126669046,"body_markdown":"@Forin your code is OK - It has one simple mistake. Answer below. I hope it helps.","body":"@Forin your code is OK - It has one simple mistake. Answer below. I hope it helps."},{"owner":{"account_id":124624,"reputation":6754,"user_id":319826,"accept_rate":72,"display_name":"kometen"},"score":1,"creation_date":1648639857,"post_id":71668085,"comment_id":126674372,"body_markdown":"Always use BigDecimal when delaing with prices so you can get accurate calculations.","body":"Always use BigDecimal when delaing with prices so you can get accurate calculations."}],"answers":[{"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648625883,"creation_date":1648625883,"answer_id":71673298,"question_id":71668085,"body_markdown":"It&#39;s a simple mistake with the input: ResponseBody is going out of the REST API, and RequestBody is coming in. So your code will work with:\r\n \r\n    @PostMapping(&quot;/prices&quot;)\r\n    public void someEndpoint(@RequestBody List&lt;BigDecimal&gt; prices) {\r\n      System.out.println(prices); //So you can see the input was received and available\r\n    }\r\n\r\nYou can use Double for the prices, if you like - it&#39;s a better fit for something like prices. But it&#39;s up to you.","title":"Handling mixed list of values in RestController","body":"<p>It's a simple mistake with the input: ResponseBody is going out of the REST API, and RequestBody is coming in. So your code will work with:</p>\n<pre><code>@PostMapping(&quot;/prices&quot;)\npublic void someEndpoint(@RequestBody List&lt;BigDecimal&gt; prices) {\n  System.out.println(prices); //So you can see the input was received and available\n}\n</code></pre>\n<p>You can use Double for the prices, if you like - it's a better fit for something like prices. But it's up to you.</p>\n"}],"owner":{"account_id":2648528,"reputation":1559,"user_id":2290763,"accept_rate":44,"display_name":"Forin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648625883,"creation_date":1648583865,"question_id":71668085,"body_markdown":"I am writing a RestController, where one of the endpoints has to handle the following json:\r\n```\r\n[22, 333, 333, 33, 55, 77.99]\r\n```\r\nThese values represent prices, so it would be good to handle them as `BigDecimal`.\r\n\r\nI thought something like the snippet below is going to work, but it is not. \r\n```\r\n@PostMapping(&quot;/prices&quot;)\r\npublic void someEndpoint(@ResponseBody List&lt;BigDecimal&gt; prices) {}\r\n```\r\n\r\nPerhaps, I should not expect list of BigDecimals, but something else?","title":"Handling mixed list of values in RestController","body":"<p>I am writing a RestController, where one of the endpoints has to handle the following json:</p>\n<pre><code>[22, 333, 333, 33, 55, 77.99]\n</code></pre>\n<p>These values represent prices, so it would be good to handle them as <code>BigDecimal</code>.</p>\n<p>I thought something like the snippet below is going to work, but it is not.</p>\n<pre><code>@PostMapping(&quot;/prices&quot;)\npublic void someEndpoint(@ResponseBody List&lt;BigDecimal&gt; prices) {}\n</code></pre>\n<p>Perhaps, I should not expect list of BigDecimals, but something else?</p>\n"},{"tags":["java","android-studio","button"],"answers":[{"tags":[],"owner":{"account_id":24634376,"reputation":304,"user_id":18533222,"display_name":"Berk Berber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648285062,"creation_date":1648285062,"answer_id":71626630,"question_id":71584329,"body_markdown":"As you have mentioned, you can&#39;t put a text if you have used `ImageButton`.\r\n\r\nAs far as I understood, you want to have view which has a **text on above of image** and **image on bottom of the text**.\r\n\r\nIf you use `android:background` feature on `Button`, button&#39;s background will be your drawable image and it won&#39;t be as you have expected.\r\n\r\nIf you are going to use `Button` for sure, you can use `android:drawableBottom` feature to show your drawable image on below of your text. And you can basically add button text by using `android:text` feature.\r\n\r\nMy advice to you, you should use `TextView` instead of `Button` for that case. Because if you do it with the `Button` as I have mentioned above, your button will have background and you can make transparent background for your button by using below code.\r\n\r\n```xml\r\n&lt;Button\r\n    android:id=&quot;@+id/buttonMoreTime&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@android:color/transparent&quot;\r\n    android:drawableBottom=&quot;@drawable/ic_baseline_home_24&quot;\r\n    android:text=&quot;@string/app_name&quot;\r\n    android:textColor=&quot;@color/black&quot; /&gt; \r\n```\r\n\r\nThis code will make your `Button` has a transparent background.\r\n```xml\r\nandroid:background=&quot;@android:color/transparent&quot;\r\n```\r\n\r\nBut this is a little bit hacky solution. If it won&#39;t have background and if you do not have to use `Button` in your case for sure, you can use `TextView` for that and basically to show text and drawable on bottom, you can code your `TextView` basically as below.\r\n\r\n```xml\r\n&lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;@string/app_name&quot;\r\n    app:drawableBottomCompat=&quot;@drawable/ic_baseline_home_24&quot; /&gt;\r\n```\r\n\r\n**Note:** These are very simple xml examples to solve your main problem about showing image on bottom of your text, in same view. If you need anything more, let me know and I would be glad to help. ","title":"Placing an image in button but it does not show image","body":"<p>As you have mentioned, you can't put a text if you have used <code>ImageButton</code>.</p>\n<p>As far as I understood, you want to have view which has a <strong>text on above of image</strong> and <strong>image on bottom of the text</strong>.</p>\n<p>If you use <code>android:background</code> feature on <code>Button</code>, button's background will be your drawable image and it won't be as you have expected.</p>\n<p>If you are going to use <code>Button</code> for sure, you can use <code>android:drawableBottom</code> feature to show your drawable image on below of your text. And you can basically add button text by using <code>android:text</code> feature.</p>\n<p>My advice to you, you should use <code>TextView</code> instead of <code>Button</code> for that case. Because if you do it with the <code>Button</code> as I have mentioned above, your button will have background and you can make transparent background for your button by using below code.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n    android:id=&quot;@+id/buttonMoreTime&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@android:color/transparent&quot;\n    android:drawableBottom=&quot;@drawable/ic_baseline_home_24&quot;\n    android:text=&quot;@string/app_name&quot;\n    android:textColor=&quot;@color/black&quot; /&gt; \n</code></pre>\n<p>This code will make your <code>Button</code> has a transparent background.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:background=&quot;@android:color/transparent&quot;\n</code></pre>\n<p>But this is a little bit hacky solution. If it won't have background and if you do not have to use <code>Button</code> in your case for sure, you can use <code>TextView</code> for that and basically to show text and drawable on bottom, you can code your <code>TextView</code> basically as below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/app_name&quot;\n    app:drawableBottomCompat=&quot;@drawable/ic_baseline_home_24&quot; /&gt;\n</code></pre>\n<p><strong>Note:</strong> These are very simple xml examples to solve your main problem about showing image on bottom of your text, in same view. If you need anything more, let me know and I would be glad to help.</p>\n"}],"owner":{"display_name":"user18321517"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71626630,"answer_count":1,"score":0,"last_activity_date":1648625825,"creation_date":1648025697,"question_id":71584329,"body_markdown":"I created a button and I used `android:background=&quot;@drawable/background&quot;` to change the image however it only displays the default design of a button (purple). How do I set it to the image I have saved in my drawable folder?\r\n\r\nI know there is Image Button but I wanted to write a text on the button, but there is no feature where I can write a text on top if I used Image Button","title":"Placing an image in button but it does not show image","body":"<p>I created a button and I used <code>android:background=&quot;@drawable/background&quot;</code> to change the image however it only displays the default design of a button (purple). How do I set it to the image I have saved in my drawable folder?</p>\n<p>I know there is Image Button but I wanted to write a text on the button, but there is no feature where I can write a text on top if I used Image Button</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648241582,"creation_date":1648241582,"answer_id":71622988,"question_id":71615423,"body_markdown":"Wouldn&#39;t it be nice if all validations were done **before** the card numbers went into the database (or data files). \r\n\r\nI&#39;m not convinced that using RegEx for any part of your code is necessarily the best course to take if what you want is speed since processing regular expressions can consume a **lot** of time. As an example, take the line that does the string masking in the `maskWithoutLast4Digits()` method: \r\n\r\n    static String maskWithoutLast4Digits(String input, String replacement) {\r\n        if(input.length() &lt;= 4){\r\n            return input;    // There is nothing to mask!\r\n        }\r\n        return input.replaceAll(&quot;.(?=.{4})&quot;, replacement);\r\n    }\r\n        \r\nand replace it with this code:\r\n\r\n    static String maskWithoutLast4Digits(String input, String replacement) {\r\n        if (input.length() &lt;= 4) {\r\n            return input; // There is nothing to mask!\r\n        }\r\n        char[] chars = input.toCharArray();\r\n        Arrays.fill(chars, 0, chars.length - 4, replacement);\r\n        return new String(chars);\r\n    }\r\n\r\nYou would probably find that the **overall code** will carry out the task on a single credit card number string almost twice as fast than the method with the regex. That&#39;s a considerable difference. As a matter of fact, if you run the code through a profiler you may very well find that the method with the regex in it could get progressively slower for each string processed whereas the second method will keep things flowing on a more constant speed.\r\n\r\nDifferent credit cards basically start with a specific single numerical numerical value with the exception of a few cards, for example, if a credit card number begins with 3, then it&#39;s always part of the American Express, Diner&#39;s Club or Carte Blanche payment networks. If the card begins with a 4, then it is a Visa. Card numbers that begin with 5 are part of the MasterCards, while cards that begin with 6 belong to the Discover network.\r\n\r\n      Card                   Starts With                   No. of Digits\r\n      ==================================================================\r\n      American Express       can be 34 or usually 37       15\r\n      JBC                    35                            16\r\n      Diners Club            usually 36 or can be 38       14\r\n      VISA                   4                             16\r\n      Mastercard             5                             16\r\n      Discovery              6                             16\r\n\r\nYou don&#39;t need regex to determine if a credit card number starts with any of these values and it should be noted that some cards don&#39;t necessarily always contain the same number if digits. It may depend upon the issuer as I&#39;m sure you already know but never the less, credit cards that are part of the Visa, Mastercard and Discover payment networks have 16 digits, while those that are part of the American Express payment network have just 15. While it&#39;s most common for credit cards to have 16 digits, they **can** possibly have as few as 13 and as many as 19. I haven&#39;t scoured your RegEx&#39;s but I&#39;m sure they have that covered (**right?**).\r\n\r\nTo remove the use of Regex you could use a `switch/case` mechanism instead, for example:\r\n\r\n    // Demo card number...\r\n        String cardNumber = &quot;371449635398431&quot;;\r\n        \r\n    /* Remove all Characters other than digits. \r\n       Don&#39;t want them for validation.      */\r\n    cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // Remove all Characters other than digits\r\n    String cardName;  // Used to store the card&#39;s name \r\n    switch (cardNumber.substring(0, 1)) {\r\n        case &quot;3&quot;:\r\n            String typeNum = cardNumber.substring(0, 2);\r\n            switch(typeNum) {\r\n                case &quot;34&quot;: case &quot;37&quot;:\r\n                   cardName = &quot;American-Express&quot;;\r\n                   break;\r\n                case &quot;35&quot;:\r\n                   cardName = &quot;JBC&quot;;\r\n                   break;        \r\n                case &quot;30&quot;: case &quot;36&quot;: case &quot;38&quot;: case &quot;39&quot;:\r\n                    cardName = &quot;Diners-Club&quot;;\r\n                    break;\r\n                default: \r\n                    cardName = &quot;UNKNOWN&quot;;\r\n            }\r\n            break;\r\n        case &quot;4&quot;:\r\n            cardName = &quot;Visa&quot;;\r\n            break;\r\n        case &quot;5&quot;:\r\n            cardName= &quot;Mastercard&quot;;\r\n            break;\r\n        case &quot;6&quot;:\r\n            cardName = &quot;Discovery&quot;;\r\n            break;\r\n        default:\r\n            cardName = &quot;UNKNOWN&quot;;\r\n    }\r\n\r\nIf you were to run speed tests on this code in comparison to iterating through a bunch of RegEx&#39;s, I believe you will find a **considerable** speed improvement even if you wanted to also check the length of each card number processed within each `case`.\r\n\r\nThe best way to validate a credit card number is to use the **Luhn Formula** (also known as the **Luhn Algorithm**) which basically follows this scheme:\r\n\r\n 1. Begin by doubling the value of every odd digit of the card number\r\n    you are verifying. If the resulting sum of any given doubling\r\n    operation is greater than 9 (for example, 7 x 2 = 14 or 9 x 2 = 18),\r\n    then add the digits of that sum (e.g., 14: 1 + 4 = 5 or 18: 1 + 8 =\r\n    9).\r\n 2. Now add up all the resulting digits, including the even digits,\r\n    which you did not multiply by two.\r\n 3. If the total you received ends in 0, the card number is valid\r\n    according to the **Luhn Algorithm**; otherwise it is not valid. \r\n\r\nThe whole process of course can be placed into a method for ease if use, for example:\r\n\r\n    /**\r\n     * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\r\n     * the &#39;Luhn Algorithm&#39;.\r\n     *\r\n     * @param cardNumber (String)\r\n     *\r\n     * @return (Boolean)\r\n     */\r\n    public static boolean isValidCardNumber(String cardNumber) {\r\n        if (cardNumber == null || cardNumber.trim().isEmpty()) {\r\n            return false;\r\n        }\r\n        cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n        \r\n        // Luhn algorithm\r\n        int nDigits = cardNumber.length();\r\n\r\n        int nSum = 0;\r\n        boolean isSecond = false;\r\n        for (int i = nDigits - 1; i &gt;= 0; i--) {\r\n            int d = cardNumber.charAt(i) - &#39;0&#39;;\r\n            if (isSecond == true) {\r\n                d = d * 2;\r\n            }\r\n            // We add two digits to handle \r\n            // cases that make two digits  \r\n            // after doubling \r\n            nSum += d / 10;\r\n            nSum += d % 10;\r\n            isSecond = !isSecond;\r\n        }\r\n        return (nSum % 10 == 0);\r\n    }\r\n\r\nTo put this all together your code might look something similar to this:\r\n\r\n    public static String validateCreditCardNumber(String cardNumber) {\r\n        // Remove all Characters other than digits\r\n        cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // Remove all Characters other than digits\r\n        String cardName;  // Used to store the card&#39;s name \r\n        switch (cardNumber.substring(0, 1)) {\r\n            case &quot;3&quot;:\r\n                String typeNum = cardNumber.substring(0, 2);\r\n                switch(typeNum) {\r\n                    case &quot;34&quot;: case &quot;37&quot;:\r\n                       cardName = &quot;American-Express&quot;;\r\n                       break;\r\n                    case &quot;35&quot;:\r\n                       cardName = &quot;JBC&quot;;\r\n                       break;        \r\n                    case &quot;30&quot;: case &quot;36&quot;: case &quot;38&quot;: case &quot;39&quot;:\r\n                        cardName = &quot;Diners-Club&quot;;\r\n                        break;\r\n                    default: \r\n                        cardName = &quot;UNKNOWN&quot;;\r\n                }\r\n                break;\r\n            case &quot;4&quot;:\r\n                cardName = &quot;Visa&quot;;\r\n                break;\r\n            case &quot;5&quot;:\r\n                cardName= &quot;Mastercard&quot;;\r\n                break;\r\n            case &quot;6&quot;:\r\n                cardName = &quot;Discovery&quot;;\r\n                break;\r\n            default:\r\n                cardName = &quot;UNKNOWN&quot;;\r\n        }\r\n        \r\n        if (!cardName.equals(&quot;UNKNOWN&quot;) &amp;&amp; isValidCardNumber(cardNumber)) {\r\n            return (&quot;The &quot; + cardName + &quot; card number (&quot; + maskWithoutLast4Digits(cardNumber, &#39;*&#39;) + &quot;) is VALID!&quot;);\r\n        }\r\n        else {\r\n            return (&quot;The &quot; + cardName + &quot; card number (&quot; +  maskWithoutLast4Digits(cardNumber, &#39;*&#39;) + &quot;) is NOT VALID!&quot;);\r\n        }\r\n    }\r\n    \r\n    public static String maskWithoutLast4Digits (String input, char replacement) {\r\n        if (input.length() &lt;= 4) {\r\n            return input; // Nothing to mask\r\n        }\r\n        char[] buf = input.toCharArray();\r\n        Arrays.fill(buf, 0, buf.length - 4, replacement);\r\n        return new String(buf);\r\n    }\r\n    \r\n    /**\r\n     * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\r\n     * the &#39;Luhn Algorithm&#39;.\r\n     *\r\n     * @param cardNumber (String)\r\n     *\r\n     * @return (Boolean)\r\n     */\r\n    public static boolean isValidCardNumber(String cardNumber) {\r\n        if (cardNumber == null || cardNumber.trim().isEmpty()) {\r\n            return false;\r\n        }\r\n        cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n        \r\n        // Luhn algorithm\r\n        int nDigits = cardNumber.length();\r\n\r\n        int nSum = 0;\r\n        boolean isSecond = false;\r\n        for (int i = nDigits - 1; i &gt;= 0; i--) {\r\n            int d = cardNumber.charAt(i) - &#39;0&#39;;\r\n            if (isSecond == true) {\r\n                d = d * 2;\r\n            }\r\n            // We add two digits to handle \r\n            // cases that make two digits  \r\n            // after doubling \r\n            nSum += d / 10;\r\n            nSum += d % 10;\r\n            isSecond = !isSecond;\r\n        }\r\n        return (nSum % 10 == 0);\r\n    }\r\n\r\nAnd to basically use the above:\r\n\r\n    // Demo card number...\r\n    String cardNumber = &quot;371449635398431&quot;;\r\n        \r\n    String isItValid = validateCreditCardNumber(cardNumber);\r\n    System.out.println(isItValid);\r\n\r\nOut put to console would be:\r\n\r\n    The American-Express card number (***********8431) is VALID!\r\n\r\nI&#39;m not exactly sure where your output is going but it may be best to file it somewhere before displaying it since you will always be speed limited to that process. Also, Breaking the data into manageable chunks and using multiple executor-Service threads to process the data would greatly increase speed as can using one of the newer JDK&#39;s (above Java8) and utilizing some of the newer methods.\r\n","title":"How to improve performance for masking method with credit card regex in java","body":"<p>Wouldn't it be nice if all validations were done <strong>before</strong> the card numbers went into the database (or data files).</p>\n<p>I'm not convinced that using RegEx for any part of your code is necessarily the best course to take if what you want is speed since processing regular expressions can consume a <strong>lot</strong> of time. As an example, take the line that does the string masking in the <code>maskWithoutLast4Digits()</code> method:</p>\n<pre><code>static String maskWithoutLast4Digits(String input, String replacement) {\n    if(input.length() &lt;= 4){\n        return input;    // There is nothing to mask!\n    }\n    return input.replaceAll(&quot;.(?=.{4})&quot;, replacement);\n}\n    \n</code></pre>\n<p>and replace it with this code:</p>\n<pre><code>static String maskWithoutLast4Digits(String input, String replacement) {\n    if (input.length() &lt;= 4) {\n        return input; // There is nothing to mask!\n    }\n    char[] chars = input.toCharArray();\n    Arrays.fill(chars, 0, chars.length - 4, replacement);\n    return new String(chars);\n}\n</code></pre>\n<p>You would probably find that the <strong>overall code</strong> will carry out the task on a single credit card number string almost twice as fast than the method with the regex. That's a considerable difference. As a matter of fact, if you run the code through a profiler you may very well find that the method with the regex in it could get progressively slower for each string processed whereas the second method will keep things flowing on a more constant speed.</p>\n<p>Different credit cards basically start with a specific single numerical numerical value with the exception of a few cards, for example, if a credit card number begins with 3, then it's always part of the American Express, Diner's Club or Carte Blanche payment networks. If the card begins with a 4, then it is a Visa. Card numbers that begin with 5 are part of the MasterCards, while cards that begin with 6 belong to the Discover network.</p>\n<pre><code>  Card                   Starts With                   No. of Digits\n  ==================================================================\n  American Express       can be 34 or usually 37       15\n  JBC                    35                            16\n  Diners Club            usually 36 or can be 38       14\n  VISA                   4                             16\n  Mastercard             5                             16\n  Discovery              6                             16\n</code></pre>\n<p>You don't need regex to determine if a credit card number starts with any of these values and it should be noted that some cards don't necessarily always contain the same number if digits. It may depend upon the issuer as I'm sure you already know but never the less, credit cards that are part of the Visa, Mastercard and Discover payment networks have 16 digits, while those that are part of the American Express payment network have just 15. While it's most common for credit cards to have 16 digits, they <strong>can</strong> possibly have as few as 13 and as many as 19. I haven't scoured your RegEx's but I'm sure they have that covered (<strong>right?</strong>).</p>\n<p>To remove the use of Regex you could use a <code>switch/case</code> mechanism instead, for example:</p>\n<pre><code>// Demo card number...\n    String cardNumber = &quot;371449635398431&quot;;\n    \n/* Remove all Characters other than digits. \n   Don't want them for validation.      */\ncardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // Remove all Characters other than digits\nString cardName;  // Used to store the card's name \nswitch (cardNumber.substring(0, 1)) {\n    case &quot;3&quot;:\n        String typeNum = cardNumber.substring(0, 2);\n        switch(typeNum) {\n            case &quot;34&quot;: case &quot;37&quot;:\n               cardName = &quot;American-Express&quot;;\n               break;\n            case &quot;35&quot;:\n               cardName = &quot;JBC&quot;;\n               break;        \n            case &quot;30&quot;: case &quot;36&quot;: case &quot;38&quot;: case &quot;39&quot;:\n                cardName = &quot;Diners-Club&quot;;\n                break;\n            default: \n                cardName = &quot;UNKNOWN&quot;;\n        }\n        break;\n    case &quot;4&quot;:\n        cardName = &quot;Visa&quot;;\n        break;\n    case &quot;5&quot;:\n        cardName= &quot;Mastercard&quot;;\n        break;\n    case &quot;6&quot;:\n        cardName = &quot;Discovery&quot;;\n        break;\n    default:\n        cardName = &quot;UNKNOWN&quot;;\n}\n</code></pre>\n<p>If you were to run speed tests on this code in comparison to iterating through a bunch of RegEx's, I believe you will find a <strong>considerable</strong> speed improvement even if you wanted to also check the length of each card number processed within each <code>case</code>.</p>\n<p>The best way to validate a credit card number is to use the <strong>Luhn Formula</strong> (also known as the <strong>Luhn Algorithm</strong>) which basically follows this scheme:</p>\n<ol>\n<li>Begin by doubling the value of every odd digit of the card number\nyou are verifying. If the resulting sum of any given doubling\noperation is greater than 9 (for example, 7 x 2 = 14 or 9 x 2 = 18),\nthen add the digits of that sum (e.g., 14: 1 + 4 = 5 or 18: 1 + 8 =\n9).</li>\n<li>Now add up all the resulting digits, including the even digits,\nwhich you did not multiply by two.</li>\n<li>If the total you received ends in 0, the card number is valid\naccording to the <strong>Luhn Algorithm</strong>; otherwise it is not valid.</li>\n</ol>\n<p>The whole process of course can be placed into a method for ease if use, for example:</p>\n<pre><code>/**\n * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\n * the 'Luhn Algorithm'.\n *\n * @param cardNumber (String)\n *\n * @return (Boolean)\n */\npublic static boolean isValidCardNumber(String cardNumber) {\n    if (cardNumber == null || cardNumber.trim().isEmpty()) {\n        return false;\n    }\n    cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\n    \n    // Luhn algorithm\n    int nDigits = cardNumber.length();\n\n    int nSum = 0;\n    boolean isSecond = false;\n    for (int i = nDigits - 1; i &gt;= 0; i--) {\n        int d = cardNumber.charAt(i) - '0';\n        if (isSecond == true) {\n            d = d * 2;\n        }\n        // We add two digits to handle \n        // cases that make two digits  \n        // after doubling \n        nSum += d / 10;\n        nSum += d % 10;\n        isSecond = !isSecond;\n    }\n    return (nSum % 10 == 0);\n}\n</code></pre>\n<p>To put this all together your code might look something similar to this:</p>\n<pre><code>public static String validateCreditCardNumber(String cardNumber) {\n    // Remove all Characters other than digits\n    cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // Remove all Characters other than digits\n    String cardName;  // Used to store the card's name \n    switch (cardNumber.substring(0, 1)) {\n        case &quot;3&quot;:\n            String typeNum = cardNumber.substring(0, 2);\n            switch(typeNum) {\n                case &quot;34&quot;: case &quot;37&quot;:\n                   cardName = &quot;American-Express&quot;;\n                   break;\n                case &quot;35&quot;:\n                   cardName = &quot;JBC&quot;;\n                   break;        \n                case &quot;30&quot;: case &quot;36&quot;: case &quot;38&quot;: case &quot;39&quot;:\n                    cardName = &quot;Diners-Club&quot;;\n                    break;\n                default: \n                    cardName = &quot;UNKNOWN&quot;;\n            }\n            break;\n        case &quot;4&quot;:\n            cardName = &quot;Visa&quot;;\n            break;\n        case &quot;5&quot;:\n            cardName= &quot;Mastercard&quot;;\n            break;\n        case &quot;6&quot;:\n            cardName = &quot;Discovery&quot;;\n            break;\n        default:\n            cardName = &quot;UNKNOWN&quot;;\n    }\n    \n    if (!cardName.equals(&quot;UNKNOWN&quot;) &amp;&amp; isValidCardNumber(cardNumber)) {\n        return (&quot;The &quot; + cardName + &quot; card number (&quot; + maskWithoutLast4Digits(cardNumber, '*') + &quot;) is VALID!&quot;);\n    }\n    else {\n        return (&quot;The &quot; + cardName + &quot; card number (&quot; +  maskWithoutLast4Digits(cardNumber, '*') + &quot;) is NOT VALID!&quot;);\n    }\n}\n\npublic static String maskWithoutLast4Digits (String input, char replacement) {\n    if (input.length() &lt;= 4) {\n        return input; // Nothing to mask\n    }\n    char[] buf = input.toCharArray();\n    Arrays.fill(buf, 0, buf.length - 4, replacement);\n    return new String(buf);\n}\n\n/**\n * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\n * the 'Luhn Algorithm'.\n *\n * @param cardNumber (String)\n *\n * @return (Boolean)\n */\npublic static boolean isValidCardNumber(String cardNumber) {\n    if (cardNumber == null || cardNumber.trim().isEmpty()) {\n        return false;\n    }\n    cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\n    \n    // Luhn algorithm\n    int nDigits = cardNumber.length();\n\n    int nSum = 0;\n    boolean isSecond = false;\n    for (int i = nDigits - 1; i &gt;= 0; i--) {\n        int d = cardNumber.charAt(i) - '0';\n        if (isSecond == true) {\n            d = d * 2;\n        }\n        // We add two digits to handle \n        // cases that make two digits  \n        // after doubling \n        nSum += d / 10;\n        nSum += d % 10;\n        isSecond = !isSecond;\n    }\n    return (nSum % 10 == 0);\n}\n</code></pre>\n<p>And to basically use the above:</p>\n<pre><code>// Demo card number...\nString cardNumber = &quot;371449635398431&quot;;\n    \nString isItValid = validateCreditCardNumber(cardNumber);\nSystem.out.println(isItValid);\n</code></pre>\n<p>Out put to console would be:</p>\n<pre><code>The American-Express card number (***********8431) is VALID!\n</code></pre>\n<p>I'm not exactly sure where your output is going but it may be best to file it somewhere before displaying it since you will always be speed limited to that process. Also, Breaking the data into manageable chunks and using multiple executor-Service threads to process the data would greatly increase speed as can using one of the newer JDK's (above Java8) and utilizing some of the newer methods.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648625781,"creation_date":1648501600,"answer_id":71653734,"question_id":71615423,"body_markdown":"This Post is solely based on the comments in the Answer above and in particular this comment from the OP:\r\n\r\n    And also the input string can be &quot;my phone number 12345678 and credit card 1234567890&quot;\r\n\r\nIf you&#39;re bent on RegEx and you want to retrieve a phone number and or a Credit Card number from a specific String then you can use this Java regular expression:\r\n\r\n    String regex = String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;\r\n                                + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;       // Phone Numbers\r\n                                + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;   // Credit Cards\r\n\r\nTo use this regex string you would want to run it through a **Pattern/Matcher** mechanism, for example:\r\n\r\n```\r\nString strg = &quot;Valid Phone #: &lt;+1 (212) 555-3456&gt; - &quot;\r\n            + &quot;Valid American Express card 24 with garbage 33.6 characters: &lt;3714-4963-5398-431&gt;&quot;;\r\n\r\nfinal java.util.List&lt;String&gt; numbers = new java.util.ArrayList&lt;&gt;();\r\n\r\nfinal String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;       // Phone Numbers\r\n                   + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;  // Credit Cards\r\n                   + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;\r\n\r\nfinal java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regex); // the regex\r\nfinal java.util.regex.Matcher matcher = pattern.matcher(strg); // your string\r\nwhile (matcher.find()) { \r\n    numbers.add(matcher.group()); \r\n}\r\n        \r\nfor (String str : numbers) {\r\n    System.out.println(str);\r\n}\r\n```    \r\n\r\nWith the above supplied String the Console Window would display:\r\n\r\n    +1 (212) 555-3456\r\n    3714-4963-5398-431\r\n\r\nConsider these the **original** Phone number and Credit-Card number substrings. Place these strings into repsective variables like **origPhoneNum** and **origcreditCardNum**. Now validate the numbers. You already have the tool provided to validate a credit card number in the previous answer. And here is one to validate a phone number:\r\n\r\n    public static boolean isValidPhoneNumber(String phoneNumber) {\r\n        return phoneNumber.matches(&quot;^(?!\\\\b(0)\\\\1+\\\\b)(\\\\+?\\\\d{1,3}[. -]?)?&quot;\r\n                                 + &quot;\\\\(?\\\\d{3}\\\\)?([. -]?)\\\\d{3}\\\\3\\\\d{4}$&quot;);\r\n    }\r\n\r\nI have tested the above provided regex string against phone numbers from **many** different countries in many different formats with success. It was also tested against **many** different Credit Card numbers in many different formats, again with success. Never the less there will of course always be some format that may cause a particular problem since there are obviously no rules what-so-ever for number entries at the source of data generation. \r\n\r\nTake the comment line I had shown at the top of this post:\r\n\r\n    And also the input string can be &quot;my phone number 12345678 and credit card 1234567890&quot;\r\n\r\nThere is no way to distinguish which number is suppose to be a phone number and which is suppose to be a credit card number **unless** it specifically states as such with text within the string as the above string does. Tomorrow or next week it might not because there just doesn&#39;t look like there are any data entry rules in play here. \r\n\r\nThe string indicates a phone number of `12345678` which is 8 digits. The string also indicates a credit card number of `1234567890`. Internationally, phone numbers can range from 9 to as many as 13 digits depending on the country. Locally the number of digits range would be smaller again, depending on the country. Since phone numbers (internationally) have such a great number of digits range there is no way to know that the number deemed to be credit card number is in fact a credit card number unless the string tells you either before the number or after it. Which will it be in the next input string if at all.?\r\n\r\nFor this I leave it for you to decide how to deal with this situation but whatever it is, don&#39;t expect any great speed from it. It&#39;s like I had written at the beginning of my previous answer:\r\n\r\n    Wouldn&#39;t it be nice if all validations were done before the card numbers\r\n    went into the database (or data files).\r\n\r\n----------\r\n\r\n**EDIT: Based on your latest comments under the earlier answer:**\r\n\r\nI whipped up a small demo:\r\n\r\n    // Place this code into a method or event somewhere...\r\n    String inputString = &quot;my phone number is +54 123 344-4567 and CC 2222 4053 4324 8877 bla bla bla&quot;;\r\n    System.out.println(&quot;Input:  &quot; + inputString);\r\n    System.out.println();\r\n\r\n    final java.util.List&lt;String&gt; numbers = new java.util.ArrayList&lt;&gt;();\r\n        \r\n    final String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;       // Phone Numbers\r\n                       + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;  // Credit Cards\r\n                       + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;\r\n\r\n    final java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regex);\r\n    final java.util.regex.Matcher matcher = pattern.matcher(inputString); \r\n    while (matcher.find()) { \r\n        numbers.add(matcher.group()); \r\n    }\r\n        \r\n    String outputString = inputString;\r\n        \r\n    for (String str : numbers) {\r\n        //System.out.println(str);  // Uncomment for testing.\r\n        // Is substring a valid Phone Number?\r\n        int len = str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;).length();  // Crushed number length\r\n        if (isValidPhoneNumber(str)) {\r\n            outputString = outputString.replace(str, maskAllExceptLast(str, 3, &quot;x&quot;));\r\n        }\r\n        else if (isValidCreditCardNumber(str)) {\r\n            outputString = outputString.replace(str, \r\n            maskAllExceptLast(str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;), 4, &quot;*&quot;));\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Output: &quot; + outputString);\r\n\r\n**Support methods....**\r\n\r\n    public static String maskAllExceptLast (String inputString, int exceptLast_N, String... maskCharacter) {\r\n        if(inputString.length() &lt; exceptLast_N){\r\n            return inputString;\r\n        }\r\n        String mask = &quot;*&quot;;  // Default mask character.\r\n        if (maskCharacter.length &gt; 0) {\r\n            mask = maskCharacter[0];\r\n        }\r\n        return inputString.replaceAll(&quot;.(?=.{&quot; + exceptLast_N + &quot;})&quot;, mask);\r\n    }\r\n\r\n    /**\r\n     * Method to validate a supplied phone number. Currently validates phone\r\n     * numbers supplied in the following fashion:\r\n     * &lt;pre&gt;\r\n     *\r\n     *      Phone number 1234567890 validation result: true\r\n     *      Phone number 123-456-7890 validation result: true\r\n     *      Phone number 123-456-7890 x1234 validation result: true\r\n     *      Phone number 123-456-7890 ext1234 validation result: true\r\n     *      Phone number (123)-456-7890 validation result: true\r\n     *      Phone number 123.456.7890 validation result: true\r\n     *      Phone number 123 456 7890 validation result: true\r\n     *      Phone number 01 123 456 7890 validation result: true\r\n     *      Phone number 1 123-456-7890 validation result: true\r\n     *      Phone number 1-123-456-7890 validation result: true&lt;/pre&gt;\r\n     *\r\n     * @param phoneNumber (String) The phone number to check.&lt;br&gt;\r\n     *\r\n     * @return (boolean) True is returned if the supplied phone number is valid.\r\n     *         False if it isn&#39;t.\r\n     */\r\n    public static boolean isValidPhoneNumber(String phoneNumber) {\r\n        boolean isValid = false;\r\n        long len = phoneNumber.replaceAll(&quot;\\\\D&quot;,&quot;&quot;).length(); // Crush the phone Number into only digits\r\n        // Check phone Number&#39;s length range. Must be from 8 to 12 digits long\r\n        if (len &lt; 8 || len &gt; 12) {\r\n            return false;\r\n        }\r\n        // Validate phone numbers of format &quot;xxxxxxxx to xxxxxxxxxxxx&quot;\r\n        else if (phoneNumber.matches(&quot;\\\\d+&quot;)) {\r\n            isValid = true;\r\n        }\r\n        //validating phone number with -, . or spaces\r\n        else if (phoneNumber.matches(&quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;)) {\r\n            isValid = true;\r\n        }\r\n        /* Validating phone number with -, . or spaces and long distance prefix.\r\n           This regex also ensures:\r\n              - The actual number (withoug LD prefix) should be 10 digits only.\r\n              - For North American, numbers with area code may be surrounded \r\n                  with parentheses ().\r\n              - The country code can be 1 to 3 digits long. Optionally may be \r\n                preceded by a + sign.\r\n              - There may be dashes, spaces, dots or no spaces between country \r\n                code, area code and the rest of the number.\r\n              - A valid phone number cannot be all zeros.                 */\r\n        else if (phoneNumber.matches(&quot;^(?!\\\\b(0)\\\\1+\\\\b)(\\\\+?\\\\d{1,3}[. -]?)?&quot;\r\n                                   + &quot;\\\\(?\\\\d{3}\\\\)?([. -]?)\\\\d{3}\\\\3\\\\d{4}$&quot;)) {\r\n            isValid = true;\r\n        }\r\n        //validating phone number with extension length from 3 to 5\r\n        else if (phoneNumber.matches(&quot;\\\\d{3}-\\\\d{3}-\\\\d{4}\\\\s(x|(ext))\\\\d{3,5}&quot;)) {\r\n            isValid = true;\r\n        } \r\n        //validating phone number where area code is in braces ()\r\n        else if (phoneNumber.matches(&quot;^(\\\\(\\\\d{1,3}\\\\)|\\\\d{1,3})[- .]?\\\\d{2,4}[- .]?\\\\d{4}$&quot;)) {\r\n            isValid = true;\r\n        } \r\n        //return false if nothing matches the input\r\n        else {\r\n            isValid = false;\r\n        }\r\n        return isValid;\r\n    }\r\n\r\n    /**\r\n     * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\r\n     * the &#39;Luhn Algorithm&#39;. First this method validates for a correct Card \r\n     * Network Number. The supported networks are:&lt;pre&gt;\r\n     * \r\n     *    Number            Card Network\r\n     *    ====================================\r\n     *      2               Mastercard (BIN 2-Series) This is NEW!!\r\n     *      30, 36, 38, 39  Diners-Club\r\n     *      34, 37          American Express\r\n     *      35              JBC\r\n     *      4               Visa\r\n     *      5               Mastercard\r\n     *      6               Discovery&lt;/pre&gt;&lt;br&gt;\r\n     * \r\n     * Next, the overall Credit Card number is checked with the &#39;Luhn Algorithm&#39; \r\n     * for validity.&lt;br&gt;\r\n     *\r\n     * @param cardNumber (String)\r\n     *\r\n     * @return (Boolean) True if valid, false if not.\r\n     */\r\n    public static boolean isValidCreditCardNumber(String cardNumber) {\r\n        if (cardNumber == null || cardNumber.trim().isEmpty()) {\r\n            return false;\r\n        }\r\n        // Strip card number of all non-digit characters.\r\n        cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n        \r\n        long len = cardNumber.length();\r\n        if (len &lt; 14 || len &gt; 16) {   // Only going to 16 digits here \r\n            return false;\r\n        }\r\n            \r\n        // Validate Card Network\r\n        String[] cardNetworks = {&quot;2&quot;, &quot;30&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;};\r\n        String cardNetNum = cardNumber.substring(0, (cardNumber.startsWith(&quot;3&quot;) ? 2 : 1));\r\n        boolean pass = false;\r\n        for (String netNum : cardNetworks) {\r\n            if (netNum.equals(cardNetNum)) {\r\n                pass = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!pass) {\r\n            return false;  // Invalid Card Network\r\n        }\r\n\r\n        // Validate card number with the &#39;Luhn algorithm&#39;.\r\n        int nDigits = cardNumber.length();\r\n\r\n        int nSum = 0;\r\n        boolean isSecond = false;\r\n        for (int i = nDigits - 1; i &gt;= 0; i--) {\r\n            int d = cardNumber.charAt(i) - &#39;0&#39;;\r\n            if (isSecond == true) {\r\n                d = d * 2;\r\n            }\r\n            nSum += d / 10;\r\n            nSum += d % 10;\r\n            isSecond = !isSecond;\r\n        }\r\n        return (nSum % 10 == 0);\r\n    }\r\n\r\nThe code above will by no means be fast!\r\n\r\n*Tweak the regex or code to suit your specific needs*.\r\n\r\n\r\n","title":"How to improve performance for masking method with credit card regex in java","body":"<p>This Post is solely based on the comments in the Answer above and in particular this comment from the OP:</p>\n<pre><code>And also the input string can be &quot;my phone number 12345678 and credit card 1234567890&quot;\n</code></pre>\n<p>If you're bent on RegEx and you want to retrieve a phone number and or a Credit Card number from a specific String then you can use this Java regular expression:</p>\n<pre><code>String regex = String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;\n                            + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;       // Phone Numbers\n                            + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;   // Credit Cards\n</code></pre>\n<p>To use this regex string you would want to run it through a <strong>Pattern/Matcher</strong> mechanism, for example:</p>\n<pre><code>String strg = &quot;Valid Phone #: &lt;+1 (212) 555-3456&gt; - &quot;\n            + &quot;Valid American Express card 24 with garbage 33.6 characters: &lt;3714-4963-5398-431&gt;&quot;;\n\nfinal java.util.List&lt;String&gt; numbers = new java.util.ArrayList&lt;&gt;();\n\nfinal String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;       // Phone Numbers\n                   + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;  // Credit Cards\n                   + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;\n\nfinal java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regex); // the regex\nfinal java.util.regex.Matcher matcher = pattern.matcher(strg); // your string\nwhile (matcher.find()) { \n    numbers.add(matcher.group()); \n}\n        \nfor (String str : numbers) {\n    System.out.println(str);\n}\n</code></pre>\n<p>With the above supplied String the Console Window would display:</p>\n<pre><code>+1 (212) 555-3456\n3714-4963-5398-431\n</code></pre>\n<p>Consider these the <strong>original</strong> Phone number and Credit-Card number substrings. Place these strings into repsective variables like <strong>origPhoneNum</strong> and <strong>origcreditCardNum</strong>. Now validate the numbers. You already have the tool provided to validate a credit card number in the previous answer. And here is one to validate a phone number:</p>\n<pre><code>public static boolean isValidPhoneNumber(String phoneNumber) {\n    return phoneNumber.matches(&quot;^(?!\\\\b(0)\\\\1+\\\\b)(\\\\+?\\\\d{1,3}[. -]?)?&quot;\n                             + &quot;\\\\(?\\\\d{3}\\\\)?([. -]?)\\\\d{3}\\\\3\\\\d{4}$&quot;);\n}\n</code></pre>\n<p>I have tested the above provided regex string against phone numbers from <strong>many</strong> different countries in many different formats with success. It was also tested against <strong>many</strong> different Credit Card numbers in many different formats, again with success. Never the less there will of course always be some format that may cause a particular problem since there are obviously no rules what-so-ever for number entries at the source of data generation.</p>\n<p>Take the comment line I had shown at the top of this post:</p>\n<pre><code>And also the input string can be &quot;my phone number 12345678 and credit card 1234567890&quot;\n</code></pre>\n<p>There is no way to distinguish which number is suppose to be a phone number and which is suppose to be a credit card number <strong>unless</strong> it specifically states as such with text within the string as the above string does. Tomorrow or next week it might not because there just doesn't look like there are any data entry rules in play here.</p>\n<p>The string indicates a phone number of <code>12345678</code> which is 8 digits. The string also indicates a credit card number of <code>1234567890</code>. Internationally, phone numbers can range from 9 to as many as 13 digits depending on the country. Locally the number of digits range would be smaller again, depending on the country. Since phone numbers (internationally) have such a great number of digits range there is no way to know that the number deemed to be credit card number is in fact a credit card number unless the string tells you either before the number or after it. Which will it be in the next input string if at all.?</p>\n<p>For this I leave it for you to decide how to deal with this situation but whatever it is, don't expect any great speed from it. It's like I had written at the beginning of my previous answer:</p>\n<pre><code>Wouldn't it be nice if all validations were done before the card numbers\nwent into the database (or data files).\n</code></pre>\n<hr />\n<p><strong>EDIT: Based on your latest comments under the earlier answer:</strong></p>\n<p>I whipped up a small demo:</p>\n<pre><code>// Place this code into a method or event somewhere...\nString inputString = &quot;my phone number is +54 123 344-4567 and CC 2222 4053 4324 8877 bla bla bla&quot;;\nSystem.out.println(&quot;Input:  &quot; + inputString);\nSystem.out.println();\n\nfinal java.util.List&lt;String&gt; numbers = new java.util.ArrayList&lt;&gt;();\n    \nfinal String regex = &quot;(\\\\+?\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+.{0,1}\\\\d+)|&quot;       // Phone Numbers\n                   + &quot;(\\\\+{0,1}\\\\d+{0,3}\\\\s{0,1}\\\\-{0,1}\\\\({0,1}\\\\d+&quot;  // Credit Cards\n                   + &quot;\\\\){0,1}\\\\s{0,1}\\\\-{0,1}\\\\d+\\\\s{0,1}\\\\-{0,1}\\\\d+)&quot;;\n\nfinal java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regex);\nfinal java.util.regex.Matcher matcher = pattern.matcher(inputString); \nwhile (matcher.find()) { \n    numbers.add(matcher.group()); \n}\n    \nString outputString = inputString;\n    \nfor (String str : numbers) {\n    //System.out.println(str);  // Uncomment for testing.\n    // Is substring a valid Phone Number?\n    int len = str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;).length();  // Crushed number length\n    if (isValidPhoneNumber(str)) {\n        outputString = outputString.replace(str, maskAllExceptLast(str, 3, &quot;x&quot;));\n    }\n    else if (isValidCreditCardNumber(str)) {\n        outputString = outputString.replace(str, \n        maskAllExceptLast(str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;), 4, &quot;*&quot;));\n    }\n}\n\nSystem.out.println(&quot;Output: &quot; + outputString);\n</code></pre>\n<p><strong>Support methods....</strong></p>\n<pre><code>public static String maskAllExceptLast (String inputString, int exceptLast_N, String... maskCharacter) {\n    if(inputString.length() &lt; exceptLast_N){\n        return inputString;\n    }\n    String mask = &quot;*&quot;;  // Default mask character.\n    if (maskCharacter.length &gt; 0) {\n        mask = maskCharacter[0];\n    }\n    return inputString.replaceAll(&quot;.(?=.{&quot; + exceptLast_N + &quot;})&quot;, mask);\n}\n\n/**\n * Method to validate a supplied phone number. Currently validates phone\n * numbers supplied in the following fashion:\n * &lt;pre&gt;\n *\n *      Phone number 1234567890 validation result: true\n *      Phone number 123-456-7890 validation result: true\n *      Phone number 123-456-7890 x1234 validation result: true\n *      Phone number 123-456-7890 ext1234 validation result: true\n *      Phone number (123)-456-7890 validation result: true\n *      Phone number 123.456.7890 validation result: true\n *      Phone number 123 456 7890 validation result: true\n *      Phone number 01 123 456 7890 validation result: true\n *      Phone number 1 123-456-7890 validation result: true\n *      Phone number 1-123-456-7890 validation result: true&lt;/pre&gt;\n *\n * @param phoneNumber (String) The phone number to check.&lt;br&gt;\n *\n * @return (boolean) True is returned if the supplied phone number is valid.\n *         False if it isn't.\n */\npublic static boolean isValidPhoneNumber(String phoneNumber) {\n    boolean isValid = false;\n    long len = phoneNumber.replaceAll(&quot;\\\\D&quot;,&quot;&quot;).length(); // Crush the phone Number into only digits\n    // Check phone Number's length range. Must be from 8 to 12 digits long\n    if (len &lt; 8 || len &gt; 12) {\n        return false;\n    }\n    // Validate phone numbers of format &quot;xxxxxxxx to xxxxxxxxxxxx&quot;\n    else if (phoneNumber.matches(&quot;\\\\d+&quot;)) {\n        isValid = true;\n    }\n    //validating phone number with -, . or spaces\n    else if (phoneNumber.matches(&quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;)) {\n        isValid = true;\n    }\n    /* Validating phone number with -, . or spaces and long distance prefix.\n       This regex also ensures:\n          - The actual number (withoug LD prefix) should be 10 digits only.\n          - For North American, numbers with area code may be surrounded \n              with parentheses ().\n          - The country code can be 1 to 3 digits long. Optionally may be \n            preceded by a + sign.\n          - There may be dashes, spaces, dots or no spaces between country \n            code, area code and the rest of the number.\n          - A valid phone number cannot be all zeros.                 */\n    else if (phoneNumber.matches(&quot;^(?!\\\\b(0)\\\\1+\\\\b)(\\\\+?\\\\d{1,3}[. -]?)?&quot;\n                               + &quot;\\\\(?\\\\d{3}\\\\)?([. -]?)\\\\d{3}\\\\3\\\\d{4}$&quot;)) {\n        isValid = true;\n    }\n    //validating phone number with extension length from 3 to 5\n    else if (phoneNumber.matches(&quot;\\\\d{3}-\\\\d{3}-\\\\d{4}\\\\s(x|(ext))\\\\d{3,5}&quot;)) {\n        isValid = true;\n    } \n    //validating phone number where area code is in braces ()\n    else if (phoneNumber.matches(&quot;^(\\\\(\\\\d{1,3}\\\\)|\\\\d{1,3})[- .]?\\\\d{2,4}[- .]?\\\\d{4}$&quot;)) {\n        isValid = true;\n    } \n    //return false if nothing matches the input\n    else {\n        isValid = false;\n    }\n    return isValid;\n}\n\n/**\n * Returns true if card (ie: MasterCard, Visa, etc) number is valid using\n * the 'Luhn Algorithm'. First this method validates for a correct Card \n * Network Number. The supported networks are:&lt;pre&gt;\n * \n *    Number            Card Network\n *    ====================================\n *      2               Mastercard (BIN 2-Series) This is NEW!!\n *      30, 36, 38, 39  Diners-Club\n *      34, 37          American Express\n *      35              JBC\n *      4               Visa\n *      5               Mastercard\n *      6               Discovery&lt;/pre&gt;&lt;br&gt;\n * \n * Next, the overall Credit Card number is checked with the 'Luhn Algorithm' \n * for validity.&lt;br&gt;\n *\n * @param cardNumber (String)\n *\n * @return (Boolean) True if valid, false if not.\n */\npublic static boolean isValidCreditCardNumber(String cardNumber) {\n    if (cardNumber == null || cardNumber.trim().isEmpty()) {\n        return false;\n    }\n    // Strip card number of all non-digit characters.\n    cardNumber = cardNumber.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\n    \n    long len = cardNumber.length();\n    if (len &lt; 14 || len &gt; 16) {   // Only going to 16 digits here \n        return false;\n    }\n        \n    // Validate Card Network\n    String[] cardNetworks = {&quot;2&quot;, &quot;30&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;};\n    String cardNetNum = cardNumber.substring(0, (cardNumber.startsWith(&quot;3&quot;) ? 2 : 1));\n    boolean pass = false;\n    for (String netNum : cardNetworks) {\n        if (netNum.equals(cardNetNum)) {\n            pass = true;\n            break;\n        }\n    }\n    if (!pass) {\n        return false;  // Invalid Card Network\n    }\n\n    // Validate card number with the 'Luhn algorithm'.\n    int nDigits = cardNumber.length();\n\n    int nSum = 0;\n    boolean isSecond = false;\n    for (int i = nDigits - 1; i &gt;= 0; i--) {\n        int d = cardNumber.charAt(i) - '0';\n        if (isSecond == true) {\n            d = d * 2;\n        }\n        nSum += d / 10;\n        nSum += d % 10;\n        isSecond = !isSecond;\n    }\n    return (nSum % 10 == 0);\n}\n</code></pre>\n<p>The code above will by no means be fast!</p>\n<p><em>Tweak the regex or code to suit your specific needs</em>.</p>\n"}],"owner":{"account_id":19646064,"reputation":23,"user_id":14381053,"display_name":"BillalT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71653734,"answer_count":2,"score":0,"last_activity_date":1648625781,"creation_date":1648204046,"question_id":71615423,"body_markdown":"i have this function to identify credit card by regex in input string and mask it without the last 4 digits:\r\n\r\n    public CharSequence obfuscate(CharSequence data) {\r\n        String[] result = data.toString().replaceAll(&quot;[^a-zA-Z0-9-_*]&quot;, &quot; &quot;).trim().replaceAll(&quot; +&quot;, &quot; &quot;).split(&quot; &quot;);\r\n        for(String str : result){\r\n            String originalString = str;\r\n            String cleanString = str.replaceAll(&quot;[-_]&quot;,&quot;&quot;);\r\n            CardType cardType = CardType.detect(cleanString);\r\n            if(!CardType.UNKNOWN.equals(cardType)){\r\n                String maskedReplacement = maskWithoutLast4Digits(cleanString ,replacement);\r\n                data = data.toString().replace(originalString , maskedReplacement);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    static String maskWithoutLast4Digits(String input , String replacement) {\r\n        if(input.length() &lt; 4){\r\n            return input;\r\n        }\r\n        return input.replaceAll(&quot;.(?=.{4})&quot;, replacement);\r\n    }\r\n\r\n//pattern enum\r\n\r\n     public enum CardType {\r\n    UNKNOWN,\r\n    VISA(&quot;^4[0-9]{12}(?:[0-9]{3}){0,2}$&quot;),\r\n    MASTERCARD(&quot;^(?:5[1-5]|2(?!2([01]|20)|7(2[1-9]|3))[2-7])\\\\d{14}$&quot;),\r\n    AMERICAN_EXPRESS(&quot;^3[47][0-9]{13}$&quot;),\r\n    DINERS_CLUB(&quot;^3(?:0[0-5]|[68][0-9])[0-9]{11}$&quot;),\r\n    DISCOVER(&quot;^6(?:011|[45][0-9]{2})[0-9]{12}$&quot;);\r\n    \r\n    private Pattern pattern;\r\n    \r\n    CardType() {\r\n        this.pattern = null;\r\n    }\r\n    \r\n    CardType(String pattern) {\r\n        this.pattern = Pattern.compile(pattern);\r\n    }\r\n    \r\n    public static CardType detect(String cardNumber) {\r\n    \r\n        for (CardType cardType : CardType.values()) {\r\n            if (null == cardType.pattern) continue;\r\n            if (cardType.pattern.matcher(cardNumber).matches()) return cardType;\r\n        }\r\n    \r\n        return UNKNOWN;\r\n    }\r\n    \r\n    \r\n    public Pattern getPattern() {\r\n        return pattern;\r\n    }\r\n    }\r\n\r\ninput1:\r\n&quot;Valid American Express card: 371449635398431&quot;.\r\n\r\noutput1:\r\n&quot;Valid American Express card: ***********8431&quot;\r\n\r\ninput2:\r\n&quot;Invalid credit card: 1234222222222&quot; //not mach any credit card pattern\r\n\r\n\r\noutput2:\r\n&quot;Invalid credit card: 1234222222222&quot;\r\n\r\ninput3:\r\n&quot;Valid American Express card with garbage characters: &lt;3714-4963-5398-431&gt;&quot;\r\n\r\n\r\noutput:\r\n&quot;Valid American Express card with garbage characters: &lt;***********8431&gt;&quot;\r\n\r\nthis is not the best way to to do the masking since this method will be called for each tag in huge html and each line in huge text files\r\nhow i can improve the performance of this method","title":"How to improve performance for masking method with credit card regex in java","body":"<p>i have this function to identify credit card by regex in input string and mask it without the last 4 digits:</p>\n<pre><code>public CharSequence obfuscate(CharSequence data) {\n    String[] result = data.toString().replaceAll(&quot;[^a-zA-Z0-9-_*]&quot;, &quot; &quot;).trim().replaceAll(&quot; +&quot;, &quot; &quot;).split(&quot; &quot;);\n    for(String str : result){\n        String originalString = str;\n        String cleanString = str.replaceAll(&quot;[-_]&quot;,&quot;&quot;);\n        CardType cardType = CardType.detect(cleanString);\n        if(!CardType.UNKNOWN.equals(cardType)){\n            String maskedReplacement = maskWithoutLast4Digits(cleanString ,replacement);\n            data = data.toString().replace(originalString , maskedReplacement);\n        }\n    }\n    return data;\n}\n\nstatic String maskWithoutLast4Digits(String input , String replacement) {\n    if(input.length() &lt; 4){\n        return input;\n    }\n    return input.replaceAll(&quot;.(?=.{4})&quot;, replacement);\n}\n</code></pre>\n<p>//pattern enum</p>\n<pre><code> public enum CardType {\nUNKNOWN,\nVISA(&quot;^4[0-9]{12}(?:[0-9]{3}){0,2}$&quot;),\nMASTERCARD(&quot;^(?:5[1-5]|2(?!2([01]|20)|7(2[1-9]|3))[2-7])\\\\d{14}$&quot;),\nAMERICAN_EXPRESS(&quot;^3[47][0-9]{13}$&quot;),\nDINERS_CLUB(&quot;^3(?:0[0-5]|[68][0-9])[0-9]{11}$&quot;),\nDISCOVER(&quot;^6(?:011|[45][0-9]{2})[0-9]{12}$&quot;);\n\nprivate Pattern pattern;\n\nCardType() {\n    this.pattern = null;\n}\n\nCardType(String pattern) {\n    this.pattern = Pattern.compile(pattern);\n}\n\npublic static CardType detect(String cardNumber) {\n\n    for (CardType cardType : CardType.values()) {\n        if (null == cardType.pattern) continue;\n        if (cardType.pattern.matcher(cardNumber).matches()) return cardType;\n    }\n\n    return UNKNOWN;\n}\n\n\npublic Pattern getPattern() {\n    return pattern;\n}\n}\n</code></pre>\n<p>input1:\n&quot;Valid American Express card: 371449635398431&quot;.</p>\n<p>output1:\n&quot;Valid American Express card: ***********8431&quot;</p>\n<p>input2:\n&quot;Invalid credit card: 1234222222222&quot; //not mach any credit card pattern</p>\n<p>output2:\n&quot;Invalid credit card: 1234222222222&quot;</p>\n<p>input3:\n&quot;Valid American Express card with garbage characters: &lt;3714-4963-5398-431&gt;&quot;</p>\n<p>output:\n&quot;Valid American Express card with garbage characters: &lt;***********8431&gt;&quot;</p>\n<p>this is not the best way to to do the masking since this method will be called for each tag in huge html and each line in huge text files\nhow i can improve the performance of this method</p>\n"},{"tags":["java","sql","jpa","jpql","named-query"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648623613,"post_id":71672359,"comment_id":126668257,"body_markdown":"Better add the relevant information from the code - field names, JPA annotations. Probably include the entities with the relevant fields only.","body":"Better add the relevant information from the code - field names, JPA annotations. Probably include the entities with the relevant fields only."}],"answers":[{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648625511,"creation_date":1648625511,"answer_id":71673220,"question_id":71672359,"body_markdown":"If you configured your entity correctly i presume your entity looks like following:\r\n\r\n**Book.java**\r\n```java\r\n...\r\npublic class Book {\r\n    \r\n    @Id\r\n    ... other related annotation\r\n    private Long bookId;\r\n\r\n    // other related properties like title, publishedAt, numberOfPages etc\r\n    \r\n    @ManyToMany(...)\r\n    private List&lt;Author&gt; authors;    \r\n}\r\n```\r\n\r\n**Author.java**\r\n```java\r\n...\r\npublic class Author {\r\n    \r\n    @Id\r\n    ... other related annotation\r\n    private Long authorId;\r\n\r\n    ... other related properties name, gender, age etc.\r\n\r\n    @ManyToMany(...)\r\n    private List&lt;Book&gt; books;\r\n}\r\n```\r\n\r\nThen your `BookRepository.java` should contain a method like following\r\n\r\n**BookRepository.java**\r\n```java\r\n@Repository\r\npublic interface BookRepository extends JPARepository&lt;Book, Long&gt; {\r\n    \r\n    @Query(&quot;SELECT book FROM Book book&quot;\r\n           + &quot; WHERE SIZE(book.authors) &gt; 1&quot;)\r\n    public List&lt;Book&gt; bookWithMultipleAuthor();\r\n}\r\n```","title":"JPQL SELECT where more than one n:m per left-table entry exists","body":"<p>If you configured your entity correctly i presume your entity looks like following:</p>\n<p><strong>Book.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\npublic class Book {\n    \n    @Id\n    ... other related annotation\n    private Long bookId;\n\n    // other related properties like title, publishedAt, numberOfPages etc\n    \n    @ManyToMany(...)\n    private List&lt;Author&gt; authors;    \n}\n</code></pre>\n<p><strong>Author.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\npublic class Author {\n    \n    @Id\n    ... other related annotation\n    private Long authorId;\n\n    ... other related properties name, gender, age etc.\n\n    @ManyToMany(...)\n    private List&lt;Book&gt; books;\n}\n</code></pre>\n<p>Then your <code>BookRepository.java</code> should contain a method like following</p>\n<p><strong>BookRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BookRepository extends JPARepository&lt;Book, Long&gt; {\n    \n    @Query(&quot;SELECT book FROM Book book&quot;\n           + &quot; WHERE SIZE(book.authors) &gt; 1&quot;)\n    public List&lt;Book&gt; bookWithMultipleAuthor();\n}\n</code></pre>\n"}],"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648625511,"creation_date":1648621017,"question_id":71672359,"body_markdown":"I did an JPA n:m structure where books(id, name) and authors(id, lastname) has a n:m Relation with a self-made table (bookAuthors) inbetween which has (book.id, authors.id) as combined pk.\r\n\r\nNow I want to do a JPQL Querie where all books with more then one author will be returned.\r\n\r\nI tried a few SELECTs but none of them worked.\r\nSo you have an idea how to JPQL-SELECT auch a query?\r\n\r\nThanks in advance\r\nSut","title":"JPQL SELECT where more than one n:m per left-table entry exists","body":"<p>I did an JPA n:m structure where books(id, name) and authors(id, lastname) has a n:m Relation with a self-made table (bookAuthors) inbetween which has (book.id, authors.id) as combined pk.</p>\n<p>Now I want to do a JPQL Querie where all books with more then one author will be returned.</p>\n<p>I tried a few SELECTs but none of them worked.\nSo you have an idea how to JPQL-SELECT auch a query?</p>\n<p>Thanks in advance\nSut</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1603203893,"creation_date":1603203893,"answer_id":64447227,"question_id":64446770,"body_markdown":"`spring.kafka.listener.type=batch` (Vs. `single` - the default).\r\n\r\nThe Boot documentation could use some improvement.","title":"Spring kafka integration properties for batch listener using application.yml/properties","body":"<p><code>spring.kafka.listener.type=batch</code> (Vs. <code>single</code> - the default).</p>\n<p>The Boot documentation could use some improvement.</p>\n"}],"owner":{"account_id":11498901,"reputation":144,"user_id":8427285,"display_name":"Adil Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64447227,"answer_count":1,"score":1,"last_activity_date":1648625387,"creation_date":1603202410,"question_id":64446770,"body_markdown":"I am trying to use kafka consumer batching in spring boot app. I could see examples, where we have a kafka config class in which, `KafkaListenerContainerFactory` is configured and\r\n\r\n    ConcurrentKafkaListenerContainerFactory.setBatchListener(true);\r\n\r\nis enabled. i am just wondering if this can be achieved without a factory class, i.e by using spring kafka integration properties in application.yml. Earlier i had defined a factory and replaced it with spring kafa integration properties via application.yml for concise code. I am trying to understand if the latter has limitations and usage of a config class is preferable, as i am unable to achieve batching using spring kafa integration properties via application.yml. https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html I referred this doc to see available options. ","title":"Spring kafka integration properties for batch listener using application.yml/properties","body":"<p>I am trying to use kafka consumer batching in spring boot app. I could see examples, where we have a kafka config class in which, <code>KafkaListenerContainerFactory</code> is configured and</p>\n<pre><code>ConcurrentKafkaListenerContainerFactory.setBatchListener(true);\n</code></pre>\n<p>is enabled. i am just wondering if this can be achieved without a factory class, i.e by using spring kafka integration properties in application.yml. Earlier i had defined a factory and replaced it with spring kafa integration properties via application.yml for concise code. I am trying to understand if the latter has limitations and usage of a config class is preferable, as i am unable to achieve batching using spring kafa integration properties via application.yml. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html</a> I referred this doc to see available options.</p>\n"},{"tags":["java","algorithm","data-structures","permutation"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1648614175,"post_id":71671442,"comment_id":126666202,"body_markdown":"Please show us the code of your solution.   (For what it is worth, if you have a solution to a puzzle that runs in a practical amount of time, you don&#39;t *need* a faster solution.  Unless this is a homework exercise and they *require* the fastest possible solution for maximum marks.  And even then, you possibly shouldn&#39;t be asking for help like this ...)","body":"Please show us the code of your solution.   (For what it is worth, if you have a solution to a puzzle that runs in a practical amount of time, you don&#39;t <i>need</i> a faster solution.  Unless this is a homework exercise and they <i>require</i> the fastest possible solution for maximum marks.  And even then, you possibly shouldn&#39;t be asking for help like this ...)"},{"owner":{"account_id":23398466,"reputation":119,"user_id":17462019,"display_name":"Learningstill"},"score":0,"creation_date":1648617339,"post_id":71671442,"comment_id":126666778,"body_markdown":"This is not a homework exercise and I am not only interested in a faster solution, I would also like to know if there is a different approach to the problem than mine. That&#39;s all.","body":"This is not a homework exercise and I am not only interested in a faster solution, I would also like to know if there is a different approach to the problem than mine. That&#39;s all."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648614607,"creation_date":1648614607,"answer_id":71671514,"question_id":71671442,"body_markdown":"One approach can be two find two highest digits, and keeping them in the left most place and than do the opposite for remaining 2nd place.\r\n\r\nfor example:\r\n\r\nif you have number 1234, the highest digits are 3 and 4 so lets keep them on first position, and for remaining 2 do the same so numbers will be:\r\n\r\n(41*32) = 1312\r\n\r\nso here you see 1312 is highest number possible ","title":"How to arrange the digits of a number such that when I break it into two numbers of equal digits the product of the two numbers is maximum?","body":"<p>One approach can be two find two highest digits, and keeping them in the left most place and than do the opposite for remaining 2nd place.</p>\n<p>for example:</p>\n<p>if you have number 1234, the highest digits are 3 and 4 so lets keep them on first position, and for remaining 2 do the same so numbers will be:</p>\n<p>(41*32) = 1312</p>\n<p>so here you see 1312 is highest number possible</p>\n"},{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648619451,"creation_date":1648618361,"answer_id":71671976,"question_id":71671442,"body_markdown":"Let&#39;s look at a smaller problem first. For variables `x,y`, you are given\r\n```\r\nx + y = c (constant)\r\n```\r\nThe question is, when will `x*y` be maximum? It can be solved in many ways, one of them being [differential math][1]. Long story short, the closer `x` and `y` are to each other, the larger their product is.\r\n\r\n### How to apply this to your problem?\r\n\r\n1. Take the largest digits in the set, assign them to the numbers (let them be `A` and `B`)\r\n2. As soon as one number becomes bigger than the other (let `A&gt;B`), assign the remaining digits to maximise `B` (larger digits in descending order). For `A` we use the remaining smaller digits to make the largest number out of them. Assigning the larger digits to `B` is done to make it closer to `A`.\r\n\r\n##### Example #1\r\nNumber = 123456\r\nTaking largest digits, `A = 6 and B = 5`. Now, we will greedily maximise `B`, so the numbers become `A = 621 and B = 543`\r\n\r\n##### Example #2\r\nNumber = 88871256\r\nTaking largest digits, `A = 8 and B = 8`. Since they&#39;re still equal, we repeat step 1, so `A = 88 and B = 87`.  Now, we will greedily maximise `B`, so the numbers become `A = 8821 and B = 8765`.\r\n\r\nSince this is a rather straightforward problem, adding any implementation seems unnecessary.\r\n\r\n  [1]: https://qr.ae/pvyjEP","title":"How to arrange the digits of a number such that when I break it into two numbers of equal digits the product of the two numbers is maximum?","body":"<p>Let's look at a smaller problem first. For variables <code>x,y</code>, you are given</p>\n<pre><code>x + y = c (constant)\n</code></pre>\n<p>The question is, when will <code>x*y</code> be maximum? It can be solved in many ways, one of them being <a href=\"https://qr.ae/pvyjEP\" rel=\"nofollow noreferrer\">differential math</a>. Long story short, the closer <code>x</code> and <code>y</code> are to each other, the larger their product is.</p>\n<h3>How to apply this to your problem?</h3>\n<ol>\n<li>Take the largest digits in the set, assign them to the numbers (let them be <code>A</code> and <code>B</code>)</li>\n<li>As soon as one number becomes bigger than the other (let <code>A&gt;B</code>), assign the remaining digits to maximise <code>B</code> (larger digits in descending order). For <code>A</code> we use the remaining smaller digits to make the largest number out of them. Assigning the larger digits to <code>B</code> is done to make it closer to <code>A</code>.</li>\n</ol>\n<h5>Example #1</h5>\n<p>Number = 123456\nTaking largest digits, <code>A = 6 and B = 5</code>. Now, we will greedily maximise <code>B</code>, so the numbers become <code>A = 621 and B = 543</code></p>\n<h5>Example #2</h5>\n<p>Number = 88871256\nTaking largest digits, <code>A = 8 and B = 8</code>. Since they're still equal, we repeat step 1, so <code>A = 88 and B = 87</code>.  Now, we will greedily maximise <code>B</code>, so the numbers become <code>A = 8821 and B = 8765</code>.</p>\n<p>Since this is a rather straightforward problem, adding any implementation seems unnecessary.</p>\n"}],"owner":{"account_id":23398466,"reputation":119,"user_id":17462019,"display_name":"Learningstill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71671976,"answer_count":2,"score":0,"last_activity_date":1648625311,"creation_date":1648613950,"question_id":71671442,"body_markdown":"*Example: If I take the number 4544, then the maximum product I get is 2376 when I rearrange the digits as 5444.\r\n (54 x 44) = 2376 which is greater than (45 x 44) = 1980*\r\n\r\nMy approach for solving the problem was to permute the number in all possible ways, divide it into two parts and then find the max product from there. Is there a faster way to solve the problem or is a completely different approach to the problem is possible?\r\n\r\nHere&#39;s my code:\r\n``` java\r\n import java.util.*;\r\nclass MaxProduct\r\n{\r\n\tstatic int maxprod = 0;\r\n\tpublic static void main(String args[])\r\n\t{\r\n\tScanner sc = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter a no&quot;);\r\n\tString n = sc.next();\r\n\tpermute(n,0);\r\n\tSystem.out.println(&quot;Max Product is &quot;+maxprod);\r\n\t}\r\n\tpublic static void permute(String s,int i)\r\n\t{\r\n\t\t     if( i==s.length()-1)\r\n\t\t {\r\n\t\t\tint a = Integer.parseInt(s.substring(0,i/2+1));\r\n\t\t\tint b = Integer.parseInt(s.substring(i/2+1));\r\n\t\t\tmaxprod = Math.max(a*b,maxprod);\r\n\t\t }\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t    for(int k=i;k&lt;s.length();k++)\r\n\t\t        {\r\n                          s =swapelement(s,k,i); \r\n                          permute(s,i+1);\r\n\t                      s=swapelement(s,k,i);\r\n\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\t   public static String swapelement(String a,int i, int j)\r\n\t\t\t{\r\n\t\t\t\tchar x[]=a.toCharArray();\r\n\t\t\t\tchar ch = x[i];\r\n\t\t\t\tx[i]=x[j];\r\n\t\t\t\tx[j]=ch;\r\n\t\t\t\treturn String.valueOf(x);\r\n\t\t\t}\r\n}\r\n```\r\n\r\nThank you!","title":"How to arrange the digits of a number such that when I break it into two numbers of equal digits the product of the two numbers is maximum?","body":"<p><em>Example: If I take the number 4544, then the maximum product I get is 2376 when I rearrange the digits as 5444.\n(54 x 44) = 2376 which is greater than (45 x 44) = 1980</em></p>\n<p>My approach for solving the problem was to permute the number in all possible ways, divide it into two parts and then find the max product from there. Is there a faster way to solve the problem or is a completely different approach to the problem is possible?</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> import java.util.*;\nclass MaxProduct\n{\n    static int maxprod = 0;\n    public static void main(String args[])\n    {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter a no&quot;);\n    String n = sc.next();\n    permute(n,0);\n    System.out.println(&quot;Max Product is &quot;+maxprod);\n    }\n    public static void permute(String s,int i)\n    {\n             if( i==s.length()-1)\n         {\n            int a = Integer.parseInt(s.substring(0,i/2+1));\n            int b = Integer.parseInt(s.substring(i/2+1));\n            maxprod = Math.max(a*b,maxprod);\n         }\n            else \n            {\n            for(int k=i;k&lt;s.length();k++)\n                {\n                          s =swapelement(s,k,i); \n                          permute(s,i+1);\n                          s=swapelement(s,k,i);\n            }\n            }\n    }\n       public static String swapelement(String a,int i, int j)\n            {\n                char x[]=a.toCharArray();\n                char ch = x[i];\n                x[i]=x[j];\n                x[j]=ch;\n                return String.valueOf(x);\n            }\n}\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":1,"creation_date":1648624189,"post_id":71672701,"comment_id":126668421,"body_markdown":"With the limited knowledge that I have: Whenever you login, a session is created and it would expire when the driver is quit/closed, and hence every time you run the tests, it opens a new session - and everything is brand new to a new session - so, it goes to login again. Either you should keep the session open for all tests or you should have an API that keeps you logged in from the background and if you have any such, you can pass it into your code.","body":"With the limited knowledge that I have: Whenever you login, a session is created and it would expire when the driver is quit/closed, and hence every time you run the tests, it opens a new session - and everything is brand new to a new session - so, it goes to login again. Either you should keep the session open for all tests or you should have an API that keeps you logged in from the background and if you have any such, you can pass it into your code."},{"owner":{"account_id":24549959,"reputation":1,"user_id":18459232,"display_name":"mami col"},"score":0,"creation_date":1648625075,"post_id":71672701,"comment_id":126668694,"body_markdown":"Thanks - I need something more specific to solve it","body":"Thanks - I need something more specific to solve it"}],"owner":{"account_id":24549959,"reputation":1,"user_id":18459232,"display_name":"mami col"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648625293,"creation_date":1648622937,"question_id":71672701,"body_markdown":"I want to run my tests when I am logged in already\r\nEvery time when I run the URL its ask me to log in again (When I make it handy its OK).\r\n\r\nIs there any way to pass this stage of login ?\r\nAny way with token or something else ?\r\n\r\nThanks","title":"How to access site when I am already login selenium","body":"<p>I want to run my tests when I am logged in already\nEvery time when I run the URL its ask me to log in again (When I make it handy its OK).</p>\n<p>Is there any way to pass this stage of login ?\nAny way with token or something else ?</p>\n<p>Thanks</p>\n"},{"tags":["java","dictionary","localdatetime"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648569715,"post_id":71664836,"comment_id":126655728,"body_markdown":"What is the type of `resultMap`?  If it&#39;s a `NavigableMap`, that&#39;ll be more helpful than another map.","body":"What is the type of <code>resultMap</code>?  If it&#39;s a <code>NavigableMap</code>, that&#39;ll be more helpful than another map."},{"owner":{"account_id":49339,"reputation":34902,"user_id":146857,"accept_rate":96,"display_name":"ACP"},"score":1,"creation_date":1648571190,"post_id":71664836,"comment_id":126656296,"body_markdown":"@LouisWasserman Edited the question. I am actally using Java 11.. I think navigableMap can be used here.. Can help how to find the nearest key of the current time to get its value ?","body":"@LouisWasserman Edited the question. I am actally using Java 11.. I think navigableMap can be used here.. Can help how to find the nearest key of the current time to get its value ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1648573624,"post_id":71664836,"comment_id":126657125,"body_markdown":"Use `ceilingKey` and `floorKey`.","body":"Use <code>ceilingKey</code> and <code>floorKey</code>."}],"answers":[{"tags":[],"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648570318,"creation_date":1648569325,"answer_id":71665212,"question_id":71664836,"body_markdown":"First idea:\r\nIf you know that all the time values in your map are either 00 min or 30 min\r\nYou could try to work on a currentTimeRoundedToTheNext00or30min value that will exist in your map.\r\n\r\nEx: (pseudo code as i&#39;m not familiar with LocalDateTime)\r\n\r\n    LocalDateTime currentTimeRoundedToTheNext00or30min = currentTime;\r\n    if (0 &lt; currentTime.minutes &lt; 30) {\r\n        currentTimeRoundedToTheNext00or30min.setMinutes(30);\r\n    } else {\r\n        currentTimeRoundedToTheNext00or30min.setMinutes(0);\r\n        currentTimeRoundedToTheNext00or30min.addHour(1);\r\n    }\r\n    int result = yourMap.get(currentTimeRoundedToTheNext00or30min);\r\n\r\n\r\nSecond idea:\r\nIf the time values used as keys in your map are sorted, your need can also be seen as &quot;finding the first key of the map that is greater than the current time&quot;. By going through the map keys, comparing the key to the currentTime, and getting out of the loop as soon as one is greater than your tested currentTime value, you can solve the issue\r\n\r\nThird idea: Without even using the map, there is a simple way of finding the expected value based on currentTime&#39;s hour and minute values. (also pseudo code as i&#39;m not sure of syntaxes using LocalDateTime functions)\r\n\r\n    LocalDateTime currentTime = LocalDateTime.now();\r\n    Integer result = currentTime.getHours() * 2;\r\n    if (0 &lt; currentTime.getMinutes() &lt;= 30) {\r\n        result += 1;\r\n    } else {\r\n        result += 2;\r\n    }\r\n\r\nThis can be seen as &quot;counting the number of 30-minutes sections that have been started since the beginning of the day&quot;","title":"How to find the nearest LocalDateTime to the given time among the Keys of a Map","body":"<p>First idea:\nIf you know that all the time values in your map are either 00 min or 30 min\nYou could try to work on a currentTimeRoundedToTheNext00or30min value that will exist in your map.</p>\n<p>Ex: (pseudo code as i'm not familiar with LocalDateTime)</p>\n<pre><code>LocalDateTime currentTimeRoundedToTheNext00or30min = currentTime;\nif (0 &lt; currentTime.minutes &lt; 30) {\n    currentTimeRoundedToTheNext00or30min.setMinutes(30);\n} else {\n    currentTimeRoundedToTheNext00or30min.setMinutes(0);\n    currentTimeRoundedToTheNext00or30min.addHour(1);\n}\nint result = yourMap.get(currentTimeRoundedToTheNext00or30min);\n</code></pre>\n<p>Second idea:\nIf the time values used as keys in your map are sorted, your need can also be seen as &quot;finding the first key of the map that is greater than the current time&quot;. By going through the map keys, comparing the key to the currentTime, and getting out of the loop as soon as one is greater than your tested currentTime value, you can solve the issue</p>\n<p>Third idea: Without even using the map, there is a simple way of finding the expected value based on currentTime's hour and minute values. (also pseudo code as i'm not sure of syntaxes using LocalDateTime functions)</p>\n<pre><code>LocalDateTime currentTime = LocalDateTime.now();\nInteger result = currentTime.getHours() * 2;\nif (0 &lt; currentTime.getMinutes() &lt;= 30) {\n    result += 1;\n} else {\n    result += 2;\n}\n</code></pre>\n<p>This can be seen as &quot;counting the number of 30-minutes sections that have been started since the beginning of the day&quot;</p>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648570400,"creation_date":1648570400,"answer_id":71665486,"question_id":71664836,"body_markdown":"To find if the current LocalDateTime falls in between the times \r\nit is possible to use  \r\n[LocalDateTime::isBefore](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isBefore-java.time.chrono.ChronoLocalDateTime-) along with [Duration::between](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-). As the first step we can find out all dates that happened before the current time and among these dates, we can find out the ones that happened within last 15 seconds (or any other meaningful time slot). \r\n\r\nSomething similar to \r\n```\r\nresultMap.entrySet().stream()\r\n.filter( entry -&gt; { \r\n  val now = LocalDateTime.now(); \r\n   return (entry.getKey() == now) || entry.getKey().isBefore(now) &amp;&amp; \r\n          Duration.between(entry.getKey(),now()).toSeconds() == 15)\r\n)\r\n.forEach( entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n\r\n```","title":"How to find the nearest LocalDateTime to the given time among the Keys of a Map","body":"<p>To find if the current LocalDateTime falls in between the times\nit is possible to use<br />\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isBefore-java.time.chrono.ChronoLocalDateTime-\" rel=\"nofollow noreferrer\">LocalDateTime::isBefore</a> along with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">Duration::between</a>. As the first step we can find out all dates that happened before the current time and among these dates, we can find out the ones that happened within last 15 seconds (or any other meaningful time slot).</p>\n<p>Something similar to</p>\n<pre><code>resultMap.entrySet().stream()\n.filter( entry -&gt; { \n  val now = LocalDateTime.now(); \n   return (entry.getKey() == now) || entry.getKey().isBefore(now) &amp;&amp; \n          Duration.between(entry.getKey(),now()).toSeconds() == 15)\n)\n.forEach( entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648574804,"creation_date":1648574804,"answer_id":71666368,"question_id":71664836,"body_markdown":"You’re correct that [NavigableMap](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/NavigableMap.html) is a good approach:\r\n\r\n    NavigableMap&lt;LocalDateTime, Integer&gt; sorted = new TreeMap&lt;&gt;(resultMap);\r\n    Map.Entry&lt;LocalDateTime, Integer&gt; next = sorted.ceilingEntry(targetTime);\r\n\r\n    OptionalInt match;\r\n    if (next != null) {\r\n        match = OptionalInt.of(next.getValue());\r\n    } else {\r\n        match = OptionalInt.empty();\r\n    }\r\n\r\nI’m not sure if this is the exact logic you want, but you can study the javadoc of `ceilingEntry`, `floorEntry`, `higherEntry` and `lowerEntry` and choose the ones that fit your need.\r\n","title":"How to find the nearest LocalDateTime to the given time among the Keys of a Map","body":"<p>You’re correct that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\">NavigableMap</a> is a good approach:</p>\n<pre><code>NavigableMap&lt;LocalDateTime, Integer&gt; sorted = new TreeMap&lt;&gt;(resultMap);\nMap.Entry&lt;LocalDateTime, Integer&gt; next = sorted.ceilingEntry(targetTime);\n\nOptionalInt match;\nif (next != null) {\n    match = OptionalInt.of(next.getValue());\n} else {\n    match = OptionalInt.empty();\n}\n</code></pre>\n<p>I’m not sure if this is the exact logic you want, but you can study the javadoc of <code>ceilingEntry</code>, <code>floorEntry</code>, <code>higherEntry</code> and <code>lowerEntry</code> and choose the ones that fit your need.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648624902,"creation_date":1648576014,"answer_id":71666622,"question_id":71664836,"body_markdown":"You can retrieve the value in **O(log n)** time by utilizing a `TreeMap`.\r\n\r\nTo find out which *dateTime* object is the closet to the given, we need to compare the two *keys*:\r\n* `lo` - obtained with `floorKey()` (`&lt;=` to the given *dateTime*);\r\n* `hi` - obtained with `ceilingKey()` (`&gt;=` to the given *dateTime*).\r\n\r\nTo compare the `lo` and `hi` we can make use of the `Duration` class, which models the quantity of time. Its static method `between()` allows to get a `Duration` object representing the interval between the two *temporal* objects.\r\n\r\nBelow is a complete example of how it can be achieved:\r\n```\r\npublic class DataTimeStorage {\r\n    private final NavigableMap&lt;LocalDateTime, Integer&gt; storage = new TreeMap&lt;&gt;();\r\n\r\n    public int getClosest(LocalDateTime dateTime) {\r\n        LocalDateTime lo = storage.floorKey(dateTime);\r\n        LocalDateTime hi = storage.ceilingKey(dateTime);\r\n\r\n        if (lo == null &amp;&amp; hi == null) throw new IllegalArgumentException();\r\n        if (lo == null) return storage.get(hi);\r\n        if (hi == null) return storage.get(lo);\r\n\r\n        return diffInMillis(lo, dateTime) &lt; diffInMillis(dateTime, hi) ?\r\n                storage.get(lo) : storage.get(hi);\r\n    }\r\n\r\n    public long diffInMillis(LocalDateTime dateTime1, LocalDateTime dateTime2) {\r\n        return Duration.between(dateTime1, dateTime2).toMillis();\r\n    }\r\n\r\n    public void addItemsForDay(LocalDate day) {\r\n        int count = 0;\r\n        for (LocalDateTime i = day.atTime(0, 0);\r\n             i.toLocalDate().equals(day);\r\n             i = i.plusMinutes(30))\r\n            storage.put(i, count++);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return storage.toString();\r\n    }\r\n}\r\n```\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        DataTimeStorage storage = new DataTimeStorage();\r\n\r\n        storage.addItemsForDay(LocalDate.of(2022,03,29));\r\n        System.out.println(storage.getClosest(\r\n                LocalDateTime.of(2022,03,29,01,27)));\r\n    }\r\n\r\n**Output**\r\n```\r\n3\r\n```","title":"How to find the nearest LocalDateTime to the given time among the Keys of a Map","body":"<p>You can retrieve the value in <strong>O(log n)</strong> time by utilizing a <code>TreeMap</code>.</p>\n<p>To find out which <em>dateTime</em> object is the closet to the given, we need to compare the two <em>keys</em>:</p>\n<ul>\n<li><code>lo</code> - obtained with <code>floorKey()</code> (<code>&lt;=</code> to the given <em>dateTime</em>);</li>\n<li><code>hi</code> - obtained with <code>ceilingKey()</code> (<code>&gt;=</code> to the given <em>dateTime</em>).</li>\n</ul>\n<p>To compare the <code>lo</code> and <code>hi</code> we can make use of the <code>Duration</code> class, which models the quantity of time. Its static method <code>between()</code> allows to get a <code>Duration</code> object representing the interval between the two <em>temporal</em> objects.</p>\n<p>Below is a complete example of how it can be achieved:</p>\n<pre><code>public class DataTimeStorage {\n    private final NavigableMap&lt;LocalDateTime, Integer&gt; storage = new TreeMap&lt;&gt;();\n\n    public int getClosest(LocalDateTime dateTime) {\n        LocalDateTime lo = storage.floorKey(dateTime);\n        LocalDateTime hi = storage.ceilingKey(dateTime);\n\n        if (lo == null &amp;&amp; hi == null) throw new IllegalArgumentException();\n        if (lo == null) return storage.get(hi);\n        if (hi == null) return storage.get(lo);\n\n        return diffInMillis(lo, dateTime) &lt; diffInMillis(dateTime, hi) ?\n                storage.get(lo) : storage.get(hi);\n    }\n\n    public long diffInMillis(LocalDateTime dateTime1, LocalDateTime dateTime2) {\n        return Duration.between(dateTime1, dateTime2).toMillis();\n    }\n\n    public void addItemsForDay(LocalDate day) {\n        int count = 0;\n        for (LocalDateTime i = day.atTime(0, 0);\n             i.toLocalDate().equals(day);\n             i = i.plusMinutes(30))\n            storage.put(i, count++);\n    }\n\n    @Override\n    public String toString() {\n        return storage.toString();\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    DataTimeStorage storage = new DataTimeStorage();\n\n    storage.addItemsForDay(LocalDate.of(2022,03,29));\n    System.out.println(storage.getClosest(\n            LocalDateTime.of(2022,03,29,01,27)));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>3\n</code></pre>\n"}],"owner":{"account_id":49339,"reputation":34902,"user_id":146857,"accept_rate":96,"display_name":"ACP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1648624902,"creation_date":1648567654,"question_id":71664836,"body_markdown":"Currently, I have a *map* with the below entries:\r\n\r\n    Map&lt;LocalDateTime, Integer&gt; resultMap = new HashMap&lt;LocalDateTime, Integer&gt;();\r\n     //Put localdatetime and 30mins split indicator\r\n\r\n      for(Map.Entry&lt;LocalDateTime, Integer&gt; entry: resultMap.entrySet()) {\r\n\t\t  System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n\t  }\r\n\r\n      2022-03-29T00:30 : 1\r\n      2022-03-29T01:00 : 2\r\n      2022-03-29T01:30 : 3\r\n      2022-03-29T02:00 : 4\r\n      2022-03-29T02:30 : 5\r\n      2022-03-29T03:00 : 6\r\n      2022-03-29T03:30 : 7\r\n      .\r\n      .\r\n      .\r\n      2022-03-29T23:30 : 47\r\n      2022-03-30T00:00 : 48\r\n\r\nHow do I find if the current `LocalDateTime` falls in between the times? \r\n\r\nFor example, if the current time is `2022-03-29T01:27` need to get the value `3`. \r\n\r\nI was able to do it with an *iterator*. Any other efficient way to do this?\r\n\r\n    Iterator keyIterator = resultMap.entrySet().iterator(); \r\n\t  Map.Entry&lt;LocalDateTime, Integer&gt; perviousEntry = new AbstractMap.SimpleEntry&lt;LocalDateTime, Integer&gt;(null, 0); \r\n\t  while(keyIterator.hasNext()) {\r\n    \t\t  Map.Entry&lt;LocalDateTime, Integer&gt; NextEntry = \r\n                   (Entry&lt;LocalDateTime, Integer&gt;) keyIterator.next();\r\n    \t\t  if(null != perviousEntry.getKey()) {\r\n    \t\t\t  if(LocalDateTime.now().isBefore(NextEntry.getKey()) &amp;&amp; LocalDateTime.now().isAfter(perviousEntry.getKey())){\r\n    \t\t\t\t  System.out.println(NextEntry.getKey() + &quot; Value : &quot; + NextEntry.getValue());\r\n    \t\t\t  }\r\n    \t\t  }\r\n    \t\t  perviousEntry = NextEntry; \r\n\t  }","title":"How to find the nearest LocalDateTime to the given time among the Keys of a Map","body":"<p>Currently, I have a <em>map</em> with the below entries:</p>\n<pre><code>Map&lt;LocalDateTime, Integer&gt; resultMap = new HashMap&lt;LocalDateTime, Integer&gt;();\n //Put localdatetime and 30mins split indicator\n\n  for(Map.Entry&lt;LocalDateTime, Integer&gt; entry: resultMap.entrySet()) {\n      System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n  }\n\n  2022-03-29T00:30 : 1\n  2022-03-29T01:00 : 2\n  2022-03-29T01:30 : 3\n  2022-03-29T02:00 : 4\n  2022-03-29T02:30 : 5\n  2022-03-29T03:00 : 6\n  2022-03-29T03:30 : 7\n  .\n  .\n  .\n  2022-03-29T23:30 : 47\n  2022-03-30T00:00 : 48\n</code></pre>\n<p>How do I find if the current <code>LocalDateTime</code> falls in between the times?</p>\n<p>For example, if the current time is <code>2022-03-29T01:27</code> need to get the value <code>3</code>.</p>\n<p>I was able to do it with an <em>iterator</em>. Any other efficient way to do this?</p>\n<pre><code>Iterator keyIterator = resultMap.entrySet().iterator(); \n  Map.Entry&lt;LocalDateTime, Integer&gt; perviousEntry = new AbstractMap.SimpleEntry&lt;LocalDateTime, Integer&gt;(null, 0); \n  while(keyIterator.hasNext()) {\n          Map.Entry&lt;LocalDateTime, Integer&gt; NextEntry = \n               (Entry&lt;LocalDateTime, Integer&gt;) keyIterator.next();\n          if(null != perviousEntry.getKey()) {\n              if(LocalDateTime.now().isBefore(NextEntry.getKey()) &amp;&amp; LocalDateTime.now().isAfter(perviousEntry.getKey())){\n                  System.out.println(NextEntry.getKey() + &quot; Value : &quot; + NextEntry.getValue());\n              }\n          }\n          perviousEntry = NextEntry; \n  }\n</code></pre>\n"},{"tags":["java","android","android-layout","layout"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648358410,"creation_date":1648358410,"answer_id":71633879,"question_id":71632788,"body_markdown":"You shouldn&#39;t be making separate versions of that for each Activity.  That should be a single custom View, with one view set as the selected view which gets a dark background.  Then you just need to include that custom view in each of the 3 activities with the proper view set as selected.  Then you have 1 java class defining the custom view, 1 xml file defining the layout of this view, and in each activity&#39;s xml file you include this view.","title":"How can do I create layout for each activity in Android?","body":"<p>You shouldn't be making separate versions of that for each Activity.  That should be a single custom View, with one view set as the selected view which gets a dark background.  Then you just need to include that custom view in each of the 3 activities with the proper view set as selected.  Then you have 1 java class defining the custom view, 1 xml file defining the layout of this view, and in each activity's xml file you include this view.</p>\n"},{"tags":[],"owner":{"account_id":11281908,"reputation":61,"user_id":8273992,"display_name":"Muheeb Mehraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648624882,"creation_date":1648624882,"answer_id":71673068,"question_id":71632788,"body_markdown":"The best way to handle this scenario would be to use 3 fragments instead of Activities. That way the bottombar will be common and you can control its views directly in the activity. \r\nYou can use viewPager or Navigation Component to manage the navigation between the Fragments.\r\nYou can checkout this [link][1] for Navigation Components\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-ui#bottom_navigation","title":"How can do I create layout for each activity in Android?","body":"<p>The best way to handle this scenario would be to use 3 fragments instead of Activities. That way the bottombar will be common and you can control its views directly in the activity.\nYou can use viewPager or Navigation Component to manage the navigation between the Fragments.\nYou can checkout this <a href=\"https://developer.android.com/guide/navigation/navigation-ui#bottom_navigation\" rel=\"nofollow noreferrer\">link</a> for Navigation Components</p>\n"}],"owner":{"display_name":"user18504539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71633879,"answer_count":2,"score":0,"last_activity_date":1648624882,"creation_date":1648339928,"question_id":71632788,"body_markdown":"I specially created a bottom bar design. I have 3 activities and for each activity, the background of the menu in this bottom bar will change, for example; While the user is in 1.activty, the background of the 1st menu in the bottomBar will change, then the background of the 2nd menu in the bottomBar will change when in 2.activty\r\n\r\n\r\nit is very difficult to do this for every activity and sometimes it can get messy so I want to make a design and a module where this design is managed. but i don&#39;t know how i can do this.. i would be very happy if you give an example. (whichever button is pressed needs to go to that activity and change the background) Please review;\r\n\r\n[Activity 1][1]\r\n\r\n[Activity 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z0Bmp.png\r\n  [2]: https://i.stack.imgur.com/rKy3P.png","title":"How can do I create layout for each activity in Android?","body":"<p>I specially created a bottom bar design. I have 3 activities and for each activity, the background of the menu in this bottom bar will change, for example; While the user is in 1.activty, the background of the 1st menu in the bottomBar will change, then the background of the 2nd menu in the bottomBar will change when in 2.activty</p>\n<p>it is very difficult to do this for every activity and sometimes it can get messy so I want to make a design and a module where this design is managed. but i don't know how i can do this.. i would be very happy if you give an example. (whichever button is pressed needs to go to that activity and change the background) Please review;</p>\n<p><a href=\"https://i.stack.imgur.com/z0Bmp.png\" rel=\"nofollow noreferrer\">Activity 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/rKy3P.png\" rel=\"nofollow noreferrer\">Activity 2</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1648623194,"post_id":71672506,"comment_id":126668140,"body_markdown":"Thank you for the report of what you did. Where is the question?","body":"Thank you for the report of what you did. Where is the question?"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1648624061,"post_id":71672506,"comment_id":126668389,"body_markdown":"`toString()` is a method that **every** class inherits from `Object`. Its main purpose is to override it (like you do) It&#39;s not static and so you can&#39;t implement a static version of it either.","body":"<code>toString()</code> is a method that <b>every</b> class inherits from <code>Object</code>. Its main purpose is to override it (like you do) It&#39;s not static and so you can&#39;t implement a static version of it either."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648624421,"creation_date":1648624421,"answer_id":71672976,"question_id":71672506,"body_markdown":"I suggest not to make the methods static nor the members of class `TwoDMethods`. Here is my suggested code. It is basically your code with occurrences of `static` removed plus I added a constructor. The constructor initializes the class members. Note that you had an error in method `toString` in this line:\r\n```java\r\nmethod2 += String.format(&quot;%8.2f&quot;, array[row][col]) + &quot; &quot;;\r\n```\r\nIt should be:\r\n```java\r\nmethod2 += String.format(&quot;%8.2f&quot;, array[i][j]) + &quot; &quot;;\r\n```\r\nI changed it in the below code.\r\n```java\r\npublic class TwoDMethods {\r\n\tint row, col;\r\n\tdouble sumRow, sumCol;\r\n\tdouble[][] array = new double[row][col];\r\n\r\n\tpublic TwoDMethods(int numRows, int numColumns) {\r\n\t\trow = numRows;\r\n\t\tcol = numColumns;\r\n\t\tarray = new double[row][col];\r\n\t}\r\n\r\n\tpublic void fill() {\r\n\t\tfor (int i = 0; i &lt; row; i++) {\r\n\t\t\tfor (int j = 0; j &lt; col; j++)\r\n\t\t\t\tarray[i][j] = (double) (Math.random() * 100.00);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tString method2 = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; array[i].length; j++) {\r\n\t\t\t\tmethod2 += String.format(&quot;%8.2f&quot;, array[i][j]) + &quot; &quot;;\r\n\t\t\t}\r\n\t\t\tmethod2 += &quot;\\n&quot;;\r\n\t\t}\r\n\t\treturn method2;\r\n\t}\r\n\r\n\tpublic double[] sumRows() {\r\n\t\tdouble[] rowArray = new double[row];\r\n\t\tfor (int i = 0; i &lt; row; i++) {\r\n\t\t\tsumRow = 0;\r\n\t\t\tfor (int j = 0; j &lt; col; j++) {\r\n\t\t\t\tsumRow = sumRow + array[i][j];\r\n\t\t\t}\r\n\t\t\trowArray[i] = sumRow;\r\n\t\t}\r\n\t\treturn rowArray;\r\n\t}\r\n\r\n\tpublic double[] sumColumns() {\r\n\t\tdouble[] colArray = new double[col];\r\n\t\tfor (int i = 0; i &lt; col; i++) {\r\n\t\t\tsumCol = 0;\r\n\t\t\tfor (int j = 0; j &lt; row; j++) {\r\n\t\t\t\tsumCol = sumCol + array[j][i];\r\n\t\t\t}\r\n\t\t\tcolArray[i] = sumCol;\r\n\t\t}\r\n\t\treturn colArray;\r\n\t}\r\n\r\n\tpublic double minValue() {\r\n\t\tdouble minValue = array[0][0];\r\n\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\tfor (int i = 0; i &lt; array[j].length; i++) {\r\n\t\t\t\tif (array[j][i] &lt; minValue) {\r\n\t\t\t\t\tminValue = array[j][i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn minValue;\r\n\t}\r\n\r\n\tpublic double maxValue() {\r\n\t\tdouble maxValue = array[0][0];\r\n\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\tfor (int i = 0; i &lt; array[j].length; i++) {\r\n\t\t\t\tif (array[j][i] &gt; maxValue) {\r\n\t\t\t\t\tmaxValue = array[j][i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxValue;\r\n\t}\r\n}\r\n```\r\nAnd here is the class you requested, `TwoDTest`.\r\n```java\r\npublic class TwoDTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tif (args.length &lt; 2) {\r\n\t\t\tSystem.out.println(&quot;Usage: TwoDTest row cols&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tint numRows = Integer.parseInt(args[0]);\r\n\t\t\tint numColumns = Integer.parseInt(args[1]);\r\n\t\t    TwoDMethods twoD = new TwoDMethods(numRows, numColumns);\r\n\t\t    twoD.fill();\r\n\t\t    System.out.print(twoD);\r\n\t\t    System.out.println(&quot;Column sums:&quot;);\r\n\t\t    double[] sumColumns = twoD.sumColumns();\r\n\t\t    for (double sum : sumColumns) {\r\n\t\t    \tSystem.out.printf(&quot;%8.2f &quot;, sum);\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t\t    System.out.println(&quot;Row sums:&quot;);\r\n\t\t    double[] sumRows = twoD.sumRows();\r\n\t\t    for (double sum : sumRows) {\r\n\t\t    \tSystem.out.printf(&quot;%8.2f &quot;, sum);\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t\t    System.out.println(&quot;Smallest number: &quot; + twoD.minValue());\r\n\t\t    System.out.println(&quot;Largest number: &quot; + twoD.maxValue());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI launch class `TwoDTest` as follows:\r\n```none\r\njava TwoDTest 3 4\r\n```\r\nAnd I get the following output:\r\n```none\r\n   96.83    11.96    50.86    43.26 \r\n   89.06    84.86    30.68    59.61 \r\n   63.51    96.09    49.93    32.19 \r\nColumn sums:\r\n  249.39   192.92   131.47   135.05 \r\nRow sums:\r\n  202.90   264.21   241.72 \r\nSmallest number: 11.962167522763945\r\nLargest number: 96.82621497529537\r\n```\r\n","title":"Uses command line arguments to accept the desired number of rows and columns in java","body":"<p>I suggest not to make the methods static nor the members of class <code>TwoDMethods</code>. Here is my suggested code. It is basically your code with occurrences of <code>static</code> removed plus I added a constructor. The constructor initializes the class members. Note that you had an error in method <code>toString</code> in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>method2 += String.format(&quot;%8.2f&quot;, array[row][col]) + &quot; &quot;;\n</code></pre>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>method2 += String.format(&quot;%8.2f&quot;, array[i][j]) + &quot; &quot;;\n</code></pre>\n<p>I changed it in the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TwoDMethods {\n    int row, col;\n    double sumRow, sumCol;\n    double[][] array = new double[row][col];\n\n    public TwoDMethods(int numRows, int numColumns) {\n        row = numRows;\n        col = numColumns;\n        array = new double[row][col];\n    }\n\n    public void fill() {\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++)\n                array[i][j] = (double) (Math.random() * 100.00);\n        }\n    }\n\n    public String toString() {\n        String method2 = &quot;&quot;;\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array[i].length; j++) {\n                method2 += String.format(&quot;%8.2f&quot;, array[i][j]) + &quot; &quot;;\n            }\n            method2 += &quot;\\n&quot;;\n        }\n        return method2;\n    }\n\n    public double[] sumRows() {\n        double[] rowArray = new double[row];\n        for (int i = 0; i &lt; row; i++) {\n            sumRow = 0;\n            for (int j = 0; j &lt; col; j++) {\n                sumRow = sumRow + array[i][j];\n            }\n            rowArray[i] = sumRow;\n        }\n        return rowArray;\n    }\n\n    public double[] sumColumns() {\n        double[] colArray = new double[col];\n        for (int i = 0; i &lt; col; i++) {\n            sumCol = 0;\n            for (int j = 0; j &lt; row; j++) {\n                sumCol = sumCol + array[j][i];\n            }\n            colArray[i] = sumCol;\n        }\n        return colArray;\n    }\n\n    public double minValue() {\n        double minValue = array[0][0];\n        for (int j = 0; j &lt; array.length; j++) {\n            for (int i = 0; i &lt; array[j].length; i++) {\n                if (array[j][i] &lt; minValue) {\n                    minValue = array[j][i];\n                }\n            }\n        }\n        return minValue;\n    }\n\n    public double maxValue() {\n        double maxValue = array[0][0];\n        for (int j = 0; j &lt; array.length; j++) {\n            for (int i = 0; i &lt; array[j].length; i++) {\n                if (array[j][i] &gt; maxValue) {\n                    maxValue = array[j][i];\n                }\n            }\n        }\n        return maxValue;\n    }\n}\n</code></pre>\n<p>And here is the class you requested, <code>TwoDTest</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TwoDTest {\n\n    public static void main(String[] args) {\n        if (args.length &lt; 2) {\n            System.out.println(&quot;Usage: TwoDTest row cols&quot;);\n        }\n        else {\n            int numRows = Integer.parseInt(args[0]);\n            int numColumns = Integer.parseInt(args[1]);\n            TwoDMethods twoD = new TwoDMethods(numRows, numColumns);\n            twoD.fill();\n            System.out.print(twoD);\n            System.out.println(&quot;Column sums:&quot;);\n            double[] sumColumns = twoD.sumColumns();\n            for (double sum : sumColumns) {\n                System.out.printf(&quot;%8.2f &quot;, sum);\n            }\n            System.out.println();\n            System.out.println(&quot;Row sums:&quot;);\n            double[] sumRows = twoD.sumRows();\n            for (double sum : sumRows) {\n                System.out.printf(&quot;%8.2f &quot;, sum);\n            }\n            System.out.println();\n            System.out.println(&quot;Smallest number: &quot; + twoD.minValue());\n            System.out.println(&quot;Largest number: &quot; + twoD.maxValue());\n        }\n    }\n}\n</code></pre>\n<p>I launch class <code>TwoDTest</code> as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java TwoDTest 3 4\n</code></pre>\n<p>And I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   96.83    11.96    50.86    43.26 \n   89.06    84.86    30.68    59.61 \n   63.51    96.09    49.93    32.19 \nColumn sums:\n  249.39   192.92   131.47   135.05 \nRow sums:\n  202.90   264.21   241.72 \nSmallest number: 11.962167522763945\nLargest number: 96.82621497529537\n</code></pre>\n"}],"owner":{"account_id":24741945,"reputation":11,"user_id":18628589,"display_name":"Yihan Tang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648624421,"creation_date":1648621969,"question_id":71672506,"body_markdown":"it contains two java classes: TwoDMethods.java and TwoDTest.java\r\n\r\nfor TwoDMethods.java \r\n\r\n1. The fill method fills the entire array with randomly-selected double values \r\nbetween 0.0 and 100.0\r\n2. The toString method returns a string representation of the two-dimensional \r\narray, with the rows separated by &quot;\\n&quot; and the columns vertically aligned \r\n3. The sumColumns method returns a one-dimensional array containing the sum \r\nof each column of the given two-dimensional array\r\n4. The sumRows method returns a one-dimensional array containing the sum of \r\neach row of the given two-dimensional array\r\n5. The minValue method returns the smallest number in the given array\r\n6. The maxValue method returns the largest number in the given array\r\n\r\nI finished TwoDMethods.java but I am not sure how to write TwoDTest.java\r\n\r\nand all methods should be static but the toString method always goes wrong when I add static.\r\n\r\nFor example, in TwoDTest.java using the following command:\r\n\r\njava TwoDTest 3 4\r\n\r\nthe output will be:\r\n\r\n    toString() result:\r\n        \r\n        41.23 72.99 8.60  38.62\r\n        70.32 52.00 38.63 90.60\r\n        72.98 6.54  94.50 91.34\r\n\r\n    Column sums:\r\n        \r\n        184.53 131.54 141.73 220.56\r\n\r\n    Row sums:\r\n        \r\n        161.45 251.55 265.36\r\n\r\n        Smallest number: 6.54\r\n        Largest number:  94.50\r\n\r\n\r\n\r\nthis is TwoDMethods.java:\r\n\r\n    public class TwoDMethods {\r\n\r\n    static int row, col;\r\n    static double sumRow, sumCol;\r\n\r\n    static double[][] array = new double[row][col];\r\n\r\n    public static void fill() {\r\n        for (int i = 0; i &lt; row; i++) {\r\n            for (int j = 0; j &lt; col; j++)\r\n                array[i][j] = (double) (Math.random() * 100.00);\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        String method2 =&quot;&quot;;\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            for (int j = 0; j &lt; array[i].length; j++) {\r\n                method2 += String.format(&quot;%8.2f&quot;, array[row][col]) + &quot; &quot;;\r\n            }\r\n            method2 += &quot;\\n&quot;;\r\n        }\r\n        return method2;\r\n    }\r\n\r\n    public static double[] sumRows() {\r\n        double[] rowArray = new double[row];\r\n        for (int i = 0; i &lt; row; i++) {\r\n            sumRow = 0;\r\n            for (int j = 0; j &lt; col; j++) {\r\n                sumRow = sumRow + array[i][j];\r\n            }\r\n            rowArray[i] = sumRow;\r\n        }\r\n        return rowArray;\r\n    }\r\n\r\n    public static double[] sumColumns() {\r\n        double[] colArray = new double[col];\r\n\r\n        for (int i = 0; i &lt; col; i++) {\r\n            sumCol = 0;\r\n            for (int j = 0; j &lt; row; j++) {\r\n                sumCol = sumCol + array[j][i];\r\n            }\r\n            colArray[i] = sumCol;\r\n        }\r\n        return colArray;\r\n    }\r\n\r\n    public static double minValue() {\r\n        double minValue = array[0][0];\r\n        for (int j = 0; j &lt; array.length; j++) {\r\n            for (int i = 0; i &lt; array[j].length; i++) {\r\n                if (array[j][i] &lt; minValue) {\r\n                    minValue = array[j][i];\r\n                }\r\n            }\r\n        }\r\n        return minValue;\r\n    }\r\n\r\n    public static double maxValue() {\r\n        double maxValue = array[0][0];\r\n        for (int j = 0; j &lt; array.length; j++) {\r\n            for (int i = 0; i &lt; array[j].length; i++) {\r\n                if (array[j][i] &gt; maxValue) {\r\n                    maxValue = array[j][i];\r\n                }\r\n            }\r\n        }\r\n        return maxValue;\r\n    }\r\n\r\n\r\n}\r\n\r\n","title":"Uses command line arguments to accept the desired number of rows and columns in java","body":"<p>it contains two java classes: TwoDMethods.java and TwoDTest.java</p>\n<p>for TwoDMethods.java</p>\n<ol>\n<li>The fill method fills the entire array with randomly-selected double values\nbetween 0.0 and 100.0</li>\n<li>The toString method returns a string representation of the two-dimensional\narray, with the rows separated by &quot;\\n&quot; and the columns vertically aligned</li>\n<li>The sumColumns method returns a one-dimensional array containing the sum\nof each column of the given two-dimensional array</li>\n<li>The sumRows method returns a one-dimensional array containing the sum of\neach row of the given two-dimensional array</li>\n<li>The minValue method returns the smallest number in the given array</li>\n<li>The maxValue method returns the largest number in the given array</li>\n</ol>\n<p>I finished TwoDMethods.java but I am not sure how to write TwoDTest.java</p>\n<p>and all methods should be static but the toString method always goes wrong when I add static.</p>\n<p>For example, in TwoDTest.java using the following command:</p>\n<p>java TwoDTest 3 4</p>\n<p>the output will be:</p>\n<pre><code>toString() result:\n    \n    41.23 72.99 8.60  38.62\n    70.32 52.00 38.63 90.60\n    72.98 6.54  94.50 91.34\n\nColumn sums:\n    \n    184.53 131.54 141.73 220.56\n\nRow sums:\n    \n    161.45 251.55 265.36\n\n    Smallest number: 6.54\n    Largest number:  94.50\n</code></pre>\n<p>this is TwoDMethods.java:</p>\n<pre><code>public class TwoDMethods {\n\nstatic int row, col;\nstatic double sumRow, sumCol;\n\nstatic double[][] array = new double[row][col];\n\npublic static void fill() {\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; col; j++)\n            array[i][j] = (double) (Math.random() * 100.00);\n    }\n}\n\npublic String toString() {\n    String method2 =&quot;&quot;;\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array[i].length; j++) {\n            method2 += String.format(&quot;%8.2f&quot;, array[row][col]) + &quot; &quot;;\n        }\n        method2 += &quot;\\n&quot;;\n    }\n    return method2;\n}\n\npublic static double[] sumRows() {\n    double[] rowArray = new double[row];\n    for (int i = 0; i &lt; row; i++) {\n        sumRow = 0;\n        for (int j = 0; j &lt; col; j++) {\n            sumRow = sumRow + array[i][j];\n        }\n        rowArray[i] = sumRow;\n    }\n    return rowArray;\n}\n\npublic static double[] sumColumns() {\n    double[] colArray = new double[col];\n\n    for (int i = 0; i &lt; col; i++) {\n        sumCol = 0;\n        for (int j = 0; j &lt; row; j++) {\n            sumCol = sumCol + array[j][i];\n        }\n        colArray[i] = sumCol;\n    }\n    return colArray;\n}\n\npublic static double minValue() {\n    double minValue = array[0][0];\n    for (int j = 0; j &lt; array.length; j++) {\n        for (int i = 0; i &lt; array[j].length; i++) {\n            if (array[j][i] &lt; minValue) {\n                minValue = array[j][i];\n            }\n        }\n    }\n    return minValue;\n}\n\npublic static double maxValue() {\n    double maxValue = array[0][0];\n    for (int j = 0; j &lt; array.length; j++) {\n        for (int i = 0; i &lt; array[j].length; i++) {\n            if (array[j][i] &gt; maxValue) {\n                maxValue = array[j][i];\n            }\n        }\n    }\n    return maxValue;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","asynchronous","exception","completable-future"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1648592237,"post_id":71668871,"comment_id":126662664,"body_markdown":"Have you tried throwing an unchecked exception?","body":"Have you tried throwing an unchecked exception?"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648592360,"post_id":71668871,"comment_id":126662691,"body_markdown":"Have you tried catching the checked exceptions that Helper.throwIfNotExpected is declared as throwing?   If it&#39;s &quot;throws Exception&quot; then you need to &quot;catch Exception&quot; (or Throwable, but I&#39;d suggest not going wider than you need).","body":"Have you tried catching the checked exceptions that Helper.throwIfNotExpected is declared as throwing?   If it&#39;s &quot;throws Exception&quot; then you need to &quot;catch Exception&quot; (or Throwable, but I&#39;d suggest not going wider than you need)."},{"owner":{"account_id":8472402,"reputation":55,"user_id":6354559,"display_name":"sagar vasekar"},"score":0,"creation_date":1648594553,"post_id":71668871,"comment_id":126663135,"body_markdown":"Helper.throwIfNotExpected() &quot;throws ServiceException&quot;.","body":"Helper.throwIfNotExpected() &quot;throws ServiceException&quot;."},{"owner":{"account_id":8472402,"reputation":55,"user_id":6354559,"display_name":"sagar vasekar"},"score":0,"creation_date":1648594619,"post_id":71668871,"comment_id":126663149,"body_markdown":"Throwing unchecked exception gives me same error.","body":"Throwing unchecked exception gives me same error."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1648655925,"post_id":71668871,"comment_id":126681496,"body_markdown":"Side note: when you have a `Supplier` and call a method expecting a `Supplier`, just pass the `Supplier`, i.e. use `supplyAsync(call)` instead of `supplyAsync(call::get)`","body":"Side note: when you have a <code>Supplier</code> and call a method expecting a <code>Supplier</code>, just pass the <code>Supplier</code>, i.e. use <code>supplyAsync(call)</code> instead of <code>supplyAsync(call::get)</code>"}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648624291,"creation_date":1648624291,"answer_id":71672946,"question_id":71668871,"body_markdown":"A good way to work around the shortcoming of `CompletableFuture` regarding checked exceptions is to delegate to another `CompletableFuture` instance. For your example it would look like something along the lines of\r\n\r\n    protected CompletableFuture&lt;Response&gt; executeAsync(Supplier&lt;Response&gt; call) {\r\n        CompletableFuture&lt;Response&gt; delegate = new CompletableFuture&lt;&gt;();\r\n\r\n        CompletableFuture\r\n            .supplyAsync(call)\r\n            .whenCompleteAsync((response, exception) -&gt; {\r\n                if (exception == null) {\r\n                    try {\r\n                        Helper.throwIfNotExpected(clientProperties.getName(), response, null);\r\n                        delegate.complete(response);\r\n                    } catch (ServiceException e) {\r\n                        delegate.completeExceptionally(new ServiceException(null,e.getMessage(),null));\r\n                    }\r\n                } else {\r\n                    log.error(&quot;Async API call failed.&quot;, exception);\r\n                    delegate.completeExceptionally(exception);\r\n                }\r\n            });\r\n\r\n        return delegate;\r\n    }\r\n","title":"CompletableFuture: whenCompleteAsync() does not let me re-throw an Exception","body":"<p>A good way to work around the shortcoming of <code>CompletableFuture</code> regarding checked exceptions is to delegate to another <code>CompletableFuture</code> instance. For your example it would look like something along the lines of</p>\n<pre><code>protected CompletableFuture&lt;Response&gt; executeAsync(Supplier&lt;Response&gt; call) {\n    CompletableFuture&lt;Response&gt; delegate = new CompletableFuture&lt;&gt;();\n\n    CompletableFuture\n        .supplyAsync(call)\n        .whenCompleteAsync((response, exception) -&gt; {\n            if (exception == null) {\n                try {\n                    Helper.throwIfNotExpected(clientProperties.getName(), response, null);\n                    delegate.complete(response);\n                } catch (ServiceException e) {\n                    delegate.completeExceptionally(new ServiceException(null,e.getMessage(),null));\n                }\n            } else {\n                log.error(&quot;Async API call failed.&quot;, exception);\n                delegate.completeExceptionally(exception);\n            }\n        });\n\n    return delegate;\n}\n</code></pre>\n"}],"owner":{"account_id":8472402,"reputation":55,"user_id":6354559,"display_name":"sagar vasekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71672946,"answer_count":1,"score":2,"last_activity_date":1648624291,"creation_date":1648588661,"question_id":71668871,"body_markdown":"I am new to the world of CompletableFuture. I am trying to do some negative tests, in a way that will allow me to throw an exception intentionally. This exception will decide the PASS/FAIL.\r\n\r\nHere&#39;s the code snippet:\r\n\r\n```\r\n    protected CompletableFuture&lt;Response&gt; executeAsync(@NonNull Supplier&lt;Response&gt; call) {\r\n        return CompletableFuture\r\n                .supplyAsync(call::get)\r\n                .whenCompleteAsync((response, exception) -&gt; {\r\n                    if (exception == null) {\r\n                        try {\r\n                            Helper.throwIfNotExpected(clientProperties.getName(), response, null);\r\n                        } catch (ServiceException e) {\r\n                            throw new ServiceException(null,e.getMessage(),null);\r\n                        }\r\n                    } else {\r\n                        log.error(&quot;Async API call failed.&quot;, exception);\r\n                    }\r\n                });\r\n    }\r\n```\r\n\r\nThis gives me an error saying **unhandled exception** in catch part. I looked up examples and documentation but could not find much information about Exception handling in supplyAsync/whenCompleteAsync. Thanks in advance.","title":"CompletableFuture: whenCompleteAsync() does not let me re-throw an Exception","body":"<p>I am new to the world of CompletableFuture. I am trying to do some negative tests, in a way that will allow me to throw an exception intentionally. This exception will decide the PASS/FAIL.</p>\n<p>Here's the code snippet:</p>\n<pre><code>    protected CompletableFuture&lt;Response&gt; executeAsync(@NonNull Supplier&lt;Response&gt; call) {\n        return CompletableFuture\n                .supplyAsync(call::get)\n                .whenCompleteAsync((response, exception) -&gt; {\n                    if (exception == null) {\n                        try {\n                            Helper.throwIfNotExpected(clientProperties.getName(), response, null);\n                        } catch (ServiceException e) {\n                            throw new ServiceException(null,e.getMessage(),null);\n                        }\n                    } else {\n                        log.error(&quot;Async API call failed.&quot;, exception);\n                    }\n                });\n    }\n</code></pre>\n<p>This gives me an error saying <strong>unhandled exception</strong> in catch part. I looked up examples and documentation but could not find much information about Exception handling in supplyAsync/whenCompleteAsync. Thanks in advance.</p>\n"},{"tags":["java","android","time","timer"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1648600777,"post_id":71670261,"comment_id":126664215,"body_markdown":"Then that code needs to be called in its own thread.","body":"Then that code needs to be called in its own thread."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1648600900,"post_id":71670261,"comment_id":126664234,"body_markdown":"Other options include use of a timer of some type, such as `java.util.Timer` along with `java.util.TimerTask`, or if a Swing GUI. I don&#39;t know if there is an android-specific similar construct but wouldn&#39;t be surprised if there were.","body":"Other options include use of a timer of some type, such as <code>java.util.Timer</code> along with <code>java.util.TimerTask</code>, or if a Swing GUI. I don&#39;t know if there is an android-specific similar construct but wouldn&#39;t be surprised if there were."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648622223,"post_id":71670261,"comment_id":126667899,"body_markdown":"I re-opened this Question because the [alleged original](https://stackoverflow.com/q/14366777/642706) is specific to Swing. This Question here is about Java in general rather than Swing specifically. Answers here will not involve `SwingWorker`, `SwingTimer`, etc.","body":"I re-opened this Question because the <a href=\"https://stackoverflow.com/q/14366777/642706\">alleged original</a> is specific to Swing. This Question here is about Java in general rather than Swing specifically. Answers here will not involve <code>SwingWorker</code>, <code>SwingTimer</code>, etc."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648622389,"post_id":71670261,"comment_id":126667937,"body_markdown":"&quot;When using Thread.sleep and TimeUnit, the entire application is paused&quot;: no it isn&#39;t. On;y the current thread. Unclear what you&#39;re asking.","body":"&quot;When using Thread.sleep and TimeUnit, the entire application is paused&quot;: no it isn&#39;t. On;y the current thread. Unclear what you&#39;re asking."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648622562,"post_id":71670261,"comment_id":126667985,"body_markdown":"@user207421 I presume that the OP has not started any threads. So sleeping the one and only thread will indeed sleep the entire app.","body":"@user207421 I presume that the OP has not started any threads. So sleeping the one and only thread will indeed sleep the entire app."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648624214,"creation_date":1648622453,"answer_id":71672612,"question_id":71670261,"body_markdown":"# Background thread\r\n\r\nUse the executors framework in Java to launch your lengthy task in a background thread. When that task blocks, the original main thread will still be continuing to run without pause.\r\n\r\nDefine your task as a `Runnable` or `Callable`. You can do this as a separate class, a named nested class, an anonymous class, or as a lambda. Here is an example of the lambda approach. \r\n\r\n    Runnable task = () -&gt; {   // lambda expression\r\n        int i = 0 ;\r\n        while ( i &lt; 100 ) {\r\n            i++;\r\n            try { Thread.sleep( 1_000 ); } catch ( InterruptedException e ) { System.out.println( e ); }  // Sleep to simulate a workload that takes some time.\r\n            System.out.println( i );    \r\n        }\r\n    };\r\n\r\nIn real code you would check for interruption state, and bail out of the `for` loop, if appropriate. Ditto for responding to an `InterruptedException`.\r\n\r\nInstantiate an executor service by using the `Executors` utility class. Likely a single-threaded executor will be suitable to your case.\r\n\r\nSubmit an instance of your task to the executor service. \r\n\r\nKeep a reference to the executor service if your app might be able to reuse it. \r\n\r\nBefore your app exits, be sure to gracefully shutdown your executor service. Otherwise its backing pool of threads may continue running indefinitely, like a zombie &#129503;‍♂️. See Javadoc for full example code.\r\n\r\nAll this has been covered many times already on Stack Overflow. Search for `ExecutorService` and `Executors` classes to learn more.\r\n","title":"How to use Thread.sleep for only one function in Java?","body":"<h1>Background thread</h1>\n<p>Use the executors framework in Java to launch your lengthy task in a background thread. When that task blocks, the original main thread will still be continuing to run without pause.</p>\n<p>Define your task as a <code>Runnable</code> or <code>Callable</code>. You can do this as a separate class, a named nested class, an anonymous class, or as a lambda. Here is an example of the lambda approach.</p>\n<pre><code>Runnable task = () -&gt; {   // lambda expression\n    int i = 0 ;\n    while ( i &lt; 100 ) {\n        i++;\n        try { Thread.sleep( 1_000 ); } catch ( InterruptedException e ) { System.out.println( e ); }  // Sleep to simulate a workload that takes some time.\n        System.out.println( i );    \n    }\n};\n</code></pre>\n<p>In real code you would check for interruption state, and bail out of the <code>for</code> loop, if appropriate. Ditto for responding to an <code>InterruptedException</code>.</p>\n<p>Instantiate an executor service by using the <code>Executors</code> utility class. Likely a single-threaded executor will be suitable to your case.</p>\n<p>Submit an instance of your task to the executor service.</p>\n<p>Keep a reference to the executor service if your app might be able to reuse it.</p>\n<p>Before your app exits, be sure to gracefully shutdown your executor service. Otherwise its backing pool of threads may continue running indefinitely, like a zombie 🧟‍♂️. See Javadoc for full example code.</p>\n<p>All this has been covered many times already on Stack Overflow. Search for <code>ExecutorService</code> and <code>Executors</code> classes to learn more.</p>\n"}],"owner":{"account_id":24189199,"reputation":11,"user_id":18148605,"display_name":"RD1706"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1648624214,"creation_date":1648600560,"question_id":71670261,"body_markdown":"When using Thread.sleep and TimeUnit, the entire application is paused, but I need the pause to be only inside the function, that is:\r\n\r\n    while (i&lt;100) {\r\n        i++;\r\n        &quot;Sleep one second&quot;\r\n        System.out.println(i);    \r\n    }\r\n\r\nThere is an example?","title":"How to use Thread.sleep for only one function in Java?","body":"<p>When using Thread.sleep and TimeUnit, the entire application is paused, but I need the pause to be only inside the function, that is:</p>\n<pre><code>while (i&lt;100) {\n    i++;\n    &quot;Sleep one second&quot;\n    System.out.println(i);    \n}\n</code></pre>\n<p>There is an example?</p>\n"},{"tags":["java","android","canvas","android-bitmap"],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648623987,"creation_date":1648623987,"answer_id":71672883,"question_id":71603071,"body_markdown":"Please use below code for removing rough edges from bitmap\r\n\r\n    canvas.drawBitmap(bitmap, x, y, new Paint(Paint.ANTI_ALIAS_FLAG));\r\n\r\nuse the Paint.ANTI_ALIAS_FLAG flag, this flag is used for removing the  jagged edges and smooth the edges","title":"Bitmap is created with rough edges","body":"<p>Please use below code for removing rough edges from bitmap</p>\n<pre><code>canvas.drawBitmap(bitmap, x, y, new Paint(Paint.ANTI_ALIAS_FLAG));\n</code></pre>\n<p>use the Paint.ANTI_ALIAS_FLAG flag, this flag is used for removing the  jagged edges and smooth the edges</p>\n"}],"owner":{"account_id":19066430,"reputation":143,"user_id":13921452,"display_name":"WebDiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648623987,"creation_date":1648127203,"question_id":71603071,"body_markdown":"So I am using this library https://github.com/uptechteam/MotionViews-Android/ for creating bitmaps, which can be resized and dragged around just like snapchat/instagram stickers. But the problem is that the bitmaps that are generated are not smooth and have rough edges like this:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L7tZF.jpg\r\n\r\nAs you can see the text are somewhat distorted and the background has rough edges. Here is the code for generating the bitmap:\r\n```\r\n/**\r\n     * If reuseBmp is not null, and size of the new bitmap matches the size of the reuseBmp,\r\n     * new bitmap won&#39;t be created, reuseBmp it will be reused instead\r\n     *\r\n     * @param textLayer text to draw\r\n     * @param reuseBmp  the bitmap that will be reused\r\n     * @return bitmap with the text\r\n     */\r\n    @NonNull\r\n    private Bitmap createBitmap(@NonNull TextLayer textLayer, @Nullable Bitmap reuseBmp) {\r\n\r\n        int boundsWidth = canvasWidth;\r\n        int alignment = textLayer.getFont().getAlignment();\r\n        int style = textLayer.getFont().getStyle();\r\n\r\n        // init params - size, color, typeface\r\n        if (style == STYLE_UNDERLINE) {\r\n            textPaint.setFlags(Paint.UNDERLINE_TEXT_FLAG);\r\n        } else {\r\n            textPaint.setFlags(0);\r\n        }\r\n        textPaint.setAntiAlias(true);\r\n        textPaint.setDither(false);\r\n        textPaint.setElegantTextHeight(true);\r\n        textPaint.setStyle(Paint.Style.FILL);\r\n        textPaint.setTextSize(textLayer.getFont().getSize() * canvasWidth);\r\n        textPaint.setColor(textLayer.getFont().getColor());\r\n        textPaint.setTypeface(fontProvider.getTypeface(textLayer.getFont().getTypeface()));\r\n        textBackgroundColor = textLayer.getFont().getBackgroundColor();\r\n        // drawing text guide : http://ivankocijan.xyz/android-drawing-multiline-text-on-canvas/\r\n        // Static layout which will be drawn on canvas\r\n        Layout.Alignment layoutAlignment;\r\n        if (alignment == ALIGNMENT_LEFT) {\r\n            layoutAlignment = Layout.Alignment.ALIGN_NORMAL;\r\n        } else if (alignment == ALIGNMENT_RIGHT) {\r\n            layoutAlignment = Layout.Alignment.ALIGN_OPPOSITE;\r\n        } else {\r\n            layoutAlignment = Layout.Alignment.ALIGN_CENTER;\r\n        }\r\n        StaticLayout sl;\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\r\n            sl = new StaticLayout(\r\n                    textLayer.getText(), // - text which will be drawn\r\n                    textPaint,\r\n                    boundsWidth, // - width of the layout\r\n                    layoutAlignment, // - layout alignment\r\n                    1, // 1 - text spacing multiply\r\n                    1, // 1 - text spacing add\r\n                    true); // true - include padding\r\n        } else {\r\n            StaticLayout.Builder builder = StaticLayout.Builder.obtain(textLayer.getText(), 0, textLayer.getText().length(), textPaint, boundsWidth)\r\n                    .setAlignment(layoutAlignment)\r\n                    .setLineSpacing(1, 1)\r\n                    .setIncludePad(true);\r\n            sl = builder.build();\r\n        }\r\n        // calculate height for the entity, min - Limits.MIN_BITMAP_HEIGHT\r\n        int boundsHeight = sl.getHeight();\r\n        // create bitmap not smaller than TextLayer.Limits.MIN_BITMAP_HEIGHT\r\n        int bmpHeight = (int) (canvasHeight * Math.max(TextLayer.Limits.MIN_BITMAP_HEIGHT,\r\n                1.0F * boundsHeight / canvasHeight));\r\n        // create bitmap where text will be drawn\r\n        Bitmap bmp;\r\n        if (reuseBmp != null &amp;&amp; reuseBmp.getWidth() == boundsWidth\r\n                &amp;&amp; reuseBmp.getHeight() == bmpHeight) {\r\n            // if previous bitmap exists, and it&#39;s width/height is the same - reuse it\r\n            bmp = reuseBmp;\r\n            bmp.eraseColor(Color.TRANSPARENT); // erase color when reusing\r\n        } else {\r\n            bmp = Bitmap.createBitmap(boundsWidth, bmpHeight, Bitmap.Config.ARGB_8888);\r\n        }\r\n        Canvas canvas = new Canvas(bmp);\r\n        final Rect rect = new Rect(0, 0, bmp.getWidth(), bmp.getHeight());\r\n        final RectF rectF = new RectF(rect);\r\n        final Paint textBackgroundPaint = new Paint();\r\n        textBackgroundPaint.setFlags(Paint.FILTER_BITMAP_FLAG | Paint.ANTI_ALIAS_FLAG);\r\n        textBackgroundPaint.setDither(false);\r\n        textBackgroundPaint.setColor(textBackgroundColor);\r\n        textBackgroundPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n        textBackgroundPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC));\r\n        canvas.drawRoundRect(rectF, textBackgroundRadius, textBackgroundRadius, textBackgroundPaint);\r\n        canvas.drawBitmap(bmp, rect, rect, textBackgroundPaint);\r\n        canvas.save();\r\n        // move text to center if bitmap is bigger that text\r\n        if (boundsHeight &lt; bmpHeight) {\r\n            //calculate Y coordinate - In this case we want to draw the text in the\r\n            //center of the canvas so we move Y coordinate to center.\r\n            float textYCoordinate = (float) (bmpHeight - boundsHeight) / 2;\r\n            canvas.translate(0, textYCoordinate);\r\n        }\r\n        //draws static layout on canvas\r\n        sl.draw(canvas);\r\n        canvas.restore();\r\n\r\n        return bmp;\r\n    }\r\n```\r\nI tried using antialias, filterbitmap on the paint but it does nothing. Also tried setting the view&#39;s layer type to layer_type_software but the result is the same. How to fix this? Any help would be appreciated.","title":"Bitmap is created with rough edges","body":"<p>So I am using this library <a href=\"https://github.com/uptechteam/MotionViews-Android/\" rel=\"nofollow noreferrer\">https://github.com/uptechteam/MotionViews-Android/</a> for creating bitmaps, which can be resized and dragged around just like snapchat/instagram stickers. But the problem is that the bitmaps that are generated are not smooth and have rough edges like this:</p>\n<p><a href=\"https://i.stack.imgur.com/L7tZF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L7tZF.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the text are somewhat distorted and the background has rough edges. Here is the code for generating the bitmap:</p>\n<pre><code>/**\n     * If reuseBmp is not null, and size of the new bitmap matches the size of the reuseBmp,\n     * new bitmap won't be created, reuseBmp it will be reused instead\n     *\n     * @param textLayer text to draw\n     * @param reuseBmp  the bitmap that will be reused\n     * @return bitmap with the text\n     */\n    @NonNull\n    private Bitmap createBitmap(@NonNull TextLayer textLayer, @Nullable Bitmap reuseBmp) {\n\n        int boundsWidth = canvasWidth;\n        int alignment = textLayer.getFont().getAlignment();\n        int style = textLayer.getFont().getStyle();\n\n        // init params - size, color, typeface\n        if (style == STYLE_UNDERLINE) {\n            textPaint.setFlags(Paint.UNDERLINE_TEXT_FLAG);\n        } else {\n            textPaint.setFlags(0);\n        }\n        textPaint.setAntiAlias(true);\n        textPaint.setDither(false);\n        textPaint.setElegantTextHeight(true);\n        textPaint.setStyle(Paint.Style.FILL);\n        textPaint.setTextSize(textLayer.getFont().getSize() * canvasWidth);\n        textPaint.setColor(textLayer.getFont().getColor());\n        textPaint.setTypeface(fontProvider.getTypeface(textLayer.getFont().getTypeface()));\n        textBackgroundColor = textLayer.getFont().getBackgroundColor();\n        // drawing text guide : http://ivankocijan.xyz/android-drawing-multiline-text-on-canvas/\n        // Static layout which will be drawn on canvas\n        Layout.Alignment layoutAlignment;\n        if (alignment == ALIGNMENT_LEFT) {\n            layoutAlignment = Layout.Alignment.ALIGN_NORMAL;\n        } else if (alignment == ALIGNMENT_RIGHT) {\n            layoutAlignment = Layout.Alignment.ALIGN_OPPOSITE;\n        } else {\n            layoutAlignment = Layout.Alignment.ALIGN_CENTER;\n        }\n        StaticLayout sl;\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n            sl = new StaticLayout(\n                    textLayer.getText(), // - text which will be drawn\n                    textPaint,\n                    boundsWidth, // - width of the layout\n                    layoutAlignment, // - layout alignment\n                    1, // 1 - text spacing multiply\n                    1, // 1 - text spacing add\n                    true); // true - include padding\n        } else {\n            StaticLayout.Builder builder = StaticLayout.Builder.obtain(textLayer.getText(), 0, textLayer.getText().length(), textPaint, boundsWidth)\n                    .setAlignment(layoutAlignment)\n                    .setLineSpacing(1, 1)\n                    .setIncludePad(true);\n            sl = builder.build();\n        }\n        // calculate height for the entity, min - Limits.MIN_BITMAP_HEIGHT\n        int boundsHeight = sl.getHeight();\n        // create bitmap not smaller than TextLayer.Limits.MIN_BITMAP_HEIGHT\n        int bmpHeight = (int) (canvasHeight * Math.max(TextLayer.Limits.MIN_BITMAP_HEIGHT,\n                1.0F * boundsHeight / canvasHeight));\n        // create bitmap where text will be drawn\n        Bitmap bmp;\n        if (reuseBmp != null &amp;&amp; reuseBmp.getWidth() == boundsWidth\n                &amp;&amp; reuseBmp.getHeight() == bmpHeight) {\n            // if previous bitmap exists, and it's width/height is the same - reuse it\n            bmp = reuseBmp;\n            bmp.eraseColor(Color.TRANSPARENT); // erase color when reusing\n        } else {\n            bmp = Bitmap.createBitmap(boundsWidth, bmpHeight, Bitmap.Config.ARGB_8888);\n        }\n        Canvas canvas = new Canvas(bmp);\n        final Rect rect = new Rect(0, 0, bmp.getWidth(), bmp.getHeight());\n        final RectF rectF = new RectF(rect);\n        final Paint textBackgroundPaint = new Paint();\n        textBackgroundPaint.setFlags(Paint.FILTER_BITMAP_FLAG | Paint.ANTI_ALIAS_FLAG);\n        textBackgroundPaint.setDither(false);\n        textBackgroundPaint.setColor(textBackgroundColor);\n        textBackgroundPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n        textBackgroundPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC));\n        canvas.drawRoundRect(rectF, textBackgroundRadius, textBackgroundRadius, textBackgroundPaint);\n        canvas.drawBitmap(bmp, rect, rect, textBackgroundPaint);\n        canvas.save();\n        // move text to center if bitmap is bigger that text\n        if (boundsHeight &lt; bmpHeight) {\n            //calculate Y coordinate - In this case we want to draw the text in the\n            //center of the canvas so we move Y coordinate to center.\n            float textYCoordinate = (float) (bmpHeight - boundsHeight) / 2;\n            canvas.translate(0, textYCoordinate);\n        }\n        //draws static layout on canvas\n        sl.draw(canvas);\n        canvas.restore();\n\n        return bmp;\n    }\n</code></pre>\n<p>I tried using antialias, filterbitmap on the paint but it does nothing. Also tried setting the view's layer type to layer_type_software but the result is the same. How to fix this? Any help would be appreciated.</p>\n"},{"tags":["java","log4j","log4j2","slf4j"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1648579886,"post_id":71667321,"comment_id":126659109,"body_markdown":"Please [edit] your question to include a detailed description of what you are trying to log. Also include the configuration you currently have with the pattern layout. Explain what exactly the &quot;middle part&quot; is and how it affects your logging. This kinda sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)-","body":"Please <a href=\"https://stackoverflow.com/posts/71667321/edit\">edit</a> your question to include a detailed description of what you are trying to log. Also include the configuration you currently have with the pattern layout. Explain what exactly the &quot;middle part&quot; is and how it affects your logging. This kinda sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>-"},{"owner":{"account_id":14020884,"reputation":63,"user_id":10127124,"display_name":"Ayush Gupta"},"score":0,"creation_date":1648617241,"post_id":71667321,"comment_id":126666759,"body_markdown":"@progman have edited the question a bit, kindly let me know if the current info is enough.","body":"@progman have edited the question a bit, kindly let me know if the current info is enough."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648623789,"creation_date":1648580766,"answer_id":71667545,"question_id":71667321,"body_markdown":"**UPDATE:**\r\nIt seems to be a case for SLF4J MDC (Mapped diagnostic context) (or directly Log4j ThreadContext).\r\n\r\nJava code:\r\n```\r\nMDC.put(&quot;ownId&quot;, &quot;line-0&quot; /* computeYourOwnIdHere() */);\r\nlogger.debug(&quot;A Sample Debug Message&quot;);\r\n```\r\n\r\nConfiguration pattern: \r\n```\r\n&lt;Property name=&quot;LOG_PATTERN&quot;&gt; %X{ownId} | %d{yyyy-MM-dd HH:mm:ss}{GMT+0} | %d{yyyy-MM-dd HH:mm:ss} | %p | %m%n &lt;/Property&gt;\r\n```\r\n\r\n\r\n---\r\n**previous answer:**\r\n\r\n`logger.info(&quot;message1&quot;, &quot;message2&quot;);` is just an API to build formatted log message. Since the `&quot;message1&quot;` does not contain argument placeholder `{}`, the `&quot;message2&quot;` string is simply discarded. What concrete &quot;other info coming from log4j2 pattern&quot; are you trying to insert into logging message? Your requirement to put it in the middle of message is very unusual, putting aside the question how log analyzing tools would process such a log.\r\nIf `&quot;some other info coming from log4j2 pattern&quot; message1 message2` would suffice, just use pattern `&quot;... %m&quot;` at the end and call `log.info(&quot;message1 {}&quot;,&quot;message2&quot;)`.","title":"logging multiple messages with log4j2 binded with slf4j","body":"<p><strong>UPDATE:</strong>\nIt seems to be a case for SLF4J MDC (Mapped diagnostic context) (or directly Log4j ThreadContext).</p>\n<p>Java code:</p>\n<pre><code>MDC.put(&quot;ownId&quot;, &quot;line-0&quot; /* computeYourOwnIdHere() */);\nlogger.debug(&quot;A Sample Debug Message&quot;);\n</code></pre>\n<p>Configuration pattern:</p>\n<pre><code>&lt;Property name=&quot;LOG_PATTERN&quot;&gt; %X{ownId} | %d{yyyy-MM-dd HH:mm:ss}{GMT+0} | %d{yyyy-MM-dd HH:mm:ss} | %p | %m%n &lt;/Property&gt;\n</code></pre>\n<hr />\n<p><strong>previous answer:</strong></p>\n<p><code>logger.info(&quot;message1&quot;, &quot;message2&quot;);</code> is just an API to build formatted log message. Since the <code>&quot;message1&quot;</code> does not contain argument placeholder <code>{}</code>, the <code>&quot;message2&quot;</code> string is simply discarded. What concrete &quot;other info coming from log4j2 pattern&quot; are you trying to insert into logging message? Your requirement to put it in the middle of message is very unusual, putting aside the question how log analyzing tools would process such a log.\nIf <code>&quot;some other info coming from log4j2 pattern&quot; message1 message2</code> would suffice, just use pattern <code>&quot;... %m&quot;</code> at the end and call <code>log.info(&quot;message1 {}&quot;,&quot;message2&quot;)</code>.</p>\n"}],"owner":{"account_id":14020884,"reputation":63,"user_id":10127124,"display_name":"Ayush Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71667545,"answer_count":1,"score":0,"last_activity_date":1648623789,"creation_date":1648579630,"question_id":71667321,"body_markdown":"I would like to achieve something like\r\n```\r\nLogger logger = LoggerFactory.getLogger(MyClassname.class);\r\nlogger.info(&quot;message1&quot;, &quot;message2&quot;);\r\n```\r\nThe logs should look like\r\n```\r\nmessage1 &quot;some other info coming from log4j2 pattern&quot; message2 \r\n```\r\nCurrently I an using pattern Layout to get logs in the desired format but not able to find a way that would help with the given requirement.\r\n\r\nedit:\r\nAdding a small log4j2.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n​\r\n    &lt;!-- Logging Properties --&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt; %sn | %d{yyyy-MM-dd HH:mm:ss}{GMT+0} | %d{yyyy-MM-dd HH:mm:ss} | %p | %m%n &lt;/Property&gt;\r\n&lt;!--        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;/Users/&lt;User_name&gt;/Documents/Logs&lt;/Property&gt;--&gt;\r\n    &lt;/Properties&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;debugLog&quot; fileName=&quot;app-debug.log&quot;\r\n                     filePattern=&quot;app-debug-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;ERROR&quot; maxLevel=&quot;DEBUG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n​\r\n    &lt;Loggers&gt;\r\n​\r\n        &lt;Logger name=&quot;com.example&quot; additivity=&quot;false&quot; level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;debugLog&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n​\r\n&lt;/Configuration&gt;\r\n```\r\nwe want to give each log log line an Id, instead of using %sn we want to create our own id. I am logging to multiple files and %sn uses a static counter shared across all the files.\r\n\r\nThe logs should look like\r\n```\r\nline-0 | 2022-03-30 05:00:13 | 2022-03-30 10:30:13| DEBUG | A Sample Debug Message\r\n```","title":"logging multiple messages with log4j2 binded with slf4j","body":"<p>I would like to achieve something like</p>\n<pre><code>Logger logger = LoggerFactory.getLogger(MyClassname.class);\nlogger.info(&quot;message1&quot;, &quot;message2&quot;);\n</code></pre>\n<p>The logs should look like</p>\n<pre><code>message1 &quot;some other info coming from log4j2 pattern&quot; message2 \n</code></pre>\n<p>Currently I an using pattern Layout to get logs in the desired format but not able to find a way that would help with the given requirement.</p>\n<p>edit:\nAdding a small log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n​\n    &lt;!-- Logging Properties --&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt; %sn | %d{yyyy-MM-dd HH:mm:ss}{GMT+0} | %d{yyyy-MM-dd HH:mm:ss} | %p | %m%n &lt;/Property&gt;\n&lt;!--        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;/Users/&lt;User_name&gt;/Documents/Logs&lt;/Property&gt;--&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;debugLog&quot; fileName=&quot;app-debug.log&quot;\n                     filePattern=&quot;app-debug-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;LevelRangeFilter minLevel=&quot;ERROR&quot; maxLevel=&quot;DEBUG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n​\n    &lt;Loggers&gt;\n​\n        &lt;Logger name=&quot;com.example&quot; additivity=&quot;false&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;debugLog&quot; /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n​\n&lt;/Configuration&gt;\n</code></pre>\n<p>we want to give each log log line an Id, instead of using %sn we want to create our own id. I am logging to multiple files and %sn uses a static counter shared across all the files.</p>\n<p>The logs should look like</p>\n<pre><code>line-0 | 2022-03-30 05:00:13 | 2022-03-30 10:30:13| DEBUG | A Sample Debug Message\n</code></pre>\n"},{"tags":["java","android","garbage-collection","android-sqlite"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648194542,"post_id":71613543,"comment_id":126567368,"body_markdown":"Can you tell us how is this question related to Firebase?","body":"Can you tell us how is this question related to Firebase?"},{"owner":{"account_id":12487150,"reputation":67,"user_id":9090004,"display_name":"SAID KHAMIS"},"score":0,"creation_date":1648194620,"post_id":71613543,"comment_id":126567379,"body_markdown":"i need to know if the approach of using firebase will keep me saway from the problem","body":"i need to know if the approach of using firebase will keep me saway from the problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648195722,"post_id":71613543,"comment_id":126567661,"body_markdown":"Have you tried something to check that?","body":"Have you tried something to check that?"},{"owner":{"account_id":12487150,"reputation":67,"user_id":9090004,"display_name":"SAID KHAMIS"},"score":0,"creation_date":1648209186,"post_id":71613543,"comment_id":126572310,"body_markdown":"I tried but it is same same. May be i don&#39;t know how i must send them","body":"I tried but it is same same. May be i don&#39;t know how i must send them"}],"answers":[{"tags":[],"owner":{"account_id":12487150,"reputation":67,"user_id":9090004,"display_name":"SAID KHAMIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648623789,"creation_date":1648623789,"answer_id":71672848,"question_id":71613543,"body_markdown":"I got the answer myself. I now understand the basic logic on volley. By default volley on sending request to API&#39;s it will be on the background thread but onResponseor or onErrorResponse the thread change to main thread so as we can populate datas to UI. So what i did is do those long running operation on the background thread after the response. So i changed the codes like this and it is not hanging anymore.\r\n\r\n     StringRequest stringRequest = new StringRequest(\r\n                Request.Method.POST,\r\n                clsCommon.BASE_URL + &quot;/endpoint&quot;,\r\n                new Response.Listener&lt;String&gt;(){\r\n                    @Override\r\n                    public void onResponse(String response)\r\n                    {\r\n                       //BACK TO MAIN THREAD\r\n                       ThreadPoolManager.getInstance().executeTask(new Runnable() {\r\n                           @Override\r\n                           public void run() {\r\n\r\n                       //SEND TO BACKGROUNDTHREAD\r\n                               db1.deleteData();\r\n\r\n                               try {\r\n                                   JSONObject obj = new JSONObject(response);\r\n                                   System.out.println(&quot;response&quot; + response);\r\n                                   int i ;\r\n                                   PartyMasterDetails party = null;\r\n                                   ArrayList&lt;PartyMasterDetails&gt; partylist = new ArrayList&lt;PartyMasterDetails&gt;();\r\n                                   JSONArray dataArray = obj.getJSONArray(&quot;reponseData&quot;);\r\n\r\n                                   for (i = 0; i &lt; dataArray.length(); i++) {\r\n                                       JSONObject dataobj = dataArray.getJSONObject(i);\r\n                                       GsonBuilder gsonBuilder = new GsonBuilder();\r\n                                       Gson gson = gsonBuilder.create();\r\n                                       party = gson.fromJson(dataobj.toString(),PartyMasterDetails.class);\r\n                                       db1.inserData(party,userid);\r\n                                   }\r\n\r\n                                   runOnUiThread(new Runnable() {\r\n                                       @Override\r\n                                       public void run() {\r\n                                           progressDialog.dismiss();\r\n                                       }\r\n                                   });\r\n                               }\r\n                               catch (JSONException e)\r\n                               {\r\n                                   e.printStackTrace();\r\n                               }\r\n                           }\r\n                       });\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error)\r\n                    {\r\n                        Toast.makeText(getApplicationContext(), error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        progressDialog.dismiss();\r\n                    }\r\n                })\r\n        {\r\n\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;UserId&quot;, userid);\r\n                params.put(&quot;guid&quot;, cmpguid);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(stringRequest);\r\n\r\nYou can upvote my answer. Cheers !!","title":"Background partial/sticky concurrent mark sweep GC freed 153417(8MB) on inserting huge data to SQLite","body":"<p>I got the answer myself. I now understand the basic logic on volley. By default volley on sending request to API's it will be on the background thread but onResponseor or onErrorResponse the thread change to main thread so as we can populate datas to UI. So what i did is do those long running operation on the background thread after the response. So i changed the codes like this and it is not hanging anymore.</p>\n<pre><code> StringRequest stringRequest = new StringRequest(\n            Request.Method.POST,\n            clsCommon.BASE_URL + &quot;/endpoint&quot;,\n            new Response.Listener&lt;String&gt;(){\n                @Override\n                public void onResponse(String response)\n                {\n                   //BACK TO MAIN THREAD\n                   ThreadPoolManager.getInstance().executeTask(new Runnable() {\n                       @Override\n                       public void run() {\n\n                   //SEND TO BACKGROUNDTHREAD\n                           db1.deleteData();\n\n                           try {\n                               JSONObject obj = new JSONObject(response);\n                               System.out.println(&quot;response&quot; + response);\n                               int i ;\n                               PartyMasterDetails party = null;\n                               ArrayList&lt;PartyMasterDetails&gt; partylist = new ArrayList&lt;PartyMasterDetails&gt;();\n                               JSONArray dataArray = obj.getJSONArray(&quot;reponseData&quot;);\n\n                               for (i = 0; i &lt; dataArray.length(); i++) {\n                                   JSONObject dataobj = dataArray.getJSONObject(i);\n                                   GsonBuilder gsonBuilder = new GsonBuilder();\n                                   Gson gson = gsonBuilder.create();\n                                   party = gson.fromJson(dataobj.toString(),PartyMasterDetails.class);\n                                   db1.inserData(party,userid);\n                               }\n\n                               runOnUiThread(new Runnable() {\n                                   @Override\n                                   public void run() {\n                                       progressDialog.dismiss();\n                                   }\n                               });\n                           }\n                           catch (JSONException e)\n                           {\n                               e.printStackTrace();\n                           }\n                       }\n                   });\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error)\n                {\n                    Toast.makeText(getApplicationContext(), error.getMessage(), Toast.LENGTH_SHORT).show();\n                    progressDialog.dismiss();\n                }\n            })\n    {\n\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;UserId&quot;, userid);\n            params.put(&quot;guid&quot;, cmpguid);\n            return params;\n        }\n    };\n\n    VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(stringRequest);\n</code></pre>\n<p>You can upvote my answer. Cheers !!</p>\n"}],"owner":{"account_id":12487150,"reputation":67,"user_id":9090004,"display_name":"SAID KHAMIS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648623789,"creation_date":1648194085,"question_id":71613543,"body_markdown":"I am developing an app for a certain for a certain shop. A shop has got almost 3883 customers (test data) and expected to be more than that. I am using Volley to fetch data to the app through `APIs`. After fetching the data from internet then store them to the local Database (`SQLite`) for future usage.\r\n\r\nBut during fetching the data i.e. sync from internet and storing them to local db.. the app hangs for almost 1 minute during saving them to local database. Sometimes i may lead to ANR&#39;s. \r\n\r\nAfter looking on logs i got this messages.\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KYYC.png\r\n\r\nI don&#39;t know what to do right now. Cause i tried to make those request i.e. Long running one to work on background with `ExcutorServices` but still the problem persist.\r\n\r\nLook at this \r\n\r\n    ThreadPoolManager.getInstance().executeTask(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                db1.deletepartymaster();\r\n\r\n                //-----API call for using volley method for login-----//\r\n                StringRequest stringRequest = new StringRequest(\r\n                        Request.Method.POST,\r\n                        clsCommon.BASE_URL + &quot;/endpoint&quot;,\r\n                        new Response.Listener&lt;String&gt;(){\r\n                            @Override\r\n                            public void onResponse(String response)\r\n                            {\r\n                                try\r\n                                {\r\n                                    JSONObject obj = new JSONObject(response);\r\n                                    System.out.println(&quot;response&quot; + response);\r\n                                    int i ;\r\n                                    PartyMasterDetails party = null;\r\n                                    ArrayList&lt;PartyMasterDetails&gt; partylist = new ArrayList&lt;PartyMasterDetails&gt;();\r\n                                    JSONArray dataArray = obj.getJSONArray(&quot;PartyMasterDetails&quot;);\r\n\r\n                                    for (i = 0; i &lt; dataArray.length(); i++) {\r\n                                        JSONObject dataobj = dataArray.getJSONObject(i);\r\n                                        GsonBuilder gsonBuilder = new GsonBuilder();\r\n                                        Gson gson = gsonBuilder.create();\r\n                                        party = gson.fromJson(dataobj.toString(),PartyMasterDetails.class);\r\n\r\n                                        partylist.add(party);\r\n                                        //Log.d(&quot;PartMasterDetails-&quot;,&quot;PartMaster-:&quot; + String.valueOf(partylist));\r\n                                        //-----insert data-----/\r\n                                        //db1.insertpartymasterdetails(party,userid);\r\n                                        db1.insertpartymasterdetails(partylist,userid);\r\n                                    }\r\n\r\n\r\n                                    runOnUiThread(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n                                            progressDialog.dismiss();\r\n                                        }\r\n                                    });\r\n                                }\r\n                                catch (JSONException e)\r\n                                {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        },\r\n                        new Response.ErrorListener()\r\n                        {\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error)\r\n                            {\r\n                                runOnUiThread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        Toast.makeText(getApplicationContext(), error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                        progressDialog.dismiss();\r\n                                    }\r\n                                });\r\n                            }\r\n                        })\r\n                {\r\n\r\n                    @Override\r\n                    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                        params.put(&quot;UserId&quot;, userid);\r\n                        params.put(&quot;CmpGuid&quot;, cmpguid);\r\n                        return params;\r\n                    }\r\n                };\r\n\r\n                VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(stringRequest);\r\n\r\n            }\r\n        });\r\n\r\n What could be the best way to do such a thing in order to avoid such a problem. You may propose a best way to make that think work like i want to cause sometimes i can think about `Firebase Database` or not to save the to local DB. But i need a user of the app to do operations fast without lagging.","title":"Background partial/sticky concurrent mark sweep GC freed 153417(8MB) on inserting huge data to SQLite","body":"<p>I am developing an app for a certain for a certain shop. A shop has got almost 3883 customers (test data) and expected to be more than that. I am using Volley to fetch data to the app through <code>APIs</code>. After fetching the data from internet then store them to the local Database (<code>SQLite</code>) for future usage.</p>\n<p>But during fetching the data i.e. sync from internet and storing them to local db.. the app hangs for almost 1 minute during saving them to local database. Sometimes i may lead to ANR's.</p>\n<p>After looking on logs i got this messages.</p>\n<p><a href=\"https://i.stack.imgur.com/8KYYC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8KYYC.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know what to do right now. Cause i tried to make those request i.e. Long running one to work on background with <code>ExcutorServices</code> but still the problem persist.</p>\n<p>Look at this</p>\n<pre><code>ThreadPoolManager.getInstance().executeTask(new Runnable() {\n        @Override\n        public void run() {\n\n            db1.deletepartymaster();\n\n            //-----API call for using volley method for login-----//\n            StringRequest stringRequest = new StringRequest(\n                    Request.Method.POST,\n                    clsCommon.BASE_URL + &quot;/endpoint&quot;,\n                    new Response.Listener&lt;String&gt;(){\n                        @Override\n                        public void onResponse(String response)\n                        {\n                            try\n                            {\n                                JSONObject obj = new JSONObject(response);\n                                System.out.println(&quot;response&quot; + response);\n                                int i ;\n                                PartyMasterDetails party = null;\n                                ArrayList&lt;PartyMasterDetails&gt; partylist = new ArrayList&lt;PartyMasterDetails&gt;();\n                                JSONArray dataArray = obj.getJSONArray(&quot;PartyMasterDetails&quot;);\n\n                                for (i = 0; i &lt; dataArray.length(); i++) {\n                                    JSONObject dataobj = dataArray.getJSONObject(i);\n                                    GsonBuilder gsonBuilder = new GsonBuilder();\n                                    Gson gson = gsonBuilder.create();\n                                    party = gson.fromJson(dataobj.toString(),PartyMasterDetails.class);\n\n                                    partylist.add(party);\n                                    //Log.d(&quot;PartMasterDetails-&quot;,&quot;PartMaster-:&quot; + String.valueOf(partylist));\n                                    //-----insert data-----/\n                                    //db1.insertpartymasterdetails(party,userid);\n                                    db1.insertpartymasterdetails(partylist,userid);\n                                }\n\n\n                                runOnUiThread(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        progressDialog.dismiss();\n                                    }\n                                });\n                            }\n                            catch (JSONException e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                    },\n                    new Response.ErrorListener()\n                    {\n                        @Override\n                        public void onErrorResponse(VolleyError error)\n                        {\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    Toast.makeText(getApplicationContext(), error.getMessage(), Toast.LENGTH_SHORT).show();\n                                    progressDialog.dismiss();\n                                }\n                            });\n                        }\n                    })\n            {\n\n                @Override\n                protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                    params.put(&quot;UserId&quot;, userid);\n                    params.put(&quot;CmpGuid&quot;, cmpguid);\n                    return params;\n                }\n            };\n\n            VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(stringRequest);\n\n        }\n    });\n</code></pre>\n<p>What could be the best way to do such a thing in order to avoid such a problem. You may propose a best way to make that think work like i want to cause sometimes i can think about <code>Firebase Database</code> or not to save the to local DB. But i need a user of the app to do operations fast without lagging.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8517,"page":1475,"page_size":100}
