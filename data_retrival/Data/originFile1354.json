{"items":[{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652339102,"post_id":72210401,"comment_id":127583279,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1652347866,"post_id":72210401,"comment_id":127586297,"body_markdown":"JavaFX is cross platform too (see Gluon mobile) and I doubt that just switching to a different tool chain would automatically make your application look nicer.","body":"JavaFX is cross platform too (see Gluon mobile) and I doubt that just switching to a different tool chain would automatically make your application look nicer."}],"owner":{"account_id":22298010,"reputation":1,"user_id":16523732,"display_name":"Fly1ng_DuTchm3n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652359237,"creation_date":1652332397,"question_id":72210401,"body_markdown":"I have written a huge java programm (about 6000 lines of code including UI) with javaFX. I decided to convert this project to a flutter project to be cross-platform and make it look nicer. My idea was, that I could just use my Java logic in the flutter project, which actually works pretty easy via MethodChannels in the android directory of a flutter App, but here is my question:  \r\n\r\nDoes this android directory in the flutter project make the project only viable for android (as long as I dont make a similar version for iOS)?  \r\n\r\nIs there any other way to use my android code other than this android directory (maybe in the normal lib directory)?  \r\n\r\n\r\n\r\nEdit: Reworked my questions to make clarify what I was asking for","title":"java logic with flutter ui","body":"<p>I have written a huge java programm (about 6000 lines of code including UI) with javaFX. I decided to convert this project to a flutter project to be cross-platform and make it look nicer. My idea was, that I could just use my Java logic in the flutter project, which actually works pretty easy via MethodChannels in the android directory of a flutter App, but here is my question:</p>\n<p>Does this android directory in the flutter project make the project only viable for android (as long as I dont make a similar version for iOS)?</p>\n<p>Is there any other way to use my android code other than this android directory (maybe in the normal lib directory)?</p>\n<p>Edit: Reworked my questions to make clarify what I was asking for</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1124793,"reputation":2897,"user_id":1112325,"accept_rate":81,"display_name":"briba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652358539,"creation_date":1652358539,"answer_id":72215620,"question_id":72213788,"body_markdown":"The fix for my problem:\r\n\r\n    @Named\r\n    @RestController\r\n    @RequestMapping\r\n    @Validated\r\n    public class MyController {\r\n        private static final String JOB_NAME = &quot;abc&quot;;\r\n    \r\n        @Produce(&quot;direct:&quot; + JOB_NAME)\r\n        private final ProducerTemplate producerTemplate;\r\n        private final CamelContext context;\r\n    \r\n        @Inject\r\n        public MyController(\r\n                ProducerTemplate producerTemplate, CamelContext context\r\n        ) {\r\n            this.producerTemplate = producerTemplate;\r\n            this.context = context;\r\n        }\r\n    \r\n        @PostMapping(path = &quot;/my_endpoint&quot;)\r\n        public String run() throws Exception {\r\n    \r\n            Exchange exchange = new DefaultExchange(context);\r\n            producerTemplate.send(exchange);\r\n    \r\n            return &quot;ok&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Calling Apache Camel route from a REST controller","body":"<p>The fix for my problem:</p>\n<pre><code>@Named\n@RestController\n@RequestMapping\n@Validated\npublic class MyController {\n    private static final String JOB_NAME = &quot;abc&quot;;\n\n    @Produce(&quot;direct:&quot; + JOB_NAME)\n    private final ProducerTemplate producerTemplate;\n    private final CamelContext context;\n\n    @Inject\n    public MyController(\n            ProducerTemplate producerTemplate, CamelContext context\n    ) {\n        this.producerTemplate = producerTemplate;\n        this.context = context;\n    }\n\n    @PostMapping(path = &quot;/my_endpoint&quot;)\n    public String run() throws Exception {\n\n        Exchange exchange = new DefaultExchange(context);\n        producerTemplate.send(exchange);\n\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1124793,"reputation":2897,"user_id":1112325,"accept_rate":81,"display_name":"briba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72215620,"answer_count":1,"score":2,"last_activity_date":1652358539,"creation_date":1652350555,"question_id":72213788,"body_markdown":"I have a job that looks like this:\r\n\r\n    @Named\r\n    public class MyCamelRouteBuilder extends RouteBuilder {\r\n    \r\n        private static final String JOB_NAME = &quot;abc&quot;;\r\n        private static final String JOB_METHOD_NAME = &quot;xyz&quot;;\r\n    \r\n        private final MyJob myJob;\r\n    \r\n        @Inject\r\n        public MyCamelRouteBuilder(MyJob myJob) {\r\n            super();\r\n            this.myJob = myJob;\r\n        }\r\n    \r\n        @Override\r\n        public void configure() {\r\n            fromF(&quot;direct:%s&quot;, JOB_NAME)\r\n                .routeId(JOB_NAME)\r\n                .bean(myJob, JOB_METHOD_NAME)\r\n                .end();\r\n    \r\n            fromF(&quot;master:some_name_1/some_name_2:scheduler:%s?delay=%s&quot;, JOB_NAME, 1234)\r\n                .routeId(&quot;JobTimer&quot;)\r\n                .toF(&quot;direct:%s&quot;, JOB_NAME)\r\n                .end();\r\n        }\r\n    }\r\n\r\nA very simplified version of the job class:\r\n\r\n    @Named\r\n    public class MyJob {\r\n    \r\n        private MyJob() {}\r\n        }\r\n    \r\n        public void xyz() {\r\n    \r\n        }\r\n    }\r\n\r\nThis does work and it does gets triggered as expected.\r\n\r\n**The problem starts here:**\r\n\r\nNow, I also want to create a REST controller that will be able to trigger the exact same job. Something like this:\r\n\r\n    @Named\r\n    @RestController\r\n    @RequestMapping\r\n    @Validated\r\n    public class MyController {\r\n    \r\n        private static final String JOB_NAME = &quot;abc&quot;;\r\n    \r\n        private final ProducerTemplate producerTemplate;\r\n    \r\n        @Inject\r\n        public MyController(\r\n                ProducerTemplate producerTemplate\r\n        ) {\r\n    \r\n            this.producerTemplate = producerTemplate;\r\n        }\r\n    \r\n        @PostMapping(path = &quot;/my_endpoint&quot;)\r\n        public String run() throws Exception {\r\n            producerTemplate.requestBody(&quot;direct:&quot; + JOB_NAME);\r\n            return &quot;ok&quot;;\r\n        }\r\n    }\r\n\r\nBut once it reaches this line, the job is not triggered and the request call keeps hanging.\r\n\r\n    producerTemplate.requestBody(&quot;direct:&quot; + JOB_NAME);\r\n\r\nAny ideas?","title":"Calling Apache Camel route from a REST controller","body":"<p>I have a job that looks like this:</p>\n<pre><code>@Named\npublic class MyCamelRouteBuilder extends RouteBuilder {\n\n    private static final String JOB_NAME = &quot;abc&quot;;\n    private static final String JOB_METHOD_NAME = &quot;xyz&quot;;\n\n    private final MyJob myJob;\n\n    @Inject\n    public MyCamelRouteBuilder(MyJob myJob) {\n        super();\n        this.myJob = myJob;\n    }\n\n    @Override\n    public void configure() {\n        fromF(&quot;direct:%s&quot;, JOB_NAME)\n            .routeId(JOB_NAME)\n            .bean(myJob, JOB_METHOD_NAME)\n            .end();\n\n        fromF(&quot;master:some_name_1/some_name_2:scheduler:%s?delay=%s&quot;, JOB_NAME, 1234)\n            .routeId(&quot;JobTimer&quot;)\n            .toF(&quot;direct:%s&quot;, JOB_NAME)\n            .end();\n    }\n}\n</code></pre>\n<p>A very simplified version of the job class:</p>\n<pre><code>@Named\npublic class MyJob {\n\n    private MyJob() {}\n    }\n\n    public void xyz() {\n\n    }\n}\n</code></pre>\n<p>This does work and it does gets triggered as expected.</p>\n<p><strong>The problem starts here:</strong></p>\n<p>Now, I also want to create a REST controller that will be able to trigger the exact same job. Something like this:</p>\n<pre><code>@Named\n@RestController\n@RequestMapping\n@Validated\npublic class MyController {\n\n    private static final String JOB_NAME = &quot;abc&quot;;\n\n    private final ProducerTemplate producerTemplate;\n\n    @Inject\n    public MyController(\n            ProducerTemplate producerTemplate\n    ) {\n\n        this.producerTemplate = producerTemplate;\n    }\n\n    @PostMapping(path = &quot;/my_endpoint&quot;)\n    public String run() throws Exception {\n        producerTemplate.requestBody(&quot;direct:&quot; + JOB_NAME);\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n<p>But once it reaches this line, the job is not triggered and the request call keeps hanging.</p>\n<pre><code>producerTemplate.requestBody(&quot;direct:&quot; + JOB_NAME);\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1652358447,"post_id":72215565,"comment_id":127590004,"body_markdown":"Have you read the documentation to see what the return value of `put` is?","body":"Have you read the documentation to see what the return value of <code>put</code> is?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1652358690,"post_id":72215565,"comment_id":127590089,"body_markdown":"By the way, you&#39;re using *raw types* (`Map` and `HashMap`). **Never use raw types.** Always provide the necessary type arguments. In your case, `Map&lt;String, String&gt;`.","body":"By the way, you&#39;re using <i>raw types</i> (<code>Map</code> and <code>HashMap</code>). <b>Never use raw types.</b> Always provide the necessary type arguments. In your case, <code>Map&lt;String, String&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652358496,"creation_date":1652358496,"answer_id":72215610,"question_id":72215565,"body_markdown":"If you read the [documentation for the put](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#put(K,V)) method you&#39;ll notice that it returns\r\n\r\n&gt; the previous value associated with key\r\n\r\nSo in this case `m.put(&quot;A&quot;, &quot;C&quot;)` is returning `&quot;B&quot;` (because that&#39;s what we `put` in the map with the previous statement) and storing `&quot;C&quot;`, which gets immediately discarded by `m.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;));` which is at that point equivalent to `m.put(&quot;A&quot;, &quot;B&quot;);`","title":"How output defined in java map put?","body":"<p>If you read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#put(K,V)\" rel=\"nofollow noreferrer\">documentation for the put</a> method you'll notice that it returns</p>\n<blockquote>\n<p>the previous value associated with key</p>\n</blockquote>\n<p>So in this case <code>m.put(&quot;A&quot;, &quot;C&quot;)</code> is returning <code>&quot;B&quot;</code> (because that's what we <code>put</code> in the map with the previous statement) and storing <code>&quot;C&quot;</code>, which gets immediately discarded by <code>m.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;));</code> which is at that point equivalent to <code>m.put(&quot;A&quot;, &quot;B&quot;);</code></p>\n"}],"owner":{"account_id":10845549,"reputation":3,"user_id":7975182,"display_name":"MOHIT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652359048,"accepted_answer_id":72215610,"answer_count":1,"score":-1,"last_activity_date":1652358496,"creation_date":1652358308,"question_id":72215565,"body_markdown":"Please let me know how output of below java code is defined\r\n\r\n```\r\nMap m=new HashMap();\r\nm.put(&quot;A&quot;, &quot;B&quot;);\r\nm.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;));\r\n```\r\noutput:\r\n**A,B**\r\n\r\ntill 2nd line it is A,B \r\nafter going in m.put(&quot;A&quot;,&quot;C&quot;) it is becoming A,C\r\nlast m.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;)); is taking key as &quot;A&quot; and value as &quot;B&quot;\r\nplease let me know how it works?","title":"How output defined in java map put?","body":"<p>Please let me know how output of below java code is defined</p>\n<pre><code>Map m=new HashMap();\nm.put(&quot;A&quot;, &quot;B&quot;);\nm.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;));\n</code></pre>\n<p>output:\n<strong>A,B</strong></p>\n<p>till 2nd line it is A,B\nafter going in m.put(&quot;A&quot;,&quot;C&quot;) it is becoming A,C\nlast m.put(&quot;A&quot;, m.put(&quot;A&quot;, &quot;C&quot;)); is taking key as &quot;A&quot; and value as &quot;B&quot;\nplease let me know how it works?</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":1442614,"reputation":163,"user_id":1362257,"display_name":"krlittle"},"score":0,"creation_date":1652290709,"post_id":72204959,"comment_id":127573274,"body_markdown":"after you update `MyClass2.java` to add `getMyError()`, did you also update `MySerializer.java`?  If so, could you update your post to include those changes as well?  If I don&#39;t change `MySerializer.java`, I get a 500 http response.  If I update it, I get your extra json following the serialized `MyClass1` response.","body":"after you update <code>MyClass2.java</code> to add <code>getMyError()</code>, did you also update <code>MySerializer.java</code>?  If so, could you update your post to include those changes as well?  If I don&#39;t change <code>MySerializer.java</code>, I get a 500 http response.  If I update it, I get your extra json following the serialized <code>MyClass1</code> response."},{"owner":{"account_id":6783782,"reputation":99,"user_id":5223207,"accept_rate":0,"display_name":"Sekki"},"score":0,"creation_date":1652305677,"post_id":72204959,"comment_id":127577689,"body_markdown":"I updated MyClass1 to add getMyError and did no update to MyClass2 or MySerializer","body":"I updated MyClass1 to add getMyError and did no update to MyClass2 or MySerializer"}],"answers":[{"tags":[],"owner":{"account_id":1442614,"reputation":163,"user_id":1362257,"display_name":"krlittle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652357767,"creation_date":1652357767,"answer_id":72215415,"question_id":72204959,"body_markdown":"The way you are using `@JsonSerialize` is fine and is not causing your issue.  \r\n\r\nSpring Boot would return the serialized 500 error response you are expecting if you were to force the `NullPointerException` somewhere outside the model object, such as the controller, but the odd behavior you are seeing is because of logic in your getter.  Simply moving that logic out of your getter will get your expected result.\r\n\r\nThis odd behavior is happening during spring-webmvc&#39;s `ServletInvocableHandlerMethod`&#39;s `invokeAndHandle()` method when it is attempting to serialize `MyClass1` and is unable to resolve the `NullPointerException` being forced in its `getMyError()` method.  \r\n\r\nNo exceptions were raised during the processing of the `webRequest` and so it is serializing the response with a 200 OK response.  I believe an assumption is being made that best practices are being used and the response can carry itself out without meeting anymore logic as we should be dealing with a model object without further logic to process (outside your typical getters and setters).  During the serialization of this response, unexpected logic is found in the getter by Jackson and an exception (where one is not anticipated) is raised, causing the odd behavior.  I believe spring-boot then intercepts the exception and serializes it and appends it to the response.\r\n\r\n","title":"Spring and Jackson returning a response with status 200 OK but incorrect JSON after an exception","body":"<p>The way you are using <code>@JsonSerialize</code> is fine and is not causing your issue.</p>\n<p>Spring Boot would return the serialized 500 error response you are expecting if you were to force the <code>NullPointerException</code> somewhere outside the model object, such as the controller, but the odd behavior you are seeing is because of logic in your getter.  Simply moving that logic out of your getter will get your expected result.</p>\n<p>This odd behavior is happening during spring-webmvc's <code>ServletInvocableHandlerMethod</code>'s <code>invokeAndHandle()</code> method when it is attempting to serialize <code>MyClass1</code> and is unable to resolve the <code>NullPointerException</code> being forced in its <code>getMyError()</code> method.</p>\n<p>No exceptions were raised during the processing of the <code>webRequest</code> and so it is serializing the response with a 200 OK response.  I believe an assumption is being made that best practices are being used and the response can carry itself out without meeting anymore logic as we should be dealing with a model object without further logic to process (outside your typical getters and setters).  During the serialization of this response, unexpected logic is found in the getter by Jackson and an exception (where one is not anticipated) is raised, causing the odd behavior.  I believe spring-boot then intercepts the exception and serializes it and appends it to the response.</p>\n"}],"owner":{"account_id":6783782,"reputation":99,"user_id":5223207,"accept_rate":0,"display_name":"Sekki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72215415,"answer_count":1,"score":1,"last_activity_date":1652358456,"creation_date":1652288532,"question_id":72204959,"body_markdown":"I have a simple controller that is returning an instance of `MyClass1`.\r\n`MyClass1` contains a list of `MyClass2` and use the `@JsonDeserialize` annotation to tell *Jackson* to use a custom serializer &quot;MySerializer&quot;. \r\n\r\n```\r\npublic class MyClass1 {\r\n\r\n    @JsonSerialize(contentUsing = MySerializer.class)\r\n    private List&lt;MyClass2&gt; class2;\r\n\r\n    public List&lt;MyClass2&gt; getClass2() {\r\n        return class2;\r\n    }\r\n\r\n    public void setClass2(List&lt;MyClass2&gt; propertyTest2) {\r\n        this.class2 = propertyTest2;\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class MyClass2 {\r\n\r\n    private String myString;\r\n\r\n    public String getMyString() {\r\n        return myString;\r\n    }\r\n\r\n    public void setMyString(String myString) {\r\n        this.myString = myString;\r\n    }\r\n}\r\n```\r\n```\r\npublic class MySerializer extends StdSerializer&lt;MyClass2&gt; {\r\n\r\n    public MySerializer() {\r\n        this(null);\r\n    }\r\n\r\n    protected MySerializer(Class&lt;MyClass2&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(MyClass2 value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeObjectField(&quot;myObject&quot;, value);\r\n        gen.writeEndObject();\r\n    }\r\n\r\n}\r\n```\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    @GetMapping(value = &quot;/api&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\r\n    public MyClass1 myMethod() {\r\n\r\n        MyClass1 class1 = new MyClass1();\r\n        MyClass2 class2 = new MyClass2();\r\n        class2.setMyString(&quot;test string&quot;);\r\n        List&lt;MyClass2&gt; class2List = new ArrayList&lt;&gt;();\r\n        class2List.add(class2);\r\n        class1.setClass2(class2List);\r\n\r\n        return class1;\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo with this code whenever I send a get request to /api I have the response:\r\n```\r\n{\r\n    &quot;class2&quot;: [\r\n        {\r\n            &quot;myObject&quot;: {\r\n                &quot;myString&quot;: &quot;test string&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHowever if I update the code of MyClass1 and add a property errorProperty in order to throw an exception:\r\n```\r\npublic class MyClass1 {\r\n\r\n    @JsonSerialize(contentUsing = MySerializer.class)\r\n    private List&lt;MyClass2&gt; class2;\r\n\r\n    public List&lt;MyClass2&gt; getClass2() {\r\n        return class2;\r\n    }\r\n\r\n    public void setClass2(List&lt;MyClass2&gt; propertyTest2) {\r\n        this.class2 = propertyTest2;\r\n    }\r\n\r\n    public int getMyError() {\r\n        String error = null;\r\n        error.toLowerCase();\r\n        return 1;\r\n    }\r\n}\r\n```\r\n\r\nI have the following response from *Spring Boot* (with a status of 200 OK):\r\n```\r\n{\r\n    &quot;class2&quot;: [\r\n        {\r\n            &quot;myObject&quot;: {\r\n                &quot;myString&quot;: &quot;test string&quot;\r\n            }\r\n        }\r\n    ]\r\n}{\r\n    &quot;timestamp&quot;: &quot;2022-05-11T16:55:09.312+00:00&quot;,\r\n    &quot;status&quot;: 200,\r\n    &quot;error&quot;: &quot;OK&quot;,\r\n    &quot;path&quot;: &quot;/api&quot;\r\n}\r\n```\r\n\r\nI would like to understand why I&#39;m having a response 200 ok because I would have expected a 500 internal server error since an exception was raised. \r\nAnd also the response has 2 jsons in it so I don&#39;t think it is a correct response.\r\nIs it an issue in the way I&#39;m using the @JsonSerialize feature or a bug from jackson.\r\n\r\nAlso here is the stacktrace:\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.example.test_spring.serializeronproperty.MyClass1.getMyError(MyClass1.java:22) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_291]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_291]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_291]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_291]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:689) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_291]\r\n```","title":"Spring and Jackson returning a response with status 200 OK but incorrect JSON after an exception","body":"<p>I have a simple controller that is returning an instance of <code>MyClass1</code>.\n<code>MyClass1</code> contains a list of <code>MyClass2</code> and use the <code>@JsonDeserialize</code> annotation to tell <em>Jackson</em> to use a custom serializer &quot;MySerializer&quot;.</p>\n<pre><code>public class MyClass1 {\n\n    @JsonSerialize(contentUsing = MySerializer.class)\n    private List&lt;MyClass2&gt; class2;\n\n    public List&lt;MyClass2&gt; getClass2() {\n        return class2;\n    }\n\n    public void setClass2(List&lt;MyClass2&gt; propertyTest2) {\n        this.class2 = propertyTest2;\n    }\n\n}\n</code></pre>\n<pre><code>public class MyClass2 {\n\n    private String myString;\n\n    public String getMyString() {\n        return myString;\n    }\n\n    public void setMyString(String myString) {\n        this.myString = myString;\n    }\n}\n</code></pre>\n<pre><code>public class MySerializer extends StdSerializer&lt;MyClass2&gt; {\n\n    public MySerializer() {\n        this(null);\n    }\n\n    protected MySerializer(Class&lt;MyClass2&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(MyClass2 value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n        gen.writeObjectField(&quot;myObject&quot;, value);\n        gen.writeEndObject();\n    }\n\n}\n</code></pre>\n<pre><code>@RestController\npublic class MyController {\n\n    @GetMapping(value = &quot;/api&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\n    public MyClass1 myMethod() {\n\n        MyClass1 class1 = new MyClass1();\n        MyClass2 class2 = new MyClass2();\n        class2.setMyString(&quot;test string&quot;);\n        List&lt;MyClass2&gt; class2List = new ArrayList&lt;&gt;();\n        class2List.add(class2);\n        class1.setClass2(class2List);\n\n        return class1;\n    }\n\n}\n</code></pre>\n<p>So with this code whenever I send a get request to /api I have the response:</p>\n<pre><code>{\n    &quot;class2&quot;: [\n        {\n            &quot;myObject&quot;: {\n                &quot;myString&quot;: &quot;test string&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>However if I update the code of MyClass1 and add a property errorProperty in order to throw an exception:</p>\n<pre><code>public class MyClass1 {\n\n    @JsonSerialize(contentUsing = MySerializer.class)\n    private List&lt;MyClass2&gt; class2;\n\n    public List&lt;MyClass2&gt; getClass2() {\n        return class2;\n    }\n\n    public void setClass2(List&lt;MyClass2&gt; propertyTest2) {\n        this.class2 = propertyTest2;\n    }\n\n    public int getMyError() {\n        String error = null;\n        error.toLowerCase();\n        return 1;\n    }\n}\n</code></pre>\n<p>I have the following response from <em>Spring Boot</em> (with a status of 200 OK):</p>\n<pre><code>{\n    &quot;class2&quot;: [\n        {\n            &quot;myObject&quot;: {\n                &quot;myString&quot;: &quot;test string&quot;\n            }\n        }\n    ]\n}{\n    &quot;timestamp&quot;: &quot;2022-05-11T16:55:09.312+00:00&quot;,\n    &quot;status&quot;: 200,\n    &quot;error&quot;: &quot;OK&quot;,\n    &quot;path&quot;: &quot;/api&quot;\n}\n</code></pre>\n<p>I would like to understand why I'm having a response 200 ok because I would have expected a 500 internal server error since an exception was raised.\nAnd also the response has 2 jsons in it so I don't think it is a correct response.\nIs it an issue in the way I'm using the @JsonSerialize feature or a bug from jackson.</p>\n<p>Also here is the stacktrace:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.example.test_spring.serializeronproperty.MyClass1.getMyError(MyClass1.java:22) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_291]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_291]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_291]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_291]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:689) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.2.1.jar:2.13.2.1]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.62.jar:9.0.62]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_291]\n</code></pre>\n"},{"tags":["java","spring-boot","observer-pattern"],"answers":[{"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1498098021,"creation_date":1498098021,"answer_id":44689068,"question_id":44688680,"body_markdown":"&gt; Are the java.util classes a good implementation for that pattern ?\r\n\r\nThe GoF pattern and the java implementation of it are a bit dated and have some issues.  \r\nIt really depends on the problem you are trying to solve, but it might be suitable if your application doesn’t make massive use of events and you don’t want to introduce something like spring events or RxJava.  \r\n&gt; \r\n&gt; How can I register the observer with the observable , and still able\r\n&gt; to use Spring Depedency Injection? Where I can call\r\n&gt; myObserver.accept(myObservable); ?\r\n\r\nSee the below example of how you can define an Observable some observers, wire them up and finally send some events to them.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class ObserverApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry(ConfigurableApplicationContext ctx = SpringApplication.run(ObserverApplication.class, args)){\r\n    \t\t\tObservable observable = ctx.getBean(Observable.class);\r\n    \t\t\tobservable.notifyObservers(&quot;Hello&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Observable myObservable(){\r\n    \t\treturn new MyObservable();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tMyObserver observer1(){\r\n    \t\treturn new MyObserver(1);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tMyObserver observer2(){\r\n    \t\treturn new MyObserver(2);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tpublic void configureObservers(Observable myObservable, MyObserver observer1, MyObserver observer2){\r\n    \t\tmyObservable.addObserver(observer1);\r\n    \t\tmyObservable.addObserver(observer2);\r\n    \t}\r\n    \r\n    \tstatic class MyObserver implements Observer {\r\n    \r\n    \t\tint id;\r\n    \r\n    \t\tpublic MyObserver(int id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void update(Observable o, Object arg) {\r\n    \t\t\tSystem.out.println(&quot;Observer: &quot; + id + &quot;, Received object: &quot; + arg);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class MyObservable extends Observable {\r\n    \t\t@Override\r\n    \t\tpublic void notifyObservers(Object arg){\r\n    \t\t\tthis.setChanged();\r\n    \t\t\tsuper.notifyObservers(arg);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to register a Observer using Spring Boot?","body":"<blockquote>\n  <p>Are the java.util classes a good implementation for that pattern ?</p>\n</blockquote>\n\n<p>The GoF pattern and the java implementation of it are a bit dated and have some issues.<br>\nIt really depends on the problem you are trying to solve, but it might be suitable if your application doesn’t make massive use of events and you don’t want to introduce something like spring events or RxJava.  </p>\n\n<blockquote>\n  <p>How can I register the observer with the observable , and still able\n  to use Spring Depedency Injection? Where I can call\n  myObserver.accept(myObservable); ?</p>\n</blockquote>\n\n<p>See the below example of how you can define an Observable some observers, wire them up and finally send some events to them.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ObserverApplication {\n\n    public static void main(String[] args) {\n        try(ConfigurableApplicationContext ctx = SpringApplication.run(ObserverApplication.class, args)){\n            Observable observable = ctx.getBean(Observable.class);\n            observable.notifyObservers(\"Hello\");\n        }\n    }\n\n    @Bean\n    public Observable myObservable(){\n        return new MyObservable();\n    }\n\n    @Bean\n    MyObserver observer1(){\n        return new MyObserver(1);\n    }\n\n    @Bean\n    MyObserver observer2(){\n        return new MyObserver(2);\n    }\n\n    @Autowired\n    public void configureObservers(Observable myObservable, MyObserver observer1, MyObserver observer2){\n        myObservable.addObserver(observer1);\n        myObservable.addObserver(observer2);\n    }\n\n    static class MyObserver implements Observer {\n\n        int id;\n\n        public MyObserver(int id) {\n            this.id = id;\n        }\n\n        @Override\n        public void update(Observable o, Object arg) {\n            System.out.println(\"Observer: \" + id + \", Received object: \" + arg);\n        }\n    }\n\n    static class MyObservable extends Observable {\n        @Override\n        public void notifyObservers(Object arg){\n            this.setChanged();\n            super.notifyObservers(arg);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8661665,"reputation":43,"user_id":6483796,"display_name":"Yuri S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11793,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44689068,"answer_count":1,"score":4,"last_activity_date":1652358222,"creation_date":1498095066,"question_id":44688680,"body_markdown":"I want to implement the GoF Observer Design Pattern using Spring Boot without Spring Events.&lt;br/&gt; Code sample:\r\n\r\n \r\n        @Component\r\n        public class MyObservable extends java.util.Observable {\r\n          void myObservableMethod(Object obj){\r\n            notifyObservers(obj);\r\n          }\r\n        }\r\n\r\n        @Component\r\n        public class MyObserver implements java.util.Observer{\t\r\n        @Override\r\n          public void update(java.util.Observable observable, Object obj) {\r\n            System.out.println(obj.toString());\r\n          }\r\n        }\r\n\r\n1. Are the java.util classes a good implementation for that pattern ?\r\n2. How can I register the observer with the observable , and still able to use Spring Depedency Injection?&lt;br/&gt;\r\nWhere I can call myObserver.accept(myObservable); ?\r\n\r\n        @Autowired\r\n        MyObservable myObservable;\r\n        @Autowired\r\n        MyObserver myObservable;\r\n\r\n        myObserver.accept(myObservable); //??\r\n","title":"How to register a Observer using Spring Boot?","body":"<p>I want to implement the GoF Observer Design Pattern using Spring Boot without Spring Events.<br/> Code sample:</p>\n\n<pre><code>    @Component\n    public class MyObservable extends java.util.Observable {\n      void myObservableMethod(Object obj){\n        notifyObservers(obj);\n      }\n    }\n\n    @Component\n    public class MyObserver implements java.util.Observer{  \n    @Override\n      public void update(java.util.Observable observable, Object obj) {\n        System.out.println(obj.toString());\n      }\n    }\n</code></pre>\n\n<ol>\n<li>Are the java.util classes a good implementation for that pattern ?</li>\n<li><p>How can I register the observer with the observable , and still able to use Spring Depedency Injection?<br/>\nWhere I can call myObserver.accept(myObservable); ?</p>\n\n<pre><code>@Autowired\nMyObservable myObservable;\n@Autowired\nMyObserver myObservable;\n\nmyObserver.accept(myObservable); //??\n</code></pre></li>\n</ol>\n"},{"tags":["java","opengl","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652358186,"creation_date":1652255745,"answer_id":72197363,"question_id":72118760,"body_markdown":"This because `glTexImage2D` reads the pixels from the position of the buffer. You have to flip the buffer.\r\n\r\n```java\r\nGL11.glTexImage2D(GL11.GL_TEXTURE_2D, 0, GL11.GL_RGBA, width, height, 0, \r\n        GL11.GL_RGBA, GL11.GL_UNSIGNED_BYTE, buffer.flip() /* note here */);\r\n```","title":"LWJGL Texturing - glTexImage2D sometimes crashes","body":"<p>This because <code>glTexImage2D</code> reads the pixels from the position of the buffer. You have to flip the buffer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GL11.glTexImage2D(GL11.GL_TEXTURE_2D, 0, GL11.GL_RGBA, width, height, 0, \n        GL11.GL_RGBA, GL11.GL_UNSIGNED_BYTE, buffer.flip() /* note here */);\n</code></pre>\n"}],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72197363,"answer_count":1,"score":1,"last_activity_date":1652358186,"creation_date":1651694148,"question_id":72118760,"body_markdown":"I&#39;m making a Texture class for my game engine. Right now I currently have this simple code for creating a 2D texture and loading an image to it.\r\n\r\n````java\r\npublic class Texture {\r\n\tprivate int id;\r\n\t\r\n\tprivate Texture(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\tpublic static Texture createColorTexture() {\r\n\t\tint id = GL11.glGenTextures();\r\n\t\tGL11.glBindTexture(GL11.GL_TEXTURE_2D, id);\r\n\t\tGL11.glTexParameteri(GL11.GL_TEXTURE_2D, GL11.GL_TEXTURE_MAG_FILTER, GL11.GL_LINEAR);\r\n\t\tGL11.glTexParameteri(GL11.GL_TEXTURE_2D, GL11.GL_TEXTURE_MIN_FILTER, GL11.GL_LINEAR); \r\n\t\tGL11.glBindTexture(GL11.GL_TEXTURE_2D, 0);\r\n\t\treturn new Texture(id); \r\n\t}\r\n\t\r\n\tpublic void loadImage(String file) {\r\n\t\tbind();\r\n\t\tString path = &quot;res/textures/&quot; + file;\r\n\t\tint width = 0, height = 0;\r\n\t\tint[] pixels = null;\r\n\t\ttry {\r\n\t\t\tBufferedImage image = ImageIO.read(new FileInputStream(path));\r\n\t\t\twidth = image.getWidth();\r\n\t\t\theight = image.getHeight();\r\n\t\t\tpixels = new int[width * height];\r\n\t\t\timage.getRGB(0, 0, width, height, pixels, 0, width);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tByteBuffer buffer = BufferUtils.createByteBuffer(width * height * 4);\r\n\t\tfor (int y = 0; y &lt; height; y++) {\r\n\t\t\tfor (int x = 0; x &lt; width; x++) {\r\n\t\t\t\tint pixel = pixels[y * width + x];\r\n\t\t\t\tbuffer.put((byte) ((pixel &gt;&gt; 16) &amp; 0xFF)); \r\n\t\t\t\tbuffer.put((byte) ((pixel &gt;&gt; 8) &amp; 0xFF));      \r\n            \tbuffer.put((byte) (pixel &amp; 0xFF));              \r\n            \tbuffer.put((byte) ((pixel &gt;&gt; 24) &amp; 0xFF));  \r\n\t\t\t}\r\n\t\t}\r\n\t\tGL11.glTexImage2D(GL11.GL_TEXTURE_2D, 0, GL11.GL_RGBA, width, height, 0, \r\n\t\t\t\tGL11.GL_RGBA, GL11.GL_UNSIGNED_BYTE, buffer);\r\n\t\tunbind();\r\n\t}\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void bind() {\r\n\t\tGL11.glBindTexture(GL11.GL_TEXTURE_2D, id);\r\n\t}\r\n\t\r\n\tpublic void unbind() {\r\n\t\tGL11.glBindTexture(GL11.GL_TEXTURE_2D, 0);\r\n\t}\r\n}\r\n````\r\nThe problem is, when I load an image to the texture, it sometimes works, but it sometimes crashes. What&#39;s going on here? \r\n\r\nI use Eclipse, and when it crashes, I get a file called &quot;hs_err_pid&quot; followed by a number.\r\n\r\nThis is a long file with lots of stuff in it, but there are a few notable things in that file, which I&#39;ve shortened for readablity.\r\n```\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  org.lwjgl.opengl.GL11C.nglTexImage2D(IIIIIIIIJ)V+0\r\nj  org.lwjgl.opengl.GL11C.glTexImage2D(IIIIIIIILjava/nio/ByteBuffer;)V+17\r\nj  org.lwjgl.opengl.GL11.glTexImage2D(IIIIIIIILjava/nio/ByteBuffer;)V+14\r\n\r\n...\r\nRIP=0x00007ffedadee30e nvoglv64.dll\r\nRAX=0x0000018ad74522c0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\r\nRBX=0x0000018ad74522c0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\r\nRCX=0x0000000000019010 is an unknown value\r\nRDX=0x0000000000661d50 is an unknown value\r\n(and so on)\r\n\r\n...\r\n\r\nEvent: 0.266 Thread 0x0000018aaba20670 Exception &lt;a &#39;sun/nio/fs/WindowsException&#39;{0x00000006204f6f38}&gt; (0x00000006204f6f38) \r\nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\prims\\jni.cpp, line 516]\r\nEvent: 0.271 Thread 0x0000018aaba20670 Exception &lt;a &#39;java/lang/NoSuchMethodError&#39;{0x000000062052c3f8}: &#39;java.lang.Object java.lang.invoke.DirectMethodHandle$Holder.invokeStaticInit(java.lang.Object)&#39;&gt; (0x000000062052c3f8) \r\nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\interpreter\\linkResolver.cpp, line 766]\r\nEvent: 0.310 Thread 0x0000018aaba20670 Exception &lt;a &#39;sun/nio/fs/WindowsException&#39;{0x0000000620637ef0}&gt; (0x0000000620637ef0) \r\nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\prims\\jni.cpp, line 516]\r\nEvent: 0.573 Thread 0x0000018aaba20670 Exception &lt;a &#39;java/lang/ClassNotFoundException&#39;{0x00000006201aa080}: sun/awt/resources/spi/awtProvider&gt; (0x00000006201aa080) \r\nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\classfile\\systemDictionary.cpp, line 256]\r\nEvent: 0.611 Thread 0x0000018aaba20670 Exception &lt;a &#39;java/lang/NoSuchMethodError&#39;{0x00000006202a53c0}: &#39;java.lang.Object java.lang.invoke.DirectMethodHandle$Holder.invokeStaticInit(java.lang.Object, int, int, int, int)&#39;&gt; (0x00000006202a53c0) \r\nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\interpreter\\linkResolver.cpp, line 766]\r\n```\r\n\r\nWhat&#39;s happening? Why does it sometimes work, but sometimes crash?","title":"LWJGL Texturing - glTexImage2D sometimes crashes","body":"<p>I'm making a Texture class for my game engine. Right now I currently have this simple code for creating a 2D texture and loading an image to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Texture {\n    private int id;\n    \n    private Texture(int id) {\n        this.id = id;\n    }\n    \n    public static Texture createColorTexture() {\n        int id = GL11.glGenTextures();\n        GL11.glBindTexture(GL11.GL_TEXTURE_2D, id);\n        GL11.glTexParameteri(GL11.GL_TEXTURE_2D, GL11.GL_TEXTURE_MAG_FILTER, GL11.GL_LINEAR);\n        GL11.glTexParameteri(GL11.GL_TEXTURE_2D, GL11.GL_TEXTURE_MIN_FILTER, GL11.GL_LINEAR); \n        GL11.glBindTexture(GL11.GL_TEXTURE_2D, 0);\n        return new Texture(id); \n    }\n    \n    public void loadImage(String file) {\n        bind();\n        String path = &quot;res/textures/&quot; + file;\n        int width = 0, height = 0;\n        int[] pixels = null;\n        try {\n            BufferedImage image = ImageIO.read(new FileInputStream(path));\n            width = image.getWidth();\n            height = image.getHeight();\n            pixels = new int[width * height];\n            image.getRGB(0, 0, width, height, pixels, 0, width);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        ByteBuffer buffer = BufferUtils.createByteBuffer(width * height * 4);\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                int pixel = pixels[y * width + x];\n                buffer.put((byte) ((pixel &gt;&gt; 16) &amp; 0xFF)); \n                buffer.put((byte) ((pixel &gt;&gt; 8) &amp; 0xFF));      \n                buffer.put((byte) (pixel &amp; 0xFF));              \n                buffer.put((byte) ((pixel &gt;&gt; 24) &amp; 0xFF));  \n            }\n        }\n        GL11.glTexImage2D(GL11.GL_TEXTURE_2D, 0, GL11.GL_RGBA, width, height, 0, \n                GL11.GL_RGBA, GL11.GL_UNSIGNED_BYTE, buffer);\n        unbind();\n    }\n    \n    public int getId() {\n        return id;\n    }\n    \n    public void bind() {\n        GL11.glBindTexture(GL11.GL_TEXTURE_2D, id);\n    }\n    \n    public void unbind() {\n        GL11.glBindTexture(GL11.GL_TEXTURE_2D, 0);\n    }\n}\n</code></pre>\n<p>The problem is, when I load an image to the texture, it sometimes works, but it sometimes crashes. What's going on here?</p>\n<p>I use Eclipse, and when it crashes, I get a file called &quot;hs_err_pid&quot; followed by a number.</p>\n<p>This is a long file with lots of stuff in it, but there are a few notable things in that file, which I've shortened for readablity.</p>\n<pre><code>Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.lwjgl.opengl.GL11C.nglTexImage2D(IIIIIIIIJ)V+0\nj  org.lwjgl.opengl.GL11C.glTexImage2D(IIIIIIIILjava/nio/ByteBuffer;)V+17\nj  org.lwjgl.opengl.GL11.glTexImage2D(IIIIIIIILjava/nio/ByteBuffer;)V+14\n\n...\nRIP=0x00007ffedadee30e nvoglv64.dll\nRAX=0x0000018ad74522c0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\nRBX=0x0000018ad74522c0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\nRCX=0x0000000000019010 is an unknown value\nRDX=0x0000000000661d50 is an unknown value\n(and so on)\n\n...\n\nEvent: 0.266 Thread 0x0000018aaba20670 Exception &lt;a 'sun/nio/fs/WindowsException'{0x00000006204f6f38}&gt; (0x00000006204f6f38) \nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\prims\\jni.cpp, line 516]\nEvent: 0.271 Thread 0x0000018aaba20670 Exception &lt;a 'java/lang/NoSuchMethodError'{0x000000062052c3f8}: 'java.lang.Object java.lang.invoke.DirectMethodHandle$Holder.invokeStaticInit(java.lang.Object)'&gt; (0x000000062052c3f8) \nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\interpreter\\linkResolver.cpp, line 766]\nEvent: 0.310 Thread 0x0000018aaba20670 Exception &lt;a 'sun/nio/fs/WindowsException'{0x0000000620637ef0}&gt; (0x0000000620637ef0) \nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\prims\\jni.cpp, line 516]\nEvent: 0.573 Thread 0x0000018aaba20670 Exception &lt;a 'java/lang/ClassNotFoundException'{0x00000006201aa080}: sun/awt/resources/spi/awtProvider&gt; (0x00000006201aa080) \nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\classfile\\systemDictionary.cpp, line 256]\nEvent: 0.611 Thread 0x0000018aaba20670 Exception &lt;a 'java/lang/NoSuchMethodError'{0x00000006202a53c0}: 'java.lang.Object java.lang.invoke.DirectMethodHandle$Holder.invokeStaticInit(java.lang.Object, int, int, int, int)'&gt; (0x00000006202a53c0) \nthrown [e:\\jenkins\\tmp\\workspace\\build\\src\\src\\hotspot\\share\\interpreter\\linkResolver.cpp, line 766]\n</code></pre>\n<p>What's happening? Why does it sometimes work, but sometimes crash?</p>\n"},{"tags":["java","android","ssl","keystore","keychain"],"owner":{"account_id":7510644,"reputation":21,"user_id":5705698,"display_name":"Gustavo Guimar&#227;es"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652358113,"creation_date":1652358113,"question_id":72215504,"body_markdown":"I have to recover credentials information that is available from KeyChain API and then replicate this information into a Keystore. The idea behind this is that if the credentials are available in the keystore, it should be used. If not available, go to keychain and load new set of credentials.\r\n\r\nThe implementation to recover the credentials from keychain works fine and I can get the privateKey and the certificateChain.\r\n\r\nThe `keychainAlias` property is stored in device&#39;s sharedMemory once the user selects the certificate for the first time, and it&#39;s reused to load the certificate from Keychain.\r\n\r\n```\r\nPrivateKey privKey = KeyChain.getPrivateKey(context, keychainAlias);\r\nX509Certificate[] certifChain = KeyChain.getCertificateChain(context, keychainAlias);\r\n```\r\n\r\nOnce I have this data, I try to store them in a Keystore object:\r\n\r\n```\r\nKeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\nks.load(null);\r\nks.setKeyEntry(keychainAlias, privateKey.getEncoded(),  certificateChain);\r\n```\r\n\r\nBut then I get this error:\r\n```\r\nClientCertificateLoader: Could not save certificate information to keystorejava.security.KeyStoreException: Can only replace keys with same alias: ClientCert12 != ClientCert12_KEYSTOREGRANT_1804289383\r\n```\r\n\r\nFor some reason, the keychain uses a different alias to store the credentials internally, and when I try to store it in the Keystore using the original alias, the keystore checks that they are different and fail.\r\n\r\nAny idea on how to overcome this issue will be appreciated.\r\n\r\n","title":"Android store credentials obtained from keychain api into keystore","body":"<p>I have to recover credentials information that is available from KeyChain API and then replicate this information into a Keystore. The idea behind this is that if the credentials are available in the keystore, it should be used. If not available, go to keychain and load new set of credentials.</p>\n<p>The implementation to recover the credentials from keychain works fine and I can get the privateKey and the certificateChain.</p>\n<p>The <code>keychainAlias</code> property is stored in device's sharedMemory once the user selects the certificate for the first time, and it's reused to load the certificate from Keychain.</p>\n<pre><code>PrivateKey privKey = KeyChain.getPrivateKey(context, keychainAlias);\nX509Certificate[] certifChain = KeyChain.getCertificateChain(context, keychainAlias);\n</code></pre>\n<p>Once I have this data, I try to store them in a Keystore object:</p>\n<pre><code>KeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\nks.load(null);\nks.setKeyEntry(keychainAlias, privateKey.getEncoded(),  certificateChain);\n</code></pre>\n<p>But then I get this error:</p>\n<pre><code>ClientCertificateLoader: Could not save certificate information to keystorejava.security.KeyStoreException: Can only replace keys with same alias: ClientCert12 != ClientCert12_KEYSTOREGRANT_1804289383\n</code></pre>\n<p>For some reason, the keychain uses a different alias to store the credentials internally, and when I try to store it in the Keystore using the original alias, the keystore checks that they are different and fail.</p>\n<p>Any idea on how to overcome this issue will be appreciated.</p>\n"},{"tags":["java","unit-testing","junit","junit5","mockserver"],"answers":[{"tags":[],"owner":{"account_id":22070181,"reputation":633,"user_id":16331296,"display_name":"Julien Gavard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652358109,"creation_date":1652358109,"answer_id":72215503,"question_id":72187703,"body_markdown":"At the beginning of each test, simply add this line:\r\n\r\n    client.reset();","title":"How to run mock server tests in isolation?","body":"<p>At the beginning of each test, simply add this line:</p>\n<pre><code>client.reset();\n</code></pre>\n"}],"owner":{"account_id":22070181,"reputation":633,"user_id":16331296,"display_name":"Julien Gavard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72215503,"answer_count":1,"score":0,"last_activity_date":1652358109,"creation_date":1652191000,"question_id":72187703,"body_markdown":"I have these two mock server tests. \r\n\r\nWhen I launch these, the second test fail because the two tests are not launched in isolation. The mocking of the HTTP call in the first method isn&#39;t override in the second method.\r\n   \r\n\t@ExtendWith(MockServerExtension.class)\r\n\t@MockServerSettings(ports = {8888})\r\n\tclass RequestTest {\r\n\r\n\t\tprivate final Client httpClient = ClientBuilder.newClient();\r\n\r\n\t\tRequestTest() {\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid should_get_fail(MockServerClient client) {\r\n\t\t\tclient.when(request()\r\n\t\t\t\t\t\t\t.withMethod(&quot;GET&quot;)\r\n\t\t\t\t\t\t\t.withPath(&quot;/request_1&quot;)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.respond(response().withStatusCode(500));\r\n\r\n\t\t\tvar response = httpClient.target(&quot;http://localhost:8888/request_1&quot;).request().get();\r\n\r\n\t\t\tassertThat(response.getStatus()).isEqualTo(500);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid should_get_success(MockServerClient client) {\r\n\t\t\tclient.when(request()\r\n\t\t\t\t\t\t\t.withMethod(&quot;GET&quot;)\r\n\t\t\t\t\t\t\t.withPath(&quot;/request_1&quot;)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.respond(response().withStatusCode(200));\r\n\r\n\t\t\tvar response = httpClient.target(&quot;http://localhost:8888/request_1&quot;).request().get();\r\n\r\n\t\t\tassertThat(response.getStatus()).isEqualTo(200);\r\n\t\t}\r\n\t}\r\n\r\nIs there a Mock Server property or a JUnit property to run these two tests in isolation ?","title":"How to run mock server tests in isolation?","body":"<p>I have these two mock server tests.</p>\n<p>When I launch these, the second test fail because the two tests are not launched in isolation. The mocking of the HTTP call in the first method isn't override in the second method.</p>\n<pre><code>@ExtendWith(MockServerExtension.class)\n@MockServerSettings(ports = {8888})\nclass RequestTest {\n\n    private final Client httpClient = ClientBuilder.newClient();\n\n    RequestTest() {\n    }\n\n    @Test\n    void should_get_fail(MockServerClient client) {\n        client.when(request()\n                        .withMethod(&quot;GET&quot;)\n                        .withPath(&quot;/request_1&quot;)\n                )\n                .respond(response().withStatusCode(500));\n\n        var response = httpClient.target(&quot;http://localhost:8888/request_1&quot;).request().get();\n\n        assertThat(response.getStatus()).isEqualTo(500);\n    }\n\n    @Test\n    void should_get_success(MockServerClient client) {\n        client.when(request()\n                        .withMethod(&quot;GET&quot;)\n                        .withPath(&quot;/request_1&quot;)\n                )\n                .respond(response().withStatusCode(200));\n\n        var response = httpClient.target(&quot;http://localhost:8888/request_1&quot;).request().get();\n\n        assertThat(response.getStatus()).isEqualTo(200);\n    }\n}\n</code></pre>\n<p>Is there a Mock Server property or a JUnit property to run these two tests in isolation ?</p>\n"},{"tags":["java","android","android-textinputlayout"],"comments":[{"owner":{"account_id":13648278,"reputation":677,"user_id":9846834,"display_name":"Sky"},"score":0,"creation_date":1652357390,"post_id":72215238,"comment_id":127589628,"body_markdown":"**TextInputLayout** not a text holder that you want, add id to **TextInputEditText** and take _text_ from it.","body":"<b>TextInputLayout</b> not a text holder that you want, add id to <b>TextInputEditText</b> and take <i>text</i> from it."},{"owner":{"account_id":13648278,"reputation":677,"user_id":9846834,"display_name":"Sky"},"score":0,"creation_date":1652357706,"post_id":72215238,"comment_id":127589727,"body_markdown":"Checked out sources of **TextInputLayout** your aproach could work, try to check `individualName != null`. If it _null_ place view binding after setContentView()","body":"Checked out sources of <b>TextInputLayout</b> your aproach could work, try to check <code>individualName != null</code>. If it <i>null</i> place view binding after setContentView()"},{"owner":{"account_id":22913431,"reputation":13,"user_id":17050370,"display_name":"Vikas vikas"},"score":0,"creation_date":1652357762,"post_id":72215238,"comment_id":127589744,"body_markdown":"Getting the same Error Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable com.google.android.material.textfield.TextInputEditText.getText()&#39; on a null object reference","body":"Getting the same Error Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable com.google.android.material.textfield.TextInputEditText.getT&zwnj;&#8203;ext()&#39; on a null object reference"},{"owner":{"account_id":22913431,"reputation":13,"user_id":17050370,"display_name":"Vikas vikas"},"score":0,"creation_date":1652357823,"post_id":72215238,"comment_id":127589766,"body_markdown":"If null what should I do.","body":"If null what should I do."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1652357831,"post_id":72215238,"comment_id":127589769,"body_markdown":"`super.onCreate(savedInstanceState);setContentView(R.layout.activity_add_individual);` these are your highest priorities, findViewById can&#39;t work if you haven&#39;t called `setContentView` yet","body":"<code>super.onCreate(savedInstanceState);setContentView(R.layout.a&zwnj;&#8203;ctivity_add_individu&zwnj;&#8203;al);</code> these are your highest priorities, findViewById can&#39;t work if you haven&#39;t called <code>setContentView</code> yet"},{"owner":{"account_id":22913431,"reputation":13,"user_id":17050370,"display_name":"Vikas vikas"},"score":0,"creation_date":1652357876,"post_id":72215238,"comment_id":127589782,"body_markdown":"Can I know how to do setContentView","body":"Can I know how to do setContentView"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1652357876,"post_id":72215238,"comment_id":127589783,"body_markdown":"`setContentView(R.layout.activity_add_individual)` should be first line . You can not find view before setting the content view . SO move it up and super call also  and it should work fine .","body":"<code>setContentView(R.layout.activity_add_individual)</code> should be first line . You can not find view before setting the content view . SO move it up and super call also  and it should work fine ."}],"answers":[{"tags":[],"owner":{"account_id":10468656,"reputation":167,"user_id":7717273,"display_name":"Ravi Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652357854,"creation_date":1652357854,"answer_id":72215437,"question_id":72215238,"body_markdown":"In your onCreate(), you are initialising you view views before setting view. Your onCreate should look like this:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_individual);\r\n        db=FirebaseFirestore.getInstance();\r\n        individualName  = (TextInputLayout)findViewById(R.id.individualName);\r\n    individualPhno= (TextInputLayout) findViewById(R.id.individualPhno);\r\n    }\r\n\r\n\r\n ","title":"Why am I getting error of &#39;android.widget.EditText com.google.android.material.textfield.TextInputLayout.getEditText()&#39; on a null object reference","body":"<p>In your onCreate(), you are initialising you view views before setting view. Your onCreate should look like this:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_individual);\n    db=FirebaseFirestore.getInstance();\n    individualName  = (TextInputLayout)findViewById(R.id.individualName);\nindividualPhno= (TextInputLayout) findViewById(R.id.individualPhno);\n}\n</code></pre>\n"}],"owner":{"account_id":22913431,"reputation":13,"user_id":17050370,"display_name":"Vikas vikas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1652358050,"accepted_answer_id":72215437,"answer_count":1,"score":-2,"last_activity_date":1652357945,"creation_date":1652357094,"question_id":72215238,"body_markdown":"I have seen many forums related to this question but nothing resolved my issue. I hope I get it here.\r\n\r\nHere is my Activity Code\r\n\r\n\r\n\r\n    public class addIndividual extends AppCompatActivity {\r\n    public TextInputLayout individualName;\r\n    public TextInputLayout individualPhno;\r\n    FirebaseFirestore db;\r\n    String name;\r\n    String phno;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        db=FirebaseFirestore.getInstance();\r\n        individualName  = (TextInputLayout) findViewById(R.id.individualName);\r\n        individualPhno= (TextInputLayout) findViewById(R.id.individualPhno);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_individual);\r\n\r\n    }\r\n\r\n\r\n    public void submitButton(View view) {\r\n        name= individualName.getEditText().getText().toString();\r\n        phno= &quot;hello&quot;;\r\n        Map&lt;String,String&gt; individualInfo = new HashMap&lt;String,String &gt;();\r\n        individualInfo.put(&quot;name&quot;,name.trim());\r\n        individualInfo.put(&quot;phNo&quot;,phno.trim());\r\n\r\n        db.collection(&quot;individuals&quot;).add(individualInfo)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DocumentReference&gt; task) {\r\n\r\n                        Toast.makeText(addIndividual.this, &quot;Inserted Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n    }\r\n\r\nXML Code\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:layout_margin=&quot;10dp&quot;\r\n    tools:context=&quot;.PSLogin.addIndividual&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;center&quot;&gt;\r\n\r\n\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/individualName&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Individual Name&quot;\r\n            android:layout_below=&quot;@id/textView1&quot;\r\n            android:layout_marginTop=&quot;40dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n            &gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                /&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/individualPhno&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Individual Phone Number&quot;\r\n            android:layout_below=&quot;@id/username&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n            &gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;textPassword&quot;\r\n                /&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/submit&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Submit&quot;\r\n            android:layout_below=&quot;@id/password&quot;\r\n            android:onClick=&quot;submitButton&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    enter code here\r\n\r\nI have changed the TextInputLayout to EditText but the problem persists no result\r\nError \r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable android.widget.EditText.getText()&#39; on a null object reference\r\nWhen\r\npublic EditText individualName;\r\n\r\n\r\nError is occurring at name= individualName.getEditText().getText().toString();\r\n\r\n\r\n\r\n\r\n","title":"Why am I getting error of &#39;android.widget.EditText com.google.android.material.textfield.TextInputLayout.getEditText()&#39; on a null object reference","body":"<p>I have seen many forums related to this question but nothing resolved my issue. I hope I get it here.</p>\n<p>Here is my Activity Code</p>\n<pre><code>public class addIndividual extends AppCompatActivity {\npublic TextInputLayout individualName;\npublic TextInputLayout individualPhno;\nFirebaseFirestore db;\nString name;\nString phno;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    db=FirebaseFirestore.getInstance();\n    individualName  = (TextInputLayout) findViewById(R.id.individualName);\n    individualPhno= (TextInputLayout) findViewById(R.id.individualPhno);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_individual);\n\n}\n\n\npublic void submitButton(View view) {\n    name= individualName.getEditText().getText().toString();\n    phno= &quot;hello&quot;;\n    Map&lt;String,String&gt; individualInfo = new HashMap&lt;String,String &gt;();\n    individualInfo.put(&quot;name&quot;,name.trim());\n    individualInfo.put(&quot;phNo&quot;,phno.trim());\n\n    db.collection(&quot;individuals&quot;).add(individualInfo)\n            .addOnCompleteListener(new OnCompleteListener&lt;DocumentReference&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentReference&gt; task) {\n\n                    Toast.makeText(addIndividual.this, &quot;Inserted Successfully&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n\n}\n}\n</code></pre>\n<p>XML Code</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:layout_margin=&quot;10dp&quot;\ntools:context=&quot;.PSLogin.addIndividual&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_gravity=&quot;center&quot;&gt;\n\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/individualName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Individual Name&quot;\n        android:layout_below=&quot;@id/textView1&quot;\n        android:layout_marginTop=&quot;40dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n        &gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/individualPhno&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Individual Phone Number&quot;\n        android:layout_below=&quot;@id/username&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n        &gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;textPassword&quot;\n            /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submit&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Submit&quot;\n        android:layout_below=&quot;@id/password&quot;\n        android:onClick=&quot;submitButton&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:gravity=&quot;center&quot;\n        style=&quot;?attr/materialButtonOutlinedStyle&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\nenter code here\n</code></pre>\n<p>I have changed the TextInputLayout to EditText but the problem persists no result\nError\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.text.Editable android.widget.EditText.getText()' on a null object reference\nWhen\npublic EditText individualName;</p>\n<p>Error is occurring at name= individualName.getEditText().getText().toString();</p>\n"},{"tags":["java","mockito","junit4","junit5","powermock"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652191941,"creation_date":1652191941,"answer_id":72187953,"question_id":72187844,"body_markdown":"Don&#39;t try to _mock_ `System::getenv`. Instead, structure your code so that you can replace that method reference with some other value (a mock or just an inline test lambda):\r\n\r\n```\r\nobjectToTest.setGetEnvFunction(key -&gt; testValue);\r\n```","title":"How to mock Function interface from java 8 and System class","body":"<p>Don't try to <em>mock</em> <code>System::getenv</code>. Instead, structure your code so that you can replace that method reference with some other value (a mock or just an inline test lambda):</p>\n<pre><code>objectToTest.setGetEnvFunction(key -&gt; testValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652357683,"creation_date":1652357683,"answer_id":72215393,"question_id":72187844,"body_markdown":"I was able to do so this with :\r\n\r\n ```\r\n  @Test\r\n  @SetEnvironmentVariable(key = TransformerConstants.TRANSFORMER_POOL_SIZE, value = &quot;sadsa&quot;)\r\n  public void testCreateMapper_invalidTransformerPoolSize(){\r\n\t  Assert.assertTrue(factory.createMapper(null) instanceof StandardMapper);\r\n  }","title":"How to mock Function interface from java 8 and System class","body":"<p>I was able to do so this with :</p>\n<pre><code> @Test\n @SetEnvironmentVariable(key = TransformerConstants.TRANSFORMER_POOL_SIZE, value = &quot;sadsa&quot;)\n public void testCreateMapper_invalidTransformerPoolSize(){\n     Assert.assertTrue(factory.createMapper(null) instanceof StandardMapper);\n }\n</code></pre>\n"}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652357683,"creation_date":1652191507,"question_id":72187844,"body_markdown":"I want to mock below call :\r\n\r\n``` \r\n((Function&lt;String, String&gt;) System::getenv).apply(TransformerConstants.TRANSFORMER_POOL_SIZE)\r\n```\r\nI tried using below code :\r\n\r\n```\r\nPowerMockito.when(((Function&lt;String, String&gt;) System::getenv).apply(TransformerConstants.PRECISE_ID_TRANSFORMER_POOL_SIZE)).thenReturn(&quot;dsad&quot;);\r\n```\r\nBut its giving below error :\r\n\r\n\r\n**org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);**\r\n\r\nLet me know how this entire call can be mocked.\r\n","title":"How to mock Function interface from java 8 and System class","body":"<p>I want to mock below call :</p>\n<pre><code>((Function&lt;String, String&gt;) System::getenv).apply(TransformerConstants.TRANSFORMER_POOL_SIZE)\n</code></pre>\n<p>I tried using below code :</p>\n<pre><code>PowerMockito.when(((Function&lt;String, String&gt;) System::getenv).apply(TransformerConstants.PRECISE_ID_TRANSFORMER_POOL_SIZE)).thenReturn(&quot;dsad&quot;);\n</code></pre>\n<p>But its giving below error :</p>\n<p><strong>org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\nwhen(mock.getArticles()).thenReturn(articles);</strong></p>\n<p>Let me know how this entire call can be mocked.</p>\n"},{"tags":["java","android","handler","android-looper"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1652357229,"post_id":72215241,"comment_id":127589569,"body_markdown":"Hello and welcome. Instead of describing your code please show it in the form of a [Minimal, Complete, and Verifiable Example](http://stackoverflow.com/help/mcve).","body":"Hello and welcome. Instead of describing your code please show it in the form of a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":4,"creation_date":1652357242,"post_id":72215241,"comment_id":127589574,"body_markdown":"Your problem is `addView(View, LayoutParams) is not supported in AdapterView` . Not with handler or Looper .  whats on `Binary XML file line #19` ? add it with question .","body":"Your problem is <code>addView(View, LayoutParams) is not supported in AdapterView</code> . Not with handler or Looper .  whats on <code>Binary XML file line #19</code> ? add it with question ."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1652419803,"post_id":72215241,"comment_id":127606172,"body_markdown":"[Edit](https://stackoverflow.com/posts/72215241/edit) your question with an [mcve]. in this case add the layout file with question and indicate which one is line number 19 because thats what causing the crash . Do not add code in comments .","body":"<a href=\"https://stackoverflow.com/posts/72215241/edit\">Edit</a> your question with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. in this case add the layout file with question and indicate which one is line number 19 because thats what causing the crash . Do not add code in comments ."},{"owner":{"account_id":24143928,"reputation":79,"user_id":19088321,"display_name":"Славік Николишин"},"score":0,"creation_date":1652427652,"post_id":72215241,"comment_id":127608201,"body_markdown":"@ADM [link](https://stackoverflow.com/questions/72219819/problems-with-handler-and-looper?noredirect=1#comment127597518_72219819)","body":"@ADM <a href=\"https://stackoverflow.com/questions/72219819/problems-with-handler-and-looper?noredirect=1#comment127597518_72219819\">link</a>"}],"owner":{"account_id":24143928,"reputation":79,"user_id":19088321,"display_name":"Славік Николишин"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1652357388,"creation_date":1652357097,"question_id":72215241,"body_markdown":"My project consists of two parts 1 and 2. \r\n\r\n1) in Maine Activity recorded data, then pressed to the Save button (data stored in Firerbase). \r\n2) Next, we pressed the button to read, and we opened a window with a list, then when you click on a dumb object, we opened a new window with a deployed description. \r\n\r\nThe first part works, and the second doesn&#39;t, the program crashes and shows the following error:\r\n\r\n **LogCat** \r\n\r\n       2022-05-12 14:52:30.530 9756-9756/com.example.t3 E/AndroidRuntime: FATAL EXCEPTION: main\r\n            Process: com.example.t3, PID: 9756\r\n            java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.t3/com.example.t3.ReadActivity}: android.view.InflateException: Binary XML file line #19 in com.example.t3:layout/activity_read: addView(View, LayoutParams) is not supported in AdapterView\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n                at android.os.Handler.dispatchMessage(Handler.java:106)\r\n                at android.os.Looper.loop(Looper.java:223)\r\n                at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n             Caused by: android.view.InflateException: Binary XML file line #19 in com.example.t3:layout/activity_read: addView(View, LayoutParams) is not supported in AdapterView\r\n             Caused by: java.lang.UnsupportedOperationException: addView(View, LayoutParams) is not supported in AdapterView\r\n                at android.widget.AdapterView.addView(AdapterView.java:515)\r\n                at android.view.LayoutInflater.rInflate(LayoutInflater.java:1125)\r\n                at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n                at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\r\n                at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n                at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\r\n                at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n                at com.example.t3.ReadActivity.onCreate(ReadActivity.java:33)\r\n                at android.app.Activity.performCreate(Activity.java:8000)\r\n                at android.app.Activity.performCreate(Activity.java:7984)\r\n                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n                at android.os.Handler.dispatchMessage(Handler.java:106)\r\n                at android.os.Looper.loop(Looper.java:223)\r\n                at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n      @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_read);\r\n        init();\r\n        getDataFromDb();\r\n        setOnClickItem();\r\n    }\r\n\r\n","title":"I have problems with Handler and Looper","body":"<p>My project consists of two parts 1 and 2.</p>\n<ol>\n<li>in Maine Activity recorded data, then pressed to the Save button (data stored in Firerbase).</li>\n<li>Next, we pressed the button to read, and we opened a window with a list, then when you click on a dumb object, we opened a new window with a deployed description.</li>\n</ol>\n<p>The first part works, and the second doesn't, the program crashes and shows the following error:</p>\n<p><strong>LogCat</strong></p>\n<pre><code>   2022-05-12 14:52:30.530 9756-9756/com.example.t3 E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.t3, PID: 9756\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.t3/com.example.t3.ReadActivity}: android.view.InflateException: Binary XML file line #19 in com.example.t3:layout/activity_read: addView(View, LayoutParams) is not supported in AdapterView\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:223)\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n         Caused by: android.view.InflateException: Binary XML file line #19 in com.example.t3:layout/activity_read: addView(View, LayoutParams) is not supported in AdapterView\n         Caused by: java.lang.UnsupportedOperationException: addView(View, LayoutParams) is not supported in AdapterView\n            at android.widget.AdapterView.addView(AdapterView.java:515)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1125)\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n            at com.example.t3.ReadActivity.onCreate(ReadActivity.java:33)\n            at android.app.Activity.performCreate(Activity.java:8000)\n            at android.app.Activity.performCreate(Activity.java:7984)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:223)\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n  @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_read);\n    init();\n    getDataFromDb();\n    setOnClickItem();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation","exception","post"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652356663,"creation_date":1652355916,"answer_id":72214963,"question_id":71992915,"body_markdown":"Since you annotate the controller method argument with `@Valid RegisterUserCommand`, the validation of the object will take place before the execution enters your try/catch block.\r\n\r\nIf you look at the below method located in **ResponseEntityExceptionHandler** then you&#39;ll see that the default implementation looks like this. As you can see, the default is to send null as body, which causes the details to be left out.\r\n\r\n```java\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n\t\tMethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n\treturn handleExceptionInternal(ex, null, headers, status, request);\r\n}\r\n```\r\n\r\nHence, if you want to handle that error differently you would need to add a customized exception handling for that exception type and override the default handler.","title":"Spring @Valid Message Not Coming Through in Response","body":"<p>Since you annotate the controller method argument with <code>@Valid RegisterUserCommand</code>, the validation of the object will take place before the execution enters your try/catch block.</p>\n<p>If you look at the below method located in <strong>ResponseEntityExceptionHandler</strong> then you'll see that the default implementation looks like this. As you can see, the default is to send null as body, which causes the details to be left out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n        MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    return handleExceptionInternal(ex, null, headers, status, request);\n}\n</code></pre>\n<p>Hence, if you want to handle that error differently you would need to add a customized exception handling for that exception type and override the default handler.</p>\n"}],"owner":{"account_id":11092011,"reputation":131,"user_id":8143527,"display_name":"SC4RECROW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72214963,"answer_count":1,"score":0,"last_activity_date":1652356663,"creation_date":1650839930,"question_id":71992915,"body_markdown":"I have a CQRS Rest API using Spring and Axon. Validation is setup for inputs using the `javax.validation` library. The validation is working properly, and catching that the &#39;username&#39; needs to be at least 2 character long. However the message associated with the failed validation is not showing up in the response to the Post request. \r\n\r\nThe response is ultimately missing &#39;errors&#39; and &#39;message&#39; info and I am not sure why. Doesn&#39;t `MethodArgumentNotValidException` get pushed to the try-catch block and get handled? If the validation is working properly, why isn&#39;t the message going out with the &#39;400&#39; status response?\r\n\r\nWhat am I missing?\r\n\r\nThis is the response I am trying to get:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-04-24T01:23:27.809+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;codes&quot;: [\r\n                    &quot;Size.registerUserCommand.user.account.username&quot;,\r\n                    &quot;Size.user.account.username&quot;,\r\n                    &quot;Size.username&quot;,\r\n                    &quot;Size.java.lang.String&quot;,\r\n                    &quot;Size&quot;\r\n                ],\r\n                &quot;arguments&quot;: [\r\n                   {\r\n                        &quot;codes&quot;: [\r\n                            &quot;registerUserCommand.user.account.username&quot;,\r\n                            &quot;user.account.username&quot;\r\n                        ],\r\n                        &quot;arguments&quot;: null,\r\n                        &quot;defaultMessage&quot;: &quot;user.account.username&quot;,\r\n                        &quot;code&quot;: &quot;user.account.username&quot;\r\n                   },\r\n                   2134838498,\r\n                   2\r\n               ],\r\n               &quot;defaultMessage&quot;: &quot;username must have a minimum of 2 characters&quot;,\r\n               &quot;objectName&quot;: &quot;registerUserCommand&quot;,\r\n               &quot;field&quot;: &quot;user.account.username&quot;,\r\n               &quot;rejectedValue&quot;: &quot;m&quot;,\r\n               &quot;bindingFailure&quot;: false,\r\n               &quot;code&quot;: &quot;Size\r\n            }\r\n        ],\r\n        &quot;message&quot;: &quot;Validation failed for object=&#39;registerUserCommand&#39;. Error count: 1&quot;,\r\n        &quot;path&quot;: &quot;/api/v1/registerUser&quot;\r\n    }\r\n\r\nThis is the response I actually get:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-04-24T01:23:27.809+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/api/v1/registerUser&quot;\r\n    }\r\n\r\nPost request that is being sent to the controller:\r\n\r\n    {\r\n        &quot;user&quot;: {\r\n            &quot;firstname&quot;: &quot;Mike&quot;,\r\n            &quot;lastname&quot;: &quot;Jacobs&quot;,\r\n            &quot;emailAddress&quot;: &quot;mike@spripgbank.com&quot;,\r\n            &quot;account&quot;: {\r\n                &quot;username&quot;: &quot;m&quot;,\r\n                &quot;password&quot;: &quot;mik959593e0&quot;,\r\n                &quot;roles&quot;: [\r\n                    &quot;READ_PRIVILEGE&quot;\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\nConsole output from Post request:\r\n\r\n    2022-04-24 20:32:21.339  INFO 11040 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-04-24 20:32:21.340  INFO 11040 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-04-24 20:32:21.343  INFO 11040 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\r\n    2022-04-24 20:32:22.120  WARN 11040 --- [nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;com.springbank.user.cmd.api.dto.RegisterUserResponse&gt; com.springbank.user.cmd.api.controllers.RegisterUserController.registerUser(com.springbank.user.cmd.api.commands.RegisterUserCommand): [Field error in object &#39;registerUserCommand&#39; on field &#39;user.account.username&#39;: rejected value [m]; codes [Size.registerUserCommand.user.account.username,Size.user.account.username,Size.username,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerUserCommand.user.account.username,user.account.username]; arguments []; default message [user.account.username],2147483647,2]; default message [username must have a min of 2 characters]] ]\r\n\r\n\r\nThe Controller that accepts the request:\r\n\r\n        package com.springbank.user.cmd.api.controllers;\r\n\r\n        import com.springbank.user.cmd.api.commands.RegisterUserCommand;\r\n        import com.springbank.user.cmd.api.dto.RegisterUserResponse;\r\n        import org.axonframework.commandhandling.gateway.CommandGateway;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.http.HttpStatus;\r\n        import org.springframework.http.ResponseEntity;\r\n        import org.springframework.web.bind.annotation.PostMapping;\r\n        import org.springframework.web.bind.annotation.RequestBody;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RestController;\r\n        import javax.validation.Valid;\r\n        import java.util.UUID;\r\n        \r\n        @RestController\r\n        @RequestMapping(path = &quot;/api/v1/registerUser&quot;)\r\n        public class RegisterUserController {\r\n             private final CommandGateway commandGateway;\r\n\r\n             @Autowired\r\n             public RegisterUserController(CommandGateway commandGateway) {\r\n                 this.commandGateway = commandGateway;\r\n             }\r\n        \r\n             @PostMapping\r\n             public ResponseEntity&lt;RegisterUserResponse&gt; registerUser(@Valid @RequestBody RegisterUserCommand command) {\r\n                 var id = UUID.randomUUID().toString();\r\n                 command.setId(id);\r\n        \r\n                 try{\r\n                    commandGateway.send(command);\r\n                    return new ResponseEntity&lt;&gt;(new RegisterUserResponse( id, &quot;User Successfully Registered&quot;), HttpStatus.CREATED);\r\n        \r\n                 }catch (Exception e) {\r\n                     var safeErrorMessage = &quot;Error while processing register user request for id - &quot; + id;\r\n                     System.out.println(e.toString());\r\n        \r\n                     return new ResponseEntity&lt;&gt;(new RegisterUserResponse( id, safeErrorMessage), HttpStatus.INTERNAL_SERVER_ERROR);\r\n                 }\r\n             }\r\n        }\r\n    \r\nThe Command:\r\n\r\n\r\n    package com.springbank.user.cmd.api.commands;\r\n    \r\n    import com.springbank.user.core.models.User;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import org.axonframework.modelling.command.TargetAggregateIdentifier;\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class RegisterUserCommand {\r\n    \r\n        @TargetAggregateIdentifier\r\n        private String id;\r\n        @NotNull(message = &quot;Need to supply User info&quot;)\r\n        @Valid\r\n        private User user;\r\n    }\r\n\r\n\r\n\r\nThe User model:\r\n    \r\n    package com.springbank.user.core.models;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Document(collection = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        private String id;\r\n        @NotEmpty(message = &quot;firstname is mandatory&quot;)\r\n        private String firstname;\r\n        @NotEmpty(message = &quot;lastname is mandatory&quot;)\r\n        private String lastname;\r\n        @Email(message = &quot;please provide a valid email&quot;)\r\n        private String emailAddress;\r\n        @NotNull(message = &quot;Please provide account Credentials&quot;)\r\n        @Valid\r\n        private Account account;\r\n    }\r\n\r\nAccount model where the validation is happening:\r\n\r\n    package com.springbank.user.core.models;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class Account {\r\n        @Size(min = 2, message = &quot;username must have a min of 2 characters&quot;)\r\n        private String username;\r\n        @Size(min = 7, message = &quot;password must have a min of 7 characters&quot;)\r\n        private String password;\r\n        @NotNull(message = &quot;specify at least one user role&quot;)\r\n        private List&lt;Role&gt; roles;\r\n    }\r\n\r\n\r\nThe RegisterUserResponse:\r\n\r\n\r\n\r\n    package com.springbank.user.cmd.api.dto;\r\n    \r\n    \r\n    public class RegisterUserResponse extends BaseResponse{\r\n        private String id;\r\n    \r\n        public RegisterUserResponse(String id, String message) {\r\n            super(message);\r\n            this.id = id;\r\n        }\r\n    }\r\n    \r\n        \r\nThe BasicResponse:\r\n\r\n\r\n    package com.springbank.user.cmd.api.dto;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    public class BaseResponse {\r\n        private String Message;\r\n    }\r\n\r\n\r\n\r\n","title":"Spring @Valid Message Not Coming Through in Response","body":"<p>I have a CQRS Rest API using Spring and Axon. Validation is setup for inputs using the <code>javax.validation</code> library. The validation is working properly, and catching that the 'username' needs to be at least 2 character long. However the message associated with the failed validation is not showing up in the response to the Post request.</p>\n<p>The response is ultimately missing 'errors' and 'message' info and I am not sure why. Doesn't <code>MethodArgumentNotValidException</code> get pushed to the try-catch block and get handled? If the validation is working properly, why isn't the message going out with the '400' status response?</p>\n<p>What am I missing?</p>\n<p>This is the response I am trying to get:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-04-24T01:23:27.809+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;errors&quot;: [\n        {\n            &quot;codes&quot;: [\n                &quot;Size.registerUserCommand.user.account.username&quot;,\n                &quot;Size.user.account.username&quot;,\n                &quot;Size.username&quot;,\n                &quot;Size.java.lang.String&quot;,\n                &quot;Size&quot;\n            ],\n            &quot;arguments&quot;: [\n               {\n                    &quot;codes&quot;: [\n                        &quot;registerUserCommand.user.account.username&quot;,\n                        &quot;user.account.username&quot;\n                    ],\n                    &quot;arguments&quot;: null,\n                    &quot;defaultMessage&quot;: &quot;user.account.username&quot;,\n                    &quot;code&quot;: &quot;user.account.username&quot;\n               },\n               2134838498,\n               2\n           ],\n           &quot;defaultMessage&quot;: &quot;username must have a minimum of 2 characters&quot;,\n           &quot;objectName&quot;: &quot;registerUserCommand&quot;,\n           &quot;field&quot;: &quot;user.account.username&quot;,\n           &quot;rejectedValue&quot;: &quot;m&quot;,\n           &quot;bindingFailure&quot;: false,\n           &quot;code&quot;: &quot;Size\n        }\n    ],\n    &quot;message&quot;: &quot;Validation failed for object='registerUserCommand'. Error count: 1&quot;,\n    &quot;path&quot;: &quot;/api/v1/registerUser&quot;\n}\n</code></pre>\n<p>This is the response I actually get:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-04-24T01:23:27.809+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/api/v1/registerUser&quot;\n}\n</code></pre>\n<p>Post request that is being sent to the controller:</p>\n<pre><code>{\n    &quot;user&quot;: {\n        &quot;firstname&quot;: &quot;Mike&quot;,\n        &quot;lastname&quot;: &quot;Jacobs&quot;,\n        &quot;emailAddress&quot;: &quot;mike@spripgbank.com&quot;,\n        &quot;account&quot;: {\n            &quot;username&quot;: &quot;m&quot;,\n            &quot;password&quot;: &quot;mik959593e0&quot;,\n            &quot;roles&quot;: [\n                &quot;READ_PRIVILEGE&quot;\n            ]\n        }\n    }\n}\n</code></pre>\n<p>Console output from Post request:</p>\n<pre><code>2022-04-24 20:32:21.339  INFO 11040 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-04-24 20:32:21.340  INFO 11040 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-04-24 20:32:21.343  INFO 11040 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\n2022-04-24 20:32:22.120  WARN 11040 --- [nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;com.springbank.user.cmd.api.dto.RegisterUserResponse&gt; com.springbank.user.cmd.api.controllers.RegisterUserController.registerUser(com.springbank.user.cmd.api.commands.RegisterUserCommand): [Field error in object 'registerUserCommand' on field 'user.account.username': rejected value [m]; codes [Size.registerUserCommand.user.account.username,Size.user.account.username,Size.username,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerUserCommand.user.account.username,user.account.username]; arguments []; default message [user.account.username],2147483647,2]; default message [username must have a min of 2 characters]] ]\n</code></pre>\n<p>The Controller that accepts the request:</p>\n<pre><code>    package com.springbank.user.cmd.api.controllers;\n\n    import com.springbank.user.cmd.api.commands.RegisterUserCommand;\n    import com.springbank.user.cmd.api.dto.RegisterUserResponse;\n    import org.axonframework.commandhandling.gateway.CommandGateway;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    import org.springframework.http.ResponseEntity;\n    import org.springframework.web.bind.annotation.PostMapping;\n    import org.springframework.web.bind.annotation.RequestBody;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    import javax.validation.Valid;\n    import java.util.UUID;\n    \n    @RestController\n    @RequestMapping(path = &quot;/api/v1/registerUser&quot;)\n    public class RegisterUserController {\n         private final CommandGateway commandGateway;\n\n         @Autowired\n         public RegisterUserController(CommandGateway commandGateway) {\n             this.commandGateway = commandGateway;\n         }\n    \n         @PostMapping\n         public ResponseEntity&lt;RegisterUserResponse&gt; registerUser(@Valid @RequestBody RegisterUserCommand command) {\n             var id = UUID.randomUUID().toString();\n             command.setId(id);\n    \n             try{\n                commandGateway.send(command);\n                return new ResponseEntity&lt;&gt;(new RegisterUserResponse( id, &quot;User Successfully Registered&quot;), HttpStatus.CREATED);\n    \n             }catch (Exception e) {\n                 var safeErrorMessage = &quot;Error while processing register user request for id - &quot; + id;\n                 System.out.println(e.toString());\n    \n                 return new ResponseEntity&lt;&gt;(new RegisterUserResponse( id, safeErrorMessage), HttpStatus.INTERNAL_SERVER_ERROR);\n             }\n         }\n    }\n</code></pre>\n<p>The Command:</p>\n<pre><code>package com.springbank.user.cmd.api.commands;\n\nimport com.springbank.user.core.models.User;\nimport lombok.Builder;\nimport lombok.Data;\nimport org.axonframework.modelling.command.TargetAggregateIdentifier;\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\n@Data\n@Builder\npublic class RegisterUserCommand {\n\n    @TargetAggregateIdentifier\n    private String id;\n    @NotNull(message = &quot;Need to supply User info&quot;)\n    @Valid\n    private User user;\n}\n</code></pre>\n<p>The User model:</p>\n<pre><code>package com.springbank.user.core.models;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport javax.validation.Valid;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Document(collection = &quot;users&quot;)\npublic class User {\n    @Id\n    private String id;\n    @NotEmpty(message = &quot;firstname is mandatory&quot;)\n    private String firstname;\n    @NotEmpty(message = &quot;lastname is mandatory&quot;)\n    private String lastname;\n    @Email(message = &quot;please provide a valid email&quot;)\n    private String emailAddress;\n    @NotNull(message = &quot;Please provide account Credentials&quot;)\n    @Valid\n    private Account account;\n}\n</code></pre>\n<p>Account model where the validation is happening:</p>\n<pre><code>package com.springbank.user.core.models;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport java.util.List;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Account {\n    @Size(min = 2, message = &quot;username must have a min of 2 characters&quot;)\n    private String username;\n    @Size(min = 7, message = &quot;password must have a min of 7 characters&quot;)\n    private String password;\n    @NotNull(message = &quot;specify at least one user role&quot;)\n    private List&lt;Role&gt; roles;\n}\n</code></pre>\n<p>The RegisterUserResponse:</p>\n<pre><code>package com.springbank.user.cmd.api.dto;\n\n\npublic class RegisterUserResponse extends BaseResponse{\n    private String id;\n\n    public RegisterUserResponse(String id, String message) {\n        super(message);\n        this.id = id;\n    }\n}\n\n    \n</code></pre>\n<p>The BasicResponse:</p>\n<pre><code>package com.springbank.user.cmd.api.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\n@Data\n@AllArgsConstructor\npublic class BaseResponse {\n    private String Message;\n}\n</code></pre>\n"},{"tags":["java","classpath","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1652358053,"post_id":72215145,"comment_id":127589855,"body_markdown":"these are old versions. upgrade to 1.2.0 and if you still see issues, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"these are old versions. upgrade to 1.2.0 and if you still see issues, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"}],"owner":{"account_id":25272665,"reputation":11,"user_id":19101788,"display_name":"Anushri J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652358131,"answer_count":0,"score":1,"last_activity_date":1652356658,"creation_date":1652356658,"question_id":72215145,"body_markdown":"I am getting the error **&quot;org.graalvm.polyglot.PolyglotException: not found: src\\test\\java\\data\\commonData.csv&quot;** when using classpath to specify the file location. \r\nI am using karate-apache version 0.9.6 &amp; karate-core 1.1.0 dependencies in my pom.xml file and jdk version 1.8.0_321. \r\n\r\nBelow is the error trace:\r\n    * def datasource = read(&#39;classpath:src\\\\test\\\\java\\\\data\\\\commonData.csv&#39;)\r\n    js failed:\r\n    &gt;&gt;&gt;&gt;\r\n    01: read(&#39;classpath:src\\\\test\\\\java\\\\data\\\\commonData.csv&#39;)\r\n    &lt;&lt;&lt;&lt;\r\n    org.graalvm.polyglot.PolyglotException: not found: src\\test\\java\\data\\commonData.csv\r\n   - com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:120)\r\n   - com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:122)\r\n   - com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)\r\n   - com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)\r\n   - com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:68)\r\n   - com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:124)\r\n   - &lt;js&gt;.:program(Unnamed:1)\r\n\r\nHave tried specifying the path in below ways and still ended up getting the same error: \r\n\r\n1. with one back slash\r\n   * def datasource = read(&#39;classpath:src/test/java/data/commonData.csv&#39;)\r\n2. with two forward slashes \r\n  * def datasource = read(&#39;classpath:src\\\\test\\\\java\\\\data\\\\commonData.csv&#39;)","title":"Karate 0.9.6 1.1.0 - org.graalvm.polyglot.PolyglotException: not found error when using classpath to specify the file location","body":"<p>I am getting the error <strong>&quot;org.graalvm.polyglot.PolyglotException: not found: src\\test\\java\\data\\commonData.csv&quot;</strong> when using classpath to specify the file location.\nI am using karate-apache version 0.9.6 &amp; karate-core 1.1.0 dependencies in my pom.xml file and jdk version 1.8.0_321.</p>\n<p>Below is the error trace:\n* def datasource = read('classpath:src\\test\\java\\data\\commonData.csv')\njs failed:\n&gt;&gt;&gt;&gt;\n01: read('classpath:src\\test\\java\\data\\commonData.csv')\n&lt;&lt;&lt;&lt;\norg.graalvm.polyglot.PolyglotException: not found: src\\test\\java\\data\\commonData.csv</p>\n<ul>\n<li>com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:120)</li>\n<li>com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:122)</li>\n<li>com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)</li>\n<li>com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)</li>\n<li>com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:68)</li>\n<li>com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:124)</li>\n<li>.:program(Unnamed:1)</li>\n</ul>\n<p>Have tried specifying the path in below ways and still ended up getting the same error:</p>\n<ol>\n<li>with one back slash\n<ul>\n<li>def datasource = read('classpath:src/test/java/data/commonData.csv')</li>\n</ul>\n</li>\n<li>with two forward slashes</li>\n</ol>\n<ul>\n<li>def datasource = read('classpath:src\\test\\java\\data\\commonData.csv')</li>\n</ul>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1652347807,"post_id":72213097,"comment_id":127586269,"body_markdown":"Are you getting a compile error *variable a might not have been initialized*?","body":"Are you getting a compile error <i>variable a might not have been initialized</i>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1652347871,"post_id":72213097,"comment_id":127586299,"body_markdown":"You have created a path through your code in which a might not be initialised.","body":"You have created a path through your code in which a might not be initialised."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1652347905,"post_id":72213097,"comment_id":127586317,"body_markdown":"Note: you really want to read [mcve] and enhance your question accordingly.","body":"Note: you really want to read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652349827,"post_id":72213097,"comment_id":127587005,"body_markdown":"@JoSSte An `int` cannot have a `NullPointerException` as it cannot be null. As far as the compile is concerned, there is a code-path (the catch block) that doesn&#39;t initialize `a`, so it simply disallows it.","body":"@JoSSte An <code>int</code> cannot have a <code>NullPointerException</code> as it cannot be null. As far as the compile is concerned, there is a code-path (the catch block) that doesn&#39;t initialize <code>a</code>, so it simply disallows it."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1652351207,"post_id":72213097,"comment_id":127587459,"body_markdown":"good point - couldn&#39;t edit it - so removed my comment instead","body":"good point - couldn&#39;t edit it - so removed my comment instead"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652356035,"creation_date":1652347869,"answer_id":72213180,"question_id":72213097,"body_markdown":"The java compiler doesn&#39;t know what is going to happen in the try block. \r\n\r\nThe whole point of the try/catch is: there is some code that *might* execute fine, or might not. Therefore the assignment to `a` inside the try block is not guaranteed to happen, therefore the following **read access** to `a` might find it as (still) not initialized.\r\n\r\nThe real answer: there are many situations where a human reader can see &quot;there is no problem here&quot;. But the java compiler fails to recognize that special case. Of course, one *could* write a compiler that detects &quot;a is assigned a value, and that code will never throw an exception&quot;. But the java compiler isn&#39;t written that way. That is all there is to this.\r\n","title":"why initializing varaible within try block does not persist outside?","body":"<p>The java compiler doesn't know what is going to happen in the try block.</p>\n<p>The whole point of the try/catch is: there is some code that <em>might</em> execute fine, or might not. Therefore the assignment to <code>a</code> inside the try block is not guaranteed to happen, therefore the following <strong>read access</strong> to <code>a</code> might find it as (still) not initialized.</p>\n<p>The real answer: there are many situations where a human reader can see &quot;there is no problem here&quot;. But the java compiler fails to recognize that special case. Of course, one <em>could</em> write a compiler that detects &quot;a is assigned a value, and that code will never throw an exception&quot;. But the java compiler isn't written that way. That is all there is to this.</p>\n"}],"owner":{"account_id":25271313,"reputation":1,"user_id":19100608,"display_name":"Hitesh Poddar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652349067,"answer_count":1,"score":-1,"last_activity_date":1652356035,"creation_date":1652347522,"question_id":72213097,"body_markdown":"```java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        int a;\r\n        // for( a=0; a&lt;5; a++ ){}\r\n        try {\r\n            a=10;\r\n        } catch (Exception e) {\r\n            //TODO: handle exception\r\n        }\r\n        System.out.println(a);\r\n    }\r\n}\r\n```\r\nIn the above code, initialization to var `a` by for loop persists while printing it, but not with try block.","title":"why initializing varaible within try block does not persist outside?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        \n        int a;\n        // for( a=0; a&lt;5; a++ ){}\n        try {\n            a=10;\n        } catch (Exception e) {\n            //TODO: handle exception\n        }\n        System.out.println(a);\n    }\n}\n</code></pre>\n<p>In the above code, initialization to var <code>a</code> by for loop persists while printing it, but not with try block.</p>\n"},{"tags":["java","android","masking","maskformatter"],"answers":[{"tags":[],"owner":{"account_id":5124885,"reputation":1716,"user_id":4107331,"accept_rate":67,"display_name":"Stephen McCormick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1527792143,"creation_date":1527792143,"answer_id":50630817,"question_id":50533754,"body_markdown":"Ok, now I know why no one answered this one - it is nasty. I did a lot of research and could find nothing even remotely similar - maybe I am not good at searching. First a little history of my research. I thought originally I could just watch keystrokes in the field and react to those. Not really. You can do so with hard keyboards, but not soft. I tried various methods against a Samsung device without success. Maybe someone knows a trick but I could not find it.\r\nSo I went to the only option available -the TextWatcher. The only real issue is that you can&#39;t really see what key was pressed to react (was a number added or the delete key hit?), so you have to check the previous string with the current changed string and do your best to determine what has changed and what to do about it.\r\n\r\nJust to help, the behavior I achieved was basically to all users to enter in numbers (0-9) and to NOT change the other elements of the mask. Also I needed to move the cursor to the proper position as they entered or deleted items. Additionally if they we deleting we needed to remove the proper element and place back the mask. \r\n\r\nFor example, if the mask was &quot;ADX-###-R&quot; then following would happen as you type:\r\n\r\n    Given : &quot;ADX-###-R&quot; Typing: &quot;4&quot; Results: &quot;ADX-4##-R&quot; Cursor at &quot;4&quot;\r\n    Given : &quot;ADX-4##-R&quot; Typing: &quot;3&quot; Results: &quot;ADX-43#-R&quot; Cursor at &quot;3&quot;\r\n    Given : &quot;ADX-43#-R&quot; Typing: &quot;1&quot; Results: &quot;ADX-431-R&quot; Cursor at end of string\r\n    Given : &quot;ADX-431-R&quot; Typing: &quot;Del&quot; Results: &quot;ADX-43#-R&quot; Cursor at &quot;3&quot;\r\n\r\nThat is the gist of it. We also have the requirement for Hint/Placeholder and Default values, all of which I have left in. Now the code. \r\n\r\nHere is a screen shot of what it looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFirst the XML:\r\n\r\n    &lt;LinearLayout \r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;&gt;\r\n        \r\n        &lt;TextView\r\n            android:id=&quot;@+id/name&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;normal&quot;\r\n            android:paddingLeft=&quot;5dp&quot;\r\n    \t   \tandroid:paddingRight=&quot;5dp&quot;\r\n            android:text=&quot;&quot; /&gt;\r\n        \r\n        &lt;EditText android:id=&quot;@+id/entry&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:ellipsize=&quot;end&quot; /&gt; \r\n        \r\n        &lt;View\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:background=&quot;@android:color/darker_gray&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n        \r\n    &lt;/LinearLayout&gt;\r\n\r\nThe Main field code:\r\n\r\n    public class FormattedInput extends LinearLayout {\r\n        \r\n        private Context mContext;\r\n        private Field mField;\r\n        private TextView mName;\r\n        private EditText mEntry;\r\n        private Boolean mEnableEvents = true;\r\n        private String mPlaceholderText = &quot;&quot;;\r\n        private final static String REPLACE_CHAR = &quot; &quot;; // Replace missing data with blank\r\n        \r\n        public FormattedInput(Context context, Field field) {\r\n        \tsuper(context);\r\n        \t\r\n        \tmContext = context;\r\n        \tmField = field;\r\n        \t\r\n        \tinitialize();\r\n        \trender(mField);\r\n        }\r\n        \r\n        private void initialize() {\r\n        \t\r\n        \tLayoutInflater inflater = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        \tinflater.inflate(R.layout.field_formatted_input, this);\r\n        \t\r\n        \t// setup fields\r\n        \tmName = (TextView)findViewById(R.id.name);\r\n        \tmEntry = (EditText)findViewById(R.id.entry);\r\n        \tmEntry.setFocusable(true);\r\n        \tmEntry.setRawInputType(Configuration.KEYBOARD_QWERTY);\r\n        \tmEntry.addTextChangedListener(\r\n            \t\tnew MaskedWatcher(mField.getDisplayMask())\r\n            );\r\n        }\r\n        \r\n        public void render(Field field) {\r\n        \tmName.setText(mField.getFieldName());\r\n        \r\n        \tmPlaceholderText = mField.getPlaceholderText();\r\n        \tif(Utilities.stringIsBlank(mPlaceholderText)) {\r\n        \t\tmPlaceholderText = mField.getDisplayMask();\r\n        \t}\r\n        \tmEntry.setHint(mPlaceholderText);\r\n        \tmEntry.setHintTextColor(Color.GRAY);\r\n        \t\r\n        \tif(!Utilities.stringIsBlank(mField.getValue())) {\r\n        \t\tmEnableEvents = false;\r\n        \t\tString value =  String.valueOf(mField.getValue());\r\n        \t\tif (value.equalsIgnoreCase(mField.getDisplayMask()))\r\n        \t\t\tmEntry.setText(mField.getDisplayMask());\r\n        \t\telse {\r\n        \t\t\tString val = fillValueWithMask(value, mField.getDisplayMask());\r\n        \t\t\tmEntry.setText(val);\r\n        \t\t}\r\n        \t\tmEnableEvents = true;\r\n        \t}\r\n        \telse if (!Utilities.stringIsBlank(mField.getDefaultValue())) {\r\n        \t\tmEnableEvents = false;\r\n        \t\tString val = fillValueWithMask(mField.getDefaultValue(), mField.getDisplayMask());\r\n        \t\tmEntry.setText(val);\r\n        \t\tmEnableEvents = true;\r\n        \t}\r\n        \telse {\r\n        \t\tmEnableEvents = false;\r\n        \t\tmEntry.setText(null);\r\n        \t\tmEnableEvents = true;\r\n        \t}\r\n        }\r\n        \r\n        public static String fillValueWithMask(String value, String mask) {\r\n        \tStringBuffer result = new StringBuffer(mask);\r\n        \tfor (int i = 0; i &lt; value.length() &amp;&amp; i &lt;= mask.length()-1 ; i++){\r\n        \t\tif (mask.charAt(i) == &#39;#&#39; &amp;&amp; value.charAt(i) != &#39; &#39; &amp;&amp; Character.isDigit(value.charAt(i)))\r\n        \t\t\tresult.setCharAt(i,value.charAt(i));\r\n        \t}\r\n        \treturn result.toString();\r\n        }\r\n        \r\n        public class MaskedWatcher implements TextWatcher {\r\n        \t\r\n        \tprivate String mMask;\r\n        \tString mResult = &quot;&quot;;\t\r\n        \tString mPrevResult = &quot;&quot;;\r\n        \tint deletePosition = 0;\r\n        \t\r\n        \tpublic MaskedWatcher(String mask){\r\n        \t\tmMask = mask;\r\n        \t}\r\n        \r\n        \tpublic void afterTextChanged(Editable s) {\r\n        \t\t\r\n        \t\tString value = s.toString();\r\n        \r\n        \t\t// No Change, return - or reset of field\r\n        \t\tif (value.equals(mPrevResult) &amp;&amp; (!Utilities.stringIsBlank(value) &amp;&amp; !Utilities.stringIsBlank(mPrevResult))) {\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \r\n        \t\tString diff = value;\r\n        \t\t// First time in and no value, set value to mask\r\n        \t\tif (Utilities.stringIsBlank(mPrevResult) &amp;&amp; Utilities.stringIsBlank(value)) {\r\n        \t\t\tmPrevResult = mMask;\r\n        \t\t\tmEntry.setText(mPrevResult);\r\n        \t\t}\r\n        \t\t// If time, but have value\r\n        \t\telse if (Utilities.stringIsBlank(mPrevResult) &amp;&amp; !Utilities.stringIsBlank(value)) {\r\n        \t\t\tmPrevResult = value;\r\n        \t\t\tmEntry.setText(mPrevResult);\r\n        \t\t}\r\n        \t\t// Handle other cases of delete and new value, or no more typing allowed\r\n        \t\telse {\r\n        \t\t\t// If the new value is larger or equal than the previous value, we have a new value\r\n        \t\t\tif (value.length() &gt;= mPrevResult.length())\r\n        \t\t\t\tdiff = Utilities.difference(mPrevResult, value);\r\n        \r\n        \t\t\t// See if new string is smaller, if so it was a delete.\r\n        \t\t\tif (value.length() &lt; mPrevResult.length()) {\r\n        \t\t\t\tmPrevResult = removeCharAt(mPrevResult, deletePosition);\r\n        \t\t\t\t// Deleted back to mask, reset\r\n        \t\t\t\tif (mPrevResult.equalsIgnoreCase(mMask)) {\r\n        \t\t\t\t\tmPrevResult = &quot;&quot;;\r\n        \t\t\t\t\tsetFieldValue(&quot;&quot;);\r\n        \t\t\t\t\tmEntry.setText(&quot;&quot;);\r\n        \t\t\t\t\tmEntry.setHint(mPlaceholderText);\r\n        \t\t\t\t\treturn;\r\n        \t\t\t\t}\r\n        \t\t\t\t// Otherwise set value\r\n        \t\t\t\telse\r\n        \t\t\t\t\tsetFieldValue(mPrevResult);\r\n        \t\t\t\tmEntry.setText(mPrevResult);\r\n        \t\t\t}\r\n        \t\t\t// A new value was added, add to end\r\n        \t\t\telse if (mPrevResult.indexOf(&#39;#&#39;) != -1) {\r\n        \t\t\t\tmPrevResult = mPrevResult.replaceFirst(&quot;#&quot;, diff);\r\n        \t\t\t\tmEntry.setText(mPrevResult);\r\n        \t\t\t\tsetFieldValue(mPrevResult);\r\n        \t\t\t}\r\n        \t\t\t// Unallowed change, reset the value back\r\n        \t\t\telse {\r\n        \t\t\t\tmEntry.setText(mPrevResult);\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\t// Move cursor to next spot\r\n        \t\tint i = mPrevResult.indexOf(&#39;#&#39;);\r\n        \t\tif (i != -1)\r\n        \t\t\tmEntry.setSelection(i);\r\n        \t\telse\r\n        \t\t\tmEntry.setSelection(mPrevResult.length());\r\n        \t}\r\n        \r\n        \tprivate void setFieldValue(String value) {\r\n        \t\t//mEnableEvents = false;\r\n        \t\tif(mEnableEvents == false) {\r\n            \t\treturn;\r\n            \t}\r\n        \t\t// Set the value or do whatever you want to do to save or react to the change\r\n        \t}\r\n        \r\n        \tprivate String replaceMask(String str) {\r\n        \t\treturn str.replaceAll(&quot;#&quot;,REPLACE_CHAR);\r\n        \t}\r\n        \r\n        \tprivate String removeCharAt(String str, int pos) {\r\n        \t\tStringBuilder info = new StringBuilder(str);\r\n        \t\t// If the position is a mask character, change it, else ignore the change\r\n        \t\tif (mMask.charAt(pos) == &#39;#&#39;) {\r\n        \t\t\tinfo.setCharAt(pos, &#39;#&#39;);\r\n        \t\t\treturn info.toString();\r\n        \t\t}\r\n        \t\telse {\r\n        \t\t\tToast.makeText(mContext, &quot;The mask value can&#39;t be deleted, only modifiable portion&quot;, Toast.LENGTH_SHORT);\r\n        \t\t\treturn str;\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tpublic void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n        \t}\r\n        \r\n        \tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\r\n        \t\tdeletePosition = start;\r\n        \t}\r\n        \t\r\n        }\r\n    }\r\n\r\n\r\nThe Utility code:\r\n\r\n    public static boolean stringIsBlank(String stringValue) {\r\n        if (stringValue != null) {\r\n            return stringValue.trim().length() &lt;= 0;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    public static String difference(String str1, String str2) {\r\n        int at = indexOfDifference(str1, str2);\r\n        if (at == -1) {\r\n            return &quot;&quot;;\r\n        }\r\n        return str2.substring(at,at+1);\r\n    }\r\n\r\nAnd the Field class...you will need to add the getters and setters:\r\n\r\n    public class Field {\r\n        private String defaultValue;\r\n    \tprivate Object value;\r\n    \tprivate String displayMask;\r\n    \tprivate String placeholderText;\r\n    }\r\n\r\nSome final thoughts. The basic mechanism is to compare the previous string with the current string. If the new string is smaller, then we are deleting and we use the `deletePosition` so long as the position matches a &quot;#&quot; in the mask, since other characters are non-modifiable. There are also issues of a previous value coming in - and it is assumed that if that value comes in the &quot;#&quot; values if missing will have been replaced by &quot; &quot; (blanks). The `Field` is not necessary, but was a helper class that in our case has tons of other functionality. Hope this helps someone!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7DLBr.jpg\r\n","title":"Android mask formatter that allows only Integers but with text in mask","body":"<p>Ok, now I know why no one answered this one - it is nasty. I did a lot of research and could find nothing even remotely similar - maybe I am not good at searching. First a little history of my research. I thought originally I could just watch keystrokes in the field and react to those. Not really. You can do so with hard keyboards, but not soft. I tried various methods against a Samsung device without success. Maybe someone knows a trick but I could not find it.\nSo I went to the only option available -the TextWatcher. The only real issue is that you can't really see what key was pressed to react (was a number added or the delete key hit?), so you have to check the previous string with the current changed string and do your best to determine what has changed and what to do about it.</p>\n\n<p>Just to help, the behavior I achieved was basically to all users to enter in numbers (0-9) and to NOT change the other elements of the mask. Also I needed to move the cursor to the proper position as they entered or deleted items. Additionally if they we deleting we needed to remove the proper element and place back the mask. </p>\n\n<p>For example, if the mask was \"ADX-###-R\" then following would happen as you type:</p>\n\n<pre><code>Given : \"ADX-###-R\" Typing: \"4\" Results: \"ADX-4##-R\" Cursor at \"4\"\nGiven : \"ADX-4##-R\" Typing: \"3\" Results: \"ADX-43#-R\" Cursor at \"3\"\nGiven : \"ADX-43#-R\" Typing: \"1\" Results: \"ADX-431-R\" Cursor at end of string\nGiven : \"ADX-431-R\" Typing: \"Del\" Results: \"ADX-43#-R\" Cursor at \"3\"\n</code></pre>\n\n<p>That is the gist of it. We also have the requirement for Hint/Placeholder and Default values, all of which I have left in. Now the code. </p>\n\n<p>Here is a screen shot of what it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7DLBr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7DLBr.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>First the XML:</p>\n\n<pre><code>&lt;LinearLayout \n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"true\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/name\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"18sp\"\n        android:textStyle=\"normal\"\n        android:paddingLeft=\"5dp\"\n        android:paddingRight=\"5dp\"\n        android:text=\"\" /&gt;\n\n    &lt;EditText android:id=\"@+id/entry\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"right\"\n        android:singleLine=\"true\"\n        android:maxLines=\"1\"\n        android:ellipsize=\"end\" /&gt; \n\n    &lt;View\n        android:layout_marginTop=\"8dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\"\n        android:background=\"@android:color/darker_gray\"\n        android:visibility=\"gone\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>The Main field code:</p>\n\n<pre><code>public class FormattedInput extends LinearLayout {\n\n    private Context mContext;\n    private Field mField;\n    private TextView mName;\n    private EditText mEntry;\n    private Boolean mEnableEvents = true;\n    private String mPlaceholderText = \"\";\n    private final static String REPLACE_CHAR = \" \"; // Replace missing data with blank\n\n    public FormattedInput(Context context, Field field) {\n        super(context);\n\n        mContext = context;\n        mField = field;\n\n        initialize();\n        render(mField);\n    }\n\n    private void initialize() {\n\n        LayoutInflater inflater = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        inflater.inflate(R.layout.field_formatted_input, this);\n\n        // setup fields\n        mName = (TextView)findViewById(R.id.name);\n        mEntry = (EditText)findViewById(R.id.entry);\n        mEntry.setFocusable(true);\n        mEntry.setRawInputType(Configuration.KEYBOARD_QWERTY);\n        mEntry.addTextChangedListener(\n                new MaskedWatcher(mField.getDisplayMask())\n        );\n    }\n\n    public void render(Field field) {\n        mName.setText(mField.getFieldName());\n\n        mPlaceholderText = mField.getPlaceholderText();\n        if(Utilities.stringIsBlank(mPlaceholderText)) {\n            mPlaceholderText = mField.getDisplayMask();\n        }\n        mEntry.setHint(mPlaceholderText);\n        mEntry.setHintTextColor(Color.GRAY);\n\n        if(!Utilities.stringIsBlank(mField.getValue())) {\n            mEnableEvents = false;\n            String value =  String.valueOf(mField.getValue());\n            if (value.equalsIgnoreCase(mField.getDisplayMask()))\n                mEntry.setText(mField.getDisplayMask());\n            else {\n                String val = fillValueWithMask(value, mField.getDisplayMask());\n                mEntry.setText(val);\n            }\n            mEnableEvents = true;\n        }\n        else if (!Utilities.stringIsBlank(mField.getDefaultValue())) {\n            mEnableEvents = false;\n            String val = fillValueWithMask(mField.getDefaultValue(), mField.getDisplayMask());\n            mEntry.setText(val);\n            mEnableEvents = true;\n        }\n        else {\n            mEnableEvents = false;\n            mEntry.setText(null);\n            mEnableEvents = true;\n        }\n    }\n\n    public static String fillValueWithMask(String value, String mask) {\n        StringBuffer result = new StringBuffer(mask);\n        for (int i = 0; i &lt; value.length() &amp;&amp; i &lt;= mask.length()-1 ; i++){\n            if (mask.charAt(i) == '#' &amp;&amp; value.charAt(i) != ' ' &amp;&amp; Character.isDigit(value.charAt(i)))\n                result.setCharAt(i,value.charAt(i));\n        }\n        return result.toString();\n    }\n\n    public class MaskedWatcher implements TextWatcher {\n\n        private String mMask;\n        String mResult = \"\";    \n        String mPrevResult = \"\";\n        int deletePosition = 0;\n\n        public MaskedWatcher(String mask){\n            mMask = mask;\n        }\n\n        public void afterTextChanged(Editable s) {\n\n            String value = s.toString();\n\n            // No Change, return - or reset of field\n            if (value.equals(mPrevResult) &amp;&amp; (!Utilities.stringIsBlank(value) &amp;&amp; !Utilities.stringIsBlank(mPrevResult))) {\n                return;\n            }\n\n            String diff = value;\n            // First time in and no value, set value to mask\n            if (Utilities.stringIsBlank(mPrevResult) &amp;&amp; Utilities.stringIsBlank(value)) {\n                mPrevResult = mMask;\n                mEntry.setText(mPrevResult);\n            }\n            // If time, but have value\n            else if (Utilities.stringIsBlank(mPrevResult) &amp;&amp; !Utilities.stringIsBlank(value)) {\n                mPrevResult = value;\n                mEntry.setText(mPrevResult);\n            }\n            // Handle other cases of delete and new value, or no more typing allowed\n            else {\n                // If the new value is larger or equal than the previous value, we have a new value\n                if (value.length() &gt;= mPrevResult.length())\n                    diff = Utilities.difference(mPrevResult, value);\n\n                // See if new string is smaller, if so it was a delete.\n                if (value.length() &lt; mPrevResult.length()) {\n                    mPrevResult = removeCharAt(mPrevResult, deletePosition);\n                    // Deleted back to mask, reset\n                    if (mPrevResult.equalsIgnoreCase(mMask)) {\n                        mPrevResult = \"\";\n                        setFieldValue(\"\");\n                        mEntry.setText(\"\");\n                        mEntry.setHint(mPlaceholderText);\n                        return;\n                    }\n                    // Otherwise set value\n                    else\n                        setFieldValue(mPrevResult);\n                    mEntry.setText(mPrevResult);\n                }\n                // A new value was added, add to end\n                else if (mPrevResult.indexOf('#') != -1) {\n                    mPrevResult = mPrevResult.replaceFirst(\"#\", diff);\n                    mEntry.setText(mPrevResult);\n                    setFieldValue(mPrevResult);\n                }\n                // Unallowed change, reset the value back\n                else {\n                    mEntry.setText(mPrevResult);\n                }\n            }\n\n            // Move cursor to next spot\n            int i = mPrevResult.indexOf('#');\n            if (i != -1)\n                mEntry.setSelection(i);\n            else\n                mEntry.setSelection(mPrevResult.length());\n        }\n\n        private void setFieldValue(String value) {\n            //mEnableEvents = false;\n            if(mEnableEvents == false) {\n                return;\n            }\n            // Set the value or do whatever you want to do to save or react to the change\n        }\n\n        private String replaceMask(String str) {\n            return str.replaceAll(\"#\",REPLACE_CHAR);\n        }\n\n        private String removeCharAt(String str, int pos) {\n            StringBuilder info = new StringBuilder(str);\n            // If the position is a mask character, change it, else ignore the change\n            if (mMask.charAt(pos) == '#') {\n                info.setCharAt(pos, '#');\n                return info.toString();\n            }\n            else {\n                Toast.makeText(mContext, \"The mask value can't be deleted, only modifiable portion\", Toast.LENGTH_SHORT);\n                return str;\n            }\n        }\n\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n        }\n\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n            deletePosition = start;\n        }\n\n    }\n}\n</code></pre>\n\n<p>The Utility code:</p>\n\n<pre><code>public static boolean stringIsBlank(String stringValue) {\n    if (stringValue != null) {\n        return stringValue.trim().length() &lt;= 0;\n    } else {\n        return true;\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public static String difference(String str1, String str2) {\n    int at = indexOfDifference(str1, str2);\n    if (at == -1) {\n        return \"\";\n    }\n    return str2.substring(at,at+1);\n}\n</code></pre>\n\n<p>And the Field class...you will need to add the getters and setters:</p>\n\n<pre><code>public class Field {\n    private String defaultValue;\n    private Object value;\n    private String displayMask;\n    private String placeholderText;\n}\n</code></pre>\n\n<p>Some final thoughts. The basic mechanism is to compare the previous string with the current string. If the new string is smaller, then we are deleting and we use the <code>deletePosition</code> so long as the position matches a \"#\" in the mask, since other characters are non-modifiable. There are also issues of a previous value coming in - and it is assumed that if that value comes in the \"#\" values if missing will have been replaced by \" \" (blanks). The <code>Field</code> is not necessary, but was a helper class that in our case has tons of other functionality. Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":14340865,"reputation":23,"user_id":10359104,"display_name":"Giulio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652355907,"creation_date":1652355907,"answer_id":72214961,"question_id":50533754,"body_markdown":"I had the same problem and it was really hard to find something as useful and good as @Stephen McCormick&#39;s answer. I used it, but it wasn&#39;t 100% complete and I had to make some changes to make it work correctly with my mask: &quot;##.# kg&quot;.\r\n\r\nI made some changes and commented out the code so that everyone can understand it easier. But of course, all this thanks to Stephen.\r\n\r\nThank you so much Stephen!!\r\n\r\nIf anyone else wants it, in kotlin, here it is:\r\n\r\ncustom_formatted_input.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingLeft=&quot;5dp&quot;\r\n        android:paddingRight=&quot;5dp&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;normal&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/entry&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:gravity=&quot;right&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:singleLine=&quot;true&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:background=&quot;@android:color/darker_gray&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nModel Field.kt:\r\n\r\n```\r\ndata class Field (\r\n    val fieldName: String,\r\n    val defaultValue: String,\r\n    val value: String?,\r\n    val displayMask: String,\r\n    val placeholderText: String,\r\n)\r\n```\r\nattrs.xml:\r\n```\r\n    &lt;declare-styleable name=&quot;CustomFormattedInput&quot;&gt;\r\n        &lt;attr name=&quot;custom_input_field_name&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;custom_input_default_value&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;custom_input_value&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;custom_input_mask&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;custom_input_place_holder&quot; format=&quot;string&quot; /&gt;\r\n    &lt;/declare-styleable&gt;\r\n```\r\nCustomFormattedInput.kt:\r\n```\r\n\r\nimport android.content.Context\r\nimport android.content.res.Configuration\r\nimport android.text.Editable\r\nimport android.text.TextWatcher\r\nimport android.util.AttributeSet\r\nimport android.view.LayoutInflater\r\nimport android.widget.EditText\r\nimport android.widget.LinearLayout\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport br.com.predikta.commons.R\r\nimport br.com.predikta.commons.domain.model.Field\r\nimport br.com.predikta.commons.extentions.addOnTextChange\r\nimport br.com.predikta.commons.ui.utilities.Utilities\r\nimport kotlinx.android.synthetic.main.custom_formatted_input.view.*\r\n\r\n\r\nclass CustomFormattedInput @JvmOverloads constructor(\r\n    context: Context,\r\n    attributeSet: AttributeSet? = null,\r\n    defStyleAttr: Int = 0\r\n) : LinearLayout(context, attributeSet, defStyleAttr) {\r\n    private val mContext: Context = context\r\n\r\n    private lateinit var mField: Field\r\n    private lateinit var mName: TextView\r\n    private lateinit var mEntry: EditText\r\n    private var mEnableEvents = true\r\n    private var mPlaceholderText = &quot;&quot;\r\n\r\n    private fun inflaterView() {\r\n        val inflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\r\n        inflater.inflate(R.layout.custom_formatted_input, this)\r\n    }\r\n\r\n    /**\r\n     * To Fill in the fields of mask, field name and placeHolder from xml\r\n     */\r\n    private fun setupView(attrs: AttributeSet?) {\r\n        attrs?.let {\r\n            val typeArray =\r\n                context.obtainStyledAttributes(it, R.styleable.CustomFormattedInput)\r\n\r\n            val mFieldName =\r\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_field_name)\r\n            val mDefaultValue =\r\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_default_value)\r\n            val mValue =\r\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_value)\r\n            val mMask =\r\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_mask)\r\n            val mPlaceHolder =\r\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_place_holder)\r\n\r\n            mField = Field(\r\n                fieldName = mFieldName ?: &quot;&quot;,\r\n                defaultValue = mDefaultValue ?: &quot;&quot;,\r\n                value = mValue,\r\n                displayMask = mMask ?: &quot;&quot;,\r\n                placeholderText = mPlaceHolder ?: &quot;&quot;\r\n            )\r\n\r\n            typeArray.recycle()\r\n        }\r\n\r\n        mName = findViewById(R.id.name)\r\n        mEntry = findViewById(R.id.entry)\r\n\r\n        mEntry.isFocusable = true\r\n        mEntry.setRawInputType(Configuration.KEYBOARD_QWERTY)\r\n        mEntry.addTextChangedListener(\r\n            MaskedWatcher(mField.displayMask)\r\n        )\r\n    }\r\n\r\n    /**\r\n     * When first render the EditText\r\n     */\r\n    private fun render() {\r\n        mName.text = mField.fieldName\r\n        mPlaceholderText = mField.placeholderText\r\n\r\n        if (Utilities.stringIsBlank(mPlaceholderText)) {\r\n            mPlaceholderText = mField.displayMask\r\n        }\r\n\r\n        mEntry.hint = mPlaceholderText\r\n\r\n        if (!Utilities.stringIsBlank(mField.value)) {\r\n            mEnableEvents = false\r\n            val value: String = java.lang.String.valueOf(mField.value)\r\n            if (value.equals(\r\n                    mField.displayMask,\r\n                    ignoreCase = true\r\n                )\r\n            ) mEntry.setText(mField.displayMask) else {\r\n                val valueWithMask = fillValueWithMask(value, mField.displayMask)\r\n                mEntry.setText(valueWithMask)\r\n            }\r\n            mEnableEvents = true\r\n        } else if (!Utilities.stringIsBlank(mField.defaultValue)) {\r\n            mEnableEvents = false\r\n            val valueWithMask = fillValueWithMask(mField.defaultValue, mField.displayMask)\r\n            mEntry.setText(valueWithMask)\r\n            mEnableEvents = true\r\n        } else {\r\n            mEnableEvents = false\r\n            mEntry.text = null\r\n            mEnableEvents = true\r\n        }\r\n    }\r\n\r\n    inner class MaskedWatcher(private val mMask: String) : TextWatcher {\r\n        var mPrevResult = &quot;&quot;\r\n        var deletePosition = 0\r\n        private val charMaskAmount = countOccurrences(mMask)\r\n\r\n        override fun afterTextChanged(s: Editable) {\r\n            val value = s.toString()\r\n\r\n            // No Change, return - or reset of field\r\n            if (value == mPrevResult &amp;&amp; !Utilities.stringIsBlank(value) &amp;&amp; !Utilities.stringIsBlank(\r\n                    mPrevResult\r\n                )\r\n            ) {\r\n                return\r\n            }\r\n            var diff = value\r\n\r\n            /**\r\n             * prevents code from automatically setting mask to text before user clicks on The editText\r\n             */\r\n            if (!mEntry.isFocused) {\r\n                return\r\n            } else if (mEntry.isFocused &amp;&amp;\r\n                (Utilities.stringIsBlank(mPrevResult) &amp;&amp; Utilities.stringIsBlank(value)) ||\r\n                value.length &lt;= charMaskAmount\r\n            ) {\r\n                // First time in and no value, set value to mask\r\n                /**\r\n                 * If new value.length &lt;= charMaskAmount, it means that user clicked and held delete\r\n                 * button to erase all text at once\r\n                 */\r\n\r\n                mPrevResult = mMask\r\n                mEntry.setText(mPrevResult)\r\n            } else if (Utilities.stringIsBlank(mPrevResult) &amp;&amp; !Utilities.stringIsBlank(value)) {\r\n                /**\r\n                 * First value, fill it with the mask and set the text\r\n                 */\r\n                val valueWithMask = fillValueWithMask(value, mMask)\r\n                mPrevResult = valueWithMask\r\n                mEntry.setText(mPrevResult)\r\n            } else {\r\n                // If the new value is larger or equal than the previous value, we have a new value\r\n                if (value.length &gt;= mPrevResult.length) diff =\r\n                    Utilities.difference(mPrevResult, value)\r\n\r\n                // See if new string is smaller, if so it was a delete.\r\n                when {\r\n                    value.length &lt; mPrevResult.length -&gt; {\r\n                        mPrevResult = removeCharAt(mPrevResult, deletePosition)\r\n                        // Deleted back to mask, reset\r\n                        if (mPrevResult.equals(mMask, ignoreCase = true)) {\r\n                            mPrevResult = &quot;&quot;\r\n                            setFieldValue(&quot;&quot;)\r\n                            mEntry.setText(&quot;&quot;)\r\n                            mEntry.hint = mPlaceholderText\r\n                            return\r\n                        } else setFieldValue(mPrevResult)\r\n                        mEntry.setText(mPrevResult)\r\n                    }\r\n                    mPrevResult.indexOf(&#39;#&#39;) != -1 -&gt; {\r\n                        /**\r\n                         * If still have the mask char to be filled in, fill in the value in place\r\n                         * of this available char mask value\r\n                         */\r\n                        mPrevResult = mPrevResult.replaceFirst(&quot;#&quot;.toRegex(), diff)\r\n                        mEntry.setText(mPrevResult)\r\n                        setFieldValue(mPrevResult)\r\n                    }\r\n                    else -&gt; {\r\n                        /**\r\n                         * it&#39;s already all filled\r\n                         */\r\n                        mEntry.setText(mPrevResult)\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Move cursor to next spot\r\n            val i = mPrevResult.indexOf(CHAR_MASK_HASHTAG)\r\n            /**\r\n             * if the field is full (i == -1), use charMaskAmount to decrease the cursor position so that the\r\n             * cursor does not select the mask to prevent the user from trying to delete it\r\n             */\r\n            if (i != -1) mEntry.setSelection(i) else mEntry.setSelection(mPrevResult.length - charMaskAmount)\r\n        }\r\n\r\n        /**\r\n         * I haven&#39;t used this method and I haven&#39;t tried erasing it either to see if it makes a\r\n         * difference. But from what I understand, I believe it is in case you want to do something\r\n         * after each change\r\n         */\r\n        private fun setFieldValue(value: String) {\r\n            //mEnableEvents = false;\r\n            if (!mEnableEvents) {\r\n                return\r\n            }\r\n            // Set the value or do whatever you want to do to save or react to the change\r\n        }\r\n\r\n        /** Get the number of times the specific char in your mask appears */\r\n        private fun countOccurrences(s: String, ch: Char = CHAR_MASK_HASHTAG): Int {\r\n            return s.filter { it == ch }.count()\r\n        }\r\n\r\n        /**\r\n         * I didn&#39;t use it and I didn&#39;t study to know what it&#39;s for\r\n         */\r\n        private fun replaceMask(str: String): String {\r\n            return str.replace(&quot;#&quot;.toRegex(), REPLACE_CHAR)\r\n        }\r\n\r\n        /**\r\n         * After each deletion\r\n         * IMPORTANT: You might need to add more WHEN&#39; branches to match your mask, just like I added\r\n         * to validate when the cursor position is in place of the end dot\r\n         */\r\n        private fun removeCharAt(str: String, pos: Int): String {\r\n            val info = StringBuilder(str)\r\n            // If the position is a mask character, change it, else ignore the change\r\n            return when {\r\n                mMask[pos] == &#39;#&#39; -&gt; {\r\n                    info.setCharAt(pos, &#39;#&#39;)\r\n                    info.toString()\r\n                }\r\n                /**\r\n                 * In my case, if the position is the DOT, change the previous number to the mask,\r\n                 * to avoid deleting the DOT and to prevent the cursor from getting stuck in the same\r\n                 * position and not returning to the position before the DOT\r\n                 */\r\n                mMask[pos] == &#39;.&#39; -&gt; {\r\n                    info.setCharAt(pos - 1, &#39;#&#39;)\r\n                    info.toString()\r\n                }\r\n                else -&gt; {\r\n                    Toast.makeText(\r\n                        mContext,\r\n                        &quot;The mask value can&#39;t be deleted, only modifiable portion&quot;,\r\n                        Toast.LENGTH_SHORT\r\n                    ).show()\r\n                    str\r\n                }\r\n            }\r\n        }\r\n\r\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\r\n\r\n        /**\r\n         * Get the position where the user has just deleted. This code comes before and after the\r\n         * mask did the change. So it get the exactly position where the user deleted\r\n         */\r\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\r\n            deletePosition = start\r\n        }\r\n    }\r\n\r\n    init {\r\n        inflaterView()\r\n        setupView(attributeSet)\r\n        render()\r\n    }\r\n\r\n    companion object {\r\n        private const val CHAR_MASK_HASHTAG = &#39;#&#39;\r\n        private const val REPLACE_CHAR = &quot; &quot; // Replace missing data with blank\r\n\r\n        /**\r\n         * Fill in the value within the mask provided.\r\n         * IMPORTANT: you may need to change this method if your mask is different\r\n         */\r\n        fun fillValueWithMask(value: String, mask: String): String {\r\n            val result = StringBuffer(mask)\r\n            var i = 0\r\n            while (i &lt; value.length &amp;&amp; i &lt;= mask.length - 1) {\r\n                if (mask[i] == &#39;#&#39; &amp;&amp; value[i] != &#39; &#39; &amp;&amp; Character.isDigit(value[i])) result.setCharAt(\r\n                    i,\r\n                    value[i]\r\n                )\r\n                i++\r\n            }\r\n            return result.toString()\r\n        }\r\n    }\r\n}\r\n```\r\nand Utilities.kt code:\r\n```\r\nimport kotlin.math.min\r\n\r\nclass Utilities {\r\n    companion object {\r\n        fun stringIsBlank(stringValue: String?): Boolean {\r\n            return stringValue?.trim { it &lt;= &#39; &#39; }?.isEmpty() ?: true\r\n        }\r\n\r\n        fun difference(str1: String, str2: String): String {\r\n            val at: Int = indexOfDifference(str1, str2)\r\n            return if (at == -1) {\r\n                &quot;&quot;\r\n            } else str2.substring(at, at + 1)\r\n        }\r\n\r\n        /**\r\n         * Find the position where the string has the first difference\r\n         */\r\n        private fun indexOfDifference(str1: String, str2: String): Int {\r\n            val minLen = min(str1.length, str2.length)\r\n\r\n            for (i in 0 until minLen) {\r\n                val char1: Char = str1[i]\r\n                val char2: Char = str2[i]\r\n\r\n                if (char1 != char2) {\r\n                    return i\r\n                }\r\n            }\r\n\r\n            return -1\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd an example of how to use it in your xml:\r\n\r\n```\r\n&lt;br.com.example.CustomFormattedInput\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:custom_input_field_name=&quot;field name here&quot;\r\n    app:custom_input_mask=&quot;##.# kg&quot;\r\n    app:custom_input_place_holder=&quot;ex: 85 kg&quot;/&gt;\r\n```\r\n","title":"Android mask formatter that allows only Integers but with text in mask","body":"<p>I had the same problem and it was really hard to find something as useful and good as @Stephen McCormick's answer. I used it, but it wasn't 100% complete and I had to make some changes to make it work correctly with my mask: &quot;##.# kg&quot;.</p>\n<p>I made some changes and commented out the code so that everyone can understand it easier. But of course, all this thanks to Stephen.</p>\n<p>Thank you so much Stephen!!</p>\n<p>If anyone else wants it, in kotlin, here it is:</p>\n<p>custom_formatted_input.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/name&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingLeft=&quot;5dp&quot;\n        android:paddingRight=&quot;5dp&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;normal&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/entry&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ellipsize=&quot;end&quot;\n        android:gravity=&quot;right&quot;\n        android:maxLines=&quot;1&quot;\n        android:singleLine=&quot;true&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:background=&quot;@android:color/darker_gray&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Model Field.kt:</p>\n<pre><code>data class Field (\n    val fieldName: String,\n    val defaultValue: String,\n    val value: String?,\n    val displayMask: String,\n    val placeholderText: String,\n)\n</code></pre>\n<p>attrs.xml:</p>\n<pre><code>    &lt;declare-styleable name=&quot;CustomFormattedInput&quot;&gt;\n        &lt;attr name=&quot;custom_input_field_name&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;custom_input_default_value&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;custom_input_value&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;custom_input_mask&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;custom_input_place_holder&quot; format=&quot;string&quot; /&gt;\n    &lt;/declare-styleable&gt;\n</code></pre>\n<p>CustomFormattedInput.kt:</p>\n<pre><code>\nimport android.content.Context\nimport android.content.res.Configuration\nimport android.text.Editable\nimport android.text.TextWatcher\nimport android.util.AttributeSet\nimport android.view.LayoutInflater\nimport android.widget.EditText\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport android.widget.Toast\nimport br.com.predikta.commons.R\nimport br.com.predikta.commons.domain.model.Field\nimport br.com.predikta.commons.extentions.addOnTextChange\nimport br.com.predikta.commons.ui.utilities.Utilities\nimport kotlinx.android.synthetic.main.custom_formatted_input.view.*\n\n\nclass CustomFormattedInput @JvmOverloads constructor(\n    context: Context,\n    attributeSet: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : LinearLayout(context, attributeSet, defStyleAttr) {\n    private val mContext: Context = context\n\n    private lateinit var mField: Field\n    private lateinit var mName: TextView\n    private lateinit var mEntry: EditText\n    private var mEnableEvents = true\n    private var mPlaceholderText = &quot;&quot;\n\n    private fun inflaterView() {\n        val inflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        inflater.inflate(R.layout.custom_formatted_input, this)\n    }\n\n    /**\n     * To Fill in the fields of mask, field name and placeHolder from xml\n     */\n    private fun setupView(attrs: AttributeSet?) {\n        attrs?.let {\n            val typeArray =\n                context.obtainStyledAttributes(it, R.styleable.CustomFormattedInput)\n\n            val mFieldName =\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_field_name)\n            val mDefaultValue =\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_default_value)\n            val mValue =\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_value)\n            val mMask =\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_mask)\n            val mPlaceHolder =\n                typeArray.getString(R.styleable.CustomFormattedInput_custom_input_place_holder)\n\n            mField = Field(\n                fieldName = mFieldName ?: &quot;&quot;,\n                defaultValue = mDefaultValue ?: &quot;&quot;,\n                value = mValue,\n                displayMask = mMask ?: &quot;&quot;,\n                placeholderText = mPlaceHolder ?: &quot;&quot;\n            )\n\n            typeArray.recycle()\n        }\n\n        mName = findViewById(R.id.name)\n        mEntry = findViewById(R.id.entry)\n\n        mEntry.isFocusable = true\n        mEntry.setRawInputType(Configuration.KEYBOARD_QWERTY)\n        mEntry.addTextChangedListener(\n            MaskedWatcher(mField.displayMask)\n        )\n    }\n\n    /**\n     * When first render the EditText\n     */\n    private fun render() {\n        mName.text = mField.fieldName\n        mPlaceholderText = mField.placeholderText\n\n        if (Utilities.stringIsBlank(mPlaceholderText)) {\n            mPlaceholderText = mField.displayMask\n        }\n\n        mEntry.hint = mPlaceholderText\n\n        if (!Utilities.stringIsBlank(mField.value)) {\n            mEnableEvents = false\n            val value: String = java.lang.String.valueOf(mField.value)\n            if (value.equals(\n                    mField.displayMask,\n                    ignoreCase = true\n                )\n            ) mEntry.setText(mField.displayMask) else {\n                val valueWithMask = fillValueWithMask(value, mField.displayMask)\n                mEntry.setText(valueWithMask)\n            }\n            mEnableEvents = true\n        } else if (!Utilities.stringIsBlank(mField.defaultValue)) {\n            mEnableEvents = false\n            val valueWithMask = fillValueWithMask(mField.defaultValue, mField.displayMask)\n            mEntry.setText(valueWithMask)\n            mEnableEvents = true\n        } else {\n            mEnableEvents = false\n            mEntry.text = null\n            mEnableEvents = true\n        }\n    }\n\n    inner class MaskedWatcher(private val mMask: String) : TextWatcher {\n        var mPrevResult = &quot;&quot;\n        var deletePosition = 0\n        private val charMaskAmount = countOccurrences(mMask)\n\n        override fun afterTextChanged(s: Editable) {\n            val value = s.toString()\n\n            // No Change, return - or reset of field\n            if (value == mPrevResult &amp;&amp; !Utilities.stringIsBlank(value) &amp;&amp; !Utilities.stringIsBlank(\n                    mPrevResult\n                )\n            ) {\n                return\n            }\n            var diff = value\n\n            /**\n             * prevents code from automatically setting mask to text before user clicks on The editText\n             */\n            if (!mEntry.isFocused) {\n                return\n            } else if (mEntry.isFocused &amp;&amp;\n                (Utilities.stringIsBlank(mPrevResult) &amp;&amp; Utilities.stringIsBlank(value)) ||\n                value.length &lt;= charMaskAmount\n            ) {\n                // First time in and no value, set value to mask\n                /**\n                 * If new value.length &lt;= charMaskAmount, it means that user clicked and held delete\n                 * button to erase all text at once\n                 */\n\n                mPrevResult = mMask\n                mEntry.setText(mPrevResult)\n            } else if (Utilities.stringIsBlank(mPrevResult) &amp;&amp; !Utilities.stringIsBlank(value)) {\n                /**\n                 * First value, fill it with the mask and set the text\n                 */\n                val valueWithMask = fillValueWithMask(value, mMask)\n                mPrevResult = valueWithMask\n                mEntry.setText(mPrevResult)\n            } else {\n                // If the new value is larger or equal than the previous value, we have a new value\n                if (value.length &gt;= mPrevResult.length) diff =\n                    Utilities.difference(mPrevResult, value)\n\n                // See if new string is smaller, if so it was a delete.\n                when {\n                    value.length &lt; mPrevResult.length -&gt; {\n                        mPrevResult = removeCharAt(mPrevResult, deletePosition)\n                        // Deleted back to mask, reset\n                        if (mPrevResult.equals(mMask, ignoreCase = true)) {\n                            mPrevResult = &quot;&quot;\n                            setFieldValue(&quot;&quot;)\n                            mEntry.setText(&quot;&quot;)\n                            mEntry.hint = mPlaceholderText\n                            return\n                        } else setFieldValue(mPrevResult)\n                        mEntry.setText(mPrevResult)\n                    }\n                    mPrevResult.indexOf('#') != -1 -&gt; {\n                        /**\n                         * If still have the mask char to be filled in, fill in the value in place\n                         * of this available char mask value\n                         */\n                        mPrevResult = mPrevResult.replaceFirst(&quot;#&quot;.toRegex(), diff)\n                        mEntry.setText(mPrevResult)\n                        setFieldValue(mPrevResult)\n                    }\n                    else -&gt; {\n                        /**\n                         * it's already all filled\n                         */\n                        mEntry.setText(mPrevResult)\n                    }\n                }\n            }\n\n            // Move cursor to next spot\n            val i = mPrevResult.indexOf(CHAR_MASK_HASHTAG)\n            /**\n             * if the field is full (i == -1), use charMaskAmount to decrease the cursor position so that the\n             * cursor does not select the mask to prevent the user from trying to delete it\n             */\n            if (i != -1) mEntry.setSelection(i) else mEntry.setSelection(mPrevResult.length - charMaskAmount)\n        }\n\n        /**\n         * I haven't used this method and I haven't tried erasing it either to see if it makes a\n         * difference. But from what I understand, I believe it is in case you want to do something\n         * after each change\n         */\n        private fun setFieldValue(value: String) {\n            //mEnableEvents = false;\n            if (!mEnableEvents) {\n                return\n            }\n            // Set the value or do whatever you want to do to save or react to the change\n        }\n\n        /** Get the number of times the specific char in your mask appears */\n        private fun countOccurrences(s: String, ch: Char = CHAR_MASK_HASHTAG): Int {\n            return s.filter { it == ch }.count()\n        }\n\n        /**\n         * I didn't use it and I didn't study to know what it's for\n         */\n        private fun replaceMask(str: String): String {\n            return str.replace(&quot;#&quot;.toRegex(), REPLACE_CHAR)\n        }\n\n        /**\n         * After each deletion\n         * IMPORTANT: You might need to add more WHEN' branches to match your mask, just like I added\n         * to validate when the cursor position is in place of the end dot\n         */\n        private fun removeCharAt(str: String, pos: Int): String {\n            val info = StringBuilder(str)\n            // If the position is a mask character, change it, else ignore the change\n            return when {\n                mMask[pos] == '#' -&gt; {\n                    info.setCharAt(pos, '#')\n                    info.toString()\n                }\n                /**\n                 * In my case, if the position is the DOT, change the previous number to the mask,\n                 * to avoid deleting the DOT and to prevent the cursor from getting stuck in the same\n                 * position and not returning to the position before the DOT\n                 */\n                mMask[pos] == '.' -&gt; {\n                    info.setCharAt(pos - 1, '#')\n                    info.toString()\n                }\n                else -&gt; {\n                    Toast.makeText(\n                        mContext,\n                        &quot;The mask value can't be deleted, only modifiable portion&quot;,\n                        Toast.LENGTH_SHORT\n                    ).show()\n                    str\n                }\n            }\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n\n        /**\n         * Get the position where the user has just deleted. This code comes before and after the\n         * mask did the change. So it get the exactly position where the user deleted\n         */\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n            deletePosition = start\n        }\n    }\n\n    init {\n        inflaterView()\n        setupView(attributeSet)\n        render()\n    }\n\n    companion object {\n        private const val CHAR_MASK_HASHTAG = '#'\n        private const val REPLACE_CHAR = &quot; &quot; // Replace missing data with blank\n\n        /**\n         * Fill in the value within the mask provided.\n         * IMPORTANT: you may need to change this method if your mask is different\n         */\n        fun fillValueWithMask(value: String, mask: String): String {\n            val result = StringBuffer(mask)\n            var i = 0\n            while (i &lt; value.length &amp;&amp; i &lt;= mask.length - 1) {\n                if (mask[i] == '#' &amp;&amp; value[i] != ' ' &amp;&amp; Character.isDigit(value[i])) result.setCharAt(\n                    i,\n                    value[i]\n                )\n                i++\n            }\n            return result.toString()\n        }\n    }\n}\n</code></pre>\n<p>and Utilities.kt code:</p>\n<pre><code>import kotlin.math.min\n\nclass Utilities {\n    companion object {\n        fun stringIsBlank(stringValue: String?): Boolean {\n            return stringValue?.trim { it &lt;= ' ' }?.isEmpty() ?: true\n        }\n\n        fun difference(str1: String, str2: String): String {\n            val at: Int = indexOfDifference(str1, str2)\n            return if (at == -1) {\n                &quot;&quot;\n            } else str2.substring(at, at + 1)\n        }\n\n        /**\n         * Find the position where the string has the first difference\n         */\n        private fun indexOfDifference(str1: String, str2: String): Int {\n            val minLen = min(str1.length, str2.length)\n\n            for (i in 0 until minLen) {\n                val char1: Char = str1[i]\n                val char2: Char = str2[i]\n\n                if (char1 != char2) {\n                    return i\n                }\n            }\n\n            return -1\n        }\n    }\n}\n\n</code></pre>\n<p>And an example of how to use it in your xml:</p>\n<pre><code>&lt;br.com.example.CustomFormattedInput\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:custom_input_field_name=&quot;field name here&quot;\n    app:custom_input_mask=&quot;##.# kg&quot;\n    app:custom_input_place_holder=&quot;ex: 85 kg&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":5124885,"reputation":1716,"user_id":4107331,"accept_rate":67,"display_name":"Stephen McCormick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50630817,"answer_count":2,"score":0,"last_activity_date":1652355907,"creation_date":1527267134,"question_id":50533754,"body_markdown":"On Android I need to create a edit input that will have static text elements that do not change and other values that need to be replaced by numbers when the user types in values which the &quot;#&quot; symbol is used. The replacements should only be integers between 0-9. For example, the mask might be &quot;SERIAL NO #####&quot;, where as the user types in the numbers the &quot;#&quot; values would be replaced, ultimately giving the string result &quot;SERIAL NO 12309&quot;. \r\n\r\nWe have existing code that uses MaskFormatter, but it is throwing out parsing exceptions for masks with any characters in them, like above (though it works fine with just &quot;#&quot;). \r\n\r\nAdditionally this mask can vary widely. From simple masks like &quot;####&quot;, to more complex masks like &quot;###A-##WHATEVER&quot; to &quot;A#A$#RRT#&quot;, where only the &quot;#&quot; should allow numeric values when typing.\r\n\r\nIs there a simple way to do this or do I need to write parsing code of my own? Is MaskFormatter the right approach or is there a more elegant mechanism? I am pretty sure I can write custom code to do this, but I would prefer a standard solution.\r\n\r\nHere is a visualization of the field:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here is the existing code (I didn&#39;t write it, been around for forever):\r\n\r\n        public class MaskedWatcher implements TextWatcher {\r\n    \t\r\n    \tprivate String mMask;\r\n    \tString mResult = &quot;&quot;;\t\r\n    \tString mPrevResult = &quot;&quot;;\r\n    \t\r\n    \tpublic MaskedWatcher(String mask){\r\n    \t\tmMask = mask;\r\n    \t}\r\n\r\n    \tpublic void afterTextChanged(Editable s) {\r\n    \t\t\r\n    \t\tString mask = mMask;\r\n    \t\tString value = s.toString();\r\n    \t\t\r\n    \t\tif(value.equals(mResult)) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\t// prepare the formatter\r\n    \t\t\tMaskedFormatter formatter = new MaskedFormatter(mask);\r\n    \t\t\tformatter.setValueContainsLiteralCharacters(true);\r\n    \t\t\tformatter.setPlaceholderCharacter((char)1);\r\n    \t\t\t\r\n    \t\t\t// get a string with applied mask and placeholder chars\r\n    \t\t\tvalue = formatter.valueToString(value);\r\n    \t\t\t\r\n    \t\t\ttry{\r\n    \t\t\t\t// find first placeholder\r\n    \t\t\t\tif ( value.indexOf((char)1) != -1) {\r\n        \t\t\t\tvalue = value.substring(0, value.indexOf((char)1));\r\n        \t\t\t\t\r\n        \t\t\t\t//process a mask char\r\n        \t\t\t\tif(value.charAt(value.length()-1) == mask.charAt(value.length()-1) &amp;&amp; ((value.length()-1) &gt;= 0)){\r\n        \t\t\t\t\tvalue = value.substring(0, value.length() - 1);\r\n        \t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e){\r\n    \t\t\t\tUtilities.logException(e);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// if we are deleting characters reset value and start over\r\n    \t\t\tif(mPrevResult.trim().length() &gt; value.trim().length()) {\r\n    \t\t\t\tvalue = &quot;&quot;;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tsetFieldValue(value);\r\n    \t\t\tmResult = value;\r\n    \t\t\tmPrevResult = value;\r\n    \t\t\ts.replace(0, s.length(), value);\r\n    \t\t} \r\n    \t\tcatch (ParseException e) {\r\n    \t\t\t//the entered value does not match a mask\r\n    \t\t\tif(mResult.length() &gt;= mMask.length()) {\r\n    \t\t\t\tif(value.length() &gt; mMask.length()) {\r\n    \t\t\t\t\tvalue = value.substring(0, mMask.length());\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tvalue = &quot;&quot;;\r\n    \t\t\t\t\tsetFieldValue(value);\r\n    \t\t\t\t\tmPrevResult = value;\r\n    \t\t\t\t\tmResult = value;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tint offset = e.getErrorOffset();\r\n    \t\t\t\tvalue = removeCharAt(value, offset);\r\n    \t\t\t}\r\n    \t\t\ts.replace(0, s.length(), value);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gPUoc.jpg","title":"Android mask formatter that allows only Integers but with text in mask","body":"<p>On Android I need to create a edit input that will have static text elements that do not change and other values that need to be replaced by numbers when the user types in values which the \"#\" symbol is used. The replacements should only be integers between 0-9. For example, the mask might be \"SERIAL NO #####\", where as the user types in the numbers the \"#\" values would be replaced, ultimately giving the string result \"SERIAL NO 12309\". </p>\n\n<p>We have existing code that uses MaskFormatter, but it is throwing out parsing exceptions for masks with any characters in them, like above (though it works fine with just \"#\"). </p>\n\n<p>Additionally this mask can vary widely. From simple masks like \"####\", to more complex masks like \"###A-##WHATEVER\" to \"A#A$#RRT#\", where only the \"#\" should allow numeric values when typing.</p>\n\n<p>Is there a simple way to do this or do I need to write parsing code of my own? Is MaskFormatter the right approach or is there a more elegant mechanism? I am pretty sure I can write custom code to do this, but I would prefer a standard solution.</p>\n\n<p>Here is a visualization of the field:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gPUoc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPUoc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And here is the existing code (I didn't write it, been around for forever):</p>\n\n<pre><code>    public class MaskedWatcher implements TextWatcher {\n\n    private String mMask;\n    String mResult = \"\";    \n    String mPrevResult = \"\";\n\n    public MaskedWatcher(String mask){\n        mMask = mask;\n    }\n\n    public void afterTextChanged(Editable s) {\n\n        String mask = mMask;\n        String value = s.toString();\n\n        if(value.equals(mResult)) {\n            return;\n        }\n\n        try {\n\n            // prepare the formatter\n            MaskedFormatter formatter = new MaskedFormatter(mask);\n            formatter.setValueContainsLiteralCharacters(true);\n            formatter.setPlaceholderCharacter((char)1);\n\n            // get a string with applied mask and placeholder chars\n            value = formatter.valueToString(value);\n\n            try{\n                // find first placeholder\n                if ( value.indexOf((char)1) != -1) {\n                    value = value.substring(0, value.indexOf((char)1));\n\n                    //process a mask char\n                    if(value.charAt(value.length()-1) == mask.charAt(value.length()-1) &amp;&amp; ((value.length()-1) &gt;= 0)){\n                        value = value.substring(0, value.length() - 1);\n                    }\n                }\n            }\n            catch(Exception e){\n                Utilities.logException(e);\n            }\n\n            // if we are deleting characters reset value and start over\n            if(mPrevResult.trim().length() &gt; value.trim().length()) {\n                value = \"\";\n            }\n\n            setFieldValue(value);\n            mResult = value;\n            mPrevResult = value;\n            s.replace(0, s.length(), value);\n        } \n        catch (ParseException e) {\n            //the entered value does not match a mask\n            if(mResult.length() &gt;= mMask.length()) {\n                if(value.length() &gt; mMask.length()) {\n                    value = value.substring(0, mMask.length());\n                }\n                else {\n                    value = \"\";\n                    setFieldValue(value);\n                    mPrevResult = value;\n                    mResult = value;\n                }\n            }\n            else {\n                int offset = e.getErrorOffset();\n                value = removeCharAt(value, offset);\n            }\n            s.replace(0, s.length(), value);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"score":0,"creation_date":1652344265,"post_id":72211973,"comment_id":127584984,"body_markdown":"Please update your question with the error you&#39;re receiving.","body":"Please update your question with the error you&#39;re receiving."}],"answers":[{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652355836,"creation_date":1652345953,"answer_id":72212731,"question_id":72211973,"body_markdown":"`LocalDateTime` does not support timezones by definition.  Therefore it doesn&#39;t support OffsetSeconds.\r\n\r\nYou should leave off the `+0000` in the input and the `Z` in the format.  Alternatively, use `ZonedDateTime` instead.\r\n\r\nI don&#39;t know which version of Spring Boot you were using before, but maybe it was using an older version of Jackson which used JSR10Module.\r\n\r\nFrom the JavaTimeModule docs:\r\nhttps://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\r\n\r\n&gt; Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.\r\n\r\nFrom the JSR310Module docs:\r\nhttps://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\r\n\r\n&gt; Old JSR310Module defaults to serialization WITH Timezone Ids (to support round-trippability of values when using JSR-310 types and Jackson)\r\n","title":"Springboot 2.5.6 gives java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds issues","body":"<p><code>LocalDateTime</code> does not support timezones by definition.  Therefore it doesn't support OffsetSeconds.</p>\n<p>You should leave off the <code>+0000</code> in the input and the <code>Z</code> in the format.  Alternatively, use <code>ZonedDateTime</code> instead.</p>\n<p>I don't know which version of Spring Boot you were using before, but maybe it was using an older version of Jackson which used JSR10Module.</p>\n<p>From the JavaTimeModule docs:\n<a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html</a></p>\n<blockquote>\n<p>Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.</p>\n</blockquote>\n<p>From the JSR310Module docs:\n<a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html</a></p>\n<blockquote>\n<p>Old JSR310Module defaults to serialization WITH Timezone Ids (to support round-trippability of values when using JSR-310 types and Jackson)</p>\n</blockquote>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72212731,"answer_count":1,"score":0,"last_activity_date":1652355836,"creation_date":1652342323,"question_id":72211973,"body_markdown":"Since migration to `springboot 2.5.6` I have to register our `ObjectMapper` with `JavaTimeModule`. However, I am getting the below error for the format `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;`. How can I fix it?\r\n\r\nThe input time that we get is something like `2020-07-01T10:00:00.000+0000`\r\n\r\n    mapper = new ObjectMapper()\r\n    \t\t\t.registerModule(new JavaTimeModule())\r\n    \t\t\t.registerModule(new Jdk8Module());\r\n\r\nError\r\n\r\n     java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds \r\n\r\nOur Serialization\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING\r\n\r\n\r\n","title":"Springboot 2.5.6 gives java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds issues","body":"<p>Since migration to <code>springboot 2.5.6</code> I have to register our <code>ObjectMapper</code> with <code>JavaTimeModule</code>. However, I am getting the below error for the format <code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;</code>. How can I fix it?</p>\n<p>The input time that we get is something like <code>2020-07-01T10:00:00.000+0000</code></p>\n<pre><code>mapper = new ObjectMapper()\n            .registerModule(new JavaTimeModule())\n            .registerModule(new Jdk8Module());\n</code></pre>\n<p>Error</p>\n<pre><code> java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds \n</code></pre>\n<p>Our Serialization</p>\n<pre><code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652355785,"creation_date":1652355785,"answer_id":72214924,"question_id":72214410,"body_markdown":"To get the sum of all price fields that exist under each child in the `User` node, please use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference userRef = db.child(&quot;User&quot;);\r\n    userRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                int sum = 0;\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString price = ds.child(&quot;price&quot;).getValue(String.class);\r\n                    sum += Integer.valueOf(price);\r\n\t\t\t\t}\r\n\t\t        Log.d(&quot;TAG&quot;, &quot;sum: &quot; + sum);\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nAnd the result in the logcat will be:\r\n\r\n    sum: 200\r\n\r\nPlease also note to store the prices as numbers and **not** strings, case in which the above addition should look like this:\r\n\r\n    sum += price;","title":"How to get a sum of all values from a node in Firebase? Error","body":"<p>To get the sum of all price fields that exist under each child in the <code>User</code> node, please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userRef = db.child(&quot;User&quot;);\nuserRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            int sum = 0;\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String price = ds.child(&quot;price&quot;).getValue(String.class);\n                sum += Integer.valueOf(price);\n            }\n            Log.d(&quot;TAG&quot;, &quot;sum: &quot; + sum);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>And the result in the logcat will be:</p>\n<pre><code>sum: 200\n</code></pre>\n<p>Please also note to store the prices as numbers and <strong>not</strong> strings, case in which the above addition should look like this:</p>\n<pre><code>sum += price;\n</code></pre>\n"}],"owner":{"account_id":25272092,"reputation":13,"user_id":19101275,"display_name":"RUBRENT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72214924,"answer_count":1,"score":0,"last_activity_date":1652355829,"creation_date":1652353461,"question_id":72214410,"body_markdown":"tell me, please: what is my mistake? I&#39;m trying to apply your example, but I can&#39;t get the summation result. I want to add up all the prices and display them in TextView. I will be grateful for the help, I&#39;m new to this. [enter image description here][1]\r\n\r\nMainActivity\r\n    package com.example.testkorzne;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import java.util.EventListener;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements ValueEventListener{\r\n        private EditText edName, edPrice;\r\n        private DatabaseReference mDataBase;\r\n        private String USER_KEY = &quot;User&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            init();\r\n    \r\n            ValueEventListener eventListener = new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    int total = 0;\r\n                    for(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                        String amount = ds.child(&quot;price&quot;).getValue(String.class);\r\n                        int value = ds.getValue(Integer.class);\r\n                        total =+ value;\r\n                    }\r\n                    Log.d(&quot;TAG&quot;, String.valueOf(total) + &quot; Rs.&quot;);\r\n    \r\n                    TextView quantityTextView = (TextView) findViewById(R.id.quantity_text_view);\r\n                    quantityTextView.setText(&quot;&quot; + total);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {}\r\n            };\r\n            mDataBase.addValueEventListener(this);\r\n        }\r\n    \r\n        private void init() {\r\n            edName = findViewById(R.id.edName);\r\n            edPrice = findViewById(R.id.edPrice);\r\n            mDataBase = FirebaseDatabase.getInstance().getReference(USER_KEY);\r\n        }\r\n    \r\n        public void onClickSave(View view) {\r\n            String id = mDataBase.getKey();\r\n            String name = edName.getText().toString();\r\n            String price = edPrice.getText().toString();\r\n            User newUser = new User(id, name, price);\r\n            if (!TextUtils.isEmpty(name))\r\n            {\r\n                mDataBase.push().setValue(newUser);\r\n            } else {\r\n                Toast.makeText(this, &quot;Warning Not Text&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        public void onClickRead(View view) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n        }\r\n    }\r\nUser Class\r\n    package com.example.testkorzne;\r\n    \r\n    public class User {\r\n        public String id;\r\n        public String name;\r\n        public String price;\r\n    \r\n        public User() {\r\n    \r\n        }\r\n    \r\n        public User(String id, String name, String price) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.price = price;\r\n        }\r\n    \r\n    }\r\n\r\nxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:onClick=&quot;onClickSave&quot;\r\n            android:text=&quot;Save&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.312&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/edPrice&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:onClick=&quot;onClickRead&quot;\r\n            android:text=&quot;Read&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.312&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;76dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;NAME&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edPrice&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;PRICE&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/edName&quot;\r\n            tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/quantity_text_view&quot;\r\n            android:layout_width=&quot;124dp&quot;\r\n            android:layout_height=&quot;121dp&quot;\r\n            android:layout_marginStart=&quot;224dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/button2&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FXUIo.png","title":"How to get a sum of all values from a node in Firebase? Error","body":"<p>tell me, please: what is my mistake? I'm trying to apply your example, but I can't get the summation result. I want to add up all the prices and display them in TextView. I will be grateful for the help, I'm new to this. <a href=\"https://i.stack.imgur.com/FXUIo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>MainActivity\npackage com.example.testkorzne;</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.EventListener;\n\npublic class MainActivity extends AppCompatActivity implements ValueEventListener{\n    private EditText edName, edPrice;\n    private DatabaseReference mDataBase;\n    private String USER_KEY = &quot;User&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        init();\n\n        ValueEventListener eventListener = new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                int total = 0;\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\n                    String amount = ds.child(&quot;price&quot;).getValue(String.class);\n                    int value = ds.getValue(Integer.class);\n                    total =+ value;\n                }\n                Log.d(&quot;TAG&quot;, String.valueOf(total) + &quot; Rs.&quot;);\n\n                TextView quantityTextView = (TextView) findViewById(R.id.quantity_text_view);\n                quantityTextView.setText(&quot;&quot; + total);\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {}\n        };\n        mDataBase.addValueEventListener(this);\n    }\n\n    private void init() {\n        edName = findViewById(R.id.edName);\n        edPrice = findViewById(R.id.edPrice);\n        mDataBase = FirebaseDatabase.getInstance().getReference(USER_KEY);\n    }\n\n    public void onClickSave(View view) {\n        String id = mDataBase.getKey();\n        String name = edName.getText().toString();\n        String price = edPrice.getText().toString();\n        User newUser = new User(id, name, price);\n        if (!TextUtils.isEmpty(name))\n        {\n            mDataBase.push().setValue(newUser);\n        } else {\n            Toast.makeText(this, &quot;Warning Not Text&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n    public void onClickRead(View view) {\n\n    }\n\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n}\n</code></pre>\n<p>User Class\npackage com.example.testkorzne;</p>\n<pre><code>public class User {\n    public String id;\n    public String name;\n    public String price;\n\n    public User() {\n\n    }\n\n    public User(String id, String name, String price) {\n        this.id = id;\n        this.name = name;\n        this.price = price;\n    }\n\n}\n</code></pre>\n<p>xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:onClick=&quot;onClickSave&quot;\n        android:text=&quot;Save&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.312&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/edPrice&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:onClick=&quot;onClickRead&quot;\n        android:text=&quot;Read&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.312&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;76dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;NAME&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edPrice&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;PRICE&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/edName&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/quantity_text_view&quot;\n        android:layout_width=&quot;124dp&quot;\n        android:layout_height=&quot;121dp&quot;\n        android:layout_marginStart=&quot;224dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/button2&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1652265068,"post_id":72196910,"comment_id":127562814,"body_markdown":"Please see if https://www.jetbrains.com/help/idea/detect-concurrency-issues.html helps.","body":"Please see if <a href=\"https://www.jetbrains.com/help/idea/detect-concurrency-issues.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/detect-concurrency-issues.html</a> helps."},{"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"score":0,"creation_date":1652267172,"post_id":72196910,"comment_id":127563566,"body_markdown":"Thanks for the hint, but this didn&#39;t help :(","body":"Thanks for the hint, but this didn&#39;t help :("}],"answers":[{"tags":[],"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652276761,"creation_date":1652276761,"answer_id":72202214,"question_id":72196910,"body_markdown":"Ok, after some more digging I have found this: https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal and many more simmilar threads.\r\n\r\nIn short, Idea is disconnecting debugger in a moment that you click red square and sends signal to app to kill itself. Because of these, traps are not working any more.\r\n\r\nWorkaround to this is to send kill signal from external source. In Linux it&#39;s pretty easy but in windows (which is I&#39;m using) you should:\r\n1. Put a break point any place in your code that will be executed\r\n2. When code stops at your trap, you go to &quot;evaulate expression&quot; (alt+f8 or from degug acctions) and write `System.exit(0)`\r\n3. You breakpoint may need to be set up as a thread one - to do that, click right button on it and switch to &quot;Thread&quot;\r\n\r\nThen breakpoint should work.","title":"Intelij IDEA 2022.1 Cannot debug Runtime.getRuntime().addShutdownHook();","body":"<p>Ok, after some more digging I have found this: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal</a> and many more simmilar threads.</p>\n<p>In short, Idea is disconnecting debugger in a moment that you click red square and sends signal to app to kill itself. Because of these, traps are not working any more.</p>\n<p>Workaround to this is to send kill signal from external source. In Linux it's pretty easy but in windows (which is I'm using) you should:</p>\n<ol>\n<li>Put a break point any place in your code that will be executed</li>\n<li>When code stops at your trap, you go to &quot;evaulate expression&quot; (alt+f8 or from degug acctions) and write <code>System.exit(0)</code></li>\n<li>You breakpoint may need to be set up as a thread one - to do that, click right button on it and switch to &quot;Thread&quot;</li>\n</ol>\n<p>Then breakpoint should work.</p>\n"}],"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652355481,"creation_date":1652253489,"question_id":72196910,"body_markdown":"I&#39;ve tried to debug `Runtime.getRuntime().addShutdownHook(unfortunateHook);` in sample tapestry application created with Maven quickstart, but it seems that it doesn&#39;t work - Debugger doesn&#39;t stop at trap set to line set at `LOGGER.debug(&quot;In the main hook!!!&quot;);`\r\n\r\nExample code: \r\n\r\n    package org.example.spring;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    @SpringBootApplication\r\n    public class App extends SpringBootServletInitializer {\r\n    \r\n        private static final Logger LOGGER= LoggerFactory.getLogger(App.class);\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(AppConfiguration.class);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Thread unfortunateHook = new Thread(() -&gt; {\r\n                LOGGER.debug(&quot;In the main hook!!!&quot;);\r\n                try\r\n                {\r\n                    Thread.sleep(5000);\r\n                }\r\n                catch (InterruptedException e)\r\n                {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            Runtime.getRuntime().addShutdownHook(unfortunateHook);\r\n            LOGGER.debug(&quot;Simple log statement with inputs {}, {} and {}&quot;, 1,2,3);\r\n    \r\n            SpringApplication application = new SpringApplication(App.class);\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\nIs it possible to debug code inside shutdown hook thread? I&#39;m using InteliJ Idea 2022.01. Killing application with standard Intelij Idea way (red square).\r\n","title":"Intelij IDEA 2022.1 Cannot debug Runtime.getRuntime().addShutdownHook();","body":"<p>I've tried to debug <code>Runtime.getRuntime().addShutdownHook(unfortunateHook);</code> in sample tapestry application created with Maven quickstart, but it seems that it doesn't work - Debugger doesn't stop at trap set to line set at <code>LOGGER.debug(&quot;In the main hook!!!&quot;);</code></p>\n<p>Example code:</p>\n<pre><code>package org.example.spring;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class App extends SpringBootServletInitializer {\n\n    private static final Logger LOGGER= LoggerFactory.getLogger(App.class);\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(AppConfiguration.class);\n    }\n\n    public static void main(String[] args) throws Exception {\n        Thread unfortunateHook = new Thread(() -&gt; {\n            LOGGER.debug(&quot;In the main hook!!!&quot;);\n            try\n            {\n                Thread.sleep(5000);\n            }\n            catch (InterruptedException e)\n            {\n                throw new RuntimeException(e);\n            }\n        });\n        Runtime.getRuntime().addShutdownHook(unfortunateHook);\n        LOGGER.debug(&quot;Simple log statement with inputs {}, {} and {}&quot;, 1,2,3);\n\n        SpringApplication application = new SpringApplication(App.class);\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p>Is it possible to debug code inside shutdown hook thread? I'm using InteliJ Idea 2022.01. Killing application with standard Intelij Idea way (red square).</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1651682471,"post_id":72116253,"comment_id":127422936,"body_markdown":"the query you write is handled by the database, which has no clue what[0] and [1] mean, or what a java.util.Array is that is passed in as the single ?1 parameter. If you have multiple parameters to pass in to a query, you need to break them up as multiple parameters for your method as well ie: getAllUsersByCode1AndCode2(String code1, String code2) method.","body":"the query you write is handled by the database, which has no clue what[0] and [1] mean, or what a java.util.Array is that is passed in as the single ?1 parameter. If you have multiple parameters to pass in to a query, you need to break them up as multiple parameters for your method as well ie: getAllUsersByCode1AndCode2(String code1, String code2) method."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651682483,"post_id":72116253,"comment_id":127422940,"body_markdown":"does `code1` &amp; `code2` are different columns in `users` table? if yes, then syntax is wrong &amp; you might need to use 2 arguments in your method.","body":"does <code>code1</code> &amp; <code>code2</code> are different columns in <code>users</code> table? if yes, then syntax is wrong &amp; you might need to use 2 arguments in your method."},{"owner":{"account_id":25195503,"reputation":31,"user_id":19035105,"display_name":"Pro Grammer"},"score":0,"creation_date":1651682829,"post_id":72116253,"comment_id":127423069,"body_markdown":"I used used `code1` and `code2` as example, in fact i have 24 : `code1, code2, code3, ... code24`, this is why it&#39;s not practical to use parameters ... also i can add codes (code25, 26, ...)","body":"I used used <code>code1</code> and <code>code2</code> as example, in fact i have 24 : <code>code1, code2, code3, ... code24</code>, this is why it&#39;s not practical to use parameters ... also i can add codes (code25, 26, ...)"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1651741490,"post_id":72116253,"comment_id":127436722,"body_markdown":"If you have different columns, then using list as method argument won&#39;t be correct. Also I am wondering if you really need to input 24 columns as `where` clause of your query.","body":"If you have different columns, then using list as method argument won&#39;t be correct. Also I am wondering if you really need to input 24 columns as <code>where</code> clause of your query."},{"owner":{"account_id":25195503,"reputation":31,"user_id":19035105,"display_name":"Pro Grammer"},"score":0,"creation_date":1651745858,"post_id":72116253,"comment_id":127438165,"body_markdown":"@AshishPatil, i have a constraint to use those values as columns.","body":"@AshishPatil, i have a constraint to use those values as columns."}],"answers":[{"tags":[],"owner":{"account_id":13439791,"reputation":156,"user_id":9697270,"display_name":"Eugene Maksymets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652355368,"creation_date":1652355368,"answer_id":72214819,"question_id":72116253,"body_markdown":"I&#39;m not sure that `@Query` is the right way to do the dynamic query. You should consider the CriteriaAPI usage. You could try to use the `Specification` or `QueryDsl` https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\r\n\r\nExample of the solution your problem via Specification:\r\n\r\n\r\n\r\n\r\n    @Repository\r\n    public interface UserRepository \r\n        extends JpaRepository&lt;User, Integer&gt;, JpaSpecificationExecutor&lt;User&gt; { \r\n    \r\n    }\r\n\r\n    @Service\r\n    @RequiredAllArgConstuctor\r\n    public class UserService {\r\n        \r\n        private final UserRepository userRepository;\r\n        \r\n        public List&lt;User&gt; getAllUsers(List&lt;String&gt; codeArguments) {\r\n            var specification = (Specification&lt;T&gt;) (root, query, criteriaBuilder) -&gt; {\r\n                var predicates = new Predicate[codeArguments.size()];\r\n                for (int i = 0; i &lt; codeArguments.size(); i++) {\r\n                    var predicate = criteriaBuilder.equal(root.get(&quot;code&quot; + (i + 1)), codeArguments.get(i));\r\n                    predicates[i] = (predicate);\r\n                }\r\n                return criteriaBuilder.and(predicates);\r\n            };\r\n           \r\n            return userRepository.findAll(specification);\r\n        }\r\n    }","title":"Read Array at index in jpa Query","body":"<p>I'm not sure that <code>@Query</code> is the right way to do the dynamic query. You should consider the CriteriaAPI usage. You could try to use the <code>Specification</code> or <code>QueryDsl</code> <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl</a></p>\n<p>Example of the solution your problem via Specification:</p>\n<pre><code>@Repository\npublic interface UserRepository \n    extends JpaRepository&lt;User, Integer&gt;, JpaSpecificationExecutor&lt;User&gt; { \n\n}\n\n@Service\n@RequiredAllArgConstuctor\npublic class UserService {\n    \n    private final UserRepository userRepository;\n    \n    public List&lt;User&gt; getAllUsers(List&lt;String&gt; codeArguments) {\n        var specification = (Specification&lt;T&gt;) (root, query, criteriaBuilder) -&gt; {\n            var predicates = new Predicate[codeArguments.size()];\n            for (int i = 0; i &lt; codeArguments.size(); i++) {\n                var predicate = criteriaBuilder.equal(root.get(&quot;code&quot; + (i + 1)), codeArguments.get(i));\n                predicates[i] = (predicate);\n            }\n            return criteriaBuilder.and(predicates);\n        };\n       \n        return userRepository.findAll(specification);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25195503,"reputation":31,"user_id":19035105,"display_name":"Pro Grammer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72214819,"answer_count":1,"score":1,"last_activity_date":1652355368,"creation_date":1651681145,"question_id":72116253,"body_markdown":"I have a native Query that return a list of objects, i need to pass an array as parameter to the function `getAllUsers`.\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\t@Query(nativeQuery = true, value = &quot;SELECT id FROM users WHERE code1=(?1)[0] AND code2=(?1)[1]&quot;)\r\n\tpublic List&lt;Object[]&gt; getAllUsers(List&lt;String&gt; list);\r\n}\r\n```\r\n\r\nThe problem was that i can&#39;t get values of the parameter `list` in the query : `code1=(?1)[0] AND code2=(?1)[1]`.\r\n\r\nI tried to use Types : \r\n\r\n`public List&lt;Object[]&gt; getAllUsers(String[] list);`\r\n\r\n`public List&lt;Object[]&gt; getAllUsers(String ...list);`\r\n\r\nBut always without result\r\n\r\n**Many thanks For any help**","title":"Read Array at index in jpa Query","body":"<p>I have a native Query that return a list of objects, i need to pass an array as parameter to the function <code>getAllUsers</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    @Query(nativeQuery = true, value = &quot;SELECT id FROM users WHERE code1=(?1)[0] AND code2=(?1)[1]&quot;)\n    public List&lt;Object[]&gt; getAllUsers(List&lt;String&gt; list);\n}\n</code></pre>\n<p>The problem was that i can't get values of the parameter <code>list</code> in the query : <code>code1=(?1)[0] AND code2=(?1)[1]</code>.</p>\n<p>I tried to use Types :</p>\n<p><code>public List&lt;Object[]&gt; getAllUsers(String[] list);</code></p>\n<p><code>public List&lt;Object[]&gt; getAllUsers(String ...list);</code></p>\n<p>But always without result</p>\n<p><strong>Many thanks For any help</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1652354991,"post_id":72214620,"comment_id":127588805,"body_markdown":"Basically there are lots of different problems that could cause the compiler to report that error.","body":"Basically there are lots of different problems that could cause the compiler to report that error."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652354691,"creation_date":1652354691,"answer_id":72214660,"question_id":72214620,"body_markdown":"There are two problems here:\r\n\r\n- `Map` is an interface, so you can&#39;t create an instance of it. You need to specify a concrete type.\r\n- You&#39;ve missed out the `new` part used to call a constructor.\r\n\r\nIt should be:\r\n\r\n```java\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n```\r\n\r\n... or using type inference:\r\n\r\n```java\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n```\r\n\r\n(You&#39;ll need to import `java.util.HashMap`, or you could use a different map implementation, of course.)","title":"/MyClass.java:7: error: &#39;;&#39; expected Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;","body":"<p>There are two problems here:</p>\n<ul>\n<li><code>Map</code> is an interface, so you can't create an instance of it. You need to specify a concrete type.</li>\n<li>You've missed out the <code>new</code> part used to call a constructor.</li>\n</ul>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n<p>... or using type inference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>(You'll need to import <code>java.util.HashMap</code>, or you could use a different map implementation, of course.)</p>\n"},{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652355336,"creation_date":1652355336,"answer_id":72214807,"question_id":72214620,"body_markdown":"In addition to @jon-skeets answer, the `static` flag for the main methode is missing:\r\n\r\n```\r\n public static void main(String args[]) {...}\r\n```","title":"/MyClass.java:7: error: &#39;;&#39; expected Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;","body":"<p>In addition to @jon-skeets answer, the <code>static</code> flag for the main methode is missing:</p>\n<pre><code> public static void main(String args[]) {...}\n</code></pre>\n"}],"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652355336,"creation_date":1652354484,"question_id":72214620,"body_markdown":"I am trying to do this function \r\n```\r\nimport java.util.Map;\r\npublic class MyClass {\r\n\r\npublic static Map&lt;String, Integer&gt; runQuery(Integer x,Integer y){\r\n    \r\n    Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;\r\n    map.put(&quot;key1&quot;, x);\r\n    map.put(&quot;key2&quot;, y);\r\n    return map;\r\n}\r\n    public  void main(String args[]) {\r\n      int x=10;\r\n      int y=25;\r\n      int z=x+y;\r\n      Map&lt;String, Integer&gt; result = runQuery(3, 4);\r\n      \r\n\r\n      System.out.println(&quot;Sum of x+y = &quot; + z);\r\n      System.out.println(&quot;first val = &quot; + result.get(&quot;key1&quot;));\r\n    }\r\n\r\n}\r\n```\r\nhowever, I am getting this error:\r\n```\r\n/MyClass.java:7: error: &#39;;&#39; expected\r\n    Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;\r\n```\r\n\r\nI am referring to this answer:\r\nhttps://stackoverflow.com/questions/28823132/why-is-there-the-compile-error-expected-for-my-java-code\r\nit seems that it&#39;s mentioned that the method should be outside of the main method, which is the case in my code, I don&#39;t know what I am missing?\r\n\r\n","title":"/MyClass.java:7: error: &#39;;&#39; expected Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;","body":"<p>I am trying to do this function</p>\n<pre><code>import java.util.Map;\npublic class MyClass {\n\npublic static Map&lt;String, Integer&gt; runQuery(Integer x,Integer y){\n    \n    Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;\n    map.put(&quot;key1&quot;, x);\n    map.put(&quot;key2&quot;, y);\n    return map;\n}\n    public  void main(String args[]) {\n      int x=10;\n      int y=25;\n      int z=x+y;\n      Map&lt;String, Integer&gt; result = runQuery(3, 4);\n      \n\n      System.out.println(&quot;Sum of x+y = &quot; + z);\n      System.out.println(&quot;first val = &quot; + result.get(&quot;key1&quot;));\n    }\n\n}\n</code></pre>\n<p>however, I am getting this error:</p>\n<pre><code>/MyClass.java:7: error: ';' expected\n    Map&lt;String, Integer&gt; map = Map&lt;String, Integer&gt; () ;\n</code></pre>\n<p>I am referring to this answer:\n<a href=\"https://stackoverflow.com/questions/28823132/why-is-there-the-compile-error-expected-for-my-java-code\">Why is there the compile error, &quot; ; expected &quot; for my Java Code?</a>\nit seems that it's mentioned that the method should be outside of the main method, which is the case in my code, I don't know what I am missing?</p>\n"},{"tags":["java","eclipse","ssl","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1238031438,"creation_date":1238031438,"answer_id":684209,"question_id":684081,"body_markdown":"You should probably create the certificate and import it into the default keystore using keytool.  I&#39;m not sure what you&#39;re trying to do with your application, but it should then be able to use that certificate.","title":"Importing SSL Certificate into Eclipse","body":"<p>You should probably create the certificate and import it into the default keystore using keytool.  I'm not sure what you're trying to do with your application, but it should then be able to use that certificate.</p>\n"},{"tags":[],"owner":{"account_id":13627,"reputation":5160,"user_id":27507,"accept_rate":90,"display_name":"sourcerebels"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1509111623,"creation_date":1238059257,"answer_id":685036,"question_id":684081,"body_markdown":"Probably you want to import a &quot;fake&quot; SSL cert in JRE&#39;s trustcacerts for avoiding not-a-valid-certificate issues. Isn&#39;t it?\r\n\r\nAs Jon said, you can do the job with [keytool][1]:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    keytool\r\n    \t-import\r\n    \t-alias &lt;provide_an_alias&gt;\r\n    \t-file &lt;certificate_file&gt;\r\n    \t-keystore &lt;your_path_to_jre&gt;/lib/security/cacerts\r\n\r\nUse &quot;changeit&quot; as the default password when asked ([thanks Brian Clozel][2]). Ensure to use this runtime at your server or launch configuration.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/keytool.html\r\n  [2]: https://stackoverflow.com/questions/684081/importing-ssl-certificate-into-eclipse#comment2400032_685036","title":"Importing SSL Certificate into Eclipse","body":"<p>Probably you want to import a \"fake\" SSL cert in JRE's trustcacerts for avoiding not-a-valid-certificate issues. Isn't it?</p>\n\n<p>As Jon said, you can do the job with <a href=\"http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/keytool.html\" rel=\"noreferrer\">keytool</a>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>keytool\n    -import\n    -alias &lt;provide_an_alias&gt;\n    -file &lt;certificate_file&gt;\n    -keystore &lt;your_path_to_jre&gt;/lib/security/cacerts\n</code></pre>\n\n<p>Use \"changeit\" as the default password when asked (<a href=\"https://stackoverflow.com/questions/684081/importing-ssl-certificate-into-eclipse#comment2400032_685036\">thanks Brian Clozel</a>). Ensure to use this runtime at your server or launch configuration.</p>\n"},{"tags":[],"owner":{"account_id":10254376,"reputation":51,"user_id":7567622,"display_name":"Navaneeth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509198372,"creation_date":1509197098,"answer_id":46990217,"question_id":684081,"body_markdown":"We need to import a certificate means we need to use :\r\n\r\n    keytool \r\n     -importcert \r\n     -file &lt;certificate_location&gt; \r\n     -keystore &lt;jre_location\\lib\\security\\cacerts&gt; \r\n     -alias &quot;&lt;cert_name&gt;&quot;\r\n\r\nIt will ask for a password. Type the password as `changeit`\r\n\r\n    Type Password : changeit\r\n\r\nfinally it will ask need to add {yes/no} : \r\n\r\n   type yes.\r\n\r\nNote: Don&#39;t give blank space in location path ","title":"Importing SSL Certificate into Eclipse","body":"<p>We need to import a certificate means we need to use :</p>\n\n<pre><code>keytool \n -importcert \n -file &lt;certificate_location&gt; \n -keystore &lt;jre_location\\lib\\security\\cacerts&gt; \n -alias \"&lt;cert_name&gt;\"\n</code></pre>\n\n<p>It will ask for a password. Type the password as <code>changeit</code></p>\n\n<pre><code>Type Password : changeit\n</code></pre>\n\n<p>finally it will ask need to add {yes/no} : </p>\n\n<p>type yes.</p>\n\n<p>Note: Don't give blank space in location path </p>\n"},{"tags":[],"owner":{"account_id":11546279,"reputation":21,"user_id":8460204,"display_name":"BalajiShanmugam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535523575,"creation_date":1535523388,"answer_id":52070636,"question_id":684081,"body_markdown":"    sudo  keytool -import  -file /Users/balaji-pt2176/Desktop/Apple\\ Worldwide\\ Developer\\ Relations\\ Certification\\ Authority.cer  -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre/lib/security/cacerts\r\n\r\n\r\n\r\n\r\nin mac \r\n","title":"Importing SSL Certificate into Eclipse","body":"<pre><code>sudo  keytool -import  -file /Users/balaji-pt2176/Desktop/Apple\\ Worldwide\\ Developer\\ Relations\\ Certification\\ Authority.cer  -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre/lib/security/cacerts\n</code></pre>\n\n<p>in mac </p>\n"},{"tags":[],"owner":{"account_id":5469252,"reputation":332,"user_id":5711881,"display_name":"apocalysque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1544643887,"creation_date":1543389462,"answer_id":53514066,"question_id":684081,"body_markdown":"There&#39;s a better tool for the job.\r\n\r\n[KeyStore Explorer][1]\r\n\r\nWhen you run (run as administrator in windows in order to save changes to system, sudo in linux, etc.) the application (it has installers for win/mac/linux) there&#39;s a built-in function to edit the system&#39;s cacerts file:\r\n\r\nFile -&gt; Open Special -&gt; Open CA Certificates\r\n\r\n[![Open CA Certificates][2]][2]\r\n\r\n**EITHER** you already have the certificate file and you can go to:\r\n\r\nTools -&gt; Import Trusted Certificate\r\n\r\n**OR** you need to download the certificate from the server; go to:\r\n\r\nExamine -&gt; Examine SSL\r\n\r\n[![Examine menu][3]][3]\r\n\r\n[![Examine SSL][4]][4]\r\n\r\nFrom there type in the hostname and click ok.  It will pop up a window showing the certificate details.  At the bottom of that window there&#39;s an &quot;Import&quot; button that will allow you to directly import it into the cacerts.\r\n\r\n[![Certificate Details for SSL Connection][5]][5]\r\n\r\nMake sure you save and close cacerts, and restart your eclipse/application for the settings to take effect.\r\n\r\n  [1]: https://keystore-explorer.org/index.html\r\n  [2]: https://i.stack.imgur.com/XNScI.png\r\n  [3]: https://i.stack.imgur.com/acQKj.png\r\n  [4]: https://i.stack.imgur.com/Gi7mU.png\r\n  [5]: https://i.stack.imgur.com/jmZNn.png","title":"Importing SSL Certificate into Eclipse","body":"<p>There's a better tool for the job.</p>\n\n<p><a href=\"https://keystore-explorer.org/index.html\" rel=\"noreferrer\">KeyStore Explorer</a></p>\n\n<p>When you run (run as administrator in windows in order to save changes to system, sudo in linux, etc.) the application (it has installers for win/mac/linux) there's a built-in function to edit the system's cacerts file:</p>\n\n<p>File -> Open Special -> Open CA Certificates</p>\n\n<p><a href=\"https://i.stack.imgur.com/XNScI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XNScI.png\" alt=\"Open CA Certificates\"></a></p>\n\n<p><strong>EITHER</strong> you already have the certificate file and you can go to:</p>\n\n<p>Tools -> Import Trusted Certificate</p>\n\n<p><strong>OR</strong> you need to download the certificate from the server; go to:</p>\n\n<p>Examine -> Examine SSL</p>\n\n<p><a href=\"https://i.stack.imgur.com/acQKj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/acQKj.png\" alt=\"Examine menu\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Gi7mU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gi7mU.png\" alt=\"Examine SSL\"></a></p>\n\n<p>From there type in the hostname and click ok.  It will pop up a window showing the certificate details.  At the bottom of that window there's an \"Import\" button that will allow you to directly import it into the cacerts.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jmZNn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jmZNn.png\" alt=\"Certificate Details for SSL Connection\"></a></p>\n\n<p>Make sure you save and close cacerts, and restart your eclipse/application for the settings to take effect.</p>\n"},{"tags":[],"owner":{"account_id":17161333,"reputation":11,"user_id":12420913,"display_name":"k.a."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586243389,"creation_date":1586243389,"answer_id":61074557,"question_id":684081,"body_markdown":"If you have default Java setup and have provided Java classpath, then you must be using Java Truststore for SSL certificates.\r\n\r\nFor this you can follow below steps to import certificates into Trust store:\r\n\r\n1. Navigate to the JRE\\bin folder of your Java setup\r\nIdeally the path should be: \r\n\r\n&gt; user\\Java\\jre1.8.0_221\\bin\r\n\r\n2. You will be able to find Keytool in the bin folder(which will be used to run the commands):\r\n\r\n[Path to locate Keytool][1]\r\n\r\n\r\n3. Now once you are on this path, open the path in your CMD prompt:\r\n\r\n[Bin folder in CMD][2]\r\n\r\n4. Now you will be able to find default Trust store of Java at below path:\r\nPath-\r\n\r\n&gt; user\\Java\\jre1.8.0_221\\bin\r\n\r\n[Path to Java default Trust store][3]\r\n\r\n5. Now you can run below command to see contents of this Trust store:\r\n\r\n    keytool -list -v -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_221\\lib\\security\\cacerts&quot;\r\n\r\nNote: If your path to Trust store has spaces in it, then you need to use double quotes for the path. Else you can provide path like below:\r\n\r\n    keytool -list -v -keystore C:\\Temp\\Java\\jre1.8.0_221\\lib\\security\\cacerts\r\n\r\nNow just provide password to Trust Store(Default password is: changeit):\r\n[Accessing Trust store using Keytool][4]\r\n\r\n6. You can now as per your need add any certificate to the Trust store:\r\n\r\n    JRE_HOME/bin/keytool  -import  -trustcacerts\r\n                             -alias certAlias  -file certFile\r\n                             -keystore trustStoreFile\r\n\r\n  [1]: https://i.stack.imgur.com/zGams.jpg\r\n  [2]: https://i.stack.imgur.com/FtQOI.jpg\r\n  [3]: https://i.stack.imgur.com/XcMhV.jpg\r\n  [4]: https://i.stack.imgur.com/ReNH1.jpg","title":"Importing SSL Certificate into Eclipse","body":"<p>If you have default Java setup and have provided Java classpath, then you must be using Java Truststore for SSL certificates.</p>\n\n<p>For this you can follow below steps to import certificates into Trust store:</p>\n\n<ol>\n<li>Navigate to the JRE\\bin folder of your Java setup\nIdeally the path should be: </li>\n</ol>\n\n<blockquote>\n  <p>user\\Java\\jre1.8.0_221\\bin</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>You will be able to find Keytool in the bin folder(which will be used to run the commands):</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/zGams.jpg\" rel=\"nofollow noreferrer\">Path to locate Keytool</a></p>\n\n<ol start=\"3\">\n<li>Now once you are on this path, open the path in your CMD prompt:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/FtQOI.jpg\" rel=\"nofollow noreferrer\">Bin folder in CMD</a></p>\n\n<ol start=\"4\">\n<li>Now you will be able to find default Trust store of Java at below path:\nPath-</li>\n</ol>\n\n<blockquote>\n  <p>user\\Java\\jre1.8.0_221\\bin</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/XcMhV.jpg\" rel=\"nofollow noreferrer\">Path to Java default Trust store</a></p>\n\n<ol start=\"5\">\n<li><p>Now you can run below command to see contents of this Trust store:</p>\n\n<p>keytool -list -v -keystore \"C:\\Program Files\\Java\\jre1.8.0_221\\lib\\security\\cacerts\"</p></li>\n</ol>\n\n<p>Note: If your path to Trust store has spaces in it, then you need to use double quotes for the path. Else you can provide path like below:</p>\n\n<pre><code>keytool -list -v -keystore C:\\Temp\\Java\\jre1.8.0_221\\lib\\security\\cacerts\n</code></pre>\n\n<p>Now just provide password to Trust Store(Default password is: changeit):\n<a href=\"https://i.stack.imgur.com/ReNH1.jpg\" rel=\"nofollow noreferrer\">Accessing Trust store using Keytool</a></p>\n\n<ol start=\"6\">\n<li><p>You can now as per your need add any certificate to the Trust store:</p>\n\n<p>JRE_HOME/bin/keytool  -import  -trustcacerts\n                         -alias certAlias  -file certFile\n                         -keystore trustStoreFile</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17806996,"reputation":576,"user_id":12932497,"display_name":"Christian Stadelmann"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1652355253,"creation_date":1611069904,"answer_id":65794452,"question_id":684081,"body_markdown":"In case you have the certificate already in your Windows&#39; certificate store (this is common in corporate/company deployments with MITM certificates), you can also use the following steps (with help from [another Stackoverflow answer with more detailed explaination](https://stackoverflow.com/a/49011158/12932497)):\r\n\r\n1. Locate the `eclipse.ini` file in your Eclipse installation and open it\r\n\r\n2. Below the line `-vmargs`, add the following lines, then save the file:\r\n```\r\n-Djavax.net.ssl.trustStore=NUL\r\n-Djavax.net.ssl.trustStoreType=Windows-ROOT \r\n```\r\n\r\n3. Restart eclipse.","title":"Importing SSL Certificate into Eclipse","body":"<p>In case you have the certificate already in your Windows' certificate store (this is common in corporate/company deployments with MITM certificates), you can also use the following steps (with help from <a href=\"https://stackoverflow.com/a/49011158/12932497\">another Stackoverflow answer with more detailed explaination</a>):</p>\n<ol>\n<li><p>Locate the <code>eclipse.ini</code> file in your Eclipse installation and open it</p>\n</li>\n<li><p>Below the line <code>-vmargs</code>, add the following lines, then save the file:</p>\n</li>\n</ol>\n<pre><code>-Djavax.net.ssl.trustStore=NUL\n-Djavax.net.ssl.trustStoreType=Windows-ROOT \n</code></pre>\n<ol start=\"3\">\n<li>Restart eclipse.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628873108,"creation_date":1628873108,"answer_id":68775813,"question_id":684081,"body_markdown":"## Mac\r\n\r\n 1. Open **Keychain Access.app** (Shortcut: press Command + Spacebar and type Keychain)\r\n 2. Search the desired certificate file (e.g. `example.cer`) and right-click ➡️ Select **Export...** ➡️ Save it to some location e.g. `Desktop`.\r\n 3. Follow the instructions in [this answer](https://stackoverflow.com/a/66889979/10819573) to import it to your Java certificate store. The important commands are:\r\n```\r\ncd $JAVA_HOME/lib/security\r\nsudo cp cacerts cacerts.bak\r\nsudo keytool -importcert -alias youralias -file ~/Desktop/example.cer -keystore cacerts\r\n```\r\nThe default password of the keystore is: `changeit`.\r\n\r\n 4. Assuming, `$JAVA_HOME/lib/security` points to `/Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home/lib/security` in your system, add the following lines in the `eclipse.ini` file:\r\n```\r\n-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home/lib/security/cacerts\r\n-Djavax.net.ssl.trustStorePassword=changeit\r\n```\r\n**Note:** If you are using STS, follow [this answer](https://stackoverflow.com/a/68775329/10819573) to locate the `.ini` file.\r\n \r\n 5. Restart Eclipse.","title":"Importing SSL Certificate into Eclipse","body":"<h2>Mac</h2>\n<ol>\n<li>Open <strong>Keychain Access.app</strong> (Shortcut: press Command + Spacebar and type Keychain)</li>\n<li>Search the desired certificate file (e.g. <code>example.cer</code>) and right-click ➡️ Select <strong>Export...</strong> ➡️ Save it to some location e.g. <code>Desktop</code>.</li>\n<li>Follow the instructions in <a href=\"https://stackoverflow.com/a/66889979/10819573\">this answer</a> to import it to your Java certificate store. The important commands are:</li>\n</ol>\n<pre><code>cd $JAVA_HOME/lib/security\nsudo cp cacerts cacerts.bak\nsudo keytool -importcert -alias youralias -file ~/Desktop/example.cer -keystore cacerts\n</code></pre>\n<p>The default password of the keystore is: <code>changeit</code>.</p>\n<ol start=\"4\">\n<li>Assuming, <code>$JAVA_HOME/lib/security</code> points to <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home/lib/security</code> in your system, add the following lines in the <code>eclipse.ini</code> file:</li>\n</ol>\n<pre><code>-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home/lib/security/cacerts\n-Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p><strong>Note:</strong> If you are using STS, follow <a href=\"https://stackoverflow.com/a/68775329/10819573\">this answer</a> to locate the <code>.ini</code> file.</p>\n<ol start=\"5\">\n<li>Restart Eclipse.</li>\n</ol>\n"}],"owner":{"account_id":24965,"reputation":5189,"user_id":63814,"accept_rate":86,"display_name":"MahlerFive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136630,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":685036,"answer_count":8,"score":50,"last_activity_date":1652355253,"creation_date":1238027722,"question_id":684081,"body_markdown":"How do you import an SSL certificate created by java into a project in Eclipse?","title":"Importing SSL Certificate into Eclipse","body":"<p>How do you import an SSL certificate created by java into a project in Eclipse?</p>\n"},{"tags":["java","json","arraylist"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1652353447,"post_id":72214357,"comment_id":127588222,"body_markdown":"You would have to construct new JSONObjects with the altered key and insert them into a JSONArray.","body":"You would have to construct new JSONObjects with the altered key and insert them into a JSONArray."}],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652355073,"creation_date":1652355073,"answer_id":72214749,"question_id":72214357,"body_markdown":"I would parse it to a string using \r\n\r\n     String s = new ObjectMapper().mapper.writeValueAsString(list);\r\n    \r\n       s.replace(&quot;id&quot;,&quot;ID&quot;) ; \r\n\r\nand return new JSONObject(string);\r\n\r\n","title":"How to change the key of JSONArray in java","body":"<p>I would parse it to a string using</p>\n<pre><code> String s = new ObjectMapper().mapper.writeValueAsString(list);\n\n   s.replace(&quot;id&quot;,&quot;ID&quot;) ; \n</code></pre>\n<p>and return new JSONObject(string);</p>\n"}],"owner":{"account_id":25272206,"reputation":1,"user_id":19101375,"display_name":"John Lowe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652355073,"creation_date":1652353195,"question_id":72214357,"body_markdown":"JSON received by POST from the front end\r\n \r\n[{&quot;id&quot;:&quot;001&quot;,&quot;name&quot;:&quot;James&quot;},{&quot;id&quot;:&quot;002&quot;,&quot;name&quot;:&quot;Emma&quot;}]\r\n\r\nI want to change the key of the received JSON and return it.\r\n\r\n[{&quot;ID&quot;:&quot;001&quot;,&quot;FirstName&quot;:&quot;James&quot;},{&quot;ID&quot;:&quot;002&quot;,&quot;FirstName&quot;:&quot;Emma&quot;}]\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TestController{\r\n    \r\n    @RequestMapping(value=&quot;/test1&quot;, method=RequestMethod.POST)\r\n    public List&lt;Object&gt; post (@RequestBody List&lt;TestDto&gt; list){\r\n    \r\n        JSONArray jArray = new JSONArray(list);\r\n\r\n        //I want to add a process to change the JSON key here\r\n         .......\r\n \r\n        return jArray.toList();\r\n    }\r\n}\r\n ```","title":"How to change the key of JSONArray in java","body":"<p>JSON received by POST from the front end</p>\n<p>[{&quot;id&quot;:&quot;001&quot;,&quot;name&quot;:&quot;James&quot;},{&quot;id&quot;:&quot;002&quot;,&quot;name&quot;:&quot;Emma&quot;}]</p>\n<p>I want to change the key of the received JSON and return it.</p>\n<p>[{&quot;ID&quot;:&quot;001&quot;,&quot;FirstName&quot;:&quot;James&quot;},{&quot;ID&quot;:&quot;002&quot;,&quot;FirstName&quot;:&quot;Emma&quot;}]</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController{\n    \n    @RequestMapping(value=&quot;/test1&quot;, method=RequestMethod.POST)\n    public List&lt;Object&gt; post (@RequestBody List&lt;TestDto&gt; list){\n    \n        JSONArray jArray = new JSONArray(list);\n\n        //I want to add a process to change the JSON key here\n         .......\n \n        return jArray.toList();\n    }\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1652275743,"post_id":72201847,"comment_id":127567084,"body_markdown":"Could you add the code for the controller?","body":"Could you add the code for the controller?"},{"owner":{"account_id":25263631,"reputation":1,"user_id":19094174,"display_name":"Ian Halfpenny"},"score":0,"creation_date":1652276685,"post_id":72201847,"comment_id":127567479,"body_markdown":"@tbjorch Just added the controller endpoint for baselineHistory","body":"@tbjorch Just added the controller endpoint for baselineHistory"}],"answers":[{"tags":[],"owner":{"account_id":9487126,"reputation":347,"user_id":7053196,"display_name":"Haythem ROUIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652275882,"creation_date":1652275882,"answer_id":72201983,"question_id":72201847,"body_markdown":"You need to look at the backend (server) error to find the real problem.\r\nDoes your sent Json matches exactly the java Object you are deserializing to ? if not you need a custom deserializer ","title":"Internal Server Error 500 The given string value cannot be transformed to Json object","body":"<p>You need to look at the backend (server) error to find the real problem.\nDoes your sent Json matches exactly the java Object you are deserializing to ? if not you need a custom deserializer</p>\n"},{"tags":[],"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652354991,"creation_date":1652354991,"answer_id":72214727,"question_id":72201847,"body_markdown":"You are sending following json as part of request body: \r\n```\r\n{\r\n  &quot;raDate&quot;: null,\r\n  &quot;deleted&quot;: [\r\n    100722859,\r\n    100722860,\r\n    100722861,\r\n    100722862,\r\n    100722863,\r\n    100722864,\r\n    100722865,\r\n    100722866,\r\n    100722870,\r\n    100722871,\r\n    100722872\r\n  ],\r\n  &quot;inserted&quot;: [\r\n    110024074,\r\n    110024075,\r\n    110024076,\r\n    110024077,\r\n    110024078,\r\n    110024079,\r\n    110024080,\r\n    110024081,\r\n    110024085,\r\n    110024086,\r\n    110024087\r\n  ],\r\n  &quot;baselineDate&quot;: &quot;2020-08-11 07:00:00Z&quot;\r\n}\r\n```\r\nand you BaselineData class doesnt have those field. Hence the error.\r\n\r\nFor this to work your BaselineData class should look something like\r\n```\r\nclass BaselineData {\r\n@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\r\nprivate ZonedDateTime raDate;\r\nprivate List&lt;Integer&gt; deleted;\r\nprivate List&lt;Integer&gt; inserted;\r\n@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\r\nprivate ZonedDateTime baseline;\r\n}\r\n```","title":"Internal Server Error 500 The given string value cannot be transformed to Json object","body":"<p>You are sending following json as part of request body:</p>\n<pre><code>{\n  &quot;raDate&quot;: null,\n  &quot;deleted&quot;: [\n    100722859,\n    100722860,\n    100722861,\n    100722862,\n    100722863,\n    100722864,\n    100722865,\n    100722866,\n    100722870,\n    100722871,\n    100722872\n  ],\n  &quot;inserted&quot;: [\n    110024074,\n    110024075,\n    110024076,\n    110024077,\n    110024078,\n    110024079,\n    110024080,\n    110024081,\n    110024085,\n    110024086,\n    110024087\n  ],\n  &quot;baselineDate&quot;: &quot;2020-08-11 07:00:00Z&quot;\n}\n</code></pre>\n<p>and you BaselineData class doesnt have those field. Hence the error.</p>\n<p>For this to work your BaselineData class should look something like</p>\n<pre><code>class BaselineData {\n@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\nprivate ZonedDateTime raDate;\nprivate List&lt;Integer&gt; deleted;\nprivate List&lt;Integer&gt; inserted;\n@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\nprivate ZonedDateTime baseline;\n}\n</code></pre>\n"}],"owner":{"account_id":25263631,"reputation":1,"user_id":19094174,"display_name":"Ian Halfpenny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652354991,"creation_date":1652275365,"question_id":72201847,"body_markdown":"    error: &quot;Internal Server Error&quot;\r\n    \r\n    message: &quot;The given string value: {\\&quot;raDate\\&quot;: null, \\&quot;deleted\\&quot;: [100722859, 100722860, 100722861, 100722862, 100722863, 100722864, 100722865, 100722866, 100722870, 100722871, 100722872], \\&quot;inserted\\&quot;: [110024074, 110024075, 110024076, 110024077, 110024078, 110024079, 110024080, 110024081, 110024085, 110024086, 110024087], \\&quot;baselineDate\\&quot;: \\&quot;2020-08-11 07:00:00Z\\&quot;} cannot be transformed to Json object; nested exception is java.lang.IllegalArgumentException: The given string value: {\\&quot;raDate\\&quot;: null, \\&quot;deleted\\&quot;: [100722859, 100722860, 100722861, 100722862, 100722863, 100722864, 100722865, 100722866, 100722870, 100722871, 100722872], \\&quot;inserted\\&quot;: [110024074, 110024075, 110024076, 110024077, 110024078, 110024079, 110024080, 110024081, 110024085, 110024086, 110024087], \\&quot;baselineDate\\&quot;: \\&quot;2020-08-11 07:00:00Z\\&quot;} cannot be transformed to Json object&quot;\r\n    \r\n    path: &quot;/api/marathon/baselineTools/baselineHistory&quot;\r\n    \r\n    status: 500\r\n    \r\n    @RequestMapping(value = &quot;baselineHistory&quot;, method = RequestMethod.POST)\r\n    \t@PreAuthorize(&quot;isFullyAuthenticated() &amp;&amp; (hasRole(&#39;ROLE_ADMIN&#39;) || hasRole(&#39;ROLE_BASELINETOOLS&#39;))&quot;)\r\n    \tpublic List&lt;BaselineHistory&gt; getBaselineHistory(@RequestBody BaselineData data) {\r\n    \t\tint reportingProjectId = data.getReportingProjectId();\r\n    \t\tString phase = data.getPhase();\r\n    \r\n    \t\treturn this.baselineHistoryRepository.findAllByReportingProjectIdAndPhase(reportingProjectId, phase);\r\n    \t}\r\n    \r\n    \r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    \r\n    import javax.annotation.Nullable;\r\n    \r\n    public class BaselineData {\r\n    \r\n    \tprivate int reportingProjectId;\r\n    \tprivate String activityId;\r\n    \tprivate String phase;\r\n    \t@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\r\n    \t@Nullable\r\n    \tprivate ZonedDateTime date;\r\n    \r\n    \tpublic BaselineData() {\r\n    \t}\r\n    \r\n    \tpublic int getReportingProjectId() {\r\n    \t\treturn reportingProjectId;\r\n    \t}\r\n    \r\n    \tpublic String getActivityId() {\r\n    \t\treturn activityId;\r\n    \t}\r\n    \r\n    \tpublic String getPhase() {\r\n    \t\treturn phase;\r\n    \t}\r\n    \r\n    \t@Nullable\r\n    \tpublic ZonedDateTime getDate() {\r\n    \t\treturn date != null ? date.withZoneSameInstant(ZoneId.of(&quot;Z&quot;)) : null;\r\n    \t}\r\n    \r\n    \tpublic void setDate(ZonedDateTime date) {\r\n    \t\tthis.date = date.withZoneSameInstant(ZoneId.of(&quot;Z&quot;));\r\n    \t}\r\n    }\r\n\r\nGetting the following error on a POST from React frontend to Java Spring backend with a 500 server error. I have seen some posts about serializing the backend controller endpoint would that work for a POST? Above are the Java Pojo and controller classes.","title":"Internal Server Error 500 The given string value cannot be transformed to Json object","body":"<pre><code>error: &quot;Internal Server Error&quot;\n\nmessage: &quot;The given string value: {\\&quot;raDate\\&quot;: null, \\&quot;deleted\\&quot;: [100722859, 100722860, 100722861, 100722862, 100722863, 100722864, 100722865, 100722866, 100722870, 100722871, 100722872], \\&quot;inserted\\&quot;: [110024074, 110024075, 110024076, 110024077, 110024078, 110024079, 110024080, 110024081, 110024085, 110024086, 110024087], \\&quot;baselineDate\\&quot;: \\&quot;2020-08-11 07:00:00Z\\&quot;} cannot be transformed to Json object; nested exception is java.lang.IllegalArgumentException: The given string value: {\\&quot;raDate\\&quot;: null, \\&quot;deleted\\&quot;: [100722859, 100722860, 100722861, 100722862, 100722863, 100722864, 100722865, 100722866, 100722870, 100722871, 100722872], \\&quot;inserted\\&quot;: [110024074, 110024075, 110024076, 110024077, 110024078, 110024079, 110024080, 110024081, 110024085, 110024086, 110024087], \\&quot;baselineDate\\&quot;: \\&quot;2020-08-11 07:00:00Z\\&quot;} cannot be transformed to Json object&quot;\n\npath: &quot;/api/marathon/baselineTools/baselineHistory&quot;\n\nstatus: 500\n\n@RequestMapping(value = &quot;baselineHistory&quot;, method = RequestMethod.POST)\n    @PreAuthorize(&quot;isFullyAuthenticated() &amp;&amp; (hasRole('ROLE_ADMIN') || hasRole('ROLE_BASELINETOOLS'))&quot;)\n    public List&lt;BaselineHistory&gt; getBaselineHistory(@RequestBody BaselineData data) {\n        int reportingProjectId = data.getReportingProjectId();\n        String phase = data.getPhase();\n\n        return this.baselineHistoryRepository.findAllByReportingProjectIdAndPhase(reportingProjectId, phase);\n    }\n\n\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport com.fasterxml.jackson.annotation.JsonFormat;\n\nimport javax.annotation.Nullable;\n\npublic class BaselineData {\n\n    private int reportingProjectId;\n    private String activityId;\n    private String phase;\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ssX&quot;)\n    @Nullable\n    private ZonedDateTime date;\n\n    public BaselineData() {\n    }\n\n    public int getReportingProjectId() {\n        return reportingProjectId;\n    }\n\n    public String getActivityId() {\n        return activityId;\n    }\n\n    public String getPhase() {\n        return phase;\n    }\n\n    @Nullable\n    public ZonedDateTime getDate() {\n        return date != null ? date.withZoneSameInstant(ZoneId.of(&quot;Z&quot;)) : null;\n    }\n\n    public void setDate(ZonedDateTime date) {\n        this.date = date.withZoneSameInstant(ZoneId.of(&quot;Z&quot;));\n    }\n}\n</code></pre>\n<p>Getting the following error on a POST from React frontend to Java Spring backend with a 500 server error. I have seen some posts about serializing the backend controller endpoint would that work for a POST? Above are the Java Pojo and controller classes.</p>\n"},{"tags":["java","spring-boot","service","javabeans","dto"],"answers":[{"tags":[],"owner":{"account_id":18129699,"reputation":296,"user_id":13184919,"display_name":"M&#225;t&#233; Tős&#233;r"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1627996530,"creation_date":1627996530,"answer_id":68636748,"question_id":68636414,"body_markdown":"You imported the wrong Service annotation in your MovieService class. The one you should import is: `import org.springframework.stereotype.Service;`","title":"Parameter 0 of constructor in &#39;Controller&#39; required a bean of type &#39;service&#39; that could not be found. Not working: adding annotations, componentscans","body":"<p>You imported the wrong Service annotation in your MovieService class. The one you should import is: <code>import org.springframework.stereotype.Service;</code></p>\n"},{"tags":[],"owner":{"account_id":24808863,"reputation":109,"user_id":18690553,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652354885,"creation_date":1652354885,"answer_id":72214701,"question_id":68636414,"body_markdown":"Step 1) Check the ServiceImpl class.\r\n\r\nStep 2) Attach @Service to ServiceImpl class.\r\n\r\nStep 3) Problem is solved now.","title":"Parameter 0 of constructor in &#39;Controller&#39; required a bean of type &#39;service&#39; that could not be found. Not working: adding annotations, componentscans","body":"<p>Step 1) Check the ServiceImpl class.</p>\n<p>Step 2) Attach @Service to ServiceImpl class.</p>\n<p>Step 3) Problem is solved now.</p>\n"}],"owner":{"account_id":22258816,"reputation":61,"user_id":16490580,"display_name":"Nexx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68636748,"answer_count":2,"score":2,"last_activity_date":1652354885,"creation_date":1627995127,"question_id":68636414,"body_markdown":"I&#39;m trying to use Services and DTOs in my project (trying to learn what they are and how they should be used). First, I had only Controllers, Models and Repository. The backend worked as expected. Then, I thought I&#39;d use DTOs and Services to interface the client with the repo. But my app did not work afterwards. \r\n\r\nThe **project structure**: \r\n[![Project Structure][1]][1]\r\n\r\nThe **MovieController**: \r\n```\r\npackage movie_API.movie.controllers;\r\n\r\nimport movie_API.movie.services.MovieService;\r\nimport movie_API.movie.services.beans.MovieDTO;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@Controller\r\n//@RequestMapping(&quot;/something&quot;) &lt;- if you want a general something before the other resources\r\npublic class MovieController {\r\n\r\n    private final MovieService movieService;\r\n\r\n    public MovieController(MovieService movieService) {\r\n        this.movieService = movieService;\r\n        System.out.println(&quot;build controller&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/movies&quot;)\r\n    public String movies(Model model) {\r\n        System.out.println(&quot;before getting in&quot;);\r\n        movieService.showMovies(model);\r\n        System.out.println(&quot;after getting in&quot;);\r\n\r\n        return &quot;movie/movies-all&quot;;\r\n    }\r\n }\r\n```\r\n\r\nThe **Movie** Model + the corresponding constructors and getters and setters:\r\n\r\n```\r\npackage movie_API.movie.models;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Movie {\r\n\r\n    private String id;\r\n    private String metascore;\r\n    private String title;\r\n    private String year;\r\n    private String description;\r\n    private String genreId;\r\n```\r\n\r\nThe **MovieRepository**:\r\n\r\n```\r\npackage movie_API.movie.repositories;\r\n\r\nimport movie_API.movie.models.Movie;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface MovieRepository extends JpaRepository&lt;Movie, String&gt; {\r\n\r\n    default ArrayList&lt;String&gt; getGenreNames(List&lt;Movie&gt; movies, GenreRepository genreRepository) {\r\n        ArrayList&lt;String&gt; genreNames = new ArrayList&lt;&gt;();\r\n        String genreIdInMovie;\r\n        String genreName;\r\n        for (Movie m : movies) {\r\n            genreIdInMovie = m.getGenreId();\r\n            genreName = genreRepository.findById(genreIdInMovie).get().getName();\r\n            genreNames.add(genreName);\r\n        }\r\n        return genreNames;\r\n    }\r\n}\r\n```\r\n\r\nThe **MovieService**:\r\n```\r\npackage movie_API.movie.services;\r\n\r\nimport movie_API.movie.models.Movie;\r\nimport movie_API.movie.repositories.GenreRepository;\r\nimport movie_API.movie.repositories.MovieRepository;\r\nimport movie_API.movie.services.beans.MovieDTO;\r\nimport org.jvnet.hk2.annotations.Service;\r\nimport org.springframework.ui.Model;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class MovieService {\r\n\r\n    private final MovieRepository movieRepository;\r\n    private final GenreRepository genreRepository;\r\n    private List&lt;Movie&gt; movies;\r\n    private Movie movie;\r\n\r\n    public MovieService(MovieRepository movieRepository, GenreRepository genreRepository) {\r\n        this.movieRepository = movieRepository;\r\n        this.genreRepository = genreRepository;\r\n    }\r\n\r\n    public void showMovies(Model m) {\r\n\r\n        m.addAttribute(&quot;allMovies&quot;, getMovies());\r\n        m.addAttribute(&quot;allGenres&quot;, getGenreNames());\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe **MovieDTO** + corresponding constructor and getters and setters:\r\n```\r\npackage movie_API.movie.services.beans;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class MovieDTO implements Serializable {\r\n\r\n    private static final long serialVersionUID = -8040351309785589042L;\r\n\r\n    private String id;\r\n    private String metascore;\r\n    private String title;\r\n    private String year;\r\n    private String description;\r\n    private String genreId;\r\n```\r\n\r\nThe **MovieApplication**:\r\n\r\n```\r\npackage movie_API.movie;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class MovieApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MovieApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe problem is that I receive an **error** saying that there is ***no bean called MovieService***.\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-08-03 14:41:28.664 ERROR 3504 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in movie_API.movie.controllers.MovieController required a bean of type &#39;movie_API.movie.services.MovieService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;movie_API.movie.services.MovieService&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nAfter researching this matter, I found several solutions recommended:\r\n- Apparently, it is not reading the bean from the package, therefore I tried to specifically ask it to scan the component services by changing to `@SpringBootApplication(scanBasePackages={&quot;movie_API.movie.services&quot;})`. This worked in the sense that I didn&#39;t receive the &quot;Failed to start&quot; error anymore. But now the problem was that the Controller wasn&#39;t accessed anymore. All calls were returned by &quot;404 Not found&quot; and the prints I put in the Controller weren&#39;t called. I tried to put all packages in the list, but the &quot;Failed to start&quot; error returned.\r\n- Another solution was to double check whether the MovieRepository and the MovieService had the annotations @Repository and @Service. These were there initially as well, so it didn&#39;t help.\r\n- I also tried to make the MovieService in the MovieController to be outside the constructor and be autowired. Still the same problem (no bean).\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gtazq.png","title":"Parameter 0 of constructor in &#39;Controller&#39; required a bean of type &#39;service&#39; that could not be found. Not working: adding annotations, componentscans","body":"<p>I'm trying to use Services and DTOs in my project (trying to learn what they are and how they should be used). First, I had only Controllers, Models and Repository. The backend worked as expected. Then, I thought I'd use DTOs and Services to interface the client with the repo. But my app did not work afterwards.</p>\n<p>The <strong>project structure</strong>:\n<a href=\"https://i.stack.imgur.com/gtazq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gtazq.png\" alt=\"Project Structure\" /></a></p>\n<p>The <strong>MovieController</strong>:</p>\n<pre><code>package movie_API.movie.controllers;\n\nimport movie_API.movie.services.MovieService;\nimport movie_API.movie.services.beans.MovieDTO;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@Controller\n//@RequestMapping(&quot;/something&quot;) &lt;- if you want a general something before the other resources\npublic class MovieController {\n\n    private final MovieService movieService;\n\n    public MovieController(MovieService movieService) {\n        this.movieService = movieService;\n        System.out.println(&quot;build controller&quot;);\n    }\n\n    @GetMapping(&quot;/movies&quot;)\n    public String movies(Model model) {\n        System.out.println(&quot;before getting in&quot;);\n        movieService.showMovies(model);\n        System.out.println(&quot;after getting in&quot;);\n\n        return &quot;movie/movies-all&quot;;\n    }\n }\n</code></pre>\n<p>The <strong>Movie</strong> Model + the corresponding constructors and getters and setters:</p>\n<pre><code>package movie_API.movie.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Movie {\n\n    private String id;\n    private String metascore;\n    private String title;\n    private String year;\n    private String description;\n    private String genreId;\n</code></pre>\n<p>The <strong>MovieRepository</strong>:</p>\n<pre><code>package movie_API.movie.repositories;\n\nimport movie_API.movie.models.Movie;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Repository\npublic interface MovieRepository extends JpaRepository&lt;Movie, String&gt; {\n\n    default ArrayList&lt;String&gt; getGenreNames(List&lt;Movie&gt; movies, GenreRepository genreRepository) {\n        ArrayList&lt;String&gt; genreNames = new ArrayList&lt;&gt;();\n        String genreIdInMovie;\n        String genreName;\n        for (Movie m : movies) {\n            genreIdInMovie = m.getGenreId();\n            genreName = genreRepository.findById(genreIdInMovie).get().getName();\n            genreNames.add(genreName);\n        }\n        return genreNames;\n    }\n}\n</code></pre>\n<p>The <strong>MovieService</strong>:</p>\n<pre><code>package movie_API.movie.services;\n\nimport movie_API.movie.models.Movie;\nimport movie_API.movie.repositories.GenreRepository;\nimport movie_API.movie.repositories.MovieRepository;\nimport movie_API.movie.services.beans.MovieDTO;\nimport org.jvnet.hk2.annotations.Service;\nimport org.springframework.ui.Model;\n\nimport java.util.List;\n\n@Service\npublic class MovieService {\n\n    private final MovieRepository movieRepository;\n    private final GenreRepository genreRepository;\n    private List&lt;Movie&gt; movies;\n    private Movie movie;\n\n    public MovieService(MovieRepository movieRepository, GenreRepository genreRepository) {\n        this.movieRepository = movieRepository;\n        this.genreRepository = genreRepository;\n    }\n\n    public void showMovies(Model m) {\n\n        m.addAttribute(&quot;allMovies&quot;, getMovies());\n        m.addAttribute(&quot;allGenres&quot;, getGenreNames());\n\n    }\n}\n</code></pre>\n<p>The <strong>MovieDTO</strong> + corresponding constructor and getters and setters:</p>\n<pre><code>package movie_API.movie.services.beans;\n\nimport java.io.Serializable;\n\npublic class MovieDTO implements Serializable {\n\n    private static final long serialVersionUID = -8040351309785589042L;\n\n    private String id;\n    private String metascore;\n    private String title;\n    private String year;\n    private String description;\n    private String genreId;\n</code></pre>\n<p>The <strong>MovieApplication</strong>:</p>\n<pre><code>package movie_API.movie;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MovieApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MovieApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>The problem is that I receive an <strong>error</strong> saying that there is <em><strong>no bean called MovieService</strong></em>.</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-08-03 14:41:28.664 ERROR 3504 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in movie_API.movie.controllers.MovieController required a bean of type 'movie_API.movie.services.MovieService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'movie_API.movie.services.MovieService' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>After researching this matter, I found several solutions recommended:</p>\n<ul>\n<li>Apparently, it is not reading the bean from the package, therefore I tried to specifically ask it to scan the component services by changing to <code>@SpringBootApplication(scanBasePackages={&quot;movie_API.movie.services&quot;})</code>. This worked in the sense that I didn't receive the &quot;Failed to start&quot; error anymore. But now the problem was that the Controller wasn't accessed anymore. All calls were returned by &quot;404 Not found&quot; and the prints I put in the Controller weren't called. I tried to put all packages in the list, but the &quot;Failed to start&quot; error returned.</li>\n<li>Another solution was to double check whether the MovieRepository and the MovieService had the annotations @Repository and @Service. These were there initially as well, so it didn't help.</li>\n<li>I also tried to make the MovieService in the MovieController to be outside the constructor and be autowired. Still the same problem (no bean).</li>\n</ul>\n"},{"tags":["java","cryptography","signature","elliptic-curve","ecdsa"],"comments":[{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652348756,"post_id":72212470,"comment_id":127586633,"body_markdown":"@Robert updated to add in my code when I get bigIntX and bigIntY - this may be when I&#39;m going wrong. Is there a way of interpreting them as unsigned?","body":"@Robert updated to add in my code when I get bigIntX and bigIntY - this may be when I&#39;m going wrong. Is there a way of interpreting them as unsigned?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1652349012,"post_id":72212470,"comment_id":127586727,"body_markdown":"Is your signature in P1363 format (can be checked by the length)?","body":"Is your signature in P1363 format (can be checked by the length)?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652349411,"post_id":72212470,"comment_id":127586873,"body_markdown":"@LozCodes BigInteger creation already looks good. The `1` parameters makes it positive/unsigned.","body":"@LozCodes BigInteger creation already looks good. The <code>1</code> parameters makes it positive/unsigned."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652349463,"post_id":72212470,"comment_id":127586887,"body_markdown":"@Topaco I believe so - how can I check?","body":"@Topaco I believe so - how can I check?"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652349501,"post_id":72212470,"comment_id":127586901,"body_markdown":"@Robert Thank you! I thought that was what the 1 was doing but when you asked I wasn&#39;t sure!","body":"@Robert Thank you! I thought that was what the 1 was doing but when you asked I wasn&#39;t sure!"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652350163,"post_id":72212470,"comment_id":127587120,"body_markdown":"@Topaco x and y are 32 bytes each","body":"@Topaco x and y are 32 bytes each"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1652350583,"post_id":72212470,"comment_id":127587264,"body_markdown":"I refer to the length of `signature`.","body":"I refer to the length of <code>signature</code>."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652350640,"post_id":72212470,"comment_id":127587284,"body_markdown":"@Topaco sorry - signature is 72 bytes long","body":"@Topaco sorry - signature is 72 bytes long"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1652351383,"post_id":72212470,"comment_id":127587542,"body_markdown":"This looks like ASN.1/DER format. Check if this format is supported (e.g. `SHA256withECDSA`), otherwise you can explicitly convert the signature from ASN.1/DER to P1363, see [here](https://crypto.stackexchange.com/q/57731/94390)).","body":"This looks like ASN.1/DER format. Check if this format is supported (e.g. <code>SHA256withECDSA</code>), otherwise you can explicitly convert the signature from ASN.1/DER to P1363, see <a href=\"https://crypto.stackexchange.com/q/57731/94390\">here</a>)."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652352129,"post_id":72212470,"comment_id":127587789,"body_markdown":"@Topaco Thank you - I was originally trying to use ```Signature.getInstance(&quot;SHA256withDSA&quot;)``` but gEt an &#39;Invalid encodinf for signature&#39; exception.","body":"@Topaco Thank you - I was originally trying to use <code>Signature.getInstance(&quot;SHA256withDSA&quot;)</code> but gEt an &#39;Invalid encodinf for signature&#39; exception."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1652353409,"post_id":72212470,"comment_id":127588205,"body_markdown":"Is your 72-byte signature in the pattern 0x30 0x46 0x02 0x21 0x00 (32 bytes) 0x02 0x21 0x00 (32 bytes)? If so it&#39;s valid ASN.1 DER; if not it&#39;s either wrong, damaged, or something else.","body":"Is your 72-byte signature in the pattern 0x30 0x46 0x02 0x21 0x00 (32 bytes) 0x02 0x21 0x00 (32 bytes)? If so it&#39;s valid ASN.1 DER; if not it&#39;s either wrong, damaged, or something else."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1652354508,"post_id":72212470,"comment_id":127588601,"body_markdown":"The question post doesn&#39;t contain any info on the Java Card generated signature, so I&#39;m voting to close until this detail has been added.","body":"The question post doesn&#39;t contain any info on the Java Card generated signature, so I&#39;m voting to close until this detail has been added."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1652354721,"post_id":72212470,"comment_id":127588695,"body_markdown":"Note that SHA256withDSA is not the same as SHA256with**EC**DSA.","body":"Note that SHA256withDSA is not the same as SHA256with<b>EC</b>DSA."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652354895,"post_id":72212470,"comment_id":127588764,"body_markdown":"@Topaco sorry yes - I was using SHA256withECDSA, that was a typo","body":"@Topaco sorry yes - I was using SHA256withECDSA, that was a typo"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1652355386,"post_id":72212470,"comment_id":127588921,"body_markdown":"Have you checked if the signature is as described in the [linked post](https://crypto.stackexchange.com/q/57731/94390) or in dave_thompson_085&#39;s comment?","body":"Have you checked if the signature is as described in the <a href=\"https://crypto.stackexchange.com/q/57731/94390\">linked post</a> or in dave_thompson_085&#39;s comment?"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652358725,"post_id":72212470,"comment_id":127590110,"body_markdown":"@dave_thompson_085 My signature is in the format you described/described here: https://crypto.stackexchange.com/q/57731/94390","body":"@dave_thompson_085 My signature is in the format you described/described here: <a href=\"https://crypto.stackexchange.com/q/57731/94390\">crypto.stackexchange.com/q/57731/94390</a>"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652358875,"post_id":72212470,"comment_id":127590180,"body_markdown":"@Topaco yes it is","body":"@Topaco yes it is"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652361608,"post_id":72212470,"comment_id":127591370,"body_markdown":"@Topaco I have checked the message, keys and they do seem to be consistent. How can I check that the signature is a valid secp256r1 signature?","body":"@Topaco I have checked the message, keys and they do seem to be consistent. How can I check that the signature is a valid secp256r1 signature?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1652362449,"post_id":72212470,"comment_id":127591741,"body_markdown":"Verify the signature e.g. with a code or tool that is known to work, e.g. https://8gwifi.org/ecsignverify.jsp (expects an X.509 PEM key for verifying).","body":"Verify the signature e.g. with a code or tool that is known to work, e.g. <a href=\"https://8gwifi.org/ecsignverify.jsp\" rel=\"nofollow noreferrer\">8gwifi.org/ecsignverify.jsp</a> (expects an X.509 PEM key for verifying)."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1652362465,"post_id":72212470,"comment_id":127591748,"body_markdown":"Could you just post the hex encoded signature?","body":"Could you just post the hex encoded signature?"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652362810,"post_id":72212470,"comment_id":127591887,"body_markdown":"@MaartenBodewes the hex signature is 30 44 02 20 0E 06 F0 B0 F9 AB 55 C5 C7 3B E7 D5 D2 2E 38 EF 91 62 47 10 FD CF 3F 46 AC 4A 81 85 C1 E7 4E 21 02 20 1A 99 2C 4F D9 1E 2E 03 05 EC E5 FB 5D 5C A2 25 4C 3D 1F 7E 0D 10 09 A7 D0 95 F7 AB 9A 1E A4 19 00 00","body":"@MaartenBodewes the hex signature is 30 44 02 20 0E 06 F0 B0 F9 AB 55 C5 C7 3B E7 D5 D2 2E 38 EF 91 62 47 10 FD CF 3F 46 AC 4A 81 85 C1 E7 4E 21 02 20 1A 99 2C 4F D9 1E 2E 03 05 EC E5 FB 5D 5C A2 25 4C 3D 1F 7E 0D 10 09 A7 D0 95 F7 AB 9A 1E A4 19 00 00"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1652363006,"post_id":72212470,"comment_id":127591972,"body_markdown":"The last two 0x00 bytes do not comply with the described format.","body":"The last two 0x00 bytes do not comply with the described format."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1654692336,"post_id":72212470,"comment_id":128151108,"body_markdown":"@Topaco should the format of all EC signatures be as in the linked post? For example with the curve K-163 or K-233?","body":"@Topaco should the format of all EC signatures be as in the linked post? For example with the curve K-163 or K-233?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1654719082,"post_id":72212470,"comment_id":128161670,"body_markdown":"The two formats (ASN.1/DER and P1363) are generally valid for ECDSA.","body":"The two formats (ASN.1/DER and P1363) are generally valid for ECDSA."}],"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652354860,"creation_date":1652344818,"question_id":72212470,"body_markdown":"I am signing some data on a Javacard applet, then verifying it in java on my PC. To test this I have a message I know should verify, but when running my code verification fails.\r\n\r\nThis is my code:\r\n```\r\n//message = byte array of message from java card\r\n//signature = byte array of signature from java card\r\n\r\nBigInteger bigIntX = new BigInteger(1, xArray);\r\nBigInteger bigIntY = new BigInteger(1, yArray);\r\nboolean verified = false;\r\n\r\nECPoint w = new ECPoint(bigIntX, bigIntY);\r\n\r\nKeyFactory newKeyFact = KeyFactory.getInstance(&quot;EC&quot;);\r\nECNamedCurveParameterSpec paramSpec = ECNAMEDCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\nECParameterSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, paramSpec.getCurve(), paramSpec.getG(), paramSpec.getN(), paramSpec.getH());\r\nECPublicKey ecPublicKey - (ECPublicKey) newKeyFact.generatePublic(new ECPublicKeySpec(w, params));\r\n\r\nSignature sig = Signature.getInstance(&quot;SHA256withECDSAinP1363Format&quot;);\r\nsig.initVerify(ecPublicKey);\r\nsig.update(message);\r\nverified = sig.verify(signature);\r\n\r\nif (verified) {\r\n//print True\r\n} else {\r\n//print false\r\n}\r\n ```\r\n\r\nverified never gets set to true, even though I know this message should verify fine. Am I re-constructing the key wrong? Or is there something else I&#39;m missing? \r\n\r\n\r\nThis is my javacard code where the signature is generated:\r\n```\r\nKeyPair key = new KeyPair(KeyPair.ALG_EC_FP, KeyBuilder.LENGTH_EC_FP_256);\r\n\r\nECPublicKey pubKey = (ECPublicKey) key.getPublic();\r\nECPrivateKey privKey = (ECPrivateKey) key.getPrivate();\r\ninitDomainParams(pubKey);\r\ninitDomainParams(privKey); //initDomainParams is just where I set A, B, G, R and K to the secp256r1 curve parameters using setA, setB etc\r\n\r\nkey.genKeyPair();\r\nSignature sig = Signature.getInstance(Signature.ALG_ECDSA_SHA_256, false);\r\nsig.init(key.getPrivate(), Signature.MODE_SIGN);\r\nsig.sign(srcArr, srcoffset, srclength, destArr, destoffset);\r\n\r\n ```","title":"Failed Verification of ECDSA Signature","body":"<p>I am signing some data on a Javacard applet, then verifying it in java on my PC. To test this I have a message I know should verify, but when running my code verification fails.</p>\n<p>This is my code:</p>\n<pre><code>//message = byte array of message from java card\n//signature = byte array of signature from java card\n\nBigInteger bigIntX = new BigInteger(1, xArray);\nBigInteger bigIntY = new BigInteger(1, yArray);\nboolean verified = false;\n\nECPoint w = new ECPoint(bigIntX, bigIntY);\n\nKeyFactory newKeyFact = KeyFactory.getInstance(&quot;EC&quot;);\nECNamedCurveParameterSpec paramSpec = ECNAMEDCurveTable.getParameterSpec(&quot;secp256r1&quot;);\nECParameterSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, paramSpec.getCurve(), paramSpec.getG(), paramSpec.getN(), paramSpec.getH());\nECPublicKey ecPublicKey - (ECPublicKey) newKeyFact.generatePublic(new ECPublicKeySpec(w, params));\n\nSignature sig = Signature.getInstance(&quot;SHA256withECDSAinP1363Format&quot;);\nsig.initVerify(ecPublicKey);\nsig.update(message);\nverified = sig.verify(signature);\n\nif (verified) {\n//print True\n} else {\n//print false\n}\n</code></pre>\n<p>verified never gets set to true, even though I know this message should verify fine. Am I re-constructing the key wrong? Or is there something else I'm missing?</p>\n<p>This is my javacard code where the signature is generated:</p>\n<pre><code>KeyPair key = new KeyPair(KeyPair.ALG_EC_FP, KeyBuilder.LENGTH_EC_FP_256);\n\nECPublicKey pubKey = (ECPublicKey) key.getPublic();\nECPrivateKey privKey = (ECPrivateKey) key.getPrivate();\ninitDomainParams(pubKey);\ninitDomainParams(privKey); //initDomainParams is just where I set A, B, G, R and K to the secp256r1 curve parameters using setA, setB etc\n\nkey.genKeyPair();\nSignature sig = Signature.getInstance(Signature.ALG_ECDSA_SHA_256, false);\nsig.init(key.getPrivate(), Signature.MODE_SIGN);\nsig.sign(srcArr, srcoffset, srclength, destArr, destoffset);\n\n</code></pre>\n"},{"tags":["java","math","memory"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":6,"creation_date":1516077995,"post_id":48274239,"comment_id":83532002,"body_markdown":"How many kilobytes to a megabyte? (hint, it&#39;s not 1000 :P)","body":"How many kilobytes to a megabyte? (hint, it&#39;s not 1000 :P)"},{"owner":{"account_id":12175461,"reputation":73,"user_id":8888686,"display_name":"Logan"},"score":0,"creation_date":1516078072,"post_id":48274239,"comment_id":83532020,"body_markdown":"1024... so times/divide by 1024? Sorry if the answer is obvious, my math is horrible.","body":"1024... so times/divide by 1024? Sorry if the answer is obvious, my math is horrible."},{"owner":{"account_id":5781397,"reputation":1007,"user_id":4561908,"display_name":"Gab"},"score":0,"creation_date":1516078423,"post_id":48274239,"comment_id":83532128,"body_markdown":"@Logan `1MB = 1024KB`. Which means that to convert KB to MB, you need to divide the number of KBs by 1024.","body":"@Logan <code>1MB = 1024KB</code>. Which means that to convert KB to MB, you need to divide the number of KBs by 1024."},{"owner":{"account_id":12175461,"reputation":73,"user_id":8888686,"display_name":"Logan"},"score":0,"creation_date":1516078597,"post_id":48274239,"comment_id":83532189,"body_markdown":"What I&#39;ve got is it gets the memory used in bytes, then I divide it by 1024 twice, and that seems to give me the correct amount. I&#39;ll settle with that as the answer.","body":"What I&#39;ve got is it gets the memory used in bytes, then I divide it by 1024 twice, and that seems to give me the correct amount. I&#39;ll settle with that as the answer."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":1,"creation_date":1516079095,"post_id":48274239,"comment_id":83532310,"body_markdown":"Doesn&#39;t the function return bytes ?","body":"Doesn&#39;t the function return bytes ?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1516080095,"post_id":48274239,"comment_id":83532621,"body_markdown":"Actually, 1 Megabyte is 1,000,000 bytes. 1 Mebibyte is 1,048,576 bytes. A  lot of people, like me, grew up with factors of 2^10 (1024) but that&#39;s  incorrect usage of SI units. For RAM, factors of 1024 are still common but SI units are not incorrect. For disk storage, very few manufacturers quote in factors of 1024 (because the outcome is lower) https://en.wikipedia.org/wiki/Megabyte","body":"Actually, 1 Megabyte is 1,000,000 bytes. 1 Mebibyte is 1,048,576 bytes. A  lot of people, like me, grew up with factors of 2^10 (1024) but that&#39;s  incorrect usage of SI units. For RAM, factors of 1024 are still common but SI units are not incorrect. For disk storage, very few manufacturers quote in factors of 1024 (because the outcome is lower) <a href=\"https://en.wikipedia.org/wiki/Megabyte\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Megabyte</a>"}],"answers":[{"tags":[],"owner":{"account_id":12693050,"reputation":1,"user_id":9222394,"display_name":"sdime"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1516078556,"creation_date":1516078556,"answer_id":48274329,"question_id":48274239,"body_markdown":"    private static final long  MB = 1024L * 1024L;\r\n    \r\n     public static long KBToMB(long KB) \r\n     {\r\n        return KB / MB;\r\n     }","title":"Java - Converting bytes to megabytes","body":"<pre><code>private static final long  MB = 1024L * 1024L;\n\n public static long KBToMB(long KB) \n {\n    return KB / MB;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5585653,"reputation":1371,"user_id":4426099,"accept_rate":86,"display_name":"rimonmostafiz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1516079525,"creation_date":1516079525,"answer_id":48274498,"question_id":48274239,"body_markdown":"&gt; 1 Kilobyte (KB) -&gt; 2^10 = 1,024 Bytes\r\n \r\n&gt; 1 Megabyte (MB) -&gt; 2^20 = 1,048,576 Bytes = 1,024 Kilobytes (KB)\r\n\r\n[public long freeMemory()][1]\r\n\r\n&gt; Return: an approximation to the total amount of memory currently\r\n&gt; available for future allocated objects, measured in bytes.\r\n\r\n[public long totalMemory()][2]\r\n\r\n&gt; Returns: the total amount of memory currently available for current\r\n&gt; and future objects, measured in bytes.\r\n\r\nSo when you are calculating `memoryUsedOnStartup` it&#39;s in bytes. If you want to get the result in **Megabytes** then you need to divide it by `(1024 * 1024)`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--","title":"Java - Converting bytes to megabytes","body":"<blockquote>\n  <p>1 Kilobyte (KB) -> 2^10 = 1,024 Bytes</p>\n  \n  <p>1 Megabyte (MB) -> 2^20 = 1,048,576 Bytes = 1,024 Kilobytes (KB)</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\" rel=\"noreferrer\">public long freeMemory()</a></p>\n\n<blockquote>\n  <p>Return: an approximation to the total amount of memory currently\n  available for future allocated objects, measured in bytes.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--\" rel=\"noreferrer\">public long totalMemory()</a></p>\n\n<blockquote>\n  <p>Returns: the total amount of memory currently available for current\n  and future objects, measured in bytes.</p>\n</blockquote>\n\n<p>So when you are calculating <code>memoryUsedOnStartup</code> it's in bytes. If you want to get the result in <strong>Megabytes</strong> then you need to divide it by <code>(1024 * 1024)</code></p>\n"},{"tags":[],"owner":{"account_id":1327328,"reputation":3529,"user_id":1271891,"accept_rate":0,"display_name":"Raj008"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652354677,"creation_date":1652354677,"answer_id":72214653,"question_id":48274239,"body_markdown":"\r\nTo convert bytes to MB below is the formula.\r\n\r\n    bytes/1e+6 = Mb","title":"Java - Converting bytes to megabytes","body":"<p>To convert bytes to MB below is the formula.</p>\n<pre><code>bytes/1e+6 = Mb\n</code></pre>\n"}],"owner":{"account_id":12175461,"reputation":73,"user_id":8888686,"display_name":"Logan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21771,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":48274498,"answer_count":3,"score":5,"last_activity_date":1652354677,"creation_date":1516077873,"question_id":48274239,"body_markdown":"I have the following code here:\r\n\r\n    long memoryUsedOnStartup = Runtime.getRuntime().totalMemory() -\r\n    Runtime.getRuntime().freeMemory();\r\nand I&#39;m using it for some statistical stuff in my program, but this returns it in kilobytes. Is there any reliable way to convert this to megabytes?\r\n\r\nEDIT: It returns it in bytes, but I still need it in megabytes...\r\n","title":"Java - Converting bytes to megabytes","body":"<p>I have the following code here:</p>\n\n<pre><code>long memoryUsedOnStartup = Runtime.getRuntime().totalMemory() -\nRuntime.getRuntime().freeMemory();\n</code></pre>\n\n<p>and I'm using it for some statistical stuff in my program, but this returns it in kilobytes. Is there any reliable way to convert this to megabytes?</p>\n\n<p>EDIT: It returns it in bytes, but I still need it in megabytes...</p>\n"},{"tags":["java","firebase","flutter"],"comments":[{"owner":{"account_id":22369910,"reputation":151,"user_id":16585144,"display_name":"keyur"},"score":0,"creation_date":1652340784,"post_id":72211637,"comment_id":127583869,"body_markdown":"could you please share this code file here?","body":"could you please share this code file here?"},{"owner":{"account_id":25105888,"reputation":33,"user_id":18956073,"display_name":"Programming newcomers"},"score":0,"creation_date":1652344151,"post_id":72211637,"comment_id":127584936,"body_markdown":"@keyur i add some code","body":"@keyur i add some code"},{"owner":{"account_id":22070181,"reputation":633,"user_id":16331296,"display_name":"Julien Gavard"},"score":0,"creation_date":1652349835,"post_id":72211637,"comment_id":127587009,"body_markdown":"Please could you share code and images directly into your question ?","body":"Please could you share code and images directly into your question ?"},{"owner":{"account_id":25105888,"reputation":33,"user_id":18956073,"display_name":"Programming newcomers"},"score":0,"creation_date":1652352846,"post_id":72211637,"comment_id":127588015,"body_markdown":"@Julien Gavard yes，i could.","body":"@Julien Gavard yes，i could."}],"answers":[{"tags":[],"owner":{"account_id":17161337,"reputation":606,"user_id":12420917,"display_name":"Tamzid Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652341747,"creation_date":1652341747,"answer_id":72211852,"question_id":72211637,"body_markdown":"Upgrade your buildToolsVersion in build.gradle to &quot;23.0.1&quot; as follows: \r\n\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.1&quot;.\r\n\r\n","title":"failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>Upgrade your buildToolsVersion in build.gradle to &quot;23.0.1&quot; as follows:</p>\n<pre><code>compileSdkVersion 23\nbuildToolsVersion &quot;23.0.1&quot;.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17729168,"reputation":84,"user_id":12872202,"display_name":"Gejaa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652354289,"creation_date":1652354289,"answer_id":72214575,"question_id":72211637,"body_markdown":"Did you have \r\n1.multidex initialization in app/build.gradle like below\r\n\r\n    defaultConfig {\r\n      //add this line\r\n        multiDexEnabled true\r\n    }\r\n    dependencies {\r\n    //add these lines\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n    }\r\n\r\n2.Check below or add in android/gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx1536M\r\n    android.enableR8=true\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true","title":"failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>Did you have\n1.multidex initialization in app/build.gradle like below</p>\n<pre><code>defaultConfig {\n  //add this line\n    multiDexEnabled true\n}\ndependencies {\n//add these lines\ndef multidex_version = &quot;2.0.1&quot;\nimplementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n}\n</code></pre>\n<p>2.Check below or add in android/gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.enableR8=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"}],"owner":{"account_id":25105888,"reputation":33,"user_id":18956073,"display_name":"Programming newcomers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11932,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72214575,"answer_count":2,"score":3,"last_activity_date":1652354289,"creation_date":1652340649,"question_id":72211637,"body_markdown":"first :I modify the value of the global minSdkVersion variable from the source to 19 so that all projects (old and new) will take it .\r\n\r\nsecond :I added the flutter firebase  plug-ins and flutter run  successful \r\n\r\nfinal :when I see the seedebug console it go wrong in vscode.I don&#39;t know how to solve it\r\n\r\n\r\n    D:\\flutter_application_3_vs\\android\\app\\src\\main\\java\\io\\flutter\\app\\FlutterMultiDexApplication.java:12: ����: �����androidx.multidex������\r\n    import androidx.multidex.MultiDex;\r\n                            ^\r\n    D:\\flutter_application_3_vs\\android\\app\\src\\main\\java\\io\\flutter\\app\\FlutterMultiDexApplication.java:22: ����: �Ҳ�������\r\n        MultiDex.install(this);\r\n        ^\r\n      ����:   ���� MultiDex\r\n      λ��: �� FlutterMultiDexApplication\r\n    2 ������\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 7s\r\n    Exception: Gradle task assembleDebug failed with exit code 1\r\n    Exited (sigterm)\r\n\r\nthis flutter doctor -v app:compileDebugJavaWithJavac\r\n\r\n    [√] Flutter (Channel stable, 3.0.0, on Microsoft Windows [版本 10.0.19044.1645], locale zh-Hans-HK)\r\n        • Flutter version 3.0.0 at D:\\flutter\r\n        • Upstream repository https://github.com/flutter/flutter.git\r\n        • Framework revision ee4e09cce0 (2 days ago), 2022-05-09 16:45:18 -0700\r\n        • Engine revision d1b9a6938a\r\n        • Dart version 2.17.0\r\n        • DevTools version 2.12.2\r\n        • Pub download mirror https://pub.flutter-io.cn\r\n        • Flutter download mirror https://storage.flutter-io.cn\r\n    \r\n    [√] Android toolchain - develop for Android devices (Android SDK version 32.0.0)\r\n        • Android SDK at D:\\SDK\r\n        • Platform android-32, build-tools 32.0.0\r\n        • ANDROID_HOME = D:\\SDK\r\n        • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n        • Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)\r\n        • All Android licenses accepted.\r\n    \r\n    [X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\r\n        ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n    \r\n    [X] Visual Studio - develop for Windows\r\n        X Visual Studio not installed; this is necessary for Windows development.\r\n          Download at https://visualstudio.microsoft.com/downloads/.\r\n          Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\r\n    \r\n    [√] Android Studio (version 2021.2)\r\n        • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n        • Flutter plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/9212-flutter\r\n        • Dart plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/6351-dart\r\n        • Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)\r\n    \r\n    [√] Connected device (3 available)\r\n        • Android SDK built for x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 31) (emulator)\r\n        • Windows (desktop)                     • windows       • windows-x64    • Microsoft Windows [版本 10.0.19044.1645]\r\n        • Edge (web)                            • edge          • web-javascript • Microsoft Edge 101.0.1210.39\r\n    \r\n    [√] HTTP Host Availability\r\n        • All required HTTP hosts are available\r\n\r\n\r\nmy app/build.gradle\r\n\r\n    android {\r\n        compileSdkVersion flutter.compileSdkVersion\r\n\r\n      defaultConfig {\r\n            // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n            applicationId &quot;com.example.flutter_application_3_vs&quot;\r\n            minSdkVersion flutter.minSdkVersion\r\n            targetSdkVersion flutter.targetSdkVersion\r\n            versionCode flutterVersionCode.toInteger()\r\n            versionName flutterVersionName\r\n        }\r\n\r\ni add this in app/build.gradle but It didn&#39;t work\r\n  \r\n\r\n     buildToolVersion &quot;23.0.1&quot;\r\n\r\njava_home was set up before I ues vscode to set up this project  \r\n\r\nthe environment variables java_home\r\n\r\n    JAVA_HOME17:\r\n    D:\\JDK\\java\\jdk-17.0.1\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>first :I modify the value of the global minSdkVersion variable from the source to 19 so that all projects (old and new) will take it .</p>\n<p>second :I added the flutter firebase  plug-ins and flutter run  successful</p>\n<p>final :when I see the seedebug console it go wrong in vscode.I don't know how to solve it</p>\n<pre><code>D:\\flutter_application_3_vs\\android\\app\\src\\main\\java\\io\\flutter\\app\\FlutterMultiDexApplication.java:12: ����: �����androidx.multidex������\nimport androidx.multidex.MultiDex;\n                        ^\nD:\\flutter_application_3_vs\\android\\app\\src\\main\\java\\io\\flutter\\app\\FlutterMultiDexApplication.java:22: ����: �Ҳ�������\n    MultiDex.install(this);\n    ^\n  ����:   ���� MultiDex\n  λ��: �� FlutterMultiDexApplication\n2 ������\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)\n</code></pre>\n<p>this flutter doctor -v app:compileDebugJavaWithJavac</p>\n<pre><code>[√] Flutter (Channel stable, 3.0.0, on Microsoft Windows [版本 10.0.19044.1645], locale zh-Hans-HK)\n    • Flutter version 3.0.0 at D:\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ee4e09cce0 (2 days ago), 2022-05-09 16:45:18 -0700\n    • Engine revision d1b9a6938a\n    • Dart version 2.17.0\n    • DevTools version 2.12.2\n    • Pub download mirror https://pub.flutter-io.cn\n    • Flutter download mirror https://storage.flutter-io.cn\n\n[√] Android toolchain - develop for Android devices (Android SDK version 32.0.0)\n    • Android SDK at D:\\SDK\n    • Platform android-32, build-tools 32.0.0\n    • ANDROID_HOME = D:\\SDK\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2021.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)\n\n[√] Connected device (3 available)\n    • Android SDK built for x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 31) (emulator)\n    • Windows (desktop)                     • windows       • windows-x64    • Microsoft Windows [版本 10.0.19044.1645]\n    • Edge (web)                            • edge          • web-javascript • Microsoft Edge 101.0.1210.39\n\n[√] HTTP Host Availability\n    • All required HTTP hosts are available\n</code></pre>\n<p>my app/build.gradle</p>\n<pre><code>android {\n    compileSdkVersion flutter.compileSdkVersion\n\n  defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.flutter_application_3_vs&quot;\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n</code></pre>\n<p>i add this in app/build.gradle but It didn't work</p>\n<pre><code> buildToolVersion &quot;23.0.1&quot;\n</code></pre>\n<p>java_home was set up before I ues vscode to set up this project</p>\n<p>the environment variables java_home</p>\n<pre><code>JAVA_HOME17:\nD:\\JDK\\java\\jdk-17.0.1\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1652354313,"post_id":72214508,"comment_id":127588532,"body_markdown":"Your field int `s=x+y;` gets initialized before `this.y=y;` is executed. And it only gets initialized once at that specific time when `x` is `20` and `y` is still `0`","body":"Your field int <code>s=x+y;</code> gets initialized before <code>this.y=y;</code> is executed. And it only gets initialized once at that specific time when <code>x</code> is <code>20</code> and <code>y</code> is still <code>0</code>"}],"answers":[{"tags":[],"owner":{"account_id":450629,"reputation":770,"user_id":846061,"accept_rate":60,"display_name":"Jon Ander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652354162,"creation_date":1652354162,"answer_id":72214553,"question_id":72214508,"body_markdown":"you should add the sum inside the method :D\r\n\r\n\r\n    public void sum(){\r\n        int s=x+y;\r\n        System.out.println(&quot;Sum is :&quot;+s);\r\n    }","title":"Can&#39;t get the exact result I was hoping for","body":"<p>you should add the sum inside the method :D</p>\n<pre><code>public void sum(){\n    int s=x+y;\n    System.out.println(&quot;Sum is :&quot;+s);\n}\n</code></pre>\n"}],"owner":{"account_id":25272370,"reputation":3,"user_id":19101524,"display_name":"GeekDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652354707,"answer_count":1,"score":1,"last_activity_date":1652354162,"creation_date":1652353936,"question_id":72214508,"body_markdown":"    class A{\r\n       public int x;\r\n        A(int x){\r\n          this.x=x;\r\n        }\r\n    }\r\n\r\n    class B extends A{\r\n        public  int y;\r\n\r\n        B(int x,int y){\r\n            super(x);\r\n            this.y=y;\r\n        }\r\n\r\n        int s=x+y;\r\n\r\n        public void sum(){\r\n            System.out.println(&quot;Sum is :&quot;+s);\r\n        }\r\n    }\r\n\r\n    public class Inheritance_2 {\r\n         public static void main(String[] args) {\r\n             B obj =new B(20,30);\r\n             obj.sum();\r\n         }\r\n    }\r\n\r\n\r\nIn this code, i wanna know why my sum is not 50 when I use `s=x+y` and print s?\r\n\r\nBut when I print `(x+y)` directly it gives the accurate result as  50.","title":"Can&#39;t get the exact result I was hoping for","body":"<pre><code>class A{\n   public int x;\n    A(int x){\n      this.x=x;\n    }\n}\n\nclass B extends A{\n    public  int y;\n\n    B(int x,int y){\n        super(x);\n        this.y=y;\n    }\n\n    int s=x+y;\n\n    public void sum(){\n        System.out.println(&quot;Sum is :&quot;+s);\n    }\n}\n\npublic class Inheritance_2 {\n     public static void main(String[] args) {\n         B obj =new B(20,30);\n         obj.sum();\n     }\n}\n</code></pre>\n<p>In this code, i wanna know why my sum is not 50 when I use <code>s=x+y</code> and print s?</p>\n<p>But when I print <code>(x+y)</code> directly it gives the accurate result as  50.</p>\n"},{"tags":["java","singleton","volatile"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652327739,"post_id":72209916,"comment_id":127581086,"body_markdown":"I think that without `volatile` the first test of `instance` is not guaranteed to return a reference to any `Test` that has been created.  Which means you might make more than one &quot;singleton&quot; which generally a bad idea for classes you only want one of.","body":"I think that without <code>volatile</code> the first test of <code>instance</code> is not guaranteed to return a reference to any <code>Test</code> that has been created.  Which means you might make more than one &quot;singleton&quot; which generally a bad idea for classes you only want one of."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1652328426,"post_id":72209916,"comment_id":127581163,"body_markdown":"yes. https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"yes. <a href=\"https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>"}],"owner":{"account_id":13857507,"reputation":51,"user_id":18420969,"display_name":"Moon Light"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652354003,"creation_date":1652327274,"question_id":72209916,"body_markdown":"I was thinking about why we should use `volatile` keyword on instance field.\r\n\r\n``` \r\nclass Test {\r\n\r\n  private static /* volatile */ Test instance;\r\n\r\n  public static Test getInstance() {\r\n\r\n    if (instance == null) {\r\n\r\n      synchronized (Test.class) {\r\n\r\n        if (instance == null) {\r\n          instance = new Test();\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n    return instance;\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\nThen I looked at `bytecode`. I suppose that we use `volatile` because instructions of constructor invocation and field assignment could be rearranged too? Am I getting it right? \r\n\r\n``` \r\n        10: monitorenter\r\n        11: getstatic     #7                  // Field instance:LTest;\r\n        14: ifnonnull     27\r\n        17: new           #8                  // class Test\r\n        20: dup\r\n        21: invokespecial #13                 // Method &quot;&lt;init&gt;&quot;:()V\r\n        24: putstatic     #7                  // Field instance:LTest;\r\n        27: aload_0\r\n        28: monitorexit\r\n``` ","title":"Initialization and volatile in Java singleton","body":"<p>I was thinking about why we should use <code>volatile</code> keyword on instance field.</p>\n<pre><code>class Test {\n\n  private static /* volatile */ Test instance;\n\n  public static Test getInstance() {\n\n    if (instance == null) {\n\n      synchronized (Test.class) {\n\n        if (instance == null) {\n          instance = new Test();\n        }\n\n      }\n\n    }\n    return instance;\n  }\n\n\n}\n</code></pre>\n<p>Then I looked at <code>bytecode</code>. I suppose that we use <code>volatile</code> because instructions of constructor invocation and field assignment could be rearranged too? Am I getting it right?</p>\n<pre><code>        10: monitorenter\n        11: getstatic     #7                  // Field instance:LTest;\n        14: ifnonnull     27\n        17: new           #8                  // class Test\n        20: dup\n        21: invokespecial #13                 // Method &quot;&lt;init&gt;&quot;:()V\n        24: putstatic     #7                  // Field instance:LTest;\n        27: aload_0\n        28: monitorexit\n</code></pre>\n"},{"tags":["java","postgresql","elasticsearch","redis"],"answers":[{"tags":[],"owner":{"account_id":13439791,"reputation":156,"user_id":9697270,"display_name":"Eugene Maksymets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652353840,"creation_date":1652353840,"answer_id":72214491,"question_id":72150106,"body_markdown":"If the data is being updated rarely then as an option - you can use the calculated order(rank function, user_name_order column) and order by that column instead of PII data.\r\n\r\nyou can create a cron job to update the rank or come up with some event for rank updating.\r\nexample of event: onCreate/onUpdate a userName - recalculate all ranks(decrypt data, update user_name_order columns), etc..","title":"Sorting and Filter Over PII Data","body":"<p>If the data is being updated rarely then as an option - you can use the calculated order(rank function, user_name_order column) and order by that column instead of PII data.</p>\n<p>you can create a cron job to update the rank or come up with some event for rank updating.\nexample of event: onCreate/onUpdate a userName - recalculate all ranks(decrypt data, update user_name_order columns), etc..</p>\n"}],"owner":{"account_id":10525458,"reputation":11,"user_id":7756608,"display_name":"Akhilesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652353840,"creation_date":1651905685,"question_id":72150106,"body_markdown":"I have a large set of *User PII* data, currently, we are storing on Relational Data encrypted with *AWS KMS*. Now I have to paginate data based on `UserName`. The only we have to do right now is load all decrypted data on memory or cache and then do the sorting and pagination.\r\n\r\nPlease suggest any approach, Tool, or framework which supports sorting on *PII* masked data. Services are using Java as language. ","title":"Sorting and Filter Over PII Data","body":"<p>I have a large set of <em>User PII</em> data, currently, we are storing on Relational Data encrypted with <em>AWS KMS</em>. Now I have to paginate data based on <code>UserName</code>. The only we have to do right now is load all decrypted data on memory or cache and then do the sorting and pagination.</p>\n<p>Please suggest any approach, Tool, or framework which supports sorting on <em>PII</em> masked data. Services are using Java as language.</p>\n"},{"tags":["java","spring","spring-boot","geofencing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1583145099,"post_id":60486960,"comment_id":107004809,"body_markdown":"the error is pretty self explanatory: the valid values are within the range 1-12, and you pass 0.","body":"the error is pretty self explanatory: the valid values are within the range 1-12, and you pass 0."},{"owner":{"account_id":17884700,"reputation":41,"user_id":12992656,"display_name":"Jitendra"},"score":0,"creation_date":1583148572,"post_id":60486960,"comment_id":107006497,"body_markdown":"we can&#39;t change google map jar and i am not passing month year any where this exception is coming when i am running the jar.","body":"we can&#39;t change google map jar and i am not passing month year any where this exception is coming when i am running the jar."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1583148639,"post_id":60486960,"comment_id":107006533,"body_markdown":"that is still what is happening. you&#39;ll need to figure out where it is called, and change the code if need be.","body":"that is still what is happening. you&#39;ll need to figure out where it is called, and change the code if need be."},{"owner":{"account_id":17884700,"reputation":41,"user_id":12992656,"display_name":"Jitendra"},"score":0,"creation_date":1583213431,"post_id":60486960,"comment_id":107030314,"body_markdown":"this is not code issue this exception is occurring only when i am using google map jar in my project. And we can&#39;t make change in that google map jar","body":"this is not code issue this exception is occurring only when i am using google map jar in my project. And we can&#39;t make change in that google map jar"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1583218657,"post_id":60486960,"comment_id":107031886,"body_markdown":"yes. and the issue is that a 0 is passed where that is not a valid value. Not much more we can say about that.","body":"yes. and the issue is that a 0 is passed where that is not a valid value. Not much more we can say about that."}],"answers":[{"tags":[],"owner":{"account_id":3796722,"reputation":1653,"user_id":3151562,"display_name":"Scalway"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583148184,"creation_date":1583147304,"answer_id":60487620,"question_id":60486960,"body_markdown":"This Api takes mont number in format 1-12. You need add one `+1` when you are going from place that uses 0-11 for counting months.","title":"Exception in thread &quot;main&quot; java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0 when i am using Google Map jar","body":"<p>This Api takes mont number in format 1-12. You need add one <code>+1</code> when you are going from place that uses 0-11 for counting months.</p>\n"},{"tags":[],"owner":{"account_id":6856645,"reputation":61,"user_id":8910210,"display_name":"rgolcz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612777828,"creation_date":1612777828,"answer_id":66099250,"question_id":60486960,"body_markdown":"Looks like it was fixed in spring-boot 2.1.12\r\nhttps://github.com/spring-projects/spring-boot/pull/19595","title":"Exception in thread &quot;main&quot; java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0 when i am using Google Map jar","body":"<p>Looks like it was fixed in spring-boot 2.1.12\n<a href=\"https://github.com/spring-projects/spring-boot/pull/19595\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/19595</a></p>\n"}],"owner":{"account_id":17884700,"reputation":41,"user_id":12992656,"display_name":"Jitendra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8006,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1652353735,"creation_date":1583145056,"question_id":60486960,"body_markdown":"I am working on Geo Fencing So I am using Google Dependencies [&quot;android-maps-utils&quot;][1] \r\nand [&quot;geopackage-android-map&quot;][2]\r\n\r\nI installed these jar in my system and using them in pom.xml file\r\n\r\nits working fine in eclipse IDE but when i built the project and run project jar separately, that time it&#39;s throwing Expecetion given below : \r\n\r\n\r\nThanks in advance for helping.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.maps.android/android-maps-utils/0.4\r\n  [2]: https://mvnrepository.com/artifact/mil.nga.geopackage.map/geopackage-android-map/1.3.1\r\n\r\n```\r\nException in thread &quot;main&quot; java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0\r\n        at java.time.temporal.ValueRange.checkValidValue(Unknown Source)\r\n        at java.time.temporal.ChronoField.checkValidValue(Unknown Source)\r\n        at java.time.LocalDate.of(Unknown Source)\r\n        at java.time.LocalDateTime.of(Unknown Source)\r\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.decodeMsDosFormatDateTime(CentralDirectoryFileHeader.java:127)\r\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.getTime(CentralDirectoryFileHeader.java:116)\r\n        at org.springframework.boot.loader.jar.JarEntry.&lt;init&gt;(JarEntry.java:58)\r\n        at org.springframework.boot.loader.jar.JarFileEntries.getEntry(JarFileEntries.java:316)\r\n        at org.springframework.boot.loader.jar.JarFileEntries.access$400(JarFileEntries.java:48)\r\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:366)\r\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:350)\r\n        at org.springframework.boot.loader.jar.JarFile$2.nextElement(JarFile.java:204)\r\n        at org.springframework.boot.loader.jar.JarFile$2.nextElement(JarFile.java:195)\r\n        at org.springframework.boot.loader.archive.JarFileArchive$EntryIterator.next(JarFileArchive.java:189)\r\n        at org.springframework.boot.loader.archive.JarFileArchive$EntryIterator.next(JarFileArchive.java:174)\r\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:85)\r\n        at org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchives(ExecutableArchiveLauncher.java:69)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\n```\r\n\r\n","title":"Exception in thread &quot;main&quot; java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0 when i am using Google Map jar","body":"<p>I am working on Geo Fencing So I am using Google Dependencies <a href=\"https://mvnrepository.com/artifact/com.google.maps.android/android-maps-utils/0.4\" rel=\"nofollow noreferrer\">\"android-maps-utils\"</a> \nand <a href=\"https://mvnrepository.com/artifact/mil.nga.geopackage.map/geopackage-android-map/1.3.1\" rel=\"nofollow noreferrer\">\"geopackage-android-map\"</a></p>\n\n<p>I installed these jar in my system and using them in pom.xml file</p>\n\n<p>its working fine in eclipse IDE but when i built the project and run project jar separately, that time it's throwing Expecetion given below : </p>\n\n<p>Thanks in advance for helping.</p>\n\n<pre><code>Exception in thread \"main\" java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0\n        at java.time.temporal.ValueRange.checkValidValue(Unknown Source)\n        at java.time.temporal.ChronoField.checkValidValue(Unknown Source)\n        at java.time.LocalDate.of(Unknown Source)\n        at java.time.LocalDateTime.of(Unknown Source)\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.decodeMsDosFormatDateTime(CentralDirectoryFileHeader.java:127)\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.getTime(CentralDirectoryFileHeader.java:116)\n        at org.springframework.boot.loader.jar.JarEntry.&lt;init&gt;(JarEntry.java:58)\n        at org.springframework.boot.loader.jar.JarFileEntries.getEntry(JarFileEntries.java:316)\n        at org.springframework.boot.loader.jar.JarFileEntries.access$400(JarFileEntries.java:48)\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:366)\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:350)\n        at org.springframework.boot.loader.jar.JarFile$2.nextElement(JarFile.java:204)\n        at org.springframework.boot.loader.jar.JarFile$2.nextElement(JarFile.java:195)\n        at org.springframework.boot.loader.archive.JarFileArchive$EntryIterator.next(JarFileArchive.java:189)\n        at org.springframework.boot.loader.archive.JarFileArchive$EntryIterator.next(JarFileArchive.java:174)\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:85)\n        at org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchives(ExecutableArchiveLauncher.java:69)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\n</code></pre>\n"},{"tags":["java","eclipse","maven","sts-springsourcetoolsuite"],"comments":[{"owner":{"account_id":1266100,"reputation":2735,"user_id":1223376,"display_name":"tom"},"score":1,"creation_date":1335513182,"post_id":10346797,"comment_id":13328149,"body_markdown":"The only way I know is removing a dependency and see if it still compiles.","body":"The only way I know is removing a dependency and see if it still compiles."}],"answers":[{"tags":[],"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1335513635,"creation_date":1335513635,"answer_id":10346955,"question_id":10346797,"body_markdown":"Have a look at the [Maven Dependency Plugin](http://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html). When running, it should list the dependencies that you declared but do not use, but also which intransitive dependencies you use without explicitly declaring them. Note that it you use reflection, the report may not be accurate.","title":"How check if dependency is used by any of my classes and list them in Maven?","body":"<p>Have a look at the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html\">Maven Dependency Plugin</a>. When running, it should list the dependencies that you declared but do not use, but also which intransitive dependencies you use without explicitly declaring them. Note that it you use reflection, the report may not be accurate.</p>\n"}],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10803,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10346955,"answer_count":1,"score":10,"last_activity_date":1652353499,"creation_date":1335512969,"question_id":10346797,"body_markdown":"I want to do some clean up in POM.XML. How can I check which dependencies aren&#39;t used at all by my code and if one is used then how tell which one is it?\r\n\r\nOf course I don&#39;t want to simply delete dependency and then search for errors in IDE, because that could take ages when pom has got about 80+ dependencies.\r\n\r\nI&#39;m using SpringSource Tools Suite version of Eclipse.\r\n\r\nGreetz","title":"How check if dependency is used by any of my classes and list them in Maven?","body":"<p>I want to do some clean up in POM.XML. How can I check which dependencies aren't used at all by my code and if one is used then how tell which one is it?</p>\n\n<p>Of course I don't want to simply delete dependency and then search for errors in IDE, because that could take ages when pom has got about 80+ dependencies.</p>\n\n<p>I'm using SpringSource Tools Suite version of Eclipse.</p>\n\n<p>Greetz</p>\n"},{"tags":["java","android","emulation","gesture","android-virtual-device"],"answers":[{"tags":[],"owner":{"account_id":3852083,"reputation":293,"user_id":3191985,"accept_rate":75,"display_name":"JGray"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1426911915,"creation_date":1426911915,"answer_id":29179241,"question_id":29178621,"body_markdown":"ok solved! for those that might have the same problem, just press f2","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>ok solved! for those that might have the same problem, just press f2</p>\n"},{"tags":[],"owner":{"account_id":2016747,"reputation":1238,"user_id":1803878,"display_name":"Clint StLaurent"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475859735,"creation_date":1475859735,"answer_id":39922533,"question_id":29178621,"body_markdown":"AVD_WXGA_TABLET emulator.\r\nAndroid v 7\r\n\r\nF2 does nothing.\r\nDragging with left-down mouse tries to do a swipe up but bounces back down when I release the mouse.\r\nI&#39;ve tried fast and slow, release on the virtual device or off it.  Short and long strokes.  You name it... \r\n\r\nThe f&#39;ing thing won&#39;t unlock.  And for all the keystrokes available in the tool pallet including fingerprints, there is no simple swipe-left/up/down/right.  You&#39;d think they would have had cntrol-alt-arrow for that out of sheer common sense or as the result of the developer trying to use it.","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>AVD_WXGA_TABLET emulator.\nAndroid v 7</p>\n\n<p>F2 does nothing.\nDragging with left-down mouse tries to do a swipe up but bounces back down when I release the mouse.\nI've tried fast and slow, release on the virtual device or off it.  Short and long strokes.  You name it... </p>\n\n<p>The f'ing thing won't unlock.  And for all the keystrokes available in the tool pallet including fingerprints, there is no simple swipe-left/up/down/right.  You'd think they would have had cntrol-alt-arrow for that out of sheer common sense or as the result of the developer trying to use it.</p>\n"},{"tags":[],"owner":{"account_id":341165,"reputation":490,"user_id":671613,"display_name":"Adham"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511950807,"creation_date":1511950807,"answer_id":47550348,"question_id":29178621,"body_markdown":"    adb shell input keyevent 82\r\nI had the same issue and grew tired of it, this always worked. ","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<pre><code>adb shell input keyevent 82\n</code></pre>\n\n<p>I had the same issue and grew tired of it, this always worked. </p>\n"},{"tags":[],"owner":{"account_id":1188022,"reputation":2187,"user_id":1161573,"accept_rate":68,"display_name":"ScottyB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587911555,"creation_date":1587911555,"answer_id":61442521,"question_id":29178621,"body_markdown":"In my case, I just restarted the simulator by holding down the &quot;Power&quot; button in the simulator menu for a couple of seconds and then choosing &quot;Restart.&quot; I was able to unlock the simulator easily after that.","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>In my case, I just restarted the simulator by holding down the \"Power\" button in the simulator menu for a couple of seconds and then choosing \"Restart.\" I was able to unlock the simulator easily after that.</p>\n"},{"tags":[],"owner":{"account_id":266757,"reputation":543,"user_id":554508,"accept_rate":88,"display_name":"Dre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622206319,"creation_date":1622206319,"answer_id":67739203,"question_id":29178621,"body_markdown":"I&#39;m not sure exactly which step solved it, maybe all, but these were my steps\r\n- Use the SDK manager to update to the latest version of the emulator\r\n- Turn off the emulator (hold the power button and select Power Off)\r\n- Close Android Studio\r\n- Reopen Android Studio\r\n- Launch the emulator from the AVD manager","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>I'm not sure exactly which step solved it, maybe all, but these were my steps</p>\n<ul>\n<li>Use the SDK manager to update to the latest version of the emulator</li>\n<li>Turn off the emulator (hold the power button and select Power Off)</li>\n<li>Close Android Studio</li>\n<li>Reopen Android Studio</li>\n<li>Launch the emulator from the AVD manager</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24739429,"reputation":1,"user_id":18626367,"display_name":"Searock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649373114,"creation_date":1648599358,"answer_id":71670152,"question_id":29178621,"body_markdown":"On mac you can keep holding the command key and then do the swipe gesture with the mouse or trackpad of your computer.\r\n\r\n[Video][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KVvll.gif","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>On mac you can keep holding the command key and then do the swipe gesture with the mouse or trackpad of your computer.</p>\n<p><a href=\"https://i.stack.imgur.com/KVvll.gif\" rel=\"nofollow noreferrer\">Video</a></p>\n"},{"tags":[],"owner":{"account_id":2014578,"reputation":8100,"user_id":1802179,"accept_rate":45,"display_name":"Yuvraj Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652353003,"creation_date":1652353003,"answer_id":72214326,"question_id":29178621,"body_markdown":"Try using one of two ways\r\n\r\n - Swipe up from top section of screen\r\n - Swipe up from bottom section of screen i.e. just above the navigation buttons.","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>Try using one of two ways</p>\n<ul>\n<li>Swipe up from top section of screen</li>\n<li>Swipe up from bottom section of screen i.e. just above the navigation buttons.</li>\n</ul>\n"}],"owner":{"account_id":3852083,"reputation":293,"user_id":3191985,"accept_rate":75,"display_name":"JGray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5210,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1652353003,"creation_date":1426905228,"question_id":29178621,"body_markdown":"I just started learning to program for android and sadly after making one program (Hello World) I have already ran into an issue.  The gesture for &quot;Swipe to Unlock&quot; or for the camera are not functioning.  I can bypass it on the stock emulator because it shows a notification i can click that will skip the screen, however i would much rather just figure out a solution, i have searched around on Google and StackOverflow to no avail... maybe someone can help out.\r\n\r\nThanks in advance,\r\nJon\r\n","title":"Android Studio - AVD doesn&#39;t recognize gestures (cant unlock emulator)","body":"<p>I just started learning to program for android and sadly after making one program (Hello World) I have already ran into an issue.  The gesture for \"Swipe to Unlock\" or for the camera are not functioning.  I can bypass it on the stock emulator because it shows a notification i can click that will skip the screen, however i would much rather just figure out a solution, i have searched around on Google and StackOverflow to no avail... maybe someone can help out.</p>\n\n<p>Thanks in advance,\nJon</p>\n"},{"tags":["java","android","xml","android-recyclerview"],"comments":[{"owner":{"account_id":11356331,"reputation":1000,"user_id":8325853,"display_name":"Tushar Lathiya"},"score":0,"creation_date":1652355125,"post_id":72214208,"comment_id":127588847,"body_markdown":"Initialise your layout manager like &#39;LinearLayoutManager mLinearLayoutManager = new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)&#39;","body":"Initialise your layout manager like &#39;LinearLayoutManager mLinearLayoutManager = new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)&#39;"},{"owner":{"account_id":23738879,"reputation":11,"user_id":17757204,"display_name":"Ihaveaproblem"},"score":0,"creation_date":1652355840,"post_id":72214208,"comment_id":127589073,"body_markdown":"@TusharLathiya i just tried it and unfortunately i still have the same problem","body":"@TusharLathiya i just tried it and unfortunately i still have the same problem"},{"owner":{"account_id":11356331,"reputation":1000,"user_id":8325853,"display_name":"Tushar Lathiya"},"score":0,"creation_date":1652356301,"post_id":72214208,"comment_id":127589244,"body_markdown":"call myadapter.notifyDataStateChanged(); when you get the data. you just call below recyclerview.setAdapter(myadapter);","body":"call myadapter.notifyDataStateChanged(); when you get the data. you just call below recyclerview.setAdapter(myadapter);"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1652358883,"post_id":72214208,"comment_id":127590184,"body_markdown":"Is `filelist` null in `onResume`? The error suggests you never attach an adapter, which would happen if that is null. (Do you see the &quot;uiiiii&quot; toast?). Also, it&#39;s usually best to do adapter creation and attachment in `onCreate` rather than `onResume`","body":"Is <code>filelist</code> null in <code>onResume</code>? The error suggests you never attach an adapter, which would happen if that is null. (Do you see the &quot;uiiiii&quot; toast?). Also, it&#39;s usually best to do adapter creation and attachment in <code>onCreate</code> rather than <code>onResume</code>"},{"owner":{"account_id":23738879,"reputation":11,"user_id":17757204,"display_name":"Ihaveaproblem"},"score":0,"creation_date":1652363726,"post_id":72214208,"comment_id":127592267,"body_markdown":"@TylerV Yes , I do see the &quot;uiii&quot; toast which is why it&#39;s weird because that means that the item is correctly added to the the arraylist (filelist) and thus it isn&#39;t null also about the adapter creation thank you for the advice ! i&#39;m going to correct that","body":"@TylerV Yes , I do see the &quot;uiii&quot; toast which is why it&#39;s weird because that means that the item is correctly added to the the arraylist (filelist) and thus it isn&#39;t null also about the adapter creation thank you for the advice ! i&#39;m going to correct that"},{"owner":{"account_id":23738879,"reputation":11,"user_id":17757204,"display_name":"Ihaveaproblem"},"score":0,"creation_date":1652363779,"post_id":72214208,"comment_id":127592287,"body_markdown":"@TusharLathiya okay i&#39;m gonna try this , thank you !!","body":"@TusharLathiya okay i&#39;m gonna try this , thank you !!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652366679,"post_id":72214208,"comment_id":127593526,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1652396047,"post_id":72214208,"comment_id":127602821,"body_markdown":"Well if none of the suggestions fixes it you&#39;ll need to make a MCVE (like the bot said) so someone else could run it too, otherwise we just have to guess. I don&#39;t see anything obviously wrong.","body":"Well if none of the suggestions fixes it you&#39;ll need to make a MCVE (like the bot said) so someone else could run it too, otherwise we just have to guess. I don&#39;t see anything obviously wrong."}],"owner":{"account_id":23738879,"reputation":11,"user_id":17757204,"display_name":"Ihaveaproblem"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652352793,"creation_date":1652352429,"question_id":72214208,"body_markdown":"okay so i&#39;m trying to get information about an item from the solditem class \r\nthen i want to show it in a recycler view in another class (i implemented parcelable) but here is the problem \r\nit doesnt show anything and it throws this message : \r\n &quot; E/RecyclerView: No adapter attached; skipping layout &quot;\r\ni made sure the arraylist is passed correctly but even tho , it doesnt work;\r\nhere is the files concerned : \r\n\r\n1- solditem.java :\r\n ```\r\npackage com.example.stock;\r\n\r\nimport android.os.Parcel;\r\nimport android.os.Parcelable;\r\n\r\nimport java.io.Serializable;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\n\r\npublic class SoldItem implements Parcelable {\r\n    public String dateVente;\r\n    public String nomClient;\r\n    public String nomProduit;\r\n    public float prixProduitUnitaire;\r\n    public float prixProduitTotal;\r\n    public int quantiteProduit;\r\n\r\n\r\n    public SoldItem() {\r\n    }\r\n\r\n    public SoldItem(String nomClient, String nomProduit, float prixProduitUnitaire,\r\n                    int quantiteProduit)\r\n    {\r\n        this.dateVente=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());;\r\n        this.nomClient=nomClient;\r\n        this.nomProduit=nomProduit;\r\n        this.prixProduitUnitaire=prixProduitUnitaire;\r\n        this.quantiteProduit=quantiteProduit;\r\n        this.prixProduitTotal = (quantiteProduit * prixProduitUnitaire);\r\n\r\n\r\n    }\r\n    public SoldItem(String nomProduit, float prixProduitUnitaire,\r\n                    int quantiteProduit)\r\n    {\r\n\r\n        this.nomProduit=nomProduit;\r\n        this.prixProduitUnitaire=prixProduitUnitaire;\r\n        this.quantiteProduit=quantiteProduit;\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    protected SoldItem(Parcel in) {\r\n        dateVente = in.readString();\r\n        nomClient = in.readString();\r\n        nomProduit = in.readString();\r\n        prixProduitUnitaire = in.readFloat();\r\n        prixProduitTotal = in.readFloat();\r\n        quantiteProduit = in.readInt();\r\n    }\r\n\r\n    public static final Creator&lt;SoldItem&gt; CREATOR = new Creator&lt;SoldItem&gt;() {\r\n        @Override\r\n        public SoldItem createFromParcel(Parcel in) {\r\n            return new SoldItem(in);\r\n        }\r\n\r\n        @Override\r\n        public SoldItem[] newArray(int size) {\r\n            return new SoldItem[size];\r\n        }\r\n    };\r\n\r\n    public String getDateVente() {\r\n        return dateVente;\r\n    }\r\n\r\n    public String getNomClient() {\r\n        return nomClient;\r\n    }\r\n\r\n    public String getNomProduit() {\r\n        return nomProduit;\r\n    }\r\n\r\n    public float getPrixProduitUnitaire() {\r\n        return prixProduitUnitaire;\r\n    }\r\n\r\n    public float getPrixProduitTotal() {\r\n        return getPrixProduitUnitaire()*getQuantiteProduit();\r\n    }\r\n\r\n    public int getQuantiteProduit() {\r\n        return quantiteProduit;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;SoldItem{&quot; +\r\n                &quot;dateVente=&#39;&quot; + dateVente + &#39;\\&#39;&#39; +\r\n                &quot;, nomClient=&#39;&quot; + nomClient + &#39;\\&#39;&#39; +\r\n                &quot;, nomProduit=&#39;&quot; + nomProduit + &#39;\\&#39;&#39; +\r\n                &quot;, prixProduitUnitaire=&quot; + prixProduitUnitaire +\r\n                &quot;, prixProduitTotal=&quot; + prixProduitTotal +\r\n                &quot;, quantiteProduit=&quot; + quantiteProduit +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeString(dateVente);\r\n        parcel.writeString(nomClient);\r\n        parcel.writeString(nomProduit);\r\n        parcel.writeFloat(prixProduitUnitaire);\r\n        parcel.writeFloat(prixProduitTotal);\r\n        parcel.writeInt(quantiteProduit);\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n2- sellproduct.java\r\n```\r\n package com.example.stock;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class SellProduct extends AppCompatActivity {\r\n    public RecyclerView.LayoutManager mLayoutManager;\r\n   public RecyclerView recyclerview;\r\n    public FloatingActionButton additem;\r\n    public ItemAdapter myadapter = new ItemAdapter();\r\n    public ArrayList&lt;SoldItem&gt; filelist ;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.sale);\r\n        additem = findViewById(R.id.floatingActionButton);\r\n\r\n        recyclerview = findViewById(R.id.recyclerview2item);\r\n        filelist = getIntent().getParcelableArrayListExtra(&quot;filelist&quot;);\r\n        additem.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(SellProduct.this, &quot;update r&#233;ussi&quot;, Toast.LENGTH_SHORT).show();\r\n                Intent b = new Intent(SellProduct.this, ItemToSell.class);\r\n                startActivity(b);\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        if (filelist != null) {\r\n            Toast.makeText(SellProduct.this,  &quot;uiiiii&quot; + filelist.get(0).toString() , Toast.LENGTH_SHORT).show();\r\n             BuildRecycleView();\r\n\r\n\r\n        }\r\n    }\r\n\r\n    private void setRecycleViewButtons() {\r\n\r\n        myadapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\r\n\r\n            @Override\r\n            public void onItemClick(int position) {\r\n                //rien\r\n            }\r\n\r\n            @Override\r\n            public void onDeleteClick(int position) {\r\n                removeItem2(position);\r\n            }\r\n\r\n            @Override\r\n            public void onModifyClick(int position) {\r\n                UpdateItemClient(position);\r\n\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n    private void BuildRecycleView() {\r\n\r\n        mLayoutManager = new LinearLayoutManager(this);\r\n\r\n        recyclerview.setLayoutManager(mLayoutManager);\r\n\r\n        myadapter = new ItemAdapter(filelist);\r\n        recyclerview.setHasFixedSize(true);\r\n        recyclerview.setAdapter(myadapter);\r\n        setRecycleViewButtons();\r\n\r\n    }\r\n\r\n    public void removeItem2(int position) {\r\n        final AlertDialog dialog = new AlertDialog.Builder(this)\r\n                .setTitle(&quot;Title&quot;)\r\n                .setMessage(&quot;are you sure you want to remove this item information?&quot;)\r\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        SoldItem item = new SoldItem();\r\n                        item = filelist.get(position);\r\n                        filelist.remove(position);\r\n                        myadapter.setListeClientsComplete(filelist);\r\n                        myadapter.notifyItemRemoved(position);\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, null)\r\n                .show();\r\n\r\n    }\r\n\r\n    public void UpdateItemClient(int position) {\r\n\r\n        final AlertDialog dialog = new AlertDialog.Builder(this)\r\n                .setTitle(&quot;confirmation&quot;)\r\n                .setMessage(&quot;are you sure you want to modify this item information?&quot;)\r\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        SoldItem item = filelist.get(position);\r\n                        Intent i = new Intent(getApplicationContext(), UpdateItem.class);\r\n                        i.putExtra(&quot;item&quot;, item);\r\n                        i.putExtra(&quot;position&quot;, position);\r\n                        startActivity(i);\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, null)\r\n                .show();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nand the adapter class 3-itemadapter.java\r\n\r\n```\r\npackage com.example.stock;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt;  {\r\n    private ArrayList&lt;SoldItem&gt; listeItem;\r\n    private ArrayList&lt;SoldItem&gt; listeItemComplete;\r\n    private OnItemClickListener mListener;\r\n\r\n    public ItemAdapter() {\r\n\r\n    }\r\n\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(int position);\r\n        void onDeleteClick(int position);\r\n        void onModifyClick(int position);\r\n    }\r\n    public void setOnItemClickListener(OnItemClickListener listener) {\r\n        mListener = listener;\r\n    }\r\n\r\n    public static class ItemViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView mTextView1;\r\n        public TextView mTextView2;\r\n        public TextView mTextView3;\r\n        public TextView mTextView4;\r\n        public ImageView mDeleteImage;\r\n        public ImageView mModifyImage;\r\n\r\n\r\n        public ItemViewHolder(@NonNull View itemView,final OnItemClickListener listener) {\r\n            super(itemView);\r\n\r\n\r\n            mTextView1 = itemView.findViewById(R.id.nomp);\r\n            mTextView2 = itemView.findViewById(R.id.qte);\r\n            mTextView3 = itemView.findViewById(R.id.uni_pricee);\r\n            mTextView4 = itemView.findViewById(R.id.total_pricee);\r\n            mDeleteImage = itemView.findViewById(R.id.delete_btn2);\r\n            mModifyImage= itemView.findViewById(R.id.modify_btn2);\r\n\r\n            // si je clique sur un item de recycle view, je declance la mathode onClick, qui appel la fonction onItemClick qui est implement&#233; dans AfficherClientsActivity\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (listener != null) {\r\n                        int position = getAdapterPosition();\r\n                        if (position != RecyclerView.NO_POSITION) {\r\n                            listener.onItemClick(position);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            // si je clique sur le button Delete d&#39;un item de recycleview\r\n            mDeleteImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (listener != null) {\r\n                        int position = getAdapterPosition();\r\n                        if (position != RecyclerView.NO_POSITION) {\r\n                            listener.onDeleteClick(position);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            mModifyImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (listener != null) {\r\n                        int position = getAdapterPosition();\r\n                        if (position != RecyclerView.NO_POSITION) {\r\n                            listener.onModifyClick(position);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public ItemAdapter(ArrayList&lt;SoldItem&gt; Liste) {\r\n        this.listeItem = Liste;\r\n        listeItemComplete = new ArrayList&lt;SoldItem&gt;(listeItem);\r\n    }\r\n\r\n    public void setListeClientsComplete(ArrayList&lt;SoldItem&gt; listeClientsComplete) {\r\n        this.listeItemComplete = listeClientsComplete;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ItemAdapter.ItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.one_card_item, parent, false);\r\n        ItemViewHolder evh = new ItemViewHolder(v,mListener);\r\n        return evh;\r\n    }\r\n\r\n\r\n    public void onBindViewHolder(@NonNull ItemAdapter.ItemViewHolder holder, int position) {\r\n\r\n        SoldItem currentItem = listeItem.get(position);\r\n\r\n        holder.mTextView1.setText(currentItem.getNomProduit());\r\n        holder.mTextView2.setText(currentItem.getQuantiteProduit());\r\n        holder.mTextView3.setText(String.valueOf(currentItem.getPrixProduitUnitaire()));\r\n        holder.mTextView4.setText(String.valueOf(currentItem.getPrixProduitTotal()));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listeItem.size();\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nand here are the xml files :\r\nsellproduct.xml (where i want to display the recyclerview)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:visibility=&quot;visible&quot;\r\n    android:background=&quot;@color/celeste&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;336dp&quot;\r\n        android:layout_height=&quot;66dp&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginEnd=&quot;15dp&quot;\r\n        android:hint=&quot;Customer Name&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.488&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.143&quot;&gt;\r\n\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/name_client&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:textColor=&quot;#546E7A&quot;\r\n            tools:text=&quot; &quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/floatingActionButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        app:backgroundTint=&quot;@color/cg_blue&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.842&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:srcCompat=&quot;@android:drawable/ic_input_add&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;168dp&quot;\r\n        android:backgroundTint=&quot;@color/cg_blue&quot;\r\n        android:text=&quot;Submit&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;166dp&quot;\r\n        android:layout_height=&quot;67dp&quot;\r\n        android:layout_marginBottom=&quot;72dp&quot;\r\n        android:text=&quot;Add Item&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/floatingActionButton&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.562&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.197&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerview2item&quot;\r\n        android:layout_width=&quot;363dp&quot;\r\n        android:layout_height=&quot;262dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nthank you in advance : ) ","title":"My RecyclerView doesnt show up and I get this error : E/RecyclerView: No adapter attached; skipping layout and","body":"<p>okay so i'm trying to get information about an item from the solditem class\nthen i want to show it in a recycler view in another class (i implemented parcelable) but here is the problem\nit doesnt show anything and it throws this message :\n&quot; E/RecyclerView: No adapter attached; skipping layout &quot;\ni made sure the arraylist is passed correctly but even tho , it doesnt work;\nhere is the files concerned :</p>\n<p>1- solditem.java :</p>\n<pre><code>package com.example.stock;\n\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\nimport java.io.Serializable;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class SoldItem implements Parcelable {\n   public String dateVente;\n   public String nomClient;\n   public String nomProduit;\n   public float prixProduitUnitaire;\n   public float prixProduitTotal;\n   public int quantiteProduit;\n\n\n   public SoldItem() {\n   }\n\n   public SoldItem(String nomClient, String nomProduit, float prixProduitUnitaire,\n                   int quantiteProduit)\n   {\n       this.dateVente=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());;\n       this.nomClient=nomClient;\n       this.nomProduit=nomProduit;\n       this.prixProduitUnitaire=prixProduitUnitaire;\n       this.quantiteProduit=quantiteProduit;\n       this.prixProduitTotal = (quantiteProduit * prixProduitUnitaire);\n\n\n   }\n   public SoldItem(String nomProduit, float prixProduitUnitaire,\n                   int quantiteProduit)\n   {\n\n       this.nomProduit=nomProduit;\n       this.prixProduitUnitaire=prixProduitUnitaire;\n       this.quantiteProduit=quantiteProduit;\n\n\n\n   }\n\n\n   protected SoldItem(Parcel in) {\n       dateVente = in.readString();\n       nomClient = in.readString();\n       nomProduit = in.readString();\n       prixProduitUnitaire = in.readFloat();\n       prixProduitTotal = in.readFloat();\n       quantiteProduit = in.readInt();\n   }\n\n   public static final Creator&lt;SoldItem&gt; CREATOR = new Creator&lt;SoldItem&gt;() {\n       @Override\n       public SoldItem createFromParcel(Parcel in) {\n           return new SoldItem(in);\n       }\n\n       @Override\n       public SoldItem[] newArray(int size) {\n           return new SoldItem[size];\n       }\n   };\n\n   public String getDateVente() {\n       return dateVente;\n   }\n\n   public String getNomClient() {\n       return nomClient;\n   }\n\n   public String getNomProduit() {\n       return nomProduit;\n   }\n\n   public float getPrixProduitUnitaire() {\n       return prixProduitUnitaire;\n   }\n\n   public float getPrixProduitTotal() {\n       return getPrixProduitUnitaire()*getQuantiteProduit();\n   }\n\n   public int getQuantiteProduit() {\n       return quantiteProduit;\n   }\n\n\n   @Override\n   public String toString() {\n       return &quot;SoldItem{&quot; +\n               &quot;dateVente='&quot; + dateVente + '\\'' +\n               &quot;, nomClient='&quot; + nomClient + '\\'' +\n               &quot;, nomProduit='&quot; + nomProduit + '\\'' +\n               &quot;, prixProduitUnitaire=&quot; + prixProduitUnitaire +\n               &quot;, prixProduitTotal=&quot; + prixProduitTotal +\n               &quot;, quantiteProduit=&quot; + quantiteProduit +\n               '}';\n   }\n\n   @Override\n   public int describeContents() {\n       return 0;\n   }\n\n   @Override\n   public void writeToParcel(Parcel parcel, int i) {\n       parcel.writeString(dateVente);\n       parcel.writeString(nomClient);\n       parcel.writeString(nomProduit);\n       parcel.writeFloat(prixProduitUnitaire);\n       parcel.writeFloat(prixProduitTotal);\n       parcel.writeInt(quantiteProduit);\n   }\n}\n\n\n\n</code></pre>\n<p>2- sellproduct.java</p>\n<pre><code> package com.example.stock;\n\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.ArrayList;\n\npublic class SellProduct extends AppCompatActivity {\n    public RecyclerView.LayoutManager mLayoutManager;\n   public RecyclerView recyclerview;\n    public FloatingActionButton additem;\n    public ItemAdapter myadapter = new ItemAdapter();\n    public ArrayList&lt;SoldItem&gt; filelist ;\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sale);\n        additem = findViewById(R.id.floatingActionButton);\n\n        recyclerview = findViewById(R.id.recyclerview2item);\n        filelist = getIntent().getParcelableArrayListExtra(&quot;filelist&quot;);\n        additem.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(SellProduct.this, &quot;update réussi&quot;, Toast.LENGTH_SHORT).show();\n                Intent b = new Intent(SellProduct.this, ItemToSell.class);\n                startActivity(b);\n            }\n        });\n\n\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (filelist != null) {\n            Toast.makeText(SellProduct.this,  &quot;uiiiii&quot; + filelist.get(0).toString() , Toast.LENGTH_SHORT).show();\n             BuildRecycleView();\n\n\n        }\n    }\n\n    private void setRecycleViewButtons() {\n\n        myadapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(int position) {\n                //rien\n            }\n\n            @Override\n            public void onDeleteClick(int position) {\n                removeItem2(position);\n            }\n\n            @Override\n            public void onModifyClick(int position) {\n                UpdateItemClient(position);\n\n            }\n\n\n        });\n    }\n\n    private void BuildRecycleView() {\n\n        mLayoutManager = new LinearLayoutManager(this);\n\n        recyclerview.setLayoutManager(mLayoutManager);\n\n        myadapter = new ItemAdapter(filelist);\n        recyclerview.setHasFixedSize(true);\n        recyclerview.setAdapter(myadapter);\n        setRecycleViewButtons();\n\n    }\n\n    public void removeItem2(int position) {\n        final AlertDialog dialog = new AlertDialog.Builder(this)\n                .setTitle(&quot;Title&quot;)\n                .setMessage(&quot;are you sure you want to remove this item information?&quot;)\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        SoldItem item = new SoldItem();\n                        item = filelist.get(position);\n                        filelist.remove(position);\n                        myadapter.setListeClientsComplete(filelist);\n                        myadapter.notifyItemRemoved(position);\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, null)\n                .show();\n\n    }\n\n    public void UpdateItemClient(int position) {\n\n        final AlertDialog dialog = new AlertDialog.Builder(this)\n                .setTitle(&quot;confirmation&quot;)\n                .setMessage(&quot;are you sure you want to modify this item information?&quot;)\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        SoldItem item = filelist.get(position);\n                        Intent i = new Intent(getApplicationContext(), UpdateItem.class);\n                        i.putExtra(&quot;item&quot;, item);\n                        i.putExtra(&quot;position&quot;, position);\n                        startActivity(i);\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, null)\n                .show();\n\n    }\n\n\n\n\n\n}\n\n</code></pre>\n<p>and the adapter class 3-itemadapter.java</p>\n<pre><code>package com.example.stock;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Filter;\nimport android.widget.Filterable;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt;  {\n    private ArrayList&lt;SoldItem&gt; listeItem;\n    private ArrayList&lt;SoldItem&gt; listeItemComplete;\n    private OnItemClickListener mListener;\n\n    public ItemAdapter() {\n\n    }\n\n\n    public interface OnItemClickListener {\n        void onItemClick(int position);\n        void onDeleteClick(int position);\n        void onModifyClick(int position);\n    }\n    public void setOnItemClickListener(OnItemClickListener listener) {\n        mListener = listener;\n    }\n\n    public static class ItemViewHolder extends RecyclerView.ViewHolder {\n        public TextView mTextView1;\n        public TextView mTextView2;\n        public TextView mTextView3;\n        public TextView mTextView4;\n        public ImageView mDeleteImage;\n        public ImageView mModifyImage;\n\n\n        public ItemViewHolder(@NonNull View itemView,final OnItemClickListener listener) {\n            super(itemView);\n\n\n            mTextView1 = itemView.findViewById(R.id.nomp);\n            mTextView2 = itemView.findViewById(R.id.qte);\n            mTextView3 = itemView.findViewById(R.id.uni_pricee);\n            mTextView4 = itemView.findViewById(R.id.total_pricee);\n            mDeleteImage = itemView.findViewById(R.id.delete_btn2);\n            mModifyImage= itemView.findViewById(R.id.modify_btn2);\n\n            // si je clique sur un item de recycle view, je declance la mathode onClick, qui appel la fonction onItemClick qui est implementé dans AfficherClientsActivity\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (listener != null) {\n                        int position = getAdapterPosition();\n                        if (position != RecyclerView.NO_POSITION) {\n                            listener.onItemClick(position);\n                        }\n                    }\n                }\n            });\n\n            // si je clique sur le button Delete d'un item de recycleview\n            mDeleteImage.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (listener != null) {\n                        int position = getAdapterPosition();\n                        if (position != RecyclerView.NO_POSITION) {\n                            listener.onDeleteClick(position);\n                        }\n                    }\n                }\n            });\n\n            mModifyImage.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (listener != null) {\n                        int position = getAdapterPosition();\n                        if (position != RecyclerView.NO_POSITION) {\n                            listener.onModifyClick(position);\n                        }\n                    }\n                }\n            });\n\n\n\n        }\n\n    }\n\n    public ItemAdapter(ArrayList&lt;SoldItem&gt; Liste) {\n        this.listeItem = Liste;\n        listeItemComplete = new ArrayList&lt;SoldItem&gt;(listeItem);\n    }\n\n    public void setListeClientsComplete(ArrayList&lt;SoldItem&gt; listeClientsComplete) {\n        this.listeItemComplete = listeClientsComplete;\n    }\n\n    @NonNull\n    @Override\n    public ItemAdapter.ItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.one_card_item, parent, false);\n        ItemViewHolder evh = new ItemViewHolder(v,mListener);\n        return evh;\n    }\n\n\n    public void onBindViewHolder(@NonNull ItemAdapter.ItemViewHolder holder, int position) {\n\n        SoldItem currentItem = listeItem.get(position);\n\n        holder.mTextView1.setText(currentItem.getNomProduit());\n        holder.mTextView2.setText(currentItem.getQuantiteProduit());\n        holder.mTextView3.setText(String.valueOf(currentItem.getPrixProduitUnitaire()));\n        holder.mTextView4.setText(String.valueOf(currentItem.getPrixProduitTotal()));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return listeItem.size();\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>and here are the xml files :\nsellproduct.xml (where i want to display the recyclerview)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:visibility=&quot;visible&quot;\n    android:background=&quot;@color/celeste&quot;&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textInputLayout&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;336dp&quot;\n        android:layout_height=&quot;66dp&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginEnd=&quot;15dp&quot;\n        android:hint=&quot;Customer Name&quot;\n        android:visibility=&quot;visible&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.488&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.143&quot;&gt;\n\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/name_client&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:textColor=&quot;#546E7A&quot;\n            tools:text=&quot; &quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/floatingActionButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:clickable=&quot;true&quot;\n        app:backgroundTint=&quot;@color/cg_blue&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.842&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:srcCompat=&quot;@android:drawable/ic_input_add&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;168dp&quot;\n        android:backgroundTint=&quot;@color/cg_blue&quot;\n        android:text=&quot;Submit&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;166dp&quot;\n        android:layout_height=&quot;67dp&quot;\n        android:layout_marginBottom=&quot;72dp&quot;\n        android:text=&quot;Add Item&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;30dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/floatingActionButton&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.562&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot;\n        app:layout_constraintVertical_bias=&quot;0.197&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview2item&quot;\n        android:layout_width=&quot;363dp&quot;\n        android:layout_height=&quot;262dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        android:scrollbars=&quot;vertical&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>thank you in advance : )</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"score":5,"creation_date":1586628098,"post_id":61161338,"comment_id":108199227,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1586638899,"post_id":61161338,"comment_id":108203006,"body_markdown":"Not everything is better with streams.","body":"Not everything is better with streams."},{"owner":{"account_id":5745295,"reputation":52,"user_id":4536703,"display_name":"Mohammad Ashhar Mushtaq"},"score":0,"creation_date":1586772805,"post_id":61161338,"comment_id":108241214,"body_markdown":"Here in this problem I&#39;ve to deal with max 1,00,000 long numbers, due to which the complexity is too high. So, is there any alternate or some suggestion to reduce the complexity.","body":"Here in this problem I&#39;ve to deal with max 1,00,000 long numbers, due to which the complexity is too high. So, is there any alternate or some suggestion to reduce the complexity."},{"owner":{"account_id":1343737,"reputation":2933,"user_id":1284868,"accept_rate":50,"display_name":"pitchblack408"},"score":1,"creation_date":1587049649,"post_id":61161338,"comment_id":108361858,"body_markdown":"Streams may look more streamline, but it does add more complexity at times.","body":"Streams may look more streamline, but it does add more complexity at times."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1587049706,"post_id":61161338,"comment_id":108361888,"body_markdown":"In this example, use a enhanced for loop (`for (long a : team_A) {...}`) and an iterator for the second. It has a `.remove()` method.","body":"In this example, use a enhanced for loop (<code>for (long a : team_A) {...}</code>) and an iterator for the second. It has a <code>.remove()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":1948180,"reputation":885,"user_id":1752867,"display_name":"KEYSAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587036961,"creation_date":1587036961,"answer_id":61249270,"question_id":61161338,"body_markdown":"Could you please try this one;\r\n\r\n    public static long calculateWinJava8(){\r\n        List&lt;Long&gt; team_A = new ArrayList(Arrays.asList(50L,60L,70L,80L,90L,100L));\r\n        List&lt;Long&gt; team_B = new ArrayList(Arrays.asList(30L,40L,25L,80L,55L,200L,250L));\r\n        int wins = team_B.size();\r\n\r\n        team_A.stream().forEach(itemA-&gt;{\r\n             List&lt;Long&gt; removeItems = team_B.stream().filter(itemB-&gt; (itemA-itemB)&gt;0).collect(Collectors.toList());\r\n             team_B.removeAll(removeItems);\r\n        });\r\n\r\n        System.out.println(&quot;result team_B : &quot;+team_B.toString());\r\n        wins = wins - team_B.size();\r\n        System.out.println(&quot;wins : &quot;+wins);\r\n        return 0;\r\n    }\r\n","title":"How to compare the elements of an ArrayList with every element of another ArrayList using Stream API of Java 8?","body":"<p>Could you please try this one;</p>\n\n<pre><code>public static long calculateWinJava8(){\n    List&lt;Long&gt; team_A = new ArrayList(Arrays.asList(50L,60L,70L,80L,90L,100L));\n    List&lt;Long&gt; team_B = new ArrayList(Arrays.asList(30L,40L,25L,80L,55L,200L,250L));\n    int wins = team_B.size();\n\n    team_A.stream().forEach(itemA-&gt;{\n         List&lt;Long&gt; removeItems = team_B.stream().filter(itemB-&gt; (itemA-itemB)&gt;0).collect(Collectors.toList());\n         team_B.removeAll(removeItems);\n    });\n\n    System.out.println(\"result team_B : \"+team_B.toString());\n    wins = wins - team_B.size();\n    System.out.println(\"wins : \"+wins);\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6922345,"reputation":1256,"user_id":5314546,"display_name":"Adam Bickford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587049476,"creation_date":1587049075,"answer_id":61253425,"question_id":61161338,"body_markdown":"There isn&#39;t a good way with the standard JDK because it&#39;s lacking basic constructs like a .zip() operator and a Tuple class. If it did it would look something like this: \r\n\r\n    val wins = team_a.zip(team_b)\r\n                    .filter { tuple -&gt; tuple.first &gt; tuple.second }\r\n                    .count()\r\n\r\nThat&#39;s kotlin but there are a ton of java libaries that offer a .zip() and Tuple.\r\n\r\nIf you **really** want to do it with just the JDK it&#39;d be something like:\r\n\r\n    long wins = IntStream\r\n            .range(0, Math.min(team_a.size(), team_b.size()))\r\n            .filter(i -&gt; team_a.get(i) &gt; team_b.get(i))\r\n            .count();\r\n\r\nThis works but isn&#39;t ideal since you are reaching outside the pipeline unlike the first example. ","title":"How to compare the elements of an ArrayList with every element of another ArrayList using Stream API of Java 8?","body":"<p>There isn't a good way with the standard JDK because it's lacking basic constructs like a .zip() operator and a Tuple class. If it did it would look something like this: </p>\n\n<pre><code>val wins = team_a.zip(team_b)\n                .filter { tuple -&gt; tuple.first &gt; tuple.second }\n                .count()\n</code></pre>\n\n<p>That's kotlin but there are a ton of java libaries that offer a .zip() and Tuple.</p>\n\n<p>If you <strong>really</strong> want to do it with just the JDK it'd be something like:</p>\n\n<pre><code>long wins = IntStream\n        .range(0, Math.min(team_a.size(), team_b.size()))\n        .filter(i -&gt; team_a.get(i) &gt; team_b.get(i))\n        .count();\n</code></pre>\n\n<p>This works but isn't ideal since you are reaching outside the pipeline unlike the first example. </p>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652352707,"creation_date":1587050201,"answer_id":61253829,"question_id":61161338,"body_markdown":"Ok, let&#39;s untangle the logic a bit.\r\n\r\nYou check for for each pair if a[i] &gt; b[j]. And if it matches, you remove b[j].  \r\nGood. `long` has a total order, so, we only need it&#39;s maximum.\r\n\r\n    long max_a = team_a.stream().mapToLong(a -&gt; a).max().getAsLong();\r\n\r\nNow that we have the most powerful of team a, we check how many they can defeat:\r\n\r\n    long wins = team_b.stream().filter(b -&gt; a &gt; b).count();\r\n\r\nAnd that&#39;s it.\r\n\r\n---\r\n\r\nWait. I did not notice the key word &quot;sorted&quot; in your question.  \r\nThis means we can do a binary search.\r\n\r\nFirst we get the maximum. I assume the list are in ascending order.\r\n \r\n    long max_a = team_a.get(team_a.size()-1);\r\n   \r\nNow we need to find where we have to make the cut:\r\n\r\n    int idx = Collections.binarySearch(team_b, max_a);\r\n\r\nNote that `Collections.binarySearch` can return a negative number if the maximum is not in the list. But we are only interested in the number of smaller items in the list.\r\n\r\n    if (idx &lt; 0)\r\n        idx = -idx - 1\r\n    \r\nNow `idx` contains the number of elements smaller than the largest element in the first list. Return that:\r\n\r\n    return idx;","title":"How to compare the elements of an ArrayList with every element of another ArrayList using Stream API of Java 8?","body":"<p>Ok, let's untangle the logic a bit.</p>\n<p>You check for for each pair if a[i] &gt; b[j]. And if it matches, you remove b[j].<br />\nGood. <code>long</code> has a total order, so, we only need it's maximum.</p>\n<pre><code>long max_a = team_a.stream().mapToLong(a -&gt; a).max().getAsLong();\n</code></pre>\n<p>Now that we have the most powerful of team a, we check how many they can defeat:</p>\n<pre><code>long wins = team_b.stream().filter(b -&gt; a &gt; b).count();\n</code></pre>\n<p>And that's it.</p>\n<hr />\n<p>Wait. I did not notice the key word &quot;sorted&quot; in your question.<br />\nThis means we can do a binary search.</p>\n<p>First we get the maximum. I assume the list are in ascending order.</p>\n<pre><code>long max_a = team_a.get(team_a.size()-1);\n</code></pre>\n<p>Now we need to find where we have to make the cut:</p>\n<pre><code>int idx = Collections.binarySearch(team_b, max_a);\n</code></pre>\n<p>Note that <code>Collections.binarySearch</code> can return a negative number if the maximum is not in the list. But we are only interested in the number of smaller items in the list.</p>\n<pre><code>if (idx &lt; 0)\n    idx = -idx - 1\n</code></pre>\n<p>Now <code>idx</code> contains the number of elements smaller than the largest element in the first list. Return that:</p>\n<pre><code>return idx;\n</code></pre>\n"}],"owner":{"account_id":5745295,"reputation":52,"user_id":4536703,"display_name":"Mohammad Ashhar Mushtaq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":3,"score":0,"last_activity_date":1652352707,"creation_date":1586627855,"question_id":61161338,"body_markdown":"I have two Sorted ArrayList of same size, namely `team_A` &amp; `team_B`, in which comparing every element of `team_A` with `team_B` to find the `powerDiff &gt; 0`. After finding the `powerDiff` greater than 0, then removing that element from the `team_B` to reduce the number of iteration in the next cycle.\r\n\r\n        \r\n    long calculateWin(){\r\n        int wins = 0;\r\n    \tint tempIndex=0;\r\n    \tboolean flag = false;\r\n    \tlong powerDiff=0;\r\n    \t\r\n    \tfor(int i=0; i&lt;team_A.size(); i++) {\r\n\t\t\t\r\n\t\t\tfor(int j=0; j&lt;team_B.size(); j++) {\r\n\t\t\t\t\r\n\t\t\t\tpowerDiff = team_A.get(i) - team_B.get(j);\r\n\t\t\t\r\n            \tif(powerDiff&gt;0) {\r\n\t\t\t\t\twins++;\r\n\t\t\t\t\ttempIndex=j;\r\n\t\t\t\t\tflag=true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n            if(flag) {\r\n\t\t\t\tteam_B.remove(tempIndex);\r\n\t\t\t\tflag = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn wins;\r\n    \t\t\r\n\t}\r\n\r\nThe above code is working fine but due to complexity I want to optimize this code using the Stream API of Java 8.","title":"How to compare the elements of an ArrayList with every element of another ArrayList using Stream API of Java 8?","body":"<p>I have two Sorted ArrayList of same size, namely <code>team_A</code> &amp; <code>team_B</code>, in which comparing every element of <code>team_A</code> with <code>team_B</code> to find the <code>powerDiff &gt; 0</code>. After finding the <code>powerDiff</code> greater than 0, then removing that element from the <code>team_B</code> to reduce the number of iteration in the next cycle.</p>\n\n<pre><code>long calculateWin(){\n    int wins = 0;\n    int tempIndex=0;\n    boolean flag = false;\n    long powerDiff=0;\n\n    for(int i=0; i&lt;team_A.size(); i++) {\n\n        for(int j=0; j&lt;team_B.size(); j++) {\n\n            powerDiff = team_A.get(i) - team_B.get(j);\n\n            if(powerDiff&gt;0) {\n                wins++;\n                tempIndex=j;\n                flag=true;\n                break;\n            }\n\n        }\n\n        if(flag) {\n            team_B.remove(tempIndex);\n            flag = false;\n        }\n\n    }\n    return wins;\n\n}\n</code></pre>\n\n<p>The above code is working fine but due to complexity I want to optimize this code using the Stream API of Java 8.</p>\n"},{"tags":["java","filter","java-stream","distinct","instanceof"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1652346540,"post_id":72212753,"comment_id":127585741,"body_markdown":"You have to override `equals` and `hashCode` in you class.","body":"You have to override <code>equals</code> and <code>hashCode</code> in you class."}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652346897,"creation_date":1652346592,"answer_id":72212873,"question_id":72212753,"body_markdown":"First, you should override `hashCode` and `equals` of your `class A` to define equality.\r\n\r\nA handy way is to use `@EqualsAndHashCode` provided by `Project lombok` to generate `hashCode` and `equals` implementations from the fields of your object.\r\n\r\nTry this\r\n\r\n```java\r\n@EqualsAndHashCode \r\nclass A extends B {\r\n   int x;\r\n}\r\n```\r\n\r\nAnd then, just simply use `stream().distinct()` to make it.\r\n\r\n```java\r\nList&lt;C&gt; result = input.stream()\r\n    .filter(r -&gt; r instanceof A)\r\n\t.distinct()\r\n\t.collect(Collectors.toList());\r\n```\r\n\r\nreference https://projectlombok.org/features/EqualsAndHashCode\r\n ","title":"How to filter out Distinct objects of a Particular subtype from a List of super type with Streams","body":"<p>First, you should override <code>hashCode</code> and <code>equals</code> of your <code>class A</code> to define equality.</p>\n<p>A handy way is to use <code>@EqualsAndHashCode</code> provided by <code>Project lombok</code> to generate <code>hashCode</code> and <code>equals</code> implementations from the fields of your object.</p>\n<p>Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode \nclass A extends B {\n   int x;\n}\n</code></pre>\n<p>And then, just simply use <code>stream().distinct()</code> to make it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;C&gt; result = input.stream()\n    .filter(r -&gt; r instanceof A)\n    .distinct()\n    .collect(Collectors.toList());\n</code></pre>\n<p>reference <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/EqualsAndHashCode</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652352647,"creation_date":1652347611,"answer_id":72213118,"question_id":72212753,"body_markdown":"You can define a method that would expect an instance of target class [`Class&lt;T&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html) in order to filter out any subtype of `C` from the source list.\r\n\r\nNote that would work only if `equals/hashCode` contract was properly implemented by each subclass.\r\n\r\n    public static &lt;T extends C&gt; List&lt;T&gt; getItemsOfType(List&lt;C&gt; source,\r\n                                                       Class&lt;T&gt; itemClass) {\r\n        return source.stream()\r\n            .filter(item -&gt; itemClass.isAssignableFrom(item.getClass())) // ensures that this element can be safely casted to the target type\r\n            .map(itemClass::cast) // casting to the type T\r\n            .distinct()           // ensures uniqueness of elements according to `equals/hashCode` implementation of the type T\r\n            .collect(Collectors.toList());\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        List&lt;C&gt; input = List.of(new A(1), new D(), new A(3));\r\n        List&lt;A&gt; result = getItemsOfType(input, A.class);\r\n    \r\n        System.out.println(result);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[A{x=1}, A{x=3}]\r\n```","title":"How to filter out Distinct objects of a Particular subtype from a List of super type with Streams","body":"<p>You can define a method that would expect an instance of target class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class&lt;T&gt;</code></a> in order to filter out any subtype of <code>C</code> from the source list.</p>\n<p>Note that would work only if <code>equals/hashCode</code> contract was properly implemented by each subclass.</p>\n<pre><code>public static &lt;T extends C&gt; List&lt;T&gt; getItemsOfType(List&lt;C&gt; source,\n                                                   Class&lt;T&gt; itemClass) {\n    return source.stream()\n        .filter(item -&gt; itemClass.isAssignableFrom(item.getClass())) // ensures that this element can be safely casted to the target type\n        .map(itemClass::cast) // casting to the type T\n        .distinct()           // ensures uniqueness of elements according to `equals/hashCode` implementation of the type T\n        .collect(Collectors.toList());\n}\n\npublic static void main(String[] args) {\n    List&lt;C&gt; input = List.of(new A(1), new D(), new A(3));\n    List&lt;A&gt; result = getItemsOfType(input, A.class);\n\n    System.out.println(result);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[A{x=1}, A{x=3}]\n</code></pre>\n"}],"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72213118,"answer_count":2,"score":1,"last_activity_date":1652352647,"creation_date":1652346037,"question_id":72212753,"body_markdown":"I would like to create a Java stream that will collect only elements that are `instanceof` class `A` and at the same time are distinct by `x`. \r\n\r\nI am using Java 8. \r\n\r\nWhat I have in the beginning is a `List` of instances of class `C`.\r\n\r\n    Class A extends B{\r\n       int x;\r\n    }\r\n\r\n    Class B extends C{\r\n    \r\n    }\r\n\r\n    Class C(){\r\n    \r\n    }\r\n\r\nbut other classes also extend class C. \r\n\r\n\r\nWhat I did so far:\r\n```\r\nList&lt;C&gt; input = ...; \r\nList&lt;C&gt; result = input.stream()\r\n    .filter(r -&gt; r instanceof A)\r\n    .collect(Collectors.toList());\r\n```\r\nAnd this works fine however for the first part. \r\n\r\nHowever, I would like to compare all elements and get a `List` of distinct objects (compare by value of `int x`).\r\n","title":"How to filter out Distinct objects of a Particular subtype from a List of super type with Streams","body":"<p>I would like to create a Java stream that will collect only elements that are <code>instanceof</code> class <code>A</code> and at the same time are distinct by <code>x</code>.</p>\n<p>I am using Java 8.</p>\n<p>What I have in the beginning is a <code>List</code> of instances of class <code>C</code>.</p>\n<pre><code>Class A extends B{\n   int x;\n}\n\nClass B extends C{\n\n}\n\nClass C(){\n\n}\n</code></pre>\n<p>but other classes also extend class C.</p>\n<p>What I did so far:</p>\n<pre><code>List&lt;C&gt; input = ...; \nList&lt;C&gt; result = input.stream()\n    .filter(r -&gt; r instanceof A)\n    .collect(Collectors.toList());\n</code></pre>\n<p>And this works fine however for the first part.</p>\n<p>However, I would like to compare all elements and get a <code>List</code> of distinct objects (compare by value of <code>int x</code>).</p>\n"},{"tags":["java","design-patterns","functional-programming","oop"],"answers":[{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1296755310,"creation_date":1296755310,"answer_id":4889682,"question_id":4889494,"body_markdown":"Perhaps you could define an interface for your `Factory`, and then have multiple implementations - one implementation could perform the caching internally to guarantee that a `Parser` class is only instantiated once. Another implementation could perform no caching and just provide new `Parser` objects whenever something asks for one.  \r\n\r\nEither way, I suggest you try to keep this logic inside your `Factory` implementations and have the rest of your application work with the `Factory` interface. This way if you decide later that you don&#39;t want to cache anything or that you need to change the way a `Parser` is instantiated, you only have a single point of object creation - inside the `Factory`. This makes it really easy to change the way you construct `Parser` objects without having to change every part of your application that wants a new `Parser`.\r\n\r\nOnce again - if you create caching mechanisms to operate outside of the `Factory`, then those mechanisms will be all over your code since you have to use them whenever you want to get a new `Parser`. If you decide later to change the caching mechanism, you&#39;re going to have to touch a lot of code, but if you do the caching inside the `Factory`, you only have to change the `Factory` implementation.","title":"It is better to have a caching mechanism inside or outside of a Factory class?","body":"<p>Perhaps you could define an interface for your <code>Factory</code>, and then have multiple implementations - one implementation could perform the caching internally to guarantee that a <code>Parser</code> class is only instantiated once. Another implementation could perform no caching and just provide new <code>Parser</code> objects whenever something asks for one.  </p>\n\n<p>Either way, I suggest you try to keep this logic inside your <code>Factory</code> implementations and have the rest of your application work with the <code>Factory</code> interface. This way if you decide later that you don't want to cache anything or that you need to change the way a <code>Parser</code> is instantiated, you only have a single point of object creation - inside the <code>Factory</code>. This makes it really easy to change the way you construct <code>Parser</code> objects without having to change every part of your application that wants a new <code>Parser</code>.</p>\n\n<p>Once again - if you create caching mechanisms to operate outside of the <code>Factory</code>, then those mechanisms will be all over your code since you have to use them whenever you want to get a new <code>Parser</code>. If you decide later to change the caching mechanism, you're going to have to touch a lot of code, but if you do the caching inside the <code>Factory</code>, you only have to change the <code>Factory</code> implementation.</p>\n"},{"tags":[],"owner":{"account_id":47958,"reputation":2528,"user_id":142263,"display_name":"Jeff Knecht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296757254,"creation_date":1296757254,"answer_id":4890053,"question_id":4889494,"body_markdown":"As Shakedown stated, one approach would be to work against an interface and supply a caching implementation and a separate non-caching implementation.  This can get to be a bit cumbersome in some circumstances though (does your app really need two different implementations?).\r\n\r\nIf you have a number of classes like this, you might consider using a Proxy pattern.  The Proxy class will implement the same interface as the Factory implementation and delegate to the factory only if the object that would be returned from the Factory is not already in the Proxy&#39;s cache.\r\n\r\nUsing a dynamic proxy will extend this approach and allow you to implement caching wherever you want with very little additional library bloat (but at the cost of increased complexity).","title":"It is better to have a caching mechanism inside or outside of a Factory class?","body":"<p>As Shakedown stated, one approach would be to work against an interface and supply a caching implementation and a separate non-caching implementation.  This can get to be a bit cumbersome in some circumstances though (does your app really need two different implementations?).</p>\n\n<p>If you have a number of classes like this, you might consider using a Proxy pattern.  The Proxy class will implement the same interface as the Factory implementation and delegate to the factory only if the object that would be returned from the Factory is not already in the Proxy's cache.</p>\n\n<p>Using a dynamic proxy will extend this approach and allow you to implement caching wherever you want with very little additional library bloat (but at the cost of increased complexity).</p>\n"},{"tags":[],"owner":{"account_id":155996,"reputation":56204,"user_id":373025,"accept_rate":92,"display_name":"Alexandre C."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296758691,"creation_date":1296758337,"answer_id":4890244,"question_id":4889494,"body_markdown":"I don&#39;t understand the problem: the clients of the factory class don&#39;t care whether the objects they receive are cached or not. So the caching logic **must** belong to the factory. \r\n\r\nMoreover, when you implement this, you first implement the factory without caching in order to have something working fast (**Do the simplest thing that could possibly work**). Then, you implement caching. Note that doing anything else is a case of **premature optimization**. If the client classes had to know whether the objects are cached or not, your development process would rot quickly. \r\n\r\nHow you implement it is up to you. I like writing once a generic caching class and reuse it in situations like this, but you could think about other mechanisms. Besides, I don&#39;t do java and therefore I cannot state about what is better to do here.\r\n\r\n(PS: I see a lot of design pattern noise in the answers to this question. Is this common among java people to always think in term of patterns ? There are no singletons to design, no proxy classes to write here, only a simple reasoning about which interface cannot change).","title":"It is better to have a caching mechanism inside or outside of a Factory class?","body":"<p>I don't understand the problem: the clients of the factory class don't care whether the objects they receive are cached or not. So the caching logic <strong>must</strong> belong to the factory. </p>\n\n<p>Moreover, when you implement this, you first implement the factory without caching in order to have something working fast (<strong>Do the simplest thing that could possibly work</strong>). Then, you implement caching. Note that doing anything else is a case of <strong>premature optimization</strong>. If the client classes had to know whether the objects are cached or not, your development process would rot quickly. </p>\n\n<p>How you implement it is up to you. I like writing once a generic caching class and reuse it in situations like this, but you could think about other mechanisms. Besides, I don't do java and therefore I cannot state about what is better to do here.</p>\n\n<p>(PS: I see a lot of design pattern noise in the answers to this question. Is this common among java people to always think in term of patterns ? There are no singletons to design, no proxy classes to write here, only a simple reasoning about which interface cannot change).</p>\n"},{"tags":[],"owner":{"account_id":5680318,"reputation":2790,"user_id":4491768,"accept_rate":50,"display_name":"Wouter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652352464,"creation_date":1652352464,"answer_id":72214220,"question_id":4889494,"body_markdown":"I think the question is about the contract the factory interface provides. These contracts can be validated using a test e.g. test 1 and changing implementations shouldn&#39;t break existing behavior. Writing a proxy as a cache breaks these contracts as it will fail on test 1. Therefore caching should be part of the factory and it should be from the start. See test 2.\r\n\r\n1) Write at test to show that a factory creates &#39;fresh&#39; objects.\r\n&lt;code&gt;\r\nvar item1 = factory.Create();\r\nvar item2 = factory.Create();\r\nAssert.NotEqual(item1, item2);\r\n&lt;/code&gt;\r\n\r\n2) Write a test to show that a factory caches objects:\r\n&lt;code&gt;\r\nvar item1 = factory.Create();\r\nvar item2 = factory.Create();\r\nAssert.Equal(item1, item2);\r\n&lt;/code&gt;\r\n","title":"It is better to have a caching mechanism inside or outside of a Factory class?","body":"<p>I think the question is about the contract the factory interface provides. These contracts can be validated using a test e.g. test 1 and changing implementations shouldn't break existing behavior. Writing a proxy as a cache breaks these contracts as it will fail on test 1. Therefore caching should be part of the factory and it should be from the start. See test 2.</p>\n<ol>\n<li><p>Write at test to show that a factory creates 'fresh' objects.\n<code>\nvar item1 = factory.Create();\nvar item2 = factory.Create();\nAssert.NotEqual(item1, item2);\n</code></p>\n</li>\n<li><p>Write a test to show that a factory caches objects:\n<code>\nvar item1 = factory.Create();\nvar item2 = factory.Create();\nAssert.Equal(item1, item2);\n</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":48088,"reputation":2521,"user_id":142696,"accept_rate":93,"display_name":"OverLex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5777,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":4889682,"answer_count":4,"score":12,"last_activity_date":1652352464,"creation_date":1296754347,"question_id":4889494,"body_markdown":"my question here is not strictly language related, it is more a general programming concept.\r\n\r\nIf I have a Factory class that has a method to return Parser objects, and these parser classes ,I know, do not need to be instantiated more than once per iteration cycle (outside of the factory, of course).\r\n\r\nIt is better, in terms of use and object separation to create a caching mechanisms for all the instantiated Parsers inside of the Factory, ie: during the method call, or outside of it, when the method has already been called?\r\n\r\n\r\nThanks in advance.","title":"It is better to have a caching mechanism inside or outside of a Factory class?","body":"<p>my question here is not strictly language related, it is more a general programming concept.</p>\n\n<p>If I have a Factory class that has a method to return Parser objects, and these parser classes ,I know, do not need to be instantiated more than once per iteration cycle (outside of the factory, of course).</p>\n\n<p>It is better, in terms of use and object separation to create a caching mechanisms for all the instantiated Parsers inside of the Factory, ie: during the method call, or outside of it, when the method has already been called?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":5053827,"reputation":2327,"user_id":4057622,"accept_rate":100,"display_name":"GYaN"},"score":0,"creation_date":1512359601,"post_id":47626241,"comment_id":82210229,"body_markdown":"Paste your JSON code here...","body":"Paste your JSON code here..."},{"owner":{"account_id":12422970,"reputation":3,"user_id":9048930,"display_name":"Oscar Ruiz"},"score":0,"creation_date":1512359991,"post_id":47626241,"comment_id":82210319,"body_markdown":"I don&#39;t have a JSON code, just a photo of my database structure in firebase","body":"I don&#39;t have a JSON code, just a photo of my database structure in firebase"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1512362103,"post_id":47626241,"comment_id":82210815,"body_markdown":"Read the children, loop and sum... Have you tried?","body":"Read the children, loop and sum... Have you tried?"},{"owner":{"account_id":12422970,"reputation":3,"user_id":9048930,"display_name":"Oscar Ruiz"},"score":0,"creation_date":1512363653,"post_id":47626241,"comment_id":82211250,"body_markdown":"I tried to get a value from individual children en then sum, but when I have a node with a lot of children this is so useful","body":"I tried to get a value from individual children en then sum, but when I have a node with a lot of children this is so useful"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1512363801,"post_id":47626241,"comment_id":82211287,"body_markdown":"I think thats the only option:- Read the children, loop and sum...as cricket_007 said . If you worry about the latency you can use Firebase Function on server side to do this and return the sum(Read the documentation first cause i haven&#39;t tried it yet ).","body":"I think thats the only option:- Read the children, loop and sum...as cricket_007 said . If you worry about the latency you can use Firebase Function on server side to do this and return the sum(Read the documentation first cause i haven&#39;t tried it yet )."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1533037881,"creation_date":1512387077,"answer_id":47632394,"question_id":47626241,"body_markdown":"To count all those value, please use the following code:\r\n\r\n\tDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference unicaribeRef = rootRef.child(&quot;Unicaribe&quot;);\r\n\tValueEventListener eventListener = new ValueEventListener() {\r\n\t\t@Override\r\n\t\tpublic void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t\tint total = 0;\r\n\t\t\tfor(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n\t\t\t\tint value = ds.getValue(Integer.class);\r\n\t\t\t\ttotal =+ value;\r\n\t\t\t}\r\n\t\t\tLog.d(&quot;TAG&quot;, String.valueOf(total));\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCancelled(DatabaseError databaseError) {}\r\n\t};\r\n\tunicaribeRef.addListenerForSingleValueEvent(eventListener);\r\n\r\nYour output will be `5`.","title":"How to get a sum of all values from a node in Firebase?","body":"<p>To count all those value, please use the following code:</p>\n\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference unicaribeRef = rootRef.child(\"Unicaribe\");\nValueEventListener eventListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        int total = 0;\n        for(DataSnapshot ds : dataSnapshot.getChildren()) {\n            int value = ds.getValue(Integer.class);\n            total =+ value;\n        }\n        Log.d(\"TAG\", String.valueOf(total));\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {}\n};\nunicaribeRef.addListenerForSingleValueEvent(eventListener);\n</code></pre>\n\n<p>Your output will be <code>5</code>.</p>\n"}],"owner":{"account_id":12422970,"reputation":3,"user_id":9048930,"display_name":"Oscar Ruiz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47632394,"answer_count":1,"score":0,"last_activity_date":1652352281,"creation_date":1512359487,"question_id":47626241,"body_markdown":"this is my Database structure:\r\n\r\n![JSON][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KBcAb.png\r\n\r\nI want to get the sum from all child values, from example for I want to get de value &quot;5&quot; that is the sum from all de values of the Node &quot;UNICARIBE&quot;","title":"How to get a sum of all values from a node in Firebase?","body":"<p>this is my Database structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KBcAb.png\" alt=\"JSON\"></p>\n\n<p>I want to get the sum from all child values, from example for I want to get de value \"5\" that is the sum from all de values of the Node \"UNICARIBE\"</p>\n"},{"tags":["java","jvm","javac","bytecode",".class-file"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652352039,"creation_date":1652352039,"answer_id":72214129,"question_id":72213889,"body_markdown":"The only thing that stops a class from accessing another class’s `private` members, is the JVM (or precisely its verifier) rejecting the access. So all it needs to make it possible, is the collaboration of the JVM to allow it.\r\n\r\nWhile Java&#160;1.1 introduced inner classes in a way that did not require changes to the JVM, the JVM has gone through so many changes in the meanwhile, that it is rather surprising that it took until Java&#160;11 to change that.\r\n\r\nJava&#160;11 introduced the [`NestHost`] and [`NestMembers`] bytecode attributes to allow class files to denote that they belong to a so called “nest”. All classes belonging to the same nest are allowed to access each others `private` members. As said, the only thing that needed to be changed, is the JVM’s verifier to allow such access. And, of course, the compiler to utilize this feature. See also [JEP&#160;181].\r\n\r\nSo you could say that the JVM still doesn’t know anything about inner classes, because which classes belong to a nest, is decided by whichever tool generated the class files (e.g. the Java source code compiler). So it is possible to produce class files with other tools using nests without following the inner class semantic.\r\n\r\nFor completion, it should be mentioned that class files do also contain the information about inner class relationships, using the [`InnerClasses`] attribute. But this is only used by compilers and Reflection, whereas the JVM doesn’t use this information when deciding whether an access is legal or not.\r\n\r\n[`NestHost`]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.28\r\n[`NestMembers`]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.29\r\n[`InnerClasses`]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.6\r\n\r\n[JEP&#160;181]: https://openjdk.java.net/jeps/181 (JEP 181: Nest-Based Access Control)","title":"How do inner class access enclosing class&#39; private members in higher versions of Java?","body":"<p>The only thing that stops a class from accessing another class’s <code>private</code> members, is the JVM (or precisely its verifier) rejecting the access. So all it needs to make it possible, is the collaboration of the JVM to allow it.</p>\n<p>While Java 1.1 introduced inner classes in a way that did not require changes to the JVM, the JVM has gone through so many changes in the meanwhile, that it is rather surprising that it took until Java 11 to change that.</p>\n<p>Java 11 introduced the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.28\" rel=\"noreferrer\"><code>NestHost</code></a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.29\" rel=\"noreferrer\"><code>NestMembers</code></a> bytecode attributes to allow class files to denote that they belong to a so called “nest”. All classes belonging to the same nest are allowed to access each others <code>private</code> members. As said, the only thing that needed to be changed, is the JVM’s verifier to allow such access. And, of course, the compiler to utilize this feature. See also <a href=\"https://openjdk.java.net/jeps/181\" rel=\"noreferrer\" title=\"JEP 181: Nest-Based Access Control\">JEP 181</a>.</p>\n<p>So you could say that the JVM still doesn’t know anything about inner classes, because which classes belong to a nest, is decided by whichever tool generated the class files (e.g. the Java source code compiler). So it is possible to produce class files with other tools using nests without following the inner class semantic.</p>\n<p>For completion, it should be mentioned that class files do also contain the information about inner class relationships, using the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.6\" rel=\"noreferrer\"><code>InnerClasses</code></a> attribute. But this is only used by compilers and Reflection, whereas the JVM doesn’t use this information when deciding whether an access is legal or not.</p>\n"}],"owner":{"account_id":3276608,"reputation":67,"user_id":2758424,"display_name":"Mrunal Deole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72214129,"answer_count":1,"score":3,"last_activity_date":1652352168,"creation_date":1652351017,"question_id":72213889,"body_markdown":"I have been trying to understand the mechanism of nested classes in java.\r\n\r\nConsider the following code:\r\n\r\n    public class OuterClass {\r\n\r\n\tprivate String privateOuterField = &quot;Private Outer Field&quot;;\r\n\t\r\n\tpublic static String publicStaticOuterField = &quot;Public static outer field&quot;;\r\n\t\r\n\tprivate static String privateStaticOuterField = &quot;private static outer field&quot;;\r\n\t\r\n\r\n\tclass InnerClass{\r\n\t\tprivate String privateInnerField = &quot;Private Inner Field&quot;;\r\n\t\t\r\n        //non-final static data members not allowed in java 1.8 but allowed in java 17.0\r\n\t\t//private static String innerClassStaticField = &quot;Private Inner Class Static Field&quot;;   \r\n\t\t\r\n\t\tpublic void accessMembers() {\r\n\t\t\tSystem.out.println(privateOuterField);\r\n\t\t\tSystem.out.println(publicStaticOuterField);\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic class StaticInnerClass{\r\n\t\t\r\n\t\tprivate String privateStaticInnerField = &quot;Private Inner Field of static class&quot;;\r\n\t\t\r\n\t\tpublic void accessMembers(OuterClass outer) {\r\n\t\t\t//System.out.println(privateOuterField);  //error\r\n\t\t\tSystem.out.println(outer.privateOuterField);\r\n\t\t\tSystem.out.println(publicStaticOuterField);\r\n\t\t\tSystem.out.println(privateStaticOuterField);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tOuterClass outerObj = new OuterClass();\r\n\t\tOuterClass.InnerClass innerObj = outerObj.new InnerClass();\r\n\t\t\r\n\t\tStaticInnerClass staticInnerObj = new StaticInnerClass();\r\n\t\t\r\n\t\tinnerObj.accessMembers();\r\n\t\tstaticInnerObj.accessMembers(outerObj);\r\n\t\t\r\n\r\n\t}\r\n}\r\n\r\nI know that inner classes are a phenomenon of the compiler, virtual machine are not aware of them. Inner classes are translated into regular class files with $ delimiting outer and inner class name.\r\n\r\nTo understand this mechanism in more details, I tried to disassemble the class file compiled in java version 1.8 using javap -p command.\r\n\r\nI got the following results:\r\nOuterClass:\r\n```\r\npublic class staticNestedClasses.OuterClass {\r\n  private java.lang.String privateOuterField;\r\n  public static java.lang.String publicStaticOuterField;\r\n  private static java.lang.String privateStaticOuterField;\r\n  public staticNestedClasses.OuterClass();\r\n  public static void main(java.lang.String[]);\r\n  static java.lang.String access$000(staticNestedClasses.OuterClass);\r\n  static java.lang.String access$100();\r\n  static {};\r\n}\r\n```\r\nInnerClass:\r\n```\r\nclass staticNestedClasses.OuterClass$InnerClass {\r\n  private java.lang.String privateInnerField;\r\n  final staticNestedClasses.OuterClass this$0;\r\n  staticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\r\n  public void accessMembers();\r\n}\r\n```\r\n\r\nHere we can see that the compiler passes the reference of outer class to inner class through constructor so that it can assess outer class&#39;s fields and methods:\r\n\r\n```\r\nstaticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\r\n```\r\n\r\nthis outer class reference is stored in ```final staticNestedClasses.OuterClass this$0```\r\n\r\nBut OuterClass$InnerClass class cannot directly access private members through outer class reference, so whenever the compiler detects access to private members from inner class, it generates accessor method (or getter methods) in outer class.\r\n\r\nIn the disassembled file of outer class we can see that the compiler generated these accessor methods.\r\n```\r\nstatic java.lang.String access$000(staticNestedClasses.OuterClass);\r\nstatic java.lang.String access$100();\r\n```\r\n\r\nBut when I compiled the same code in java 17.0 and disassembled the class file I got the following result.\r\n\r\nOuter class:\r\n\r\n```\r\npublic class staticNestedClasses.OuterClass {\r\n  private java.lang.String privateOuterField;\r\n  public static java.lang.String publicStaticOuterField;\r\n  private static java.lang.String privateStaticOuterField;\r\n  public staticNestedClasses.OuterClass();\r\n  public static void main(java.lang.String[]);\r\n  static {};\r\n}\r\n```\r\n\r\nOuterClass$InnerClass:\r\n```\r\nclass staticNestedClasses.OuterClass$InnerClass {\r\n  private java.lang.String privateInnerField;\r\n  private static java.lang.String innerClassStaticField;\r\n  final staticNestedClasses.OuterClass this$0;\r\n  staticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\r\n  public void accessMembers();\r\n  static {};\r\n}\r\n```\r\n\r\nHere **compiler did not generate any accessor methods** but the code worked fine.\r\n\r\n**So how did the inner class access private members of outer class?**\r\n\r\n\r\n\r\n","title":"How do inner class access enclosing class&#39; private members in higher versions of Java?","body":"<p>I have been trying to understand the mechanism of nested classes in java.</p>\n<p>Consider the following code:</p>\n<pre><code>public class OuterClass {\n\nprivate String privateOuterField = &quot;Private Outer Field&quot;;\n\npublic static String publicStaticOuterField = &quot;Public static outer field&quot;;\n\nprivate static String privateStaticOuterField = &quot;private static outer field&quot;;\n\n\nclass InnerClass{\n    private String privateInnerField = &quot;Private Inner Field&quot;;\n    \n    //non-final static data members not allowed in java 1.8 but allowed in java 17.0\n    //private static String innerClassStaticField = &quot;Private Inner Class Static Field&quot;;   \n    \n    public void accessMembers() {\n        System.out.println(privateOuterField);\n        System.out.println(publicStaticOuterField);\n    }\n}\n\nstatic class StaticInnerClass{\n    \n    private String privateStaticInnerField = &quot;Private Inner Field of static class&quot;;\n    \n    public void accessMembers(OuterClass outer) {\n        //System.out.println(privateOuterField);  //error\n        System.out.println(outer.privateOuterField);\n        System.out.println(publicStaticOuterField);\n        System.out.println(privateStaticOuterField);\n    }\n}\n    \npublic static void main(String[] args) {\n    \n    OuterClass outerObj = new OuterClass();\n    OuterClass.InnerClass innerObj = outerObj.new InnerClass();\n    \n    StaticInnerClass staticInnerObj = new StaticInnerClass();\n    \n    innerObj.accessMembers();\n    staticInnerObj.accessMembers(outerObj);\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>I know that inner classes are a phenomenon of the compiler, virtual machine are not aware of them. Inner classes are translated into regular class files with $ delimiting outer and inner class name.</p>\n<p>To understand this mechanism in more details, I tried to disassemble the class file compiled in java version 1.8 using javap -p command.</p>\n<p>I got the following results:\nOuterClass:</p>\n<pre><code>public class staticNestedClasses.OuterClass {\n  private java.lang.String privateOuterField;\n  public static java.lang.String publicStaticOuterField;\n  private static java.lang.String privateStaticOuterField;\n  public staticNestedClasses.OuterClass();\n  public static void main(java.lang.String[]);\n  static java.lang.String access$000(staticNestedClasses.OuterClass);\n  static java.lang.String access$100();\n  static {};\n}\n</code></pre>\n<p>InnerClass:</p>\n<pre><code>class staticNestedClasses.OuterClass$InnerClass {\n  private java.lang.String privateInnerField;\n  final staticNestedClasses.OuterClass this$0;\n  staticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\n  public void accessMembers();\n}\n</code></pre>\n<p>Here we can see that the compiler passes the reference of outer class to inner class through constructor so that it can assess outer class's fields and methods:</p>\n<pre><code>staticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\n</code></pre>\n<p>this outer class reference is stored in <code>final staticNestedClasses.OuterClass this$0</code></p>\n<p>But OuterClass$InnerClass class cannot directly access private members through outer class reference, so whenever the compiler detects access to private members from inner class, it generates accessor method (or getter methods) in outer class.</p>\n<p>In the disassembled file of outer class we can see that the compiler generated these accessor methods.</p>\n<pre><code>static java.lang.String access$000(staticNestedClasses.OuterClass);\nstatic java.lang.String access$100();\n</code></pre>\n<p>But when I compiled the same code in java 17.0 and disassembled the class file I got the following result.</p>\n<p>Outer class:</p>\n<pre><code>public class staticNestedClasses.OuterClass {\n  private java.lang.String privateOuterField;\n  public static java.lang.String publicStaticOuterField;\n  private static java.lang.String privateStaticOuterField;\n  public staticNestedClasses.OuterClass();\n  public static void main(java.lang.String[]);\n  static {};\n}\n</code></pre>\n<p>OuterClass$InnerClass:</p>\n<pre><code>class staticNestedClasses.OuterClass$InnerClass {\n  private java.lang.String privateInnerField;\n  private static java.lang.String innerClassStaticField;\n  final staticNestedClasses.OuterClass this$0;\n  staticNestedClasses.OuterClass$InnerClass(staticNestedClasses.OuterClass);\n  public void accessMembers();\n  static {};\n}\n</code></pre>\n<p>Here <strong>compiler did not generate any accessor methods</strong> but the code worked fine.</p>\n<p><strong>So how did the inner class access private members of outer class?</strong></p>\n"},{"tags":["java","sql","spring","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1652228782,"post_id":72194072,"comment_id":127554430,"body_markdown":"*how can I share the ID from step 1 to step 2* - pass it as a parameter","body":"<i>how can I share the ID from step 1 to step 2</i> - pass it as a parameter"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1652276347,"post_id":72194072,"comment_id":127567340,"body_markdown":"Does this answer your question: https://stackoverflow.com/questions/40975705/how-to-run-a-step-in-a-loop-in-spring-batch-updated?","body":"Does this answer your question: <a href=\"https://stackoverflow.com/questions/40975705/how-to-run-a-step-in-a-loop-in-spring-batch-updated\" title=\"how to run a step in a loop in spring batch updated\">stackoverflow.com/questions/40975705/&hellip;</a>?"},{"owner":{"account_id":10849528,"reputation":73,"user_id":7977797,"accept_rate":50,"display_name":"user7977797"},"score":0,"creation_date":1652304219,"post_id":72194072,"comment_id":127577345,"body_markdown":"Unfortunately that post does not really answer the question and I have seen that post before asking this question.  The last link in that post seems the most promising, but even that doesn&#39;t really do the loop I am describing. Or if it does, it is not clear how that answer aligns with my question.","body":"Unfortunately that post does not really answer the question and I have seen that post before asking this question.  The last link in that post seems the most promising, but even that doesn&#39;t really do the loop I am describing. Or if it does, it is not clear how that answer aligns with my question."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652351732,"creation_date":1652351732,"answer_id":72214063,"question_id":72194072,"body_markdown":"&gt; Does this answer your question: https://stackoverflow.com/questions/40975705/how-to-run-a-step-in-a-loop-in-spring-batch-updated\r\n\r\n&gt; Unfortunately that post does not really answer the question and I have seen that post before asking this question. The last link in that post seems the most promising, but even that doesn&#39;t really do the loop I am describing. Or if it does, it is not clear how that answer aligns with my question.\r\n\r\n\r\nIn that case, you can put a decider after the step and make it run the same step until your stop condition is met. The step can put the stop condition (errors, no more data, etc) in the execution context and the decider can use that information from the execution context to make the decision. Please check [Programmatic Flow Decisions](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#programmaticFlowDecisions) for more details about how to achieve that with code examples.","title":"How can you loop between steps and stop when step one has ran out of data?","body":"<blockquote>\n<p>Does this answer your question: <a href=\"https://stackoverflow.com/questions/40975705/how-to-run-a-step-in-a-loop-in-spring-batch-updated\">How to run a step in a loop in Spring Batch : Updated</a></p>\n</blockquote>\n<blockquote>\n<p>Unfortunately that post does not really answer the question and I have seen that post before asking this question. The last link in that post seems the most promising, but even that doesn't really do the loop I am describing. Or if it does, it is not clear how that answer aligns with my question.</p>\n</blockquote>\n<p>In that case, you can put a decider after the step and make it run the same step until your stop condition is met. The step can put the stop condition (errors, no more data, etc) in the execution context and the decider can use that information from the execution context to make the decision. Please check <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#programmaticFlowDecisions\" rel=\"nofollow noreferrer\">Programmatic Flow Decisions</a> for more details about how to achieve that with code examples.</p>\n"}],"owner":{"account_id":10849528,"reputation":73,"user_id":7977797,"accept_rate":50,"display_name":"user7977797"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652351732,"creation_date":1652227161,"question_id":72194072,"body_markdown":"For a spring batch job, there are steps. In those steps, you typically have a read, process (optional), and write.\r\n\r\nWhat I need to accomplish is in step 1 is read from a database query and print one line from the result to a csv file. This database query could have many lines of data as a result. But I just want it to print one of those lines of data and then move on to the next step.\r\n\r\nIn the second step, I want to read from a separate database, but query this database based on the ID from the previously written data. That data has an ID. Then, from the result of this new query using that ID, I want to write every line that comes from that query to the same csv file until there is no more data to write from that query. This would all be below the previously written line from step 1.\r\n\r\nThen, I want to repeat step 1 and print the next line from that query. Then go again to step two based on this new ID. Continue this loop until step 1 no longer has any lines of data left.\r\n\r\nIt is not clear how you can do a loop like this with Spring Batch. How can you do a loop similar to this? Especially given that I want to only print one line each time step 1 is ran.\r\n\r\nAlso, how can I share the ID from step 1 to step 2, so step 2 can use that in the query?","title":"How can you loop between steps and stop when step one has ran out of data?","body":"<p>For a spring batch job, there are steps. In those steps, you typically have a read, process (optional), and write.</p>\n<p>What I need to accomplish is in step 1 is read from a database query and print one line from the result to a csv file. This database query could have many lines of data as a result. But I just want it to print one of those lines of data and then move on to the next step.</p>\n<p>In the second step, I want to read from a separate database, but query this database based on the ID from the previously written data. That data has an ID. Then, from the result of this new query using that ID, I want to write every line that comes from that query to the same csv file until there is no more data to write from that query. This would all be below the previously written line from step 1.</p>\n<p>Then, I want to repeat step 1 and print the next line from that query. Then go again to step two based on this new ID. Continue this loop until step 1 no longer has any lines of data left.</p>\n<p>It is not clear how you can do a loop like this with Spring Batch. How can you do a loop similar to this? Especially given that I want to only print one line each time step 1 is ran.</p>\n<p>Also, how can I share the ID from step 1 to step 2, so step 2 can use that in the query?</p>\n"},{"tags":["java","regex","string-formatting"],"comments":[{"owner":{"display_name":"user166390"},"score":3,"creation_date":1338924692,"post_id":10903579,"comment_id":14216387,"body_markdown":"In human form, that says &quot;the format specifier `d` does not apply to String values&quot;.","body":"In human form, that says &quot;the format specifier <code>d</code> does not apply to String values&quot;."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1338924284,"creation_date":1338924284,"answer_id":10903598,"question_id":10903579,"body_markdown":"You don&#39;t need the `Integer.toString()`:\r\n\r\n     newPK = String.format(&quot;%08d&quot;, lastRecord);\r\n\r\n`String.format()` will do the conversion and the padding.","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>You don't need the <code>Integer.toString()</code>:</p>\n\n<pre><code> newPK = String.format(\"%08d\", lastRecord);\n</code></pre>\n\n<p><code>String.format()</code> will do the conversion and the padding.</p>\n"},{"tags":[],"owner":{"account_id":16961396,"reputation":71,"user_id":12268460,"display_name":"Dandin Sanjeev Rao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613925149,"creation_date":1601466395,"answer_id":64136925,"question_id":10903579,"body_markdown":"Very late to the party.\r\n\r\nIf you still are facing an issue to the ```String.format();``` code even after implementing accepted answer.\r\n\r\nThis did not work for me:\r\n\r\n```\r\nString.format(&quot;%08d&quot;, stringvariable);\r\n```\r\n\r\nBecause of two reasons:\r\n 1. It will not work as ```d``` will expect for decimal point not string.\r\n 2. Use ```%8d``` instead of ```%08d``` as formatter did not work for me if I used this ```%08d``` \r\n\r\nIf you are using String based Variable with String data. Use this.\r\n\r\n```\r\nString.format(&quot;%8s&quot;, stringvariable);\r\n```","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>Very late to the party.</p>\n<p>If you still are facing an issue to the <code>String.format();</code> code even after implementing accepted answer.</p>\n<p>This did not work for me:</p>\n<pre><code>String.format(&quot;%08d&quot;, stringvariable);\n</code></pre>\n<p>Because of two reasons:</p>\n<ol>\n<li>It will not work as <code>d</code> will expect for decimal point not string.</li>\n<li>Use <code>%8d</code> instead of <code>%08d</code> as formatter did not work for me if I used this <code>%08d</code></li>\n</ol>\n<p>If you are using String based Variable with String data. Use this.</p>\n<pre><code>String.format(&quot;%8s&quot;, stringvariable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8473531,"reputation":11,"user_id":6355418,"display_name":"Vineet Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612856979,"creation_date":1612856791,"answer_id":66114867,"question_id":10903579,"body_markdown":"It worked for me, It should be integer here 12 should be integer.\r\n\r\n    String.format(&quot;%04d&quot;, Integer.parseInt(&quot;12&quot;));\r\n\r\noutput - 0012","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>It worked for me, It should be integer here 12 should be integer.</p>\n<pre><code>String.format(&quot;%04d&quot;, Integer.parseInt(&quot;12&quot;));\n</code></pre>\n<p>output - 0012</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629725209,"creation_date":1629725209,"answer_id":68893548,"question_id":10903579,"body_markdown":"In Android you should replace `%1$s ... %d ... %.2f` with `%1$s ... %2$d ... %3$.2f`.\r\n\r\nThis way you will avoid `java.util.IllegalFormatConversionException: d != java.lang.String` and `f != java.lang.String` exceptions.","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>In Android you should replace <code>%1$s ... %d ... %.2f</code> with <code>%1$s ... %2$d ... %3$.2f</code>.</p>\n<p>This way you will avoid <code>java.util.IllegalFormatConversionException: d != java.lang.String</code> and <code>f != java.lang.String</code> exceptions.</p>\n"},{"tags":[],"owner":{"account_id":459800,"reputation":7556,"user_id":860488,"accept_rate":100,"display_name":"Morten Holmgaard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652351703,"creation_date":1652351703,"answer_id":72214050,"question_id":10903579,"body_markdown":"I our case with this problem it was do to java/kotlin conversion issue handling vargs because we had wrapped resources in a Kotlin file, where the missing trick was the flattern * operator\r\n\r\n    class LocalizedResources @Inject constructor(\r\n        @ApplicationContext context: Context\r\n    ) {\r\n        private val resources = LokaliseResources(context)\r\n    \r\n        fun getString(@StringRes resId: Int): String {\r\n            return resources.getString(resId)\r\n        }\r\n    \r\n        fun getString(@StringRes resId: Int, vararg formatArgs: Any?): String {\r\n            return resources.getString(resId, *formatArgs)\r\n        }\r\n    }\r\n\r\n","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>I our case with this problem it was do to java/kotlin conversion issue handling vargs because we had wrapped resources in a Kotlin file, where the missing trick was the flattern * operator</p>\n<pre><code>class LocalizedResources @Inject constructor(\n    @ApplicationContext context: Context\n) {\n    private val resources = LokaliseResources(context)\n\n    fun getString(@StringRes resId: Int): String {\n        return resources.getString(resId)\n    }\n\n    fun getString(@StringRes resId: Int, vararg formatArgs: Any?): String {\n        return resources.getString(resId, *formatArgs)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1492762,"reputation":525,"user_id":1399466,"accept_rate":90,"display_name":"Metal Wing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68410,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":10903598,"answer_count":5,"score":22,"last_activity_date":1652351703,"creation_date":1338924197,"question_id":10903579,"body_markdown":"I had a perfectly working code yesterday, in the exact form of:\r\n\r\n    int lastRecord = 1;\r\n    String key = String.format(&quot;%08d&quot;, Integer.toString(lastRecord));\r\n\r\nWhich would pad it nicely to 00000001.\r\n\r\nNow I kicked it up a notch with twoKeyChar getting a string from a table and lastRecord getting an int from a table.\r\n\r\nAs you can see the concept is essentially the same - I convert an int to a string and try to pad it with 0s; however, this time I get the following error:\r\n\r\n    java.util.IllegalFormatConversionException: d != java.lang.String\r\n\r\nThe code is below:\r\n\r\n    String newPK = null;\r\n    String twoCharKey = getTwoCharKey(tablename);\r\n    if (twoCharKey != null) {\r\n         int lastRecord = getLastRecord(tablename);\r\n         lastRecord++;\r\n         //The println below outputs the correct values: &quot;RU&quot; and 11. \r\n         System.out.println(&quot;twocharkey:&quot;+twoCharKey+&quot;record:&quot;+lastRecord+&quot;&lt;&quot;);\r\n         //Now just to make it RU00000011\r\n         newPK = String.format(&quot;%08d&quot;, Integer.toString(lastRecord));\r\n         newPK = twoCharKey.concat(newPK);\r\n    }\r\n\r\nI feel like I must have typed something wrong, because there is no reason for it to break since the last time when it worked. Any help/hint is appreciated! Thank You!","title":"&quot;IllegalFormatConversionException: d != java.lang.String&quot; when padding number with 0s?","body":"<p>I had a perfectly working code yesterday, in the exact form of:</p>\n\n<pre><code>int lastRecord = 1;\nString key = String.format(\"%08d\", Integer.toString(lastRecord));\n</code></pre>\n\n<p>Which would pad it nicely to 00000001.</p>\n\n<p>Now I kicked it up a notch with twoKeyChar getting a string from a table and lastRecord getting an int from a table.</p>\n\n<p>As you can see the concept is essentially the same - I convert an int to a string and try to pad it with 0s; however, this time I get the following error:</p>\n\n<pre><code>java.util.IllegalFormatConversionException: d != java.lang.String\n</code></pre>\n\n<p>The code is below:</p>\n\n<pre><code>String newPK = null;\nString twoCharKey = getTwoCharKey(tablename);\nif (twoCharKey != null) {\n     int lastRecord = getLastRecord(tablename);\n     lastRecord++;\n     //The println below outputs the correct values: \"RU\" and 11. \n     System.out.println(\"twocharkey:\"+twoCharKey+\"record:\"+lastRecord+\"&lt;\");\n     //Now just to make it RU00000011\n     newPK = String.format(\"%08d\", Integer.toString(lastRecord));\n     newPK = twoCharKey.concat(newPK);\n}\n</code></pre>\n\n<p>I feel like I must have typed something wrong, because there is no reason for it to break since the last time when it worked. Any help/hint is appreciated! Thank You!</p>\n"},{"tags":["java","android-studio","google-cloud-firestore","nullpointerexception","fatal-error"],"comments":[{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652340737,"post_id":72211527,"comment_id":127583854,"body_markdown":"look into this https://stackoverflow.com/questions/56142150/fatal-exception-java-lang-nullpointerexception-in-release-build","body":"look into this <a href=\"https://stackoverflow.com/questions/56142150/fatal-exception-java-lang-nullpointerexception-in-release-build\" title=\"fatal exception java lang nullpointerexception in release build\">stackoverflow.com/questions/56142150/&hellip;</a>"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652342733,"post_id":72211527,"comment_id":127584497,"body_markdown":"That doesn&#39;t really helped me @TalhaMahmood","body":"That doesn&#39;t really helped me @TalhaMahmood"},{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652343538,"post_id":72211527,"comment_id":127584743,"body_markdown":"One of your mapper function returning a null value which you need to identify. for reference you can look into this link https://stackoverflow.com/questions/47652603/the-mapper-function-returned-a-null-value","body":"One of your mapper function returning a null value which you need to identify. for reference you can look into this link <a href=\"https://stackoverflow.com/questions/47652603/the-mapper-function-returned-a-null-value\" title=\"the mapper function returned a null value\">stackoverflow.com/questions/47652603/&hellip;</a>"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652343610,"post_id":72211527,"comment_id":127584767,"body_markdown":"@TalhaMahmood How do i check it ?","body":"@TalhaMahmood How do i check it ?"},{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652343739,"post_id":72211527,"comment_id":127584800,"body_markdown":"you can try setting  minifyEnabled = true in debug in build.gradle file and check where it is crashing","body":"you can try setting  minifyEnabled = true in debug in build.gradle file and check where it is crashing"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652345363,"post_id":72211527,"comment_id":127585344,"body_markdown":"Already true @TalhaMahmood","body":"Already true @TalhaMahmood"},{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652345429,"post_id":72211527,"comment_id":127585361,"body_markdown":"is it crashing in debug ? build.gradle must be like this                 buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),\n                &#39;proguard-rules.pro&#39;\n    }\n\n    debug {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),\n                &#39;proguard-rules.pro&#39;\n    }\n}","body":"is it crashing in debug ? build.gradle must be like this                 buildTypes {     release {         minifyEnabled true         proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),                 &#39;proguard-rules.pro&#39;     }      debug {         minifyEnabled true         proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),                 &#39;proguard-rules.pro&#39;     } }"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652345698,"post_id":72211527,"comment_id":127585450,"body_markdown":"@TalhaMahmood It is not crashing in debug mode, works perfectly fine\nhere is my buildtypes\n\n release {\n            minifyEnabled true\n            debuggable false\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\n        }","body":"@TalhaMahmood It is not crashing in debug mode, works perfectly fine here is my buildtypes   release {             minifyEnabled true             debuggable false             proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;         }"},{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652346405,"post_id":72211527,"comment_id":127585696,"body_markdown":"you need to add debug there. debug { minifyEnabled true proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39; }  then it will crash in debug to","body":"you need to add debug there. debug { minifyEnabled true proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39; }  then it will crash in debug to"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652349863,"post_id":72211527,"comment_id":127587016,"body_markdown":"@TalhaMahmood I have added debug mode true, but it works fine in debug mode","body":"@TalhaMahmood I have added debug mode true, but it works fine in debug mode"},{"owner":{"account_id":8978489,"reputation":54,"user_id":6694465,"display_name":"Talha Mahmood"},"score":0,"creation_date":1652350890,"post_id":72211527,"comment_id":127587363,"body_markdown":"can you upload your build.gradle file here","body":"can you upload your build.gradle file here"},{"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"score":0,"creation_date":1652351344,"post_id":72211527,"comment_id":127587522,"body_markdown":"I have added gradle to the post, @TalhaMahmood","body":"I have added gradle to the post, @TalhaMahmood"}],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652351313,"creation_date":1652340047,"question_id":72211527,"body_markdown":"The app is works very well in debug mode. But in signed apk and after uploading in playstore, the app is closed automatically.\r\nI have tried:\r\n\r\n - Rebuild \r\n - Clean \r\n - Invalidate and restart\r\n - Added proguard of adgem\r\n\r\n \r\n\r\nHere is the error in signed APK,\r\n\r\n        E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.mas.pns, PID: 3461\r\n        java.lang.NullPointerException: throw with null exception\r\n            at com.adgem.android.internal.g$a.onResponse(SourceFile:2)\r\n            at com.adgem.android.internal.g$c.onResponse(SourceFile)\r\n            at gb.k$b$a$a.run(SourceFile:3)\r\n            at android.os.Handler.handleCallback(Handler.java:754)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:163)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6393)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:933)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\r\n    2022-05-12 12:39:09.936 3562-3739/? E/##XLogger##: com.miui.cloudservice.cloudcontrol.@IPV6@SourceFile:2, thread:5040--cloud config is not expired , request canceled\r\n    2022-05-12 12:39:10.871 1600-1875/? E/FE_LOG: ObservableUtils: accept: \r\n        java.lang.NullPointerException: The mapper function returned a null value.\r\n            at h.a.d.b.b.a(ObjectHelper.java:1)\r\n            at h.a.d.e.a.c$a.onNext(ObservableMap.java:4)\r\n            at h.a.d.e.a.e.run(ObservableScalarXMap.java:2)\r\n            at h.a.d.e.a.b.b(ObservableJust.java:3)\r\n            at h.a.d.a(Observable.java:20)\r\n            at h.a.d.e.a.c.b(ObservableMap.java:1)\r\n            at h.a.d.a(Observable.java:20)\r\n            at h.a.d.e.a.f$b.run(ObservableSubscribeOn.java:1)\r\n            at h.a.d.g.j.call(ScheduledDirectTask.java:3)\r\n            at h.a.d.g.j.call(ScheduledDirectTask.java:1)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\r\n\r\n\r\nIs it anything with my gradle files I don&#39;t know exact details so\r\nHere is my build. gradle:\r\n\r\n\r\n\r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n    \r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    \r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.mas.pns&quot;\r\n            minSdkVersion 21\r\n            //noinspection OldTargetApi\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n    \r\n    \r\n        configurations {\r\n    \r\n            all {\r\n    \r\n                exclude group : &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\n                exclude group : &#39;org.apache.httpcomponents&#39;, module : &#39;httpclient&#39;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            debug {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        compileOptions {\r\n    \r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n    \r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        testImplementation &#39;junit:junit:&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n    \r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    \r\n    \r\n    \r\n    \r\n        //firebase\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:28.0.1&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:20.2.0&#39;\r\n    \r\n    \r\n    \r\n        // Sweet alert box\r\n        implementation &#39;com.github.f0ris.sweetalert:library:1.6.2&#39;\r\n    \r\n        // circle imageview\r\n        implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    \r\n        implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    \r\n        // Smooth bottomBar\r\n        implementation &#39;com.github.ibrahimsn98:SmoothBottomBar:1.7.6&#39;\r\n    \r\n        // adGem\r\n        implementation &#39;com.adgem:adgem-android:3.0.1&#39;\r\n    \r\n        implementation &#39;com.karumi:dexter:6.2.2&#39;\r\n    \r\n        // swipe decorate\r\n        implementation &#39;com.github.xabaras:RecyclerViewSwipeDecorator:1.3&#39;\r\n    \r\n        // unity\r\n        implementation files(&#39;libs/unity-ads.aar&#39;)\r\n    \r\n        //poll_fish\r\n        implementation &#39;com.pollfish:pollfish-googleplay:6.1.4&#39;\r\n    \r\n        // AyEt Studio\r\n        implementation files(&#39;libs/ayetpublisher3.6.jar&#39;)\r\n    \r\n        //admob\r\n        implementation &#39;com.google.android.gms:play-services-ads:20.6.0&#39;\r\n    }","title":"FATAL EXCEPTION, happening in signed APK (Application closes after opening, works in debug mode)","body":"<p>The app is works very well in debug mode. But in signed apk and after uploading in playstore, the app is closed automatically.\nI have tried:</p>\n<ul>\n<li>Rebuild</li>\n<li>Clean</li>\n<li>Invalidate and restart</li>\n<li>Added proguard of adgem</li>\n</ul>\n<p>Here is the error in signed APK,</p>\n<pre><code>    E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.mas.pns, PID: 3461\n    java.lang.NullPointerException: throw with null exception\n        at com.adgem.android.internal.g$a.onResponse(SourceFile:2)\n        at com.adgem.android.internal.g$c.onResponse(SourceFile)\n        at gb.k$b$a$a.run(SourceFile:3)\n        at android.os.Handler.handleCallback(Handler.java:754)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:163)\n        at android.app.ActivityThread.main(ActivityThread.java:6393)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:933)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\n2022-05-12 12:39:09.936 3562-3739/? E/##XLogger##: com.miui.cloudservice.cloudcontrol.@IPV6@SourceFile:2, thread:5040--cloud config is not expired , request canceled\n2022-05-12 12:39:10.871 1600-1875/? E/FE_LOG: ObservableUtils: accept: \n    java.lang.NullPointerException: The mapper function returned a null value.\n        at h.a.d.b.b.a(ObjectHelper.java:1)\n        at h.a.d.e.a.c$a.onNext(ObservableMap.java:4)\n        at h.a.d.e.a.e.run(ObservableScalarXMap.java:2)\n        at h.a.d.e.a.b.b(ObservableJust.java:3)\n        at h.a.d.a(Observable.java:20)\n        at h.a.d.e.a.c.b(ObservableMap.java:1)\n        at h.a.d.a(Observable.java:20)\n        at h.a.d.e.a.f$b.run(ObservableSubscribeOn.java:1)\n        at h.a.d.g.j.call(ScheduledDirectTask.java:3)\n        at h.a.d.g.j.call(ScheduledDirectTask.java:1)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n</code></pre>\n<p>Is it anything with my gradle files I don't know exact details so\nHere is my build. gradle:</p>\n<pre><code>android {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\n\n    buildFeatures {\n        viewBinding true\n    }\n\n\n    defaultConfig {\n        applicationId &quot;com.mas.pns&quot;\n        minSdkVersion 21\n        //noinspection OldTargetApi\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n\n\n    configurations {\n\n        all {\n\n            exclude group : 'commons-logging', module: 'commons-logging'\n            exclude group : 'org.apache.httpcomponents', module : 'httpclient'\n\n        }\n\n    }\n\n\n\n\n\n\n    buildTypes {\n        release {\n            minifyEnabled true\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n\n\n\n\n    compileOptions {\n\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n\n\n\n    //firebase\n    implementation platform('com.google.firebase:firebase-bom:28.0.1')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation 'com.google.firebase:firebase-storage:20.0.1'\n    implementation 'com.google.firebase:firebase-database'\n    implementation 'com.google.firebase:firebase-messaging:23.0.3'\n    implementation 'com.google.android.gms:play-services-auth:20.2.0'\n\n\n\n    // Sweet alert box\n    implementation 'com.github.f0ris.sweetalert:library:1.6.2'\n\n    // circle imageview\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n\n    // Smooth bottomBar\n    implementation 'com.github.ibrahimsn98:SmoothBottomBar:1.7.6'\n\n    // adGem\n    implementation 'com.adgem:adgem-android:3.0.1'\n\n    implementation 'com.karumi:dexter:6.2.2'\n\n    // swipe decorate\n    implementation 'com.github.xabaras:RecyclerViewSwipeDecorator:1.3'\n\n    // unity\n    implementation files('libs/unity-ads.aar')\n\n    //poll_fish\n    implementation 'com.pollfish:pollfish-googleplay:6.1.4'\n\n    // AyEt Studio\n    implementation files('libs/ayetpublisher3.6.jar')\n\n    //admob\n    implementation 'com.google.android.gms:play-services-ads:20.6.0'\n}\n</code></pre>\n"},{"tags":["java","android","osmdroid"],"comments":[{"owner":{"account_id":471603,"reputation":2835,"user_id":879508,"accept_rate":57,"display_name":"Ifor"},"score":0,"creation_date":1653042732,"post_id":72213935,"comment_id":127759703,"body_markdown":"I think the tile size is 256.  That is wat I used to use.  I had max zoom as 18 as well but that want break it untill you try that zoom.","body":"I think the tile size is 256.  That is wat I used to use.  I had max zoom as 18 as well but that want break it untill you try that zoom."},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1665715340,"post_id":72213935,"comment_id":130768463,"body_markdown":"Check if you have similar issue in https://stackoverflow.com/questions/72541643/osmdroid-maps-is-not-loading-in-android-10-online-mode","body":"Check if you have similar issue in <a href=\"https://stackoverflow.com/questions/72541643/osmdroid-maps-is-not-loading-in-android-10-online-mode\" title=\"osmdroid maps is not loading in android 10 online mode\">stackoverflow.com/questions/72541643/&hellip;</a>"}],"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652351209,"creation_date":1652351209,"question_id":72213935,"body_markdown":"i was trying to have a map that uses the OpenCycleMap but it doesn&#39;t load the map\r\n``` \r\n final String[] tileURLs = {&quot;http://a.tile.thunderforest.com/cycle/&quot;,\r\n                &quot;http://b.tile.thunderforest.com/cycle/&quot;,\r\n                &quot;http://c.tile.thunderforest.com/cycle/&quot;};\r\n\r\n        final ITileSource OCM =\r\n                new XYTileSource(&quot;Open Cycle Map&quot;,\r\n                        0,\r\n                        19,\r\n                        512,\r\n                        &quot;.png?apikey=&quot; + API_KEY,\r\n                        tileURLs,\r\n                        &quot;from open cycle map&quot;);\r\n        map = (MapView) findViewById(R.id.mapview);\r\n        map.setTileSource(OCM);\r\n```","title":"OSMDroid doesnt load maps that use API","body":"<p>i was trying to have a map that uses the OpenCycleMap but it doesn't load the map</p>\n<pre><code> final String[] tileURLs = {&quot;http://a.tile.thunderforest.com/cycle/&quot;,\n                &quot;http://b.tile.thunderforest.com/cycle/&quot;,\n                &quot;http://c.tile.thunderforest.com/cycle/&quot;};\n\n        final ITileSource OCM =\n                new XYTileSource(&quot;Open Cycle Map&quot;,\n                        0,\n                        19,\n                        512,\n                        &quot;.png?apikey=&quot; + API_KEY,\n                        tileURLs,\n                        &quot;from open cycle map&quot;);\n        map = (MapView) findViewById(R.id.mapview);\n        map.setTileSource(OCM);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1652349554,"post_id":72213538,"comment_id":127586918,"body_markdown":"Every soldier is created with a field `int number=0;` that you increase in the constructor to 1. If you want one variable tracking something across multiple instances, you might consider adding a static variable.","body":"Every soldier is created with a field <code>int number=0;</code> that you increase in the constructor to 1. If you want one variable tracking something across multiple instances, you might consider adding a static variable."}],"answers":[{"tags":[],"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652349847,"creation_date":1652349847,"answer_id":72213640,"question_id":72213538,"body_markdown":"You have added number field which is instance field. It will initialize per instance. You are looking for static type variable. Please check [static into java.][1]\r\n\r\n&gt; **Instance Variables (Non-Static Fields)** Technically speaking, objects\r\n&gt; store their individual states in &quot;non-static fields&quot;, that is, fields\r\n&gt; declared without the static keyword. Non-static fields are also known\r\n&gt; as instance variables because their values are unique to each instance\r\n&gt; of a class (to each object, in other words); the currentSpeed of one\r\n&gt; bicycle is independent from the currentSpeed of another.\r\n&gt; \r\n&gt; **Class Variables (Static Fields)** A class variable is any field declared with the static modifier; this tells the compiler that there\r\n&gt; is exactly one copy of this variable in existence, regardless of how\r\n&gt; many times the class has been instantiated. A field defining the\r\n&gt; number of gears for a particular kind of bicycle could be marked as\r\n&gt; static since conceptually the same number of gears will apply to all\r\n&gt; instances. The code static int numGears = 6; would create such a\r\n&gt; static field. Additionally, the keyword final could be added to\r\n&gt; indicate that the number of gears will never change.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html","title":"why doesn&#39;t the variable increase?","body":"<p>You have added number field which is instance field. It will initialize per instance. You are looking for static type variable. Please check <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">static into java.</a></p>\n<blockquote>\n<p><strong>Instance Variables (Non-Static Fields)</strong> Technically speaking, objects\nstore their individual states in &quot;non-static fields&quot;, that is, fields\ndeclared without the static keyword. Non-static fields are also known\nas instance variables because their values are unique to each instance\nof a class (to each object, in other words); the currentSpeed of one\nbicycle is independent from the currentSpeed of another.</p>\n<p><strong>Class Variables (Static Fields)</strong> A class variable is any field declared with the static modifier; this tells the compiler that there\nis exactly one copy of this variable in existence, regardless of how\nmany times the class has been instantiated. A field defining the\nnumber of gears for a particular kind of bicycle could be marked as\nstatic since conceptually the same number of gears will apply to all\ninstances. The code static int numGears = 6; would create such a\nstatic field. Additionally, the keyword final could be added to\nindicate that the number of gears will never change.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11365873,"reputation":24,"user_id":8332789,"display_name":"SongPeng"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652350305,"creation_date":1652350305,"answer_id":72213726,"question_id":72213538,"body_markdown":"The constructor is changed to：\r\n\r\n    public Soldier(int number){\r\n        this.number = number;\r\n        this.ATK = ra.nextInt(10)+90;\r\n        this.HP = ra.nextInt(20)+180;\r\n    }","title":"why doesn&#39;t the variable increase?","body":"<p>The constructor is changed to：</p>\n<pre><code>public Soldier(int number){\n    this.number = number;\n    this.ATK = ra.nextInt(10)+90;\n    this.HP = ra.nextInt(20)+180;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652350521,"creation_date":1652350521,"answer_id":72213774,"question_id":72213538,"body_markdown":"As others have said, each `Soldier` instance has its own separate `number` field which starts with 0. You can use a `static` field to count the instances:\r\n\r\n    public class Soldier {\r\n        private static int counter = 0;\r\n        private int number;\r\n        // other fields left out for clarity\r\n\r\n        public Soldier(){\r\n            Soldier.counter++;  // field shared among all Soldier instances\r\n            this.number = counter;  // number belongs to this instance only\r\n            // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nHowever, I wouldn&#39;t recommend doing it this way. When you get more advanced, you&#39;ll learn that using a static field like this can cause problems in a multi-threaded application. I would instead advise passing the number to the Soldier constructor:\r\n\r\n    public class Soldier {\r\n        private int number;\r\n        // ...\r\n\r\n        public Soldier(int number){\r\n            this.number = number;\r\n            // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nAnd then:\r\n\r\n    public static void main(String[] args) {\r\n        Soldier[] soldiers = new Soldier[5];\r\n        int i = 0;\r\n        while(i&lt;5){\r\n            soldiers[i] = new Soldier(i);\r\n            i++;\r\n        }\r\n","title":"why doesn&#39;t the variable increase?","body":"<p>As others have said, each <code>Soldier</code> instance has its own separate <code>number</code> field which starts with 0. You can use a <code>static</code> field to count the instances:</p>\n<pre><code>public class Soldier {\n    private static int counter = 0;\n    private int number;\n    // other fields left out for clarity\n\n    public Soldier(){\n        Soldier.counter++;  // field shared among all Soldier instances\n        this.number = counter;  // number belongs to this instance only\n        // ...\n    }\n    // ...\n}\n</code></pre>\n<p>However, I wouldn't recommend doing it this way. When you get more advanced, you'll learn that using a static field like this can cause problems in a multi-threaded application. I would instead advise passing the number to the Soldier constructor:</p>\n<pre><code>public class Soldier {\n    private int number;\n    // ...\n\n    public Soldier(int number){\n        this.number = number;\n        // ...\n    }\n    // ...\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>public static void main(String[] args) {\n    Soldier[] soldiers = new Soldier[5];\n    int i = 0;\n    while(i&lt;5){\n        soldiers[i] = new Soldier(i);\n        i++;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652351170,"creation_date":1652351170,"answer_id":72213924,"question_id":72213538,"body_markdown":"## Soldier.class ##\r\n\r\n - all-uppercase field names tend to be used for constants.. basic fields use headless camel-case.. They should also be descriptive, i.e. you should look at them an it should be apparent what they represent - for example a variable &quot;number&quot; is not a good idea, because it&#39;s ambiguous\r\n\r\n - Random can be converted to a local variable, no need to keep it on the class level\r\n\r\n - The mechanism by which soldiers are assigned IDs should be on a higher level - it can&#39;t be *managed* by the soldier object itself, hence the constructor with an argument\r\n\r\n - overriding the `toString` method is the traditional way of transforming the object to string for debugging purposes.. also most IDEs can generate it with a press of a button so no space for human error\r\n\r\nYou will obviously need getters and setters for your variables, if you wish to read or change them from elsewhere, but I don&#39;t think that&#39;s necessary to post here.\r\n\r\n    private int soldierID;\r\n    private int attack;\r\n    private int health;\r\n\r\n    public Soldier(int id){\r\n\r\n        this.soldierID = id;\r\n\r\n        Random random = new Random();\r\n        this.attack = random.nextInt(10) + 90;\r\n        this.health = random.nextInt(20) + 180;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Soldier{&quot; +\r\n                &quot;soldierID=&quot; + soldierID +\r\n                &quot;, attack=&quot; + attack +\r\n                &quot;, health=&quot; + health +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n## Main.class ##\r\n\r\n - it&#39;s perfectly fine and actually preferred to use a `List` instead of an array, because it&#39;s more comfortable to work with\r\n\r\n - this way it&#39;s even much easier to add them dynamically and use the iterator for ID\r\n\r\n - you can &quot;report&quot; in the creation cycle\r\n\r\nThis even shortens the method a bit, not that it&#39;s that important here.\r\n\r\n    public static void main(String[] args){\r\n\r\n        List&lt;Soldier&gt; soldiers = new ArrayList&lt;&gt;();\r\n        for(int i=0; i&lt;5; i++){\r\n            Soldier newSoldier = new Soldier(i);\r\n            soldiers.add(newSoldier);\r\n            System.out.println(newSoldier.toString());\r\n        }\r\n    }\r\n\r\nThis way when you define the soldier IDs it&#39;s not from within the Soldier class but rather from something that is &quot;observing&quot; all the soldier classes and knows which is which.","title":"why doesn&#39;t the variable increase?","body":"<h2>Soldier.class</h2>\n<ul>\n<li><p>all-uppercase field names tend to be used for constants.. basic fields use headless camel-case.. They should also be descriptive, i.e. you should look at them an it should be apparent what they represent - for example a variable &quot;number&quot; is not a good idea, because it's ambiguous</p>\n</li>\n<li><p>Random can be converted to a local variable, no need to keep it on the class level</p>\n</li>\n<li><p>The mechanism by which soldiers are assigned IDs should be on a higher level - it can't be <em>managed</em> by the soldier object itself, hence the constructor with an argument</p>\n</li>\n<li><p>overriding the <code>toString</code> method is the traditional way of transforming the object to string for debugging purposes.. also most IDEs can generate it with a press of a button so no space for human error</p>\n</li>\n</ul>\n<p>You will obviously need getters and setters for your variables, if you wish to read or change them from elsewhere, but I don't think that's necessary to post here.</p>\n<pre><code>private int soldierID;\nprivate int attack;\nprivate int health;\n\npublic Soldier(int id){\n\n    this.soldierID = id;\n\n    Random random = new Random();\n    this.attack = random.nextInt(10) + 90;\n    this.health = random.nextInt(20) + 180;\n}\n\n@Override\npublic String toString() {\n    return &quot;Soldier{&quot; +\n            &quot;soldierID=&quot; + soldierID +\n            &quot;, attack=&quot; + attack +\n            &quot;, health=&quot; + health +\n            '}';\n}\n</code></pre>\n<h2>Main.class</h2>\n<ul>\n<li><p>it's perfectly fine and actually preferred to use a <code>List</code> instead of an array, because it's more comfortable to work with</p>\n</li>\n<li><p>this way it's even much easier to add them dynamically and use the iterator for ID</p>\n</li>\n<li><p>you can &quot;report&quot; in the creation cycle</p>\n</li>\n</ul>\n<p>This even shortens the method a bit, not that it's that important here.</p>\n<pre><code>public static void main(String[] args){\n\n    List&lt;Soldier&gt; soldiers = new ArrayList&lt;&gt;();\n    for(int i=0; i&lt;5; i++){\n        Soldier newSoldier = new Soldier(i);\n        soldiers.add(newSoldier);\n        System.out.println(newSoldier.toString());\n    }\n}\n</code></pre>\n<p>This way when you define the soldier IDs it's not from within the Soldier class but rather from something that is &quot;observing&quot; all the soldier classes and knows which is which.</p>\n"}],"owner":{"account_id":25271028,"reputation":1,"user_id":19100354,"display_name":"Mayer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1652351170,"creation_date":1652349392,"question_id":72213538,"body_markdown":"I am learning Java, so I understand this is a very simple question, but I still want to understand it.\r\n\r\nI want to let my code automatically generate soldiers, and the number automatically increases, but I failed.\r\n\r\n**the Soldier.class:**\r\n    \r\n```java\r\npackage com.mayer;\r\nimport java.util.Random;\r\npublic class Soldier {\r\n    private int number=0;\r\n    private int ATK;\r\n    private int HP;\r\n    Random ra = new Random();\r\n    public Soldier(){\r\n        this.number++;\r\n        this.ATK = ra.nextInt(10)+90;\r\n        this.HP = ra.nextInt(20)+180;\r\n    }\r\n    public void report(){\r\n        System.out.println(&quot;number:&quot;+this.number+&quot;\\t&quot;+\r\n                &quot;ATK:&quot;+this.ATK+&quot;\\t&quot;+\r\n                &quot;HP:&quot;+this.HP);\r\n    }\r\n\r\n}\r\n```\r\n**the main.class**\r\n\r\n```java\r\npackage com.mayer;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Soldier[] soldiers = new Soldier[5];\r\n        int i = 0;\r\n        while(i&lt;5){\r\n            soldiers[i] = new Soldier();\r\n            i++;\r\n        }\r\n        for(Soldier sol:soldiers){\r\n            sol.report();\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**That&#39;s what I get:**\r\n```none\r\nnumber:1\tATK:94\tHP:187\r\nnumber:1\tATK:94\tHP:181\r\nnumber:1\tATK:96\tHP:193\r\nnumber:1\tATK:90\tHP:183\r\nnumber:1\tATK:95\tHP:193\r\n```\r\nSo you see,each of this number is 1.","title":"why doesn&#39;t the variable increase?","body":"<p>I am learning Java, so I understand this is a very simple question, but I still want to understand it.</p>\n<p>I want to let my code automatically generate soldiers, and the number automatically increases, but I failed.</p>\n<p><strong>the Soldier.class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mayer;\nimport java.util.Random;\npublic class Soldier {\n    private int number=0;\n    private int ATK;\n    private int HP;\n    Random ra = new Random();\n    public Soldier(){\n        this.number++;\n        this.ATK = ra.nextInt(10)+90;\n        this.HP = ra.nextInt(20)+180;\n    }\n    public void report(){\n        System.out.println(&quot;number:&quot;+this.number+&quot;\\t&quot;+\n                &quot;ATK:&quot;+this.ATK+&quot;\\t&quot;+\n                &quot;HP:&quot;+this.HP);\n    }\n\n}\n</code></pre>\n<p><strong>the main.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mayer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Soldier[] soldiers = new Soldier[5];\n        int i = 0;\n        while(i&lt;5){\n            soldiers[i] = new Soldier();\n            i++;\n        }\n        for(Soldier sol:soldiers){\n            sol.report();\n        }\n    }\n    \n}\n</code></pre>\n<p><strong>That's what I get:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>number:1    ATK:94  HP:187\nnumber:1    ATK:94  HP:181\nnumber:1    ATK:96  HP:193\nnumber:1    ATK:90  HP:183\nnumber:1    ATK:95  HP:193\n</code></pre>\n<p>So you see,each of this number is 1.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652353593,"post_id":72213725,"comment_id":127588264,"body_markdown":"The root problem is that the class uses an annotation that is missing at runtime. The secondary problem is that you stumbled across [this bug](https://bugs.openjdk.java.net/browse/JDK-7183985). The solution, however, is to solve the root problem.","body":"The root problem is that the class uses an annotation that is missing at runtime. The secondary problem is that you stumbled across <a href=\"https://bugs.openjdk.java.net/browse/JDK-7183985\" rel=\"nofollow noreferrer\">this bug</a>. The solution, however, is to solve the root problem."},{"owner":{"account_id":25271754,"reputation":1,"user_id":19100976,"display_name":"Nardo FIVE"},"score":0,"creation_date":1652359414,"post_id":72213725,"comment_id":127590419,"body_markdown":"Thank you very much, I see that I didn&#39;t include my dependencies in the code but I found the annotation that messed up everything.","body":"Thank you very much, I see that I didn&#39;t include my dependencies in the code but I found the annotation that messed up everything."}],"owner":{"account_id":25271754,"reputation":1,"user_id":19100976,"display_name":"Nardo FIVE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652350605,"creation_date":1652350294,"question_id":72213725,"body_markdown":"My project is composed like this\r\n\r\n [Project][1]: https://i.stack.imgur.com/Ttx3W.png\r\n\r\nwhen i try to run the tests the error\r\n\r\n    java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n     at java.lang.Class.createAnnotationData(Class.java:3521)\r\n     at java.lang.Class.annotationData(Class.java:3510)\r\n     at java.lang.Class.getAnnotation(Class.java:3415)\r\n\r\n  presents itself.\r\n\r\nI have downloaded the right libraries for junit-4 and i believe it has something to do with how the project is built because when i tried to do a test on another simpler project it worked.\r\nMaybe I have made a mistake in how I divided my space for my project or maybe I forgot some options on my settings.json file which I&#39;ll link down here [settings.json][1]\r\n\r\nI&#39;ll also link my test project which could help identify the problem but it&#39;s very messy and unorganized so thanks to anyone that takes the time to help me\r\n\r\n    package test;\r\n    \r\n    public class DemoApplicationTest {\r\n    \r\n        public static DemoApplication.Logs Log;\r\n        private static final String Server = &quot;dw.gnet.it&quot;, user = &quot;unimore22&quot;, pass = &quot;weblog&quot;;\r\n        private static final int port = 21;\r\n        \r\n    \r\n        /*\r\n          Test del metodo pulizia che controlla se vengono rimpiazzate tutte le istanze\r\n          previste dal codice quali | [ | ] | ( | ) | \\ | ; | , | + |\r\n        */\r\n        @Test    \r\n        public void Testpulizia() {\r\n        String valore = &quot;A[B]C(D)E\\&quot;F;G,H+I&quot;;\r\n    \r\n            valore = valore.replace(&quot;[&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;]&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;(&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;)&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;;&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;,&quot;, &quot;&quot;);\r\n            valore = valore.replace(&quot;+&quot;, &quot;&quot;);\r\n            valore = valore.toLowerCase();\r\n            assertEquals(&quot;ProvoLaStringa&quot;,&quot;ABCDEFGHI&quot;, valore.toString().toUpperCase());\r\n        }\r\n    \r\n        /* \r\n            Test che controlla se il modulo LetturaFile riesce a leggere \r\n            un file di testo demo \r\n        */\r\n        @Test\r\n        public  void TestLetturaFile() throws FileNotFoundException {\r\n            Scanner sc = new Scanner(new File(&quot;/output.txt&quot;));\r\n            String NomeFile = &quot;/output.txt&quot;;\r\n            JSONArray ja = DemoApplication.LetturaFile(sc, NomeFile);\r\n    \r\n            assertEquals(&quot;NomeFileRighe:output.txt&quot;+&quot;-&quot;, ja);\r\n        }\r\n    \r\n        /*\r\n            Test del modulo di FTPDownload dove si controlla se viene ritornato\r\n            true se si riesce a recuperare il file e a scriverlo sull&#39; outputstream\r\n        */\r\n        @Test\r\n        public void TestFTPDownload() throws SocketException, IOException {\r\n           String File = new String();\r\n           OutputStream os = new FileOutputStream(&quot;output.txt&quot;);\r\n           FTPClient ftp = DemoApplication.ConnectionFTP(Server, user, pass, port);\r\n           boolean successo = false;\r\n            try{\r\n                successo = ftp.retrieveFile(File, os);\r\n                os.close();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                fail(&quot;Unexpected exeption was thrown&quot;);\r\n            }\r\n                assertEquals(true , successo);\r\n        }\r\n    \r\n        /*\r\n            Test che controlla se il modulo ConnectionFTP riesce a connettersi a un\r\n            qualsiasi server ritornado true.\r\n        */\r\n        @Test\r\n        public void TestConnectionFTP() {\r\n            String server  =&quot;test.rebex.net&quot;;\r\n            String user = &quot;demo&quot;;\r\n            String pass = &quot;password&quot;;\r\n            int port = 21;\r\n            FTPClient ftp = DemoApplication.ConnectionFTP(server, user, pass, port);\r\n            assertEquals(true, ftp);\r\n        }\r\n    \r\n    \r\n        /*\r\n            Test che controlla se il modulo procedura funziona controllando\r\n            se il return di procedura ritorna true\r\n        */\r\n        @Test\r\n        public void TestProcedura() throws FileNotFoundException {\r\n    \r\n            FTPClient ftp = DemoApplication.ConnectionFTP(Server, user, pass, port);\r\n            boolean scaricato = DemoApplication.Procedura(ftp);\r\n        \r\n            assertEquals(true, scaricato);\r\n                \r\n            \r\n        }   \r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fjbt5.png\r\n\r\n","title":"Java testing initializationError : java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy","body":"<p>My project is composed like this</p>\n<p><a href=\"https://i.stack.imgur.com/Fjbt5.png\" rel=\"nofollow noreferrer\">Project</a>: <a href=\"https://i.stack.imgur.com/Ttx3W.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Ttx3W.png</a></p>\n<p>when i try to run the tests the error</p>\n<pre><code>java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\n at java.lang.Class.createAnnotationData(Class.java:3521)\n at java.lang.Class.annotationData(Class.java:3510)\n at java.lang.Class.getAnnotation(Class.java:3415)\n</code></pre>\n<p>presents itself.</p>\n<p>I have downloaded the right libraries for junit-4 and i believe it has something to do with how the project is built because when i tried to do a test on another simpler project it worked.\nMaybe I have made a mistake in how I divided my space for my project or maybe I forgot some options on my settings.json file which I'll link down here <a href=\"https://i.stack.imgur.com/Fjbt5.png\" rel=\"nofollow noreferrer\">settings.json</a></p>\n<p>I'll also link my test project which could help identify the problem but it's very messy and unorganized so thanks to anyone that takes the time to help me</p>\n<pre><code>package test;\n\npublic class DemoApplicationTest {\n\n    public static DemoApplication.Logs Log;\n    private static final String Server = &quot;dw.gnet.it&quot;, user = &quot;unimore22&quot;, pass = &quot;weblog&quot;;\n    private static final int port = 21;\n    \n\n    /*\n      Test del metodo pulizia che controlla se vengono rimpiazzate tutte le istanze\n      previste dal codice quali | [ | ] | ( | ) | \\ | ; | , | + |\n    */\n    @Test    \n    public void Testpulizia() {\n    String valore = &quot;A[B]C(D)E\\&quot;F;G,H+I&quot;;\n\n        valore = valore.replace(&quot;[&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;]&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;(&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;)&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;\\&quot;&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;;&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;,&quot;, &quot;&quot;);\n        valore = valore.replace(&quot;+&quot;, &quot;&quot;);\n        valore = valore.toLowerCase();\n        assertEquals(&quot;ProvoLaStringa&quot;,&quot;ABCDEFGHI&quot;, valore.toString().toUpperCase());\n    }\n\n    /* \n        Test che controlla se il modulo LetturaFile riesce a leggere \n        un file di testo demo \n    */\n    @Test\n    public  void TestLetturaFile() throws FileNotFoundException {\n        Scanner sc = new Scanner(new File(&quot;/output.txt&quot;));\n        String NomeFile = &quot;/output.txt&quot;;\n        JSONArray ja = DemoApplication.LetturaFile(sc, NomeFile);\n\n        assertEquals(&quot;NomeFileRighe:output.txt&quot;+&quot;-&quot;, ja);\n    }\n\n    /*\n        Test del modulo di FTPDownload dove si controlla se viene ritornato\n        true se si riesce a recuperare il file e a scriverlo sull' outputstream\n    */\n    @Test\n    public void TestFTPDownload() throws SocketException, IOException {\n       String File = new String();\n       OutputStream os = new FileOutputStream(&quot;output.txt&quot;);\n       FTPClient ftp = DemoApplication.ConnectionFTP(Server, user, pass, port);\n       boolean successo = false;\n        try{\n            successo = ftp.retrieveFile(File, os);\n            os.close();\n        }\n        catch(Exception e)\n        {\n            fail(&quot;Unexpected exeption was thrown&quot;);\n        }\n            assertEquals(true , successo);\n    }\n\n    /*\n        Test che controlla se il modulo ConnectionFTP riesce a connettersi a un\n        qualsiasi server ritornado true.\n    */\n    @Test\n    public void TestConnectionFTP() {\n        String server  =&quot;test.rebex.net&quot;;\n        String user = &quot;demo&quot;;\n        String pass = &quot;password&quot;;\n        int port = 21;\n        FTPClient ftp = DemoApplication.ConnectionFTP(server, user, pass, port);\n        assertEquals(true, ftp);\n    }\n\n\n    /*\n        Test che controlla se il modulo procedura funziona controllando\n        se il return di procedura ritorna true\n    */\n    @Test\n    public void TestProcedura() throws FileNotFoundException {\n\n        FTPClient ftp = DemoApplication.ConnectionFTP(Server, user, pass, port);\n        boolean scaricato = DemoApplication.Procedura(ftp);\n    \n        assertEquals(true, scaricato);\n            \n        \n    }   \n\n}\n</code></pre>\n"},{"tags":["java","jvm","java-native-interface","64-bit","32-bit"],"comments":[{"owner":{"account_id":82646,"reputation":1204,"user_id":232217,"accept_rate":100,"display_name":"Patrick Niedzielski"},"score":4,"creation_date":1263443379,"post_id":2062020,"comment_id":1990520,"body_markdown":"Just out of curiosity, why would you need to know the natural size of the system?  Details such as this are abstracted away in Java, so you shouldn&#39;t (in theory, at least) have to know them.","body":"Just out of curiosity, why would you need to know the natural size of the system?  Details such as this are abstracted away in Java, so you shouldn&#39;t (in theory, at least) have to know them."},{"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"score":3,"creation_date":1263494017,"post_id":2062020,"comment_id":1995465,"body_markdown":"It lets me roughly estimate the memory requirements for objects due to pointers.  Curiosity too -- seemed like there should be a way, but I&#39;d never heard of it.","body":"It lets me roughly estimate the memory requirements for objects due to pointers.  Curiosity too -- seemed like there should be a way, but I&#39;d never heard of it."},{"owner":{"account_id":23611,"reputation":36322,"user_id":59279,"accept_rate":85,"display_name":"Joonas Pulakka"},"score":90,"creation_date":1272611873,"post_id":2062020,"comment_id":2771985,"body_markdown":"This &quot;detail&quot; is not abstracted away when interacting with the Java Native Interface. 32-bit DLLs can&#39;t be loaded with a 64-bit JVM (and vice versa). So this is quite essential information for anyone using JNI. It&#39;s a pity that there seems to be no portable way to obtain this info. One way is to first try loading a 32-bit version of the DLL, and if it fails, try the 64-bit version, etc. Ugly!","body":"This &quot;detail&quot; is not abstracted away when interacting with the Java Native Interface. 32-bit DLLs can&#39;t be loaded with a 64-bit JVM (and vice versa). So this is quite essential information for anyone using JNI. It&#39;s a pity that there seems to be no portable way to obtain this info. One way is to first try loading a 32-bit version of the DLL, and if it fails, try the 64-bit version, etc. Ugly!"},{"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"score":12,"creation_date":1347224831,"post_id":2062020,"comment_id":16571228,"body_markdown":"Another situation where discerning between 32 or 64 bit JVMs is important is for mapped files. On 32 bit systems only 2GB can be mapped, so it&#39;s important to map and unmap file segments accordingly so that this limit is not exceeded, while on 64 bit jvms the limit is much, much, much higher.","body":"Another situation where discerning between 32 or 64 bit JVMs is important is for mapped files. On 32 bit systems only 2GB can be mapped, so it&#39;s important to map and unmap file segments accordingly so that this limit is not exceeded, while on 64 bit jvms the limit is much, much, much higher."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1373409138,"post_id":2062020,"comment_id":25544713,"body_markdown":"@simonegianni wouldn&#39;t that make such a mapping the perfect test?","body":"@simonegianni wouldn&#39;t that make such a mapping the perfect test?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1373545569,"post_id":2062020,"comment_id":25603023,"body_markdown":"Note that there is a vast difference between a _human_ being able to tell, and the _program_ being able to tell.  Humanly readable strings are rarely defined rigidly so relying on them makes you subtly vendor dependent.","body":"Note that there is a vast difference between a <i>human</i> being able to tell, and the <i>program</i> being able to tell.  Humanly readable strings are rarely defined rigidly so relying on them makes you subtly vendor dependent."},{"owner":{"account_id":971754,"reputation":48147,"user_id":1477667,"accept_rate":56,"display_name":"dfeuer"},"score":2,"creation_date":1398190184,"post_id":2062020,"comment_id":35534883,"body_markdown":"It&#39;s really nice to be able to choose the numerical algorithm that will be fastest on the machine in question.","body":"It&#39;s really nice to be able to choose the numerical algorithm that will be fastest on the machine in question."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1467037360,"post_id":2062020,"comment_id":63551441,"body_markdown":"Also note that both the detection mechanisms and the object size is vendor dependent.","body":"Also note that both the detection mechanisms and the object size is vendor dependent."},{"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"score":0,"creation_date":1469724380,"post_id":2062020,"comment_id":64667675,"body_markdown":"Note that java does some tricks such that &quot;ordinary object pointers&quot; are 32-bit on 64-bit JVMs with typical heap limits.","body":"Note that java does some tricks such that &quot;ordinary object pointers&quot; are 32-bit on 64-bit JVMs with typical heap limits."},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":1,"creation_date":1481629764,"post_id":2062020,"comment_id":69444337,"body_markdown":"@PatrickNiedzielski Another situation where discerning between 32 or 64 bit JVMs is of paramount importance is when a Java program must start an external executable, for which both versions exist. Like writing Selenium tests, where the right browser driver must be started. And the same need exists for discerning the operating system. I&#39;m sure one can think of several more cases where something that is supposed to be &quot;abstracted away&quot; is not.","body":"@PatrickNiedzielski Another situation where discerning between 32 or 64 bit JVMs is of paramount importance is when a Java program must start an external executable, for which both versions exist. Like writing Selenium tests, where the right browser driver must be started. And the same need exists for discerning the operating system. I&#39;m sure one can think of several more cases where something that is supposed to be &quot;abstracted away&quot; is not."}],"answers":[{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":5,"up_vote_count":342,"is_accepted":true,"score":337,"last_activity_date":1558933203,"creation_date":1263440671,"answer_id":2062036,"question_id":2062020,"body_markdown":"You retrieve the [system property][1] that marks the bitness of this JVM with:\n\n    System.getProperty(&quot;sun.arch.data.model&quot;);\n\nPossible results are:\n\n - `&quot;32&quot;` – 32-bit JVM\n - `&quot;64&quot;` – 64-bit JVM\n - `&quot;unknown&quot;` – Unknown JVM\n\nAs described in the [HotSpot FAQ][2]:\n\n&gt; **When writing Java code, how do I distinguish between 32 and 64-bit operation?**\n&gt;\n&gt; There&#39;s no public API that allows you to distinguish between 32 and 64-bit operation. Think of 64-bit as just another platform in the write once, run anywhere tradition. However, if you&#39;d like to write code which is platform specific (shame on you), the system property sun.arch.data.model has the value &quot;32&quot;, &quot;64&quot;, or &quot;unknown&quot;.  \n\nAn example where this could be necessary is if your Java code depends on native libraries, and you need to determine whether to load the 32- or 64-bit version of the libraries on startup.\n\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\n  [2]: https://www.oracle.com/technetwork/java/hotspotfaq-138619.html#64bit_detection","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>You retrieve the <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\">system property</a> that marks the bitness of this JVM with:</p>\n<pre><code>System.getProperty(&quot;sun.arch.data.model&quot;);\n</code></pre>\n<p>Possible results are:</p>\n<ul>\n<li><code>&quot;32&quot;</code> – 32-bit JVM</li>\n<li><code>&quot;64&quot;</code> – 64-bit JVM</li>\n<li><code>&quot;unknown&quot;</code> – Unknown JVM</li>\n</ul>\n<p>As described in the <a href=\"https://www.oracle.com/technetwork/java/hotspotfaq-138619.html#64bit_detection\" rel=\"noreferrer\">HotSpot FAQ</a>:</p>\n<blockquote>\n<p><strong>When writing Java code, how do I distinguish between 32 and 64-bit operation?</strong></p>\n<p>There's no public API that allows you to distinguish between 32 and 64-bit operation. Think of 64-bit as just another platform in the write once, run anywhere tradition. However, if you'd like to write code which is platform specific (shame on you), the system property sun.arch.data.model has the value &quot;32&quot;, &quot;64&quot;, or &quot;unknown&quot;.</p>\n</blockquote>\n<p>An example where this could be necessary is if your Java code depends on native libraries, and you need to determine whether to load the 32- or 64-bit version of the libraries on startup.</p>\n"},{"tags":[],"owner":{"account_id":31550,"reputation":3425,"user_id":86733,"accept_rate":88,"display_name":"bryantsai"},"down_vote_count":4,"up_vote_count":41,"is_accepted":false,"score":37,"last_activity_date":1553326244,"creation_date":1263440874,"answer_id":2062045,"question_id":2062020,"body_markdown":"I installed 32-bit JVM and retried it again, looks like the following does tell you JVM bitness, not OS arch:\r\n\r\n    System.getProperty(&quot;os.arch&quot;);\r\n    #\r\n    # on a 64-bit Linux box:\r\n    # &quot;x86&quot; when using 32-bit JVM\r\n    # &quot;amd64&quot; when using 64-bit JVM\r\n\r\nThis was tested against both SUN and IBM JVM (32 and 64-bit). Clearly, the system property is not just the operating system arch.","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>I installed 32-bit JVM and retried it again, looks like the following does tell you JVM bitness, not OS arch:</p>\n\n<pre><code>System.getProperty(\"os.arch\");\n#\n# on a 64-bit Linux box:\n# \"x86\" when using 32-bit JVM\n# \"amd64\" when using 64-bit JVM\n</code></pre>\n\n<p>This was tested against both SUN and IBM JVM (32 and 64-bit). Clearly, the system property is not just the operating system arch.</p>\n"},{"tags":[],"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"down_vote_count":12,"up_vote_count":772,"is_accepted":false,"score":760,"last_activity_date":1558932016,"creation_date":1263445219,"answer_id":2062263,"question_id":2062020,"body_markdown":"For certain versions of Java, you can check the bitness of the JVM from the command line with the flags `-d32` and `-d64`.\r\n\r\n```none\r\n$ java -help\r\n...\r\n    -d32          use a 32-bit data model if available\r\n    -d64          use a 64-bit data model if available\r\n```\r\n\r\nTo check for a 64-bit JVM, run:\r\n\r\n```none\r\n$ java -d64 -version\r\n```\r\n\r\nIf it&#39;s not a 64-bit JVM, you&#39;ll get this:\r\n\r\n```none\r\nError: This Java instance does not support a 64-bit JVM.\r\nPlease install the desired version.\r\n```\r\n\r\nSimilarly, to check for a 32-bit JVM, run:\r\n\r\n```none\r\n$ java -d32 -version\r\n```\r\n\r\nIf it&#39;s not a 32-bit JVM, you&#39;ll get this:\r\n\r\n```none\r\nError: This Java instance does not support a 32-bit JVM.\r\nPlease install the desired version.\r\n```\r\n\r\nThese flags were added in Java 7, [deprecated](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8168010) in Java 9, [removed](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8180954) in Java 10, and no longer available on modern versions of Java.","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>For certain versions of Java, you can check the bitness of the JVM from the command line with the flags <code>-d32</code> and <code>-d64</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ java -help\n...\n    -d32          use a 32-bit data model if available\n    -d64          use a 64-bit data model if available\n</code></pre>\n\n<p>To check for a 64-bit JVM, run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ java -d64 -version\n</code></pre>\n\n<p>If it's not a 64-bit JVM, you'll get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error: This Java instance does not support a 64-bit JVM.\nPlease install the desired version.\n</code></pre>\n\n<p>Similarly, to check for a 32-bit JVM, run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ java -d32 -version\n</code></pre>\n\n<p>If it's not a 32-bit JVM, you'll get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error: This Java instance does not support a 32-bit JVM.\nPlease install the desired version.\n</code></pre>\n\n<p>These flags were added in Java 7, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8168010\" rel=\"noreferrer\">deprecated</a> in Java 9, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8180954\" rel=\"noreferrer\">removed</a> in Java 10, and no longer available on modern versions of Java.</p>\n"},{"tags":[],"owner":{"account_id":218585,"reputation":2863,"user_id":474985,"display_name":"Sedat Kilinc"},"down_vote_count":9,"up_vote_count":210,"is_accepted":false,"score":201,"last_activity_date":1430735652,"creation_date":1307134689,"answer_id":6232624,"question_id":2062020,"body_markdown":"Just type `java -version` in your console.\r\n\r\nIf a 64 bit version is running, you&#39;ll get a message like:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java version &quot;1.6.0_18&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_18-b07)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 16.0-b13, mixed mode)\r\n\r\nA 32 bit version will show something similar to:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java version &quot;1.6.0_41&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_41-b02)\r\n    Java HotSpot(TM) Client VM (build 20.14-b01, mixed mode, sharing)\r\n\r\nNote `Client` instead of `64-Bit Server` in the third line. The `Client/Server` part is irrelevant, it&#39;s the absence of the `64-Bit` that matters.\r\n\r\nIf multiple Java versions are installed on your system, navigate to the /bin folder of the Java version you want to check, and type `java -version` there.","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>Just type <code>java -version</code> in your console.</p>\n\n<p>If a 64 bit version is running, you'll get a message like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java version \"1.6.0_18\"\nJava(TM) SE Runtime Environment (build 1.6.0_18-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0-b13, mixed mode)\n</code></pre>\n\n<p>A 32 bit version will show something similar to:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java version \"1.6.0_41\"\nJava(TM) SE Runtime Environment (build 1.6.0_41-b02)\nJava HotSpot(TM) Client VM (build 20.14-b01, mixed mode, sharing)\n</code></pre>\n\n<p>Note <code>Client</code> instead of <code>64-Bit Server</code> in the third line. The <code>Client/Server</code> part is irrelevant, it's the absence of the <code>64-Bit</code> that matters.</p>\n\n<p>If multiple Java versions are installed on your system, navigate to the /bin folder of the Java version you want to check, and type <code>java -version</code> there.</p>\n"},{"tags":[],"owner":{"account_id":95473,"reputation":1707,"user_id":260002,"accept_rate":100,"display_name":"dim"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1329419061,"creation_date":1329419061,"answer_id":9317441,"question_id":2062020,"body_markdown":"Complementary info:\r\n\r\nOn a *running process* you may use (at least with some recent Sun JDK5/6 versions):\r\n\r\n    $ /opt/java1.5/bin/jinfo -sysprops 14680 | grep sun.arch.data.model\r\n    Attaching to process ID 14680, please wait...\r\n    Debugger attached successfully.\r\n    Server compiler detected.\r\n    JVM version is 1.5.0_16-b02\r\n    sun.arch.data.model = 32\r\n    \r\nwhere 14680 is PID of jvm running the application. &quot;os.arch&quot; works too.\r\n\r\nAlso other scenarios are supported:\r\n\r\n    jinfo [ option ] pid\r\n    jinfo [ option ] executable core\r\n    jinfo [ option ] [server-id@]remote-hostname-or-IP \r\n\r\nHowever consider also this note:\r\n\r\n&quot;[NOTE][1] - This utility is unsupported and may or may not be available in future versions of the JDK. In Windows Systems where dbgent.dll is not present, &#39;Debugging Tools for Windows&#39; needs to be installed to have these tools working. Also the PATH environment variable should contain the location of jvm.dll used by the target process or the location from which the Crash Dump file was produced.&quot;\r\n\r\n [1]: http://docs.oracle.com/javase/6/docs/technotes/tools/share/jinfo.html","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>Complementary info:</p>\n\n<p>On a <em>running process</em> you may use (at least with some recent Sun JDK5/6 versions):</p>\n\n<pre><code>$ /opt/java1.5/bin/jinfo -sysprops 14680 | grep sun.arch.data.model\nAttaching to process ID 14680, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 1.5.0_16-b02\nsun.arch.data.model = 32\n</code></pre>\n\n<p>where 14680 is PID of jvm running the application. \"os.arch\" works too.</p>\n\n<p>Also other scenarios are supported:</p>\n\n<pre><code>jinfo [ option ] pid\njinfo [ option ] executable core\njinfo [ option ] [server-id@]remote-hostname-or-IP \n</code></pre>\n\n<p>However consider also this note:</p>\n\n<p>\"<a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/share/jinfo.html\">NOTE</a> - This utility is unsupported and may or may not be available in future versions of the JDK. In Windows Systems where dbgent.dll is not present, 'Debugging Tools for Windows' needs to be installed to have these tools working. Also the PATH environment variable should contain the location of jvm.dll used by the target process or the location from which the Crash Dump file was produced.\"</p>\n"},{"tags":[],"owner":{"account_id":1548848,"reputation":313,"user_id":1441720,"accept_rate":50,"display_name":"jawsnnn"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1339059055,"creation_date":1339059055,"answer_id":10928597,"question_id":2062020,"body_markdown":"On Linux, you can get ELF header information by using either of the following two commands:\r\n\r\n    file {YOUR_JRE_LOCATION_HERE}/bin/java\r\n\r\no/p:\r\nELF &lt;b&gt;64-bit LSB executable&lt;/b&gt;, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), for GNU/Linux 2.4.0, not stripped\r\n\r\nor\r\n\r\n    readelf -h {YOUR_JRE_LOCATION_HERE}/bin/java | grep &#39;Class&#39;\r\n\r\no/p:\r\nClass:                             ELF&lt;b&gt;64&lt;/b&gt;\r\n","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>On Linux, you can get ELF header information by using either of the following two commands:</p>\n\n<pre><code>file {YOUR_JRE_LOCATION_HERE}/bin/java\n</code></pre>\n\n<p>o/p:\nELF <b>64-bit LSB executable</b>, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), for GNU/Linux 2.4.0, not stripped</p>\n\n<p>or</p>\n\n<pre><code>readelf -h {YOUR_JRE_LOCATION_HERE}/bin/java | grep 'Class'\n</code></pre>\n\n<p>o/p:\nClass:                             ELF<b>64</b></p>\n"},{"tags":[],"owner":{"account_id":122639,"reputation":2213,"user_id":316578,"display_name":"Anthony Hayward"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499689955,"creation_date":1428684564,"answer_id":29566728,"question_id":2062020,"body_markdown":"If you are using JNA, you can check whether `com.sun.jna.Native.POINTER_SIZE == 4` (32 bit) or `com.sun.jna.Native.POINTER_SIZE == 8` (64 bit).","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>If you are using JNA, you can check whether <code>com.sun.jna.Native.POINTER_SIZE == 4</code> (32 bit) or <code>com.sun.jna.Native.POINTER_SIZE == 8</code> (64 bit).</p>\n"},{"tags":[],"owner":{"account_id":1445843,"reputation":1494,"user_id":1364368,"accept_rate":100,"display_name":"user1364368"},"down_vote_count":7,"up_vote_count":6,"is_accepted":false,"score":-1,"last_activity_date":1441572896,"creation_date":1441572896,"answer_id":32428216,"question_id":2062020,"body_markdown":"Under Windows 7 in the &quot;*Control Panel*&quot; under &quot;*Programs | Programs and Features*&quot; the 64-bit variants of JRE &amp; JDK are listed with &quot;*64-bit*&quot; in  parentheses (e.g. &quot;*Java SE Development Kit 7 Update 65 (64-Bit)*&quot;), while for the 32-bit variants the variant is not mentioned in parentheses (e.g. just &quot;*Java SE Development Kit 8 Update 60*&quot;). ","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>Under Windows 7 in the \"<em>Control Panel</em>\" under \"<em>Programs | Programs and Features</em>\" the 64-bit variants of JRE &amp; JDK are listed with \"<em>64-bit</em>\" in  parentheses (e.g. \"<em>Java SE Development Kit 7 Update 65 (64-Bit)</em>\"), while for the 32-bit variants the variant is not mentioned in parentheses (e.g. just \"<em>Java SE Development Kit 8 Update 60</em>\"). </p>\n"},{"tags":[],"owner":{"account_id":2421752,"reputation":2804,"user_id":2114557,"accept_rate":50,"display_name":"Zuko"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1506256367,"creation_date":1505242454,"answer_id":46183561,"question_id":2062020,"body_markdown":"To get the version of JVM currently running the program\r\n\r\n    System.out.println(Runtime.class.getPackage().getImplementationVersion());\r\n\r\n","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>To get the version of JVM currently running the program</p>\n\n<pre><code>System.out.println(Runtime.class.getPackage().getImplementationVersion());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1533676011,"creation_date":1533676011,"answer_id":51735444,"question_id":2062020,"body_markdown":"For `Windows`, you can check the `Java` home location. If it contains `(x86)` it is `32-bit` otherwise `64-bit`:\r\n\r\n    public static boolean is32Bit()\r\n    {\r\n    \tval javaHome = System.getProperty(&quot;java.home&quot;);\r\n    \treturn javaHome.contains(&quot;(x86)&quot;);\r\n    }\r\n    \r\n    public static boolean is64Bit()\r\n    {\r\n    \treturn !is32Bit();\r\n    }\r\n\r\nExample paths:\r\n\r\n    C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe # 32-bit\r\n    C:\\Program Files\\Java\\jdk-10.0.2\\bin\\java.exe # 64-bit\r\n\r\nWhy care about a `Windows` only solution?\r\n-----------------------------------------\r\n\r\nIf you need to know which bit version you&#39;re running on, you&#39;re likely fiddling around with native code on `Windows` so platform-independence is out of the window anyway.","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>For <code>Windows</code>, you can check the <code>Java</code> home location. If it contains <code>(x86)</code> it is <code>32-bit</code> otherwise <code>64-bit</code>:</p>\n\n<pre><code>public static boolean is32Bit()\n{\n    val javaHome = System.getProperty(\"java.home\");\n    return javaHome.contains(\"(x86)\");\n}\n\npublic static boolean is64Bit()\n{\n    return !is32Bit();\n}\n</code></pre>\n\n<p>Example paths:</p>\n\n<pre><code>C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe # 32-bit\nC:\\Program Files\\Java\\jdk-10.0.2\\bin\\java.exe # 64-bit\n</code></pre>\n\n<h2>Why care about a <code>Windows</code> only solution?</h2>\n\n<p>If you need to know which bit version you're running on, you're likely fiddling around with native code on <code>Windows</code> so platform-independence is out of the window anyway.</p>\n"},{"tags":[],"owner":{"account_id":15078962,"reputation":51,"user_id":10882136,"display_name":"鹞之神乐"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546919016,"creation_date":1546919016,"answer_id":54084926,"question_id":2062020,"body_markdown":"If you&#39;re using JNA, you can do this`Platform.is64Bit()`.","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>If you're using JNA, you can do this<code>Platform.is64Bit()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1344300,"reputation":1352,"user_id":1285331,"accept_rate":56,"display_name":"Fabian Knapp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599745312,"creation_date":1599744979,"answer_id":63830884,"question_id":2062020,"body_markdown":"This is the way JNA solves this with `Platform.is64Bit()` ([https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java][1])\r\n\r\n     public static final boolean is64Bit() {\r\n            String model = System.getProperty(&quot;sun.arch.data.model&quot;,\r\n                                              System.getProperty(&quot;com.ibm.vm.bitmode&quot;));\r\n            if (model != null) {\r\n                return &quot;64&quot;.equals(model);\r\n            }\r\n            if (&quot;x86-64&quot;.equals(ARCH)\r\n                || &quot;ia64&quot;.equals(ARCH)\r\n                || &quot;ppc64&quot;.equals(ARCH) || &quot;ppc64le&quot;.equals(ARCH)\r\n                || &quot;sparcv9&quot;.equals(ARCH)\r\n                || &quot;mips64&quot;.equals(ARCH) || &quot;mips64el&quot;.equals(ARCH)\r\n                || &quot;amd64&quot;.equals(ARCH)\r\n                || &quot;aarch64&quot;.equals(ARCH)) {\r\n                return true;\r\n            }\r\n            return Native.POINTER_SIZE == 8;\r\n    }\r\n\r\n    ARCH = getCanonicalArchitecture(System.getProperty(&quot;os.arch&quot;), osType);\r\n\r\n    static String getCanonicalArchitecture(String arch, int platform) {\r\n            arch = arch.toLowerCase().trim();\r\n            if (&quot;powerpc&quot;.equals(arch)) {\r\n                arch = &quot;ppc&quot;;\r\n            }\r\n            else if (&quot;powerpc64&quot;.equals(arch)) {\r\n                arch = &quot;ppc64&quot;;\r\n            }\r\n            else if (&quot;i386&quot;.equals(arch) || &quot;i686&quot;.equals(arch)) {\r\n                arch = &quot;x86&quot;;\r\n            }\r\n            else if (&quot;x86_64&quot;.equals(arch) || &quot;amd64&quot;.equals(arch)) {\r\n                arch = &quot;x86-64&quot;;\r\n            }\r\n            // Work around OpenJDK mis-reporting os.arch\r\n            // https://bugs.openjdk.java.net/browse/JDK-8073139\r\n            if (&quot;ppc64&quot;.equals(arch) &amp;&amp; &quot;little&quot;.equals(System.getProperty(&quot;sun.cpu.endian&quot;))) {\r\n                arch = &quot;ppc64le&quot;;\r\n            }\r\n            // Map arm to armel if the binary is running as softfloat build\r\n            if(&quot;arm&quot;.equals(arch) &amp;&amp; platform == Platform.LINUX &amp;&amp; isSoftFloat()) {\r\n                arch = &quot;armel&quot;;\r\n            }\r\n    \r\n            return arch;\r\n        }\r\n\r\n    static {\r\n            String osName = System.getProperty(&quot;os.name&quot;);\r\n            if (osName.startsWith(&quot;Linux&quot;)) {\r\n                if (&quot;dalvik&quot;.equals(System.getProperty(&quot;java.vm.name&quot;).toLowerCase())) {\r\n                    osType = ANDROID;\r\n                    // Native libraries on android must be bundled with the APK\r\n                    System.setProperty(&quot;jna.nounpack&quot;, &quot;true&quot;);\r\n                }\r\n                else {\r\n                    osType = LINUX;\r\n                }\r\n            }\r\n            else if (osName.startsWith(&quot;AIX&quot;)) {\r\n                osType = AIX;\r\n            }\r\n            else if (osName.startsWith(&quot;Mac&quot;) || osName.startsWith(&quot;Darwin&quot;)) {\r\n                osType = MAC;\r\n            }\r\n            else if (osName.startsWith(&quot;Windows CE&quot;)) {\r\n                osType = WINDOWSCE;\r\n            }\r\n            else if (osName.startsWith(&quot;Windows&quot;)) {\r\n                osType = WINDOWS;\r\n            }\r\n            else if (osName.startsWith(&quot;Solaris&quot;) || osName.startsWith(&quot;SunOS&quot;)) {\r\n                osType = SOLARIS;\r\n            }\r\n            else if (osName.startsWith(&quot;FreeBSD&quot;)) {\r\n                osType = FREEBSD;\r\n            }\r\n            else if (osName.startsWith(&quot;OpenBSD&quot;)) {\r\n                osType = OPENBSD;\r\n            }\r\n            else if (osName.equalsIgnoreCase(&quot;gnu&quot;)) {\r\n                osType = GNU;\r\n            }\r\n            else if (osName.equalsIgnoreCase(&quot;gnu/kfreebsd&quot;)) {\r\n                osType = KFREEBSD;\r\n            }\r\n            else if (osName.equalsIgnoreCase(&quot;netbsd&quot;)) {\r\n                osType = NETBSD;\r\n            }\r\n            else {\r\n                osType = UNSPECIFIED;\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>This is the way JNA solves this with <code>Platform.is64Bit()</code> (<a href=\"https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java</a>)</p>\n<pre><code> public static final boolean is64Bit() {\n        String model = System.getProperty(&quot;sun.arch.data.model&quot;,\n                                          System.getProperty(&quot;com.ibm.vm.bitmode&quot;));\n        if (model != null) {\n            return &quot;64&quot;.equals(model);\n        }\n        if (&quot;x86-64&quot;.equals(ARCH)\n            || &quot;ia64&quot;.equals(ARCH)\n            || &quot;ppc64&quot;.equals(ARCH) || &quot;ppc64le&quot;.equals(ARCH)\n            || &quot;sparcv9&quot;.equals(ARCH)\n            || &quot;mips64&quot;.equals(ARCH) || &quot;mips64el&quot;.equals(ARCH)\n            || &quot;amd64&quot;.equals(ARCH)\n            || &quot;aarch64&quot;.equals(ARCH)) {\n            return true;\n        }\n        return Native.POINTER_SIZE == 8;\n}\n\nARCH = getCanonicalArchitecture(System.getProperty(&quot;os.arch&quot;), osType);\n\nstatic String getCanonicalArchitecture(String arch, int platform) {\n        arch = arch.toLowerCase().trim();\n        if (&quot;powerpc&quot;.equals(arch)) {\n            arch = &quot;ppc&quot;;\n        }\n        else if (&quot;powerpc64&quot;.equals(arch)) {\n            arch = &quot;ppc64&quot;;\n        }\n        else if (&quot;i386&quot;.equals(arch) || &quot;i686&quot;.equals(arch)) {\n            arch = &quot;x86&quot;;\n        }\n        else if (&quot;x86_64&quot;.equals(arch) || &quot;amd64&quot;.equals(arch)) {\n            arch = &quot;x86-64&quot;;\n        }\n        // Work around OpenJDK mis-reporting os.arch\n        // https://bugs.openjdk.java.net/browse/JDK-8073139\n        if (&quot;ppc64&quot;.equals(arch) &amp;&amp; &quot;little&quot;.equals(System.getProperty(&quot;sun.cpu.endian&quot;))) {\n            arch = &quot;ppc64le&quot;;\n        }\n        // Map arm to armel if the binary is running as softfloat build\n        if(&quot;arm&quot;.equals(arch) &amp;&amp; platform == Platform.LINUX &amp;&amp; isSoftFloat()) {\n            arch = &quot;armel&quot;;\n        }\n\n        return arch;\n    }\n\nstatic {\n        String osName = System.getProperty(&quot;os.name&quot;);\n        if (osName.startsWith(&quot;Linux&quot;)) {\n            if (&quot;dalvik&quot;.equals(System.getProperty(&quot;java.vm.name&quot;).toLowerCase())) {\n                osType = ANDROID;\n                // Native libraries on android must be bundled with the APK\n                System.setProperty(&quot;jna.nounpack&quot;, &quot;true&quot;);\n            }\n            else {\n                osType = LINUX;\n            }\n        }\n        else if (osName.startsWith(&quot;AIX&quot;)) {\n            osType = AIX;\n        }\n        else if (osName.startsWith(&quot;Mac&quot;) || osName.startsWith(&quot;Darwin&quot;)) {\n            osType = MAC;\n        }\n        else if (osName.startsWith(&quot;Windows CE&quot;)) {\n            osType = WINDOWSCE;\n        }\n        else if (osName.startsWith(&quot;Windows&quot;)) {\n            osType = WINDOWS;\n        }\n        else if (osName.startsWith(&quot;Solaris&quot;) || osName.startsWith(&quot;SunOS&quot;)) {\n            osType = SOLARIS;\n        }\n        else if (osName.startsWith(&quot;FreeBSD&quot;)) {\n            osType = FREEBSD;\n        }\n        else if (osName.startsWith(&quot;OpenBSD&quot;)) {\n            osType = OPENBSD;\n        }\n        else if (osName.equalsIgnoreCase(&quot;gnu&quot;)) {\n            osType = GNU;\n        }\n        else if (osName.equalsIgnoreCase(&quot;gnu/kfreebsd&quot;)) {\n            osType = KFREEBSD;\n        }\n        else if (osName.equalsIgnoreCase(&quot;netbsd&quot;)) {\n            osType = NETBSD;\n        }\n        else {\n            osType = UNSPECIFIED;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652350537,"creation_date":1652350537,"answer_id":72213779,"question_id":2062020,"body_markdown":"You can use a JNI library. This will always work and is independent of the running JVM brand.\r\n\r\nJava code:\r\n\r\n    package org.mytest;\r\n    \r\n    public class NativeBinding\r\n    {\r\n        public static native int getRegisterWidth(); // returns 32 or 64\r\n    }\r\n\r\n\r\nAnd this is the C code:\r\n\r\n    #include &lt;jni.h&gt;\r\n    \r\n    // will return register width (32 or 64)\r\n    extern &quot;C&quot; JNIEXPORT jint JNICALL\r\n    Java_org_mytest_NativeBinding_getRegisterWidth(JNIEnv*, jclass)\r\n    {\r\n        return sizeof(void*) * 8;\r\n    }","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>You can use a JNI library. This will always work and is independent of the running JVM brand.</p>\n<p>Java code:</p>\n<pre><code>package org.mytest;\n\npublic class NativeBinding\n{\n    public static native int getRegisterWidth(); // returns 32 or 64\n}\n</code></pre>\n<p>And this is the C code:</p>\n<pre><code>#include &lt;jni.h&gt;\n\n// will return register width (32 or 64)\nextern &quot;C&quot; JNIEXPORT jint JNICALL\nJava_org_mytest_NativeBinding_getRegisterWidth(JNIEnv*, jclass)\n{\n    return sizeof(void*) * 8;\n}\n</code></pre>\n"}],"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733064,"favorite_count":0,"down_vote_count":0,"up_vote_count":607,"accepted_answer_id":2062036,"answer_count":13,"score":607,"last_activity_date":1652350537,"creation_date":1263440309,"question_id":2062020,"body_markdown":"How can I tell if the JVM in which my application runs is 32 bit or 64-bit?  Specifically, what functions or properties I can used to detect this within the program?","title":"How can I tell if I&#39;m running in 64-bit JVM or 32-bit JVM (from within a program)?","body":"<p>How can I tell if the JVM in which my application runs is 32 bit or 64-bit?  Specifically, what functions or properties I can used to detect this within the program?</p>\n"},{"tags":["java","google-chrome","selenium-ide"],"comments":[{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":0,"creation_date":1652350447,"post_id":72213677,"comment_id":127587226,"body_markdown":"What is the current problem here? Did you downloaded but didn&#39;t verify? Or you couldn&#39;t download yet?","body":"What is the current problem here? Did you downloaded but didn&#39;t verify? Or you couldn&#39;t download yet?"},{"owner":{"account_id":21123481,"reputation":3,"user_id":15529095,"display_name":"user15529095"},"score":0,"creation_date":1652350726,"post_id":72213677,"comment_id":127587311,"body_markdown":"I can download the file but i dont have a way to verify that the file is downloaded properly. Normally i would use screencapture to check but the download popup does not appear in screencapture","body":"I can download the file but i dont have a way to verify that the file is downloaded properly. Normally i would use screencapture to check but the download popup does not appear in screencapture"},{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":0,"creation_date":1652351050,"post_id":72213677,"comment_id":127587409,"body_markdown":"I think the problem is your download path. It&#39;s `&quot; C:\\Downloads\\ &quot;` . I think Windows download folder like this `&quot; C:\\Users\\{UserName}\\Downloads &quot;` . Can you print the `downloadfile` variable path to check manually?","body":"I think the problem is your download path. It&#39;s <code>&quot; C:\\Downloads\\ &quot;</code> . I think Windows download folder like this <code>&quot; C:\\Users\\{UserName}\\Downloads &quot;</code> . Can you print the <code>downloadfile</code> variable path to check manually?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1652351140,"post_id":72213677,"comment_id":127587439,"body_markdown":"After the file is downloaded just use `Boolean fileExists = file.exists();`. See https://www.geeksforgeeks.org/file-exists-method-in-java-with-examples/","body":"After the file is downloaded just use <code>Boolean fileExists = file.exists();</code>. See <a href=\"https://www.geeksforgeeks.org/file-exists-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/file-exists-method-in-java-with-examples</a>"},{"owner":{"account_id":21123481,"reputation":3,"user_id":15529095,"display_name":"user15529095"},"score":0,"creation_date":1652777027,"post_id":72213677,"comment_id":127681969,"body_markdown":"@halilibrahimbinol\nthat was the problem. thanks!","body":"@halilibrahimbinol that was the problem. thanks!"}],"owner":{"account_id":21123481,"reputation":3,"user_id":15529095,"display_name":"user15529095"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652350055,"creation_date":1652350055,"question_id":72213677,"body_markdown":"I am trying to use selenium to verify that a file has been properly downloaded from a download link. I am creating an automated test script that needs to click the download link and i need to verify that the file has been downloaded. Is there any way to do so?\r\n\r\nMy code is something like this.\r\n\r\n    \r\n    Page Results = new Page(driver);\r\n    if (Results.downloadLinkExists()) {\r\n\t\tResults.downloadlink();\r\n    //the file name is a very long url, so i am trying to shorten it to the name of the file.\r\n\t\tString filename = Results.downloadname();\t\r\n\r\n\t\tint startPoint = filename.indexOf(&quot;fileName=&quot;);\r\n\t\tint endPoint = filename.indexOf(&quot;&amp;&quot;, startPoint);\r\n\t\tSystem.out.println(filename.substring(startPoint + 9, endPoint)); \r\n        // the result system print at this point is something like &#39;12345678.pdf&#39;\r\n\r\n\t\tFile downloadfile = new File(&quot;C:\\\\Downloads\\\\&quot; + filename.substring(startPoint + 9, endPoint) );\r\n\r\n\t\t\r\n\t\tif (downloadfile.exists()) {\r\n\t\t\tSystem.out.println(&quot;it exists&quot;);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Does not exist&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;There is no download link avaliable&quot;);\r\n\t\t}\r\n\r\n    \r\nThe webpage file has the these funcions. The class of the webpage file is &quot;Page&quot;\r\n\r\n    public boolean downloadLinkExists() {\r\n\t\t\ttry { driver.findElement(By.xpath(&quot;//a[contains(.,&#39;.pdf&#39;)]&quot;));\r\n\t\t\t} catch (NoSuchElementException e ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\r\n\tpublic void downloadlink() {\r\n\t\tWebElement download = driver.findElement(By.xpath(&quot;//a[contains(.,&#39;.pdf&#39;)]&quot;));\r\n\t\tdownload.click();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n\t}\r\n\tpublic String downloadname() {\r\n\t\tWebElement download = driver.findElement(By.xpath(&quot;//a[contains(.,&#39;.pdf&#39;)]&quot;));\r\n\t\treturn download.getAttribute(&quot;href&quot;);\r\n\t}\r\n\r\n","title":"Selenium verify file download java","body":"<p>I am trying to use selenium to verify that a file has been properly downloaded from a download link. I am creating an automated test script that needs to click the download link and i need to verify that the file has been downloaded. Is there any way to do so?</p>\n<p>My code is something like this.</p>\n<pre><code>Page Results = new Page(driver);\nif (Results.downloadLinkExists()) {\n    Results.downloadlink();\n//the file name is a very long url, so i am trying to shorten it to the name of the file.\n    String filename = Results.downloadname();   \n\n    int startPoint = filename.indexOf(&quot;fileName=&quot;);\n    int endPoint = filename.indexOf(&quot;&amp;&quot;, startPoint);\n    System.out.println(filename.substring(startPoint + 9, endPoint)); \n    // the result system print at this point is something like '12345678.pdf'\n\n    File downloadfile = new File(&quot;C:\\\\Downloads\\\\&quot; + filename.substring(startPoint + 9, endPoint) );\n\n    \n    if (downloadfile.exists()) {\n        System.out.println(&quot;it exists&quot;);\n    }else {\n        System.out.println(&quot;Does not exist&quot;);\n    }\n    \n    }else {\n        System.out.println(&quot;There is no download link avaliable&quot;);\n    }\n</code></pre>\n<p>The webpage file has the these funcions. The class of the webpage file is &quot;Page&quot;</p>\n<pre><code>public boolean downloadLinkExists() {\n        try { driver.findElement(By.xpath(&quot;//a[contains(.,'.pdf')]&quot;));\n        } catch (NoSuchElementException e ) {\n            return false;\n        }\n        return true;\n        }\n\n\npublic void downloadlink() {\n    WebElement download = driver.findElement(By.xpath(&quot;//a[contains(.,'.pdf')]&quot;));\n    download.click();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n}\npublic String downloadname() {\n    WebElement download = driver.findElement(By.xpath(&quot;//a[contains(.,'.pdf')]&quot;));\n    return download.getAttribute(&quot;href&quot;);\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":109326,"reputation":306,"user_id":289735,"display_name":"DeckerEgo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322495668,"creation_date":1322495668,"answer_id":8298485,"question_id":8295913,"body_markdown":"This would depend on how you would want to submit the contents of the file. For example, let&#39;s say you have a number of lines in a CSV that need to be posted to an HTML form. You would likely build a route such as:\r\n\r\n- From: Fetch a file from a given path\r\n- To: Transform the data from the file into the appropriate HTTP headers (a simple POJO could do this well)\r\n- To: Submit this via a POST over HTTP\r\n\r\nIf you want to upload the entire file, you&#39;re likely looking instead at an HTTP PUT that can also be performed by the component. You may want to set the file as an attachment to the Message then send it to the HTTP component using a PUT.\r\n\r\nThe component documentation provides a better overview at http://camel.apache.org/http4.html - but it seems like your biggest constraint will be what the file component *consumer* can do and what it should poll - see http://camel.apache.org/file2.html for details.","title":"How can I use camel http compponent to upload a file to an application running on apache tomcat server?","body":"<p>This would depend on how you would want to submit the contents of the file. For example, let's say you have a number of lines in a CSV that need to be posted to an HTML form. You would likely build a route such as:</p>\n\n<ul>\n<li>From: Fetch a file from a given path</li>\n<li>To: Transform the data from the file into the appropriate HTTP headers (a simple POJO could do this well)</li>\n<li>To: Submit this via a POST over HTTP</li>\n</ul>\n\n<p>If you want to upload the entire file, you're likely looking instead at an HTTP PUT that can also be performed by the component. You may want to set the file as an attachment to the Message then send it to the HTTP component using a PUT.</p>\n\n<p>The component documentation provides a better overview at <a href=\"http://camel.apache.org/http4.html\" rel=\"nofollow\">http://camel.apache.org/http4.html</a> - but it seems like your biggest constraint will be what the file component <em>consumer</em> can do and what it should poll - see <a href=\"http://camel.apache.org/file2.html\" rel=\"nofollow\">http://camel.apache.org/file2.html</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468527193,"creation_date":1468526833,"answer_id":38383373,"question_id":8295913,"body_markdown":"Depending on your HTTP server, you would have to take different approaches. If you have a given situation (Jetty server), you could use HTTP4 component to upload the file:\r\n\r\n    from(&quot;jetty:http://localhost:8081/upload?httpMethodRestrict=PUT&quot;)\r\n        .log(&quot;Uploaded ${body}&quot;);\r\n\r\n    from(&quot;file:src/data/jetty?delay=5000&amp;noop=true&quot;)      \r\n        .setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.PUT))\r\n        .to(&quot;http4://localhost:8081/upload&quot;);\r\n\r\nHowever, if the server accepts only multipart requests, you would have to get a bit more crafty, e.g. use something like this:\r\n\r\n    from(&quot;file:src/data/jersey?delay=5000&amp;noop=true&quot;)\r\n        .process(new Processor() {\r\n            public void process(Exchange exchange) throws Exception {\r\n                MultipartEntityBuilder multipartEntityBuilder = \r\n                    MultipartEntityBuilder.create();\r\n                multipartEntityBuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n                multipartEntityBuilder.addPart(&quot;username&quot;, username);\r\n                multipartEntityBuilder.addPart(&quot;password&quot;, password);\r\n    \r\n                String filename = (String) \r\n                    exchange.getIn().getHeader(Exchange.FILE_NAME);\r\n                File file = exchange.getIn().getBody(File.class);\r\n                multipartEntityBuilder.addPart(&quot;upload&quot;,\r\n                    new FileBody(file, MULTIPART_FORM_DATA, filename));\r\n    \r\n                exchange.getIn().setBody(multipartEntityBuilder.build());\r\n            }\r\n        })\r\n        .to(&quot;http4://localhost:8080/restwb/upload&quot;);","title":"How can I use camel http compponent to upload a file to an application running on apache tomcat server?","body":"<p>Depending on your HTTP server, you would have to take different approaches. If you have a given situation (Jetty server), you could use HTTP4 component to upload the file:</p>\n\n<pre><code>from(\"jetty:http://localhost:8081/upload?httpMethodRestrict=PUT\")\n    .log(\"Uploaded ${body}\");\n\nfrom(\"file:src/data/jetty?delay=5000&amp;noop=true\")      \n    .setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.PUT))\n    .to(\"http4://localhost:8081/upload\");\n</code></pre>\n\n<p>However, if the server accepts only multipart requests, you would have to get a bit more crafty, e.g. use something like this:</p>\n\n<pre><code>from(\"file:src/data/jersey?delay=5000&amp;noop=true\")\n    .process(new Processor() {\n        public void process(Exchange exchange) throws Exception {\n            MultipartEntityBuilder multipartEntityBuilder = \n                MultipartEntityBuilder.create();\n            multipartEntityBuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n            multipartEntityBuilder.addPart(\"username\", username);\n            multipartEntityBuilder.addPart(\"password\", password);\n\n            String filename = (String) \n                exchange.getIn().getHeader(Exchange.FILE_NAME);\n            File file = exchange.getIn().getBody(File.class);\n            multipartEntityBuilder.addPart(\"upload\",\n                new FileBody(file, MULTIPART_FORM_DATA, filename));\n\n            exchange.getIn().setBody(multipartEntityBuilder.build());\n        }\n    })\n    .to(\"http4://localhost:8080/restwb/upload\");\n</code></pre>\n"}],"owner":{"account_id":954204,"reputation":43,"user_id":979789,"accept_rate":20,"display_name":"Shadab Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4702,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1652349845,"creation_date":1322483816,"question_id":8295913,"body_markdown":"My requirement is to create a file-to-http route to upload a file from file component to an http server using http component. \r\nI aslo want to know how this camel http component works.\r\nCan we use camel http component to upload a file to http server.","title":"How can I use camel http compponent to upload a file to an application running on apache tomcat server?","body":"<p>My requirement is to create a file-to-http route to upload a file from file component to an http server using http component. \nI aslo want to know how this camel http component works.\nCan we use camel http component to upload a file to http server.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":3,"creation_date":1460735348,"post_id":36651565,"comment_id":60896379,"body_markdown":"consider moving `for(...)` inside `try` after `b1 = ... ` to print array contents only if it is successfully initialized. Now, if `b1` is not assigned due to exception, it is not initialized when entering `for()`--thus you&#39;re getting this error.","body":"consider moving <code>for(...)</code> inside <code>try</code> after <code>b1 = ... </code> to print array contents only if it is successfully initialized. Now, if <code>b1</code> is not assigned due to exception, it is not initialized when entering <code>for()</code>--thus you&#39;re getting this error."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1460736391,"post_id":36651565,"comment_id":60897044,"body_markdown":"Don’t swallow exceptions.It’s not only good general advice, I think it will also solve your concrete problem.","body":"Don’t swallow exceptions.It’s not only good general advice, I think it will also solve your concrete problem."},{"owner":{"account_id":6014913,"reputation":294,"user_id":4724118,"accept_rate":100,"display_name":"smasher"},"score":0,"creation_date":1460746702,"post_id":36651565,"comment_id":60902955,"body_markdown":"@SashaSalauyou  thanks .. it worked..  But can you tell why my code is having the problem. Is this due to the try scope ?","body":"@SashaSalauyou  thanks .. it worked..  But can you tell why my code is having the problem. Is this due to the try scope ?"}],"answers":[{"tags":[],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461271444,"creation_date":1461271095,"answer_id":36779985,"question_id":36651565,"body_markdown":"**PROBLEM**\r\n\r\nIf there is an error inside the `try` block, then `b1` would not have been initialized and would have a value of `null`.\r\n\r\nIf this happens, then there would be a problem when you try and print out `b1`&#39;s values in the following line:\r\n\r\n    System.out.println(b1[i]);\r\n\r\nJava is cautious and won&#39;t let the possibility of that happen.\r\n\r\n---\r\n\r\n**SOLUTIONS**\r\n\r\n1. Initialize `b1` with a default value\r\n- This will prevent the possibility that `b1` is uninitialized (which is what Java worried about)\r\n2. Put the `for` loop inside the `try` block (as @SashaSalauyou said in the comments)\r\n - If there is an error with `b1`&#39;s inialization in the `try` block, then the block will quit, and the `for` loop would not be run. Therefore, there would be no code using the uninitialized variable such as in aforementioned line of code.","title":"Initializing variable in try catch block","body":"<p><strong>PROBLEM</strong></p>\n\n<p>If there is an error inside the <code>try</code> block, then <code>b1</code> would not have been initialized and would have a value of <code>null</code>.</p>\n\n<p>If this happens, then there would be a problem when you try and print out <code>b1</code>'s values in the following line:</p>\n\n<pre><code>System.out.println(b1[i]);\n</code></pre>\n\n<p>Java is cautious and won't let the possibility of that happen.</p>\n\n<hr>\n\n<p><strong>SOLUTIONS</strong></p>\n\n<ol>\n<li>Initialize <code>b1</code> with a default value\n\n<ul>\n<li>This will prevent the possibility that <code>b1</code> is uninitialized (which is what Java worried about)</li>\n</ul></li>\n<li>Put the <code>for</code> loop inside the <code>try</code> block (as @SashaSalauyou said in the comments)\n\n<ul>\n<li>If there is an error with <code>b1</code>'s inialization in the <code>try</code> block, then the block will quit, and the <code>for</code> loop would not be run. Therefore, there would be no code using the uninitialized variable such as in aforementioned line of code.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3143159,"reputation":168,"user_id":2658219,"accept_rate":88,"display_name":"Altair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652349349,"creation_date":1461271857,"answer_id":36780201,"question_id":36651565,"body_markdown":"The problem here is that `getBytes(String encoding)` throws `UnsupportedEncodingException`. If such an exception occurs in your code (this will happen if you put wrong encoding for example `getBytes(&quot;foo&quot;)`), your byte array will remain uninitialized. The catch block will handle the exception and continue with the for loop where you are trying to use b1. The compiler sees that possibility and throws an error in order to prevent usage of uninitialized variable later.\r\n\r\n```java\r\npublic class Test {\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        char a[]={&#39;s&#39;,&#39;k&#39;};\r\n        String s0=new String(a);\r\n        String s1=new String(&quot;Amar&quot;);\r\n        String s2= &quot;amarnath&quot;;\r\n        byte[] b1;\r\n        try{\r\n         b1=s2.getBytes(&quot;ASCII&quot;);\r\n         for(int i =0;i&lt;s2.length();i++)\r\n         {\r\n            System.out.println(b1[i]);\r\n         }\r\n        }\r\n        catch(UnsupportedEncodingException uee){ \r\n            //handle the exception or at least log it\r\n        }\r\n    }\r\n}\r\n```","title":"Initializing variable in try catch block","body":"<p>The problem here is that <code>getBytes(String encoding)</code> throws <code>UnsupportedEncodingException</code>. If such an exception occurs in your code (this will happen if you put wrong encoding for example <code>getBytes(&quot;foo&quot;)</code>), your byte array will remain uninitialized. The catch block will handle the exception and continue with the for loop where you are trying to use b1. The compiler sees that possibility and throws an error in order to prevent usage of uninitialized variable later.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        char a[]={'s','k'};\n        String s0=new String(a);\n        String s1=new String(&quot;Amar&quot;);\n        String s2= &quot;amarnath&quot;;\n        byte[] b1;\n        try{\n         b1=s2.getBytes(&quot;ASCII&quot;);\n         for(int i =0;i&lt;s2.length();i++)\n         {\n            System.out.println(b1[i]);\n         }\n        }\n        catch(UnsupportedEncodingException uee){ \n            //handle the exception or at least log it\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1483766,"reputation":5172,"user_id":1392463,"accept_rate":100,"display_name":"Ioan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461272750,"creation_date":1461272750,"answer_id":36780477,"question_id":36651565,"body_markdown":"The compiler complains because if the `b1` is not initialized and if *something bad* happens inside the `try` block, it will be then used in the following block, `System.out.println(b1[i]);`, uninitialized.\r\n\r\nIn order to make it compile, you should initialize your variable at least with `null`, as it is local variable.","title":"Initializing variable in try catch block","body":"<p>The compiler complains because if the <code>b1</code> is not initialized and if <em>something bad</em> happens inside the <code>try</code> block, it will be then used in the following block, <code>System.out.println(b1[i]);</code>, uninitialized.</p>\n\n<p>In order to make it compile, you should initialize your variable at least with <code>null</code>, as it is local variable.</p>\n"}],"owner":{"account_id":6014913,"reputation":294,"user_id":4724118,"accept_rate":100,"display_name":"smasher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":36780201,"answer_count":3,"score":-1,"last_activity_date":1652349349,"creation_date":1460735227,"question_id":36651565,"body_markdown":"I am getting the error in Java:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem  \r\n    The local variable b1 may not have been initialized at Test.main(Test.java:20)\r\n\r\nHere is my code:\r\n\r\n    import java.lang.String;\r\n    public class Test {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tchar a[]={&#39;s&#39;,&#39;k&#39;};\r\n    \t\tString s0=new String(a);\r\n    \t\tString s1=new String(&quot;Amar&quot;);\r\n    \t\tString s2= &quot;amarnath&quot;;\r\n    \t\tbyte[] b1;\r\n    \t\ttry{\r\n    \t\t b1=s2.getBytes(&quot;ASCII&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e){}\r\n    \t\tfor(int i =0;i&lt;s2.length();i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(b1[i]);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Initializing variable in try catch block","body":"<p>I am getting the error in Java:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error: Unresolved compilation problem<br>\n      The local variable b1 may not have been initialized at Test.main(Test.java:20)</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.lang.String;\npublic class Test {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        char a[]={'s','k'};\n        String s0=new String(a);\n        String s1=new String(\"Amar\");\n        String s2= \"amarnath\";\n        byte[] b1;\n        try{\n         b1=s2.getBytes(\"ASCII\");\n        }\n        catch(Exception e){}\n        for(int i =0;i&lt;s2.length();i++)\n        {\n            System.out.println(b1[i]);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-room"],"comments":[{"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"score":0,"creation_date":1652191257,"post_id":71312217,"comment_id":127543244,"body_markdown":"same issue. did you find the solution?","body":"same issue. did you find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646245432,"creation_date":1646245432,"answer_id":71327468,"question_id":71312217,"body_markdown":"you should use Dao &amp; annotation &amp; ... to insert data to database.\r\n\r\nyou can use this for java\r\nhttps://developer.android.com/codelabs/android-room-with-a-view#0\r\n\r\nand this for kotlin\r\nhttps://developer.android.com/codelabs/android-room-with-a-view-kotlin#0","title":"Room database reset to default values which was set by prepopulating database when clearing app from background","body":"<p>you should use Dao &amp; annotation &amp; ... to insert data to database.</p>\n<p>you can use this for java\n<a href=\"https://developer.android.com/codelabs/android-room-with-a-view#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/android-room-with-a-view#0</a></p>\n<p>and this for kotlin\n<a href=\"https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0</a></p>\n"},{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652349315,"creation_date":1652348292,"answer_id":72213270,"question_id":71312217,"body_markdown":"I faced same issue - you just need to remove `fallbackToDestructiveMigration()` from your code  \r\nfinally your code should look like\r\n\r\n        @Volatile\r\n        private var INSTANCE: AppDatabase? = null\r\n\r\n        fun getDatabase(\r\n            context: Context\r\n        ): AppDatabase {\r\n\r\n            return INSTANCE ?: synchronized(this) {\r\n                val instance = Room.databaseBuilder(\r\n                    context.applicationContext,\r\n                    AppDatabase::class.java,\r\n                    DATABASE_NAME\r\n                )\r\n                    .allowMainThreadQueries()\r\n                    .createFromAsset(&quot;databases/yourdb.db&quot;)\r\n                    .build()\r\n                INSTANCE = instance\r\n     \r\n                instance\r\n            }\r\n        }","title":"Room database reset to default values which was set by prepopulating database when clearing app from background","body":"<p>I faced same issue - you just need to remove <code>fallbackToDestructiveMigration()</code> from your code<br />\nfinally your code should look like</p>\n<pre><code>    @Volatile\n    private var INSTANCE: AppDatabase? = null\n\n    fun getDatabase(\n        context: Context\n    ): AppDatabase {\n\n        return INSTANCE ?: synchronized(this) {\n            val instance = Room.databaseBuilder(\n                context.applicationContext,\n                AppDatabase::class.java,\n                DATABASE_NAME\n            )\n                .allowMainThreadQueries()\n                .createFromAsset(&quot;databases/yourdb.db&quot;)\n                .build()\n            INSTANCE = instance\n \n            instance\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10423948,"reputation":329,"user_id":7685845,"display_name":"vivek panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72213270,"answer_count":2,"score":1,"last_activity_date":1652349315,"creation_date":1646154715,"question_id":71312217,"body_markdown":"I have a database which is prepopulated with some tables which is working fine.\r\nI have prepopulated my db. like this \r\n\r\n     Room.databaseBuilder(\r\n            get(),\r\n            AppDatabase::class.java,\r\n            APP_DATABASE\r\n             )\r\n            .createFromAsset(&quot;app.db&quot;)\r\n            .fallbackToDestructiveMigration()\r\n            .build()\r\n\r\n\r\n\r\nthe problem I am facing is that. when user adds his own data it got inserted correctly and displayed on my screen.\r\nwhen I move app to the background and remove it from there and reopen the application.\r\nI don&#39;t se my data and only the default data is present there.\r\n\r\nany help would be appreciated.","title":"Room database reset to default values which was set by prepopulating database when clearing app from background","body":"<p>I have a database which is prepopulated with some tables which is working fine.\nI have prepopulated my db. like this</p>\n<pre><code> Room.databaseBuilder(\n        get(),\n        AppDatabase::class.java,\n        APP_DATABASE\n         )\n        .createFromAsset(&quot;app.db&quot;)\n        .fallbackToDestructiveMigration()\n        .build()\n</code></pre>\n<p>the problem I am facing is that. when user adds his own data it got inserted correctly and displayed on my screen.\nwhen I move app to the background and remove it from there and reopen the application.\nI don't se my data and only the default data is present there.</p>\n<p>any help would be appreciated.</p>\n"},{"tags":["java","post","httpclient","special-characters","jsonobjectrequest"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1652336169,"post_id":72210844,"comment_id":127582420,"body_markdown":"What does *if I put some special characters in the mix* mean?","body":"What does <i>if I put some special characters in the mix</i> mean?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1652336822,"post_id":72210844,"comment_id":127582587,"body_markdown":"So, maybe the person who wrote the API did not think to deal with *special characters* ?  You need to explain what is happening.  Is some exception thrown, if so please provide.","body":"So, maybe the person who wrote the API did not think to deal with <i>special characters</i> ?  You need to explain what is happening.  Is some exception thrown, if so please provide."},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1652337291,"post_id":72210844,"comment_id":127582725,"body_markdown":"Sorry, it&#180;s difficult because my main language is not english.  The API is not well done, it return me an OK but instead of the data that i want it send a non relevant error message (the message says that the ID is wrong so it&#180;s not even a good message) i will post the call request and the return.","body":"Sorry, it&#180;s difficult because my main language is not english.  The API is not well done, it return me an OK but instead of the data that i want it send a non relevant error message (the message says that the ID is wrong so it&#180;s not even a good message) i will post the call request and the return."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1652337343,"post_id":72210844,"comment_id":127582735,"body_markdown":"That&#39;s OK, but let&#39;s speak java.  Unless we can see what is happening, we can only guess.","body":"That&#39;s OK, but let&#39;s speak java.  Unless we can see what is happening, we can only guess."},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1652337848,"post_id":72210844,"comment_id":127582862,"body_markdown":"Thanks for your patience and help, i am still learning how to make the questions, but this is really helpful","body":"Thanks for your patience and help, i am still learning how to make the questions, but this is really helpful"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1652338041,"post_id":72210844,"comment_id":127582920,"body_markdown":"`&quot;userlid&quot;:&quot;008368790204&quot;` - are you sure that this is correct? `userId` ?","body":"<code>&quot;userlid&quot;:&quot;008368790204&quot;</code> - are you sure that this is correct? <code>userId</code> ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1652338171,"post_id":72210844,"comment_id":127582963,"body_markdown":"See also https://stackoverflow.com/questions/6603928/should-i-url-encode-post-data","body":"See also <a href=\"https://stackoverflow.com/questions/6603928/should-i-url-encode-post-data\" title=\"should i url encode post data\">stackoverflow.com/questions/6603928/&hellip;</a>"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1652338516,"post_id":72210844,"comment_id":127583087,"body_markdown":"You need to post your code so that we can see how the String data (such as lname2) gets converted into bytes. Most likely the conversion is not using UTF-8, which the logs say it should do.","body":"You need to post your code so that we can see how the String data (such as lname2) gets converted into bytes. Most likely the conversion is not using UTF-8, which the logs say it should do."},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1652338761,"post_id":72210844,"comment_id":127583155,"body_markdown":"Yes the UserId is correct, we can generate any sort of string of less that 16 characters as an ID, the message saying that the UserId is needed is something that they got wrong. About code, i will add it in the question too. thanks for the advise ewrammer","body":"Yes the UserId is correct, we can generate any sort of string of less that 16 characters as an ID, the message saying that the UserId is needed is something that they got wrong. About code, i will add it in the question too. thanks for the advise ewrammer"},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1652339146,"post_id":72210844,"comment_id":127583306,"body_markdown":"mispellin userId. the correct one is userlid i will update with the postman call","body":"mispellin userId. the correct one is userlid i will update with the postman call"},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1652349063,"post_id":72210844,"comment_id":127586751,"body_markdown":"Finally solved. Thank you so much for your help","body":"Finally solved. Thank you so much for your help"}],"answers":[{"tags":[],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652349038,"creation_date":1652349038,"answer_id":72213451,"question_id":72210844,"body_markdown":"Finally i solved it. \r\n\r\nThe problem was deep in our framework but once spotted it was an easy fix:\r\n\r\nWhen you send an Entity as a Post Call and it have special characters, yo usually encode it. Just as ewramner suggested i checked and i confirmed that we had the entity well encoded BUT at the moment to send the entity to the API, we lost the Charset configuration (not the global one but the entity one) \r\n\r\nThe solution was to add the specific charset of the entity inside the entity type like this:\r\n\r\n    data.put(&quot;entity&quot;, paramsCrear.toString());\r\n    data.put(&quot;entity_mime_type&quot;, &quot;application/json&quot;);\r\n    data.put(&quot;entity_charset&quot;, &quot;UTF-8&quot;);\r\n\r\nIt seems that postman automatically add this entity_charset to every form-data that you make that&#180;s why I had problems looking for this specific point. \r\n\r\n\r\nThank you so much @ewramner and @Scary_wombat\r\n\r\n\r\nAnd everyone, keep in mind that if you use a post call in java with entity, you might need to specify the charset in wich you encode the entity (event if it&#180;s put in the headers too.\r\n","title":"Java API POST Call with special characters","body":"<p>Finally i solved it.</p>\n<p>The problem was deep in our framework but once spotted it was an easy fix:</p>\n<p>When you send an Entity as a Post Call and it have special characters, yo usually encode it. Just as ewramner suggested i checked and i confirmed that we had the entity well encoded BUT at the moment to send the entity to the API, we lost the Charset configuration (not the global one but the entity one)</p>\n<p>The solution was to add the specific charset of the entity inside the entity type like this:</p>\n<pre><code>data.put(&quot;entity&quot;, paramsCrear.toString());\ndata.put(&quot;entity_mime_type&quot;, &quot;application/json&quot;);\ndata.put(&quot;entity_charset&quot;, &quot;UTF-8&quot;);\n</code></pre>\n<p>It seems that postman automatically add this entity_charset to every form-data that you make that´s why I had problems looking for this specific point.</p>\n<p>Thank you so much @ewramner and @Scary_wombat</p>\n<p>And everyone, keep in mind that if you use a post call in java with entity, you might need to specify the charset in wich you encode the entity (event if it´s put in the headers too.</p>\n"}],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2621,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72213451,"answer_count":1,"score":-1,"last_activity_date":1652349038,"creation_date":1652336014,"question_id":72210844,"body_markdown":"I currently have a POST call with HTTPClient framework using JAVA, the method is not ours and i have found an interesting problem with the special characters.\r\n\r\n1. The call is sending a JSON Object, not using URL parameters.\r\n2. The call works well in my code and in postman but, if I put some special characters in the mix, the HTTPClient fails (but in postman keep working fine).\r\n\r\nI am almost completely sure that my problem is that I am missing some header about my encoding but I don&#180;t know which one i have to include in my call and i found very few info about this.\r\n\r\nExample of the calls. (I will delete a few things for Data Security).\r\n\r\nThis are the Headers for the POSTMAN Call:\r\n\r\n[![POSTMAN HEADERS:][1]][1]\r\n\r\n\r\n  \r\n\r\n\r\nAnd this is are the Ones for my HTTPClient call:\r\n\r\n```headers={Authorization=Bearer XXXXXXXXXXXXXXXX, Accept-Encoding=gzip, deflate, br, Content-Type=application/json}```\r\n\r\n\r\n\r\n\r\nAs you can see, i am sure the problem is here, but i don&#180;t know which parameter i have to inform and more importantly, why.\r\n\r\n\r\nPD: I have checked before but didn&#180;t found any similar questions around here. \r\n\r\nThanks for the help\r\n\r\nEdit for clearance: \r\n\r\nWhen i say &quot;put some special characters in the mix&quot; One of the multiple variables that i send iinside my JSON Object is a String that can contain special characters, to be more specific, we are sending first names and last names, and the actual problem is about the character &#39;&#209;&#39;.  \r\n\r\nThanks for the question Scary Wombat.\r\n\r\nEdit2: \r\n\r\nThe api call in my LOG: \r\n\r\n2022-05-11 10:20:45,118  ERROR [es.fiatc.http_client.GenericOperation.execute]- INFO: javax.net.ssl.trustStore = null\r\n2022-05-11 10:20:45,495  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- Executing method:post with uri: https://XXXXXXXXXXXXXXXXXXXXXXXX\r\n2022-05-11 10:20:45,498  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Params: null\r\n2022-05-11 10:20:45,501  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Headers: {Authorization=Bearer XXXXXXXXXXXXXXXXX, Content-Type=application/json}\r\n2022-05-11 10:20:45,503  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Timeout = 30000\r\n2022-05-11 10:20:45,506  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   User: null\r\n2022-05-11 10:20:45,508  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Pwd: null\r\n2022-05-11 10:20:45,511  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Charset: UTF-8\r\n2022-05-11 10:20:45,513  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   TrustCertificate: null\r\n2022-05-11 10:20:45,516  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   TrustCertificatePwd: null\r\n2022-05-11 10:20:45,519  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   FiatcClientCertificate: false\r\n2022-05-11 10:20:45,521  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Entity (class): java.lang.String\r\n2022-05-11 10:20:45,524  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   EntityCharset: null\r\n2022-05-11 10:20:45,526  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   EntityMimeType: application/json\r\n2022-05-11 10:20:45,529  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Preemptive_authentication: false\r\n2022-05-11 10:20:52,141  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- Executing request POST XXXXXXXXXXXXXXXXXXXXXX HTTP/1.1\r\n2022-05-11 10:20:53,755  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- RESULT = {headers={content-type=application/json, transfer-encoding=chunked, vary=Accept-Encoding, expires=Thu, 19 Nov 1981 08:52:00 GMT, cache-control=no-cache, pragma=no-cache, set-cookie=lang=es; expires=Fri, 10-Jun-2022 08:21:01 GMT; Max-Age=2592000; path=/; secure, date=Wed, 11 May 2022 08:21:01 GMT, strict-transport-security=max-age=31536000; includeSubDomains; preload, x-xss-protection=1;mode=block, x-content-type-options=nosniff, connection=close}, status_code=200, reason_phrase=OK, content=[B@166a7559}\r\n2022-05-11 10:20:53,756  ERROR [es.fiatc.sld_guia_medica.dao.APIDao.callAPIPost]- \r\n{headers={content-type=application/json, transfer-encoding=chunked, vary=Accept-Encoding, expires=Thu, 19 Nov 1981 08:52:00 GMT, cache-control=no-cache, pragma=no-cache, set-cookie=lang=es; expires=Fri, 10-Jun-2022 08:21:01 GMT; Max-Age=2592000; path=/; secure, date=Wed, 11 May 2022 08:21:01 GMT, strict-transport-security=max-age=31536000; includeSubDomains; preload, x-xss-protection=1;mode=block, x-content-type-options=nosniff, connection=close}, **status_code=200, reason_phrase=OK, content=[B@166a7559}**\r\n2022-05-11 10:20:54,935  INFO  [es.fiatc.sld_guia_medica.tuotempo.actions.TuotempoAseguradoAction.execute]- \r\n\r\n**{&quot;result&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;A valid Userid is needed&quot;,&quot;sessionid&quot;:null,&quot;execution_time&quot;:506,&quot;net_execution_time&quot;:506}**\r\n\r\n\r\nAn example of the JSONObject that i send:\r\n\r\n{&quot;email&quot;:&quot;&quot;,&quot;userlid&quot;:&quot;008368790204&quot;,&quot;idnumber&quot;:&quot;XXXXXXX&quot;,&quot;idtype&quot;:&quot;1&quot;,&quot;mobile_number&quot;:&quot;666666666&quot;,&quot;privacy&quot;:&quot;1&quot;,&quot;fname&quot;:&quot;MARIA DEL CARMEN&quot;,&quot;lname&quot;:&quot;OSUNA&quot;,&quot;gender&quot;:&quot;F&quot;,&quot;date_of_birth&quot;:&quot;1969-07-02&quot;,&quot;lname2&quot;:&quot;NU&#209;EZ&quot;,&quot;language&quot;:&quot;es&quot;} \r\n\r\nIf the special character in lname2 disappear the api call works fine.\r\n\r\n\r\n\r\nEdit 3:\r\n\r\nwhile i can not post all of my java for the call these are the encoding relevant parts: \r\n\r\n\r\n    public static Map execute(String method, String url, Map&lt;String, String&gt; params, Map&lt;String, String&gt; headers, \r\n                String user, String pwd, String trustCertificate, String trustCertificateClave, String charset, \r\n                Integer timeout, Object entityRequest, String entityCharset, String entityMimeType, \r\n                boolean preemtiveAuth, boolean fiatcCertificate) throws Exception   {\r\n            // Default values\r\n            if (charset == null) charset = &quot;UTF-8&quot;;\r\n            if (timeout == null) timeout = 30000;\r\n    \r\n            // URI\r\n            URI uri = new URI(url);\r\n            \r\n\r\n---------------------------------------------------------------\r\n\r\n   \r\n        // Creamos get o post\r\n        if (StringUtils.equals(StringUtils.trim(method), &quot;post&quot;))\r\n        {\r\n            // Creamos post\r\n            HttpPost httpPost = new HttpPost(url);\r\n\r\n            // Insertamos params en post\r\n            if (formparams != null)\r\n            {\r\n                UrlEncodedFormEntity entity = new UrlEncodedFormEntity(formparams, charset);\r\n                httpPost.setEntity(entity);                \r\n            }\r\n            \r\n            // Insertamos entity en post (tambi&#233;n multiparts,...)\r\n            insertEntity(httpPost, null, entityRequest, entityMimeType, entityCharset);\r\n\r\n            // Ponemos en uriRequest\r\n            httpPost.setConfig(requestConfig);            \r\n            uriRequest = httpPost;\r\n        }\r\n\r\n-------------------------------------------------------\r\n\r\n      private static void insertEntity(HttpPost httpPost, HttpPut httpPut, Object entityRequest, String entityMimeType, String entityCharset) throws UnsupportedEncodingException\r\n        {\r\n            // Miramos si existe entidad\r\n            if (entityRequest == null) return;\r\n            \r\n            // Creamos contentType\r\n            ContentType contentType = null;\r\n            if (entityMimeType != null)\r\n            {\r\n                if (entityCharset == null)  contentType = ContentType.create(entityMimeType);\r\n                else                        contentType = ContentType.create(entityMimeType, entityCharset);\r\n            }\r\n\r\n--------------------------------------------------------\r\n\r\nThe postman call: [![enter image description here][2]][2]\r\n\r\nAgain, sorry for any format error in the way i make my question\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3jpAc.png\r\n  [2]: https://i.stack.imgur.com/dpAGz.png","title":"Java API POST Call with special characters","body":"<p>I currently have a POST call with HTTPClient framework using JAVA, the method is not ours and i have found an interesting problem with the special characters.</p>\n<ol>\n<li>The call is sending a JSON Object, not using URL parameters.</li>\n<li>The call works well in my code and in postman but, if I put some special characters in the mix, the HTTPClient fails (but in postman keep working fine).</li>\n</ol>\n<p>I am almost completely sure that my problem is that I am missing some header about my encoding but I don´t know which one i have to include in my call and i found very few info about this.</p>\n<p>Example of the calls. (I will delete a few things for Data Security).</p>\n<p>This are the Headers for the POSTMAN Call:</p>\n<p><a href=\"https://i.stack.imgur.com/3jpAc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3jpAc.png\" alt=\"POSTMAN HEADERS:\" /></a></p>\n<p>And this is are the Ones for my HTTPClient call:</p>\n<p><code>headers={Authorization=Bearer XXXXXXXXXXXXXXXX, Accept-Encoding=gzip, deflate, br, Content-Type=application/json}</code></p>\n<p>As you can see, i am sure the problem is here, but i don´t know which parameter i have to inform and more importantly, why.</p>\n<p>PD: I have checked before but didn´t found any similar questions around here.</p>\n<p>Thanks for the help</p>\n<p>Edit for clearance:</p>\n<p>When i say &quot;put some special characters in the mix&quot; One of the multiple variables that i send iinside my JSON Object is a String that can contain special characters, to be more specific, we are sending first names and last names, and the actual problem is about the character 'Ñ'.</p>\n<p>Thanks for the question Scary Wombat.</p>\n<p>Edit2:</p>\n<p>The api call in my LOG:</p>\n<p>2022-05-11 10:20:45,118  ERROR [es.fiatc.http_client.GenericOperation.execute]- INFO: javax.net.ssl.trustStore = null\n2022-05-11 10:20:45,495  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- Executing method:post with uri: https://XXXXXXXXXXXXXXXXXXXXXXXX\n2022-05-11 10:20:45,498  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Params: null\n2022-05-11 10:20:45,501  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Headers: {Authorization=Bearer XXXXXXXXXXXXXXXXX, Content-Type=application/json}\n2022-05-11 10:20:45,503  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Timeout = 30000\n2022-05-11 10:20:45,506  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   User: null\n2022-05-11 10:20:45,508  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Pwd: null\n2022-05-11 10:20:45,511  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Charset: UTF-8\n2022-05-11 10:20:45,513  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   TrustCertificate: null\n2022-05-11 10:20:45,516  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   TrustCertificatePwd: null\n2022-05-11 10:20:45,519  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   FiatcClientCertificate: false\n2022-05-11 10:20:45,521  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Entity (class): java.lang.String\n2022-05-11 10:20:45,524  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   EntityCharset: null\n2022-05-11 10:20:45,526  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   EntityMimeType: application/json\n2022-05-11 10:20:45,529  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]-   Preemptive_authentication: false\n2022-05-11 10:20:52,141  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- Executing request POST XXXXXXXXXXXXXXXXXXXXXX HTTP/1.1\n2022-05-11 10:20:53,755  INFO  [es.fiatc.http_client.dao.HTTPDao.execute]- RESULT = {headers={content-type=application/json, transfer-encoding=chunked, vary=Accept-Encoding, expires=Thu, 19 Nov 1981 08:52:00 GMT, cache-control=no-cache, pragma=no-cache, set-cookie=lang=es; expires=Fri, 10-Jun-2022 08:21:01 GMT; Max-Age=2592000; path=/; secure, date=Wed, 11 May 2022 08:21:01 GMT, strict-transport-security=max-age=31536000; includeSubDomains; preload, x-xss-protection=1;mode=block, x-content-type-options=nosniff, connection=close}, status_code=200, reason_phrase=OK, content=[B@166a7559}\n2022-05-11 10:20:53,756  ERROR [es.fiatc.sld_guia_medica.dao.APIDao.callAPIPost]-\n{headers={content-type=application/json, transfer-encoding=chunked, vary=Accept-Encoding, expires=Thu, 19 Nov 1981 08:52:00 GMT, cache-control=no-cache, pragma=no-cache, set-cookie=lang=es; expires=Fri, 10-Jun-2022 08:21:01 GMT; Max-Age=2592000; path=/; secure, date=Wed, 11 May 2022 08:21:01 GMT, strict-transport-security=max-age=31536000; includeSubDomains; preload, x-xss-protection=1;mode=block, x-content-type-options=nosniff, connection=close}, <strong>status_code=200, reason_phrase=OK, content=[B@166a7559}</strong>\n2022-05-11 10:20:54,935  INFO  [es.fiatc.sld_guia_medica.tuotempo.actions.TuotempoAseguradoAction.execute]-</p>\n<p><strong>{&quot;result&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;A valid Userid is needed&quot;,&quot;sessionid&quot;:null,&quot;execution_time&quot;:506,&quot;net_execution_time&quot;:506}</strong></p>\n<p>An example of the JSONObject that i send:</p>\n<p>{&quot;email&quot;:&quot;&quot;,&quot;userlid&quot;:&quot;008368790204&quot;,&quot;idnumber&quot;:&quot;XXXXXXX&quot;,&quot;idtype&quot;:&quot;1&quot;,&quot;mobile_number&quot;:&quot;666666666&quot;,&quot;privacy&quot;:&quot;1&quot;,&quot;fname&quot;:&quot;MARIA DEL CARMEN&quot;,&quot;lname&quot;:&quot;OSUNA&quot;,&quot;gender&quot;:&quot;F&quot;,&quot;date_of_birth&quot;:&quot;1969-07-02&quot;,&quot;lname2&quot;:&quot;NUÑEZ&quot;,&quot;language&quot;:&quot;es&quot;}</p>\n<p>If the special character in lname2 disappear the api call works fine.</p>\n<p>Edit 3:</p>\n<p>while i can not post all of my java for the call these are the encoding relevant parts:</p>\n<pre><code>public static Map execute(String method, String url, Map&lt;String, String&gt; params, Map&lt;String, String&gt; headers, \n            String user, String pwd, String trustCertificate, String trustCertificateClave, String charset, \n            Integer timeout, Object entityRequest, String entityCharset, String entityMimeType, \n            boolean preemtiveAuth, boolean fiatcCertificate) throws Exception   {\n        // Default values\n        if (charset == null) charset = &quot;UTF-8&quot;;\n        if (timeout == null) timeout = 30000;\n\n        // URI\n        URI uri = new URI(url);\n        \n</code></pre>\n<hr />\n<pre><code>    // Creamos get o post\n    if (StringUtils.equals(StringUtils.trim(method), &quot;post&quot;))\n    {\n        // Creamos post\n        HttpPost httpPost = new HttpPost(url);\n\n        // Insertamos params en post\n        if (formparams != null)\n        {\n            UrlEncodedFormEntity entity = new UrlEncodedFormEntity(formparams, charset);\n            httpPost.setEntity(entity);                \n        }\n        \n        // Insertamos entity en post (también multiparts,...)\n        insertEntity(httpPost, null, entityRequest, entityMimeType, entityCharset);\n\n        // Ponemos en uriRequest\n        httpPost.setConfig(requestConfig);            \n        uriRequest = httpPost;\n    }\n</code></pre>\n<hr />\n<pre><code>  private static void insertEntity(HttpPost httpPost, HttpPut httpPut, Object entityRequest, String entityMimeType, String entityCharset) throws UnsupportedEncodingException\n    {\n        // Miramos si existe entidad\n        if (entityRequest == null) return;\n        \n        // Creamos contentType\n        ContentType contentType = null;\n        if (entityMimeType != null)\n        {\n            if (entityCharset == null)  contentType = ContentType.create(entityMimeType);\n            else                        contentType = ContentType.create(entityMimeType, entityCharset);\n        }\n</code></pre>\n<hr />\n<p>The postman call: <a href=\"https://i.stack.imgur.com/dpAGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpAGz.png\" alt=\"enter image description here\" /></a></p>\n<p>Again, sorry for any format error in the way i make my question</p>\n"},{"tags":["java","spring-boot","google-bigquery"],"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652349016,"creation_date":1652347593,"question_id":72213113,"body_markdown":"I am referring to this documentation for running a query in my spring boot app: https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/bigquery.html\r\n\r\nI am thinking of going on with something similar to this example they mentioned:\r\n```\r\n// BigQuery client object provided by our autoconfiguration.\r\n@Autowired\r\nBigQuery bigquery;\r\n\r\npublic void runQuery() throws InterruptedException {\r\n  String query = &quot;SELECT column FROM table;&quot;;\r\n  QueryJobConfiguration queryConfig =\r\n      QueryJobConfiguration.newBuilder(query).build();\r\n\r\n  // Run the query using the BigQuery object\r\n  for (FieldValueList row : bigquery.query(queryConfig).iterateAll()) {\r\n    for (FieldValue val : row) {\r\n      System.out.println(val);\r\n    }\r\n  }\r\n}\r\n```\r\nHowever, there are some questions I have, they mentioned that The GcpBigQueryAutoConfiguration class configures an instance of BigQuery for you by inferring your credentials and Project ID from the machine’s environment, and also in the configuration section they mentioned ```spring.cloud.gcp.bigquery.datasetName``` is The BigQuery dataset that the BigQueryTemplate and BigQueryFileMessageHandler is scoped to and that it&#39;s required.\r\n\r\nbut what if I am having different projects and different datasets I want to use based on different conditions in my code, will it be enough to define the credential in the machine&#39;s environment, and use and in the part in which the query is defined, I can concentenate the project id and dataset name to the table to be something like this:\r\n\r\n```String query = &quot;SELECT column FROM &lt;project_id&gt;+&lt;dataset&gt;+&lt;table&gt;;&quot;;```\r\n\r\nis this correct or should I do with better way?\r\n\r\nEDIT:\r\nand the second question is, what if I need to apply where condition in the query should it will be easily done by string concatenation enough also? for example like this:\r\n\r\nbecause I found some resource is dealing with it like this:\r\n```String query = &quot;SELECT column FROM &lt;project_id&gt;+&lt;dataset&gt;+&lt;table&gt; where id =&lt;ID&gt;;&quot;;```\r\n\r\n```\r\n    final var queryJobConfiguration = QueryJobConfiguration\r\n        .newBuilder(&quot;SELECT * FROM &quot; + tableId.getTable() + &quot; WHERE id=@id&quot;)\r\n        .addNamedParameter(&quot;id&quot;, QueryParameterValue.numeric(BigDecimal.valueOf(userId)))\r\n        .setDefaultDataset(dataset)\r\n        .build();\r\n\r\n```\r\n\r\nI don&#39;t know why they used ```.addNamedParameter````","title":"using bigquery in spring boot microservice","body":"<p>I am referring to this documentation for running a query in my spring boot app: <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/bigquery.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/bigquery.html</a></p>\n<p>I am thinking of going on with something similar to this example they mentioned:</p>\n<pre><code>// BigQuery client object provided by our autoconfiguration.\n@Autowired\nBigQuery bigquery;\n\npublic void runQuery() throws InterruptedException {\n  String query = &quot;SELECT column FROM table;&quot;;\n  QueryJobConfiguration queryConfig =\n      QueryJobConfiguration.newBuilder(query).build();\n\n  // Run the query using the BigQuery object\n  for (FieldValueList row : bigquery.query(queryConfig).iterateAll()) {\n    for (FieldValue val : row) {\n      System.out.println(val);\n    }\n  }\n}\n</code></pre>\n<p>However, there are some questions I have, they mentioned that The GcpBigQueryAutoConfiguration class configures an instance of BigQuery for you by inferring your credentials and Project ID from the machine’s environment, and also in the configuration section they mentioned <code>spring.cloud.gcp.bigquery.datasetName</code> is The BigQuery dataset that the BigQueryTemplate and BigQueryFileMessageHandler is scoped to and that it's required.</p>\n<p>but what if I am having different projects and different datasets I want to use based on different conditions in my code, will it be enough to define the credential in the machine's environment, and use and in the part in which the query is defined, I can concentenate the project id and dataset name to the table to be something like this:</p>\n<p><code>String query = &quot;SELECT column FROM &lt;project_id&gt;+&lt;dataset&gt;+&lt;table&gt;;&quot;;</code></p>\n<p>is this correct or should I do with better way?</p>\n<p>EDIT:\nand the second question is, what if I need to apply where condition in the query should it will be easily done by string concatenation enough also? for example like this:</p>\n<p>because I found some resource is dealing with it like this:\n<code>String query = &quot;SELECT column FROM &lt;project_id&gt;+&lt;dataset&gt;+&lt;table&gt; where id =&lt;ID&gt;;&quot;;</code></p>\n<pre><code>    final var queryJobConfiguration = QueryJobConfiguration\n        .newBuilder(&quot;SELECT * FROM &quot; + tableId.getTable() + &quot; WHERE id=@id&quot;)\n        .addNamedParameter(&quot;id&quot;, QueryParameterValue.numeric(BigDecimal.valueOf(userId)))\n        .setDefaultDataset(dataset)\n        .build();\n\n</code></pre>\n<p>I don't know why they used ```.addNamedParameter````</p>\n"},{"tags":["java","threadpool","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652348938,"creation_date":1652348938,"answer_id":72213430,"question_id":72212965,"body_markdown":"You don&#39;t want to do this:\r\n\r\n    System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\r\n\r\nThe `Stream.count()` method is a terminal operation. It will stream all of your queue items off your queue while counting them, so the queue will end up being empty even if your println reports it as not empty. Use `blockingQueue.size()` instead.\r\n\r\nYou should not lock the queue when removing an element from it. BlockingQueues are designed to be used from multiple threads concurrently.","title":"ThreadPool reject tasks when queue is full using RejectedExecutionHandler","body":"<p>You don't want to do this:</p>\n<pre><code>System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\n</code></pre>\n<p>The <code>Stream.count()</code> method is a terminal operation. It will stream all of your queue items off your queue while counting them, so the queue will end up being empty even if your println reports it as not empty. Use <code>blockingQueue.size()</code> instead.</p>\n<p>You should not lock the queue when removing an element from it. BlockingQueues are designed to be used from multiple threads concurrently.</p>\n"}],"owner":{"account_id":153244,"reputation":12386,"user_id":368364,"accept_rate":96,"display_name":"RBA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652348938,"creation_date":1652346960,"question_id":72212965,"body_markdown":"I know that are lots of questions on this subject but I&#39;m not sure that I found the correct way of doing this. \r\n\r\nWhat I want: having a ThreadPoolExecutor with a constant number of threads, submit tasks to it. When the internal queue of the ThreadPoolExecutor is full, use a custom RejectedExecutionHandler to reject the last(or first) task submitted to thread pool executor which is in queue(in my example is the last one). I&#39;ve made some tests and a simple example, but still not sure if this is the right way to do it:\r\n\r\n     import java.util.concurrent.*;\r\n    \r\n    class TestThread implements Runnable {\r\n        public int id;\r\n    \r\n        public TestThread(int i) {\r\n            id = i;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Thread.sleep(20_000);\r\n                System.out.println(&quot; finished task &quot; + id);\r\n            } catch (InterruptedException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            LinkedBlockingDeque&lt;Runnable&gt; blockingQueue = new LinkedBlockingDeque&lt;&gt;(10);\r\n    \r\n            ThreadPoolExecutor executor = new ThreadPoolExecutor(2,\r\n                    2,\r\n                    10L,\r\n                    TimeUnit.MINUTES,\r\n                    blockingQueue,\r\n                    (r, executor1) -&gt; {\r\n                        TestThread r1 = (TestThread) blockingQueue.removeLast();\r\n                        System.out.println(&quot;removed &quot; + r1.id);\r\n                    });\r\n            executor.prestartAllCoreThreads();\r\n    \r\n    \r\n            int i = 0;\r\n            while (i &lt;= 15) {\r\n                TestThread testThread = new TestThread(i);\r\n                System.out.println(&quot;submit task &quot; + i);\r\n                executor.execute(testThread);\r\n                System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\r\n                i++;\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            i = 0;\r\n            while (i &lt;= 5) {\r\n                TestThread testThread1 = new TestThread(i);\r\n                System.out.println(&quot;submit task &quot; + i);\r\n                executor.execute(testThread1);\r\n                System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\r\n                i++;\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            try {\r\n                executor.shutdown();\r\n                executor.awaitTermination(10L, TimeUnit.SECONDS);\r\n            } catch (InterruptedException e) {\r\n                executor.shutdownNow();\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nDo I miss something here?\r\n\r\nLE: do I need to lock the queue when removing the element from it?","title":"ThreadPool reject tasks when queue is full using RejectedExecutionHandler","body":"<p>I know that are lots of questions on this subject but I'm not sure that I found the correct way of doing this.</p>\n<p>What I want: having a ThreadPoolExecutor with a constant number of threads, submit tasks to it. When the internal queue of the ThreadPoolExecutor is full, use a custom RejectedExecutionHandler to reject the last(or first) task submitted to thread pool executor which is in queue(in my example is the last one). I've made some tests and a simple example, but still not sure if this is the right way to do it:</p>\n<pre><code> import java.util.concurrent.*;\n\nclass TestThread implements Runnable {\n    public int id;\n\n    public TestThread(int i) {\n        id = i;\n    }\n\n    @Override\n    public void run() {\n        try {\n            Thread.sleep(20_000);\n            System.out.println(&quot; finished task &quot; + id);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n\npublic class Application {\n    public static void main(String[] args) {\n        LinkedBlockingDeque&lt;Runnable&gt; blockingQueue = new LinkedBlockingDeque&lt;&gt;(10);\n\n        ThreadPoolExecutor executor = new ThreadPoolExecutor(2,\n                2,\n                10L,\n                TimeUnit.MINUTES,\n                blockingQueue,\n                (r, executor1) -&gt; {\n                    TestThread r1 = (TestThread) blockingQueue.removeLast();\n                    System.out.println(&quot;removed &quot; + r1.id);\n                });\n        executor.prestartAllCoreThreads();\n\n\n        int i = 0;\n        while (i &lt;= 15) {\n            TestThread testThread = new TestThread(i);\n            System.out.println(&quot;submit task &quot; + i);\n            executor.execute(testThread);\n            System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\n            i++;\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        i = 0;\n        while (i &lt;= 5) {\n            TestThread testThread1 = new TestThread(i);\n            System.out.println(&quot;submit task &quot; + i);\n            executor.execute(testThread1);\n            System.out.println(&quot;queue size &quot; + blockingQueue.stream().count());\n            i++;\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        try {\n            executor.shutdown();\n            executor.awaitTermination(10L, TimeUnit.SECONDS);\n        } catch (InterruptedException e) {\n            executor.shutdownNow();\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Do I miss something here?</p>\n<p>LE: do I need to lock the queue when removing the element from it?</p>\n"},{"tags":["java","jpa","orm"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652347988,"post_id":72213152,"comment_id":127586347,"body_markdown":"Which ORM is this? It looks like JPA XML, so probably Hibernate?","body":"Which ORM is this? It looks like JPA XML, so probably Hibernate?"},{"owner":{"account_id":25268030,"reputation":3,"user_id":19097816,"display_name":"MarcW"},"score":0,"creation_date":1652348321,"post_id":72213152,"comment_id":127586474,"body_markdown":"Oh i am sorry, i am new to this. I have edited the Question :) Thank you for your patience^^","body":"Oh i am sorry, i am new to this. I have edited the Question :) Thank you for your patience^^"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652348337,"post_id":72213152,"comment_id":127586484,"body_markdown":"In any case, it sounds like your teacher is hung-up on the semantics of the word query, which some interpret as &quot;something that produce a result set&quot; (your teacher), while others interpret it broader as &quot;any DML statement&quot; (the JPA specification in this case). In short, your current definition seems to be correct. The difference between `named-query` is that it accepts JPQL, while `named-native-query` accepts SQL in the native dialect of your target database system.","body":"In any case, it sounds like your teacher is hung-up on the semantics of the word query, which some interpret as &quot;something that produce a result set&quot; (your teacher), while others interpret it broader as &quot;any DML statement&quot; (the JPA specification in this case). In short, your current definition seems to be correct. The difference between <code>named-query</code> is that it accepts JPQL, while <code>named-native-query</code> accepts SQL in the native dialect of your target database system."},{"owner":{"account_id":25268030,"reputation":3,"user_id":19097816,"display_name":"MarcW"},"score":0,"creation_date":1652348808,"post_id":72213152,"comment_id":127586646,"body_markdown":"@MarkRotteveel Alright Thank you Sir :) Then i ll not modify anything. Have a nice Day ^^","body":"@MarkRotteveel Alright Thank you Sir :) Then i ll not modify anything. Have a nice Day ^^"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652348890,"creation_date":1652348890,"answer_id":72213418,"question_id":72213152,"body_markdown":"The term _&quot;query&quot;_ is used rather ambiguously. Some people interpret it literally as &quot;asking for information&quot;, meaning only select statements or other things producing a result set fall under this term, while others interpret it more broadly as any DML (Data Manipulation Language, i.e. select, insert, update, delete, merge, etc) statement.\r\n\r\nYour teacher seems to fall in the first category, while the people who created the Jakarta Persistence API (JPA) fall into the second category. So, in a sense you&#39;re both right, in the first interpretation, an update statement is not a &quot;query&quot;, but in the second interpretation, which is used by JPA, it is a &quot;query&quot;. \r\n\r\nHowever, given the context, your interpretation is the better one.","title":"Update statement is no query?","body":"<p>The term <em>&quot;query&quot;</em> is used rather ambiguously. Some people interpret it literally as &quot;asking for information&quot;, meaning only select statements or other things producing a result set fall under this term, while others interpret it more broadly as any DML (Data Manipulation Language, i.e. select, insert, update, delete, merge, etc) statement.</p>\n<p>Your teacher seems to fall in the first category, while the people who created the Jakarta Persistence API (JPA) fall into the second category. So, in a sense you're both right, in the first interpretation, an update statement is not a &quot;query&quot;, but in the second interpretation, which is used by JPA, it is a &quot;query&quot;.</p>\n<p>However, given the context, your interpretation is the better one.</p>\n"}],"owner":{"account_id":25268030,"reputation":3,"user_id":19097816,"display_name":"MarcW"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72213418,"answer_count":1,"score":0,"last_activity_date":1652348890,"creation_date":1652347767,"question_id":72213152,"body_markdown":"How do I define the update statement in the orm.xml. I have it as a named-query and everything works, but my teacher said that an update statement isn&#39;t a query. I have tried a native query, but that wasn&#39;t working.\r\n\r\nORM-Type:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;entity-mappings version=&quot;1.0&quot;\r\n\txmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm orm_1_0.xsd&quot;&gt;\r\n```\r\n\r\nUpdate Statement:\r\n```xml\r\n&lt;named-query name=&quot;updateTshirts&quot;&gt;\r\n\t&lt;query&gt;\r\n\t\tupdate Tshirt tshirt Set tshirt.bEdit = :bedit, tshirt.farbe = :farbe,\r\n\t\ttshirt.groesse = :groesse, tshirt.markenName = :markenname where\r\n\t\ttshirt.tID = :tid\r\n\t&lt;/query&gt;\r\n&lt;/named-query&gt;\r\n```\r\n\r\n","title":"Update statement is no query?","body":"<p>How do I define the update statement in the orm.xml. I have it as a named-query and everything works, but my teacher said that an update statement isn't a query. I have tried a native query, but that wasn't working.</p>\n<p>ORM-Type:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;entity-mappings version=&quot;1.0&quot;\n    xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm orm_1_0.xsd&quot;&gt;\n</code></pre>\n<p>Update Statement:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;named-query name=&quot;updateTshirts&quot;&gt;\n    &lt;query&gt;\n        update Tshirt tshirt Set tshirt.bEdit = :bedit, tshirt.farbe = :farbe,\n        tshirt.groesse = :groesse, tshirt.markenName = :markenname where\n        tshirt.tID = :tid\n    &lt;/query&gt;\n&lt;/named-query&gt;\n</code></pre>\n"},{"tags":["java","openstreetmap","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1652116613,"post_id":72171965,"comment_id":127523231,"body_markdown":"Why do you call paint? Can you show us a minimum working example?","body":"Why do you call paint? Can you show us a minimum working example?"},{"owner":{"account_id":5933784,"reputation":41,"user_id":4667495,"display_name":"adrbessy"},"score":0,"creation_date":1652254012,"post_id":72171965,"comment_id":127558861,"body_markdown":"@IanTurton,\nI added a minimum working example.","body":"@IanTurton, I added a minimum working example."}],"owner":{"account_id":5933784,"reputation":41,"user_id":4667495,"display_name":"adrbessy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652348615,"creation_date":1652099094,"question_id":72171965,"body_markdown":"When I add osm service in a mapContent \r\n\r\n    mapContent.addLayer(new AsyncTileLayer(new OSMService(&quot;Mapnik&quot;, &quot;http://tile.openstreetmap.org/&quot;)));\r\n\r\n\r\n\r\nThen when I use the paint method of StreamingRenderer class, there is an infinite run.\r\nMore precisely the infinite run occurs in the line 563 of the StreamingRenderer class file with :\r\n\r\n    painterFuture.get();\r\n\r\nI call paint method to paint what I add to the mapContent, i.e. here the layer and the osm map.\r\n\r\n    MapContent mapContent = new MapContent();\r\n    mapContent.addLayer(layer);\r\n    mapContent.addLayer(new AsyncTileLayer(new OSMService(&quot;Mapnik&quot;, &quot;http://tile.openstreetmap.org/&quot;)));\r\n    mapContent.getViewport().setBounds(layer.getBounds());\r\n    \r\n    GTRenderer renderer = new StreamingRenderer();\r\n    renderer.setMapContent(mapContent);\r\n    \r\n    Rectangle imageBounds;\r\n    ReferencedEnvelope mapBounds;\r\n    try {\r\n        mapBounds = map.getMaxBounds();\r\n        double heightToWidth = mapBounds.getSpan(1) / mapBounds.getSpan(0);\r\n        imageBounds = new Rectangle(5, 5, 1000, (int) Math.round(1000 * heightToWidth) + 20);\r\n    } catch (Exception e) {\r\n        // failed to access map layers\r\n        throw new RuntimeException(e);\r\n    }\r\n    BufferedImage mapBufferedImage = new BufferedImage(imageBounds.width, imageBounds.height, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D gr = mapBufferedImage.createGraphics();\r\n    renderer.paint(gr, imageBounds, mapBounds);\r\n\r\nHere is the content of the painterFuture object : state = 0, callable = java.util.concurrent.Executors$RunnableAdapter@3533df16[Wrapped task = org.geotools.renderer.lite.StreamingRenderer$PainterThread@15d0849], outcome = null, runner = &quot;Thread[pool-1-thread-1,5,main]&quot;, waiters = null\r\n\r\nWhen there is just the featureLayer and not the osm service, the painterFuture object is marked as Completed normally and contains : state = 2, callable = null, outcome = null, runner = null, waiters = null.\r\n\r\nThank you.","title":"Infinite run after adding osm service in a map content and using the paint method of the StreamingRenderer class","body":"<p>When I add osm service in a mapContent</p>\n<pre><code>mapContent.addLayer(new AsyncTileLayer(new OSMService(&quot;Mapnik&quot;, &quot;http://tile.openstreetmap.org/&quot;)));\n</code></pre>\n<p>Then when I use the paint method of StreamingRenderer class, there is an infinite run.\nMore precisely the infinite run occurs in the line 563 of the StreamingRenderer class file with :</p>\n<pre><code>painterFuture.get();\n</code></pre>\n<p>I call paint method to paint what I add to the mapContent, i.e. here the layer and the osm map.</p>\n<pre><code>MapContent mapContent = new MapContent();\nmapContent.addLayer(layer);\nmapContent.addLayer(new AsyncTileLayer(new OSMService(&quot;Mapnik&quot;, &quot;http://tile.openstreetmap.org/&quot;)));\nmapContent.getViewport().setBounds(layer.getBounds());\n\nGTRenderer renderer = new StreamingRenderer();\nrenderer.setMapContent(mapContent);\n\nRectangle imageBounds;\nReferencedEnvelope mapBounds;\ntry {\n    mapBounds = map.getMaxBounds();\n    double heightToWidth = mapBounds.getSpan(1) / mapBounds.getSpan(0);\n    imageBounds = new Rectangle(5, 5, 1000, (int) Math.round(1000 * heightToWidth) + 20);\n} catch (Exception e) {\n    // failed to access map layers\n    throw new RuntimeException(e);\n}\nBufferedImage mapBufferedImage = new BufferedImage(imageBounds.width, imageBounds.height, BufferedImage.TYPE_INT_ARGB);\nGraphics2D gr = mapBufferedImage.createGraphics();\nrenderer.paint(gr, imageBounds, mapBounds);\n</code></pre>\n<p>Here is the content of the painterFuture object : state = 0, callable = java.util.concurrent.Executors$RunnableAdapter@3533df16[Wrapped task = org.geotools.renderer.lite.StreamingRenderer$PainterThread@15d0849], outcome = null, runner = &quot;Thread[pool-1-thread-1,5,main]&quot;, waiters = null</p>\n<p>When there is just the featureLayer and not the osm service, the painterFuture object is marked as Completed normally and contains : state = 2, callable = null, outcome = null, runner = null, waiters = null.</p>\n<p>Thank you.</p>\n"},{"tags":["java","backend","entity","ngrx"],"owner":{"account_id":3477424,"reputation":11,"user_id":2910295,"display_name":"user2910295"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652348588,"creation_date":1652348588,"question_id":72213343,"body_markdown":"I am currently struggling with deleting multiple entities and the save multiple entities pattern in NgRx. Here is the current problem:\r\n\r\nMy UI EntityCacheService:\r\n\r\n```\r\n@Injectable({ providedIn: &#39;root&#39; })\r\nexport class PlayerService extends EntityCollectionServiceBase&lt;Player&gt; {\r\n\r\n  changes: ChangeSetItem[] = [];\r\n\r\n  constructor(serviceElementsFactory: EntityCollectionServiceElementsFactory,\r\n              private entityCacheDispatcher: EntityCacheDispatcher) {\r\n    super(&#39;Player&#39;, serviceElementsFactory);\r\n  }\r\n\r\n  public createPlayerToBatch(players: Player) {\r\n    let cs = new ChangeSetItemFactory().add(&quot;Player&quot;, players);\r\n    this.changes.push(cs);\r\n  }\r\n\r\n  public updatePlayerToBatch(players: Player) {\r\n    let cs = new ChangeSetItemFactory().update&lt;Player&gt;(&quot;Player&quot;, {id: players.id, changes: players});\r\n    this.changes.push(cs);\r\n  }\r\n\r\n  // TODO: wrong type in backend here ...\r\n  public deletePlayerToBatch(players: Player) {\r\n    let cs = new ChangeSetItemFactory().delete(&quot;Player&quot;, players.id.toString());\r\n    this.changes.push(cs);\r\n  }\r\n\r\n  public resetChanges() {\r\n    this.changes = [];\r\n  }\r\n\r\n  public saveChangesToDatabase() {\r\n    console.log(&quot;ChangeSetItems: &quot;, this.changes);\r\n\r\n    if(this.changes.length == 0) {\r\n      // no changes\r\n    }\r\n\r\n    // https://blog.angular-university.io/ngrx-entity/\r\n    this.entityCacheDispatcher.saveEntities(this.changes, environment.baseURL + &#39;player/crud/dispatcher&#39;)\r\n        .pipe(\r\n            map(response =&gt; response)\r\n        );\r\n  }\r\n```\r\n\r\nMy Rest Endpoint looks like:\r\n\r\n```\r\n@POST\r\n    @Path(&quot;player/crud/dispatcher&quot;)\r\n    public Response multipleCrudDispatcher(ChangeSet&lt;Player&gt; cs) {\r\n\r\n        ChangeItem&lt;Player&gt;[] items;\r\n        items = cs.getChanges();\r\n\r\n        Arrays.stream(items).forEach(changeItem -&gt; {\r\n\r\n            // Get alle affected entities from change item\r\n            switch (changeItem.getOp()) {\r\n                case Add:\r\n                    System.out.println(&quot;ADD&quot;);\r\n                    // Make the update database logic\r\n                    handelAdd(changeItem.getEntities());\r\n                    break;\r\n                case Delete:\r\n                    System.out.println(&quot;DELETE&quot; );\r\n                    // Make the update database logic\r\n                    //handelDelete((String[]) changeItem.getEntities());\r\n                    break;\r\n                case Update:\r\n                    System.out.println(&quot;UPDATE&quot;);\r\n                    // Make the update database logic\r\n                    handelUpdates(changeItem.getEntities());\r\n                    break;\r\n                case Upsert:\r\n                    System.out.println(&quot;UPSERT&quot;);\r\n\r\n                    break;\r\n                default:\r\n\r\n            }\r\n        });\r\n\r\n        return Response.ok(cs).build();\r\n    }\r\n````\r\n\r\nThe endpoint expects a changeSet of type &quot;Player&quot; in the backend, the same structure that comes from the frontend. This works also with create, upsert, update all very well, because they also contain a list of player objects. But with DELETE it doesn&#39;t work :-(. The DELETE expects an ID list with strings or numbers ... which leads to an error in the backend, because Java tries to create a player object. Does anyone have an idea how I can solve this unsightly problem?\r\n\r\n","title":"Ngrx entity (data) multiple entity delete wrong types included for a rest backend","body":"<p>I am currently struggling with deleting multiple entities and the save multiple entities pattern in NgRx. Here is the current problem:</p>\n<p>My UI EntityCacheService:</p>\n<pre><code>@Injectable({ providedIn: 'root' })\nexport class PlayerService extends EntityCollectionServiceBase&lt;Player&gt; {\n\n  changes: ChangeSetItem[] = [];\n\n  constructor(serviceElementsFactory: EntityCollectionServiceElementsFactory,\n              private entityCacheDispatcher: EntityCacheDispatcher) {\n    super('Player', serviceElementsFactory);\n  }\n\n  public createPlayerToBatch(players: Player) {\n    let cs = new ChangeSetItemFactory().add(&quot;Player&quot;, players);\n    this.changes.push(cs);\n  }\n\n  public updatePlayerToBatch(players: Player) {\n    let cs = new ChangeSetItemFactory().update&lt;Player&gt;(&quot;Player&quot;, {id: players.id, changes: players});\n    this.changes.push(cs);\n  }\n\n  // TODO: wrong type in backend here ...\n  public deletePlayerToBatch(players: Player) {\n    let cs = new ChangeSetItemFactory().delete(&quot;Player&quot;, players.id.toString());\n    this.changes.push(cs);\n  }\n\n  public resetChanges() {\n    this.changes = [];\n  }\n\n  public saveChangesToDatabase() {\n    console.log(&quot;ChangeSetItems: &quot;, this.changes);\n\n    if(this.changes.length == 0) {\n      // no changes\n    }\n\n    // https://blog.angular-university.io/ngrx-entity/\n    this.entityCacheDispatcher.saveEntities(this.changes, environment.baseURL + 'player/crud/dispatcher')\n        .pipe(\n            map(response =&gt; response)\n        );\n  }\n</code></pre>\n<p>My Rest Endpoint looks like:</p>\n<pre><code>@POST\n    @Path(&quot;player/crud/dispatcher&quot;)\n    public Response multipleCrudDispatcher(ChangeSet&lt;Player&gt; cs) {\n\n        ChangeItem&lt;Player&gt;[] items;\n        items = cs.getChanges();\n\n        Arrays.stream(items).forEach(changeItem -&gt; {\n\n            // Get alle affected entities from change item\n            switch (changeItem.getOp()) {\n                case Add:\n                    System.out.println(&quot;ADD&quot;);\n                    // Make the update database logic\n                    handelAdd(changeItem.getEntities());\n                    break;\n                case Delete:\n                    System.out.println(&quot;DELETE&quot; );\n                    // Make the update database logic\n                    //handelDelete((String[]) changeItem.getEntities());\n                    break;\n                case Update:\n                    System.out.println(&quot;UPDATE&quot;);\n                    // Make the update database logic\n                    handelUpdates(changeItem.getEntities());\n                    break;\n                case Upsert:\n                    System.out.println(&quot;UPSERT&quot;);\n\n                    break;\n                default:\n\n            }\n        });\n\n        return Response.ok(cs).build();\n    }\n</code></pre>\n<p>The endpoint expects a changeSet of type &quot;Player&quot; in the backend, the same structure that comes from the frontend. This works also with create, upsert, update all very well, because they also contain a list of player objects. But with DELETE it doesn't work :-(. The DELETE expects an ID list with strings or numbers ... which leads to an error in the backend, because Java tries to create a player object. Does anyone have an idea how I can solve this unsightly problem?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1652341994,"post_id":72211759,"comment_id":127584248,"body_markdown":"Please provide a minimal reproducible example. https://stackoverflow.com/help/minimal-reproducible-example","body":"Please provide a minimal reproducible example. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1652342160,"post_id":72211759,"comment_id":127584300,"body_markdown":"Can you please use shorter names (a few letters) for your classes so your question is clearer?","body":"Can you please use shorter names (a few letters) for your classes so your question is clearer?"}],"answers":[{"tags":[],"owner":{"account_id":1338166,"reputation":1491,"user_id":1280414,"display_name":"Sergej Christoforov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652341990,"creation_date":1652341990,"answer_id":72211901,"question_id":72211759,"body_markdown":"`S` extends `DefaultLiteProcessScope`, so you&#39;re trying to return the parent class instance instead of child class instance. ","title":"why is this still need to cast in java?","body":"<p><code>S</code> extends <code>DefaultLiteProcessScope</code>, so you're trying to return the parent class instance instead of child class instance.</p>\n"},{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652342207,"creation_date":1652342207,"answer_id":72211949,"question_id":72211759,"body_markdown":"The reason is that the code is wrong.\r\n\r\n```\r\npublic class MyOtherFactory&lt;SubclassOfDefaultLiteProcessScope&gt; {}\r\n\r\n```\r\n\r\nwill break because DefaultLiteProcessScope is not a SubclassOfDefaultLiteProcessScope.","title":"why is this still need to cast in java?","body":"<p>The reason is that the code is wrong.</p>\n<pre><code>public class MyOtherFactory&lt;SubclassOfDefaultLiteProcessScope&gt; {}\n\n</code></pre>\n<p>will break because DefaultLiteProcessScope is not a SubclassOfDefaultLiteProcessScope.</p>\n"},{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652342280,"creation_date":1652342280,"answer_id":72211963,"question_id":72211759,"body_markdown":"Your code would throw a `ClassCastException` in the following instance:\r\n\r\n```\r\nclass CustomLiteProcessScope extends DefaultLiteProcessScope { ... }\r\n\r\nfinal DefaultLiteProcessScopeFactory&lt;CustomLiteProcessScope&gt; factory = new ...;\r\n```\r\nAnd then:\r\n```\r\nfactory.build(); &lt;-- Exception trying to cast DefaultLiteProcessScope to CustomLiteProcessScope\r\n```","title":"why is this still need to cast in java?","body":"<p>Your code would throw a <code>ClassCastException</code> in the following instance:</p>\n<pre><code>class CustomLiteProcessScope extends DefaultLiteProcessScope { ... }\n\nfinal DefaultLiteProcessScopeFactory&lt;CustomLiteProcessScope&gt; factory = new ...;\n</code></pre>\n<p>And then:</p>\n<pre><code>factory.build(); &lt;-- Exception trying to cast DefaultLiteProcessScope to CustomLiteProcessScope\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652348422,"creation_date":1652343369,"answer_id":72212178,"question_id":72211759,"body_markdown":"What you are doing here is wrong. You want to return some subtype of `DefaultLiteProcessScope` from the `build` method. However, you hard code the return type like this: `new DefaultLiteProcessScope()`. Now think of a slightly contrived example like this.\r\n\r\n    static class SubType extends DefaultLiteProcessScope {\r\n    \t\t\r\n    }\r\n\r\nAnd a client code that follows.\r\n\r\n    final LiteProcessScopeFactory&lt;SubType&gt; f = new DefaultLiteProcessScopeFactory&lt;&gt;();\r\n    final SubType result = f.build();\r\n\r\nNow, since you have hard-coded the return type your compiler can&#39;t vouch for the type safety of the code. I wanted it to return the sub type, however you have hard-coded the super-type instead. So, it asks you to add an explicit cast, which is fair, isn&#39;t it? In fact, this cast fails at runtime throwing a `java.lang.ClassCastException` since super type `DefaultLiteProcessScope` cannot be cast to the subtype `SubType`.\r\n\r\n**How to fix.**\r\n\r\nA much better approach would be to pass in a supplier to your build method as an argument like so.\r\n\r\n    static class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\r\n        @Override\r\n        public S build(Supplier&lt;S&gt; s) {\r\n            return s.get();\r\n        }\r\n    }\r\n    \r\n    static interface LiteProcessScopeFactory&lt;S&gt; {\r\n    \tS build(Supplier&lt;S&gt; s);\r\n    }\r\n\r\nHere&#39;s the new client code.\r\n\r\n\tfinal LiteProcessScopeFactory&lt;SubType&gt; f = new DefaultLiteProcessScopeFactory&lt;&gt;();\r\n\tfinal SubType result = f.build(SubType::new);\r\n\r\n","title":"why is this still need to cast in java?","body":"<p>What you are doing here is wrong. You want to return some subtype of <code>DefaultLiteProcessScope</code> from the <code>build</code> method. However, you hard code the return type like this: <code>new DefaultLiteProcessScope()</code>. Now think of a slightly contrived example like this.</p>\n<pre><code>static class SubType extends DefaultLiteProcessScope {\n        \n}\n</code></pre>\n<p>And a client code that follows.</p>\n<pre><code>final LiteProcessScopeFactory&lt;SubType&gt; f = new DefaultLiteProcessScopeFactory&lt;&gt;();\nfinal SubType result = f.build();\n</code></pre>\n<p>Now, since you have hard-coded the return type your compiler can't vouch for the type safety of the code. I wanted it to return the sub type, however you have hard-coded the super-type instead. So, it asks you to add an explicit cast, which is fair, isn't it? In fact, this cast fails at runtime throwing a <code>java.lang.ClassCastException</code> since super type <code>DefaultLiteProcessScope</code> cannot be cast to the subtype <code>SubType</code>.</p>\n<p><strong>How to fix.</strong></p>\n<p>A much better approach would be to pass in a supplier to your build method as an argument like so.</p>\n<pre><code>static class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\n    @Override\n    public S build(Supplier&lt;S&gt; s) {\n        return s.get();\n    }\n}\n\nstatic interface LiteProcessScopeFactory&lt;S&gt; {\n    S build(Supplier&lt;S&gt; s);\n}\n</code></pre>\n<p>Here's the new client code.</p>\n<pre><code>final LiteProcessScopeFactory&lt;SubType&gt; f = new DefaultLiteProcessScopeFactory&lt;&gt;();\nfinal SubType result = f.build(SubType::new);\n</code></pre>\n"}],"owner":{"account_id":9166350,"reputation":13,"user_id":6815775,"display_name":"David Ricardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72212178,"answer_count":4,"score":0,"last_activity_date":1652348422,"creation_date":1652341303,"question_id":72211759,"body_markdown":"error\r\n```\r\npublic class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\r\n    @Override\r\n    public S build() {\r\n        return new DefaultLiteProcessScope();\r\n    }\r\n}\r\n```\r\nright\r\n```\r\npublic class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\r\n    @Override\r\n    public S build() {\r\n        return (S) new DefaultLiteProcessScope();\r\n    }\r\n}\r\n```\r\nDefaultLiteProcessScope extends DefaultLiteProcessScope,but it is till need to be cast?why?\r\n","title":"why is this still need to cast in java?","body":"<p>error</p>\n<pre><code>public class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\n    @Override\n    public S build() {\n        return new DefaultLiteProcessScope();\n    }\n}\n</code></pre>\n<p>right</p>\n<pre><code>public class DefaultLiteProcessScopeFactory&lt;S extends DefaultLiteProcessScope&gt; implements LiteProcessScopeFactory&lt;S&gt; {\n    @Override\n    public S build() {\n        return (S) new DefaultLiteProcessScope();\n    }\n}\n</code></pre>\n<p>DefaultLiteProcessScope extends DefaultLiteProcessScope,but it is till need to be cast?why?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8353832,"reputation":19,"user_id":6274920,"accept_rate":20,"display_name":"Junaid Shaikh"},"score":0,"creation_date":1467664742,"post_id":38191817,"comment_id":63809354,"body_markdown":"Got it! I&#39;ve put dpm.resetPassword(&quot;4279&quot;,0) inside the try block and it works now.","body":"Got it! I&#39;ve put dpm.resetPassword(&quot;4279&quot;,0) inside the try block and it works now."}],"owner":{"account_id":8353832,"reputation":19,"user_id":6274920,"accept_rate":20,"display_name":"Junaid Shaikh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652348319,"creation_date":1467664063,"question_id":38191817,"body_markdown":"I&#39;m a beginner in Android App Development. I&#39;m trying to develop a simple app which uses device admin policies. When launching the app, it stops unfortunately and I see the exception mentioned in the title. Please help me. Following is my code:\r\n\r\nMainActivity.java\r\n\r\n    package eg.app7;\r\n\r\n    import android.app.Activity;\r\n    import android.app.admin.DeviceAdminReceiver;\r\n    import android.app.admin.DevicePolicyManager;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.StrictMode;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.gms.appindexing.Action;\r\n    import com.google.android.gms.appindexing.AppIndex;\r\n    import com.google.android.gms.common.api.GoogleApiClient;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    DevicePolicyManager dpm;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        dpm = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n\r\n        dpm.resetPassword(&quot;4279&quot;,0);\r\n        try {\r\n            dpm.lockNow();\r\n            finish();\r\n        } catch (SecurityException e) {\r\n            Intent it = new         Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\r\n            it.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, new ComponentName(this, DeviceAdminReceiver.class));\r\n            startActivityForResult(it, 0);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (resultCode == RESULT_OK) {\r\n            dpm.lockNow();\r\n        } else {\r\n            Toast.makeText(this, &quot;Device administrator must be activated to lock the screen&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n        finish();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;eg.app7&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n       \r\n        &lt;receiver android:name=&quot;android.app.admin.DeviceAdminReceiver&quot;&gt;\r\n            &lt;meta-data android:name=&quot;android.app.device_admin&quot;\r\n                android:resource=&quot;@xml/device_admin&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n\r\ndevice_admin.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;uses-policies&gt;\r\n        &lt;limit-password /&gt;\r\n        &lt;watch-login /&gt;\r\n        &lt;reset-password /&gt;\r\n        &lt;force-lock /&gt;\r\n        &lt;wipe-data /&gt;\r\n        &lt;expire-password /&gt;\r\n        &lt;encrypted-storage /&gt;\r\n        &lt;disable-camera /&gt;\r\n    &lt;/uses-policies&gt;\r\n    &lt;/device-admin&gt;\r\n\r\n\r\nPlease guide me where I&#39;m wrong.","title":"No active admin owned by uid 10204 for policy #2","body":"<p>I'm a beginner in Android App Development. I'm trying to develop a simple app which uses device admin policies. When launching the app, it stops unfortunately and I see the exception mentioned in the title. Please help me. Following is my code:</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>package eg.app7;\n\nimport android.app.Activity;\nimport android.app.admin.DeviceAdminReceiver;\nimport android.app.admin.DevicePolicyManager;\nimport android.content.BroadcastReceiver;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.StrictMode;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.android.gms.appindexing.Action;\nimport com.google.android.gms.appindexing.AppIndex;\nimport com.google.android.gms.common.api.GoogleApiClient;\n\npublic class MainActivity extends AppCompatActivity {\nDevicePolicyManager dpm;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    dpm = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n\n    dpm.resetPassword(\"4279\",0);\n    try {\n        dpm.lockNow();\n        finish();\n    } catch (SecurityException e) {\n        Intent it = new         Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\n        it.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, new ComponentName(this, DeviceAdminReceiver.class));\n        startActivityForResult(it, 0);\n    }\n\n\n\n}\n\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (resultCode == RESULT_OK) {\n        dpm.lockNow();\n    } else {\n        Toast.makeText(this, \"Device administrator must be activated to lock the screen\", Toast.LENGTH_LONG).show();\n    }\n    finish();\n}\n\n\n\n\n\n\n}\n</code></pre>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"eg.app7\"&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n\n    &lt;receiver android:name=\"android.app.admin.DeviceAdminReceiver\"&gt;\n        &lt;meta-data android:name=\"android.app.device_admin\"\n            android:resource=\"@xml/device_admin\" /&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.app.action.DEVICE_ADMIN_ENABLED\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>device_admin.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;device-admin xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;uses-policies&gt;\n    &lt;limit-password /&gt;\n    &lt;watch-login /&gt;\n    &lt;reset-password /&gt;\n    &lt;force-lock /&gt;\n    &lt;wipe-data /&gt;\n    &lt;expire-password /&gt;\n    &lt;encrypted-storage /&gt;\n    &lt;disable-camera /&gt;\n&lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n\n<p>Please guide me where I'm wrong.</p>\n"},{"tags":["java","json","spring-boot","jackson","zoneddatetime"],"comments":[{"owner":{"account_id":101889,"reputation":5685,"user_id":273826,"accept_rate":100,"display_name":"Hans Westerbeek"},"score":0,"creation_date":1539795034,"post_id":39086472,"comment_id":92634456,"body_markdown":"If you really want to keep things simple and not trip up the next guy that reads your code, just convert your List&lt;Device&gt; to a List&lt;Map&lt;String, Object&gt;&gt; yourself and just put the correctly formatted string in the field you&#39;d like it to be. This way you don&#39;t have to familiarize yourself with the ever-changing magical workings of Jackson.\n\nI know that might not be an option if Device has many fields, but just wanted to float the option :).","body":"If you really want to keep things simple and not trip up the next guy that reads your code, just convert your List&lt;Device&gt; to a List&lt;Map&lt;String, Object&gt;&gt; yourself and just put the correctly formatted string in the field you&#39;d like it to be. This way you don&#39;t have to familiarize yourself with the ever-changing magical workings of Jackson.  I know that might not be an option if Device has many fields, but just wanted to float the option :)."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1539853725,"post_id":39086472,"comment_id":92654802,"body_markdown":"Well if you use Spring Boot half the things are magical and can get you tripped over if wrongly configured. The JSR310 configuration has become &#39;standard&#39; boilerplate you have to do for Java 8 Time support since I posted this question. Maybe in the future the Jackson library will do this by default.","body":"Well if you use Spring Boot half the things are magical and can get you tripped over if wrongly configured. The JSR310 configuration has become &#39;standard&#39; boilerplate you have to do for Java 8 Time support since I posted this question. Maybe in the future the Jackson library will do this by default."}],"answers":[{"tags":[],"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1472226013,"creation_date":1471891130,"answer_id":39086534,"question_id":39086472,"body_markdown":"There is a library [jackson-datatype-jsr310][1]. Try it.\r\n\r\nThis library covers new datetime API and includes serializers for `ZonedDateTime` too.\r\n\r\nAll you need is just to add `JavaTimeModule`:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n\r\n\r\n_UPDATE_\r\n\r\nTo convert datetime to [`ISO-8601`][2] string you should disable [`WRITE_DATES_AS_TIMESTAMPS`][3] feature. You can easily do by either overriding `ObjectMapper` bean or by using [application properties][4]:\r\n \r\n    spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-jsr310\r\n  [2]: http://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://fasterxml.github.io/jackson-databind/javadoc/2.0.0/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_DATES_AS_TIMESTAMPS\r\n  [4]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-customize-the-jackson-objectmapper","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>There is a library <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310\" rel=\"noreferrer\">jackson-datatype-jsr310</a>. Try it.</p>\n\n<p>This library covers new datetime API and includes serializers for <code>ZonedDateTime</code> too.</p>\n\n<p>All you need is just to add <code>JavaTimeModule</code>:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\n</code></pre>\n\n<p><em>UPDATE</em></p>\n\n<p>To convert datetime to <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\"><code>ISO-8601</code></a> string you should disable <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.0.0/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_DATES_AS_TIMESTAMPS\" rel=\"noreferrer\"><code>WRITE_DATES_AS_TIMESTAMPS</code></a> feature. You can easily do by either overriding <code>ObjectMapper</code> bean or by using <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">application properties</a>:</p>\n\n<pre><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1661788,"reputation":1025,"user_id":1529940,"accept_rate":100,"display_name":"bpawlowski"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1539791575,"creation_date":1539791575,"answer_id":52858960,"question_id":39086472,"body_markdown":"If you either don&#39;t rely on SpringBoot&#39;s auto-configuration feature - you don&#39;t provide `spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false` property into your configuration file - or for whatever reason you create `ObjectMapper` instance manually. You can disable this feature programatically as follows:\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    m.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n\r\nthis is for jackson `2.8.7`","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>If you either don't rely on SpringBoot's auto-configuration feature - you don't provide <code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false</code> property into your configuration file - or for whatever reason you create <code>ObjectMapper</code> instance manually. You can disable this feature programatically as follows:</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nm.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n\n<p>this is for jackson <code>2.8.7</code></p>\n"},{"tags":[],"owner":{"account_id":4693886,"reputation":700,"user_id":3799290,"display_name":"UltimaWeapon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1544118477,"creation_date":1544118477,"answer_id":53657053,"question_id":39086472,"body_markdown":"The answer was already mentioned above but I think it&#39;s missing some info. For those looking to parse Java 8 timestamps in many forms (not just ZonedDateTime). You need a recent version of `jackson-datatype-jsr310` in your POM and have the following module registered:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new JavaTimeModule());\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\r\nTo test this code\r\n\r\n    @Test\r\n    void testSeliarization() throws IOException {\r\n    \tString expectedJson = &quot;{\\&quot;parseDate\\&quot;:\\&quot;2018-12-04T18:47:38.927Z\\&quot;}&quot;;\r\n        MyPojo pojo = new MyPojo(ZonedDateTime.parse(&quot;2018-12-04T18:47:38.927Z&quot;));\r\n\r\n        // serialization\r\n        assertThat(objectMapper.writeValueAsString(pojo)).isEqualTo(expectedJson);\r\n\r\n        // deserialization\r\n        assertThat(objectMapper.readValue(expectedJson, MyPojo.class)).isEqualTo(pojo);\r\n    }\r\n\r\nNote that you can configure your object mapper globally in Spring or dropwizard to achieve this. I have not yet found a clean way to do this as an annotation on a field without registering a custom (de)serializer.","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>The answer was already mentioned above but I think it's missing some info. For those looking to parse Java 8 timestamps in many forms (not just ZonedDateTime). You need a recent version of <code>jackson-datatype-jsr310</code> in your POM and have the following module registered:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nobjectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n\n<p>To test this code</p>\n\n<pre><code>@Test\nvoid testSeliarization() throws IOException {\n    String expectedJson = \"{\\\"parseDate\\\":\\\"2018-12-04T18:47:38.927Z\\\"}\";\n    MyPojo pojo = new MyPojo(ZonedDateTime.parse(\"2018-12-04T18:47:38.927Z\"));\n\n    // serialization\n    assertThat(objectMapper.writeValueAsString(pojo)).isEqualTo(expectedJson);\n\n    // deserialization\n    assertThat(objectMapper.readValue(expectedJson, MyPojo.class)).isEqualTo(pojo);\n}\n</code></pre>\n\n<p>Note that you can configure your object mapper globally in Spring or dropwizard to achieve this. I have not yet found a clean way to do this as an annotation on a field without registering a custom (de)serializer.</p>\n"},{"tags":[],"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583989271,"creation_date":1583989271,"answer_id":60647878,"question_id":39086472,"body_markdown":"For Jackson `2.10` and above,\r\n\r\n**parent pom.xml**\r\n\r\n    &lt;!-- https://github.com/FasterXML/jackson-bom --&gt;\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.3&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n**module pom.xml**\r\n\r\n    &lt;!-- https://github.com/FasterXML/jackson-modules-java8 --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**JsonMapper creation, possibly in your `@Configuration` class**\r\n\r\n    @Bean\r\n    public JsonMapper jsonMapper() {\r\n        return JsonMapper.builder()\r\n            .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n            .addModule(new JavaTimeModule())\r\n            .build();\r\n    }\r\n\r\n**Further reading:**\r\n\r\n - [What&#39;s new in Jackson 2.10][1]\r\n - [Use `JsonMapper` instead of `ObjectMapper`][2]\r\n - [Use Builder pattern][3]\r\n\r\n  [1]: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.10\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/2153\r\n  [3]: https://github.com/FasterXML/jackson-databind/issues/1954","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>For Jackson <code>2.10</code> and above,</p>\n\n<p><strong>parent pom.xml</strong></p>\n\n<pre><code>&lt;!-- https://github.com/FasterXML/jackson-bom --&gt;\n&lt;dependencyManagement&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\n    &lt;version&gt;2.10.3&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p><strong>module pom.xml</strong></p>\n\n<pre><code>&lt;!-- https://github.com/FasterXML/jackson-modules-java8 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>JsonMapper creation, possibly in your <code>@Configuration</code> class</strong></p>\n\n<pre><code>@Bean\npublic JsonMapper jsonMapper() {\n    return JsonMapper.builder()\n        .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n        .addModule(new JavaTimeModule())\n        .build();\n}\n</code></pre>\n\n<p><strong>Further reading:</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.10\" rel=\"nofollow noreferrer\">What's new in Jackson 2.10</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/2153\" rel=\"nofollow noreferrer\">Use <code>JsonMapper</code> instead of <code>ObjectMapper</code></a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/1954\" rel=\"nofollow noreferrer\">Use Builder pattern</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652348243,"creation_date":1652348243,"answer_id":72213258,"question_id":39086472,"body_markdown":"The setting `spring.jackson.serialization.write-dates-as-timestamps=false` in the `application.yml` does not help in our project. Most probably since there are additional libraries working with Jackson: Swagger / OpenAPI / OpenAPI Generator.\r\n\r\nWhat has helped is adding this `@EventListener` for the `RequestMappingHandlerAdapter` to the `@SpringBootApplication` class.\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\r\n\r\n@SpringBootApplication\r\npublic class SpringBootInitializer {\r\n\r\n    @Autowired\r\n    private RequestMappingHandlerAdapter handlerAdapter;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootInitializer.class, args);\r\n    }\r\n\r\n    @EventListener\r\n    public void handleContextRefresh(ContextRefreshedEvent event) {\r\n        // see https://github.com/FasterXML/jackson-modules-java8/issues/11#issuecomment-913199874\r\n        // spring.jackson.serialization.write-dates-as-timestamps=false setting does not work in our configuration (probably because of Swagger / OpenAPI / OpenAPI Generator libraries used)\r\n\r\n        handlerAdapter\r\n            .getMessageConverters()\r\n            .forEach(c -&gt; {\r\n                if (c instanceof MappingJackson2HttpMessageConverter jsonMessageConverter) {\r\n                    ObjectMapper objectMapper = jsonMessageConverter.getObjectMapper();\r\n                    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n                }\r\n            });\r\n    }\r\n}\r\n```\r\n\r\nI have found this solution here — https://github.com/FasterXML/jackson-modules-java8/issues/11#issuecomment-913199874.","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>The setting <code>spring.jackson.serialization.write-dates-as-timestamps=false</code> in the <code>application.yml</code> does not help in our project. Most probably since there are additional libraries working with Jackson: Swagger / OpenAPI / OpenAPI Generator.</p>\n<p>What has helped is adding this <code>@EventListener</code> for the <code>RequestMappingHandlerAdapter</code> to the <code>@SpringBootApplication</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\n\n@SpringBootApplication\npublic class SpringBootInitializer {\n\n    @Autowired\n    private RequestMappingHandlerAdapter handlerAdapter;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootInitializer.class, args);\n    }\n\n    @EventListener\n    public void handleContextRefresh(ContextRefreshedEvent event) {\n        // see https://github.com/FasterXML/jackson-modules-java8/issues/11#issuecomment-913199874\n        // spring.jackson.serialization.write-dates-as-timestamps=false setting does not work in our configuration (probably because of Swagger / OpenAPI / OpenAPI Generator libraries used)\n\n        handlerAdapter\n            .getMessageConverters()\n            .forEach(c -&gt; {\n                if (c instanceof MappingJackson2HttpMessageConverter jsonMessageConverter) {\n                    ObjectMapper objectMapper = jsonMessageConverter.getObjectMapper();\n                    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n                }\n            });\n    }\n}\n</code></pre>\n<p>I have found this solution here — <a href=\"https://github.com/FasterXML/jackson-modules-java8/issues/11#issuecomment-913199874\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-modules-java8/issues/11#issuecomment-913199874</a>.</p>\n"}],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61328,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":39086534,"answer_count":5,"score":47,"last_activity_date":1652348243,"creation_date":1471890941,"question_id":39086472,"body_markdown":"I have a simple application with Spring Boot and Jetty. I have a simple controller returning an object which has a Java 8 `ZonedDateTime`:\r\n\r\n    public class Device {\r\n      // ...\r\n      private ZonedDateTime lastUpdated;\r\n    \r\n      public Device(String id, ZonedDateTime lastUpdated, int course, double latitude, double longitude) {\r\n        // ...\r\n        this.lastUpdated = lastUpdated;\r\n        // ...\r\n      }\r\n    \r\n      public ZonedDateTime getLastUpdated() {\r\n        return lastUpdated;\r\n      }\r\n    }\r\n\r\n  \r\nIn my `RestController` I simply have: \r\n\r\n    @RequestMapping(&quot;/devices/&quot;)\r\n    public @ResponseBody List&lt;Device&gt; index() {\r\n      List&lt;Device&gt; devices = new ArrayList&lt;&gt;();\r\n      devices.add(new Device(&quot;321421521&quot;, ZonedDateTime.now(), 0, 39.89011333, 24.438176666));\r\n    \r\n      return devices;\r\n    }\r\n\r\nI was expecting the `ZonedDateTime` to be formatted according to the ISO format, but instead I am getting a whole JSON dump of the class like this:\r\n\r\n    &quot;lastUpdated&quot;:{&quot;offset&quot;:{&quot;totalSeconds&quot;:7200,&quot;id&quot;:&quot;+02:00&quot;,&quot;rules&quot;:{&quot;fixedOffset&quot;:true,&quot;transitionRules&quot;:[],&quot;transitions&quot;:[]}},&quot;zone&quot;:{&quot;id&quot;:&quot;Europe/Berlin&quot;,&quot;rules&quot;:{&quot;fixedOffset&quot;:false,&quot;transitionRules&quot;:[{&quot;month&quot;:&quot;MARCH&quot;,&quot;timeDefinition&quot;:&quot;UTC&quot;,&quot;standardOffset&quot;:{&quot;totalSeconds&quot;:3600,&quot;id&quot;:&quot;+01:00&quot;,&quot;rules&quot;:{&quot;fixedOffset&quot;:true,&quot;transitionRules&quot;:[],&quot;transitions&quot;:[]}},&quot;offsetBefore&quot;:{&quot;totalSeconds&quot;:3600,&quot;id&quot;:&quot;+01:00&quot;,&quot;rules&quot;:{&quot;fixedOffset&quot;:true,&quot;transitionRules&quot;:[],&quot;transitions&quot;:[]}},&quot;offsetAfter&quot;:{&quot;totalSeconds&quot;:7200,&quot;id&quot;:&quot;+02:00&quot;, ...\r\n\r\nI just have a `spring-boot-starter-web` application, using `spring-boot-starter-jetty` and excluding `spring-boot-starter-tomcat`.\r\n\r\nWhy is Jackson behaving like this in Spring Boot?\r\n\r\n** UPDATE **\r\n\r\nFor those looking for a full step by step guide how to solve this I found this after asking the question: \r\nhttp://lewandowski.io/2016/02/formatting-java-time-with-spring-boot-using-json/\r\n\r\n\r\n\r\n","title":"Jackson serializes a ZonedDateTime wrongly in Spring Boot","body":"<p>I have a simple application with Spring Boot and Jetty. I have a simple controller returning an object which has a Java 8 <code>ZonedDateTime</code>:</p>\n\n<pre><code>public class Device {\n  // ...\n  private ZonedDateTime lastUpdated;\n\n  public Device(String id, ZonedDateTime lastUpdated, int course, double latitude, double longitude) {\n    // ...\n    this.lastUpdated = lastUpdated;\n    // ...\n  }\n\n  public ZonedDateTime getLastUpdated() {\n    return lastUpdated;\n  }\n}\n</code></pre>\n\n<p>In my <code>RestController</code> I simply have: </p>\n\n<pre><code>@RequestMapping(\"/devices/\")\npublic @ResponseBody List&lt;Device&gt; index() {\n  List&lt;Device&gt; devices = new ArrayList&lt;&gt;();\n  devices.add(new Device(\"321421521\", ZonedDateTime.now(), 0, 39.89011333, 24.438176666));\n\n  return devices;\n}\n</code></pre>\n\n<p>I was expecting the <code>ZonedDateTime</code> to be formatted according to the ISO format, but instead I am getting a whole JSON dump of the class like this:</p>\n\n<pre><code>\"lastUpdated\":{\"offset\":{\"totalSeconds\":7200,\"id\":\"+02:00\",\"rules\":{\"fixedOffset\":true,\"transitionRules\":[],\"transitions\":[]}},\"zone\":{\"id\":\"Europe/Berlin\",\"rules\":{\"fixedOffset\":false,\"transitionRules\":[{\"month\":\"MARCH\",\"timeDefinition\":\"UTC\",\"standardOffset\":{\"totalSeconds\":3600,\"id\":\"+01:00\",\"rules\":{\"fixedOffset\":true,\"transitionRules\":[],\"transitions\":[]}},\"offsetBefore\":{\"totalSeconds\":3600,\"id\":\"+01:00\",\"rules\":{\"fixedOffset\":true,\"transitionRules\":[],\"transitions\":[]}},\"offsetAfter\":{\"totalSeconds\":7200,\"id\":\"+02:00\", ...\n</code></pre>\n\n<p>I just have a <code>spring-boot-starter-web</code> application, using <code>spring-boot-starter-jetty</code> and excluding <code>spring-boot-starter-tomcat</code>.</p>\n\n<p>Why is Jackson behaving like this in Spring Boot?</p>\n\n<p>** UPDATE **</p>\n\n<p>For those looking for a full step by step guide how to solve this I found this after asking the question: \n<a href=\"http://lewandowski.io/2016/02/formatting-java-time-with-spring-boot-using-json/\">http://lewandowski.io/2016/02/formatting-java-time-with-spring-boot-using-json/</a></p>\n"},{"tags":["java","inheritance","mouseevent","graphstream"],"answers":[{"tags":[],"owner":{"account_id":8767735,"reputation":31,"user_id":10191151,"display_name":"Don Pauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652294763,"creation_date":1652294763,"answer_id":72206145,"question_id":72205266,"body_markdown":"&gt; Is there an elegant way to make sure my changes will execute after all other method from the base class?\r\n\r\nRead the documentation and look at the code in [DefaultMouseManager][1]. I googled DefaultMouseManager, looked at the documentation, went through the inheritance of the different interfaces until I got to [MouseListener][2], which describes the order of operations. Then I looked at mouseClicked and mouseReleased since they would be called last, mouseClicked is empty so that leaves mouseReleased and the methods that are called in it.\r\n\r\n\r\n  [1]: https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html","title":"override graphstream&#39;s DefaultMouseManager","body":"<blockquote>\n<p>Is there an elegant way to make sure my changes will execute after all other method from the base class?</p>\n</blockquote>\n<p>Read the documentation and look at the code in <a href=\"https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java\" rel=\"nofollow noreferrer\">DefaultMouseManager</a>. I googled DefaultMouseManager, looked at the documentation, went through the inheritance of the different interfaces until I got to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html\" rel=\"nofollow noreferrer\">MouseListener</a>, which describes the order of operations. Then I looked at mouseClicked and mouseReleased since they would be called last, mouseClicked is empty so that leaves mouseReleased and the methods that are called in it.</p>\n"},{"tags":[],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652348229,"creation_date":1652348229,"answer_id":72213252,"question_id":72205266,"body_markdown":"So, something similar to this [question](https://stackoverflow.com/questions/39458297/jmapviewer-mouselistener-called-2-times) has happened, the `mouseClicked()` method was called twice.  \r\n\r\nIn my code, I repaint black the previous node and hide its label after a new node is clicked. And for that reason, when the `mouseClicked()` method was called twice then the first call changed the node`s appearance and the second one changed it back. \r\n\r\nIn that case, an easy fix will be to check if the previous node and current node are the same. replace this ```if(focusedNode!= null)``` with this\r\n```java\r\nif(focusedNode!= null &amp;&amp; focusedNode != currentNode)\r\n```\r\n but a more straightforward solution will be to understand why the method is been called twice.  \r\nMy guess is that it has something to do with the inheritance but I&#39;m not sure.\r\n","title":"override graphstream&#39;s DefaultMouseManager","body":"<p>So, something similar to this <a href=\"https://stackoverflow.com/questions/39458297/jmapviewer-mouselistener-called-2-times\">question</a> has happened, the <code>mouseClicked()</code> method was called twice.</p>\n<p>In my code, I repaint black the previous node and hide its label after a new node is clicked. And for that reason, when the <code>mouseClicked()</code> method was called twice then the first call changed the node`s appearance and the second one changed it back.</p>\n<p>In that case, an easy fix will be to check if the previous node and current node are the same. replace this <code>if(focusedNode!= null)</code> with this</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(focusedNode!= null &amp;&amp; focusedNode != currentNode)\n</code></pre>\n<p>but a more straightforward solution will be to understand why the method is been called twice.<br />\nMy guess is that it has something to do with the inheritance but I'm not sure.</p>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72213252,"answer_count":2,"score":1,"last_activity_date":1652348229,"creation_date":1652290150,"question_id":72205266,"body_markdown":"I&#39;m using GraphStream to show a map of an area and I&#39;ve tried to inherit from the default MouseManager [DefaultMouseManager](https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java) and to override the `mouseClicked` method so that when clicking on a node the following will happened:\r\n\r\n 1. node&#39;s color will change.\r\n 2. node&#39;s label will show.\r\n 3. node&#39;s data will show in terminal.\r\n\r\n\r\nI do know that the method works because the node&#39;s data does get printed to terminal, but I think some other mouse event repaint the node and rehide  the label so they doesn&#39;t change when clicking on a node.\r\n\r\nhere is my MouseManager&#39;s code:\r\n```java\r\npublic class CustomMouseManager2 extends DefaultMouseManager {\r\n    protected View view;\r\n    protected GraphicGraph graph;\r\n    private GraphicElement focusedNode;\r\n\r\n    @Override\r\n    public void init(GraphicGraph graph, View view) {\r\n        super.init(graph, view);\r\n        .\r\n        .\r\n        .\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n\r\n        GraphicElement currentNode = view.findNodeOrSpriteAt(e.getX(), e.getY());\r\n\r\n        if(currentNode != null){\r\n            OGraph graph = OGraph.getInstance();\r\n\r\n            Random r = new Random();\r\n            currentNode.setAttribute(&quot;ui.style&quot;, &quot;fill-color: red; text-mode: normal;&quot;);\r\n            ONode oNode = graph.getNode(Long.parseLong(currentNode.getLabel()));\r\n            System.out.println(oNode.toString());\r\n\r\n        }\r\n\r\n        if(focusedNode!= null)\r\n            focusedNode.setAttribute(&quot;ui.style&quot;, &quot;fill-color: black;size: 10px, 10px; text-mode: hidden;&quot;);\r\n\r\n        focusedNode = currentNode;\r\n    }\r\n}\r\n``` \r\n\r\nI&#39;ve tried to check what methods from the base class [DefaultMouseManager](https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java) are called after my `mouseClicked` is called so I could override them too, but there was to many of them to follow. \r\n\r\nIs there an elegant way to make sure my changes will execute after all other method from the base class?","title":"override graphstream&#39;s DefaultMouseManager","body":"<p>I'm using GraphStream to show a map of an area and I've tried to inherit from the default MouseManager <a href=\"https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java\" rel=\"nofollow noreferrer\">DefaultMouseManager</a> and to override the <code>mouseClicked</code> method so that when clicking on a node the following will happened:</p>\n<ol>\n<li>node's color will change.</li>\n<li>node's label will show.</li>\n<li>node's data will show in terminal.</li>\n</ol>\n<p>I do know that the method works because the node's data does get printed to terminal, but I think some other mouse event repaint the node and rehide  the label so they doesn't change when clicking on a node.</p>\n<p>here is my MouseManager's code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomMouseManager2 extends DefaultMouseManager {\n    protected View view;\n    protected GraphicGraph graph;\n    private GraphicElement focusedNode;\n\n    @Override\n    public void init(GraphicGraph graph, View view) {\n        super.init(graph, view);\n        .\n        .\n        .\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n        GraphicElement currentNode = view.findNodeOrSpriteAt(e.getX(), e.getY());\n\n        if(currentNode != null){\n            OGraph graph = OGraph.getInstance();\n\n            Random r = new Random();\n            currentNode.setAttribute(&quot;ui.style&quot;, &quot;fill-color: red; text-mode: normal;&quot;);\n            ONode oNode = graph.getNode(Long.parseLong(currentNode.getLabel()));\n            System.out.println(oNode.toString());\n\n        }\n\n        if(focusedNode!= null)\n            focusedNode.setAttribute(&quot;ui.style&quot;, &quot;fill-color: black;size: 10px, 10px; text-mode: hidden;&quot;);\n\n        focusedNode = currentNode;\n    }\n}\n</code></pre>\n<p>I've tried to check what methods from the base class <a href=\"https://github.com/graphstream/gs-ui-swing/blob/67888fae1f2bbc71b4d9ab50bdfd20e7ea391a67/src/org/graphstream/ui/swing_viewer/util/DefaultMouseManager.java\" rel=\"nofollow noreferrer\">DefaultMouseManager</a> are called after my <code>mouseClicked</code> is called so I could override them too, but there was to many of them to follow.</p>\n<p>Is there an elegant way to make sure my changes will execute after all other method from the base class?</p>\n"},{"tags":["java","spring","mongodb","annotations","spring-data-mongodb"],"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1434957272,"post_id":30841152,"comment_id":49979159,"body_markdown":"You can start to set you MongoDB Profiler to log all operations (and so the queries) using the command `db.setProfilingLevel(2)` and then see exactly the query you are executing. Remember to set it to 0 once you finished.","body":"You can start to set you MongoDB Profiler to log all operations (and so the queries) using the command <code>db.setProfilingLevel(2)</code> and then see exactly the query you are executing. Remember to set it to 0 once you finished."}],"answers":[{"tags":[],"owner":{"account_id":191427,"reputation":1559,"user_id":431998,"accept_rate":44,"display_name":"Mick Sear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435760443,"creation_date":1435760443,"answer_id":31164008,"question_id":30841152,"body_markdown":"Personally, I&#39;d ditch the interface-driven repository pattern at that point, create a DAO that `@Autowire`s a MongoTemplate object, and then query the DB using a `Criteria` instead.  that way, you have clear code that isn&#39;t stretching the capabilities of the `@Query` annotation.\r\n\r\nSo, something like this (untested, pseudo-code):\r\n\r\n    @Repository\r\n    public class DocDAOImpl implements DocDAO {\r\n        @Autowired private MongoTemplate mongoTemplate;\r\n\r\n        public Page&lt;Doc&gt; findByCategories(UserRequest request, Pageable pageable){\r\n            //Go through user request and make a criteria here\r\n            Criteria c = Criteria.where(&quot;foo&quot;).is(bar).and(&quot;x&quot;).is(y); \r\n            Query q = new Query(c);\r\n            Long count = mongoTemplate.count(q);\r\n\r\n            // Following can be refactored into another method, given the Query and the Pageable.\r\n            q.with(sort); //Build the sort from the pageable.\r\n            q.limit(limit); //Build this from the pageable too\r\n            List&lt;Doc&gt; results = mongoTemplate.find(q, Doc.class);\r\n            return makePage(results, pageable, count);\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nI know this flies in the face of the trend towards runtime generation of DB code, but to my mind, it&#39;s still the best approach for more challenging DB operations, because it&#39;s loads easier to see what&#39;s actually going on.","title":"spring-data-mongodb optional query parameter","body":"<p>Personally, I'd ditch the interface-driven repository pattern at that point, create a DAO that <code>@Autowire</code>s a MongoTemplate object, and then query the DB using a <code>Criteria</code> instead.  that way, you have clear code that isn't stretching the capabilities of the <code>@Query</code> annotation.</p>\n\n<p>So, something like this (untested, pseudo-code):</p>\n\n<pre><code>@Repository\npublic class DocDAOImpl implements DocDAO {\n    @Autowired private MongoTemplate mongoTemplate;\n\n    public Page&lt;Doc&gt; findByCategories(UserRequest request, Pageable pageable){\n        //Go through user request and make a criteria here\n        Criteria c = Criteria.where(\"foo\").is(bar).and(\"x\").is(y); \n        Query q = new Query(c);\n        Long count = mongoTemplate.count(q);\n\n        // Following can be refactored into another method, given the Query and the Pageable.\n        q.with(sort); //Build the sort from the pageable.\n        q.limit(limit); //Build this from the pageable too\n        List&lt;Doc&gt; results = mongoTemplate.find(q, Doc.class);\n        return makePage(results, pageable, count);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>I know this flies in the face of the trend towards runtime generation of DB code, but to my mind, it's still the best approach for more challenging DB operations, because it's loads easier to see what's actually going on.</p>\n"},{"tags":[],"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652348073,"creation_date":1652348073,"answer_id":72213217,"question_id":30841152,"body_markdown":"Filtering out parts of the query depending on the input value is not directly supported. Nevertheless it can be done using `@Query` the `$and` operator and a bit of [SpEL](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions).\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    interface Repo extends CrudRepository&lt;Doc,...&gt; {\r\n\r\n      @Query(&quot;&quot;&quot;\r\n             { $and : [ \r\n                ?#{T(com.example.Repo.QueryUtil).ifPresent([0], &#39;key&#39;)}, \r\n                ?#{T(com.example.Repo.QueryUtil).ifPresent([1], &#39;username&#39;)},\r\n                ... \r\n             ]}\r\n             &quot;&quot;&quot;)\r\n      List&lt;Doc&gt; findByKeyAndUsername(@Nullable String key, @Nullable String username, ...)\r\n    \r\n      class QueryUtil {\r\n        public static Document ifPresent(Object value, String property) {\r\n          if(value == null) {\r\n            return new Document(&quot;$expr&quot;, true); // always true\r\n          }\r\n          return new Document(property, value); // eq match\r\n        }\r\n      }\r\n\r\n      // ...\r\n    }\r\n\r\nInstead of addressing the target function via the `T(...)` _Type_ expression writing an `EvaluationContextExtension` (see: [json spel](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-spel) for details) allows to get rid of repeating the type name over and over again.","title":"spring-data-mongodb optional query parameter","body":"<p>Filtering out parts of the query depending on the input value is not directly supported. Nevertheless it can be done using <code>@Query</code> the <code>$and</code> operator and a bit of <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL</a>.</p>\n\n<pre><code>interface Repo extends CrudRepository&lt;Doc,...&gt; {\n\n  @Query(&quot;&quot;&quot;\n         { $and : [ \n            ?#{T(com.example.Repo.QueryUtil).ifPresent([0], 'key')}, \n            ?#{T(com.example.Repo.QueryUtil).ifPresent([1], 'username')},\n            ... \n         ]}\n         &quot;&quot;&quot;)\n  List&lt;Doc&gt; findByKeyAndUsername(@Nullable String key, @Nullable String username, ...)\n\n  class QueryUtil {\n    public static Document ifPresent(Object value, String property) {\n      if(value == null) {\n        return new Document(&quot;$expr&quot;, true); // always true\n      }\n      return new Document(property, value); // eq match\n    }\n  }\n\n  // ...\n}\n</code></pre>\n<p>Instead of addressing the target function via the <code>T(...)</code> <em>Type</em> expression writing an <code>EvaluationContextExtension</code> (see: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-spel\" rel=\"nofollow noreferrer\">json spel</a> for details) allows to get rid of repeating the type name over and over again.</p>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3896,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1652348073,"creation_date":1434358848,"question_id":30841152,"body_markdown":"I am using spring-data-mongodb.\r\n\r\nI want to query database by passing some optional parameter in my query.\r\n\r\nI have a domain class.\r\n\r\n    public class Doc {\t\r\n    \t@Id\r\n    \tprivate String id;\r\n    \r\n    \tprivate String type;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \tprivate int index;\t\r\n    \t\r\n    \tprivate String data;\r\n    \r\n    \tprivate String description;\r\n    \t\r\n        private String key;\r\n    \r\n        private String username;\r\n        // getter &amp; setter\r\n    }\r\n\r\nMy controller:\r\n\r\n    @RequestMapping(value = &quot;/getByCategory&quot;, method = RequestMethod.GET, consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\r\n    \tpublic Iterable&lt;Doc&gt; getByCategory(\r\n    \t\t\t@RequestParam(value = &quot;key&quot;, required = false) String key,\r\n    \t\t\t@RequestParam(value = &quot;username&quot;, required = false) String username,\r\n    \t\t\t@RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) int page,\r\n    \t\t\t@RequestParam(value = &quot;size&quot;, required = false, defaultValue = &quot;0&quot;) int size,\r\n    \t\t\t@RequestParam(value = &quot;categories&quot;) List&lt;String&gt; categories)\r\n    \t\t\tthrows EntityNotFoundException {\r\n    \t\tIterable&lt;Doc&gt; nodes = docService.getByCategory(key, username , categories, page, size);\r\n    \t\treturn nodes;\r\n    \t}\r\n\r\nHere **Key** and **username** are optional query parameters.\r\n\r\nIf I pass any one of them it should return the matching document with given key or username.\r\n\r\nMy service method is:\r\n\r\n    public Iterable&lt;Doc&gt; getByCategory(String key, String username, List&lt;String&gt; categories, int page, int size) {\r\n    \t\t\r\n    \t\treturn repository.findByCategories(key, username, categories, new PageRequest(page, size));\r\n    \t}\r\n\r\nRepository:\r\n\r\n    @Query(&quot;{ $or : [ {&#39;key&#39;:?0},{&#39;username&#39;:?1},{categories:{$in: ?2}}] }&quot;)\t\r\n    List&lt;Doc&gt; findByCategories(String key, String username,List&lt;String&gt; categories, Pageable pageable);\r\n\r\nBut by using above query it does not returns a document with either given key or username.\r\nWhat is wrong in my query?\r\n\r\nThis is how I am making request\r\n**http://localhost:8080/document/getByCategory?key=key_one&amp;username=ppotdar&amp;categories=category1&amp;categories=category2**\r\n","title":"spring-data-mongodb optional query parameter","body":"<p>I am using spring-data-mongodb.</p>\n\n<p>I want to query database by passing some optional parameter in my query.</p>\n\n<p>I have a domain class.</p>\n\n<pre><code>public class Doc {  \n    @Id\n    private String id;\n\n    private String type;\n\n    private String name;\n\n    private int index;  \n\n    private String data;\n\n    private String description;\n\n    private String key;\n\n    private String username;\n    // getter &amp; setter\n}\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>@RequestMapping(value = \"/getByCategory\", method = RequestMethod.GET, consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\n    public Iterable&lt;Doc&gt; getByCategory(\n            @RequestParam(value = \"key\", required = false) String key,\n            @RequestParam(value = \"username\", required = false) String username,\n            @RequestParam(value = \"page\", required = false, defaultValue = \"0\") int page,\n            @RequestParam(value = \"size\", required = false, defaultValue = \"0\") int size,\n            @RequestParam(value = \"categories\") List&lt;String&gt; categories)\n            throws EntityNotFoundException {\n        Iterable&lt;Doc&gt; nodes = docService.getByCategory(key, username , categories, page, size);\n        return nodes;\n    }\n</code></pre>\n\n<p>Here <strong>Key</strong> and <strong>username</strong> are optional query parameters.</p>\n\n<p>If I pass any one of them it should return the matching document with given key or username.</p>\n\n<p>My service method is:</p>\n\n<pre><code>public Iterable&lt;Doc&gt; getByCategory(String key, String username, List&lt;String&gt; categories, int page, int size) {\n\n        return repository.findByCategories(key, username, categories, new PageRequest(page, size));\n    }\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Query(\"{ $or : [ {'key':?0},{'username':?1},{categories:{$in: ?2}}] }\")    \nList&lt;Doc&gt; findByCategories(String key, String username,List&lt;String&gt; categories, Pageable pageable);\n</code></pre>\n\n<p>But by using above query it does not returns a document with either given key or username.\nWhat is wrong in my query?</p>\n\n<p>This is how I am making request\n<strong><a href=\"http://localhost:8080/document/getByCategory?key=key_one&amp;username=ppotdar&amp;categories=category1&amp;categories=category2\" rel=\"nofollow noreferrer\">http://localhost:8080/document/getByCategory?key=key_one&amp;username=ppotdar&amp;categories=category1&amp;categories=category2</a></strong></p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1639120730,"post_id":70300905,"comment_id":124272362,"body_markdown":"`autoimageslider` is a different module, probably a **library** on which your main app depends for additional features.","body":"<code>autoimageslider</code> is a different module, probably a <b>library</b> on which your main app depends for additional features."},{"owner":{"display_name":"user17086162"},"score":1,"creation_date":1639121135,"post_id":70300905,"comment_id":124272463,"body_markdown":"@DarShan ok Fine so if we keep a file can there be a problem","body":"@DarShan ok Fine so if we keep a file can there be a problem"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1639121257,"post_id":70300905,"comment_id":124272503,"body_markdown":"There&#39;s not going to be a problem. You can read more about modules here: https://developer.android.com/studio/projects","body":"There&#39;s not going to be a problem. You can read more about modules here: <a href=\"https://developer.android.com/studio/projects\" rel=\"nofollow noreferrer\">developer.android.com/studio/projects</a>"}],"answers":[{"tags":[],"owner":{"account_id":14123150,"reputation":234,"user_id":10203172,"display_name":"Hamidreza Shadabkia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652348052,"creation_date":1639122364,"answer_id":70301223,"question_id":70300905,"body_markdown":"its a **modular** project.\r\n\r\nin modular project, for every android-library module you have a manifest, java folder and res folder \r\n\r\nyour main manifest is the one in **app** module. you can navigate among activities as well. \r\nfor more information about modular project benefits check [this][1] link\r\n\r\n\r\n  [1]: https://jeroenmols.com/blog/2019/03/06/modularizationwhy/","title":"One Android project two java file &amp; res file","body":"<p>its a <strong>modular</strong> project.</p>\n<p>in modular project, for every android-library module you have a manifest, java folder and res folder</p>\n<p>your main manifest is the one in <strong>app</strong> module. you can navigate among activities as well.\nfor more information about modular project benefits check <a href=\"https://jeroenmols.com/blog/2019/03/06/modularizationwhy/\" rel=\"nofollow noreferrer\">this</a> link</p>\n"}],"owner":{"display_name":"user17086162"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652348052,"creation_date":1639120385,"question_id":70300905,"body_markdown":"I took this from another resource but I have two `java` files and a `res` file I could not understand very well. Are these two files necessary?\r\n\r\n **[![Android project][1]][1]**\r\n\r\n  [1]: https://i.stack.imgur.com/0nN63.jpg","title":"One Android project two java file &amp; res file","body":"<p>I took this from another resource but I have two <code>java</code> files and a <code>res</code> file I could not understand very well. Are these two files necessary?</p>\n<p><strong><a href=\"https://i.stack.imgur.com/0nN63.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0nN63.jpg\" alt=\"Android project\" /></a></strong></p>\n"},{"tags":["java","sql","unit-testing","mocking","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1418635022,"post_id":27474349,"comment_id":43394319,"body_markdown":"What keeps you from using Powermock?","body":"What keeps you from using Powermock?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":0,"creation_date":1418643040,"post_id":27474349,"comment_id":43398504,"body_markdown":"Alternatively, can you use [`DAO`](http://www.jooq.org/javadoc/3.5.x/org/jooq/DAO.html) instead of `DAOImpl` and program to (i.e. mock) an interface?","body":"Alternatively, can you use <a href=\"http://www.jooq.org/javadoc/3.5.x/org/jooq/DAO.html\" rel=\"nofollow noreferrer\"><code>DAO</code></a> instead of <code>DAOImpl</code> and program to (i.e. mock) an interface?"},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1418671737,"post_id":27474349,"comment_id":43414764,"body_markdown":"@Xaerxess There is too much detail in between `FooDao` and `DAO`. This means A LOT of boiler plate for me for EVERY DAO just to be able to write a clean test.","body":"@Xaerxess There is too much detail in between <code>FooDao</code> and <code>DAO</code>. This means A LOT of boiler plate for me for EVERY DAO just to be able to write a clean test."},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1418671918,"post_id":27474349,"comment_id":43414853,"body_markdown":"@LukasEder PowerMock is the interim solution but I&#39;d like to swap it out for something cleaner. Those kind of tools cause problems in build / test suites (with recycled JVMs etc). It&#39;s good design that the API is locked off through final methods, but a generated interface without those would go a long way to facilitate lightweight unit testing.","body":"@LukasEder PowerMock is the interim solution but I&#39;d like to swap it out for something cleaner. Those kind of tools cause problems in build / test suites (with recycled JVMs etc). It&#39;s good design that the API is locked off through final methods, but a generated interface without those would go a long way to facilitate lightweight unit testing."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1418720734,"post_id":27474349,"comment_id":43432302,"body_markdown":"@markdsievers: This won&#39;t lead to an objective answer :) but &quot;something cleaner&quot; and &quot;mocking&quot; are two fundamentally opposite concepts. You will always run into Java-language or JVM limitations when you want to mock things, so you might as well resort to bytecode manipulation and instrumentation. The mere idea of mocking is fundamentally opposite to encapsulation and other core OO/Java design tools even if TDD-evangelists like to pretend that this is not the case (in the context of Java). For instance, much of jOOQ is intentionally package-private, or even static...","body":"@markdsievers: This won&#39;t lead to an objective answer :) but &quot;something cleaner&quot; and &quot;mocking&quot; are two fundamentally opposite concepts. You will always run into Java-language or JVM limitations when you want to mock things, so you might as well resort to bytecode manipulation and instrumentation. The mere idea of mocking is fundamentally opposite to encapsulation and other core OO/Java design tools even if TDD-evangelists like to pretend that this is not the case (in the context of Java). For instance, much of jOOQ is intentionally package-private, or even static..."},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1418780094,"post_id":27474349,"comment_id":43464037,"body_markdown":"@LukasEder thanks for your time, Lukas. I&#39;ll eagerly await interfaces I can mock, in the mean time I&#39;ll use PowerMock. :)","body":"@LukasEder thanks for your time, Lukas. I&#39;ll eagerly await interfaces I can mock, in the mean time I&#39;ll use PowerMock. :)"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1418801118,"post_id":27474349,"comment_id":43469979,"body_markdown":"@markdsievers: That&#39;s actually a good idea!","body":"@markdsievers: That&#39;s actually a good idea!"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652347909,"creation_date":1418801195,"answer_id":27520275,"question_id":27474349,"body_markdown":"Right now, it will be hard to mock jOOQ DAOs without using something like PowerMock that removes `final` from bytecode for you in order to override those methods.\r\n\r\nIn a future jOOQ version, we might implement interface code generation for DAOs, however. Those would be easier to mock.\r\n\r\nSee also:\r\nhttps://github.com/jOOQ/jOOQ/issues/3868","title":"jOOQ: Mocking DAO objects","body":"<p>Right now, it will be hard to mock jOOQ DAOs without using something like PowerMock that removes <code>final</code> from bytecode for you in order to override those methods.</p>\n<p>In a future jOOQ version, we might implement interface code generation for DAOs, however. Those would be easier to mock.</p>\n<p>See also:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/3868\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/3868</a></p>\n"}],"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27520275,"answer_count":1,"score":2,"last_activity_date":1652347909,"creation_date":1418592698,"question_id":27474349,"body_markdown":"jOOQ 3.5.0\r\n\r\nI&#39;m currently trying to write unit tests for a resource that is using jOOQs generated DAO objects.\r\n\r\nI&#39;ve noticed one of the base classes (`DAOImpl`) in the DAO hierarchy has many `final` methods which makes it unfriendly to mock (I&#39;m excluding byte code manipulators like Powermock as a solution). I&#39;m currently using the `MockConnection` and `MockDataProvider` pattern to fill in my DAOs but it seems like this is a little low level for asserting DAO method calls.\r\n\r\nAs an example, my resource is calling `FooDao.createFoo(foo)` and my point of interception in the test is `MockDataProvider.execute(...)` which provides me with a context object with raw SQL and a binding object array of values.\r\n\r\nIn order for the test to assert that `create` has been called, I would need to evaluate the raw sql. Seems wasteful to be doing something like this when the DAO has nice, fluent methods that could be asserted on.\r\n\r\nSo my question is: is there a better way to unit test DAO usage? Seems like I need A LOT of boiler plate in order to test one simple contract....\r\n\r\n    FooDao fooDao = createMock(FooDao.class);\r\n    ....\r\n    when(fooDao.fetchById(id)).thenReturn(foo);\r\n\r\nis much more preferable to the [example in the docs][1].\r\n\r\n\r\n  [1]: http://www.jooq.org/doc/3.4/manual/tools/jdbc-mocking/","title":"jOOQ: Mocking DAO objects","body":"<p>jOOQ 3.5.0</p>\n\n<p>I'm currently trying to write unit tests for a resource that is using jOOQs generated DAO objects.</p>\n\n<p>I've noticed one of the base classes (<code>DAOImpl</code>) in the DAO hierarchy has many <code>final</code> methods which makes it unfriendly to mock (I'm excluding byte code manipulators like Powermock as a solution). I'm currently using the <code>MockConnection</code> and <code>MockDataProvider</code> pattern to fill in my DAOs but it seems like this is a little low level for asserting DAO method calls.</p>\n\n<p>As an example, my resource is calling <code>FooDao.createFoo(foo)</code> and my point of interception in the test is <code>MockDataProvider.execute(...)</code> which provides me with a context object with raw SQL and a binding object array of values.</p>\n\n<p>In order for the test to assert that <code>create</code> has been called, I would need to evaluate the raw sql. Seems wasteful to be doing something like this when the DAO has nice, fluent methods that could be asserted on.</p>\n\n<p>So my question is: is there a better way to unit test DAO usage? Seems like I need A LOT of boiler plate in order to test one simple contract....</p>\n\n<pre><code>FooDao fooDao = createMock(FooDao.class);\n....\nwhen(fooDao.fetchById(id)).thenReturn(foo);\n</code></pre>\n\n<p>is much more preferable to the <a href=\"http://www.jooq.org/doc/3.4/manual/tools/jdbc-mocking/\" rel=\"nofollow\">example in the docs</a>.</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":130051,"reputation":1618,"user_id":329028,"accept_rate":100,"display_name":"Andrew B"},"score":0,"creation_date":1343120599,"post_id":11613464,"comment_id":15398691,"body_markdown":"For now I have gone down the route of using the Criteria classes.  It does seem a lot cleaner than embedding JSON queries in annotations, and easier to customize which fields are retrieved.","body":"For now I have gone down the route of using the Criteria classes.  It does seem a lot cleaner than embedding JSON queries in annotations, and easier to customize which fields are retrieved."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1346199586,"creation_date":1346177178,"answer_id":12164989,"question_id":11613464,"body_markdown":"To implement this in Boolean logic I do the following and the conversion to operations that are available in programming languages\r\n\r\n    :query != null -&gt; field == :query\r\n    !(:query != null) || (field == :query)\r\n    (:query == null) || (field == :query)\r\n\r\nIn plain SQL, this is done as \r\n\r\n    where (null = :query) or (field = :query)\r\n\r\nIn MongoDB this is done through the $where\r\n\r\n    { $where: &#39;?0 == null || this.field == ?0&#39; } \r\n\r\nWe can speed this up *a little* by using Mongo Operations rather than building everything to the function at the expense of some readability. does not work unfortunately.\r\n\r\n    { $or : [ { $where: &#39;?0 == null&#39; } , { field : ?0 } ] } \r\n\r\nSo what you have is\r\n\r\n    @Query(&quot;{ $or : [ { $where: &#39;?0 == null&#39; } , { field : ?0 } ] }&quot;)\r\n    List&lt;Something&gt; findAll(String query, Pageable pageable);\r\n\r\nThis can be further expanded to handle arrays for in/all clauses\r\n\r\n\r\n    @Query(&quot;{ $or : [ { $where: &#39;?0.length == 0&#39; } , { field : { $in : ?0 } } ] }&quot;)\r\n    List&lt;Something&gt; findAll(String query, Pageable pageable);\r\n","title":"spring-data-mongo - optional query parameters?","body":"<p>To implement this in Boolean logic I do the following and the conversion to operations that are available in programming languages</p>\n\n<pre><code>:query != null -&gt; field == :query\n!(:query != null) || (field == :query)\n(:query == null) || (field == :query)\n</code></pre>\n\n<p>In plain SQL, this is done as </p>\n\n<pre><code>where (null = :query) or (field = :query)\n</code></pre>\n\n<p>In MongoDB this is done through the $where</p>\n\n<pre><code>{ $where: '?0 == null || this.field == ?0' } \n</code></pre>\n\n<p>We can speed this up <em>a little</em> by using Mongo Operations rather than building everything to the function at the expense of some readability. does not work unfortunately.</p>\n\n<pre><code>{ $or : [ { $where: '?0 == null' } , { field : ?0 } ] } \n</code></pre>\n\n<p>So what you have is</p>\n\n<pre><code>@Query(\"{ $or : [ { $where: '?0 == null' } , { field : ?0 } ] }\")\nList&lt;Something&gt; findAll(String query, Pageable pageable);\n</code></pre>\n\n<p>This can be further expanded to handle arrays for in/all clauses</p>\n\n<pre><code>@Query(\"{ $or : [ { $where: '?0.length == 0' } , { field : { $in : ?0 } } ] }\")\nList&lt;Something&gt; findAll(String query, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8772771,"reputation":131,"user_id":6558955,"display_name":"Paul Lam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627656568,"creation_date":1627656568,"answer_id":68592973,"question_id":11613464,"body_markdown":"In addition to Archimedes&#39;s answer:   \r\nIf you need the count of matched documents, replace `$where` with `$expr`.\r\n\r\n```\r\n@Query(&quot;{ $or : [ { $expr: { $eq: [&#39;?0&#39;, &#39;null&#39;] } } , { field : ?0 } ] }&quot;)\r\nPage&lt;Something&gt; findAll(String query, Pageable pageable);\r\n```","title":"spring-data-mongo - optional query parameters?","body":"<p>In addition to Archimedes's answer:<br />\nIf you need the count of matched documents, replace <code>$where</code> with <code>$expr</code>.</p>\n<pre><code>@Query(&quot;{ $or : [ { $expr: { $eq: ['?0', 'null'] } } , { field : ?0 } ] }&quot;)\nPage&lt;Something&gt; findAll(String query, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652347833,"creation_date":1652347833,"answer_id":72213170,"question_id":11613464,"body_markdown":"Filtering out parts of the query depending on the input value is not directly supported. Nevertheless it can be done using `@Query` the `$and` and operator and a bit of [SpEL](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions).\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    interface Repo extends CrudRepository&lt;MyItem,...&gt; {\r\n\r\n      @Query(&quot;&quot;&quot;\r\n             { $and : [ \r\n                ?#{T(com.example.Repo.QueryUtil).ifPresent([0], &#39;name&#39;)}, \r\n                ?#{T(com.example.Repo.QueryUtil).ifDateBetween([1], [2], &#39;startDate&#39;)},\r\n                ... \r\n             ]}\r\n             &quot;&quot;&quot;)\r\n      Page&lt;MyItem&gt; findDataSearchParams(String name, String city, ...)\r\n    \r\n      class QueryUtil {\r\n        public static Document ifPresent(Object value, String property) {\r\n          if(value == null) {\r\n            return new Document(&quot;$expr&quot;, true); // always true\r\n          }\r\n          return new Document(property, value); // eq match\r\n        }\r\n    \r\n        public static Document ifDateBetween(Object value1, Object value2, String property) {\r\n          // ...\r\n        }\r\n      }\r\n\r\n      // ...\r\n    }\r\n\r\nInstead of addressing the target function via the `T(...)` _Type_ expression writing an `EvaluationContextExtension` (see: [json spel](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-spel) for details) allows to get rid of repeating the type name over and over again.","title":"spring-data-mongo - optional query parameters?","body":"<p>Filtering out parts of the query depending on the input value is not directly supported. Nevertheless it can be done using <code>@Query</code> the <code>$and</code> and operator and a bit of <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL</a>.</p>\n\n<pre><code>interface Repo extends CrudRepository&lt;MyItem,...&gt; {\n\n  @Query(&quot;&quot;&quot;\n         { $and : [ \n            ?#{T(com.example.Repo.QueryUtil).ifPresent([0], 'name')}, \n            ?#{T(com.example.Repo.QueryUtil).ifDateBetween([1], [2], 'startDate')},\n            ... \n         ]}\n         &quot;&quot;&quot;)\n  Page&lt;MyItem&gt; findDataSearchParams(String name, String city, ...)\n\n  class QueryUtil {\n    public static Document ifPresent(Object value, String property) {\n      if(value == null) {\n        return new Document(&quot;$expr&quot;, true); // always true\n      }\n      return new Document(property, value); // eq match\n    }\n\n    public static Document ifDateBetween(Object value1, Object value2, String property) {\n      // ...\n    }\n  }\n\n  // ...\n}\n</code></pre>\n<p>Instead of addressing the target function via the <code>T(...)</code> <em>Type</em> expression writing an <code>EvaluationContextExtension</code> (see: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-spel\" rel=\"nofollow noreferrer\">json spel</a> for details) allows to get rid of repeating the type name over and over again.</p>\n"}],"owner":{"account_id":130051,"reputation":1618,"user_id":329028,"accept_rate":100,"display_name":"Andrew B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21798,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":12164989,"answer_count":3,"score":20,"last_activity_date":1652347833,"creation_date":1343049959,"question_id":11613464,"body_markdown":"I am using spring-data mongo with the JSON based query methods, and am unsure how to allow optional parameters in a search query.  \r\n\r\nFor instance - say I had the following function\r\n\r\n    @Query(&quot;{ &#39;name&#39; : {$regex : ?0, $options : &#39;i&#39;}, &#39;createdDate&#39; : {$gte : ?1, $lt : ?2 }} }&quot;)\r\n    List&lt;MyItem&gt; getItemsLikeNameByDateRange(String name, Date startDateRange, Date endDateRange);\r\n\r\n-but I didnt want to apply the name regex match, or not apply a date range restriction if NULL values were passed to the method.\r\n\r\nAt the moment it looks like I might have to build the query using the mongoTemplate.  \r\n\r\nAre there any alternatives - or is using mongoTemplate the best option?\r\n\r\nThanks\r\n\r\n\r\n","title":"spring-data-mongo - optional query parameters?","body":"<p>I am using spring-data mongo with the JSON based query methods, and am unsure how to allow optional parameters in a search query.  </p>\n\n<p>For instance - say I had the following function</p>\n\n<pre><code>@Query(\"{ 'name' : {$regex : ?0, $options : 'i'}, 'createdDate' : {$gte : ?1, $lt : ?2 }} }\")\nList&lt;MyItem&gt; getItemsLikeNameByDateRange(String name, Date startDateRange, Date endDateRange);\n</code></pre>\n\n<p>-but I didnt want to apply the name regex match, or not apply a date range restriction if NULL values were passed to the method.</p>\n\n<p>At the moment it looks like I might have to build the query using the mongoTemplate.  </p>\n\n<p>Are there any alternatives - or is using mongoTemplate the best option?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","ssl","jira-rest-api"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1652258241,"post_id":72197573,"comment_id":127560237,"body_markdown":"You are trying to reach JIRA over `https`, so you need to use a `HttpsURLConnection` here.","body":"You are trying to reach JIRA over <code>https</code>, so you need to use a <code>HttpsURLConnection</code> here."},{"owner":{"account_id":23656823,"reputation":33,"user_id":17684972,"display_name":"omkar2k"},"score":0,"creation_date":1652261121,"post_id":72197573,"comment_id":127561319,"body_markdown":"i added this HttpsURLConnection but also showing same error","body":"i added this HttpsURLConnection but also showing same error"}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652347580,"creation_date":1652272705,"answer_id":72201208,"question_id":72197573,"body_markdown":"`HttpsURLConnection` is using by default the JDK trusted certificates to validate the server certificate whether it is known and trusted. If it is present over there it won&#39;t throw a `SSLHandshakeException`\r\n\r\nJira has currently the following certificate chain:\r\n\r\n[![Jira server certificate][1]][1]\r\n\r\nYou can easily verify whether your `HttpsURLConnection` has the trusted certificate by adding a breakpoint after initializing the `HttpsURLConnection` See below for an example:\r\n\r\n[![debug information][2]][2]\r\n\r\nSo my assumption is that in your case the certificate is not present in the JDK truststore. What you can do is extract the Jira certificate, just like shown here: https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server afterwords either import it into `cacert` file here: `$JAVA_HOME/lib/security/cacerts`. But I think it will be better to provide a custom ssl configuration to your HttpsUrlConnection as it would be more maintainable in my opinion. But either options will work.\r\n\r\nSo the following code snippet is for option 2 when using custom trustore:\r\n\r\n**Option 2**\r\n```java\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.security.KeyStore;\r\nimport java.util.Objects;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Path trustStorePath = Paths.get(&quot;/path/to/your/truststore.jks&quot;);\r\n        char[] trustStorePassword = &quot;my-password&quot;.toCharArray();\r\n\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        try(InputStream inputStream = Objects.requireNonNull(Files.newInputStream(trustStorePath))) {\r\n            trustStore.load(inputStream, trustStorePassword);\r\n        }\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(trustStore);\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n\r\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setSSLSocketFactory(socketFactory);\r\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n\r\n        try(InputStream inputStream = connection.getInputStream();\r\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\r\n\r\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n            System.out.println(responseBody);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nOr you can do everything inline without the custom truststore from your filesystem as shown below. In this way you have the the root ca as pem, which is `DigiCert High Assurance EV ROOT CA` and load it programatically into your in memory truststore.\r\n\r\n**Option 3**\r\n```java\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedReader;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\nimport java.security.KeyStore;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\nimport java.util.UUID;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String atlassian = &quot;&quot;\r\n                + &quot;MIIFdzCCBP6gAwIBAgIQAgzZlKL4HKlpT4RkDXUi8TAKBggqhkjOPQQDAzBWMQsw&quot;\r\n                + &quot;CQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMTAwLgYDVQQDEydEaWdp&quot;\r\n                + &quot;Q2VydCBUTFMgSHlicmlkIEVDQyBTSEEzODQgMjAyMCBDQTEwHhcNMjIwNTEwMDAw&quot;\r\n                + &quot;MDAwWhcNMjMwNjEwMjM1OTU5WjBuMQswCQYDVQQGEwJBVTEYMBYGA1UECBMPTmV3&quot;\r\n                + &quot;IFNvdXRoIFdhbGVzMQ8wDQYDVQQHEwZTeWRuZXkxGjAYBgNVBAoTEUF0bGFzc2lh&quot;\r\n                + &quot;biBQdHkgTHRkMRgwFgYDVQQDDA8qLmF0bGFzc2lhbi5jb20wWTATBgcqhkjOPQIB&quot;\r\n                + &quot;BggqhkjOPQMBBwNCAAR7p4KtlAjEKMIH66rdbCXtkR5nO20hqZco8B/L+EuJ9mqJ&quot;\r\n                + &quot;PT4dmaDR8OZWzlLXfqiKKhtxuPckC5dtwns4kXyAo4IDlDCCA5AwHwYDVR0jBBgw&quot;\r\n                + &quot;FoAUCrwIKReMpTlteg7OM8cus+37w3owHQYDVR0OBBYEFMw8XjgJmgk4VGCBWOyG&quot;\r\n                + &quot;Lr/FMrRZMCkGA1UdEQQiMCCCDyouYXRsYXNzaWFuLmNvbYINYXRsYXNzaWFuLmNv&quot;\r\n                + &quot;bTAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC&quot;\r\n                + &quot;MIGbBgNVHR8EgZMwgZAwRqBEoEKGQGh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9E&quot;\r\n                + &quot;aWdpQ2VydFRMU0h5YnJpZEVDQ1NIQTM4NDIwMjBDQTEtMS5jcmwwRqBEoEKGQGh0&quot;\r\n                + &quot;dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRMU0h5YnJpZEVDQ1NIQTM4&quot;\r\n                + &quot;NDIwMjBDQTEtMS5jcmwwPgYDVR0gBDcwNTAzBgZngQwBAgIwKTAnBggrBgEFBQcC&quot;\r\n                + &quot;ARYbaHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMIGFBggrBgEFBQcBAQR5MHcw&quot;\r\n                + &quot;JAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBPBggrBgEFBQcw&quot;\r\n                + &quot;AoZDaHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VExTSHlicmlk&quot;\r\n                + &quot;RUNDU0hBMzg0MjAyMENBMS0xLmNydDAJBgNVHRMEAjAAMIIBgQYKKwYBBAHWeQIE&quot;\r\n                + &quot;AgSCAXEEggFtAWsAdwCt9776fP8QyIudPZwePhhqtGcpXc+xDCTKhYY069yCigAA&quot;\r\n                + &quot;AYCt4OEbAAAEAwBIMEYCIQC37AW4L7CCrKn0+kTydWf3zn6tdkFOg/ZI3mUU4/P3&quot;\r\n                + &quot;CwIhAOnIlT0eX2nzpr6+d3GReTVlVf5+coiyYsSOJWOANM2ZAHcANc8ZG7+xbFe/&quot;\r\n                + &quot;D61MbULLu7YnICZR6j/hKu+oA8M71kwAAAGAreDg7wAABAMASDBGAiEAj67xO2t2&quot;\r\n                + &quot;OVtwSjLdsD8RknexjRqu+Ifwp5wO/2p8a84CIQDw9OKwzRnQ4cxYPKPrIYGm5hbH&quot;\r\n                + &quot;KfVwcBMmo0u0XQ2YlQB3ALNzdwfhhFD4Y4bWBancEQlKeS2xZwwLh9zwAw55NqWa&quot;\r\n                + &quot;AAABgK3g4SEAAAQDAEgwRgIhAP/l3SLBl5/9RHQvd5GjApgGAne4J/XnA68l/vQp&quot;\r\n                + &quot;x7jHAiEAxWnEzde1lf4a1kMuFUyc6fBUE88GVb+zC9rjv4KCDcQwCgYIKoZIzj0E&quot;\r\n                + &quot;AwMDZwAwZAIwFcy1X+o/HkXrM8rFdcjBGCieA0oBeRSSifale32U36xquKPBtSvm&quot;\r\n                + &quot;2g/HAZh2N3DDAjBM4zmAiD0WTA0o3Fnh03mIwP/98RqXvjiDUL/bzovejseo8eRp&quot;\r\n                + &quot;FDjNl90IcJuAoGc=&quot;;\r\n\r\n        String digicertCa = &quot;&quot;\r\n                + &quot;MIIEFzCCAv+gAwIBAgIQB/LzXIeod6967+lHmTUlvTANBgkqhkiG9w0BAQwFADBh&quot;\r\n                + &quot;MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3&quot;\r\n                + &quot;d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD&quot;\r\n                + &quot;QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaMFYxCzAJBgNVBAYTAlVT&quot;\r\n                + &quot;MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxMDAuBgNVBAMTJ0RpZ2lDZXJ0IFRMUyBI&quot;\r\n                + &quot;eWJyaWQgRUNDIFNIQTM4NCAyMDIwIENBMTB2MBAGByqGSM49AgEGBSuBBAAiA2IA&quot;\r\n                + &quot;BMEbxppbmNmkKaDp1AS12+umsmxVwP/tmMZJLwYnUcu/cMEFesOxnYeJuq20ExfJ&quot;\r\n                + &quot;qLSDyLiQ0cx0NTY8g3KwtdD3ImnI8YDEe0CPz2iHJlw5ifFNkU3aiYvkA8ND5b8v&quot;\r\n                + &quot;c6OCAYIwggF+MBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFAq8CCkXjKU5&quot;\r\n                + &quot;bXoOzjPHLrPt+8N6MB8GA1UdIwQYMBaAFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMA4G&quot;\r\n                + &quot;A1UdDwEB/wQEAwIBhjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwdgYI&quot;\r\n                + &quot;KwYBBQUHAQEEajBoMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5j&quot;\r\n                + &quot;b20wQAYIKwYBBQUHMAKGNGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdp&quot;\r\n                + &quot;Q2VydEdsb2JhbFJvb3RDQS5jcnQwQgYDVR0fBDswOTA3oDWgM4YxaHR0cDovL2Ny&quot;\r\n                + &quot;bDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNybDA9BgNVHSAE&quot;\r\n                + &quot;NjA0MAsGCWCGSAGG/WwCATAHBgVngQwBATAIBgZngQwBAgEwCAYGZ4EMAQICMAgG&quot;\r\n                + &quot;BmeBDAECAzANBgkqhkiG9w0BAQwFAAOCAQEAR1mBf9QbH7Bx9phdGLqYR5iwfnYr&quot;\r\n                + &quot;6v8ai6wms0KNMeZK6BnQ79oU59cUkqGS8qcuLa/7Hfb7U7CKP/zYFgrpsC62pQsY&quot;\r\n                + &quot;kDUmotr2qLcy/JUjS8ZFucTP5Hzu5sn4kL1y45nDHQsFfGqXbbKrAjbYwrwsAZI/&quot;\r\n                + &quot;BKOLdRHHuSm8EdCGupK8JvllyDfNJvaGEwwEqonleLHBTnm8dqMLUeTF0J5q/hos&quot;\r\n                + &quot;Vq4GNiejcxwIfZMy0MJEGdqN9A57HSgDKwmKdsp33Id6rHtSJlWncg+d0ohP/rEh&quot;\r\n                + &quot;xRqhqjn1VtvChMQ1H3Dau0bwhr9kAMQ+959GG50jBbl9s08PqUU643QwmA==&quot;;\r\n\r\n        String digicertRootCa = &quot;&quot;\r\n                + &quot;MIIDrzCCApegAwIBAgIQCDvgVpBCRrGhdWrJWZHHSjANBgkqhkiG9w0BAQUFADBh&quot;\r\n                + &quot;MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3&quot;\r\n                + &quot;d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD&quot;\r\n                + &quot;QTAeFw0wNjExMTAwMDAwMDBaFw0zMTExMTAwMDAwMDBaMGExCzAJBgNVBAYTAlVT&quot;\r\n                + &quot;MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j&quot;\r\n                + &quot;b20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENBMIIBIjANBgkqhkiG&quot;\r\n                + &quot;9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4jvhEXLeqKTTo1eqUKKPC3eQyaKl7hLOllsB&quot;\r\n                + &quot;CSDMAZOnTjC3U/dDxGkAV53ijSLdhwZAAIEJzs4bg7/fzTtxRuLWZscFs3YnFo97&quot;\r\n                + &quot;nh6Vfe63SKMI2tavegw5BmV/Sl0fvBf4q77uKNd0f3p4mVmFaG5cIzJLv07A6Fpt&quot;\r\n                + &quot;43C/dxC//AH2hdmoRBBYMql1GNXRor5H4idq9Joz+EkIYIvUX7Q6hL+hqkpMfT7P&quot;\r\n                + &quot;T19sdl6gSzeRntwi5m3OFBqOasv+zbMUZBfHWymeMr/y7vrTC0LUq7dBMtoM1O/4&quot;\r\n                + &quot;gdW7jVg/tRvoSSiicNoxBN33shbyTApOB6jtSj1etX+jkMOvJwIDAQABo2MwYTAO&quot;\r\n                + &quot;BgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUA95QNVbR&quot;\r\n                + &quot;TLtm8KPiGxvDl7I90VUwHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUw&quot;\r\n                + &quot;DQYJKoZIhvcNAQEFBQADggEBAMucN6pIExIK+t1EnE9SsPTfrgT1eXkIoyQY/Esr&quot;\r\n                + &quot;hMAtudXH/vTBH1jLuG2cenTnmCmrEbXjcKChzUyImZOMkXDiqw8cvpOp/2PV5Adg&quot;\r\n                + &quot;06O/nVsJ8dWO41P0jmP6P6fbtGbfYmbW0W5BjfIttep3Sp+dWOIrWcBAI+0tKIJF&quot;\r\n                + &quot;PnlUkiaY4IBIqDfv8NZ5YBberOgOzW6sRBc4L0na4UU+Krk2U886UAb3LujEV0ls&quot;\r\n                + &quot;YSEY1QSteDwsOoBrp+uvFRTp2InBuThs4pFsiv9kuXclVzDAGySj4dzp30d8tbQk&quot;\r\n                + &quot;CAUw7C29C79Fv1C5qfPrmAESrciIxpg0X40KPMbp1ZWVbd4=&quot;;\r\n\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        trustStore.load(null);\r\n\r\n        for (String certificateContent : Arrays.asList(atlassian, digicertCa, digicertRootCa)) {\r\n            byte[] decodedCertificate = Base64.getDecoder().decode(certificateContent);\r\n\r\n            try(ByteArrayInputStream certificateAsInputStream = new ByteArrayInputStream(decodedCertificate);\r\n                BufferedInputStream bufferedCertificateStream = new BufferedInputStream(certificateAsInputStream)) {\r\n\r\n                CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                Certificate certificate = certificateFactory.generateCertificate(bufferedCertificateStream);\r\n                trustStore.setCertificateEntry(UUID.randomUUID().toString(), certificate);\r\n            }\r\n        }\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(trustStore);\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n\r\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setSSLSocketFactory(socketFactory);\r\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n\r\n        try(InputStream inputStream = connection.getInputStream();\r\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\r\n\r\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n            System.out.println(responseBody);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nLast resort would be disable the certificate validation, but I would not recommend that. Below is an example for that:\r\n\r\n**Option 4**\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.Socket;\r\nimport java.net.URL;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        X509ExtendedTrustManager unsafeTrustManager = new X509ExtendedTrustManager() {\r\n            @Override\r\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s, Socket socket) {}\r\n\r\n            @Override\r\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s, Socket socket) {}\r\n\r\n            @Override\r\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) {}\r\n\r\n            @Override\r\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) {}\r\n\r\n            @Override\r\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s) {}\r\n\r\n            @Override\r\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s) {}\r\n\r\n            @Override\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return new X509Certificate[0];\r\n            }\r\n        };\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{ unsafeTrustManager }, null);\r\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n\r\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setSSLSocketFactory(socketFactory);\r\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n\r\n        try(InputStream inputStream = connection.getInputStream();\r\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\r\n\r\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n            System.out.println(responseBody);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Xwb7X.png\r\n  [2]: https://i.stack.imgur.com/HeZAW.jpg","title":"How connection with JIRA using RESTAPI with java?","body":"<p><code>HttpsURLConnection</code> is using by default the JDK trusted certificates to validate the server certificate whether it is known and trusted. If it is present over there it won't throw a <code>SSLHandshakeException</code></p>\n<p>Jira has currently the following certificate chain:</p>\n<p><a href=\"https://i.stack.imgur.com/Xwb7X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xwb7X.png\" alt=\"Jira server certificate\" /></a></p>\n<p>You can easily verify whether your <code>HttpsURLConnection</code> has the trusted certificate by adding a breakpoint after initializing the <code>HttpsURLConnection</code> See below for an example:</p>\n<p><a href=\"https://i.stack.imgur.com/HeZAW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HeZAW.jpg\" alt=\"debug information\" /></a></p>\n<p>So my assumption is that in your case the certificate is not present in the JDK truststore. What you can do is extract the Jira certificate, just like shown here: <a href=\"https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server\">Using openssl to get the certificate from a server</a> afterwords either import it into <code>cacert</code> file here: <code>$JAVA_HOME/lib/security/cacerts</code>. But I think it will be better to provide a custom ssl configuration to your HttpsUrlConnection as it would be more maintainable in my opinion. But either options will work.</p>\n<p>So the following code snippet is for option 2 when using custom trustore:</p>\n<p><strong>Option 2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.security.KeyStore;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        Path trustStorePath = Paths.get(&quot;/path/to/your/truststore.jks&quot;);\n        char[] trustStorePassword = &quot;my-password&quot;.toCharArray();\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        try(InputStream inputStream = Objects.requireNonNull(Files.newInputStream(trustStorePath))) {\n            trustStore.load(inputStream, trustStorePassword);\n        }\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setSSLSocketFactory(socketFactory);\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\n\n        try(InputStream inputStream = connection.getInputStream();\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\n            System.out.println(responseBody);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Or you can do everything inline without the custom truststore from your filesystem as shown below. In this way you have the the root ca as pem, which is <code>DigiCert High Assurance EV ROOT CA</code> and load it programatically into your in memory truststore.</p>\n<p><strong>Option 3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.UUID;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        String atlassian = &quot;&quot;\n                + &quot;MIIFdzCCBP6gAwIBAgIQAgzZlKL4HKlpT4RkDXUi8TAKBggqhkjOPQQDAzBWMQsw&quot;\n                + &quot;CQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMTAwLgYDVQQDEydEaWdp&quot;\n                + &quot;Q2VydCBUTFMgSHlicmlkIEVDQyBTSEEzODQgMjAyMCBDQTEwHhcNMjIwNTEwMDAw&quot;\n                + &quot;MDAwWhcNMjMwNjEwMjM1OTU5WjBuMQswCQYDVQQGEwJBVTEYMBYGA1UECBMPTmV3&quot;\n                + &quot;IFNvdXRoIFdhbGVzMQ8wDQYDVQQHEwZTeWRuZXkxGjAYBgNVBAoTEUF0bGFzc2lh&quot;\n                + &quot;biBQdHkgTHRkMRgwFgYDVQQDDA8qLmF0bGFzc2lhbi5jb20wWTATBgcqhkjOPQIB&quot;\n                + &quot;BggqhkjOPQMBBwNCAAR7p4KtlAjEKMIH66rdbCXtkR5nO20hqZco8B/L+EuJ9mqJ&quot;\n                + &quot;PT4dmaDR8OZWzlLXfqiKKhtxuPckC5dtwns4kXyAo4IDlDCCA5AwHwYDVR0jBBgw&quot;\n                + &quot;FoAUCrwIKReMpTlteg7OM8cus+37w3owHQYDVR0OBBYEFMw8XjgJmgk4VGCBWOyG&quot;\n                + &quot;Lr/FMrRZMCkGA1UdEQQiMCCCDyouYXRsYXNzaWFuLmNvbYINYXRsYXNzaWFuLmNv&quot;\n                + &quot;bTAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC&quot;\n                + &quot;MIGbBgNVHR8EgZMwgZAwRqBEoEKGQGh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9E&quot;\n                + &quot;aWdpQ2VydFRMU0h5YnJpZEVDQ1NIQTM4NDIwMjBDQTEtMS5jcmwwRqBEoEKGQGh0&quot;\n                + &quot;dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRMU0h5YnJpZEVDQ1NIQTM4&quot;\n                + &quot;NDIwMjBDQTEtMS5jcmwwPgYDVR0gBDcwNTAzBgZngQwBAgIwKTAnBggrBgEFBQcC&quot;\n                + &quot;ARYbaHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMIGFBggrBgEFBQcBAQR5MHcw&quot;\n                + &quot;JAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBPBggrBgEFBQcw&quot;\n                + &quot;AoZDaHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VExTSHlicmlk&quot;\n                + &quot;RUNDU0hBMzg0MjAyMENBMS0xLmNydDAJBgNVHRMEAjAAMIIBgQYKKwYBBAHWeQIE&quot;\n                + &quot;AgSCAXEEggFtAWsAdwCt9776fP8QyIudPZwePhhqtGcpXc+xDCTKhYY069yCigAA&quot;\n                + &quot;AYCt4OEbAAAEAwBIMEYCIQC37AW4L7CCrKn0+kTydWf3zn6tdkFOg/ZI3mUU4/P3&quot;\n                + &quot;CwIhAOnIlT0eX2nzpr6+d3GReTVlVf5+coiyYsSOJWOANM2ZAHcANc8ZG7+xbFe/&quot;\n                + &quot;D61MbULLu7YnICZR6j/hKu+oA8M71kwAAAGAreDg7wAABAMASDBGAiEAj67xO2t2&quot;\n                + &quot;OVtwSjLdsD8RknexjRqu+Ifwp5wO/2p8a84CIQDw9OKwzRnQ4cxYPKPrIYGm5hbH&quot;\n                + &quot;KfVwcBMmo0u0XQ2YlQB3ALNzdwfhhFD4Y4bWBancEQlKeS2xZwwLh9zwAw55NqWa&quot;\n                + &quot;AAABgK3g4SEAAAQDAEgwRgIhAP/l3SLBl5/9RHQvd5GjApgGAne4J/XnA68l/vQp&quot;\n                + &quot;x7jHAiEAxWnEzde1lf4a1kMuFUyc6fBUE88GVb+zC9rjv4KCDcQwCgYIKoZIzj0E&quot;\n                + &quot;AwMDZwAwZAIwFcy1X+o/HkXrM8rFdcjBGCieA0oBeRSSifale32U36xquKPBtSvm&quot;\n                + &quot;2g/HAZh2N3DDAjBM4zmAiD0WTA0o3Fnh03mIwP/98RqXvjiDUL/bzovejseo8eRp&quot;\n                + &quot;FDjNl90IcJuAoGc=&quot;;\n\n        String digicertCa = &quot;&quot;\n                + &quot;MIIEFzCCAv+gAwIBAgIQB/LzXIeod6967+lHmTUlvTANBgkqhkiG9w0BAQwFADBh&quot;\n                + &quot;MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3&quot;\n                + &quot;d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD&quot;\n                + &quot;QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaMFYxCzAJBgNVBAYTAlVT&quot;\n                + &quot;MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxMDAuBgNVBAMTJ0RpZ2lDZXJ0IFRMUyBI&quot;\n                + &quot;eWJyaWQgRUNDIFNIQTM4NCAyMDIwIENBMTB2MBAGByqGSM49AgEGBSuBBAAiA2IA&quot;\n                + &quot;BMEbxppbmNmkKaDp1AS12+umsmxVwP/tmMZJLwYnUcu/cMEFesOxnYeJuq20ExfJ&quot;\n                + &quot;qLSDyLiQ0cx0NTY8g3KwtdD3ImnI8YDEe0CPz2iHJlw5ifFNkU3aiYvkA8ND5b8v&quot;\n                + &quot;c6OCAYIwggF+MBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFAq8CCkXjKU5&quot;\n                + &quot;bXoOzjPHLrPt+8N6MB8GA1UdIwQYMBaAFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMA4G&quot;\n                + &quot;A1UdDwEB/wQEAwIBhjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwdgYI&quot;\n                + &quot;KwYBBQUHAQEEajBoMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5j&quot;\n                + &quot;b20wQAYIKwYBBQUHMAKGNGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdp&quot;\n                + &quot;Q2VydEdsb2JhbFJvb3RDQS5jcnQwQgYDVR0fBDswOTA3oDWgM4YxaHR0cDovL2Ny&quot;\n                + &quot;bDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNybDA9BgNVHSAE&quot;\n                + &quot;NjA0MAsGCWCGSAGG/WwCATAHBgVngQwBATAIBgZngQwBAgEwCAYGZ4EMAQICMAgG&quot;\n                + &quot;BmeBDAECAzANBgkqhkiG9w0BAQwFAAOCAQEAR1mBf9QbH7Bx9phdGLqYR5iwfnYr&quot;\n                + &quot;6v8ai6wms0KNMeZK6BnQ79oU59cUkqGS8qcuLa/7Hfb7U7CKP/zYFgrpsC62pQsY&quot;\n                + &quot;kDUmotr2qLcy/JUjS8ZFucTP5Hzu5sn4kL1y45nDHQsFfGqXbbKrAjbYwrwsAZI/&quot;\n                + &quot;BKOLdRHHuSm8EdCGupK8JvllyDfNJvaGEwwEqonleLHBTnm8dqMLUeTF0J5q/hos&quot;\n                + &quot;Vq4GNiejcxwIfZMy0MJEGdqN9A57HSgDKwmKdsp33Id6rHtSJlWncg+d0ohP/rEh&quot;\n                + &quot;xRqhqjn1VtvChMQ1H3Dau0bwhr9kAMQ+959GG50jBbl9s08PqUU643QwmA==&quot;;\n\n        String digicertRootCa = &quot;&quot;\n                + &quot;MIIDrzCCApegAwIBAgIQCDvgVpBCRrGhdWrJWZHHSjANBgkqhkiG9w0BAQUFADBh&quot;\n                + &quot;MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3&quot;\n                + &quot;d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD&quot;\n                + &quot;QTAeFw0wNjExMTAwMDAwMDBaFw0zMTExMTAwMDAwMDBaMGExCzAJBgNVBAYTAlVT&quot;\n                + &quot;MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j&quot;\n                + &quot;b20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENBMIIBIjANBgkqhkiG&quot;\n                + &quot;9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4jvhEXLeqKTTo1eqUKKPC3eQyaKl7hLOllsB&quot;\n                + &quot;CSDMAZOnTjC3U/dDxGkAV53ijSLdhwZAAIEJzs4bg7/fzTtxRuLWZscFs3YnFo97&quot;\n                + &quot;nh6Vfe63SKMI2tavegw5BmV/Sl0fvBf4q77uKNd0f3p4mVmFaG5cIzJLv07A6Fpt&quot;\n                + &quot;43C/dxC//AH2hdmoRBBYMql1GNXRor5H4idq9Joz+EkIYIvUX7Q6hL+hqkpMfT7P&quot;\n                + &quot;T19sdl6gSzeRntwi5m3OFBqOasv+zbMUZBfHWymeMr/y7vrTC0LUq7dBMtoM1O/4&quot;\n                + &quot;gdW7jVg/tRvoSSiicNoxBN33shbyTApOB6jtSj1etX+jkMOvJwIDAQABo2MwYTAO&quot;\n                + &quot;BgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUA95QNVbR&quot;\n                + &quot;TLtm8KPiGxvDl7I90VUwHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUw&quot;\n                + &quot;DQYJKoZIhvcNAQEFBQADggEBAMucN6pIExIK+t1EnE9SsPTfrgT1eXkIoyQY/Esr&quot;\n                + &quot;hMAtudXH/vTBH1jLuG2cenTnmCmrEbXjcKChzUyImZOMkXDiqw8cvpOp/2PV5Adg&quot;\n                + &quot;06O/nVsJ8dWO41P0jmP6P6fbtGbfYmbW0W5BjfIttep3Sp+dWOIrWcBAI+0tKIJF&quot;\n                + &quot;PnlUkiaY4IBIqDfv8NZ5YBberOgOzW6sRBc4L0na4UU+Krk2U886UAb3LujEV0ls&quot;\n                + &quot;YSEY1QSteDwsOoBrp+uvFRTp2InBuThs4pFsiv9kuXclVzDAGySj4dzp30d8tbQk&quot;\n                + &quot;CAUw7C29C79Fv1C5qfPrmAESrciIxpg0X40KPMbp1ZWVbd4=&quot;;\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        trustStore.load(null);\n\n        for (String certificateContent : Arrays.asList(atlassian, digicertCa, digicertRootCa)) {\n            byte[] decodedCertificate = Base64.getDecoder().decode(certificateContent);\n\n            try(ByteArrayInputStream certificateAsInputStream = new ByteArrayInputStream(decodedCertificate);\n                BufferedInputStream bufferedCertificateStream = new BufferedInputStream(certificateAsInputStream)) {\n\n                CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n                Certificate certificate = certificateFactory.generateCertificate(bufferedCertificateStream);\n                trustStore.setCertificateEntry(UUID.randomUUID().toString(), certificate);\n            }\n        }\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setSSLSocketFactory(socketFactory);\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\n\n        try(InputStream inputStream = connection.getInputStream();\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\n            System.out.println(responseBody);\n        }\n    }\n\n}\n</code></pre>\n<p>Last resort would be disable the certificate validation, but I would not recommend that. Below is an example for that:</p>\n<p><strong>Option 4</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.Socket;\nimport java.net.URL;\nimport java.security.cert.X509Certificate;\nimport java.util.stream.Collectors;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        X509ExtendedTrustManager unsafeTrustManager = new X509ExtendedTrustManager() {\n            @Override\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s, Socket socket) {}\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s, Socket socket) {}\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) {}\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) {}\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s) {}\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s) {}\n\n            @Override\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n        };\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{ unsafeTrustManager }, null);\n        SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n\n        URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setSSLSocketFactory(socketFactory);\n        connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\n\n        try(InputStream inputStream = connection.getInputStream();\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n\n            String responseBody = bufferedReader.lines().collect(Collectors.joining(System.lineSeparator()));\n            System.out.println(responseBody);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23656823,"reputation":33,"user_id":17684972,"display_name":"omkar2k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72201208,"answer_count":1,"score":0,"last_activity_date":1652347580,"creation_date":1652256636,"question_id":72197573,"body_markdown":"My task is to establish a connection to JIRA in java using RESTAPI. I&#39;m facing an error with the SSL security certificate. I have tried many times and looked on google, but I didn&#39;t find any solution to my problem. Can anyone help me to fix this error?\r\n   \r\n **APOD.java**\r\n\r\n```java\r\npackage com.jiraconnection;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class APOD {\r\n\tpublic final String expand;\r\n\tpublic final String id;\r\n\tpublic final String key;\r\n\tpublic final String self;\r\n\r\n\tpublic APOD(@JsonProperty(&quot;expand&quot;) String expand,\r\n\t\t@JsonProperty(&quot;id&quot;) String id,\r\n\t\t@JsonProperty(&quot;key&quot;) String key,\r\n\t\t@JsonProperty(&quot;self&quot;) String self) {\r\n\t\tthis.expand = expand;\r\n\t\tthis.id = id;\r\n\t\tthis.key = key;\r\n\t\tthis.self = self;\r\n\r\n\t}\r\n}\r\n```\r\n         \r\n**JavaHttpURLConnectionDemo.java**\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class JavaHttpURLConnectionDemo {\r\n\r\n   public static void main(String[] args) throws IOException {\r\n\r\n   \t// Create a neat value object to hold the URL\r\n   \tURL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\r\n\r\n   \t// Open a connection(?) on the URL(?) and cast the response(??)\r\n   \tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\r\n   \t// Now it&#39;s &quot;open&quot;, we can set the request method, headers etc.\r\n   \tconnection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n\r\n   \t// This line makes the request\r\n   \tInputStream responseStream = connection.getInputStream();\r\n\r\n   \t// Manually converting the response body InputStream to APOD using Jackson\r\n   \tObjectMapper mapper = new ObjectMapper();\r\n   \tAPOD apod = mapper.readValue(responseStream, APOD.class);\r\n\r\n   \t// Finally we have the response\r\n   \tSystem.out.println(apod.expand);\r\n\r\n   }\r\n\r\n}\r\n```\r\n\r\n **Error**\r\n\r\n```\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1340)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1215)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1158)\r\n```","title":"How connection with JIRA using RESTAPI with java?","body":"<p>My task is to establish a connection to JIRA in java using RESTAPI. I'm facing an error with the SSL security certificate. I have tried many times and looked on google, but I didn't find any solution to my problem. Can anyone help me to fix this error?</p>\n<p><strong>APOD.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jiraconnection;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class APOD {\n    public final String expand;\n    public final String id;\n    public final String key;\n    public final String self;\n\n    public APOD(@JsonProperty(&quot;expand&quot;) String expand,\n        @JsonProperty(&quot;id&quot;) String id,\n        @JsonProperty(&quot;key&quot;) String key,\n        @JsonProperty(&quot;self&quot;) String self) {\n        this.expand = expand;\n        this.id = id;\n        this.key = key;\n        this.self = self;\n\n    }\n}\n</code></pre>\n<p><strong>JavaHttpURLConnectionDemo.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class JavaHttpURLConnectionDemo {\n\n   public static void main(String[] args) throws IOException {\n\n    // Create a neat value object to hold the URL\n    URL url = new URL(&quot;https://jira.atlassian.com/rest/api/latest/issue/JRA-9&quot;);\n\n    // Open a connection(?) on the URL(?) and cast the response(??)\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n\n    // Now it's &quot;open&quot;, we can set the request method, headers etc.\n    connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\n\n    // This line makes the request\n    InputStream responseStream = connection.getInputStream();\n\n    // Manually converting the response body InputStream to APOD using Jackson\n    ObjectMapper mapper = new ObjectMapper();\n    APOD apod = mapper.readValue(responseStream, APOD.class);\n\n    // Finally we have the response\n    System.out.println(apod.expand);\n\n   }\n\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>    Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1340)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1215)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1158)\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1652349183,"post_id":72213099,"comment_id":127586801,"body_markdown":"It is called `groupId`, not `group-id`, similar for `artifactId`.","body":"It is called <code>groupId</code>, not <code>group-id</code>, similar for <code>artifactId</code>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1652349879,"post_id":72213099,"comment_id":127587026,"body_markdown":"Jvrp is not in the Maven Central repository. So first, you have to build it with Maven `clean install` to get it in your local Maven repository and to be able to use it as dependency in your project. Did you do that? J Fabian Meier is right, in the [Jvrp&#39;s `README.md` the  Maven dependency snippet is incorrect](https://github.com/natzei/jvrp/pull/5/files).","body":"Jvrp is not in the Maven Central repository. So first, you have to build it with Maven <code>clean install</code> to get it in your local Maven repository and to be able to use it as dependency in your project. Did you do that? J Fabian Meier is right, in the <a href=\"https://github.com/natzei/jvrp/pull/5/files\" rel=\"nofollow noreferrer\">Jvrp&#39;s <code>README.md</code> the  Maven dependency snippet is incorrect</a>."},{"owner":{"account_id":17445223,"reputation":151,"user_id":14053977,"display_name":"user14053977"},"score":0,"creation_date":1652350393,"post_id":72213099,"comment_id":127587200,"body_markdown":"Thanks for your help, but I don&#39;t know enough about how to use Maven please can you write me the steps from a to z to run this project on my Eclipse IDE.","body":"Thanks for your help, but I don&#39;t know enough about how to use Maven please can you write me the steps from a to z to run this project on my Eclipse IDE."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1652352133,"post_id":72213099,"comment_id":127587792,"body_markdown":"1. Clone Jvrp 2. Import Jvrp 3. Right-click `Jvrp/pom.xml` and choose _Run As &gt; Maven Install_. Finally, in your project, correct the syntax of the dependency.","body":"1. Clone Jvrp 2. Import Jvrp 3. Right-click <code>Jvrp&#47;pom.xml</code> and choose <i>Run As &gt; Maven Install</i>. Finally, in your project, correct the syntax of the dependency."},{"owner":{"account_id":17445223,"reputation":151,"user_id":14053977,"display_name":"user14053977"},"score":0,"creation_date":1652353170,"post_id":72213099,"comment_id":127588124,"body_markdown":"I should clone jvrp in the command line ? and import it on Eclipse ?","body":"I should clone jvrp in the command line ? and import it on Eclipse ?"},{"owner":{"account_id":17445223,"reputation":151,"user_id":14053977,"display_name":"user14053977"},"score":0,"creation_date":1652353587,"post_id":72213099,"comment_id":127588263,"body_markdown":"I did the step from 1 to 3, Now I should create a maven project on eclipse and add the dependencies on the pom.xml file?","body":"I did the step from 1 to 3, Now I should create a maven project on eclipse and add the dependencies on the pom.xml file?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1652354638,"post_id":72213099,"comment_id":127588667,"body_markdown":"You can do it on the command line, but it&#39;s easier in Eclipse and it doesn&#39;t require Maven to be installed. Just drop the [GitHub website](https://github.com/natzei/jvrp) on your Eclipse which opens the prefilled _Clone_ dialog with the option _Import all existing Eclipse projects after clone finishes_ on the third page.","body":"You can do it on the command line, but it&#39;s easier in Eclipse and it doesn&#39;t require Maven to be installed. Just drop the <a href=\"https://github.com/natzei/jvrp\" rel=\"nofollow noreferrer\">GitHub website</a> on your Eclipse which opens the prefilled <i>Clone</i> dialog with the option <i>Import all existing Eclipse projects after clone finishes</i> on the third page."},{"owner":{"account_id":17445223,"reputation":151,"user_id":14053977,"display_name":"user14053977"},"score":0,"creation_date":1652354895,"post_id":72213099,"comment_id":127588765,"body_markdown":"I did all this, but I&#39;m stuck, I don&#39;t know where to put my code and in which pom.xml file I should put the dependencies","body":"I did all this, but I&#39;m stuck, I don&#39;t know where to put my code and in which pom.xml file I should put the dependencies"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1652355347,"post_id":72213099,"comment_id":127588910,"body_markdown":"Create a new project via _File &gt; New &gt; Project...: Maven &gt; Maven Project_ with the option _Create a simple project_. Add the dependency to your `pom.xml` as you did, but with correct syntax and for the Java version add `&lt;properties&gt;&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;&lt;/properties&gt;` before the `&lt;dependencies&gt;` element. Then you should be ready to code.","body":"Create a new project via <i>File &gt; New &gt; Project...: Maven &gt; Maven Project</i> with the option <i>Create a simple project</i>. Add the dependency to your <code>pom.xml</code> as you did, but with correct syntax and for the Java version add <code>&lt;properties&gt;&lt;maven.compiler.source&gt;17&lt;&#47;maven.compiler.source&zwnj;&#8203;&gt;&lt;maven.compiler.tar&zwnj;&#8203;get&gt;17&lt;&#47;maven.compil&zwnj;&#8203;er.target&gt;&lt;&#47;properti&zwnj;&#8203;es&gt;</code> before the <code>&lt;dependencies&gt;</code> element. Then you should be ready to code."}],"owner":{"account_id":17445223,"reputation":151,"user_id":14053977,"display_name":"user14053977"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652347532,"creation_date":1652347532,"question_id":72213099,"body_markdown":"I&#39;m trying to execute the following project from GitHub: \r\n\r\nhttps://github.com/natzei/jvrp\r\n\r\nI&#39;m trying to install Install on a local repository.\r\n\r\nI create a maven project on Eclipse IDE.\r\n\r\nIn my pom.xml field I put the following code : \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;it.unica.informatica.ro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jvrp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t&lt;group-id&gt;it.unica.informatica.ro&lt;/group-id&gt;\r\n    \t\t&lt;artifact-id&gt;jvrp&lt;/artifact-id&gt;\r\n    \t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nBut I&#39;m getting the followings errors: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ln6mT.png\r\n\r\n\r\nAre these the steps I need to take? If you have an idea please help","title":"Maven Project : Pomeclip.xml errors","body":"<p>I'm trying to execute the following project from GitHub:</p>\n<p><a href=\"https://github.com/natzei/jvrp\" rel=\"nofollow noreferrer\">https://github.com/natzei/jvrp</a></p>\n<p>I'm trying to install Install on a local repository.</p>\n<p>I create a maven project on Eclipse IDE.</p>\n<p>In my pom.xml field I put the following code :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;it.unica.informatica.ro&lt;/groupId&gt;\n  &lt;artifactId&gt;jvrp&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;group-id&gt;it.unica.informatica.ro&lt;/group-id&gt;\n        &lt;artifact-id&gt;jvrp&lt;/artifact-id&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>But I'm getting the followings errors:</p>\n<p><a href=\"https://i.stack.imgur.com/ln6mT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ln6mT.png\" alt=\"enter image description here\" /></a></p>\n<p>Are these the steps I need to take? If you have an idea please help</p>\n"},{"tags":["java","spring","spring-boot","docker","dockerfile"],"comments":[{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1652344813,"post_id":72212319,"comment_id":127585170,"body_markdown":"Can you add more details? like your `pom.xml` or `gradle.build` also adding more context to Java code is helpful","body":"Can you add more details? like your <code>pom.xml</code> or <code>gradle.build</code> also adding more context to Java code is helpful"},{"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"score":0,"creation_date":1652345564,"post_id":72212319,"comment_id":127585389,"body_markdown":"@hatefalipoori i have add link to pom file","body":"@hatefalipoori i have add link to pom file"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652347493,"creation_date":1652344044,"question_id":72212319,"body_markdown":"the java code below allows you to insert values in a java report to then create a pdf file, when I run the code below I have the following error: Classpath resource not found when running as jar, what is it due to and how I solve this problem?\r\n\r\n**java code:**\r\n\r\n      ClassPathResource reportResource = new ClassPathResource(&quot;templates/printcantiere.jasper&quot;);\r\n                Map&lt;String, Object&gt; reportParameters = new HashMap&lt;&gt;();\r\n                JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(tablevalues);\r\n                reportParameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\r\n                reportParameters.put(&quot;RagioneSociale&quot;, c.getRagioneSociale());\r\n                reportParameters.put(&quot;Commessa&quot;, c.getCommessa());\r\n                reportParameters.put(&quot;NomeCantiere&quot;, c.getNomeCantiere());\r\n                reportParameters.put(&quot;Stato&quot;, c.getStatoCantiere());\r\n\r\n**docker.sh**\r\n\r\n    #!/bin/bash\r\n    #Kill process on port\r\n    kill -9 $(lsof -ti:8081)\r\n    #delete old jar file and regenerate jar file\r\n    mvn clean package\r\n    rm -rf test/*.jar\r\n    mvn clean install\r\n    #generate new jar file mvn clean package\r\n    mvn eclipse:eclipse\r\n    #define docker name\r\n    dockername=quote\r\n    #Delete all containers and all volumes\r\n    #docker system prune -a\r\n    #Build of container and image\r\n    docker rm $dockername\r\n    docker build -t $dockername .\r\n    #Run container\r\n    docker run --publish 8081:8081 $dockername\r\n\r\n**Dockefile:**\r\n\r\n    FROM adoptopenjdk/openjdk16\r\n    ARG JAR_FILE=target/report-0.0.1-SNAPSHOT.jar\r\n    WORKDIR /opt/app\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\n[Pom file link][1]\r\n\r\n\r\n  [1]: https://gist.github.com/riccardopirani/b8f04e8a2d988f54dfa60226ab800ec8","title":"ClassPath not found Spring Boot only on Docker","body":"<p>the java code below allows you to insert values in a java report to then create a pdf file, when I run the code below I have the following error: Classpath resource not found when running as jar, what is it due to and how I solve this problem?</p>\n<p><strong>java code:</strong></p>\n<pre><code>  ClassPathResource reportResource = new ClassPathResource(&quot;templates/printcantiere.jasper&quot;);\n            Map&lt;String, Object&gt; reportParameters = new HashMap&lt;&gt;();\n            JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(tablevalues);\n            reportParameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\n            reportParameters.put(&quot;RagioneSociale&quot;, c.getRagioneSociale());\n            reportParameters.put(&quot;Commessa&quot;, c.getCommessa());\n            reportParameters.put(&quot;NomeCantiere&quot;, c.getNomeCantiere());\n            reportParameters.put(&quot;Stato&quot;, c.getStatoCantiere());\n</code></pre>\n<p><strong>docker.sh</strong></p>\n<pre><code>#!/bin/bash\n#Kill process on port\nkill -9 $(lsof -ti:8081)\n#delete old jar file and regenerate jar file\nmvn clean package\nrm -rf test/*.jar\nmvn clean install\n#generate new jar file mvn clean package\nmvn eclipse:eclipse\n#define docker name\ndockername=quote\n#Delete all containers and all volumes\n#docker system prune -a\n#Build of container and image\ndocker rm $dockername\ndocker build -t $dockername .\n#Run container\ndocker run --publish 8081:8081 $dockername\n</code></pre>\n<p><strong>Dockefile:</strong></p>\n<pre><code>FROM adoptopenjdk/openjdk16\nARG JAR_FILE=target/report-0.0.1-SNAPSHOT.jar\nWORKDIR /opt/app\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p><a href=\"https://gist.github.com/riccardopirani/b8f04e8a2d988f54dfa60226ab800ec8\" rel=\"nofollow noreferrer\">Pom file link</a></p>\n"},{"tags":["java","maven","antlr4"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652345107,"creation_date":1652342588,"answer_id":72212026,"question_id":72211828,"body_markdown":"AFAIK, there is no 4.10.2 version (at this time), try [4.10.1](https://search.maven.org/artifact/org.antlr/antlr4-runtime/4.10.1/jar) instead.\r\n\r\n## EDIT\r\n\r\nI tried with the following (I commented out some dependencies, but left the ANTLR dependencies):\r\n\r\n#### parent\r\n\r\n```xml\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n    &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;The Chips Distribution Game&lt;/name&gt;\r\n    &lt;description&gt;Een management spel om inzicht te geven in de dynamiek van een logistieke distributieketen\r\n    &lt;/description&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;game-logic&lt;/module&gt;\r\n        &lt;module&gt;persistence&lt;/module&gt;\r\n        &lt;module&gt;agent&lt;/module&gt;\r\n        &lt;module&gt;network&lt;/module&gt;\r\n        &lt;module&gt;game-manager&lt;/module&gt;\r\n        &lt;module&gt;user-interface&lt;/module&gt;\r\n        &lt;module&gt;shared-dtos&lt;/module&gt;\r\n        &lt;module&gt;jacoco-aggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\r\n            ${project.basedir}/../jacoco-aggregator/target/site/jacoco-aggregate/jacoco.xml\r\n        &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        &lt;sonar.junit.reportPaths&gt;target/surefire-reports&lt;/sonar.junit.reportPaths&gt;\r\n        &lt;sonar.coverage.exclusions&gt;\r\n            agent/src/main/java/nl/han/aim/asd/game/agent/App.java,\r\n            game-logic/src/main/java/nl/han/aim/asd/game/gamelogic/App.java,\r\n            game-manager/src/main/java/nl/han/aim/asd/game/gamemanager/App.java,\r\n            network/src/main/java/nl/han/aim/asd/game/network/App.java,\r\n            persistence/src/main/java/nl/han/aim/asd/game/persistence/App.java,\r\n            shared-dtos/src/main/java/nl/han/aim/asd/game/shareddtos/**,\r\n            user-interface/src/main/java/nl/han/aim/asd/game/userinterface/**\r\n        &lt;/sonar.coverage.exclusions&gt;\r\n\r\n        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n        &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\r\n        &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;!-- We need a constant finalName for use in the Dockerfile --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;shade&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;shade&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.CR2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0.CR1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.jqno.equalsverifier&lt;/groupId&gt;\r\n            &lt;artifactId&gt;equalsverifier&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;shade&lt;/id&gt;\r\n                            &lt;!-- Only needed for manual integration testing --&gt;\r\n                            &lt;phase&gt;none&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n                    &lt;sourceDirectories&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.testSourceDirectory}&lt;/sourceDirectory&gt;\r\n                    &lt;/sourceDirectories&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                        &lt;version&gt;10.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;CLASS&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.8&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\r\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\r\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;reportSets&gt;\r\n                    &lt;reportSet&gt;\r\n                        &lt;reports&gt;\r\n                            &lt;report&gt;aggregate&lt;/report&gt;\r\n                        &lt;/reports&gt;\r\n                    &lt;/reportSet&gt;\r\n                &lt;/reportSets&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n#### pom\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;relativePath&gt;parent.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;agent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\n    &lt;name&gt;chips-distribution-game-agent-component&lt;/name&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shared-dtos&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n                &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.10.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;antlr&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;antlr4&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.App&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.ast.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.demo.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.datastructures.*&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;shade&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;nl.han.aim.asd.game.agent.App&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd a `mvn clean` resulted in:\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ---------------------&lt; nl.han.aim.asd.game:agent &gt;----------------------\r\n[INFO] Building chips-distribution-game-agent-component 0.0.1\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.7:prepare-agent (default) @ agent ---\r\n\r\n...\r\n\r\n[INFO] --- antlr4-maven-plugin:4.10.1:antlr4 (antlr) @ agent ---\r\n[INFO] No ANTLR 4 grammars to compile in /home/bart/Temp/pom-tets/src/main/antlr4\r\n[INFO] \r\n\r\n...\r\n\r\n------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.631 s\r\n[INFO] Finished at: 2022-05-12T10:40:36+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n```","title":"Plugin org.antlr:antlr4-maven-plugin:4.10.2 or one of its dependencies could not be resolved","body":"<p>AFAIK, there is no 4.10.2 version (at this time), try <a href=\"https://search.maven.org/artifact/org.antlr/antlr4-runtime/4.10.1/jar\" rel=\"nofollow noreferrer\">4.10.1</a> instead.</p>\n<h2>EDIT</h2>\n<p>I tried with the following (I commented out some dependencies, but left the ANTLR dependencies):</p>\n<h4>parent</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n    &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;The Chips Distribution Game&lt;/name&gt;\n    &lt;description&gt;Een management spel om inzicht te geven in de dynamiek van een logistieke distributieketen\n    &lt;/description&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;game-logic&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n        &lt;module&gt;agent&lt;/module&gt;\n        &lt;module&gt;network&lt;/module&gt;\n        &lt;module&gt;game-manager&lt;/module&gt;\n        &lt;module&gt;user-interface&lt;/module&gt;\n        &lt;module&gt;shared-dtos&lt;/module&gt;\n        &lt;module&gt;jacoco-aggregator&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\n            ${project.basedir}/../jacoco-aggregator/target/site/jacoco-aggregate/jacoco.xml\n        &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n        &lt;sonar.junit.reportPaths&gt;target/surefire-reports&lt;/sonar.junit.reportPaths&gt;\n        &lt;sonar.coverage.exclusions&gt;\n            agent/src/main/java/nl/han/aim/asd/game/agent/App.java,\n            game-logic/src/main/java/nl/han/aim/asd/game/gamelogic/App.java,\n            game-manager/src/main/java/nl/han/aim/asd/game/gamemanager/App.java,\n            network/src/main/java/nl/han/aim/asd/game/network/App.java,\n            persistence/src/main/java/nl/han/aim/asd/game/persistence/App.java,\n            shared-dtos/src/main/java/nl/han/aim/asd/game/shareddtos/**,\n            user-interface/src/main/java/nl/han/aim/asd/game/userinterface/**\n        &lt;/sonar.coverage.exclusions&gt;\n\n        &lt;skipTests&gt;false&lt;/skipTests&gt;\n        &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\n        &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;profiles&gt;\n        &lt;!-- We need a constant finalName for use in the Dockerfile --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;shade&lt;/id&gt;\n            &lt;build&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;shade&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.CR2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-junit5&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.CR1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.jqno.equalsverifier&lt;/groupId&gt;\n            &lt;artifactId&gt;equalsverifier&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;shade&lt;/id&gt;\n                            &lt;!-- Only needed for manual integration testing --&gt;\n                            &lt;phase&gt;none&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;shade&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                    &lt;sourceDirectories&gt;\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n                        &lt;sourceDirectory&gt;${project.build.testSourceDirectory}&lt;/sourceDirectory&gt;\n                    &lt;/sourceDirectories&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                        &lt;version&gt;10.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;CLASS&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.8&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;aggregate&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<h4>pom</h4>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;relativePath&gt;parent.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;agent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n\n    &lt;name&gt;chips-distribution-game-agent-component&lt;/name&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n            &lt;artifactId&gt;shared-dtos&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n                &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.10.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;antlr&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;antlr4&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.App&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.ast.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.demo.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.datastructures.*&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;shade&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;nl.han.aim.asd.game.agent.App&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And a <code>mvn clean</code> resulted in:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------&lt; nl.han.aim.asd.game:agent &gt;----------------------\n[INFO] Building chips-distribution-game-agent-component 0.0.1\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.7:prepare-agent (default) @ agent ---\n\n...\n\n[INFO] --- antlr4-maven-plugin:4.10.1:antlr4 (antlr) @ agent ---\n[INFO] No ANTLR 4 grammars to compile in /home/bart/Temp/pom-tets/src/main/antlr4\n[INFO] \n\n...\n\n------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.631 s\n[INFO] Finished at: 2022-05-12T10:40:36+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652346960,"creation_date":1652346960,"answer_id":72212963,"question_id":72211828,"body_markdown":"Your main problem is that your statement &quot;[JavaFX] forces me to make the whole project modular&quot; is simply wrong. You can easily write a JavaFX application in a non-modular fashion. I am doing that for years.","title":"Plugin org.antlr:antlr4-maven-plugin:4.10.2 or one of its dependencies could not be resolved","body":"<p>Your main problem is that your statement &quot;[JavaFX] forces me to make the whole project modular&quot; is simply wrong. You can easily write a JavaFX application in a non-modular fashion. I am doing that for years.</p>\n"}],"owner":{"account_id":17459172,"reputation":372,"user_id":12657263,"display_name":"arrayZero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652347181,"creation_date":1652341629,"question_id":72211828,"body_markdown":"Im building an application that reads parses code from thats input from a front end written in JavaFX, which forces me to make the whole project modular. Unfortunately antlr doesnt seem to support this yet and I get the following error when compiling: `Plugin org.antlr:antlr4-maven-plugin:4.10.2 or one of its dependencies could not be resolved`\r\nIm using different modules, with a main pom and one for each module\r\n\r\nhere&#39;s the main pom:\r\n```\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n    &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;The Chips Distribution Game&lt;/name&gt;\r\n    &lt;description&gt;Een management spel om inzicht te geven in de dynamiek van een logistieke distributieketen\r\n    &lt;/description&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;game-logic&lt;/module&gt;\r\n        &lt;module&gt;persistence&lt;/module&gt;\r\n        &lt;module&gt;agent&lt;/module&gt;\r\n        &lt;module&gt;network&lt;/module&gt;\r\n        &lt;module&gt;game-manager&lt;/module&gt;\r\n        &lt;module&gt;user-interface&lt;/module&gt;\r\n        &lt;module&gt;shared-dtos&lt;/module&gt;\r\n        &lt;module&gt;jacoco-aggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\r\n            ${project.basedir}/../jacoco-aggregator/target/site/jacoco-aggregate/jacoco.xml\r\n        &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        &lt;sonar.junit.reportPaths&gt;target/surefire-reports&lt;/sonar.junit.reportPaths&gt;\r\n        &lt;sonar.coverage.exclusions&gt;\r\n            agent/src/main/java/nl/han/aim/asd/game/agent/App.java,\r\n            game-logic/src/main/java/nl/han/aim/asd/game/gamelogic/App.java,\r\n            game-manager/src/main/java/nl/han/aim/asd/game/gamemanager/App.java,\r\n            network/src/main/java/nl/han/aim/asd/game/network/App.java,\r\n            persistence/src/main/java/nl/han/aim/asd/game/persistence/App.java,\r\n            shared-dtos/src/main/java/nl/han/aim/asd/game/shareddtos/**,\r\n            user-interface/src/main/java/nl/han/aim/asd/game/userinterface/**\r\n        &lt;/sonar.coverage.exclusions&gt;\r\n\r\n        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n        &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\r\n        &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;!-- We need a constant finalName for use in the Dockerfile --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;shade&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;shade&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.CR2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0.CR1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.jqno.equalsverifier&lt;/groupId&gt;\r\n            &lt;artifactId&gt;equalsverifier&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;shade&lt;/id&gt;\r\n                            &lt;!-- Only needed for manual integration testing --&gt;\r\n                            &lt;phase&gt;none&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n                    &lt;sourceDirectories&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.testSourceDirectory}&lt;/sourceDirectory&gt;\r\n                    &lt;/sourceDirectories&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                        &lt;version&gt;10.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;CLASS&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.8&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\r\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\r\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;reportSets&gt;\r\n                    &lt;reportSet&gt;\r\n                        &lt;reports&gt;\r\n                            &lt;report&gt;aggregate&lt;/report&gt;\r\n                        &lt;/reports&gt;\r\n                    &lt;/reportSet&gt;\r\n                &lt;/reportSets&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand here&#39;s the pom for the module that fails on compilation\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;agent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\n    &lt;name&gt;chips-distribution-game-agent-component&lt;/name&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\r\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shared-dtos&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n                &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.10.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;antlr&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;antlr4&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.App&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.ast.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.demo.*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.datastructures.*&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;shade&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;nl.han.aim.asd.game.agent.App&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand here is the module-info for the failing component\r\n\r\n```java\r\nmodule nl.han.aim.asd.game.agent {\r\n\trequires org.antlr.antlr4.runtime;\r\n\r\n\trequires nl.han.aim.asd.game.persistence;\r\n\trequires nl.han.aim.asd.game.shareddtos;\r\n\r\n\texports nl.han.aim.asd.game.agent;\r\n}\r\n```","title":"Plugin org.antlr:antlr4-maven-plugin:4.10.2 or one of its dependencies could not be resolved","body":"<p>Im building an application that reads parses code from thats input from a front end written in JavaFX, which forces me to make the whole project modular. Unfortunately antlr doesnt seem to support this yet and I get the following error when compiling: <code>Plugin org.antlr:antlr4-maven-plugin:4.10.2 or one of its dependencies could not be resolved</code>\nIm using different modules, with a main pom and one for each module</p>\n<p>here's the main pom:</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n    &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;The Chips Distribution Game&lt;/name&gt;\n    &lt;description&gt;Een management spel om inzicht te geven in de dynamiek van een logistieke distributieketen\n    &lt;/description&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;game-logic&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n        &lt;module&gt;agent&lt;/module&gt;\n        &lt;module&gt;network&lt;/module&gt;\n        &lt;module&gt;game-manager&lt;/module&gt;\n        &lt;module&gt;user-interface&lt;/module&gt;\n        &lt;module&gt;shared-dtos&lt;/module&gt;\n        &lt;module&gt;jacoco-aggregator&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\n            ${project.basedir}/../jacoco-aggregator/target/site/jacoco-aggregate/jacoco.xml\n        &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n        &lt;sonar.junit.reportPaths&gt;target/surefire-reports&lt;/sonar.junit.reportPaths&gt;\n        &lt;sonar.coverage.exclusions&gt;\n            agent/src/main/java/nl/han/aim/asd/game/agent/App.java,\n            game-logic/src/main/java/nl/han/aim/asd/game/gamelogic/App.java,\n            game-manager/src/main/java/nl/han/aim/asd/game/gamemanager/App.java,\n            network/src/main/java/nl/han/aim/asd/game/network/App.java,\n            persistence/src/main/java/nl/han/aim/asd/game/persistence/App.java,\n            shared-dtos/src/main/java/nl/han/aim/asd/game/shareddtos/**,\n            user-interface/src/main/java/nl/han/aim/asd/game/userinterface/**\n        &lt;/sonar.coverage.exclusions&gt;\n\n        &lt;skipTests&gt;false&lt;/skipTests&gt;\n        &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\n        &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/148/packages/maven&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;profiles&gt;\n        &lt;!-- We need a constant finalName for use in the Dockerfile --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;shade&lt;/id&gt;\n            &lt;build&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;shade&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.CR2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-junit5&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.CR1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.jqno.equalsverifier&lt;/groupId&gt;\n            &lt;artifactId&gt;equalsverifier&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;shade&lt;/id&gt;\n                            &lt;!-- Only needed for manual integration testing --&gt;\n                            &lt;phase&gt;none&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;shade&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                    &lt;sourceDirectories&gt;\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n                        &lt;sourceDirectory&gt;${project.build.testSourceDirectory}&lt;/sourceDirectory&gt;\n                    &lt;/sourceDirectories&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                        &lt;version&gt;10.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;CLASS&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.8&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;aggregate&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and here's the pom for the module that fails on compilation</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;chips-distribution-game-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;agent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n\n    &lt;name&gt;chips-distribution-game-agent-component&lt;/name&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;gitlab-maven-antlr4&lt;/id&gt;\n            &lt;url&gt;http://gitlab.devops.aimsites.nl/api/v4/projects/152/packages/maven&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.han.aim.asd.game&lt;/groupId&gt;\n            &lt;artifactId&gt;shared-dtos&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n                &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.10.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;antlr&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;antlr4&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.App&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.parser.AgentParser.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.ast.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.demo.*&lt;/exclude&gt;\n                                        &lt;exclude&gt;nl.han.aim.asd.game.agent.datastructures.*&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;shade&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;nl.han.aim.asd.game.agent.App&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and here is the module-info for the failing component</p>\n<pre class=\"lang-java prettyprint-override\"><code>module nl.han.aim.asd.game.agent {\n    requires org.antlr.antlr4.runtime;\n\n    requires nl.han.aim.asd.game.persistence;\n    requires nl.han.aim.asd.game.shareddtos;\n\n    exports nl.han.aim.asd.game.agent;\n}\n</code></pre>\n"},{"tags":["java","ssl","gradle"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1533226484,"post_id":51658086,"comment_id":90279848,"body_markdown":"Why not simply put the certificate into the cacerts file?","body":"Why not simply put the certificate into the cacerts file?"},{"owner":{"account_id":4304480,"reputation":1203,"user_id":3517263,"display_name":"cshion"},"score":3,"creation_date":1533226583,"post_id":51658086,"comment_id":90279902,"body_markdown":"Its a option but in scale it will be kind hard to configure for every person in the team.","body":"Its a option but in scale it will be kind hard to configure for every person in the team."},{"owner":{"account_id":3196795,"reputation":490,"user_id":2699805,"accept_rate":40,"display_name":"qwert_ukg"},"score":0,"creation_date":1535426509,"post_id":51658086,"comment_id":91049753,"body_markdown":"@cshion did u find any solution for that?","body":"@cshion did u find any solution for that?"},{"owner":{"account_id":4304480,"reputation":1203,"user_id":3517263,"display_name":"cshion"},"score":0,"creation_date":1535930409,"post_id":51658086,"comment_id":91233116,"body_markdown":"I cant find any option to bypass cert validation like maven, so i had to install ssl certificate in java cacerts.","body":"I cant find any option to bypass cert validation like maven, so i had to install ssl certificate in java cacerts."},{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1572889904,"post_id":51658086,"comment_id":103693650,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":3287359,"reputation":479,"user_id":2766491,"display_name":"Dahar Youssef"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1652347173,"creation_date":1581432772,"answer_id":60171620,"question_id":51658086,"body_markdown":"Gradle &quot;Trust All&quot; Plugin\r\nThis plugin was born out of necessity for a quick-and-dirty way to use a Maven repository over HTTPS with a self-signed certificate.\r\n\r\nWhen working with such a repository in gradle you may get an error:\r\n\r\n&gt;Error transferring file: sun.security.validator.ValidatorException:\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\nunable to find valid certification path to requested target\r\n\r\nUsual Java way to handle such scenario would be to download site certificate, import it into a keystore, and use that keystore via the -Djavax.net.ssl.trustStore=... JVM options.\r\n\r\nSometimes, you just need an easier way — disable certificate validation altogether! There are many reasons not to do that, one of them being that this approach makes connections vulnerable to man-in-the-middle attacks.\r\n\r\nConsider this code a proof-of-concept and accept full responsibility that by using it you&#39;re ultimately making an informed bad decision.\r\n\r\nOrigin\r\nThe code to disable certificate validation comes from this StackOverflow answer, although there are many similar code snippets floating around the web.\r\n\r\nUsing &quot;Trust All&quot; Plugin\r\nTo use gradle-trust-all, build the jar file and include it in your project:\r\n\r\n    $ git clone https://github.com/arteme/gradle-trust-all.git\r\n    $ cd gradle-trust-all\r\n    $ gradle build\r\n    $ cp build/libs/gradle-trust-all.jar /path/to/your/project/gradle/folder/\r\n\r\nThen in your project&#39;s build.gradle file add it as a buildscript dependency and activate the plugin:\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath files(&#39;gradle/gradle-trust-all.jar&#39;)\r\n        }\r\n    }\r\n\r\n    apply plugin: &#39;trust-all&#39;\r\n\r\nThat is it. Now certificate validation in gradle is disabled.\r\n\r\n\r\n[https://github.com/arteme/gradle-trust-all][1]\r\n\r\n\r\n  [1]: https://github.com/arteme/gradle-trust-all","title":"How to configure Gradle to bypass SSL certificate validation?","body":"<p>Gradle &quot;Trust All&quot; Plugin\nThis plugin was born out of necessity for a quick-and-dirty way to use a Maven repository over HTTPS with a self-signed certificate.</p>\n<p>When working with such a repository in gradle you may get an error:</p>\n<blockquote>\n<p>Error transferring file: sun.security.validator.ValidatorException:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target</p>\n</blockquote>\n<p>Usual Java way to handle such scenario would be to download site certificate, import it into a keystore, and use that keystore via the -Djavax.net.ssl.trustStore=... JVM options.</p>\n<p>Sometimes, you just need an easier way — disable certificate validation altogether! There are many reasons not to do that, one of them being that this approach makes connections vulnerable to man-in-the-middle attacks.</p>\n<p>Consider this code a proof-of-concept and accept full responsibility that by using it you're ultimately making an informed bad decision.</p>\n<p>Origin\nThe code to disable certificate validation comes from this StackOverflow answer, although there are many similar code snippets floating around the web.</p>\n<p>Using &quot;Trust All&quot; Plugin\nTo use gradle-trust-all, build the jar file and include it in your project:</p>\n<pre><code>$ git clone https://github.com/arteme/gradle-trust-all.git\n$ cd gradle-trust-all\n$ gradle build\n$ cp build/libs/gradle-trust-all.jar /path/to/your/project/gradle/folder/\n</code></pre>\n<p>Then in your project's build.gradle file add it as a buildscript dependency and activate the plugin:</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath files('gradle/gradle-trust-all.jar')\n    }\n}\n\napply plugin: 'trust-all'\n</code></pre>\n<p>That is it. Now certificate validation in gradle is disabled.</p>\n<p><a href=\"https://github.com/arteme/gradle-trust-all\" rel=\"nofollow noreferrer\">https://github.com/arteme/gradle-trust-all</a></p>\n"}],"owner":{"account_id":4304480,"reputation":1203,"user_id":3517263,"display_name":"cshion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44847,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":1,"score":35,"last_activity_date":1652347173,"creation_date":1533226334,"question_id":51658086,"body_markdown":"I have a remote repository with an `https` URL and a self-signed certificate. In Maven I could set `MAVEN_OPTS` properties to bypass certificate validation. How can I achive this with gradle?\r\n\r\nI tried modifying the file `gradle.properties` but I can’t find the exact properties:\r\n\r\n    systemProp.http.ssl.insecure=true\r\n    systemProp.http.ssl.allowall=true\r\n    systemProp.http.ssl.ignore.validity.dates=true\r\n","title":"How to configure Gradle to bypass SSL certificate validation?","body":"<p>I have a remote repository with an <code>https</code> URL and a self-signed certificate. In Maven I could set <code>MAVEN_OPTS</code> properties to bypass certificate validation. How can I achive this with gradle?</p>\n\n<p>I tried modifying the file <code>gradle.properties</code> but I can’t find the exact properties:</p>\n\n<pre><code>systemProp.http.ssl.insecure=true\nsystemProp.http.ssl.allowall=true\nsystemProp.http.ssl.ignore.validity.dates=true\n</code></pre>\n"},{"tags":["java","eclipse","birt"],"comments":[{"owner":{"account_id":1813474,"reputation":73,"user_id":1649080,"display_name":"Mandres"},"score":0,"creation_date":1621889137,"post_id":67067398,"comment_id":119625435,"body_markdown":"I have the same problem. It&#39;s really frustrating for me not to be able to use BIRT on my Macbook Pro. I&#39;ve already tried it in a thousand ways, and the only situation as far as it goes is the same one you mention. I have tried all versions of java, birt, eclipse, adoptjdk and none have worked for me.","body":"I have the same problem. It&#39;s really frustrating for me not to be able to use BIRT on my Macbook Pro. I&#39;ve already tried it in a thousand ways, and the only situation as far as it goes is the same one you mention. I have tried all versions of java, birt, eclipse, adoptjdk and none have worked for me."},{"owner":{"account_id":20802675,"reputation":1,"user_id":15278330,"display_name":"ededneddie"},"score":0,"creation_date":1622046367,"post_id":67067398,"comment_id":119679427,"body_markdown":"So frustrating. I&#39;ve had to use a remote desktop for all my reporting work. I saw a new release is coming out in June though. Fingers crossed that it will work.","body":"So frustrating. I&#39;ve had to use a remote desktop for all my reporting work. I saw a new release is coming out in June though. Fingers crossed that it will work."}],"answers":[{"tags":[],"owner":{"account_id":1813474,"reputation":73,"user_id":1649080,"display_name":"Mandres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632255814,"creation_date":1632255814,"answer_id":69275111,"question_id":67067398,"body_markdown":"I recently tried the following url within the eclipse package manager. It worked for me but the preview is still owed.\r\n\r\n    https://download.eclipse.org/birt/update-site/snapshot/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2wYAW.png","title":"Eclipse BIRT not working properly on new mac","body":"<p>I recently tried the following url within the eclipse package manager. It worked for me but the preview is still owed.</p>\n<pre><code>https://download.eclipse.org/birt/update-site/snapshot/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2wYAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wYAW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651812639,"creation_date":1651812639,"answer_id":72136307,"question_id":67067398,"body_markdown":"This is the old version I use for Mac 2019 2.3 GHz 8-Core Intel Core i9\r\n\r\nhttps://www.eclipse.org/downloads/packages/file/48028\r\n\r\ndownload link\r\nhttp://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/neon/R/eclipse-reporting-neon-R-macosx-cocoa-x86_64.tar.gz\r\n","title":"Eclipse BIRT not working properly on new mac","body":"<p>This is the old version I use for Mac 2019 2.3 GHz 8-Core Intel Core i9</p>\n<p><a href=\"https://www.eclipse.org/downloads/packages/file/48028\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/file/48028</a></p>\n<p>download link\n<a href=\"http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/neon/R/eclipse-reporting-neon-R-macosx-cocoa-x86_64.tar.gz\" rel=\"nofollow noreferrer\">http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/neon/R/eclipse-reporting-neon-R-macosx-cocoa-x86_64.tar.gz</a></p>\n"},{"tags":[],"owner":{"account_id":25271496,"reputation":1,"user_id":19100760,"display_name":"Rossella Ceglie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652346906,"creation_date":1652346906,"answer_id":72212946,"question_id":67067398,"body_markdown":"Do you have tried and with this version Birt run correctly??\r\n\r\n\r\n\r\nThis is the old version I use for Mac 2019 2.3 GHz 8-Core Intel Core i9\r\n\r\nhttps://www.eclipse.org/downloads/packages/file/48028","title":"Eclipse BIRT not working properly on new mac","body":"<p>Do you have tried and with this version Birt run correctly??</p>\n<p>This is the old version I use for Mac 2019 2.3 GHz 8-Core Intel Core i9</p>\n<p><a href=\"https://www.eclipse.org/downloads/packages/file/48028\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/file/48028</a></p>\n"}],"owner":{"account_id":20802675,"reputation":1,"user_id":15278330,"display_name":"ededneddie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652346906,"creation_date":1618275448,"question_id":67067398,"body_markdown":"I recently started using the new macbook air (M1 chip Big Sur 11.2.3) and I can&#39;t get eclipse BIRT to open properly on it. At first my workspaces were blank and I was unable to click anything and no log files were produced. After deleting and reinstalling birt and my jdk I was able to get the workspace to open, but unable to open reports, and buttons were disappearing unless I hovered over them. It did produce an error log that I have attached here.  I was using java 16 when this log was produced. I thought maybe it was too new of a version for BIRT so I tried java 8, and my workspace is blank again. I have been using eclipse photon. Any thoughts?\r\n```\r\n!ENTRY org.eclipse.jpt.dbws.eclipselink.core.gen 4 0 2021-04-12 16:36:31.265\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jpt.dbws.eclipselink.core.gen [521]\r\n  Unresolved requirement: Require-Bundle: org.eclipse.persistence.dbws.builder; bundle-version=&quot;[2.3.0,3.0.0)&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.persistence.dbws.builder; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\r\n       org.eclipse.persistence.dbws.builder [752]\r\n         Unresolved requirement: Import-Package: javax.xml.bind; resolution:=&quot;optional&quot;\r\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.metadata; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\r\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.metadata.visit; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\r\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.parser; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\r\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.util; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\r\n         Unresolved requirement: Require-Bundle: org.eclipse.persistence.dbws; bundle-version=&quot;2.7.1&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.persistence.dbws; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\r\n              org.eclipse.persistence.dbws [751]\r\n                Unresolved requirement: Import-Package: javax.ws.rs; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.ws.rs.core; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.ws.rs.ext; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.bind; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.bind.annotation; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.bind.annotation.adapters; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.ws; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.ws.handler; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Import-Package: javax.xml.ws.soap; resolution:=&quot;optional&quot;\r\n                Unresolved requirement: Require-Bundle: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1&quot;\r\n                  -&gt; Bundle-SymbolicName: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\r\n                     org.eclipse.persistence.moxy [755]\r\n                       Unresolved requirement: Import-Package: com.sun.xml.bind; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.annotation; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.api; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.api.impl; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.codemodel; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom.impl; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom.impl.parser; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc.model; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc.outline; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.json; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.json.stream; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.validation; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.validation.constraints; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.validation.groups; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.validation.metadata; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.ws.rs; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.ws.rs.core; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.ws.rs.ext; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\r\n                       Unresolved requirement: Import-Package: javax.xml.bind\r\n         Unresolved requirement: Require-Bundle: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:444)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1682)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1661)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1624)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1555)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n```","title":"Eclipse BIRT not working properly on new mac","body":"<p>I recently started using the new macbook air (M1 chip Big Sur 11.2.3) and I can't get eclipse BIRT to open properly on it. At first my workspaces were blank and I was unable to click anything and no log files were produced. After deleting and reinstalling birt and my jdk I was able to get the workspace to open, but unable to open reports, and buttons were disappearing unless I hovered over them. It did produce an error log that I have attached here.  I was using java 16 when this log was produced. I thought maybe it was too new of a version for BIRT so I tried java 8, and my workspace is blank again. I have been using eclipse photon. Any thoughts?</p>\n<pre><code>!ENTRY org.eclipse.jpt.dbws.eclipselink.core.gen 4 0 2021-04-12 16:36:31.265\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jpt.dbws.eclipselink.core.gen [521]\n  Unresolved requirement: Require-Bundle: org.eclipse.persistence.dbws.builder; bundle-version=&quot;[2.3.0,3.0.0)&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.persistence.dbws.builder; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\n       org.eclipse.persistence.dbws.builder [752]\n         Unresolved requirement: Import-Package: javax.xml.bind; resolution:=&quot;optional&quot;\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.metadata; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.metadata.visit; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.parser; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\n         Unresolved requirement: Import-Package: org.eclipse.persistence.tools.oracleddl.util; version=&quot;1.0.0&quot;; resolution:=&quot;optional&quot;\n         Unresolved requirement: Require-Bundle: org.eclipse.persistence.dbws; bundle-version=&quot;2.7.1&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.persistence.dbws; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\n              org.eclipse.persistence.dbws [751]\n                Unresolved requirement: Import-Package: javax.ws.rs; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.ws.rs.core; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.ws.rs.ext; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.bind; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.bind.annotation; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.bind.annotation.adapters; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.ws; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.ws.handler; resolution:=&quot;optional&quot;\n                Unresolved requirement: Import-Package: javax.xml.ws.soap; resolution:=&quot;optional&quot;\n                Unresolved requirement: Require-Bundle: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1&quot;\n                  -&gt; Bundle-SymbolicName: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\n                     org.eclipse.persistence.moxy [755]\n                       Unresolved requirement: Import-Package: com.sun.xml.bind; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.annotation; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.api; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.bind.api.impl; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.codemodel; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom.impl; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.xml.xsom.impl.parser; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc.model; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: com.sun.tools.xjc.outline; version=&quot;[2.2.11,3.0.0)&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.json; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.json.stream; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.validation; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.validation.constraints; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.validation.groups; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.validation.metadata; version=&quot;1.1.0&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.ws.rs; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.ws.rs.core; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.ws.rs.ext; version=&quot;2.0.1&quot;; resolution:=&quot;optional&quot;\n                       Unresolved requirement: Import-Package: javax.xml.bind\n         Unresolved requirement: Require-Bundle: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.persistence.moxy; bundle-version=&quot;2.7.1.v20171221-bd47e8f&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:444)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1682)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1661)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1624)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1555)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","spring-data-mongodb-reactive"],"comments":[{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":1,"creation_date":1652340275,"post_id":72200091,"comment_id":127583685,"body_markdown":"Have you tried setting the server selection timeout `.applyToClusterSettings(d -&gt; d.serverSelectionTimeout(...)`?","body":"Have you tried setting the server selection timeout <code>.applyToClusterSettings(d -&gt; d.serverSelectionTimeout(...)</code>?"},{"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"score":0,"creation_date":1652346779,"post_id":72200091,"comment_id":127585854,"body_markdown":"apparently it was a network issue, after connecting to my company vpn the problem was resolved. thanks for the answer!","body":"apparently it was a network issue, after connecting to my company vpn the problem was resolved. thanks for the answer!"}],"answers":[{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652346837,"creation_date":1652346837,"answer_id":72212931,"question_id":72200091,"body_markdown":"After small tries, I discovered that it was a network issue, after connecting to my company VPN, the problem was resolved. ","title":"Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}","body":"<p>After small tries, I discovered that it was a network issue, after connecting to my company VPN, the problem was resolved.</p>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652346837,"creation_date":1652267830,"question_id":72200091,"body_markdown":"I&#39;m using reactive mongodb within a spring boot application, but I get the errors bellow: \r\n\r\n    org.springframework.data.mongodb.core.ReactiveMongoTemplate - Streaming aggregation: [{ &quot;$match&quot; : { &quot;type&quot; : { &quot;$in&quot; : [&quot;INACTIVE_SITE&quot;, &quot;DEVICE_NOT_BILLED&quot;, &quot;NOT_REPLYING_POLLING&quot;, &quot;MISSING_KEY_TECH_INFO&quot;, &quot;MISSING_SITE&quot;, &quot;ACTIVE_CIRCUITS_INACTIVE_RESOURCES&quot;, &quot;INCONSISTENT_STATUS_VALUES&quot;, &quot;TEST_SUPERVISION_RANGE&quot;]}}}, { &quot;$project&quot; : { &quot;extractionDate&quot; : 1, &quot;_id&quot; : 0}}, { &quot;$group&quot; : { &quot;_id&quot; : null, &quot;result&quot; : { &quot;$max&quot; : &quot;$extractionDate&quot;}}}, { &quot;$project&quot; : { &quot;_id&quot; : 0}}] in collection kpi\r\n        org.mongodb.driver.cluster - No server chosen by com.mongodb.reactivestreams.client.internal.ClientSessionHelper$$Lambda$1183/0x000000080129dd60@292878db from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\r\n        luster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\r\n        com.obs.dqsc.interceptor.GlobalExceptionHandler - Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]\r\n        org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]]\r\n        org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\r\n\r\nThis is my my mongodb config: \r\n\r\n    @Override\r\n    public MongoClient reactiveMongoClient() {\r\n        ConnectionString connectionString = new ConnectionString(\r\n                &quot;mongodb://&quot; + username + &quot;:&quot; + password +\r\n                        &quot;@&quot; + host1 + &quot;:&quot; + port\r\n                        + &quot;,&quot; + host2 + &quot;:&quot; + port +\r\n                        &quot;/?authSource=&quot; + authSource +\r\n                        &quot;&amp;replicaSet=&quot; + replica\r\n        );\r\n    \r\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n                .applyToSslSettings(builder -&gt;\r\n                        builder.enabled(true).invalidHostNameAllowed(true)\r\n                )\r\n                .applyToConnectionPoolSettings(\r\n                        builder -&gt; builder.minSize(10)\r\n                                .maxSize(100)\r\n                                .maxWaitTime(8,TimeUnit.MINUTES)\r\n                )\r\n                .applyToSocketSettings(builder -&gt; builder.applySettings(SocketSettings.builder().connectTimeout(5,TimeUnit.MINUTES).readTimeout(5,TimeUnit.MINUTES).build()))\r\n                .applyConnectionString(connectionString)\r\n                .build();\r\n    \r\n        return MongoClients.create(mongoClientSettings);\r\n    }\r\n\r\nI tried to change the timeout using **applyToConnectionPoolSettings** and **applyToSocketSettings** methods, but the timeout still always the same (30 sec). Also I tried to use different networks but nothing changed. ","title":"Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}","body":"<p>I'm using reactive mongodb within a spring boot application, but I get the errors bellow:</p>\n<pre><code>org.springframework.data.mongodb.core.ReactiveMongoTemplate - Streaming aggregation: [{ &quot;$match&quot; : { &quot;type&quot; : { &quot;$in&quot; : [&quot;INACTIVE_SITE&quot;, &quot;DEVICE_NOT_BILLED&quot;, &quot;NOT_REPLYING_POLLING&quot;, &quot;MISSING_KEY_TECH_INFO&quot;, &quot;MISSING_SITE&quot;, &quot;ACTIVE_CIRCUITS_INACTIVE_RESOURCES&quot;, &quot;INCONSISTENT_STATUS_VALUES&quot;, &quot;TEST_SUPERVISION_RANGE&quot;]}}}, { &quot;$project&quot; : { &quot;extractionDate&quot; : 1, &quot;_id&quot; : 0}}, { &quot;$group&quot; : { &quot;_id&quot; : null, &quot;result&quot; : { &quot;$max&quot; : &quot;$extractionDate&quot;}}}, { &quot;$project&quot; : { &quot;_id&quot; : 0}}] in collection kpi\n    org.mongodb.driver.cluster - No server chosen by com.mongodb.reactivestreams.client.internal.ClientSessionHelper$$Lambda$1183/0x000000080129dd60@292878db from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\n    luster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\n    com.obs.dqsc.interceptor.GlobalExceptionHandler - Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]\n    org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=REPLICA_SET, servers=[{address=10.235.79.213:7915, type=UNKNOWN, state=CONNECTING}, {address=10.235.79.89:7915, type=UNKNOWN, state=CONNECTING}]]\n    org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\n</code></pre>\n<p>This is my my mongodb config:</p>\n<pre><code>@Override\npublic MongoClient reactiveMongoClient() {\n    ConnectionString connectionString = new ConnectionString(\n            &quot;mongodb://&quot; + username + &quot;:&quot; + password +\n                    &quot;@&quot; + host1 + &quot;:&quot; + port\n                    + &quot;,&quot; + host2 + &quot;:&quot; + port +\n                    &quot;/?authSource=&quot; + authSource +\n                    &quot;&amp;replicaSet=&quot; + replica\n    );\n\n    MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n            .applyToSslSettings(builder -&gt;\n                    builder.enabled(true).invalidHostNameAllowed(true)\n            )\n            .applyToConnectionPoolSettings(\n                    builder -&gt; builder.minSize(10)\n                            .maxSize(100)\n                            .maxWaitTime(8,TimeUnit.MINUTES)\n            )\n            .applyToSocketSettings(builder -&gt; builder.applySettings(SocketSettings.builder().connectTimeout(5,TimeUnit.MINUTES).readTimeout(5,TimeUnit.MINUTES).build()))\n            .applyConnectionString(connectionString)\n            .build();\n\n    return MongoClients.create(mongoClientSettings);\n}\n</code></pre>\n<p>I tried to change the timeout using <strong>applyToConnectionPoolSettings</strong> and <strong>applyToSocketSettings</strong> methods, but the timeout still always the same (30 sec). Also I tried to use different networks but nothing changed.</p>\n"},{"tags":["java","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":12944972,"reputation":317,"user_id":9359583,"display_name":"Klatten"},"score":0,"creation_date":1652346687,"post_id":72212848,"comment_id":127585807,"body_markdown":"This might solve it for you https://stackoverflow.com/questions/64661460/how-can-i-remove-a-dependency-from-intellij-which-i-added-through-pom-xml","body":"This might solve it for you <a href=\"https://stackoverflow.com/questions/64661460/how-can-i-remove-a-dependency-from-intellij-which-i-added-through-pom-xml\" title=\"how can i remove a dependency from intellij which i added through pom xml\">stackoverflow.com/questions/64661460/&hellip;</a>"},{"owner":{"account_id":6458307,"reputation":23,"user_id":5002978,"display_name":"tovale"},"score":0,"creation_date":1652346909,"post_id":72212848,"comment_id":127585910,"body_markdown":"Thanks for your quick response. I Have already seen this question and tried it, but no help.","body":"Thanks for your quick response. I Have already seen this question and tried it, but no help."}],"owner":{"account_id":6458307,"reputation":23,"user_id":5002978,"display_name":"tovale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652346487,"creation_date":1652346487,"question_id":72212848,"body_markdown":"Throughout the development, I&#39;ve added a few dependencies of submodules and then removed them. Part of the dependencies were added via the pom.xml and part of them via the Project Structure/Modules window.\r\nThe addition is reflected immediately on the maven tool window on the right.\r\nBut, when I remove those dependencies, they stay in the maven window tool and are marked in red - since I totally removed the submodules from the project - and they actually do not exist.\r\n\r\n[![maven tool window][1]][1]\r\n\r\n\r\nI&#39;ve tried to remove those dependencies through Project structure &gt; Modules &gt; Dependencies,\r\nbut I keep seeing on the window bottom the message:\r\n&quot;Module &#39;xx&#39; is imported from maven. Any changes made in its configuration may be lost after reporting&quot;:\r\n[![Project structure/Modules/dependencies][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WxWxL.png\r\n  [2]: https://i.stack.imgur.com/hZo1B.png\r\n\r\nI&#39;ve already tried Invalidate Caches/Restart.\r\nReload project.\r\n\r\nWhy is it happening and how can I solve it?","title":"Intelij maven window not removing dependencies that were removed from pom.xml","body":"<p>Throughout the development, I've added a few dependencies of submodules and then removed them. Part of the dependencies were added via the pom.xml and part of them via the Project Structure/Modules window.\nThe addition is reflected immediately on the maven tool window on the right.\nBut, when I remove those dependencies, they stay in the maven window tool and are marked in red - since I totally removed the submodules from the project - and they actually do not exist.</p>\n<p><a href=\"https://i.stack.imgur.com/WxWxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WxWxL.png\" alt=\"maven tool window\" /></a></p>\n<p>I've tried to remove those dependencies through Project structure &gt; Modules &gt; Dependencies,\nbut I keep seeing on the window bottom the message:\n&quot;Module 'xx' is imported from maven. Any changes made in its configuration may be lost after reporting&quot;:\n<a href=\"https://i.stack.imgur.com/hZo1B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hZo1B.png\" alt=\"Project structure/Modules/dependencies\" /></a></p>\n<p>I've already tried Invalidate Caches/Restart.\nReload project.</p>\n<p>Why is it happening and how can I solve it?</p>\n"},{"tags":["java","mysql","spring-boot","ubuntu","tomcat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1652017450,"post_id":72161513,"comment_id":127499001,"body_markdown":"You should be reading stderr. You might then learn why it doesn&#39;t work. Better to use `ProcessBuilder` in normal circs. Whether there&#39;s anything better in Spring Boot I don&#39;t know...","body":"You should be reading stderr. You might then learn why it doesn&#39;t work. Better to use <code>ProcessBuilder</code> in normal circs. Whether there&#39;s anything better in Spring Boot I don&#39;t know..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1652023205,"post_id":72161513,"comment_id":127500251,"body_markdown":"(That is assuming that the `-r` parameter causes *all* stdout to be sent to that file. If it doesn&#39;t, you need to read that as well)","body":"(That is assuming that the <code>-r</code> parameter causes <i>all</i> stdout to be sent to that file. If it doesn&#39;t, you need to read that as well)"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1652026581,"post_id":72161513,"comment_id":127500978,"body_markdown":"Runs as root because of `/var/storage/backup/MySQL.sql` permissions. Try writing to `/tmp`","body":"Runs as root because of <code>&#47;var&#47;storage&#47;backup&#47;MySQL.sql</code> permissions. Try writing to <code>&#47;tmp</code>"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1652037992,"post_id":72161513,"comment_id":127503463,"body_markdown":"@g00se it is premission thing, now I have console output:\nmysqldump: Can&#39;t create/write to file &#39;/var/storage/backup/MySQL--2022-05-08--19-25-38.sql&#39; (OS errno 13 - Permission denied)\nDatabase backup failure; external process exit code = 1","body":"@g00se it is premission thing, now I have console output: mysqldump: Can&#39;t create/write to file &#39;/var/storage/backup/MySQL--2022-05-08--19-25-38.sql&#39; (OS errno 13 - Permission denied) Database backup failure; external process exit code = 1"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1652083555,"post_id":72161513,"comment_id":127510944,"body_markdown":"Ok, so what does `ls -ld /var/storage/backup` say?","body":"Ok, so what does <code>ls -ld &#47;var&#47;storage&#47;backup</code> say?"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1652176756,"post_id":72161513,"comment_id":127537362,"body_markdown":"@g00se It says &quot;drwxr-xr-x 2 root root 4096 May  8 04:47 /var/storage/backup&quot; which is I guess not good as it can be written to only by root.","body":"@g00se It says &quot;drwxr-xr-x 2 root root 4096 May  8 04:47 /var/storage/backup&quot; which is I guess not good as it can be written to only by root."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1652176884,"post_id":72161513,"comment_id":127537413,"body_markdown":"@g00se you fixed it! Now it&#39;s working. Thanks! Can you create an answer so I could mark it as solution?","body":"@g00se you fixed it! Now it&#39;s working. Thanks! Can you create an answer so I could mark it as solution?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652176931,"post_id":72161513,"comment_id":127537425,"body_markdown":"I haven&#39;t given you the solution *yet* ;) What have you done?","body":"I haven&#39;t given you the solution <i>yet</i> ;) What have you done?"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1652262117,"post_id":72161513,"comment_id":127561731,"body_markdown":"@g00se added input stream reading console output and there I got this message from above. Then issued ```chown tomcat:tomcat /var/storage/backup/``` and it was able to write backup file. This virtual server is just for one Tomcat and one app and thus I have no problem giving backup dir exclusively to Tomcat as it&#39;s the only one who writes to it.","body":"@g00se added input stream reading console output and there I got this message from above. Then issued <code>chown tomcat:tomcat &#47;var&#47;storage&#47;backup&#47;</code> and it was able to write backup file. This virtual server is just for one Tomcat and one app and thus I have no problem giving backup dir exclusively to Tomcat as it&#39;s the only one who writes to it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652262269,"post_id":72161513,"comment_id":127561795,"body_markdown":"That&#39;s more invasive than what I suggested. Where did /var/log/backup come from - what created it?","body":"That&#39;s more invasive than what I suggested. Where did /var/log/backup come from - what created it?"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1652262384,"post_id":72161513,"comment_id":127561834,"body_markdown":"I just did an edit of previous answer. There is only one webapp running on virtual server and this backup directory is made by me being sued as root silly me.","body":"I just did an edit of previous answer. There is only one webapp running on virtual server and this backup directory is made by me being sued as root silly me."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652346468,"creation_date":1652177436,"answer_id":72184412,"question_id":72161513,"body_markdown":"    ls -ld /var/storage/backup\r\n\r\nwill tell you the permissions of the directory to which you&#39;re trying to write and thus possible solutions. If it&#39;s root-only write then you *could* add user tomcat to the root group and give the directory group-write perms. but I don&#39;t like it too much. I&#39;d prefer to write to a different directory for the sole purposes of the app.\r\n\r\nDon&#39;t forget to consume stderr and stdout when creating a process from Java.","title":"Run mysqldump from Spring Boot","body":"<pre><code>ls -ld /var/storage/backup\n</code></pre>\n<p>will tell you the permissions of the directory to which you're trying to write and thus possible solutions. If it's root-only write then you <em>could</em> add user tomcat to the root group and give the directory group-write perms. but I don't like it too much. I'd prefer to write to a different directory for the sole purposes of the app.</p>\n<p>Don't forget to consume stderr and stdout when creating a process from Java.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652346468,"creation_date":1652016760,"question_id":72161513,"body_markdown":"I&#39;m trying to run &lt;code&gt;mysqldump&lt;/code&gt; from Spring Boot.\r\n\r\n    OS:           Ubuntu 20.04.4 LTS\r\n    Bash version: 5.0.17(1)-release\r\n    Spring Boot:  2.6.7\r\n    Java:         openjdk version &quot;11.0.15&quot; 2022-04-19; OpenJDK Runtime Environment (build 11.0.15+10-Ubuntu-0ubuntu0.20.04.1); OpenJDK 64-Bit Server VM (build 11.0.15+10-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing)\r\n    MySQL:        mysql  Ver 8.0.29-0ubuntu0.20.04.3 for Linux on x86_64 ((Ubuntu))\r\n\r\n    $ groups mysql\r\n    mysql : mysql\r\n\r\n    $ groups tomcat\r\n    tomcat : tomcat  www-data  mysql\r\n\r\n    $ ps -ef | grep mysql\r\n    mysql      54024       1  0 May06 ?        00:20:19 /usr/sbin/mysqld\r\n\r\n    $ ps -ef | grep tomcat\r\n    tomcat    122584       1  1 04:44 ?        00:04:52 /usr/lib/jvm/java-11-openjdk-amd64/bin/java -Djava.util.logging.config.file=/opt/tomcat/tomcat9/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dignore.endorsed.dirs= -classpath /opt/tomcat/tomcat9/bin/bootstrap.jar:/opt/tomcat/tomcat9/bin/tomcat-juli.jar -Dcatalina.base=/opt/tomcat/tomcat9 -Dcatalina.home=/opt/tomcat/tomcat9 -Djava.io.tmpdir=/opt/tomcat/tomcat9/temp org.apache.catalina.startup.Bootstrap start\r\n\r\n    -rwxr-xr-x 1 root root  7539680 May  4 12:36 /usr/bin/mysql\r\n    -rwxr-xr-x 1 root root  7458048 May  4 12:36 /usr/bin/mysqldump\r\n\t-rwxr-xr-x 1 root root 66334800 May  4 12:36 /usr/sbin/mysqld\r\n\t-rwxr-xr-x 1 root root    14560 Apr 23 13:02 /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n\r\nJava code to execute &lt;code&gt;mysqldump&lt;/code&gt;:\r\n\r\n\tfinal String cmd = &quot;/usr/bin/mysqldump -u username  -ppassword  --no-tablespaces  --add-drop-table --databases TheVegCat  -r /var/storage/backup/MySQL.sql&quot;;\r\n\ttry {\r\n\t\tRuntime.getRuntime().exec(cmd);\r\n\t}\r\n\tcatch (final IOException e) {\r\n\t\tlog.warn(&quot;Database backup failure; IOException: {}&quot;, e.getMessage());\r\n\t}\r\n\r\nTried to add user &lt;code&gt;tomcat&lt;/code&gt; to &lt;code&gt;mysql&lt;/code&gt; group and restarted Tomcat service, but nothing changed.\r\nWhen I run this command from shell as a &lt;code&gt;root&lt;/code&gt; user, it works.\r\nIs there a way to make this work?","title":"Run mysqldump from Spring Boot","body":"<p>I'm trying to run <code>mysqldump</code> from Spring Boot.</p>\n<pre><code>OS:           Ubuntu 20.04.4 LTS\nBash version: 5.0.17(1)-release\nSpring Boot:  2.6.7\nJava:         openjdk version &quot;11.0.15&quot; 2022-04-19; OpenJDK Runtime Environment (build 11.0.15+10-Ubuntu-0ubuntu0.20.04.1); OpenJDK 64-Bit Server VM (build 11.0.15+10-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing)\nMySQL:        mysql  Ver 8.0.29-0ubuntu0.20.04.3 for Linux on x86_64 ((Ubuntu))\n\n$ groups mysql\nmysql : mysql\n\n$ groups tomcat\ntomcat : tomcat  www-data  mysql\n\n$ ps -ef | grep mysql\nmysql      54024       1  0 May06 ?        00:20:19 /usr/sbin/mysqld\n\n$ ps -ef | grep tomcat\ntomcat    122584       1  1 04:44 ?        00:04:52 /usr/lib/jvm/java-11-openjdk-amd64/bin/java -Djava.util.logging.config.file=/opt/tomcat/tomcat9/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dignore.endorsed.dirs= -classpath /opt/tomcat/tomcat9/bin/bootstrap.jar:/opt/tomcat/tomcat9/bin/tomcat-juli.jar -Dcatalina.base=/opt/tomcat/tomcat9 -Dcatalina.home=/opt/tomcat/tomcat9 -Djava.io.tmpdir=/opt/tomcat/tomcat9/temp org.apache.catalina.startup.Bootstrap start\n\n-rwxr-xr-x 1 root root  7539680 May  4 12:36 /usr/bin/mysql\n-rwxr-xr-x 1 root root  7458048 May  4 12:36 /usr/bin/mysqldump\n-rwxr-xr-x 1 root root 66334800 May  4 12:36 /usr/sbin/mysqld\n-rwxr-xr-x 1 root root    14560 Apr 23 13:02 /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n</code></pre>\n<p>Java code to execute <code>mysqldump</code>:</p>\n<pre><code>final String cmd = &quot;/usr/bin/mysqldump -u username  -ppassword  --no-tablespaces  --add-drop-table --databases TheVegCat  -r /var/storage/backup/MySQL.sql&quot;;\ntry {\n    Runtime.getRuntime().exec(cmd);\n}\ncatch (final IOException e) {\n    log.warn(&quot;Database backup failure; IOException: {}&quot;, e.getMessage());\n}\n</code></pre>\n<p>Tried to add user <code>tomcat</code> to <code>mysql</code> group and restarted Tomcat service, but nothing changed.\nWhen I run this command from shell as a <code>root</code> user, it works.\nIs there a way to make this work?</p>\n"},{"tags":["java","recursion","java-9","concurrenthashmap"],"comments":[{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":6,"creation_date":1550831452,"post_id":54824656,"comment_id":96424903,"body_markdown":"This is clearly [documented](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html#computeIfAbsent(K,java.util.function.Function)) for Java 11 HashMap: &quot;The mapping function should not modify this map during computation.&quot; This wording is missing from the Java 8 documentation.","body":"This is clearly <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">documented</a> for Java 11 HashMap: &quot;The mapping function should not modify this map during computation.&quot; This wording is missing from the Java 8 documentation."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1550831747,"post_id":54824656,"comment_id":96425084,"body_markdown":"The [bug in Java-8](https://bugs.openjdk.java.net/browse/JDK-8062841) related to the endless loop has been reported and fixed in Java-9.","body":"The <a href=\"https://bugs.openjdk.java.net/browse/JDK-8062841\" rel=\"nofollow noreferrer\">bug in Java-8</a> related to the endless loop has been reported and fixed in Java-9."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1550832630,"post_id":54824656,"comment_id":96425623,"body_markdown":"@nullpointer different bug, if you annotate the JDK code the commit leads to JDK-8071667","body":"@nullpointer different bug, if you annotate the JDK code the commit leads to JDK-8071667"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1550832793,"post_id":54824656,"comment_id":96425727,"body_markdown":"@KarolDowbecki I believe, we are both addressing two different issues there.","body":"@KarolDowbecki I believe, we are both addressing two different issues there."},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1687743240,"post_id":54824656,"comment_id":134974504,"body_markdown":"I (randomly) get `ConcurrentModificationException` without modifying the map in the `computeIfAbsent` func. Can it happen with simple concurrent access on the `HashMap`? (my threads never access the same keys). Edit - yep I need `ConcurrentHashMap`... https://stackoverflow.com/questions/2688629/is-a-hashmap-thread-safe-for-different-keys","body":"I (randomly) get <code>ConcurrentModificationException</code> without modifying the map in the <code>computeIfAbsent</code> func. Can it happen with simple concurrent access on the <code>HashMap</code>? (my threads never access the same keys). Edit - yep I need <code>ConcurrentHashMap</code>... <a href=\"https://stackoverflow.com/questions/2688629/is-a-hashmap-thread-safe-for-different-keys\" title=\"is a hashmap thread safe for different keys\">stackoverflow.com/questions/2688629/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1550839102,"creation_date":1550831583,"answer_id":54825115,"question_id":54824656,"body_markdown":"`ConcurrentModificationException` is thrown because `slowFib` is modifying multiple keys and values. If you look at [Java 9 `HashMap.computeIfAbsent()` code][1] you will find that the exception is thrown here:\r\n\r\n    int mc = modCount;\r\n    V v = mappingFunction.apply(key);\r\n    if (mc != modCount) { throw new ConcurrentModificationException(); }\r\n\r\n\r\nEach invocation of `slowFib` attempts to modify values mapped to keys `n-1` and `n-2`.\r\n\r\nThe `modCount` check is not performed in Java 8 `HashMap.computeIfAbsent()` code. This is a bug in Java 8, your approach doesn&#39;t work in all cases as per [JDK-8071667 HashMap.computeIfAbsent() adds entry that HashMap.get() does not find][2] which added the `modCount` check in Java 9:\r\n\r\n&gt; If the function supplied to computeIfAbsent adds items to the same HashTable on which the function is called from and the internal table is enlarged because of this, the new entry will be added to the wrong place in the Map&#39;s internal table making it inaccessible. \r\n\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/util/HashMap.java#l1136\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8071667","title":"Since Java 9 HashMap.computeIfAbsent() throws ConcurrentModificationException on attempt to memoize recursive function results","body":"<p><code>ConcurrentModificationException</code> is thrown because <code>slowFib</code> is modifying multiple keys and values. If you look at <a href=\"https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/util/HashMap.java#l1136\" rel=\"noreferrer\">Java 9 <code>HashMap.computeIfAbsent()</code> code</a> you will find that the exception is thrown here:</p>\n\n<pre><code>int mc = modCount;\nV v = mappingFunction.apply(key);\nif (mc != modCount) { throw new ConcurrentModificationException(); }\n</code></pre>\n\n<p>Each invocation of <code>slowFib</code> attempts to modify values mapped to keys <code>n-1</code> and <code>n-2</code>.</p>\n\n<p>The <code>modCount</code> check is not performed in Java 8 <code>HashMap.computeIfAbsent()</code> code. This is a bug in Java 8, your approach doesn't work in all cases as per <a href=\"https://bugs.openjdk.java.net/browse/JDK-8071667\" rel=\"noreferrer\">JDK-8071667 HashMap.computeIfAbsent() adds entry that HashMap.get() does not find</a> which added the <code>modCount</code> check in Java 9:</p>\n\n<blockquote>\n  <p>If the function supplied to computeIfAbsent adds items to the same HashTable on which the function is called from and the internal table is enlarged because of this, the new entry will be added to the wrong place in the Map's internal table making it inaccessible. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611826998,"creation_date":1611826077,"answer_id":65934340,"question_id":54824656,"body_markdown":"You can roll your own:\r\n\r\n```java\r\npublic static &lt;K, V&gt; V computeIfAbsent(\r\n    Map&lt;K, V&gt; cache, \r\n    K key,\r\n    Function&lt;? super K, ? extends V&gt; function\r\n) {\r\n    V result = cache.get(key);\r\n\r\n    if (result == null) {\r\n        result = function.apply(key);\r\n        cache.put(key, result);\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nThis approach assumes you don&#39;t have `null` values. If you do, just change the logic to use `Map.containsKey()`\r\n\r\nThis access works around the problem by making the cache value retrieval and putting of calculated values non-atomic again, which `Map::computeIfAbsent` tries to avoid. I.e. the usual race condition problems re-occur. But that might be fine in your case, of course.","title":"Since Java 9 HashMap.computeIfAbsent() throws ConcurrentModificationException on attempt to memoize recursive function results","body":"<p>You can roll your own:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K, V&gt; V computeIfAbsent(\n    Map&lt;K, V&gt; cache, \n    K key,\n    Function&lt;? super K, ? extends V&gt; function\n) {\n    V result = cache.get(key);\n\n    if (result == null) {\n        result = function.apply(key);\n        cache.put(key, result);\n    }\n\n    return result;\n}\n</code></pre>\n<p>This approach assumes you don't have <code>null</code> values. If you do, just change the logic to use <code>Map.containsKey()</code></p>\n<p>This access works around the problem by making the cache value retrieval and putting of calculated values non-atomic again, which <code>Map::computeIfAbsent</code> tries to avoid. I.e. the usual race condition problems re-occur. But that might be fine in your case, of course.</p>\n"},{"tags":[],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620380052,"creation_date":1620380052,"answer_id":67432396,"question_id":54824656,"body_markdown":"What about this one? Not sure about performance though...\r\n\r\n    public class Fibonacci {\r\n    \r\n      private static final Map&lt;Integer, Integer&gt; memoized = new ConcurrentSkipListMap&lt;&gt;(Map.of(1,1,2,1));\r\n    \r\n      public static int fib(int n) {\r\n        return memoized.computeIfAbsent(n, x -&gt; fib(x - 2) + fib(x - 1));\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(fib(12));\r\n      }\r\n    \r\n    }","title":"Since Java 9 HashMap.computeIfAbsent() throws ConcurrentModificationException on attempt to memoize recursive function results","body":"<p>What about this one? Not sure about performance though...</p>\n<pre><code>public class Fibonacci {\n\n  private static final Map&lt;Integer, Integer&gt; memoized = new ConcurrentSkipListMap&lt;&gt;(Map.of(1,1,2,1));\n\n  public static int fib(int n) {\n    return memoized.computeIfAbsent(n, x -&gt; fib(x - 2) + fib(x - 1));\n  }\n\n  public static void main(String[] args) {\n    System.out.println(fib(12));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3822436,"reputation":1169,"user_id":3170186,"accept_rate":88,"display_name":"Atequer Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652346141,"creation_date":1652346141,"answer_id":72212773,"question_id":54824656,"body_markdown":"You can use `ConcurrentSkipListMap`\r\n    \r\nIt is a thread-safe map and it will not through `ConcurrentModificationException` in recursive &amp; itaration of collections while using computeIfAbsent().\r\n\r\nReference:\r\n\r\nhttps://dzone.com/articles/avoid-recursive-invocation-on-computeifabsent-in-h ","title":"Since Java 9 HashMap.computeIfAbsent() throws ConcurrentModificationException on attempt to memoize recursive function results","body":"<p>You can use <code>ConcurrentSkipListMap</code></p>\n<p>It is a thread-safe map and it will not through <code>ConcurrentModificationException</code> in recursive &amp; itaration of collections while using computeIfAbsent().</p>\n<p>Reference:</p>\n<p><a href=\"https://dzone.com/articles/avoid-recursive-invocation-on-computeifabsent-in-h\" rel=\"nofollow noreferrer\">https://dzone.com/articles/avoid-recursive-invocation-on-computeifabsent-in-h</a></p>\n"}],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11512,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":54825115,"answer_count":4,"score":29,"last_activity_date":1652346141,"creation_date":1550830035,"question_id":54824656,"body_markdown":"Today I learned from some JS course what memoization is and tried to implement it in Java. I had a simple recursive function to evaluate n-th Fibonacci number:\r\n\r\n\r\n    long fib(long n) {\r\n        if (n &lt; 2) {\r\n            return n;\r\n        }\r\n    \r\n        return fib(n - 1) + fib(n - 2);\r\n    }\r\n\r\n\r\nThen I decided to use HashMap in order to cache results of recursive method:\r\n\r\n    private static &lt;I, O&gt; Function&lt;I, O&gt; memoize(Function&lt;I, O&gt; fn) {\r\n        final Map&lt;I, O&gt; cache = new HashMap&lt;&gt;();\r\n        return in -&gt; {\r\n            if (cache.get(in) != null) {\r\n                return cache.get(in);\r\n            } else {\r\n                O result = fn.apply(in);\r\n                cache.put(in, result);\r\n                return result;\r\n            }\r\n        };\r\n    }\r\n\r\nThis worked as I expected and it allowed me to memoize `fib()` like this `memoize(this::fib)`\r\n\r\nThen I googled the subject of memoization in Java and found the question: https://stackoverflow.com/questions/27549864/java-memoization-method where `computeIfAbsent` was proposed which is much shorter than my conditional expression.\r\n\r\nSo my final code which I expected to work was:\r\n\r\n    public class FibMemo {\r\n        private final Function&lt;Long, Long&gt; memoizedFib = memoize(this::slowFib);\r\n    \r\n        public long fib(long n) {\r\n            return memoizedFib.apply(n);\r\n        }\r\n    \r\n        long slowFib(long n) {\r\n            if (n &lt; 2) {\r\n                return n;\r\n            }\r\n    \r\n            return fib(n - 1) + fib(n - 2);\r\n        }\r\n    \r\n        private static &lt;I, O&gt; Function&lt;I, O&gt; memoize(Function&lt;I, O&gt; fn) {\r\n            final Map&lt;I, O&gt; cache = new HashMap&lt;&gt;();\r\n            return in -&gt; cache.computeIfAbsent(in, fn);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new FibMemo().fib(50);\r\n        }\r\n    }\r\n\r\nSince I used Java 11, I got:\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1134)\r\n    \tat algocasts.matrix.fibonacci.FibMemo.lambda$memoize$0(FibMemo.java:24)\r\n    \tat algocasts.matrix.fibonacci.FibMemo.fib(FibMemo.java:11)\r\n    \tat algocasts.matrix.fibonacci.FibMemo.slowFib(FibMemo.java:19)\r\n    \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1133)\r\n    \tat algocasts.matrix.fibonacci.FibMemo.lambda$memoize$0(FibMemo.java:24)\r\n\r\nThe problem quickly brought me to the following question which is very similar: https://stackoverflow.com/questions/28840047/recursive-concurrenthashmap-computeifabsent-call-never-terminates-bug-or-fea\r\n\r\nexcept Lukas used ConcurrentHashMap and got never ending loop. In the article related to the question Lukas advised:\r\n\r\n&gt; The simplest use-site solution for this concrete problem would be to not use a ConcurrentHashMap, but just a HashMap instead:\r\n\r\n`static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();`\r\n\r\nThat&#39;s exactly what I was trying to do, but did not succeed with Java 11. I found out empirically that HashMap throws ConcurrentModificationException since Java 9 (thanks SDKMAN):\r\n\r\n    sdk use java 9.0.7-zulu &amp;&amp; javac Test.java &amp;&amp; java Test # throws ConcurrentModificationException\r\n    sdk use java 8.0.202-zulufx &amp;&amp; javac Test.java &amp;&amp; java Test # works as expected\r\n\r\nHere are the summary of my attempts:\r\n\r\n - Java 8 &amp;&amp; ConcurrentHashMap -&gt; works if input &lt; 13, otherwise endless\r\n   loop  \r\n - Java 9 &amp;&amp; ConcurrentHashMap -&gt; works if input &lt; 13, hangs if\r\n   input = 14, throws `IllegalStateException: Recursive update` if input\r\n   is 50 \r\n - Java 8 &amp;&amp; HashMap -&gt; Works! \r\n - Java 9 &amp;&amp; HashMap -&gt; Throws\r\n   `ConcurrentModificationException` after input &gt;= 3\r\n\r\nI would like to know why ConcurrentModificationException gets thrown on attempt to use HashMap as a cache for recursive function? Was it a bug in Java 8 allowing me to do so or is it another in Java &gt; 9 which throws ConcurrentModificationException?","title":"Since Java 9 HashMap.computeIfAbsent() throws ConcurrentModificationException on attempt to memoize recursive function results","body":"<p>Today I learned from some JS course what memoization is and tried to implement it in Java. I had a simple recursive function to evaluate n-th Fibonacci number:</p>\n\n<pre><code>long fib(long n) {\n    if (n &lt; 2) {\n        return n;\n    }\n\n    return fib(n - 1) + fib(n - 2);\n}\n</code></pre>\n\n<p>Then I decided to use HashMap in order to cache results of recursive method:</p>\n\n<pre><code>private static &lt;I, O&gt; Function&lt;I, O&gt; memoize(Function&lt;I, O&gt; fn) {\n    final Map&lt;I, O&gt; cache = new HashMap&lt;&gt;();\n    return in -&gt; {\n        if (cache.get(in) != null) {\n            return cache.get(in);\n        } else {\n            O result = fn.apply(in);\n            cache.put(in, result);\n            return result;\n        }\n    };\n}\n</code></pre>\n\n<p>This worked as I expected and it allowed me to memoize <code>fib()</code> like this <code>memoize(this::fib)</code></p>\n\n<p>Then I googled the subject of memoization in Java and found the question: <a href=\"https://stackoverflow.com/questions/27549864/java-memoization-method\">Java memoization method</a> where <code>computeIfAbsent</code> was proposed which is much shorter than my conditional expression.</p>\n\n<p>So my final code which I expected to work was:</p>\n\n<pre><code>public class FibMemo {\n    private final Function&lt;Long, Long&gt; memoizedFib = memoize(this::slowFib);\n\n    public long fib(long n) {\n        return memoizedFib.apply(n);\n    }\n\n    long slowFib(long n) {\n        if (n &lt; 2) {\n            return n;\n        }\n\n        return fib(n - 1) + fib(n - 2);\n    }\n\n    private static &lt;I, O&gt; Function&lt;I, O&gt; memoize(Function&lt;I, O&gt; fn) {\n        final Map&lt;I, O&gt; cache = new HashMap&lt;&gt;();\n        return in -&gt; cache.computeIfAbsent(in, fn);\n    }\n\n    public static void main(String[] args) {\n        new FibMemo().fib(50);\n    }\n}\n</code></pre>\n\n<p>Since I used Java 11, I got:</p>\n\n<pre><code>Exception in thread \"main\" java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1134)\n    at algocasts.matrix.fibonacci.FibMemo.lambda$memoize$0(FibMemo.java:24)\n    at algocasts.matrix.fibonacci.FibMemo.fib(FibMemo.java:11)\n    at algocasts.matrix.fibonacci.FibMemo.slowFib(FibMemo.java:19)\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1133)\n    at algocasts.matrix.fibonacci.FibMemo.lambda$memoize$0(FibMemo.java:24)\n</code></pre>\n\n<p>The problem quickly brought me to the following question which is very similar: <a href=\"https://stackoverflow.com/questions/28840047/recursive-concurrenthashmap-computeifabsent-call-never-terminates-bug-or-fea\">Recursive ConcurrentHashMap.computeIfAbsent() call never terminates. Bug or &quot;feature&quot;?</a></p>\n\n<p>except Lukas used ConcurrentHashMap and got never ending loop. In the article related to the question Lukas advised:</p>\n\n<blockquote>\n  <p>The simplest use-site solution for this concrete problem would be to not use a ConcurrentHashMap, but just a HashMap instead:</p>\n</blockquote>\n\n<p><code>static Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();</code></p>\n\n<p>That's exactly what I was trying to do, but did not succeed with Java 11. I found out empirically that HashMap throws ConcurrentModificationException since Java 9 (thanks SDKMAN):</p>\n\n<pre><code>sdk use java 9.0.7-zulu &amp;&amp; javac Test.java &amp;&amp; java Test # throws ConcurrentModificationException\nsdk use java 8.0.202-zulufx &amp;&amp; javac Test.java &amp;&amp; java Test # works as expected\n</code></pre>\n\n<p>Here are the summary of my attempts:</p>\n\n<ul>\n<li>Java 8 &amp;&amp; ConcurrentHashMap -> works if input &lt; 13, otherwise endless\nloop  </li>\n<li>Java 9 &amp;&amp; ConcurrentHashMap -> works if input &lt; 13, hangs if\ninput = 14, throws <code>IllegalStateException: Recursive update</code> if input\nis 50 </li>\n<li>Java 8 &amp;&amp; HashMap -> Works! </li>\n<li>Java 9 &amp;&amp; HashMap -> Throws\n<code>ConcurrentModificationException</code> after input >= 3</li>\n</ul>\n\n<p>I would like to know why ConcurrentModificationException gets thrown on attempt to use HashMap as a cache for recursive function? Was it a bug in Java 8 allowing me to do so or is it another in Java > 9 which throws ConcurrentModificationException?</p>\n"},{"tags":["java","json","csv","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":19506793,"reputation":2323,"user_id":14271633,"display_name":"Emel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652345826,"creation_date":1652262872,"answer_id":72198982,"question_id":72197515,"body_markdown":"Why not write directly from the Sheets API response (this example was extracted from the [Java Sheet API quick-start][1])\r\n\r\n```java\r\npublic static void main(String... args) throws IOException, GeneralSecurityException {\r\n    // Build a new authorized API client service.\r\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    final String spreadsheetId = &quot;&lt;SHEET_ID&gt;&quot;;\r\n    final String range = &quot;&lt;SHEET_RANGE&gt;&quot;;\r\n    Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n            .setApplicationName(APPLICATION_NAME)\r\n            .build();\r\n    ValueRange response = service.spreadsheets().values()\r\n            .get(spreadsheetId, range)\r\n            .execute();\r\n    List&lt;List&lt;Object&gt;&gt; values = response.getValues();\r\n    if (values == null || values.isEmpty()) {\r\n        System.out.println(&quot;No data found.&quot;);\r\n    } else {\r\n        /* Create a new writer */\r\n        PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\r\n        for (List&lt;Object&gt; list : values) {\r\n            /* Building the string */\r\n            StringBuilder str = new StringBuilder();\r\n            str.append(list.get(0).toString() + &quot;,&quot;);\r\n            str.append(list.get(1).toString() + &quot;\\n&quot;);\r\n            writer.write(str.toString());\r\n        }\r\n        /* Closing the writer */\r\n        writer.close();\r\n    }\r\n}\r\n```\r\n\r\nIn any case, if you are reading the JSON object correctly, the mechanism would be exactly the same.\r\n\r\n##### Updated\r\n\r\nIf you want to read directly from JSON you can use this example (using [GSON][2]):\r\n```java\r\npublic class SheetResponse {\r\n    private String range;\r\n    private String majorDimensions; \r\n    private List&lt;List&lt;Object&gt;&gt; values;\r\n}\r\n\r\npublic static void main(String... args) throws IOException, GeneralSecurityException {\r\n    // Build a new authorized API client service.\r\n    var gson = new Gson();\r\n    var reader = new JsonReader(new FileReader(&quot;test.json&quot;));\r\n    SheetResponse sR = gson.fromJson(reader, SheetResponse.class);\r\n    PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\r\n    for (List&lt;Object&gt; list : sR.values) {\r\n        /* Building the string */\r\n        StringBuilder str = new StringBuilder();\r\n        str.append(list.get(0).toString() + &quot;,&quot;);\r\n        str.append(list.get(1).toString() + &quot;\\n&quot;);\r\n        writer.write(str.toString());\r\n    }\r\n    /* Closing the writer */\r\n    writer.close();\r\n}\r\n```\r\n\r\n##### Updated for the general case\r\n\r\n```java \r\npublic static void main(String... args) throws IOException, GeneralSecurityException {\r\n    // Build a new authorized API client service.\r\n    var gson = new Gson();\r\n    var reader = new JsonReader(new FileReader(&quot;test.json&quot;));\r\n    SheetResponse sR = gson.fromJson(reader, SheetResponse.class);\r\n    PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\r\n\r\n    for (int i = 0; i &lt; sR.values.size(); i++) {\r\n        var valueRow = sR.values.get(i);\r\n        StringBuilder str = new StringBuilder();\r\n        for (int j = 0; j &lt; valueRow.size(); j++) {\r\n            if (j == valueRow.size() - 1) {\r\n                str.append(valueRow.get(j).toString() + &quot;\\n&quot;);\r\n            } else {\r\n                str.append(valueRow.get(j).toString() + &quot;,&quot;);\r\n            }\r\n        }\r\n        writer.write(str.toString());\r\n    }\r\n    /* Closing the writer */\r\n    writer.close();\r\n}\r\n```\r\n\r\n##### Documentation \r\n\r\n - [`PrintWriter`][3]\r\n - [`StringBuilder`][4]\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/api/quickstart/java\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html","title":"Trying to convert a JSON file or string to a CSV file gives an empty CSV file","body":"<p>Why not write directly from the Sheets API response (this example was extracted from the <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">Java Sheet API quick-start</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException, GeneralSecurityException {\n    // Build a new authorized API client service.\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    final String spreadsheetId = &quot;&lt;SHEET_ID&gt;&quot;;\n    final String range = &quot;&lt;SHEET_RANGE&gt;&quot;;\n    Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n    ValueRange response = service.spreadsheets().values()\n            .get(spreadsheetId, range)\n            .execute();\n    List&lt;List&lt;Object&gt;&gt; values = response.getValues();\n    if (values == null || values.isEmpty()) {\n        System.out.println(&quot;No data found.&quot;);\n    } else {\n        /* Create a new writer */\n        PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\n        for (List&lt;Object&gt; list : values) {\n            /* Building the string */\n            StringBuilder str = new StringBuilder();\n            str.append(list.get(0).toString() + &quot;,&quot;);\n            str.append(list.get(1).toString() + &quot;\\n&quot;);\n            writer.write(str.toString());\n        }\n        /* Closing the writer */\n        writer.close();\n    }\n}\n</code></pre>\n<p>In any case, if you are reading the JSON object correctly, the mechanism would be exactly the same.</p>\n<h5>Updated</h5>\n<p>If you want to read directly from JSON you can use this example (using <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SheetResponse {\n    private String range;\n    private String majorDimensions; \n    private List&lt;List&lt;Object&gt;&gt; values;\n}\n\npublic static void main(String... args) throws IOException, GeneralSecurityException {\n    // Build a new authorized API client service.\n    var gson = new Gson();\n    var reader = new JsonReader(new FileReader(&quot;test.json&quot;));\n    SheetResponse sR = gson.fromJson(reader, SheetResponse.class);\n    PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\n    for (List&lt;Object&gt; list : sR.values) {\n        /* Building the string */\n        StringBuilder str = new StringBuilder();\n        str.append(list.get(0).toString() + &quot;,&quot;);\n        str.append(list.get(1).toString() + &quot;\\n&quot;);\n        writer.write(str.toString());\n    }\n    /* Closing the writer */\n    writer.close();\n}\n</code></pre>\n<h5>Updated for the general case</h5>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException, GeneralSecurityException {\n    // Build a new authorized API client service.\n    var gson = new Gson();\n    var reader = new JsonReader(new FileReader(&quot;test.json&quot;));\n    SheetResponse sR = gson.fromJson(reader, SheetResponse.class);\n    PrintWriter writer = new PrintWriter(&quot;data.csv&quot;);\n\n    for (int i = 0; i &lt; sR.values.size(); i++) {\n        var valueRow = sR.values.get(i);\n        StringBuilder str = new StringBuilder();\n        for (int j = 0; j &lt; valueRow.size(); j++) {\n            if (j == valueRow.size() - 1) {\n                str.append(valueRow.get(j).toString() + &quot;\\n&quot;);\n            } else {\n                str.append(valueRow.get(j).toString() + &quot;,&quot;);\n            }\n        }\n        writer.write(str.toString());\n    }\n    /* Closing the writer */\n    writer.close();\n}\n</code></pre>\n<h5>Documentation</h5>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\" rel=\"nofollow noreferrer\"><code>PrintWriter</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a></li>\n</ul>\n"}],"owner":{"account_id":24262796,"reputation":31,"user_id":18212150,"display_name":"Guhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72198982,"answer_count":1,"score":2,"last_activity_date":1652345826,"creation_date":1652256399,"question_id":72197515,"body_markdown":"So I am trying to convert a JSON file (Which I have exported as JSON using Google Sheets API) to a CSV file, even though there is a JSON file placed correctly at that location, or trying with instead a String, it either shows null pointer exception or returns an empty CSV file. \r\n\r\nSample JSON file:\r\n```\r\n{\r\n  &quot;range&quot;: &quot;products!A1:E4&quot;,\r\n  &quot;majorDimension&quot;: &quot;ROWS&quot;,\r\n  &quot;values&quot;: [\r\n    [\r\n      &quot;product_name&quot;,\r\n      &quot;price&quot;\r\n    ],\r\n    [\r\n      &quot;Rugrats - Bedtime Bash [VHS]&quot;,\r\n      &quot;36.95&quot;\r\n    ],\r\n    [\r\n      &quot;Teenage Mutant Ninja Turtles II - The Secret of the Ooze [VHS]&quot;,\r\n      &quot;29.89&quot;\r\n    ],\r\n    [\r\n      &quot;Teenage Mutant Ninja Turtles II - The Secret of the Ooze [VHS]&quot;,\r\n      &quot;29.89&quot;\r\n    ]\r\n  ]\r\n}\r\n```\r\nThe sample code I am trying to use here for converting them to CSV,\r\n```\r\nJSONObject output = new JSONObject(&lt;String or file location that holds JSON file&gt;);\r\nFile finalFile=new File(&lt;Destination file path&gt;);\r\nJSONArray docs = output.getJSONArray(&quot;values&quot;);\r\nString csv = CDL.toString(docs);\r\nFileUtils.writeStringToFile(finalFile, csv);\r\n```\r\n\r\nDid I make any mistake in code or should I handle this JSON with different Java code?","title":"Trying to convert a JSON file or string to a CSV file gives an empty CSV file","body":"<p>So I am trying to convert a JSON file (Which I have exported as JSON using Google Sheets API) to a CSV file, even though there is a JSON file placed correctly at that location, or trying with instead a String, it either shows null pointer exception or returns an empty CSV file.</p>\n<p>Sample JSON file:</p>\n<pre><code>{\n  &quot;range&quot;: &quot;products!A1:E4&quot;,\n  &quot;majorDimension&quot;: &quot;ROWS&quot;,\n  &quot;values&quot;: [\n    [\n      &quot;product_name&quot;,\n      &quot;price&quot;\n    ],\n    [\n      &quot;Rugrats - Bedtime Bash [VHS]&quot;,\n      &quot;36.95&quot;\n    ],\n    [\n      &quot;Teenage Mutant Ninja Turtles II - The Secret of the Ooze [VHS]&quot;,\n      &quot;29.89&quot;\n    ],\n    [\n      &quot;Teenage Mutant Ninja Turtles II - The Secret of the Ooze [VHS]&quot;,\n      &quot;29.89&quot;\n    ]\n  ]\n}\n</code></pre>\n<p>The sample code I am trying to use here for converting them to CSV,</p>\n<pre><code>JSONObject output = new JSONObject(&lt;String or file location that holds JSON file&gt;);\nFile finalFile=new File(&lt;Destination file path&gt;);\nJSONArray docs = output.getJSONArray(&quot;values&quot;);\nString csv = CDL.toString(docs);\nFileUtils.writeStringToFile(finalFile, csv);\n</code></pre>\n<p>Did I make any mistake in code or should I handle this JSON with different Java code?</p>\n"},{"tags":["java","spring","path","pom.xml","tomcat8.5"],"answers":[{"tags":[],"owner":{"account_id":16161082,"reputation":113,"user_id":11667138,"display_name":"Kashan Nadeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652345585,"creation_date":1652345585,"answer_id":72212638,"question_id":72211972,"body_markdown":"Make sure you don&#39;t have set the property `server.servlet.contextPath`, as this is for embedded Tomcat only. It is not needed if you are deploying the application to another Tomcat.","title":"Spring Boot trouble by deployment on Tomcat Server 8.5","body":"<p>Make sure you don't have set the property <code>server.servlet.contextPath</code>, as this is for embedded Tomcat only. It is not needed if you are deploying the application to another Tomcat.</p>\n"}],"owner":{"account_id":25263955,"reputation":1,"user_id":19094446,"display_name":"Dimax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652345585,"creation_date":1652342321,"question_id":72211972,"body_markdown":"i have troubles by deployment my Spring Boot Project on Tomcat Server 8.5.\r\nThis project work fine in Eclipse on local Tomcat but after deployment on global Tomcat Server i see error 404 \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QA8mS.png\r\n\r\nif i write the source path like absolut path-&gt; `&lt;body background=&quot;./images/brickwall.png&quot;&gt;`\r\nthan is all ok.\r\nthis is my pom-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t\r\n    \t&lt;groupId&gt;cth&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;bbbb&lt;/name&gt;\r\n    \t&lt;description&gt; Spring Boot Projekt&lt;/description&gt;    \t\r\n    \t&lt;parent&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;properties&gt;\r\n    \t &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;12&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n       \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Security --&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt; \r\n    &lt;/project&gt;","title":"Spring Boot trouble by deployment on Tomcat Server 8.5","body":"<p>i have troubles by deployment my Spring Boot Project on Tomcat Server 8.5.\nThis project work fine in Eclipse on local Tomcat but after deployment on global Tomcat Server i see error 404\n<a href=\"https://i.stack.imgur.com/QA8mS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>if i write the source path like absolut path-&gt; <code>&lt;body background=&quot;./images/brickwall.png&quot;&gt;</code>\nthan is all ok.\nthis is my pom-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;groupId&gt;cth&lt;/groupId&gt;\n    &lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;bbbb&lt;/name&gt;\n    &lt;description&gt; Spring Boot Projekt&lt;/description&gt;     \n    &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;12&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt; \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"score":0,"creation_date":1652359020,"post_id":72212584,"comment_id":127590237,"body_markdown":"Please provide a bit more context for the problem. There is a tutorial on how to ask each question.","body":"Please provide a bit more context for the problem. There is a tutorial on how to ask each question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652359039,"post_id":72212584,"comment_id":127590251,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":12880082,"reputation":1,"user_id":9315375,"display_name":"RoseWJJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652345342,"creation_date":1652345342,"question_id":72212584,"body_markdown":"\r\nWARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver Line:199 -\r\nResolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class net.minidev.json.JSONUtil]\r\n","title":"Could not initialize class net.minidev.json.JSONUtil","body":"<p>WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver Line:199 -\nResolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class net.minidev.json.JSONUtil]</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","entitylisteners"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1643041462,"post_id":70836841,"comment_id":125228738,"body_markdown":"What&#39;s your error message?","body":"What&#39;s your error message?"},{"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"score":0,"creation_date":1643041536,"post_id":70836841,"comment_id":125228779,"body_markdown":"just added error message","body":"just added error message"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1643042569,"post_id":70836841,"comment_id":125229239,"body_markdown":"Maybe should have been more specific. A stack trace. What you posted doesn&#39;t tell much.","body":"Maybe should have been more specific. A stack trace. What you posted doesn&#39;t tell much."},{"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"score":0,"creation_date":1643045254,"post_id":70836841,"comment_id":125230313,"body_markdown":"added the complete log","body":"added the complete log"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1643051325,"post_id":70836841,"comment_id":125232548,"body_markdown":"Why is your repo `static` ?","body":"Why is your repo <code>static</code> ?"},{"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"score":0,"creation_date":1643089415,"post_id":70836841,"comment_id":125240857,"body_markdown":"If I&#39;m not using static there is not not autowireing, I&#39;m getting bean null","body":"If I&#39;m not using static there is not not autowireing, I&#39;m getting bean null"},{"owner":{"account_id":7080850,"reputation":139,"user_id":5419322,"accept_rate":0,"display_name":"dhasan k"},"score":0,"creation_date":1646378390,"post_id":70836841,"comment_id":126112690,"body_markdown":"I am also working on similar requirement and also facing the same issue ie, repo method is getting called multiple times and finally getting stackoverflow exception. Were you able to fix this issue?","body":"I am also working on similar requirement and also facing the same issue ie, repo method is getting called multiple times and finally getting stackoverflow exception. Were you able to fix this issue?"},{"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"score":0,"creation_date":1646397484,"post_id":70836841,"comment_id":126118750,"body_markdown":"No, I was not able to find the solution, I modified my approach","body":"No, I was not able to find the solution, I modified my approach"}],"answers":[{"tags":[],"owner":{"account_id":16161082,"reputation":113,"user_id":11667138,"display_name":"Kashan Nadeem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652345191,"creation_date":1652345191,"answer_id":72212558,"question_id":70836841,"body_markdown":"You are getting NPE because `MyListener` is getting instantiated by Hibernate and not Spring AOP, thus `MyRepo` cannot be Autowired.\r\nI am not sure that a solution exists for what you are trying to do.\r\n\r\nThe best solution would be to change your approach.","title":"How to call repository method in entity listener","body":"<p>You are getting NPE because <code>MyListener</code> is getting instantiated by Hibernate and not Spring AOP, thus <code>MyRepo</code> cannot be Autowired.\nI am not sure that a solution exists for what you are trying to do.</p>\n<p>The best solution would be to change your approach.</p>\n"}],"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652345191,"creation_date":1643040444,"question_id":70836841,"body_markdown":"I&#39;m trying to make call to repository inside my Entity Listener, when I call repository.findById() method inside my @prePersist method the same method is calling multiple time and I&#39;m getting null pointer exception :\r\n\r\nHere is code :\r\n\r\n    @Component\r\n    public class MyListener {\r\n    \r\n        public MyListener () {\r\n        \t\r\n        }\r\n    \t\r\n    \tprivate static MyRepo myRepo;\r\n    \r\n    \t@Autowired\r\n    \tpublic void setMyRepo(MyRepo myRepository) {\r\n    \t\tMyListener.myRepo= myRepository;\r\n    \t}\r\n    \r\n        @PreUpdate\r\n    \t@PrePersist\r\n    \tpublic void preUpdate(MyEntity myEntity ) {\r\n    \t\t\r\n    \t\tMySecondEntity mySecondEntity = myRepo.findById(true);\r\n    \r\n    \t\tif(! myEntity.value.equals(mySecondEntity.getValue())) {\r\n                myEntity.setNewValue(mySecondEntity.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\nEntity :\r\n\r\n    @Entity\r\n    @EntityListeners({MyListener .class})\r\n    public class MyEntity {\r\n        //properties goes here\r\n    }\r\n\r\n\r\nSo my requirement here to get a value from one table and check with the entry in MyEntity table and save it before any save or update in MyEntity table. Any help is appreciated.\r\n\r\n","title":"How to call repository method in entity listener","body":"<p>I'm trying to make call to repository inside my Entity Listener, when I call repository.findById() method inside my @prePersist method the same method is calling multiple time and I'm getting null pointer exception :</p>\n<p>Here is code :</p>\n<pre><code>@Component\npublic class MyListener {\n\n    public MyListener () {\n        \n    }\n    \n    private static MyRepo myRepo;\n\n    @Autowired\n    public void setMyRepo(MyRepo myRepository) {\n        MyListener.myRepo= myRepository;\n    }\n\n    @PreUpdate\n    @PrePersist\n    public void preUpdate(MyEntity myEntity ) {\n        \n        MySecondEntity mySecondEntity = myRepo.findById(true);\n\n        if(! myEntity.value.equals(mySecondEntity.getValue())) {\n            myEntity.setNewValue(mySecondEntity.getValue());\n        }\n    }\n}\n</code></pre>\n<p>Entity :</p>\n<pre><code>@Entity\n@EntityListeners({MyListener .class})\npublic class MyEntity {\n    //properties goes here\n}\n</code></pre>\n<p>So my requirement here to get a value from one table and check with the entry in MyEntity table and save it before any save or update in MyEntity table. Any help is appreciated.</p>\n"},{"tags":["java","eclipse","windows"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1406870702,"post_id":25073258,"comment_id":39008398,"body_markdown":"Can you run it from the command line? type `java -jar myjar.jar`","body":"Can you run it from the command line? type <code>java -jar myjar.jar</code>"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1406879414,"post_id":25073258,"comment_id":39011985,"body_markdown":"possible duplicate of [Running Jar file in Windows](http://stackoverflow.com/questions/394616/running-jar-file-in-windows)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/394616/running-jar-file-in-windows\">Running Jar file in Windows</a>"},{"owner":{"account_id":4829591,"reputation":47,"user_id":3898085,"accept_rate":50,"display_name":"user3898085"},"score":0,"creation_date":1407555855,"post_id":25073258,"comment_id":39272621,"body_markdown":"Sorry for the delay. Yeah, I can run it from the command line just fine; it&#39;s just the double clicking that wasn&#39;t working.","body":"Sorry for the delay. Yeah, I can run it from the command line just fine; it&#39;s just the double clicking that wasn&#39;t working."}],"answers":[{"tags":[],"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406901648,"creation_date":1406874086,"answer_id":25074042,"question_id":25073258,"body_markdown":"Of course you can. &lt;br /&gt;\r\nAll you need to do is having it run by the Java virtual machine.&lt;br /&gt;\r\nThat&#39;s &lt;br /&gt;\r\n\r\n    java -jar &quot;\\path\\to\\YOUR_JAR_NAME.jar&quot; \r\n\r\nHowever, running it by double-click doesn&#39;t work. &lt;br /&gt;\r\nBut if you use C# instead of Java, it generates a lovely .exe that you can run by double-clicking.\r\n\r\nOr if you insist on using Java, you can use Launch4j:&lt;br /&gt;\r\nhttp://launch4j.sourceforge.net/\r\n\r\nIf the problem is, that it expects a GUI, you can execute the [AttachConsole][1] WinAPI call, to show the command line window.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/472282/show-console-in-windows-application","title":"Running a .jar file without a GUI","body":"<p>Of course you can. <br />\nAll you need to do is having it run by the Java virtual machine.<br />\nThat's <br /></p>\n\n<pre><code>java -jar \"\\path\\to\\YOUR_JAR_NAME.jar\" \n</code></pre>\n\n<p>However, running it by double-click doesn't work. <br />\nBut if you use C# instead of Java, it generates a lovely .exe that you can run by double-clicking.</p>\n\n<p>Or if you insist on using Java, you can use Launch4j:<br />\n<a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">http://launch4j.sourceforge.net/</a></p>\n\n<p>If the problem is, that it expects a GUI, you can execute the <a href=\"https://stackoverflow.com/questions/472282/show-console-in-windows-application\">AttachConsole</a> WinAPI call, to show the command line window.</p>\n"},{"tags":[],"owner":{"account_id":1152874,"reputation":4025,"user_id":1134211,"accept_rate":80,"display_name":"Thorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1406889587,"creation_date":1406889587,"answer_id":25078417,"question_id":25073258,"body_markdown":"The way windows handles double-clicking a jar file is by launching `javaw` which is designed to run a Java GUI program **without** displaying the console window. When I double-click a Java console application, I see something like this in the console window:\r\n\r\n`javaw -jar &quot;C:\\JavaPrograms\\SampleConsoleApp\\dist\\DistanceCalc.jar&quot;`\r\n\r\nNothing else is displayed because javaw is designed to launch a GUI window, but there is none.\r\n\r\nIf you would like to make a console application that gets launched with a double click, create a text file called `launcher.bat` and place the launch command in that batch file:\r\n\r\n`java -jar &quot;C:\\JavaPrograms\\SampleConsoleApp\\dist\\DistanceCalc.jar&quot;`\r\n\r\nNetbeans will actually generate this command line for you when you run your program from the IDE by displaying something like this in the output window:\r\n\r\n\r\n\r\n    To run this application from the command line without Ant, try:\r\n    java -jar &quot;F:\\JavaPrograms\\IndexMaker\\dist\\IndexMaker.jar&quot;","title":"Running a .jar file without a GUI","body":"<p>The way windows handles double-clicking a jar file is by launching <code>javaw</code> which is designed to run a Java GUI program <strong>without</strong> displaying the console window. When I double-click a Java console application, I see something like this in the console window:</p>\n\n<p><code>javaw -jar \"C:\\JavaPrograms\\SampleConsoleApp\\dist\\DistanceCalc.jar\"</code></p>\n\n<p>Nothing else is displayed because javaw is designed to launch a GUI window, but there is none.</p>\n\n<p>If you would like to make a console application that gets launched with a double click, create a text file called <code>launcher.bat</code> and place the launch command in that batch file:</p>\n\n<p><code>java -jar \"C:\\JavaPrograms\\SampleConsoleApp\\dist\\DistanceCalc.jar\"</code></p>\n\n<p>Netbeans will actually generate this command line for you when you run your program from the IDE by displaying something like this in the output window:</p>\n\n<pre><code>To run this application from the command line without Ant, try:\njava -jar \"F:\\JavaPrograms\\IndexMaker\\dist\\IndexMaker.jar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2920303,"reputation":14414,"user_id":2502731,"accept_rate":99,"display_name":"lewis4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428929836,"creation_date":1428929836,"answer_id":29605923,"question_id":25073258,"body_markdown":"1. Open any text editor\r\n2. write this two lines:\r\n\r\n        java &quot;yourmainclassname&quot;\r\n        pause\r\n\r\n3. save that file as &quot;name&quot;.bat\r\n4. Run it with double click from windows GUI\r\n\r\n(of course this new created .bat file must be in the same folder as the .class)","title":"Running a .jar file without a GUI","body":"<ol>\n<li>Open any text editor</li>\n<li><p>write this two lines:</p>\n\n<pre><code>java \"yourmainclassname\"\npause\n</code></pre></li>\n<li><p>save that file as \"name\".bat</p></li>\n<li>Run it with double click from windows GUI</li>\n</ol>\n\n<p>(of course this new created .bat file must be in the same folder as the .class)</p>\n"},{"tags":[],"owner":{"account_id":24700607,"reputation":11,"user_id":18591965,"display_name":"Abbas Borji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652345174,"creation_date":1652345174,"answer_id":72212551,"question_id":25073258,"body_markdown":"I agree with what @lewis4u mentioned.Although his answer needs a little bit clarification for beginners. Since the first java application beginners try to implement in most cases will be a No-GUI Application.\r\nTo create a java no-Gui console program that runs with a double click (follow the steps below):\r\n\r\n 1. Write your java code and make sure to save the file with (.java) extension.\r\n 2. Go to cmd and write the following commands: \r\n\r\n(cd theDirectoryWhereTheJavaFileIsFound),then ENTER \r\n\r\n(javac filename.java),then ENTER \r\n\r\nThis process is used to compile the java file to a class file.\r\n\r\n 3. Create a new text file at the same folder, and write in it:\r\n\r\n(java filename) then ENTER\r\n\r\n(pause) \r\n\r\nThen save the file, and change the extension of it from (.txt) to (.bat).\r\n\r\nAfter doing the above steps, you are done!\r\n\r\nWhen you double click the (.bat) file you created, this will launch a console application where you can input/output.\r\n \r\n\r\n ","title":"Running a .jar file without a GUI","body":"<p>I agree with what @lewis4u mentioned.Although his answer needs a little bit clarification for beginners. Since the first java application beginners try to implement in most cases will be a No-GUI Application.\nTo create a java no-Gui console program that runs with a double click (follow the steps below):</p>\n<ol>\n<li>Write your java code and make sure to save the file with (.java) extension.</li>\n<li>Go to cmd and write the following commands:</li>\n</ol>\n<p>(cd theDirectoryWhereTheJavaFileIsFound),then ENTER</p>\n<p>(javac filename.java),then ENTER</p>\n<p>This process is used to compile the java file to a class file.</p>\n<ol start=\"3\">\n<li>Create a new text file at the same folder, and write in it:</li>\n</ol>\n<p>(java filename) then ENTER</p>\n<p>(pause)</p>\n<p>Then save the file, and change the extension of it from (.txt) to (.bat).</p>\n<p>After doing the above steps, you are done!</p>\n<p>When you double click the (.bat) file you created, this will launch a console application where you can input/output.</p>\n"}],"owner":{"account_id":4829591,"reputation":47,"user_id":3898085,"accept_rate":50,"display_name":"user3898085"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25078417,"answer_count":4,"score":1,"last_activity_date":1652345174,"creation_date":1406870018,"question_id":25073258,"body_markdown":"I made this little program for a project I&#39;m working on, and it works as it should when I run from Eclipse. What I would like to do is have a .jar file that I can double click and have it run in my console. I alredy exported as a JAR and a runnable JAR on the Export menu, and both times it launches the Java process in the Task Manager, it uses both CPU and Memory, but nothing shows in my screen. I tried compiling with the command prompt, and it&#39;s just the same thing. So, my question is, can I have a stand alone java application without a GUI? Because it seems that&#39;s my problem: I followed a tutorial to make a program with one, and it worked just fine.\r\n\r\nI&#39;m using Windows 8 64-bit (I have to because of some other software I have to use on my project). I&#39;m a newbie at this Java buissness, so if you can please keep it as simple as possible; I&#39;d really appreciate it. Thanks in advance.\r\n\r\n    import java.util.Scanner;\r\n    public class Distancia {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint check = 1;\r\n\t\tSystem.out.println(&quot;Kil&#243;metros a Millas N&#225;uticas\\n&quot;);\r\n\t\tdo {\r\n\t\t\tint cm = 0;\r\n\t\t\tint salida = 0;\r\n\t\t\twhile (salida != 1){\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Escriba la distancia en kil&#243;metros:&quot;);\r\n\t\t\t\tcm = sc.nextInt();\r\n\t\t\t\tsalida = 1;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Opci&#243;n Inv&#225;lida&quot;);\r\n\t\t\t\tsc = new Scanner(System.in);\r\n\t\t\t\tsc.reset();\r\n\t\t\t}\r\n\t\t\t} //Fin del While\r\n\t\t//Conversiones de distancias\r\n\t\tint km = cm*50;\t\t// Conversi&#243;n de Centimetros-mapa a Kil&#243;metros\r\n\t\tdouble mn = km/(1.8);\t// Conversi&#243;n a Millas N&#225;uticas\r\n\t\t//C&#225;lculos de Velocidades\r\n\t\tSystem.out.println(&quot;Distancia en kil&#243;metros: &quot;+km+&quot; km.&quot;);\r\n\t\tSystem.out.println(&quot;Distancia en millas n&#225;uticas: &quot;+mn+&quot; MN.\\n&quot;);\r\n\t\tif (mn/5&lt;24)\r\n\t\t\tSystem.out.println(&quot;Tiempo a 05 nudos: &quot;+mn/5+&quot; horas.&quot;);\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Tiempo a 05 nudos: &quot;+mn/5+&quot; horas.&quot;);\r\n\t\t\tSystem.out.println(&quot;Tiempo a 05 nudos: &quot;+(mn/5)/24+&quot; d&#237;as.&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (mn/8&lt;24)\r\n\t\t\tSystem.out.println(&quot;Tiempo a 08 nudos: &quot;+mn/8+&quot; horas.&quot;);\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Tiempo a 08 nudos: &quot;+mn/8+&quot; horas.&quot;);\r\n\t\t\tSystem.out.println(&quot;Tiempo a 08 nudos: &quot;+(mn/8)/24+&quot; d&#237;as.&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (mn/12&lt;24){\r\n\t\t\tSystem.out.println(&quot;Tiempo a 12 nudos: &quot;+mn/12+&quot; horas.&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Tiempo a 12 nudos: &quot;+mn/12+&quot; horas.&quot;);\r\n\t\t\tSystem.out.println(&quot;Tiempo a 12 nudos: &quot;+(mn/12)/24+&quot; d&#237;as.&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t}\r\n\t\twhile (check !=0);\r\n\t\tsc.close();\r\n\t\t}\r\n    }\r\n","title":"Running a .jar file without a GUI","body":"<p>I made this little program for a project I'm working on, and it works as it should when I run from Eclipse. What I would like to do is have a .jar file that I can double click and have it run in my console. I alredy exported as a JAR and a runnable JAR on the Export menu, and both times it launches the Java process in the Task Manager, it uses both CPU and Memory, but nothing shows in my screen. I tried compiling with the command prompt, and it's just the same thing. So, my question is, can I have a stand alone java application without a GUI? Because it seems that's my problem: I followed a tutorial to make a program with one, and it worked just fine.</p>\n\n<p>I'm using Windows 8 64-bit (I have to because of some other software I have to use on my project). I'm a newbie at this Java buissness, so if you can please keep it as simple as possible; I'd really appreciate it. Thanks in advance.</p>\n\n<pre><code>import java.util.Scanner;\npublic class Distancia {\n\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    int check = 1;\n    System.out.println(\"Kilómetros a Millas Náuticas\\n\");\n    do {\n        int cm = 0;\n        int salida = 0;\n        while (salida != 1){\n        try {\n            System.out.println(\"Escriba la distancia en kilómetros:\");\n            cm = sc.nextInt();\n            salida = 1;\n        } catch (Exception e) {\n            System.out.println(\"Opción Inválida\");\n            sc = new Scanner(System.in);\n            sc.reset();\n        }\n        } //Fin del While\n    //Conversiones de distancias\n    int km = cm*50;     // Conversión de Centimetros-mapa a Kilómetros\n    double mn = km/(1.8);   // Conversión a Millas Náuticas\n    //Cálculos de Velocidades\n    System.out.println(\"Distancia en kilómetros: \"+km+\" km.\");\n    System.out.println(\"Distancia en millas náuticas: \"+mn+\" MN.\\n\");\n    if (mn/5&lt;24)\n        System.out.println(\"Tiempo a 05 nudos: \"+mn/5+\" horas.\");\n    else{\n        System.out.println(\"Tiempo a 05 nudos: \"+mn/5+\" horas.\");\n        System.out.println(\"Tiempo a 05 nudos: \"+(mn/5)/24+\" días.\");\n        System.out.println();\n    }\n    if (mn/8&lt;24)\n        System.out.println(\"Tiempo a 08 nudos: \"+mn/8+\" horas.\");\n    else{\n        System.out.println(\"Tiempo a 08 nudos: \"+mn/8+\" horas.\");\n        System.out.println(\"Tiempo a 08 nudos: \"+(mn/8)/24+\" días.\");\n        System.out.println();\n    }\n    if (mn/12&lt;24){\n        System.out.println(\"Tiempo a 12 nudos: \"+mn/12+\" horas.\");\n        System.out.println();\n    }\n    else{\n        System.out.println(\"Tiempo a 12 nudos: \"+mn/12+\" horas.\");\n        System.out.println(\"Tiempo a 12 nudos: \"+(mn/12)/24+\" días.\");\n        System.out.println();\n    }\n    }\n    while (check !=0);\n    sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","resteasy","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625326471,"creation_date":1625326471,"answer_id":68237665,"question_id":68236845,"body_markdown":"`HttpServerRequest` and other objects injected with `@Context` can only be injected into JAX-RS classes (that is resources and providers).\r\n\r\nThese classes cannot be injected into regular CDI beans, so you need to pass them as method params after you&#39;ve obtained them via injection into a JAX-RS Reource (or provider)","title":"Inject HttpServerRequest in service via Quarkus","body":"<p><code>HttpServerRequest</code> and other objects injected with <code>@Context</code> can only be injected into JAX-RS classes (that is resources and providers).</p>\n<p>These classes cannot be injected into regular CDI beans, so you need to pass them as method params after you've obtained them via injection into a JAX-RS Reource (or provider)</p>\n"},{"tags":[],"owner":{"account_id":4285111,"reputation":1029,"user_id":3503187,"display_name":"Ubercool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652344022,"creation_date":1652344022,"answer_id":72212307,"question_id":68236845,"body_markdown":"If you want to access the request in other application scoped beans you can use below code instead of injecting which won&#39;t work as pointed by @geoand.\r\n\r\n    HttpServerRequest request = ResteasyProviderFactory.getInstance().getContextData(HttpServerRequest.class);","title":"Inject HttpServerRequest in service via Quarkus","body":"<p>If you want to access the request in other application scoped beans you can use below code instead of injecting which won't work as pointed by @geoand.</p>\n<pre><code>HttpServerRequest request = ResteasyProviderFactory.getInstance().getContextData(HttpServerRequest.class);\n</code></pre>\n"}],"owner":{"account_id":18880058,"reputation":25,"user_id":13772652,"display_name":"JaveysWuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652344022,"creation_date":1625320063,"question_id":68236845,"body_markdown":"I&#39;m trying to inject `HttpServerRequest` in service, but it always be null.\r\n\r\n```\r\n@Slf4j\r\n@ApplicationScoped\r\npublic class TokenService {\r\n    \r\n    @Context\r\n    HttpServerRequest request;\r\n    \r\n    public SysUser getUser() {\r\n        String authorization = request.getHeader(&quot;Authorization&quot;);\r\n        log.info(authorization);\r\n        \r\n        // find user by token\r\n        return null;\r\n    }\r\n}\r\n```\r\n```\r\n@Inject\r\nTokenService tokenService;\r\n```\r\n\r\n\r\n\r\nAfter that, I tried to use `@Context HttpServletRequest request` as a part of the method parameter in resource. It worked for me.\r\n```\r\n    @GET\r\n    @Path(&quot;routes&quot;)\r\n    public Result&lt;Object&gt; routes(@Context HttpServerRequest request) {\r\n        tokenService.getUser(request);\r\n        return null;\r\n    }\r\n```\r\n```\r\n    public SysUser getUser(HttpServerRequest request) {\r\n        String authorization = request.getHeader(&quot;Authorization&quot;);\r\n        log.info(authorization);\r\n        \r\n        // find user by token\r\n        return null;\r\n    }\r\n```\r\n\r\nBut I still want to inject `HttpServerRequest` in service. Anybody got an idea?\r\n","title":"Inject HttpServerRequest in service via Quarkus","body":"<p>I'm trying to inject <code>HttpServerRequest</code> in service, but it always be null.</p>\n<pre><code>@Slf4j\n@ApplicationScoped\npublic class TokenService {\n    \n    @Context\n    HttpServerRequest request;\n    \n    public SysUser getUser() {\n        String authorization = request.getHeader(&quot;Authorization&quot;);\n        log.info(authorization);\n        \n        // find user by token\n        return null;\n    }\n}\n</code></pre>\n<pre><code>@Inject\nTokenService tokenService;\n</code></pre>\n<p>After that, I tried to use <code>@Context HttpServletRequest request</code> as a part of the method parameter in resource. It worked for me.</p>\n<pre><code>    @GET\n    @Path(&quot;routes&quot;)\n    public Result&lt;Object&gt; routes(@Context HttpServerRequest request) {\n        tokenService.getUser(request);\n        return null;\n    }\n</code></pre>\n<pre><code>    public SysUser getUser(HttpServerRequest request) {\n        String authorization = request.getHeader(&quot;Authorization&quot;);\n        log.info(authorization);\n        \n        // find user by token\n        return null;\n    }\n</code></pre>\n<p>But I still want to inject <code>HttpServerRequest</code> in service. Anybody got an idea?</p>\n"},{"tags":["java","ant","preprocessor"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1652344505,"post_id":72212303,"comment_id":127585075,"body_markdown":"Take a look at [this answer](https://stackoverflow.com/a/1922639/133203)","body":"Take a look at <a href=\"https://stackoverflow.com/a/1922639/133203\">this answer</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1652363162,"post_id":72212303,"comment_id":127592029,"body_markdown":"It&#39;s probably done that way on purpose in Java. And to be honest maintaining compiler switches can be a real nightmare. E.g. you can use interfaces and then different implementations for dev and production. And at runtime use a configuration file to create a new instance. A DI framework like Spring would help. So you can control the behaviour only by configuration.","body":"It&#39;s probably done that way on purpose in Java. And to be honest maintaining compiler switches can be a real nightmare. E.g. you can use interfaces and then different implementations for dev and production. And at runtime use a configuration file to create a new instance. A DI framework like Spring would help. So you can control the behaviour only by configuration."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652373895,"post_id":72212303,"comment_id":127596347,"body_markdown":"Normally [ServiceLoader](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html) is used for this.  You can include only the provider appropriate for a particular build in the application.","body":"Normally <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> is used for this.  You can include only the provider appropriate for a particular build in the application."}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652343987,"creation_date":1652343987,"question_id":72212303,"body_markdown":"I am building a Java project into WAR file with different Ant scripts, e.g. buildDev.xml, buildUAT.xml, buildProduction.xml, etc...\r\n\r\nInside each script, I can use `property` to set different properties for the different builds, e.g.\r\n```\r\n&lt;property name=&quot;myDir&quot; value=&quot;foo&quot; /&gt;\r\n```\r\n\r\nHowever, outside of the Ant script, I can&#39;t think of any ways to have certain blocks of Java code being included or excluded depending on different builds...\r\n\r\nIn C++, C#, or some other languages, I can use preprocessor like this:\r\n```\r\n#if defined(DEV_BUILD)\r\n    runThisForDevBuild();\r\n#elif defined(PRODUCTION_BUILD)\r\n    runThisForProductionBuild();\r\n#else\r\n    printError();\r\n#endif\r\n```\r\n\r\nI understand that preprocessor is not a thing in Java, but I wonder if Ant, using different means, would allow me to achieve something like the above in Java?","title":"Preprocessor equivalence for Ant and Java","body":"<p>I am building a Java project into WAR file with different Ant scripts, e.g. buildDev.xml, buildUAT.xml, buildProduction.xml, etc...</p>\n<p>Inside each script, I can use <code>property</code> to set different properties for the different builds, e.g.</p>\n<pre><code>&lt;property name=&quot;myDir&quot; value=&quot;foo&quot; /&gt;\n</code></pre>\n<p>However, outside of the Ant script, I can't think of any ways to have certain blocks of Java code being included or excluded depending on different builds...</p>\n<p>In C++, C#, or some other languages, I can use preprocessor like this:</p>\n<pre><code>#if defined(DEV_BUILD)\n    runThisForDevBuild();\n#elif defined(PRODUCTION_BUILD)\n    runThisForProductionBuild();\n#else\n    printError();\n#endif\n</code></pre>\n<p>I understand that preprocessor is not a thing in Java, but I wonder if Ant, using different means, would allow me to achieve something like the above in Java?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1494822,"reputation":3372,"user_id":1401029,"display_name":"Rikkles"},"score":2,"creation_date":1423296856,"post_id":28379951,"comment_id":45099245,"body_markdown":"How should the code handle fixed decimal numbers? What result do you expect for the input `13.5` or the input `3.33333333...`?","body":"How should the code handle fixed decimal numbers? What result do you expect for the input <code>13.5</code> or the input <code>3.33333333...</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1508351847,"creation_date":1423296899,"answer_id":28380006,"question_id":28379951,"body_markdown":"[`replaceAll`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-) replaces a regex. You should use [`replace`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-) instead:\r\n\r\n    String s2 = s.replace(&quot;.&quot;, &quot;&quot;);","title":"How to remove decimal point from a double value after converting it to a string","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a> replaces a regex. You should use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>replace</code></a> instead:</p>\n\n<pre><code>String s2 = s.replace(\".\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423297027,"creation_date":1423297027,"answer_id":28380023,"question_id":28379951,"body_markdown":"Instead of replaceAll use [replace](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29) method of String:\r\n\r\n    String s2 = s.replace(&quot;.&quot;, &quot;&quot;);\r\n\r\nAs &quot;.&quot; has a special meaning in regex and replaceAll treats source string i.e. first parameter as regex.","title":"How to remove decimal point from a double value after converting it to a string","body":"<p>Instead of replaceAll use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">replace</a> method of String:</p>\n\n<pre><code>String s2 = s.replace(\".\", \"\");\n</code></pre>\n\n<p>As \".\" has a special meaning in regex and replaceAll treats source string i.e. first parameter as regex.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1423301348,"creation_date":1423298229,"answer_id":28380154,"question_id":28379951,"body_markdown":"Your question isn&#39;t well-enough defined for a general answer, but if you want to get rid of the fractional part, just parse it as a double and then cast it to `int` or `long`.","title":"How to remove decimal point from a double value after converting it to a string","body":"<p>Your question isn't well-enough defined for a general answer, but if you want to get rid of the fractional part, just parse it as a double and then cast it to <code>int</code> or <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":1494822,"reputation":3372,"user_id":1401029,"display_name":"Rikkles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423298325,"creation_date":1423298325,"answer_id":28380171,"question_id":28379951,"body_markdown":"The below solves the issue of an integer being passed in (`123` or `123.0`), or a double in scientific notation (`1.23E7`):\r\n\r\n`Double.parseDouble(Double.toString(a).replaceAll(&quot;[.](?0$)?&quot;,&quot;&quot;));`\r\n\r\nIn your code, just change the `replaceAll` string to `[.](?0$)?`, which states &quot;Remove the decimal as well as the number 0 if it is right after the decimal and there&#39;s nothing after it&quot;.\r\n","title":"How to remove decimal point from a double value after converting it to a string","body":"<p>The below solves the issue of an integer being passed in (<code>123</code> or <code>123.0</code>), or a double in scientific notation (<code>1.23E7</code>):</p>\n\n<p><code>Double.parseDouble(Double.toString(a).replaceAll(\"[.](?0$)?\",\"\"));</code></p>\n\n<p>In your code, just change the <code>replaceAll</code> string to <code>[.](?0$)?</code>, which states \"Remove the decimal as well as the number 0 if it is right after the decimal and there's nothing after it\".</p>\n"},{"tags":[],"owner":{"account_id":7034174,"reputation":628,"user_id":5388875,"accept_rate":33,"display_name":"koteswara D K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475126765,"creation_date":1475126431,"answer_id":39761979,"question_id":28379951,"body_markdown":"        Double i=Double.parseDouble(&quot;String with double value&quot;);\r\n        \r\n\r\n        Log.i(tag,&quot;display double &quot;+i);\r\n\r\n\r\n        try{\r\n            NumberFormat nf = NumberFormat.getInstance();\r\n            nf.setMaximumFractionDigits(0);// set as you need\r\n            String myStringmax = nf.format(i);\r\n            \r\n\r\n            String result = myStringmax.replaceAll(&quot;[-+.^:,]&quot;,&quot;&quot;);\r\n            Double i=Double.parseDouble(result);\r\n\r\n           int max= Integer.parseInt(result);\r\n           \r\n\r\n        }catch(Exception e){\r\n            System.out.println(&quot;ex=&quot;+e);\r\n        }","title":"How to remove decimal point from a double value after converting it to a string","body":"<pre><code>    Double i=Double.parseDouble(\"String with double value\");\n\n\n    Log.i(tag,\"display double \"+i);\n\n\n    try{\n        NumberFormat nf = NumberFormat.getInstance();\n        nf.setMaximumFractionDigits(0);// set as you need\n        String myStringmax = nf.format(i);\n\n\n        String result = myStringmax.replaceAll(\"[-+.^:,]\",\"\");\n        Double i=Double.parseDouble(result);\n\n       int max= Integer.parseInt(result);\n\n\n    }catch(Exception e){\n        System.out.println(\"ex=\"+e);\n    }\n</code></pre>\n"}],"owner":{"account_id":5530635,"reputation":324,"user_id":4390716,"accept_rate":75,"display_name":"salih"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4606,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":28380006,"answer_count":5,"score":1,"last_activity_date":1652343758,"creation_date":1423296506,"question_id":28379951,"body_markdown":"I want to remove a decimal point from a `double` value. I tried converting it to string\r\n\r\n    double intify(double a)\r\n\t{\r\n\t\tString s=Double.toString(a);\r\n\t\tString s2=s.replaceAll(&quot;.&quot;,&quot;&quot;);\r\n\t\t a=Double.parseDouble(s2);\r\n\t\t\r\n\t\treturn a;\r\n\t\t\r\n\t}\r\n\r\nIf I pass 123.4567 it should return 1234567.\r\n","title":"How to remove decimal point from a double value after converting it to a string","body":"<p>I want to remove a decimal point from a <code>double</code> value. I tried converting it to string</p>\n<pre><code>double intify(double a)\n{\n    String s=Double.toString(a);\n    String s2=s.replaceAll(&quot;.&quot;,&quot;&quot;);\n     a=Double.parseDouble(s2);\n    \n    return a;\n    \n}\n</code></pre>\n<p>If I pass 123.4567 it should return 1234567.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1650728260,"post_id":71979880,"comment_id":127191622,"body_markdown":"Could you post your `pom.xml` ?","body":"Could you post your <code>pom.xml</code> ?"},{"owner":{"account_id":2934601,"reputation":305,"user_id":2513883,"display_name":"Maziyar Grami"},"score":0,"creation_date":1650729817,"post_id":71979880,"comment_id":127192035,"body_markdown":"@Kai-ShengYang - thank you for considering my issue. I am using gradle and I have added my build.gradle file.","body":"@Kai-ShengYang - thank you for considering my issue. I am using gradle and I have added my build.gradle file."},{"owner":{"account_id":22278948,"reputation":123,"user_id":16507592,"display_name":"JustARandomWibuuuu"},"score":0,"creation_date":1650734912,"post_id":71979880,"comment_id":127193266,"body_markdown":"No such method ex mean that the function you use is not exist. You may have problem when you set up your library or define file.","body":"No such method ex mean that the function you use is not exist. You may have problem when you set up your library or define file."}],"answers":[{"tags":[],"owner":{"account_id":2934601,"reputation":305,"user_id":2513883,"display_name":"Maziyar Grami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652343687,"creation_date":1652343687,"answer_id":72212239,"question_id":71979880,"body_markdown":"My problem was a git repository problem","title":"java.lang.NoSuchMethodException error in Spring-boot web-application when deploying on tomcat","body":"<p>My problem was a git repository problem</p>\n"}],"owner":{"account_id":2934601,"reputation":305,"user_id":2513883,"display_name":"Maziyar Grami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72212239,"answer_count":1,"score":0,"last_activity_date":1652343687,"creation_date":1650719049,"question_id":71979880,"body_markdown":"I am deploying a Spring-boot web-application on &#39;tomcat 9&#39; and I faced a NoSuchMethodException. I compile and run this code in localhost, successfully; but when I deploy it on the server, I have got this error. this my exception:\r\n\r\n    javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n                    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\r\n                    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n                    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n                    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n                    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\r\n                    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1849)\r\n                    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n                    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)\r\n                    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\r\n                    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1576)\r\n                    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n                    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n                    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n                    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\r\n                    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n                    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n                    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n                    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n                    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n                    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\n            Caused by: java.lang.NoSuchMethodException: XXX.&lt;init&gt;()\r\n                    at java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n                    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\r\n                    at org.springframework.util.ReflectionUtils.accessibleConstructor(ReflectionUtils.java:185)\r\n                    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\r\n                    ... 40 more\r\n\r\nand this my main class:\r\n\r\n    public class XXX extends SpringBootServletInitializer implements CommandLineRunner {\r\n      private static final Logger logger = LogManager.getLogger(&quot;System&quot;);\r\n      @Autowired\r\n      FilesStorageService storageService;\r\n      @Autowired\r\n      CasUserDetailService casUserDetailService;\r\n    \r\n      @Value(&quot;${cas.url.logout.path}&quot;)\r\n      private String casLogout;\r\n      @Value(&quot;${cas.url.validator}&quot;)\r\n      private String ticketValidator;\r\n      @Value(&quot;${base.url}&quot;)\r\n      private String baseurl;\r\n    \r\n      public XXX() {\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        try {\r\n          SpringApplication.run(XXX.class, args);\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        logger.warn(&quot;Started!&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public void run(String... arg) {\r\n        // storageService.deleteAll();\r\n        storageService.init();\r\n      }\r\n    \r\n      @Bean\r\n      public CasAuthenticationFilter casAuthenticationFilter(\r\n          AuthenticationManager authenticationManager,\r\n          ServiceProperties serviceProperties) {\r\n        CasAuthenticationFilter filter = new CasAuthenticationFilter();\r\n        filter.setAuthenticationManager(authenticationManager);\r\n        filter.setServiceProperties(serviceProperties);\r\n        return filter;\r\n      }\r\n    \r\n      @Bean\r\n      public ServiceProperties serviceProperties() {\r\n        ServiceProperties serviceProperties = new ServiceProperties();\r\n        serviceProperties.setService(baseurl + &quot;/login/cas&quot;);\r\n        serviceProperties.setSendRenew(false);\r\n        return serviceProperties;\r\n      }\r\n    \r\n      @Bean\r\n      public TicketValidator ticketValidator() {\r\n        return new Cas30ServiceTicketValidator(ticketValidator);\r\n      }\r\n    \r\n      @Bean\r\n      public CasAuthenticationProvider casAuthenticationProvider() {\r\n        CasAuthenticationProvider provider = new CasAuthenticationProvider();\r\n        provider.setServiceProperties(serviceProperties());\r\n        provider.setTicketValidator(ticketValidator());\r\n    \r\n        provider.setAuthenticationUserDetailsService(casUserDetailService);\r\n        provider.setKey(&quot;CAS_PROVIDER_LOCALHOST_8900&quot;);\r\n        return provider;\r\n      }\r\n    \r\n      @Bean\r\n      public SecurityContextLogoutHandler securityContextLogoutHandler() {\r\n        return new SecurityContextLogoutHandler();\r\n      }\r\n    \r\n      @Bean\r\n      public LogoutFilter logoutFilter() {\r\n        LogoutFilter logoutFilter = new LogoutFilter(casLogout, securityContextLogoutHandler());\r\n        logoutFilter.setFilterProcessesUrl(&quot;/logout/cas&quot;);\r\n        return logoutFilter;\r\n      }\r\n    \r\n      @Bean\r\n      public SingleSignOutFilter singleSignOutFilter() {\r\n        SingleSignOutFilter singleSignOutFilter = new SingleSignOutFilter();\r\n        // singleSignOutFilter.setCasServerUrlPrefix(casLogout);\r\n        singleSignOutFilter.setLogoutCallbackPath(&quot;/exit/cas&quot;);\r\n        singleSignOutFilter.setIgnoreInitConfiguration(true);\r\n        return singleSignOutFilter;\r\n      }\r\n    \r\n    }\r\nand this is my gradle.build file\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.3.0.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    \tid &#39;war&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &#39;org.apache.logging.log4j:log4j-bom:2.14.1&#39;\r\n    \t}\r\n    }\r\n    \r\n    group = &#39;xxx&#39;\r\n    version = &#39;xxx&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmaven {\r\n    \t\turl &quot;https://git.captcha.com/botdetect-java-captcha.git/blob_plain/HEAD:/&quot;\r\n    \t}\r\n    \tjcenter()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.json:json:20201115&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-ldap&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    \timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity5&#39;\r\n    \timplementation &#39;org.thymeleaf:thymeleaf-spring5&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-web&#39;\r\n    \timplementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:2.3.3&#39;\r\n    \timplementation &#39;com.sun.xml.ws:jaxws-ri:2.3.2&#39;\r\n    \tcompile &#39;io.jsonwebtoken:jjwt-api:0.11.1&#39;\r\n    \r\n    \tcompile &#39;com.captcha:botdetect-jsp20:4.0.beta3.7&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/commons-io/commons-io\r\n    \tcompile group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    \r\n    \truntime &#39;io.jsonwebtoken:jjwt-impl:0.11.1&#39;,\r\n    \t\t\t&#39;io.jsonwebtoken:jjwt-jackson:0.11.1&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-config&#39;\r\n    \timplementation &#39;org.springframework.ldap:spring-ldap-core&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-ldap&#39;\r\n    \timplementation &#39;com.unboundid:unboundid-ldapsdk&#39;\r\n    \timplementation &#39;org.springframework.data:spring-data-redis&#39;\r\n    \timplementation &#39;redis.clients:jedis&#39;\r\n    \tcompile &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \tprovidedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-context-support&#39;, version: &#39;5.2.6.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient\r\n    \tcompile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.12&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n    \tcompile group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.6&#39;\r\n    \t\r\n    \t// https://mvnrepository.com/artifact/io.springfox/springfox-swagger2\r\n    \tcompile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.google.zxing/core\r\n    \tcompile group: &#39;com.google.zxing&#39;, name: &#39;core&#39;, version: &#39;3.4.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.google.zxing/javase\r\n    \tcompile group: &#39;com.google.zxing&#39;, name: &#39;javase&#39;, version: &#39;3.4.0&#39;\r\n    \r\n    \tcompile group: &#39;com.sun.mail&#39;, name: &#39;javax.mail&#39;, version: &#39;1.5.1&#39;\r\n    \t// https://mvnrepository.com/artifact/org.springframework.security/spring-security-cas\r\n    \tcompile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-cas&#39;, version: &#39;5.3.3.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.poi/poi\r\n    \tcompile group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;4.1.2&#39;\r\n    \timplementation &#39;org.apache.poi:poi-ooxml:4.1.2&#39;\r\n    \r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb\r\n    \timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;, version: &#39;2.4.5&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.github.ua-parser/uap-java\r\n    \tcompile group: &#39;com.github.ua-parser&#39;, name: &#39;uap-java&#39;, version: &#39;1.4.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-websocket\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-websocket&#39;, version: &#39;4.0.0.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\r\n    \tcompile group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    \tcompile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.4.0-b180830.0359&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.aerogear/aerogear-otp-java\r\n    \tcompile group: &#39;org.jboss.aerogear&#39;, name: &#39;aerogear-otp-java&#39;, version: &#39;1.0.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-websocket\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-websocket&#39;, version: &#39;5.2.9.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\r\n    \tcompile group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    \tcompile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.4.0-b180830.0359&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.aerogear/aerogear-otp-java\r\n    \tcompile group: &#39;org.jboss.aerogear&#39;, name: &#39;aerogear-otp-java&#39;, version: &#39;1.0.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-websocket\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-websocket&#39;, version: &#39;5.2.9.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-websocket\r\n    \tcompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-websocket&#39;, version: &#39;2.3.4.RELEASE&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\r\n    \timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.14.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\r\n    \timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.14.1&#39;\r\n    \r\n    \timplementation &#39;org.apache.logging.log4j:log4j-mongodb4:2.14.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/commons-codec/commons-codec\r\n    \timplementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.15&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\r\n    \timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-mail&#39;, version: &#39;2.5.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.javers/javers-spring\r\n    \timplementation group: &#39;org.javers&#39;, name: &#39;javers-spring&#39;, version: &#39;6.2.4&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.javers/javers-core\r\n    \timplementation group: &#39;org.javers&#39;, name: &#39;javers-core&#39;, version: &#39;6.2.4&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.bitbucket.b_c/jose4j\r\n    \timplementation group: &#39;org.bitbucket.b_c&#39;, name: &#39;jose4j&#39;, version: &#39;0.7.9&#39;\r\n    \r\n    \r\n    \r\n    \tconfigurations.all {\r\n    \t\tresolutionStrategy.dependencySubstitution.all { dependency -&gt;\r\n    \t\t\tif (dependency.requested instanceof ModuleComponentSelector &amp;&amp; dependency.requested.module == &#39;spring-boot-starter-logging&#39;) {\r\n    \t\t\t\tdependency.useTarget(&quot;org.springframework.boot:spring-boot-starter-log4j2:$dependency.requested.version&quot;, &#39;Use Log4j2 instead of Logback&#39;)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nthis is my code and as it said, tomcat couldn&#39;t find default constructor for main class. But I have added it and I still get this error.\r\n","title":"java.lang.NoSuchMethodException error in Spring-boot web-application when deploying on tomcat","body":"<p>I am deploying a Spring-boot web-application on 'tomcat 9' and I faced a NoSuchMethodException. I compile and run this code in localhost, successfully; but when I deploy it on the server, I have got this error. this my exception:</p>\n<pre><code>javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\n                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1849)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n                at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1576)\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\n        Caused by: java.lang.NoSuchMethodException: XXX.&lt;init&gt;()\n                at java.base/java.lang.Class.getConstructor0(Class.java:3349)\n                at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\n                at org.springframework.util.ReflectionUtils.accessibleConstructor(ReflectionUtils.java:185)\n                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\n                ... 40 more\n</code></pre>\n<p>and this my main class:</p>\n<pre><code>public class XXX extends SpringBootServletInitializer implements CommandLineRunner {\n  private static final Logger logger = LogManager.getLogger(&quot;System&quot;);\n  @Autowired\n  FilesStorageService storageService;\n  @Autowired\n  CasUserDetailService casUserDetailService;\n\n  @Value(&quot;${cas.url.logout.path}&quot;)\n  private String casLogout;\n  @Value(&quot;${cas.url.validator}&quot;)\n  private String ticketValidator;\n  @Value(&quot;${base.url}&quot;)\n  private String baseurl;\n\n  public XXX() {\n  }\n\n\n  public static void main(String[] args) {\n\n    try {\n      SpringApplication.run(XXX.class, args);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    logger.warn(&quot;Started!&quot;);\n  }\n\n  @Override\n  public void run(String... arg) {\n    // storageService.deleteAll();\n    storageService.init();\n  }\n\n  @Bean\n  public CasAuthenticationFilter casAuthenticationFilter(\n      AuthenticationManager authenticationManager,\n      ServiceProperties serviceProperties) {\n    CasAuthenticationFilter filter = new CasAuthenticationFilter();\n    filter.setAuthenticationManager(authenticationManager);\n    filter.setServiceProperties(serviceProperties);\n    return filter;\n  }\n\n  @Bean\n  public ServiceProperties serviceProperties() {\n    ServiceProperties serviceProperties = new ServiceProperties();\n    serviceProperties.setService(baseurl + &quot;/login/cas&quot;);\n    serviceProperties.setSendRenew(false);\n    return serviceProperties;\n  }\n\n  @Bean\n  public TicketValidator ticketValidator() {\n    return new Cas30ServiceTicketValidator(ticketValidator);\n  }\n\n  @Bean\n  public CasAuthenticationProvider casAuthenticationProvider() {\n    CasAuthenticationProvider provider = new CasAuthenticationProvider();\n    provider.setServiceProperties(serviceProperties());\n    provider.setTicketValidator(ticketValidator());\n\n    provider.setAuthenticationUserDetailsService(casUserDetailService);\n    provider.setKey(&quot;CAS_PROVIDER_LOCALHOST_8900&quot;);\n    return provider;\n  }\n\n  @Bean\n  public SecurityContextLogoutHandler securityContextLogoutHandler() {\n    return new SecurityContextLogoutHandler();\n  }\n\n  @Bean\n  public LogoutFilter logoutFilter() {\n    LogoutFilter logoutFilter = new LogoutFilter(casLogout, securityContextLogoutHandler());\n    logoutFilter.setFilterProcessesUrl(&quot;/logout/cas&quot;);\n    return logoutFilter;\n  }\n\n  @Bean\n  public SingleSignOutFilter singleSignOutFilter() {\n    SingleSignOutFilter singleSignOutFilter = new SingleSignOutFilter();\n    // singleSignOutFilter.setCasServerUrlPrefix(casLogout);\n    singleSignOutFilter.setLogoutCallbackPath(&quot;/exit/cas&quot;);\n    singleSignOutFilter.setIgnoreInitConfiguration(true);\n    return singleSignOutFilter;\n  }\n\n}\n</code></pre>\n<p>and this is my gradle.build file</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.0.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n    id 'war'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'org.apache.logging.log4j:log4j-bom:2.14.1'\n    }\n}\n\ngroup = 'xxx'\nversion = 'xxx'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        url &quot;https://git.captcha.com/botdetect-java-captcha.git/blob_plain/HEAD:/&quot;\n    }\n    jcenter()\n}\n\ndependencies {\n    implementation 'org.json:json:20201115'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-ldap'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5'\n    implementation 'org.thymeleaf:thymeleaf-spring5'\n    implementation 'org.springframework.security:spring-security-web'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.3'\n    implementation 'com.sun.xml.ws:jaxws-ri:2.3.2'\n    compile 'io.jsonwebtoken:jjwt-api:0.11.1'\n\n    compile 'com.captcha:botdetect-jsp20:4.0.beta3.7'\n\n    // https://mvnrepository.com/artifact/commons-io/commons-io\n    compile group: 'commons-io', name: 'commons-io', version: '2.6'\n\n    runtime 'io.jsonwebtoken:jjwt-impl:0.11.1',\n            'io.jsonwebtoken:jjwt-jackson:0.11.1'\n    implementation 'org.springframework.security:spring-security-config'\n    implementation 'org.springframework.ldap:spring-ldap-core'\n    implementation 'org.springframework.security:spring-security-ldap'\n    implementation 'com.unboundid:unboundid-ldapsdk'\n    implementation 'org.springframework.data:spring-data-redis'\n    implementation 'redis.clients:jedis'\n    compile 'com.googlecode.json-simple:json-simple:1.1.1'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.security:spring-security-test'\n    compile group: 'org.springframework', name: 'spring-context-support', version: '5.2.6.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.12'\n\n    // https://mvnrepository.com/artifact/com.google.code.gson/gson\n    compile group: 'com.google.code.gson', name: 'gson', version: '2.8.6'\n    \n    // https://mvnrepository.com/artifact/io.springfox/springfox-swagger2\n    compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\n\n    // https://mvnrepository.com/artifact/com.google.zxing/core\n    compile group: 'com.google.zxing', name: 'core', version: '3.4.0'\n\n    // https://mvnrepository.com/artifact/com.google.zxing/javase\n    compile group: 'com.google.zxing', name: 'javase', version: '3.4.0'\n\n    compile group: 'com.sun.mail', name: 'javax.mail', version: '1.5.1'\n    // https://mvnrepository.com/artifact/org.springframework.security/spring-security-cas\n    compile group: 'org.springframework.security', name: 'spring-security-cas', version: '5.3.3.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.apache.poi/poi\n    compile group: 'org.apache.poi', name: 'poi', version: '4.1.2'\n    implementation 'org.apache.poi:poi-ooxml:4.1.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n\n\n\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb', version: '2.4.5'\n\n    // https://mvnrepository.com/artifact/com.github.ua-parser/uap-java\n    compile group: 'com.github.ua-parser', name: 'uap-java', version: '1.4.0'\n\n    // https://mvnrepository.com/artifact/org.springframework/spring-websocket\n    compile group: 'org.springframework', name: 'spring-websocket', version: '4.0.0.RELEASE'\n\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\n    compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\n    compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.4.0-b180830.0359'\n\n    // https://mvnrepository.com/artifact/org.jboss.aerogear/aerogear-otp-java\n    compile group: 'org.jboss.aerogear', name: 'aerogear-otp-java', version: '1.0.0'\n\n    // https://mvnrepository.com/artifact/org.springframework/spring-websocket\n    compile group: 'org.springframework', name: 'spring-websocket', version: '5.2.9.RELEASE'\n\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\n    compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\n    compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.4.0-b180830.0359'\n\n    // https://mvnrepository.com/artifact/org.jboss.aerogear/aerogear-otp-java\n    compile group: 'org.jboss.aerogear', name: 'aerogear-otp-java', version: '1.0.0'\n\n    // https://mvnrepository.com/artifact/org.springframework/spring-websocket\n    compile group: 'org.springframework', name: 'spring-websocket', version: '5.2.9.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-websocket\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-websocket', version: '2.3.4.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'\n\n    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'\n\n    implementation 'org.apache.logging.log4j:log4j-mongodb4:2.14.1'\n\n    // https://mvnrepository.com/artifact/commons-codec/commons-codec\n    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'\n\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-mail', version: '2.5.1'\n\n    // https://mvnrepository.com/artifact/org.javers/javers-spring\n    implementation group: 'org.javers', name: 'javers-spring', version: '6.2.4'\n\n    // https://mvnrepository.com/artifact/org.javers/javers-core\n    implementation group: 'org.javers', name: 'javers-core', version: '6.2.4'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n\n    // https://mvnrepository.com/artifact/org.bitbucket.b_c/jose4j\n    implementation group: 'org.bitbucket.b_c', name: 'jose4j', version: '0.7.9'\n\n\n\n    configurations.all {\n        resolutionStrategy.dependencySubstitution.all { dependency -&gt;\n            if (dependency.requested instanceof ModuleComponentSelector &amp;&amp; dependency.requested.module == 'spring-boot-starter-logging') {\n                dependency.useTarget(&quot;org.springframework.boot:spring-boot-starter-log4j2:$dependency.requested.version&quot;, 'Use Log4j2 instead of Logback')\n            }\n        }\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>this is my code and as it said, tomcat couldn't find default constructor for main class. But I have added it and I still get this error.</p>\n"},{"tags":["java","filenames"],"answers":[{"tags":[],"owner":{"account_id":21651442,"reputation":169,"user_id":15972022,"display_name":"volpoh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652343517,"creation_date":1652343060,"answer_id":72212118,"question_id":72212046,"body_markdown":"You could check the start of the filename and the extension, something like this:\r\n\r\n```java\r\n... new FilenameFilter() {\r\n    @Override\r\n    public boolean accept(File dir, String name) {\r\n        boolean checkStart = filename.toLowerCase().startsWith(&quot;Template_HP_&quot;);\r\n        boolean checkEnd = filename.toLowerCase().endsWith(&quot;.xlsx&quot;);\r\n        return (checkStart &amp;&amp; checkEnd);\r\n    }\r\n} ...\r\n```\r\n\r\nOr, optimized..\r\n\r\n```java\r\n... return ((filename.toLowerCase().startsWith(&quot;Template_HP_&quot;)) &amp;&amp; (filename.toLowerCase().endsWith(&quot;.xlsx&quot;))); ...\r\n```\r\n\r\nThe code just checks if the string containing the filename starts with `Template_HP_` and ends with the correct extension, `.xlsx`.\r\nIf so, it returns true, otherwise false.","title":"FilenameFilter for several files","body":"<p>You could check the start of the filename and the extension, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... new FilenameFilter() {\n    @Override\n    public boolean accept(File dir, String name) {\n        boolean checkStart = filename.toLowerCase().startsWith(&quot;Template_HP_&quot;);\n        boolean checkEnd = filename.toLowerCase().endsWith(&quot;.xlsx&quot;);\n        return (checkStart &amp;&amp; checkEnd);\n    }\n} ...\n</code></pre>\n<p>Or, optimized..</p>\n<pre class=\"lang-java prettyprint-override\"><code>... return ((filename.toLowerCase().startsWith(&quot;Template_HP_&quot;)) &amp;&amp; (filename.toLowerCase().endsWith(&quot;.xlsx&quot;))); ...\n</code></pre>\n<p>The code just checks if the string containing the filename starts with <code>Template_HP_</code> and ends with the correct extension, <code>.xlsx</code>.\nIf so, it returns true, otherwise false.</p>\n"}],"owner":{"account_id":24755886,"reputation":1,"user_id":18640825,"display_name":"Alex_Wal_94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652343517,"creation_date":1652342691,"question_id":72212046,"body_markdown":"I have a folder where excel files are stored. The files always start with Template HP_x.xlsx (x stands for additional information). With a loop I have already read the path and the name of the file. Unfortunately it reads out all xlsx files. How can I use the filenamefilter so that it only reads out the Template_HP...xlsx files? \r\n\r\nThank you :). ","title":"FilenameFilter for several files","body":"<p>I have a folder where excel files are stored. The files always start with Template HP_x.xlsx (x stands for additional information). With a loop I have already read the path and the name of the file. Unfortunately it reads out all xlsx files. How can I use the filenamefilter so that it only reads out the Template_HP...xlsx files?</p>\n<p>Thank you :).</p>\n"},{"tags":["java","junit","mockito","code-coverage"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1652346793,"post_id":72197129,"comment_id":127585862,"body_markdown":"One tip to avoid unnecessary if-else statements on Optionals from Java 8 and higher: you can simply `return processStatusOpt.orElseThrow(...)` see [the docs](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-)","body":"One tip to avoid unnecessary if-else statements on Optionals from Java 8 and higher: you can simply <code>return processStatusOpt.orElseThrow(...)</code> see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">the docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2540793,"reputation":1637,"user_id":2206638,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652255295,"creation_date":1652255295,"answer_id":72197279,"question_id":72197129,"body_markdown":"I think you&#39;re trying to mock the behaviour of the tested entity itself instead of the mocked dependencies. I&#39;d try mocking it like this:\r\n\r\n    @Test\r\n    public void findProcessMaster() throws Exception {\r\n        List&lt;ProcessAndMacroStatus&gt; processStatuses=new ArrayList&lt;ProcessAndMacroStatus&gt;();\r\n        when(processStatusRepository.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\r\n\r\n        processStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\r\n        \r\n    }","title":"How to write Junit test class for code coverage","body":"<p>I think you're trying to mock the behaviour of the tested entity itself instead of the mocked dependencies. I'd try mocking it like this:</p>\n<pre><code>@Test\npublic void findProcessMaster() throws Exception {\n    List&lt;ProcessAndMacroStatus&gt; processStatuses=new ArrayList&lt;ProcessAndMacroStatus&gt;();\n    when(processStatusRepository.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\n\n    processStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652343469,"creation_date":1652343469,"answer_id":72212198,"question_id":72197129,"body_markdown":"Please remove your `thisBean` in your production code, just use `this.` instead.\r\n\r\n```java\r\nList&lt;ProcessAndMacroStatus&gt; processStatuses = this.findProcessMasterByCategory(statusConstants.getCategory());\r\n```\r\n\r\nand modify your test\r\n```java\r\n@Test\r\npublic void findProcessMaster() throws Exception {\r\n\tList&lt;ProcessAndMacroStatus&gt; processStatuses = new ArrayList&lt;ProcessAndMacroStatus&gt; ();\r\n\twhen(processStatusRepository.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\r\n\r\n\tprocessStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\r\n\r\n    // your assert\r\n}\r\n```","title":"How to write Junit test class for code coverage","body":"<p>Please remove your <code>thisBean</code> in your production code, just use <code>this.</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ProcessAndMacroStatus&gt; processStatuses = this.findProcessMasterByCategory(statusConstants.getCategory());\n</code></pre>\n<p>and modify your test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void findProcessMaster() throws Exception {\n    List&lt;ProcessAndMacroStatus&gt; processStatuses = new ArrayList&lt;ProcessAndMacroStatus&gt; ();\n    when(processStatusRepository.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\n\n    processStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\n\n    // your assert\n}\n</code></pre>\n"}],"owner":{"account_id":24427959,"reputation":11,"user_id":18353279,"display_name":"Lucky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652343469,"creation_date":1652254612,"question_id":72197129,"body_markdown":" Can someone help me writing JUnit for the below serviceImpl class\r\n\r\n    @Component\r\n    public class ProcessStatusMasterServiceImpl implements ProcessStatusMasterService {\r\n      @Autowired\r\n      private ProcessStatusRepository processStatusRepository;\r\n      \r\n      @Autowired\r\n      private ApplicationContext applicationContext;\r\n      \r\n      public ProcessAndMacroStatus findProcessMaster(StatusConstant statusConstants) {\r\n        ProcessStatusMasterService thisBean = (ProcessStatusMasterService)this.applicationContext.getBean(ProcessStatusMasterService.class);\r\n        List&lt;ProcessAndMacroStatus&gt; processStatuses = thisBean.findProcessMasterByCategory(statusConstants.getCategory());\r\n        Optional&lt;ProcessAndMacroStatus&gt; processStatusOpt = processStatuses.stream().filter(f -&gt; f.getProcessAndMacroStatusKey().equals(statusConstants.getKey())).findFirst();\r\n        if (processStatusOpt.isPresent())\r\n          return processStatusOpt.get(); \r\n        throw new IllegalArgumentException(&quot;Unable to find status: &quot; + statusConstants.getKey() + &quot; for category: &quot; + statusConstants.getCategory());\r\n      }\r\n      \r\n      @Cacheable({&quot;ProcessStatusMasterCache&quot;})\r\n      public List&lt;ProcessAndMacroStatus&gt; findProcessMasterByCategory(String category) {\r\n        List&lt;ProcessAndMacroStatus&gt; processStatuses = this.processStatusRepository.findByProcessMacroStatusCategory(category);\r\n        return processStatuses;\r\n      }\r\n    }\r\n\r\nbelow is the code i am trying, but i am getting NPE for line `when(thisBean.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);`\r\n\r\nReason for this variable thisbean is null\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProcessStatusMasterServiceImplTest {\r\n    \r\n    \t@Mock\r\n    \tProcessStatusRepository processStatusRepository;\r\n    \r\n    \t@Mock\r\n    \tApplicationContext applicationContext;\r\n    \r\n    \t@InjectMocks\r\n    \tProcessStatusMasterServiceImpl processStatusMasterServiceImpl;\r\n    \r\n    \t@Test\r\n    \tpublic void findProcessMaster() throws Exception {\r\n    \t\tProcessStatusMasterService thisBean = (ProcessStatusMasterService)this.applicationContext.getBean(ProcessStatusMasterService.class);\r\n    \t\tList&lt;ProcessAndMacroStatus&gt; processStatuses=new ArrayList&lt;ProcessAndMacroStatus&gt;();\r\n    \t\twhen(thisBean.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\r\n    \r\n    \t\tprocessStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"How to write Junit test class for code coverage","body":"<p>Can someone help me writing JUnit for the below serviceImpl class</p>\n<pre><code>@Component\npublic class ProcessStatusMasterServiceImpl implements ProcessStatusMasterService {\n  @Autowired\n  private ProcessStatusRepository processStatusRepository;\n  \n  @Autowired\n  private ApplicationContext applicationContext;\n  \n  public ProcessAndMacroStatus findProcessMaster(StatusConstant statusConstants) {\n    ProcessStatusMasterService thisBean = (ProcessStatusMasterService)this.applicationContext.getBean(ProcessStatusMasterService.class);\n    List&lt;ProcessAndMacroStatus&gt; processStatuses = thisBean.findProcessMasterByCategory(statusConstants.getCategory());\n    Optional&lt;ProcessAndMacroStatus&gt; processStatusOpt = processStatuses.stream().filter(f -&gt; f.getProcessAndMacroStatusKey().equals(statusConstants.getKey())).findFirst();\n    if (processStatusOpt.isPresent())\n      return processStatusOpt.get(); \n    throw new IllegalArgumentException(&quot;Unable to find status: &quot; + statusConstants.getKey() + &quot; for category: &quot; + statusConstants.getCategory());\n  }\n  \n  @Cacheable({&quot;ProcessStatusMasterCache&quot;})\n  public List&lt;ProcessAndMacroStatus&gt; findProcessMasterByCategory(String category) {\n    List&lt;ProcessAndMacroStatus&gt; processStatuses = this.processStatusRepository.findByProcessMacroStatusCategory(category);\n    return processStatuses;\n  }\n}\n</code></pre>\n<p>below is the code i am trying, but i am getting NPE for line <code>when(thisBean.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);</code></p>\n<p>Reason for this variable thisbean is null</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ProcessStatusMasterServiceImplTest {\n\n    @Mock\n    ProcessStatusRepository processStatusRepository;\n\n    @Mock\n    ApplicationContext applicationContext;\n\n    @InjectMocks\n    ProcessStatusMasterServiceImpl processStatusMasterServiceImpl;\n\n    @Test\n    public void findProcessMaster() throws Exception {\n        ProcessStatusMasterService thisBean = (ProcessStatusMasterService)this.applicationContext.getBean(ProcessStatusMasterService.class);\n        List&lt;ProcessAndMacroStatus&gt; processStatuses=new ArrayList&lt;ProcessAndMacroStatus&gt;();\n        when(thisBean.findProcessMasterByCategory(StatusConstant.GROUP_STATUS_SUCCESS.getCategory())).thenReturn(processStatuses);\n\n        processStatusMasterServiceImpl.findProcessMaster(StatusConstant.GROUP_STATUS_SUCCESS);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","stream","predicate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1652342620,"post_id":72211978,"comment_id":127584456,"body_markdown":"What did you try? Why do you need to use the Stream API here?","body":"What did you try? Why do you need to use the Stream API here?"}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652342618,"creation_date":1652342618,"answer_id":72212027,"question_id":72211978,"body_markdown":"You can use `reduce` to join them all together with `or`, yielding a single `Predicate&lt;String&gt;`. Like this:\r\n\r\n    List&lt;Predicate&lt;String&gt;&gt; predicates = getPredicates();\r\n\r\n    Predicate&lt;String&gt; p = predicates.stream()\r\n        .reduce(s -&gt; false, Predicate::or);","title":"Chaining predicates into one using the Stream API","body":"<p>You can use <code>reduce</code> to join them all together with <code>or</code>, yielding a single <code>Predicate&lt;String&gt;</code>. Like this:</p>\n<pre><code>List&lt;Predicate&lt;String&gt;&gt; predicates = getPredicates();\n\nPredicate&lt;String&gt; p = predicates.stream()\n    .reduce(s -&gt; false, Predicate::or);\n</code></pre>\n"}],"owner":{"account_id":1193165,"reputation":6176,"user_id":1165493,"accept_rate":55,"display_name":"Sandah Aung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72212027,"answer_count":1,"score":0,"last_activity_date":1652342859,"creation_date":1652342345,"question_id":72211978,"body_markdown":"I have a list of predicates (`List&lt;Predicate&lt;String&gt;&gt;`) which I want to chain into one using `or` methods. How can I use the Stream API to achieve that?","title":"Chaining predicates into one using the Stream API","body":"<p>I have a list of predicates (<code>List&lt;Predicate&lt;String&gt;&gt;</code>) which I want to chain into one using <code>or</code> methods. How can I use the Stream API to achieve that?</p>\n"},{"tags":["java","list","polymorphism","classcastexception"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1652343226,"post_id":72212069,"comment_id":127584646,"body_markdown":"This is a great example of why [we should not use raw types in Java](https://stackoverflow.com/q/2770321/7525132).","body":"This is a great example of why <a href=\"https://stackoverflow.com/q/2770321/7525132\">we should not use raw types in Java</a>."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1652343573,"post_id":72212069,"comment_id":127584754,"body_markdown":"Sorry but the code works as expected and the Exception is in the line :         list.add(listObjectString().get(0));\n . JDK 11.","body":"Sorry but the code works as expected and the Exception is in the line :         list.add(listObjectString().get(0));  . JDK 11."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652344182,"post_id":72212069,"comment_id":127584953,"body_markdown":"Not really pertinent to your question, but I recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `Instant` or another appropriate class from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Not really pertinent to your question, but I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>Instant</code> or another appropriate class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652346671,"post_id":72212069,"comment_id":127585801,"body_markdown":"Using Date was only for Example, you probably can put there whatever you want and the result would be the same. I&#39;ve tried it on Java 8 and 11 and got error as mentioned but your situation seems to be quite similar to what I had with my application, I didn&#39;t get error but my friend on seconds device with the same Java version did","body":"Using Date was only for Example, you probably can put there whatever you want and the result would be the same. I&#39;ve tried it on Java 8 and 11 and got error as mentioned but your situation seems to be quite similar to what I had with my application, I didn&#39;t get error but my friend on seconds device with the same Java version did"},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652346832,"post_id":72212069,"comment_id":127585879,"body_markdown":"I know we shouldn&#39;t use Raw types, its just an example which produced similar problem. In my application it&#39;s cause because of some polymorphism problem but I&#39;ve just recreated it on simple example. \nI&#39;m wondering why it can work on one device and does not on the other, and why getClass() invoke CASTCHECK only on second example but the first one goes without error ;/","body":"I know we shouldn&#39;t use Raw types, its just an example which produced similar problem. In my application it&#39;s cause because of some polymorphism problem but I&#39;ve just recreated it on simple example.  I&#39;m wondering why it can work on one device and does not on the other, and why getClass() invoke CASTCHECK only on second example but the first one goes without error ;/"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652347878,"post_id":72212069,"comment_id":127586306,"body_markdown":"Are you upholding that `list.add(listObjectString().get(0));` throws no exception on either of your devices? Asking because it does for @OussamaZAGHDOUD and me, which in turn prevents us from reproducing the problem that you say you are having.","body":"Are you upholding that <code>list.add(listObjectString().get(0));</code> throws no exception on either of your devices? Asking because it does for @OussamaZAGHDOUD and me, which in turn prevents us from reproducing the problem that you say you are having."},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652347971,"post_id":72212069,"comment_id":127586341,"body_markdown":"This example code I&#39;ve tested on 4 devices on Java 8 and 11 and everywhere I got error as mentioned on example, I didn&#39;t get error during add :/","body":"This example code I&#39;ve tested on 4 devices on Java 8 and 11 and everywhere I got error as mentioned on example, I didn&#39;t get error during add :/"},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652348353,"post_id":72212069,"comment_id":127586493,"body_markdown":"I&#39;ve tested it one more time (with restart and invalidate cache in Intellij) and...on Java 11 there is an error during add, on Java 8 error occures as mentioned in example","body":"I&#39;ve tested it one more time (with restart and invalidate cache in Intellij) and...on Java 11 there is an error during add, on Java 8 error occures as mentioned in example"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1652350929,"post_id":72212069,"comment_id":127587375,"body_markdown":"@Reage really the problem is not with add method , the problem is with listObjectString().get(0) , adding any thing to the LinkedList is okay because you are declaring the instance using : LinkedList list = new LinkedList() , the problem is with get because when getting the element of the LinkedList Java will automatically cast it to String class because the method return type is : List&lt;? extends String&gt; , that&#39;s why we get the Exception there . Logically on JDK 8 &amp;11 the code will not pass this line : list.add(listObjectString().get(0));\n  without Exception !","body":"@Reage really the problem is not with add method , the problem is with listObjectString().get(0) , adding any thing to the LinkedList is okay because you are declaring the instance using : LinkedList list = new LinkedList() , the problem is with get because when getting the element of the LinkedList Java will automatically cast it to String class because the method return type is : List&lt;? extends String&gt; , that&#39;s why we get the Exception there . Logically on JDK 8 &amp;11 the code will not pass this line : list.add(listObjectString().get(0));   without Exception !"},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652354768,"post_id":72212069,"comment_id":127588716,"body_markdown":"So can you tell why it doesnt throw Exception on Java 8?","body":"So can you tell why it doesnt throw Exception on Java 8?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1652360360,"post_id":72212069,"comment_id":127590834,"body_markdown":"I _suspect_ that the compiler is adding CHECKCAST in the second case because it is assigning the reference to a variable so it needs to assert that the types are compatible.  When you are passing it to the PrintStream it just invokes toString() which all classes implement by nature so there is no need to check type.","body":"I <i>suspect</i> that the compiler is adding CHECKCAST in the second case because it is assigning the reference to a variable so it needs to assert that the types are compatible.  When you are passing it to the PrintStream it just invokes toString() which all classes implement by nature so there is no need to check type."},{"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"score":0,"creation_date":1652361210,"post_id":72212069,"comment_id":127591184,"body_markdown":"@vsDawg that sounds quite logically, so we can say that there is also another difference between Java 8 and 11 because of fact that Java 8 allows us to add this object to our list, but Java 11 throws Exception just when we are about to add object?","body":"@vsDawg that sounds quite logically, so we can say that there is also another difference between Java 8 and 11 because of fact that Java 8 allows us to add this object to our list, but Java 11 throws Exception just when we are about to add object?"}],"owner":{"account_id":17992938,"reputation":83,"user_id":13076646,"display_name":"Reage"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652342818,"creation_date":1652342818,"question_id":72212069,"body_markdown":"I ran into a strange case in my application. It&#39;s even more strange because it have been runing for few years so far and there wasn&#39;t any problem with this but recently we faced the error.\r\n\r\nIn very simple example my application does something in similar way as code below \r\n(but via polymorphism, the result is the same as in example)\r\n```java\r\npublic static void main(String[] args) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(listObjectString().get(0));\r\n\r\n        Object date = list.get(0);\r\n        System.out.println(date.getClass()); //OK, prints java.util.Date\r\n\r\n        Object date2 = list.get(0).getClass(); //ERROR, ClassCastException\r\n        System.out.println(date2);\r\n    }\r\n\r\n    public static List&lt;? extends String&gt; listObjectString(){\r\n        LinkedList list = new LinkedList();\r\n        list.add(new Date());\r\n        return list;\r\n    }\r\n```\r\n\r\nAt this point first case doesn&#39;t generate error, but when I try to do the same in a single line  I&#39;m getting ClassCastException (Date cannot be cast to String).\r\n\r\nI checked ByteCode and in second case there is additional line with CHECKCAST.\r\n\r\nCan anyone explain how it works? I couldn&#39;t find precise answer.\r\nWhats more when I was testing this error in my application I&#39;ve tried it on two devices with the same Java version and the same configuration and on one device I was getting error but on the other one everything was working fine.\r\n\r\nThank you in advance for any answers, that will definitely brighten me the view of this case a little.\r\n","title":"Java ClassCastException while getting object from List","body":"<p>I ran into a strange case in my application. It's even more strange because it have been runing for few years so far and there wasn't any problem with this but recently we faced the error.</p>\n<p>In very simple example my application does something in similar way as code below\n(but via polymorphism, the result is the same as in example)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(listObjectString().get(0));\n\n        Object date = list.get(0);\n        System.out.println(date.getClass()); //OK, prints java.util.Date\n\n        Object date2 = list.get(0).getClass(); //ERROR, ClassCastException\n        System.out.println(date2);\n    }\n\n    public static List&lt;? extends String&gt; listObjectString(){\n        LinkedList list = new LinkedList();\n        list.add(new Date());\n        return list;\n    }\n</code></pre>\n<p>At this point first case doesn't generate error, but when I try to do the same in a single line  I'm getting ClassCastException (Date cannot be cast to String).</p>\n<p>I checked ByteCode and in second case there is additional line with CHECKCAST.</p>\n<p>Can anyone explain how it works? I couldn't find precise answer.\nWhats more when I was testing this error in my application I've tried it on two devices with the same Java version and the same configuration and on one device I was getting error but on the other one everything was working fine.</p>\n<p>Thank you in advance for any answers, that will definitely brighten me the view of this case a little.</p>\n"},{"tags":["java","spring-security-oauth2","okta"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1652370272,"post_id":72212057,"comment_id":127594994,"body_markdown":"If you use the [Okta Spring Boot starter](https://github.com/okta/okta-spring-boot), you can get your properties down to one: `okta.oauth2.issuer`. You can also set this as an environment variable. For example `OKTA_OAUTH2_ISSUER=value ./mvnw spring-boot:run`","body":"If you use the <a href=\"https://github.com/okta/okta-spring-boot\" rel=\"nofollow noreferrer\">Okta Spring Boot starter</a>, you can get your properties down to one: <code>okta.oauth2.issuer</code>. You can also set this as an environment variable. For example <code>OKTA_OAUTH2_ISSUER=value .&#47;mvnw spring-boot:run</code>"},{"owner":{"account_id":1369870,"reputation":3580,"user_id":1305398,"accept_rate":73,"display_name":"user1305398"},"score":0,"creation_date":1653040728,"post_id":72212057,"comment_id":127759005,"body_markdown":"Hi Matt, how can we configure more than one issuer?","body":"Hi Matt, how can we configure more than one issuer?"},{"owner":{"account_id":1369870,"reputation":3580,"user_id":1305398,"accept_rate":73,"display_name":"user1305398"},"score":0,"creation_date":1653045979,"post_id":72212057,"comment_id":127760856,"body_markdown":"Matt, also is it possible to set this value from db? so that the dependency on the properties file will be removed?","body":"Matt, also is it possible to set this value from db? so that the dependency on the properties file will be removed?"},{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1653141679,"post_id":72212057,"comment_id":127781465,"body_markdown":"You probably could set the value from the DB. You&#39;d have to configure Spring Boot to do this somehow. Here its externalized configuration documentation. https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"You probably could set the value from the DB. You&#39;d have to configure Spring Boot to do this somehow. Here its externalized configuration documentation. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"owner":{"account_id":1369870,"reputation":3580,"user_id":1305398,"accept_rate":73,"display_name":"user1305398"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652342780,"creation_date":1652342780,"question_id":72212057,"body_markdown":"My application allows customers to perform OKTA SSO. Whenever a new customer signs in the contract, I have to add bunch of properties in application properties file and deploy the code again on the server. Example of the properties are as follows -\r\n\r\n    spring.security.oauth2.client.registration.okta-customer1.client-id=\r\n    spring.security.oauth2.client.registration.okta-customer1.client-secret=\r\n    spring.security.oauth2.client.registration.okta-customer1.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.okta-customer1.scope=\r\n    spring.security.oauth2.client.registration.okta-customer1.redirect-uri={baseUrl}/{action}/oauth2/code/{registrationId}\r\n\r\n    spring.security.oauth2.client.provider.okta-customer1.authorization-uri=\r\n    spring.security.oauth2.client.provider.okta-customer1.token-uri=\r\n    spring.security.oauth2.client.provider.okta-customer1.user-info-uri=\r\n    spring.security.oauth2.client.provider.okta-customer1.user-name-attribute=sub\r\n    spring.security.oauth2.client.provider.okta-customer1.jwk-set-uri=\r\nIs there a better way to do this? Can we avoid update to application.properties everytime and somehow load the properties from DB or any other better alternative?\r\n\r\nMy application is a spring boot application and I am using oauth2 protocol.   ","title":"Avoid Okta dependency on application properties","body":"<p>My application allows customers to perform OKTA SSO. Whenever a new customer signs in the contract, I have to add bunch of properties in application properties file and deploy the code again on the server. Example of the properties are as follows -</p>\n<pre><code>spring.security.oauth2.client.registration.okta-customer1.client-id=\nspring.security.oauth2.client.registration.okta-customer1.client-secret=\nspring.security.oauth2.client.registration.okta-customer1.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.okta-customer1.scope=\nspring.security.oauth2.client.registration.okta-customer1.redirect-uri={baseUrl}/{action}/oauth2/code/{registrationId}\n\nspring.security.oauth2.client.provider.okta-customer1.authorization-uri=\nspring.security.oauth2.client.provider.okta-customer1.token-uri=\nspring.security.oauth2.client.provider.okta-customer1.user-info-uri=\nspring.security.oauth2.client.provider.okta-customer1.user-name-attribute=sub\nspring.security.oauth2.client.provider.okta-customer1.jwk-set-uri=\n</code></pre>\n<p>Is there a better way to do this? Can we avoid update to application.properties everytime and somehow load the properties from DB or any other better alternative?</p>\n<p>My application is a spring boot application and I am using oauth2 protocol.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-session","jsessionid"],"comments":[{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1619785200,"post_id":67320068,"comment_id":119015774,"body_markdown":"Hi @Andre! Would it be possible for you to provide a small sample project (you can push it to github) that I could use to reproduce the problem?","body":"Hi @Andre! Would it be possible for you to provide a small sample project (you can push it to github) that I could use to reproduce the problem?"},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1619802168,"post_id":67320068,"comment_id":119023389,"body_markdown":"Let me take a look...","body":"Let me take a look..."},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1619804297,"post_id":67320068,"comment_id":119024118,"body_markdown":"Andre you haven&#39;t uploaded pom.xml / build.gradle with all dependencies definitions to GitHub. Unfortunately, I can&#39;t build or run your project. Could you please upload additional necessary files?","body":"Andre you haven&#39;t uploaded pom.xml / build.gradle with all dependencies definitions to GitHub. Unfortunately, I can&#39;t build or run your project. Could you please upload additional necessary files?"},{"owner":{"account_id":8694044,"reputation":432,"user_id":8021594,"accept_rate":60,"display_name":"Andre"},"score":0,"creation_date":1619804914,"post_id":67320068,"comment_id":119024370,"body_markdown":"@EugeneMaysyuk Sorry... Files uploaded!","body":"@EugeneMaysyuk Sorry... Files uploaded!"},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1619820417,"post_id":67320068,"comment_id":119029350,"body_markdown":"I see the problem. I need some time to think on the proper fix.","body":"I see the problem. I need some time to think on the proper fix."},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1619859081,"post_id":67320068,"comment_id":119034954,"body_markdown":"See my answer below","body":"See my answer below"}],"answers":[{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620033144,"creation_date":1619830881,"answer_id":67342030,"question_id":67320068,"body_markdown":"In case basic authentication, response is flushed/committed right after controller returns response object, before SameSiteFilter#addSameSiteCookieAttribute is called.\r\n\r\nYou need to wrap request and adjust cookies right after session is created. You can achieve it by defining the following classes:\r\n\r\n&gt; one bean (You can define it inside SecurityConfig if you want to hold everything in one place. I just put @Component annotation on it for brevity)\r\n\r\n\r\n    package com.dogwalk.dogwalk.config;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.security.web.firewall.FirewalledRequest;\r\n    import org.springframework.security.web.firewall.HttpFirewall;\r\n    import org.springframework.security.web.firewall.RequestRejectedException;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class MyHttpFirewall implements HttpFirewall {\r\n    \r\n        @Override\r\n        public FirewalledRequest getFirewalledRequest(HttpServletRequest request) throws RequestRejectedException {\r\n            return new RequestWrapper(request);\r\n        }\r\n    \r\n        @Override\r\n        public HttpServletResponse getFirewalledResponse(HttpServletResponse response) {\r\n            return new ResponseWrapper(response);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n&gt; first wrapper class\r\n\r\n    package com.dogwalk.dogwalk.config;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.security.web.firewall.FirewalledRequest;\r\n    import org.springframework.web.context.request.RequestContextHolder;\r\n    import org.springframework.web.context.request.ServletRequestAttributes;\r\n    \r\n    /**\r\n     * Wrapper around HttpServletRequest that overwrites Set-Cookie response header and adds SameSite=None portion.\r\n     */\r\n    public class RequestWrapper extends FirewalledRequest {\r\n    \r\n        /**\r\n         * Constructs a request object wrapping the given request.\r\n         *\r\n         * @param request The request to wrap\r\n         * @throws IllegalArgumentException if the request is null\r\n         */\r\n        public RequestWrapper(HttpServletRequest request) {\r\n            super(request);\r\n        }\r\n    \r\n        /**\r\n         * Must be empty by default in Spring Boot. See FirewalledRequest.\r\n         */\r\n        @Override\r\n        public void reset() {\r\n        }\r\n    \r\n        @Override\r\n        public HttpSession getSession(boolean create) {\r\n            HttpSession session = super.getSession(create);\r\n    \r\n            if (create) {\r\n                ServletRequestAttributes ra = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n                if (ra != null) {\r\n                    overwriteSetCookie(ra.getResponse());\r\n                }\r\n            }\r\n    \r\n            return session;\r\n        }\r\n    \r\n        @Override\r\n        public String changeSessionId() {\r\n            String newSessionId = super.changeSessionId();\r\n            ServletRequestAttributes ra = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n            if (ra != null) {\r\n                overwriteSetCookie(ra.getResponse());\r\n            }\r\n            return newSessionId;\r\n        }\r\n    \r\n        private void overwriteSetCookie(HttpServletResponse response) {\r\n            if (response != null) {\r\n                Collection&lt;String&gt; headers = response.getHeaders(HttpHeaders.SET_COOKIE);\r\n                boolean firstHeader = true;\r\n                for (String header : headers) { // there can be multiple Set-Cookie attributes\r\n                    if (firstHeader) {\r\n                        response.setHeader(HttpHeaders.SET_COOKIE, String.format(&quot;%s; %s&quot;, header, &quot;SameSite=None&quot;)); // set\r\n                        firstHeader = false;\r\n                        continue;\r\n                    }\r\n                    response.addHeader(HttpHeaders.SET_COOKIE, String.format(&quot;%s; %s&quot;, header, &quot;SameSite=None&quot;)); // add\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n&gt; second wrapper class\r\n\r\n    package com.dogwalk.dogwalk.config;\r\n    \r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpServletResponseWrapper;\r\n    \r\n    /**\r\n     * Dummy implementation.\r\n     * To be aligned with RequestWrapper.\r\n     */\r\n    public class ResponseWrapper extends HttpServletResponseWrapper {\r\n        /**\r\n         * Constructs a response adaptor wrapping the given response.\r\n         *\r\n         * @param response The response to be wrapped\r\n         * @throws IllegalArgumentException if the response is null\r\n         */\r\n        public ResponseWrapper(HttpServletResponse response) {\r\n            super(response);\r\n        }\r\n    }\r\n\r\n&gt; Finally you can remove obsolete SameSiteFilter as all the work will be done within RequestWrapper#overwriteSetCookie.\r\n\r\n&gt; Pay attention that Postman doesn&#39;t render/support SameSite cookie attribute under Cookies section. You need to look at Set-Cookie response header or use curl.\r\n","title":"How to set SameSite=None in JSESSIONID Cookie","body":"<p>In case basic authentication, response is flushed/committed right after controller returns response object, before SameSiteFilter#addSameSiteCookieAttribute is called.</p>\n<p>You need to wrap request and adjust cookies right after session is created. You can achieve it by defining the following classes:</p>\n<blockquote>\n<p>one bean (You can define it inside SecurityConfig if you want to hold everything in one place. I just put @Component annotation on it for brevity)</p>\n</blockquote>\n<pre><code>package com.dogwalk.dogwalk.config;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.web.firewall.FirewalledRequest;\nimport org.springframework.security.web.firewall.HttpFirewall;\nimport org.springframework.security.web.firewall.RequestRejectedException;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyHttpFirewall implements HttpFirewall {\n\n    @Override\n    public FirewalledRequest getFirewalledRequest(HttpServletRequest request) throws RequestRejectedException {\n        return new RequestWrapper(request);\n    }\n\n    @Override\n    public HttpServletResponse getFirewalledResponse(HttpServletResponse response) {\n        return new ResponseWrapper(response);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>first wrapper class</p>\n</blockquote>\n<pre><code>package com.dogwalk.dogwalk.config;\n\nimport java.util.Collection;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.security.web.firewall.FirewalledRequest;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\n\n/**\n * Wrapper around HttpServletRequest that overwrites Set-Cookie response header and adds SameSite=None portion.\n */\npublic class RequestWrapper extends FirewalledRequest {\n\n    /**\n     * Constructs a request object wrapping the given request.\n     *\n     * @param request The request to wrap\n     * @throws IllegalArgumentException if the request is null\n     */\n    public RequestWrapper(HttpServletRequest request) {\n        super(request);\n    }\n\n    /**\n     * Must be empty by default in Spring Boot. See FirewalledRequest.\n     */\n    @Override\n    public void reset() {\n    }\n\n    @Override\n    public HttpSession getSession(boolean create) {\n        HttpSession session = super.getSession(create);\n\n        if (create) {\n            ServletRequestAttributes ra = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n            if (ra != null) {\n                overwriteSetCookie(ra.getResponse());\n            }\n        }\n\n        return session;\n    }\n\n    @Override\n    public String changeSessionId() {\n        String newSessionId = super.changeSessionId();\n        ServletRequestAttributes ra = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        if (ra != null) {\n            overwriteSetCookie(ra.getResponse());\n        }\n        return newSessionId;\n    }\n\n    private void overwriteSetCookie(HttpServletResponse response) {\n        if (response != null) {\n            Collection&lt;String&gt; headers = response.getHeaders(HttpHeaders.SET_COOKIE);\n            boolean firstHeader = true;\n            for (String header : headers) { // there can be multiple Set-Cookie attributes\n                if (firstHeader) {\n                    response.setHeader(HttpHeaders.SET_COOKIE, String.format(&quot;%s; %s&quot;, header, &quot;SameSite=None&quot;)); // set\n                    firstHeader = false;\n                    continue;\n                }\n                response.addHeader(HttpHeaders.SET_COOKIE, String.format(&quot;%s; %s&quot;, header, &quot;SameSite=None&quot;)); // add\n            }\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>second wrapper class</p>\n</blockquote>\n<pre><code>package com.dogwalk.dogwalk.config;\n\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpServletResponseWrapper;\n\n/**\n * Dummy implementation.\n * To be aligned with RequestWrapper.\n */\npublic class ResponseWrapper extends HttpServletResponseWrapper {\n    /**\n     * Constructs a response adaptor wrapping the given response.\n     *\n     * @param response The response to be wrapped\n     * @throws IllegalArgumentException if the response is null\n     */\n    public ResponseWrapper(HttpServletResponse response) {\n        super(response);\n    }\n}\n</code></pre>\n<blockquote>\n<p>Finally you can remove obsolete SameSiteFilter as all the work will be done within RequestWrapper#overwriteSetCookie.</p>\n</blockquote>\n<blockquote>\n<p>Pay attention that Postman doesn't render/support SameSite cookie attribute under Cookies section. You need to look at Set-Cookie response header or use curl.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652342484,"creation_date":1652342484,"answer_id":72212004,"question_id":67320068,"body_markdown":"Spring Boot 2.6.0 now supports configuration of SameSite cookie attribute:\r\n\r\n**Configuration via properties**\r\n\r\n    server.servlet.session.cookie.same-site=strict\r\n\r\n**Configuration via code**\r\n\r\n    import org.springframework.boot.web.servlet.server.CookieSameSiteSupplier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration(proxyBeanMethods = false)\r\n    public class MySameSiteConfiguration {\r\n      @Bean\r\n      public CookieSameSiteSupplier applicationCookieSameSiteSupplier() {\r\n      return CookieSameSiteSupplier.ofStrict();\r\n      }\r\n    }","title":"How to set SameSite=None in JSESSIONID Cookie","body":"<p>Spring Boot 2.6.0 now supports configuration of SameSite cookie attribute:</p>\n<p><strong>Configuration via properties</strong></p>\n<pre><code>server.servlet.session.cookie.same-site=strict\n</code></pre>\n<p><strong>Configuration via code</strong></p>\n<pre><code>import org.springframework.boot.web.servlet.server.CookieSameSiteSupplier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration(proxyBeanMethods = false)\npublic class MySameSiteConfiguration {\n  @Bean\n  public CookieSameSiteSupplier applicationCookieSameSiteSupplier() {\n  return CookieSameSiteSupplier.ofStrict();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8694044,"reputation":432,"user_id":8021594,"accept_rate":60,"display_name":"Andre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6559,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67342030,"answer_count":2,"score":2,"last_activity_date":1652342484,"creation_date":1619708892,"question_id":67320068,"body_markdown":"I have a spring boot API hosted at Heroku and when I try to access it via a Angular app in Google Chrome (In Firefox it works fine) I&#39;m facing the following problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CBEmk.png\r\n\r\nIt seems that the JSESSIONID cookie was blocked because it wasn&#39;t set to SameSite=None. But how can I set it as SameSite=None? \r\n\r\nThe following are my configuration classes:\r\n\r\n**SecurityConfig:**\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(SecurityProperties.DEFAULT_FILTER_ORDER)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private ClienteUserDetailsService clienteUserDetailsService;\r\n\r\n        private static final String[] PUBLIC_MATCHERS = {&quot;/login&quot;, &quot;/logout&quot;, &quot;/error.html&quot;, &quot;/error&quot;};\r\n\r\n        private static final String[] PUBLIC_MATCHERS_GET = {&quot;/login&quot;, &quot;/logout&quot;, &quot;/error.html&quot;, &quot;/error&quot;};\r\n\r\n        private static final String[] PUBLIC_MATCHERS_POST = {&quot;/login&quot;, &quot;/logout&quot;};\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST, PUBLIC_MATCHERS_POST).permitAll()\r\n                    .antMatchers(HttpMethod.GET, PUBLIC_MATCHERS_GET).permitAll()\r\n                    .antMatchers(PUBLIC_MATCHERS).permitAll()\r\n                    .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().formLogin()\r\n                    .and().httpBasic()\r\n                    .and().logout().logoutUrl(&quot;/logout&quot;).logoutSuccessHandler((new HttpStatusReturningLogoutSuccessHandler(HttpStatus.OK)))\r\n                    .clearAuthentication(true).invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;, &quot;XSRF-TOKEN&quot;);\r\n        }\r\n\r\n        private CsrfTokenRepository getCsrfTokenRepository() {\r\n            CookieCsrfTokenRepository tokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n            tokenRepository.setCookiePath(&quot;/&quot;);\r\n            return tokenRepository;\r\n        }\r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder builder) throws Exception {\r\n            builder.userDetailsService(clienteUserDetailsService)\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;**&quot;)\r\n                            .allowedOrigins(&quot;http://localhost:4200&quot;, &quot;https://dogwalk-teste.web.app&quot;)\r\n                            .allowedMethods(&quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;)\r\n                            .allowCredentials(true);\r\n                }\r\n            };\r\n        }\r\n\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n       \r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**CorsFilter:**\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class CorsFilter implements Filter {\r\n\r\n        @Context\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n                throws IOException, ServletException {\r\n\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\r\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;,\r\n                    &quot;X-PINGOTHER, Content-Type, X-Requested-With, Accept, Origin, Access-Control-Request-Method, &quot;\r\n                    + &quot;Access-Control-Request-Headers, Authorization, if-modified-since, remember-me, &quot;\r\n                    + &quot;x-csrf-token, x-xsrf-token, xsrf-token &quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-csrf-token, x-xsrf-token&quot;);\r\n            response.setHeader(&quot;Set-Cookie&quot;, &quot;locale=pt-BR; HttpOnly; Secure; SameSite=None;&quot;);\r\n\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to set SameSite=None in JSESSIONID Cookie","body":"<p>I have a spring boot API hosted at Heroku and when I try to access it via a Angular app in Google Chrome (In Firefox it works fine) I'm facing the following problem:</p>\n<p><a href=\"https://i.stack.imgur.com/CBEmk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBEmk.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems that the JSESSIONID cookie was blocked because it wasn't set to SameSite=None. But how can I set it as SameSite=None?</p>\n<p>The following are my configuration classes:</p>\n<p><strong>SecurityConfig:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@Order(SecurityProperties.DEFAULT_FILTER_ORDER)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private ClienteUserDetailsService clienteUserDetailsService;\n\n    private static final String[] PUBLIC_MATCHERS = {&quot;/login&quot;, &quot;/logout&quot;, &quot;/error.html&quot;, &quot;/error&quot;};\n\n    private static final String[] PUBLIC_MATCHERS_GET = {&quot;/login&quot;, &quot;/logout&quot;, &quot;/error.html&quot;, &quot;/error&quot;};\n\n    private static final String[] PUBLIC_MATCHERS_POST = {&quot;/login&quot;, &quot;/logout&quot;};\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST, PUBLIC_MATCHERS_POST).permitAll()\n                .antMatchers(HttpMethod.GET, PUBLIC_MATCHERS_GET).permitAll()\n                .antMatchers(PUBLIC_MATCHERS).permitAll()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().formLogin()\n                .and().httpBasic()\n                .and().logout().logoutUrl(&quot;/logout&quot;).logoutSuccessHandler((new HttpStatusReturningLogoutSuccessHandler(HttpStatus.OK)))\n                .clearAuthentication(true).invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;, &quot;XSRF-TOKEN&quot;);\n    }\n\n    private CsrfTokenRepository getCsrfTokenRepository() {\n        CookieCsrfTokenRepository tokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n        tokenRepository.setCookiePath(&quot;/&quot;);\n        return tokenRepository;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder builder) throws Exception {\n        builder.userDetailsService(clienteUserDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;**&quot;)\n                        .allowedOrigins(&quot;http://localhost:4200&quot;, &quot;https://dogwalk-teste.web.app&quot;)\n                        .allowedMethods(&quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;)\n                        .allowCredentials(true);\n            }\n        };\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n   \n\n}\n</code></pre>\n<p><strong>CorsFilter:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CorsFilter implements Filter {\n\n    @Context\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;,\n                &quot;X-PINGOTHER, Content-Type, X-Requested-With, Accept, Origin, Access-Control-Request-Method, &quot;\n                + &quot;Access-Control-Request-Headers, Authorization, if-modified-since, remember-me, &quot;\n                + &quot;x-csrf-token, x-xsrf-token, xsrf-token &quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-csrf-token, x-xsrf-token&quot;);\n        response.setHeader(&quot;Set-Cookie&quot;, &quot;locale=pt-BR; HttpOnly; Secure; SameSite=None;&quot;);\n\n        chain.doFilter(req, res);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1652339295,"post_id":72209634,"comment_id":127583348,"body_markdown":"If you are not using same thread so it does not block your first request but in your log I can only see one thread that is working for two request.\nThread : http-nio-1111-exec-1","body":"If you are not using same thread so it does not block your first request but in your log I can only see one thread that is working for two request. Thread : http-nio-1111-exec-1"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1652339339,"post_id":72209634,"comment_id":127583364,"body_markdown":"Are you using tomcat or similar server?","body":"Are you using tomcat or similar server?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1652339417,"post_id":72209634,"comment_id":127583396,"body_markdown":"If you have configuration of one thread is responsible for all request then it is expected.","body":"If you have configuration of one thread is responsible for all request then it is expected."},{"owner":{"account_id":13219666,"reputation":1,"user_id":9546868,"display_name":"GlenWan"},"score":0,"creation_date":1653099633,"post_id":72209634,"comment_id":127775262,"body_markdown":"Thx for your comment, i have found the answer, because the problem is that google chrome could only send one  same request url at the same time.So the other request was been blocked.This is the case. @Gurkanİlleez","body":"Thx for your comment, i have found the answer, because the problem is that google chrome could only send one  same request url at the same time.So the other request was been blocked.This is the case. @Gurkanİlleez"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652342346,"creation_date":1652342346,"answer_id":72211980,"question_id":72209634,"body_markdown":"Unless specified all Beans in `Spring` are `singleton` meaning only one instance is available for serving your requests. `RestController` is also be one of bean.\r\n\r\nSince you have only one instance &amp; as soon as you hit your controller method, there is 20 seconds delay to complete that execution.  \r\n\r\nThat is reason even after you hit multiple requests at same time, other requests only got served after 20 seconds.\r\n\r\nReference\r\nhttps://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html","title":"Spring controller&#39;s method could be blocked by sleep method call?","body":"<p>Unless specified all Beans in <code>Spring</code> are <code>singleton</code> meaning only one instance is available for serving your requests. <code>RestController</code> is also be one of bean.</p>\n<p>Since you have only one instance &amp; as soon as you hit your controller method, there is 20 seconds delay to complete that execution.</p>\n<p>That is reason even after you hit multiple requests at same time, other requests only got served after 20 seconds.</p>\n<p>Reference\n<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html</a></p>\n"}],"owner":{"account_id":13219666,"reputation":1,"user_id":9546868,"display_name":"GlenWan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652342346,"creation_date":1652324177,"question_id":72209634,"body_markdown":"weird problem.I just wrote one controller like below:\r\n[enter image description here][1]\r\n\r\n\r\nThen i requested the api twice at the same time on my browser, but i found that one of the apis which is requested at the previous time blocked the other one?We could see the result like below:\r\n```\r\n**get locktime:Thu May 12 10:32:00 CST 2022current thread:http-nio-1111-exec-1:70**\r\n```\r\n```\r\n**get locktime:Thu May 12 10:32:20 CST 2022current thread:http-nio-1111-exec-1:70**\r\n```\r\ndiff seconds is 20 ?why weren&#39;t they print at the same time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nyZM4.png\r\n\r\n---\r\n\r\n```\r\npackage com.shopping.redisson.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@RestController\r\npublic class TestTController {\r\n\r\n    @GetMapping(&quot;/test222&quot;)\r\n    public String testT() throws InterruptedException {\r\n        System.out.println(&quot;get locktime:&quot;+(new Date()).toString()+&quot;current thread:&quot;+Thread.currentThread().getName()+&quot;:&quot;+Thread.currentThread().getId());\r\n        TimeUnit.SECONDS.sleep(20);\r\n        return (new Date()).toString();\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```","title":"Spring controller&#39;s method could be blocked by sleep method call?","body":"<p>weird problem.I just wrote one controller like below:\n<a href=\"https://i.stack.imgur.com/nyZM4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Then i requested the api twice at the same time on my browser, but i found that one of the apis which is requested at the previous time blocked the other one?We could see the result like below:</p>\n<pre><code>**get locktime:Thu May 12 10:32:00 CST 2022current thread:http-nio-1111-exec-1:70**\n</code></pre>\n<pre><code>**get locktime:Thu May 12 10:32:20 CST 2022current thread:http-nio-1111-exec-1:70**\n</code></pre>\n<p>diff seconds is 20 ?why weren't they print at the same time?</p>\n<hr />\n<pre><code>package com.shopping.redisson.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\n@RestController\npublic class TestTController {\n\n    @GetMapping(&quot;/test222&quot;)\n    public String testT() throws InterruptedException {\n        System.out.println(&quot;get locktime:&quot;+(new Date()).toString()+&quot;current thread:&quot;+Thread.currentThread().getName()+&quot;:&quot;+Thread.currentThread().getId());\n        TimeUnit.SECONDS.sleep(20);\n        return (new Date()).toString();\n    }\n\n\n}\n\n\n</code></pre>\n"},{"tags":["java","garbage-collection","guava","phantom-reference"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652342106,"creation_date":1652286125,"answer_id":72204453,"question_id":72196933,"body_markdown":"You are creating a subclass of `FinalizablePhantomReference` as anonymous subclass inside a non-static context:\r\n\r\n```java\r\nReference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\r\n  @Override\r\n  public void finalizeReferent() {\r\n    REFERENCES.remove(this);\r\n    System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\r\n  }\r\n};\r\n```\r\n\r\nPrior to JDK&#160;18, anonymous inner classes always keep a reference to their surrounding instance, whether they are using it or not. As described by [bug report JDK-8271717], this changes with JDK&#160;18 when compiling the source code with `javac`. Since this still is a compiler specific behavior and further, it is too easy to use a member of the surrounding class by accident, which would force keeping a reference to the instance, you should use a `static` context. E.g.\r\n\r\n```java\r\nprivate void populateSingleChunk() {\r\n  ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\r\n\r\n  _bufferCache.offerLast(chunk);\r\n\r\n  registerChunk(chunk);\r\n}\r\nprivate static void registerChunk(ByteBuffer chunk) {\r\n  Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\r\n    @Override\r\n    public void finalizeReferent() {\r\n      REFERENCES.remove(this);\r\n      System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\r\n    }\r\n  };\r\n  REFERENCES.add(reference);\r\n}\r\n```\r\n\r\n---\r\n\r\nOf course, the phantom reference object must not have strong references to the referent as well. If you need properties of the referent, you must extract them beforehand, e.g.\r\n\r\n```java\r\nprivate void populateSingleChunk() {\r\n  ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\r\n\r\n  _bufferCache.offerLast(chunk);\r\n\r\n  registerChunk(chunk);\r\n}\r\nprivate static void registerChunk(ByteBuffer chunk) {\r\n  int capacity = chunk.capacity();\r\n  Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\r\n    @Override\r\n    public void finalizeReferent() {\r\n      REFERENCES.remove(this);\r\n      System.out.println(&quot;LEAK DETECTED. ByteBuf[capacity = &quot;\r\n                       + capacity + &quot;] from RecyclingMemoryPool&quot;);\r\n    }\r\n  };\r\n  REFERENCES.add(reference);\r\n}\r\n```\r\n\r\n[bug report JDK-8271717]: https://bugs.openjdk.java.net/browse/JDK-8271717\r\n","title":"Why aren&#39;t bytebuffer collected when using FinalizableReferenceQueue?","body":"<p>You are creating a subclass of <code>FinalizablePhantomReference</code> as anonymous subclass inside a non-static context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\n  @Override\n  public void finalizeReferent() {\n    REFERENCES.remove(this);\n    System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\n  }\n};\n</code></pre>\n<p>Prior to JDK 18, anonymous inner classes always keep a reference to their surrounding instance, whether they are using it or not. As described by <a href=\"https://bugs.openjdk.java.net/browse/JDK-8271717\" rel=\"nofollow noreferrer\">bug report JDK-8271717</a>, this changes with JDK 18 when compiling the source code with <code>javac</code>. Since this still is a compiler specific behavior and further, it is too easy to use a member of the surrounding class by accident, which would force keeping a reference to the instance, you should use a <code>static</code> context. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void populateSingleChunk() {\n  ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\n\n  _bufferCache.offerLast(chunk);\n\n  registerChunk(chunk);\n}\nprivate static void registerChunk(ByteBuffer chunk) {\n  Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\n    @Override\n    public void finalizeReferent() {\n      REFERENCES.remove(this);\n      System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\n    }\n  };\n  REFERENCES.add(reference);\n}\n</code></pre>\n<hr />\n<p>Of course, the phantom reference object must not have strong references to the referent as well. If you need properties of the referent, you must extract them beforehand, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void populateSingleChunk() {\n  ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\n\n  _bufferCache.offerLast(chunk);\n\n  registerChunk(chunk);\n}\nprivate static void registerChunk(ByteBuffer chunk) {\n  int capacity = chunk.capacity();\n  Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\n    @Override\n    public void finalizeReferent() {\n      REFERENCES.remove(this);\n      System.out.println(&quot;LEAK DETECTED. ByteBuf[capacity = &quot;\n                       + capacity + &quot;] from RecyclingMemoryPool&quot;);\n    }\n  };\n  REFERENCES.add(reference);\n}\n</code></pre>\n"}],"owner":{"account_id":3649731,"reputation":212,"user_id":3042197,"display_name":"Tushar Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652342106,"creation_date":1652253596,"question_id":72196933,"body_markdown":"I have a buffer pool implementation which basically provides pre-allocated ByteBuffer objects via `allocate()`/`release()` API. In order to detect the cases when caller forgot to call release and the ByteBuffer ref is leaked, I am using Guava&#39;s `FinalizableReferenceQueue` in conjunction with `FinalizablePhantomReference. finalizeReferent()`.\r\n\r\nAdditionally, I need to selectively destroy the buffer pool and replace it with a newer one with a different configuration. For that, I was setting previous `SampleBufferPool` reference to `null` and let garbage collector do its job. However, I noticed that the ByteBuffer were not getting collected/finalizeReferent is not being called. (I verified that the full GC pause are not collecting any memory via adding `-XX:+PrintGCDetails -verbose:gc` JVM flags)\r\n\r\n\r\n```java\r\npackage foo;\r\n\r\nimport com.google.common.base.FinalizablePhantomReference;\r\nimport com.google.common.base.FinalizableReferenceQueue;\r\nimport com.google.common.collect.Sets;\r\nimport java.lang.ref.Reference;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ConcurrentLinkedDeque;\r\nimport java.util.stream.IntStream;\r\n\r\n\r\npublic class App {\r\n  public static class SampleBufferPool {\r\n    // Phantom reference queue for detecting memory leaks\r\n    // See. https://guava.dev/releases/19.0/api/docs/com/google/common/base/FinalizableReferenceQueue.html\r\n    private static final FinalizableReferenceQueue FRQ = new FinalizableReferenceQueue();\r\n    // This ensures that the FinalizablePhantomReference itself is not garbage-collected.\r\n    public static final Set&lt;Reference&lt;?&gt;&gt; REFERENCES = Sets.newConcurrentHashSet();\r\n\r\n    private final ConcurrentLinkedDeque&lt;ByteBuffer&gt; _bufferCache = new ConcurrentLinkedDeque&lt;&gt;();\r\n    private final int _chunkSize;\r\n    private final int _numChunks;\r\n\r\n    public SampleBufferPool(int chunkSize, int numChunks) {\r\n      _chunkSize = chunkSize;\r\n      _numChunks = numChunks;\r\n      IntStream.range(0, _numChunks).forEach(i -&gt; populateSingleChunk());\r\n    }\r\n\r\n    public ByteBuffer allocate() {\r\n      return _bufferCache.pollLast();\r\n    }\r\n\r\n    public void release(ByteBuffer chunk) {\r\n      _bufferCache.offerLast(chunk);\r\n    }\r\n\r\n    private void populateSingleChunk() {\r\n      ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\r\n\r\n      _bufferCache.offerLast(chunk);\r\n\r\n      Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\r\n        @Override\r\n        public void finalizeReferent() {\r\n          REFERENCES.remove(this);\r\n          System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\r\n        }\r\n      };\r\n      REFERENCES.add(reference);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    SampleBufferPool sampleBufferPool = new SampleBufferPool(20000000, 400);\r\n    sampleBufferPool = null;\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      System.gc();\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"Why aren&#39;t bytebuffer collected when using FinalizableReferenceQueue?","body":"<p>I have a buffer pool implementation which basically provides pre-allocated ByteBuffer objects via <code>allocate()</code>/<code>release()</code> API. In order to detect the cases when caller forgot to call release and the ByteBuffer ref is leaked, I am using Guava's <code>FinalizableReferenceQueue</code> in conjunction with <code>FinalizablePhantomReference. finalizeReferent()</code>.</p>\n<p>Additionally, I need to selectively destroy the buffer pool and replace it with a newer one with a different configuration. For that, I was setting previous <code>SampleBufferPool</code> reference to <code>null</code> and let garbage collector do its job. However, I noticed that the ByteBuffer were not getting collected/finalizeReferent is not being called. (I verified that the full GC pause are not collecting any memory via adding <code>-XX:+PrintGCDetails -verbose:gc</code> JVM flags)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package foo;\n\nimport com.google.common.base.FinalizablePhantomReference;\nimport com.google.common.base.FinalizableReferenceQueue;\nimport com.google.common.collect.Sets;\nimport java.lang.ref.Reference;\nimport java.nio.ByteBuffer;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentLinkedDeque;\nimport java.util.stream.IntStream;\n\n\npublic class App {\n  public static class SampleBufferPool {\n    // Phantom reference queue for detecting memory leaks\n    // See. https://guava.dev/releases/19.0/api/docs/com/google/common/base/FinalizableReferenceQueue.html\n    private static final FinalizableReferenceQueue FRQ = new FinalizableReferenceQueue();\n    // This ensures that the FinalizablePhantomReference itself is not garbage-collected.\n    public static final Set&lt;Reference&lt;?&gt;&gt; REFERENCES = Sets.newConcurrentHashSet();\n\n    private final ConcurrentLinkedDeque&lt;ByteBuffer&gt; _bufferCache = new ConcurrentLinkedDeque&lt;&gt;();\n    private final int _chunkSize;\n    private final int _numChunks;\n\n    public SampleBufferPool(int chunkSize, int numChunks) {\n      _chunkSize = chunkSize;\n      _numChunks = numChunks;\n      IntStream.range(0, _numChunks).forEach(i -&gt; populateSingleChunk());\n    }\n\n    public ByteBuffer allocate() {\n      return _bufferCache.pollLast();\n    }\n\n    public void release(ByteBuffer chunk) {\n      _bufferCache.offerLast(chunk);\n    }\n\n    private void populateSingleChunk() {\n      ByteBuffer chunk = ByteBuffer.allocate(_chunkSize);\n\n      _bufferCache.offerLast(chunk);\n\n      Reference&lt;?&gt; reference = new FinalizablePhantomReference&lt;&gt;(chunk, FRQ) {\n        @Override\n        public void finalizeReferent() {\n          REFERENCES.remove(this);\n          System.out.println(&quot;LEAK DETECTED. ByteBuf[&quot; + &quot;] from RecyclingMemoryPool&quot;);\n        }\n      };\n      REFERENCES.add(reference);\n    }\n  }\n\n  public static void main(String[] args) {\n    SampleBufferPool sampleBufferPool = new SampleBufferPool(20000000, 400);\n    sampleBufferPool = null;\n\n    for (int i = 0; i &lt; 10; i++) {\n      System.gc();\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":["java","maven","pact"],"answers":[{"tags":[],"owner":{"account_id":2465236,"reputation":363,"user_id":2148498,"display_name":"Ralf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630949819,"creation_date":1630949819,"answer_id":69078438,"question_id":68944644,"body_markdown":"in my current project we use this config \r\n    \r\n```   \r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n   &lt;version&gt;4.2.0&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;pactBrokerUrl&gt;https://mypactbroker&lt;/pactBrokerUrl&gt;\r\n      &lt;trimSnapshot&gt;true&lt;/trimSnapshot&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n    \r\nwith the annotation ```@PactBroker(scheme = &quot;https&quot;)```on the test class.","title":"How to use #pact maven plugin to verify a provider without port","body":"<p>in my current project we use this config</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\n   &lt;artifactId&gt;maven&lt;/artifactId&gt;\n   &lt;version&gt;4.2.0&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;pactBrokerUrl&gt;https://mypactbroker&lt;/pactBrokerUrl&gt;\n      &lt;trimSnapshot&gt;true&lt;/trimSnapshot&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>with the annotation <code>@PactBroker(scheme = &quot;https&quot;)</code>on the test class.</p>\n"},{"tags":[],"owner":{"account_id":1181271,"reputation":217,"user_id":1156156,"accept_rate":0,"display_name":"Andreu Alcon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652342001,"creation_date":1652342001,"answer_id":72211909,"question_id":68944644,"body_markdown":"The pom.xml is not correct. You are missing to open serviceProvider tag","title":"How to use #pact maven plugin to verify a provider without port","body":"<p>The pom.xml is not correct. You are missing to open serviceProvider tag</p>\n"}],"owner":{"account_id":144338,"reputation":43,"user_id":353305,"display_name":"user353305"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652342001,"creation_date":1630007886,"question_id":68944644,"body_markdown":"Per https://docs.pact.io/implementation_guides/jvm/provider/maven/#2-define-the-pacts-between-your-consumers-and-providers\r\n: Protocol, Host, and Port are required.\r\n\r\nMy spring boot rest app is on kubernetes, I have endpoint URL like https://fruitbasket.net/abc\r\nIf I don&#39;t specify the `port` tag, and run `mvn pact:verify`; test fail and it seems like `:8080` get appended during run time\r\n\r\n    https://fruitbasket.net/:8080/abc\r\n\r\nEssentially, messing up the request endpoint.\r\n\r\n*Please note:* I having fixed IP address and port isn&#39;t realistic. \r\n\r\nHow can I specify the provider host URL without port?\r\n\r\nplugin config:\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;serviceProviders&gt;\r\n              &lt;name&gt;marketplace&lt;/name&gt;\r\n              &lt;protocol&gt;https&lt;/protocol&gt;\r\n              &lt;host&gt;fruitbasket.net&lt;/host&gt;\r\n            &lt;/serviceProvider&gt;\r\n          &lt;/serviceProviders&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to use #pact maven plugin to verify a provider without port","body":"<p>Per <a href=\"https://docs.pact.io/implementation_guides/jvm/provider/maven/#2-define-the-pacts-between-your-consumers-and-providers\" rel=\"nofollow noreferrer\">https://docs.pact.io/implementation_guides/jvm/provider/maven/#2-define-the-pacts-between-your-consumers-and-providers</a>\n: Protocol, Host, and Port are required.</p>\n<p>My spring boot rest app is on kubernetes, I have endpoint URL like <a href=\"https://fruitbasket.net/abc\" rel=\"nofollow noreferrer\">https://fruitbasket.net/abc</a>\nIf I don't specify the <code>port</code> tag, and run <code>mvn pact:verify</code>; test fail and it seems like <code>:8080</code> get appended during run time</p>\n<pre><code>https://fruitbasket.net/:8080/abc\n</code></pre>\n<p>Essentially, messing up the request endpoint.</p>\n<p><em>Please note:</em> I having fixed IP address and port isn't realistic.</p>\n<p>How can I specify the provider host URL without port?</p>\n<p>plugin config:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\n    &lt;artifactId&gt;maven&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;serviceProviders&gt;\n          &lt;name&gt;marketplace&lt;/name&gt;\n          &lt;protocol&gt;https&lt;/protocol&gt;\n          &lt;host&gt;fruitbasket.net&lt;/host&gt;\n        &lt;/serviceProvider&gt;\n      &lt;/serviceProviders&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":0,"creation_date":1652303462,"post_id":72207581,"comment_id":127577162,"body_markdown":"What is your question?","body":"What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652303473,"creation_date":1652303473,"answer_id":72207633,"question_id":72207581,"body_markdown":"You can use a loop that iterates the maximum length of both the strings. Then you can extract the individual character at the ith position and add it alternatively to a resulting String object. I have used StringBuiler as it mutable( [diff here][1] ) This is the code that I have attached. \r\n\r\n    public class MyProgram {\r\n        public static void main(String[] args) {\r\n            System.out.println(sCombine(&quot;test&quot;, &quot;case&quot;)); // &quot;tceasste&quot;\r\n            System.out.println(sCombine(&quot;avalanche&quot;, &quot;dog&quot;)); // &quot;advoaglanche&quot;\r\n            System.out.println(sCombine(&quot;&quot;, &quot;water&quot;)); // &quot;water&quot;\r\n    \r\n        }\r\n    \r\n        public static String sCombine(String a, String b) {\r\n            StringBuilder result = new StringBuilder();\r\n            for (int i = 0; i &lt; Math.max(a.length(), b.length()); i++) {\r\n                char aChar = i &lt; a.length() ? a.charAt(i) : &#39;#&#39;;\r\n                char bChar = i &lt; b.length() ? b.charAt(i) : &#39;#&#39;;\r\n                if (aChar != &#39;#&#39;) {\r\n                    result.append(aChar + &quot;&quot;);\r\n                }\r\n                if (bChar != &#39;#&#39;) {\r\n                    result.append(bChar + &quot;&quot;);\r\n                }\r\n            }\r\n            return result.toString();\r\n        }\r\n    }\r\n\r\nand the output is :\r\n\r\n    tceasste\r\n    advoaglanche\r\n    water\r\n\r\n  [1]: https://www.techiedelight.com/difference-between-string-stringbuilder-java/#:~:text=A%20String%20is%20immutable%20in,created%20in%20the%20string%20pool.\r\n","title":"Trying to alternate two strings together in Java","body":"<p>You can use a loop that iterates the maximum length of both the strings. Then you can extract the individual character at the ith position and add it alternatively to a resulting String object. I have used StringBuiler as it mutable( <a href=\"https://www.techiedelight.com/difference-between-string-stringbuilder-java/#:%7E:text=A%20String%20is%20immutable%20in,created%20in%20the%20string%20pool.\" rel=\"nofollow noreferrer\">diff here</a> ) This is the code that I have attached.</p>\n<pre><code>public class MyProgram {\n    public static void main(String[] args) {\n        System.out.println(sCombine(&quot;test&quot;, &quot;case&quot;)); // &quot;tceasste&quot;\n        System.out.println(sCombine(&quot;avalanche&quot;, &quot;dog&quot;)); // &quot;advoaglanche&quot;\n        System.out.println(sCombine(&quot;&quot;, &quot;water&quot;)); // &quot;water&quot;\n\n    }\n\n    public static String sCombine(String a, String b) {\n        StringBuilder result = new StringBuilder();\n        for (int i = 0; i &lt; Math.max(a.length(), b.length()); i++) {\n            char aChar = i &lt; a.length() ? a.charAt(i) : '#';\n            char bChar = i &lt; b.length() ? b.charAt(i) : '#';\n            if (aChar != '#') {\n                result.append(aChar + &quot;&quot;);\n            }\n            if (bChar != '#') {\n                result.append(bChar + &quot;&quot;);\n            }\n        }\n        return result.toString();\n    }\n}\n</code></pre>\n<p>and the output is :</p>\n<pre><code>tceasste\nadvoaglanche\nwater\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20264645,"reputation":41,"user_id":14862158,"display_name":"Stonezarcon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652303840,"creation_date":1652303840,"answer_id":72207683,"question_id":72207581,"body_markdown":"The problem is that you&#39;re doing:\r\n\r\n        result += a;\r\n\r\nYou need to do:\r\n\r\n        result += currentA;\r\n\r\nI would also suggest looking at the StringBuilder class. It has a lot of built in functionality for things of this nature :)","title":"Trying to alternate two strings together in Java","body":"<p>The problem is that you're doing:</p>\n<pre><code>    result += a;\n</code></pre>\n<p>You need to do:</p>\n<pre><code>    result += currentA;\n</code></pre>\n<p>I would also suggest looking at the StringBuilder class. It has a lot of built in functionality for things of this nature :)</p>\n"},{"tags":[],"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652304954,"creation_date":1652304482,"answer_id":72207776,"question_id":72207581,"body_markdown":"You can use substring to savely append the remainder of the Strings. Should the limit be out of bounds, no exception will be thrown, because substring will just return an empty String.\r\n\r\n```java\r\npublic String sCombine(String a, String b) {\r\n\r\n  final StringBuilder builder = new StringBuilder();\r\n  final int min = Math.min(a.length(), b.length());\r\n\r\n  for (int i = 0; i &lt; min; i++) {\r\n    builder.append(a.charAt(i)).append(b.charAt(i));\r\n  }\r\n\r\n  builder.append(a.substring(min)).append(b.substring(min));\r\n\r\n  return builder.toString();\r\n}\r\n\r\n```","title":"Trying to alternate two strings together in Java","body":"<p>You can use substring to savely append the remainder of the Strings. Should the limit be out of bounds, no exception will be thrown, because substring will just return an empty String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String sCombine(String a, String b) {\n\n  final StringBuilder builder = new StringBuilder();\n  final int min = Math.min(a.length(), b.length());\n\n  for (int i = 0; i &lt; min; i++) {\n    builder.append(a.charAt(i)).append(b.charAt(i));\n  }\n\n  builder.append(a.substring(min)).append(b.substring(min));\n\n  return builder.toString();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652312175,"creation_date":1652312175,"answer_id":72208642,"question_id":72207581,"body_markdown":"Just another way. Read all the comments in code:\r\n\r\n    /**\r\n     * Sequentially blends two strings together one character at a time, for \r\n     * example, if the first argument was &quot;cat&quot; and the second argument was \r\n     * &quot;dog&quot; then the returned result will be: &quot;cdaotg&quot;.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     *     {@code  \r\n     *      final String a = &quot;cat&quot;;\r\n     *      final String b = &quot;elephant&quot;;\r\n     *      String newString = sCombine(a, b);\r\n     *      System.out.println(newString); \r\n     *      // Console will display: cealte }\r\n     * \r\n     *      OR \r\n     *     {@code  \r\n     *      final String a = &quot;cat&quot;;\r\n     *      final String b = &quot;elephant&quot;;\r\n     *      String newString = sCombine(a, b, true);  // true is optionally supplied here.\r\n     *      System.out.println(newString); \r\n     *      // Console will display: eclaetphant }&lt;/pre&gt;\r\n     * \r\n     * @param stringA (String) The first String to blend.&lt;br&gt;\r\n     * \r\n     * @param stringB (String) The second String to blend.&lt;br&gt;\r\n     * \r\n     * @param startWithLongest (Optional - boolean varArgs) Default is false &lt;pre&gt;\r\n     *                         whereas this method will always take the first \r\n     *                         supplied argument and blend the second argument \r\n     *                         into it. In this default situation, the first \r\n     *                         argument is always considered to contain the \r\n     *                         longest String. If however, the second argument \r\n     *                         contains more characters then the those extra \r\n     *                         characters will be truncated, for example: &quot;cat&quot; \r\n     *                         and &quot;elephant&quot;. Result will be: &quot;cealte&quot;. It would \r\n     *                         be beneficial to always pass the longest string as \r\n     *                         the first argument in order to achieve the result \r\n     *                         of: &quot;eclaetphant&quot;.\r\n     *         \r\n     *                         If boolean true is supplied to this optional parameter \r\n     *                         then the longest argument passed to this method will \r\n     *                         always be considered as the first argument rather than \r\n     *                         the first supplied argument, for example: &quot;cat&quot; as the \r\n     *                         first argument and &quot;elephant&quot; as the second argument \r\n     *                         and true as the third argument will return a result \r\n     *                         of &quot;eclaetphant&quot;.\r\n     * \r\n     *                         Supplying nothing forces default to be used.&lt;/pre&gt;\r\n     * \r\n     * @return (String) The blended String;\r\n     */\r\n    public static String sCombine(final String stringA, final String stringB, \r\n                                      final boolean... startWithLongest) {\r\n        String strgA = stringA, strgB = stringB; // So to maintain original Strings\r\n        /* If `true` is supplied to the startWithLongest optional \r\n        vararg parameter then ensure the String argument with the \r\n        most characters is the first argument (if true, always place \r\n        the longest first).                           */\r\n        if (startWithLongest.length &gt; 0 &amp;&amp; startWithLongest[0]) {\r\n            if (strgB.length() &gt; strgA.length()) {\r\n                strgA = stringB; \r\n                strgB = stringA;\r\n            }\r\n        }\r\n        \r\n        // Build the new blended string\r\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n        for (int i = 0; i &lt; strgA.length(); i++) {\r\n            sb.append(strgA.charAt(i))\r\n                    /* &#39;Ternary Operator&#39; is used here to ensure strgB \r\n                       contains the current index to carry on. If not\r\n                       then just the remaining characters of strgA are \r\n                       sequentially apended to the StringBuilder object\r\n                       to finish up things.                         */\r\n                    .append(i &lt; strgB.length() ? strgB.charAt(i) : &quot;&quot;);\r\n        }\r\n        \r\n        return sb.toString();\r\n    }","title":"Trying to alternate two strings together in Java","body":"<p>Just another way. Read all the comments in code:</p>\n<pre><code>/**\n * Sequentially blends two strings together one character at a time, for \n * example, if the first argument was &quot;cat&quot; and the second argument was \n * &quot;dog&quot; then the returned result will be: &quot;cdaotg&quot;.&lt;br&gt;&lt;br&gt;\n * \n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n *     {@code  \n *      final String a = &quot;cat&quot;;\n *      final String b = &quot;elephant&quot;;\n *      String newString = sCombine(a, b);\n *      System.out.println(newString); \n *      // Console will display: cealte }\n * \n *      OR \n *     {@code  \n *      final String a = &quot;cat&quot;;\n *      final String b = &quot;elephant&quot;;\n *      String newString = sCombine(a, b, true);  // true is optionally supplied here.\n *      System.out.println(newString); \n *      // Console will display: eclaetphant }&lt;/pre&gt;\n * \n * @param stringA (String) The first String to blend.&lt;br&gt;\n * \n * @param stringB (String) The second String to blend.&lt;br&gt;\n * \n * @param startWithLongest (Optional - boolean varArgs) Default is false &lt;pre&gt;\n *                         whereas this method will always take the first \n *                         supplied argument and blend the second argument \n *                         into it. In this default situation, the first \n *                         argument is always considered to contain the \n *                         longest String. If however, the second argument \n *                         contains more characters then the those extra \n *                         characters will be truncated, for example: &quot;cat&quot; \n *                         and &quot;elephant&quot;. Result will be: &quot;cealte&quot;. It would \n *                         be beneficial to always pass the longest string as \n *                         the first argument in order to achieve the result \n *                         of: &quot;eclaetphant&quot;.\n *         \n *                         If boolean true is supplied to this optional parameter \n *                         then the longest argument passed to this method will \n *                         always be considered as the first argument rather than \n *                         the first supplied argument, for example: &quot;cat&quot; as the \n *                         first argument and &quot;elephant&quot; as the second argument \n *                         and true as the third argument will return a result \n *                         of &quot;eclaetphant&quot;.\n * \n *                         Supplying nothing forces default to be used.&lt;/pre&gt;\n * \n * @return (String) The blended String;\n */\npublic static String sCombine(final String stringA, final String stringB, \n                                  final boolean... startWithLongest) {\n    String strgA = stringA, strgB = stringB; // So to maintain original Strings\n    /* If `true` is supplied to the startWithLongest optional \n    vararg parameter then ensure the String argument with the \n    most characters is the first argument (if true, always place \n    the longest first).                           */\n    if (startWithLongest.length &gt; 0 &amp;&amp; startWithLongest[0]) {\n        if (strgB.length() &gt; strgA.length()) {\n            strgA = stringB; \n            strgB = stringA;\n        }\n    }\n    \n    // Build the new blended string\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\n    for (int i = 0; i &lt; strgA.length(); i++) {\n        sb.append(strgA.charAt(i))\n                /* 'Ternary Operator' is used here to ensure strgB \n                   contains the current index to carry on. If not\n                   then just the remaining characters of strgA are \n                   sequentially apended to the StringBuilder object\n                   to finish up things.                         */\n                .append(i &lt; strgB.length() ? strgB.charAt(i) : &quot;&quot;);\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652341778,"creation_date":1652316642,"answer_id":72208982,"question_id":72207581,"body_markdown":"&gt;take two strings and use a method to alternate the characters.\r\n**example** - &quot;test&quot; &quot;case&quot; -&gt; &quot;tceasste&quot;\r\n```Java\r\nprivate static String mixedUp(String first, String second)\r\n{\r\n```\r\nFirst, identify the shorter string so it won&#39;t attempt to pull a character that is out out bounds\r\n\r\n        int length = (first.length() &gt; second.length()) \r\n            ? second.length() : first.length();\r\nThen for that length, add their alternating characters to a `new String()` Object like so:\r\n```\r\n    String output = new String();\r\n    for(int index = 0; index &lt; length; index++)\r\n    {\r\n        output += first.charAt(index);\r\n        output += second.charAt(index);\r\n    }\r\n```\r\n&gt;You can use substring to savely append the remainder of the Strings. Should the limit be out of bounds, no exception will be thrown, because substring will just return an empty String. - @thinkgruen\r\n\r\nYou can add the rest of the characters using the ternary operator again like so:\r\n```Java\r\n    output += (first.length() &gt; second.length()) \r\n        ? second.substring(length) : first.substring(length);\r\n    return output;\r\n}\r\n```","title":"Trying to alternate two strings together in Java","body":"<blockquote>\n<p>take two strings and use a method to alternate the characters.\n<strong>example</strong> - &quot;test&quot; &quot;case&quot; -&gt; &quot;tceasste&quot;</p>\n</blockquote>\n<pre><code>private static String mixedUp(String first, String second)\n{\n</code></pre>\n<p>First, identify the shorter string so it won't attempt to pull a character that is out out bounds</p>\n<pre><code>    int length = (first.length() &gt; second.length()) \n        ? second.length() : first.length();\n</code></pre>\n<p>Then for that length, add their alternating characters to a <code>new String()</code> Object like so:</p>\n<pre><code>    String output = new String();\n    for(int index = 0; index &lt; length; index++)\n    {\n        output += first.charAt(index);\n        output += second.charAt(index);\n    }\n</code></pre>\n<blockquote>\n<p>You can use substring to savely append the remainder of the Strings. Should the limit be out of bounds, no exception will be thrown, because substring will just return an empty String. - @thinkgruen</p>\n</blockquote>\n<p>You can add the rest of the characters using the ternary operator again like so:</p>\n<pre><code>    output += (first.length() &gt; second.length()) \n        ? second.substring(length) : first.substring(length);\n    return output;\n}\n</code></pre>\n"}],"owner":{"account_id":25151948,"reputation":23,"user_id":18997181,"display_name":"Yigzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72208642,"answer_count":5,"score":0,"last_activity_date":1652341778,"creation_date":1652303059,"question_id":72207581,"body_markdown":"/* Programs goal is to take two strings and use a method to alternate the characters.\r\n * example - &quot;test&quot; &quot;case&quot; -&gt; &quot;tceasste&quot;\r\n * Sorry I tried looking at other similar questions but I didn&#39;t understand how they worked as I am very new to Java and coding in general.\r\n */\r\n\r\n```\r\npublic class MyProgram extends ConsoleProgram\r\n{\r\n    public void run()\r\n    {\r\n        System.out.println(sCombine(&quot;test&quot;,&quot;case&quot;)); //&quot;tceasste&quot;\r\n        System.out.println(sCombine(&quot;avalanche&quot;,&quot;dog&quot;)); //&quot;advoaglanche&quot;\r\n        System.out.println(sCombine(&quot;&quot;,&quot;water&quot;)); //&quot;water&quot;\r\n        \r\n    }\r\n    \r\n    public String sCombine(String a, String b)\r\n    {\r\n        String result = &quot;&quot;;\r\n        \r\n        int lengtha = a.length();\r\n        int lengthb = b.length();\r\n        int lengthc = 0;\r\n        if(lengtha &lt; lengthb)\r\n        {\r\n            lengthc = lengtha;\r\n        }\r\n        else\r\n        {\r\n            lengthc = lengthb;\r\n        }\r\n        \r\n        \r\n        for(int i = 0; i &lt; lengthc; i++)\r\n        {\r\n            char currentA = a.charAt(i);\r\n            char currentB = b.charAt(i);\r\n            \r\n            result += a;\r\n            result += b;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```","title":"Trying to alternate two strings together in Java","body":"<p>/* Programs goal is to take two strings and use a method to alternate the characters.</p>\n<ul>\n<li>example - &quot;test&quot; &quot;case&quot; -&gt; &quot;tceasste&quot;</li>\n<li>Sorry I tried looking at other similar questions but I didn't understand how they worked as I am very new to Java and coding in general.\n*/</li>\n</ul>\n<pre><code>public class MyProgram extends ConsoleProgram\n{\n    public void run()\n    {\n        System.out.println(sCombine(&quot;test&quot;,&quot;case&quot;)); //&quot;tceasste&quot;\n        System.out.println(sCombine(&quot;avalanche&quot;,&quot;dog&quot;)); //&quot;advoaglanche&quot;\n        System.out.println(sCombine(&quot;&quot;,&quot;water&quot;)); //&quot;water&quot;\n        \n    }\n    \n    public String sCombine(String a, String b)\n    {\n        String result = &quot;&quot;;\n        \n        int lengtha = a.length();\n        int lengthb = b.length();\n        int lengthc = 0;\n        if(lengtha &lt; lengthb)\n        {\n            lengthc = lengtha;\n        }\n        else\n        {\n            lengthc = lengthb;\n        }\n        \n        \n        for(int i = 0; i &lt; lengthc; i++)\n        {\n            char currentA = a.charAt(i);\n            char currentB = b.charAt(i);\n            \n            result += a;\n            result += b;\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","oauth-2.0","jwt"],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652341683,"creation_date":1652341683,"answer_id":72211834,"question_id":72203943,"body_markdown":"Not sure what you mean by an OAUTH token, but to identify a JWT you can check if the token contains three parts separated by dots, if it&#39;s a signed JWT, or five parts, if it&#39;s an encrypted JWT.\r\n\r\nSo something like this for a signed JWT:\r\n\r\n```java\r\nif (token.split(&quot;\\\\.&quot;).length == 3) {\r\n   // It&#39;s a JWT\r\n}\r\n```\r\n\r\nIf you only have these two types of tokens, and you are sure that the OAUTH token is not formatted with two dots, then you easily differentiate those two types.\r\n\r\nAnother thing you can do is to pass the token to a JWT verification library and catch any exceptions. You will get something like a &quot;Malformed token exception&quot; if the token is not a JWT. Then you can assume that it&#39;s an OAUTH token.\r\n ","title":"Detect if Authorization Header is JWT or OAUTH","body":"<p>Not sure what you mean by an OAUTH token, but to identify a JWT you can check if the token contains three parts separated by dots, if it's a signed JWT, or five parts, if it's an encrypted JWT.</p>\n<p>So something like this for a signed JWT:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (token.split(&quot;\\\\.&quot;).length == 3) {\n   // It's a JWT\n}\n</code></pre>\n<p>If you only have these two types of tokens, and you are sure that the OAUTH token is not formatted with two dots, then you easily differentiate those two types.</p>\n<p>Another thing you can do is to pass the token to a JWT verification library and catch any exceptions. You will get something like a &quot;Malformed token exception&quot; if the token is not a JWT. Then you can assume that it's an OAUTH token.</p>\n"}],"owner":{"account_id":1311937,"reputation":1459,"user_id":1259763,"accept_rate":73,"display_name":"Federico Alvarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72211834,"answer_count":1,"score":0,"last_activity_date":1652341683,"creation_date":1652283782,"question_id":72203943,"body_markdown":"My servlet receives the Authorization Header as &quot;Bearer JWT_TOKEN&quot; or &quot;Bearer OAUTH_TOKEN&quot;.\r\n\r\nHow can I identify if the token is JWT or OAUTH?","title":"Detect if Authorization Header is JWT or OAUTH","body":"<p>My servlet receives the Authorization Header as &quot;Bearer JWT_TOKEN&quot; or &quot;Bearer OAUTH_TOKEN&quot;.</p>\n<p>How can I identify if the token is JWT or OAUTH?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1613325300,"creation_date":1613325300,"answer_id":66198370,"question_id":65444486,"body_markdown":"I recomend to you [this thread][1].\r\n\r\nI&#39;ve solved this simply adding [this dependency][2] in my `pom.xml`:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54632086/java-11-implementation-of-jaxb-api-has-not-been-found-on-module-path-or-classpa\r\n  [2]: https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime","title":"WARNING: JAXBContext implementation could not be found. WADL feature is disabled","body":"<p>I recomend to you <a href=\"https://stackoverflow.com/questions/54632086/java-11-implementation-of-jaxb-api-has-not-been-found-on-module-path-or-classpa\">this thread</a>.</p>\n<p>I've solved this simply adding <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\" rel=\"noreferrer\">this dependency</a> in my <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1380605,"reputation":157,"user_id":1313699,"display_name":"Branislav Kuliha"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1652341620,"creation_date":1652341620,"answer_id":72211825,"question_id":65444486,"body_markdown":"I removed the warning (with WADL disabled) in my Jersey Application like this:\r\n\r\n    Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n    properties.put(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n\tsetProperties(properties);\r\n\r\nSource: https://stackoverflow.com/a/43341597/1313699","title":"WARNING: JAXBContext implementation could not be found. WADL feature is disabled","body":"<p>I removed the warning (with WADL disabled) in my Jersey Application like this:</p>\n<pre><code>Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\nproperties.put(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\nsetProperties(properties);\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/a/43341597/1313699\">https://stackoverflow.com/a/43341597/1313699</a></p>\n"}],"owner":{"account_id":16167819,"reputation":103,"user_id":11672350,"display_name":"Moaz Basheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13838,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":66198370,"answer_count":2,"score":10,"last_activity_date":1652341620,"creation_date":1608859115,"question_id":65444486,"body_markdown":"&gt;WARNING: JAXBContext implementation could not be found. WADL feature is disabled\r\n\r\nHow can I resolve this warning?  \r\nIs there a way to enable this WADL feature?","title":"WARNING: JAXBContext implementation could not be found. WADL feature is disabled","body":"<blockquote>\n<p>WARNING: JAXBContext implementation could not be found. WADL feature is disabled</p>\n</blockquote>\n<p>How can I resolve this warning?<br />\nIs there a way to enable this WADL feature?</p>\n"},{"tags":["java","types","reflection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652346484,"post_id":72211799,"comment_id":127585720,"body_markdown":"There never was a guaranty that you can extract the actual type of a `Consumer&lt;T&gt;`. Just add a `Class&lt;T&gt;` parameter and change the caller to pass `XYZ.class`. Since the constructor is `private`, all callers must be in the same compilation unit, which makes it easy to find and adapt them. As a bonus, the code will be more efficient and not rely on a 3rd party library.","body":"There never was a guaranty that you can extract the actual type of a <code>Consumer&lt;T&gt;</code>. Just add a <code>Class&lt;T&gt;</code> parameter and change the caller to pass <code>XYZ.class</code>. Since the constructor is <code>private</code>, all callers must be in the same compilation unit, which makes it easy to find and adapt them. As a bonus, the code will be more efficient and not rely on a 3rd party library."},{"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"score":0,"creation_date":1652361365,"post_id":72211799,"comment_id":127591247,"body_markdown":"I cannot change it that easily without a big refactoring. This ends up being called by something like `eventBus.subscribe(this::onCatchEvent);` being `onCatchEvent` a method itself.","body":"I cannot change it that easily without a big refactoring. This ends up being called by something like <code>eventBus.subscribe(this::onCatchEvent);</code> being <code>onCatchEvent</code> a method itself."}],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652341508,"creation_date":1652341508,"question_id":72211799,"body_markdown":"I am working on a project in which we are using `typetools` library and when we&#39;ve tried to upgrade to Java 17 it broke because of this library, it seems it&#39;s not supported anymore and something&#39;s going one with newest Java versions.\r\nTherefore we are aiming to find an alternative but I haven&#39;t had any success so far. I tried some other libraries or even with Java reflection.\r\n\r\nThis is the code where we are using it so maybe someone here can give me an alternative or think any other way to do it.\r\n\r\n    private static class Listener&lt;T extends IEvent&gt; {\r\n\t\t/**\r\n\t\t * The consumer method\r\n\t\t */\r\n\t\tprivate final Consumer&lt;T&gt; consumer;\r\n\r\n\t\t/**\r\n\t\t * The argument type of the consumer\r\n\t\t */\r\n\t\tprivate final Class&lt;?&gt; argumentType;\r\n\r\n\t\t/**\r\n\t\t * Default constructor\r\n\t\t *\r\n\t\t * @param consumer The consumer to store\r\n\t\t */\r\n\t\tprivate Listener(final Consumer&lt;T&gt; consumer) {\r\n\t\t\tthis.consumer = consumer;\r\n\r\n\t\t\t// determine the parameter type\r\n\t\t\tfinal Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(Consumer.class, consumer.getClass());\r\n\t\t\targumentType = typeArgs[0];\r\n\t\t}\r\n\r\n\t\tpublic Consumer&lt;T&gt; getConsumer() {\r\n\t\t\treturn consumer;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns whether this listener should be notified about the event passed as parameter or not\r\n\t\t *\r\n\t\t * @param event The event to check the compatibility with\r\n\t\t * @return True if the listener&#39;s argument is compatible with the event received as parameter, false otherwise\r\n\t\t */\r\n\t\tpublic boolean isCompatibleWith(final IEvent event) {\r\n\t\t\treturn argumentType.isAssignableFrom(event.getClass());\r\n\t\t}\r\n\t}\r\n\r\nEverything happens in these 2 lines:\r\n    final Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(Consumer.class, \r\n    consumer.getClass());\r\n\t\t\targumentType = typeArgs[0];\r\n\r\nWhat we achieve here is extracting the class given in the diamond operator of `Consumer&lt;T&gt; consumer`\r\n","title":"Alternative to typoetools TypeResolver library","body":"<p>I am working on a project in which we are using <code>typetools</code> library and when we've tried to upgrade to Java 17 it broke because of this library, it seems it's not supported anymore and something's going one with newest Java versions.\nTherefore we are aiming to find an alternative but I haven't had any success so far. I tried some other libraries or even with Java reflection.</p>\n<p>This is the code where we are using it so maybe someone here can give me an alternative or think any other way to do it.</p>\n<pre><code>private static class Listener&lt;T extends IEvent&gt; {\n    /**\n     * The consumer method\n     */\n    private final Consumer&lt;T&gt; consumer;\n\n    /**\n     * The argument type of the consumer\n     */\n    private final Class&lt;?&gt; argumentType;\n\n    /**\n     * Default constructor\n     *\n     * @param consumer The consumer to store\n     */\n    private Listener(final Consumer&lt;T&gt; consumer) {\n        this.consumer = consumer;\n\n        // determine the parameter type\n        final Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(Consumer.class, consumer.getClass());\n        argumentType = typeArgs[0];\n    }\n\n    public Consumer&lt;T&gt; getConsumer() {\n        return consumer;\n    }\n\n    /**\n     * Returns whether this listener should be notified about the event passed as parameter or not\n     *\n     * @param event The event to check the compatibility with\n     * @return True if the listener's argument is compatible with the event received as parameter, false otherwise\n     */\n    public boolean isCompatibleWith(final IEvent event) {\n        return argumentType.isAssignableFrom(event.getClass());\n    }\n}\n</code></pre>\n<p>Everything happens in these 2 lines:\nfinal Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(Consumer.class,\nconsumer.getClass());\nargumentType = typeArgs[0];</p>\n<p>What we achieve here is extracting the class given in the diamond operator of <code>Consumer&lt;T&gt; consumer</code></p>\n"},{"tags":["java","spring-data-jpa","spring-repositories","jpa-criteria","pageable"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1652248772,"post_id":72196044,"comment_id":127557358,"body_markdown":"Similar, but didn&#39;t solve my problem:\n\nhttps://stackoverflow.com/questions/66361771/complex-sorting-in-spring-data-jpa-sort-object\n\nhttps://stackoverflow.com/questions/34722669/complex-sort-with-spring-data-jpa","body":"Similar, but didn&#39;t solve my problem:  <a href=\"https://stackoverflow.com/questions/66361771/complex-sorting-in-spring-data-jpa-sort-object\" title=\"complex sorting in spring data jpa sort object\">stackoverflow.com/questions/66361771/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/34722669/complex-sort-with-spring-data-jpa\" title=\"complex sort with spring data jpa\">stackoverflow.com/questions/34722669/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652341211,"creation_date":1652341211,"answer_id":72211747,"question_id":72196044,"body_markdown":"For that case you can create `@Formula` column in `MyEntity` with custom SQL and then refer it in `Pageable` as regular entity field","title":"Specify complex sorting criteria when requesting Spring Data JPA repository","body":"<p>For that case you can create <code>@Formula</code> column in <code>MyEntity</code> with custom SQL and then refer it in <code>Pageable</code> as regular entity field</p>\n"}],"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72211747,"answer_count":1,"score":2,"last_activity_date":1652341211,"creation_date":1652248566,"question_id":72196044,"body_markdown":"I&#39;m requesting paged and sorted data from my database, specified via `Pageable` with following repository API:\r\n\r\n```java\r\norg.springframework.data.jpa.repository.JpaSpecificationExecutor.findAll(Specification&lt;MyEntity&gt; filter, Pageable pageable)\r\n```\r\n\r\n`Pageable` contains a `Sort` with simple sorting criteria, such as **sort column X in descending order**.\r\n\r\nSometimes, `Sort` contains one column which actually doesn&#39;t exist in the underlying table, which must be replaced by a complex conditional `ORDER BY` expression:\r\n\r\n```sql\r\nORDER BY CASE WHEN entity_to=&#39;CUSTOMER&#39; THEN entity_to_id ELSE (CASE WHEN entity_from=&#39;CUSTOMER&#39; THEN entity_from_id END) END\r\n```\r\n\r\nIndeed, I can rebuild the `Sort` instance in `Pageable` so that this non-existing column gets removed, but I didn&#39;t find a way to inject the complex `ORDER BY` expression in that case.\r\n\r\nI tried to find a way, to enrich the resulting query from this invocation of the Repository. I hoped that I can do it by adding another `Specification` filter, but I got an error (`No explicit selection and an implicit one could not be determined`), and I&#39;m not sure that the order-by will be applied to the final query built by the Repository implementation:\r\n\r\n```java\r\n...\r\nfilter = filter.and(\r\n        (root, query, cb) -&gt; {\r\n            final var customerLiteral = cb.literal(&quot;CUSTOMER&quot;);\r\n            final var caseExpression = cb.selectCase(root.get(MyEntity_.ENTITY_TO))\r\n                    .when(customerLiteral, root.get(MyEntity_.ENTITY_TO_ID)).otherwise(\r\n                            cb.selectCase(root.get(MyEntity_.ENTITY_FROM))\r\n                                    .when(customerLiteral, root.get(MyEntity_.ENTITY_FROM_ID)).otherwise(0));\r\n            final var order = ascElseDesc ? cb.asc(caseExpression) : cb.desc(caseExpression);\r\n\r\n            final var cq = cb.createQuery(MyEntity.class);\r\n            return cb.exists(cq.select(root).orderBy(order).subquery(MyEntity.class));\r\n        }\r\n);\r\n\r\nrepository.findAll(filter, pageable);\r\n```\r\n\r\nI don&#39;t want to drop the current implementation which leverages Spring Data&#39;s `findAll(filter, pageable)`. I only would like to **enrich** it in one case. How can it be done?","title":"Specify complex sorting criteria when requesting Spring Data JPA repository","body":"<p>I'm requesting paged and sorted data from my database, specified via <code>Pageable</code> with following repository API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.data.jpa.repository.JpaSpecificationExecutor.findAll(Specification&lt;MyEntity&gt; filter, Pageable pageable)\n</code></pre>\n<p><code>Pageable</code> contains a <code>Sort</code> with simple sorting criteria, such as <strong>sort column X in descending order</strong>.</p>\n<p>Sometimes, <code>Sort</code> contains one column which actually doesn't exist in the underlying table, which must be replaced by a complex conditional <code>ORDER BY</code> expression:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ORDER BY CASE WHEN entity_to='CUSTOMER' THEN entity_to_id ELSE (CASE WHEN entity_from='CUSTOMER' THEN entity_from_id END) END\n</code></pre>\n<p>Indeed, I can rebuild the <code>Sort</code> instance in <code>Pageable</code> so that this non-existing column gets removed, but I didn't find a way to inject the complex <code>ORDER BY</code> expression in that case.</p>\n<p>I tried to find a way, to enrich the resulting query from this invocation of the Repository. I hoped that I can do it by adding another <code>Specification</code> filter, but I got an error (<code>No explicit selection and an implicit one could not be determined</code>), and I'm not sure that the order-by will be applied to the final query built by the Repository implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nfilter = filter.and(\n        (root, query, cb) -&gt; {\n            final var customerLiteral = cb.literal(&quot;CUSTOMER&quot;);\n            final var caseExpression = cb.selectCase(root.get(MyEntity_.ENTITY_TO))\n                    .when(customerLiteral, root.get(MyEntity_.ENTITY_TO_ID)).otherwise(\n                            cb.selectCase(root.get(MyEntity_.ENTITY_FROM))\n                                    .when(customerLiteral, root.get(MyEntity_.ENTITY_FROM_ID)).otherwise(0));\n            final var order = ascElseDesc ? cb.asc(caseExpression) : cb.desc(caseExpression);\n\n            final var cq = cb.createQuery(MyEntity.class);\n            return cb.exists(cq.select(root).orderBy(order).subquery(MyEntity.class));\n        }\n);\n\nrepository.findAll(filter, pageable);\n</code></pre>\n<p>I don't want to drop the current implementation which leverages Spring Data's <code>findAll(filter, pageable)</code>. I only would like to <strong>enrich</strong> it in one case. How can it be done?</p>\n"},{"tags":["java","docker","kubernetes","dockerfile","kubernetes-pod"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1652338212,"post_id":72210776,"comment_id":127582978,"body_markdown":"You can pass Xms and Xmx to your deployment yaml. Then it will work.","body":"You can pass Xms and Xmx to your deployment yaml. Then it will work."},{"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"score":0,"creation_date":1652339625,"post_id":72210776,"comment_id":127583464,"body_markdown":"Hi, @Gurkanİlleez thank you for your reply. can you please how did you add it in yml?","body":"Hi, @Gurkanİlleez thank you for your reply. can you please how did you add it in yml?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1652339974,"post_id":72210776,"comment_id":127583571,"body_markdown":"sure I will add","body":"sure I will add"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652340180,"creation_date":1652340180,"answer_id":72211556,"question_id":72210776,"body_markdown":"    apiVersion: v1\r\n    kind: Pod\r\n    metadata:\r\n      name: envar-demo\r\n      labels:\r\n        purpose: demonstrate-envars\r\n    spec:\r\n      containers:\r\n      - name: envar-demo-container\r\n        image: gcr.io/google-samples/node-hello:1.0\r\n        env:\r\n        - name: DEMO_GREETING\r\n          value: &quot;Hello from the environment&quot;\r\n        - name: DEMO_FAREWELL\r\n          value: &quot;Such a sweet sorrow&quot;\r\n        - name: JAVA_ARGS\r\n          value: &quot;-Xmx1024M -Xms512M \\&quot;\r\n\r\n\r\nYou can simply pass JAVA_ARGS to deployment yaml and you can limit usage of heap. The example is taken from kubernetes official page so it is node image but you can simply add JAVA_ARGS to environment variables.\r\n\r\nReference : https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/","title":"How to set Heap Size in docker file for application running inside docker container deployed on kubernetes pod?","body":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: envar-demo\n  labels:\n    purpose: demonstrate-envars\nspec:\n  containers:\n  - name: envar-demo-container\n    image: gcr.io/google-samples/node-hello:1.0\n    env:\n    - name: DEMO_GREETING\n      value: &quot;Hello from the environment&quot;\n    - name: DEMO_FAREWELL\n      value: &quot;Such a sweet sorrow&quot;\n    - name: JAVA_ARGS\n      value: &quot;-Xmx1024M -Xms512M \\&quot;\n</code></pre>\n<p>You can simply pass JAVA_ARGS to deployment yaml and you can limit usage of heap. The example is taken from kubernetes official page so it is node image but you can simply add JAVA_ARGS to environment variables.</p>\n<p>Reference : <a href=\"https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/</a></p>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652340180,"creation_date":1652335523,"question_id":72210776,"body_markdown":"I have a docker file which looks something like this:\r\n\r\n&gt; FROM openjdk:11\r\n&gt; \r\n&gt; ADD target/test-1.0-SNAPSHOT.jar app.jar\r\n&gt; \r\n&gt; ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n\r\nMy application is containerised and running inside a K8s pod. Now I read and understand that max heap size always takes 25% of the total pod memory. (for example, if pod resource is 2048Mi then 512 MB is your heap size allocated) I do not want this default behaviour of memory allocation rather I want a custom size to specify for my heap memory. Can anyone please tell me how to do that? I have tried passing the &quot;-Xms&quot; and &quot;-Xmx&quot; parameters as shown below in my docker file but it does not work?\r\n\r\n&gt; ENTRYPOINT [&quot;java&quot;,&quot;-Xms128M&quot;,&quot;-Xmx256M&quot;,&quot;-jar&quot;, &quot;/app.jar&quot;]","title":"How to set Heap Size in docker file for application running inside docker container deployed on kubernetes pod?","body":"<p>I have a docker file which looks something like this:</p>\n<blockquote>\n<p>FROM openjdk:11</p>\n<p>ADD target/test-1.0-SNAPSHOT.jar app.jar</p>\n<p>ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]</p>\n</blockquote>\n<p>My application is containerised and running inside a K8s pod. Now I read and understand that max heap size always takes 25% of the total pod memory. (for example, if pod resource is 2048Mi then 512 MB is your heap size allocated) I do not want this default behaviour of memory allocation rather I want a custom size to specify for my heap memory. Can anyone please tell me how to do that? I have tried passing the &quot;-Xms&quot; and &quot;-Xmx&quot; parameters as shown below in my docker file but it does not work?</p>\n<blockquote>\n<p>ENTRYPOINT [&quot;java&quot;,&quot;-Xms128M&quot;,&quot;-Xmx256M&quot;,&quot;-jar&quot;, &quot;/app.jar&quot;]</p>\n</blockquote>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"display_name":"user13581830"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652339787,"creation_date":1652306159,"answer_id":72208022,"question_id":72207853,"body_markdown":"In java you can create new colors with:\r\n```java\r\nColor color = new Color(red, green, blue);\r\n```\r\n`red`, `green`, `blue` are values between 0 - 255.\r\nSo you could maybe write a function to generate 9 unique numbers from 0 - 255 and then set the the RGB values of each object.","title":"Color Randomizer for Java Pong game","body":"<p>In java you can create new colors with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Color color = new Color(red, green, blue);\n</code></pre>\n<p><code>red</code>, <code>green</code>, <code>blue</code> are values between 0 - 255.\nSo you could maybe write a function to generate 9 unique numbers from 0 - 255 and then set the the RGB values of each object.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652339682,"creation_date":1652306253,"answer_id":72208032,"question_id":72207853,"body_markdown":"A simple solution to your problem is to use `Collections.shuffle` to randomise a `List` of colors.  Then you can just pop off the next color from the `List` until you run out, at which point, you would refill the and `shuffle` the `List` again.\r\n\r\n    Color[] masterColors = new Color[] { Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN, Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE, Color.YELLOW };\r\n    List&lt;Color&gt; randomColors = new ArrayList&lt;&gt;(13);\r\n\r\n    if (randomColors.isEmpty()) {\r\n        randomColors.addAll(Arrays.asList(masterColors));\r\n        Collections.shuffle(randomColors);\r\n    }\r\n    Color color = randomColors.remove(0);\r\n\r\nTo make this work across multiple classes, you&#39;ll need to share this with each instance.  This would first require you to encapsulate the workflow, for example...\r\n\r\n    \r\n    public class ColorManager {\r\n        private Color[] masterColors = new Color[] { Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN, Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE, Color.YELLOW };\r\n        private List&lt;Color&gt; randomColors = new ArrayList&lt;&gt;(13);\r\n        \r\n        public Color next() {\r\n            if (randomColors.isEmpty()) {\r\n                randomColors.addAll(Arrays.asList(masterColors));\r\n                Collections.shuffle(randomColors);\r\n            }\r\n            return randomColors.remove(0);\r\n        }\r\n    }\r\n\r\nA shared instance of this then gets passed to each instance of the paddle and ball, which when it detects a collision, it requests the next color, based on conditions of the collision (ie wall or paddle)\r\n\r\n# Feedback...\r\n\r\nYou should not be overriding `paint` of a top level, especially `JFrame`, which is a composite component (it contains child components).\r\n\r\nSwing, if used correctly, is double buffered by default, so you don&#39;t need the backing buffer at all.  \r\n\r\nInstead, you should start with a `JPanel` and override its `paintComponent` method and use it as your primary surface.\r\n\r\nSee [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\n`KeyListener` is a poor choice for monitoring key events in this context, it&#39;s notorious for causing, seemingly random, issues.  Make use of the [Key Bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead.\r\n\r\nSwing is not thread safe (and is single threaded).  This means you should not update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread OR executing long running or blocking operations within the context of the Event Dispatching Thread.\r\n\r\nTo this end, you should not be using `Thread` (and really shouldn&#39;t be using three) to update the game state.  Instead, use a single Swing `Timer`.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","title":"Color Randomizer for Java Pong game","body":"<p>A simple solution to your problem is to use <code>Collections.shuffle</code> to randomise a <code>List</code> of colors.  Then you can just pop off the next color from the <code>List</code> until you run out, at which point, you would refill the and <code>shuffle</code> the <code>List</code> again.</p>\n<pre><code>Color[] masterColors = new Color[] { Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN, Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE, Color.YELLOW };\nList&lt;Color&gt; randomColors = new ArrayList&lt;&gt;(13);\n\nif (randomColors.isEmpty()) {\n    randomColors.addAll(Arrays.asList(masterColors));\n    Collections.shuffle(randomColors);\n}\nColor color = randomColors.remove(0);\n</code></pre>\n<p>To make this work across multiple classes, you'll need to share this with each instance.  This would first require you to encapsulate the workflow, for example...</p>\n<pre><code>public class ColorManager {\n    private Color[] masterColors = new Color[] { Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN, Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE, Color.YELLOW };\n    private List&lt;Color&gt; randomColors = new ArrayList&lt;&gt;(13);\n    \n    public Color next() {\n        if (randomColors.isEmpty()) {\n            randomColors.addAll(Arrays.asList(masterColors));\n            Collections.shuffle(randomColors);\n        }\n        return randomColors.remove(0);\n    }\n}\n</code></pre>\n<p>A shared instance of this then gets passed to each instance of the paddle and ball, which when it detects a collision, it requests the next color, based on conditions of the collision (ie wall or paddle)</p>\n<h1>Feedback...</h1>\n<p>You should not be overriding <code>paint</code> of a top level, especially <code>JFrame</code>, which is a composite component (it contains child components).</p>\n<p>Swing, if used correctly, is double buffered by default, so you don't need the backing buffer at all.</p>\n<p>Instead, you should start with a <code>JPanel</code> and override its <code>paintComponent</code> method and use it as your primary surface.</p>\n<p>See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p><code>KeyListener</code> is a poor choice for monitoring key events in this context, it's notorious for causing, seemingly random, issues.  Make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings API</a> instead.</p>\n<p>Swing is not thread safe (and is single threaded).  This means you should not update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread OR executing long running or blocking operations within the context of the Event Dispatching Thread.</p>\n<p>To this end, you should not be using <code>Thread</code> (and really shouldn't be using three) to update the game state.  Instead, use a single Swing <code>Timer</code>.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a></p>\n"}],"owner":{"account_id":18546409,"reputation":11,"user_id":13513663,"display_name":"GBKiryu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652339787,"creation_date":1652304974,"question_id":72207853,"body_markdown":"I&#39;m trying to alter this java pong game code in a way so that the color of the background, ball and paddles changes whenever the ball hits either the paddles or walls, but make it so that none of are the same color so that way the players can still see where they are. Any idea on how I can do so?\r\n\r\nMain\r\n```\r\npackage ponggame;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.*;\r\n\r\npublic class pong extends JFrame {\r\n\t\r\n\t//Sets screen dimensions.\r\n\tint ScreenWidth = 500;\r\n\tint ScreenHeight = 400;\r\n\tDimension screenSize = new Dimension(ScreenWidth, ScreenHeight);\r\n\t\r\n\tImage dbImage;\r\n\tGraphics dbGraphics;\r\n\t\r\n\t//sets the ball object\r\n\tstatic pongball b = new pongball(250, 200);\r\n\t\r\n\t\r\n\t//constructor for application window\r\n\tpublic pong() {\r\n\t\tthis.setTitle(&quot;Pong&quot;);\r\n\t\tthis.setSize(screenSize);\r\n\t\tthis.setResizable(false);\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setBackground(Color.black);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.addKeyListener(new AL());\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tpong pg = new pong();\r\n\t\t\r\n\t\t//creates and starts threads.\r\n\t\tThread pongball = new Thread(b);\r\n\t\tpongball.start();\r\n\t\tThread p1 = new Thread(b.p1);\r\n\t\tThread p2 = new Thread(b.p2);\r\n\t\tp2.start();\r\n\t\tp1.start();\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tdbImage = createImage(getWidth(), getHeight());\r\n\t\tdbGraphics = dbImage.getGraphics();\r\n\t\tdraw(dbGraphics);\r\n\t\tg.drawImage(dbImage, 0, 0, this);\r\n\t}\r\n\t\r\n\tpublic void draw(Graphics g) {\r\n\t\tb.draw(g);\r\n\t\tb.p1.draw(g);\r\n\t\tb.p2.draw(g);\r\n\t\t\r\n\t\tg.setColor(Color.white);\r\n\t\tg.drawString(&quot;&quot;+b.p1score, 15, 20);\r\n\t\tg.drawString(&quot;&quot;+b.p2score, 385, 20);\r\n\t\t\r\n\t\trepaint();\r\n\t}\r\n\t\r\n\tpublic class AL extends KeyAdapter {\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tb.p1.keyPressed(e);\r\n\t\t\tb.p2.keyPressed(e);\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\tb.p1.keyReleased(e);\r\n\t\t\tb.p2.keyReleased(e);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\nBall\r\n```\r\npackage ponggame;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Rectangle;\r\nimport java.util.Random;\r\n\r\n\r\npublic class pongball implements Runnable {\r\n\r\n\t//global variables\r\n\tint x;\r\n\tint y; \r\n\tint yDirection; \r\n\tint xDirection;\r\n\t\r\n\tint p1score, p2score;\r\n\t\r\n\t//Sets position of the paddles when running the code\r\n\tpongpaddle p1 = new pongpaddle(10, 25, 1);\r\n\tpongpaddle p2 = new pongpaddle(485, 25, 2);\r\n\t\r\n\tRectangle ball;\r\n\r\n\t\r\n\tpublic pongball(int x, int y){\r\n\t\tp1score = p2score = 0;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\t\r\n\t\t//Sets the ball to move randomly\r\n\t\tRandom r = new Random();\r\n\t\tint rXDir = r.nextInt(1);\r\n\t\tif (rXDir == 0)\r\n\t\t\trXDir--;\r\n\t\tsettingXDirection(rXDir);\r\n\t\t\r\n\t\tint rYDir = r.nextInt(1);\r\n\t\tif (rYDir == 0)\r\n\t\t\trYDir--;\r\n\t\tsettingYDirection(rYDir);\r\n\t\t\r\n\t\t//creates the &quot;ball&quot; on the application screen\r\n\t\tball = new Rectangle(this.x, this.y, 15, 15);\r\n\t}\r\n\t\r\n\tpublic void settingXDirection(int xDir){\r\n\t\txDirection = xDir;\r\n\t}\r\n\tpublic void settingYDirection(int yDir){\r\n\t\tyDirection = yDir;\r\n\t}\r\n\t\r\n\t//parameters and dimensions of the ball\r\n\tpublic void draw(Graphics g) {\r\n\t\tg.setColor(Color.WHITE);\r\n\t\tg.fillRect(ball.x, ball.y, ball.width, ball.height);\r\n\t}\r\n\t\r\n\t//movement of ball when colliding with paddles\r\n\tpublic void collision(){\r\n        if(ball.intersects(p1.paddle))\r\n            settingXDirection(+1);\r\n        if(ball.intersects(p2.paddle))\r\n            settingXDirection(-1);\r\n\t}\t\r\n\t\r\n\tpublic void move() {\r\n\t\tcollision();\r\n\t\tball.x += xDirection;\r\n\t\tball.y += yDirection;\r\n\t\t//causes the ball to bounce when it hits the edge of the screen\r\n\t\tif (ball.x &lt;= 0) {\r\n\t\t\tsettingXDirection(+1);\r\n\t\t\tp2score++;\r\n\t\t\t\r\n\t}\r\n\t\tif (ball.x &gt;= 485) {\r\n\t\t\tsettingXDirection(-1);\r\n\t\t\tp1score++;\r\n\t\t}\r\n\t\t\r\n\t\tif (ball.y &lt;= 15) {\r\n\t\t\tsettingYDirection(+1);\r\n\t\t}\r\n\t\t\r\n\t\tif (ball.y &gt;= 385) {\r\n\t\t\tsettingYDirection(-1);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\twhile(true) {\r\n\t\t\t\tmove();\r\n\t\t\t\tThread.sleep(8);\r\n\t\t\t}\r\n\t\t}catch(Exception e) { System.err.println(e.getMessage()); }\r\n\r\n\t}\r\n\r\n}\r\n```\r\nPaddle\r\n```\r\npackage ponggame;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class pongpaddle implements Runnable{\r\n\t\r\n\t\r\n\tint x;\r\n\tint y; \r\n\tint yDirection; \r\n\tint id;\r\n\t\r\n\tRectangle paddle;\r\n\t\r\n\tpublic pongpaddle(int x, int y, int id){\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.id = id;\r\n\t\tpaddle = new Rectangle(x, y, 10, 75);\r\n\t}\r\n\t\t\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tswitch(id) {\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;Please enter a valid input&quot;);\r\n\t\t\tbreak;\r\n\t//Movement for left paddle when W and S keys are pressed\r\n\t\tcase 1:\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_W) {\r\n\t\t\t\tsetYDirection(-1);\r\n\t\t\t}\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_S) {\r\n\t\t\t\tsetYDirection(1);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t//Movement for right paddle when UP and DOWN keys are pressed\r\n\t\tcase 2:\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_UP) {\r\n\t\t\t\tsetYDirection(-1);\r\n\t\t\t}\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\t\t\t\tsetYDirection(1);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n\t}\r\n\t\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\tswitch(id) {\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;Please enter a valid input&quot;);\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\tif(e.getKeyCode() == e.VK_UP) {\r\n\t\t\tsetYDirection(0);\r\n\t\t}\r\n\t\tif(e.getKeyCode() == e.VK_DOWN) {\r\n\t\t\tsetYDirection(0);\r\n\t\t}\r\n\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\t\r\n\t\tif(e.getKeyCode() == e.VK_W) {\r\n\t\t\tsetYDirection(0);\r\n\t\t}\r\n\t\tif(e.getKeyCode() == e.VK_S) {\r\n\t\t\tsetYDirection(0);\r\n\t\t}\r\n\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setYDirection(int yDir) {\r\n\t\tyDirection = yDir;\r\n\t}\r\n\t\r\n\t//sets the limits of movementmaking it so that the paddles don&#39;t just fall out the screen\r\n\tpublic void move() {\r\n\t \tpaddle.y += yDirection;\r\n\t \tif (paddle.y &lt;= 15)\r\n\t \t\tpaddle.y = 15;\r\n\t \tif (paddle.y &gt;= 340)\r\n\t \t\tpaddle.y = 340;\r\n\t}\r\n\t\r\n\r\n\tpublic void draw(Graphics g) {\r\n\t\tswitch(id) {\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;Please enter a Valid ID in paddle contructor&quot;);\r\n\t\t\tbreak;\r\n\t\t//Sets the paddles, using dimensions from Rectangle paddle\r\n\t\tcase 1:\r\n\t\t\tg.setColor(Color.WHITE);\r\n\t\t\tg.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tg.setColor(Color.RED);\r\n\t\t\tg.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\twhile(true) {\r\n\t\t\t\tmove();\r\n\t\t\t\tThread.sleep(7);\r\n\t\t\t}\r\n\t\t} catch(Exception e) { System.err.println(e.getMessage()); }\r\n\t}\r\n\r\n}\r\n```","title":"Color Randomizer for Java Pong game","body":"<p>I'm trying to alter this java pong game code in a way so that the color of the background, ball and paddles changes whenever the ball hits either the paddles or walls, but make it so that none of are the same color so that way the players can still see where they are. Any idea on how I can do so?</p>\n<p>Main</p>\n<pre><code>package ponggame;\n\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\npublic class pong extends JFrame {\n    \n    //Sets screen dimensions.\n    int ScreenWidth = 500;\n    int ScreenHeight = 400;\n    Dimension screenSize = new Dimension(ScreenWidth, ScreenHeight);\n    \n    Image dbImage;\n    Graphics dbGraphics;\n    \n    //sets the ball object\n    static pongball b = new pongball(250, 200);\n    \n    \n    //constructor for application window\n    public pong() {\n        this.setTitle(&quot;Pong&quot;);\n        this.setSize(screenSize);\n        this.setResizable(false);\n        this.setVisible(true);\n        this.setBackground(Color.black);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.addKeyListener(new AL());\n    }\n    \n    public static void main(String[] args) {\n        pong pg = new pong();\n        \n        //creates and starts threads.\n        Thread pongball = new Thread(b);\n        pongball.start();\n        Thread p1 = new Thread(b.p1);\n        Thread p2 = new Thread(b.p2);\n        p2.start();\n        p1.start();\n        \n    }\n    \n    @Override\n    public void paint(Graphics g) {\n        dbImage = createImage(getWidth(), getHeight());\n        dbGraphics = dbImage.getGraphics();\n        draw(dbGraphics);\n        g.drawImage(dbImage, 0, 0, this);\n    }\n    \n    public void draw(Graphics g) {\n        b.draw(g);\n        b.p1.draw(g);\n        b.p2.draw(g);\n        \n        g.setColor(Color.white);\n        g.drawString(&quot;&quot;+b.p1score, 15, 20);\n        g.drawString(&quot;&quot;+b.p2score, 385, 20);\n        \n        repaint();\n    }\n    \n    public class AL extends KeyAdapter {\n        @Override\n        public void keyPressed(KeyEvent e) {\n            b.p1.keyPressed(e);\n            b.p2.keyPressed(e);\n        }\n        @Override\n        public void keyReleased(KeyEvent e) {\n            b.p1.keyReleased(e);\n            b.p2.keyReleased(e);\n        }\n        \n    }\n}\n</code></pre>\n<p>Ball</p>\n<pre><code>package ponggame;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.util.Random;\n\n\npublic class pongball implements Runnable {\n\n    //global variables\n    int x;\n    int y; \n    int yDirection; \n    int xDirection;\n    \n    int p1score, p2score;\n    \n    //Sets position of the paddles when running the code\n    pongpaddle p1 = new pongpaddle(10, 25, 1);\n    pongpaddle p2 = new pongpaddle(485, 25, 2);\n    \n    Rectangle ball;\n\n    \n    public pongball(int x, int y){\n        p1score = p2score = 0;\n        this.x = x;\n        this.y = y;\n        \n        //Sets the ball to move randomly\n        Random r = new Random();\n        int rXDir = r.nextInt(1);\n        if (rXDir == 0)\n            rXDir--;\n        settingXDirection(rXDir);\n        \n        int rYDir = r.nextInt(1);\n        if (rYDir == 0)\n            rYDir--;\n        settingYDirection(rYDir);\n        \n        //creates the &quot;ball&quot; on the application screen\n        ball = new Rectangle(this.x, this.y, 15, 15);\n    }\n    \n    public void settingXDirection(int xDir){\n        xDirection = xDir;\n    }\n    public void settingYDirection(int yDir){\n        yDirection = yDir;\n    }\n    \n    //parameters and dimensions of the ball\n    public void draw(Graphics g) {\n        g.setColor(Color.WHITE);\n        g.fillRect(ball.x, ball.y, ball.width, ball.height);\n    }\n    \n    //movement of ball when colliding with paddles\n    public void collision(){\n        if(ball.intersects(p1.paddle))\n            settingXDirection(+1);\n        if(ball.intersects(p2.paddle))\n            settingXDirection(-1);\n    }   \n    \n    public void move() {\n        collision();\n        ball.x += xDirection;\n        ball.y += yDirection;\n        //causes the ball to bounce when it hits the edge of the screen\n        if (ball.x &lt;= 0) {\n            settingXDirection(+1);\n            p2score++;\n            \n    }\n        if (ball.x &gt;= 485) {\n            settingXDirection(-1);\n            p1score++;\n        }\n        \n        if (ball.y &lt;= 15) {\n            settingYDirection(+1);\n        }\n        \n        if (ball.y &gt;= 385) {\n            settingYDirection(-1);\n        }\n    }\n    \n    @Override\n    public void run() {\n        try {\n            while(true) {\n                move();\n                Thread.sleep(8);\n            }\n        }catch(Exception e) { System.err.println(e.getMessage()); }\n\n    }\n\n}\n</code></pre>\n<p>Paddle</p>\n<pre><code>package ponggame;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.KeyEvent;\n\npublic class pongpaddle implements Runnable{\n    \n    \n    int x;\n    int y; \n    int yDirection; \n    int id;\n    \n    Rectangle paddle;\n    \n    public pongpaddle(int x, int y, int id){\n        this.x = x;\n        this.y = y;\n        this.id = id;\n        paddle = new Rectangle(x, y, 10, 75);\n    }\n        \n    public void keyPressed(KeyEvent e) {\n        switch(id) {\n        default:\n            System.out.println(&quot;Please enter a valid input&quot;);\n            break;\n    //Movement for left paddle when W and S keys are pressed\n        case 1:\n            if(e.getKeyCode() == KeyEvent.VK_W) {\n                setYDirection(-1);\n            }\n            if(e.getKeyCode() == KeyEvent.VK_S) {\n                setYDirection(1);\n            }\n            break;\n    //Movement for right paddle when UP and DOWN keys are pressed\n        case 2:\n            if(e.getKeyCode() == KeyEvent.VK_UP) {\n                setYDirection(-1);\n            }\n            if(e.getKeyCode() == KeyEvent.VK_DOWN) {\n                setYDirection(1);\n            }\n            break;\n    }\n    }\n    \n    public void keyReleased(KeyEvent e) {\n        switch(id) {\n        default:\n            System.out.println(&quot;Please enter a valid input&quot;);\n            break;\n        case 1:\n        if(e.getKeyCode() == e.VK_UP) {\n            setYDirection(0);\n        }\n        if(e.getKeyCode() == e.VK_DOWN) {\n            setYDirection(0);\n        }\n        break;\n        case 2:\n            \n        if(e.getKeyCode() == e.VK_W) {\n            setYDirection(0);\n        }\n        if(e.getKeyCode() == e.VK_S) {\n            setYDirection(0);\n        }\n        break;\n        }\n    }\n    \n    public void setYDirection(int yDir) {\n        yDirection = yDir;\n    }\n    \n    //sets the limits of movementmaking it so that the paddles don't just fall out the screen\n    public void move() {\n        paddle.y += yDirection;\n        if (paddle.y &lt;= 15)\n            paddle.y = 15;\n        if (paddle.y &gt;= 340)\n            paddle.y = 340;\n    }\n    \n\n    public void draw(Graphics g) {\n        switch(id) {\n        default:\n            System.out.println(&quot;Please enter a Valid ID in paddle contructor&quot;);\n            break;\n        //Sets the paddles, using dimensions from Rectangle paddle\n        case 1:\n            g.setColor(Color.WHITE);\n            g.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);\n            break;\n        case 2:\n            g.setColor(Color.RED);\n            g.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);\n            break;\n        }\n    }\n    @Override\n    public void run() {\n        try {\n            while(true) {\n                move();\n                Thread.sleep(7);\n            }\n        } catch(Exception e) { System.err.println(e.getMessage()); }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hdf5"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1488544270,"post_id":42578787,"comment_id":72290388,"body_markdown":"Maybe you are a victim of GC, how much memory give you to your java program, what is the size of the Double[][] array?","body":"Maybe you are a victim of GC, how much memory give you to your java program, what is the size of the Double[][] array?"},{"owner":{"account_id":3541261,"reputation":35,"user_id":2958309,"accept_rate":100,"display_name":"blondie"},"score":0,"creation_date":1488544719,"post_id":42578787,"comment_id":72290701,"body_markdown":"Size of the array is 506,000 * 357 = 180,642,000. And I use default memory setup. But when I look at htop, it&#39;s not using 100% of the memory...","body":"Size of the array is 506,000 * 357 = 180,642,000. And I use default memory setup. But when I look at htop, it&#39;s not using 100% of the memory..."},{"owner":{"account_id":4520100,"reputation":259,"user_id":3899226,"display_name":"user153245"},"score":0,"creation_date":1499699288,"post_id":42578787,"comment_id":77004978,"body_markdown":"@blondie, Hi, I have the same problem. Have you found any solution for the problem? If so, please answer your question. Thanks.","body":"@blondie, Hi, I have the same problem. Have you found any solution for the problem? If so, please answer your question. Thanks."},{"owner":{"account_id":3541261,"reputation":35,"user_id":2958309,"accept_rate":100,"display_name":"blondie"},"score":0,"creation_date":1499789963,"post_id":42578787,"comment_id":77053707,"body_markdown":"Hi @user153245. No I haven&#39;t found the solution. Ended up not using H5... There&#39;s also not a lot of documentation on how to use H5 files in general.","body":"Hi @user153245. No I haven&#39;t found the solution. Ended up not using H5... There&#39;s also not a lot of documentation on how to use H5 files in general."}],"answers":[{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556722931,"creation_date":1556722931,"answer_id":55938306,"question_id":42578787,"body_markdown":"I think the issue is that your reading the data into 2D array `Double[][]`. When you do this the HDF5 implementation is very slow (think the issue is probably in `HDFArray.arrayify`). Try reading the data into a 1D `double[]`. \r\n\r\nAlso you are using boxed `Double` it would probably be better to use primative `double`.","title":"H5 file reading very slow with Java","body":"<p>I think the issue is that your reading the data into 2D array <code>Double[][]</code>. When you do this the HDF5 implementation is very slow (think the issue is probably in <code>HDFArray.arrayify</code>). Try reading the data into a 1D <code>double[]</code>. </p>\n\n<p>Also you are using boxed <code>Double</code> it would probably be better to use primative <code>double</code>.</p>\n"}],"owner":{"account_id":3541261,"reputation":35,"user_id":2958309,"accept_rate":100,"display_name":"blondie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652339558,"creation_date":1488543708,"question_id":42578787,"body_markdown":"I have a Java program using the H5 libraries that tries to read a dataset in a H5 file with the following properties:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GFrSR.png\r\n\r\nThe file&#39;s size is 769M.\r\n\r\nThe code that reads the dataset is the following (very simple):\r\n\r\n    // Open file using the default properties.\r\n    fileId = H5.H5Fopen(filepath, HDF5Constants.H5F_ACC_RDONLY, HDF5Constants.H5P_DEFAULT);\r\n    // Open dataset using the default properties.\r\n    if (fileId &gt;= 0) {\r\n       datasetId = H5.H5Dopen(fileId, &quot;/data/0_u0/20050103&quot;, HDF5Constants.H5P_DEFAULT);\r\n    }\r\n\r\n    if (datasetId &gt;= 0) {\r\n       dataSpaceId = H5.H5Dget_space(datasetId);\r\n    }\r\n\r\n    // Get the dimensions of the dataset\r\n    int ndims = -1;\r\n    if (dataSpaceId &gt;= 0)\r\n       ndims = H5.H5Sget_simple_extent_ndims(dataSpaceId);\r\n    \r\n    if (ndims &gt; 0) {\r\n        long[] dims = new long[ndims];\r\n        H5.H5Sget_simple_extent_dims(dataSpaceId, dims, null);\r\n        H5.H5Sclose(dataSpaceId);\r\n\r\n        int dimX = (int)dims[0];\r\n        int dimY = (int)dims[1];\r\n\r\n        Double[][] dsetData = new Double[dimX][dimY];\r\n        H5.H5Dread(datasetId, HDF5Constants.H5T_NATIVE_DOUBLE,\r\n                   HDF5Constants.H5S_ALL, HDF5Constants.H5S_ALL,\r\n                   HDF5Constants.H5P_DEFAULT, dsetData);\r\n    }\r\n\r\nAnd it takes forever (more than 15 minutes, I stopped after that).\r\nWhat I don&#39;t understand is that I also have kind of the same code in Python, and it takes a few seconds.\r\n\r\nWhen I debug the Java program and stop in the middle execution, it&#39;s in the byteToDouble() function of the H5 lib. It&#39;s a lot of double, but should not take that much time right?\r\n\r\nThanks for your help!\r\n","title":"H5 file reading very slow with Java","body":"<p>I have a Java program using the H5 libraries that tries to read a dataset in a H5 file with the following properties:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GFrSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GFrSR.png\" alt=\"enter image description here\"></a></p>\n\n<p>The file's size is 769M.</p>\n\n<p>The code that reads the dataset is the following (very simple):</p>\n\n<pre><code>// Open file using the default properties.\nfileId = H5.H5Fopen(filepath, HDF5Constants.H5F_ACC_RDONLY, HDF5Constants.H5P_DEFAULT);\n// Open dataset using the default properties.\nif (fileId &gt;= 0) {\n   datasetId = H5.H5Dopen(fileId, \"/data/0_u0/20050103\", HDF5Constants.H5P_DEFAULT);\n}\n\nif (datasetId &gt;= 0) {\n   dataSpaceId = H5.H5Dget_space(datasetId);\n}\n\n// Get the dimensions of the dataset\nint ndims = -1;\nif (dataSpaceId &gt;= 0)\n   ndims = H5.H5Sget_simple_extent_ndims(dataSpaceId);\n\nif (ndims &gt; 0) {\n    long[] dims = new long[ndims];\n    H5.H5Sget_simple_extent_dims(dataSpaceId, dims, null);\n    H5.H5Sclose(dataSpaceId);\n\n    int dimX = (int)dims[0];\n    int dimY = (int)dims[1];\n\n    Double[][] dsetData = new Double[dimX][dimY];\n    H5.H5Dread(datasetId, HDF5Constants.H5T_NATIVE_DOUBLE,\n               HDF5Constants.H5S_ALL, HDF5Constants.H5S_ALL,\n               HDF5Constants.H5P_DEFAULT, dsetData);\n}\n</code></pre>\n\n<p>And it takes forever (more than 15 minutes, I stopped after that).\nWhat I don't understand is that I also have kind of the same code in Python, and it takes a few seconds.</p>\n\n<p>When I debug the Java program and stop in the middle execution, it's in the byteToDouble() function of the H5 lib. It's a lot of double, but should not take that much time right?</p>\n\n<p>Thanks for your help!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8638,"page":1354,"page_size":100}
