{"items":[{"tags":["java","kotlin","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":11436413,"reputation":179,"user_id":8383688,"display_name":"Laughing_Man"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1658386990,"creation_date":1658307679,"answer_id":73048716,"question_id":73047797,"body_markdown":"The problem was that to save an object we need to use `.flatMap` not just `.map`. Because `.map` just transforms elements and `.flatMap` converts them to new **Publishers**.\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"How to update a Webflux object from repository and save it back","body":"<p>The problem was that to save an object we need to use <code>.flatMap</code> not just <code>.map</code>. Because <code>.map</code> just transforms elements and <code>.flatMap</code> converts them to new <strong>Publishers</strong>.\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html</a></p>\n"}],"owner":{"account_id":11436413,"reputation":179,"user_id":8383688,"display_name":"Laughing_Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73048716,"answer_count":1,"score":0,"last_activity_date":1658386990,"creation_date":1658303274,"question_id":73047797,"body_markdown":"I want to 1) get an object from my repository, 2) update that object and then 3) save it back.\r\n\r\nI&#39;ve already done first two things:\r\n\r\n    fun updateUniversity(id: ObjectId,\r\n                         newName: String,\r\n                         newCity: String,\r\n                         newYearOfFoundation: Int): Mono&lt;University&gt; {\r\n        return universityRepository\r\n            .findById(id)\r\n            .switchIfEmpty(Mono.error(NoSuchElementException()))\r\n            .map {\r\n                if (newCity.isNotEmpty()) it.city = newCity\r\n                if (newName.isNotEmpty()) it.name = newName\r\n                if (newYearOfFoundation != -1) it.yearOfFoundation = newYearOfFoundation\r\n                return@map it\r\n            }\r\n    }\r\n\r\nBut I can&#39;t save the result. If I try to save my object through map `.map{ universityRepository.save(it) }` I get an error Type Mismatch, cause it returns Mono in Mono.\r\n\r\n`.then{ universityRepository.save(it) }` also is not my case, because I need to pass a value (which I don&#39;t have) in save function.\r\n\r\nI can call `.block()` but it smells too.\r\n\r\nSo could anyone show what the last line should be to save my updated object back in the repository?","title":"How to update a Webflux object from repository and save it back","body":"<p>I want to 1) get an object from my repository, 2) update that object and then 3) save it back.</p>\n<p>I've already done first two things:</p>\n<pre><code>fun updateUniversity(id: ObjectId,\n                     newName: String,\n                     newCity: String,\n                     newYearOfFoundation: Int): Mono&lt;University&gt; {\n    return universityRepository\n        .findById(id)\n        .switchIfEmpty(Mono.error(NoSuchElementException()))\n        .map {\n            if (newCity.isNotEmpty()) it.city = newCity\n            if (newName.isNotEmpty()) it.name = newName\n            if (newYearOfFoundation != -1) it.yearOfFoundation = newYearOfFoundation\n            return@map it\n        }\n}\n</code></pre>\n<p>But I can't save the result. If I try to save my object through map <code>.map{ universityRepository.save(it) }</code> I get an error Type Mismatch, cause it returns Mono in Mono.</p>\n<p><code>.then{ universityRepository.save(it) }</code> also is not my case, because I need to pass a value (which I don't have) in save function.</p>\n<p>I can call <code>.block()</code> but it smells too.</p>\n<p>So could anyone show what the last line should be to save my updated object back in the repository?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":1,"creation_date":1597932272,"post_id":63506136,"comment_id":112298657,"body_markdown":"Does https://stackoverflow.com/a/63401555/7975771 help you?","body":"Does <a href=\"https://stackoverflow.com/a/63401555/7975771\">stackoverflow.com/a/63401555/7975771</a> help you?"},{"owner":{"display_name":"user14104736"},"score":1,"creation_date":1597991717,"post_id":63506136,"comment_id":112317802,"body_markdown":"Yaa It&#39;s helpful","body":"Yaa It&#39;s helpful"}],"answers":[{"tags":[],"owner":{"account_id":21983723,"reputation":670,"user_id":16258342,"display_name":"Pranta Palit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658386586,"creation_date":1658386586,"answer_id":73061903,"question_id":63506136,"body_markdown":"You can create an object-list (ex: contents) with updated data and use `contentRepository.saveAll(contents);` It will update using one db call.","title":"How to update multiple record at once/one db interaction in mongodb using springboot application","body":"<p>You can create an object-list (ex: contents) with updated data and use <code>contentRepository.saveAll(contents);</code> It will update using one db call.</p>\n"}],"owner":{"display_name":"user14104736"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658386586,"creation_date":1597929990,"question_id":63506136,"body_markdown":"I have a requirement where i have 100 plus data in mongodb collection ,i need to update each object in the collection but mongoTemplate.findAndModify will update one at a time .So here db interaction will be 100 which is not effective.I need to do update using one db call.Is there any approach. ","title":"How to update multiple record at once/one db interaction in mongodb using springboot application","body":"<p>I have a requirement where i have 100 plus data in mongodb collection ,i need to update each object in the collection but mongoTemplate.findAndModify will update one at a time .So here db interaction will be 100 which is not effective.I need to do update using one db call.Is there any approach.</p>\n"},{"tags":["java","spring","plsql","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":4746850,"reputation":1232,"user_id":3837961,"display_name":"Bartosz Olchowik"},"score":0,"creation_date":1658837514,"post_id":73061887,"comment_id":129146433,"body_markdown":"Can you show your stored procedure declaration ?","body":"Can you show your stored procedure declaration ?"}],"owner":{"account_id":13859672,"reputation":139,"user_id":10005612,"display_name":"Nirmal Khedkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658386494,"creation_date":1658386494,"question_id":73061887,"body_markdown":"For example, in JDBC we specify `typeName` the following way:\r\n```\r\nString procedure = &quot;{? = call CREATE_A_PERSON (?)}&quot;;\r\nCallableStatement statement = conn.prepareCall(procedure);\r\nstatement.registerOutParameter(1, java.sql.Types.STRUCT, &quot;UDO_PERSON&quot;);\r\nstatement.setString(2, &quot;YOURE NAME&quot;);\r\nstatement.execute();\r\n```\r\n\r\nAs mentioned [in this answer on StackOverflow](https://stackoverflow.com/questions/8286769/how-do-i-call-by-jdbc-a-pl-sql-function-that-returns-an-udo-and-interpret-that-r/8293991#8293991).\r\n\r\nIn R2DBC, the same can be done using `Parameters.in` or `Parameters.out`. But for objects like arrays or structures, I&#39;ve not been able to find any way to pass the `typeName` (`UDO_PERSON` in above) to the connection statement. How do I do that?\r\n\r\n```\r\nParameters.out(R2dbcType.COLLECTION,&quot;UDO_PERSON&quot;)\r\n```\r\nThe above throws a &quot;cannot resolve method&quot; error.","title":"How to specify parameter type in R2DBC when using stored procedures?","body":"<p>For example, in JDBC we specify <code>typeName</code> the following way:</p>\n<pre><code>String procedure = &quot;{? = call CREATE_A_PERSON (?)}&quot;;\nCallableStatement statement = conn.prepareCall(procedure);\nstatement.registerOutParameter(1, java.sql.Types.STRUCT, &quot;UDO_PERSON&quot;);\nstatement.setString(2, &quot;YOURE NAME&quot;);\nstatement.execute();\n</code></pre>\n<p>As mentioned <a href=\"https://stackoverflow.com/questions/8286769/how-do-i-call-by-jdbc-a-pl-sql-function-that-returns-an-udo-and-interpret-that-r/8293991#8293991\">in this answer on StackOverflow</a>.</p>\n<p>In R2DBC, the same can be done using <code>Parameters.in</code> or <code>Parameters.out</code>. But for objects like arrays or structures, I've not been able to find any way to pass the <code>typeName</code> (<code>UDO_PERSON</code> in above) to the connection statement. How do I do that?</p>\n<pre><code>Parameters.out(R2dbcType.COLLECTION,&quot;UDO_PERSON&quot;)\n</code></pre>\n<p>The above throws a &quot;cannot resolve method&quot; error.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658386320,"creation_date":1658386320,"answer_id":73061845,"question_id":73059253,"body_markdown":"It&#39;s not Hibernate but Spring Data JPA.\r\n\r\nAnd it creates Criteria API queries.\r\n\r\nYou can checkout the code here:\r\nhttps://github.com/spring-projects/spring-data-jpa","title":"How are derived query methods implemented in Hibernate?","body":"<p>It's not Hibernate but Spring Data JPA.</p>\n<p>And it creates Criteria API queries.</p>\n<p>You can checkout the code here:\n<a href=\"https://github.com/spring-projects/spring-data-jpa\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa</a></p>\n"}],"owner":{"account_id":357788,"reputation":1967,"user_id":698182,"accept_rate":57,"display_name":"ekcrisp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658386320,"creation_date":1658360884,"question_id":73059253,"body_markdown":"In Hibernate you can use the method name on a repository interface to define a query. I am curious about how this is implemented in hibernate, what does the generated concrete implementation use? Criteria API? Raw query SQL? Something else? Also when/how do these methods get generated? Is it when the app starts?","title":"How are derived query methods implemented in Hibernate?","body":"<p>In Hibernate you can use the method name on a repository interface to define a query. I am curious about how this is implemented in hibernate, what does the generated concrete implementation use? Criteria API? Raw query SQL? Something else? Also when/how do these methods get generated? Is it when the app starts?</p>\n"},{"tags":["java","input","methods","nosuchelementexception"],"comments":[{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1658242921,"post_id":73039264,"comment_id":129000454,"body_markdown":"I&#39;m confused. Did you use ``keyboard.close()`` on _all four_ functions? Also note that Java has garbage collection, though I may be misunderstanding the context of &quot;resource leak&quot;.","body":"I&#39;m confused. Did you use <code>keyboard.close()</code> on <i>all four</i> functions? Also note that Java has garbage collection, though I may be misunderstanding the context of &quot;resource leak&quot;."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1658242956,"post_id":73039264,"comment_id":129000474,"body_markdown":"Don&#39;t use `double` for currency [Why not use Double or Float to represent currency?](https://stackoverflow.com/q/3730019/2670892)","body":"Don&#39;t use <code>double</code> for currency <a href=\"https://stackoverflow.com/q/3730019/2670892\">Why not use Double or Float to represent currency?</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1658243203,"post_id":73039264,"comment_id":129000597,"body_markdown":"You should not close a `Scanner` that is wrapping `System.in` since you did not open `System.in`. If you are getting a warning, the warning is simply incorrect. However, there is no need to create it four times. You can create one `Scanner` in your `main` method and pass it as a parameter to all the methods that need to use it.","body":"You should not close a <code>Scanner</code> that is wrapping <code>System.in</code> since you did not open <code>System.in</code>. If you are getting a warning, the warning is simply incorrect. However, there is no need to create it four times. You can create one <code>Scanner</code> in your <code>main</code> method and pass it as a parameter to all the methods that need to use it."}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658243779,"creation_date":1658243779,"answer_id":73039531,"question_id":73039264,"body_markdown":"You don&#39;t need to close Scanner that is wrapping System.in as David Conrad pointed in the comments. Normally you should have one Scanner associated with System.in. On your place I will created it in main method and pass it as parameter in the methods.\r\n\r\nIf you really do not want to be show this warning you can add ` @SuppressWarnings(&quot;resource&quot;)` on the top of the scanner.\r\n\r\n     //Running \r\n    public static void main(String[] args) \r\n    {\r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner keyboard = new Scanner(System.in);\r\n        requestAmount(keyboard);\r\n        requestRate(keyboard);\r\n        displayResult();\r\n        \r\n    }","title":"Not sure how to close inputs correctly","body":"<p>You don't need to close Scanner that is wrapping System.in as David Conrad pointed in the comments. Normally you should have one Scanner associated with System.in. On your place I will created it in main method and pass it as parameter in the methods.</p>\n<p>If you really do not want to be show this warning you can add <code> @SuppressWarnings(&quot;resource&quot;)</code> on the top of the scanner.</p>\n<pre><code> //Running \npublic static void main(String[] args) \n{\n    @SuppressWarnings(&quot;resource&quot;)\n    Scanner keyboard = new Scanner(System.in);\n    requestAmount(keyboard);\n    requestRate(keyboard);\n    displayResult();\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25845650,"reputation":1,"user_id":19580548,"display_name":"user19580548"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658386247,"creation_date":1658242764,"question_id":73039264,"body_markdown":"I have some code in which multiple methods use the keyboard, and are called consecutively in the main method. The exercise I am doing specifically asks for the 4 separate methods so I cannot put them altogether. Originally, I used `keyboard.close()` at the end of each method, but this would cause a `NoSuchElementException` when the second method is run, regardless of the order they&#39;re called. By removing the `keyboard.close()`, the code now works, however I now have warnings for a resource leak as the keyboard isn&#39;t closed. Can anyone point me to a way to close the inputs without getting an error? Any help would be greatly appreciated. \r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class CurrencyConverter {\r\n    static double money;\r\n    static double xr;\r\n\r\n    //Running \r\n    public static void main(String[] args)\r\n    {\r\n\r\n        requestAmount();\r\n        requestRate();\r\n        displayResult();\r\n\r\n    }\r\n\r\n    //Retrieving amount of money to be exchanged based on user input\r\n    public static void requestAmount()\r\n    {\r\n        System.out.println(&quot;Please enter quanitity of money to be exchanged:&quot;);\r\n        Scanner keyboard = new Scanner(System.in);\r\n        money = keyboard.nextDouble();\r\n    }\r\n\r\n    //Retrieving exchange rate from user input\r\n    public static void requestRate()\r\n    {\r\n        System.out.println(&quot;Please enter exchange rate:&quot;);\r\n        Scanner keyboard = new Scanner(System.in);\r\n        xr = keyboard.nextDouble();\r\n    }\r\n\r\n    //Converting currency\r\n    public static double conversionCalculator(double moneyIn, double xrIn)\r\n    {\r\n        return moneyIn*xrIn;\r\n    }\r\n\r\n    //Display amount of converted currency\r\n    public static void displayResult()\r\n    {\r\n        System.out.println(&quot;Amount of currency post-conversion = &quot; + conversionCalculator(money, xr));\r\n    }\r\n\r\n\r\n}\r\n    \r\n/*\r\nDesign and implement a program that converts a sum of money to a different\r\ncurrency. The amount of money to be converted, and the exchange rate, are\r\nentered by the user. The program should have separate methods for:\r\n• obtaining the sum of money from the user;\r\n• obtaining the exchange rate from the user;\r\n• making the conversion;\r\n• displaying the result.\r\n*/\r\n```","title":"Not sure how to close inputs correctly","body":"<p>I have some code in which multiple methods use the keyboard, and are called consecutively in the main method. The exercise I am doing specifically asks for the 4 separate methods so I cannot put them altogether. Originally, I used <code>keyboard.close()</code> at the end of each method, but this would cause a <code>NoSuchElementException</code> when the second method is run, regardless of the order they're called. By removing the <code>keyboard.close()</code>, the code now works, however I now have warnings for a resource leak as the keyboard isn't closed. Can anyone point me to a way to close the inputs without getting an error? Any help would be greatly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class CurrencyConverter {\n    static double money;\n    static double xr;\n\n    //Running \n    public static void main(String[] args)\n    {\n\n        requestAmount();\n        requestRate();\n        displayResult();\n\n    }\n\n    //Retrieving amount of money to be exchanged based on user input\n    public static void requestAmount()\n    {\n        System.out.println(&quot;Please enter quanitity of money to be exchanged:&quot;);\n        Scanner keyboard = new Scanner(System.in);\n        money = keyboard.nextDouble();\n    }\n\n    //Retrieving exchange rate from user input\n    public static void requestRate()\n    {\n        System.out.println(&quot;Please enter exchange rate:&quot;);\n        Scanner keyboard = new Scanner(System.in);\n        xr = keyboard.nextDouble();\n    }\n\n    //Converting currency\n    public static double conversionCalculator(double moneyIn, double xrIn)\n    {\n        return moneyIn*xrIn;\n    }\n\n    //Display amount of converted currency\n    public static void displayResult()\n    {\n        System.out.println(&quot;Amount of currency post-conversion = &quot; + conversionCalculator(money, xr));\n    }\n\n\n}\n    \n/*\nDesign and implement a program that converts a sum of money to a different\ncurrency. The amount of money to be converted, and the exchange rate, are\nentered by the user. The program should have separate methods for:\n• obtaining the sum of money from the user;\n• obtaining the exchange rate from the user;\n• making the conversion;\n• displaying the result.\n*/\n</code></pre>\n"},{"tags":["java","spring","openapi","springdoc"],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658386092,"creation_date":1658386092,"question_id":73061802,"body_markdown":"In my project, there is an **OpenAPI 3.0.1** spec. One of the schema components has property of type `array`.\r\n\r\n```yml\r\ncomponents:\r\n  schemas:\r\n    cardKey:\r\n      description: ...\r\n      format: base64\r\n      type: string\r\n    \r\n    newRequest:\r\n      description: ...\r\n      properties:\r\n        cardKeyList:\r\n          description: ...\r\n          items:\r\n            $ref: &#39;#/components/schemas/cardKey&#39;\r\n          minItems: 1\r\n          type: array\r\n      required:\r\n      - cards\r\n```\r\n\r\nThe issue is, that in Java it translates to:\r\n```java\r\n@Valid\r\nprivate List&lt;String&gt; cardKeyList = new ArrayList&lt;&gt;();\r\n```\r\nbut I can&#39;t seem to find a way, to specify, that `cardKey`, that is present in that `ArrayList` can&#39;t be `null` as in `minLength`, must be at least 1.\r\n\r\nAs an additional info the project is written in *Java 17* and is based on *Spring Boot*. *OpenAPI* spec is used with *SpringDoc*.","title":"How to specify in OpenAPI components/schemas, that named String property is not-nullable/required?","body":"<p>In my project, there is an <strong>OpenAPI 3.0.1</strong> spec. One of the schema components has property of type <code>array</code>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    cardKey:\n      description: ...\n      format: base64\n      type: string\n    \n    newRequest:\n      description: ...\n      properties:\n        cardKeyList:\n          description: ...\n          items:\n            $ref: '#/components/schemas/cardKey'\n          minItems: 1\n          type: array\n      required:\n      - cards\n</code></pre>\n<p>The issue is, that in Java it translates to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Valid\nprivate List&lt;String&gt; cardKeyList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>but I can't seem to find a way, to specify, that <code>cardKey</code>, that is present in that <code>ArrayList</code> can't be <code>null</code> as in <code>minLength</code>, must be at least 1.</p>\n<p>As an additional info the project is written in <em>Java 17</em> and is based on <em>Spring Boot</em>. <em>OpenAPI</em> spec is used with <em>SpringDoc</em>.</p>\n"},{"tags":["java","swing","fractals"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1658090814,"post_id":73014523,"comment_id":128959023,"body_markdown":"don&#39;t override paint","body":"don&#39;t override paint"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1658098218,"post_id":73014523,"comment_id":128960140,"body_markdown":"You can iterate your image in a worker like [this](https://stackoverflow.com/a/25043676/230513).","body":"You can iterate your image in a worker like <a href=\"https://stackoverflow.com/a/25043676/230513\">this</a>."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658122671,"post_id":73014523,"comment_id":128963177,"body_markdown":"Please check grammar according to [ask] when posting","body":"Please check grammar according to <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> when posting"}],"answers":[{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658087962,"creation_date":1658087962,"answer_id":73014963,"question_id":73014523,"body_markdown":"You can create a `BufferedImage`, edit it, and than add it to you frame inside a `JLable`, like this:\r\n```\r\nJLabel lable = new JLabel(new ImageIcon(yourBufferedImage));\r\nframe.addLabel();\r\n```\r\nThis will prevent you from re-calculating your image every time you repaint it.\r\nTo update the image, you should edit your `BufferedImage` and than update your label icon, like this:\r\n```\r\nlabel.setIcon(new ImageIcon(yourBufferedImage));\r\nlabel.repaint();\r\n```","title":"how to draw image pixel by piexel in swing","body":"<p>You can create a <code>BufferedImage</code>, edit it, and than add it to you frame inside a <code>JLable</code>, like this:</p>\n<pre><code>JLabel lable = new JLabel(new ImageIcon(yourBufferedImage));\nframe.addLabel();\n</code></pre>\n<p>This will prevent you from re-calculating your image every time you repaint it.\nTo update the image, you should edit your <code>BufferedImage</code> and than update your label icon, like this:</p>\n<pre><code>label.setIcon(new ImageIcon(yourBufferedImage));\nlabel.repaint();\n</code></pre>\n"}],"owner":{"account_id":25506775,"reputation":59,"user_id":19299127,"display_name":"Joshua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73014963,"answer_count":1,"score":1,"last_activity_date":1658385463,"creation_date":1658084050,"question_id":73014523,"body_markdown":"I recently created a program to explore Mandelbrot&#39;s fractal and after calculated the image I drew it but in a weird way. How can I paint it in clean way? The only way I found is to override the paint method and fill rectangle of 1 pixel (I know the function to get the color is horrible but it&#39;s to make a compact code even if it&#39;s useless).\r\n```java\r\nimport java.awt.Color;\r\nimport javax.swing.JFrame;\r\npublic class Mandelbrot{\r\n    public static void main(String[] args) {\r\n        var panel = new javax.swing.JComponent() {\r\n            public void paint(java.awt.Graphics g) {\r\n                for (int i = 0; i &lt; 1000000; i++) {\r\n                    g.setColor(function(((i % 1000) / 500.0)/zoom + x, (i / 500000.0) / zoom + y, 1));\r\n                    g.fillRect(i % 1000, i / 1000, 1, 1);\r\n                }\r\n            }\r\n        };\r\n        panel.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(java.awt.event.MouseEvent e) {\r\n                x += (e.getX() / 1000.0) / zoom;\r\n                y += (e.getY() / 1000.0) / zoom;\r\n                zoom = e.getButton() == 1 ? zoom * 2 : (zoom == 1 ? 1 : zoom / 2);\r\n                panel.repaint();\r\n                System.out.println(&quot;zoom : X&quot; + zoom);\r\n            }\r\n        });\r\n        panel.setBounds(0, 0, 1024, 1024);\r\n        var frame = new JFrame(&quot;FRACTAL&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(1000, 1000);\r\n        frame.add(panel);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n    private static double a, b, temp, x = -1.5, y = -1;\r\n    private static int zoom = 1;\r\n    public static Color function(double real, double imag, int accuracy) {\r\n        a = 0; b = 0;\r\n        int max= 1024 * accuracy;\r\n        while(max &gt; 0 &amp;&amp; a*a + b*b &lt; 4){\r\n            temp = a;\r\n            a = a*a - b*b + real;\r\n            b = 2*temp*b + imag;\r\n            max--;\r\n        }\r\n        max = (1024*accuracy - max) / accuracy;\r\n        return max == 1024 ? Color.BLACK : new Color(max &lt; 256 ? 255:(max &lt; 512 ? 511 - max : 0), max &lt; 256 ? max : (max &lt; 768 ? 255 : 1023 - max), max &lt; 512 ? 0 : (max &lt; 768 ? max - 512 : 255));\r\n    }\r\n}\r\n```","title":"how to draw image pixel by piexel in swing","body":"<p>I recently created a program to explore Mandelbrot's fractal and after calculated the image I drew it but in a weird way. How can I paint it in clean way? The only way I found is to override the paint method and fill rectangle of 1 pixel (I know the function to get the color is horrible but it's to make a compact code even if it's useless).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport javax.swing.JFrame;\npublic class Mandelbrot{\n    public static void main(String[] args) {\n        var panel = new javax.swing.JComponent() {\n            public void paint(java.awt.Graphics g) {\n                for (int i = 0; i &lt; 1000000; i++) {\n                    g.setColor(function(((i % 1000) / 500.0)/zoom + x, (i / 500000.0) / zoom + y, 1));\n                    g.fillRect(i % 1000, i / 1000, 1, 1);\n                }\n            }\n        };\n        panel.addMouseListener(new java.awt.event.MouseAdapter() {\n            @Override\n            public void mouseClicked(java.awt.event.MouseEvent e) {\n                x += (e.getX() / 1000.0) / zoom;\n                y += (e.getY() / 1000.0) / zoom;\n                zoom = e.getButton() == 1 ? zoom * 2 : (zoom == 1 ? 1 : zoom / 2);\n                panel.repaint();\n                System.out.println(&quot;zoom : X&quot; + zoom);\n            }\n        });\n        panel.setBounds(0, 0, 1024, 1024);\n        var frame = new JFrame(&quot;FRACTAL&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(1000, 1000);\n        frame.add(panel);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    private static double a, b, temp, x = -1.5, y = -1;\n    private static int zoom = 1;\n    public static Color function(double real, double imag, int accuracy) {\n        a = 0; b = 0;\n        int max= 1024 * accuracy;\n        while(max &gt; 0 &amp;&amp; a*a + b*b &lt; 4){\n            temp = a;\n            a = a*a - b*b + real;\n            b = 2*temp*b + imag;\n            max--;\n        }\n        max = (1024*accuracy - max) / accuracy;\n        return max == 1024 ? Color.BLACK : new Color(max &lt; 256 ? 255:(max &lt; 512 ? 511 - max : 0), max &lt; 256 ? max : (max &lt; 768 ? 255 : 1023 - max), max &lt; 512 ? 0 : (max &lt; 768 ? max - 512 : 255));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658412362,"post_id":73060692,"comment_id":129049555,"body_markdown":"please do not post images of text it is against the rules","body":"please do not post images of text it is against the rules"}],"answers":[{"tags":[],"owner":{"account_id":11822107,"reputation":35,"user_id":8650947,"display_name":"Siful Islam Ove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658385308,"creation_date":1658385308,"answer_id":73061661,"question_id":73060692,"body_markdown":"Checking authorization won&#39;t be good practice after all. But you can do with \r\nfollowing code snippets:\r\n \r\n```\r\nObject principal= SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n \r\nif (principal instanceof UserDetails) {\r\n  String username = ((UserDetails)principal).getUsername();\r\n} else {\r\n  String username = principal.toString();\r\n}\r\n```\r\n\r\nHere every time you need to do it manually and that will be a costly task!!\r\n\r\nHere is content for more information about spring security : \r\nhttps://spring.io/guides/topicals/spring-security-architecture\r\n\r\n","title":"Ways to check @PreAuthorize in spring Security?","body":"<p>Checking authorization won't be good practice after all. But you can do with\nfollowing code snippets:</p>\n<pre><code>Object principal= SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n \nif (principal instanceof UserDetails) {\n  String username = ((UserDetails)principal).getUsername();\n} else {\n  String username = principal.toString();\n}\n</code></pre>\n<p>Here every time you need to do it manually and that will be a costly task!!</p>\n<p>Here is content for more information about spring security :\n<a href=\"https://spring.io/guides/topicals/spring-security-architecture\" rel=\"nofollow noreferrer\">https://spring.io/guides/topicals/spring-security-architecture</a></p>\n"}],"owner":{"account_id":25858668,"reputation":1,"user_id":19591476,"display_name":"Tuấn Nguyễn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658385308,"creation_date":1658377553,"question_id":73060692,"body_markdown":"I am currently checking authority like this.\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;) or hasAuthority(&#39;GET_BOOK&#39;)&quot;)\r\n    @PostMapping(&quot;/find&quot;)\r\n    public Pagination&lt;BookDTO&gt; find(@Valid @RequestBody QueryCriteria queryCriteria) {\r\n        return bookService.find(queryCriteria);\r\n    }\r\n\r\nBut I don&#39;t know if there is another way to check, I want to check in method.\r\n\r\n\r\n    @PostMapping(&quot;/find&quot;)\r\n    public Pagination&lt;BookDTO&gt; find(@Valid @RequestBody QueryCriteria queryCriteria) {\r\n        // Check PreAuthorize here\r\n          .....\r\n\r\n        return bookService.find(queryCriteria);\r\n    }\r\n\r\nExample as Entity Graph:\r\n- 1 : There is a way to write : [image example 1][1]\r\n- 2 : Another spelling is: [image example 2][2]\r\n\r\nThanks you !\r\n\r\n  [1]: https://i.stack.imgur.com/i4e11.png\r\n  [2]: https://i.stack.imgur.com/Nc8gJ.png","title":"Ways to check @PreAuthorize in spring Security?","body":"<p>I am currently checking authority like this.</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ADMIN') or hasAuthority('GET_BOOK')&quot;)\n@PostMapping(&quot;/find&quot;)\npublic Pagination&lt;BookDTO&gt; find(@Valid @RequestBody QueryCriteria queryCriteria) {\n    return bookService.find(queryCriteria);\n}\n</code></pre>\n<p>But I don't know if there is another way to check, I want to check in method.</p>\n<pre><code>@PostMapping(&quot;/find&quot;)\npublic Pagination&lt;BookDTO&gt; find(@Valid @RequestBody QueryCriteria queryCriteria) {\n    // Check PreAuthorize here\n      .....\n\n    return bookService.find(queryCriteria);\n}\n</code></pre>\n<p>Example as Entity Graph:</p>\n<ul>\n<li>1 : There is a way to write : <a href=\"https://i.stack.imgur.com/i4e11.png\" rel=\"nofollow noreferrer\">image example 1</a></li>\n<li>2 : Another spelling is: <a href=\"https://i.stack.imgur.com/Nc8gJ.png\" rel=\"nofollow noreferrer\">image example 2</a></li>\n</ul>\n<p>Thanks you !</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":1,"creation_date":1658385454,"post_id":73061645,"comment_id":129039216,"body_markdown":"You should share a snippet how you build.gradle files look like, how you sdd the dependency.","body":"You should share a snippet how you build.gradle files look like, how you sdd the dependency."},{"owner":{"account_id":23889058,"reputation":99,"user_id":17888932,"display_name":"Priyanka Sharma"},"score":0,"creation_date":1658400084,"post_id":73061645,"comment_id":129044455,"body_markdown":"dependencies {\n    implementation group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;4.0.1&#39;\n   \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\n}","body":"dependencies {     implementation group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;4.0.1&#39;    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39; }"},{"owner":{"account_id":23889058,"reputation":99,"user_id":17888932,"display_name":"Priyanka Sharma"},"score":0,"creation_date":1658482909,"post_id":73061645,"comment_id":129067635,"body_markdown":"@criztovyl the idea is that same line of dependency\n`dependencies { implementation group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;4.0.1&#39; implementation &#39;org.springframework.boot:spring-boot-starter-security&#39; }`\nneed to be added in the Project A and Project B which is consuming Project A for the list of dependencies, in order to run the service smoothly.  Actual behaviour should be Project A build.gradle should be the only place where the spring-boot-starter-secuirty needs to be added.","body":"@criztovyl the idea is that same line of dependency <code>dependencies { implementation group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;4.0.1&#39; implementation &#39;org.springframework.boot:spring-boot-starter-security&#39; }</code> need to be added in the Project A and Project B which is consuming Project A for the list of dependencies, in order to run the service smoothly.  Actual behaviour should be Project A build.gradle should be the only place where the spring-boot-starter-secuirty needs to be added."}],"owner":{"account_id":23889058,"reputation":99,"user_id":17888932,"display_name":"Priyanka Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658385188,"creation_date":1658385188,"question_id":73061645,"body_markdown":"I have build.gradle in a common project which is been shared by other microservices and each microservice has its own build.gradle also.\r\nThere is one dependency as &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\nThis is added in build.gradle of common project(Project A) and is been consumed by other project(Project B). The issue is the service throws error and we need to add the same dependency (&#39;org.springframework.boot:spring-boot-starter-security&#39;) in build.gradle of Project B also. \r\nDo someone know the reason behind it ?","title":"Some of the gradle dependency needs to be declared twice to be available for the microservice. Why?","body":"<p>I have build.gradle in a common project which is been shared by other microservices and each microservice has its own build.gradle also.\nThere is one dependency as 'org.springframework.boot:spring-boot-starter-security'\nThis is added in build.gradle of common project(Project A) and is been consumed by other project(Project B). The issue is the service throws error and we need to add the same dependency ('org.springframework.boot:spring-boot-starter-security') in build.gradle of Project B also.\nDo someone know the reason behind it ?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","validation"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658385035,"creation_date":1658385035,"answer_id":73061622,"question_id":73061472,"body_markdown":"You just add it as an annotation property\r\n\r\n    annotation class ValidMinimalInterval(\r\n        val message: String = &quot;The cron string doesn&#39;t fit in the minimal interval of 60 minutes&quot;,\r\n        val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\r\n        val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\r\n        val min: Integer //or whatever it is in Kotlin\r\n        \r\n    )","title":"How to create custom validator with parameters in spring boot?","body":"<p>You just add it as an annotation property</p>\n<pre><code>annotation class ValidMinimalInterval(\n    val message: String = &quot;The cron string doesn't fit in the minimal interval of 60 minutes&quot;,\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\n    val min: Integer //or whatever it is in Kotlin\n    \n)\n</code></pre>\n"}],"owner":{"display_name":"user15941734"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73061622,"answer_count":1,"score":0,"last_activity_date":1658385035,"creation_date":1658384000,"question_id":73061472,"body_markdown":"I have written a validator for cron string that checks for a minimal interval. \r\n```\r\n@Constraint(validatedBy = [ValidMinimalInterval.JsonStringValidator::class])\r\n@Target(AnnotationTarget.FIELD, AnnotationTarget.CLASS, AnnotationTarget.PROPERTY_GETTER)\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@MustBeDocumented\r\nannotation class ValidMinimalInterval(\r\n    val message: String = &quot;The cron string doesn&#39;t fit in the minimal interval of 60 minutes&quot;,\r\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\r\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\r\n) {\r\n    class JsonStringValidator :\r\n        ConstraintValidator&lt;ValidMinimalInterval?, String?&gt; {\r\n        override fun initialize(jsonString: ValidMinimalInterval?) {}\r\n        override fun isValid(string: String?, context: ConstraintValidatorContext): Boolean {\r\n            return string?.let {\r\n                val min = 1000 * 3600\r\n                val cron = CronExpression(string)\r\n                val execDate = cron.getNextValidTimeAfter(Date())\r\n                val nextExecDate = cron.getNextValidTimeAfter(execDate)\r\n                val diff = nextExecDate.time - execDate.time\r\n                diff &gt;= min\r\n            } ?: true\r\n        }\r\n    }\r\n}\r\n```\r\nThis works fine, but I want the validator to take in the parameter for minimal interval like `@ValidMinimalInterval(min = 1000 * 3600)`. How can I achieve that?","title":"How to create custom validator with parameters in spring boot?","body":"<p>I have written a validator for cron string that checks for a minimal interval.</p>\n<pre><code>@Constraint(validatedBy = [ValidMinimalInterval.JsonStringValidator::class])\n@Target(AnnotationTarget.FIELD, AnnotationTarget.CLASS, AnnotationTarget.PROPERTY_GETTER)\n@Retention(AnnotationRetention.RUNTIME)\n@MustBeDocumented\nannotation class ValidMinimalInterval(\n    val message: String = &quot;The cron string doesn't fit in the minimal interval of 60 minutes&quot;,\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\n) {\n    class JsonStringValidator :\n        ConstraintValidator&lt;ValidMinimalInterval?, String?&gt; {\n        override fun initialize(jsonString: ValidMinimalInterval?) {}\n        override fun isValid(string: String?, context: ConstraintValidatorContext): Boolean {\n            return string?.let {\n                val min = 1000 * 3600\n                val cron = CronExpression(string)\n                val execDate = cron.getNextValidTimeAfter(Date())\n                val nextExecDate = cron.getNextValidTimeAfter(execDate)\n                val diff = nextExecDate.time - execDate.time\n                diff &gt;= min\n            } ?: true\n        }\n    }\n}\n</code></pre>\n<p>This works fine, but I want the validator to take in the parameter for minimal interval like <code>@ValidMinimalInterval(min = 1000 * 3600)</code>. How can I achieve that?</p>\n"},{"tags":["java","php","encryption","bouncycastle"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1658384004,"post_id":73061435,"comment_id":129038820,"body_markdown":"In the PHP code `$key` is not used anywhere.","body":"In the PHP code <code>$key</code> is not used anywhere."},{"owner":{"account_id":4602102,"reputation":81,"user_id":3732518,"display_name":"prashant"},"score":0,"creation_date":1658384138,"post_id":73061435,"comment_id":129038854,"body_markdown":"My bad. I have modified the code. thanks.","body":"My bad. I have modified the code. thanks."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1658384508,"post_id":73061435,"comment_id":129038949,"body_markdown":"In the PHP code there is no hex decoding of the key, which is probably an (unnoticed) bug. In the Java code, the key is hex decoded, which results in incompatibility. The PHP code shortens the too long key implicitly (to 32 bytes for AES-256). In the Java code this has to happen explicitly.","body":"In the PHP code there is no hex decoding of the key, which is probably an (unnoticed) bug. In the Java code, the key is hex decoded, which results in incompatibility. The PHP code shortens the too long key implicitly (to 32 bytes for AES-256). In the Java code this has to happen explicitly."}],"answers":[{"tags":[],"owner":{"account_id":4602102,"reputation":81,"user_id":3732518,"display_name":"prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658384995,"creation_date":1658384995,"answer_id":73061615,"question_id":73061435,"body_markdown":"As @topaco brilliantly pointed out, PHP is implicitly shortening the key.\r\n\r\nReplace \r\n```\r\n//Using Bouncycastle (org.bouncycastle.util.encoders.Hex) for Hex to byte\r\nSecretKeySpec secretKey=new SecretKeySpec(Hex.decode(hexString),&quot;AES&quot;);\r\n```\r\nwith \r\n```\r\nSecretKeySpec secretKey = new SecretKeySpec(key.substring(0,32).getBytes(), &quot;AES&quot;);\r\n```\r\n\r\nWorked like a charm","title":"Unable to decrypt a file using Java that was encrypted using PHP","body":"<p>As @topaco brilliantly pointed out, PHP is implicitly shortening the key.</p>\n<p>Replace</p>\n<pre><code>//Using Bouncycastle (org.bouncycastle.util.encoders.Hex) for Hex to byte\nSecretKeySpec secretKey=new SecretKeySpec(Hex.decode(hexString),&quot;AES&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>SecretKeySpec secretKey = new SecretKeySpec(key.substring(0,32).getBytes(), &quot;AES&quot;);\n</code></pre>\n<p>Worked like a charm</p>\n"}],"owner":{"account_id":4602102,"reputation":81,"user_id":3732518,"display_name":"prashant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658384995,"creation_date":1658383789,"question_id":73061435,"body_markdown":"My customer encrypted a file using the following PHP code snippet\r\n\r\n```\r\n$key=&quot;c5ff6db1e2f1d27d294047b220516312da1b4ba899035692e893e16815fc1234&quot;;\r\n\r\n$content = file_get_contents(filename);\r\n$ivlen = openssl_cipher_iv_length($cipher=&quot;AES-256-CBC&quot;);\r\n$iv = openssl_random_pseudo_bytes($ivlen);\r\n\r\n$cipherText_raw = openssl_encrypt($this-&gt;plaintext, $cipher, \r\n                         $key, $options=OPENSSL_RAW_DATA, $iv);\r\n\r\n$encode = base64_encode( $iv.$cipherText_raw );//Append IV and encode\r\n\r\n```\r\nI am trying to decrypt using Java with this code\r\n```\r\nString hexString = &quot;c5ff6db1e2f1d27d294047b220516312da1b4ba899035692e893e16815fc1234&quot;;\r\n\r\n//Using Bouncycastle (org.bouncycastle.util.encoders.Hex) for Hex to byte\r\nSecretKeySpec secretKey=new SecretKeySpec(Hex.decode(hexString),&quot;AES&quot;);\r\n\r\nString content = Files.readString(Paths.get(&quot;abc.xml&quot;), StandardCharsets.UTF_8);\r\n\r\nbyte[] arrDecode  = Base64.getDecoder().decode(content);\r\n//Extract IV\r\nbyte[] arrIV = Arrays.copyOfRange(arrDecode,0,16);\r\n//Extract Encrypted Content\r\nbyte[] arrEnc = Arrays.copyOfRange(arrDecode,16,arrDecode.length);\r\n\r\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\ncipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(arrIV));\r\nbyte[]  xx = cipher.doFinal(arrEnc);\r\n\r\n```\r\nThe decrypt does not work. I get the below error\r\n```\r\njavax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n```\r\nIf I use cipher.update(arrEnc) I get load of junk characters.\r\n\r\nI am sure I am missing something. Not able to figure that out. I have also tried Bouncycastle with same result - \r\n   Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BCFIPS&quot;);","title":"Unable to decrypt a file using Java that was encrypted using PHP","body":"<p>My customer encrypted a file using the following PHP code snippet</p>\n<pre><code>$key=&quot;c5ff6db1e2f1d27d294047b220516312da1b4ba899035692e893e16815fc1234&quot;;\n\n$content = file_get_contents(filename);\n$ivlen = openssl_cipher_iv_length($cipher=&quot;AES-256-CBC&quot;);\n$iv = openssl_random_pseudo_bytes($ivlen);\n\n$cipherText_raw = openssl_encrypt($this-&gt;plaintext, $cipher, \n                         $key, $options=OPENSSL_RAW_DATA, $iv);\n\n$encode = base64_encode( $iv.$cipherText_raw );//Append IV and encode\n\n</code></pre>\n<p>I am trying to decrypt using Java with this code</p>\n<pre><code>String hexString = &quot;c5ff6db1e2f1d27d294047b220516312da1b4ba899035692e893e16815fc1234&quot;;\n\n//Using Bouncycastle (org.bouncycastle.util.encoders.Hex) for Hex to byte\nSecretKeySpec secretKey=new SecretKeySpec(Hex.decode(hexString),&quot;AES&quot;);\n\nString content = Files.readString(Paths.get(&quot;abc.xml&quot;), StandardCharsets.UTF_8);\n\nbyte[] arrDecode  = Base64.getDecoder().decode(content);\n//Extract IV\nbyte[] arrIV = Arrays.copyOfRange(arrDecode,0,16);\n//Extract Encrypted Content\nbyte[] arrEnc = Arrays.copyOfRange(arrDecode,16,arrDecode.length);\n\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ncipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(arrIV));\nbyte[]  xx = cipher.doFinal(arrEnc);\n\n</code></pre>\n<p>The decrypt does not work. I get the below error</p>\n<pre><code>javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n</code></pre>\n<p>If I use cipher.update(arrEnc) I get load of junk characters.</p>\n<p>I am sure I am missing something. Not able to figure that out. I have also tried Bouncycastle with same result -\nCipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BCFIPS&quot;);</p>\n"},{"tags":["java","sharedpreferences"],"comments":[{"owner":{"account_id":17582942,"reputation":108,"user_id":12756335,"display_name":"Rigsto"},"score":1,"creation_date":1658317997,"post_id":73051124,"comment_id":129020723,"body_markdown":"Just replace &quot;[&quot; and &quot;]&quot; with an empty string and you get what you want","body":"Just replace &quot;[&quot; and &quot;]&quot; with an empty string and you get what you want"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1658318075,"post_id":73051124,"comment_id":129020758,"body_markdown":"Minor, but dont use `replaceAll` on the first call. Use `replace` instead. The difference is that former uses regex, latter not. Both replace all occurences. The naming is just unfortunate.","body":"Minor, but dont use <code>replaceAll</code> on the first call. Use <code>replace</code> instead. The difference is that former uses regex, latter not. Both replace all occurences. The naming is just unfortunate."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1658318092,"post_id":73051124,"comment_id":129020763,"body_markdown":"Or just cut of the first and last character from the String like  `myStringArray.substring(1, myStringArray.length() - 1)`. Note however that this String modification has absolutely nothing to do with converting a String to an Array. If you actually want to convert the String to an array (As you mention in your question) you need to do something completely different.","body":"Or just cut of the first and last character from the String like  <code>myStringArray.substring(1, myStringArray.length() - 1)</code>. Note however that this String modification has absolutely nothing to do with converting a String to an Array. If you actually want to convert the String to an array (As you mention in your question) you need to do something completely different."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658318220,"post_id":73051124,"comment_id":129020813,"body_markdown":"It looks like you just want to remove everything that is NOT digit or comma from `[491174, 414529, 414557]`. You can do that in single call `String replaced = &quot;[491174, 414529, 414557]&quot;.replaceAll(&quot;[^\\\\d,]&quot;, &quot;&quot;);`","body":"It looks like you just want to remove everything that is NOT digit or comma from <code>[491174, 414529, 414557]</code>. You can do that in single call <code>String replaced = &quot;[491174, 414529, 414557]&quot;.replaceAll(&quot;[^\\\\d,]&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658318512,"post_id":73051124,"comment_id":129020949,"body_markdown":"Anyway what you seem to be doing is creating mechanism for *deserialization*. While what you have now may work for simple cases you should consider already existing mechanisms. For instance your current data can be considered as representation of JSON so with `gson` parser your code could look like `int[] ints = new Gson().fromJson(myStringArray, int[].class);`.","body":"Anyway what you seem to be doing is creating mechanism for <i>deserialization</i>. While what you have now may work for simple cases you should consider already existing mechanisms. For instance your current data can be considered as representation of JSON so with <code>gson</code> parser your code could look like <code>int[] ints = new Gson().fromJson(myStringArray, int[].class);</code>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1658321540,"post_id":73051124,"comment_id":129022255,"body_markdown":"You don&#39;t seem to actually want to convert to an array, or at least, your attempt still produces a single string.","body":"You don&#39;t seem to actually want to convert to an array, or at least, your attempt still produces a single string."}],"answers":[{"tags":[],"owner":{"account_id":21985573,"reputation":117,"user_id":16259898,"display_name":"Zulfiqar Chaudhry"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1658318258,"creation_date":1658318258,"answer_id":73051253,"question_id":73051124,"body_markdown":"    rm = rm.substring(0, rm.length() - 1);","title":"How to convert String to array in Java","body":"<pre><code>rm = rm.substring(0, rm.length() - 1);\n</code></pre>\n"}],"owner":{"account_id":21212229,"reputation":17,"user_id":15600603,"display_name":"lifeofdekisugi"},"comment_count":6,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1658321662,"accepted_answer_id":73051253,"answer_count":1,"score":-3,"last_activity_date":1658384915,"creation_date":1658317815,"question_id":73051124,"body_markdown":"I have a string `String myStringArray = &quot;[491174, 414529, 414557]&quot;;`. I want output `491174, 414529, 414557` just this part. I tried many methods to convert string to array and many other things. I tried something I&#39;m adding the code below.\r\n\r\nMy Code\r\n\r\n    String myStringArray = &quot;[491174, 414529, 414557]&quot;;\r\n    String newArray = myStringArray.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(&quot;Before Remove : &quot; + newArray);\r\n\r\n    String remove = newArray.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;,&quot;);\r\n    String rm = remove.replaceFirst(&quot;,&quot;, &quot;&quot;);\r\n\r\n    System.out.println(&quot;After Remove : &quot; + rm);\r\n\r\n**Output**\r\n\r\n    Before Remove : [491174,414529,414557]\r\n    After Remove : 491174,414529,414557,\r\n\r\n\r\nAs you can see I have `,` in the end and I don&#39;t know how to remove this `,`. Please help me if you can.","title":"How to convert String to array in Java","body":"<p>I have a string <code>String myStringArray = &quot;[491174, 414529, 414557]&quot;;</code>. I want output <code>491174, 414529, 414557</code> just this part. I tried many methods to convert string to array and many other things. I tried something I'm adding the code below.</p>\n<p>My Code</p>\n<pre><code>String myStringArray = &quot;[491174, 414529, 414557]&quot;;\nString newArray = myStringArray.replaceAll(&quot; &quot;, &quot;&quot;);\nSystem.out.println(&quot;Before Remove : &quot; + newArray);\n\nString remove = newArray.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;,&quot;);\nString rm = remove.replaceFirst(&quot;,&quot;, &quot;&quot;);\n\nSystem.out.println(&quot;After Remove : &quot; + rm);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Before Remove : [491174,414529,414557]\nAfter Remove : 491174,414529,414557,\n</code></pre>\n<p>As you can see I have <code>,</code> in the end and I don't know how to remove this <code>,</code>. Please help me if you can.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"score":1,"creation_date":1658383113,"post_id":73061266,"comment_id":129038604,"body_markdown":"Check this out: https://www.geeksforgeeks.org/ways-to-read-input-from-console-in-java/","body":"Check this out: <a href=\"https://www.geeksforgeeks.org/ways-to-read-input-from-console-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/ways-to-read-input-from-console-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":22572634,"reputation":61,"user_id":16758600,"display_name":"Jackson Brienen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658384724,"creation_date":1658384724,"answer_id":73061581,"question_id":73061266,"body_markdown":"The main thing you will want to look into is the Java Scanner. You can import it via `import java.util.Scanner;` To make a new Scanner which reads from the console you will write:\r\n```java\r\nScanner userInput = new Scanner(System.in);\r\n```\r\nScanners are very versatile, so they are built to read from any input stream. This could be a file, a String, or many other things. Just like `System.out` is an output stream to the console, `System.in` is an input stream from the console.\r\nFor more information you can read the scanner documentation [here][1].\r\n&lt;br&gt;\r\nNow with your scanner created to get a number input we can use the `nextInt()` method.\r\n```java\r\nint input = userInput.nextInt();\r\n```\r\nHere is a simple program similar to what you described.\r\n```java\r\nimport java.util.Scanner;\r\npublic class ScannerInputTest{\r\n    public static void main(String[] args){\r\n        Scanner userInput = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter Input &gt; &quot;);\r\n        int input = userInput.nextInt();\r\n        \r\n        if(input == 1){\r\n            System.out.println(&quot;Yes&quot;);\r\n        }else if(input == 2){\r\n            System.out.println(&quot;No&quot;);\r\n        }else{\r\n            System.out.println(&quot;I don&#39;t Know&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nSince you are just starting out please try your best to read through documentation, and don&#39;t just copy and paste answers from here. Try to tinker and change things to get a better understanding.&lt;br&gt;\r\nIf you are going to be making a lot of console programs, I highly recommend also looking into [switch statements][2], as if else statements will eventually become very bloated the more branches you need.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Java Beginner Guidance","body":"<p>The main thing you will want to look into is the Java Scanner. You can import it via <code>import java.util.Scanner;</code> To make a new Scanner which reads from the console you will write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner userInput = new Scanner(System.in);\n</code></pre>\n<p>Scanners are very versatile, so they are built to read from any input stream. This could be a file, a String, or many other things. Just like <code>System.out</code> is an output stream to the console, <code>System.in</code> is an input stream from the console.\nFor more information you can read the scanner documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">here</a>.\n<br>\nNow with your scanner created to get a number input we can use the <code>nextInt()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int input = userInput.nextInt();\n</code></pre>\n<p>Here is a simple program similar to what you described.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class ScannerInputTest{\n    public static void main(String[] args){\n        Scanner userInput = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter Input &gt; &quot;);\n        int input = userInput.nextInt();\n        \n        if(input == 1){\n            System.out.println(&quot;Yes&quot;);\n        }else if(input == 2){\n            System.out.println(&quot;No&quot;);\n        }else{\n            System.out.println(&quot;I don't Know&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Since you are just starting out please try your best to read through documentation, and don't just copy and paste answers from here. Try to tinker and change things to get a better understanding.<br>\nIf you are going to be making a lot of console programs, I highly recommend also looking into <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">switch statements</a>, as if else statements will eventually become very bloated the more branches you need.</p>\n"}],"owner":{"account_id":25859169,"reputation":17,"user_id":19591891,"display_name":"Meme"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1658386485,"answer_count":1,"score":-1,"last_activity_date":1658384724,"creation_date":1658382623,"question_id":73061266,"body_markdown":"How do you write a Java program that accepts number as input and based on the value entered, displays a message? \r\nLike\r\n&quot;1&quot; displays &quot;Yes&quot;\r\n&quot;2&quot; displays &quot;No&quot;","title":"Java Beginner Guidance","body":"<p>How do you write a Java program that accepts number as input and based on the value entered, displays a message?\nLike\n&quot;1&quot; displays &quot;Yes&quot;\n&quot;2&quot; displays &quot;No&quot;</p>\n"},{"tags":["java","jsp","cookies"],"comments":[{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":1,"creation_date":1326880439,"post_id":8908110,"comment_id":11141977,"body_markdown":"Do you mean that in the next request the client still sends the cookie?","body":"Do you mean that in the next request the client still sends the cookie?"},{"owner":{"display_name":"user918477"},"score":0,"creation_date":1326880527,"post_id":8908110,"comment_id":11142004,"body_markdown":"no, i just found the above code and used it. but, it is not working.","body":"no, i just found the above code and used it. but, it is not working."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1326881728,"post_id":8908110,"comment_id":11142304,"body_markdown":"How is it &quot;not working&quot;? Do you mean that in the next request the client still sends the cookie? If not, what happens and what do you expect to happen?","body":"How is it &quot;not working&quot;? Do you mean that in the next request the client still sends the cookie? If not, what happens and what do you expect to happen?"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1326881791,"post_id":8908110,"comment_id":11142326,"body_markdown":"It works for me. Created a page which if it gets the parameter &quot;add&quot; sets the cookie and if it gets the parameter &quot;delete&quot; it deletes the cookie (as your code above). The request after the delete contains no cookie (using Safari). Can you log what your send and gets?","body":"It works for me. Created a page which if it gets the parameter &quot;add&quot; sets the cookie and if it gets the parameter &quot;delete&quot; it deletes the cookie (as your code above). The request after the delete contains no cookie (using Safari). Can you log what your send and gets?"},{"owner":{"account_id":318334,"reputation":3535,"user_id":635504,"accept_rate":72,"display_name":"最白目"},"score":0,"creation_date":1326891525,"post_id":8908110,"comment_id":11145223,"body_markdown":"have you checked if the String is matched correctly? Maybe your if-statement doesnt fire?","body":"have you checked if the String is matched correctly? Maybe your if-statement doesnt fire?"}],"answers":[{"tags":[],"owner":{"account_id":318334,"reputation":3535,"user_id":635504,"accept_rate":72,"display_name":"最白目"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343365063,"creation_date":1326880583,"answer_id":8908187,"question_id":8908110,"body_markdown":"Try to add this line:\r\n\r\n\r\n     cookies[i].setMaxAge(0);\r\n     //add this line\r\n     cookies[i].setPath(&quot;/&quot;);\r\n     response.addCookie(cookies[i]);","title":"how to delete the cookies in jsp/java","body":"<p>Try to add this line:</p>\n\n<pre><code> cookies[i].setMaxAge(0);\n //add this line\n cookies[i].setPath(\"/\");\n response.addCookie(cookies[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1326881573,"creation_date":1326881573,"answer_id":8908380,"question_id":8908110,"body_markdown":"below link might help you..\r\n\r\nhttps://stackoverflow.com/questions/4332258/how-can-delete-information-from-cookies\r\n\r\nGood Luck!!!\r\n\r\nLet me know incase of any further queries...","title":"how to delete the cookies in jsp/java","body":"<p>below link might help you..</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4332258/how-can-delete-information-from-cookies\">How can delete information from cookies?</a></p>\n\n<p>Good Luck!!!</p>\n\n<p>Let me know incase of any further queries...</p>\n"},{"tags":[],"owner":{"account_id":1453555,"reputation":136,"user_id":1369791,"display_name":"markosca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337244937,"creation_date":1337244937,"answer_id":10632558,"question_id":8908110,"body_markdown":"The option correct will be\r\n\r\n    Cookie cookie = new Cookie(&quot;citizen&quot;, &quot;citizen&quot;);\r\n    cookie.setMaxAge(0);\r\n    cookie.setValue(&quot;&quot;);\r\n    response.addCookie(cookie);\r\n\r\nif you try to get the cookie from request for next add it to response with setMaxAge(0), you could see that the cookie doesn&#39;t been removed.","title":"how to delete the cookies in jsp/java","body":"<p>The option correct will be</p>\n\n<pre><code>Cookie cookie = new Cookie(\"citizen\", \"citizen\");\ncookie.setMaxAge(0);\ncookie.setValue(\"\");\nresponse.addCookie(cookie);\n</code></pre>\n\n<p>if you try to get the cookie from request for next add it to response with setMaxAge(0), you could see that the cookie doesn't been removed.</p>\n"},{"tags":[],"owner":{"account_id":1547711,"reputation":283,"user_id":1440842,"accept_rate":88,"display_name":"kei23th"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339507723,"creation_date":1339507723,"answer_id":10997724,"question_id":8908110,"body_markdown":"I was having a problem similar to this, where the cookie retained the value even after setting max age to 0 and the value to &quot;&quot;.\r\n\r\nI used firefox to look at the cookie attributes to help debug.  When logging in, the servlet called my cookie class to set the cookie, and the cookie path was &quot;/javawork/&quot;.  When logging out, the JSP page called the same cookie class to &quot;delete&quot; the cookie by setting the max age to 0.  But the JSP page was in a sub folder in the web app, so the when I created a cookie of the same name with max age of 0, it created a new cookie with the path &quot;/javawork/test_login/&quot;.\r\n\r\nSo that &quot;new&quot; cookie immediately expired, but the original one still existed.  In my delete cookie function I needed to set the path of the &quot;new&quot; cookie to be &quot;/javawork/&quot;, and when I set the max age to 0 and added it, it updated the original cookie and let me properly log out.\r\n\r\nI hope that helps.","title":"how to delete the cookies in jsp/java","body":"<p>I was having a problem similar to this, where the cookie retained the value even after setting max age to 0 and the value to \"\".</p>\n\n<p>I used firefox to look at the cookie attributes to help debug.  When logging in, the servlet called my cookie class to set the cookie, and the cookie path was \"/javawork/\".  When logging out, the JSP page called the same cookie class to \"delete\" the cookie by setting the max age to 0.  But the JSP page was in a sub folder in the web app, so the when I created a cookie of the same name with max age of 0, it created a new cookie with the path \"/javawork/test_login/\".</p>\n\n<p>So that \"new\" cookie immediately expired, but the original one still existed.  In my delete cookie function I needed to set the path of the \"new\" cookie to be \"/javawork/\", and when I set the max age to 0 and added it, it updated the original cookie and let me properly log out.</p>\n\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":135892,"reputation":21,"user_id":2121723,"display_name":"advait"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366011488,"creation_date":1366011488,"answer_id":16009981,"question_id":8908110,"body_markdown":"This works for me -\r\n\r\n    Cookie UIDCookie = new Cookie(COOKIE_KEY, &quot;&quot;);\r\n    UIDCookie.setMaxAge(0);\r\n    UIDCookie.setPath(&quot;/&quot;);\r\n    response.addCookie(qptUIDCookie);","title":"how to delete the cookies in jsp/java","body":"<p>This works for me -</p>\n\n<pre><code>Cookie UIDCookie = new Cookie(COOKIE_KEY, \"\");\nUIDCookie.setMaxAge(0);\nUIDCookie.setPath(\"/\");\nresponse.addCookie(qptUIDCookie);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523755170,"creation_date":1523755170,"answer_id":49837659,"question_id":8908110,"body_markdown":"We can delete a cookie by setting max age as zero.\r\nFor example:\r\n\r\n    Cookie[] cookies = request.getCookies();\r\n    cookies[0].setMaxAge(0);\r\n    response.addCookie(cookies[0]);\r\n\r\nHere we delete only the first cookie","title":"how to delete the cookies in jsp/java","body":"<p>We can delete a cookie by setting max age as zero.\nFor example:</p>\n\n<pre><code>Cookie[] cookies = request.getCookies();\ncookies[0].setMaxAge(0);\nresponse.addCookie(cookies[0]);\n</code></pre>\n\n<p>Here we delete only the first cookie</p>\n"}],"owner":{"display_name":"user918477"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40898,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8908380,"answer_count":6,"score":6,"last_activity_date":1658384719,"creation_date":1326880258,"question_id":8908110,"body_markdown":"This my code for setting new cookie\r\n\r\n    Cookie citizen = new Cookie(&quot;citizen&quot;,email);\r\n    citizen.setMaxAge(3600);\r\n    response.addCookie(citizen);\r\n\r\nnow i&#39;m using this code for destroying the cookie \r\n\r\n    Cookie[] cookies = request.getCookies();\r\n           \r\n            for(int i = 0; i &lt; cookies.length; i++) {\r\n                if (cookies[i].getName().equals(&quot;citizen&quot;)) {\r\n                 cookies[i].setMaxAge(0);\r\n                response.addCookie(cookies[i]);\r\n    }\r\n    }\r\n\r\nBut, i&#39;m still getting cookie value. Help will be appreciated !!","title":"how to delete the cookies in jsp/java","body":"<p>This my code for setting new cookie</p>\n\n<pre><code>Cookie citizen = new Cookie(\"citizen\",email);\ncitizen.setMaxAge(3600);\nresponse.addCookie(citizen);\n</code></pre>\n\n<p>now i'm using this code for destroying the cookie </p>\n\n<pre><code>Cookie[] cookies = request.getCookies();\n\n        for(int i = 0; i &lt; cookies.length; i++) {\n            if (cookies[i].getName().equals(\"citizen\")) {\n             cookies[i].setMaxAge(0);\n            response.addCookie(cookies[i]);\n}\n}\n</code></pre>\n\n<p>But, i'm still getting cookie value. Help will be appreciated !!</p>\n"},{"tags":["java","android","date","time","java-time"],"comments":[{"owner":{"account_id":5922909,"reputation":710,"user_id":4659743,"display_name":"Naitik Soni"},"score":2,"creation_date":1564061592,"post_id":57203186,"comment_id":100913863,"body_markdown":"Please post your code block, what you have tried.","body":"Please post your code block, what you have tried."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1564129764,"post_id":57203186,"comment_id":100936792,"body_markdown":"Possible duplicate of [Android N Java8 java.time](https://stackoverflow.com/questions/36000997/android-n-java8-java-time)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36000997/android-n-java8-java-time\">Android N Java8 java.time</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1564129936,"post_id":57203186,"comment_id":100936864,"body_markdown":"java.time is built-in from API level 26 (Oreo). There is a backport for lower levels, [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP). Please consider it. More in this Stack Overflow question: [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).","body":"java.time is built-in from API level 26 (Oreo). There is a backport for lower levels, <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>. Please consider it. More in this Stack Overflow question: <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>."}],"answers":[{"tags":[],"owner":{"account_id":20875905,"reputation":96,"user_id":15334688,"display_name":"Arpit Bhoi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1658384478,"creation_date":1658151540,"answer_id":73023269,"question_id":57203186,"body_markdown":"I **solved** this issue by adding these lines in Module level build.gradle file\r\n\r\nThis happens because of Java.time was added in api level 26 so below 26 throws an error in app.\r\n\r\n**Just add below lines**\r\n\r\n```\r\nandroid {\r\n\r\n    defaultConfig {\r\n        // Required when setting minSdkVersion to 20 or lower\r\n        multiDexEnabled true\r\n    }\r\n\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled true\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n}\r\n```\r\n\r\nmake sure that  **multiDexEnabled true** in both release and debug \r\n","title":"DateTimeFormatter is not working in Android versions lower than 8","body":"<p>I <strong>solved</strong> this issue by adding these lines in Module level build.gradle file</p>\n<p>This happens because of Java.time was added in api level 26 so below 26 throws an error in app.</p>\n<p><strong>Just add below lines</strong></p>\n<pre><code>android {\n\n    defaultConfig {\n        // Required when setting minSdkVersion to 20 or lower\n        multiDexEnabled true\n    }\n\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n</code></pre>\n<p>make sure that  <strong>multiDexEnabled true</strong> in both release and debug</p>\n"}],"owner":{"account_id":11266581,"reputation":41,"user_id":8263205,"display_name":"Pranit Shirsath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658384478,"creation_date":1564061507,"question_id":57203186,"body_markdown":"I want to subtract 30 minutes from another time string, but I am getting this error on lower versions such as  `0.5,0.6,0.7` (Lollipop, Marshmallow, Naught).  \r\nError is as below:\r\n&gt; java.lang.NoClassDefFoundError: Failed resolution of: Ljava/time/format/DateTimeFormatter;\r\n","title":"DateTimeFormatter is not working in Android versions lower than 8","body":"<p>I want to subtract 30 minutes from another time string, but I am getting this error on lower versions such as  <code>0.5,0.6,0.7</code> (Lollipop, Marshmallow, Naught).<br>\nError is as below:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: Failed resolution of: Ljava/time/format/DateTimeFormatter;</p>\n</blockquote>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":2,"creation_date":1486838634,"post_id":42179664,"comment_id":71522573,"body_markdown":"Are you using Spring Boot or just regular Spring Framework?","body":"Are you using Spring Boot or just regular Spring Framework?"},{"owner":{"account_id":2996633,"reputation":23,"user_id":2543064,"display_name":"Alex_Java"},"score":0,"creation_date":1486840789,"post_id":42179664,"comment_id":71523312,"body_markdown":"Just spring framework.","body":"Just spring framework."}],"answers":[{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1486841934,"creation_date":1486841934,"answer_id":42180369,"question_id":42179664,"body_markdown":"You can create PropertiesFactoryBean with your properties file and then inject it with @Resource annotation where you want to use it as a map.\r\n\r\n    @Bean(name = &quot;myProperties&quot;)\r\n    public static PropertiesFactoryBean mapper() {\r\n        PropertiesFactoryBean bean = new PropertiesFactoryBean();\r\n        bean.setLocation(new ClassPathResource(&quot;prop_file_name.properties&quot;));\r\n        return bean;\r\n    }\r\n\r\nUsage:\r\n\r\n    @Resource(name = &quot;myProperties&quot;)\r\n    private Map&lt;String, String&gt; myProperties;","title":"Inject all keys and Values from property file as Map in Spring","body":"<p>You can create PropertiesFactoryBean with your properties file and then inject it with @Resource annotation where you want to use it as a map.</p>\n\n<pre><code>@Bean(name = \"myProperties\")\npublic static PropertiesFactoryBean mapper() {\n    PropertiesFactoryBean bean = new PropertiesFactoryBean();\n    bean.setLocation(new ClassPathResource(\"prop_file_name.properties\"));\n    return bean;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>@Resource(name = \"myProperties\")\nprivate Map&lt;String, String&gt; myProperties;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2870293,"reputation":1275,"user_id":2463802,"display_name":"Marcos Nunes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497379466,"creation_date":1497379466,"answer_id":44529234,"question_id":42179664,"body_markdown":"you can use `@Value`.\r\n\r\nProperties file:\r\n\r\n    dbConstants={key1:&#39;value1&#39;,key2:&#39;value2&#39;}\r\n\r\nJava code:\r\n\r\n    @Value(&quot;#{${dbConstants}}&quot;)\r\n    private Map&lt;String,String&gt; dbConstants;","title":"Inject all keys and Values from property file as Map in Spring","body":"<p>you can use <code>@Value</code>.</p>\n\n<p>Properties file:</p>\n\n<pre><code>dbConstants={key1:'value1',key2:'value2'}\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>@Value(\"#{${dbConstants}}\")\nprivate Map&lt;String,String&gt; dbConstants;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25859359,"reputation":1,"user_id":19592053,"display_name":"Srikanth Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658384329,"creation_date":1658384329,"answer_id":73061522,"question_id":42179664,"body_markdown":"you have to give spaces its like \r\n\r\n    hash.key = {indoor: &#39;reading&#39;, outdoor: &#39;fishing&#39;}\r\n\r\nRead map like below as i mentioned.\r\n\r\n    @Value(&quot;#{${hash.key}}&quot;)\r\n    private Map&lt;String, String&gt; hobbies;","title":"Inject all keys and Values from property file as Map in Spring","body":"<p>you have to give spaces its like</p>\n<pre><code>hash.key = {indoor: 'reading', outdoor: 'fishing'}\n</code></pre>\n<p>Read map like below as i mentioned.</p>\n<pre><code>@Value(&quot;#{${hash.key}}&quot;)\nprivate Map&lt;String, String&gt; hobbies;\n</code></pre>\n"}],"owner":{"account_id":2996633,"reputation":23,"user_id":2543064,"display_name":"Alex_Java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9083,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42180369,"answer_count":3,"score":2,"last_activity_date":1658384329,"creation_date":1486838002,"question_id":42179664,"body_markdown":"Can someone provide some idea to inject all dynamic keys and values from property file and pass it as `Map` to `DBConstants` class using Setter Injection with Collection.\r\n    \r\nKeys are not known in advance and can vary.\r\n    \r\n    // Example Property File that stores all db related details\r\n    // db.properties\r\n\r\n    db.username.admin=root\r\n    db.password.admin=password12\r\n    db.username.user=admin\r\n    db.password.user=password13\r\n\r\n`DBConstants` contains map dbConstants for which all keys and values need to be injected.\r\n\r\nPlease provide bean definition to inject all keys and values to Map dbConstants.\r\n    \r\n    public class DBConstants {\r\n        \r\n        private Map&lt;String,String&gt; dbConstants;\r\n\r\n        public Map&lt;String, String&gt; getDbConstants() {\r\n        \treturn dbConstants;\r\n        }\r\n        \r\n        public void setDbConstants(Map&lt;String, String&gt; dbConstants) {\r\n        \tthis.dbConstants = dbConstants;\r\n        }\r\n    }\r\n        \r\n\r\n\r\n\r\n","title":"Inject all keys and Values from property file as Map in Spring","body":"<p>Can someone provide some idea to inject all dynamic keys and values from property file and pass it as <code>Map</code> to <code>DBConstants</code> class using Setter Injection with Collection.</p>\n\n<p>Keys are not known in advance and can vary.</p>\n\n<pre><code>// Example Property File that stores all db related details\n// db.properties\n\ndb.username.admin=root\ndb.password.admin=password12\ndb.username.user=admin\ndb.password.user=password13\n</code></pre>\n\n<p><code>DBConstants</code> contains map dbConstants for which all keys and values need to be injected.</p>\n\n<p>Please provide bean definition to inject all keys and values to Map dbConstants.</p>\n\n<pre><code>public class DBConstants {\n\n    private Map&lt;String,String&gt; dbConstants;\n\n    public Map&lt;String, String&gt; getDbConstants() {\n        return dbConstants;\n    }\n\n    public void setDbConstants(Map&lt;String, String&gt; dbConstants) {\n        this.dbConstants = dbConstants;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","spring","database","spring-boot"],"comments":[{"owner":{"account_id":23008332,"reputation":21,"user_id":17131207,"display_name":"Nazareno Garma"},"score":0,"creation_date":1658377454,"post_id":73060663,"comment_id":129037508,"body_markdown":"sorry Scary Wombat, i don&#39;t get it","body":"sorry Scary Wombat, i don&#39;t get it"},{"owner":{"account_id":23008332,"reputation":21,"user_id":17131207,"display_name":"Nazareno Garma"},"score":0,"creation_date":1658377863,"post_id":73060663,"comment_id":129037582,"body_markdown":"yes, but no, since the problem comes with this single entity, the other entities can get the requests correctly","body":"yes, but no, since the problem comes with this single entity, the other entities can get the requests correctly"}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658383915,"creation_date":1658383212,"answer_id":73061351,"question_id":73060663,"body_markdown":"The reason of the error is that these mappings are incorrect\r\n```java\r\n    @Column(name = &quot;id_cliente&quot;)\r\n    private Cliente cliente;\r\n\r\n    @Column(name = &quot;id_empresa&quot;)\r\n    private Empresa empresa;\r\n\r\n    @Column(name = &quot;id_producto&quot;)\r\n    private Producto producto;\r\n```\r\nYou can&#39;t just use associations in the mapping, like other fields.\r\nYou have to explain to Hibernate, how they are implemented on the database level. For example, using a join table or a foreign key.\r\n\r\nTo create an association via a foreign key, you need to use `@JoinColumn` and `@ManyToOne` annotation\r\n```java\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_cliente&quot;)\r\n    private Cliente cliente;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_empresa&quot;)\r\n    private Empresa empresa;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_producto&quot;)\r\n    private Producto producto;\r\n```\r\nYou can find more options here\r\n[what is @JoinColumn and how it is used in Hibernate](https://stackoverflow.com/a/37542849/3405171)","title":"ERROR in Java Spring Boot Jpa Hibernate using database H2. ERROR: could not deserialize; nested exception is org.hibernate.type.SerializationException","body":"<p>The reason of the error is that these mappings are incorrect</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Column(name = &quot;id_cliente&quot;)\n    private Cliente cliente;\n\n    @Column(name = &quot;id_empresa&quot;)\n    private Empresa empresa;\n\n    @Column(name = &quot;id_producto&quot;)\n    private Producto producto;\n</code></pre>\n<p>You can't just use associations in the mapping, like other fields.\nYou have to explain to Hibernate, how they are implemented on the database level. For example, using a join table or a foreign key.</p>\n<p>To create an association via a foreign key, you need to use <code>@JoinColumn</code> and <code>@ManyToOne</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_cliente&quot;)\n    private Cliente cliente;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_empresa&quot;)\n    private Empresa empresa;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_producto&quot;)\n    private Producto producto;\n</code></pre>\n<p>You can find more options here\n<a href=\"https://stackoverflow.com/a/37542849/3405171\">what is @JoinColumn and how it is used in Hibernate</a></p>\n"}],"owner":{"account_id":23008332,"reputation":21,"user_id":17131207,"display_name":"Nazareno Garma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658383915,"creation_date":1658377072,"question_id":73060663,"body_markdown":"[**I have other entities that work great for me when making the requests, but others like this (Invoice) in this case that when making the request returns an error could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize, I don&#39;t understand what could be the cause, please if anyone could help me I would be very grateful, thanks**]\r\n\r\n    2022-07-21 01:01:20.254  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Starting FacturacionApplication using Java 17 on DESKTOP-Q22VBSJ with PID 26188 (C:\\Users\\Usuario\\Desktop\\facturacion\\target\\classes started by Usuario in C:\\Users\\Usuario\\Desktop\\facturacion)\r\n    2022-07-21 01:01:20.255  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-07-21 01:01:20.301  INFO 26188 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2022-07-21 01:01:20.301  INFO 26188 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2022-07-21 01:01:20.969  INFO 26188 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-07-21 01:01:21.039  INFO 26188 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.\r\n    2022-07-21 01:01:21.371  INFO 26188 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.ws.config.annotation.DelegatingWsConfiguration&#39; of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f4ec1db5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2022-07-21 01:01:21.464  INFO 26188 --- [  restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\r\n    2022-07-21 01:01:22.033  INFO 26188 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-07-21 01:01:22.047  INFO 26188 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-07-21 01:01:22.047  INFO 26188 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\r\n    2022-07-21 01:01:22.126  INFO 26188 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-07-21 01:01:22.126  INFO 26188 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1825 ms\r\n    2022-07-21 01:01:22.155  INFO 26188 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-07-21 01:01:22.344  INFO 26188 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-07-21 01:01:22.354  INFO 26188 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:springcoder&#39;\r\n    2022-07-21 01:01:22.563  INFO 26188 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-07-21 01:01:22.625  INFO 26188 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n    2022-07-21 01:01:22.832  INFO 26188 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-07-21 01:01:22.944  INFO 26188 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    2022-07-21 01:01:23.507  INFO 26188 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-07-21 01:01:23.512  INFO 26188 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-07-21 01:01:24.280  INFO 26188 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2022-07-21 01:01:24.316  INFO 26188 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-07-21 01:01:24.326  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Started FacturacionApplication in 4.474 seconds (JVM running for 4.977)\r\n    2022-07-21 01:01:24.328  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Application started\r\n    2022-07-21 01:01:30.380  INFO 26188 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-07-21 01:01:30.380  INFO 26188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-07-21 01:01:30.381  INFO 26188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2022-07-21 01:01:30.517 ERROR 26188 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize] with root cause\r\n    \r\n    java.io.StreamCorruptedException: invalid stream header: 00000000\r\n    \tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963) ~[na:na]\r\n    \tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397) ~[na:na]\r\n    \tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy107.findAll(Unknown Source) ~[na:na]\r\n    \tat com.coderhouse.facturacion.services.Empresa.EmpresaServiceImp.getAllEmpresas(EmpresaServiceImp.java:18) ~[classes/:na]\r\n    \tat com.coderhouse.facturacion.controllers.Empresa.EmpresaController.getEmpresas(EmpresaController.java:23) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \r\n    2022-07-21 01:04:07.752  INFO 26188 --- [       Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-07-21 01:04:07.976  WARN 26188 --- [       Thread-6] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name &#39;inMemoryDatabaseShutdownExecutor&#39;: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\r\n    2022-07-21 01:04:07.977  INFO 26188 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-07-21 01:04:07.984  INFO 26188 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\n\r\n[Factura.java] \r\n\r\n    package com.coderhouse.facturacion.models;\r\n    \r\n    \r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.util.Objects;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;facturas&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Factura implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;nro_factura&quot;)\r\n        private int nroFactura;\r\n    \r\n        @Column(name = &quot;fecha_factura&quot;)\r\n        private String fecha;\r\n    \r\n        @Column(name = &quot;id_cliente&quot;)\r\n        private Cliente cliente;\r\n    \r\n        @Column(name = &quot;id_empresa&quot;)\r\n        private Empresa empresa;\r\n    \r\n        @Column(name = &quot;id_producto&quot;)\r\n        private Producto producto;\r\n    \r\n        @Column(name = &quot;cantidad&quot;)\r\n        private int cantidad;\r\n    \r\n        @Column(name = &quot;precio_unitario&quot;)\r\n        private String precio;\r\n    \r\n        @Column(name = &quot;precio_total&quot;)\r\n        private String precioTotal;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Factura factura = (Factura) o;\r\n            return nroFactura == factura.nroFactura &amp;&amp; cantidad == factura.cantidad &amp;&amp; id.equals(factura.id) &amp;&amp; fecha.equals(factura.fecha) &amp;&amp; cliente.equals(factura.cliente) &amp;&amp; empresa.equals(factura.empresa) &amp;&amp; producto.equals(factura.producto) &amp;&amp; precio.equals(factura.precio) &amp;&amp; precioTotal.equals(factura.precioTotal);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, nroFactura, fecha, cliente, empresa, producto, cantidad, precio, precioTotal);\r\n        }\r\n    }\r\n\r\n[FacturaRepository.java]\r\n\r\n    package com.coderhouse.facturacion.repositories.Factura;\r\n    \r\n    import com.coderhouse.facturacion.models.Factura;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface FacturaRepository extends JpaRepository&lt;Factura, Long&gt; {\r\n    \r\n    }\r\n\r\n[FacturaService.java]\r\n\r\n    package com.coderhouse.facturacion.services.Factura;\r\n    \r\n    import com.coderhouse.facturacion.models.Factura;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface FacturaService {\r\n    \r\n        List&lt;Factura&gt; getAllFacturas();\r\n    \r\n        Factura getOneFactura(Long id);\r\n    \r\n        Factura createFactura(Factura factura);\r\n    \r\n        Factura updateFactura(Factura factura);\r\n    \r\n        void deleteFactura(Long id);\r\n    \r\n        void deleteAllFacturas();\r\n    \r\n    \r\n    }\r\n\r\n[FacturaServiceImp.java]\r\n\r\n\r\n    package com.coderhouse.facturacion.services.Factura;\r\n    \r\n    import com.coderhouse.facturacion.models.Factura;\r\n    import com.coderhouse.facturacion.repositories.Factura.FacturaRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class FacturaServiceImp implements FacturaService {\r\n    \r\n        @Autowired\r\n        FacturaRepository facturaRepository;\r\n    \r\n        public List&lt;Factura&gt; getAllFacturas() {\r\n            return new ArrayList&lt;&gt;(facturaRepository.findAll());\r\n    \r\n        }\r\n    \r\n        public Factura getOneFactura(Long id) {\r\n            return facturaRepository.findById(id).get();\r\n        }\r\n    \r\n        public Factura createFactura(Factura factura) {\r\n            return facturaRepository.save(factura);\r\n        }\r\n    \r\n        public Factura updateFactura(Factura factura) {\r\n            return facturaRepository.save(factura);\r\n        }\r\n    \r\n        public void deleteFactura(Long id) {\r\n            facturaRepository.deleteById(id);\r\n        }\r\n    \r\n        public void deleteAllFacturas() {\r\n            facturaRepository.deleteAll();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n[FacturaController.java]\r\n\r\n    package com.coderhouse.facturacion.controllers.Factura;\r\n    \r\n    import com.coderhouse.facturacion.models.Factura;\r\n    import com.coderhouse.facturacion.services.Factura.FacturaService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class FacturaController {\r\n    \r\n        @Autowired\r\n        FacturaService facturaService;\r\n    \r\n        @GetMapping(&quot;/api/facturas&quot;)\r\n        public List&lt;Factura&gt; getAllFacturas() {\r\n    \r\n            return facturaService.getAllFacturas();\r\n    \r\n        }\r\n    \r\n        @GetMapping(&quot;/api/facturas/{id}&quot;)\r\n        public Factura getOneFactura(@PathVariable Long id) {\r\n    \r\n            return facturaService.getOneFactura(id);\r\n    \r\n        }\r\n    \r\n        @PostMapping(&quot;/api/facturas&quot;)\r\n        public Factura createFactura(@RequestBody Factura factura) {\r\n    \r\n            return facturaService.createFactura(factura);\r\n    \r\n        }\r\n    \r\n        @PutMapping(&quot;/api/facturas&quot;)\r\n        public Factura updateFactura(@RequestBody Factura factura) {\r\n    \r\n            return facturaService.updateFactura(factura);\r\n    \r\n    \r\n        }\r\n    \r\n        @DeleteMapping(&quot;/api/facturas/{id}&quot;)\r\n        public void deleteFactura(@PathVariable Long id) {\r\n    \r\n            facturaService.deleteFactura(id);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/api/facturas&quot;)\r\n        public void deleteAllFacturas() {\r\n    \r\n            facturaService.deleteAllFacturas();\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n[schema.sql]\r\n\r\n    DROP TABLE factura IF EXISTS;\r\n    DROP TABLE facturas IF EXISTS;\r\n    CREATE TABLE facturas (\r\n      id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n      nro_factura INT NOT NULL,\r\n        fecha_factura DATE NOT NULL,\r\n        id_cliente BIGINT NOT NULL,\r\n        id_empresa BIGINT NOT NULL,\r\n        id_producto BIGINT NOT NULL,\r\n        cantidad INT NOT NULL,\r\n        precio_unitario VARCHAR(255) NOT NULL,\r\n        precio_total VARCHAR(255) NOT NULL\r\n    );\r\n\r\n[data.sql]\r\n\r\n    INSERT INTO facturas (nro_factura,fecha_factura,id_cliente,id_empresa,id_producto,cantidad,precio_unitario,precio_total) VALUES (4444,&#39;2022-07-04&#39;,1,1,1,2,&#39;1000&#39;,&#39;2000&#39;);\r\n\r\n\r\n","title":"ERROR in Java Spring Boot Jpa Hibernate using database H2. ERROR: could not deserialize; nested exception is org.hibernate.type.SerializationException","body":"<p>[<strong>I have other entities that work great for me when making the requests, but others like this (Invoice) in this case that when making the request returns an error could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize, I don't understand what could be the cause, please if anyone could help me I would be very grateful, thanks</strong>]</p>\n<pre><code>2022-07-21 01:01:20.254  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Starting FacturacionApplication using Java 17 on DESKTOP-Q22VBSJ with PID 26188 (C:\\Users\\Usuario\\Desktop\\facturacion\\target\\classes started by Usuario in C:\\Users\\Usuario\\Desktop\\facturacion)\n2022-07-21 01:01:20.255  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-07-21 01:01:20.301  INFO 26188 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-07-21 01:01:20.301  INFO 26188 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-07-21 01:01:20.969  INFO 26188 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-07-21 01:01:21.039  INFO 26188 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.\n2022-07-21 01:01:21.371  INFO 26188 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$f4ec1db5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-07-21 01:01:21.464  INFO 26188 --- [  restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\n2022-07-21 01:01:22.033  INFO 26188 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-07-21 01:01:22.047  INFO 26188 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-07-21 01:01:22.047  INFO 26188 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\n2022-07-21 01:01:22.126  INFO 26188 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-07-21 01:01:22.126  INFO 26188 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1825 ms\n2022-07-21 01:01:22.155  INFO 26188 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-07-21 01:01:22.344  INFO 26188 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-07-21 01:01:22.354  INFO 26188 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:springcoder'\n2022-07-21 01:01:22.563  INFO 26188 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-07-21 01:01:22.625  INFO 26188 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2022-07-21 01:01:22.832  INFO 26188 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-07-21 01:01:22.944  INFO 26188 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-07-21 01:01:23.507  INFO 26188 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-07-21 01:01:23.512  INFO 26188 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-07-21 01:01:24.280  INFO 26188 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-07-21 01:01:24.316  INFO 26188 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-07-21 01:01:24.326  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Started FacturacionApplication in 4.474 seconds (JVM running for 4.977)\n2022-07-21 01:01:24.328  INFO 26188 --- [  restartedMain] c.c.facturacion.FacturacionApplication   : Application started\n2022-07-21 01:01:30.380  INFO 26188 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-07-21 01:01:30.380  INFO 26188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-07-21 01:01:30.381  INFO 26188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2022-07-21 01:01:30.517 ERROR 26188 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize] with root cause\n\njava.io.StreamCorruptedException: invalid stream header: 00000000\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963) ~[na:na]\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397) ~[na:na]\n    at org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n    at jdk.proxy4/jdk.proxy4.$Proxy107.findAll(Unknown Source) ~[na:na]\n    at com.coderhouse.facturacion.services.Empresa.EmpresaServiceImp.getAllEmpresas(EmpresaServiceImp.java:18) ~[classes/:na]\n    at com.coderhouse.facturacion.controllers.Empresa.EmpresaController.getEmpresas(EmpresaController.java:23) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2022-07-21 01:04:07.752  INFO 26188 --- [       Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-07-21 01:04:07.976  WARN 26188 --- [       Thread-6] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-214]\n2022-07-21 01:04:07.977  INFO 26188 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-07-21 01:04:07.984  INFO 26188 --- [       Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>[Factura.java]</p>\n<pre><code>package com.coderhouse.facturacion.models;\n\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;facturas&quot;)\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Factura implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;nro_factura&quot;)\n    private int nroFactura;\n\n    @Column(name = &quot;fecha_factura&quot;)\n    private String fecha;\n\n    @Column(name = &quot;id_cliente&quot;)\n    private Cliente cliente;\n\n    @Column(name = &quot;id_empresa&quot;)\n    private Empresa empresa;\n\n    @Column(name = &quot;id_producto&quot;)\n    private Producto producto;\n\n    @Column(name = &quot;cantidad&quot;)\n    private int cantidad;\n\n    @Column(name = &quot;precio_unitario&quot;)\n    private String precio;\n\n    @Column(name = &quot;precio_total&quot;)\n    private String precioTotal;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Factura factura = (Factura) o;\n        return nroFactura == factura.nroFactura &amp;&amp; cantidad == factura.cantidad &amp;&amp; id.equals(factura.id) &amp;&amp; fecha.equals(factura.fecha) &amp;&amp; cliente.equals(factura.cliente) &amp;&amp; empresa.equals(factura.empresa) &amp;&amp; producto.equals(factura.producto) &amp;&amp; precio.equals(factura.precio) &amp;&amp; precioTotal.equals(factura.precioTotal);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, nroFactura, fecha, cliente, empresa, producto, cantidad, precio, precioTotal);\n    }\n}\n</code></pre>\n<p>[FacturaRepository.java]</p>\n<pre><code>package com.coderhouse.facturacion.repositories.Factura;\n\nimport com.coderhouse.facturacion.models.Factura;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface FacturaRepository extends JpaRepository&lt;Factura, Long&gt; {\n\n}\n</code></pre>\n<p>[FacturaService.java]</p>\n<pre><code>package com.coderhouse.facturacion.services.Factura;\n\nimport com.coderhouse.facturacion.models.Factura;\n\nimport java.util.List;\n\npublic interface FacturaService {\n\n    List&lt;Factura&gt; getAllFacturas();\n\n    Factura getOneFactura(Long id);\n\n    Factura createFactura(Factura factura);\n\n    Factura updateFactura(Factura factura);\n\n    void deleteFactura(Long id);\n\n    void deleteAllFacturas();\n\n\n}\n</code></pre>\n<p>[FacturaServiceImp.java]</p>\n<pre><code>package com.coderhouse.facturacion.services.Factura;\n\nimport com.coderhouse.facturacion.models.Factura;\nimport com.coderhouse.facturacion.repositories.Factura.FacturaRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class FacturaServiceImp implements FacturaService {\n\n    @Autowired\n    FacturaRepository facturaRepository;\n\n    public List&lt;Factura&gt; getAllFacturas() {\n        return new ArrayList&lt;&gt;(facturaRepository.findAll());\n\n    }\n\n    public Factura getOneFactura(Long id) {\n        return facturaRepository.findById(id).get();\n    }\n\n    public Factura createFactura(Factura factura) {\n        return facturaRepository.save(factura);\n    }\n\n    public Factura updateFactura(Factura factura) {\n        return facturaRepository.save(factura);\n    }\n\n    public void deleteFactura(Long id) {\n        facturaRepository.deleteById(id);\n    }\n\n    public void deleteAllFacturas() {\n        facturaRepository.deleteAll();\n    }\n\n\n}\n</code></pre>\n<p>[FacturaController.java]</p>\n<pre><code>package com.coderhouse.facturacion.controllers.Factura;\n\nimport com.coderhouse.facturacion.models.Factura;\nimport com.coderhouse.facturacion.services.Factura.FacturaService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\npublic class FacturaController {\n\n    @Autowired\n    FacturaService facturaService;\n\n    @GetMapping(&quot;/api/facturas&quot;)\n    public List&lt;Factura&gt; getAllFacturas() {\n\n        return facturaService.getAllFacturas();\n\n    }\n\n    @GetMapping(&quot;/api/facturas/{id}&quot;)\n    public Factura getOneFactura(@PathVariable Long id) {\n\n        return facturaService.getOneFactura(id);\n\n    }\n\n    @PostMapping(&quot;/api/facturas&quot;)\n    public Factura createFactura(@RequestBody Factura factura) {\n\n        return facturaService.createFactura(factura);\n\n    }\n\n    @PutMapping(&quot;/api/facturas&quot;)\n    public Factura updateFactura(@RequestBody Factura factura) {\n\n        return facturaService.updateFactura(factura);\n\n\n    }\n\n    @DeleteMapping(&quot;/api/facturas/{id}&quot;)\n    public void deleteFactura(@PathVariable Long id) {\n\n        facturaService.deleteFactura(id);\n\n\n    }\n\n\n    @DeleteMapping(&quot;/api/facturas&quot;)\n    public void deleteAllFacturas() {\n\n        facturaService.deleteAllFacturas();\n\n\n    }\n}\n</code></pre>\n<p>[schema.sql]</p>\n<pre><code>DROP TABLE factura IF EXISTS;\nDROP TABLE facturas IF EXISTS;\nCREATE TABLE facturas (\n  id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  nro_factura INT NOT NULL,\n    fecha_factura DATE NOT NULL,\n    id_cliente BIGINT NOT NULL,\n    id_empresa BIGINT NOT NULL,\n    id_producto BIGINT NOT NULL,\n    cantidad INT NOT NULL,\n    precio_unitario VARCHAR(255) NOT NULL,\n    precio_total VARCHAR(255) NOT NULL\n);\n</code></pre>\n<p>[data.sql]</p>\n<pre><code>INSERT INTO facturas (nro_factura,fecha_factura,id_cliente,id_empresa,id_producto,cantidad,precio_unitario,precio_total) VALUES (4444,'2022-07-04',1,1,1,2,'1000','2000');\n</code></pre>\n"},{"tags":["java","android","kotlin","exoplayer"],"comments":[{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1658832349,"post_id":73061399,"comment_id":129144450,"body_markdown":"It might be worth testing to see if this is a race condition - i.e. if the MediaStore manual deletion has not yet been updated or detected.","body":"It might be worth testing to see if this is a race condition - i.e. if the MediaStore manual deletion has not yet been updated or detected."},{"owner":{"account_id":24677459,"reputation":141,"user_id":18571653,"display_name":"Mayur"},"score":0,"creation_date":1658919869,"post_id":73061399,"comment_id":129170181,"body_markdown":"What I have observed from my testing and debugging, exoplayer maintains a seperate local database in which it stores the downloaded audio file details. And exoplayer checks if the audio file is presented in the local db to check if it is downloaded. So when we delete the file manually from file manager there is no way to remove the same object from exoplayer table.","body":"What I have observed from my testing and debugging, exoplayer maintains a seperate local database in which it stores the downloaded audio file details. And exoplayer checks if the audio file is presented in the local db to check if it is downloaded. So when we delete the file manually from file manager there is no way to remove the same object from exoplayer table."},{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1658920832,"post_id":73061399,"comment_id":129170588,"body_markdown":"Interesting - that sounds like it would be worth raising an issue on the ExoPlayer GitHub for.","body":"Interesting - that sounds like it would be worth raising an issue on the ExoPlayer GitHub for."},{"owner":{"account_id":24677459,"reputation":141,"user_id":18571653,"display_name":"Mayur"},"score":0,"creation_date":1658926295,"post_id":73061399,"comment_id":129172804,"body_markdown":"@Mick Let me know if you open an issue","body":"@Mick Let me know if you open an issue"}],"owner":{"account_id":24677459,"reputation":141,"user_id":18571653,"display_name":"Mayur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658383536,"creation_date":1658383536,"question_id":73061399,"body_markdown":"I am downloading my HLS audio file using exoplayer and would like to know if file is downloaded. Exoplayer has given a way to check if file downloaded or not -\r\n\r\n    Download download = downloadManager.getDownloadIndex().getDownload(id);\r\n    return download != null &amp;&amp; download.state != Download.STATE_FAILED;\r\n\r\nIt works fine in every cases except one of it. It detects if file is downloaded properly unless we manually go to the filemanager app and delete the downloaded files externally.\r\n\r\nIs there a way to detect if the exoplayer downloaded file is still available in the storage. I have seen apps like Youtube which detects manually externally removal of exoplayer downloaded file.","title":"Check if Exoplayer downloaded file is still available in storage","body":"<p>I am downloading my HLS audio file using exoplayer and would like to know if file is downloaded. Exoplayer has given a way to check if file downloaded or not -</p>\n<pre><code>Download download = downloadManager.getDownloadIndex().getDownload(id);\nreturn download != null &amp;&amp; download.state != Download.STATE_FAILED;\n</code></pre>\n<p>It works fine in every cases except one of it. It detects if file is downloaded properly unless we manually go to the filemanager app and delete the downloaded files externally.</p>\n<p>Is there a way to detect if the exoplayer downloaded file is still available in the storage. I have seen apps like Youtube which detects manually externally removal of exoplayer downloaded file.</p>\n"},{"tags":["java","spring-boot","junit5","spring-test"],"comments":[{"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"score":0,"creation_date":1658382304,"post_id":73061098,"comment_id":129038426,"body_markdown":"you have mocked the target method for repository : myRepository.findByParam(param), but not for the method call responseMapper.mapToResponseData(list). Can you mock responseMapper.mapToResponseData(list) method and try once.","body":"you have mocked the target method for repository : myRepository.findByParam(param), but not for the method call responseMapper.mapToResponseData(list). Can you mock responseMapper.mapToResponseData(list) method and try once."},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1658383513,"post_id":73061098,"comment_id":129038705,"body_markdown":"@ManjunathHM With method mocking it works. But is there any way to execute that method without mocking. I dont want to create separate test class for the mapper class","body":"@ManjunathHM With method mocking it works. But is there any way to execute that method without mocking. I dont want to create separate test class for the mapper class"},{"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"score":2,"creation_date":1658383689,"post_id":73061098,"comment_id":129038749,"body_markdown":"while writing unit tests, you should mock the target methods of other dependency objects. If you write the Integration test cases then you can cover the entire flow in a single shot.","body":"while writing unit tests, you should mock the target methods of other dependency objects. If you write the Integration test cases then you can cover the entire flow in a single shot."}],"owner":{"display_name":"user2094311"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658383472,"creation_date":1658381222,"question_id":73061098,"body_markdown":"I&#39;m using spring boot rest API and want to test my service layer. In my service I have autowired few beans and its not through constructor. (I like it that way to keep it short). \r\n\r\nIn the junit, I have created mocks and for private field which I do want to execute, I have assigned using *ReflectionTestUtils.setField*. When I debug, the method inside the field is not getting executed which assigned by bean. \r\n\r\n**Service Class** \r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyRepository myRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate ResponseMapper responseMapper;\r\n    \t\r\n    \tpublic List&lt;MyObj&gt; getList(String param) throws MyException {\r\n    \t\tlog.info(&quot;Getting details&quot;);\r\n    \t\tOptional&lt;List&lt;MyObj&gt;&gt; list = myRepository.findByParam(param);\r\n    \t\tList&lt;MyObj&gt; data = responseMapper.mapToResponseData(list);\r\n    \t\treturn data;\r\n    \t}\r\n    }\r\n\r\n**Test Class**\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyServiceTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate MyService myService;\r\n    \r\n    \t@Mock\r\n    \tprivate MyRepository myRepository;\r\n    \t\r\n    \t@Mock\r\n    \tprivate ResponseMapper responseMapper;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tReflectionTestUtils.setField(myService, &quot;responseMapper&quot;, responseMapper);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void getListTest() throws Exception {\r\n    \t\twhen(myRepository.findByParam(anyString()))\r\n    \t\t\t\t.thenReturn(Optional.of(getSampleList()));\r\n    \t\tList&lt;MyObj&gt; list = myService.getList(&quot;param&quot;);\r\n    \t\tassertTrue(list.size() &gt;0);\r\n    \t}\r\n    }\r\n\r\nThis results in Assertion failure and when I debug, the method *mapToResponseData* in ResponseMapper is not getting executed.\r\n\r\nI know I can mock mapToResponseData method also. But I wanted it to execute so I don&#39;t have to write another test class for mapper alone. \r\n\r\nWhat am I doing wrong? Is this the right wat to inject bean? And is using constructor in service to inject beans only option?","title":"Junit Mocked bean is not executing","body":"<p>I'm using spring boot rest API and want to test my service layer. In my service I have autowired few beans and its not through constructor. (I like it that way to keep it short).</p>\n<p>In the junit, I have created mocks and for private field which I do want to execute, I have assigned using <em>ReflectionTestUtils.setField</em>. When I debug, the method inside the field is not getting executed which assigned by bean.</p>\n<p><strong>Service Class</strong></p>\n<pre><code>@Component\npublic class MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    @Autowired\n    private ResponseMapper responseMapper;\n    \n    public List&lt;MyObj&gt; getList(String param) throws MyException {\n        log.info(&quot;Getting details&quot;);\n        Optional&lt;List&lt;MyObj&gt;&gt; list = myRepository.findByParam(param);\n        List&lt;MyObj&gt; data = responseMapper.mapToResponseData(list);\n        return data;\n    }\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyServiceTest {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private MyRepository myRepository;\n    \n    @Mock\n    private ResponseMapper responseMapper;\n    \n    @Before\n    public void setUp() {\n        ReflectionTestUtils.setField(myService, &quot;responseMapper&quot;, responseMapper);\n    }\n    \n    @Test\n    public void getListTest() throws Exception {\n        when(myRepository.findByParam(anyString()))\n                .thenReturn(Optional.of(getSampleList()));\n        List&lt;MyObj&gt; list = myService.getList(&quot;param&quot;);\n        assertTrue(list.size() &gt;0);\n    }\n}\n</code></pre>\n<p>This results in Assertion failure and when I debug, the method <em>mapToResponseData</em> in ResponseMapper is not getting executed.</p>\n<p>I know I can mock mapToResponseData method also. But I wanted it to execute so I don't have to write another test class for mapper alone.</p>\n<p>What am I doing wrong? Is this the right wat to inject bean? And is using constructor in service to inject beans only option?</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":24207014,"reputation":295,"user_id":18164056,"display_name":"Ryan Marizza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658355663,"creation_date":1658353309,"answer_id":73058414,"question_id":73056486,"body_markdown":"Try using double backslashes instead of single. Backslash in Java is a special character, so you can&#39;t use it by its-self. Double backslashes in Java strings are converted to a single backslash.\r\n\r\nYour code would look like: \r\n\r\n    Database myFile = new Database(this, &quot;rohdaten2&quot;, &quot;C:\\\\Users\\\\2nd User\\\\Models\\\\TestModel_Excel-Pt3_DatabasisForSimulationChanges1\\\\02 DataBasis_Changing_w7oMakros.xlsx&quot;);  \r\n\r\nHere&#39;s an article on escaping characters in Java.\r\nhttps://codegym.cc/groups/posts/escaping-characters-java","title":"Anylogic update table programmatically before each simulation run","body":"<p>Try using double backslashes instead of single. Backslash in Java is a special character, so you can't use it by its-self. Double backslashes in Java strings are converted to a single backslash.</p>\n<p>Your code would look like:</p>\n<pre><code>Database myFile = new Database(this, &quot;rohdaten2&quot;, &quot;C:\\\\Users\\\\2nd User\\\\Models\\\\TestModel_Excel-Pt3_DatabasisForSimulationChanges1\\\\02 DataBasis_Changing_w7oMakros.xlsx&quot;);  \n</code></pre>\n<p>Here's an article on escaping characters in Java.\n<a href=\"https://codegym.cc/groups/posts/escaping-characters-java\" rel=\"nofollow noreferrer\">https://codegym.cc/groups/posts/escaping-characters-java</a></p>\n"}],"owner":{"account_id":18861675,"reputation":25,"user_id":13758397,"display_name":"alyre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73058414,"answer_count":1,"score":0,"last_activity_date":1658383123,"creation_date":1658341369,"question_id":73056486,"body_markdown":"In my anylogic model my agents receive their parameters from a database table which is based on an Excel file (this is the part that works). \r\nIn the Excel file, each cell has its own code stored, so each time I open the file, the cell values change.  \r\n\r\nI would like that with each automatic run of my model the Excel file is read in again (i.e. the parameter values of the agents change).  \r\nFor this I have entered in the experiment under &quot;before each run&quot;:\r\n\r\n    Database myFile = new Database(this, &quot;rohdaten2&quot;, &quot;C:\\Users\\2nd User\\Models\\TestModel_Excel-Pt3_DatabasisForSimulationChanges1\\02 DataBasis_Changing_w7oMakros.xlsx&quot;);  \r\n    rohdaten.importFromExternalDB(myFile.getConnection(), &quot;Rohdaten&quot;, &quot;rohdaten&quot;, true, false);\r\n\r\nUnfortunately, I now get the error:  \r\n&gt;Description: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r \\&quot; \\&#39; \\\\ ). Location: TestModel_Excel-Pt3_DatabasisForSimulationChanges1/ParametersVariation - Parameter Variation Experiment\r\n\r\nThe error is due to the specification of the file location, but according to the Anylogic [help][1] you are supposed to do it this way. \r\nMy programming skills generally, but also in Java, are not good enough for me to know what to do now or how to fix this. \r\n\r\n\r\n  [1]: https://anylogic.help/anylogic/connectivity/import.html","title":"Anylogic update table programmatically before each simulation run","body":"<p>In my anylogic model my agents receive their parameters from a database table which is based on an Excel file (this is the part that works).\nIn the Excel file, each cell has its own code stored, so each time I open the file, the cell values change.</p>\n<p>I would like that with each automatic run of my model the Excel file is read in again (i.e. the parameter values of the agents change).<br />\nFor this I have entered in the experiment under &quot;before each run&quot;:</p>\n<pre><code>Database myFile = new Database(this, &quot;rohdaten2&quot;, &quot;C:\\Users\\2nd User\\Models\\TestModel_Excel-Pt3_DatabasisForSimulationChanges1\\02 DataBasis_Changing_w7oMakros.xlsx&quot;);  \nrohdaten.importFromExternalDB(myFile.getConnection(), &quot;Rohdaten&quot;, &quot;rohdaten&quot;, true, false);\n</code></pre>\n<p>Unfortunately, I now get the error:</p>\n<blockquote>\n<p>Description: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r &quot; ' \\ ). Location: TestModel_Excel-Pt3_DatabasisForSimulationChanges1/ParametersVariation - Parameter Variation Experiment</p>\n</blockquote>\n<p>The error is due to the specification of the file location, but according to the Anylogic <a href=\"https://anylogic.help/anylogic/connectivity/import.html\" rel=\"nofollow noreferrer\">help</a> you are supposed to do it this way.\nMy programming skills generally, but also in Java, are not good enough for me to know what to do now or how to fix this.</p>\n"},{"tags":["java","swing","user-interface","awt","tic-tac-toe"],"answers":[{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658382394,"creation_date":1658382394,"answer_id":73061241,"question_id":73061093,"body_markdown":"You set the variable `turns` to `0` every time a button is clicked (ie every time `actionPerformed` is called). You need to make `turns` global (same as eg `grid`).","title":"How to switch between 2 colors in Java Jbuttons after every click","body":"<p>You set the variable <code>turns</code> to <code>0</code> every time a button is clicked (ie every time <code>actionPerformed</code> is called). You need to make <code>turns</code> global (same as eg <code>grid</code>).</p>\n"},{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658382983,"creation_date":1658382983,"answer_id":73061316,"question_id":73061093,"body_markdown":"If you want to make the code prettier:\r\n\r\n- The variable `gameRunning` is set but it is never used. You can remove it and the program will still behave the same. Or you can start using it. But just giving it values without using those values is unnecessary work.\r\n\r\n- The variables at the top should be `private` (`grid` is `private`, but eg `board` is not)\r\n\r\n- You can use a loop to shorten the `actionPerformed` method (note that I added a `return;`):\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            for (int col = 0; col &lt; 3; col++) {\r\n                for (int row = 0; row &lt; 3; row++) {\r\n                    if (e.getSource() == grid[col][row]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[col][row].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[col][row].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                        System.out.println(turns);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid&quot;);\r\n        }\r\n","title":"How to switch between 2 colors in Java Jbuttons after every click","body":"<p>If you want to make the code prettier:</p>\n<ul>\n<li><p>The variable <code>gameRunning</code> is set but it is never used. You can remove it and the program will still behave the same. Or you can start using it. But just giving it values without using those values is unnecessary work.</p>\n</li>\n<li><p>The variables at the top should be <code>private</code> (<code>grid</code> is <code>private</code>, but eg <code>board</code> is not)</p>\n</li>\n<li><p>You can use a loop to shorten the <code>actionPerformed</code> method (note that I added a <code>return;</code>):</p>\n<pre><code>  @Override\n  public void actionPerformed(ActionEvent e) {\n      for (int col = 0; col &lt; 3; col++) {\n          for (int row = 0; row &lt; 3; row++) {\n              if (e.getSource() == grid[col][row]) {\n                  turns++;\n                  if (turns % 2 == 0) {\n                      grid[col][row].setBackground(Color.orange);\n                      check(turns);\n                  } else {\n                      grid[col][row].setBackground(Color.blue);\n                      check(turns);\n                  }\n                  System.out.println(turns);\n                  return;\n              }\n          }\n      }\n      JOptionPane.showMessageDialog(null, &quot;Invalid&quot;);\n  }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":18465208,"reputation":145,"user_id":13451606,"display_name":"Cr3 D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73061316,"answer_count":2,"score":0,"last_activity_date":1658382983,"creation_date":1658381188,"question_id":73061093,"body_markdown":"I have been making a color-based Tic Tac Toe game using Java Swing and Java AWT and have more or less finished the project, however there is still one problem that needs to be fixed in order to be a proper Tic Tac Toe game. The colors that are supposed to be used is Orange (X) and blue (O), however for some reason even when checking each turn iteration it refuses to switch colors after every click and at this point I am lost. Any help is appreciated\r\n\r\nBoard.java:\r\n\r\n \r\n\r\n    public class Board extends JPanel {\r\n\r\n      boolean gameRunning = true;\r\n\r\n      private final JButton[][] grid = new JButton[3][3];\r\n\r\n      JFrame board;\r\n\r\n      JPanel panel;\r\n\r\n    public Board() {\r\n        initBoard();\r\n    }\r\n\r\n    private void makePanel() {\r\n        panel = new JPanel();\r\n        panel.setBackground(Color.lightGray);\r\n        panel.setLayout(new GridLayout(3, 3));\r\n        setBoard();\r\n        board.add(panel);\r\n    }\r\n\r\n    private void initBoard() {\r\n\r\n        int BOARD_WIDTH = 800;\r\n        int BOARD_HEIGHT = 600;\r\n\r\n        board = new JFrame();\r\n\r\n        board.setTitle(&quot;JTicTacToe&quot;);\r\n\r\n        board.setSize(BOARD_WIDTH, BOARD_HEIGHT);\r\n        board.setResizable(false);\r\n        board.setLocationRelativeTo(null);\r\n        board.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        makePanel();\r\n\r\n        board.setVisible(true);\r\n\r\n    }\r\n\r\n    private void setBoard() {\r\n\r\n        //Loop through 2D array\r\n        for (int row = 0; row &lt; grid.length; row++) {\r\n            for (int col = 0; col &lt; grid[row].length; col++) {\r\n                grid[row][col] = new JButton();\r\n                grid[row][col].setOpaque(true);\r\n                grid[row][col].setBorderPainted(false);\r\n                grid[row][col].addActionListener(new ButtonListener());\r\n                panel.add(grid[row][col]);\r\n            }\r\n        }\r\n        validate();\r\n    }\r\n\r\n\r\n    protected class ButtonListener implements ActionListener {\r\n\r\n        Color defaultColor = new Color(238,238,238);\r\n\r\n\r\n        protected void check(int moves) {\r\n            //Rows\r\n            for (int c = 0; c &lt; 3; c++) {\r\n                 if (!defaultColor.equals(grid[c][0].getBackground()) &amp;&amp; grid[c][0].getBackground() == grid[c][1].getBackground() &amp;&amp; grid[c][0].getBackground() == grid[c][2].getBackground()) {\r\n                    gameRunning = false;\r\n                    JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\r\n                }\r\n            }\r\n            //Verticals\r\n            for (int c = 0; c &lt; 3; c++) {\r\n                if (!defaultColor.equals(grid[0][c].getBackground()) &amp;&amp; grid[0][c].getBackground() == grid[1][c].getBackground() &amp;&amp; grid[0][c].getBackground() == grid[2][c].getBackground()) {\r\n                        gameRunning = false;\r\n                        JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\r\n                }\r\n            }\r\n\r\n            //Check diagonals\r\n            if (!defaultColor.equals(grid[0][0].getBackground()) &amp;&amp; grid[0][0].getBackground() == grid[1][1].getBackground() &amp;&amp; grid[0][0].getBackground() == grid[2][2].getBackground()) {\r\n                gameRunning = false;\r\n                JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);}\r\n\r\n             if (!defaultColor.equals(grid[0][2].getBackground()) &amp;&amp; grid[0][2].getBackground() == grid[1][1].getBackground() &amp;&amp; grid[0][2].getBackground() == grid[2][0].getBackground()) {\r\n                gameRunning = false;\r\n                JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\r\n            }\r\n\r\n           //Check draw if game goes to 9 moves\r\n            if(moves == 9) {\r\n                gameRunning = false;\r\n                JOptionPane.showMessageDialog(null, &quot;Draw!&quot;);\r\n            }\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n             int turns = 0;\r\n                    if (e.getSource() == grid[0][0]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[0][0].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[0][0].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[0][1]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[0][1].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[0][1].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[0][2]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[0][2].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[0][2].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[1][0]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[1][0].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[1][0].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[1][1]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[1][1].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[1][1].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[1][2]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[1][2].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[1][2].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[2][0]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[2][0].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[2][0].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[2][1]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[2][1].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[2][1].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else if (e.getSource() == grid[2][2]) {\r\n                        turns++;\r\n                        if (turns % 2 == 0) {\r\n                            grid[2][2].setBackground(Color.orange);\r\n                            check(turns);\r\n                        } else {\r\n                            grid[2][2].setBackground(Color.blue);\r\n                            check(turns);\r\n                        }\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Invalid&quot;);\r\n                }\r\n                    System.out.println(turns);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to switch between 2 colors in Java Jbuttons after every click","body":"<p>I have been making a color-based Tic Tac Toe game using Java Swing and Java AWT and have more or less finished the project, however there is still one problem that needs to be fixed in order to be a proper Tic Tac Toe game. The colors that are supposed to be used is Orange (X) and blue (O), however for some reason even when checking each turn iteration it refuses to switch colors after every click and at this point I am lost. Any help is appreciated</p>\n<p>Board.java:</p>\n<pre><code>public class Board extends JPanel {\n\n  boolean gameRunning = true;\n\n  private final JButton[][] grid = new JButton[3][3];\n\n  JFrame board;\n\n  JPanel panel;\n\npublic Board() {\n    initBoard();\n}\n\nprivate void makePanel() {\n    panel = new JPanel();\n    panel.setBackground(Color.lightGray);\n    panel.setLayout(new GridLayout(3, 3));\n    setBoard();\n    board.add(panel);\n}\n\nprivate void initBoard() {\n\n    int BOARD_WIDTH = 800;\n    int BOARD_HEIGHT = 600;\n\n    board = new JFrame();\n\n    board.setTitle(&quot;JTicTacToe&quot;);\n\n    board.setSize(BOARD_WIDTH, BOARD_HEIGHT);\n    board.setResizable(false);\n    board.setLocationRelativeTo(null);\n    board.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    makePanel();\n\n    board.setVisible(true);\n\n}\n\nprivate void setBoard() {\n\n    //Loop through 2D array\n    for (int row = 0; row &lt; grid.length; row++) {\n        for (int col = 0; col &lt; grid[row].length; col++) {\n            grid[row][col] = new JButton();\n            grid[row][col].setOpaque(true);\n            grid[row][col].setBorderPainted(false);\n            grid[row][col].addActionListener(new ButtonListener());\n            panel.add(grid[row][col]);\n        }\n    }\n    validate();\n}\n\n\nprotected class ButtonListener implements ActionListener {\n\n    Color defaultColor = new Color(238,238,238);\n\n\n    protected void check(int moves) {\n        //Rows\n        for (int c = 0; c &lt; 3; c++) {\n             if (!defaultColor.equals(grid[c][0].getBackground()) &amp;&amp; grid[c][0].getBackground() == grid[c][1].getBackground() &amp;&amp; grid[c][0].getBackground() == grid[c][2].getBackground()) {\n                gameRunning = false;\n                JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\n            }\n        }\n        //Verticals\n        for (int c = 0; c &lt; 3; c++) {\n            if (!defaultColor.equals(grid[0][c].getBackground()) &amp;&amp; grid[0][c].getBackground() == grid[1][c].getBackground() &amp;&amp; grid[0][c].getBackground() == grid[2][c].getBackground()) {\n                    gameRunning = false;\n                    JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\n            }\n        }\n\n        //Check diagonals\n        if (!defaultColor.equals(grid[0][0].getBackground()) &amp;&amp; grid[0][0].getBackground() == grid[1][1].getBackground() &amp;&amp; grid[0][0].getBackground() == grid[2][2].getBackground()) {\n            gameRunning = false;\n            JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);}\n\n         if (!defaultColor.equals(grid[0][2].getBackground()) &amp;&amp; grid[0][2].getBackground() == grid[1][1].getBackground() &amp;&amp; grid[0][2].getBackground() == grid[2][0].getBackground()) {\n            gameRunning = false;\n            JOptionPane.showMessageDialog(null, &quot;Game Over!&quot;);\n        }\n\n       //Check draw if game goes to 9 moves\n        if(moves == 9) {\n            gameRunning = false;\n            JOptionPane.showMessageDialog(null, &quot;Draw!&quot;);\n        }\n\n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n         int turns = 0;\n                if (e.getSource() == grid[0][0]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[0][0].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[0][0].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[0][1]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[0][1].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[0][1].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[0][2]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[0][2].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[0][2].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[1][0]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[1][0].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[1][0].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[1][1]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[1][1].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[1][1].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[1][2]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[1][2].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[1][2].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[2][0]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[2][0].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[2][0].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[2][1]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[2][1].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[2][1].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else if (e.getSource() == grid[2][2]) {\n                    turns++;\n                    if (turns % 2 == 0) {\n                        grid[2][2].setBackground(Color.orange);\n                        check(turns);\n                    } else {\n                        grid[2][2].setBackground(Color.blue);\n                        check(turns);\n                    }\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Invalid&quot;);\n            }\n                System.out.println(turns);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658164480,"creation_date":1658164480,"answer_id":73026153,"question_id":73025869,"body_markdown":"There is no `null payload` concept in messaging, so even if you handle an error, you definitely cannot return `null` as a reply from that Outbound Gateway call.\r\n\r\nSee Request Handler Advice pattern in the framework, in particular an `ExpressionEvaluatingRequestHandlerAdvice` implementation. It does handle error for the specific message handler and may return a *compensation reply* which you then can aggregator and process respectively.\r\n\r\nThe doc is here: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#message-handler-advice-chain","title":"How to handle http response exception and continue the flow till aggregate in Spring integration","body":"<p>There is no <code>null payload</code> concept in messaging, so even if you handle an error, you definitely cannot return <code>null</code> as a reply from that Outbound Gateway call.</p>\n<p>See Request Handler Advice pattern in the framework, in particular an <code>ExpressionEvaluatingRequestHandlerAdvice</code> implementation. It does handle error for the specific message handler and may return a <em>compensation reply</em> which you then can aggregator and process respectively.</p>\n<p>The doc is here: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#message-handler-advice-chain\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#message-handler-advice-chain</a></p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658382960,"creation_date":1658162903,"question_id":73025869,"body_markdown":"I&#39;m using Spring-integration in my project and the pattern used is scatter-gather. Here three parallel processes are being carried out. The flow2 is a outbound gateway method and if that service is down then I want to handle the Httpstatus exception and want to send null. Actually if that service is down then the whole flow is getting stopped. But I want to handle that exception and send null and then want to continue with the aggregate method and end the flow.\r\n\r\nBelow is the code - -\r\n\r\n//Config file\r\n\r\n   \r\n\r\n     @Configuration\r\n            public class IntegrationConfiguration {\r\n              @Autowired LionsServiceImpl lionsService;\r\n            \r\n              long dbId = new SequenceGenerator().nextId();\r\n          //   Main flow\r\n          @Bean\r\n      public IntegrationFlow flow() {\r\n        return flow -&gt;\r\n            flow.handle(validatorService, &quot;validateRequest&quot;)\r\n                .split()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2())\r\n                            .recipientFlow(flow3()),\r\n                    gatherer -&gt;\r\n                        gatherer\r\n                            .releaseLockBeforeSend(true)\r\n                            .releaseStrategy(group -&gt; group.size() == 2))\r\n                .aggregate(prepareSomeRequest())\r\n                .to(getDec());\r\n      }\r\n    \r\n      //   Saving the request to the database\r\n      @Bean\r\n      public IntegrationFlow flow1() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    (payload, header) -&gt; {\r\n                      ObjectMapper mapper = new ObjectMapper();\r\n                      try {\r\n                        String jsonString = mapper.writeValueAsString(payload);\r\n                        JsonNode request = mapper.readTree(jsonString);\r\n                        JsonNode csID = request.get(&quot;ApplicationDetails&quot;).get(&quot;CustomerId&quot;);\r\n                        int customerID = mapper.treeToValue(csID, Integer.class);\r\n    \r\n                        return lionService.saveRequest(\r\n                            payload,\r\n                            String.valueOf(dbId),\r\n                            customerID,\r\n                            ((SourceSystem) Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))\r\n                                .getSourceSystemCode());\r\n                      } catch (JsonProcessingException e) {\r\n                        throw new RuntimeException(e);\r\n                      }\r\n                    }\r\n                    )\r\n                .nullChannel();\r\n      }\r\n    \r\n      // \r\n      @Bean\r\n      public IntegrationFlow flow3() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .transform(\r\n                    message -&gt;\r\n                        loansService.someMethod(\r\n                            (LionRequest) message));\r\n      }\r\n    \r\n     //Here I&#39;m calling a service through HTTPOUTBOUNDGATEWAY and if that called service is down then it throws HTTP STAtus error so I want to handle that and want to send null from this flow.\r\n      @Bean\r\n      public IntegrationFlow flow2() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    (payload, header) -&gt;\r\n                        loansService.someMethod2(\r\n                            (LionRequest) payload,\r\n                            (SourceSystem) (Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))))\r\n                .handle(\r\n                    Http.outboundGateway(someurl)\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class)\r\n                           );\r\n      }\r\n    \r\n    \r\n      @Bean\r\n      public IntegrationFlow getDec() {\r\n        return flow -&gt;\r\n            flow.handle(\r\n                Http.outboundGateway(ServiceURL)\r\n                    .httpMethod(HttpMethod.POST)\r\n                    .expectedResponseType(CrResponse.class));\r\n      }\r\n    \r\n    \r\n      @Bean\r\n      public MessageChannel replyChannel() {\r\n        return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\r\n      }\r\n    \r\n      @Bean\r\n      public ThreadPoolTaskExecutor outputExecutor() {\r\n        ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\r\n        pool.setCorePoolSize(4);\r\n        pool.setMaxPoolSize(4);\r\n        return pool;\r\n      }\r\n    \r\n    \r\n    //here I want to take out null from messages which is sent by flow2 if the called service is down and then I want to send null to someMethod2 method.\r\n    \r\n      public MessageGroupProcessor prepareSomeRequest() {\r\n        return group -&gt; {\r\n          String cData;\r\n          Object CDReq;\r\n    \r\n          List&lt;Message&lt;?&gt;&gt; messages = group.streamMessages().collect(Collectors.toList());\r\n    \r\n          ArrayList&lt;Object&gt; payloads = (ArrayList&lt;Object&gt;) messages.get(0).getPayload();\r\n    \r\n          if (payloads.get(0).toString().contains(&quot;tribv&quot;)) {\r\n            cData= payloads.get(0).toString();\r\n            logger.atInfo().log(&quot;Customer data from Data Sourcing Service : &quot; + cData);\r\n            CDReq= payloads.get(1);\r\n          } else {\r\n            cData= payloads.get(1).toString();\r\n            logger.atInfo().log(&quot;Customer data from Data Sourcing Service : &quot; + cData);\r\n            CDReq = payloads.get(0);\r\n          }\r\n    \r\n          Object fReq =\r\n              lionservice.someMethod2(cData, CDReq);\r\n    \r\n          SomeRequest somreq= new SomeRequest();\r\n    \r\n          ObjectMapper mapper = new ObjectMapper();\r\n    \r\n          JsonNode req = mapper.valueToTree(freq);\r\n          creditDecisionRequest.setfsfgg(req);\r\n          creditDecisionRequest.setR(&quot;234565432&quot;);\r\n          creditDecisionRequest.setD(String.valueOf(dbId));\r\n          creditDecisionRequest.setCID(&quot;33333333&quot;);\r\n          creditDecisionRequest.setSourceSystemCode(SourceSystem.ONE.getSourceSystemCode());\r\n    \r\n          return somreq;\r\n        };\r\n      }\r\n\r\n\r\nGateway\r\n\r\n  \r\n\r\n        @Gateway(requestChannel = &quot;flow.input&quot;)\r\n      void processLionRequest(\r\n          @Payload Message lionRequest, @Header(&quot;sourceSystem&quot;) SourceSystem sourceSystem);\r\n\r\n\r\nCan I use something like `.errorHandler()` in the outboundgateway? But how do I use that?\r\n\r\n\r\n     @Bean\r\n      public IntegrationFlow flow2() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    (payload, header) -&gt;\r\n                        lionService.prepareSomeRequest(\r\n                            (LionRequest) payload,\r\n                            (SourceSystem) (Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))))\r\n                .handle(\r\n                    Http.outboundGateway(someurl)\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class),\r\n                    c -&gt; c.advice(expressionAdvice()));\r\n      }\r\n    \r\n   \r\n\r\n        @Bean\r\n      public Advice expressionAdvice() {\r\n        ExpressionEvaluatingRequestHandlerAdvice advice =\r\n            new ExpressionEvaluatingRequestHandlerAdvice();\r\n        advice.setSuccessChannelName(&quot;success.input&quot;);\r\n        advice.setOnSuccessExpressionString(&quot;payload + &#39; was successful&#39;&quot;);\r\n        advice.setFailureChannelName(&quot;failure.input&quot;);\r\n        advice.setOnFailureExpressionString(&quot;Failed&quot;);\r\n        advice.setReturnFailureExpressionResult(true);\r\n        advice.setTrapException(true);\r\n        return advice;\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow success() {\r\n        return f -&gt; f.handle(System.out::println);\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow failure() {\r\n        return f -&gt; f.handle(System.out::println);\r\n      }\r\n    \r\n      public String adviceOnFailure() {\r\n        return &quot;Failed&quot;;\r\n      }\r\n\r\nI&#39;m doing something like that but getting error as below - \r\n\r\n  [GenericMessage [payload=[org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;Failed&#39; cannot be found on object of type &#39;org.springframework.messaging.support.GenericMessage&#39; - maybe not public or not valid?], headers={sequenceNumber=1, sequenceDetails=[[f596d446-9816-e13b-240c-f365338a5eb4, 1, 1]], replyChannel=nullChannel, sourceSystem=ONE, sequenceSize=1, correlationId=f596d446-9816-e13b-240c-f365338a5eb4, id=5592b1da-19fd-0567-c728-71b47d46b2d5, timestamp=1658382273446}]]\r\n\r\nI want String &quot;Failed&quot; to be in the message, so that I can take that string and process further. Kindly help.\r\n","title":"How to handle http response exception and continue the flow till aggregate in Spring integration","body":"<p>I'm using Spring-integration in my project and the pattern used is scatter-gather. Here three parallel processes are being carried out. The flow2 is a outbound gateway method and if that service is down then I want to handle the Httpstatus exception and want to send null. Actually if that service is down then the whole flow is getting stopped. But I want to handle that exception and send null and then want to continue with the aggregate method and end the flow.</p>\n<p>Below is the code - -</p>\n<p>//Config file</p>\n<pre><code> @Configuration\n        public class IntegrationConfiguration {\n          @Autowired LionsServiceImpl lionsService;\n        \n          long dbId = new SequenceGenerator().nextId();\n      //   Main flow\n      @Bean\n  public IntegrationFlow flow() {\n    return flow -&gt;\n        flow.handle(validatorService, &quot;validateRequest&quot;)\n            .split()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2())\n                        .recipientFlow(flow3()),\n                gatherer -&gt;\n                    gatherer\n                        .releaseLockBeforeSend(true)\n                        .releaseStrategy(group -&gt; group.size() == 2))\n            .aggregate(prepareSomeRequest())\n            .to(getDec());\n  }\n\n  //   Saving the request to the database\n  @Bean\n  public IntegrationFlow flow1() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                (payload, header) -&gt; {\n                  ObjectMapper mapper = new ObjectMapper();\n                  try {\n                    String jsonString = mapper.writeValueAsString(payload);\n                    JsonNode request = mapper.readTree(jsonString);\n                    JsonNode csID = request.get(&quot;ApplicationDetails&quot;).get(&quot;CustomerId&quot;);\n                    int customerID = mapper.treeToValue(csID, Integer.class);\n\n                    return lionService.saveRequest(\n                        payload,\n                        String.valueOf(dbId),\n                        customerID,\n                        ((SourceSystem) Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))\n                            .getSourceSystemCode());\n                  } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                  }\n                }\n                )\n            .nullChannel();\n  }\n\n  // \n  @Bean\n  public IntegrationFlow flow3() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .transform(\n                message -&gt;\n                    loansService.someMethod(\n                        (LionRequest) message));\n  }\n\n //Here I'm calling a service through HTTPOUTBOUNDGATEWAY and if that called service is down then it throws HTTP STAtus error so I want to handle that and want to send null from this flow.\n  @Bean\n  public IntegrationFlow flow2() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                (payload, header) -&gt;\n                    loansService.someMethod2(\n                        (LionRequest) payload,\n                        (SourceSystem) (Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))))\n            .handle(\n                Http.outboundGateway(someurl)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class)\n                       );\n  }\n\n\n  @Bean\n  public IntegrationFlow getDec() {\n    return flow -&gt;\n        flow.handle(\n            Http.outboundGateway(ServiceURL)\n                .httpMethod(HttpMethod.POST)\n                .expectedResponseType(CrResponse.class));\n  }\n\n\n  @Bean\n  public MessageChannel replyChannel() {\n    return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\n  }\n\n  @Bean\n  public ThreadPoolTaskExecutor outputExecutor() {\n    ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\n    pool.setCorePoolSize(4);\n    pool.setMaxPoolSize(4);\n    return pool;\n  }\n\n\n//here I want to take out null from messages which is sent by flow2 if the called service is down and then I want to send null to someMethod2 method.\n\n  public MessageGroupProcessor prepareSomeRequest() {\n    return group -&gt; {\n      String cData;\n      Object CDReq;\n\n      List&lt;Message&lt;?&gt;&gt; messages = group.streamMessages().collect(Collectors.toList());\n\n      ArrayList&lt;Object&gt; payloads = (ArrayList&lt;Object&gt;) messages.get(0).getPayload();\n\n      if (payloads.get(0).toString().contains(&quot;tribv&quot;)) {\n        cData= payloads.get(0).toString();\n        logger.atInfo().log(&quot;Customer data from Data Sourcing Service : &quot; + cData);\n        CDReq= payloads.get(1);\n      } else {\n        cData= payloads.get(1).toString();\n        logger.atInfo().log(&quot;Customer data from Data Sourcing Service : &quot; + cData);\n        CDReq = payloads.get(0);\n      }\n\n      Object fReq =\n          lionservice.someMethod2(cData, CDReq);\n\n      SomeRequest somreq= new SomeRequest();\n\n      ObjectMapper mapper = new ObjectMapper();\n\n      JsonNode req = mapper.valueToTree(freq);\n      creditDecisionRequest.setfsfgg(req);\n      creditDecisionRequest.setR(&quot;234565432&quot;);\n      creditDecisionRequest.setD(String.valueOf(dbId));\n      creditDecisionRequest.setCID(&quot;33333333&quot;);\n      creditDecisionRequest.setSourceSystemCode(SourceSystem.ONE.getSourceSystemCode());\n\n      return somreq;\n    };\n  }\n</code></pre>\n<p>Gateway</p>\n<pre><code>    @Gateway(requestChannel = &quot;flow.input&quot;)\n  void processLionRequest(\n      @Payload Message lionRequest, @Header(&quot;sourceSystem&quot;) SourceSystem sourceSystem);\n</code></pre>\n<p>Can I use something like <code>.errorHandler()</code> in the outboundgateway? But how do I use that?</p>\n<pre><code> @Bean\n  public IntegrationFlow flow2() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                (payload, header) -&gt;\n                    lionService.prepareSomeRequest(\n                        (LionRequest) payload,\n                        (SourceSystem) (Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))))\n            .handle(\n                Http.outboundGateway(someurl)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class),\n                c -&gt; c.advice(expressionAdvice()));\n  }\n\n\n\n    @Bean\n  public Advice expressionAdvice() {\n    ExpressionEvaluatingRequestHandlerAdvice advice =\n        new ExpressionEvaluatingRequestHandlerAdvice();\n    advice.setSuccessChannelName(&quot;success.input&quot;);\n    advice.setOnSuccessExpressionString(&quot;payload + ' was successful'&quot;);\n    advice.setFailureChannelName(&quot;failure.input&quot;);\n    advice.setOnFailureExpressionString(&quot;Failed&quot;);\n    advice.setReturnFailureExpressionResult(true);\n    advice.setTrapException(true);\n    return advice;\n  }\n\n  @Bean\n  public IntegrationFlow success() {\n    return f -&gt; f.handle(System.out::println);\n  }\n\n  @Bean\n  public IntegrationFlow failure() {\n    return f -&gt; f.handle(System.out::println);\n  }\n\n  public String adviceOnFailure() {\n    return &quot;Failed&quot;;\n  }\n</code></pre>\n<p>I'm doing something like that but getting error as below -</p>\n<p>[GenericMessage [payload=[org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'Failed' cannot be found on object of type 'org.springframework.messaging.support.GenericMessage' - maybe not public or not valid?], headers={sequenceNumber=1, sequenceDetails=[[f596d446-9816-e13b-240c-f365338a5eb4, 1, 1]], replyChannel=nullChannel, sourceSystem=ONE, sequenceSize=1, correlationId=f596d446-9816-e13b-240c-f365338a5eb4, id=5592b1da-19fd-0567-c728-71b47d46b2d5, timestamp=1658382273446}]]</p>\n<p>I want String &quot;Failed&quot; to be in the message, so that I can take that string and process further. Kindly help.</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":21699938,"reputation":21,"user_id":18237977,"display_name":"sfarshian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658382564,"creation_date":1658382564,"answer_id":73061260,"question_id":73061201,"body_markdown":" List&lt;MyClass&gt; list2 =classList.stream().sorted(MyClass::compareTo).collect(Collectors.toList());\r\n\r\nIn this line you have used stream.sorted which still is a stream then you have called compareTo method in MyClass for each stream element.","title":"How does java&#39;s double colon operator refer non-static method using class name","body":"<p>List list2 =classList.stream().sorted(MyClass::compareTo).collect(Collectors.toList());</p>\n<p>In this line you have used stream.sorted which still is a stream then you have called compareTo method in MyClass for each stream element.</p>\n"},{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658382897,"creation_date":1658382897,"answer_id":73061304,"question_id":73061201,"body_markdown":"The Stream method `sorted` takes a `Comparator&lt;T&gt;` as parameter. This is a functional interface, so you can use a lambda expression or method reference as parameter that adheres to this interface. The method signature is as follows:\r\n\r\n```java\r\nint compare(T var1, T var2);\r\n```\r\n\r\nSo, for example, the following lambda expression is valid:\r\n\r\n```\r\n(MyClass a, MyClass b) -&gt; a.compareTo(b)\r\n```\r\n\r\nA method reference can refer to static methods, but in this specific context, the type of the method reference can also replace the first parameter, so the following expression is equivalent to the above:\r\n\r\n```\r\nMyClass::compareTo\r\n```\r\n\r\nSimilarly, you can do the following:\r\n\r\n```\r\n(String a, String b) -&gt; a.equals(b)\r\nString::equals\r\n```\r\n\r\nOr things like this:\r\n```\r\n(String a) -&gt; &quot;b&quot;.equals(a)\r\n&quot;b&quot;::equals\r\n```","title":"How does java&#39;s double colon operator refer non-static method using class name","body":"<p>The Stream method <code>sorted</code> takes a <code>Comparator&lt;T&gt;</code> as parameter. This is a functional interface, so you can use a lambda expression or method reference as parameter that adheres to this interface. The method signature is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int compare(T var1, T var2);\n</code></pre>\n<p>So, for example, the following lambda expression is valid:</p>\n<pre><code>(MyClass a, MyClass b) -&gt; a.compareTo(b)\n</code></pre>\n<p>A method reference can refer to static methods, but in this specific context, the type of the method reference can also replace the first parameter, so the following expression is equivalent to the above:</p>\n<pre><code>MyClass::compareTo\n</code></pre>\n<p>Similarly, you can do the following:</p>\n<pre><code>(String a, String b) -&gt; a.equals(b)\nString::equals\n</code></pre>\n<p>Or things like this:</p>\n<pre><code>(String a) -&gt; &quot;b&quot;.equals(a)\n&quot;b&quot;::equals\n</code></pre>\n"}],"owner":{"account_id":9569801,"reputation":147,"user_id":7107793,"display_name":"Shruti Seth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73061304,"answer_count":2,"score":0,"last_activity_date":1658382897,"creation_date":1658382088,"question_id":73061201,"body_markdown":"I have written a code like this:\r\n\r\n```\r\npublic class MyClass implements Comparable{\r\n\r\n    int value;\r\n\r\n    MyClass(int value){\r\n        this.value = value;\r\n    }\r\n    public static void main(String[] args) {\r\n\r\n        MyClass obj1 = new MyClass(30);\r\n        MyClass obj2 = new MyClass(5);\r\n        MyClass obj3 = new MyClass(15);\r\n        List&lt;MyClass&gt; classList = new ArrayList&lt;&gt;();\r\n        classList.add(obj1);\r\n        classList.add(obj2);\r\n        classList.add(obj3);\r\n\r\n        List&lt;MyClass&gt; list2 =classList.stream().sorted(MyClass::compareTo).collect(Collectors.toList());\r\n        list2.stream().forEach(x-&gt; System.out.println(x.value));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Object o) {\r\n        MyClass obj = (MyClass)o;\r\n        if(this.value&lt;obj.value){\r\n            return +1;\r\n        }else return -1;\r\n    }\r\n}\r\n\r\n```\r\nThis code compiles successfully gives me the correct output as expected-\r\n\r\n```\r\n30\r\n15\r\n5\r\n```\r\nI have 2 questions\r\n\r\n1) How are we able to refer non-static method compareTo using Myclass(classname)? Shouldn&#39;t we be expected to use object of my class to refer compareTo()?\r\n\r\n2) How are we able to use compareTo() method which takes only 1 parameter,  whereas `sorted()` expects Comparator Interface whose abstract class `compare()` takes 2 parameters?  \r\n\r\n\r\n","title":"How does java&#39;s double colon operator refer non-static method using class name","body":"<p>I have written a code like this:</p>\n<pre><code>public class MyClass implements Comparable{\n\n    int value;\n\n    MyClass(int value){\n        this.value = value;\n    }\n    public static void main(String[] args) {\n\n        MyClass obj1 = new MyClass(30);\n        MyClass obj2 = new MyClass(5);\n        MyClass obj3 = new MyClass(15);\n        List&lt;MyClass&gt; classList = new ArrayList&lt;&gt;();\n        classList.add(obj1);\n        classList.add(obj2);\n        classList.add(obj3);\n\n        List&lt;MyClass&gt; list2 =classList.stream().sorted(MyClass::compareTo).collect(Collectors.toList());\n        list2.stream().forEach(x-&gt; System.out.println(x.value));\n\n    }\n\n    @Override\n    public int compareTo(Object o) {\n        MyClass obj = (MyClass)o;\n        if(this.value&lt;obj.value){\n            return +1;\n        }else return -1;\n    }\n}\n\n</code></pre>\n<p>This code compiles successfully gives me the correct output as expected-</p>\n<pre><code>30\n15\n5\n</code></pre>\n<p>I have 2 questions</p>\n<ol>\n<li><p>How are we able to refer non-static method compareTo using Myclass(classname)? Shouldn't we be expected to use object of my class to refer compareTo()?</p>\n</li>\n<li><p>How are we able to use compareTo() method which takes only 1 parameter,  whereas <code>sorted()</code> expects Comparator Interface whose abstract class <code>compare()</code> takes 2 parameters?</p>\n</li>\n</ol>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1658383491,"post_id":73061297,"comment_id":129038699,"body_markdown":"By sending a new request after the first one comes back. And doing that over and over and over again in a `while` loop.","body":"By sending a new request after the first one comes back. And doing that over and over and over again in a <code>while</code> loop."},{"owner":{"account_id":3786385,"reputation":136,"user_id":3144220,"display_name":"Dev Gourav"},"score":0,"creation_date":1658383842,"post_id":73061297,"comment_id":129038780,"body_markdown":"@luk2302 Thought so.","body":"@luk2302 Thought so."}],"owner":{"account_id":3786385,"reputation":136,"user_id":3144220,"display_name":"Dev Gourav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658382873,"creation_date":1658382873,"question_id":73061297,"body_markdown":"I want to create a ECS Service using Java that will do long polling of SQS for events. \r\n\r\nBy using ReceiveMessageRequest class in AWS SDK I can set WaitTimeSeconds to 20s after which when it returns a empty list of messages. But how can I keep on continuously monitoring the events from the queue.","title":"Polling AWS SQS Events using a ECS Service in Java","body":"<p>I want to create a ECS Service using Java that will do long polling of SQS for events.</p>\n<p>By using ReceiveMessageRequest class in AWS SDK I can set WaitTimeSeconds to 20s after which when it returns a empty list of messages. But how can I keep on continuously monitoring the events from the queue.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1658296048,"post_id":73046454,"comment_id":129012984,"body_markdown":"you can use environemnt varaible `SPRING_CONFIG_LOCATION` or `spring.config.location` more details check [here](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files)","body":"you can use environemnt varaible <code>SPRING_CONFIG_LOCATION</code> or <code>spring.config.location</code> more details check <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658382205,"creation_date":1658297239,"answer_id":73046675,"question_id":73046454,"body_markdown":"In general you can refer to an explict location by using the environment property ```spring.config.location```. If you want to merge different property files, you should use the prefix &#39;optional&#39;.\r\n\r\n\r\nIn your case:\r\n\r\n```\r\njava -jar yourproject.jar \\\r\n     --spring.config.location=optional:./application.yaml\r\n```\r\n\r\nHint: ```spring.config.location``` can be used multiple times.","title":"Spring keep build and external config values for map and merge it","body":"<p>In general you can refer to an explict location by using the environment property <code>spring.config.location</code>. If you want to merge different property files, you should use the prefix 'optional'.</p>\n<p>In your case:</p>\n<pre><code>java -jar yourproject.jar \\\n     --spring.config.location=optional:./application.yaml\n</code></pre>\n<p>Hint: <code>spring.config.location</code> can be used multiple times.</p>\n"}],"owner":{"account_id":9667373,"reputation":1,"user_id":7173470,"display_name":"asurovenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658382205,"creation_date":1658295581,"question_id":73046454,"body_markdown":"I have spring boot app with config defined in application.yaml\r\nAnd I have properties file annotated with ConfigurationProperties. In that prop model I have Map&lt;String, Integer&gt;\r\nWhen I have build my jar and trying to run it I have the values from application.yaml in my repo AND in addition new values in application.yaml that I leave near jar file. So spring merge 2 configs. How I can fully prioritize external config file?\r\nThanks","title":"Spring keep build and external config values for map and merge it","body":"<p>I have spring boot app with config defined in application.yaml\nAnd I have properties file annotated with ConfigurationProperties. In that prop model I have Map&lt;String, Integer&gt;\nWhen I have build my jar and trying to run it I have the values from application.yaml in my repo AND in addition new values in application.yaml that I leave near jar file. So spring merge 2 configs. How I can fully prioritize external config file?\nThanks</p>\n"},{"tags":["java","linux","time"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1658381206,"post_id":73061085,"comment_id":129038198,"body_markdown":"You cannot sleep or wait for one microsecond. Your best bet is to loop for some iterations.","body":"You cannot sleep or wait for one microsecond. Your best bet is to loop for some iterations."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658381691,"creation_date":1658381691,"answer_id":73061161,"question_id":73061085,"body_markdown":"If by “trust” you mean you expect perfect timing with microseconds precision, then you should not be using conventional Java. Nor should you be using conventional operating systems on conventional hardware. Expecting exact scheduling to the microsecond is unreasonable.\r\n\r\nTo quote the Javadoc for [`Thread#sleep`][1]:\r\n\r\n&gt;… subject to the precision and accuracy of system timers and schedulers\r\n\r\nIf you need such precision, research [real time Java][2]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#sleep(long,int)\r\n  [2]: https://en.wikipedia.org/wiki/Real_time_Java","title":"How to periodically wait one microsecond in java","body":"<p>If by “trust” you mean you expect perfect timing with microseconds precision, then you should not be using conventional Java. Nor should you be using conventional operating systems on conventional hardware. Expecting exact scheduling to the microsecond is unreasonable.</p>\n<p>To quote the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#sleep(long,int)\" rel=\"nofollow noreferrer\"><code>Thread#sleep</code></a>:</p>\n<blockquote>\n<p>… subject to the precision and accuracy of system timers and schedulers</p>\n</blockquote>\n<p>If you need such precision, research <a href=\"https://en.wikipedia.org/wiki/Real_time_Java\" rel=\"nofollow noreferrer\">real time Java</a>.</p>\n"}],"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658381691,"creation_date":1658381076,"question_id":73061085,"body_markdown":"I don&#39;t trust the `sleep` and `wait` methods. And I found `select` method in C, but I can not found in java.","title":"How to periodically wait one microsecond in java","body":"<p>I don't trust the <code>sleep</code> and <code>wait</code> methods. And I found <code>select</code> method in C, but I can not found in java.</p>\n"},{"tags":["java","casting","boolean","int"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":8,"creation_date":1285416516,"post_id":3793650,"comment_id":4020604,"body_markdown":"What integers would you think corresponded to `true` and `false` respectively?","body":"What integers would you think corresponded to <code>true</code> and <code>false</code> respectively?"},{"owner":{"account_id":48276,"reputation":119394,"user_id":143378,"accept_rate":79,"display_name":"hpique"},"score":6,"creation_date":1285417340,"post_id":3793650,"comment_id":4020675,"body_markdown":"Some languages have implicit conversion from int to boolean. Java doesn&#39;t. However, the official implementation has SQL packages, and I believe these convert &quot;false&quot; to 0.","body":"Some languages have implicit conversion from int to boolean. Java doesn&#39;t. However, the official implementation has SQL packages, and I believe these convert &quot;false&quot; to 0."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1285432741,"post_id":3793650,"comment_id":4021691,"body_markdown":"Generally, a boolean should be left as a boolean.  This is the accepted practice in Java.","body":"Generally, a boolean should be left as a boolean.  This is the accepted practice in Java."},{"owner":{"account_id":48276,"reputation":119394,"user_id":143378,"accept_rate":79,"display_name":"hpique"},"score":4,"creation_date":1285433126,"post_id":3793650,"comment_id":4021707,"body_markdown":"@Peter Lawrey Not if you want to interoperate with other systems that don&#39;t have boolean as a non-numeric data type.","body":"@Peter Lawrey Not if you want to interoperate with other systems that don&#39;t have boolean as a non-numeric data type."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1285451746,"post_id":3793650,"comment_id":4023047,"body_markdown":"@hgpc, in which can you know which values you need true and false to represent. These are usually byte values (though most of the examples here are int values) but can be &#39;0&#39; or &#39;1&#39; (48 and 49) or &#39;T&#39; and &#39;F&#39;, &#39;Y&#39; or &#39;N&#39; and their ascii values.","body":"@hgpc, in which can you know which values you need true and false to represent. These are usually byte values (though most of the examples here are int values) but can be &#39;0&#39; or &#39;1&#39; (48 and 49) or &#39;T&#39; and &#39;F&#39;, &#39;Y&#39; or &#39;N&#39; and their ascii values."},{"owner":{"account_id":48276,"reputation":119394,"user_id":143378,"accept_rate":79,"display_name":"hpique"},"score":7,"creation_date":1285486616,"post_id":3793650,"comment_id":4024673,"body_markdown":"@Peter Lawrey The question is not really about the value mapping. It&#39;s about how to do the conversion in the most clear, accepted way.","body":"@Peter Lawrey The question is not really about the value mapping. It&#39;s about how to do the conversion in the most clear, accepted way."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1285583247,"post_id":3793650,"comment_id":4032214,"body_markdown":"@hgpc, you cannot code a mapping, if you don&#39;t know what to map to.","body":"@hgpc, you cannot code a mapping, if you don&#39;t know what to map to."},{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":9,"creation_date":1343020501,"post_id":3793650,"comment_id":15365590,"body_markdown":"Technically, the Java compiler already defines a mapping. True and False are compiled to 1 and 0 respectively.","body":"Technically, the Java compiler already defines a mapping. True and False are compiled to 1 and 0 respectively."},{"owner":{"account_id":301228,"reputation":2120,"user_id":608818,"accept_rate":82,"display_name":"Tioma"},"score":0,"creation_date":1475683336,"post_id":3793650,"comment_id":67044144,"body_markdown":"I have answered on similar question [here](http://stackoverflow.com/questions/13806021/checking-the-boolean-result-of-an-int-type/39878780#39878780)","body":"I have answered on similar question <a href=\"http://stackoverflow.com/questions/13806021/checking-the-boolean-result-of-an-int-type/39878780#39878780\">here</a>"},{"owner":{"account_id":3368794,"reputation":2538,"user_id":2828611,"accept_rate":70,"display_name":"inetphantom"},"score":1,"creation_date":1533729872,"post_id":3793650,"comment_id":90452159,"body_markdown":"What&#39;s the use case for that question?","body":"What&#39;s the use case for that question?"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1684433040,"post_id":3793650,"comment_id":134520496,"body_markdown":"Why can&#39;t (int)[boolean_variable] be used my compiler shows an error","body":"Why can&#39;t (int)[boolean_variable] be used my compiler shows an error"}],"answers":[{"tags":[],"owner":{"account_id":61784,"reputation":9063,"user_id":183942,"accept_rate":75,"display_name":"Jonathan ANTOINE"},"down_vote_count":2,"up_vote_count":707,"is_accepted":true,"score":705,"last_activity_date":1523816609,"creation_date":1285415365,"answer_id":3793654,"question_id":3793650,"body_markdown":"    int myInt = myBoolean ? 1 : 0;\r\n\r\n^^\r\n\r\nPS : true = 1 and false = 0","title":"Convert boolean to int in Java","body":"<pre><code>int myInt = myBoolean ? 1 : 0;\n</code></pre>\n\n<p>^^</p>\n\n<p>PS : true = 1 and false = 0</p>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1285415437,"creation_date":1285415437,"answer_id":3793661,"question_id":3793650,"body_markdown":"If `true -&gt; 1` and `false -&gt; 0` mapping is what you want, you can do:\r\n\r\n    boolean b = true;\r\n    int i = b ? 1 : 0; // assigns 1 to i.","title":"Convert boolean to int in Java","body":"<p>If <code>true -&gt; 1</code> and <code>false -&gt; 0</code> mapping is what you want, you can do:</p>\n\n<pre><code>boolean b = true;\nint i = b ? 1 : 0; // assigns 1 to i.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":6,"up_vote_count":170,"is_accepted":false,"score":164,"last_activity_date":1285415572,"creation_date":1285415572,"answer_id":3793668,"question_id":3793650,"body_markdown":"    int val = b? 1 : 0;","title":"Convert boolean to int in Java","body":"<pre><code>int val = b? 1 : 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":27,"up_vote_count":80,"is_accepted":false,"score":53,"last_activity_date":1285436683,"creation_date":1285415581,"answer_id":3793669,"question_id":3793650,"body_markdown":"    boolean b = ....; \r\n    int i = -(&quot;false&quot;.indexOf(&quot;&quot; + b));","title":"Convert boolean to int in Java","body":"<pre><code>boolean b = ....; \nint i = -(\"false\".indexOf(\"\" + b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59387,"reputation":8242,"user_id":177701,"accept_rate":70,"display_name":"Hendrik Brummermann"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1285415736,"creation_date":1285415736,"answer_id":3793678,"question_id":3793650,"body_markdown":"That depends on the situation. Often the most simple approach is the best because it is easy to understand:\r\n\r\n    if (something) {\r\n        otherThing = 1;\r\n    } else {\r\n        otherThing = 0;\r\n    }\r\n\r\nor\r\n\r\n    int otherThing = something ? 1 : 0;\r\n\r\n\r\nBut sometimes it useful to use an Enum instead of a boolean flag. Let imagine there are synchronous and asynchronous processes:\r\n\r\n    Process process = Process.SYNCHRONOUS;\r\n    System.out.println(process.getCode());\r\n\r\n\r\nIn Java, enum can have additional attributes and methods:\r\n\r\n    public enum Process {\r\n    \r\n    \tSYNCHRONOUS (0),\r\n    \tASYNCHRONOUS (1);\r\n    \r\n    \tprivate int code;\r\n    \tprivate Process (int code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \r\n    \tpublic int getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    }\r\n","title":"Convert boolean to int in Java","body":"<p>That depends on the situation. Often the most simple approach is the best because it is easy to understand:</p>\n\n<pre><code>if (something) {\n    otherThing = 1;\n} else {\n    otherThing = 0;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>int otherThing = something ? 1 : 0;\n</code></pre>\n\n<p>But sometimes it useful to use an Enum instead of a boolean flag. Let imagine there are synchronous and asynchronous processes:</p>\n\n<pre><code>Process process = Process.SYNCHRONOUS;\nSystem.out.println(process.getCode());\n</code></pre>\n\n<p>In Java, enum can have additional attributes and methods:</p>\n\n<pre><code>public enum Process {\n\n    SYNCHRONOUS (0),\n    ASYNCHRONOUS (1);\n\n    private int code;\n    private Process (int code) {\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208023,"reputation":327,"user_id":458242,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1285431355,"creation_date":1285431355,"answer_id":3794521,"question_id":3793650,"body_markdown":"    public int boolToInt(boolean b) {\r\n        return b ? 1 : 0;\r\n    }\r\n\r\nsimple","title":"Convert boolean to int in Java","body":"<pre><code>public int boolToInt(boolean b) {\n    return b ? 1 : 0;\n}\n</code></pre>\n\n<p>simple</p>\n"},{"tags":[],"owner":{"account_id":38925,"reputation":10972,"user_id":112053,"accept_rate":67,"display_name":"barjak"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1413327494,"creation_date":1285438369,"answer_id":3794932,"question_id":3793650,"body_markdown":"Using the ternary operator is the most simple, most efficient, and most readable way to do what you want. I encourage you to use this solution.\r\n\r\nHowever, I can&#39;t resist to propose an alternative, contrived, inefficient, unreadable solution.\r\n\r\n    int boolToInt(Boolean b) {\r\n        return b.compareTo(false);\r\n    }\r\n\r\nHey, people like to vote for such cool answers !\r\n\r\n**Edit**\r\n\r\nBy the way, I often saw conversions from a boolean to an int for the sole purpose of doing a comparison of the two values (generally, in implementations of `compareTo` method). `Boolean#compareTo` is the way to go in those specific cases.\r\n\r\n**Edit 2**\r\n\r\nJava 7 introduced a new utility function that works with primitive types directly, `Boolean#compare` (Thanks *shmosel*)\r\n\r\n    int boolToInt(boolean b) {\r\n        return Boolean.compare(b, false);\r\n    }\r\n","title":"Convert boolean to int in Java","body":"<p>Using the ternary operator is the most simple, most efficient, and most readable way to do what you want. I encourage you to use this solution.</p>\n\n<p>However, I can't resist to propose an alternative, contrived, inefficient, unreadable solution.</p>\n\n<pre><code>int boolToInt(Boolean b) {\n    return b.compareTo(false);\n}\n</code></pre>\n\n<p>Hey, people like to vote for such cool answers !</p>\n\n<p><strong>Edit</strong></p>\n\n<p>By the way, I often saw conversions from a boolean to an int for the sole purpose of doing a comparison of the two values (generally, in implementations of <code>compareTo</code> method). <code>Boolean#compareTo</code> is the way to go in those specific cases.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>Java 7 introduced a new utility function that works with primitive types directly, <code>Boolean#compare</code> (Thanks <em>shmosel</em>)</p>\n\n<pre><code>int boolToInt(boolean b) {\n    return Boolean.compare(b, false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943548,"reputation":2798,"user_id":1749165,"accept_rate":70,"display_name":"mumair"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1483686325,"creation_date":1445841637,"answer_id":33339814,"question_id":3793650,"body_markdown":"Lets play trick with `Boolean.compare(boolean, boolean)`. Default behavior of function: if both values are equal than it returns `0` otherwise `-1`.\r\n\r\n    public int valueOf(Boolean flag) {\r\n       return Boolean.compare(flag, Boolean.TRUE) + 1;\r\n    }\r\n\r\n*Explanation*: As we know default return of Boolean.compare is -1 in case of mis-match so +1 make return value to **0** for `False` and **1** for `True`","title":"Convert boolean to int in Java","body":"<p>Lets play trick with <code>Boolean.compare(boolean, boolean)</code>. Default behavior of function: if both values are equal than it returns <code>0</code> otherwise <code>-1</code>.</p>\n\n<pre><code>public int valueOf(Boolean flag) {\n   return Boolean.compare(flag, Boolean.TRUE) + 1;\n}\n</code></pre>\n\n<p><em>Explanation</em>: As we know default return of Boolean.compare is -1 in case of mis-match so +1 make return value to <strong>0</strong> for <code>False</code> and <strong>1</strong> for <code>True</code></p>\n"},{"tags":[],"owner":{"account_id":7520262,"reputation":485,"user_id":5712403,"display_name":"Darkeniel"},"down_vote_count":7,"up_vote_count":37,"is_accepted":false,"score":30,"last_activity_date":1450899486,"creation_date":1450899486,"answer_id":34442583,"question_id":3793650,"body_markdown":"    import org.apache.commons.lang3.BooleanUtils;\r\n    boolean x = true;   \r\n    int y= BooleanUtils.toInteger(x);","title":"Convert boolean to int in Java","body":"<pre><code>import org.apache.commons.lang3.BooleanUtils;\nboolean x = true;   \nint y= BooleanUtils.toInteger(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1465634534,"creation_date":1465634534,"answer_id":37761756,"question_id":3793650,"body_markdown":"If you want to obfuscate, use this:\r\n\r\n    System.out.println( 1 &amp; Boolean.hashCode( true ) &gt;&gt; 1 );  // 1\r\n    System.out.println( 1 &amp; Boolean.hashCode( false ) &gt;&gt; 1 ); // 0\r\n","title":"Convert boolean to int in Java","body":"<p>If you want to obfuscate, use this:</p>\n\n<pre><code>System.out.println( 1 &amp; Boolean.hashCode( true ) &gt;&gt; 1 );  // 1\nSystem.out.println( 1 &amp; Boolean.hashCode( false ) &gt;&gt; 1 ); // 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6414453,"reputation":719,"user_id":4973089,"accept_rate":71,"display_name":"triForce420"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1496319477,"creation_date":1496319477,"answer_id":44307352,"question_id":3793650,"body_markdown":"If you use [Apache Commons Lang][1] (which I think a lot of projects use it), you can just use it like this: \r\n\r\n    int myInt = BooleanUtils.toInteger(boolean_expression); \r\n\r\n`toInteger` method returns 1 if `boolean_expression` is true, 0 otherwise\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Convert boolean to int in Java","body":"<p>If you use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> (which I think a lot of projects use it), you can just use it like this: </p>\n\n<pre><code>int myInt = BooleanUtils.toInteger(boolean_expression); \n</code></pre>\n\n<p><code>toInteger</code> method returns 1 if <code>boolean_expression</code> is true, 0 otherwise</p>\n"},{"tags":[],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588696633,"creation_date":1528914688,"answer_id":50843989,"question_id":3793650,"body_markdown":"    public static int convBool(boolean b)\r\n    {\r\n    int convBool = 0;\r\n    if(b) convBool = 1;\r\n    return convBool;\r\n    }\r\n\r\nThen use :\r\n\r\n    convBool(aBool);","title":"Convert boolean to int in Java","body":"<pre><code>public static int convBool(boolean b)\n{\nint convBool = 0;\nif(b) convBool = 1;\nreturn convBool;\n}\n</code></pre>\n\n<p>Then use :</p>\n\n<pre><code>convBool(aBool);\n</code></pre>\n"}],"owner":{"account_id":48276,"reputation":119394,"user_id":143378,"accept_rate":79,"display_name":"hpique"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567574,"favorite_count":0,"down_vote_count":3,"up_vote_count":421,"accepted_answer_id":3793654,"answer_count":12,"score":418,"last_activity_date":1658381622,"creation_date":1285415297,"question_id":3793650,"body_markdown":"What is the most accepted way to convert a `boolean` to an `int` in Java?","title":"Convert boolean to int in Java","body":"<p>What is the most accepted way to convert a <code>boolean</code> to an <code>int</code> in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1314130910,"post_id":7167001,"comment_id":8601447,"body_markdown":"*I want to sort the map*, you mean &quot;sort the *list*&quot;, right?","body":"<i>I want to sort the map</i>, you mean &quot;sort the <i>list</i>&quot;, right?"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314130962,"creation_date":1314130659,"answer_id":7167027,"question_id":7167001,"body_markdown":"Implement your own `Comparator&lt;Map&lt;Key, Value&gt;&gt;` based on `map.get(&quot;PlayId&quot;)`.\r\n\r\nExample:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; songs = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n    \r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id3&quot;);\r\n        put(&quot;Song Title&quot;, &quot;some title&quot;);\r\n    }});\r\n    \r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id5&quot;);\r\n        put(&quot;Song Title&quot;, &quot;some title&quot;);\r\n    }});\r\n\r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id2&quot;);\r\n        put(&quot;Song Title&quot;, &quot;some title&quot;);\r\n    }});\r\n    \r\n    Collections.sort(songs, new Comparator&lt;Map&lt;String, String&gt;&gt;() {\r\n        @Override\r\n        public int compare(Map&lt;String, String&gt; o1, Map&lt;String, String&gt; o2) {\r\n            return o1.get(&quot;PlayId&quot;).compareTo(o2.get(&quot;PlayId&quot;));\r\n        }\r\n    });","title":"Sorting list of maps based on a value","body":"<p>Implement your own <code>Comparator&lt;Map&lt;Key, Value&gt;&gt;</code> based on <code>map.get(\"PlayId\")</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; songs = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(\"PlayId\", \"id3\");\n    put(\"Song Title\", \"some title\");\n}});\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(\"PlayId\", \"id5\");\n    put(\"Song Title\", \"some title\");\n}});\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(\"PlayId\", \"id2\");\n    put(\"Song Title\", \"some title\");\n}});\n\nCollections.sort(songs, new Comparator&lt;Map&lt;String, String&gt;&gt;() {\n    @Override\n    public int compare(Map&lt;String, String&gt; o1, Map&lt;String, String&gt; o2) {\n        return o1.get(\"PlayId\").compareTo(o2.get(\"PlayId\"));\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9698,"reputation":11435,"user_id":18027,"accept_rate":83,"display_name":"Tahir Akhtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314131286,"creation_date":1314131286,"answer_id":7167141,"question_id":7167001,"body_markdown":"What you need a custom comparator. \r\n\r\nCreate a class that implements Comparator&lt;Map&gt;:\r\n\r\n      class MyMapComparator {\r\n        public int compare(Map m1, Map m2) {\r\n          //get play id from both maps here and compare them\r\n          return playId1 - playId2;\r\n        }\r\n      }\r\n\r\nThen simply sort your list using instance of `MyMapComparator`.\r\n\r\n    Collections.sort(listTobeSorted, new MyMapComparator());","title":"Sorting list of maps based on a value","body":"<p>What you need a custom comparator. </p>\n\n<p>Create a class that implements Comparator:</p>\n\n<pre><code>  class MyMapComparator {\n    public int compare(Map m1, Map m2) {\n      //get play id from both maps here and compare them\n      return playId1 - playId2;\n    }\n  }\n</code></pre>\n\n<p>Then simply sort your list using instance of <code>MyMapComparator</code>.</p>\n\n<pre><code>Collections.sort(listTobeSorted, new MyMapComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15173004,"reputation":26,"user_id":10948500,"display_name":"Deeraj Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658381516,"creation_date":1658381516,"answer_id":73061134,"question_id":7167001,"body_markdown":"If all the Map are present in list, songs\r\nand if you don&#39;t want to use POJO entities.\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; songs = new ArrayList&lt;&gt;();\r\n    \r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id3&quot;);\r\n        put(&quot;Title&quot;, &quot;title3&quot;);\r\n    }});\r\n    \r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id2&quot;);\r\n        put(&quot;Title&quot;, &quot;title2&quot;);\r\n    }});\r\n    \r\n    songs.add(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;PlayId&quot;, &quot;id5&quot;);\r\n        put(&quot;Title&quot;, &quot;title5&quot;);\r\n    }});\r\n    \r\nuse java.util.List.sort(Comparator&lt;? super Map&lt;String, String&gt;&gt; c \r\n\r\nTo sort in ascending order,\r\n\r\n    songs.sort( (a,b) -&gt; a.get(&quot;PlayId&quot;).compareTo(b.get(&quot;PlayId&quot;)) );\r\n\r\nif in descending order,\r\n\r\n    songs.sort( (a,b) -&gt; b.get(&quot;PlayId&quot;).compareTo(a.get(&quot;PlayId&quot;)) );\r\n\r\nAlso, we could use custom function for Comparator.\r\nif Comparator is null, then the natural order will be used","title":"Sorting list of maps based on a value","body":"<p>If all the Map are present in list, songs\nand if you don't want to use POJO entities.</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; songs = new ArrayList&lt;&gt;();\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(&quot;PlayId&quot;, &quot;id3&quot;);\n    put(&quot;Title&quot;, &quot;title3&quot;);\n}});\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(&quot;PlayId&quot;, &quot;id2&quot;);\n    put(&quot;Title&quot;, &quot;title2&quot;);\n}});\n\nsongs.add(new HashMap&lt;String, String&gt;() {{\n    put(&quot;PlayId&quot;, &quot;id5&quot;);\n    put(&quot;Title&quot;, &quot;title5&quot;);\n}});\n</code></pre>\n<p>use java.util.List.sort(Comparator&lt;? super Map&lt;String, String&gt;&gt; c</p>\n<p>To sort in ascending order,</p>\n<pre><code>songs.sort( (a,b) -&gt; a.get(&quot;PlayId&quot;).compareTo(b.get(&quot;PlayId&quot;)) );\n</code></pre>\n<p>if in descending order,</p>\n<pre><code>songs.sort( (a,b) -&gt; b.get(&quot;PlayId&quot;).compareTo(a.get(&quot;PlayId&quot;)) );\n</code></pre>\n<p>Also, we could use custom function for Comparator.\nif Comparator is null, then the natural order will be used</p>\n"}],"owner":{"account_id":484898,"reputation":11,"user_id":900875,"display_name":"Kodali Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658381516,"creation_date":1314130514,"question_id":7167001,"body_markdown":"I have a list of maps as follows\r\n\r\n&gt; [[AdGenres-b:key:[177, 184],MusicalStyles-b:key:[30],SongTitle:[What\r\n&gt; I&#39;ve\r\n&gt; Done],ArtistName:[LinkinPark],MusicVideoRating:[TV-14],MusicalStyles-b:value:[Rock],PlayId:[1367],AdGenres-b:value:[Rock\r\n&gt; - Rock, Rock - Alternative],MusicVideoProvider:[Warner Music Group],\r\n&gt; AssetId:[91744]],\r\n&gt; \r\n&gt;  [[AdGenres-b:key:[177, 184],MusicalStyles-b:key:[30],SongTitle:[What\r\n&gt; I&#39;ve Done],ArtistName:[Linkin Park],MusicVideoRating:[TV-14],\r\n&gt; MusicalStyles-b:value:[Rock], PlayId:[1360], AdGenres-b:value:[Rock -\r\n&gt; Rock, Rock - Alternative], MusicVideoProvider:[Warner Music Group],\r\n&gt; AssetId:[91740]]\r\n\r\nI want to sort the map by PlayId in ascending order and then store the sorted maps in a list.\r\nHow can I achieve this?\r\n","title":"Sorting list of maps based on a value","body":"<p>I have a list of maps as follows</p>\n\n<blockquote>\n  <p>[[AdGenres-b:key:[177, 184],MusicalStyles-b:key:[30],SongTitle:[What\n  I've\n  Done],ArtistName:[LinkinPark],MusicVideoRating:[TV-14],MusicalStyles-b:value:[Rock],PlayId:[1367],AdGenres-b:value:[Rock\n  - Rock, Rock - Alternative],MusicVideoProvider:[Warner Music Group],\n  AssetId:[91744]],</p>\n  \n  <p>[[AdGenres-b:key:[177, 184],MusicalStyles-b:key:[30],SongTitle:[What\n  I've Done],ArtistName:[Linkin Park],MusicVideoRating:[TV-14],\n  MusicalStyles-b:value:[Rock], PlayId:[1360], AdGenres-b:value:[Rock -\n  Rock, Rock - Alternative], MusicVideoProvider:[Warner Music Group],\n  AssetId:[91740]]</p>\n</blockquote>\n\n<p>I want to sort the map by PlayId in ascending order and then store the sorted maps in a list.\nHow can I achieve this?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1658380866,"post_id":73061024,"comment_id":129038138,"body_markdown":"`when i click a button in my app, it makes app go to main fragment forcibly` ite means your app is crashing","body":"<code>when i click a button in my app, it makes app go to main fragment forcibly</code> ite means your app is crashing"},{"owner":{"account_id":25858616,"reputation":1,"user_id":19591430,"display_name":"TBCare"},"score":0,"creation_date":1658381200,"post_id":73061024,"comment_id":129038197,"body_markdown":"So how to resolve it?","body":"So how to resolve it?"}],"owner":{"account_id":25858616,"reputation":1,"user_id":19591430,"display_name":"TBCare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658380603,"creation_date":1658380603,"question_id":73061024,"body_markdown":"This app is already run normal, but when i click some button, i don&#39;t know why my app go to profile fragment (main fragment) can someone help me? my plan when the button clicked, it go to &quot;```fragment_hasil_pengecekan```&quot; fragment with result from form. for the details you can see this image :[enter image description here][1] i&#39;m a newbie in here so please teach me how to resolve it.\r\n\r\n[1]: https://i.stack.imgur.com/h5atI.jpg\r\n\r\n\r\n\r\n","title":"when i click a button in my app, it makes app go to main fragment forcibly","body":"<p>This app is already run normal, but when i click some button, i don't know why my app go to profile fragment (main fragment) can someone help me? my plan when the button clicked, it go to &quot;<code>fragment_hasil_pengecekan</code>&quot; fragment with result from form. for the details you can see this image :<a href=\"https://i.stack.imgur.com/h5atI.jpg\" rel=\"nofollow noreferrer\">enter image description here</a> i'm a newbie in here so please teach me how to resolve it.</p>\n"},{"tags":["java","binary","decimal"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1360380804,"post_id":14784630,"comment_id":20701081,"body_markdown":"If you see errors, you&#39;ll want to share them with us.","body":"If you see errors, you&#39;ll want to share them with us."},{"owner":{"account_id":2339842,"reputation":9718,"user_id":2051392,"accept_rate":72,"display_name":"DotNetRussell"},"score":0,"creation_date":1360380817,"post_id":14784630,"comment_id":20707491,"body_markdown":"Long.toBinaryString(Double.doubleToRawLongBits(d)); Reference http://stackoverflow.com/questions/6359847/convert-double-to-binary-representation","body":"Long.toBinaryString(Double.doubleToRawLongBits(d)); Reference <a href=\"http://stackoverflow.com/questions/6359847/convert-double-to-binary-representation\" title=\"convert double to binary representation\">stackoverflow.com/questions/6359847/&hellip;</a>"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1360381173,"post_id":14784630,"comment_id":20701119,"body_markdown":"For some reason, it compiles but I don&#39;t see it print out the binary form @_@ It looks like here for some reason: Enter a positive integer\n2\nConvert to binary is:1000000 (forever zeroes..) Exception in thread &quot;main&quot; java.lang.StackOverflowError\n\tat java.io.PrintStream.write(Unknown Source)\n\tat java.io.PrintStream.print(Unknown Source)\n\tat reversedBinary.ReversedBinary.binaryform(ReversedBinary.java:30)\n\tat reversedBinary.ReversedBinary.binaryform(ReversedBinary.java:36)\n\tat","body":"For some reason, it compiles but I don&#39;t see it print out the binary form @_@ It looks like here for some reason: Enter a positive integer 2 Convert to binary is:1000000 (forever zeroes..) Exception in thread &quot;main&quot; java.lang.StackOverflowError \tat java.io.PrintStream.write(Unknown Source) \tat java.io.PrintStream.print(Unknown Source) \tat reversedBinary.ReversedBinary.binaryform(ReversedBinary.java&zwnj;&#8203;:30) \tat reversedBinary.ReversedBinary.binaryform(ReversedBinary.java&zwnj;&#8203;:36) \tat"},{"owner":{"account_id":6839939,"reputation":163,"user_id":5260679,"display_name":"Erfan"},"score":1,"creation_date":1450512074,"post_id":14784630,"comment_id":56479162,"body_markdown":"Possible duplicate of [Converting an int to a binary string representation in Java?](http://stackoverflow.com/questions/2406432/converting-an-int-to-a-binary-string-representation-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2406432/converting-an-int-to-a-binary-string-representation-in-java\">Converting an int to a binary string representation in Java?</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491522450,"post_id":14784630,"comment_id":73603643,"body_markdown":"There is no decimal here. The input is already binary. All you&#39;re doing is changing the representation, probably to ASCII. Unclear what you&#39;re asking.","body":"There is no decimal here. The input is already binary. All you&#39;re doing is changing the representation, probably to ASCII. Unclear what you&#39;re asking."},{"owner":{"account_id":2373536,"reputation":172,"user_id":2077554,"display_name":"Hemanth Kumar"},"score":0,"creation_date":1520120173,"post_id":14784630,"comment_id":85186275,"body_markdown":"The simplest solution would be to built in method mentioned in this [link](https://stackoverflow.com/a/25958884/2077554)","body":"The simplest solution would be to built in method mentioned in this <a href=\"https://stackoverflow.com/a/25958884/2077554\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":19851,"reputation":5145,"user_id":46871,"accept_rate":88,"display_name":"tlehman"},"down_vote_count":3,"up_vote_count":16,"is_accepted":true,"score":13,"last_activity_date":1523727492,"creation_date":1360381147,"answer_id":14784683,"question_id":14784630,"body_markdown":"Your `binaryForm` method is getting caught in an infinite recursion, you need to return if `number &lt;= 1`:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ReversedBinary {\r\n    \r\n        public static void main(String[] args) {\r\n            int number;\r\n    \r\n            Scanner in = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter a positive integer&quot;);\r\n            number = in.nextInt();\r\n    \r\n            if (number &lt; 0) {\r\n                System.out.println(&quot;Error: Not a positive integer&quot;);\r\n            } else {\r\n    \r\n                System.out.print(&quot;Convert to binary is:&quot;);\r\n                //System.out.print(binaryform(number));\r\n                printBinaryform(number);\r\n            }\r\n        }\r\n    \r\n        private static void printBinaryform(int number) {\r\n            int remainder;\r\n    \r\n            if (number &lt;= 1) {\r\n                System.out.print(number);\r\n                return; // KICK OUT OF THE RECURSION\r\n            }\r\n    \r\n            remainder = number % 2;\r\n            printBinaryform(number &gt;&gt; 1);\r\n            System.out.print(remainder);\r\n        }\r\n    }\r\n\r\n","title":"Converting Decimal to Binary Java","body":"<p>Your <code>binaryForm</code> method is getting caught in an infinite recursion, you need to return if <code>number &lt;= 1</code>:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ReversedBinary {\n\n    public static void main(String[] args) {\n        int number;\n\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(\"Enter a positive integer\");\n        number = in.nextInt();\n\n        if (number &lt; 0) {\n            System.out.println(\"Error: Not a positive integer\");\n        } else {\n\n            System.out.print(\"Convert to binary is:\");\n            //System.out.print(binaryform(number));\n            printBinaryform(number);\n        }\n    }\n\n    private static void printBinaryform(int number) {\n        int remainder;\n\n        if (number &lt;= 1) {\n            System.out.print(number);\n            return; // KICK OUT OF THE RECURSION\n        }\n\n        remainder = number % 2;\n        printBinaryform(number &gt;&gt; 1);\n        System.out.print(remainder);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2625097,"reputation":1094,"user_id":2517880,"accept_rate":83,"display_name":"Vaibhav"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1372108634,"creation_date":1372107434,"answer_id":17284958,"question_id":14784630,"body_markdown":"`Integer.toBinaryString()` is an in-built method and will do quite well.","title":"Converting Decimal to Binary Java","body":"<p><code>Integer.toBinaryString()</code> is an in-built method and will do quite well.</p>\n"},{"tags":[],"owner":{"account_id":3023542,"reputation":9,"user_id":2564026,"display_name":"Sam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611355985,"creation_date":1373364127,"answer_id":17545408,"question_id":14784630,"body_markdown":"If you want to reverse the calculated binary form , you can use the StringBuffer class and simply use the reverse() method . Here is a sample program that will explain its use and calculate the binary\r\n\r\n    public class Binary {\r\n\r\n\t\tpublic StringBuffer calculateBinary(int number) {\r\n\t\t\tStringBuffer sBuf = new StringBuffer();\r\n\t\t\tint temp = 0;\r\n\t\t\twhile (number &gt; 0) {\r\n\t\t\t\ttemp = number % 2;\r\n\t\t\t\tsBuf.append(temp);\r\n\t\t\t\tnumber = number / 2;\r\n\t\t\t}\r\n\t\t\treturn sBuf.reverse();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tSystem.out.println(&quot;enter the number you want to convert&quot;);\r\n\t\t\tBufferedReader bReader = new BufferedReader(newInputStreamReader(System.in));\r\n\t\t\tint number = Integer.parseInt(bReader.readLine());\r\n\r\n\t\t\tBinary binaryObject = new Binary();\r\n\t\t\tStringBuffer result = binaryObject.calculateBinary(number);\r\n\t\t\tSystem.out.println(result);\r\n\t\t}\r\n\t}","title":"Converting Decimal to Binary Java","body":"<p>If you want to reverse the calculated binary form , you can use the StringBuffer class and simply use the reverse() method . Here is a sample program that will explain its use and calculate the binary</p>\n<pre><code>public class Binary {\n\n    public StringBuffer calculateBinary(int number) {\n        StringBuffer sBuf = new StringBuffer();\n        int temp = 0;\n        while (number &gt; 0) {\n            temp = number % 2;\n            sBuf.append(temp);\n            number = number / 2;\n        }\n        return sBuf.reverse();\n    }\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;enter the number you want to convert&quot;);\n        BufferedReader bReader = new BufferedReader(newInputStreamReader(System.in));\n        int number = Integer.parseInt(bReader.readLine());\n\n        Binary binaryObject = new Binary();\n        StringBuffer result = binaryObject.calculateBinary(number);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3757293,"reputation":724,"user_id":3123372,"accept_rate":22,"display_name":"user3123372"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410916018,"creation_date":1387556025,"answer_id":20707670,"question_id":14784630,"body_markdown":"It might seem silly , but if u wanna try utility function \r\n \r\n    System.out.println(Integer.parseInt((Integer.toString(i,2))));\r\n\r\n there must be some  utility method to do it directly, I cant remember.","title":"Converting Decimal to Binary Java","body":"<p>It might seem silly , but if u wanna try utility function </p>\n\n<pre><code>System.out.println(Integer.parseInt((Integer.toString(i,2))));\n</code></pre>\n\n<p>there must be some  utility method to do it directly, I cant remember.</p>\n"},{"tags":[],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392770078,"creation_date":1392770078,"answer_id":21868580,"question_id":14784630,"body_markdown":"In C# , but it&#39;s just the same as in Java : \r\n\r\n\r\n    public static void findOnes2(int num)\r\n    {\r\n        int count = 0;      // count 1&#39;s \r\n        String snum = &quot;&quot;;   // final binary representation\r\n        int rem = 0;        // remainder\r\n        \r\n        while (num != 0)\r\n        {\r\n            rem = num % 2;           // grab remainder\r\n            snum += rem.ToString();  // build the binary rep\r\n            num = num / 2;\r\n            if (rem == 1)            // check if we have a 1 \r\n                count++;             // if so add 1 to the count\r\n        }\r\n\r\n        char[] arr = snum.ToCharArray();\r\n        Array.Reverse(arr);\r\n        String snum2 = new string(arr);\r\n        Console.WriteLine(&quot;Reporting ...&quot;);\r\n        Console.WriteLine(&quot;The binary representation :&quot; + snum2);\r\n        Console.WriteLine(&quot;The number of 1&#39;s is :&quot; + count);\r\n    }\r\n\r\n    public static void Main()\r\n    {\r\n        findOnes2(10);\r\n    }","title":"Converting Decimal to Binary Java","body":"<p>In C# , but it's just the same as in Java : </p>\n\n<pre><code>public static void findOnes2(int num)\n{\n    int count = 0;      // count 1's \n    String snum = \"\";   // final binary representation\n    int rem = 0;        // remainder\n\n    while (num != 0)\n    {\n        rem = num % 2;           // grab remainder\n        snum += rem.ToString();  // build the binary rep\n        num = num / 2;\n        if (rem == 1)            // check if we have a 1 \n            count++;             // if so add 1 to the count\n    }\n\n    char[] arr = snum.ToCharArray();\n    Array.Reverse(arr);\n    String snum2 = new string(arr);\n    Console.WriteLine(\"Reporting ...\");\n    Console.WriteLine(\"The binary representation :\" + snum2);\n    Console.WriteLine(\"The number of 1's is :\" + count);\n}\n\npublic static void Main()\n{\n    findOnes2(10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2754907,"reputation":1362,"user_id":2373304,"accept_rate":67,"display_name":"loknath"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1399466089,"creation_date":1399466089,"answer_id":23518006,"question_id":14784630,"body_markdown":"\r\n\t/**\r\n\t * @param no\r\n\t *            : Decimal no\r\n\t * @return binary as integer array\r\n\t */\r\n\tpublic int[] convertBinary(int no) {\r\n\t\tint i = 0, temp[] = new int[7];\r\n\t\tint binary[];\r\n\t\twhile (no &gt; 0) {\r\n\t\t\ttemp[i++] = no % 2;\r\n\t\t\tno /= 2;\r\n\t\t}\r\n\t\tbinary = new int[i];\r\n\t\tint k = 0;\r\n\t\tfor (int j = i - 1; j &gt;= 0; j--) {\r\n\t\t\tbinary[k++] = temp[j];\r\n\t\t}\r\n\r\n\t\treturn binary;\r\n\t}\r\n","title":"Converting Decimal to Binary Java","body":"<pre><code>/**\n * @param no\n *            : Decimal no\n * @return binary as integer array\n */\npublic int[] convertBinary(int no) {\n    int i = 0, temp[] = new int[7];\n    int binary[];\n    while (no &gt; 0) {\n        temp[i++] = no % 2;\n        no /= 2;\n    }\n    binary = new int[i];\n    int k = 0;\n    for (int j = i - 1; j &gt;= 0; j--) {\n        binary[k++] = temp[j];\n    }\n\n    return binary;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5041061,"reputation":65,"user_id":4048435,"display_name":"Tyson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1410914072,"creation_date":1410914072,"answer_id":25880504,"question_id":14784630,"body_markdown":"I just want to add, for anyone who uses: \r\n\r\n       String x=Integer.toBinaryString()\r\n\r\n\r\nto get a String of Binary numbers and wants to convert that string into an int. If you use \r\n\r\n      int y=Integer.parseInt(x)\r\n\r\nyou will get a NumberFormatException error.\r\n\r\n\r\nWhat I did to convert String x to Integers, was first converted each individual Char in the String x to a single Char in a for loop. \r\n\r\n      char t = (x.charAt(z));\r\n\r\nI then converted each Char back into an individual String, \r\n      \r\n      String u=String.valueOf(t);\r\n\r\nthen Parsed each String into an Integer. \r\n\r\nId figure Id post this, because I took me a while to figure out how to get a binary such as 01010101 into Integer form.","title":"Converting Decimal to Binary Java","body":"<p>I just want to add, for anyone who uses: </p>\n\n<pre><code>   String x=Integer.toBinaryString()\n</code></pre>\n\n<p>to get a String of Binary numbers and wants to convert that string into an int. If you use </p>\n\n<pre><code>  int y=Integer.parseInt(x)\n</code></pre>\n\n<p>you will get a NumberFormatException error.</p>\n\n<p>What I did to convert String x to Integers, was first converted each individual Char in the String x to a single Char in a for loop. </p>\n\n<pre><code>  char t = (x.charAt(z));\n</code></pre>\n\n<p>I then converted each Char back into an individual String, </p>\n\n<pre><code>  String u=String.valueOf(t);\n</code></pre>\n\n<p>then Parsed each String into an Integer. </p>\n\n<p>Id figure Id post this, because I took me a while to figure out how to get a binary such as 01010101 into Integer form.</p>\n"},{"tags":[],"owner":{"account_id":5157791,"reputation":429,"user_id":4130522,"display_name":"Jesse Pinkman"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1413008199,"creation_date":1413008199,"answer_id":26311732,"question_id":14784630,"body_markdown":"    Integer.toString(n,8) // decimal to octal\r\n    \r\n    Integer.toString(n,2) // decimal to binary\r\n    \r\n    Integer.toString(n,16) //decimal to Hex\r\n\r\nwhere n = decimal number.","title":"Converting Decimal to Binary Java","body":"<pre><code>Integer.toString(n,8) // decimal to octal\n\nInteger.toString(n,2) // decimal to binary\n\nInteger.toString(n,16) //decimal to Hex\n</code></pre>\n\n<p>where n = decimal number.</p>\n"},{"tags":[],"owner":{"account_id":5963200,"reputation":11,"user_id":4687720,"display_name":"hassan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439644323,"creation_date":1426724236,"answer_id":29135062,"question_id":14784630,"body_markdown":"    public static void main(String[] args)\r\n    {\r\n    \tScanner in =new Scanner(System.in);\r\n    \tSystem.out.print(&quot;Put a number : &quot;);\r\n    \tint a=in.nextInt();\r\n    \tStringBuffer b=new StringBuffer();\r\n    \twhile(a&gt;=1)\r\n    \t{\r\n    \t  if(a%2!=0)\r\n    \t  {\r\n    \t\tb.append(1);\r\n    \t   }\r\n    \t  else if(a%2==0)\r\n    \t  {\r\n    \t\t b.append(0);\r\n    \t  }\r\n    \t  a /=2;\r\n    \t}\r\n    \tSystem.out.println(b.reverse());\r\n    }","title":"Converting Decimal to Binary Java","body":"<pre><code>public static void main(String[] args)\n{\n    Scanner in =new Scanner(System.in);\n    System.out.print(\"Put a number : \");\n    int a=in.nextInt();\n    StringBuffer b=new StringBuffer();\n    while(a&gt;=1)\n    {\n      if(a%2!=0)\n      {\n        b.append(1);\n       }\n      else if(a%2==0)\n      {\n         b.append(0);\n      }\n      a /=2;\n    }\n    System.out.println(b.reverse());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6078331,"reputation":1,"user_id":4744895,"display_name":"Thirupathi Reddy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1428035124,"creation_date":1428031947,"answer_id":29425818,"question_id":14784630,"body_markdown":"No need of any java in-built functions. Simple recursion will do.\r\n\r\n    public class DecimaltoBinaryTest {\r\n         public static void main(String[] args) {\r\n            DecimaltoBinary decimaltoBinary = new DecimaltoBinary();\r\n            System.out.println(&quot;hello &quot; + decimaltoBinary.convertToBinary(1000,0));\r\n        }\r\n\r\n    }\r\n\r\n    class DecimaltoBinary {\r\n\r\n        public DecimaltoBinary() {\r\n        }\r\n\r\n        public int convertToBinary(int num,int binary) {\r\n            if (num == 0 || num == 1) {\r\n                return num;\r\n            } \r\n            binary = convertToBinary(num / 2, binary);\r\n            binary = binary * 10 + (num % 2);\r\n            return binary;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Converting Decimal to Binary Java","body":"<p>No need of any java in-built functions. Simple recursion will do.</p>\n\n<pre><code>public class DecimaltoBinaryTest {\n     public static void main(String[] args) {\n        DecimaltoBinary decimaltoBinary = new DecimaltoBinary();\n        System.out.println(\"hello \" + decimaltoBinary.convertToBinary(1000,0));\n    }\n\n}\n\nclass DecimaltoBinary {\n\n    public DecimaltoBinary() {\n    }\n\n    public int convertToBinary(int num,int binary) {\n        if (num == 0 || num == 1) {\n            return num;\n        } \n        binary = convertToBinary(num / 2, binary);\n        binary = binary * 10 + (num % 2);\n        return binary;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6135272,"reputation":9,"user_id":4784354,"display_name":"silentnoise"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429828670,"creation_date":1429828670,"answer_id":29835595,"question_id":14784630,"body_markdown":"I just solved this myself, and I wanted to share my answer because it includes the binary reversal and then conversion to decimal.  I&#39;m not a very experienced coder but hopefully this will be helpful to someone else.\r\n\r\nWhat I did was push the binary data onto a stack as I was converting it, and then popped it off to reverse it and convert it back to decimal.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Stack;\r\n\r\n    public class ReversedBinary \r\n    {\r\n        private Stack&lt;Integer&gt; st;\r\n\r\n        public ReversedBinary()\r\n        {\r\n            st = new Stack&lt;&gt;();\r\n        }\r\n\r\n        private int decimaltoBinary(int dec)\r\n        {\r\n            if(dec == 0 || dec == 1)\r\n            {\r\n                st.push(dec % 2);\r\n                return dec;\r\n            }\r\n\r\n            st.push(dec % 2);\r\n\r\n            dec = decimaltoBinary(dec / 2);        \r\n\r\n            return dec;\r\n        }\r\n\r\n        private int reversedtoDecimal()\r\n        {\r\n            int revDec = st.pop();\r\n            int i = 1;\r\n\r\n            while(!st.isEmpty())\r\n            {\r\n                revDec += st.pop() * Math.pow(2, i++);\r\n            }\r\n\r\n            return revDec;\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            ReversedBinary rev = new ReversedBinary();\r\n\r\n            System.out.println(&quot;Please enter a positive integer:&quot;);\r\n\r\n            Scanner sc = new Scanner(System.in);\r\n            while(sc.hasNextLine())\r\n            {\r\n                int input = Integer.parseInt(sc.nextLine());\r\n                if(input &lt; 1 || input &gt; 1000000000)\r\n                {\r\n                    System.out.println(&quot;Integer must be between 1 and 1000000000!&quot;);\r\n                }\r\n                else\r\n                {\r\n                    rev.decimaltoBinary(input);\r\n                    System.out.println(&quot;Binary to reversed, converted to decimal: &quot; + rev.reversedtoDecimal());\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"Converting Decimal to Binary Java","body":"<p>I just solved this myself, and I wanted to share my answer because it includes the binary reversal and then conversion to decimal.  I'm not a very experienced coder but hopefully this will be helpful to someone else.</p>\n\n<p>What I did was push the binary data onto a stack as I was converting it, and then popped it off to reverse it and convert it back to decimal.</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.Stack;\n\npublic class ReversedBinary \n{\n    private Stack&lt;Integer&gt; st;\n\n    public ReversedBinary()\n    {\n        st = new Stack&lt;&gt;();\n    }\n\n    private int decimaltoBinary(int dec)\n    {\n        if(dec == 0 || dec == 1)\n        {\n            st.push(dec % 2);\n            return dec;\n        }\n\n        st.push(dec % 2);\n\n        dec = decimaltoBinary(dec / 2);        \n\n        return dec;\n    }\n\n    private int reversedtoDecimal()\n    {\n        int revDec = st.pop();\n        int i = 1;\n\n        while(!st.isEmpty())\n        {\n            revDec += st.pop() * Math.pow(2, i++);\n        }\n\n        return revDec;\n    }\n\n    public static void main(String[] args)\n    {\n        ReversedBinary rev = new ReversedBinary();\n\n        System.out.println(\"Please enter a positive integer:\");\n\n        Scanner sc = new Scanner(System.in);\n        while(sc.hasNextLine())\n        {\n            int input = Integer.parseInt(sc.nextLine());\n            if(input &lt; 1 || input &gt; 1000000000)\n            {\n                System.out.println(\"Integer must be between 1 and 1000000000!\");\n            }\n            else\n            {\n                rev.decimaltoBinary(input);\n                System.out.println(\"Binary to reversed, converted to decimal: \" + rev.reversedtoDecimal());\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6624971,"reputation":1,"user_id":5115494,"display_name":"Karthik Venkatesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436882648,"creation_date":1436882648,"answer_id":31408957,"question_id":14784630,"body_markdown":"    import java.util.*;\r\n\r\n    public class BinaryNumber \r\n    {\r\n\t    public static void main(String[] args)\r\n\t    {\r\n\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Enter the number&quot;);\r\n\t\t    int n = scan.nextInt();\r\n\t\t    int rem;\r\n\t\t    int num =n; \r\n\t\t    String str=&quot;&quot;;\r\n\t\t    while(num&gt;0)\r\n\t\t    {\r\n\t\t\t    rem = num%2;\r\n\t\t\t    str = rem + str;\r\n\t\t\t    num=num/2;\r\n\t\t    }\r\n\t\t    System.out.println(&quot;the bunary number for &quot;+n+&quot; is : &quot;+str);\r\n\t    }\r\n    }\r\n","title":"Converting Decimal to Binary Java","body":"<pre><code>import java.util.*;\n\npublic class BinaryNumber \n{\n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(\"Enter the number\");\n        int n = scan.nextInt();\n        int rem;\n        int num =n; \n        String str=\"\";\n        while(num&gt;0)\n        {\n            rem = num%2;\n            str = rem + str;\n            num=num/2;\n        }\n        System.out.println(\"the bunary number for \"+n+\" is : \"+str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5800883,"reputation":23,"user_id":4575093,"display_name":"JavaJitendra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1439644237,"creation_date":1439644237,"answer_id":32025044,"question_id":14784630,"body_markdown":"This is a very basic procedure, I got this after putting a general procedure on paper.\r\n\r\n    import java.util.Scanner;\r\n        \r\n        public class DecimalToBinary {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tScanner input = new Scanner(System.in);\r\n        \t\tSystem.out.println(&quot;Enter a Number:&quot;);\r\n        \t\tint number = input.nextInt();\r\n        \t\twhile(number!=0)\r\n        \t\t{\r\n        \t\t\tif(number%2==0) \r\n        \t\t\t{\r\n        \t\t\t\tnumber/=2;\r\n        \t\t\t\tSystem.out.print(0);//Example: 10/2 = 5     -&gt; 0\r\n        \t\t\t}\r\n        \t\t\telse if(number%2==1) \r\n        \t\t\t{\r\n        \t\t\t\tnumber/=2;\r\n        \t\t\t\tSystem.out.print(1);// 5/2 = 2              -&gt; 1\r\n        \t\t\t}\r\n        \t\t\telse if(number==2)\r\n        \t\t\t{\r\n        \t\t\t\tnumber/=2;\r\n        \t\t\t\tSystem.out.print(01);// 2/2 = 0             -&gt; 01   -&gt;0101\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }","title":"Converting Decimal to Binary Java","body":"<p>This is a very basic procedure, I got this after putting a general procedure on paper.</p>\n\n<pre><code>import java.util.Scanner;\n\n    public class DecimalToBinary {\n\n        public static void main(String[] args) {\n            Scanner input = new Scanner(System.in);\n            System.out.println(\"Enter a Number:\");\n            int number = input.nextInt();\n            while(number!=0)\n            {\n                if(number%2==0) \n                {\n                    number/=2;\n                    System.out.print(0);//Example: 10/2 = 5     -&gt; 0\n                }\n                else if(number%2==1) \n                {\n                    number/=2;\n                    System.out.print(1);// 5/2 = 2              -&gt; 1\n                }\n                else if(number==2)\n                {\n                    number/=2;\n                    System.out.print(01);// 2/2 = 0             -&gt; 01   -&gt;0101\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6773696,"reputation":55,"user_id":5216257,"display_name":"Sir Jacob"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532132720,"creation_date":1449892100,"answer_id":34236029,"question_id":14784630,"body_markdown":"All your problems can be solved with a one-liner! \r\nTo incorporate my solution into your project, simply remove your `binaryform(int number)` method, and replace `System.out.print(binaryform(number));` with `System.out.println(Integer.toBinaryString(number));`.\r\n","title":"Converting Decimal to Binary Java","body":"<p>All your problems can be solved with a one-liner! \nTo incorporate my solution into your project, simply remove your <code>binaryform(int number)</code> method, and replace <code>System.out.print(binaryform(number));</code> with <code>System.out.println(Integer.toBinaryString(number));</code>.</p>\n"},{"tags":[],"owner":{"account_id":8280015,"reputation":69,"user_id":6225013,"display_name":"Sidarth"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464178619,"creation_date":1464175854,"answer_id":37435813,"question_id":14784630,"body_markdown":"**Binary to Decimal without using Integer.ParseInt():**\r\n    \r\n    import java.util.Scanner;\r\n\r\n    //convert binary to decimal number in java without using Integer.parseInt() method.\r\n\r\n    public class BinaryToDecimalWithOutParseInt {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t    Scanner input = new Scanner( System.in );\r\n\t\t    System.out.println(&quot;Enter a binary number: &quot;);\r\n\r\n\t\t    int  binarynum =input.nextInt();\r\n\t\t    int binary=binarynum;\r\n\r\n\t\t    int decimal = 0;\r\n\t\t    int power = 0;\r\n\r\n\t\t    while(true){\r\n\r\n\t\t\t    if(binary == 0){\r\n\r\n\t\t\t\t    break;\r\n\r\n\t\t\t    } else {\r\n\r\n\t\t\t\t    int temp = binary%10;\r\n\t\t\t\t    decimal += temp*Math.pow(2, power);\r\n\t\t\t\t    binary = binary/10;\r\n\t\t\t\t    power++;\r\n\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    System.out.println(&quot;Binary=&quot;+binarynum+&quot; Decimal=&quot;+decimal); ;\r\n\t    }\r\n\r\n    }\r\n\r\n**Output:**\r\n\r\nEnter a binary number: \r\n\r\n1010\r\n\r\nBinary=1010 Decimal=10\r\n\r\n------------------------------\r\n**Binary to Decimal using Integer.parseInt():**\r\n\r\n    import java.util.Scanner;\r\n\r\n    //convert binary to decimal number in java using Integer.parseInt() method.\r\n    public class BinaryToDecimalWithParseInt {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t    Scanner input = new Scanner( System.in );\r\n\r\n\t\t    System.out.println(&quot;Enter a binary number: &quot;);\r\n\t\t    String binaryString =input.nextLine();\r\n\r\n\t\t    System.out.println(&quot;Result: &quot;+Integer.parseInt(binaryString,2));\r\n\r\n\t    }\r\n\r\n    }\r\n**Output:**\r\n\r\nEnter a binary number: \r\n\r\n1010\r\n\r\nResult: 10","title":"Converting Decimal to Binary Java","body":"<p><strong>Binary to Decimal without using Integer.ParseInt():</strong></p>\n\n<pre><code>import java.util.Scanner;\n\n//convert binary to decimal number in java without using Integer.parseInt() method.\n\npublic class BinaryToDecimalWithOutParseInt {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner( System.in );\n        System.out.println(\"Enter a binary number: \");\n\n        int  binarynum =input.nextInt();\n        int binary=binarynum;\n\n        int decimal = 0;\n        int power = 0;\n\n        while(true){\n\n            if(binary == 0){\n\n                break;\n\n            } else {\n\n                int temp = binary%10;\n                decimal += temp*Math.pow(2, power);\n                binary = binary/10;\n                power++;\n\n            }\n        }\n        System.out.println(\"Binary=\"+binarynum+\" Decimal=\"+decimal); ;\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>Enter a binary number: </p>\n\n<p>1010</p>\n\n<p>Binary=1010 Decimal=10</p>\n\n<hr>\n\n<p><strong>Binary to Decimal using Integer.parseInt():</strong></p>\n\n<pre><code>import java.util.Scanner;\n\n//convert binary to decimal number in java using Integer.parseInt() method.\npublic class BinaryToDecimalWithParseInt {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner( System.in );\n\n        System.out.println(\"Enter a binary number: \");\n        String binaryString =input.nextLine();\n\n        System.out.println(\"Result: \"+Integer.parseInt(binaryString,2));\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>Enter a binary number: </p>\n\n<p>1010</p>\n\n<p>Result: 10</p>\n"},{"tags":[],"owner":{"account_id":3126959,"reputation":1,"user_id":2645647,"display_name":"vadotey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464847708,"creation_date":1464739210,"answer_id":37557443,"question_id":14784630,"body_markdown":"    //converts decimal to binary string\r\n    String convertToBinary(int decimalNumber){  \r\n        String binary=&quot;&quot;;\r\n        while(decimalNumber&gt;0){\r\n            int remainder=decimalNumber%2;\r\n            //line below ensures the remainders are reversed\r\n            binary=remainder+binary;\r\n            decimalNumber=decimalNumber/2;\r\n        }\r\n        return binary;\r\n    \r\n    }","title":"Converting Decimal to Binary Java","body":"<pre><code>//converts decimal to binary string\nString convertToBinary(int decimalNumber){  \n    String binary=\"\";\n    while(decimalNumber&gt;0){\n        int remainder=decimalNumber%2;\n        //line below ensures the remainders are reversed\n        binary=remainder+binary;\n        decimalNumber=decimalNumber/2;\n    }\n    return binary;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549851,"reputation":49,"user_id":1511537,"display_name":"brahmananda Kar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472336841,"creation_date":1472336291,"answer_id":39186281,"question_id":14784630,"body_markdown":"\r\n        int n = 13;\r\n        String binary = &quot;&quot;;\r\n\r\n        //decimal to binary\r\n        while (n &gt; 0) {\r\n            int d = n &amp; 1;\r\n            binary = d + binary;\r\n            n = n &gt;&gt; 1;\r\n        }\r\n        System.out.println(binary);\r\n\r\n        //binary to decimal\r\n        int power = 1;\r\n        n = 0;\r\n        for (int i = binary.length() - 1; i &gt;= 0; i--) {\r\n            n = n + Character.getNumericValue(binary.charAt(i)) * power;\r\n            power = power * 2;\r\n        }\r\n\r\n        System.out.println(n);\r\n\r\n","title":"Converting Decimal to Binary Java","body":"<pre><code>    int n = 13;\n    String binary = \"\";\n\n    //decimal to binary\n    while (n &gt; 0) {\n        int d = n &amp; 1;\n        binary = d + binary;\n        n = n &gt;&gt; 1;\n    }\n    System.out.println(binary);\n\n    //binary to decimal\n    int power = 1;\n    n = 0;\n    for (int i = binary.length() - 1; i &gt;= 0; i--) {\n        n = n + Character.getNumericValue(binary.charAt(i)) * power;\n        power = power * 2;\n    }\n\n    System.out.println(n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116287,"reputation":41,"user_id":2636970,"display_name":"Shad M Khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485448145,"creation_date":1485448145,"answer_id":41878291,"question_id":14784630,"body_markdown":"One of the fastest solutions:\r\n\r\n    public static long getBinary(int n)\r\n    \t{\r\n    \t\tlong res=0;\r\n    \t\tint t=0;\r\n    \t\twhile(n&gt;1)\r\n    \t\t{\r\n    \t\t\tt= (int) (Math.log(n)/Math.log(2));\r\n    \t\t\tres = res+(long)(Math.pow(10, t));\r\n    \t\t\tn-=Math.pow(2, t);\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}","title":"Converting Decimal to Binary Java","body":"<p>One of the fastest solutions:</p>\n\n<pre><code>public static long getBinary(int n)\n    {\n        long res=0;\n        int t=0;\n        while(n&gt;1)\n        {\n            t= (int) (Math.log(n)/Math.log(2));\n            res = res+(long)(Math.pow(10, t));\n            n-=Math.pow(2, t);\n        }\n        return res;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5398912,"reputation":401,"user_id":4299274,"display_name":"Venkatesh Bandarapu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1658378927,"creation_date":1497966685,"answer_id":44655007,"question_id":14784630,"body_markdown":"    public static void main(String h[])\r\n    {\r\n    \tScanner sc=new Scanner(System.in);\r\n    \tint decimal=sc.nextInt();\r\n    \t\r\n    \tString binary=&quot;&quot;;\r\n    \t\r\n    \tif(decimal&lt;=0)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Please Enter greater than 0&quot;);\r\n    \t\t\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\twhile(decimal&gt;0)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tbinary=(decimal%2)+binary;\r\n    \t\t\tdecimal=decimal/2;\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;binary is:&quot;+binary);\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Converting Decimal to Binary Java","body":"<pre><code>public static void main(String h[])\n{\n    Scanner sc=new Scanner(System.in);\n    int decimal=sc.nextInt();\n    \n    String binary=&quot;&quot;;\n    \n    if(decimal&lt;=0)\n    {\n        System.out.println(&quot;Please Enter greater than 0&quot;);\n        \n    }\n    else\n    {\n        while(decimal&gt;0)\n        {\n            \n            binary=(decimal%2)+binary;\n            decimal=decimal/2;\n                                        \n        }\n        System.out.println(&quot;binary is:&quot;+binary);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3409182,"reputation":364,"user_id":2859563,"display_name":"BJYC"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509663242,"creation_date":1509663242,"answer_id":47085880,"question_id":14784630,"body_markdown":"Even better with StringBuilder using insert() in front of the decimal string under construction, without calling reverse(), \r\n\r\n    static String toBinary(int n) {\r\n        if (n == 0) {\r\n            return &quot;0&quot;;\r\n        }\r\n\r\n        StringBuilder bldr = new StringBuilder();\r\n        while (n &gt; 0) {\r\n            bldr = bldr.insert(0, n % 2);\r\n            n = n / 2;\r\n        }\r\n        \r\n        return bldr.toString();\r\n    }","title":"Converting Decimal to Binary Java","body":"<p>Even better with StringBuilder using insert() in front of the decimal string under construction, without calling reverse(), </p>\n\n<pre><code>static String toBinary(int n) {\n    if (n == 0) {\n        return \"0\";\n    }\n\n    StringBuilder bldr = new StringBuilder();\n    while (n &gt; 0) {\n        bldr = bldr.insert(0, n % 2);\n        n = n / 2;\n    }\n\n    return bldr.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12848591,"reputation":101,"user_id":9294210,"display_name":"winnergo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523967873,"creation_date":1523967873,"answer_id":49878084,"question_id":14784630,"body_markdown":"A rather simple than efficient *program*, yet it does the job.\r\n\r\n            Scanner sc = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Give me my binaries&quot;);\r\n\t\t    int str = sc.nextInt(2);\r\n\t\t    System.out.println(str);","title":"Converting Decimal to Binary Java","body":"<p>A rather simple than efficient <em>program</em>, yet it does the job.</p>\n\n<pre><code>        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Give me my binaries\");\n        int str = sc.nextInt(2);\n        System.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526578556,"creation_date":1526575015,"answer_id":50396507,"question_id":14784630,"body_markdown":"The following converts decimal to Binary with Time Complexity : O(n) Linear Time and with out any java inbuilt function\r\n\r\n    private static int decimalToBinary(int N) {\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tint base = 2;\r\n\t\twhile (N != 0) {\r\n\t\t\tint reminder = N % base;\r\n\t\t\tbuilder.append(reminder);\r\n\t\t\tN = N / base;\r\n\t\t}\r\n\r\n\t\treturn Integer.parseInt(builder.reverse().toString());\r\n\t}","title":"Converting Decimal to Binary Java","body":"<p>The following converts decimal to Binary with Time Complexity : O(n) Linear Time and with out any java inbuilt function</p>\n\n<pre><code>private static int decimalToBinary(int N) {\n    StringBuilder builder = new StringBuilder();\n    int base = 2;\n    while (N != 0) {\n        int reminder = N % base;\n        builder.append(reminder);\n        N = N / base;\n    }\n\n    return Integer.parseInt(builder.reverse().toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3186851,"reputation":21,"user_id":2692259,"display_name":"Xtrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576579804,"creation_date":1553503699,"answer_id":55334059,"question_id":14784630,"body_markdown":"    public static String convertToBinary(int dec)\r\n\t{\r\n\t\tString str = &quot;&quot;;\r\n\t\twhile(dec!=0)\r\n\t\t{\r\n\t\t\tstr += Integer.toString(dec%2);\r\n\t\t\tdec /= 2;\r\n\t\t}\r\n\t\treturn new StringBuffer(str).reverse().toString();\r\n\t}","title":"Converting Decimal to Binary Java","body":"<pre><code>public static String convertToBinary(int dec)\n{\n    String str = \"\";\n    while(dec!=0)\n    {\n        str += Integer.toString(dec%2);\n        dec /= 2;\n    }\n    return new StringBuffer(str).reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566270561,"creation_date":1566207998,"answer_id":57554225,"question_id":14784630,"body_markdown":"    /**\r\n     * converting decimal to binary\r\n     *\r\n     * @param n the number\r\n     */\r\n    private static void toBinary(int n) {\r\n        if (n == 0) {\r\n            return; //end of recursion\r\n        } else {\r\n            toBinary(n / 2);\r\n            System.out.print(n % 2);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * converting decimal to binary string\r\n     *\r\n     * @param n the number\r\n     * @return the binary string of n\r\n     */\r\n    private static String toBinaryString(int n) {\r\n        Stack&lt;Integer&gt; bits = new Stack&lt;&gt;();\r\n        do {\r\n            bits.push(n % 2);\r\n            n /= 2;\r\n        } while (n != 0);\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        while (!bits.isEmpty()) {\r\n            builder.append(bits.pop());\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\nOr you can use `Integer.toString(int i, int radix)`\r\n\r\n**e.g:**(Convert 12 to binary)\r\n\r\n    Integer.toString(12, 2)","title":"Converting Decimal to Binary Java","body":"<pre><code>/**\n * converting decimal to binary\n *\n * @param n the number\n */\nprivate static void toBinary(int n) {\n    if (n == 0) {\n        return; //end of recursion\n    } else {\n        toBinary(n / 2);\n        System.out.print(n % 2);\n    }\n}\n\n/**\n * converting decimal to binary string\n *\n * @param n the number\n * @return the binary string of n\n */\nprivate static String toBinaryString(int n) {\n    Stack&lt;Integer&gt; bits = new Stack&lt;&gt;();\n    do {\n        bits.push(n % 2);\n        n /= 2;\n    } while (n != 0);\n\n    StringBuilder builder = new StringBuilder();\n    while (!bits.isEmpty()) {\n        builder.append(bits.pop());\n    }\n    return builder.toString();\n}\n</code></pre>\n\n<p>Or you can use <code>Integer.toString(int i, int radix)</code></p>\n\n<p><strong>e.g:</strong>(Convert 12 to binary)</p>\n\n<pre><code>Integer.toString(12, 2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5276884,"reputation":555,"user_id":4213391,"display_name":"okanozeren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611318476,"creation_date":1611318476,"answer_id":65845194,"question_id":14784630,"body_markdown":"Practically you can write it as a recursive function. Each function call returns their results and add to the tail of the previous result. It is possible to write this method by using java as simple as you can find below:\r\n\r\n\r\n    public class Solution {\r\n\r\n        private static String convertDecimalToBinary(int n) {\r\n            String output = &quot;&quot;;\r\n            if (n &gt;= 1) {\r\n                output = convertDecimalToBinary(n &gt;&gt; 1) + (n % 2);\r\n            }\r\n\r\n            return output;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int num = 125;\r\n            String binaryStr = convertDecimalToBinary(num);\r\n\r\n            System.out.println(binaryStr);\r\n        }\r\n\r\n    }\r\n\r\nLet us take a look how is the above recursion working:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter calling convertDecimalToBinary method once, it calls itself till the value of the number will be lesser than 1 and return all of the concatenated results to the place where it called first.\r\n\r\n**References:**\r\n\r\nJava - Bitwise and Bit Shift Operators https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IH260.png","title":"Converting Decimal to Binary Java","body":"<p>Practically you can write it as a recursive function. Each function call returns their results and add to the tail of the previous result. It is possible to write this method by using java as simple as you can find below:</p>\n<pre><code>public class Solution {\n\n    private static String convertDecimalToBinary(int n) {\n        String output = &quot;&quot;;\n        if (n &gt;= 1) {\n            output = convertDecimalToBinary(n &gt;&gt; 1) + (n % 2);\n        }\n\n        return output;\n    }\n\n    public static void main(String[] args) {\n        int num = 125;\n        String binaryStr = convertDecimalToBinary(num);\n\n        System.out.println(binaryStr);\n    }\n\n}\n</code></pre>\n<p>Let us take a look how is the above recursion working:</p>\n<p><a href=\"https://i.stack.imgur.com/IH260.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IH260.png\" alt=\"enter image description here\" /></a></p>\n<p>After calling convertDecimalToBinary method once, it calls itself till the value of the number will be lesser than 1 and return all of the concatenated results to the place where it called first.</p>\n<p><strong>References:</strong></p>\n<p>Java - Bitwise and Bit Shift Operators <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n"},{"tags":[],"owner":{"account_id":11146423,"reputation":39,"user_id":8181008,"display_name":"Nausheen Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642492660,"creation_date":1642165157,"answer_id":70710946,"question_id":14784630,"body_markdown":"The better way of doing it:\r\n \r\n\r\n    public static void main(String [] args) throws IOException {\r\n            BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\r\n            int t = Integer.parseInt(bf.readLine().trim());\r\n            double ans = 0;\r\n            int i=0;\r\n    \r\n            while(t!=0){\r\n               int digit = t &amp; 1;\r\n               ans = ans + (digit*Math.pow(10,i));\r\n               i++;\r\n               t =t&gt;&gt;1;\r\n            }\r\n            System.out.println((int)ans);\r\n        }","title":"Converting Decimal to Binary Java","body":"<p>The better way of doing it:</p>\n<pre><code>public static void main(String [] args) throws IOException {\n        BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\n        int t = Integer.parseInt(bf.readLine().trim());\n        double ans = 0;\n        int i=0;\n\n        while(t!=0){\n           int digit = t &amp; 1;\n           ans = ans + (digit*Math.pow(10,i));\n           i++;\n           t =t&gt;&gt;1;\n        }\n        System.out.println((int)ans);\n    }\n</code></pre>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276773,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":14784683,"answer_count":26,"score":33,"last_activity_date":1658378927,"creation_date":1360380580,"question_id":14784630,"body_markdown":"I am trying to convert decimal to binary numbers from the user&#39;s input using Java. \r\n\r\nI&#39;m getting errors.\r\n\r\n\r\n    package reversedBinary;\r\n    import java.util.Scanner;\r\n\r\n    public class ReversedBinary {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint number; \r\n\t\t\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter a positive integer&quot;);\r\n\t\tnumber=in.nextInt();\r\n\t\t\r\n\t\tif (number &lt;0)\r\n\t\t\tSystem.out.println(&quot;Error: Not a positive integer&quot;);\r\n\t\telse { \r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Convert to binary is:&quot;);\r\n\t\t\tSystem.out.print(binaryform(number));\r\n\t}\r\n\t\r\n    }\r\n\r\n\tprivate static Object binaryform(int number) {\r\n\t\tint remainder;\r\n\t\t\r\n\t\tif (number &lt;=1) {\r\n\t\t\tSystem.out.print(number);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tremainder= number %2; \r\n\t\tbinaryform(number &gt;&gt;1);\r\n\t\tSystem.out.print(remainder);\r\n\t\t\t\r\n\t\t{ \r\n\t\treturn null;\r\n\t} } }\r\n\r\nHow do I convert Decimal to Binary in Java?","title":"Converting Decimal to Binary Java","body":"<p>I am trying to convert decimal to binary numbers from the user's input using Java. </p>\n\n<p>I'm getting errors.</p>\n\n<pre><code>package reversedBinary;\nimport java.util.Scanner;\n\npublic class ReversedBinary {\n\n\npublic static void main(String[] args) {\n    int number; \n\n    Scanner in = new Scanner(System.in);\n\n    System.out.println(\"Enter a positive integer\");\n    number=in.nextInt();\n\n    if (number &lt;0)\n        System.out.println(\"Error: Not a positive integer\");\n    else { \n\n        System.out.print(\"Convert to binary is:\");\n        System.out.print(binaryform(number));\n}\n\n}\n\nprivate static Object binaryform(int number) {\n    int remainder;\n\n    if (number &lt;=1) {\n        System.out.print(number);\n\n    }\n\n    remainder= number %2; \n    binaryform(number &gt;&gt;1);\n    System.out.print(remainder);\n\n    { \n    return null;\n} } }\n</code></pre>\n\n<p>How do I convert Decimal to Binary in Java?</p>\n"},{"tags":["java","gradle","liquibase"],"comments":[{"owner":{"account_id":3175071,"reputation":20715,"user_id":2683146,"accept_rate":85,"display_name":"Jean-Fran&#231;ois Savard"},"score":0,"creation_date":1457145612,"post_id":12606814,"comment_id":59287858,"body_markdown":"Did you manage to get this plugin working ? While I&#39;m able to get it to work, I find it a lot buggy and would like to have feedback and see if I&#39;m the only one experiencing strange issues.","body":"Did you manage to get this plugin working ? While I&#39;m able to get it to work, I find it a lot buggy and would like to have feedback and see if I&#39;m the only one experiencing strange issues."}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1348682013,"creation_date":1348682013,"answer_id":12607576,"question_id":12606814,"body_markdown":"The problem isn&#39;t related to the Liquibase plugin. You just need to declare a repository in the `buildscript {}` section. `buildscript {}` is completely separate from the rest of the script. You can almost think about it as a separate file.","title":"Liquibase plugin for gradle","body":"<p>The problem isn't related to the Liquibase plugin. You just need to declare a repository in the <code>buildscript {}</code> section. <code>buildscript {}</code> is completely separate from the rest of the script. You can almost think about it as a separate file.</p>\n"},{"tags":[],"owner":{"account_id":5117661,"reputation":1,"user_id":4102276,"display_name":"bananaj1900"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412251126,"creation_date":1412251126,"answer_id":26160314,"question_id":12606814,"body_markdown":"Looking at the source on github (see the build.gradle file) it looks like the builds are posted on oss.sonatype.org.  Try using adding &quot;https://oss.sonatype.org/content/repositories/releases/&quot; as a maven repository\r\n\r\nSo, your build.gradle may look like this:\r\n&lt;code&gt;\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven {\r\n                url uri(&#39;https://oss.sonatype.org/content/repositories/releases/&#39;)\r\n            }\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath group:&#39;net.saliman&#39;, name: &#39;gradle-liquibase-plugin&#39;, version: &#39;1.0.0&#39;\r\n        }\r\n    }\r\n    apply plugin: &#39;liquibase&#39;\r\n\r\n&lt;/code&gt;","title":"Liquibase plugin for gradle","body":"<p>Looking at the source on github (see the build.gradle file) it looks like the builds are posted on oss.sonatype.org.  Try using adding \"<a href=\"https://oss.sonatype.org/content/repositories/releases/\" rel=\"nofollow\">https://oss.sonatype.org/content/repositories/releases/</a>\" as a maven repository</p>\n\n<p>So, your build.gradle may look like this:\n<code></p>\n\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url uri('https://oss.sonatype.org/content/repositories/releases/')\n        }\n        mavenCentral()\n    }\n    dependencies {\n        classpath group:'net.saliman', name: 'gradle-liquibase-plugin', version: '1.0.0'\n    }\n}\napply plugin: 'liquibase'\n</code></pre>\n\n<p></code></p>\n"}],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12607576,"answer_count":2,"score":0,"last_activity_date":1658378839,"creation_date":1348678920,"question_id":12606814,"body_markdown":"I&#39;ve been looking for a liquibase gradle plugin and found [gradle-liquibase-plugin][1] from **tlberglund**. \r\n\r\nGradle version 1.2\r\n\r\nbuild file:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;liquibase&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile(&#39;org.hsqldb:hsqldb:2.2.8&#39;)\r\n        compile(&#39;org.hsqldb:sqltool:2.2.8&#39;)\r\n        compile(&#39;com.h2database:h2:1.3.167&#39;)\r\n        compile(&#39;org.liquibase:liquibase-core:2.0.1&#39;)\r\n        compile(&#39;com.augusttechgroup:groovy-liquibase-dsl:0.7.3&#39;)\r\n        compile(&#39;postgresql:postgresql:9.1-901.jdbc4&#39;)\r\n    }\r\n    \r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.augusttechgroup:gradle-liquibase-plugin:0.6.1&#39;\r\n        }\r\n    }\r\n    \r\n    databases {\r\n        postgre {\r\n            url = &quot;${postgreBaseUrl}&quot; + &quot;${postgreDB}&quot;\r\n            username = &quot;${postgreUserName}&quot;\r\n            password = &quot;${postgreUserPassword}&quot;\r\n        }\r\n    }\r\n    \r\n    changelogs {\r\n        main {\r\n            file = file(&#39;src/main/liquibase/mainChanges.groovy&#39;)\r\n        }\r\n    }\r\n    \r\n    task dbInit &lt;&lt; {\r\n        databases.postgre.url = &quot;${postgreBaseUrl}&quot;\r\n        databases.postgre.username = &quot;${postgreRootUserName}&quot;\r\n        databases.postgre.password = &quot;${postgreRootUserPassword}&quot;\r\n        changelogs.main.file = file(&#39;src/main/liquibase/tablespaceChanges.groovy&#39;)\r\n    }\r\n\r\n \r\nRunnin `gradle build` fails with the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not resolve all dependencies for configuration &#39;:classpath&#39;.\r\n    &gt; Could not find group:com.augusttechgroup, module:gradle-liquibase-plugin, vers\r\n    ion:0.6.1.\r\n      Required by:\r\n          :demo:unspecified\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --debug option to\r\n    get more log output.\r\n    \r\n    BUILD FAILED\r\n\r\n\r\nDoes anyone have experience with this plugin, I would really appreciate a working example.\r\n\r\n  [1]: https://github.com/tlberglund/gradle-liquibase-plugin\r\n  [2]: http://mvnrepository.com/artifact/com.augusttechgroup/gradle-liquibase-plugin/0.6.1","title":"Liquibase plugin for gradle","body":"<p>I've been looking for a liquibase gradle plugin and found <a href=\"https://github.com/tlberglund/gradle-liquibase-plugin\" rel=\"nofollow noreferrer\">gradle-liquibase-plugin</a> from <strong>tlberglund</strong>.</p>\n<p>Gradle version 1.2</p>\n<p>build file:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'liquibase'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile('org.hsqldb:hsqldb:2.2.8')\n    compile('org.hsqldb:sqltool:2.2.8')\n    compile('com.h2database:h2:1.3.167')\n    compile('org.liquibase:liquibase-core:2.0.1')\n    compile('com.augusttechgroup:groovy-liquibase-dsl:0.7.3')\n    compile('postgresql:postgresql:9.1-901.jdbc4')\n}\n\nbuildscript {\n    dependencies {\n        classpath 'com.augusttechgroup:gradle-liquibase-plugin:0.6.1'\n    }\n}\n\ndatabases {\n    postgre {\n        url = &quot;${postgreBaseUrl}&quot; + &quot;${postgreDB}&quot;\n        username = &quot;${postgreUserName}&quot;\n        password = &quot;${postgreUserPassword}&quot;\n    }\n}\n\nchangelogs {\n    main {\n        file = file('src/main/liquibase/mainChanges.groovy')\n    }\n}\n\ntask dbInit &lt;&lt; {\n    databases.postgre.url = &quot;${postgreBaseUrl}&quot;\n    databases.postgre.username = &quot;${postgreRootUserName}&quot;\n    databases.postgre.password = &quot;${postgreRootUserPassword}&quot;\n    changelogs.main.file = file('src/main/liquibase/tablespaceChanges.groovy')\n}\n</code></pre>\n<p>Runnin <code>gradle build</code> fails with the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not resolve all dependencies for configuration ':classpath'.\n&gt; Could not find group:com.augusttechgroup, module:gradle-liquibase-plugin, vers\nion:0.6.1.\n  Required by:\n      :demo:unspecified\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option to\nget more log output.\n\nBUILD FAILED\n</code></pre>\n<p>Does anyone have experience with this plugin, I would really appreciate a working example.</p>\n"},{"tags":["java","android","swift","kotlin","logging"],"comments":[{"owner":{"account_id":25738703,"reputation":11,"user_id":19493002,"display_name":"Daniel Marks"},"score":0,"creation_date":1657173918,"post_id":72880399,"comment_id":128748285,"body_markdown":"I can&#39;t answer my own question yet but I ended up using the following code, it was exactly what I was after: [link](https://stackoverflow.com/a/60785969/19493002)","body":"I can&#39;t answer my own question yet but I ended up using the following code, it was exactly what I was after: <a href=\"https://stackoverflow.com/a/60785969/19493002\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":4376692,"reputation":5272,"user_id":3569545,"display_name":"Demigod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657098853,"creation_date":1657098853,"answer_id":72880813,"question_id":72880399,"body_markdown":"Well, in Kotlin there isn&#39;t anything that can give you, for example, a line number so easily. However, on Android, in most of the times we use [Timber][1] as a logging 3rd party library, which is very convenient.\r\n\r\nSo, in Timber it can be achieved like this:\r\n\r\n    class LineNumberDebugTree : Timber.DebugTree() {\r\n        override fun createStackElementTag(element: StackTraceElement): String? {\r\n        return &quot;(${element.fileName}:${element.lineNumber})#${element.methodName}&quot;\r\n    }\r\n\r\n`Timber.plant(LineNumberDebugTree())`\r\n\r\nYou can find additional info in [this][2] thread.\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/timber\r\n  [2]: https://stackoverflow.com/questions/38689399/log-method-name-and-line-number-in-timber","title":"Kotlin equivalent to Swift&#39;s #file, #line, and #function","body":"<p>Well, in Kotlin there isn't anything that can give you, for example, a line number so easily. However, on Android, in most of the times we use <a href=\"https://github.com/JakeWharton/timber\" rel=\"nofollow noreferrer\">Timber</a> as a logging 3rd party library, which is very convenient.</p>\n<p>So, in Timber it can be achieved like this:</p>\n<pre><code>class LineNumberDebugTree : Timber.DebugTree() {\n    override fun createStackElementTag(element: StackTraceElement): String? {\n    return &quot;(${element.fileName}:${element.lineNumber})#${element.methodName}&quot;\n}\n</code></pre>\n<p><code>Timber.plant(LineNumberDebugTree())</code></p>\n<p>You can find additional info in <a href=\"https://stackoverflow.com/questions/38689399/log-method-name-and-line-number-in-timber\">this</a> thread.</p>\n"}],"owner":{"account_id":25738703,"reputation":11,"user_id":19493002,"display_name":"Daniel Marks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657101800,"answer_count":1,"score":1,"last_activity_date":1658378775,"creation_date":1657097040,"question_id":72880399,"body_markdown":"In Swift, I can use the following code to log a message, and I have access to all the relevant data I need:\r\n\r\n    class func log(type: LogType, message: String, fileName: String = #file, line: Int = #line, column: Int = #column, function: String = #function)\r\n\r\nHow can I do something similar in Android Java or Kotlin (preferable)?","title":"Kotlin equivalent to Swift&#39;s #file, #line, and #function","body":"<p>In Swift, I can use the following code to log a message, and I have access to all the relevant data I need:</p>\n<pre><code>class func log(type: LogType, message: String, fileName: String = #file, line: Int = #line, column: Int = #column, function: String = #function)\n</code></pre>\n<p>How can I do something similar in Android Java or Kotlin (preferable)?</p>\n"},{"tags":["java","loops","while-loop","nested-loops"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":4,"creation_date":1658374493,"post_id":73060394,"comment_id":129037123,"body_markdown":"Why don&#39;t you use an IDE with debugger an go through it step-by-steo? Alternatively, you grab a piece of paper and write down the variable states for each step...","body":"Why don&#39;t you use an IDE with debugger an go through it step-by-steo? Alternatively, you grab a piece of paper and write down the variable states for each step..."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1658377352,"post_id":73060394,"comment_id":129037490,"body_markdown":"&quot;But I need help understanding why.&quot; This is the wrong framing. Instead: tell me what you think the answer should be instead, and why. Go through your reasoning in detail and try to tell me why the computer is wrong. Either you will identify exactly what you misunderstand, and you can ask a properly *specific* question; or you will fail, because the logic will necessarily guide you to the computer&#39;s answer. See also https://ericlippert.com/2014/03/05/how-to-debug-small-programs/.","body":"&quot;But I need help understanding why.&quot; This is the wrong framing. Instead: tell me what you think the answer should be instead, and why. Go through your reasoning in detail and try to tell me why the computer is wrong. Either you will identify exactly what you misunderstand, and you can ask a properly <i>specific</i> question; or you will fail, because the logic will necessarily guide you to the computer&#39;s answer. See also <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>."}],"answers":[{"tags":[],"owner":{"account_id":10641157,"reputation":371,"user_id":7836134,"display_name":"zemiak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658376812,"creation_date":1658376812,"answer_id":73060634,"question_id":73060394,"body_markdown":"for easy understanding, you can add some println() in loops and get something like\r\n    \r\n    1 5 (x, y=5)\r\n    1 4 (x, y--)\r\n    1 3 (x, y--)\r\n    1 2 (x, y--)\r\n    1 1 (x, y--)\r\n    2   (x+y)\r\n    \r\n    2 5 (x, y=5)\r\n    2 4 (x, y--)\r\n    2 3 (x, y--)\r\n    2 2 (x, y--)\r\n    4   (x+y)\r\n    \r\n    4 5 (x, y=5)\r\n    4 4 (x, y--)\r\n    8   (x+y)\r\n    \r\n    8 5 (x, y=5)\r\n    13  (x+y)","title":"Need Help Understanding While Loops Problem?","body":"<p>for easy understanding, you can add some println() in loops and get something like</p>\n<pre><code>1 5 (x, y=5)\n1 4 (x, y--)\n1 3 (x, y--)\n1 2 (x, y--)\n1 1 (x, y--)\n2   (x+y)\n\n2 5 (x, y=5)\n2 4 (x, y--)\n2 3 (x, y--)\n2 2 (x, y--)\n4   (x+y)\n\n4 5 (x, y=5)\n4 4 (x, y--)\n8   (x+y)\n\n8 5 (x, y=5)\n13  (x+y)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25858488,"reputation":1,"user_id":19591330,"display_name":"Manisha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658377433,"creation_date":1658377433,"answer_id":73060681,"question_id":73060394,"body_markdown":"\r\n[The code is shown above in the picture ,do trace this way.][1]\r\n\r\nfirst y:5\r\nsecond y:4\r\nsecond y:3\r\nsecond y:2\r\nsecond y:1\r\nthird x:2\r\nfirst y:5\r\nsecond y:4\r\nsecond y:3\r\nsecond y:2\r\nthird x:4\r\nfirst y:5\r\nsecond y:4\r\nthird x:8\r\nfirst y:5\r\nthird x:13\r\nfinall x:13\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mGXaE.jpg","title":"Need Help Understanding While Loops Problem?","body":"<p><a href=\"https://i.stack.imgur.com/mGXaE.jpg\" rel=\"nofollow noreferrer\">The code is shown above in the picture ,do trace this way.</a></p>\n<p>first y:5\nsecond y:4\nsecond y:3\nsecond y:2\nsecond y:1\nthird x:2\nfirst y:5\nsecond y:4\nsecond y:3\nsecond y:2\nthird x:4\nfirst y:5\nsecond y:4\nthird x:8\nfirst y:5\nthird x:13\nfinall x:13</p>\n"},{"tags":[],"owner":{"account_id":25858589,"reputation":46,"user_id":19591408,"display_name":"Pravin5959"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658377899,"creation_date":1658377899,"answer_id":73060720,"question_id":73060394,"body_markdown":"So, when we dry run the code provided:\r\n\r\n    Two variables are initialized -&gt; x = 1,y = 0\r\n\r\n1st Iteration\r\n\r\n\tNext we go inside a while loop which will only fail when x will become greater \r\n    than or equal to 10, which is not the case now as x=1\r\n\r\n\tNext we are initializing y = 5\r\n\r\n\t\tNow the inner while loop condition says that until y becomes less than or equal \r\n\t\tto current x value it will get execute and decrease the y value.\r\n\t\tWalkthrough: y = 5,x = 1 condition=true\r\n\t\t\t\t\t y = 4,x = 1 condition=true\r\n\t\t\t\t\t y = 3,x = 1 condition=true\r\n\t\t\t\t\t y = 2,x = 1 condition=true\r\n\t\t\t\t\t y = 1,x = 1 condition=false (loop break)\r\n\t\t\t\t \r\n\tFinally we are adding y value to x : (x= x + y) For current walkthrough x = 1 + 1 = 2\r\n\r\n2nd Iteration\r\n\r\n\tNow as x is still not greater than or equal to 10\r\n\tWe again go inside the loop and each time one iteration will decrease because every time y value is initialized by 5, so now inner loop will break at \r\n\ty=2,x=2 condition=false \r\n\tx = x +y = 2 + 2 = 4\r\n\r\n3rd Iteration\r\n\r\n\tAgain as x&lt;10 i.e. (4&lt;10)\r\n\tInner loop will break at \r\n\ty = 4,x = 4 condition=false\r\n\tx = x + y = 4 + 4 = 8\r\n\r\n4th Iteration\r\n\r\n\tAgain as x&lt;10 i.e. (8&lt;10)\r\n\tInner loop will break at  \r\n\ty = 5,x = 8 condition=false\r\n\tx = x + y = 8 + 5 = 13\r\n\r\n5th Iteration\r\n\r\n\tOuter loop condition fails as now x&gt;10 i.e. (13&gt;10)\r\n\r\nFinally x value is printed on the console i.e. 13","title":"Need Help Understanding While Loops Problem?","body":"<p>So, when we dry run the code provided:</p>\n<pre><code>Two variables are initialized -&gt; x = 1,y = 0\n</code></pre>\n<p>1st Iteration</p>\n<pre><code>Next we go inside a while loop which will only fail when x will become greater \nthan or equal to 10, which is not the case now as x=1\n\nNext we are initializing y = 5\n\n    Now the inner while loop condition says that until y becomes less than or equal \n    to current x value it will get execute and decrease the y value.\n    Walkthrough: y = 5,x = 1 condition=true\n                 y = 4,x = 1 condition=true\n                 y = 3,x = 1 condition=true\n                 y = 2,x = 1 condition=true\n                 y = 1,x = 1 condition=false (loop break)\n             \nFinally we are adding y value to x : (x= x + y) For current walkthrough x = 1 + 1 = 2\n</code></pre>\n<p>2nd Iteration</p>\n<pre><code>Now as x is still not greater than or equal to 10\nWe again go inside the loop and each time one iteration will decrease because every time y value is initialized by 5, so now inner loop will break at \ny=2,x=2 condition=false \nx = x +y = 2 + 2 = 4\n</code></pre>\n<p>3rd Iteration</p>\n<pre><code>Again as x&lt;10 i.e. (4&lt;10)\nInner loop will break at \ny = 4,x = 4 condition=false\nx = x + y = 4 + 4 = 8\n</code></pre>\n<p>4th Iteration</p>\n<pre><code>Again as x&lt;10 i.e. (8&lt;10)\nInner loop will break at  \ny = 5,x = 8 condition=false\nx = x + y = 8 + 5 = 13\n</code></pre>\n<p>5th Iteration</p>\n<pre><code>Outer loop condition fails as now x&gt;10 i.e. (13&gt;10)\n</code></pre>\n<p>Finally x value is printed on the console i.e. 13</p>\n"}],"owner":{"account_id":23898449,"reputation":1,"user_id":17896996,"display_name":"SonicIsCoool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1658377899,"creation_date":1658374302,"question_id":73060394,"body_markdown":"I got this question right. The Answer is 13. But I simply don&#39;t Understand the question at all. I&#39;ve been trying to watch youtube videos but I can&#39;t seem to understand this. Could someone please help me?\r\n\r\nWhat is the output after the following code segment is executed?\r\n\r\n    int x = 1;\r\n    int y = 0;\r\n    while (x &lt; 10)\r\n    {\r\n         y = 5;\r\n         while (y &gt; x)\r\n         {\r\n              y--;\r\n         }\r\n         x += y;\r\n    }\r\n    System.out.println(x);\r\n\r\nAnswer:  13, But I need help understanding why.","title":"Need Help Understanding While Loops Problem?","body":"<p>I got this question right. The Answer is 13. But I simply don't Understand the question at all. I've been trying to watch youtube videos but I can't seem to understand this. Could someone please help me?</p>\n<p>What is the output after the following code segment is executed?</p>\n<pre><code>int x = 1;\nint y = 0;\nwhile (x &lt; 10)\n{\n     y = 5;\n     while (y &gt; x)\n     {\n          y--;\n     }\n     x += y;\n}\nSystem.out.println(x);\n</code></pre>\n<p>Answer:  13, But I need help understanding why.</p>\n"},{"tags":["java","security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1658377817,"post_id":73060646,"comment_id":129037573,"body_markdown":"basically don&#39;t trust it/don&#39;t use it for anything important - Aside from that, you might be able to do something with programs like nginx.","body":"basically don&#39;t trust it/don&#39;t use it for anything important - Aside from that, you might be able to do something with programs like nginx."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658380072,"post_id":73060646,"comment_id":129037990,"body_markdown":"Nearly every security step you might consider has a way (or _many_ ways) for bad actors to work around it. What are you actually solvihng for?","body":"Nearly every security step you might consider has a way (or <i>many</i> ways) for bad actors to work around it. What are you actually solvihng for?"}],"owner":{"account_id":25858683,"reputation":1,"user_id":19591489,"display_name":"shawn.123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658377612,"creation_date":1658376889,"question_id":73060646,"body_markdown":"We understand that these two methods from HttpServletRequest which is getServerName and getRequestURL can bee spoofed by modifying host header in browser. \r\n\r\nOne solution is to get whitelist of all domains/serverNames and validate against it. Is there any alternative solutions to this when we need server name or domain from which request is coming from?","title":"Prevent attack with HttpServletRequest getServerName and getRequestURL","body":"<p>We understand that these two methods from HttpServletRequest which is getServerName and getRequestURL can bee spoofed by modifying host header in browser.</p>\n<p>One solution is to get whitelist of all domains/serverNames and validate against it. Is there any alternative solutions to this when we need server name or domain from which request is coming from?</p>\n"},{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1658375469,"post_id":73060496,"comment_id":129037251,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":44018,"reputation":97210,"user_id":128940,"display_name":"Beta"},"score":0,"creation_date":1658375661,"post_id":73060496,"comment_id":129037278,"body_markdown":"You want to find the factors of a number n (other than 1 and n). What does the range have to do with it?","body":"You want to find the factors of a number n (other than 1 and n). What does the range have to do with it?"},{"owner":{"account_id":25826364,"reputation":5,"user_id":19564385,"display_name":"Diret"},"score":0,"creation_date":1658378191,"post_id":73060496,"comment_id":129037651,"body_markdown":"I was trying to solve the exercise by only using one For loop, but it was necessary to use a nested loop (as it was answered below) to get the submultiples. Thank you for your comment.","body":"I was trying to solve the exercise by only using one For loop, but it was necessary to use a nested loop (as it was answered below) to get the submultiples. Thank you for your comment."}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658377085,"creation_date":1658377085,"answer_id":73060664,"question_id":73060496,"body_markdown":"You can do it using to nested loops, like this:\r\n\r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n            int start = 3;\r\n            int end = 9;\r\n            boolean foundMultiples = false;\r\n            for(int i=start; i&lt;=end; i++) {\r\n                foundMultiples = false;\r\n                System.out.print(&quot;Submultiples of &quot; + i + &quot;: &quot;);\r\n                for(int j = 2; j &lt; i; j++) {\r\n                    if(i % j == 0) {\r\n                        foundMultiples = true;\r\n                        System.out.print(j + &quot; &quot;);\r\n                    }\r\n                }\r\n                if(!foundMultiples) {\r\n                    System.out.print(&quot;Doesn&#39;t have submultiples&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nHere, we loop through the user entered range, and then found multiples of each number in an inner loop. We keep track of if any multiple was found, using a boolean variable.","title":"Algorithm to get the submultiples of each number in a range","body":"<p>You can do it using to nested loops, like this:</p>\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        int start = 3;\n        int end = 9;\n        boolean foundMultiples = false;\n        for(int i=start; i&lt;=end; i++) {\n            foundMultiples = false;\n            System.out.print(&quot;Submultiples of &quot; + i + &quot;: &quot;);\n            for(int j = 2; j &lt; i; j++) {\n                if(i % j == 0) {\n                    foundMultiples = true;\n                    System.out.print(j + &quot; &quot;);\n                }\n            }\n            if(!foundMultiples) {\n                System.out.print(&quot;Doesn't have submultiples&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Here, we loop through the user entered range, and then found multiples of each number in an inner loop. We keep track of if any multiple was found, using a boolean variable.</p>\n"}],"owner":{"account_id":25826364,"reputation":5,"user_id":19564385,"display_name":"Diret"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73060664,"answer_count":1,"score":0,"last_activity_date":1658377085,"creation_date":1658375329,"question_id":73060496,"body_markdown":"I have this exercise in mind, I keep trying to solve it in Java but I&#39;m not able to create a correct algorithm to get the submultiples of each number in a range, the start and the end of the range is user defined. Besides, the number 1 doesn&#39;t count as a submultiple.\r\n\r\nFor example, in a range between 3 and 9, the output of the app would be: \r\n\r\n \r\n    start: 3\r\n    end: 9\r\n    \r\n    Submultiples of 3:  Doesn&#39;t have submultiples\r\n    Submultiples of 4:  2\r\n    Submultiples of 5:  Doesn&#39;t have submultiples\r\n    Submultiples of 6:  3 2  \r\n    Submultiples of 7:  Doesn&#39;t have submultiples\r\n    Submultiples of 8:  4 2\r\n    Submultiples of 9:  3\r\n\r\nIt would be very helpful if someone can help me with this exercise. Thanks for reading!\r\n\r\n\r\n","title":"Algorithm to get the submultiples of each number in a range","body":"<p>I have this exercise in mind, I keep trying to solve it in Java but I'm not able to create a correct algorithm to get the submultiples of each number in a range, the start and the end of the range is user defined. Besides, the number 1 doesn't count as a submultiple.</p>\n<p>For example, in a range between 3 and 9, the output of the app would be:</p>\n<pre><code>start: 3\nend: 9\n\nSubmultiples of 3:  Doesn't have submultiples\nSubmultiples of 4:  2\nSubmultiples of 5:  Doesn't have submultiples\nSubmultiples of 6:  3 2  \nSubmultiples of 7:  Doesn't have submultiples\nSubmultiples of 8:  4 2\nSubmultiples of 9:  3\n</code></pre>\n<p>It would be very helpful if someone can help me with this exercise. Thanks for reading!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1458070,"reputation":428,"user_id":1373164,"accept_rate":75,"display_name":"user1373164"},"score":2,"creation_date":1658330905,"post_id":73054070,"comment_id":129026617,"body_markdown":"learn about [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) or [Comparable](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html) and use [Collections.sort()](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html)","body":"learn about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> and use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collections.sort()</a>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1658335740,"post_id":73054070,"comment_id":129028535,"body_markdown":"Remove `char max = list.get(i).getOwner().charAt(1);` and `char temp = list.get(j).getOwner().charAt(1);` and change `int j = 1` to `int j = i+1` and change `max &lt; temp` to `list.get(i).getOwner().charAt(1) &lt; list.get(j).getOwner().charAt(1)`, and there you are.","body":"Remove <code>char max = list.get(i).getOwner().charAt(1);</code> and <code>char temp = list.get(j).getOwner().charAt(1);</code> and change <code>int j = 1</code> to <code>int j = i+1</code> and change <code>max &lt; temp</code> to <code>list.get(i).getOwner().charAt(1) &lt; list.get(j).getOwner().charAt(1)</code>, and there you are."},{"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"score":0,"creation_date":1658336371,"post_id":73054070,"comment_id":129028756,"body_markdown":"@ArunSudhakaran thanks for the answer. I know where I was wrong right now :&lt;","body":"@ArunSudhakaran thanks for the answer. I know where I was wrong right now :&lt;"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658377049,"creation_date":1658377049,"answer_id":73060661,"question_id":73054070,"body_markdown":"I understand that you want to sort the list of `Cala` objects, by the digit in the `owner`, using [bubble sort][1] algorithm. The following code does that:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Cala {\r\n    private String owner;\r\n    private int price;\r\n\r\n    public Cala() {\r\n        this(&quot;&quot;, 0);\r\n    }\r\n\r\n    public Cala(String owner, int price) {\r\n        this.owner = owner;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getOwner() {\r\n        return owner;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setOwner(String owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public void setPrice(int price) {\r\n        this.price = price;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;(&quot; + owner + &quot;,&quot; + price + &quot;)&quot;;\r\n    }\r\n\r\n    private static int getDigit(Cala cala) {\r\n        if (cala != null) {\r\n            String owner = cala.getOwner();\r\n            if (owner.length() &gt; 1) {\r\n                char digit = owner.charAt(1);\r\n                return digit - &#39;0&#39;;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Cala&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Cala(&quot;A8&quot;,1));\r\n        list.add(new Cala(&quot;B1&quot;,2));\r\n        list.add(new Cala(&quot;C7&quot;,3));\r\n        list.add(new Cala(&quot;D2&quot;,4));\r\n        list.add(new Cala(&quot;E6&quot;,5));\r\n        list.add(new Cala(&quot;F3&quot;,6));\r\n        System.out.println(&quot;Before: &quot; + list);\r\n        int len = list.size();\r\n        for (int i = 0; i &lt; len - 1; i++) {\r\n            for (int j = 0; j &lt; len - i - 1; j++) {\r\n                if (getDigit(list.get(j + 1)) &lt; getDigit(list.get(j))) {\r\n                    Cala swap = list.get(j);\r\n                    list.set(j, list.get(j + 1));\r\n                    list.set(j+1, swap);\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot; After: &quot; + list);\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following output:\r\n```none\r\nBefore: [(A8,1), (B1,2), (C7,3), (D2,4), (E6,5), (F3,6)]\r\n After: [(B1,2), (D2,4), (F3,6), (E6,5), (C7,3), (A8,1)]\r\n```\r\n\r\n\r\n  [1]: https://www.educative.io/answers/what-is-a-bubble-sort-in-java","title":"Swapping between 2 element in ArrayList","body":"<p>I understand that you want to sort the list of <code>Cala</code> objects, by the digit in the <code>owner</code>, using <a href=\"https://www.educative.io/answers/what-is-a-bubble-sort-in-java\" rel=\"nofollow noreferrer\">bubble sort</a> algorithm. The following code does that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Cala {\n    private String owner;\n    private int price;\n\n    public Cala() {\n        this(&quot;&quot;, 0);\n    }\n\n    public Cala(String owner, int price) {\n        this.owner = owner;\n        this.price = price;\n    }\n\n    public String getOwner() {\n        return owner;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public void setOwner(String owner) {\n        this.owner = owner;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;(&quot; + owner + &quot;,&quot; + price + &quot;)&quot;;\n    }\n\n    private static int getDigit(Cala cala) {\n        if (cala != null) {\n            String owner = cala.getOwner();\n            if (owner.length() &gt; 1) {\n                char digit = owner.charAt(1);\n                return digit - '0';\n            }\n            else {\n                return 0;\n            }\n        }\n        else {\n            return 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Cala&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Cala(&quot;A8&quot;,1));\n        list.add(new Cala(&quot;B1&quot;,2));\n        list.add(new Cala(&quot;C7&quot;,3));\n        list.add(new Cala(&quot;D2&quot;,4));\n        list.add(new Cala(&quot;E6&quot;,5));\n        list.add(new Cala(&quot;F3&quot;,6));\n        System.out.println(&quot;Before: &quot; + list);\n        int len = list.size();\n        for (int i = 0; i &lt; len - 1; i++) {\n            for (int j = 0; j &lt; len - i - 1; j++) {\n                if (getDigit(list.get(j + 1)) &lt; getDigit(list.get(j))) {\n                    Cala swap = list.get(j);\n                    list.set(j, list.get(j + 1));\n                    list.set(j+1, swap);\n                }\n            }\n        }\n        System.out.println(&quot; After: &quot; + list);\n    }\n}\n</code></pre>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Before: [(A8,1), (B1,2), (C7,3), (D2,4), (E6,5), (F3,6)]\n After: [(B1,2), (D2,4), (F3,6), (E6,5), (C7,3), (A8,1)]\n</code></pre>\n"}],"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73060661,"answer_count":1,"score":-2,"last_activity_date":1658377049,"creation_date":1658329608,"question_id":73054070,"body_markdown":"I&#39;m new to arrayList and now I am having trouble with the output.\r\nIt requires me to take the second char in String Owner compared to other and sort by descending. \r\nI tried by using a variable temp1 to swap 2 of them.\r\n\r\nThe list before run : (A8,1) (B1,2) (C7,3) (D2,4) (E6,5) (F3,6) \r\n\r\nbut my output is: (A8,1) (B1,2) (D2,4) (F3,6) (E6,5) (C7,3) (not correct)\r\n\r\n    @Override\r\n    public void f3(List&lt;Cala&gt; list) {\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            char max = list.get(i).getOwner().charAt(1);\r\n            for (int j = 1; j &lt; list.size(); j++) {\r\n                char temp = list.get(j).getOwner().charAt(1);\r\n                if (max &lt; temp) {\r\n                    Cala temp1 = list.get(i);\r\n                    list.set(i, list.get(j));\r\n                    list.set(j, temp1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nPlease help me what is wrong with this :&lt; Thank you guys\r\n\r\nThis is my class Cala. I cannot access to Main class because Main&#39;s file extension is Main.class\r\n```java\r\npublic class Cala {\r\n    private String owner;\r\n    private int price;\r\n\r\n    public Cala(){\r\n        owner = &quot;&quot;;\r\n        price = 0;\r\n    }\r\n\r\n    public Cala(String owner, int price) {\r\n        this.owner = owner;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getOwner() {\r\n        return owner;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setOwner(String owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public void setPrice(int price) {\r\n        this.price = price;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return  &quot;(&quot;+ owner + &quot;,&quot; + price +&quot;)&quot; ;\r\n    }\r\n}\r\n```\r\n","title":"Swapping between 2 element in ArrayList","body":"<p>I'm new to arrayList and now I am having trouble with the output.\nIt requires me to take the second char in String Owner compared to other and sort by descending.\nI tried by using a variable temp1 to swap 2 of them.</p>\n<p>The list before run : (A8,1) (B1,2) (C7,3) (D2,4) (E6,5) (F3,6)</p>\n<p>but my output is: (A8,1) (B1,2) (D2,4) (F3,6) (E6,5) (C7,3) (not correct)</p>\n<pre><code>@Override\npublic void f3(List&lt;Cala&gt; list) {\n    for (int i = 0; i &lt; list.size(); i++) {\n        char max = list.get(i).getOwner().charAt(1);\n        for (int j = 1; j &lt; list.size(); j++) {\n            char temp = list.get(j).getOwner().charAt(1);\n            if (max &lt; temp) {\n                Cala temp1 = list.get(i);\n                list.set(i, list.get(j));\n                list.set(j, temp1);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Please help me what is wrong with this :&lt; Thank you guys</p>\n<p>This is my class Cala. I cannot access to Main class because Main's file extension is Main.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cala {\n    private String owner;\n    private int price;\n\n    public Cala(){\n        owner = &quot;&quot;;\n        price = 0;\n    }\n\n    public Cala(String owner, int price) {\n        this.owner = owner;\n        this.price = price;\n    }\n\n    public String getOwner() {\n        return owner;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public void setOwner(String owner) {\n        this.owner = owner;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return  &quot;(&quot;+ owner + &quot;,&quot; + price +&quot;)&quot; ;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-deep-link","android-app-links"],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658376953,"creation_date":1658376953,"answer_id":73060650,"question_id":73050601,"body_markdown":"The `export` property makes your activity visible to other apps, and also makes it visible to linking. If you have any activity that needs to be exposed via deep linking or have intent filters other apps can use, those activities need to have `export=&quot;true&#39;`. This is intended behavior.","title":"is App Linking working? if export=&quot;false&quot;","body":"<p>The <code>export</code> property makes your activity visible to other apps, and also makes it visible to linking. If you have any activity that needs to be exposed via deep linking or have intent filters other apps can use, those activities need to have <code>export=&quot;true'</code>. This is intended behavior.</p>\n"}],"owner":{"account_id":2277242,"reputation":11,"user_id":2003187,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658376953,"creation_date":1658315410,"question_id":73050601,"body_markdown":"App Linking not working if export=&quot;false&quot;(for security reasons we have to keep false) in app linking activity in android 12 or higher versions. here app linking verification done. \r\n\r\nif we change **export=&quot;true&quot;** app linking working fine in android 12 also\r\nif we change **export =&quot;false&quot;** app linking not working","title":"is App Linking working? if export=&quot;false&quot;","body":"<p>App Linking not working if export=&quot;false&quot;(for security reasons we have to keep false) in app linking activity in android 12 or higher versions. here app linking verification done.</p>\n<p>if we change <strong>export=&quot;true&quot;</strong> app linking working fine in android 12 also\nif we change <strong>export =&quot;false&quot;</strong> app linking not working</p>\n"},{"tags":["java","spring-boot","prometheus","metrics","spring-actuator"],"answers":[{"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658376756,"creation_date":1658376756,"answer_id":73060631,"question_id":73059310,"body_markdown":"It is possible with the a [meter filter][1] which gives the possibility to deny or accept a specific metric based on the tags.\r\n\r\nSimple example how to use in a Spring Boot `@Configuration` class:\r\n\r\n    @Bean \r\n    public MeterRegistryCustomizer&lt;MeterRegistry&gt; metricsRegistryConfig() {\r\n      return registry -&gt; registry.config()\r\n          .meterFilter(MeterFilter.deny(id -&gt; {\r\n            var clientName = id.getTag(&quot;clientName&quot;);\r\n            return clientName != null &amp;&amp; &quot;someClientName&quot;.equals(clientName);\r\n          }));\r\n    }\r\n\r\nThis will deny all metrics using the given tag. It is also possible to further refine the filter using the meter name, e.g `if (id.getName().startsWith(&quot;http.client.requests&quot;))`\r\n\r\n  [1]: https://micrometer.io/docs/concepts#_deny_or_accept_meters","title":"How to filter out Web Client metrics by client name in SpringBoot actuator?","body":"<p>It is possible with the a <a href=\"https://micrometer.io/docs/concepts#_deny_or_accept_meters\" rel=\"nofollow noreferrer\">meter filter</a> which gives the possibility to deny or accept a specific metric based on the tags.</p>\n<p>Simple example how to use in a Spring Boot <code>@Configuration</code> class:</p>\n<pre><code>@Bean \npublic MeterRegistryCustomizer&lt;MeterRegistry&gt; metricsRegistryConfig() {\n  return registry -&gt; registry.config()\n      .meterFilter(MeterFilter.deny(id -&gt; {\n        var clientName = id.getTag(&quot;clientName&quot;);\n        return clientName != null &amp;&amp; &quot;someClientName&quot;.equals(clientName);\n      }));\n}\n</code></pre>\n<p>This will deny all metrics using the given tag. It is also possible to further refine the filter using the meter name, e.g <code>if (id.getName().startsWith(&quot;http.client.requests&quot;))</code></p>\n"}],"owner":{"account_id":25213604,"reputation":1,"user_id":19050999,"display_name":"RedAndWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658376756,"creation_date":1658361574,"question_id":73059310,"body_markdown":"For my use case I need `management.metrics.web.client.request.autotime.enabled: true`. However there is one client name I need filter out from these metrics. For example, everything except metrics below should be allowed. Here, the differentiating factor is the `clientName`\r\n\r\n- `http_client_requests_seconds_count{clientName=&quot;someClientName&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;client.com&quot;,} 1.0`\r\n- `http_client_requests_seconds_sum{clientName=&quot;someClientName&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;client.com&quot;,} 1.0`\r\n\r\nIs this possible?\r\n","title":"How to filter out Web Client metrics by client name in SpringBoot actuator?","body":"<p>For my use case I need <code>management.metrics.web.client.request.autotime.enabled: true</code>. However there is one client name I need filter out from these metrics. For example, everything except metrics below should be allowed. Here, the differentiating factor is the <code>clientName</code></p>\n<ul>\n<li><code>http_client_requests_seconds_count{clientName=&quot;someClientName&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;client.com&quot;,} 1.0</code></li>\n<li><code>http_client_requests_seconds_sum{clientName=&quot;someClientName&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;client.com&quot;,} 1.0</code></li>\n</ul>\n<p>Is this possible?</p>\n"},{"tags":["java","azure","selenium","maven","azure-pipelines"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1658353877,"post_id":73054323,"comment_id":129034000,"body_markdown":"Have a relook, it&#39;s an _`AssertionError`_. Should be an easy fix.","body":"Have a relook, it&#39;s an <i><code>AssertionError</code></i>. Should be an easy fix."},{"owner":{"account_id":6153862,"reputation":16,"user_id":4797484,"display_name":"usama sohail"},"score":0,"creation_date":1658364857,"post_id":73054323,"comment_id":129035848,"body_markdown":"@undetectedSelenium thank you but problem is it same assertion passing test cases in local but failed in pipeline just in first 6 second .","body":"@undetectedSelenium thank you but problem is it same assertion passing test cases in local but failed in pipeline just in first 6 second ."}],"answers":[{"tags":[],"owner":{"account_id":10095128,"reputation":72400,"user_id":7460777,"display_name":"Leo Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658376646,"creation_date":1658376646,"answer_id":73060621,"question_id":73054323,"body_markdown":"&gt; Maven test run locally but fail in Azure Pipeline using Azure DevOpz Maven POM.xml All test giving time Elapsed error\r\n\r\nYou could try to update your selenium dependencies to the most recent release.\r\n\r\n\r\nAnd according to the warning message &quot;unable to find cDP implementation matching 103&quot;, you could try to `selenium-devtools-v103` in the dependencies, like:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-devtools-v103&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf above not resolve your issue, please share the debug build log as txt in your question.","title":"Maven test run locally but fail in Azure Pipeline using Azure DevOpz Maven POM.xml All test giving time Elapsed error","body":"<blockquote>\n<p>Maven test run locally but fail in Azure Pipeline using Azure DevOpz Maven POM.xml All test giving time Elapsed error</p>\n</blockquote>\n<p>You could try to update your selenium dependencies to the most recent release.</p>\n<p>And according to the warning message &quot;unable to find cDP implementation matching 103&quot;, you could try to <code>selenium-devtools-v103</code> in the dependencies, like:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-devtools-v103&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If above not resolve your issue, please share the debug build log as txt in your question.</p>\n"}],"owner":{"account_id":6153862,"reputation":16,"user_id":4797484,"display_name":"usama sohail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658376646,"creation_date":1658330763,"question_id":73054323,"body_markdown":"Here is my POM.xml \r\nWhen I run from TestNG or Maven test from locally all the test cases are working fine but in pipeline it gives me this error time elapsed .please check the below image attached \r\nUsing \r\nChrome Driver \r\nTestNG\r\nMaven \r\nAzure Devopz Pipline\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;Selenium_Framework&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Selenium_Framework&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n   \r\n&lt;/properties&gt;\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.14.3&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;20090211&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;com.paulhammant&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;ngwebdriver&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;1.1.6&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;2.17.3&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NHYEm.png","title":"Maven test run locally but fail in Azure Pipeline using Azure DevOpz Maven POM.xml All test giving time Elapsed error","body":"<p>Here is my POM.xml\nWhen I run from TestNG or Maven test from locally all the test cases are working fine but in pipeline it gives me this error time elapsed .please check the below image attached\nUsing\nChrome Driver\nTestNG\nMaven\nAzure Devopz Pipline</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;Selenium_Framework&lt;/groupId&gt;\n  &lt;artifactId&gt;Selenium_Framework&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n   \n&lt;/properties&gt;\n&lt;build&gt;\n&lt;plugins&gt;\n       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20&lt;/version&gt;\n            &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20090211&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paulhammant&lt;/groupId&gt;\n        &lt;artifactId&gt;ngwebdriver&lt;/artifactId&gt;\n        &lt;version&gt;1.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n        &lt;version&gt;2.17.3&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NHYEm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NHYEm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395500927,"creation_date":1395500927,"answer_id":22579350,"question_id":22579054,"body_markdown":"By definition of a permutation you need to have exactly one of each number, see https://en.wikipedia.org/wiki/Permutation \r\n\r\nTry first with a doubly nested loop, this is not the required answer as it require O(N^2) complexity, but its the simplest algorithm.\r\n\r\nOne problem is you not using your counter array, you settting but not reading values. I can&#39;t quite understand why its size has A[0]*A.length. A[0] is not special as (3,2,4,1) or (1,2,3,4) could be valid permutations.\r\n","title":"Counting Element Permutation check","body":"<p>By definition of a permutation you need to have exactly one of each number, see <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Permutation</a> </p>\n\n<p>Try first with a doubly nested loop, this is not the required answer as it require O(N^2) complexity, but its the simplest algorithm.</p>\n\n<p>One problem is you not using your counter array, you settting but not reading values. I can't quite understand why its size has A[0]*A.length. A[0] is not special as (3,2,4,1) or (1,2,3,4) could be valid permutations.</p>\n"},{"tags":[],"owner":{"account_id":238233,"reputation":51,"user_id":506977,"display_name":"Porsche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395798597,"creation_date":1395798597,"answer_id":22649991,"question_id":22579054,"body_markdown":"The wording of the problem is kinda confusing. It actually wants you to check if the array contains 1..N integers (no duplicates or missing number).\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            // write your code in Java SE 7\r\n            int[] count = new int[A.length];\r\n            \r\n            for (int i = 0; i &lt; A.length; i++) {\r\n                \r\n                int x = A[i]-1;\r\n                \r\n                if (x &gt;= A.length) return 0;\r\n                \r\n                int check = count[x];\r\n                \r\n                if (check &gt; 0) return 0;\r\n                \r\n                count[x] = 1;\r\n            }\r\n            \r\n            return 1;\r\n        }\r\n    }","title":"Counting Element Permutation check","body":"<p>The wording of the problem is kinda confusing. It actually wants you to check if the array contains 1..N integers (no duplicates or missing number).</p>\n\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        // write your code in Java SE 7\n        int[] count = new int[A.length];\n\n        for (int i = 0; i &lt; A.length; i++) {\n\n            int x = A[i]-1;\n\n            if (x &gt;= A.length) return 0;\n\n            int check = count[x];\n\n            if (check &gt; 0) return 0;\n\n            count[x] = 1;\n        }\n\n        return 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4525718,"reputation":11,"user_id":3677617,"display_name":"MarkWillAnd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401137033,"creation_date":1401137033,"answer_id":23877473,"question_id":22579054,"body_markdown":"A couple things to improve your approach to this problem:\r\n\r\n- The &quot;max&quot; variable isn&#39;t really necessary, as you can just compare the values of the array to the length of the array. If any of them exceed the length, you can just break out of program with a return of 0\r\n\r\n- I&#39;m confused as to what you&#39;re trying to achieve with your &quot;Counter&quot; array. When you instantiate it, you&#39;re instantiating it with a length of length of A multiplied by A[0]. Considering A[0] could be any value (or in the example question A[0] can be 1,2,3,4) you can&#39;t really know what to expect as a length for your &quot;counter&quot; array. If you want a &quot;counter&quot; array that is the same length as the A array (which I used in my solution), use the following: \r\n\r\n        int[] counter = new int[A.length];\r\n\r\n- The occurBefore concept is interesting, but you have to consider that the Array can be any length. So if we have an array of {2,3,2,4,5,6}, your occurBefore values will be 2, then you will compare 2 with 3, change occurBefore to 3 and then compare 2 to 3. Even though 2 exists twice in the array, your occurBefore comparison will never reveal this.\r\n\r\nHint: you can use 2 for loops, one to populate an array with &quot;legal&quot; values, one to confirm the populated array contains the 1 -&gt; N numbers that it would need to contain to be a valid permutation.","title":"Counting Element Permutation check","body":"<p>A couple things to improve your approach to this problem:</p>\n\n<ul>\n<li><p>The \"max\" variable isn't really necessary, as you can just compare the values of the array to the length of the array. If any of them exceed the length, you can just break out of program with a return of 0</p></li>\n<li><p>I'm confused as to what you're trying to achieve with your \"Counter\" array. When you instantiate it, you're instantiating it with a length of length of A multiplied by A[0]. Considering A[0] could be any value (or in the example question A[0] can be 1,2,3,4) you can't really know what to expect as a length for your \"counter\" array. If you want a \"counter\" array that is the same length as the A array (which I used in my solution), use the following: </p>\n\n<pre><code>int[] counter = new int[A.length];\n</code></pre></li>\n<li><p>The occurBefore concept is interesting, but you have to consider that the Array can be any length. So if we have an array of {2,3,2,4,5,6}, your occurBefore values will be 2, then you will compare 2 with 3, change occurBefore to 3 and then compare 2 to 3. Even though 2 exists twice in the array, your occurBefore comparison will never reveal this.</p></li>\n</ul>\n\n<p>Hint: you can use 2 for loops, one to populate an array with \"legal\" values, one to confirm the populated array contains the 1 -> N numbers that it would need to contain to be a valid permutation.</p>\n"},{"tags":[],"owner":{"account_id":3914502,"reputation":35,"user_id":3238753,"display_name":"tas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401219796,"creation_date":1401219796,"answer_id":23897636,"question_id":22579054,"body_markdown":"This works fine.\r\n\r\n1. Sort array\r\n2. Check every pair of adjacent elements. If right element != left Element + 1, \r\n\r\nthen the array is not a permutation  \r\n\r\n\r\n    public class permutation {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[] A={2,3,7,4,5,8,6,9,10,11};\r\n\t\t\r\n\t\tArrays.sort(A);\r\n\t\t\r\n\t\tboolean perm = true;\r\n\t\t\r\n\t\t\r\n\t\tfor (int i=0; i&lt;A.length-1; i++){\r\n\t\t  if(A[i+1]!= A[i]+1 ){\r\n\t\t\t  perm = false;\r\n\t\t\t  \r\n\t\t  }\r\n\t\t  \r\n\t\t}\r\n\t\tSystem.out.println(perm);\r\n\t}\r\n\r\n    }","title":"Counting Element Permutation check","body":"<p>This works fine.</p>\n\n<ol>\n<li>Sort array</li>\n<li>Check every pair of adjacent elements. If right element != left Element + 1, </li>\n</ol>\n\n<p>then the array is not a permutation  </p>\n\n<pre><code>public class permutation {\n\npublic static void main(String[] args) {\n\n    int[] A={2,3,7,4,5,8,6,9,10,11};\n\n    Arrays.sort(A);\n\n    boolean perm = true;\n\n\n    for (int i=0; i&lt;A.length-1; i++){\n      if(A[i+1]!= A[i]+1 ){\n          perm = false;\n\n      }\n\n    }\n    System.out.println(perm);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4802884,"reputation":417,"user_id":3878974,"accept_rate":16,"display_name":"Ajeet Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1406517712,"creation_date":1406517712,"answer_id":24988016,"question_id":22579054,"body_markdown":"**100% Result : PHP Code for PermCheck Codility**\r\n\r\n    function solution($A) {\r\n        $count_of_elements  = array_fill(0, count($A)+1, null);\r\n        for($i=0; $i &lt; count($A); $i++ ){\r\n        \r\n            if($A[$i] &gt; count($A) || $A[$i] &lt;= 0)\r\n                return 0;\r\n            $count_of_elements[$A[$i]] += 1;\r\n        \r\n            if($count_of_elements[$A[$i]] &gt; 1)\r\n                return 0;        \r\n        }\r\n        if(array_sum($count_of_elements) &lt; count($A))\r\n            return 0;\r\n        return 1;\r\n    }","title":"Counting Element Permutation check","body":"<p><strong>100% Result : PHP Code for PermCheck Codility</strong></p>\n\n<pre><code>function solution($A) {\n    $count_of_elements  = array_fill(0, count($A)+1, null);\n    for($i=0; $i &lt; count($A); $i++ ){\n\n        if($A[$i] &gt; count($A) || $A[$i] &lt;= 0)\n            return 0;\n        $count_of_elements[$A[$i]] += 1;\n\n        if($count_of_elements[$A[$i]] &gt; 1)\n            return 0;        \n    }\n    if(array_sum($count_of_elements) &lt; count($A))\n        return 0;\n    return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4802884,"reputation":417,"user_id":3878974,"accept_rate":16,"display_name":"Ajeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406518716,"creation_date":1406518716,"answer_id":24988104,"question_id":22579054,"body_markdown":"**100/% for PHP PermCheck Codility, Bit more optimized**\r\n\r\n    function solution($A) {\r\n        $count_of_elements  = array_fill(0, count($A)+1, null);\r\n        for($i=0; $i &lt; count($A); $i++ ){\r\n\r\n            $count_of_elements[$A[$i]] += 1;\r\n\r\n            if($A[$i] &gt; count($A) || $A[$i] &lt;= 0 || $count_of_elements[$A[$i]] &gt; 1)\r\n                return 0;\r\n        \r\n        }\r\n        if(array_sum($count_of_elements) &lt; count($A))\r\n            return 0;\r\n        return 1;\r\n    }","title":"Counting Element Permutation check","body":"<p><strong>100/% for PHP PermCheck Codility, Bit more optimized</strong></p>\n\n<pre><code>function solution($A) {\n    $count_of_elements  = array_fill(0, count($A)+1, null);\n    for($i=0; $i &lt; count($A); $i++ ){\n\n        $count_of_elements[$A[$i]] += 1;\n\n        if($A[$i] &gt; count($A) || $A[$i] &lt;= 0 || $count_of_elements[$A[$i]] &gt; 1)\n            return 0;\n\n    }\n    if(array_sum($count_of_elements) &lt; count($A))\n        return 0;\n    return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1595634,"reputation":1909,"user_id":1477829,"accept_rate":85,"display_name":"dontHaveName"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422790717,"creation_date":1422790717,"answer_id":28262269,"question_id":22579054,"body_markdown":"simple php 100/100 solution\r\n\r\n    function solution($A) {\r\n        $count = count($A);\r\n        if (count(array_unique($A)) != $count) return 0;\r\n        $sum = array_sum($A);\r\n        $should_be = 0;\r\n        for ($i = 1; $i &lt;= $count; $i++) {\r\n            $should_be += $i;\r\n        }\r\n        return intval($sum == $should_be);\r\n    }","title":"Counting Element Permutation check","body":"<p>simple php 100/100 solution</p>\n\n<pre><code>function solution($A) {\n    $count = count($A);\n    if (count(array_unique($A)) != $count) return 0;\n    $sum = array_sum($A);\n    $should_be = 0;\n    for ($i = 1; $i &lt;= $count; $i++) {\n        $should_be += $i;\n    }\n    return intval($sum == $should_be);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":895524,"reputation":301,"user_id":932902,"display_name":"Asif Arshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433408834,"creation_date":1433408834,"answer_id":30639588,"question_id":22579054,"body_markdown":"I&#39;ve used Set for the solution:\r\n\r\n\timport java.util.*;\r\n\r\n\tclass Solution {\r\n\t\t\r\n\t\tpublic int solution(int[] A) {\r\n\t\t\t\r\n\t\t\tfinal Set perm = new HashSet();\r\n\t\t\tfinal int size = A.length;\r\n\t\t\t\r\n\t\t\tfor(int number : A)\r\n\t\t\t{\r\n\t\t\t\tif(number &gt; size)\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\r\n\t\t\t\tperm.add(number);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(perm.size() == A.length)\r\n\t\t\t\treturn 1;\r\n\t\t\telse\r\n\t\t\t\treturn 0;\r\n\t\t}\r\n\t}","title":"Counting Element Permutation check","body":"<p>I've used Set for the solution:</p>\n\n<pre><code>import java.util.*;\n\nclass Solution {\n\n    public int solution(int[] A) {\n\n        final Set perm = new HashSet();\n        final int size = A.length;\n\n        for(int number : A)\n        {\n            if(number &gt; size)\n                return 0;\n\n            perm.add(number);\n        }\n\n        if(perm.size() == A.length)\n            return 1;\n        else\n            return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5249923,"reputation":113,"user_id":4194496,"display_name":"Samlik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433852640,"creation_date":1433852640,"answer_id":30731976,"question_id":22579054,"body_markdown":"This is a Scala solution that gets 100/100. Find it more elegant in Scala\r\n\r\n\r\n    object Solution {\r\n        def solution(A: Array[Int]): Int = {\r\n            if (A.max == A.length &amp;&amp; A.distinct.size == A.length)\r\n                1\r\n            else\r\n                0\r\n        }\r\n    }","title":"Counting Element Permutation check","body":"<p>This is a Scala solution that gets 100/100. Find it more elegant in Scala</p>\n\n<pre><code>object Solution {\n    def solution(A: Array[Int]): Int = {\n        if (A.max == A.length &amp;&amp; A.distinct.size == A.length)\n            1\n        else\n            0\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421111,"reputation":1410,"user_id":799162,"display_name":"moxi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561098903,"creation_date":1437659539,"answer_id":31589437,"question_id":22579054,"body_markdown":"This solution scores 100 in codility:\r\n\r\n    /**\r\n    * https://codility.com/demo/results/demoYEU94K-8FU/ 100\r\n    */\r\n    public class PermCheck {\r\n      public static final int NOT_PERMUTATION = 0;\r\n      public static final int PERMUTATION = 1;\r\n      // (4,1,3,2) = 1\r\n      // (4,1,3) = 0\r\n      // (1) = 1\r\n      // () = 1\r\n      // (2) = 0\r\n      public int solution(int[] A) {\r\n        // write your code in Java SE 8\r\n        int[] mark = new int[A.length + 1];\r\n    \r\n        for (int i = 0; i &lt; A.length; ++i) {\r\n            int value = A[i];\r\n            if(value &gt;= mark.length) {\r\n                 return NOT_PERMUTATION;\r\n            }\r\n            if(mark[value] == 0) {\r\n                mark[value]=1;\r\n            } else {\r\n                return NOT_PERMUTATION;\r\n            }\r\n        }\r\n    \r\n        return PERMUTATION;\r\n      }\r\n    }\r\n\r\nYou can also see it here:\r\nhttps://github.com/moxi/codility-lessons/blob/master/Codility/CountingElements/PermCheck.java\r\nalong with some others.\r\n","title":"Counting Element Permutation check","body":"<p>This solution scores 100 in codility:</p>\n\n<pre><code>/**\n* https://codility.com/demo/results/demoYEU94K-8FU/ 100\n*/\npublic class PermCheck {\n  public static final int NOT_PERMUTATION = 0;\n  public static final int PERMUTATION = 1;\n  // (4,1,3,2) = 1\n  // (4,1,3) = 0\n  // (1) = 1\n  // () = 1\n  // (2) = 0\n  public int solution(int[] A) {\n    // write your code in Java SE 8\n    int[] mark = new int[A.length + 1];\n\n    for (int i = 0; i &lt; A.length; ++i) {\n        int value = A[i];\n        if(value &gt;= mark.length) {\n             return NOT_PERMUTATION;\n        }\n        if(mark[value] == 0) {\n            mark[value]=1;\n        } else {\n            return NOT_PERMUTATION;\n        }\n    }\n\n    return PERMUTATION;\n  }\n}\n</code></pre>\n\n<p>You can also see it here:\n<a href=\"https://github.com/moxi/codility-lessons/blob/master/Codility/CountingElements/PermCheck.java\" rel=\"nofollow noreferrer\">https://github.com/moxi/codility-lessons/blob/master/Codility/CountingElements/PermCheck.java</a>\nalong with some others.</p>\n"},{"tags":[],"owner":{"account_id":94740,"reputation":1041,"user_id":258489,"display_name":"Felipe Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439701787,"creation_date":1439701787,"answer_id":32032040,"question_id":22579054,"body_markdown":"Here&#39;s my solution in Scala: http://geeks.aretotally.in/codility-permcheck-in-scala/.\r\n\r\n&lt;pre&gt;\r\nimport java.util.BitSet\r\n\r\nobject Solution {  \r\n    def solution(A: Array[Int]): Int = {\r\n        val bitz = new BitSet(A.size + 1)\r\n\r\n        val good = A.foldLeft(true)((current, i) =&gt; \r\n            if (current) {\r\n                (i, bitz.get(i)) match {\r\n                    case (x, _) if x &gt; A.size =&gt; \r\n                        false\r\n\r\n                    case (x, _) if x &lt; 1 || x &gt; 1000000000 =&gt; \r\n                        false\r\n\r\n                    case (0, _) =&gt; \r\n                        false\r\n\r\n                    case (_, true) =&gt; \r\n                        false\r\n\r\n                    case _ =&gt;\r\n                        bitz.set(i)\r\n                        true\r\n                }\r\n\r\n            } else false\r\n        )\r\n\r\n        if (good &amp;&amp; A.size &gt; 0 &amp;&amp; A.size &lt;= 100000) 1\r\n        else 0\r\n    }\r\n}\r\n\r\n\r\n  [1]: http://geeks.aretotally.in/codility-permcheck-in-scala/","title":"Counting Element Permutation check","body":"<p>Here's my solution in Scala: <a href=\"http://geeks.aretotally.in/codility-permcheck-in-scala/\" rel=\"nofollow\">http://geeks.aretotally.in/codility-permcheck-in-scala/</a>.</p>\n\n<p><pre>\nimport java.util.BitSet</p>\n\n<p>object Solution {<br>\n    def solution(A: Array[Int]): Int = {\n        val bitz = new BitSet(A.size + 1)</p>\n\n<code>    val good = A.foldLeft(true)((current, i) =&gt; \n        if (current) {\n            (i, bitz.get(i)) match {\n                case (x, _) if x &gt; A.size =&gt; \n                    false\n\n                case (x, _) if x &lt; 1 || x &gt; 1000000000 =&gt; \n                    false\n\n                case (0, _) =&gt; \n                    false\n\n                case (_, true) =&gt; \n                    false\n\n                case _ =&gt;\n                    bitz.set(i)\n                    true\n            }\n\n        } else false\n    )\n\n    if (good &amp;&amp; A.size &gt; 0 &amp;&amp; A.size &lt;= 100000) 1\n    else 0\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":265510,"reputation":8275,"user_id":552521,"accept_rate":78,"display_name":"Abhishek Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458643749,"creation_date":1458643749,"answer_id":36152359,"question_id":22579054,"body_markdown":"        boolean[] cloned = new boolean[A.length];\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if(A[i] &gt; A.length){\r\n                return 0;\r\n            }\r\n            cloned[A[i]-1] = true;\r\n        }\r\n\r\n        for (boolean val:\r\n             cloned) {\r\n            if(!val)\r\n                return 0;\r\n        }\r\n        return 1;\r\n\r\nThis solution got 100 and complete","title":"Counting Element Permutation check","body":"<pre><code>    boolean[] cloned = new boolean[A.length];\n    for (int i = 0; i &lt; A.length; i++) {\n        if(A[i] &gt; A.length){\n            return 0;\n        }\n        cloned[A[i]-1] = true;\n    }\n\n    for (boolean val:\n         cloned) {\n        if(!val)\n            return 0;\n    }\n    return 1;\n</code></pre>\n\n<p>This solution got 100 and complete</p>\n"},{"tags":[],"owner":{"account_id":8591879,"reputation":43,"user_id":6436215,"display_name":"M.Bugiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513028013,"creation_date":1513028013,"answer_id":47761775,"question_id":22579054,"body_markdown":"If permutation is, as task description states, a sequence containing each element from **1** to N once, and only once, then one could do it like this:\r\n\r\n    public int solution(int... A) {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        // calculating sum of permutation elements\r\n        int sum = A.length * (A.length +1) /2;\r\n        for(int i=0; i&lt;A.length;i++){\r\n            set.add(A[i]);\r\n            sum -=A[i];\r\n            }\r\n        // return 0 if either sizes don&#39;t much or there was some \r\n        // number/s missing in permutation and thus sum !=0;\r\n        return ((set.size() == A.length) &amp;&amp; sum ==0)? 1 : 0;    \r\n    }","title":"Counting Element Permutation check","body":"<p>If permutation is, as task description states, a sequence containing each element from <strong>1</strong> to N once, and only once, then one could do it like this:</p>\n\n<pre><code>public int solution(int... A) {\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    // calculating sum of permutation elements\n    int sum = A.length * (A.length +1) /2;\n    for(int i=0; i&lt;A.length;i++){\n        set.add(A[i]);\n        sum -=A[i];\n        }\n    // return 0 if either sizes don't much or there was some \n    // number/s missing in permutation and thus sum !=0;\n    return ((set.size() == A.length) &amp;&amp; sum ==0)? 1 : 0;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4953933,"reputation":928,"user_id":3987093,"display_name":"Matias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524063628,"creation_date":1524063628,"answer_id":49903032,"question_id":22579054,"body_markdown":"Ruby 100%:\r\n\r\n    def solution(a)\r\n      values = a.uniq\r\n      is_ok = 0\r\n      if values.length == a.length\r\n        is_ok = (a.length == a.max) ? 1 : 0\r\n      end\r\n      \r\n      is_ok\r\n    end","title":"Counting Element Permutation check","body":"<p>Ruby 100%:</p>\n\n<pre><code>def solution(a)\n  values = a.uniq\n  is_ok = 0\n  if values.length == a.length\n    is_ok = (a.length == a.max) ? 1 : 0\n  end\n\n  is_ok\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13462444,"reputation":31,"user_id":9713962,"display_name":"Kayhan Hakan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524909736,"creation_date":1524909736,"answer_id":50075264,"question_id":22579054,"body_markdown":"    public int solution(int[]A) {\r\n\r\n        Arrays.sort(A);\r\n        for(int i=0; i&lt;A.length;i++) {\r\n            if (A[i]!=i+1) {\r\n                System.out.println(&quot;0&quot;);\r\n                return 0;\r\n            }\r\n        }\r\n        System.out.println(&quot;1&quot;);\r\n        return 1;\r\n    }\r\n","title":"Counting Element Permutation check","body":"<pre><code>public int solution(int[]A) {\n\n    Arrays.sort(A);\n    for(int i=0; i&lt;A.length;i++) {\n        if (A[i]!=i+1) {\n            System.out.println(\"0\");\n            return 0;\n        }\n    }\n    System.out.println(\"1\");\n    return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528180006,"creation_date":1528180006,"answer_id":50693414,"question_id":22579054,"body_markdown":"Shortcode is beautiful. take a vector mark all of them as 1. Then iterate over given vector and to mark present bits as 0. Now find the non zero elements. If present return 0  or else return 1\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fbj1f.png\r\n\r\n\r\n    #include &lt;set&gt;\r\n    #include &lt;vector&gt;\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    int solution(vector&lt;int&gt; &amp;A) {\r\n    \r\n        vector&lt;int&gt; range(A.size(),1);\r\n    \r\n        for(unsigned int i=0; i &lt; A.size(); i++){\r\n            if(A[i] &lt;= A.size() &amp;&amp; A[i] &gt; 0)\r\n                range[A[i]-1] = 0;\r\n        }\r\n    \r\n        for(unsigned int i=0; i &lt; A.size(); i++)\r\n            if(range[i]) return 0;\r\n    \r\n        return 1;\r\n    }\r\n    \r\n    int main(){\r\n        vector&lt;int&gt; A = {4, 1, 3, 2};\r\n        cout &lt;&lt; solution(A);\r\n       return 0;\r\n    }","title":"Counting Element Permutation check","body":"<p>Shortcode is beautiful. take a vector mark all of them as 1. Then iterate over given vector and to mark present bits as 0. Now find the non zero elements. If present return 0  or else return 1\n<a href=\"https://i.stack.imgur.com/fbj1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fbj1f.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>#include &lt;set&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint solution(vector&lt;int&gt; &amp;A) {\n\n    vector&lt;int&gt; range(A.size(),1);\n\n    for(unsigned int i=0; i &lt; A.size(); i++){\n        if(A[i] &lt;= A.size() &amp;&amp; A[i] &gt; 0)\n            range[A[i]-1] = 0;\n    }\n\n    for(unsigned int i=0; i &lt; A.size(); i++)\n        if(range[i]) return 0;\n\n    return 1;\n}\n\nint main(){\n    vector&lt;int&gt; A = {4, 1, 3, 2};\n    cout &lt;&lt; solution(A);\n   return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128270,"reputation":1086,"user_id":325987,"accept_rate":50,"display_name":"Khanh Hua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533054471,"creation_date":1533054471,"answer_id":51618057,"question_id":22579054,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nMy take on the problem with Python 3.6... based on various ideas (a big thank you)\r\n\r\n    def solution(A):\r\n        # write your code in Python 3.6\r\n        if len(A) == 0:\r\n            return 0\r\n        \r\n        max_element = max(A)\r\n        if max_element - len(A) &gt; 1:\r\n            return 0\r\n        \r\n        actual_sum = sum(A)\r\n        check_sum = sum(range(1, len(set(A)) + 1))\r\n        \r\n        if actual_sum != check_sum:\r\n            return 0\r\n        \r\n        return 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Es6WV.png","title":"Counting Element Permutation check","body":"<p><a href=\"https://i.stack.imgur.com/Es6WV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Es6WV.png\" alt=\"enter image description here\"></a></p>\n\n<p>My take on the problem with Python 3.6... based on various ideas (a big thank you)</p>\n\n<pre><code>def solution(A):\n    # write your code in Python 3.6\n    if len(A) == 0:\n        return 0\n\n    max_element = max(A)\n    if max_element - len(A) &gt; 1:\n        return 0\n\n    actual_sum = sum(A)\n    check_sum = sum(range(1, len(set(A)) + 1))\n\n    if actual_sum != check_sum:\n        return 0\n\n    return 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4373801,"reputation":1576,"user_id":3567319,"display_name":"Muhammad Noman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550308016,"creation_date":1550308016,"answer_id":54721519,"question_id":22579054,"body_markdown":"**Swift 4 Solution** \r\n\r\n    public func solution(_ A : inout [Int]) -&gt; Int{\r\n        \r\n        let resultValue = 1\r\n        \r\n        A = A.sorted{$0 &gt; $1}\r\n        \r\n        let lastIndex : Int = A.last ?? 0\r\n        \r\n        if lastIndex != 1 {\r\n            return 0\r\n        }\r\n    \r\n        for index in stride(from: 0, to: A.count - 1, by: 1){\r\n            if (A[index] - 1) != A[index + 1]{\r\n                return 0\r\n            }\r\n        }\r\n        \r\n        return resultValue\r\n        \r\n    }\r\n\r\n","title":"Counting Element Permutation check","body":"<p><strong>Swift 4 Solution</strong> </p>\n\n<pre><code>public func solution(_ A : inout [Int]) -&gt; Int{\n\n    let resultValue = 1\n\n    A = A.sorted{$0 &gt; $1}\n\n    let lastIndex : Int = A.last ?? 0\n\n    if lastIndex != 1 {\n        return 0\n    }\n\n    for index in stride(from: 0, to: A.count - 1, by: 1){\n        if (A[index] - 1) != A[index + 1]{\n            return 0\n        }\n    }\n\n    return resultValue\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1617069,"reputation":19784,"user_id":4094231,"accept_rate":46,"display_name":"Umair Ayub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560167758,"creation_date":1560167758,"answer_id":56525918,"question_id":22579054,"body_markdown":"Python solution that got me 100% results\r\n\r\n    def solution(A):\r\n        \r\n        le = len(A)\r\n        A = list(set(A))\r\n        \r\n        if le != len(A):\r\n            return 0\r\n            \r\n        le = len(A)\r\n        \r\n        if le != max(A):\r\n            return 0\r\n            \r\n        return 1","title":"Counting Element Permutation check","body":"<p>Python solution that got me 100% results</p>\n\n<pre><code>def solution(A):\n\n    le = len(A)\n    A = list(set(A))\n\n    if le != len(A):\n        return 0\n\n    le = len(A)\n\n    if le != max(A):\n        return 0\n\n    return 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6640315,"reputation":169,"user_id":5126197,"display_name":"Sai Dileep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569000488,"creation_date":1569000488,"answer_id":58032816,"question_id":22579054,"body_markdown":"You can use this one liner - sum of first n natural numbers\r\n\r\n```if (a.sum == (a.size * (a.size+1))/2 &amp;&amp; a.max == a.distinct.length) 1 else 0```","title":"Counting Element Permutation check","body":"<p>You can use this one liner - sum of first n natural numbers</p>\n\n<p><code>if (a.sum == (a.size * (a.size+1))/2 &amp;&amp; a.max == a.distinct.length) 1 else 0</code></p>\n"},{"tags":[],"owner":{"account_id":16948190,"reputation":19,"user_id":12258422,"display_name":"Tigran Sargsyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571759502,"creation_date":1571759502,"answer_id":58508035,"question_id":22579054,"body_markdown":"      public int solution(int[] A)\r\n        {\r\n           \r\n            int xorsum = 0;\r\n            for (int i = 0; i &lt; A.Length; i++)\r\n            {\r\n                xorsum = (i + 1) ^ A[i] ^ xorsum;\r\n\r\n            }\r\n            if (xorsum &gt; 0)\r\n                return 0;\r\n            return 1;\r\n          }\r\n\r\nthis also gives 100% in codility but here not used array all xor based check same time but no additional memory use code in c#","title":"Counting Element Permutation check","body":"<pre><code>  public int solution(int[] A)\n    {\n\n        int xorsum = 0;\n        for (int i = 0; i &lt; A.Length; i++)\n        {\n            xorsum = (i + 1) ^ A[i] ^ xorsum;\n\n        }\n        if (xorsum &gt; 0)\n            return 0;\n        return 1;\n      }\n</code></pre>\n\n<p>this also gives 100% in codility but here not used array all xor based check same time but no additional memory use code in c#</p>\n"},{"tags":[],"owner":{"account_id":2537344,"reputation":149,"user_id":2204075,"accept_rate":60,"display_name":"Surya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571822093,"creation_date":1571822093,"answer_id":58519422,"question_id":22579054,"body_markdown":"public static int solution(int[] A) {\r\n\t      int N = A.length;\r\n\t      return ((((N*(N+1))/2)-IntStream.of(A).distinct().filter(i-&gt; i&gt;=1 &amp;&amp; i&lt;=N).sum())==0)?1:0;\r\n\t}\r\n\r\n\r\nPS: import java.util.stream.IntStream;","title":"Counting Element Permutation check","body":"<p>public static int solution(int[] A) {\n          int N = A.length;\n          return ((((N*(N+1))/2)-IntStream.of(A).distinct().filter(i-> i>=1 &amp;&amp; i&lt;=N).sum())==0)?1:0;\n    }</p>\n\n<p>PS: import java.util.stream.IntStream;</p>\n"},{"tags":[],"owner":{"account_id":2769605,"reputation":371,"user_id":2384464,"display_name":"Dinakar Prasad Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575443328,"creation_date":1575443328,"answer_id":59170643,"question_id":22579054,"body_markdown":"[Codility with 100%][1]\r\n\r\nSolution in python with description - easy to understand-\r\n\r\n    def solution(ar):\r\n    &quot;&quot;&quot;\r\n    https://app.codility.com/demo/results/trainingEBQW3A-6N8/\r\n    100%\r\n    idea is use xor - xor of two same number cancel the same bits and make that to zero\r\n    do xor of all elements of array\r\n    do xor of 1 to length plus 1\r\n    at last xor of all should be zero\r\n\r\n    A non-empty array A consisting of N integers is given.\r\n    A permutation is a sequence containing each element from 1 to N once, and only once.\r\n    :param ar:\r\n    :return:\r\n    &quot;&quot;&quot;\r\n    xor_sum = 0\r\n    # xor of 1 to len ar\r\n    # xor of all elements of existing array\r\n    for index in range(1, len(ar) + 1):\r\n        xor_sum = xor_sum ^ index ^ ar[index - 1]\r\n    # at the end xor sum should be zero\r\n    if xor_sum == 0:\r\n        return 1\r\n    else:\r\n        return 0\r\n\r\n\r\n     arr = [1, 2]\r\n     result = solution(arr)\r\n     print(&quot;Sol &quot; + str(result))\r\n\r\n\r\n  [1]: https://app.codility.com/demo/results/trainingEBQW3A-6N8/","title":"Counting Element Permutation check","body":"<p><a href=\"https://app.codility.com/demo/results/trainingEBQW3A-6N8/\" rel=\"nofollow noreferrer\">Codility with 100%</a></p>\n\n<p>Solution in python with description - easy to understand-</p>\n\n<pre><code>def solution(ar):\n\"\"\"\nhttps://app.codility.com/demo/results/trainingEBQW3A-6N8/\n100%\nidea is use xor - xor of two same number cancel the same bits and make that to zero\ndo xor of all elements of array\ndo xor of 1 to length plus 1\nat last xor of all should be zero\n\nA non-empty array A consisting of N integers is given.\nA permutation is a sequence containing each element from 1 to N once, and only once.\n:param ar:\n:return:\n\"\"\"\nxor_sum = 0\n# xor of 1 to len ar\n# xor of all elements of existing array\nfor index in range(1, len(ar) + 1):\n    xor_sum = xor_sum ^ index ^ ar[index - 1]\n# at the end xor sum should be zero\nif xor_sum == 0:\n    return 1\nelse:\n    return 0\n\n\n arr = [1, 2]\n result = solution(arr)\n print(\"Sol \" + str(result))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7536392,"reputation":460,"user_id":5722521,"accept_rate":67,"display_name":"Wei Loon Wong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577721930,"creation_date":1577721930,"answer_id":59533647,"question_id":22579054,"body_markdown":"This is **Java** solutions that score **100%**. \r\n \r\n\r\n    import java.util.*; \r\n\r\n    class Solution \r\n    {\r\n      public int solution(int[] A) \r\n      {\r\n          Arrays.sort(A);\r\n        \r\n          // to remove duplicates\r\n          Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n          for(int i : A)\r\n\t\t  {\r\n              set.add(i);\r\n          }\r\n        \r\n          List&lt;Integer&gt; list = new ArrayList&lt;&gt;(set);\r\n          int array_size = A.length;\r\n          int value = 1;\r\n        \r\n          if (array_size != list.size() || list.get(0) != 1 || list.get(list.size() - 1) != array_size)\r\n              value = 0;\r\n            \r\n          return value;\r\n      }\r\n    }","title":"Counting Element Permutation check","body":"<p>This is <strong>Java</strong> solutions that score <strong>100%</strong>. </p>\n\n<pre><code>import java.util.*; \n\nclass Solution \n{\n  public int solution(int[] A) \n  {\n      Arrays.sort(A);\n\n      // to remove duplicates\n      Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n      for(int i : A)\n      {\n          set.add(i);\n      }\n\n      List&lt;Integer&gt; list = new ArrayList&lt;&gt;(set);\n      int array_size = A.length;\n      int value = 1;\n\n      if (array_size != list.size() || list.get(0) != 1 || list.get(list.size() - 1) != array_size)\n          value = 0;\n\n      return value;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746810,"reputation":448,"user_id":2367057,"display_name":"Chigozie Orunta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578773154,"creation_date":1578773154,"answer_id":59698215,"question_id":22579054,"body_markdown":"Simple solution using JavaScript **tested 100%**.\r\n\r\n```\r\nfunction solution(A) {\r\n    A.sort(function(a, b){return a-b});\r\n    let bool = 1;\r\n    if(A[0] === 1) {\r\n        for(let i=0; i&lt;A.length; i++) {\r\n            if((i+1) &lt; A.length) {\r\n                if(A[i] != A[i+1] - 1) {\r\n                    bool = 0;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        bool = 0;\r\n    }\r\n    return bool;\r\n}\r\n```","title":"Counting Element Permutation check","body":"<p>Simple solution using JavaScript <strong>tested 100%</strong>.</p>\n\n<pre><code>function solution(A) {\n    A.sort(function(a, b){return a-b});\n    let bool = 1;\n    if(A[0] === 1) {\n        for(let i=0; i&lt;A.length; i++) {\n            if((i+1) &lt; A.length) {\n                if(A[i] != A[i+1] - 1) {\n                    bool = 0;\n                }\n            }\n        }\n    } else {\n        bool = 0;\n    }\n    return bool;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11799971,"reputation":1,"user_id":8633903,"display_name":"Alejandro Parra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589157366,"creation_date":1589157366,"answer_id":61720559,"question_id":22579054,"body_markdown":"**Javascript**: these are my two solutions, both with time complexity: O(N) or O(N * log(N))\r\n\r\n    //ask Score 100%  | Correctness 100% | Performance 100%\r\n    function solution(A) {\r\n      let arr = [];\r\n      for (let i = 0; i &lt; A.length; i++) {\r\n        if (arr[A[i] - 1] == 1) return 0; //exit for duplicated\r\n        arr[A[i] - 1] = 1;\r\n      }\r\n      if (arr[0] == 1)\r\n        for (let i = 0; i &lt; arr.length; i++) {\r\n          if (!arr[i]) return 0; //no number in this position\r\n        }\r\n      else return 0; // first number not is 1;\r\n      return 1;\r\n    }\r\n    \r\n    //ask Score 100%  | Correctness 100% | Performance 100%\r\n    function solution(A) {\r\n      A.sort((a, b) =&gt; a - b);\r\n      for (let i = 0; i &lt; A.length; i++) {\r\n        if (A[i] != i + 1) return 0; //isn&#39;t a number for this position\r\n      }\r\n      return 1;\r\n    }","title":"Counting Element Permutation check","body":"<p><strong>Javascript</strong>: these are my two solutions, both with time complexity: O(N) or O(N * log(N))</p>\n\n<pre><code>//ask Score 100%  | Correctness 100% | Performance 100%\nfunction solution(A) {\n  let arr = [];\n  for (let i = 0; i &lt; A.length; i++) {\n    if (arr[A[i] - 1] == 1) return 0; //exit for duplicated\n    arr[A[i] - 1] = 1;\n  }\n  if (arr[0] == 1)\n    for (let i = 0; i &lt; arr.length; i++) {\n      if (!arr[i]) return 0; //no number in this position\n    }\n  else return 0; // first number not is 1;\n  return 1;\n}\n\n//ask Score 100%  | Correctness 100% | Performance 100%\nfunction solution(A) {\n  A.sort((a, b) =&gt; a - b);\n  for (let i = 0; i &lt; A.length; i++) {\n    if (A[i] != i + 1) return 0; //isn't a number for this position\n  }\n  return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6537818,"reputation":1,"user_id":5056656,"display_name":"Krishna Chavhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593235305,"creation_date":1593235305,"answer_id":62606222,"question_id":22579054,"body_markdown":"    //Below solution given me 100%\r\n    \r\n    public int solution100(int[] A) {\r\n    \t\tif (A.length == 0)\r\n    \t\t\treturn 0;\r\n    \r\n    \t\tif (A.length == 1 &amp;&amp; A[0] != 1)\r\n    \t\t\treturn 0;\r\n    \r\n    \t\tint len = A.length;\r\n    \t\tint max = Integer.MIN_VALUE;\r\n    \t\tSet&lt;Integer&gt; hSet = new HashSet&lt;Integer&gt;();\r\n    \t\tfor (int i = 0; i &lt; A.length; i++) {\r\n    \t\t\tif (max &lt; A[i])\r\n    \t\t\t\tmax = A[i];\r\n    \r\n    \t\t\thSet.add(A[i]);\r\n    \t\t}// for_i\r\n    \r\n    \t\tint s_size = hSet.size();\r\n    \t\t    \r\n    \t\tif (s_size == len &amp;&amp; max == len)\r\n    \t\t\treturn 1;\r\n        enter code here\r\n    \t\treturn 0;\r\n    \t}","title":"Counting Element Permutation check","body":"<pre><code>//Below solution given me 100%\n\npublic int solution100(int[] A) {\n        if (A.length == 0)\n            return 0;\n\n        if (A.length == 1 &amp;&amp; A[0] != 1)\n            return 0;\n\n        int len = A.length;\n        int max = Integer.MIN_VALUE;\n        Set&lt;Integer&gt; hSet = new HashSet&lt;Integer&gt;();\n        for (int i = 0; i &lt; A.length; i++) {\n            if (max &lt; A[i])\n                max = A[i];\n\n            hSet.add(A[i]);\n        }// for_i\n\n        int s_size = hSet.size();\n            \n        if (s_size == len &amp;&amp; max == len)\n            return 1;\n    enter code here\n        return 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658375594,"creation_date":1658375594,"answer_id":73060513,"question_id":22579054,"body_markdown":"A java solution that gave me 100/100\r\n\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            \r\n            int sumOfNPlusOne = ((A.length)*(A.length+1))/2;\r\n            boolean sumStatus = false;\r\n            int arrayEleSum = 0;\r\n            for(int a: A){\r\n                arrayEleSum+=a;\r\n            }\r\n            if(arrayEleSum == sumOfNPlusOne) sumStatus = true;\r\n    \r\n            if(!sumStatus) return 0;\r\n    \r\n    \r\n            boolean[] status = new boolean[A.length+1];\r\n            status[0]=true;\r\n            for(int i=0; i&lt;A.length; i++){\r\n                if(A[i]&gt;=status.length) continue;\r\n                if(!(status[A[i]])){\r\n                    status[A[i]] = true;\r\n                }\r\n            }\r\n    \r\n            boolean missingStatus = false;\r\n            for(boolean stat: status){\r\n                if(!stat){\r\n                    missingStatus = true;\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            if(!missingStatus)return 1;\r\n    \r\n            return 0;\r\n        }\r\n    }\r\n\r\n","title":"Counting Element Permutation check","body":"<p>A java solution that gave me 100/100</p>\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        \n        int sumOfNPlusOne = ((A.length)*(A.length+1))/2;\n        boolean sumStatus = false;\n        int arrayEleSum = 0;\n        for(int a: A){\n            arrayEleSum+=a;\n        }\n        if(arrayEleSum == sumOfNPlusOne) sumStatus = true;\n\n        if(!sumStatus) return 0;\n\n\n        boolean[] status = new boolean[A.length+1];\n        status[0]=true;\n        for(int i=0; i&lt;A.length; i++){\n            if(A[i]&gt;=status.length) continue;\n            if(!(status[A[i]])){\n                status[A[i]] = true;\n            }\n        }\n\n        boolean missingStatus = false;\n        for(boolean stat: status){\n            if(!stat){\n                missingStatus = true;\n                break;\n            }\n        }\n\n        if(!missingStatus)return 1;\n\n        return 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":362719,"reputation":1984,"user_id":706056,"accept_rate":65,"display_name":"helpdesk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16628,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":28,"score":0,"last_activity_date":1658375594,"creation_date":1395499452,"question_id":22579054,"body_markdown":"In the codility permutation check question:\r\n\r\n    A non-empty zero-indexed array A consisting of N integers is given.\r\n    A permutation is a sequence containing each element from 1 to N once, and only once.\r\n    For example, array A such that:\r\n        A[0] = 4\r\n        A[1] = 1\r\n        A[2] = 3\r\n        A[3] = 2\r\n    is a permutation, but array A such that:\r\n        A[0] = 4\r\n        A[1] = 1\r\n        A[2] = 3\r\n    is not a permutation.\r\n    The goal is to check whether array A is a permutation.\r\n    Write a function:\r\n    class Solution { public int solution(int[] A); }\r\n    that, given a zero-indexed array A, returns 1 if array A is a permutation and 0 if it is not.\r\n    For example, given array A such that:\r\n        A[0] = 4\r\n        A[1] = 1\r\n        A[2] = 3\r\n        A[3] = 2\r\n    the function should return 1.\r\n    Given array A such that:\r\n        A[0] = 4\r\n        A[1] = 1\r\n        A[2] = 3\r\n    the function should return 0.\r\n    Assume that:\r\n    N is an integer within the range [1..100,000];\r\n    each element of array A is an integer within the range [1..1,000,000,000].\r\n    Complexity:\r\n    expected worst-case time complexity is O(N);\r\n    expected worst-case space complexity is O(N), beyond input storage (not counting the storage required for input arguments).\r\n\r\n\r\n\r\n\r\nHere is my solution to it, but I have an error. I feel, I need to check for one extra condition before the code can work well. When tested with an array like this: A[4,1,3}, it returned 1 instead of 0 . What else do I need to test for to get this code to work perfectly? I am missing it because I don&#39;t see why a[]{4,1,3} is NOT a permutation and why A[] {4,1,3,2} is a permutation in the question. If anyone could explain that, I might be able to solve my problem. Now,I did modify it to work now on my eclipse,tested but on codility, I still keep getting error about the line : `counter[A[i]] += 1`; Any one knows why this is so? Something that the array is out of bound but I didn&#39;t get that error on my eclipse IDE.  \r\nThanks\r\n\r\n        public class Solution {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \r\n    \tpublic static int solution(int[] A) {\r\n    \t\t// write your code in Java SE 7\r\n    \t\tint[] counter = new int[(A[0] * A.length)];\r\n    \t\tint max = -1;\r\n    \t\tint OccurBefore = -1; // store some random number for a start\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; A.length; i++) {\r\n    \t\t\t\r\n    \t\t\tif (A[i] &gt; max) {\r\n    \t\t\t\tmax = A[i];\r\n    \t\t\t} \r\n    \t\t\t\tif (A[i] == OccurBefore) {\r\n    \t\t\t\t\treturn 0;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif(A[i] != OccurBefore) {\r\n    \t\t\t\t\tOccurBefore = A[i];\r\n    \t\t\t\t\tcounter[A[i]] += 1;\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(A.length&lt;max){\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn 1;\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    }\r\n","title":"Counting Element Permutation check","body":"<p>In the codility permutation check question:</p>\n\n<pre><code>A non-empty zero-indexed array A consisting of N integers is given.\nA permutation is a sequence containing each element from 1 to N once, and only once.\nFor example, array A such that:\n    A[0] = 4\n    A[1] = 1\n    A[2] = 3\n    A[3] = 2\nis a permutation, but array A such that:\n    A[0] = 4\n    A[1] = 1\n    A[2] = 3\nis not a permutation.\nThe goal is to check whether array A is a permutation.\nWrite a function:\nclass Solution { public int solution(int[] A); }\nthat, given a zero-indexed array A, returns 1 if array A is a permutation and 0 if it is not.\nFor example, given array A such that:\n    A[0] = 4\n    A[1] = 1\n    A[2] = 3\n    A[3] = 2\nthe function should return 1.\nGiven array A such that:\n    A[0] = 4\n    A[1] = 1\n    A[2] = 3\nthe function should return 0.\nAssume that:\nN is an integer within the range [1..100,000];\neach element of array A is an integer within the range [1..1,000,000,000].\nComplexity:\nexpected worst-case time complexity is O(N);\nexpected worst-case space complexity is O(N), beyond input storage (not counting the storage required for input arguments).\n</code></pre>\n\n<p>Here is my solution to it, but I have an error. I feel, I need to check for one extra condition before the code can work well. When tested with an array like this: A[4,1,3}, it returned 1 instead of 0 . What else do I need to test for to get this code to work perfectly? I am missing it because I don't see why a[]{4,1,3} is NOT a permutation and why A[] {4,1,3,2} is a permutation in the question. If anyone could explain that, I might be able to solve my problem. Now,I did modify it to work now on my eclipse,tested but on codility, I still keep getting error about the line : <code>counter[A[i]] += 1</code>; Any one knows why this is so? Something that the array is out of bound but I didn't get that error on my eclipse IDE.<br>\nThanks</p>\n\n<pre><code>    public class Solution {\n\n    /**\n     * @param args\n     */\n\n    public static int solution(int[] A) {\n        // write your code in Java SE 7\n        int[] counter = new int[(A[0] * A.length)];\n        int max = -1;\n        int OccurBefore = -1; // store some random number for a start\n\n        for (int i = 0; i &lt; A.length; i++) {\n\n            if (A[i] &gt; max) {\n                max = A[i];\n            } \n                if (A[i] == OccurBefore) {\n                    return 0;\n                }\n\n                if(A[i] != OccurBefore) {\n                    OccurBefore = A[i];\n                    counter[A[i]] += 1;\n\n                }\n\n        }\n\n        if(A.length&lt;max){\n            return 0;\n        }\n\n        return 1;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","authentication","shiro"],"comments":[{"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"score":0,"creation_date":1396729938,"post_id":22353445,"comment_id":34923662,"body_markdown":"Can you share your realms doGetAuthenticationInfo implementation and how you call login with us?","body":"Can you share your realms doGetAuthenticationInfo implementation and how you call login with us?"},{"owner":{"account_id":4160801,"reputation":33,"user_id":3410966,"display_name":"user3410966"},"score":0,"creation_date":1396883096,"post_id":22353445,"comment_id":34977016,"body_markdown":"Have updated original post with additional information","body":"Have updated original post with additional information"}],"answers":[{"tags":[],"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397032438,"creation_date":1396892389,"answer_id":22919387,"question_id":22353445,"body_markdown":"Looks like it is expected behavior. \r\n\r\nIf you look at the javadoc for ModularRealmAuthenticator:\r\n\r\n\r\n     * @throws AuthenticationException if the user could not be authenticated or the user is denied authentication\r\n     *                                 for the given principal and credentials.\r\n     */\r\n    protected AuthenticationInfo doAuthenticate(AuthenticationToken authenticationToken) throws AuthenticationException {\r\n\r\nIf you are having problems with the exception, you might need to change the code that calls the authentication to expect this exception.\r\n\r\n-----------\r\nLeft for other searches:\r\n\r\nYou might have a missing supports method in your TokenAuthorizingRealm class.\r\n\r\nSomething like\r\n\r\n    @Override\r\n    public boolean supports(AuthenticationToken token) {\r\n        return token instanceof BearerAuthenticationToken;\r\n    }\r\n\r\nshould be present.\r\n","title":"Please ensure that at least one realm can authenticate these tokens","body":"<p>Looks like it is expected behavior. </p>\n\n<p>If you look at the javadoc for ModularRealmAuthenticator:</p>\n\n<pre><code> * @throws AuthenticationException if the user could not be authenticated or the user is denied authentication\n *                                 for the given principal and credentials.\n */\nprotected AuthenticationInfo doAuthenticate(AuthenticationToken authenticationToken) throws AuthenticationException {\n</code></pre>\n\n<p>If you are having problems with the exception, you might need to change the code that calls the authentication to expect this exception.</p>\n\n<hr>\n\n<p>Left for other searches:</p>\n\n<p>You might have a missing supports method in your TokenAuthorizingRealm class.</p>\n\n<p>Something like</p>\n\n<pre><code>@Override\npublic boolean supports(AuthenticationToken token) {\n    return token instanceof BearerAuthenticationToken;\n}\n</code></pre>\n\n<p>should be present.</p>\n"},{"tags":[],"owner":{"account_id":1126243,"reputation":33,"user_id":1113476,"display_name":"fgsouza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404225076,"creation_date":1404225076,"answer_id":24512854,"question_id":22353445,"body_markdown":"This discussion help me solve a similar problem. I wanted to authenticate a user by the application itself, not using any Shiro default implementation. To do that we must subclass AuthenticatingRealm, override doGetAuthenticationInfo and declare this realm as the validation one.\r\n\r\n    public class PasswordAuthorizingRealm extends AuthenticatingRealm {\r\n\r\n        @Override\r\n        protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\r\n\r\nIn Shiro.ini:\r\n\r\n    passwordValidatorRealm = my.PasswordAuthorizingRealm\r\n","title":"Please ensure that at least one realm can authenticate these tokens","body":"<p>This discussion help me solve a similar problem. I wanted to authenticate a user by the application itself, not using any Shiro default implementation. To do that we must subclass AuthenticatingRealm, override doGetAuthenticationInfo and declare this realm as the validation one.</p>\n\n<pre><code>public class PasswordAuthorizingRealm extends AuthenticatingRealm {\n\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n</code></pre>\n\n<p>In Shiro.ini:</p>\n\n<pre><code>passwordValidatorRealm = my.PasswordAuthorizingRealm\n</code></pre>\n"}],"owner":{"account_id":4160801,"reputation":33,"user_id":3410966,"display_name":"user3410966"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8754,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22919387,"answer_count":2,"score":3,"last_activity_date":1658375274,"creation_date":1394631829,"question_id":22353445,"body_markdown":"So I have set up my shiro to have two Realms.  A Username and Password Realm, using the standard UsernamePasswordToken.  I have also set up a Custom Bearer Authentication Token that works off a token passed in from the user.\r\n\r\nIf i just use my passwordValidatorRealm it works find, if no user is found throws unknown account, if password doesn’t match throws incorrect credentials, perfect.  But as soon as i put in my tokenValidatorRealm it throws a \r\n\r\n    org.apache.shiro.authc.AuthenticationException: Authentication token of type [class org.apache.shiro.authc.UsernamePasswordToken] could not be authenticated by any configured realms.  \r\n\r\nIn this instance my tokenValidatorRealm  returns null as no token was provided, so it moves on to the passwordValidatorRealm and just breaks.\r\n\r\nAny ideas why introducing a second Realm will cause my working passwordValidatorRealm to break?\r\n\r\nHave tried with different authentication strategies, and no luck there.\r\n\r\nUsing shiro 1.2.2\r\n\r\n\r\n\r\nEDIT\r\n\r\n\r\nI have two implementations, one for password and one for token\r\n\r\nPassword:\r\n\r\n\r\n    public class PasswordAuthorizingRealm extends AuthenticatingRealm {\r\n\r\n    @Override\r\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\r\n\r\n        if (authenticationToken instanceof UsernamePasswordToken) {\r\n            UsernamePasswordToken usernamePasswordToken = (UsernamePasswordToken) authenticationToken;\r\n            String username = usernamePasswordToken.getUsername();\r\n            char[] password = usernamePasswordToken.getPassword();\r\n\r\n            if (username == null) {\r\n                throw new AccountException(&quot;Null usernames are not allowed by this realm!&quot;);\r\n            }\r\n            //Null password is invalid\r\n            if (password == null) {\r\n                throw new AccountException(&quot;Null passwords are not allowed by this realm!&quot;);\r\n            }\r\n\r\n            UserService userService = new UserServiceImpl();\r\n            User user = userService.getUserByUsername(username);\r\n\r\n            if (user == null) {\r\n                throw new UnknownAccountException(&quot;Could not authenticate with given credentials&quot;);\r\n            }\r\n\r\n            SimpleAuthenticationInfo simpleAuthenticationInfo = new SimpleAuthenticationInfo(username, user.getPassword(), &quot;passwordValidatorRealm&quot;);\r\n\r\n            return simpleAuthenticationInfo;\r\n\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n\r\n\r\nand Bearer Token\r\n\r\n\r\n    public class TokenAuthorizingRealm extends AuthorizingRealm {\r\n\r\n    @Override\r\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\r\n        if (authenticationToken instanceof BearerAuthenticationToken) {\r\n\r\n            BearerAuthenticationToken bearerAuthenticationToken = (BearerAuthenticationToken) authenticationToken;\r\n\r\n            String username = &quot;&quot; + bearerAuthenticationToken.getPrincipal();\r\n            User user = userService.getUserByUsername(username);\r\n            //User with such username has not found\r\n            if (user == null) {\r\n                throw new UnknownAccountException(&quot;Could not authenticate with given credentials&quot;);\r\n            }\r\n            BearerAuthenticationInfo bearerAuthenticationInfo = new BearerAuthenticationInfo(user);\r\n            return bearerAuthenticationInfo;\r\n\r\n        }\r\n   \r\n     }\r\n\r\n\r\nShiro config\r\n\r\n    [main]\r\n\r\n    hashService = org.apache.shiro.crypto.hash.DefaultHashService\r\n    hashService.hashIterations = 500000\r\n    hashService.hashAlgorithmName = SHA-256\r\n    hashService.generatePublicSalt = true\r\n\r\n    hashService.privateSalt = ****\r\n\r\n    passwordService = org.apache.shiro.authc.credential.DefaultPasswordService\r\n    passwordService.hashService = $hashService\r\n  \r\n    passwordMatcher = org.apache.shiro.authc.credential.PasswordMatcher\r\n    passwordMatcher.passwordService = $passwordService\r\n\r\n    authc = my.BearerTokenAuthenticatingFilter\r\n\r\n    tokenValidatorRealm = my.TokenAuthorizingRealm\r\n    passwordValidatorRealm = my.PasswordAuthorizingRealm\r\n\r\n    passwordValidatorRealm.credentialsMatcher = $passwordMatcher\r\n\r\n    securityManager.realms = $tokenValidatorRealm,$passwordValidatorRealm\r\n\r\n\r\n\r\n\r\nThese have been stripped out a bit, removed logging and other unnecessary code\r\n\r\n\r\n\r\nThe BearerTokenAuthenticatingFilter, just basically checks if a token has been supplied in the header if has\r\n\r\n\r\n    private void loginUser(ServletRequest request, ServletResponse response) throws Exception {\r\n\r\n        BearerAuthenticationToken token = (BearerAuthenticationToken) createToken(request, response);\r\n\r\n        if (token == null) {\r\n            String msg = &quot;createToken method implementation returned null. A valid non-null AuthenticationToken &quot;\r\n                    + &quot;must be created in order to execute a login attempt.&quot;;\r\n            throw new IllegalStateException(msg);\r\n        }\r\n\r\n        try {\r\n            Subject subject = getSubject(request, response);\r\n            subject.login(token);\r\n            onLoginSuccess(token, subject, request, response);\r\n        } catch (AuthenticationException e) {\r\n            HttpServletResponse httpResponse = WebUtils.toHttp(response);\r\n            httpResponse.sendRedirect(&quot;login&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nBearerAuthenticationInfo class\r\n\r\n\r\n    public class BearerAuthenticationInfo implements AuthenticationInfo {\r\n\r\n    private final PrincipalCollection principalCollection;\r\n    private final User user;\r\n\r\n    public BearerAuthenticationInfo(User user) {\r\n        this.user = user;\r\n        this.principalCollection = buildPrincipalCollection(user);\r\n    }\r\n\r\n    public PrincipalCollection getPrincipals() {\r\n        return principalCollection;\r\n\r\n    }\r\n\r\n    public Object getCredentials() {\r\n        return user.getUsername();\r\n    }\r\n\r\n    private PrincipalCollection buildPrincipalCollection(User user) {\r\n        Collection&lt;String&gt; principals = new ArrayList&lt;String&gt;();\r\n        principals.add(user.getUsername());\r\n        return new SimplePrincipalCollection(principals, &quot;tokenValidatorRealm&quot;);\r\n    }\r\n\r\n    }\r\n","title":"Please ensure that at least one realm can authenticate these tokens","body":"<p>So I have set up my shiro to have two Realms.  A Username and Password Realm, using the standard UsernamePasswordToken.  I have also set up a Custom Bearer Authentication Token that works off a token passed in from the user.</p>\n\n<p>If i just use my passwordValidatorRealm it works find, if no user is found throws unknown account, if password doesn’t match throws incorrect credentials, perfect.  But as soon as i put in my tokenValidatorRealm it throws a </p>\n\n<pre><code>org.apache.shiro.authc.AuthenticationException: Authentication token of type [class org.apache.shiro.authc.UsernamePasswordToken] could not be authenticated by any configured realms.  \n</code></pre>\n\n<p>In this instance my tokenValidatorRealm  returns null as no token was provided, so it moves on to the passwordValidatorRealm and just breaks.</p>\n\n<p>Any ideas why introducing a second Realm will cause my working passwordValidatorRealm to break?</p>\n\n<p>Have tried with different authentication strategies, and no luck there.</p>\n\n<p>Using shiro 1.2.2</p>\n\n<p>EDIT</p>\n\n<p>I have two implementations, one for password and one for token</p>\n\n<p>Password:</p>\n\n<pre><code>public class PasswordAuthorizingRealm extends AuthenticatingRealm {\n\n@Override\nprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n\n    if (authenticationToken instanceof UsernamePasswordToken) {\n        UsernamePasswordToken usernamePasswordToken = (UsernamePasswordToken) authenticationToken;\n        String username = usernamePasswordToken.getUsername();\n        char[] password = usernamePasswordToken.getPassword();\n\n        if (username == null) {\n            throw new AccountException(\"Null usernames are not allowed by this realm!\");\n        }\n        //Null password is invalid\n        if (password == null) {\n            throw new AccountException(\"Null passwords are not allowed by this realm!\");\n        }\n\n        UserService userService = new UserServiceImpl();\n        User user = userService.getUserByUsername(username);\n\n        if (user == null) {\n            throw new UnknownAccountException(\"Could not authenticate with given credentials\");\n        }\n\n        SimpleAuthenticationInfo simpleAuthenticationInfo = new SimpleAuthenticationInfo(username, user.getPassword(), \"passwordValidatorRealm\");\n\n        return simpleAuthenticationInfo;\n\n    } else {\n        return null;\n    }\n\n}\n}\n</code></pre>\n\n<p>and Bearer Token</p>\n\n<pre><code>public class TokenAuthorizingRealm extends AuthorizingRealm {\n\n@Override\nprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n    if (authenticationToken instanceof BearerAuthenticationToken) {\n\n        BearerAuthenticationToken bearerAuthenticationToken = (BearerAuthenticationToken) authenticationToken;\n\n        String username = \"\" + bearerAuthenticationToken.getPrincipal();\n        User user = userService.getUserByUsername(username);\n        //User with such username has not found\n        if (user == null) {\n            throw new UnknownAccountException(\"Could not authenticate with given credentials\");\n        }\n        BearerAuthenticationInfo bearerAuthenticationInfo = new BearerAuthenticationInfo(user);\n        return bearerAuthenticationInfo;\n\n    }\n\n }\n</code></pre>\n\n<p>Shiro config</p>\n\n<pre><code>[main]\n\nhashService = org.apache.shiro.crypto.hash.DefaultHashService\nhashService.hashIterations = 500000\nhashService.hashAlgorithmName = SHA-256\nhashService.generatePublicSalt = true\n\nhashService.privateSalt = ****\n\npasswordService = org.apache.shiro.authc.credential.DefaultPasswordService\npasswordService.hashService = $hashService\n\npasswordMatcher = org.apache.shiro.authc.credential.PasswordMatcher\npasswordMatcher.passwordService = $passwordService\n\nauthc = my.BearerTokenAuthenticatingFilter\n\ntokenValidatorRealm = my.TokenAuthorizingRealm\npasswordValidatorRealm = my.PasswordAuthorizingRealm\n\npasswordValidatorRealm.credentialsMatcher = $passwordMatcher\n\nsecurityManager.realms = $tokenValidatorRealm,$passwordValidatorRealm\n</code></pre>\n\n<p>These have been stripped out a bit, removed logging and other unnecessary code</p>\n\n<p>The BearerTokenAuthenticatingFilter, just basically checks if a token has been supplied in the header if has</p>\n\n<pre><code>private void loginUser(ServletRequest request, ServletResponse response) throws Exception {\n\n    BearerAuthenticationToken token = (BearerAuthenticationToken) createToken(request, response);\n\n    if (token == null) {\n        String msg = \"createToken method implementation returned null. A valid non-null AuthenticationToken \"\n                + \"must be created in order to execute a login attempt.\";\n        throw new IllegalStateException(msg);\n    }\n\n    try {\n        Subject subject = getSubject(request, response);\n        subject.login(token);\n        onLoginSuccess(token, subject, request, response);\n    } catch (AuthenticationException e) {\n        HttpServletResponse httpResponse = WebUtils.toHttp(response);\n        httpResponse.sendRedirect(\"login\");\n    }\n}\n</code></pre>\n\n<p>BearerAuthenticationInfo class</p>\n\n<pre><code>public class BearerAuthenticationInfo implements AuthenticationInfo {\n\nprivate final PrincipalCollection principalCollection;\nprivate final User user;\n\npublic BearerAuthenticationInfo(User user) {\n    this.user = user;\n    this.principalCollection = buildPrincipalCollection(user);\n}\n\npublic PrincipalCollection getPrincipals() {\n    return principalCollection;\n\n}\n\npublic Object getCredentials() {\n    return user.getUsername();\n}\n\nprivate PrincipalCollection buildPrincipalCollection(User user) {\n    Collection&lt;String&gt; principals = new ArrayList&lt;String&gt;();\n    principals.add(user.getUsername());\n    return new SimplePrincipalCollection(principals, \"tokenValidatorRealm\");\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","mvvm","android-room","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":17090710,"reputation":106,"user_id":12366934,"display_name":"AngelesVP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645631208,"creation_date":1645631208,"answer_id":71240048,"question_id":70893438,"body_markdown":"This is the UseCase interface that I use for asynchronous one-shot queries with Room:\r\n\r\n\r\n    interface SimpleOneShotUseCase&lt;out Response, out Error, in UseCaseParams&gt; : UseCase&lt;Response, Error, UseCaseParams&gt; {\r\n\r\n        override suspend operator fun invoke(params: UseCaseParams): Either&lt;Error, Response&gt; =\r\n        withContext(Dispatchers.IO) {\r\n            run(params = params)\r\n        }\r\n\r\n        suspend fun run(params: UseCaseParams): Either&lt;Error, Response&gt;\r\n    }\r\n\r\n    interface UseCase&lt;out Response, out Error, in UseCaseParams&gt; {\r\n\r\n        suspend fun observe(params: UseCaseParams): Flow&lt;Either&lt;Error, Response&gt;&gt; = flow { emit(invoke(params)) }\r\n\r\n        suspend operator fun invoke(params: UseCaseParams): Either&lt;Error, Response&gt;\r\n    }\r\n\r\n\r\n\r\n","title":"Does anybody knows when to use asynchronous one-shot queries with Room Android?","body":"<p>This is the UseCase interface that I use for asynchronous one-shot queries with Room:</p>\n<pre><code>interface SimpleOneShotUseCase&lt;out Response, out Error, in UseCaseParams&gt; : UseCase&lt;Response, Error, UseCaseParams&gt; {\n\n    override suspend operator fun invoke(params: UseCaseParams): Either&lt;Error, Response&gt; =\n    withContext(Dispatchers.IO) {\n        run(params = params)\n    }\n\n    suspend fun run(params: UseCaseParams): Either&lt;Error, Response&gt;\n}\n\ninterface UseCase&lt;out Response, out Error, in UseCaseParams&gt; {\n\n    suspend fun observe(params: UseCaseParams): Flow&lt;Either&lt;Error, Response&gt;&gt; = flow { emit(invoke(params)) }\n\n    suspend operator fun invoke(params: UseCaseParams): Either&lt;Error, Response&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15246896,"reputation":11,"user_id":11001523,"display_name":"Jhon Quintero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658373549,"creation_date":1658373549,"answer_id":73060306,"question_id":70893438,"body_markdown":"Generally we need to use asynchronous requests on all requests to database (ROOM). So we avoid blocking the UI.\r\n\r\nFor more **info**.\r\nhttps://developer.android.com/training/data-storage/room/async-queries","title":"Does anybody knows when to use asynchronous one-shot queries with Room Android?","body":"<p>Generally we need to use asynchronous requests on all requests to database (ROOM). So we avoid blocking the UI.</p>\n<p>For more <strong>info</strong>.\n<a href=\"https://developer.android.com/training/data-storage/room/async-queries\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/room/async-queries</a></p>\n"}],"owner":{"account_id":21487041,"reputation":13,"user_id":15833481,"display_name":"Alpha Diallo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71240048,"answer_count":2,"score":1,"last_activity_date":1658373549,"creation_date":1643371243,"question_id":70893438,"body_markdown":"*Does anybody knows when to use asynchronous one-shot queries with Room  Android?*\r\n\r\n    @Delete\r\n    public ListenableFuture&lt;Integer&gt; deleteUsers(List&lt;User&gt; users);\r\n\r\nI am a beginner in the field, I do not know where to find this information. If anybody knows a use case, please share it with us. \r\n\r\nThanks.","title":"Does anybody knows when to use asynchronous one-shot queries with Room Android?","body":"<p><em>Does anybody knows when to use asynchronous one-shot queries with Room  Android?</em></p>\n<pre><code>@Delete\npublic ListenableFuture&lt;Integer&gt; deleteUsers(List&lt;User&gt; users);\n</code></pre>\n<p>I am a beginner in the field, I do not know where to find this information. If anybody knows a use case, please share it with us.</p>\n<p>Thanks.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658369974,"post_id":73059924,"comment_id":129036557,"body_markdown":"Hint: Add a counter outside your `for` loop, and just increase it by one for every correct question.","body":"Hint: Add a counter outside your <code>for</code> loop, and just increase it by one for every correct question."},{"owner":{"account_id":25857396,"reputation":13,"user_id":19590420,"display_name":"TeeJ10"},"score":0,"creation_date":1658370472,"post_id":73059924,"comment_id":129036635,"body_markdown":"Thank you for your response.  I have just learned about an accumulator.  Are you referring to this? If not this is where I am lost as this is the only way so far that I have learned to calculate the total (int) . This is my first attempting string value as well working with arrays","body":"Thank you for your response.  I have just learned about an accumulator.  Are you referring to this? If not this is where I am lost as this is the only way so far that I have learned to calculate the total (int) . This is my first attempting string value as well working with arrays"},{"owner":{"account_id":25857396,"reputation":13,"user_id":19590420,"display_name":"TeeJ10"},"score":0,"creation_date":1658377851,"post_id":73059924,"comment_id":129037577,"body_markdown":"Thank you again for your response it was Helpful and I was able to make my corrections","body":"Thank you again for your response it was Helpful and I was able to make my corrections"}],"answers":[{"tags":[],"owner":{"account_id":25846019,"reputation":56,"user_id":19580863,"display_name":"Filotimo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658372727,"creation_date":1658372727,"answer_id":73060232,"question_id":73059924,"body_markdown":"you can make a counter variable **inside** the for loop, which would make it a **local** variable, and it would be voided after it goes outside the for loop. Below is an example\r\n\r\n    for(int i = 0; i &lt; arraySize; i++){\r\n    int correctCounter = 0;\r\n    int incorrectCounter = 0;\r\n    if(PretendThisIsAConditional){\r\n    counter++;\r\n    }\r\n    else{\r\n    incorrectCounter++;\r\n    System.out.println(&quot;Number of correct answers: &quot; + correctCounter + &quot;Number of incorrect answers: &quot; + incorrectCounter);\r\n    }\r\n\r\nIf you have the number correct inside a string for whatever reason you can do \r\n\r\n    int numCorrect = Integer.parseInt(String);\r\n\r\n","title":"How do I sum string arrays in java","body":"<p>you can make a counter variable <strong>inside</strong> the for loop, which would make it a <strong>local</strong> variable, and it would be voided after it goes outside the for loop. Below is an example</p>\n<pre><code>for(int i = 0; i &lt; arraySize; i++){\nint correctCounter = 0;\nint incorrectCounter = 0;\nif(PretendThisIsAConditional){\ncounter++;\n}\nelse{\nincorrectCounter++;\nSystem.out.println(&quot;Number of correct answers: &quot; + correctCounter + &quot;Number of incorrect answers: &quot; + incorrectCounter);\n}\n</code></pre>\n<p>If you have the number correct inside a string for whatever reason you can do</p>\n<pre><code>int numCorrect = Integer.parseInt(String);\n</code></pre>\n"}],"owner":{"account_id":25857396,"reputation":13,"user_id":19590420,"display_name":"TeeJ10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73060232,"answer_count":1,"score":-1,"last_activity_date":1658372727,"creation_date":1658369329,"question_id":73059924,"body_markdown":"I am creating a simulated test that is ready to be graded.  My main module request user input  of 20 multiple choice answers (A,B,C,D).  I am using  a for loop to populate both arrays.  I next have an If .equals statements that compares the two arrays for correct answer and in correct answer. `\r\n \r\nMy current out put is:\r\n\r\nThe correct answer to question 16 is: C\r\nYour answer to question 16 is: C\r\nQuestion 16 is correct \r\n\r\nThe correct answer to question 17 is: C\r\nYour answer to question 17 is: A\r\nQuestion 17 is incorrect \r\n\r\n\r\nNext \r\n\r\nI am attempting to simulate an out put of: \r\n\r\n You passed the exam with a grade of 90%.  Congratulations!\r\n\r\n Number of correct answers: 18\r\n Number of incorrect answers: 2\r\n\r\nHere is the portion of code I am working on\r\n\r\nint arraySize;\r\n        \r\n        arraySize = 20;\r\n        \r\n        // Declare and assign the variables to create the parallel array\r\n        int count;\r\n        \r\n      \r\n        // Access the contents of both arrays\r\n        for (count = 0; count &lt;= arraySize - 1; count++) {\r\n            System.out.println();\r\n            // Message to diplay the Answerkey and testAnswer\r\n            System.out.println(&quot;The correct answer to question &quot; + (count + 1) + &quot; is: &quot; + answerKeyArray[count]);\r\n            System.out.println(&quot;Your answer to question &quot; + (count + 1) + &quot; is: &quot; + testAnswers[count]);\r\n            \r\n            // Find the correct and incorrect answers\r\n            if (answerKeyArray[count].equals(testAnswers[count])) {\r\n                \r\n                // Message to display the answer is correct\r\n                \r\n                System.out.println(&quot;Question &quot; + (count + 1) + &quot; is correct &quot;);\r\n                \r\n            } else {\r\n                \r\n                // Message to display the answer is incorrect\r\n                System.out.println(&quot;Question &quot; + (count + 1) + &quot; is incorrect &quot;);","title":"How do I sum string arrays in java","body":"<p>I am creating a simulated test that is ready to be graded.  My main module request user input  of 20 multiple choice answers (A,B,C,D).  I am using  a for loop to populate both arrays.  I next have an If .equals statements that compares the two arrays for correct answer and in correct answer. `</p>\n<p>My current out put is:</p>\n<p>The correct answer to question 16 is: C\nYour answer to question 16 is: C\nQuestion 16 is correct</p>\n<p>The correct answer to question 17 is: C\nYour answer to question 17 is: A\nQuestion 17 is incorrect</p>\n<p>Next</p>\n<p>I am attempting to simulate an out put of:</p>\n<p>You passed the exam with a grade of 90%.  Congratulations!</p>\n<p>Number of correct answers: 18\nNumber of incorrect answers: 2</p>\n<p>Here is the portion of code I am working on</p>\n<p>int arraySize;</p>\n<pre><code>    arraySize = 20;\n    \n    // Declare and assign the variables to create the parallel array\n    int count;\n    \n  \n    // Access the contents of both arrays\n    for (count = 0; count &lt;= arraySize - 1; count++) {\n        System.out.println();\n        // Message to diplay the Answerkey and testAnswer\n        System.out.println(&quot;The correct answer to question &quot; + (count + 1) + &quot; is: &quot; + answerKeyArray[count]);\n        System.out.println(&quot;Your answer to question &quot; + (count + 1) + &quot; is: &quot; + testAnswers[count]);\n        \n        // Find the correct and incorrect answers\n        if (answerKeyArray[count].equals(testAnswers[count])) {\n            \n            // Message to display the answer is correct\n            \n            System.out.println(&quot;Question &quot; + (count + 1) + &quot; is correct &quot;);\n            \n        } else {\n            \n            // Message to display the answer is incorrect\n            System.out.println(&quot;Question &quot; + (count + 1) + &quot; is incorrect &quot;);\n</code></pre>\n"},{"tags":["java","rabbitmq","microservices"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1581519301,"post_id":60191067,"comment_id":106462482,"body_markdown":"Why don&#39;t calls between services go though rabbit?","body":"Why don&#39;t calls between services go though rabbit?"},{"owner":{"account_id":1919248,"reputation":63,"user_id":1731143,"accept_rate":25,"display_name":"KimB"},"score":0,"creation_date":1581585419,"post_id":60191067,"comment_id":106487081,"body_markdown":"This is the case, the data is transferred through RabbitMQ, I want to be sure that for any http request (which differs for example by the parameters), Rabbit lsitener must read only the associated message","body":"This is the case, the data is transferred through RabbitMQ, I want to be sure that for any http request (which differs for example by the parameters), Rabbit lsitener must read only the associated message"},{"owner":{"account_id":7281639,"reputation":1419,"user_id":5551200,"display_name":"Vanlightly"},"score":1,"creation_date":1581587153,"post_id":60191067,"comment_id":106488103,"body_markdown":"To be honest I don&#39;t understand the question. You are using the REST API? I recommend using the client libraries, you&#39;ll get better performance and reliability.","body":"To be honest I don&#39;t understand the question. You are using the REST API? I recommend using the client libraries, you&#39;ll get better performance and reliability."},{"owner":{"account_id":7281639,"reputation":1419,"user_id":5551200,"display_name":"Vanlightly"},"score":1,"creation_date":1581587208,"post_id":60191067,"comment_id":106488136,"body_markdown":"If you need RPC then RabbitMQ has Direct Reply-To which avoids much of the complexity of using reply queues: https://www.rabbitmq.com/direct-reply-to.html","body":"If you need RPC then RabbitMQ has Direct Reply-To which avoids much of the complexity of using reply queues: <a href=\"https://www.rabbitmq.com/direct-reply-to.html\" rel=\"nofollow noreferrer\">rabbitmq.com/direct-reply-to.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":10083376,"reputation":21,"user_id":7452862,"display_name":"Rahul A R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581773547,"creation_date":1581773547,"answer_id":60239213,"question_id":60191067,"body_markdown":"Not sure I understood the question completely, but here is what I can suggest based on the description:\r\n\r\nIf each service is hooked to a particular listener and you don&#39;t want to associate a Routing-Key for the Queue+Listener integration, then can you try having header arguments. [You can use a QueueBuilder.withArguments API to set specific Header values that the Queue is supposed to listen to]\r\nThere needs to be a mechanism through which an exchange will bind to a particular queue and consequently to a Listener service.\r\n\r\nPublisher -&gt; Exchange ---&gt; (with headers) binds to Queue -&gt; Listener","title":"RabbitMQ Microservices - Parallel processing","body":"<p>Not sure I understood the question completely, but here is what I can suggest based on the description:</p>\n\n<p>If each service is hooked to a particular listener and you don't want to associate a Routing-Key for the Queue+Listener integration, then can you try having header arguments. [You can use a QueueBuilder.withArguments API to set specific Header values that the Queue is supposed to listen to]\nThere needs to be a mechanism through which an exchange will bind to a particular queue and consequently to a Listener service.</p>\n\n<p>Publisher -> Exchange ---> (with headers) binds to Queue -> Listener</p>\n"}],"owner":{"account_id":1919248,"reputation":63,"user_id":1731143,"accept_rate":25,"display_name":"KimB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658372153,"creation_date":1581519181,"question_id":60191067,"body_markdown":"I&#39;m working on an application in microservices architecture usingrabbitmq as messaging system. \r\n\r\ncalls between microservices are asynchronous http requests and each service is subscribed on specific queues\r\n\r\nmy question is seen that the calls are stateless, how to guarantee the parallelisation of the message commation not by routing-key in rabbitmq queue but by http call itself, that is to say for  n call every service must be able to listen to only needed messages .\r\n\r\n---\r\n\r\nSorry for the ambiguity, I&#39;m trying to explain further:\r\n\r\nThe scenario is that we are in a micro service architecture, due to huge data response the call service will receive the answer in the listener rabbitmq queue.\r\n\r\nSo let&#39;s imagine that two calls are made simultaneously and both queries start loading data into the same queue, the calling service is waiting for messages and adds the received messages but cannot differentiate between the data of caller 1 and caller 2.\r\n\r\nIs there a better implementation for the listener \r\n","title":"RabbitMQ Microservices - Parallel processing","body":"<p>I'm working on an application in microservices architecture usingrabbitmq as messaging system.</p>\n<p>calls between microservices are asynchronous http requests and each service is subscribed on specific queues</p>\n<p>my question is seen that the calls are stateless, how to guarantee the parallelisation of the message commation not by routing-key in rabbitmq queue but by http call itself, that is to say for  n call every service must be able to listen to only needed messages .</p>\n<hr />\n<p>Sorry for the ambiguity, I'm trying to explain further:</p>\n<p>The scenario is that we are in a micro service architecture, due to huge data response the call service will receive the answer in the listener rabbitmq queue.</p>\n<p>So let's imagine that two calls are made simultaneously and both queries start loading data into the same queue, the calling service is waiting for messages and adds the received messages but cannot differentiate between the data of caller 1 and caller 2.</p>\n<p>Is there a better implementation for the listener</p>\n"},{"tags":["java","eclipse","tomcat","classpath","war"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1658368686,"post_id":73059786,"comment_id":129036385,"body_markdown":"This needs more details, like version numbers and fully qualified type names to start.","body":"This needs more details, like version numbers and fully qualified type names to start."},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1658369417,"post_id":73059786,"comment_id":129036495,"body_markdown":"Oh wow, look at that. Eclipse seemed to find a `servlet-api.jar` that has a `jakarta.servlet.http.HttpServlet` while trying to find what I was looking for which is `javax.servlet.HttpServlet`. I guess I need to just dive into which libraries were included in the two different Tomcat libs!","body":"Oh wow, look at that. Eclipse seemed to find a <code>servlet-api.jar</code> that has a <code>jakarta.servlet.http.HttpServlet</code> while trying to find what I was looking for which is <code>javax.servlet.HttpServlet</code>. I guess I need to just dive into which libraries were included in the two different Tomcat libs!"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658371891,"creation_date":1658371062,"answer_id":73060078,"question_id":73059786,"body_markdown":"Ctrl+Click works by different rules. Because of the way the type indexing works, it doesn&#39;t attempt to fully qualify the type you&#39;re hovering over if the reference is not already fully qualified, so it will still match types of the same name in different packages. It&#39;s faster, and *usually* doesn&#39;t cause confusion.","title":"How can Eclipse find the jar in the editor but not when it&#39;s time to compile?","body":"<p>Ctrl+Click works by different rules. Because of the way the type indexing works, it doesn't attempt to fully qualify the type you're hovering over if the reference is not already fully qualified, so it will still match types of the same name in different packages. It's faster, and <em>usually</em> doesn't cause confusion.</p>\n"}],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73060078,"answer_count":1,"score":0,"last_activity_date":1658371891,"creation_date":1658367844,"question_id":73059786,"body_markdown":"I am trying to build a dynamic web project - if I add the Tomcat as a dependency, it does compile just fine. However, I have run into a peculiar situation that doesn&#39;t resolve properly.\r\n\r\nObviously I have many references to `servlet-api.jar` in my code for things like `HttpServlet`. Eclipse complains that it can&#39;t find `HttpServlet` and yet when I ctrl+click `HttpServlet` it recognizes that it lives in `c:\\programs\\tomcat\\lib\\servlet-api.jar` - how can it know that it&#39;s there during editing and yet not during build/compile/export?","title":"How can Eclipse find the jar in the editor but not when it&#39;s time to compile?","body":"<p>I am trying to build a dynamic web project - if I add the Tomcat as a dependency, it does compile just fine. However, I have run into a peculiar situation that doesn't resolve properly.</p>\n<p>Obviously I have many references to <code>servlet-api.jar</code> in my code for things like <code>HttpServlet</code>. Eclipse complains that it can't find <code>HttpServlet</code> and yet when I ctrl+click <code>HttpServlet</code> it recognizes that it lives in <code>c:\\programs\\tomcat\\lib\\servlet-api.jar</code> - how can it know that it's there during editing and yet not during build/compile/export?</p>\n"},{"tags":["java","jvm-hotspot"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1328911392,"post_id":9235272,"comment_id":11632343,"body_markdown":"Can you explain more about the context?","body":"Can you explain more about the context?"},{"owner":{"account_id":1240230,"reputation":65,"user_id":1203021,"display_name":"user1203021"},"score":0,"creation_date":1328911797,"post_id":9235272,"comment_id":11632442,"body_markdown":"Basically I am writing a cross compiler from other languages and currently the resulting methods are still very bloated (sometimes over 50,000 bytecodes), but I want to get a measure of the speed when hotspot is compiling them, and see what kind of code hotspot outputs for the structures I&#39;m using.","body":"Basically I am writing a cross compiler from other languages and currently the resulting methods are still very bloated (sometimes over 50,000 bytecodes), but I want to get a measure of the speed when hotspot is compiling them, and see what kind of code hotspot outputs for the structures I&#39;m using."},{"owner":{"account_id":327698,"reputation":5680,"user_id":650228,"accept_rate":78,"display_name":"kittylyst"},"score":0,"creation_date":1331649595,"post_id":9235272,"comment_id":12306984,"body_markdown":"There&#39;s probably not too much useful information that you&#39;ll get from the results here. HotSpot likes working with small methods - so trying to do this with large methods may not tell you much.","body":"There&#39;s probably not too much useful information that you&#39;ll get from the results here. HotSpot likes working with small methods - so trying to do this with large methods may not tell you much."}],"answers":[{"tags":[],"owner":{"account_id":252590,"reputation":6115,"user_id":530734,"display_name":"Peter Svensson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1328914756,"creation_date":1328911781,"answer_id":9235508,"question_id":9235272,"body_markdown":"You might have to download the [sources][1] and build with debug flags for this (I&#39;m not sure).\r\n\r\n`java -XX:+UnlockDiagnosticVMOptions  -XX:-DontCompileHugeMethods`\r\n\r\nMore information can be found [here][2].\r\n\r\nIf you download the sources I think most of the (hundreds) flags can be found..\r\n`hotspot/src/share/vm/runtime/arguments.cpp`\r\n\r\n`hotspot/src/share/vm/runtime/globals.cpp`\r\n\r\n  [1]: http://download.java.net/jdk6/\r\n  [2]: http://blog.headius.com/2009/01/my-favorite-hotspot-jvm-flags.html","title":"Java Hotspot command line parameter to increase the maximum size of Java method","body":"<p>You might have to download the <a href=\"http://download.java.net/jdk6/\" rel=\"nofollow\">sources</a> and build with debug flags for this (I'm not sure).</p>\n\n<p><code>java -XX:+UnlockDiagnosticVMOptions  -XX:-DontCompileHugeMethods</code></p>\n\n<p>More information can be found <a href=\"http://blog.headius.com/2009/01/my-favorite-hotspot-jvm-flags.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>If you download the sources I think most of the (hundreds) flags can be found..\n<code>hotspot/src/share/vm/runtime/arguments.cpp</code></p>\n\n<p><code>hotspot/src/share/vm/runtime/globals.cpp</code></p>\n"}],"owner":{"account_id":1240230,"reputation":65,"user_id":1203021,"display_name":"user1203021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9235508,"answer_count":1,"score":2,"last_activity_date":1658369787,"creation_date":1328910414,"question_id":9235272,"body_markdown":"Is there a command line parameter to increase the maximum size of Java method (from 8000 bytecodes) that Hotspot will compile?","title":"Java Hotspot command line parameter to increase the maximum size of Java method","body":"<p>Is there a command line parameter to increase the maximum size of Java method (from 8000 bytecodes) that Hotspot will compile?</p>\n"},{"tags":["java","json","cucumber","spring-test"],"answers":[{"tags":[],"owner":{"account_id":9180769,"reputation":91,"user_id":6824739,"display_name":"Carlos Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535477363,"creation_date":1535477363,"answer_id":52063445,"question_id":52061607,"body_markdown":"The cucumber&#39;s stepdefs is all about regex. The arguments are captured using capture groups, you only need to use a regex that match the json.\r\n\r\nI think it would work to you:\r\n\r\n    @Then(&quot;^binlookup returns \\&quot;(.*)\\&quot; and status code \\\\d$&quot;)\r\n\r\nThe \\&quot;(.*)\\&quot; regex will capture everything inside double quotes.\r\n\r\nThe entire regex is: *&quot;binlookup returns &quot;*, followed by everything inside double quotes (the \\&quot;(.*)\\&quot; regex), followed by *&quot; and status code &quot;*, followed by a number (the \\\\d regex).\r\n\r\nAnd in the stepDef file:\r\n\r\n    Examples: \r\n    | bin      | result code |\r\n    | &quot;222222&quot; | &quot;{&quot;fields&quot;:[&quot;bin&quot;],&quot;errorMsg&quot;:&quot;Invalid Argument&quot;}&quot;   | 404  |\r\n\r\nNote that you don&#39;t need to escape the double quotes inside json using this approach.","title":"Spring Boot + Cucumber test: cucumber cannot detect my step definition method due to double quotation escaping in JSON","body":"<p>The cucumber's stepdefs is all about regex. The arguments are captured using capture groups, you only need to use a regex that match the json.</p>\n\n<p>I think it would work to you:</p>\n\n<pre><code>@Then(\"^binlookup returns \\\"(.*)\\\" and status code \\\\d$\")\n</code></pre>\n\n<p>The \\\"(.*)\\\" regex will capture everything inside double quotes.</p>\n\n<p>The entire regex is: <em>\"binlookup returns \"</em>, followed by everything inside double quotes (the \\\"(.*)\\\" regex), followed by <em>\" and status code \"</em>, followed by a number (the \\d regex).</p>\n\n<p>And in the stepDef file:</p>\n\n<pre><code>Examples: \n| bin      | result code |\n| \"222222\" | \"{\"fields\":[\"bin\"],\"errorMsg\":\"Invalid Argument\"}\"   | 404  |\n</code></pre>\n\n<p>Note that you don't need to escape the double quotes inside json using this approach.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535487256,"creation_date":1535484981,"answer_id":52065100,"question_id":52061607,"body_markdown":"I read today somewhere that from now on, regex will be deprecated(reason unknown), and they are moving to Cucumber expression. I am with Cucumber 3.0.2, where Cucumber expression is available. So I tried that and suddenly, all is fine now.\r\n\r\nI also noted that I have some error in the OP, and I corrected them too.\r\n\r\nI also find that you can use single quotation mark around the whole string, so if you have many double quotations to escape, you should surround the whole string with single quotation and you can avoid escaping the double quotation then.\r\n\r\n\r\nNow I have:\r\n\r\n    Examples: \r\n      | bin      | result                                                       | code |\r\n      | &quot;222222&quot; | &#39;{&quot;fields&quot;:[],&quot;errorMsg&quot;:&quot;BIN not found&quot;}&#39;                   | 404  |\r\n\r\nAnd method annotated like:\r\n\r\n    @Then(&quot;binlookup returns {string} and status code {int}&quot;)\r\n    public void binlookup_returns_and_status_code(String result, Integer code) throws Exception {\r\n        ...\r\n    \r\n\r\n(Note that regex *cannot* coexist with cucumber expression; `^` and `$` and other things will cause parsing error in cucumber expression)\r\n\r\nAnd I can pass all the tests. At least in Eclipse. In IntelliJ I don&#39;t know.\r\n\r\n    ...\r\n    Then binlookup returns &#39;{&quot;fields&quot;:[],&quot;errorMsg&quot;:&quot;BIN not found&quot;}&#39; and status code 404 # BinInfoControllerCucumberTests.binlookup_returns_and_status_code(String,Integer)\r\n\r\nYou can see that the method is found. Before was `null`(cannot be found).\r\n\r\nSingle quotation + regex expression does not work.\r\n\r\n**Remember**: in the string, just escape the symbol which you use to surround the whole string, which can be single or double quotation.\r\n\r\n","title":"Spring Boot + Cucumber test: cucumber cannot detect my step definition method due to double quotation escaping in JSON","body":"<p>I read today somewhere that from now on, regex will be deprecated(reason unknown), and they are moving to Cucumber expression. I am with Cucumber 3.0.2, where Cucumber expression is available. So I tried that and suddenly, all is fine now.</p>\n\n<p>I also noted that I have some error in the OP, and I corrected them too.</p>\n\n<p>I also find that you can use single quotation mark around the whole string, so if you have many double quotations to escape, you should surround the whole string with single quotation and you can avoid escaping the double quotation then.</p>\n\n<p>Now I have:</p>\n\n<pre><code>Examples: \n  | bin      | result                                                       | code |\n  | \"222222\" | '{\"fields\":[],\"errorMsg\":\"BIN not found\"}'                   | 404  |\n</code></pre>\n\n<p>And method annotated like:</p>\n\n<pre><code>@Then(\"binlookup returns {string} and status code {int}\")\npublic void binlookup_returns_and_status_code(String result, Integer code) throws Exception {\n    ...\n</code></pre>\n\n<p>(Note that regex <em>cannot</em> coexist with cucumber expression; <code>^</code> and <code>$</code> and other things will cause parsing error in cucumber expression)</p>\n\n<p>And I can pass all the tests. At least in Eclipse. In IntelliJ I don't know.</p>\n\n<pre><code>...\nThen binlookup returns '{\"fields\":[],\"errorMsg\":\"BIN not found\"}' and status code 404 # BinInfoControllerCucumberTests.binlookup_returns_and_status_code(String,Integer)\n</code></pre>\n\n<p>You can see that the method is found. Before was <code>null</code>(cannot be found).</p>\n\n<p>Single quotation + regex expression does not work.</p>\n\n<p><strong>Remember</strong>: in the string, just escape the symbol which you use to surround the whole string, which can be single or double quotation.</p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626180902,"creation_date":1626180902,"answer_id":68362837,"question_id":52061607,"body_markdown":"use the `@DocStringType` cucumber expression introduced in Cucumber-JVM 5 (https://github.com/cucumber/cucumber-jvm/blob/main/release-notes/v5.0.0.md) instead of using regular expressions\r\n\r\nYou can find an example here https://blog.executeautomation.com/all-new-cucumber-jvm-5-with-its-cucumber-expression\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4ksA.png","title":"Spring Boot + Cucumber test: cucumber cannot detect my step definition method due to double quotation escaping in JSON","body":"<p>use the <code>@DocStringType</code> cucumber expression introduced in Cucumber-JVM 5 (<a href=\"https://github.com/cucumber/cucumber-jvm/blob/main/release-notes/v5.0.0.md\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/blob/main/release-notes/v5.0.0.md</a>) instead of using regular expressions</p>\n<p>You can find an example here <a href=\"https://blog.executeautomation.com/all-new-cucumber-jvm-5-with-its-cucumber-expression\" rel=\"nofollow noreferrer\">https://blog.executeautomation.com/all-new-cucumber-jvm-5-with-its-cucumber-expression</a></p>\n<p><a href=\"https://i.stack.imgur.com/Z4ksA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4ksA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":978493,"reputation":549,"user_id":998832,"display_name":"jacobcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658369427,"creation_date":1658369427,"answer_id":73059932,"question_id":52061607,"body_markdown":"If a single quote `(&#39;)` is used at the step level and if the step is defined with `{string}` place holder this can be achieved. I was on cucumber version `6.10.3`. Pretty sure this will work on some previous versions(maybe version 4.0.0+) too.\r\n\r\nCreate a stepdefintion like:\r\n\r\n    @Then(&quot;binlookup returns {string} and status code {int}&quot;)\r\n    public void binlookupReturnsAndStatusCode(String result, Integer code) throws Exception {\r\n        System.out.println(result);\r\n        System.out.println(code);\r\n    }\r\n\r\n\r\nAnd scenario like below where the json string doesn&#39;t have to be escaped:\r\n\r\n    Given bin number is &lt;bin&gt;\r\n    When binlookup searches with this bin number\r\n    Then binlookup returns &#39;&lt;result&gt;&#39; and status code &lt;code&gt;\r\n    \r\n    Examples: \r\n      | bin      | result                                            | code |\r\n      | &quot;222222&quot; | {&quot;fields&quot;:[&quot;bin&quot;],&quot;errorMsg&quot;:&quot;Invalid Argument&quot;}  | 404  |\r\n\r\n","title":"Spring Boot + Cucumber test: cucumber cannot detect my step definition method due to double quotation escaping in JSON","body":"<p>If a single quote <code>(')</code> is used at the step level and if the step is defined with <code>{string}</code> place holder this can be achieved. I was on cucumber version <code>6.10.3</code>. Pretty sure this will work on some previous versions(maybe version 4.0.0+) too.</p>\n<p>Create a stepdefintion like:</p>\n<pre><code>@Then(&quot;binlookup returns {string} and status code {int}&quot;)\npublic void binlookupReturnsAndStatusCode(String result, Integer code) throws Exception {\n    System.out.println(result);\n    System.out.println(code);\n}\n</code></pre>\n<p>And scenario like below where the json string doesn't have to be escaped:</p>\n<pre><code>Given bin number is &lt;bin&gt;\nWhen binlookup searches with this bin number\nThen binlookup returns '&lt;result&gt;' and status code &lt;code&gt;\n\nExamples: \n  | bin      | result                                            | code |\n  | &quot;222222&quot; | {&quot;fields&quot;:[&quot;bin&quot;],&quot;errorMsg&quot;:&quot;Invalid Argument&quot;}  | 404  |\n</code></pre>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52065100,"answer_count":4,"score":1,"last_activity_date":1658369427,"creation_date":1535470428,"question_id":52061607,"body_markdown":"In a Spring Boot REST application, I want to check with Cucumber-jvm that the returned JSON is exactly what I expect. However, because I have to use double quotation around JSON key names, Cucumber cannot detect the correct step definition method and thus the test cannot pass.\r\n\r\nHere is the expected JSON result:\r\n\r\n    {&quot;fields&quot;:[],&quot;errorMsg&quot;:&quot;BIN not found&quot;}\r\n\r\nCucumber step definition:\r\n\r\n    Given bin number is &lt;bin&gt;\r\n    When binlookup searches with this bin number\r\n    Then binlookup returns &lt;result&gt; and status code &lt;code&gt;\r\n\r\n    Examples: \r\n      | bin      | result                                                       | code |\r\n      | &quot;222222&quot; | &quot;{\\&quot;fields\\&quot;:[\\&quot;bin\\&quot;]\\,\\&quot;errorMsg\\&quot;:\\&quot;Invalid Argument\\&quot;}&quot;   | 404  |\r\n\r\nThe corresponding method:\r\n\r\n    @Then(&quot;^binlookup returns \\&quot;([^\\&quot;]*)\\&quot; and status code \\\\d$&quot;)\r\n    public void binlookup_returns_and_status_code(String result, Integer code) throws Exception {\r\n        assertThat(this.results.getResponse().getContentType()).isEqualTo(MediaType.APPLICATION_JSON_UTF8_VALUE);\r\n        assertThat(this.results.getResponse().getStatus()).isEqualTo(code);\r\n        assertThat(this.results.getResponse().getContentAsString().length()).isNotEqualTo(0);\r\n        assertThat(this.results.getResponse().getContentAsString()).isEqualTo(result);\r\n    }\r\n\r\n\r\nWhen running the test, I do have correct returned JSON:\r\n\r\n    {&quot;fields&quot;:[&quot;bin&quot;],&quot;errorMsg&quot;:&quot;Invalid Argument&quot;}\r\n\r\nBut I see test errors and Cucumber cannot detect my method, and gives me tips like:\r\n\r\n    You can implement missing steps with the snippets below:\r\n\r\n    @Then(&quot;binlookup returns {string}\\\\:[],\\\\{string}\\\\:\\\\{string} and status code {int}&quot;)\r\n    public void binlookup_returns_and_status_code(String string, String string2, String string3, Integer int1) {\r\n        // Write code here that turns the phrase above into concrete actions\r\n        throw new PendingException();\r\n    }\r\n\r\n\r\nObviously, it pairs the first `&quot;` with the first escaped `&quot;` and sees `{\\&quot;fields` as the first parameter, but it is wrong.\r\n\r\nBut, I cannot quote the JSON string with `&#39; &#39;` because it will not be the case.\r\n\r\nWhat can I do?\r\n\r\n&lt;hr/&gt;\r\n\r\nIf it is impossible, how can I verify the JSON has the data I expect?\r\n\r\n","title":"Spring Boot + Cucumber test: cucumber cannot detect my step definition method due to double quotation escaping in JSON","body":"<p>In a Spring Boot REST application, I want to check with Cucumber-jvm that the returned JSON is exactly what I expect. However, because I have to use double quotation around JSON key names, Cucumber cannot detect the correct step definition method and thus the test cannot pass.</p>\n\n<p>Here is the expected JSON result:</p>\n\n<pre><code>{\"fields\":[],\"errorMsg\":\"BIN not found\"}\n</code></pre>\n\n<p>Cucumber step definition:</p>\n\n<pre><code>Given bin number is &lt;bin&gt;\nWhen binlookup searches with this bin number\nThen binlookup returns &lt;result&gt; and status code &lt;code&gt;\n\nExamples: \n  | bin      | result                                                       | code |\n  | \"222222\" | \"{\\\"fields\\\":[\\\"bin\\\"]\\,\\\"errorMsg\\\":\\\"Invalid Argument\\\"}\"   | 404  |\n</code></pre>\n\n<p>The corresponding method:</p>\n\n<pre><code>@Then(\"^binlookup returns \\\"([^\\\"]*)\\\" and status code \\\\d$\")\npublic void binlookup_returns_and_status_code(String result, Integer code) throws Exception {\n    assertThat(this.results.getResponse().getContentType()).isEqualTo(MediaType.APPLICATION_JSON_UTF8_VALUE);\n    assertThat(this.results.getResponse().getStatus()).isEqualTo(code);\n    assertThat(this.results.getResponse().getContentAsString().length()).isNotEqualTo(0);\n    assertThat(this.results.getResponse().getContentAsString()).isEqualTo(result);\n}\n</code></pre>\n\n<p>When running the test, I do have correct returned JSON:</p>\n\n<pre><code>{\"fields\":[\"bin\"],\"errorMsg\":\"Invalid Argument\"}\n</code></pre>\n\n<p>But I see test errors and Cucumber cannot detect my method, and gives me tips like:</p>\n\n<pre><code>You can implement missing steps with the snippets below:\n\n@Then(\"binlookup returns {string}\\\\:[],\\\\{string}\\\\:\\\\{string} and status code {int}\")\npublic void binlookup_returns_and_status_code(String string, String string2, String string3, Integer int1) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new PendingException();\n}\n</code></pre>\n\n<p>Obviously, it pairs the first <code>\"</code> with the first escaped <code>\"</code> and sees <code>{\\\"fields</code> as the first parameter, but it is wrong.</p>\n\n<p>But, I cannot quote the JSON string with <code>' '</code> because it will not be the case.</p>\n\n<p>What can I do?</p>\n\n<hr/>\n\n<p>If it is impossible, how can I verify the JSON has the data I expect?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1658210011,"post_id":73031688,"comment_id":128987934,"body_markdown":"You could have searched the same in some search engines first.","body":"You could have searched the same in some search engines first."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1658210550,"post_id":73031688,"comment_id":128988045,"body_markdown":"I&#39;ve no idea what you&#39;re talking about.  Can you show an example of what you mean?","body":"I&#39;ve no idea what you&#39;re talking about.  Can you show an example of what you mean?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658215005,"post_id":73031688,"comment_id":128989293,"body_markdown":"They are public static final because the Java Language Specification (JLS) says so. Asking us to mind-read the original designers or guess why is opinion-based (even if we think we know we&#39;re 100% right).","body":"They are public static final because the Java Language Specification (JLS) says so. Asking us to mind-read the original designers or guess why is opinion-based (even if we think we know we&#39;re 100% right)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658368011,"creation_date":1658210678,"answer_id":73031867,"question_id":73031688,"body_markdown":"Firstly, variables declared in an interface are *implicitly* `public` `static` and `final`.  This is not some &quot;default&quot; that you can override.\r\n\r\nWhy are they `final` and `static`?\r\n\r\n1) A public static non-final interface variable:\r\n\r\n  - would be akin to a global variable, and global variables are terrible for unwanted coupling, and\r\n  - would (probably) be an abstraction leak.\r\n\r\n2) A public non-static non-final interface variable:\r\n\r\n  - would also an abstraction leak, and\r\n  - would presents difficulties for classes that implement multiple interfaces.\r\n\r\nThe difficulties would be like the diamond inheritance problem that is reason that a Java class cannot extend more than one other class.\r\n\r\nIn short, they are implicitly `static` and `final` because the reverse would detract from Java as an OO programming language with (relatively) strong encapsulation.","title":"Why the java interface variables are final?","body":"<p>Firstly, variables declared in an interface are <em>implicitly</em> <code>public</code> <code>static</code> and <code>final</code>.  This is not some &quot;default&quot; that you can override.</p>\n<p>Why are they <code>final</code> and <code>static</code>?</p>\n<ol>\n<li>A public static non-final interface variable:</li>\n</ol>\n<ul>\n<li>would be akin to a global variable, and global variables are terrible for unwanted coupling, and</li>\n<li>would (probably) be an abstraction leak.</li>\n</ul>\n<ol start=\"2\">\n<li>A public non-static non-final interface variable:</li>\n</ol>\n<ul>\n<li>would also an abstraction leak, and</li>\n<li>would presents difficulties for classes that implement multiple interfaces.</li>\n</ul>\n<p>The difficulties would be like the diamond inheritance problem that is reason that a Java class cannot extend more than one other class.</p>\n<p>In short, they are implicitly <code>static</code> and <code>final</code> because the reverse would detract from Java as an OO programming language with (relatively) strong encapsulation.</p>\n"}],"owner":{"account_id":7969730,"reputation":1,"user_id":6014853,"display_name":"Dinesh Edirisinghe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658368011,"creation_date":1658209441,"question_id":73031688,"body_markdown":"Why the java interface variables are final?\r\n\r\nIs there a better explanation why variables in a java interface are final by default? ","title":"Why the java interface variables are final?","body":"<p>Why the java interface variables are final?</p>\n<p>Is there a better explanation why variables in a java interface are final by default?</p>\n"},{"tags":["java","database","android-studio"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1658366857,"post_id":73059689,"comment_id":129036153,"body_markdown":"Your inserts are inserting into two different tables right?","body":"Your inserts are inserting into two different tables right?"},{"owner":{"account_id":25857938,"reputation":21,"user_id":19590867,"display_name":"AbubuJeje"},"score":0,"creation_date":1658367108,"post_id":73059689,"comment_id":129036197,"body_markdown":"My inserts just inserts into two different rows instead of the same row as the insertData","body":"My inserts just inserts into two different rows instead of the same row as the insertData"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658367484,"post_id":73059689,"comment_id":129036242,"body_markdown":"If you want the second insert to update the row you inserted before you will need to use an `update` statement.","body":"If you want the second insert to update the row you inserted before you will need to use an <code>update</code> statement."},{"owner":{"account_id":25857938,"reputation":21,"user_id":19590867,"display_name":"AbubuJeje"},"score":0,"creation_date":1658368164,"post_id":73059689,"comment_id":129036332,"body_markdown":"@tgdavies how to do that? I really don&#39;t know how to operate since I&#39;m a beginner at android studio.","body":"@tgdavies how to do that? I really don&#39;t know how to operate since I&#39;m a beginner at android studio."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658368286,"post_id":73059689,"comment_id":129036347,"body_markdown":"Does this answer your question? [SQLite in Android How to update a specific row](https://stackoverflow.com/questions/9798473/sqlite-in-android-how-to-update-a-specific-row)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9798473/sqlite-in-android-how-to-update-a-specific-row\">SQLite in Android How to update a specific row</a>"}],"owner":{"account_id":25857938,"reputation":21,"user_id":19590867,"display_name":"AbubuJeje"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658366474,"creation_date":1658366474,"question_id":73059689,"body_markdown":"So I have pre defined sql database where I have a method that gets only 4 data and inserts it into the database. And I have another method that only gets 1 data and inserts it into the database but all I get is another row in the database.\r\n\r\nHere&#39;s my code\r\n\r\n\r\n`public class DBHelper extends SQLiteOpenHelper {\r\n\r\n    public static final String USERS_TABLE = &quot;USERS_TABLE&quot;;\r\n    public static final String COLUMN_ID = &quot;ID&quot;;\r\n    public static final String COLUMN_NAME = &quot;NAME&quot;;\r\n    public static final String COLUMN_USERNAME = &quot;USERNAME&quot;;\r\n    public static final String COLUMN_PASSWORD = &quot;PASSWORD&quot;;\r\n    public static final String COLUMN_AGE = &quot;AGE&quot;;\r\n    public static final String COLUMN_CONTACT = &quot;CONTACT&quot;;\r\n    public static final String COLUMN_DIARY = &quot;DIARY&quot;;   \r\n\r\n\r\n    public DBHelper(Context context) {\r\n        super(context, &quot;Login.db&quot;, null, 1);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase MyDataBase) {\r\n        String createTableStatement = &quot;CREATE TABLE &quot; + USERS_TABLE +\r\n                &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                COLUMN_NAME + &quot; TEXT, &quot; +\r\n                COLUMN_USERNAME + &quot; TEXT, &quot; +\r\n                COLUMN_PASSWORD + &quot; TEXT, &quot; +\r\n                COLUMN_AGE + &quot; TEXT, &quot; +\r\n                COLUMN_CONTACT + &quot; TEXT, &quot; +\r\n                COLUMN_DIARY + &quot; TEXT)&quot;;\r\n\r\n        MyDataBase.execSQL(createTableStatement);\r\n    }\r\n public Boolean insertData (int id, String name, String username, String password, String age){\r\n        SQLiteDatabase MyDataBase = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n\r\n        contentValues.put(COLUMN_NAME, name);\r\n        contentValues.put(COLUMN_USERNAME, username);\r\n        contentValues.put(COLUMN_PASSWORD, password);\r\n        contentValues.put(COLUMN_AGE, age);\r\n\r\n        long result = MyDataBase.insert(USERS_TABLE,null,contentValues);\r\n        if (result == -1) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    public Boolean insertContact (String contact){\r\n        SQLiteDatabase MyDataBase = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(COLUMN_CONTACT, contact);\r\n\r\n        long result = MyDataBase.insert(&quot;users&quot;,null,contentValues);\r\n        if (result == -1) return false;\r\n        else\r\n            return true;\r\n\r\n    }`\r\n\r\n[This the database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7FwB7.jpg","title":"How to insert a data into a predefined sql database?","body":"<p>So I have pre defined sql database where I have a method that gets only 4 data and inserts it into the database. And I have another method that only gets 1 data and inserts it into the database but all I get is another row in the database.</p>\n<p>Here's my code</p>\n<p>`public class DBHelper extends SQLiteOpenHelper {</p>\n<pre><code>public static final String USERS_TABLE = &quot;USERS_TABLE&quot;;\npublic static final String COLUMN_ID = &quot;ID&quot;;\npublic static final String COLUMN_NAME = &quot;NAME&quot;;\npublic static final String COLUMN_USERNAME = &quot;USERNAME&quot;;\npublic static final String COLUMN_PASSWORD = &quot;PASSWORD&quot;;\npublic static final String COLUMN_AGE = &quot;AGE&quot;;\npublic static final String COLUMN_CONTACT = &quot;CONTACT&quot;;\npublic static final String COLUMN_DIARY = &quot;DIARY&quot;;   \n\n\npublic DBHelper(Context context) {\n    super(context, &quot;Login.db&quot;, null, 1);\n}\n\n\n@Override\npublic void onCreate(SQLiteDatabase MyDataBase) {\n    String createTableStatement = &quot;CREATE TABLE &quot; + USERS_TABLE +\n            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n            COLUMN_NAME + &quot; TEXT, &quot; +\n            COLUMN_USERNAME + &quot; TEXT, &quot; +\n            COLUMN_PASSWORD + &quot; TEXT, &quot; +\n            COLUMN_AGE + &quot; TEXT, &quot; +\n            COLUMN_CONTACT + &quot; TEXT, &quot; +\n            COLUMN_DIARY + &quot; TEXT)&quot;;\n\n    MyDataBase.execSQL(createTableStatement);\n}\n</code></pre>\n<p>public Boolean insertData (int id, String name, String username, String password, String age){\nSQLiteDatabase MyDataBase = this.getWritableDatabase();\nContentValues contentValues = new ContentValues();</p>\n<pre><code>    contentValues.put(COLUMN_NAME, name);\n    contentValues.put(COLUMN_USERNAME, username);\n    contentValues.put(COLUMN_PASSWORD, password);\n    contentValues.put(COLUMN_AGE, age);\n\n    long result = MyDataBase.insert(USERS_TABLE,null,contentValues);\n    if (result == -1) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\npublic Boolean insertContact (String contact){\n    SQLiteDatabase MyDataBase = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(COLUMN_CONTACT, contact);\n\n    long result = MyDataBase.insert(&quot;users&quot;,null,contentValues);\n    if (result == -1) return false;\n    else\n        return true;\n\n}`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7FwB7.jpg\" rel=\"nofollow noreferrer\">This the database</a></p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1658353636,"post_id":73057818,"comment_id":129033920,"body_markdown":"Add the radio buttons to a panel using a `FlowLayout`. Then add the panel to the GridBagLayout. Nesting panels with different layout managers can help simplify layouts. *I have my labels spanned over 2 cells.* - no you don&#39;t. The width of a cell is determined by the width of the largest component added to that column. It only works if you have another row with multiple components. A solution using a single panel  would be to have the labels in column 1 the radio buttons in columns 2 and 3. Then have your text fields in column 2 with a gridwidth of 2.","body":"Add the radio buttons to a panel using a <code>FlowLayout</code>. Then add the panel to the GridBagLayout. Nesting panels with different layout managers can help simplify layouts. <i>I have my labels spanned over 2 cells.</i> - no you don&#39;t. The width of a cell is determined by the width of the largest component added to that column. It only works if you have another row with multiple components. A solution using a single panel  would be to have the labels in column 1 the radio buttons in columns 2 and 3. Then have your text fields in column 2 with a gridwidth of 2."},{"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"score":0,"creation_date":1658366071,"post_id":73057818,"comment_id":129036045,"body_markdown":"@camickr I think I made the changes you suggested, in my edited post. They make sense to me, but got the same result. FlowLayout seems like the better solution, but I&#39;m trying to get a better understanding of how GridBagLayout works. Please let me know if I screwed up somewhere.","body":"@camickr I think I made the changes you suggested, in my edited post. They make sense to me, but got the same result. FlowLayout seems like the better solution, but I&#39;m trying to get a better understanding of how GridBagLayout works. Please let me know if I screwed up somewhere."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1658373147,"post_id":73057818,"comment_id":129036947,"body_markdown":"Yes, using a panel for the radio buttons is the better solution (which is why I suggested it first). If you really want to group components they should be on the same panel and treated as a single column. *I&#39;m trying to get a better understanding of how GridBagLayout works* -  you are artificially setting the size of the frame by using the setSize() and setMinimumSize() methods. Then because you are also using the &quot;weightx&quot; constraint, the columns are being resized wider to take up the extra space. So both radio buttons get extra space.","body":"Yes, using a panel for the radio buttons is the better solution (which is why I suggested it first). If you really want to group components they should be on the same panel and treated as a single column. <i>I&#39;m trying to get a better understanding of how GridBagLayout works</i> -  you are artificially setting the size of the frame by using the setSize() and setMinimumSize() methods. Then because you are also using the &quot;weightx&quot; constraint, the columns are being resized wider to take up the extra space. So both radio buttons get extra space."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1658373484,"post_id":73057818,"comment_id":129036986,"body_markdown":"Instead you should be using the pack() method to properly size the frame. After the frame is packed then maybe set the minimum size to the actual size of the frame. So remove all the weightx/y and insets constraints and the hardcoded frame sizes. Retest to see the fully packed layout. Then resize the frame wider to see what happens. Then add back in the and insets constraints one at a time to get better spacing.","body":"Instead you should be using the pack() method to properly size the frame. After the frame is packed then maybe set the minimum size to the actual size of the frame. So remove all the weightx/y and insets constraints and the hardcoded frame sizes. Retest to see the fully packed layout. Then resize the frame wider to see what happens. Then add back in the and insets constraints one at a time to get better spacing."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658352840,"creation_date":1658352532,"answer_id":73058327,"question_id":73057818,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nI used multiple Swing layouts to get the layout you wanted.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][2].\r\n\r\nI used a `JFrame`.  The only reason you would extend a Swing component, or any Java class, is if you want to override one or more of the class methods.\r\n\r\nI put the `JRadioButtons` inside a `JPanel` with a `FlowLayout`.\r\n\r\nI simplified the main `JPanel` using a `GridBagLayout`.  It&#39;s unusual to right justify the `JLabels`, but I showed you how to do so.\r\n\r\nYou probably want to add a `JButton` to trigger an `ActionListener` to read the input fields.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.Border;\r\n    \r\n    public class GridBagLayoutTest implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new GridBagLayoutTest());\r\n    \t}\r\n    \r\n    \tprivate JTextField txtScore;\r\n    \tprivate JRadioButton rb9;\r\n    \tprivate JRadioButton rb18;\r\n    \tprivate JTextField dateChooserDate;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridBagLayout());\r\n    \t\tBorder titleBorder = BorderFactory\r\n    \t\t\t\t.createTitledBorder(&quot;Handicap Add Score&quot;);\r\n    \t\tint space = 15;\r\n    \t\tBorder spaceBorder = BorderFactory.createEmptyBorder(space, space,\r\n    \t\t\t\tspace, space);\r\n    \t\tpanel.setBorder(\r\n    \t\t\t\tBorderFactory.createCompoundBorder(spaceBorder, titleBorder));\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(15, 0, 0, 15);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tpanel.add(createJLabel(&quot;Score:&quot;), gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\ttxtScore = new JTextField(10);\r\n    \t\tpanel.add(txtScore, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tpanel.add(createJLabel(&quot;Holes Played:&quot;), gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tpanel.add(createRadioPanel(), gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tpanel.add(createJLabel(&quot;Date:&quot;), gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tdateChooserDate = new JTextField(10);\r\n    \t\tpanel.add(dateChooserDate, gbc);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JLabel createJLabel(String text) {\r\n    \t\tJLabel label = new JLabel(text);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.TRAILING);\r\n    \r\n    \t\treturn label;\r\n    \t}\r\n    \r\n    \tprivate JPanel createRadioPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\trb9 = new JRadioButton(&quot;9&quot;);\r\n    \t\trb9.setActionCommand(&quot;9&quot;);\r\n    \t\tpanel.add(rb9);\r\n    \r\n    \t\trb18 = new JRadioButton(&quot;18&quot;);\r\n    \t\trb18.setActionCommand(&quot;18&quot;);\r\n    \t\tpanel.add(rb18);\r\n    \r\n    \t\tButtonGroup bgHoles = new ButtonGroup();\r\n    \t\tbgHoles.add(rb9);\r\n    \t\tbgHoles.add(rb18);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQAyS.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n","title":"How to get 2 radio buttons aligned correctly with Swing GridBagLayout","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>I used multiple Swing layouts to get the layout you wanted.</p>\n<p><a href=\"https://i.stack.imgur.com/eQAyS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQAyS.png\" alt=\"enter image description here\" /></a></p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I used a <code>JFrame</code>.  The only reason you would extend a Swing component, or any Java class, is if you want to override one or more of the class methods.</p>\n<p>I put the <code>JRadioButtons</code> inside a <code>JPanel</code> with a <code>FlowLayout</code>.</p>\n<p>I simplified the main <code>JPanel</code> using a <code>GridBagLayout</code>.  It's unusual to right justify the <code>JLabels</code>, but I showed you how to do so.</p>\n<p>You probably want to add a <code>JButton</code> to trigger an <code>ActionListener</code> to read the input fields.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.Border;\n\npublic class GridBagLayoutTest implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GridBagLayoutTest());\n    }\n\n    private JTextField txtScore;\n    private JRadioButton rb9;\n    private JRadioButton rb18;\n    private JTextField dateChooserDate;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new GridBagLayout());\n        Border titleBorder = BorderFactory\n                .createTitledBorder(&quot;Handicap Add Score&quot;);\n        int space = 15;\n        Border spaceBorder = BorderFactory.createEmptyBorder(space, space,\n                space, space);\n        panel.setBorder(\n                BorderFactory.createCompoundBorder(spaceBorder, titleBorder));\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(15, 0, 0, 15);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        panel.add(createJLabel(&quot;Score:&quot;), gbc);\n\n        gbc.gridx++;\n        txtScore = new JTextField(10);\n        panel.add(txtScore, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        panel.add(createJLabel(&quot;Holes Played:&quot;), gbc);\n\n        gbc.gridx++;\n        panel.add(createRadioPanel(), gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        panel.add(createJLabel(&quot;Date:&quot;), gbc);\n\n        gbc.gridx++;\n        dateChooserDate = new JTextField(10);\n        panel.add(dateChooserDate, gbc);\n\n        return panel;\n    }\n\n    private JLabel createJLabel(String text) {\n        JLabel label = new JLabel(text);\n        label.setHorizontalAlignment(JLabel.TRAILING);\n\n        return label;\n    }\n\n    private JPanel createRadioPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        rb9 = new JRadioButton(&quot;9&quot;);\n        rb9.setActionCommand(&quot;9&quot;);\n        panel.add(rb9);\n\n        rb18 = new JRadioButton(&quot;18&quot;);\n        rb18.setActionCommand(&quot;18&quot;);\n        panel.add(rb18);\n\n        ButtonGroup bgHoles = new ButtonGroup();\n        bgHoles.add(rb9);\n        bgHoles.add(rb18);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73058327,"answer_count":1,"score":0,"last_activity_date":1658365887,"creation_date":1658349099,"question_id":73057818,"body_markdown":"I can&#39;t get GridBagLayout to work as I&#39;d like. I&#39;m trying to get 2 radio buttons to align next to each other. The best I can get is inches apart. I&#39;ve played with weights to no avail. Currently I have my labels spanned over 2 cells. I have my radio buttons using 1 cell each with a 2 cell label. The last row is a 2 cell label and 2 cell date control. Maybe GridBagLayout is not the correct manager.\r\n\r\n    public class GridBagLayoutTest extends JFrame {\r\n        \r\n        private final JPanel addScorePanel;\r\n        private final JTextField txtScore;\r\n        private final JRadioButton rb9;\r\n        private final JRadioButton rb18;\r\n        private final JDateChooser dateChooserDate;\r\n        \r\n        public GridBagLayoutTest() {\r\n    \r\n            setLayout(new BorderLayout());\r\n            \r\n            addScorePanel = new JPanel();\r\n            addScorePanel.setLayout(new GridBagLayout());\r\n            \r\n            txtScore = new JTextField(3);\r\n            \r\n            rb9 = new JRadioButton(&quot;9&quot;);\r\n            rb9.setActionCommand(&quot;9&quot;);\r\n            \r\n            rb18 = new JRadioButton(&quot;18&quot;);\r\n            rb18.setActionCommand(&quot;18&quot;);\r\n            rb18.setSelected(true);\r\n            \r\n            ButtonGroup bgHoles = new ButtonGroup();\r\n            bgHoles.add(rb9);\r\n            bgHoles.add(rb18);\r\n            \r\n            dateChooserDate = new JDateChooser();\r\n            \r\n            layoutControls();\r\n            \r\n            add(addScorePanel, BorderLayout.NORTH);\r\n            \r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(600, 430);                                                          // Juggle for best look\r\n            setMinimumSize(new Dimension(400, 375));\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n            }\r\n        \r\n    \r\n        private void layoutControls() {\r\n    \r\n            Border titleBorder = BorderFactory.\r\n                    createTitledBorder(&quot;Handicap Add Score&quot;);\r\n            \r\n            int space = 15;\r\n            Border spaceBorder = BorderFactory.createEmptyBorder(space, space, \r\n                    space, space);\r\n            \r\n            addScorePanel.setBorder(BorderFactory.createCompoundBorder(spaceBorder, \r\n                    titleBorder));\r\n            \r\n    //        setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n    \r\n            GridBagConstraints gc = new GridBagConstraints();\r\n    \r\n            gc.fill = GridBagConstraints.NONE;                                          // Controls preferred size, \r\n            \r\n            ////////// Score row //////////\r\n            gc.gridy = 0;\r\n            gc.gridx = 0;\r\n            gc.weightx = 1.0;\r\n            gc.weighty = 1.0;\r\n            gc.gridwidth = 2;                                                           // Label 2 cells\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            addScorePanel.add(new JLabel(&quot;Score: &quot;), gc);\r\n            \r\n            gc.gridy = 0;\r\n            gc.gridx = 2;                                                               // Skip over 2nd label cell\r\n            gc.gridwidth = 1;\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            addScorePanel.add(txtScore, gc);\r\n    \r\n            ////////// Holes row //////////\r\n            gc.gridy++;\r\n            gc.gridx = 0;\r\n    //        gc.weightx = 0.1;\r\n    //        gc.weighty = 1.0;\r\n            gc.gridwidth = 2;                                                           // Label 2 cells\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            addScorePanel.add(new JLabel(&quot;Holes Played:&quot;), gc);\r\n            \r\n            gc.gridx = 2;                                                               // Skip over 2nd label cell\r\n    //        gc.weightx = 0.1;\r\n            gc.gridwidth = 1;\r\n            gc.insets = new Insets(15, 0, 0, 0);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(rb9, gc);\r\n             \r\n            gc.gridx++;                                                                 // Next cell\r\n    //        gc.weightx = 1.0;\r\n            gc.gridwidth = 1;\r\n            gc.insets = new Insets(15, 0, 0, 0);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(rb18, gc);\r\n            \r\n            ////////// Date row //////////\r\n            gc.gridy++;\r\n            gc.gridx = 0;\r\n    //        gc.weightx = 1.0;\r\n    //        gc.weighty = 1.0;\r\n            gc.gridwidth = 2;                                                           // Label 2 cells\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            addScorePanel.add(new JLabel(&quot;Date: &quot;), gc);\r\n            \r\n            gc.gridx = 2;                                                               // Skip over 2nd label cell\r\n            gc.gridwidth = 2;                                                           // Date 2 cells\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(dateChooserDate, gc);\r\n        }\r\n\r\nThis is what I am trying to do:\r\n\r\n[![Sample output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/foodY.jpg\r\n\r\nEDIT based on @camickr:\r\n\r\n            ////////// Score row //////////\r\n            gc.gridy = 0;\r\n            gc.gridx = 0;\r\n            gc.weightx = 1.0;\r\n            gc.weighty = 1.0;\r\n            gc.gridwidth = 1;                                   // &lt;-----               // Label 2 cells\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            addScorePanel.add(new JLabel(&quot;Score: &quot;), gc);\r\n            \r\n            gc.gridy = 0;\r\n            gc.gridx = 1;                                       // &lt;-----                // Skip over 2nd label cell\r\n            gc.gridwidth = 2;                                   // &lt;----- \r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            addScorePanel.add(txtScore, gc);\r\n    \r\n            ////////// Holes row //////////\r\n            gc.gridy++;\r\n            gc.gridx = 0;\r\n    //        gc.weightx = 0.1;\r\n    //        gc.weighty = 1.0;\r\n            gc.gridwidth = 1;                                    // &lt;-----              // Label 2 cells\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            addScorePanel.add(new JLabel(&quot;Holes Played:&quot;), gc);\r\n            \r\n            gc.gridx = 1;                                       // &lt;-----               // Skip over 2nd label cell\r\n    //        gc.weightx = 0.1;\r\n            gc.gridwidth = 1;\r\n            gc.insets = new Insets(15, 0, 0, 0);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(rb9, gc);\r\n             \r\n            gc.gridx = 2;                                       // &lt;-----               // Next cell\r\n    //        gc.weightx = 1.0;\r\n            gc.gridwidth = 1;\r\n            gc.insets = new Insets(15, 0, 0, 0);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(rb18, gc);\r\n            \r\n            ////////// Date row //////////\r\n            gc.gridy++;\r\n            gc.gridx = 0;\r\n    //        gc.weightx = 1.0;\r\n    //        gc.weighty = 1.0;\r\n            gc.gridwidth = 1;                                 // &lt;-----                 // Label 2 cells\r\n            gc.insets = new Insets(15, 0, 0, 15);\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n            addScorePanel.add(new JLabel(&quot;Date: &quot;), gc);\r\n            \r\n            gc.gridx = 1;                                                               // Skip over 2nd label cell\r\n            gc.gridwidth = 2;                                                           // Date 2 cells\r\n            gc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n            addScorePanel.add(dateChooserDate, gc);\r\n\r\nLooks pretty much the same. I think I marked my changes correctly. ","title":"How to get 2 radio buttons aligned correctly with Swing GridBagLayout","body":"<p>I can't get GridBagLayout to work as I'd like. I'm trying to get 2 radio buttons to align next to each other. The best I can get is inches apart. I've played with weights to no avail. Currently I have my labels spanned over 2 cells. I have my radio buttons using 1 cell each with a 2 cell label. The last row is a 2 cell label and 2 cell date control. Maybe GridBagLayout is not the correct manager.</p>\n<pre><code>public class GridBagLayoutTest extends JFrame {\n    \n    private final JPanel addScorePanel;\n    private final JTextField txtScore;\n    private final JRadioButton rb9;\n    private final JRadioButton rb18;\n    private final JDateChooser dateChooserDate;\n    \n    public GridBagLayoutTest() {\n\n        setLayout(new BorderLayout());\n        \n        addScorePanel = new JPanel();\n        addScorePanel.setLayout(new GridBagLayout());\n        \n        txtScore = new JTextField(3);\n        \n        rb9 = new JRadioButton(&quot;9&quot;);\n        rb9.setActionCommand(&quot;9&quot;);\n        \n        rb18 = new JRadioButton(&quot;18&quot;);\n        rb18.setActionCommand(&quot;18&quot;);\n        rb18.setSelected(true);\n        \n        ButtonGroup bgHoles = new ButtonGroup();\n        bgHoles.add(rb9);\n        bgHoles.add(rb18);\n        \n        dateChooserDate = new JDateChooser();\n        \n        layoutControls();\n        \n        add(addScorePanel, BorderLayout.NORTH);\n        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 430);                                                          // Juggle for best look\n        setMinimumSize(new Dimension(400, 375));\n        setLocationRelativeTo(null);\n        setVisible(true);\n        }\n    \n\n    private void layoutControls() {\n\n        Border titleBorder = BorderFactory.\n                createTitledBorder(&quot;Handicap Add Score&quot;);\n        \n        int space = 15;\n        Border spaceBorder = BorderFactory.createEmptyBorder(space, space, \n                space, space);\n        \n        addScorePanel.setBorder(BorderFactory.createCompoundBorder(spaceBorder, \n                titleBorder));\n        \n//        setBorder(BorderFactory.createLineBorder(Color.BLACK));\n\n        GridBagConstraints gc = new GridBagConstraints();\n\n        gc.fill = GridBagConstraints.NONE;                                          // Controls preferred size, \n        \n        ////////// Score row //////////\n        gc.gridy = 0;\n        gc.gridx = 0;\n        gc.weightx = 1.0;\n        gc.weighty = 1.0;\n        gc.gridwidth = 2;                                                           // Label 2 cells\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        gc.insets = new Insets(15, 0, 0, 15);\n        addScorePanel.add(new JLabel(&quot;Score: &quot;), gc);\n        \n        gc.gridy = 0;\n        gc.gridx = 2;                                                               // Skip over 2nd label cell\n        gc.gridwidth = 1;\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        gc.insets = new Insets(15, 0, 0, 15);\n        addScorePanel.add(txtScore, gc);\n\n        ////////// Holes row //////////\n        gc.gridy++;\n        gc.gridx = 0;\n//        gc.weightx = 0.1;\n//        gc.weighty = 1.0;\n        gc.gridwidth = 2;                                                           // Label 2 cells\n        gc.insets = new Insets(15, 0, 0, 15);\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        addScorePanel.add(new JLabel(&quot;Holes Played:&quot;), gc);\n        \n        gc.gridx = 2;                                                               // Skip over 2nd label cell\n//        gc.weightx = 0.1;\n        gc.gridwidth = 1;\n        gc.insets = new Insets(15, 0, 0, 0);\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(rb9, gc);\n         \n        gc.gridx++;                                                                 // Next cell\n//        gc.weightx = 1.0;\n        gc.gridwidth = 1;\n        gc.insets = new Insets(15, 0, 0, 0);\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(rb18, gc);\n        \n        ////////// Date row //////////\n        gc.gridy++;\n        gc.gridx = 0;\n//        gc.weightx = 1.0;\n//        gc.weighty = 1.0;\n        gc.gridwidth = 2;                                                           // Label 2 cells\n        gc.insets = new Insets(15, 0, 0, 15);\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        addScorePanel.add(new JLabel(&quot;Date: &quot;), gc);\n        \n        gc.gridx = 2;                                                               // Skip over 2nd label cell\n        gc.gridwidth = 2;                                                           // Date 2 cells\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(dateChooserDate, gc);\n    }\n</code></pre>\n<p>This is what I am trying to do:</p>\n<p><a href=\"https://i.stack.imgur.com/foodY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/foodY.jpg\" alt=\"Sample output\" /></a></p>\n<p>EDIT based on @camickr:</p>\n<pre><code>        ////////// Score row //////////\n        gc.gridy = 0;\n        gc.gridx = 0;\n        gc.weightx = 1.0;\n        gc.weighty = 1.0;\n        gc.gridwidth = 1;                                   // &lt;-----               // Label 2 cells\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        gc.insets = new Insets(15, 0, 0, 15);\n        addScorePanel.add(new JLabel(&quot;Score: &quot;), gc);\n        \n        gc.gridy = 0;\n        gc.gridx = 1;                                       // &lt;-----                // Skip over 2nd label cell\n        gc.gridwidth = 2;                                   // &lt;----- \n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        gc.insets = new Insets(15, 0, 0, 15);\n        addScorePanel.add(txtScore, gc);\n\n        ////////// Holes row //////////\n        gc.gridy++;\n        gc.gridx = 0;\n//        gc.weightx = 0.1;\n//        gc.weighty = 1.0;\n        gc.gridwidth = 1;                                    // &lt;-----              // Label 2 cells\n        gc.insets = new Insets(15, 0, 0, 15);\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        addScorePanel.add(new JLabel(&quot;Holes Played:&quot;), gc);\n        \n        gc.gridx = 1;                                       // &lt;-----               // Skip over 2nd label cell\n//        gc.weightx = 0.1;\n        gc.gridwidth = 1;\n        gc.insets = new Insets(15, 0, 0, 0);\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(rb9, gc);\n         \n        gc.gridx = 2;                                       // &lt;-----               // Next cell\n//        gc.weightx = 1.0;\n        gc.gridwidth = 1;\n        gc.insets = new Insets(15, 0, 0, 0);\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(rb18, gc);\n        \n        ////////// Date row //////////\n        gc.gridy++;\n        gc.gridx = 0;\n//        gc.weightx = 1.0;\n//        gc.weighty = 1.0;\n        gc.gridwidth = 1;                                 // &lt;-----                 // Label 2 cells\n        gc.insets = new Insets(15, 0, 0, 15);\n        gc.anchor = GridBagConstraints.FIRST_LINE_END;\n        addScorePanel.add(new JLabel(&quot;Date: &quot;), gc);\n        \n        gc.gridx = 1;                                                               // Skip over 2nd label cell\n        gc.gridwidth = 2;                                                           // Date 2 cells\n        gc.anchor = GridBagConstraints.FIRST_LINE_START;\n        addScorePanel.add(dateChooserDate, gc);\n</code></pre>\n<p>Looks pretty much the same. I think I marked my changes correctly.</p>\n"},{"tags":["java","serialization","deserialization","mpi"],"comments":[{"owner":{"account_id":10972931,"reputation":8213,"user_id":8062491,"display_name":"Gilles Gouaillardet"},"score":0,"creation_date":1658362302,"post_id":73059148,"comment_id":129035548,"body_markdown":"try sending the serialized message size first, and allocate `messagetorecv` with the exact size.","body":"try sending the serialized message size first, and allocate <code>messagetorecv</code> with the exact size."},{"owner":{"account_id":25848413,"reputation":1,"user_id":19582822,"display_name":"StuckedJava"},"score":0,"creation_date":1658409194,"post_id":73059148,"comment_id":129048126,"body_markdown":"@GillesGouaillardet I tried also but the object result to be null.\nThe rest of the code is ok in your opinion?\nThanks","body":"@GillesGouaillardet I tried also but the object result to be null. The rest of the code is ok in your opinion? Thanks"},{"owner":{"account_id":10972931,"reputation":8213,"user_id":8062491,"display_name":"Gilles Gouaillardet"},"score":0,"creation_date":1658414714,"post_id":73059148,"comment_id":129050564,"body_markdown":"I have not done these things for 20+ years, but so fat, `baos.toString()` looks suspicious to me. Try sending/receiving an array of `MPI.BYTE` instead. If it does not work, first try serialize/deserialize without MPI.","body":"I have not done these things for 20+ years, but so fat, <code>baos.toString()</code> looks suspicious to me. Try sending/receiving an array of <code>MPI.BYTE</code> instead. If it does not work, first try serialize/deserialize without MPI."},{"owner":{"account_id":25848413,"reputation":1,"user_id":19582822,"display_name":"StuckedJava"},"score":0,"creation_date":1658441263,"post_id":73059148,"comment_id":129058953,"body_markdown":"Thank you so much, it was exactly like you said. Soon I will post the full working code.","body":"Thank you so much, it was exactly like you said. Soon I will post the full working code."}],"owner":{"account_id":25848413,"reputation":1,"user_id":19582822,"display_name":"StuckedJava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658364201,"creation_date":1658359891,"question_id":73059148,"body_markdown":"I&#39;m trying to send and receive an object of a Java class using MPI.\r\n\r\nI&#39;m serializing the object (could be an error there)\r\nHere&#39;s my code:\r\n\r\n    ObjectProva obj = new ObjectProva(1,&quot;test&quot;);\r\n    \r\n    if (rank == 0) {\r\n      String serialized = &quot;&quot;;\r\n      ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n      ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n      oos.writeObject(obj);\r\n      oos.flush();\r\n      serialized = baos.toString();\r\n      char [] message_char = serialized.toCharArray() ;\r\n      MPI.COMM_WORLD.send(message_char, message_char.length, MPI.CHAR, 1, 99) ;\r\n    }\r\n    else {\r\n      ObjectProva ob = null;\r\n      char [] messagetorecv = new char [115];\r\n      MPI.COMM_WORLD.recv(messagetorecv, 115, MPI.CHAR, MPI.ANY_SOURCE, 99);\r\n      byte b[] = new String(messagetorecv).getBytes();\r\n      ByteArrayInputStream bis = new ByteArrayInputStream(b);\r\n      ObjectInputStream ois = new ObjectInputStream(bis);\r\n      ob = (ObjectProva) ois.readObject();\t\t\t\t//This is null\r\n    }\r\n\r\nThe last object results to be null. I think it&#39;s a deserialization problem, however I&#39;m not even sure about the `MPI.recv` part.\r\n","title":"Send and Receive Object of a Class in MPI - JAVA","body":"<p>I'm trying to send and receive an object of a Java class using MPI.</p>\n<p>I'm serializing the object (could be an error there)\nHere's my code:</p>\n<pre><code>ObjectProva obj = new ObjectProva(1,&quot;test&quot;);\n\nif (rank == 0) {\n  String serialized = &quot;&quot;;\n  ByteArrayOutputStream baos = new ByteArrayOutputStream();\n  ObjectOutputStream oos = new ObjectOutputStream(baos);\n  oos.writeObject(obj);\n  oos.flush();\n  serialized = baos.toString();\n  char [] message_char = serialized.toCharArray() ;\n  MPI.COMM_WORLD.send(message_char, message_char.length, MPI.CHAR, 1, 99) ;\n}\nelse {\n  ObjectProva ob = null;\n  char [] messagetorecv = new char [115];\n  MPI.COMM_WORLD.recv(messagetorecv, 115, MPI.CHAR, MPI.ANY_SOURCE, 99);\n  byte b[] = new String(messagetorecv).getBytes();\n  ByteArrayInputStream bis = new ByteArrayInputStream(b);\n  ObjectInputStream ois = new ObjectInputStream(bis);\n  ob = (ObjectProva) ois.readObject();              //This is null\n}\n</code></pre>\n<p>The last object results to be null. I think it's a deserialization problem, however I'm not even sure about the <code>MPI.recv</code> part.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":25241292,"reputation":516,"user_id":19075135,"display_name":"Neo"},"score":0,"creation_date":1653889661,"post_id":72429624,"comment_id":127952503,"body_markdown":"I can see why you could use private in an interface for some methods, but what would you want a private variable ?","body":"I can see why you could use private in an interface for some methods, but what would you want a private variable ?"},{"owner":{"account_id":23588928,"reputation":21,"user_id":17627011,"display_name":"Kartone"},"score":0,"creation_date":1653892329,"post_id":72429624,"comment_id":127953108,"body_markdown":"so is this feasible?","body":"so is this feasible?"},{"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"score":1,"creation_date":1653892406,"post_id":72429624,"comment_id":127953122,"body_markdown":"What do you mean by &quot;call this variable&quot;? Variables are accessed, _methods_ are called. You cannot call a variable.","body":"What do you mean by &quot;call this variable&quot;? Variables are accessed, <i>methods</i> are called. You cannot call a variable."},{"owner":{"account_id":23588928,"reputation":21,"user_id":17627011,"display_name":"Kartone"},"score":0,"creation_date":1653893665,"post_id":72429624,"comment_id":127953446,"body_markdown":"sorry, my expression is not accurate","body":"sorry, my expression is not accurate"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654576782,"post_id":72429624,"comment_id":128117192,"body_markdown":"@Kartone No, it is not possible.","body":"@Kartone No, it is not possible."}],"answers":[{"tags":[],"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658364149,"creation_date":1653892319,"answer_id":72430016,"question_id":72429624,"body_markdown":"Declaring a class to implement an interface is a promise that this class provides these methods, or extensions thereof. Increasing/_extending_ access to the methods is allowed, but decreasing access is not, because then we would break our promise.\r\n\r\nThis is similar to classes and _extensions_ of them, subclasses. A subclass has to provide all methods of the superclass with _at least_ the visibility they were declared with.\r\n\r\nThe reason for this is the statically typed nature of Java. If a type may differ from its initial declaration in such a way that it breaks (access to) the type, then it makes the whole static-typing obsolete.\r\n\r\nFields (also called member variables) are different in the way that their access cannot be extended. Declaring another member variable of similar name on a subclass is exactly that, _another variable._ By doing this, you hide the superclass&#39; variable, and you may have to use the keyword `super` to access it.","title":"is it possible to change modifier of variables and methods in interface","body":"<p>Declaring a class to implement an interface is a promise that this class provides these methods, or extensions thereof. Increasing/<em>extending</em> access to the methods is allowed, but decreasing access is not, because then we would break our promise.</p>\n<p>This is similar to classes and <em>extensions</em> of them, subclasses. A subclass has to provide all methods of the superclass with <em>at least</em> the visibility they were declared with.</p>\n<p>The reason for this is the statically typed nature of Java. If a type may differ from its initial declaration in such a way that it breaks (access to) the type, then it makes the whole static-typing obsolete.</p>\n<p>Fields (also called member variables) are different in the way that their access cannot be extended. Declaring another member variable of similar name on a subclass is exactly that, <em>another variable.</em> By doing this, you hide the superclass' variable, and you may have to use the keyword <code>super</code> to access it.</p>\n"}],"owner":{"account_id":23588928,"reputation":21,"user_id":17627011,"display_name":"Kartone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72430016,"answer_count":1,"score":0,"last_activity_date":1658364149,"creation_date":1653889484,"question_id":72429624,"body_markdown":"modifiers in variables in an interface are ```public```, ```static```, ```final``` by default. But how can I do if I want it to be private so that no other classes can call this variable","title":"is it possible to change modifier of variables and methods in interface","body":"<p>modifiers in variables in an interface are <code>public</code>, <code>static</code>, <code>final</code> by default. But how can I do if I want it to be private so that no other classes can call this variable</p>\n"},{"tags":["java","android","onactivityresult","aide"],"comments":[{"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"score":0,"creation_date":1657761621,"post_id":72974157,"comment_id":128889729,"body_markdown":"I think it could be a couple of different things, I&#39;d say we&#39;d need to look at the code to figure it out, one thing I&#39;m thinking is that the app maybe doesn&#39;t have the right permissions https://stackoverflow.com/questions/36270253/request-permission-for-microphone-on-android-m","body":"I think it could be a couple of different things, I&#39;d say we&#39;d need to look at the code to figure it out, one thing I&#39;m thinking is that the app maybe doesn&#39;t have the right permissions <a href=\"https://stackoverflow.com/questions/36270253/request-permission-for-microphone-on-android-m\" title=\"request permission for microphone on android m\">stackoverflow.com/questions/36270253/&hellip;</a>"},{"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"score":0,"creation_date":1657826587,"post_id":72974157,"comment_id":128909076,"body_markdown":"How would I send you the code? My app used to work (with all the permissions) until my Android updated its software. Would I need to add new permissions? I am using about 16 different associated .java files to troubleshoot from, but I can send you the MainActivity.java file (which contains 2 threaded loops... 1 that gets the microphone input and another that does text to speech, which has SIRI speak). The main program determines which threaded loop executes. After SIRI is done speaking or the microphone gets input, the 2 threads alternate (or used to properly on the old operating system).","body":"How would I send you the code? My app used to work (with all the permissions) until my Android updated its software. Would I need to add new permissions? I am using about 16 different associated .java files to troubleshoot from, but I can send you the MainActivity.java file (which contains 2 threaded loops... 1 that gets the microphone input and another that does text to speech, which has SIRI speak). The main program determines which threaded loop executes. After SIRI is done speaking or the microphone gets input, the 2 threads alternate (or used to properly on the old operating system)."},{"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"score":0,"creation_date":1657894591,"post_id":72974157,"comment_id":128925287,"body_markdown":"Is there a way to attach my MainActivity.java file or the 16 .java files that my app uses?","body":"Is there a way to attach my MainActivity.java file or the 16 .java files that my app uses?"},{"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"score":0,"creation_date":1657898288,"post_id":72974157,"comment_id":128926736,"body_markdown":"I think I am one step closer to solving the problem but still need assistance... as I mentioned, with the old operating system, the microphone waited for ANY input before calling the function onActivityResult(), but since the microphone is inside a timer (with the NEW operating system), the startActivityForResult() function gets called repeatedly, instead of waiting for ANY input before calling onActivityResult(). I put an endless while loop right after startActivityForResult(), and onActivityResult() calls, but I can only use the microphone 1 time because of the endless while loop.","body":"I think I am one step closer to solving the problem but still need assistance... as I mentioned, with the old operating system, the microphone waited for ANY input before calling the function onActivityResult(), but since the microphone is inside a timer (with the NEW operating system), the startActivityForResult() function gets called repeatedly, instead of waiting for ANY input before calling onActivityResult(). I put an endless while loop right after startActivityForResult(), and onActivityResult() calls, but I can only use the microphone 1 time because of the endless while loop."},{"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"score":0,"creation_date":1657899594,"post_id":72974157,"comment_id":128927258,"body_markdown":"Another words, (with the OLD operating system), startActivityForResult() doesn&#39;t allow the &#39;program flow&#39; of my app to continue past that line of code UNTIL the microphone widget gets input (right after the microphone widget opens, gets input and then closes), where the NEW operating system has the program flow of my app continue past startActivityForResult() WHILE the microphone widget is opened, which is why the timer repeatedly calls startActivityForResult() over and over again, instead of just waiting until the widget gets input and then closes. That is the main problem.","body":"Another words, (with the OLD operating system), startActivityForResult() doesn&#39;t allow the &#39;program flow&#39; of my app to continue past that line of code UNTIL the microphone widget gets input (right after the microphone widget opens, gets input and then closes), where the NEW operating system has the program flow of my app continue past startActivityForResult() WHILE the microphone widget is opened, which is why the timer repeatedly calls startActivityForResult() over and over again, instead of just waiting until the widget gets input and then closes. That is the main problem."}],"answers":[{"tags":[],"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657900339,"creation_date":1657900339,"answer_id":72996645,"question_id":72974157,"body_markdown":"I believe I was able to resolve the reason why my app was behaving differently (after my Android operating system updated itself)... with the OLD operating system, after startActivityForResult() gets called (with a &#39;microphone&#39; intent to get microphone input), the microphone widget would open up and the &#39;program flow&#39; of my app would &#39;pause&#39; UNTIL microphone input is retrieved from the widget. Then, the program flow of my app would continue after  onActivityResult() gets called, whereas the NEW operating system allows the &#39;program flow&#39; of my app to continue past startActivityForResult() WHILE the microphone widget is opened, thus causing my timer to call startActivityForResult() repeatedly, instead of waiting until the widget (which is a separate program) get input, and then close. If there is a way to code the program flow of my app to &#39;pause itself&#39; WHILE the microphone widget is open (like the OLD way), please let me know. Thank you. ","title":"onActivityResult() no longer calls after I speak into the Android mic","body":"<p>I believe I was able to resolve the reason why my app was behaving differently (after my Android operating system updated itself)... with the OLD operating system, after startActivityForResult() gets called (with a 'microphone' intent to get microphone input), the microphone widget would open up and the 'program flow' of my app would 'pause' UNTIL microphone input is retrieved from the widget. Then, the program flow of my app would continue after  onActivityResult() gets called, whereas the NEW operating system allows the 'program flow' of my app to continue past startActivityForResult() WHILE the microphone widget is opened, thus causing my timer to call startActivityForResult() repeatedly, instead of waiting until the widget (which is a separate program) get input, and then close. If there is a way to code the program flow of my app to 'pause itself' WHILE the microphone widget is open (like the OLD way), please let me know. Thank you.</p>\n"},{"tags":[],"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658363431,"creation_date":1658362596,"answer_id":73059392,"question_id":72974157,"body_markdown":"I solved the problem...\r\n\r\nWhen my Android updated its operating system (thus causing the microphone widget to NO LONGER &#39;pause&#39; my app&#39;s program flow until it got microphone input, like it USED TO with the OLD operating system), I had to add an extra private boolean member variable to my MainActivity class (called &#39;isGetting&#39;). Before the function startActivityForResult() gets called, isGetting gets set to true, and IF isGetting is true, the timer that calls startActivityForResult() skips past that line of code until isGetting is false. Then, when the microphone widget gets input and closes (without the timer calling startActivityForResult() repeatedly, or, as long as &#39;isGetting&#39; is false), onActivityResult() gets called. Inside onActivityResult(), I added...\r\n\r\nisGetting = false;\r\n\r\nso that startActivityForResult() can get called once again in my timer after onActivityResult() executes and performs the &#39;instructions&#39; on what to do WITH the results, and that fixed the problem. :)","title":"onActivityResult() no longer calls after I speak into the Android mic","body":"<p>I solved the problem...</p>\n<p>When my Android updated its operating system (thus causing the microphone widget to NO LONGER 'pause' my app's program flow until it got microphone input, like it USED TO with the OLD operating system), I had to add an extra private boolean member variable to my MainActivity class (called 'isGetting'). Before the function startActivityForResult() gets called, isGetting gets set to true, and IF isGetting is true, the timer that calls startActivityForResult() skips past that line of code until isGetting is false. Then, when the microphone widget gets input and closes (without the timer calling startActivityForResult() repeatedly, or, as long as 'isGetting' is false), onActivityResult() gets called. Inside onActivityResult(), I added...</p>\n<p>isGetting = false;</p>\n<p>so that startActivityForResult() can get called once again in my timer after onActivityResult() executes and performs the 'instructions' on what to do WITH the results, and that fixed the problem. :)</p>\n"}],"owner":{"account_id":18816873,"reputation":81,"user_id":13723781,"display_name":"Michael Lowe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658363431,"creation_date":1657760657,"question_id":72974157,"body_markdown":"I developed an app a little over 2 years ago, where I call the function...\r\n\r\nstartActivityForResult(intent);\r\n\r\nto get microphone input. The program doesn&#39;t read past that line of code until I say something into the mic. If I say nothing, then I have the option to tap the mic button and say something. Then, the function onActivityResult() gets called after I finally say something into the mic. \r\n\r\n   Eventually, my phone updated its operating system, and I noticed that onActivityResult() no longer gets called after I say something into the microphone. Not only that. but since I also have startActivityForResult(intent) used inside a threaded loop, that function repeatedly gets called WHILE it is waiting for me to say something into the mic, not allowing me enough time for me to say anything into the mic (whereas the old operating system waited for me to say something into the mic before continuing onto the function onActivityForResult() to get the results). How would I fix this problem? \r\n\r\n   Thank you.","title":"onActivityResult() no longer calls after I speak into the Android mic","body":"<p>I developed an app a little over 2 years ago, where I call the function...</p>\n<p>startActivityForResult(intent);</p>\n<p>to get microphone input. The program doesn't read past that line of code until I say something into the mic. If I say nothing, then I have the option to tap the mic button and say something. Then, the function onActivityResult() gets called after I finally say something into the mic.</p>\n<p>Eventually, my phone updated its operating system, and I noticed that onActivityResult() no longer gets called after I say something into the microphone. Not only that. but since I also have startActivityForResult(intent) used inside a threaded loop, that function repeatedly gets called WHILE it is waiting for me to say something into the mic, not allowing me enough time for me to say anything into the mic (whereas the old operating system waited for me to say something into the mic before continuing onto the function onActivityForResult() to get the results). How would I fix this problem?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1658354614,"post_id":73025814,"comment_id":129034213,"body_markdown":"Have you tried defining the base package for your repositories in `@EnableMongoRepositories` in `Main.java`? Since you are not using Java naming conventions, SpringBoot might just not be able to automagically register the `@Repository`, as it does with, for example, `Service` interface with `ServiceImpl` class","body":"Have you tried defining the base package for your repositories in <code>@EnableMongoRepositories</code> in <code>Main.java</code>? Since you are not using Java naming conventions, SpringBoot might just not be able to automagically register the <code>@Repository</code>, as it does with, for example, <code>Service</code> interface with <code>ServiceImpl</code> class"}],"answers":[{"tags":[],"owner":{"account_id":25789431,"reputation":96,"user_id":19533736,"display_name":"Prakher Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169050,"creation_date":1658169050,"answer_id":73027009,"question_id":73025814,"body_markdown":"use annotation **@Autowired** with the constructor of BotApplication class as shown below -\r\n\r\n    @Autowired\r\n    public BotApplication(ServerRepository serverRepository, Logger logger){\r\n            String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\r\n    \r\n            this.api = new ApiBuilder();\r\n    \r\n            this.serverRepository = serverRepository;\r\n    \r\n            appRuntime(logger);\r\n        }\r\n\r\n","title":"Spring Boot unable to scan MongoRepository","body":"<p>use annotation <strong>@Autowired</strong> with the constructor of BotApplication class as shown below -</p>\n<pre><code>@Autowired\npublic BotApplication(ServerRepository serverRepository, Logger logger){\n        String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\n\n        this.api = new ApiBuilder();\n\n        this.serverRepository = serverRepository;\n\n        appRuntime(logger);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8625795,"reputation":69,"user_id":6459075,"display_name":"Kartik Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169654,"creation_date":1658169654,"answer_id":73027116,"question_id":73025814,"body_markdown":"You need to use @EnableMongoRepositories  on top of your main application class to enable scanning of mongo repository beans.\r\n","title":"Spring Boot unable to scan MongoRepository","body":"<p>You need to use @EnableMongoRepositories  on top of your main application class to enable scanning of mongo repository beans.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169869,"creation_date":1658169869,"answer_id":73027164,"question_id":73025814,"body_markdown":"You have Created `Repository` bean (ServerRepository)within your application. \r\n\r\nBut in your `BotApplication` component (which itself is a bean), you are not telling spring to inject dependency of `Repository` bean (i.e. Dependancy Injection).\r\n\r\nSuch a dependancy injection can be achieved by constructor , field-based or setter based methodologies.\r\n\r\nYou can either remove `ServerRepository serverRepository` from `public BotApplication(ServerRepository serverRepository, Logger logger)` constructor &amp; just use :\r\n\r\n    @Autowired\r\n    private final ServerRepository serverRepository;\r\n\r\n\r\nOr as other answer suggested, use @Autowired in Constructor itself and remove field `ServerRepository serverRepository` :\r\n\r\n    `\r\n    @Autowired\r\n    public BotApplication(ServerRepository serverRepository, Logger logger)\r\n    `\r\n\r\nPlease note, here, `this.serverRepository = serverRepository;` is also not required in constructor as dependency injection will take care of this.","title":"Spring Boot unable to scan MongoRepository","body":"<p>You have Created <code>Repository</code> bean (ServerRepository)within your application.</p>\n<p>But in your <code>BotApplication</code> component (which itself is a bean), you are not telling spring to inject dependency of <code>Repository</code> bean (i.e. Dependancy Injection).</p>\n<p>Such a dependancy injection can be achieved by constructor , field-based or setter based methodologies.</p>\n<p>You can either remove <code>ServerRepository serverRepository</code> from <code>public BotApplication(ServerRepository serverRepository, Logger logger)</code> constructor &amp; just use :</p>\n<pre><code>@Autowired\nprivate final ServerRepository serverRepository;\n</code></pre>\n<p>Or as other answer suggested, use @Autowired in Constructor itself and remove field <code>ServerRepository serverRepository</code> :</p>\n<pre><code>`\n@Autowired\npublic BotApplication(ServerRepository serverRepository, Logger logger)\n`\n</code></pre>\n<p>Please note, here, <code>this.serverRepository = serverRepository;</code> is also not required in constructor as dependency injection will take care of this.</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658363186,"creation_date":1658352622,"answer_id":73058334,"question_id":73025814,"body_markdown":"The problem is that you are using the primary source class(`BotApplication.class`) for executing custom code during start-up.\r\n```java\r\n    public static void main(String[] args) {\r\n        ApplicationContext AppContext = SpringApplication.run(BotApplication.class, args);\r\n    }\r\n\r\n    public BotApplication(DiscordServerRepository serverRepository, Logger logger){\r\n        ...\r\n        appRuntime(logger);\r\n    }\r\n```\r\nIt is not a good place for using repositories or any startup code.\r\n&lt;br&gt;In the `SpringApplication.run` method you need to pass only classes which provide beans definitions. These are [@Configuration][1] classes. \r\n&lt;br&gt;See the best practices https://stackoverflow.com/questions/27405713/running-code-after-spring-boot-starts\r\n\r\n**I describe one of the best solutions:** [ApplicationRunner][2]\r\n1. `BotApplication` class must implement `ApplicationRunner` interface. The interface is used to indicate that a bean should run when it is contained within a `SpringApplication`. \r\n&lt;br&gt;Execute all startup code at the `run` method.\r\n```java\r\n@Component\r\npublic class BotApplication implements ApplicationRunner {\r\n    private final DiscordApi api;\r\n    private final DiscordServerRepository serverRepository;\r\n\r\n    private final Logger logger;\r\n\r\n    public BotApplication(DiscordServerRepository serverRepository, Logger logger){\r\n        String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\r\n        this.logger = logger;\r\n        this.serverRepository = serverRepository;\r\n        this.api = new DiscordApiBuilder()\r\n                .setToken(botToken)\r\n                .setAllIntents()\r\n                .setWaitForServersOnStartup(true)\r\n                .setWaitForUsersOnStartup(true)\r\n                .login().exceptionally(exception -&gt; {    // Error message for any failed actions from the above\r\n                    logger.error(&quot;Error setting up DiscordApi instance!&quot;);\r\n                    logger.error(exception.getMessage());\r\n                    return null;\r\n                })\r\n                .join();\r\n    }\r\n\r\n    public void appRuntime(Logger logger){\r\n        logger.info(&quot;Bot has started!&quot;);\r\n\r\n        // Handling server entries in the database\r\n        if (this.serverRepository.findAll().isEmpty()) {\r\n            logger.trace(&quot;Bot server data repository empty, initializing data repository...&quot;);\r\n            Collection&lt;Server&gt; servers = api.getServers();\r\n            for (Server server : servers) {\r\n                this.serverRepository.save(new DiscordServer(String.valueOf(server.getId()), Main.defaultGuildPrefix));\r\n            }\r\n            logger.trace(&quot;Bot server data repository initialized&quot;);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public DiscordApi getApi() {\r\n        return this.api;\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        appRuntime(logger);\r\n    }\r\n}\r\n```\r\n2. Pass `Main.class` to the `SpringApplication.run`\r\n```java\r\n@SpringBootApplication\r\n@EnableMongoRepositories\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ApplicationContext AppContext = SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html","title":"Spring Boot unable to scan MongoRepository","body":"<p>The problem is that you are using the primary source class(<code>BotApplication.class</code>) for executing custom code during start-up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        ApplicationContext AppContext = SpringApplication.run(BotApplication.class, args);\n    }\n\n    public BotApplication(DiscordServerRepository serverRepository, Logger logger){\n        ...\n        appRuntime(logger);\n    }\n</code></pre>\n<p>It is not a good place for using repositories or any startup code.\n<br>In the <code>SpringApplication.run</code> method you need to pass only classes which provide beans definitions. These are <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\" rel=\"nofollow noreferrer\">@Configuration</a> classes.\n<br>See the best practices <a href=\"https://stackoverflow.com/questions/27405713/running-code-after-spring-boot-starts\">Running code after Spring Boot starts</a></p>\n<p><strong>I describe one of the best solutions:</strong> <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"nofollow noreferrer\">ApplicationRunner</a></p>\n<ol>\n<li><code>BotApplication</code> class must implement <code>ApplicationRunner</code> interface. The interface is used to indicate that a bean should run when it is contained within a <code>SpringApplication</code>.\n<br>Execute all startup code at the <code>run</code> method.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BotApplication implements ApplicationRunner {\n    private final DiscordApi api;\n    private final DiscordServerRepository serverRepository;\n\n    private final Logger logger;\n\n    public BotApplication(DiscordServerRepository serverRepository, Logger logger){\n        String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\n        this.logger = logger;\n        this.serverRepository = serverRepository;\n        this.api = new DiscordApiBuilder()\n                .setToken(botToken)\n                .setAllIntents()\n                .setWaitForServersOnStartup(true)\n                .setWaitForUsersOnStartup(true)\n                .login().exceptionally(exception -&gt; {    // Error message for any failed actions from the above\n                    logger.error(&quot;Error setting up DiscordApi instance!&quot;);\n                    logger.error(exception.getMessage());\n                    return null;\n                })\n                .join();\n    }\n\n    public void appRuntime(Logger logger){\n        logger.info(&quot;Bot has started!&quot;);\n\n        // Handling server entries in the database\n        if (this.serverRepository.findAll().isEmpty()) {\n            logger.trace(&quot;Bot server data repository empty, initializing data repository...&quot;);\n            Collection&lt;Server&gt; servers = api.getServers();\n            for (Server server : servers) {\n                this.serverRepository.save(new DiscordServer(String.valueOf(server.getId()), Main.defaultGuildPrefix));\n            }\n            logger.trace(&quot;Bot server data repository initialized&quot;);\n        }\n    }\n\n    @Bean\n    public DiscordApi getApi() {\n        return this.api;\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        appRuntime(logger);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Pass <code>Main.class</code> to the <code>SpringApplication.run</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableMongoRepositories\npublic class Main {\n    public static void main(String[] args) {\n        ApplicationContext AppContext = SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15246401,"reputation":327,"user_id":11001157,"display_name":"Prithvidiamond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73058334,"answer_count":4,"score":1,"last_activity_date":1658363186,"creation_date":1658162662,"question_id":73025814,"body_markdown":"I have a persistance interface that implements `MongoRepository` interface that looks as follows:\r\n```\r\npackage org.prithvidiamond1.DB.Repositories;\r\n\r\nimport org.prithvidiamond1.DB.Models.SomeModel;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ServerRepository extends MongoRepository&lt;SomeModel, String&gt; {\r\n}\r\n\r\n```\r\n\r\nDespite this, I keep getting the following error:\r\n```\r\nException encountered during context initialization - cancelling refresh attempt:\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;botApplication&#39;: \r\nUnsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\nNo qualifying bean of type &#39;org.prithvidiamond1.DB.Repositories.ServerRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate.\r\nDependency annotations: {}\r\n\r\n\r\nPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in org.prithvidiamond1.BotApplication required a bean of type &#39;org.prithvidiamond1.DB.Repositories.ServerRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.prithvidiamond1.DB.Repositories.ServerRepository&#39; in your configuration.\r\n\r\n```\r\nI have tried many solutions (custom `@ComponentScan`, using `@Service` instead of `@Component`, etc.) I found on the internet but none could help me solve the problem, can someone explain to me what is wrong and how I should fix this?\r\n\r\nNote: The directory structure is as follows (this is not the full directory structure, but I think this should be enough to get an idea):\r\n```\r\norg.prithvidiamond1\r\n   |\r\n   +--BotApplication.java\r\n   |\r\n   +--DB\r\n      |\r\n      +--Repository\r\n      |\r\n      +--ServerRepository.java\r\n```\r\n\r\n`BotApplication.java` looks as follows:\r\n```\r\npackage org.prithvidiamond1;\r\n\r\nimport org.jc.api.Api;\r\nimport org.jc.api.ApiBuilder;\r\nimport org.jc.api.entity.server.Server;\r\nimport org.prithvidiamond1.DB.Models.Server;\r\nimport org.prithvidiamond1.DB.Repositories.ServerRepository;\r\nimport org.slf4j.Logger;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Collection;\r\n\r\n@Component\r\npublic class BotApplication {\r\n    private final Api api;\r\n    private final ServerRepository serverRepository;\r\n\r\n    public BotApplication(ServerRepository serverRepository, Logger logger){\r\n        String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\r\n\r\n        this.api = new ApiBuilder();\r\n\r\n        this.serverRepository = serverRepository;\r\n\r\n        appRuntime(logger);\r\n    }\r\n\r\n    public void appRuntime(Logger logger){\r\n        logger.info(&quot;Bot has started!&quot;);\r\n\r\n        // Handling server entries in the database\r\n        if (this.serverRepository.findAll().isEmpty()) {\r\n            logger.trace(&quot;server data repository empty, initializing data repository...&quot;);\r\n            Collection&lt;Server&gt; servers = api.getServers();\r\n            for (Server server : servers) {\r\n                this.serverRepository.save(new Server(String.valueOf(server.getId())));\r\n            }\r\n            logger.trace(&quot;server data repository initialized&quot;);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public Api getApi() {\r\n        return this.api;\r\n    }\r\n}\r\n\r\n```\r\n\r\nEdit: Here is a link to a repository with all the code: https://github.com/prithvidiamond1/DiamondBot/tree/springboot-restructure","title":"Spring Boot unable to scan MongoRepository","body":"<p>I have a persistance interface that implements <code>MongoRepository</code> interface that looks as follows:</p>\n<pre><code>package org.prithvidiamond1.DB.Repositories;\n\nimport org.prithvidiamond1.DB.Models.SomeModel;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ServerRepository extends MongoRepository&lt;SomeModel, String&gt; {\n}\n\n</code></pre>\n<p>Despite this, I keep getting the following error:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'botApplication': \nUnsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo qualifying bean of type 'org.prithvidiamond1.DB.Repositories.ServerRepository' available: expected at least 1 bean which qualifies as autowire candidate.\nDependency annotations: {}\n\n\nPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in org.prithvidiamond1.BotApplication required a bean of type 'org.prithvidiamond1.DB.Repositories.ServerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.prithvidiamond1.DB.Repositories.ServerRepository' in your configuration.\n\n</code></pre>\n<p>I have tried many solutions (custom <code>@ComponentScan</code>, using <code>@Service</code> instead of <code>@Component</code>, etc.) I found on the internet but none could help me solve the problem, can someone explain to me what is wrong and how I should fix this?</p>\n<p>Note: The directory structure is as follows (this is not the full directory structure, but I think this should be enough to get an idea):</p>\n<pre><code>org.prithvidiamond1\n   |\n   +--BotApplication.java\n   |\n   +--DB\n      |\n      +--Repository\n      |\n      +--ServerRepository.java\n</code></pre>\n<p><code>BotApplication.java</code> looks as follows:</p>\n<pre><code>package org.prithvidiamond1;\n\nimport org.jc.api.Api;\nimport org.jc.api.ApiBuilder;\nimport org.jc.api.entity.server.Server;\nimport org.prithvidiamond1.DB.Models.Server;\nimport org.prithvidiamond1.DB.Repositories.ServerRepository;\nimport org.slf4j.Logger;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Collection;\n\n@Component\npublic class BotApplication {\n    private final Api api;\n    private final ServerRepository serverRepository;\n\n    public BotApplication(ServerRepository serverRepository, Logger logger){\n        String botToken = System.getenv().get(&quot;BOT_TOKEN&quot;);\n\n        this.api = new ApiBuilder();\n\n        this.serverRepository = serverRepository;\n\n        appRuntime(logger);\n    }\n\n    public void appRuntime(Logger logger){\n        logger.info(&quot;Bot has started!&quot;);\n\n        // Handling server entries in the database\n        if (this.serverRepository.findAll().isEmpty()) {\n            logger.trace(&quot;server data repository empty, initializing data repository...&quot;);\n            Collection&lt;Server&gt; servers = api.getServers();\n            for (Server server : servers) {\n                this.serverRepository.save(new Server(String.valueOf(server.getId())));\n            }\n            logger.trace(&quot;server data repository initialized&quot;);\n        }\n    }\n\n    @Bean\n    public Api getApi() {\n        return this.api;\n    }\n}\n\n</code></pre>\n<p>Edit: Here is a link to a repository with all the code: <a href=\"https://github.com/prithvidiamond1/DiamondBot/tree/springboot-restructure\" rel=\"nofollow noreferrer\">https://github.com/prithvidiamond1/DiamondBot/tree/springboot-restructure</a></p>\n"},{"tags":["java","junit","jackson","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658332664,"post_id":73053093,"comment_id":129027361,"body_markdown":"Do you just want to unit test this `StringToDateDeserializer` in isolation, or if it&#39;s correctly applied in the context of an `ObjectMapper`? And what is your current project setup regarding testing, which test framework and library versions are in use? This can be easily mocked with for example `Mockito`, let me know if you would like an example of how that would look.","body":"Do you just want to unit test this <code>StringToDateDeserializer</code> in isolation, or if it&#39;s correctly applied in the context of an <code>ObjectMapper</code>? And what is your current project setup regarding testing, which test framework and library versions are in use? This can be easily mocked with for example <code>Mockito</code>, let me know if you would like an example of how that would look."},{"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"score":0,"creation_date":1658340044,"post_id":73053093,"comment_id":129029973,"body_markdown":"Need just simple Junits, this custom deserializer is applied on date field. I tired mocking, but it gave some error, refer below snippet applied on date field `@JsonDeserialize(using = StringToDateDeserializer.class)`\n`","body":"Need just simple Junits, this custom deserializer is applied on date field. I tired mocking, but it gave some error, refer below snippet applied on date field <code>@JsonDeserialize(using = StringToDateDeserializer.class)</code> `"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658341211,"post_id":73053093,"comment_id":129030346,"body_markdown":"Junit 4 or 5? If you can edit your question to include what you’ve tried and the error message that gave we can better help you. Currently i would still suggest adding or using Mockito for mocking the JsonParser. If you want pure Junit you could test it by using a real ObjectMapper.","body":"Junit 4 or 5? If you can edit your question to include what you’ve tried and the error message that gave we can better help you. Currently i would still suggest adding or using Mockito for mocking the JsonParser. If you want pure Junit you could test it by using a real ObjectMapper."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658362718,"creation_date":1658362718,"answer_id":73059398,"question_id":73053093,"body_markdown":"Example of test for `StringToDateDeserializer` with 100% coverage.\r\n```java\r\npublic class TestClass {\r\n    private ObjectMapper mapper;\r\n    private StringToDateDeserializer deserializer;\r\n\r\n    @Before\r\n    public void setup() {\r\n        mapper = new ObjectMapper();\r\n        deserializer = new StringToDateDeserializer();\r\n    }\r\n\r\n    @Test\r\n    public void dateTest() throws IOException {\r\n        Date date = deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;2020-07-10T15:00:00.000\\&quot; }&quot;), mapper.getDeserializationContext());\r\n\r\n        Assert.assertNotNull(date);\r\n        Assert.assertEquals(1594393200000L, date.getTime());\r\n    }\r\n\r\n    @Test(expected = MyCustomException.class)\r\n    public void exceptionalTest() throws IOException {\r\n        deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;2020-07\\&quot; }&quot;), mapper.getDeserializationContext());\r\n    }\r\n\r\n    @Test\r\n    public void nullTest() throws IOException {\r\n        Date date = deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;\\&quot; }&quot;), mapper.getDeserializationContext());\r\n\r\n        Assert.assertNull(date);\r\n    }\r\n\r\n    private JsonParser prepareParser(String json) throws IOException {\r\n        JsonParser parser = mapper.getFactory().createParser(json);\r\n        while (parser.nextToken() != JsonToken.VALUE_STRING);\r\n        return parser;\r\n    }\r\n}\r\n```","title":"How to prepare or mock JsonParser to test custom StdDeserializer","body":"<p>Example of test for <code>StringToDateDeserializer</code> with 100% coverage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    private ObjectMapper mapper;\n    private StringToDateDeserializer deserializer;\n\n    @Before\n    public void setup() {\n        mapper = new ObjectMapper();\n        deserializer = new StringToDateDeserializer();\n    }\n\n    @Test\n    public void dateTest() throws IOException {\n        Date date = deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;2020-07-10T15:00:00.000\\&quot; }&quot;), mapper.getDeserializationContext());\n\n        Assert.assertNotNull(date);\n        Assert.assertEquals(1594393200000L, date.getTime());\n    }\n\n    @Test(expected = MyCustomException.class)\n    public void exceptionalTest() throws IOException {\n        deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;2020-07\\&quot; }&quot;), mapper.getDeserializationContext());\n    }\n\n    @Test\n    public void nullTest() throws IOException {\n        Date date = deserializer.deserialize(prepareParser(&quot;{ \\&quot;value\\&quot;:\\&quot;\\&quot; }&quot;), mapper.getDeserializationContext());\n\n        Assert.assertNull(date);\n    }\n\n    private JsonParser prepareParser(String json) throws IOException {\n        JsonParser parser = mapper.getFactory().createParser(json);\n        while (parser.nextToken() != JsonToken.VALUE_STRING);\n        return parser;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73059398,"answer_count":1,"score":3,"last_activity_date":1658362956,"creation_date":1658325806,"question_id":73053093,"body_markdown":"I have custom `StdDeserializer&lt;Date&gt;`, how can i unit test the overridden `deserialize` method here?\r\n\r\nor how can i prepare or mock `JsonParser` here for unit testing desterilize method?\r\n\r\n\r\n```\r\npublic class StringToDateDeserializer extends StdDeserializer&lt;Date&gt; {\r\n\r\n    protected StdDateFormat df = new StdDateFormat();\r\n\r\n    public StringToDateDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    protected StringToDateDeserializer(Class&lt;?&gt; T) {\r\n        super(T);\r\n    }\r\n\r\n    @Override\r\n    public Date deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\r\n        String dateStr = jsonParser.getText();\r\n        if (StringUtils.isEmpty(dateStr)) {\r\n            return null;\r\n        }\r\n        try {\r\n            return df.parse(dateStr);\r\n        } catch (ParseException e) {\r\n            throw new MyCustomException(&quot;Invalid date passed, ISO 8601 is expected&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"How to prepare or mock JsonParser to test custom StdDeserializer","body":"<p>I have custom <code>StdDeserializer&lt;Date&gt;</code>, how can i unit test the overridden <code>deserialize</code> method here?</p>\n<p>or how can i prepare or mock <code>JsonParser</code> here for unit testing desterilize method?</p>\n<pre><code>public class StringToDateDeserializer extends StdDeserializer&lt;Date&gt; {\n\n    protected StdDateFormat df = new StdDateFormat();\n\n    public StringToDateDeserializer() {\n        this(null);\n    }\n\n    protected StringToDateDeserializer(Class&lt;?&gt; T) {\n        super(T);\n    }\n\n    @Override\n    public Date deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\n        String dateStr = jsonParser.getText();\n        if (StringUtils.isEmpty(dateStr)) {\n            return null;\n        }\n        try {\n            return df.parse(dateStr);\n        } catch (ParseException e) {\n            throw new MyCustomException(&quot;Invalid date passed, ISO 8601 is expected&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":4,"creation_date":1658289880,"post_id":73045855,"comment_id":129011937,"body_markdown":"Seems like this is a question for Oracle to answer?","body":"Seems like this is a question for Oracle to answer?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1658290434,"post_id":73045855,"comment_id":129012016,"body_markdown":"Have you ever tried creating a brown color?  It&#39;s actually much harder then you think","body":"Have you ever tried creating a brown color?  It&#39;s actually much harder then you think"},{"owner":{"account_id":1252530,"reputation":157,"user_id":1212644,"display_name":"Dmitry Kamenetsky"},"score":0,"creation_date":1658291641,"post_id":73045855,"comment_id":129012197,"body_markdown":"Not really hard - new Color(139, 69, 19) should do it.","body":"Not really hard - new Color(139, 69, 19) should do it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658362711,"creation_date":1658293186,"answer_id":73046203,"question_id":73045855,"body_markdown":"Short version:  Because the Java team think that extra color constants are not needed.  They clearly said so in 2012!\r\n\r\n---------------------------\r\n\r\nThis is one of the few case where there is actually a clearly documented answer&lt;sup&gt;1&lt;/sup&gt; to a &quot;Java design&quot; type question.\r\n\r\nThe following RFE was opened in 2010 against Java 6:\r\n\r\n  - &quot;additional java.awt.Color constants requested for great justice&quot; : \r\nhttps://bugs.openjdk.org/browse/JDK-6921655\r\n\r\nwhere the requestor proposed adding 10 new constants to assist in developing &quot;chromatically diverse&quot; user interfaces.   He also provided a &quot;helpful&quot; link to a Wikipedia page on [X11 color names][1].\r\n\r\nThe RFE was declined with the comment:\r\n\r\n&gt; *&quot;We&#39;ve got along fine without these for about 14 years and I don&#39;t\r\nsee a need for them now.&quot;*\r\n\r\nBy extension, requests for (say) &quot;Brown&quot; should get the same response.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - I imagine that were also a &quot;slippery slopes&quot; arguments that hypothesizes a never ending stream of RFEs asking for yet more convenience color constants, or Bugs saying that color&#39;s X&#39;s attributes are wrong / inconsistent with X11 / inconsistent with CSS / &quot;look wrong on my screen&quot;, etc.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/X11_color_names","title":"Why is there no brown color in Java&#39;s Color class?","body":"<p>Short version:  Because the Java team think that extra color constants are not needed.  They clearly said so in 2012!</p>\n<hr />\n<p>This is one of the few case where there is actually a clearly documented answer<sup>1</sup> to a &quot;Java design&quot; type question.</p>\n<p>The following RFE was opened in 2010 against Java 6:</p>\n<ul>\n<li>&quot;additional java.awt.Color constants requested for great justice&quot; :\n<a href=\"https://bugs.openjdk.org/browse/JDK-6921655\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6921655</a></li>\n</ul>\n<p>where the requestor proposed adding 10 new constants to assist in developing &quot;chromatically diverse&quot; user interfaces.   He also provided a &quot;helpful&quot; link to a Wikipedia page on <a href=\"https://en.wikipedia.org/wiki/X11_color_names\" rel=\"nofollow noreferrer\">X11 color names</a>.</p>\n<p>The RFE was declined with the comment:</p>\n<blockquote>\n<p><em>&quot;We've got along fine without these for about 14 years and I don't\nsee a need for them now.&quot;</em></p>\n</blockquote>\n<p>By extension, requests for (say) &quot;Brown&quot; should get the same response.</p>\n<hr />\n<p><sup>1 - I imagine that were also a &quot;slippery slopes&quot; arguments that hypothesizes a never ending stream of RFEs asking for yet more convenience color constants, or Bugs saying that color's X's attributes are wrong / inconsistent with X11 / inconsistent with CSS / &quot;look wrong on my screen&quot;, etc.</sup></p>\n"}],"owner":{"account_id":1252530,"reputation":157,"user_id":1212644,"display_name":"Dmitry Kamenetsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1658293317,"accepted_answer_id":73046203,"answer_count":1,"score":-2,"last_activity_date":1658362711,"creation_date":1658289659,"question_id":73045855,"body_markdown":"Why is there no built-in brown color in Java&#39;s [Color][1] class? Sure I can make it myself, but it seems like a common enough color that should be available already.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Color.html","title":"Why is there no brown color in Java&#39;s Color class?","body":"<p>Why is there no built-in brown color in Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Color.html\" rel=\"nofollow noreferrer\">Color</a> class? Sure I can make it myself, but it seems like a common enough color that should be available already.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1658358742,"post_id":73058955,"comment_id":129035027,"body_markdown":"We need the full stack trace.  What you gave us is cut off.  Unfortunately with inflation crashes, its the bottom most exception in the stack that&#39;s the real problem","body":"We need the full stack trace.  What you gave us is cut off.  Unfortunately with inflation crashes, its the bottom most exception in the stack that&#39;s the real problem"},{"owner":{"account_id":22926664,"reputation":11,"user_id":17061614,"display_name":"Zero"},"score":0,"creation_date":1658360860,"post_id":73058955,"comment_id":129035373,"body_markdown":"ready i edit post","body":"ready i edit post"}],"owner":{"account_id":22926664,"reputation":11,"user_id":17061614,"display_name":"Zero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658360807,"creation_date":1658357839,"question_id":73058955,"body_markdown":"I have an error when starting my application, well, it&#39;s nothing special, it&#39;s just the safe application that Android Studio gives you and I get this error that I can&#39;t solve.\r\n\r\nI am starting this app on my Alcatel 5041C mobile, when I open the app I get an error &quot;The app has stopped&quot;\r\n\r\n\r\nRun: (error)\r\n\r\n```\r\n2022-07-20 19:45:52.492 25833-25833/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 25833\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2897)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6615)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\r\n     Caused by: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n     Caused by: android.view.InflateException: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:905)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:703)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:12)\r\n        at android.app.Activity.performCreate(Activity.java:7073)\r\n        at android.app.Activity.performCreate(Activity.java:7064)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2850)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6615)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\r\n     Caused by: java.lang.BootstrapMethodError: Exception from call site #38 bootstrap method\r\n        at androidx.core.view.ViewCompat.&lt;clinit&gt;(ViewCompat.java:2852)\r\n        at androidx.core.view.ViewCompat.setBackground(ViewCompat.java:2991)\r\n        at androidx.appcompat.widget.ActionBarContainer.&lt;init&gt;(ActionBarContainer.java:63)\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)&#160;\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)&#160;\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)&#160;\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:905)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:703)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)&#160;\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:12)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:7073)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:7064)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2850)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6615)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)&#160;\r\n     Caused by: java.lang.NoClassDefFoundError: Invalid descriptor: ex\r\n    038.\r\n```\r\n\r\nAndroid manifest:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.myapplication&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nxml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nactivity_main.java:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\nhelp me pls :(","title":"Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer","body":"<p>I have an error when starting my application, well, it's nothing special, it's just the safe application that Android Studio gives you and I get this error that I can't solve.</p>\n<p>I am starting this app on my Alcatel 5041C mobile, when I open the app I get an error &quot;The app has stopped&quot;</p>\n<p>Run: (error)</p>\n<pre><code>2022-07-20 19:45:52.492 25833-25833/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 25833\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2897)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6615)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\n     Caused by: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n     Caused by: android.view.InflateException: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:905)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:703)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:12)\n        at android.app.Activity.performCreate(Activity.java:7073)\n        at android.app.Activity.performCreate(Activity.java:7064)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2850)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6615)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\n     Caused by: java.lang.BootstrapMethodError: Exception from call site #38 bootstrap method\n        at androidx.core.view.ViewCompat.&lt;clinit&gt;(ViewCompat.java:2852)\n        at androidx.core.view.ViewCompat.setBackground(ViewCompat.java:2991)\n        at androidx.appcompat.widget.ActionBarContainer.&lt;init&gt;(ActionBarContainer.java:63)\n        at java.lang.reflect.Constructor.newInstance0(Native Method) \n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334) \n        at android.view.LayoutInflater.createView(LayoutInflater.java:647) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:905) \n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815) \n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:703) \n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195) \n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:12) \n        at android.app.Activity.performCreate(Activity.java:7073) \n        at android.app.Activity.performCreate(Activity.java:7064) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2850) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2975) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1705) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6615) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857) \n     Caused by: java.lang.NoClassDefFoundError: Invalid descriptor: ex\n    038.\n</code></pre>\n<p>Android manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.myapplication&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>activity_main.java:</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>help me pls :(</p>\n"},{"tags":["python","java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657089408,"creation_date":1657089408,"answer_id":72878878,"question_id":72877100,"body_markdown":"I can see you have set ENABLE_AUTO_COMMIT_CONFIG to false, that means you are having a manual commit process in place. If we are not committing the offset of the messages read efficiently, then we will end up in processing duplicate messages.\r\n\r\nKindly refer session from 4.6 from https://www.baeldung.com/kafka-exactly-once\r\n\r\nAlso, for processing.guarantee : exactly_once the following parameters you no need to set explicitly.\r\n\r\n- isolation.level=read_committed\r\n- enable.idempotence=true\r\n- MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION=5","title":"Kafka | exactly-once consumer consume a message more than once","body":"<p>I can see you have set ENABLE_AUTO_COMMIT_CONFIG to false, that means you are having a manual commit process in place. If we are not committing the offset of the messages read efficiently, then we will end up in processing duplicate messages.</p>\n<p>Kindly refer session from 4.6 from <a href=\"https://www.baeldung.com/kafka-exactly-once\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kafka-exactly-once</a></p>\n<p>Also, for processing.guarantee : exactly_once the following parameters you no need to set explicitly.</p>\n<ul>\n<li>isolation.level=read_committed</li>\n<li>enable.idempotence=true</li>\n<li>MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION=5</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4032849,"reputation":6492,"user_id":3318335,"display_name":"Svend"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657093284,"creation_date":1657093284,"answer_id":72879606,"question_id":72877100,"body_markdown":"Kafka exactly-once is essentially a Kafka-Streams feature, although it can be used with regular consumer and producers as well. \r\n\r\nExactly once can only be achieved in a context where your applications are only interacting with Kafka: there is no XA nor other kind of distributed transactions across technologies that would enable a Kafka consumer interact with some other storage (like Redis) in an exactly-once manner. \r\n\r\nIn a distributed world, we have to acknowledge that is not desirable, since it introduce locking, contention, and exponentially degrading performance under load. If we don&#39;t need to be in a distributed world, then we don&#39;t need Kafka and many things become easier. \r\n\r\nTransactions in Kafka are meant to be used within one application that is only interacting with Kafka, it lets you guarantee that the app will 1) read from some topic partitions, 2) write some result in some other topic partitions and 3) commit the read offsets related to 1, or do none of those things. If several apps are put back-to-back and interacting through Kafka in such manner, then you _could_ achieve exactly once if you&#39;re very careful. If your consumer needs to 4) interact with Redis 5) interact with some other storage or do some side effect somewhere (like sending an email or so), then there is in general no way to perform steps 1,2,3,4,5 atomically as part of a distributed application. You _can_ achieve this kind of things with other storage technologies (yes, Kafka is essentially a storage), but they cannot be distributed and your application cannot either. That&#39;s essentially what the CAP theorem tells us. \r\n\r\nThat&#39;s also why exactly-once is essentially a Kafka-streams stuff: Kafka Stream is just a smart wrapper around the Kafka consumer/producer clients that lest you build applications that interact only with Kafka.\r\n\r\nYou can also achieve exactly-once streaming processing with other data-processing framework, like Spark Streaming or Flink. \r\n\r\nIn practice it&#39;s often much simpler to not bother with transactions and just de-duplicate in the consumer. You have the guarantee that at max one consumer of the consumer group is connected to each partition at any point in time, so duplicates will always happen in the same instance of your app (until it re-scales), and, depending on your config, the duplication should typically only happen within one single Kafka consumer buffer, so you don&#39;t need to store much state in your consumer to de-duplicate. If you use some kind of event-ids that can only increase for example (which is essentially what the Kafka offset is BTW, and it&#39;s no coincidence), then you just need to keep in the state of each instance of your app the maximum event-id per partition that you&#39;ve successfully processed. \r\n\r\n\r\n","title":"Kafka | exactly-once consumer consume a message more than once","body":"<p>Kafka exactly-once is essentially a Kafka-Streams feature, although it can be used with regular consumer and producers as well.</p>\n<p>Exactly once can only be achieved in a context where your applications are only interacting with Kafka: there is no XA nor other kind of distributed transactions across technologies that would enable a Kafka consumer interact with some other storage (like Redis) in an exactly-once manner.</p>\n<p>In a distributed world, we have to acknowledge that is not desirable, since it introduce locking, contention, and exponentially degrading performance under load. If we don't need to be in a distributed world, then we don't need Kafka and many things become easier.</p>\n<p>Transactions in Kafka are meant to be used within one application that is only interacting with Kafka, it lets you guarantee that the app will 1) read from some topic partitions, 2) write some result in some other topic partitions and 3) commit the read offsets related to 1, or do none of those things. If several apps are put back-to-back and interacting through Kafka in such manner, then you <em>could</em> achieve exactly once if you're very careful. If your consumer needs to 4) interact with Redis 5) interact with some other storage or do some side effect somewhere (like sending an email or so), then there is in general no way to perform steps 1,2,3,4,5 atomically as part of a distributed application. You <em>can</em> achieve this kind of things with other storage technologies (yes, Kafka is essentially a storage), but they cannot be distributed and your application cannot either. That's essentially what the CAP theorem tells us.</p>\n<p>That's also why exactly-once is essentially a Kafka-streams stuff: Kafka Stream is just a smart wrapper around the Kafka consumer/producer clients that lest you build applications that interact only with Kafka.</p>\n<p>You can also achieve exactly-once streaming processing with other data-processing framework, like Spark Streaming or Flink.</p>\n<p>In practice it's often much simpler to not bother with transactions and just de-duplicate in the consumer. You have the guarantee that at max one consumer of the consumer group is connected to each partition at any point in time, so duplicates will always happen in the same instance of your app (until it re-scales), and, depending on your config, the duplication should typically only happen within one single Kafka consumer buffer, so you don't need to store much state in your consumer to de-duplicate. If you use some kind of event-ids that can only increase for example (which is essentially what the Kafka offset is BTW, and it's no coincidence), then you just need to keep in the state of each instance of your app the maximum event-id per partition that you've successfully processed.</p>\n"}],"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1721,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658360676,"creation_date":1657071843,"question_id":72877100,"body_markdown":"In our applications have enabled exactly-once in both Producer and Consumer.\r\n\r\nProducer is a python component.We have enabled:\r\n\r\n - idempotence \r\n - use transactions (new transactionId is used every time when we send messages)\r\n\r\nConsumer is a Spring Boot application. We have enabled:\r\n\r\n - read_committed isolation level\r\n - use manual acknowledgement for messages\r\n\r\n\r\nWe have multi-partition Kafka topic (lets say 3 partitions) on ConfluentCloud.\r\n\r\n**Our application design is as follows:**\r\n\r\n - multiple Producer app instances\r\n - for performance ,we have lots of Consumer app instances (currently around 24)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iH9E5.png\r\n\r\n**Problem:**\r\n\r\nWe noticed that sometimes the same Kafka message is consumed more than once in the Consumer.We detected this by using following consumer code. We keep the previously consumed kafka message Id (with offset) in Redis and compare them with newly consumed message.\r\n\r\nConsumer code:\r\n\r\n     @KafkaListener(topics = &quot;${datalake.datasetevents.topic}&quot;,  groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\r\n        public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key,\r\n                           @Header(KafkaHeaders.OFFSET) String offset,\r\n                           @Payload InputEvent inputEvent, Acknowledgment acknowledgment)  {\r\n            //KafkaHeaders.\r\n            Event event = new Event();\r\n            event.setCorrId(inputEvent.getCorrId());\r\n            event.setQn(inputEvent.getQn());\r\n            event.setCreatedTs(new Date());\r\n            event.setEventTs(inputEvent.getEventTs());\r\n            event.setMeta(inputEvent.getMeta() != null ? inputEvent.getMeta(): new HashMap&lt;&gt;());\r\n            event.setType(inputEvent.getType());\r\n            event.setUlid(key);\r\n    \r\n            //detect message duplications\r\n            try {\r\n                String eventRedisKey = &quot;tg_e_d_&quot; + key.toLowerCase();\r\n                String redisVal = offset;\r\n                String tmp = redisTemplateString.opsForValue().get(eventRedisKey);\r\n                if (tmp != null) {\r\n                    dlkLogging.error(&quot;kafka_event_dup&quot;, &quot;Event consumed more than once ulid:&quot; + event.getUlid()+ &quot; redis offset: &quot;+tmp+ &quot; event offset:&quot;+offset);\r\n                    redisTemplateString.delete(eventRedisKey);\r\n                }\r\n                redisTemplateString.opsForValue().set(eventRedisKey, redisVal, 30, TimeUnit.SECONDS);\r\n            } catch (Exception e) {\r\n                dlkLogging.error(&quot;kafka_consumer_redis&quot;,&quot;Redis error at kafka consumere &quot;, e);\r\n            }\r\n    \r\n            //process the message and ack\r\n            try {\r\n                eventService.saveEvent(persistEvent, event);\r\n                ack.acknowledge(); \r\n            } catch (Exception ee) {\r\n                //Refer : https://stackoverflow.com/questions/62413270/kafka-what-is-the-point-of-using-acknowledgment-nack-if-i-can-simply-not-ack\r\n                ack.nack(1);\r\n                dlkLogging.error(&quot;event_sink_error&quot;,&quot;error sinking kafka event.Will retry&quot;, ee);\r\n            }\r\n        }\r\n\r\n**Behavior**:\r\nWe notice the &quot;kafka_event_dup&quot; is sent several times per day.\r\n\r\n&gt; Error Message: Event consumed more than once\r\n&gt; ulid:01G77G8KNTSM2Q01SB1MK60BTH redis offset: 659238 event\r\n&gt; offset:659238\r\n\r\n**Question:**\r\nWhy consumer read the same message even though we have configured exactly-once in both Producer and Consumer?\r\n\r\n***Update*** : After reading several SO posts, seems we still need to implement deduplication logic in Consumer side even though exactly-once is configured? \r\n\r\n**Additional Info:**\r\n\r\nConsumer configuration:\r\n\r\n    public DefaultKafkaConsumerFactory kafkaDatasetEventConsumerFactory(KafkaProperties properties) {\r\n    \r\n            Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\r\n            props.put(ENABLE_AUTO_COMMIT_CONFIG, false);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            props.put(ConsumerConfig.ISOLATION_LEVEL_CONFIG, &quot;read_committed&quot;);\r\n            props.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\r\n        \r\n            props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, CustomJsonDeserializer.class.getName());\r\n            props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.fr.det.datalake.eventdriven.model.kafka.InputEvent&quot;);\r\n            return new DefaultKafkaConsumerFactory(props);\r\n         \r\n     }\r\n\r\nProducer code (python):\r\n\r\n    def __get_producer(self):\r\n            conf = {\r\n                &#39;bootstrap.servers&#39;: self.server,\r\n                &#39;enable.idempotence&#39;: True,\r\n                &#39;acks&#39;: &#39;all&#39;,\r\n                &#39;retry.backoff.ms&#39;: self.sleep_seconds * 100\r\n            }\r\n            if self.sasl_mechanism:\r\n                conf[&#39;sasl.mechanisms&#39;] = self.sasl_mechanism\r\n            if self.security_protocol:\r\n                conf[&#39;security.protocol&#39;] = self.security_protocol\r\n            if self.sasl_username:\r\n                conf[&#39;sasl.username&#39;] = self.sasl_username\r\n            if self.sasl_username:\r\n                conf[&#39;sasl.password&#39;] = self.sasl_password\r\n            if self.transaction_prefix:\r\n                conf[&#39;transactional.id&#39;] = self.__get_transaction_id()\r\n    \r\n            producer = Producer(conf)\r\n            return producer\r\n    \r\n    \r\n    @_retry_on_error\r\n        def send_messages(self, messages, *args, **kwargs):\r\n            ts = time.time()\r\n            producer = kwargs.get(&#39;producer&#39;, None)\r\n            if producer is not None:\r\n                for message in messages:\r\n                    key = message.get(&#39;key&#39;, str(ulid.from_timestamp(ts)))\r\n                    value = message.get(&#39;value&#39;, None)\r\n                    topic = message.get(&#39;topic&#39;, self.topic)\r\n                    producer.produce(topic=topic,\r\n                                    value=value,\r\n                                    key=key,\r\n                                    on_delivery=self.acked)\r\n                producer.commit_transaction(30)\r\n\r\n\r\n    def _retry_on_error(func, *args, **kwargs):\r\n            def inner(self, messages, *args, **kwargs):\r\n    \r\n                attempts = 0\r\n    \r\n                while True:\r\n                    attempts += 1\r\n                    sleep_time = attempts * self.sleep_seconds\r\n    \r\n                    try:\r\n                        producer = self.__get_producer()\r\n                        self.logger.info(f&quot;Producer: {producer}, Attempt: {attempts}&quot;)\r\n                        producer.init_transactions(30)\r\n                        producer.begin_transaction()\r\n                        res = func(self, messages, *args, producer=producer, **kwargs)\r\n                        return res\r\n                    except KafkaException as e:\r\n                        if attempts &lt;= self.retry_count:\r\n                            if e.args[0].txn_requires_abort():\r\n                                producer.abort_transaction(30)\r\n                            \r\n                            time.sleep(sleep_time)\r\n                            continue\r\n    \r\n                        self.logger.error(str(e), exc_info=True, extra=extra)\r\n                        break\r\n    \r\n            return inner","title":"Kafka | exactly-once consumer consume a message more than once","body":"<p>In our applications have enabled exactly-once in both Producer and Consumer.</p>\n<p>Producer is a python component.We have enabled:</p>\n<ul>\n<li>idempotence</li>\n<li>use transactions (new transactionId is used every time when we send messages)</li>\n</ul>\n<p>Consumer is a Spring Boot application. We have enabled:</p>\n<ul>\n<li>read_committed isolation level</li>\n<li>use manual acknowledgement for messages</li>\n</ul>\n<p>We have multi-partition Kafka topic (lets say 3 partitions) on ConfluentCloud.</p>\n<p><strong>Our application design is as follows:</strong></p>\n<ul>\n<li>multiple Producer app instances</li>\n<li>for performance ,we have lots of Consumer app instances (currently around 24)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/iH9E5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iH9E5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem:</strong></p>\n<p>We noticed that sometimes the same Kafka message is consumed more than once in the Consumer.We detected this by using following consumer code. We keep the previously consumed kafka message Id (with offset) in Redis and compare them with newly consumed message.</p>\n<p>Consumer code:</p>\n<pre><code> @KafkaListener(topics = &quot;${datalake.datasetevents.topic}&quot;,  groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\n    public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key,\n                       @Header(KafkaHeaders.OFFSET) String offset,\n                       @Payload InputEvent inputEvent, Acknowledgment acknowledgment)  {\n        //KafkaHeaders.\n        Event event = new Event();\n        event.setCorrId(inputEvent.getCorrId());\n        event.setQn(inputEvent.getQn());\n        event.setCreatedTs(new Date());\n        event.setEventTs(inputEvent.getEventTs());\n        event.setMeta(inputEvent.getMeta() != null ? inputEvent.getMeta(): new HashMap&lt;&gt;());\n        event.setType(inputEvent.getType());\n        event.setUlid(key);\n\n        //detect message duplications\n        try {\n            String eventRedisKey = &quot;tg_e_d_&quot; + key.toLowerCase();\n            String redisVal = offset;\n            String tmp = redisTemplateString.opsForValue().get(eventRedisKey);\n            if (tmp != null) {\n                dlkLogging.error(&quot;kafka_event_dup&quot;, &quot;Event consumed more than once ulid:&quot; + event.getUlid()+ &quot; redis offset: &quot;+tmp+ &quot; event offset:&quot;+offset);\n                redisTemplateString.delete(eventRedisKey);\n            }\n            redisTemplateString.opsForValue().set(eventRedisKey, redisVal, 30, TimeUnit.SECONDS);\n        } catch (Exception e) {\n            dlkLogging.error(&quot;kafka_consumer_redis&quot;,&quot;Redis error at kafka consumere &quot;, e);\n        }\n\n        //process the message and ack\n        try {\n            eventService.saveEvent(persistEvent, event);\n            ack.acknowledge(); \n        } catch (Exception ee) {\n            //Refer : https://stackoverflow.com/questions/62413270/kafka-what-is-the-point-of-using-acknowledgment-nack-if-i-can-simply-not-ack\n            ack.nack(1);\n            dlkLogging.error(&quot;event_sink_error&quot;,&quot;error sinking kafka event.Will retry&quot;, ee);\n        }\n    }\n</code></pre>\n<p><strong>Behavior</strong>:\nWe notice the &quot;kafka_event_dup&quot; is sent several times per day.</p>\n<blockquote>\n<p>Error Message: Event consumed more than once\nulid:01G77G8KNTSM2Q01SB1MK60BTH redis offset: 659238 event\noffset:659238</p>\n</blockquote>\n<p><strong>Question:</strong>\nWhy consumer read the same message even though we have configured exactly-once in both Producer and Consumer?</p>\n<p><em><strong>Update</strong></em> : After reading several SO posts, seems we still need to implement deduplication logic in Consumer side even though exactly-once is configured?</p>\n<p><strong>Additional Info:</strong></p>\n<p>Consumer configuration:</p>\n<pre><code>public DefaultKafkaConsumerFactory kafkaDatasetEventConsumerFactory(KafkaProperties properties) {\n\n        Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\n        props.put(ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ConsumerConfig.ISOLATION_LEVEL_CONFIG, &quot;read_committed&quot;);\n        props.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\n    \n        props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, CustomJsonDeserializer.class.getName());\n        props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.fr.det.datalake.eventdriven.model.kafka.InputEvent&quot;);\n        return new DefaultKafkaConsumerFactory(props);\n     \n }\n</code></pre>\n<p>Producer code (python):</p>\n<pre><code>def __get_producer(self):\n        conf = {\n            'bootstrap.servers': self.server,\n            'enable.idempotence': True,\n            'acks': 'all',\n            'retry.backoff.ms': self.sleep_seconds * 100\n        }\n        if self.sasl_mechanism:\n            conf['sasl.mechanisms'] = self.sasl_mechanism\n        if self.security_protocol:\n            conf['security.protocol'] = self.security_protocol\n        if self.sasl_username:\n            conf['sasl.username'] = self.sasl_username\n        if self.sasl_username:\n            conf['sasl.password'] = self.sasl_password\n        if self.transaction_prefix:\n            conf['transactional.id'] = self.__get_transaction_id()\n\n        producer = Producer(conf)\n        return producer\n\n\n@_retry_on_error\n    def send_messages(self, messages, *args, **kwargs):\n        ts = time.time()\n        producer = kwargs.get('producer', None)\n        if producer is not None:\n            for message in messages:\n                key = message.get('key', str(ulid.from_timestamp(ts)))\n                value = message.get('value', None)\n                topic = message.get('topic', self.topic)\n                producer.produce(topic=topic,\n                                value=value,\n                                key=key,\n                                on_delivery=self.acked)\n            producer.commit_transaction(30)\n\n\ndef _retry_on_error(func, *args, **kwargs):\n        def inner(self, messages, *args, **kwargs):\n\n            attempts = 0\n\n            while True:\n                attempts += 1\n                sleep_time = attempts * self.sleep_seconds\n\n                try:\n                    producer = self.__get_producer()\n                    self.logger.info(f&quot;Producer: {producer}, Attempt: {attempts}&quot;)\n                    producer.init_transactions(30)\n                    producer.begin_transaction()\n                    res = func(self, messages, *args, producer=producer, **kwargs)\n                    return res\n                except KafkaException as e:\n                    if attempts &lt;= self.retry_count:\n                        if e.args[0].txn_requires_abort():\n                            producer.abort_transaction(30)\n                        \n                        time.sleep(sleep_time)\n                        continue\n\n                    self.logger.error(str(e), exc_info=True, extra=extra)\n                    break\n\n        return inner\n</code></pre>\n"},{"tags":["java","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1658411791,"post_id":73059205,"comment_id":129049302,"body_markdown":"Yes, it&#39;s possible. What a callback function is called when you redirect it from Azure? You also saying that you redirect to an action from a struts filter? Tell me more about this scenario.","body":"Yes, it&#39;s possible. What a callback function is called when you redirect it from Azure? You also saying that you redirect to an action from a struts filter? Tell me more about this scenario."}],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658360464,"creation_date":1658360464,"question_id":73059205,"body_markdown":"I have a problem, I have a project with struts2 and I want to make a filter to make a login from azure, however, I want to redirect to an action if everything went correctly, but it gives me the following error \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am not very good with this technology, I am learning and I have relied on some tutorials, however, I do not make it into the action.\r\n\r\nMy web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n       \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;com.seguridata.rne.portal.servlet.http.SessionListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;    \r\n        \r\n        &lt;!-- filter --&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts-prepare&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;com.opensymphony.module.sitemesh.filter.PageFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts-execute&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsExecuteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;        \r\n        &lt;/filter&gt;\r\n        &lt;!-- .\\filter --&gt;\r\n    \r\n        &lt;!-- filter-mapping --&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts-prepare&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts-execute&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n        &lt;!-- .\\filter-mapping --&gt;\r\n        \r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n        \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;/view/login.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n        \r\n            \r\n       &lt;context-param&gt;\r\n        &lt;param-name&gt;authority&lt;/param-name&gt;\r\n        &lt;param-value&gt;https://login.windows.net/&lt;/param-value&gt;\r\n       &lt;/context-param&gt;\r\n      \r\n    \r\n       &lt;context-param&gt;\r\n        &lt;param-name&gt;tenant&lt;/param-name&gt;\r\n        &lt;param-value&gt;xxxxxxgmail.onmicrosoft.com&lt;/param-value&gt;\r\n       &lt;/context-param&gt;\r\n        &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;BasicFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        \r\n       &lt;/filter-mapping&gt;\r\n        &lt;filter&gt; \r\n       &lt;filter-name&gt;BasicFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.seguridata.rne.portal.adaj4jAzure.BasicFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n         &lt;param-name&gt;client_id&lt;/param-name&gt;\r\n         &lt;param-value&gt;xxxxxx-xxxxxx-xxxx-a1ce-xxxxxx&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n         &lt;param-name&gt;secret_key&lt;/param-name&gt;\r\n         &lt;param-value&gt;xxxxx~xxxxxxx&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n       &lt;/filter&gt;\r\n        \r\n    &lt;/web-app&gt;\r\n\r\nMy basicFilter\r\n\r\n    public class BasicFilter implements Filter  {\r\n\r\n    public static final String STATES = &quot;states&quot;;\r\n    public static final String STATE = &quot;state&quot;;\r\n    public static final Integer STATE_TTL = 3600;\r\n    public static final String FAILED_TO_VALIDATE_MESSAGE = &quot;Failed to validate data received from Authorization service - &quot;;\r\n    private String clientId = &quot;&quot;;\r\n    private String clientSecret = &quot;&quot;;\r\n    private String tenant = &quot;&quot;;\r\n    private String authority;\r\n\r\n    public void destroy() {\r\n\r\n    }\r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n                         FilterChain chain) throws IOException, ServletException {\r\n\r\n        if (request instanceof HttpServletRequest) {\r\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n            HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n            \r\n        String path = httpRequest.getContextPath();\r\n        String basePath = httpRequest.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path;\r\n            try {\r\n                String currentUri = httpRequest.getRequestURL().toString();\r\n                String queryStr = httpRequest.getQueryString();\r\n                String fullUrl = currentUri + (queryStr != null ? &quot;?&quot; + queryStr : &quot;&quot;);\r\n\r\n                // check if user has a AuthData in the session\r\n                if (!AuthHelper.isAuthenticated(httpRequest)) {\r\n                    if (AuthHelper.containsAuthenticationData(httpRequest)) {\r\n                        processAuthenticationData(httpRequest, currentUri, fullUrl);\r\n                    } else {\r\n                        // not authenticated\r\n                        sendAuthRedirect(httpRequest, httpResponse);\r\n                        return;\r\n                    }\r\n                }\r\n                if (isAuthDataExpired(httpRequest)) {\r\n                    updateAuthDataUsingRefreshToken(httpRequest);\r\n                }\r\n                httpResponse.sendRedirect(&quot;login/loginAction_validateUser.action&quot;);\r\n            } catch (AuthenticationException authException) {\r\n                // something went wrong (like expiration or revocation of token)\r\n                // we should invalidate AuthData stored in session and redirect to Authorization server\r\n                removePrincipalFromSession(httpRequest);\r\n                sendAuthRedirect(httpRequest, httpResponse);\r\n                return;\r\n            } catch (Throwable exc) {\r\n                httpResponse.setStatus(500);\r\n                request.setAttribute(&quot;error&quot;, exc.getMessage());\r\n                request.getRequestDispatcher(&quot;/error.jsp&quot;).forward(request, response);\r\n            }\r\n        }\r\n        \r\n        chain.doFilter(request, response);\r\n        \r\n    }\r\n\r\n    private boolean isAuthDataExpired(HttpServletRequest httpRequest) {\r\n        AuthenticationResult authData = AuthHelper.getAuthSessionObject(httpRequest);\r\n        return authData.getExpiresOnDate().before(new Date()) ? true : false;\r\n    }\r\n\r\n    private void updateAuthDataUsingRefreshToken(HttpServletRequest httpRequest) throws Throwable {\r\n        AuthenticationResult authData =\r\n                getAccessTokenFromRefreshToken(AuthHelper.getAuthSessionObject(httpRequest).getRefreshToken());\r\n        setSessionPrincipal(httpRequest, authData);\r\n    }\r\n\r\n    private void processAuthenticationData(HttpServletRequest httpRequest, String currentUri, String fullUrl)\r\n            throws Throwable {\r\n        HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        \r\n        httpRequest.getParameterMap().keySet().forEach((Object key) -&gt; {\r\n            String[]  tempParam =(String[]) httpRequest.getParameterMap().get(key);\r\n            params.put((String)key, tempParam[0]);\r\n        });\r\n        // validate that state in response equals to state in request\r\n        StateData stateData = validateState(httpRequest.getSession(), params.get(STATE));\r\n\r\n        AuthenticationResponse authResponse = AuthenticationResponseParser.parse(new URI(fullUrl), params);\r\n        if (AuthHelper.isAuthenticationSuccessful(authResponse)) {\r\n            AuthenticationSuccessResponse oidcResponse = (AuthenticationSuccessResponse) authResponse;\r\n            // validate that OIDC Auth Response matches Code Flow (contains only requested artifacts)\r\n            validateAuthRespMatchesCodeFlow(oidcResponse);\r\n\r\n            AuthenticationResult authData =\r\n                    getAccessToken(oidcResponse.getAuthorizationCode(), currentUri);\r\n            // validate nonce to prevent reply attacks (code maybe substituted to one with broader access)\r\n            validateNonce(stateData, getClaimValueFromIdToken(authData.getIdToken(), &quot;nonce&quot;));\r\n\r\n            setSessionPrincipal(httpRequest, authData);\r\n        } else {\r\n            AuthenticationErrorResponse oidcResponse = (AuthenticationErrorResponse) authResponse;\r\n            throw new Exception(String.format(&quot;Request for auth code failed: %s - %s&quot;,\r\n                    oidcResponse.getErrorObject().getCode(),\r\n                    oidcResponse.getErrorObject().getDescription()));\r\n        }\r\n    }\r\n\r\n    private void validateNonce(StateData stateData, String nonce) throws Exception {\r\n        if (StringUtils.isEmpty(nonce) || !nonce.equals(stateData.getNonce())) {\r\n            throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;could not validate nonce&quot;);\r\n        }\r\n    }\r\n\r\n    private String getClaimValueFromIdToken(String idToken, String claimKey) throws ParseException {\r\n        return (String) JWTParser.parse(idToken).getJWTClaimsSet().getClaim(claimKey);\r\n    }\r\n\r\n    private void sendAuthRedirect(HttpServletRequest httpRequest, HttpServletResponse httpResponse) throws IOException {\r\n        httpResponse.setStatus(302);\r\n\r\n        // use state parameter to validate response from Authorization server\r\n        String state = UUID.randomUUID().toString();\r\n\r\n        // use nonce parameter to validate idToken\r\n        String nonce = UUID.randomUUID().toString();\r\n\r\n        storeStateInSession(httpRequest.getSession(), state, nonce);\r\n\r\n        String currentUri = httpRequest.getRequestURL().toString();\r\n        httpResponse.sendRedirect(getRedirectUrl(currentUri, state, nonce));\r\n    }\r\n\r\n    /**\r\n     * make sure that state is stored in the session,\r\n     * delete it from session - should be used only once\r\n     *\r\n     * @param session\r\n     * @param state\r\n     * @throws Exception\r\n     */\r\n    private StateData validateState(HttpSession session, String state) throws Exception {\r\n        if (StringUtils.isNotEmpty(state)) {\r\n            StateData stateDataInSession = removeStateFromSession(session, state);\r\n            if (stateDataInSession != null) {\r\n                return stateDataInSession;\r\n            }\r\n        }\r\n        throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;could not validate state&quot;);\r\n    }\r\n\r\n    private void validateAuthRespMatchesCodeFlow(AuthenticationSuccessResponse oidcResponse) throws Exception {\r\n        if (oidcResponse.getIDToken() != null || oidcResponse.getAccessToken() != null ||\r\n                oidcResponse.getAuthorizationCode() == null) {\r\n            throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;unexpected set of artifacts received&quot;);\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private StateData removeStateFromSession(HttpSession session, String state) {\r\n        Map&lt;String, StateData&gt; states = (Map&lt;String, StateData&gt;) session.getAttribute(STATES);\r\n        if (states != null) {\r\n            eliminateExpiredStates(states);\r\n            StateData stateData = states.get(state);\r\n            if (stateData != null) {\r\n                states.remove(state);\r\n                return stateData;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private void storeStateInSession(HttpSession session, String state, String nonce) {\r\n        if (session.getAttribute(STATES) == null) {\r\n            session.setAttribute(STATES, new HashMap&lt;String, StateData&gt;());\r\n        }\r\n        ((Map&lt;String, StateData&gt;) session.getAttribute(STATES)).put(state, new StateData(nonce, new Date()));\r\n    }\r\n\r\n    private void eliminateExpiredStates(Map&lt;String, StateData&gt; map) {\r\n        Iterator&lt;Map.Entry&lt;String, StateData&gt;&gt; it = map.entrySet().iterator();\r\n\r\n        Date currTime = new Date();\r\n        while (it.hasNext()) {\r\n            Map.Entry&lt;String, StateData&gt; entry = it.next();\r\n            long diffInSeconds = TimeUnit.MILLISECONDS.\r\n                    toSeconds(currTime.getTime() - entry.getValue().getExpirationDate().getTime());\r\n\r\n            if (diffInSeconds &gt; STATE_TTL) {\r\n                it.remove();\r\n            }\r\n        }\r\n    }\r\n\r\n    private AuthenticationResult getAccessTokenFromRefreshToken(\r\n            String refreshToken) throws Throwable {\r\n        AuthenticationContext context;\r\n        AuthenticationResult result = null;\r\n        ExecutorService service = null;\r\n        try {\r\n            service = Executors.newFixedThreadPool(1);\r\n            context = new AuthenticationContext(authority + tenant + &quot;/&quot;, true,\r\n                    service);\r\n            Future&lt;AuthenticationResult&gt; future = context\r\n                    .acquireTokenByRefreshToken(refreshToken, new ClientCredential(clientId, clientSecret), null, null);\r\n            result = future.get();\r\n        } catch (ExecutionException e) {\r\n            throw e.getCause();\r\n        } finally {\r\n            service.shutdown();\r\n        }\r\n\r\n        if (result == null) {\r\n            throw new ServiceUnavailableException(&quot;authentication result was null&quot;);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private AuthenticationResult getAccessToken(\r\n            AuthorizationCode authorizationCode, String currentUri)\r\n            throws Throwable {\r\n        String authCode = authorizationCode.getValue();\r\n        ClientCredential credential = new ClientCredential(clientId,\r\n                clientSecret);\r\n        AuthenticationContext context;\r\n        AuthenticationResult result = null;\r\n        ExecutorService service = null;\r\n        try {\r\n            service = Executors.newFixedThreadPool(1);\r\n            context = new AuthenticationContext(authority + tenant + &quot;/&quot;, true,\r\n                    service);\r\n            Future&lt;AuthenticationResult&gt; future = context\r\n                    .acquireTokenByAuthorizationCode(authCode, new URI(\r\n                            currentUri), credential, null);\r\n            result = future.get();\r\n        } catch (ExecutionException e) {\r\n            throw e.getCause();\r\n        } finally {\r\n            service.shutdown();\r\n        }\r\n\r\n        if (result == null) {\r\n            throw new ServiceUnavailableException(&quot;authentication result was null&quot;);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private void setSessionPrincipal(HttpServletRequest httpRequest,\r\n                                     AuthenticationResult result) {\r\n        httpRequest.getSession().setAttribute(AuthHelper.PRINCIPAL_SESSION_NAME, result);\r\n    }\r\n\r\n    private void removePrincipalFromSession(HttpServletRequest httpRequest) {\r\n        httpRequest.getSession().removeAttribute(AuthHelper.PRINCIPAL_SESSION_NAME);\r\n    }\r\n\r\n    private String getRedirectUrl(String currentUri, String state, String nonce)\r\n            throws UnsupportedEncodingException {\r\n        String redirectUrl = authority\r\n                + this.tenant\r\n                + &quot;/oauth2/authorize?response_type=code&amp;scope=directory.read.all&amp;response_mode=form_post&amp;redirect_uri=&quot;\r\n                + URLEncoder.encode(currentUri, &quot;UTF-8&quot;) + &quot;&amp;client_id=&quot;\r\n                + clientId + &quot;&amp;resource=https%3a%2f%2fgraph.microsoft.com&quot;\r\n                + &quot;&amp;state=&quot; + state\r\n                + &quot;&amp;nonce=&quot; + nonce;\r\n\r\n        return redirectUrl;\r\n    }\r\n\r\n    public void init(FilterConfig config) throws ServletException {\r\n        clientId = config.getInitParameter(&quot;client_id&quot;);\r\n        authority = config.getServletContext().getInitParameter(&quot;authority&quot;);\r\n        tenant = config.getServletContext().getInitParameter(&quot;tenant&quot;);\r\n        clientSecret = config.getInitParameter(&quot;secret_key&quot;);\r\n    }\r\n\r\n    private class StateData {\r\n        private String nonce;\r\n        private Date expirationDate;\r\n\r\n        public StateData(String nonce, Date expirationDate) {\r\n            this.nonce = nonce;\r\n            this.expirationDate = expirationDate;\r\n        }\r\n\r\n        public String getNonce() {\r\n            return nonce;\r\n        }\r\n\r\n        public Date getExpirationDate() {\r\n            return expirationDate;\r\n        }\r\n    }\r\n\r\nIs what I am trying to do possible?\r\n\r\n  [1]: https://i.stack.imgur.com/ugsxC.png","title":"redirect to an action from a struts filter","body":"<p>I have a problem, I have a project with struts2 and I want to make a filter to make a login from azure, however, I want to redirect to an action if everything went correctly, but it gives me the following error</p>\n<p><a href=\"https://i.stack.imgur.com/ugsxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ugsxC.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not very good with this technology, I am learning and I have relied on some tutorials, however, I do not make it into the action.</p>\n<p>My web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n   \n    &lt;listener&gt;\n        &lt;listener-class&gt;com.seguridata.rne.portal.servlet.http.SessionListener&lt;/listener-class&gt;\n    &lt;/listener&gt;    \n    \n    &lt;!-- filter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts-prepare&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.opensymphony.module.sitemesh.filter.PageFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts-execute&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;        \n    &lt;/filter&gt;\n    &lt;!-- .\\filter --&gt;\n\n    &lt;!-- filter-mapping --&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts-prepare&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts-execute&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;!-- .\\filter-mapping --&gt;\n    \n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    \n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/view/login.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    \n        \n   &lt;context-param&gt;\n    &lt;param-name&gt;authority&lt;/param-name&gt;\n    &lt;param-value&gt;https://login.windows.net/&lt;/param-value&gt;\n   &lt;/context-param&gt;\n  \n\n   &lt;context-param&gt;\n    &lt;param-name&gt;tenant&lt;/param-name&gt;\n    &lt;param-value&gt;xxxxxxgmail.onmicrosoft.com&lt;/param-value&gt;\n   &lt;/context-param&gt;\n    &lt;filter-mapping&gt;\n    &lt;filter-name&gt;BasicFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    \n   &lt;/filter-mapping&gt;\n    &lt;filter&gt; \n   &lt;filter-name&gt;BasicFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.seguridata.rne.portal.adaj4jAzure.BasicFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;client_id&lt;/param-name&gt;\n     &lt;param-value&gt;xxxxxx-xxxxxx-xxxx-a1ce-xxxxxx&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;secret_key&lt;/param-name&gt;\n     &lt;param-value&gt;xxxxx~xxxxxxx&lt;/param-value&gt;\n    &lt;/init-param&gt;\n   &lt;/filter&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p>My basicFilter</p>\n<pre><code>public class BasicFilter implements Filter  {\n\npublic static final String STATES = &quot;states&quot;;\npublic static final String STATE = &quot;state&quot;;\npublic static final Integer STATE_TTL = 3600;\npublic static final String FAILED_TO_VALIDATE_MESSAGE = &quot;Failed to validate data received from Authorization service - &quot;;\nprivate String clientId = &quot;&quot;;\nprivate String clientSecret = &quot;&quot;;\nprivate String tenant = &quot;&quot;;\nprivate String authority;\n\npublic void destroy() {\n\n}\n\npublic void doFilter(ServletRequest request, ServletResponse response,\n                     FilterChain chain) throws IOException, ServletException {\n\n    if (request instanceof HttpServletRequest) {\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\n        \n    String path = httpRequest.getContextPath();\n    String basePath = httpRequest.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path;\n        try {\n            String currentUri = httpRequest.getRequestURL().toString();\n            String queryStr = httpRequest.getQueryString();\n            String fullUrl = currentUri + (queryStr != null ? &quot;?&quot; + queryStr : &quot;&quot;);\n\n            // check if user has a AuthData in the session\n            if (!AuthHelper.isAuthenticated(httpRequest)) {\n                if (AuthHelper.containsAuthenticationData(httpRequest)) {\n                    processAuthenticationData(httpRequest, currentUri, fullUrl);\n                } else {\n                    // not authenticated\n                    sendAuthRedirect(httpRequest, httpResponse);\n                    return;\n                }\n            }\n            if (isAuthDataExpired(httpRequest)) {\n                updateAuthDataUsingRefreshToken(httpRequest);\n            }\n            httpResponse.sendRedirect(&quot;login/loginAction_validateUser.action&quot;);\n        } catch (AuthenticationException authException) {\n            // something went wrong (like expiration or revocation of token)\n            // we should invalidate AuthData stored in session and redirect to Authorization server\n            removePrincipalFromSession(httpRequest);\n            sendAuthRedirect(httpRequest, httpResponse);\n            return;\n        } catch (Throwable exc) {\n            httpResponse.setStatus(500);\n            request.setAttribute(&quot;error&quot;, exc.getMessage());\n            request.getRequestDispatcher(&quot;/error.jsp&quot;).forward(request, response);\n        }\n    }\n    \n    chain.doFilter(request, response);\n    \n}\n\nprivate boolean isAuthDataExpired(HttpServletRequest httpRequest) {\n    AuthenticationResult authData = AuthHelper.getAuthSessionObject(httpRequest);\n    return authData.getExpiresOnDate().before(new Date()) ? true : false;\n}\n\nprivate void updateAuthDataUsingRefreshToken(HttpServletRequest httpRequest) throws Throwable {\n    AuthenticationResult authData =\n            getAccessTokenFromRefreshToken(AuthHelper.getAuthSessionObject(httpRequest).getRefreshToken());\n    setSessionPrincipal(httpRequest, authData);\n}\n\nprivate void processAuthenticationData(HttpServletRequest httpRequest, String currentUri, String fullUrl)\n        throws Throwable {\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    \n    httpRequest.getParameterMap().keySet().forEach((Object key) -&gt; {\n        String[]  tempParam =(String[]) httpRequest.getParameterMap().get(key);\n        params.put((String)key, tempParam[0]);\n    });\n    // validate that state in response equals to state in request\n    StateData stateData = validateState(httpRequest.getSession(), params.get(STATE));\n\n    AuthenticationResponse authResponse = AuthenticationResponseParser.parse(new URI(fullUrl), params);\n    if (AuthHelper.isAuthenticationSuccessful(authResponse)) {\n        AuthenticationSuccessResponse oidcResponse = (AuthenticationSuccessResponse) authResponse;\n        // validate that OIDC Auth Response matches Code Flow (contains only requested artifacts)\n        validateAuthRespMatchesCodeFlow(oidcResponse);\n\n        AuthenticationResult authData =\n                getAccessToken(oidcResponse.getAuthorizationCode(), currentUri);\n        // validate nonce to prevent reply attacks (code maybe substituted to one with broader access)\n        validateNonce(stateData, getClaimValueFromIdToken(authData.getIdToken(), &quot;nonce&quot;));\n\n        setSessionPrincipal(httpRequest, authData);\n    } else {\n        AuthenticationErrorResponse oidcResponse = (AuthenticationErrorResponse) authResponse;\n        throw new Exception(String.format(&quot;Request for auth code failed: %s - %s&quot;,\n                oidcResponse.getErrorObject().getCode(),\n                oidcResponse.getErrorObject().getDescription()));\n    }\n}\n\nprivate void validateNonce(StateData stateData, String nonce) throws Exception {\n    if (StringUtils.isEmpty(nonce) || !nonce.equals(stateData.getNonce())) {\n        throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;could not validate nonce&quot;);\n    }\n}\n\nprivate String getClaimValueFromIdToken(String idToken, String claimKey) throws ParseException {\n    return (String) JWTParser.parse(idToken).getJWTClaimsSet().getClaim(claimKey);\n}\n\nprivate void sendAuthRedirect(HttpServletRequest httpRequest, HttpServletResponse httpResponse) throws IOException {\n    httpResponse.setStatus(302);\n\n    // use state parameter to validate response from Authorization server\n    String state = UUID.randomUUID().toString();\n\n    // use nonce parameter to validate idToken\n    String nonce = UUID.randomUUID().toString();\n\n    storeStateInSession(httpRequest.getSession(), state, nonce);\n\n    String currentUri = httpRequest.getRequestURL().toString();\n    httpResponse.sendRedirect(getRedirectUrl(currentUri, state, nonce));\n}\n\n/**\n * make sure that state is stored in the session,\n * delete it from session - should be used only once\n *\n * @param session\n * @param state\n * @throws Exception\n */\nprivate StateData validateState(HttpSession session, String state) throws Exception {\n    if (StringUtils.isNotEmpty(state)) {\n        StateData stateDataInSession = removeStateFromSession(session, state);\n        if (stateDataInSession != null) {\n            return stateDataInSession;\n        }\n    }\n    throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;could not validate state&quot;);\n}\n\nprivate void validateAuthRespMatchesCodeFlow(AuthenticationSuccessResponse oidcResponse) throws Exception {\n    if (oidcResponse.getIDToken() != null || oidcResponse.getAccessToken() != null ||\n            oidcResponse.getAuthorizationCode() == null) {\n        throw new Exception(FAILED_TO_VALIDATE_MESSAGE + &quot;unexpected set of artifacts received&quot;);\n    }\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate StateData removeStateFromSession(HttpSession session, String state) {\n    Map&lt;String, StateData&gt; states = (Map&lt;String, StateData&gt;) session.getAttribute(STATES);\n    if (states != null) {\n        eliminateExpiredStates(states);\n        StateData stateData = states.get(state);\n        if (stateData != null) {\n            states.remove(state);\n            return stateData;\n        }\n    }\n    return null;\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate void storeStateInSession(HttpSession session, String state, String nonce) {\n    if (session.getAttribute(STATES) == null) {\n        session.setAttribute(STATES, new HashMap&lt;String, StateData&gt;());\n    }\n    ((Map&lt;String, StateData&gt;) session.getAttribute(STATES)).put(state, new StateData(nonce, new Date()));\n}\n\nprivate void eliminateExpiredStates(Map&lt;String, StateData&gt; map) {\n    Iterator&lt;Map.Entry&lt;String, StateData&gt;&gt; it = map.entrySet().iterator();\n\n    Date currTime = new Date();\n    while (it.hasNext()) {\n        Map.Entry&lt;String, StateData&gt; entry = it.next();\n        long diffInSeconds = TimeUnit.MILLISECONDS.\n                toSeconds(currTime.getTime() - entry.getValue().getExpirationDate().getTime());\n\n        if (diffInSeconds &gt; STATE_TTL) {\n            it.remove();\n        }\n    }\n}\n\nprivate AuthenticationResult getAccessTokenFromRefreshToken(\n        String refreshToken) throws Throwable {\n    AuthenticationContext context;\n    AuthenticationResult result = null;\n    ExecutorService service = null;\n    try {\n        service = Executors.newFixedThreadPool(1);\n        context = new AuthenticationContext(authority + tenant + &quot;/&quot;, true,\n                service);\n        Future&lt;AuthenticationResult&gt; future = context\n                .acquireTokenByRefreshToken(refreshToken, new ClientCredential(clientId, clientSecret), null, null);\n        result = future.get();\n    } catch (ExecutionException e) {\n        throw e.getCause();\n    } finally {\n        service.shutdown();\n    }\n\n    if (result == null) {\n        throw new ServiceUnavailableException(&quot;authentication result was null&quot;);\n    }\n    return result;\n}\n\nprivate AuthenticationResult getAccessToken(\n        AuthorizationCode authorizationCode, String currentUri)\n        throws Throwable {\n    String authCode = authorizationCode.getValue();\n    ClientCredential credential = new ClientCredential(clientId,\n            clientSecret);\n    AuthenticationContext context;\n    AuthenticationResult result = null;\n    ExecutorService service = null;\n    try {\n        service = Executors.newFixedThreadPool(1);\n        context = new AuthenticationContext(authority + tenant + &quot;/&quot;, true,\n                service);\n        Future&lt;AuthenticationResult&gt; future = context\n                .acquireTokenByAuthorizationCode(authCode, new URI(\n                        currentUri), credential, null);\n        result = future.get();\n    } catch (ExecutionException e) {\n        throw e.getCause();\n    } finally {\n        service.shutdown();\n    }\n\n    if (result == null) {\n        throw new ServiceUnavailableException(&quot;authentication result was null&quot;);\n    }\n    return result;\n}\n\nprivate void setSessionPrincipal(HttpServletRequest httpRequest,\n                                 AuthenticationResult result) {\n    httpRequest.getSession().setAttribute(AuthHelper.PRINCIPAL_SESSION_NAME, result);\n}\n\nprivate void removePrincipalFromSession(HttpServletRequest httpRequest) {\n    httpRequest.getSession().removeAttribute(AuthHelper.PRINCIPAL_SESSION_NAME);\n}\n\nprivate String getRedirectUrl(String currentUri, String state, String nonce)\n        throws UnsupportedEncodingException {\n    String redirectUrl = authority\n            + this.tenant\n            + &quot;/oauth2/authorize?response_type=code&amp;scope=directory.read.all&amp;response_mode=form_post&amp;redirect_uri=&quot;\n            + URLEncoder.encode(currentUri, &quot;UTF-8&quot;) + &quot;&amp;client_id=&quot;\n            + clientId + &quot;&amp;resource=https%3a%2f%2fgraph.microsoft.com&quot;\n            + &quot;&amp;state=&quot; + state\n            + &quot;&amp;nonce=&quot; + nonce;\n\n    return redirectUrl;\n}\n\npublic void init(FilterConfig config) throws ServletException {\n    clientId = config.getInitParameter(&quot;client_id&quot;);\n    authority = config.getServletContext().getInitParameter(&quot;authority&quot;);\n    tenant = config.getServletContext().getInitParameter(&quot;tenant&quot;);\n    clientSecret = config.getInitParameter(&quot;secret_key&quot;);\n}\n\nprivate class StateData {\n    private String nonce;\n    private Date expirationDate;\n\n    public StateData(String nonce, Date expirationDate) {\n        this.nonce = nonce;\n        this.expirationDate = expirationDate;\n    }\n\n    public String getNonce() {\n        return nonce;\n    }\n\n    public Date getExpirationDate() {\n        return expirationDate;\n    }\n}\n</code></pre>\n<p>Is what I am trying to do possible?</p>\n"},{"tags":["java","sql","oracle","jdbc","websphere"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1658356095,"post_id":73058672,"comment_id":129034529,"body_markdown":"Did you try casting the connection if it is not a wrapper? `OracleConnection conn; if (con.isWrapperFor(Oracle.Connection.class)) {conn = con.unwrap(OracleConnection.class);} else { conn = (OracleConnection) con; }`","body":"Did you try casting the connection if it is not a wrapper? <code>OracleConnection conn; if (con.isWrapperFor(Oracle.Connection.class)) {conn = con.unwrap(OracleConnection.class);} else { conn = (OracleConnection) con; }</code>"},{"owner":{"account_id":22890099,"reputation":73,"user_id":17030357,"display_name":"uniqueuser-programmer"},"score":0,"creation_date":1658356445,"post_id":73058672,"comment_id":129034615,"body_markdown":"Hi MT0, I apologize. The Exception is not actually on the line where I unwrap; it is on the line below it where a descriptor is created (and the stacktrace appears to indicate as much). I&#39;ve added the stacktrace &amp; line to the OP. Given this, should I still try the code you mentioned?","body":"Hi MT0, I apologize. The Exception is not actually on the line where I unwrap; it is on the line below it where a descriptor is created (and the stacktrace appears to indicate as much). I&#39;ve added the stacktrace &amp; line to the OP. Given this, should I still try the code you mentioned?"},{"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"score":0,"creation_date":1658356967,"post_id":73058672,"comment_id":129034729,"body_markdown":"What version of WebSphere and ojdbc are you using?  and can you update your stack trace with line numbers?","body":"What version of WebSphere and ojdbc are you using?  and can you update your stack trace with line numbers?"},{"owner":{"account_id":22890099,"reputation":73,"user_id":17030357,"display_name":"uniqueuser-programmer"},"score":0,"creation_date":1658357214,"post_id":73058672,"comment_id":129034776,"body_markdown":"WS - 9.0.5.12 with ojdbc8 - 12.2.0.1. I will edit with line numbers shortly.","body":"WS - 9.0.5.12 with ojdbc8 - 12.2.0.1. I will edit with line numbers shortly."}],"answers":[{"tags":[],"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658360101,"creation_date":1658360101,"answer_id":73059172,"question_id":73058672,"body_markdown":"So the issue here is not the unwrap operation.\r\nInstead, it is what the Oracle driver does with the unwrapped connection.\r\n\r\nWhen calling the method: \r\n\r\n```java\r\nStructDescriptor desc = StructDescriptor.createDescriptor(&quot;DATAVAL&quot;, conn);\r\n```\r\n\r\nThe driver itself is trying to validate the connection and in doing so is trying to unwrap it again!\r\n\r\nThe connection itself is still only a proxy connection handed out by WebSphere and not the physical connection.  \r\n\r\nAs such, we attempt to block method calls that could allow the user to close the underlying connection without it getting removed from the WebSphere connection pool. \r\n\r\nIf we allowed the `OracleConnection.unwrap()` method to be invoked, then the driver would hand back the physical connection and the physical connection in the connection pool would be leaked. \r\n\r\nSo it looks like this method in the ojdbc8 driver was written to be incompatible with third-party connection pools.\r\n \r\nI&#39;m not too familiar with the method itself, but if you could use this method instead it does not do the same validation: https://javadoc.io/static/com.oracle.database.jdbc/ojdbc8/12.2.0.1/oracle/sql/StructDescriptor.html#createDescriptor-oracle.sql.SQLName-java.sql.Connection-boolean-boolean-\r\n\r\nOtherwise, the class itself is deprecated and the suggestion is to use `java.sql.Struct` which would likely be the best long-term solution for future upgrades.","title":"Cannot unwrap Oracle Connection","body":"<p>So the issue here is not the unwrap operation.\nInstead, it is what the Oracle driver does with the unwrapped connection.</p>\n<p>When calling the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StructDescriptor desc = StructDescriptor.createDescriptor(&quot;DATAVAL&quot;, conn);\n</code></pre>\n<p>The driver itself is trying to validate the connection and in doing so is trying to unwrap it again!</p>\n<p>The connection itself is still only a proxy connection handed out by WebSphere and not the physical connection.</p>\n<p>As such, we attempt to block method calls that could allow the user to close the underlying connection without it getting removed from the WebSphere connection pool.</p>\n<p>If we allowed the <code>OracleConnection.unwrap()</code> method to be invoked, then the driver would hand back the physical connection and the physical connection in the connection pool would be leaked.</p>\n<p>So it looks like this method in the ojdbc8 driver was written to be incompatible with third-party connection pools.</p>\n<p>I'm not too familiar with the method itself, but if you could use this method instead it does not do the same validation: <a href=\"https://javadoc.io/static/com.oracle.database.jdbc/ojdbc8/12.2.0.1/oracle/sql/StructDescriptor.html#createDescriptor-oracle.sql.SQLName-java.sql.Connection-boolean-boolean-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/com.oracle.database.jdbc/ojdbc8/12.2.0.1/oracle/sql/StructDescriptor.html#createDescriptor-oracle.sql.SQLName-java.sql.Connection-boolean-boolean-</a></p>\n<p>Otherwise, the class itself is deprecated and the suggestion is to use <code>java.sql.Struct</code> which would likely be the best long-term solution for future upgrades.</p>\n"}],"owner":{"account_id":22890099,"reputation":73,"user_id":17030357,"display_name":"uniqueuser-programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73059172,"answer_count":1,"score":3,"last_activity_date":1658360101,"creation_date":1658355316,"question_id":73058672,"body_markdown":"I recently upgraded my app (which uses WebSphere) to use ojdbc8. Here are lines where I unwrap a connection:\r\n\r\n    import java.sql.Connection;\r\n    import oracle.jdbc.OracleConnection;\r\n    // some processing here\r\n    public void unwrapAndProcess(Connection con) {\r\n      OracleConnection conn = con.unwrap(OracleConnection.class);\r\n      StructDescriptor desc = StructDescriptor.createDescriptor(&quot;DATAVAL&quot;, conn); // exception here\r\n      // more processing here\r\n    }\r\n\r\nSuddenly, I am getting the following issue on the line where I call .createDescriptor.\r\n\r\njava.lang.RuntimeException: java.sql.SQLFeatureNotSupportedException: DSRA9130: Operation is not permitted by the application server: unwrap  \r\n\r\nI am not sure of the real cause as to why I am getting this issue or what can be done to rectify.\r\n\r\nHere is a snippet of the exact stacktrace:\r\n\r\n    java.lang.RuntimeException: java.sql.SQLFeatureNotSupportedException: DSRA9130: Operation is not permitted by the application server: unwrap \r\n    at com.ibm.ws.rsadapter.jdbc.WSJdbcWrapper.invoke(WSJdbcWrapper.java:259)\r\n    at com.ibm.ws.rsadapter.jdbc.WSJdbcConnection.invoke(WSJdbcConnection.java:5512)\r\n    at com.sun.proxy.$Proxy136.unwrap(Unknown Source)\r\n    at oracle.sql.StructDescriptor.isValidObject(StructDescriptor.java:90)\r\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:115)\r\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:79)\r\n    at (class &amp; line where StructDescriptor.createDescriptor is used)","title":"Cannot unwrap Oracle Connection","body":"<p>I recently upgraded my app (which uses WebSphere) to use ojdbc8. Here are lines where I unwrap a connection:</p>\n<pre><code>import java.sql.Connection;\nimport oracle.jdbc.OracleConnection;\n// some processing here\npublic void unwrapAndProcess(Connection con) {\n  OracleConnection conn = con.unwrap(OracleConnection.class);\n  StructDescriptor desc = StructDescriptor.createDescriptor(&quot;DATAVAL&quot;, conn); // exception here\n  // more processing here\n}\n</code></pre>\n<p>Suddenly, I am getting the following issue on the line where I call .createDescriptor.</p>\n<p>java.lang.RuntimeException: java.sql.SQLFeatureNotSupportedException: DSRA9130: Operation is not permitted by the application server: unwrap</p>\n<p>I am not sure of the real cause as to why I am getting this issue or what can be done to rectify.</p>\n<p>Here is a snippet of the exact stacktrace:</p>\n<pre><code>java.lang.RuntimeException: java.sql.SQLFeatureNotSupportedException: DSRA9130: Operation is not permitted by the application server: unwrap \nat com.ibm.ws.rsadapter.jdbc.WSJdbcWrapper.invoke(WSJdbcWrapper.java:259)\nat com.ibm.ws.rsadapter.jdbc.WSJdbcConnection.invoke(WSJdbcConnection.java:5512)\nat com.sun.proxy.$Proxy136.unwrap(Unknown Source)\nat oracle.sql.StructDescriptor.isValidObject(StructDescriptor.java:90)\nat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:115)\nat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:79)\nat (class &amp; line where StructDescriptor.createDescriptor is used)\n</code></pre>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1658292998,"post_id":73046134,"comment_id":129012440,"body_markdown":"RTM https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html","body":"RTM <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":18049123,"reputation":119,"user_id":13119267,"display_name":"MusicalChicken"},"score":0,"creation_date":1658293360,"post_id":73046134,"comment_id":129012498,"body_markdown":"Thanks! yeah I have read the doc. I&#39;m confused as to which test case I should use the parameter matcher in or not.","body":"Thanks! yeah I have read the doc. I&#39;m confused as to which test case I should use the parameter matcher in or not."},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":2,"creation_date":1658294205,"post_id":73046134,"comment_id":129012638,"body_markdown":"No one would be motivated to answer a question where one can&#39;t see any effort and there is NO specific question.  For argument matchers you might want to go through some tutorials first, and then come here and ask specific questions.  https://www.baeldung.com/mockito-argument-matchers might be a good place to start.","body":"No one would be motivated to answer a question where one can&#39;t see any effort and there is NO specific question.  For argument matchers you might want to go through some tutorials first, and then come here and ask specific questions.  <a href=\"https://www.baeldung.com/mockito-argument-matchers\" rel=\"nofollow noreferrer\">baeldung.com/mockito-argument-matchers</a> might be a good place to start."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658359704,"creation_date":1658359704,"answer_id":73059131,"question_id":73046134,"body_markdown":"`eq` is the default &quot;matcher&quot; if you don&#39;t specify any matchers. You may find that you only need to use `eq` if you want to be extra-explicit or if you need to mix `eq`-style matching with other matchers like `any`: If you use at least one matcher in a call, [all of the parameters need to use matchers](https://stackoverflow.com/q/22822512/1426891).\r\n\r\n```java\r\n// These two behave the same:\r\nMockito.when(function(   arg1 ,    arg2 )).thenReturn(result);\r\nMockito.when(function(eq(arg1), eq(arg2))).thenReturn(result);\r\n\r\n// These two behave the same:\r\nMockito.when(function(   arg1 ,    arg2 )).thenThrow(exception);\r\nMockito.when(function(eq(arg1), eq(arg2))).thenThrow(exception);\r\n\r\n// The first call mixes matchers and raw values, which isn&#39;t allowed.\r\nMockito.when(function(   arg1 , gt(0))).thenThrow(exception);  // BAD\r\nMockito.when(function(eq(arg1), gt(0))).thenThrow(exception);  // OK\r\n```\r\n\r\nWith Matchers, you can choose your specificity: For one call `eq(4)` may be the most specific, `gt(0)` is somewhat general, and `anyInt()` is extremely general. Your flexibility here should be defined by your spec: For `testTwoPlusTwo` you probably want to validate that your value `eq(4)`, but for other tests you might not care about the integer (`anyInt()`) and only test that the method call happens or that the other parameters are correct. Your engineering judgment will guide you here: If you are too flexible your test might not protect your code, but if you are too specific your test might be &quot;brittle&quot;—failing at random times or requiring maintenance as the code changes even when changed behavior is still within spec.","title":"When should I use argument matcher or passing argument directly when mockito unit test","body":"<p><code>eq</code> is the default &quot;matcher&quot; if you don't specify any matchers. You may find that you only need to use <code>eq</code> if you want to be extra-explicit or if you need to mix <code>eq</code>-style matching with other matchers like <code>any</code>: If you use at least one matcher in a call, <a href=\"https://stackoverflow.com/q/22822512/1426891\">all of the parameters need to use matchers</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// These two behave the same:\nMockito.when(function(   arg1 ,    arg2 )).thenReturn(result);\nMockito.when(function(eq(arg1), eq(arg2))).thenReturn(result);\n\n// These two behave the same:\nMockito.when(function(   arg1 ,    arg2 )).thenThrow(exception);\nMockito.when(function(eq(arg1), eq(arg2))).thenThrow(exception);\n\n// The first call mixes matchers and raw values, which isn't allowed.\nMockito.when(function(   arg1 , gt(0))).thenThrow(exception);  // BAD\nMockito.when(function(eq(arg1), gt(0))).thenThrow(exception);  // OK\n</code></pre>\n<p>With Matchers, you can choose your specificity: For one call <code>eq(4)</code> may be the most specific, <code>gt(0)</code> is somewhat general, and <code>anyInt()</code> is extremely general. Your flexibility here should be defined by your spec: For <code>testTwoPlusTwo</code> you probably want to validate that your value <code>eq(4)</code>, but for other tests you might not care about the integer (<code>anyInt()</code>) and only test that the method call happens or that the other parameters are correct. Your engineering judgment will guide you here: If you are too flexible your test might not protect your code, but if you are too specific your test might be &quot;brittle&quot;—failing at random times or requiring maintenance as the code changes even when changed behavior is still within spec.</p>\n"}],"owner":{"account_id":18049123,"reputation":119,"user_id":13119267,"display_name":"MusicalChicken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73059131,"answer_count":1,"score":0,"last_activity_date":1658359704,"creation_date":1658292600,"question_id":73046134,"body_markdown":"I know the mechanism of the argument matchers. I&#39;m confused when should I use different argument matchers or passing the argument directly. For example, \r\n\r\n    Mockito.when(function(arg1, arg2)).thenReturn(result)\r\n    Mockito.when(function(arg1, arg2)).thenThrow(exception)\r\n    Mockito.when(function(eq(arg1), eq(arg2))).thenReturn(result)\r\n    Mockito.when(function(eq(arg1), eq(arg2))).thenThrow(exception)\r\n    Mockito.when(function(anyString(), anyString())).thenReturn(result)\r\n    Mockito.when(function(anyString(), anyString())).thenThrow(exception)\r\n\r\nWhat should I use in what situation？\r\n","title":"When should I use argument matcher or passing argument directly when mockito unit test","body":"<p>I know the mechanism of the argument matchers. I'm confused when should I use different argument matchers or passing the argument directly. For example,</p>\n<pre><code>Mockito.when(function(arg1, arg2)).thenReturn(result)\nMockito.when(function(arg1, arg2)).thenThrow(exception)\nMockito.when(function(eq(arg1), eq(arg2))).thenReturn(result)\nMockito.when(function(eq(arg1), eq(arg2))).thenThrow(exception)\nMockito.when(function(anyString(), anyString())).thenReturn(result)\nMockito.when(function(anyString(), anyString())).thenThrow(exception)\n</code></pre>\n<p>What should I use in what situation？</p>\n"},{"tags":["jvm","java"],"answers":[{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1291810684,"creation_date":1291810684,"answer_id":4387321,"question_id":4387266,"body_markdown":"You&#39;re trying to reduce a standard JRE&#39;s size? Don&#39;t do that. You can choose to bundle an alternative JRE which might be smaller. A list can be found on [this Wikipedia page][1]. As always, beware of compatibility issues and test your application thoroughly.\r\n\r\nAn other, and safer, way is to just require an installation of a JRE on the target machine.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/List_of_Java_virtual_machines","title":"Reducing size of JRE","body":"<p>You're trying to reduce a standard JRE's size? Don't do that. You can choose to bundle an alternative JRE which might be smaller. A list can be found on <a href=\"http://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"nofollow\">this Wikipedia page</a>. As always, beware of compatibility issues and test your application thoroughly.</p>\n\n<p>An other, and safer, way is to just require an installation of a JRE on the target machine.</p>\n"},{"tags":[],"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1291828817,"creation_date":1291811362,"answer_id":4387414,"question_id":4387266,"body_markdown":"Look at the README file in the JRE directory. The &#39;Optional Files and Directories&#39; section lists a number of files that can be removed from the Oracle/Sun JRE if you are packaging it with your application.\r\n\r\nI use an Ant buildfile to copy the JRE from the system install location to the package directory when creating an installation. Put the list of files you want excluded in a separate file and use the &#39;excludesfile&#39; attribute to load this list:\r\n\r\n    &lt;copy todir=&quot;${deployed_jre_dir}&quot;&gt;\r\n      &lt;fileset dir=&quot;${system_jre_dir}&quot; excludesfile=&quot;jre_excludes.properties&quot; \r\n    &lt;/copy&gt;\r\n\r\nSample jre_excludes.properties file:\r\n\r\n    # per the README from the JRE, these files are for the browser plugin and are not needed otherwise\r\n    #bin/javaw.exe\r\n    bin/javaws.exe\r\n    bin/javacpl.exe\r\n    bin/jucheck.exe\r\n    bin/jusched.exe\r\n    bin/wsdetect.dll\r\n    bin/NPJPI*.dll\r\n    bin/NPJava*\r\n    bin/NPOJI610.dll\r\n    bin/RegUtils.dll\r\n    bin/axbridge.dll\r\n    bin/deploy.dll\r\n    bin/jpicom.dll\r\n    bin/javacpl.cpl\r\n    bin/jpiexp.dll\r\n    bin/jpinscp.dll\r\n    bin/jpioji.dll\r\n    bin/jpishare.dll\r\n    lib/deploy.jar\r\n    lib/plugin.jar\r\n    lib/javaws.jar\r\n    lib/javaws/messages*\r\n    lib/javaws/miniSplash.jpg\r\n    bin/new_plugin**\r\n    bin/jureg*\r\n    bin/ssv*\r\n    bin/jqs*\r\n    bin/jp2*\r\n    lib/deploy/**/*\r\n\r\n    # if you do not need any RMI stuff\r\n    # wildcard to catch .exe files on Windows\r\n    # note rmi.dll is not excluded, which is needed by jconsole; add rmi.dll if you do not need jsonsole\r\n    bin/jbroker*\r\n    bin/java-rmi*\r\n    bin/rmid*\r\n    bin/rmiregistry*\r\n    bin/tnameserv*\r\n    bin/orbd*\r\n    bin/servertool*\r\n\r\n    # do not include QuickTime\r\n    # this will be in the jre dir for machines that have QT installed\r\n    lib/ext/QTJava.zip\r\n","title":"Reducing size of JRE","body":"<p>Look at the README file in the JRE directory. The 'Optional Files and Directories' section lists a number of files that can be removed from the Oracle/Sun JRE if you are packaging it with your application.</p>\n\n<p>I use an Ant buildfile to copy the JRE from the system install location to the package directory when creating an installation. Put the list of files you want excluded in a separate file and use the 'excludesfile' attribute to load this list:</p>\n\n<pre><code>&lt;copy todir=\"${deployed_jre_dir}\"&gt;\n  &lt;fileset dir=\"${system_jre_dir}\" excludesfile=\"jre_excludes.properties\" \n&lt;/copy&gt;\n</code></pre>\n\n<p>Sample jre_excludes.properties file:</p>\n\n<pre><code># per the README from the JRE, these files are for the browser plugin and are not needed otherwise\n#bin/javaw.exe\nbin/javaws.exe\nbin/javacpl.exe\nbin/jucheck.exe\nbin/jusched.exe\nbin/wsdetect.dll\nbin/NPJPI*.dll\nbin/NPJava*\nbin/NPOJI610.dll\nbin/RegUtils.dll\nbin/axbridge.dll\nbin/deploy.dll\nbin/jpicom.dll\nbin/javacpl.cpl\nbin/jpiexp.dll\nbin/jpinscp.dll\nbin/jpioji.dll\nbin/jpishare.dll\nlib/deploy.jar\nlib/plugin.jar\nlib/javaws.jar\nlib/javaws/messages*\nlib/javaws/miniSplash.jpg\nbin/new_plugin**\nbin/jureg*\nbin/ssv*\nbin/jqs*\nbin/jp2*\nlib/deploy/**/*\n\n# if you do not need any RMI stuff\n# wildcard to catch .exe files on Windows\n# note rmi.dll is not excluded, which is needed by jconsole; add rmi.dll if you do not need jsonsole\nbin/jbroker*\nbin/java-rmi*\nbin/rmid*\nbin/rmiregistry*\nbin/tnameserv*\nbin/orbd*\nbin/servertool*\n\n# do not include QuickTime\n# this will be in the jre dir for machines that have QT installed\nlib/ext/QTJava.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176745,"reputation":3309,"user_id":1152565,"accept_rate":88,"display_name":"Roman K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501744341,"creation_date":1501744341,"answer_id":45477251,"question_id":4387266,"body_markdown":"Some update info: since java 8 there is an official Oracle tool called [jrecreate][1] for creating of small embedded JRE packages.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/embedded/develop-apps-platforms/jrecreate.htm","title":"Reducing size of JRE","body":"<p>Some update info: since java 8 there is an official Oracle tool called <a href=\"https://docs.oracle.com/javase/8/embedded/develop-apps-platforms/jrecreate.htm\" rel=\"nofollow noreferrer\">jrecreate</a> for creating of small embedded JRE packages.</p>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503910299,"creation_date":1503910299,"answer_id":45915141,"question_id":4387266,"body_markdown":"For my Java 8 Update 144 desktop application I exclude the 2 big Java FX files:\r\n\r\n       bin/jfxwebkit.dll // ~34 MB unpacked\r\n       lib/ext/jfxrt.jar // ~17 MB unpacked\r\n\r\nThe zipped jre is 49 MB instead of 66 MB.\r\n\r\nFor me this is an acceptable tradeoff between reduced size and added build complexity (and potential bugs).","title":"Reducing size of JRE","body":"<p>For my Java 8 Update 144 desktop application I exclude the 2 big Java FX files:</p>\n\n<pre><code>   bin/jfxwebkit.dll // ~34 MB unpacked\n   lib/ext/jfxrt.jar // ~17 MB unpacked\n</code></pre>\n\n<p>The zipped jre is 49 MB instead of 66 MB.</p>\n\n<p>For me this is an acceptable tradeoff between reduced size and added build complexity (and potential bugs).</p>\n"},{"tags":[],"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658359309,"creation_date":1658359309,"answer_id":73059095,"question_id":4387266,"body_markdown":"You can use [jlink][1] tool to post-process JDK and create a smaller image by keeping only a specified set of [JMPS][2] modules and debug information. This is a common practice right now as we are using more containerized environments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/jlink.htm#JSWOR-GUID-CECAC52B-CFEE-46CB-8166-F17A8E9280E9\r\n  [2]: https://blog.joda.org/2017/04/java-9-modules-jpms-basics.html","title":"Reducing size of JRE","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm#JSWOR-GUID-CECAC52B-CFEE-46CB-8166-F17A8E9280E9\" rel=\"nofollow noreferrer\">jlink</a> tool to post-process JDK and create a smaller image by keeping only a specified set of <a href=\"https://blog.joda.org/2017/04/java-9-modules-jpms-basics.html\" rel=\"nofollow noreferrer\">JMPS</a> modules and debug information. This is a common practice right now as we are using more containerized environments.</p>\n"}],"owner":{"account_id":71894,"reputation":4566,"user_id":207776,"accept_rate":78,"display_name":"asela38"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16854,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4387414,"answer_count":5,"score":28,"last_activity_date":1658359309,"creation_date":1291810312,"question_id":4387266,"body_markdown":"We bundle the Java 6 JRE with our application installer so that it can be run on any machine, but this makes the application a little bit heavier.  So we are planning to reduce the size of the JRE.  If anyone has done this sort of task, can you please provide guidance to move forward with this?","title":"Reducing size of JRE","body":"<p>We bundle the Java 6 JRE with our application installer so that it can be run on any machine, but this makes the application a little bit heavier.  So we are planning to reduce the size of the JRE.  If anyone has done this sort of task, can you please provide guidance to move forward with this?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658359239,"creation_date":1658359239,"answer_id":73059082,"question_id":73050297,"body_markdown":"Data is not published in &quot;both&quot; ports. There is only one Kafka cluster that is listening on two ports. There is one set of disks that the data is written into on your one broker.\r\n\r\nAlso, from what I can tell, there is only **one** topic used in your code. \r\n\r\nIf you want to restrict TCP traffic on any port, that would be a firewall rule from the OS, rather than any Kafka settings or Java code. \r\n \r\n\r\n\r\n\r\n","title":"Topic created in all kafka port","body":"<p>Data is not published in &quot;both&quot; ports. There is only one Kafka cluster that is listening on two ports. There is one set of disks that the data is written into on your one broker.</p>\n<p>Also, from what I can tell, there is only <strong>one</strong> topic used in your code.</p>\n<p>If you want to restrict TCP traffic on any port, that would be a firewall rule from the OS, rather than any Kafka settings or Java code.</p>\n"}],"owner":{"account_id":9731419,"reputation":3,"user_id":7216329,"display_name":"vel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73059082,"answer_count":1,"score":0,"last_activity_date":1658359239,"creation_date":1658314125,"question_id":73050297,"body_markdown":"server.propereties setup:\r\n\r\n    listeners=PLAINTEXT://:29092, SSL://:29093\r\n\r\nSSL related set too done.\r\n\r\nso that we can connect 29092 for plaintext and 29093 along with SSL setup.\r\n\r\nHere am trying to produce data into port 29093 as below\r\n\r\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, System.getProperty(&quot;kafkaPort&quot;, &quot;localhost:29093&quot;));\r\n    \r\n    //SSL related setup too done in props\r\n    \r\n    Producer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props, new LongSerializer(), new KafkaSerializer());\r\n    \r\n    final ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;Long, String&gt;(System.getProperty(&quot;kafkaTopic&quot;, &quot;dqerror&quot;),\r\n                        content);\r\n    \r\n    RecordMetadata metadata = producer.send(record).get();\r\n\r\nAfter publishing dqerror topic created in both also data get published in both  \r\nData is published into two topic.\r\n\r\nActually, am trying to find is any possible to restrict to drop data into a specific port ?\r\n\r\n\r\n\r\n","title":"Topic created in all kafka port","body":"<p>server.propereties setup:</p>\n<pre><code>listeners=PLAINTEXT://:29092, SSL://:29093\n</code></pre>\n<p>SSL related set too done.</p>\n<p>so that we can connect 29092 for plaintext and 29093 along with SSL setup.</p>\n<p>Here am trying to produce data into port 29093 as below</p>\n<pre><code>props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, System.getProperty(&quot;kafkaPort&quot;, &quot;localhost:29093&quot;));\n\n//SSL related setup too done in props\n\nProducer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props, new LongSerializer(), new KafkaSerializer());\n\nfinal ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;Long, String&gt;(System.getProperty(&quot;kafkaTopic&quot;, &quot;dqerror&quot;),\n                    content);\n\nRecordMetadata metadata = producer.send(record).get();\n</code></pre>\n<p>After publishing dqerror topic created in both also data get published in both<br />\nData is published into two topic.</p>\n<p>Actually, am trying to find is any possible to restrict to drop data into a specific port ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","javabeans"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":1,"creation_date":1658415006,"post_id":73059060,"comment_id":129050696,"body_markdown":"That&#39;s correct, you can use `@Qualifier` on your bean definition as well as usage. Ideally, a parent interface/class is used while injection , and Qualifier is used to inject a specific bean (child class bean)","body":"That&#39;s correct, you can use <code>@Qualifier</code> on your bean definition as well as usage. Ideally, a parent interface/class is used while injection , and Qualifier is used to inject a specific bean (child class bean)"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658359066,"creation_date":1658359066,"question_id":73059060,"body_markdown":"In configuration (FFClientConfig.java), I have:\r\n\r\n    @Configuration\r\n    public class FFClientConfig {\r\n        ...\r\n        @Bean //(name = &quot;FFWebClient&quot;)\r\n        public WebClient FFApiWebClient(Jackson2JsonEncoder encoder,\r\n                                          Jackson2JsonDecoder decoder,\r\n                                          ExchangeFilterFunction errorHandler) {\r\n            return WebClient.builder().codecs(clientCodecConfigurer -&gt; {\r\n                clientCodecConfigurer.defaultCodecs().jackson2JsonEncoder(encoder);\r\n                clientCodecConfigurer.defaultCodecs().jackson2JsonDecoder(decoder);\r\n                clientCodecConfigurer.defaultCodecs().maxInMemorySize(100000);\r\n            }).filter(errorHandler).build();\r\n        }\r\n    }\r\n\r\nIn another file (FFWebClient.java) I hope the bean defined above could be used for creating the instance of the component:\r\n\r\n    @Component\r\n    public class FFWebClient {\r\n        private final WebClient m_webClient;\r\n    \r\n        public FFWebClient(WebClient webClient) {\r\n            m_webClient = webClient;\r\n        }\r\n        ...\r\n    }\r\n\r\nBut I suspect the robustness of the code, because in the FFWebClient.java constructor, it doesn&#39;t indicate which WebClient instance to be used for constructor based bean injection, it could use either the default `WebClient` class to create an instance or, use the `WebClient` instance created by `FFApiWebClient`?\r\n\r\nShouldn&#39;t I use `@Bean(name = &quot;FFWebClient&quot;)` to annotate the `FFApiWebClient` method? So that when using it, use `@Qualifier` to indicate that the FFWebClient bean is used instead of an instance created by the default WebClient class?","title":"Will the component use the bean created by the configuration without name specification?","body":"<p>In configuration (FFClientConfig.java), I have:</p>\n<pre><code>@Configuration\npublic class FFClientConfig {\n    ...\n    @Bean //(name = &quot;FFWebClient&quot;)\n    public WebClient FFApiWebClient(Jackson2JsonEncoder encoder,\n                                      Jackson2JsonDecoder decoder,\n                                      ExchangeFilterFunction errorHandler) {\n        return WebClient.builder().codecs(clientCodecConfigurer -&gt; {\n            clientCodecConfigurer.defaultCodecs().jackson2JsonEncoder(encoder);\n            clientCodecConfigurer.defaultCodecs().jackson2JsonDecoder(decoder);\n            clientCodecConfigurer.defaultCodecs().maxInMemorySize(100000);\n        }).filter(errorHandler).build();\n    }\n}\n</code></pre>\n<p>In another file (FFWebClient.java) I hope the bean defined above could be used for creating the instance of the component:</p>\n<pre><code>@Component\npublic class FFWebClient {\n    private final WebClient m_webClient;\n\n    public FFWebClient(WebClient webClient) {\n        m_webClient = webClient;\n    }\n    ...\n}\n</code></pre>\n<p>But I suspect the robustness of the code, because in the FFWebClient.java constructor, it doesn't indicate which WebClient instance to be used for constructor based bean injection, it could use either the default <code>WebClient</code> class to create an instance or, use the <code>WebClient</code> instance created by <code>FFApiWebClient</code>?</p>\n<p>Shouldn't I use <code>@Bean(name = &quot;FFWebClient&quot;)</code> to annotate the <code>FFApiWebClient</code> method? So that when using it, use <code>@Qualifier</code> to indicate that the FFWebClient bean is used instead of an instance created by the default WebClient class?</p>\n"},{"tags":["java","maven","apache-kafka","confluent-platform"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658358846,"creation_date":1586496943,"answer_id":61134573,"question_id":60960303,"body_markdown":"Responded to your Github issue. \r\n\r\nSNAPSHOT builds will never be available from Maven Central and `${confluent.repo}` doesn&#39;t need changed. \r\n\r\nRead the FAQ in the Github wiki. Clone and install each dependency (checking out the latest, stable (or necessary dependency version) branch and build/install each while skipping tests, if you would like). \r\n\r\nThen that project should build. ","title":"Non-resolvable parent POM for io.confluent:kafka-connect-storage","body":"<p>Responded to your Github issue.</p>\n<p>SNAPSHOT builds will never be available from Maven Central and <code>${confluent.repo}</code> doesn't need changed.</p>\n<p>Read the FAQ in the Github wiki. Clone and install each dependency (checking out the latest, stable (or necessary dependency version) branch and build/install each while skipping tests, if you would like).</p>\n<p>Then that project should build.</p>\n"}],"owner":{"account_id":5967669,"reputation":13,"user_id":4691001,"display_name":"Ava Nm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61134573,"answer_count":1,"score":1,"last_activity_date":1658358846,"creation_date":1585690589,"question_id":60960303,"body_markdown":"I am pretty new to Kafka and maven. I imported the code from the official repo of confluentinc (https://github.com/confluentinc/kafka-connect-storage-common) into eclipse as a maven project and I got the following error for all the projects. There is a Kafka docker is running in the same folder as the code. Any thoughts on how to solve this?\r\nIs there a way to run this in the eclipse? what type of dependencies do I need to add? \r\n\r\n \r\n\r\n    Project build error: Non-resolvable parent POM for io.confluent:kafka-connect-storage-         common-  parent:6.0.0-\r\n    SNAPSHOT: Failure to transfer io.confluent:common:pom:6.0.0-SNAPSHOT from    ${confluent.maven.repo} was cached in\r\n    the local repository, resolution will not be reattempted until the update interval of confluent has elapsed or updates are\r\n    forced. Original error: Could not transfer artifact io.confluent:common:pom:6.0.0-SNAPSHOT from/to confluent ($\r\n    {confluent.maven.repo}): Cannot access ${confluent.maven.repo} with type default using the available connector\r\n    factories: AetherRepositoryConnectorFactory, BasicRepositoryConnectorFactory and &#39;parent.relativePath&#39; points at\r\n    wrong local POM&#39;","title":"Non-resolvable parent POM for io.confluent:kafka-connect-storage","body":"<p>I am pretty new to Kafka and maven. I imported the code from the official repo of confluentinc (<a href=\"https://github.com/confluentinc/kafka-connect-storage-common\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-connect-storage-common</a>) into eclipse as a maven project and I got the following error for all the projects. There is a Kafka docker is running in the same folder as the code. Any thoughts on how to solve this?\nIs there a way to run this in the eclipse? what type of dependencies do I need to add? </p>\n\n<pre><code>Project build error: Non-resolvable parent POM for io.confluent:kafka-connect-storage-         common-  parent:6.0.0-\nSNAPSHOT: Failure to transfer io.confluent:common:pom:6.0.0-SNAPSHOT from    ${confluent.maven.repo} was cached in\nthe local repository, resolution will not be reattempted until the update interval of confluent has elapsed or updates are\nforced. Original error: Could not transfer artifact io.confluent:common:pom:6.0.0-SNAPSHOT from/to confluent ($\n{confluent.maven.repo}): Cannot access ${confluent.maven.repo} with type default using the available connector\nfactories: AetherRepositoryConnectorFactory, BasicRepositoryConnectorFactory and 'parent.relativePath' points at\nwrong local POM'\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658358298,"post_id":73057190,"comment_id":129034949,"body_markdown":"Unclear what you think you&#39;re missing. But, I&#39;d suggest looking into Apache Camel&#39;s Kafka Connect Support. I believe it offers a way to open a generic TCP input server.","body":"Unclear what you think you&#39;re missing. But, I&#39;d suggest looking into Apache Camel&#39;s Kafka Connect Support. I believe it offers a way to open a generic TCP input server."}],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658358540,"creation_date":1658358540,"answer_id":73059016,"question_id":73057190,"body_markdown":"Developing a Simple Source Connector\r\n-----------------------------\r\n\r\n- Developing a connector only requires implementing two interfaces, **the Connector** and **Task**.\r\n-  Creating a class that inherits from **SourceConnector** and add a couple of fields that will store parsed configuration information (the source of the data stream in your case it is that 3rd party System and the topic to send data to).\r\n- The easiest method to fill in is **taskClass()**, which defines the class that should be instantiated in worker processes to actually read the data.\r\n\r\n        public class FileStreamSourceConnector extends SourceConnector {\r\n            private String filename;\r\n            private String topic;\r\n        @Override\r\n        public Class&lt;? extends Task&gt; taskClass() {\r\n            return FileStreamSourceTask.class;\r\n        }\r\n\r\n\r\n- Add some standard lifecycle methods, start() and stop()\r\n\r\n   \r\n\r\n         public void start(Map&lt;String, String&gt; props) {\r\n                // The complete version includes error handling as well.\r\n                filename = props.get(FILE_CONFIG);\r\n                topic = props.get(TOPIC_CONFIG); }\r\n                  public void stop() {\r\n                // Nothing to do since no background monitoring is required. \r\n    }\r\n\r\n- The real core of the implementation is in taskConfigs().\r\n\r\n&gt;         @Override\r\n&gt;         public List&lt;Map&lt;String, String&gt;&gt; taskConfigs(int maxTasks) \r\n&gt;     {\r\n&gt;             ArrayList&lt;Map&lt;String, String&gt;&gt; configs = new ArrayList&lt;&gt;();\r\n&gt;             // Only one input stream makes sense.\r\n&gt;             Map&lt;String, String&gt; config = new HashMap&lt;&gt;();\r\n&gt;             if (filename != null)\r\n&gt;                 config.put(FILE_CONFIG, filename);\r\n&gt;             config.put(TOPIC_CONFIG, topic);\r\n&gt;             configs.add(config);\r\n&gt;             return configs;\r\n&gt;         }\r\n\r\nSourceTask provides two APIs to commit offsets in the source system which has an acknowledgment mechanism for messages: **commit** and **commitRecord**. \r\n\r\nOverriding these methods allows the source connector to acknowledge messages in the source system, either in bulk or individually, once they have been written to Kafka. \r\n\r\n- Just as with the connector, we need to create a class inheriting from the appropriate base Task class. It also has some standard lifecycle methods.\r\n\r\n   \r\n\r\n&gt;  public class FileStreamSourceTask extends SourceTask \r\n&gt; \r\n&gt;     {\r\n&gt;         String filename;\r\n&gt;         InputStream stream;\r\n&gt;         String topic;\r\n&gt;      \r\n&gt;         @Override\r\n&gt;         public void start(Map&lt;String, String&gt; props) {\r\n&gt;             filename = props.get(FileStreamSourceConnector.FILE_CONFIG);\r\n&gt;             stream = openOrThrowError(filename);\r\n&gt;             topic = props.get(FileStreamSourceConnector.TOPIC_CONFIG);\r\n&gt;         }\r\n&gt;         @Override\r\n&gt;         public synchronized void stop() {\r\n&gt;             stream.close();\r\n&gt;         }\r\n\r\nThe method **stop()** is synchronized. This will be necessary because SourceTasks are given a dedicated thread which they can block indefinitely, so they need to be stopped with a call from a different thread in the Worker.\r\n\r\n- Next, we implement the main functionality of the task, the poll() method which gets events from the input system and returns a List&lt;SourceRecord&gt;.\r\n\r\n       \r\n\r\n&gt;  @Override public List&lt;SourceRecord&gt; poll() throws\r\n&gt; InterruptedException \r\n&gt; \r\n&gt;     {\r\n&gt;             try \r\n&gt;     {\r\n&gt;                 ArrayList&lt;SourceRecord&gt; records = new ArrayList&lt;&gt;();\r\n&gt;                 while (streamValid(stream) &amp;&amp; records.isEmpty()) \r\n&gt;     {\r\n&gt;                     LineAndOffset line = readToNextLine(stream);\r\n&gt;                     if (line != null) {\r\n&gt;                         Map&lt;String, Object&gt; sourcePartition = Collections.singletonMap(&quot;filename&quot;, filename);\r\n&gt;                         Map&lt;String, Object&gt; sourceOffset = Collections.singletonMap(&quot;position&quot;, streamOffset);\r\n&gt;                         records.add(new SourceRecord(sourcePartition, sourceOffset, topic, Schema.STRING_SCHEMA, line));\r\n&gt;                     } else {\r\n&gt;                         Thread.sleep(1);\r\n&gt;                     }\r\n&gt;                 }\r\n&gt;                 return records;} catch (IOException e) \r\n&gt;     {\r\n&gt;                 // Underlying stream was killed, probably as a result of calling stop. Allow to return\r\n&gt;                 // null, and driving thread will handle any shutdown if necessary.\r\n&gt;             }\r\n&gt;     return null;  \r\n&gt;     }\r\n\r\nThe method **poll()** is going to be called repeatedly, and for each call it will loop trying to read records from the file.\r\n\r\nFor each record it reads, it also tracks the file offset. It uses this information to create an output SourceRecord with four pieces of information: the **source partition**, **source offset** (byte offset in the source record), **output topic name**, and **output value** (the data record, and we include a schema indicating this value will always be a string). \r\n","title":"Listening for async messsages in a Kafka Connect SourceTask","body":"<h2>Developing a Simple Source Connector</h2>\n<ul>\n<li><p>Developing a connector only requires implementing two interfaces, <strong>the Connector</strong> and <strong>Task</strong>.</p>\n</li>\n<li><p>Creating a class that inherits from <strong>SourceConnector</strong> and add a couple of fields that will store parsed configuration information (the source of the data stream in your case it is that 3rd party System and the topic to send data to).</p>\n</li>\n<li><p>The easiest method to fill in is <strong>taskClass()</strong>, which defines the class that should be instantiated in worker processes to actually read the data.</p>\n<pre><code>  public class FileStreamSourceConnector extends SourceConnector {\n      private String filename;\n      private String topic;\n  @Override\n  public Class&lt;? extends Task&gt; taskClass() {\n      return FileStreamSourceTask.class;\n  }\n</code></pre>\n</li>\n<li><p>Add some standard lifecycle methods, start() and stop()</p>\n<pre><code>   public void start(Map&lt;String, String&gt; props) {\n          // The complete version includes error handling as well.\n          filename = props.get(FILE_CONFIG);\n          topic = props.get(TOPIC_CONFIG); }\n            public void stop() {\n          // Nothing to do since no background monitoring is required. \n</code></pre>\n<p>}</p>\n</li>\n<li><p>The real core of the implementation is in taskConfigs().</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>    @Override\n    public List&lt;Map&lt;String, String&gt;&gt; taskConfigs(int maxTasks) \n{\n        ArrayList&lt;Map&lt;String, String&gt;&gt; configs = new ArrayList&lt;&gt;();\n        // Only one input stream makes sense.\n        Map&lt;String, String&gt; config = new HashMap&lt;&gt;();\n        if (filename != null)\n            config.put(FILE_CONFIG, filename);\n        config.put(TOPIC_CONFIG, topic);\n        configs.add(config);\n        return configs;\n    }\n</code></pre>\n</blockquote>\n<p>SourceTask provides two APIs to commit offsets in the source system which has an acknowledgment mechanism for messages: <strong>commit</strong> and <strong>commitRecord</strong>.</p>\n<p>Overriding these methods allows the source connector to acknowledge messages in the source system, either in bulk or individually, once they have been written to Kafka.</p>\n<ul>\n<li>Just as with the connector, we need to create a class inheriting from the appropriate base Task class. It also has some standard lifecycle methods.</li>\n</ul>\n<blockquote>\n<p>public class FileStreamSourceTask extends SourceTask</p>\n<pre><code>{\n    String filename;\n    InputStream stream;\n    String topic;\n \n    @Override\n    public void start(Map&lt;String, String&gt; props) {\n        filename = props.get(FileStreamSourceConnector.FILE_CONFIG);\n        stream = openOrThrowError(filename);\n        topic = props.get(FileStreamSourceConnector.TOPIC_CONFIG);\n    }\n    @Override\n    public synchronized void stop() {\n        stream.close();\n    }\n</code></pre>\n</blockquote>\n<p>The method <strong>stop()</strong> is synchronized. This will be necessary because SourceTasks are given a dedicated thread which they can block indefinitely, so they need to be stopped with a call from a different thread in the Worker.</p>\n<ul>\n<li>Next, we implement the main functionality of the task, the poll() method which gets events from the input system and returns a List.</li>\n</ul>\n<blockquote>\n<p>@Override public List poll() throws\nInterruptedException</p>\n<pre><code>{\n        try \n{\n            ArrayList&lt;SourceRecord&gt; records = new ArrayList&lt;&gt;();\n            while (streamValid(stream) &amp;&amp; records.isEmpty()) \n{\n                LineAndOffset line = readToNextLine(stream);\n                if (line != null) {\n                    Map&lt;String, Object&gt; sourcePartition = Collections.singletonMap(&quot;filename&quot;, filename);\n                    Map&lt;String, Object&gt; sourceOffset = Collections.singletonMap(&quot;position&quot;, streamOffset);\n                    records.add(new SourceRecord(sourcePartition, sourceOffset, topic, Schema.STRING_SCHEMA, line));\n                } else {\n                    Thread.sleep(1);\n                }\n            }\n            return records;} catch (IOException e) \n{\n            // Underlying stream was killed, probably as a result of calling stop. Allow to return\n            // null, and driving thread will handle any shutdown if necessary.\n        }\nreturn null;  \n}\n</code></pre>\n</blockquote>\n<p>The method <strong>poll()</strong> is going to be called repeatedly, and for each call it will loop trying to read records from the file.</p>\n<p>For each record it reads, it also tracks the file offset. It uses this information to create an output SourceRecord with four pieces of information: the <strong>source partition</strong>, <strong>source offset</strong> (byte offset in the source record), <strong>output topic name</strong>, and <strong>output value</strong> (the data record, and we include a schema indicating this value will always be a string).</p>\n"}],"owner":{"account_id":12150509,"reputation":75,"user_id":8870965,"display_name":"code_warrior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658358540,"creation_date":1658345300,"question_id":73057190,"body_markdown":"My 3rd-party app emits async messages i.e. &quot;Matter creation successful&quot;, &quot;Workflow 124-C completion failed&quot;, etc on a particular port.  Currently I capture these messages with a standard ServerSocket/ClientListener paradigm.\r\n\r\nBut now I&#39;d like to create a Kafka Source Connector that listens for these messages and stores them in a queue then at certain intervals converts them to SourceRecords and sends them on their way to our Kafka cluster. I&#39;m trying to use the Connect API , extending SourceTask and overriding its methods with pieces from my paradigm.\r\n\r\n    public class MySourceTask extends SourceTask {\r\n        Queue q_msg;\r\n        ServerSocket ss;\r\n        \r\n        long last_execution;\r\n        static final long Interval = 10000L;\r\n\r\n        @Override\r\n        public void start(Map&lt;String,String&gt; props) {\r\n            this.q_msg = new ConcurrentLinkedQueue&lt;String&gt;();\r\n            this.last_execution = System.currentTimeMillis();\r\n            this.ss = new ServerSocket(19092);\r\n            this.istream = new InputStream();\r\n        }\r\n\r\n        @Override\r\n        public List&lt;SourceRecord&gt; poll() throws InterruptedException {\r\n            List&lt;SourceRecord&gt; llist = new ArrayList&lt;SourceRecord&gt;();\r\n            if( System.currentTimeMillis() &gt; this.last_execution + Interval) {\r\n                this.last_execution = System.currentTimeMillis();\r\n                while(( String msg = q_msg.poll()) != null) {\r\n                    llist.add( new SourceRecord( sourcePartition, sourceOffset, &quot;app.msg&quot;, msg));\r\n                }\r\n            return llist; // might be empty\r\n        }\r\n\r\n    }\r\n\r\nbut I&#39;m clearly missing some stuff. Or maybe I don&#39;t need some thing due to Kafka &quot;magic&quot;\r\n","title":"Listening for async messsages in a Kafka Connect SourceTask","body":"<p>My 3rd-party app emits async messages i.e. &quot;Matter creation successful&quot;, &quot;Workflow 124-C completion failed&quot;, etc on a particular port.  Currently I capture these messages with a standard ServerSocket/ClientListener paradigm.</p>\n<p>But now I'd like to create a Kafka Source Connector that listens for these messages and stores them in a queue then at certain intervals converts them to SourceRecords and sends them on their way to our Kafka cluster. I'm trying to use the Connect API , extending SourceTask and overriding its methods with pieces from my paradigm.</p>\n<pre><code>public class MySourceTask extends SourceTask {\n    Queue q_msg;\n    ServerSocket ss;\n    \n    long last_execution;\n    static final long Interval = 10000L;\n\n    @Override\n    public void start(Map&lt;String,String&gt; props) {\n        this.q_msg = new ConcurrentLinkedQueue&lt;String&gt;();\n        this.last_execution = System.currentTimeMillis();\n        this.ss = new ServerSocket(19092);\n        this.istream = new InputStream();\n    }\n\n    @Override\n    public List&lt;SourceRecord&gt; poll() throws InterruptedException {\n        List&lt;SourceRecord&gt; llist = new ArrayList&lt;SourceRecord&gt;();\n        if( System.currentTimeMillis() &gt; this.last_execution + Interval) {\n            this.last_execution = System.currentTimeMillis();\n            while(( String msg = q_msg.poll()) != null) {\n                llist.add( new SourceRecord( sourcePartition, sourceOffset, &quot;app.msg&quot;, msg));\n            }\n        return llist; // might be empty\n    }\n\n}\n</code></pre>\n<p>but I'm clearly missing some stuff. Or maybe I don't need some thing due to Kafka &quot;magic&quot;</p>\n"},{"tags":["java","spring","postgresql","rest","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658349049,"post_id":73057742,"comment_id":129032684,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658358538,"creation_date":1658358538,"answer_id":73059015,"question_id":73057742,"body_markdown":"Your post request references name of the table instead of the variable in Customer class. You can either modify your request:\r\n\r\n    {&quot;customerName&quot;: &quot;John&quot;,&quot;customerSurname&quot;: &quot;Smith&quot;}\r\n\r\nor modify your entity adding json property annotations as below:\r\n\r\n    @Column(name = &quot;customer_name&quot;)\r\n    @JsonProperty(&quot;customer_name&quot;)\r\n    private String customerName;\r\n    @Column(name = &quot;customer_surname&quot;)\r\n    @JsonProperty(&quot;customer_surname&quot;)\r\n    private String customerSurname;\r\n\r\n","title":"Java SpringBoot POST&#39;ing to Postgresql results in NULL values","body":"<p>Your post request references name of the table instead of the variable in Customer class. You can either modify your request:</p>\n<pre><code>{&quot;customerName&quot;: &quot;John&quot;,&quot;customerSurname&quot;: &quot;Smith&quot;}\n</code></pre>\n<p>or modify your entity adding json property annotations as below:</p>\n<pre><code>@Column(name = &quot;customer_name&quot;)\n@JsonProperty(&quot;customer_name&quot;)\nprivate String customerName;\n@Column(name = &quot;customer_surname&quot;)\n@JsonProperty(&quot;customer_surname&quot;)\nprivate String customerSurname;\n</code></pre>\n"}],"owner":{"account_id":22600370,"reputation":15,"user_id":16782050,"display_name":"sf99sL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73059015,"answer_count":1,"score":0,"last_activity_date":1658358538,"creation_date":1658348633,"question_id":73057742,"body_markdown":"I am trying to build a simple web application that consists of three connected PostgreSQL tables and REST API to manage them. However, when I try to add a new customer via POST, all the columns are inserted as NULL.\r\n\r\n**Customer.java**\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@NonNull\r\n@Table(name = &quot;customers&quot;)\r\n@Entity\r\npublic class Customer implements Serializable {\r\n    private @Id @Column(name = &quot;customerid&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY) Long id;\r\n    @Column(name = &quot;customer_name&quot;)\r\n    private String customerName;\r\n    @Column(name = &quot;customer_surname&quot;)\r\n    private String customerSurname;\r\n}\r\n\r\n```\r\n\r\n**CustomerRepository.java**\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n}\r\n```\r\n\r\n**ICustomerService.java**\r\n```\r\npublic interface ICustomerService {\r\n    List&lt;Customer&gt; getAll();\r\n    Customer getByID(Long id);\r\n    Long add(Customer c);\r\n    void remove(Long id);\r\n}\r\n```\r\n\r\n**CustomerService.java**\r\n```\r\n@Service\r\npublic class CustomerService implements ICustomerService {\r\n    private CustomerRepository customerRepository;\r\n    @Autowired\r\n    public CustomerService(CustomerRepository customerRepository) {\r\n        this.customerRepository = customerRepository;\r\n    }\r\n    @Override\r\n    public List&lt;Customer&gt; getAll() {\r\n        return this.customerRepository.findAll();\r\n    }\r\n    @Override\r\n    public Customer getByID(Long id) {\r\n        return this.customerRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;Customer %d not found.&quot;, id)));\r\n    }\r\n    @Override\r\n    public Long add(Customer c) {\r\n        return this.customerRepository.save(c).getId();\r\n    }\r\n    @Override\r\n    public void remove(Long id) {\r\n        this.customerRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\n\r\n**CustomerController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/customers&quot;)\r\npublic class CustomerController {\r\n    private final ICustomerService customerService;\r\n    public CustomerController(ICustomerService customerService) {\r\n        this.customerService = customerService;\r\n    }\r\n    @GetMapping\r\n    public List&lt;Customer&gt; getAll() {\r\n        return this.customerService.getAll();\r\n    }\r\n    @GetMapping(&quot;/{customerid}&quot;)\r\n    public Customer getByID(@PathVariable(&quot;customerid&quot;) Long customerid) {\r\n        return this.customerService.getByID(customerid);\r\n    }\r\n    @PostMapping\r\n    public Long add(@RequestBody Customer c) {\r\n        return this.customerService.add(c);\r\n    }\r\n    @DeleteMapping(&quot;/{customerid}&quot;)\r\n    public void remove(@PathVariable(&quot;customerid&quot;) Long customerid) {\r\n        this.customerService.remove(customerid);\r\n    }\r\n}\r\n```\r\n\r\nMy example POST request:\r\n\r\n`curl http://localhost:8080/customers -X POST -d &#39;{&quot;customer_name&quot;: &quot;John&quot;,&quot;customer_surname&quot;: &quot;Smith&quot;}&#39; -H &#39;Content-Type: application/json&#39;`\r\n\r\nThe resulting entry in the customer table:\r\n```\r\nselect * from customer where customerid = 1\r\n ------------------------------------------------\r\n |customerid | customer_name | customer_surname |\r\n -----------------------------------------------\r\n | 1         | NULL          | NULL             |\r\n ------------------------------------------------\r\n```\r\n","title":"Java SpringBoot POST&#39;ing to Postgresql results in NULL values","body":"<p>I am trying to build a simple web application that consists of three connected PostgreSQL tables and REST API to manage them. However, when I try to add a new customer via POST, all the columns are inserted as NULL.</p>\n<p><strong>Customer.java</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@NonNull\n@Table(name = &quot;customers&quot;)\n@Entity\npublic class Customer implements Serializable {\n    private @Id @Column(name = &quot;customerid&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY) Long id;\n    @Column(name = &quot;customer_name&quot;)\n    private String customerName;\n    @Column(name = &quot;customer_surname&quot;)\n    private String customerSurname;\n}\n\n</code></pre>\n<p><strong>CustomerRepository.java</strong></p>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n}\n</code></pre>\n<p><strong>ICustomerService.java</strong></p>\n<pre><code>public interface ICustomerService {\n    List&lt;Customer&gt; getAll();\n    Customer getByID(Long id);\n    Long add(Customer c);\n    void remove(Long id);\n}\n</code></pre>\n<p><strong>CustomerService.java</strong></p>\n<pre><code>@Service\npublic class CustomerService implements ICustomerService {\n    private CustomerRepository customerRepository;\n    @Autowired\n    public CustomerService(CustomerRepository customerRepository) {\n        this.customerRepository = customerRepository;\n    }\n    @Override\n    public List&lt;Customer&gt; getAll() {\n        return this.customerRepository.findAll();\n    }\n    @Override\n    public Customer getByID(Long id) {\n        return this.customerRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;Customer %d not found.&quot;, id)));\n    }\n    @Override\n    public Long add(Customer c) {\n        return this.customerRepository.save(c).getId();\n    }\n    @Override\n    public void remove(Long id) {\n        this.customerRepository.deleteById(id);\n    }\n}\n</code></pre>\n<p><strong>CustomerController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/customers&quot;)\npublic class CustomerController {\n    private final ICustomerService customerService;\n    public CustomerController(ICustomerService customerService) {\n        this.customerService = customerService;\n    }\n    @GetMapping\n    public List&lt;Customer&gt; getAll() {\n        return this.customerService.getAll();\n    }\n    @GetMapping(&quot;/{customerid}&quot;)\n    public Customer getByID(@PathVariable(&quot;customerid&quot;) Long customerid) {\n        return this.customerService.getByID(customerid);\n    }\n    @PostMapping\n    public Long add(@RequestBody Customer c) {\n        return this.customerService.add(c);\n    }\n    @DeleteMapping(&quot;/{customerid}&quot;)\n    public void remove(@PathVariable(&quot;customerid&quot;) Long customerid) {\n        this.customerService.remove(customerid);\n    }\n}\n</code></pre>\n<p>My example POST request:</p>\n<p><code>curl http://localhost:8080/customers -X POST -d '{&quot;customer_name&quot;: &quot;John&quot;,&quot;customer_surname&quot;: &quot;Smith&quot;}' -H 'Content-Type: application/json'</code></p>\n<p>The resulting entry in the customer table:</p>\n<pre><code>select * from customer where customerid = 1\n ------------------------------------------------\n |customerid | customer_name | customer_surname |\n -----------------------------------------------\n | 1         | NULL          | NULL             |\n ------------------------------------------------\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8656744,"reputation":424,"user_id":6480749,"display_name":"J11"},"score":1,"creation_date":1658345675,"post_id":73057096,"comment_id":129031768,"body_markdown":"You can have the EditText in the MainActivity and still use the onTextChanged listener. I would suggest using a ViewModel to track state changes, Activities and Fragments should only subscribe to the ViewModel to present such state. More info about ViewModel: https://developer.android.com/topic/libraries/architecture/viewmodel","body":"You can have the EditText in the MainActivity and still use the onTextChanged listener. I would suggest using a ViewModel to track state changes, Activities and Fragments should only subscribe to the ViewModel to present such state. More info about ViewModel: <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/viewmodel</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user19576538"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658356952,"creation_date":1658356952,"answer_id":73058858,"question_id":73057096,"body_markdown":"You can make it happen using ViewModel + MVVM architecture.\r\n\r\n**MainActivity:**\r\n\r\n```kotlin\r\nbinding.editText.addTextChangedListener(object: TextWatcher {\r\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\r\n    }\r\n\r\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\r\n    }\r\n\r\n    override fun afterTextChanged(s: Editable?) {\r\n        viewModel.updateSearchText(s)\r\n    }\r\n})\r\n\r\n```\r\n\r\n**ViewModel:**\r\n\r\n```kotlin\r\nprivate val _searchText = MutableLiveData&lt;Editable?&gt;()\r\nval searchText: LiveData&lt;Editable?&gt; get() = _searchText\r\n\r\nfun updateSearchText(text: Editable?) {\r\n    _searchText.value = s\r\n}\r\n```\r\n\r\n**Fragment:**\r\n\r\n```kotlin\r\nsearchText.observe(viewLifecycleOwner) {\r\n    // TODO: handle the searched query using [it] keyword.\r\n}\r\n```\r\n\r\nIf you don&#39;t know what View Model is or how to implement it, use the official Google tutorial: https://developer.android.com/codelabs/basic-android-kotlin-training-viewmodel","title":"Android pass Edit Text data onChange from Activity to Fragment","body":"<p>You can make it happen using ViewModel + MVVM architecture.</p>\n<p><strong>MainActivity:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>binding.editText.addTextChangedListener(object: TextWatcher {\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n    }\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n    }\n\n    override fun afterTextChanged(s: Editable?) {\n        viewModel.updateSearchText(s)\n    }\n})\n\n</code></pre>\n<p><strong>ViewModel:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val _searchText = MutableLiveData&lt;Editable?&gt;()\nval searchText: LiveData&lt;Editable?&gt; get() = _searchText\n\nfun updateSearchText(text: Editable?) {\n    _searchText.value = s\n}\n</code></pre>\n<p><strong>Fragment:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>searchText.observe(viewLifecycleOwner) {\n    // TODO: handle the searched query using [it] keyword.\n}\n</code></pre>\n<p>If you don't know what View Model is or how to implement it, use the official Google tutorial: <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-viewmodel\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/basic-android-kotlin-training-viewmodel</a></p>\n"},{"tags":[],"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658357665,"creation_date":1658357665,"answer_id":73058936,"question_id":73057096,"body_markdown":"Another way to achieve this (besides using an Android ViewModel) is use the [Fragment Result API][1].\r\n\r\nFor instance, if you place the `EditText` into a fragment (let&#39;s call it `QueryFragment`), you can get the result of the `QueryFragment` in your `SearchResults` fragment like so:\r\n\r\n```kotlin\r\n// In QueryFragment\r\n\r\n\r\neditText.addTextChangedListener(object: TextWatcher {\r\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) { }\r\n\r\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) { }\r\n\r\n    override fun afterTextChanged(s: Editable?) {\r\n        setFragmentResult(&quot;searchQueryRequestKey&quot;, bundleOf(&quot;searchQuery&quot; to s.toString()))\r\n    }\r\n})\r\n\r\n```\r\n\r\n```kotlin\r\n// In SearchResultsFragment\r\n\r\n    \r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        // Retrieve the searched string from QueryFragment\r\n\r\n        // Use the Kotlin extension in the fragment-ktx artifact\r\n        setFragmentResultListener(&quot;searchQueryRequestKey&quot;) { requestKey, bundle -&gt;\r\n    \r\n            val searchQuery = bundle.getString(&quot;searchQuery&quot;)\r\n\r\n            // Perform the search using the searchQuery and display the search results\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/communicate#fragments","title":"Android pass Edit Text data onChange from Activity to Fragment","body":"<p>Another way to achieve this (besides using an Android ViewModel) is use the <a href=\"https://developer.android.com/guide/fragments/communicate#fragments\" rel=\"nofollow noreferrer\">Fragment Result API</a>.</p>\n<p>For instance, if you place the <code>EditText</code> into a fragment (let's call it <code>QueryFragment</code>), you can get the result of the <code>QueryFragment</code> in your <code>SearchResults</code> fragment like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// In QueryFragment\n\n\neditText.addTextChangedListener(object: TextWatcher {\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) { }\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) { }\n\n    override fun afterTextChanged(s: Editable?) {\n        setFragmentResult(&quot;searchQueryRequestKey&quot;, bundleOf(&quot;searchQuery&quot; to s.toString()))\n    }\n})\n\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// In SearchResultsFragment\n\n    \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        // Retrieve the searched string from QueryFragment\n\n        // Use the Kotlin extension in the fragment-ktx artifact\n        setFragmentResultListener(&quot;searchQueryRequestKey&quot;) { requestKey, bundle -&gt;\n    \n            val searchQuery = bundle.getString(&quot;searchQuery&quot;)\n\n            // Perform the search using the searchQuery and display the search results\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73058858,"answer_count":2,"score":0,"last_activity_date":1658357665,"creation_date":1658344711,"question_id":73057096,"body_markdown":"I have a main activity with a heading and a search field (edit text), I want to be able to search and the results are immediately shown in the fragment, like an onChange instead of waiting for the user to click a button to filter results. (which is in the activity).\r\n\r\nI can get it working if I include the Edit Text in my fragment too, but I don&#39;t want it that way for design purposes, I&#39;d like to retrieve the user values as they are typed from the activity, and get them in my fragment to filter results\r\n\r\nI&#39;ve tried Bundles but could not get it working, and also not sure If i could use Bundles to get the results as they are being input.\r\n\r\n\r\nHere&#39;s a screenshot to help understand better\r\n[![The top heading with the Edit Text is the activity, the Recycler View etc are part of a fragment][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1viN.png","title":"Android pass Edit Text data onChange from Activity to Fragment","body":"<p>I have a main activity with a heading and a search field (edit text), I want to be able to search and the results are immediately shown in the fragment, like an onChange instead of waiting for the user to click a button to filter results. (which is in the activity).</p>\n<p>I can get it working if I include the Edit Text in my fragment too, but I don't want it that way for design purposes, I'd like to retrieve the user values as they are typed from the activity, and get them in my fragment to filter results</p>\n<p>I've tried Bundles but could not get it working, and also not sure If i could use Bundles to get the results as they are being input.</p>\n<p>Here's a screenshot to help understand better\n<a href=\"https://i.stack.imgur.com/r1viN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1viN.png\" alt=\"The top heading with the Edit Text is the activity, the Recycler View etc are part of a fragment\" /></a></p>\n"},{"tags":["java","multithreading","locking","stampedlock"],"comments":[{"owner":{"account_id":17292003,"reputation":80,"user_id":12523385,"display_name":"3xypn0s"},"score":0,"creation_date":1677526833,"post_id":73058584,"comment_id":133351721,"body_markdown":"Did you find an answer to your question? I am having the same issue, but I am unable to find a solution. Many Thanks.","body":"Did you find an answer to your question? I am having the same issue, but I am unable to find a solution. Many Thanks."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":1,"creation_date":1677623931,"post_id":73058584,"comment_id":133374310,"body_markdown":"@3xypn0s I did not; otherwise, I would have added an answer here. I ended up moving back to `ReentrantReadWriteLock` and it was good enough for my use-case.","body":"@3xypn0s I did not; otherwise, I would have added an answer here. I ended up moving back to <code>ReentrantReadWriteLock</code> and it was good enough for my use-case."}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658357155,"creation_date":1658354579,"question_id":73058584,"body_markdown":"Java&#39;s `StampedLock` does not support `Condition` variables. As such, how can one implement the following pseudo code with StampedLocks?\r\n\r\n    public class Example\r\n    {\r\n        private final List&lt;Integer&gt; queue = new ArrayList&lt;&gt;();\r\n        private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\r\n        private final Lock writeLock = lock.writeLock();\r\n        private final Condition dataAdded = writeLock.newCondition();\r\n    \r\n        public void waitForData()\r\n        {\r\n          writeLock.lock();\r\n          try\r\n          {\r\n            while (queue.isEmpty())\r\n              dataAdded.await();\r\n          }\r\n          finally\r\n          {\r\n            writeLock.unlock();\r\n          }\r\n        }\r\n    }\r\n\r\nSpecifically, how do I wait on the event without condition variables? The only approaches that come to mind are:\r\n\r\nOld-school `Object.wait()`:\r\n\r\n    Object dataAdded = new Object();\r\n\r\n    public void waitForData()\r\n    {\r\n      synchronized (dataAdded)\r\n      {\r\n        while (queue.isEmpty())\r\n          dataAdded.wait();\r\n      }\r\n    }\r\n\r\n`ReentrantLock` with a corresponding `Condition`:\r\n  \r\n    Lock writeLock = new ReentrantLock();\r\n    Condition dataAdded = new Condition();\r\n\r\n    public void waitForData()\r\n    {\r\n      writeLock.lock();\r\n      try\r\n      {\r\n        while (queue.isEmpty())\r\n          dataAdded.await();\r\n      }\r\n      finally\r\n      {\r\n        writeLock.unlock();\r\n      }\r\n    }\r\n\r\nIt seems kind of odd to use multiple locking mechanisms to achieve this. Further, when I come back from `wait()` or `await()` I am not guaranteed to be able to acquire a `StampedLock` write lock.\r\n\r\nThoughts?","title":"How to wait for events when using StampedLock?","body":"<p>Java's <code>StampedLock</code> does not support <code>Condition</code> variables. As such, how can one implement the following pseudo code with StampedLocks?</p>\n<pre><code>public class Example\n{\n    private final List&lt;Integer&gt; queue = new ArrayList&lt;&gt;();\n    private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\n    private final Lock writeLock = lock.writeLock();\n    private final Condition dataAdded = writeLock.newCondition();\n\n    public void waitForData()\n    {\n      writeLock.lock();\n      try\n      {\n        while (queue.isEmpty())\n          dataAdded.await();\n      }\n      finally\n      {\n        writeLock.unlock();\n      }\n    }\n}\n</code></pre>\n<p>Specifically, how do I wait on the event without condition variables? The only approaches that come to mind are:</p>\n<p>Old-school <code>Object.wait()</code>:</p>\n<pre><code>Object dataAdded = new Object();\n\npublic void waitForData()\n{\n  synchronized (dataAdded)\n  {\n    while (queue.isEmpty())\n      dataAdded.wait();\n  }\n}\n</code></pre>\n<p><code>ReentrantLock</code> with a corresponding <code>Condition</code>:</p>\n<pre><code>Lock writeLock = new ReentrantLock();\nCondition dataAdded = new Condition();\n\npublic void waitForData()\n{\n  writeLock.lock();\n  try\n  {\n    while (queue.isEmpty())\n      dataAdded.await();\n  }\n  finally\n  {\n    writeLock.unlock();\n  }\n}\n</code></pre>\n<p>It seems kind of odd to use multiple locking mechanisms to achieve this. Further, when I come back from <code>wait()</code> or <code>await()</code> I am not guaranteed to be able to acquire a <code>StampedLock</code> write lock.</p>\n<p>Thoughts?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1658314615,"post_id":73048708,"comment_id":129019423,"body_markdown":"If this is the actual observed behaviour, that would be a bug in Spring Data JPA. Please create an issue including a reproducer.","body":"If this is the actual observed behaviour, that would be a bug in Spring Data JPA. Please create an issue including a reproducer."},{"owner":{"account_id":1114094,"reputation":6302,"user_id":1103894,"accept_rate":26,"display_name":"Urbanleg"},"score":0,"creation_date":1658317918,"post_id":73048708,"comment_id":129020699,"body_markdown":"The spring-boot version we use is 2.3.8, but i have reproduced this on 2.7.1 as well (which is the latest) so i am not sure its a bug","body":"The spring-boot version we use is 2.3.8, but i have reproduced this on 2.7.1 as well (which is the latest) so i am not sure its a bug"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1658318281,"post_id":73048708,"comment_id":129020850,"body_markdown":"I don&#39;t see the relation between the Spring Boot version and the question if this is a bug. Even the latest version might contain bugs, and some of them are in there for ages.","body":"I don&#39;t see the relation between the Spring Boot version and the question if this is a bug. Even the latest version might contain bugs, and some of them are in there for ages."},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1658321498,"post_id":73048708,"comment_id":129022236,"body_markdown":"Could I ask what &quot;clearAutomatically = true&quot; was added for?","body":"Could I ask what &quot;clearAutomatically = true&quot; was added for?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1658385531,"post_id":73048708,"comment_id":129039231,"body_markdown":"To clarify, I consider the behavior described in the second example to be a bug. The first one works as designed, as detailed by Oliver in his answer.","body":"To clarify, I consider the behavior described in the second example to be a bug. The first one works as designed, as detailed by Oliver in his answer."}],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658356324,"creation_date":1658356324,"answer_id":73058786,"question_id":73048708,"body_markdown":"This works as designed. As the Javadoc suggests, `clearAutomatically` triggers persistence context clearance, i.e. calls `EntityManager.clear()`. The Javadoc of that clearly states:\r\n\r\n&gt; Clear the persistence context, causing all managed entities to become detached. Changes made to entities that have not been flushed to the database will not be persisted.\r\n\r\nThat&#39;s why your modification of `s` does not get persisted. I guess an explicit call `settingsRepository.save(s)` should do the trick as it merges the now detached instance to the persistence context again.","title":"Spring data - @Modifying(clearAutomatically = true , flushAutomatically = true) causing another entity not to be updated","body":"<p>This works as designed. As the Javadoc suggests, <code>clearAutomatically</code> triggers persistence context clearance, i.e. calls <code>EntityManager.clear()</code>. The Javadoc of that clearly states:</p>\n<blockquote>\n<p>Clear the persistence context, causing all managed entities to become detached. Changes made to entities that have not been flushed to the database will not be persisted.</p>\n</blockquote>\n<p>That's why your modification of <code>s</code> does not get persisted. I guess an explicit call <code>settingsRepository.save(s)</code> should do the trick as it merges the now detached instance to the persistence context again.</p>\n"}],"owner":{"account_id":1114094,"reputation":6302,"user_id":1103894,"accept_rate":26,"display_name":"Urbanleg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658356324,"creation_date":1658307665,"question_id":73048708,"body_markdown":"We have a repository that have the following update:\r\n\r\n    @Query(value=&quot;UPDATE Brand set name=?1 where id=?2&quot;)\r\n    @Modifying(clearAutomatically = true , flushAutomatically = true)\r\n    int updateBrandName(String name, Long brandId);\r\n\r\nWe are experiencing a weird behavior on the following case:\r\n\r\n    @Transactional\r\n    public void test() {\r\n        Brand b = brandRepository.findById(1);\r\n        Settings s = settingsRepository.findById(2);        \r\n\r\n        brandRepository.updateBrandName(&quot;some new name&quot;, 1);   // WILL BE PERSISTED\r\n        s.setModifiedBy(null);  //  WONT BE PERSISTED\r\n    }\r\n\r\nAnother use case that works differently:\r\n\r\n    @Transactional\r\n    public void test() {\r\n        Brand b = brandRepository.findById(1);\r\n\r\n        brandRepository.updateBrandName(&quot;some new name&quot;, 1);   // WILL BE PERSISTED\r\n        b.setSomeOtherField(null);  //  WILL BE PERSISTED\r\n    }\r\n\r\nRemoving the (clearAutomatically = true) solves the problem (everything is peristed)\r\n\r\nWhy the **Settings** entity is not persisted while the original **Brand** entity does when the clearAutomatically = true?\r\n\r\nIf we do need the clear automatically = true, how can we do it properly?\r\n\r\n\r\n","title":"Spring data - @Modifying(clearAutomatically = true , flushAutomatically = true) causing another entity not to be updated","body":"<p>We have a repository that have the following update:</p>\n<pre><code>@Query(value=&quot;UPDATE Brand set name=?1 where id=?2&quot;)\n@Modifying(clearAutomatically = true , flushAutomatically = true)\nint updateBrandName(String name, Long brandId);\n</code></pre>\n<p>We are experiencing a weird behavior on the following case:</p>\n<pre><code>@Transactional\npublic void test() {\n    Brand b = brandRepository.findById(1);\n    Settings s = settingsRepository.findById(2);        \n\n    brandRepository.updateBrandName(&quot;some new name&quot;, 1);   // WILL BE PERSISTED\n    s.setModifiedBy(null);  //  WONT BE PERSISTED\n}\n</code></pre>\n<p>Another use case that works differently:</p>\n<pre><code>@Transactional\npublic void test() {\n    Brand b = brandRepository.findById(1);\n\n    brandRepository.updateBrandName(&quot;some new name&quot;, 1);   // WILL BE PERSISTED\n    b.setSomeOtherField(null);  //  WILL BE PERSISTED\n}\n</code></pre>\n<p>Removing the (clearAutomatically = true) solves the problem (everything is peristed)</p>\n<p>Why the <strong>Settings</strong> entity is not persisted while the original <strong>Brand</strong> entity does when the clearAutomatically = true?</p>\n<p>If we do need the clear automatically = true, how can we do it properly?</p>\n"},{"tags":["java","sorting","import","set"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1658355775,"post_id":73058609,"comment_id":129034460,"body_markdown":"To help us debug the problem it is in your best interest to provide us [SSCCE](http://sscce.org) (a.k.a. [MCVE]). In other words your example needs to be ***minimal*** - which means it shouldn&#39;t have any parts unrelated to your problem, for instance you can skip reading from file, just provide raw data in code for *few* objects needed to show the problem. BUT at the same time your code needs to be ***complete*** - this means we should only copy-paste it to your machines and *without any modifications* be able to compile/run it and get *exactly the same problem* as described in question.","body":"To help us debug the problem it is in your best interest to provide us <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> (a.k.a. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). In other words your example needs to be <b><i>minimal</i></b> - which means it shouldn&#39;t have any parts unrelated to your problem, for instance you can skip reading from file, just provide raw data in code for <i>few</i> objects needed to show the problem. BUT at the same time your code needs to be <b><i>complete</i></b> - this means we should only copy-paste it to your machines and <i>without any modifications</i> be able to compile/run it and get <i>exactly the same problem</i> as described in question."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1658356042,"post_id":73058609,"comment_id":129034514,"body_markdown":"Don&#39;t be discouraged by potential amount of time it will need. Creating such example will also give **you** a chance to find cause of the problem yourself. For instance when you will remove/change some part to create [mcve], at some point your problem may also disappear. In such case it will give you a hint that source of the problem was in (probably recently) removed/changed part.","body":"Don&#39;t be discouraged by potential amount of time it will need. Creating such example will also give <b>you</b> a chance to find cause of the problem yourself. For instance when you will remove/change some part to create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, at some point your problem may also disappear. In such case it will give you a hint that source of the problem was in (probably recently) removed/changed part."},{"owner":{"account_id":466441,"reputation":1420,"user_id":871199,"accept_rate":34,"display_name":"user871199"},"score":0,"creation_date":1658356591,"post_id":73058609,"comment_id":129034648,"body_markdown":"Are you comparing string or converting to date ?","body":"Are you comparing string or converting to date ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1658356624,"post_id":73058609,"comment_id":129034656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25822002,"reputation":69,"user_id":19560919,"display_name":"Moraban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658356070,"creation_date":1658356070,"answer_id":73058754,"question_id":73058609,"body_markdown":"I think that the issue you are having is with the order. When you use the method `Comparator.reverseOrder()` you will get the numbers from biggest to smallest. The year in which someone is born will be smaller for older people. An example of this is the year 2020 is more than 1952 even though those born in 1952 are older.\r\n\r\nTry to use the code below.\r\n```lang-java\r\nlekarz.stream().sorted(Comparator.comparing(Lekarz::getDataUrodzenia, Comparator.nullsLast(Comparator.naturalOrder())))\r\n                .limit(5)\r\n                .forEach(System.out::println);\r\n```","title":"Set not sorting properly the date of birth","body":"<p>I think that the issue you are having is with the order. When you use the method <code>Comparator.reverseOrder()</code> you will get the numbers from biggest to smallest. The year in which someone is born will be smaller for older people. An example of this is the year 2020 is more than 1952 even though those born in 1952 are older.</p>\n<p>Try to use the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>lekarz.stream().sorted(Comparator.comparing(Lekarz::getDataUrodzenia, Comparator.nullsLast(Comparator.naturalOrder())))\n                .limit(5)\n                .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":25828962,"reputation":1,"user_id":19566513,"display_name":"tryingmybest09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73058754,"answer_count":1,"score":-2,"last_activity_date":1658356070,"creation_date":1658354742,"question_id":73058609,"body_markdown":"I&#39;m working on a problem where I have to import 3 text files: Doctor, Paitient, Visits. I have to find the top 5 oldest doctors on the list. Currently my method for this is looking like this :\r\n\r\n    private static void zadanie5(List&lt;Lekarz&gt; lekarz) {\r\n\r\n        System.out.println(&quot;Zadanie5&quot;);\r\n        lekarz.stream()\r\n                .sorted(Comparator.comparing(Lekarz::getDataUrodzenia, Comparator.nullsLast(Comparator.reverseOrder())))\r\n                .limit(5)\r\n                .forEach(System.out::println);\r\n\r\nWhen run the method will bring up the 5 people although they are not the oldest, the oldest which is displayed by the method is born in 1970, where as on the file there are people born in 1946.\r\n\r\nThe imported text file with the doctors look&#39;s like this:\r\n(ID of the doctor, Surname, Name, Speciality, Date of birth, NIP number, Pesel number)\r\n\r\n    Id_lekarza\tNazwisko\tImie\tSpecjalnosc\tData_urodzenia\tNIP\t          PESEL\r\n        23\t       Kadaj\tMonika\tlaryngolog\t1965-03-16\t  879-122-69-94\t65031687654\r\n\r\nCould you advise what could be the issue here and how I could fix the sorting?\r\n\r\nThanks!","title":"Set not sorting properly the date of birth","body":"<p>I'm working on a problem where I have to import 3 text files: Doctor, Paitient, Visits. I have to find the top 5 oldest doctors on the list. Currently my method for this is looking like this :</p>\n<pre><code>private static void zadanie5(List&lt;Lekarz&gt; lekarz) {\n\n    System.out.println(&quot;Zadanie5&quot;);\n    lekarz.stream()\n            .sorted(Comparator.comparing(Lekarz::getDataUrodzenia, Comparator.nullsLast(Comparator.reverseOrder())))\n            .limit(5)\n            .forEach(System.out::println);\n</code></pre>\n<p>When run the method will bring up the 5 people although they are not the oldest, the oldest which is displayed by the method is born in 1970, where as on the file there are people born in 1946.</p>\n<p>The imported text file with the doctors look's like this:\n(ID of the doctor, Surname, Name, Speciality, Date of birth, NIP number, Pesel number)</p>\n<pre><code>Id_lekarza  Nazwisko    Imie    Specjalnosc Data_urodzenia  NIP           PESEL\n    23         Kadaj    Monika  laryngolog  1965-03-16    879-122-69-94 65031687654\n</code></pre>\n<p>Could you advise what could be the issue here and how I could fix the sorting?</p>\n<p>Thanks!</p>\n"},{"tags":["java","database","hibernate","jpa","locking"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1658386154,"post_id":73058749,"comment_id":129039396,"body_markdown":"The lock mode is not on the entities but on the database row/table.","body":"The lock mode is not on the entities but on the database row/table."},{"owner":{"account_id":17547575,"reputation":79,"user_id":12728542,"display_name":"elsamuray7"},"score":0,"creation_date":1658440378,"post_id":73058749,"comment_id":129058772,"body_markdown":"@SimonMartinelli So what happens if I retrieve the same entity once with PESSIMISTIC_WRITE lock and once without a lock? Will the retrieve without lock fail with an exception, since I shouldn’t be able to read the entity?","body":"@SimonMartinelli So what happens if I retrieve the same entity once with PESSIMISTIC_WRITE lock and once without a lock? Will the retrieve without lock fail with an exception, since I shouldn’t be able to read the entity?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1658471614,"post_id":73058749,"comment_id":129063701,"body_markdown":"PESSIMISTIC_WRITE will execute a select .. for update and lock the row. So you cannot retrieve it in another transaction","body":"PESSIMISTIC_WRITE will execute a select .. for update and lock the row. So you cannot retrieve it in another transaction"}],"owner":{"account_id":17547575,"reputation":79,"user_id":12728542,"display_name":"elsamuray7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658356027,"creation_date":1658356027,"question_id":73058749,"body_markdown":"I made some research about locking DB entities with Hibernate and saw that it is possible to lock entities explicitly with the `Session.lock()` method.\r\n\r\nHowever, I think I need some clarification here, as I could not find any answers in the Documentation:\r\n\r\nCan I retrieve entities that are currently locked, for example, with `LockMode.PESSIMISTIC_WRITE` (in another session) and then acquire the lock explcitly afterwards with the `Session.lock()` method or do I have to specify the lock mode right when I retrieve the entity?\r\nIf the latter is true, why is there even the possibility to explicitly set the lock mode for an entity? Is it just to upgrade the lock mode, e.g., from pessimistic read to pessimistic write?","title":"Hibernate - Retrieve entity locked with pesimistic write lock","body":"<p>I made some research about locking DB entities with Hibernate and saw that it is possible to lock entities explicitly with the <code>Session.lock()</code> method.</p>\n<p>However, I think I need some clarification here, as I could not find any answers in the Documentation:</p>\n<p>Can I retrieve entities that are currently locked, for example, with <code>LockMode.PESSIMISTIC_WRITE</code> (in another session) and then acquire the lock explcitly afterwards with the <code>Session.lock()</code> method or do I have to specify the lock mode right when I retrieve the entity?\nIf the latter is true, why is there even the possibility to explicitly set the lock mode for an entity? Is it just to upgrade the lock mode, e.g., from pessimistic read to pessimistic write?</p>\n"},{"tags":["java","maven","path"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1657554377,"post_id":72941138,"comment_id":128832646,"body_markdown":"Please repost the stack trace as formatted text so it&#39;s legible. Please also provide your OS and environment.","body":"Please repost the stack trace as formatted text so it&#39;s legible. Please also provide your OS and environment."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657624708,"post_id":72941138,"comment_id":128850043,"body_markdown":"The Windows command line (cannot remember if it is CMD or Powershell) has problems with equal signs.  Can you try with the other?","body":"The Windows command line (cannot remember if it is CMD or Powershell) has problems with equal signs.  Can you try with the other?"},{"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"score":0,"creation_date":1657641459,"post_id":72941138,"comment_id":128856665,"body_markdown":"What do I replace the equal sign with? Also, I&#39;m still unsure about why it keeps giving the  &quot;&#39;cmd&#39; is not recognized as an internal or external command,\noperable program or batch file&quot; message","body":"What do I replace the equal sign with? Also, I&#39;m still unsure about why it keeps giving the  &quot;&#39;cmd&#39; is not recognized as an internal or external command, operable program or batch file&quot; message"}],"answers":[{"tags":[],"owner":{"account_id":23714520,"reputation":81,"user_id":17735868,"display_name":"tajacks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657715711,"creation_date":1657715711,"answer_id":72966403,"question_id":72941138,"body_markdown":"You are passing in the following command line option:\r\n\r\n`-DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler`\r\n\r\nHowever, the error message indicates that it&#39;s only getting part of that. You can see that the `com` has been truncated:\r\n\r\n`Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;`\r\n\r\nTry wrapping it in double quotes:\r\n\r\n`&quot;-DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler&quot;`\r\n\r\n","title":"I&#39;m having issues with Maven","body":"<p>You are passing in the following command line option:</p>\n<p><code>-DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler</code></p>\n<p>However, the error message indicates that it's only getting part of that. You can see that the <code>com</code> has been truncated:</p>\n<p><code>Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;</code></p>\n<p>Try wrapping it in double quotes:</p>\n<p><code>&quot;-DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658355648,"creation_date":1658355648,"answer_id":73058703,"question_id":72941138,"body_markdown":"Even though the question is incomplete and there is no minimal reproducible example, here is a solution that worked for me in a similar situation.\r\n\r\nI just wrapped the value of `-DcrawlerImplementations` parameter in single quotes (&#39;). \r\n\r\nIn your situation try something like this command below: \r\n\r\n`mvn test -Dtest=WebCrawlerTest -DcrawlerImplementations=&#39;com.udacity.webcrawler.SequentialWebCrawler&#39;`","title":"I&#39;m having issues with Maven","body":"<p>Even though the question is incomplete and there is no minimal reproducible example, here is a solution that worked for me in a similar situation.</p>\n<p>I just wrapped the value of <code>-DcrawlerImplementations</code> parameter in single quotes (').</p>\n<p>In your situation try something like this command below:</p>\n<p><code>mvn test -Dtest=WebCrawlerTest -DcrawlerImplementations='com.udacity.webcrawler.SequentialWebCrawler'</code></p>\n"}],"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1658355648,"creation_date":1657553933,"question_id":72941138,"body_markdown":"I just recently started learning Java and I&#39;m trying to work on my first project with Maven (never used it before). However, I cannot seem to get Maven to work properly. \r\n\r\nI am running Windows 11. I downloaded Maven and added it&#39;s bin to my system&#39;s path variable. When I check which version I have on the command line, I get the correct answer, but then I get a message about how cmd is not a valid command. \r\n[Picture of System Path variable][1]\r\n\r\n\r\n[Picture of System Path variable][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SuaP8.png\r\n  [2]: https://i.stack.imgur.com/W2et5.png\r\n\r\nMy project&#39;s distribution says that I should be able to do a test run of the project right away. However I get the following error message after entering my test:\r\n\r\n\r\n```\r\nPS C:\\Users\\tayot\\IdeaProjectmvn test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.110 s\r\n[INFO] Finished at: 2022-07-11T10:52:19-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\r\n&#39;cmd&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\nPS C:\\Users\\tayot\\IdeaProjects\\cd0381-advanced-java-programming-techniques-projectstarter-master\\starter\\webcrawler&gt; mvn test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 75, column 21\r\n[WARNING] \r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING] \r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[WARNING]\r\n[INFO] \r\n[INFO] -------------&lt; com.udacity.webcrawler:udacity-webcrawler &gt;--------------\r\n[INFO] Building udacity-webcrawler 1.0\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.112 s\r\n[INFO] Finished at: 2022-07-11T11:05:24-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;\r\n:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile\r\n, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\r\n&#39;cmd&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\nPS C:\\Users\\tayot\\IdeaProjects\\cd0381-advanced-java-programming-techniques-projectstarter-master\\starter\\webcrawler&gt; mvn -e test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler \r\n[INFO] Error stacktraces are turned on.\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 75, column 21\r\n[WARNING]\r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING]\r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[WARNING]\r\n[INFO] \r\n[INFO] -------------&lt; com.udacity.webcrawler:udacity-webcrawler &gt;--------------\r\n[INFO] Building udacity-webcrawler 1.0\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.106 s\r\n[INFO] Finished at: 2022-07-11T11:05:54-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;\r\n:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile\r\n, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecyclePhaseNotFoundException: Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in th\r\noperable program or batch file.\r\n```\r\n\r\nI&#39;m not sure what the issue is. Here is the what the pom.xml file looks like:\r\nhttps://docs.google.com/document/d/15ueL7GRSifOK0IVvC7V7ueYiL8QCMfWi0r6XtKlWeNI/edit?usp=sharing\r\n","title":"I&#39;m having issues with Maven","body":"<p>I just recently started learning Java and I'm trying to work on my first project with Maven (never used it before). However, I cannot seem to get Maven to work properly.</p>\n<p>I am running Windows 11. I downloaded Maven and added it's bin to my system's path variable. When I check which version I have on the command line, I get the correct answer, but then I get a message about how cmd is not a valid command.\n<a href=\"https://i.stack.imgur.com/SuaP8.png\" rel=\"nofollow noreferrer\">Picture of System Path variable</a></p>\n<p><a href=\"https://i.stack.imgur.com/W2et5.png\" rel=\"nofollow noreferrer\">Picture of System Path variable</a></p>\n<p>My project's distribution says that I should be able to do a test run of the project right away. However I get the following error message after entering my test:</p>\n<pre><code>PS C:\\Users\\tayot\\IdeaProjectmvn test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.110 s\n[INFO] Finished at: 2022-07-11T10:52:19-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\n'cmd' is not recognized as an internal or external command,\noperable program or batch file.\nPS C:\\Users\\tayot\\IdeaProjects\\cd0381-advanced-java-programming-techniques-projectstarter-master\\starter\\webcrawler&gt; mvn test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 75, column 21\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING]\n[INFO] \n[INFO] -------------&lt; com.udacity.webcrawler:udacity-webcrawler &gt;--------------\n[INFO] Building udacity-webcrawler 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.112 s\n[INFO] Finished at: 2022-07-11T11:05:24-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;\n:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile\n, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\n'cmd' is not recognized as an internal or external command,\noperable program or batch file.\nPS C:\\Users\\tayot\\IdeaProjects\\cd0381-advanced-java-programming-techniques-projectstarter-master\\starter\\webcrawler&gt; mvn -e test -Dtest=WebCrawlerTest -DcrawlerImplementations=com.udacity.webcrawler.SequentialWebCrawler \n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.udacity.webcrawler:udacity-webcrawler:jar:1.0\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 75, column 21\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING]\n[INFO] \n[INFO] -------------&lt; com.udacity.webcrawler:udacity-webcrawler &gt;--------------\n[INFO] Building udacity-webcrawler 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.106 s\n[INFO] Finished at: 2022-07-11T11:05:54-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;\n:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile\n, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecyclePhaseNotFoundException: Unknown lifecycle phase &quot;.udacity.webcrawler.SequentialWebCrawler&quot;. You must specify a valid lifecycle phase or a goal in th\noperable program or batch file.\n</code></pre>\n<p>I'm not sure what the issue is. Here is the what the pom.xml file looks like:\n<a href=\"https://docs.google.com/document/d/15ueL7GRSifOK0IVvC7V7ueYiL8QCMfWi0r6XtKlWeNI/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/15ueL7GRSifOK0IVvC7V7ueYiL8QCMfWi0r6XtKlWeNI/edit?usp=sharing</a></p>\n"},{"tags":["java","random","collections"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658312983,"post_id":73049982,"comment_id":129018806,"body_markdown":"How many attributes are there? How often do you need to pull them out?","body":"How many attributes are there? How often do you need to pull them out?"}],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658313440,"creation_date":1658313440,"answer_id":73050129,"question_id":73049982,"body_markdown":"An `ArrayList` gives you the best performance for randomly choose a value because it has `O(1)` access time.\r\n\r\nSee here for a explanation: https://stackoverflow.com/a/322742/7142748  ","title":"What is the most efficient Java Collection to use to Access a Random Element?","body":"<p>An <code>ArrayList</code> gives you the best performance for randomly choose a value because it has <code>O(1)</code> access time.</p>\n<p>See here for a explanation: <a href=\"https://stackoverflow.com/a/322742/7142748\">https://stackoverflow.com/a/322742/7142748</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658313481,"creation_date":1658313481,"answer_id":73050142,"question_id":73049982,"body_markdown":"&gt; I am creating an NPC generator\r\n\r\nIf by saying poll you mean only accessing a random element, and not removing it, you can use a plain `ArrayList` to store your objects.\r\n```\r\nRandom rand = new Random();\r\nList&lt;NPC&gt; npcs = new ArrayList&lt;&gt;(); // fields\r\n\r\nNPC npc = npcs.get(rand.nextInt(npcs.size())); // resides in a method\r\n```","title":"What is the most efficient Java Collection to use to Access a Random Element?","body":"<blockquote>\n<p>I am creating an NPC generator</p>\n</blockquote>\n<p>If by saying poll you mean only accessing a random element, and not removing it, you can use a plain <code>ArrayList</code> to store your objects.</p>\n<pre><code>Random rand = new Random();\nList&lt;NPC&gt; npcs = new ArrayList&lt;&gt;(); // fields\n\nNPC npc = npcs.get(rand.nextInt(npcs.size())); // resides in a method\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658313923,"creation_date":1658313923,"answer_id":73050247,"question_id":73049982,"body_markdown":"You can use `Math.random` multiply with the size of the list to get the random value\r\n\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nint index = (int) (Math.random() * list.size());\r\nNPC npc = list.get(index);\r\n```","title":"What is the most efficient Java Collection to use to Access a Random Element?","body":"<p>You can use <code>Math.random</code> multiply with the size of the list to get the random value</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nint index = (int) (Math.random() * list.size());\nNPC npc = list.get(index);\n</code></pre>\n"}],"owner":{"account_id":24686273,"reputation":49,"user_id":18579425,"display_name":"Luke Burston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73050129,"answer_count":3,"score":0,"last_activity_date":1658354980,"creation_date":1658312880,"question_id":73049982,"body_markdown":"I am creating an NPC generator, in which all their attributes are randomly pulled from their respective collection of possible values.\r\n\r\nWhat would be the most efficient collection to use to store the possible values in order to randomly pull a value from, or is there no real difference?","title":"What is the most efficient Java Collection to use to Access a Random Element?","body":"<p>I am creating an NPC generator, in which all their attributes are randomly pulled from their respective collection of possible values.</p>\n<p>What would be the most efficient collection to use to store the possible values in order to randomly pull a value from, or is there no real difference?</p>\n"},{"tags":["java","sql","exception","batch-processing","sqlexception"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299510196,"creation_date":1299510196,"answer_id":5221191,"question_id":5221152,"body_markdown":"Quotes from the javadoc of BatchUpdateException :\r\n\r\n&gt; The order of elements in an array of\r\n&gt; update counts corresponds to the order\r\n&gt; in which commands were added to the\r\n&gt; batch.\r\n&gt; \r\n&gt; After a command in a batch update\r\n&gt; fails to execute properly and a\r\n&gt; BatchUpdateException is thrown, the\r\n&gt; driver may or may not continue to\r\n&gt; process the remaining commands in the\r\n&gt; batch. If the driver continues\r\n&gt; processing after a failure, the array\r\n&gt; returned by the method\r\n&gt; BatchUpdateException.getUpdateCounts\r\n&gt; will have an element for every command\r\n&gt; in the batch rather than only elements\r\n&gt; for the commands that executed\r\n&gt; successfully before the error. In the\r\n&gt; case where the driver continues\r\n&gt; processing commands, the array element\r\n&gt; for any command that failed is\r\n&gt; Statement.EXECUTE_FAILED.","title":"How to get exact sql query that contains exception in batch processing","body":"<p>Quotes from the javadoc of BatchUpdateException :</p>\n\n<blockquote>\n  <p>The order of elements in an array of\n  update counts corresponds to the order\n  in which commands were added to the\n  batch.</p>\n  \n  <p>After a command in a batch update\n  fails to execute properly and a\n  BatchUpdateException is thrown, the\n  driver may or may not continue to\n  process the remaining commands in the\n  batch. If the driver continues\n  processing after a failure, the array\n  returned by the method\n  BatchUpdateException.getUpdateCounts\n  will have an element for every command\n  in the batch rather than only elements\n  for the commands that executed\n  successfully before the error. In the\n  case where the driver continues\n  processing commands, the array element\n  for any command that failed is\n  Statement.EXECUTE_FAILED.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":142918,"reputation":13444,"user_id":350923,"accept_rate":100,"display_name":"skuro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299511781,"creation_date":1299511781,"answer_id":5221495,"question_id":5221152,"body_markdown":"As already pointed out, you get access only to the index of the SQL statement that failed during the batch. This means that in order to recreate the same statement that failed to execute you should store parameters in an indexable way, such as:\r\n\r\n    List&lt;...&gt;paramList = new ArrayList&lt;...&gt;();\r\n    for (... params in paramList) {\r\n        stmt.clearParameters();\r\n        stmt.setString(...something involving params...);\r\n        // etc.\r\n    }\r\n\r\nThis way the index of the `getUpdateCounts` with `EXECUTE_FAILED` array can be used to identify which parameters caused the failure.","title":"How to get exact sql query that contains exception in batch processing","body":"<p>As already pointed out, you get access only to the index of the SQL statement that failed during the batch. This means that in order to recreate the same statement that failed to execute you should store parameters in an indexable way, such as:</p>\n\n<pre><code>List&lt;...&gt;paramList = new ArrayList&lt;...&gt;();\nfor (... params in paramList) {\n    stmt.clearParameters();\n    stmt.setString(...something involving params...);\n    // etc.\n}\n</code></pre>\n\n<p>This way the index of the <code>getUpdateCounts</code> with <code>EXECUTE_FAILED</code> array can be used to identify which parameters caused the failure.</p>\n"},{"tags":[],"owner":{"account_id":56570,"reputation":1034,"user_id":169476,"accept_rate":82,"display_name":"Su Beng Keong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304846662,"creation_date":1304846662,"answer_id":5926607,"question_id":5221152,"body_markdown":"Create a DB layer that help to execute command, if sql command fail the retry it few times using a while loop or something, if still failed after few times then log it.","title":"How to get exact sql query that contains exception in batch processing","body":"<p>Create a DB layer that help to execute command, if sql command fail the retry it few times using a while loop or something, if still failed after few times then log it.</p>\n"},{"tags":[],"owner":{"account_id":1944729,"reputation":1715,"user_id":1750142,"accept_rate":50,"display_name":"csonuryilmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368449782,"creation_date":1368449782,"answer_id":16522615,"question_id":5221152,"body_markdown":"I&#39;m using mysql-connector-java-3.1.14 with MySQL. The update at the top of this topic (which uses  BatchUpdateException and getUpdateCounts) are working correctly. Now i can find the problematic row in batch insert/update.","title":"How to get exact sql query that contains exception in batch processing","body":"<p>I'm using mysql-connector-java-3.1.14 with MySQL. The update at the top of this topic (which uses  BatchUpdateException and getUpdateCounts) are working correctly. Now i can find the problematic row in batch insert/update.</p>\n"}],"owner":{"account_id":201022,"reputation":875,"user_id":447217,"accept_rate":50,"display_name":"eunique0216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7566,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1658354485,"creation_date":1299509885,"question_id":5221152,"body_markdown":"I want to execute the following: \r\n\r\n(a transfer to PRESENTATION DB of a row from a fetched row of PROCESSING DB)\r\n\r\n        PreparedStatement stmt;\r\n        Statement st;\r\n        Connection conn = ConnectionManager.getInstance().getConnection(ConnectionManager.PRESENTATION_DB);\r\n        try {\r\n            conn.setAutoCommit(false);\r\n            stmt = conn.prepareStatement(\r\n                   &quot;insert into customer (name,category,age) values (?,?,?)&quot;);  \r\n                        stmt.clearParameters();\r\n                        stmt.setString(1,&quot;name2&quot;);\r\n                        stmt.setString(2,&quot;cat2&quot;);\r\n                        stmt.setInt(3,25);\r\n                        stmt.addBatch();\r\n                        stmt.clearParameters();\r\n                        stmt.setString(1,&quot;name3&quot;);\r\n                        stmt.setString(2,&quot;cat3&quot;);\r\n                        stmt.setInt(3,25);\r\n                        stmt.addBatch();\r\n                        stmt.clearParameters();\r\n                        stmt.setString(1,&quot;name4&quot;);\r\n                        stmt.setString(2,&quot;cat2&quot;);\r\n                        stmt.setInt(3,25);\r\n                        stmt.addBatch();\r\n                        stmt.clearParameters();\r\n                        stmt.setString(1,&quot;name4&quot;);\r\n                        stmt.setString(2,&quot;cat2&quot;);\r\n                        //stmt.setInt(3,25);\r\n      \r\n                        //this is parameter with false input\r\n                        stmt.setString(3,&quot;null&quot;); \r\n                        \r\n                        stmt.addBatch();\r\n                        stmt.clearParameters();\r\n                        stmt.setString(1,&quot;name5&quot;);\r\n                        stmt.setString(2,&quot;cat5&quot;);\r\n                        stmt.setInt(3,25);\r\n                        stmt.addBatch();\r\n                        stmt.clearParameters();\r\n        \r\n            int [] updateCounts = stmt.executeBatch();\r\n            conn.commit();\r\n            conn.setAutoCommit(true);\r\n\r\n                        stmt.close();\r\n            conn.close();\r\n        } \r\n        catch(BatchUpdateException b) {\r\n                        System.err.println(&quot;-----BatchUpdateException-----&quot;);\r\n                        System.err.println(&quot;SQLState:  &quot; + b.getSQLState());\r\n                        System.err.println(&quot;Message:  &quot; + b.getMessage());\r\n                        System.err.println(&quot;Vendor:  &quot; + b.getErrorCode());\r\n                        System.err.print(&quot;Update counts:  &quot;);\r\n                        int [] updateCounts = b.getUpdateCounts();\r\n                        for (int i = 0; i &lt; updateCounts.length; i++) {\r\n                                System.err.print(updateCounts[i] + &quot;   &quot;);\r\n                        }\r\n                        System.err.println(&quot;&quot;);\r\n                }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nHow can I identify a row that caused the exception to be able to re-execute the batch-processing without this particular row? (By updating the row&#39;s field hasError).\r\n\r\n\r\nCurrently I am not saving the objects by batch so I can mark the row if it causes an error and skip that row and move on to process (i.e. save/transfer and delete) another row.\r\n\r\nThanks! \r\n\r\nUpdate:\r\n\r\nOk, I used the following code to track the rows (if any row causes an error): \r\n\r\n            public static void processUpdateCounts(int[] updateCounts) {\r\n                for (int i=0; i&lt;updateCounts.length; i++) {\r\n                    if (updateCounts[i] &gt;= 0) {\r\n                        // Successfully executed; the number represents number of affected rows\r\n                        logger.info(&quot;Successfully executed: number of affected rows: &quot;+updateCounts[i]);\r\n                    } else if (updateCounts[i] == Statement.SUCCESS_NO_INFO) {\r\n                        // Successfully executed; number of affected rows not available\r\n                        logger.info(&quot;Successfully executed: number of affected rows not available: &quot;+updateCounts[i]);\r\n                    } else if (updateCounts[i] == Statement.EXECUTE_FAILED) {\r\n                        logger.info(&quot;Failed to execute: &quot;+updateCounts[i]);\r\n                        // Failed to execute\r\n                    }\r\n                }\r\n            }\r\nAnd added the line:\r\n\r\n            processUpdateCounts(updateCounts);\r\n\r\nso I can see changes with or without any error, but it seems like BatchUpdateException isn&#39;t working?","title":"How to get exact sql query that contains exception in batch processing","body":"<p>I want to execute the following: </p>\n\n<p>(a transfer to PRESENTATION DB of a row from a fetched row of PROCESSING DB)</p>\n\n<pre><code>    PreparedStatement stmt;\n    Statement st;\n    Connection conn = ConnectionManager.getInstance().getConnection(ConnectionManager.PRESENTATION_DB);\n    try {\n        conn.setAutoCommit(false);\n        stmt = conn.prepareStatement(\n               \"insert into customer (name,category,age) values (?,?,?)\");  \n                    stmt.clearParameters();\n                    stmt.setString(1,\"name2\");\n                    stmt.setString(2,\"cat2\");\n                    stmt.setInt(3,25);\n                    stmt.addBatch();\n                    stmt.clearParameters();\n                    stmt.setString(1,\"name3\");\n                    stmt.setString(2,\"cat3\");\n                    stmt.setInt(3,25);\n                    stmt.addBatch();\n                    stmt.clearParameters();\n                    stmt.setString(1,\"name4\");\n                    stmt.setString(2,\"cat2\");\n                    stmt.setInt(3,25);\n                    stmt.addBatch();\n                    stmt.clearParameters();\n                    stmt.setString(1,\"name4\");\n                    stmt.setString(2,\"cat2\");\n                    //stmt.setInt(3,25);\n\n                    //this is parameter with false input\n                    stmt.setString(3,\"null\"); \n\n                    stmt.addBatch();\n                    stmt.clearParameters();\n                    stmt.setString(1,\"name5\");\n                    stmt.setString(2,\"cat5\");\n                    stmt.setInt(3,25);\n                    stmt.addBatch();\n                    stmt.clearParameters();\n\n        int [] updateCounts = stmt.executeBatch();\n        conn.commit();\n        conn.setAutoCommit(true);\n\n                    stmt.close();\n        conn.close();\n    } \n    catch(BatchUpdateException b) {\n                    System.err.println(\"-----BatchUpdateException-----\");\n                    System.err.println(\"SQLState:  \" + b.getSQLState());\n                    System.err.println(\"Message:  \" + b.getMessage());\n                    System.err.println(\"Vendor:  \" + b.getErrorCode());\n                    System.err.print(\"Update counts:  \");\n                    int [] updateCounts = b.getUpdateCounts();\n                    for (int i = 0; i &lt; updateCounts.length; i++) {\n                            System.err.print(updateCounts[i] + \"   \");\n                    }\n                    System.err.println(\"\");\n            }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>How can I identify a row that caused the exception to be able to re-execute the batch-processing without this particular row? (By updating the row's field hasError).</p>\n\n<p>Currently I am not saving the objects by batch so I can mark the row if it causes an error and skip that row and move on to process (i.e. save/transfer and delete) another row.</p>\n\n<p>Thanks! </p>\n\n<p>Update:</p>\n\n<p>Ok, I used the following code to track the rows (if any row causes an error): </p>\n\n<pre><code>        public static void processUpdateCounts(int[] updateCounts) {\n            for (int i=0; i&lt;updateCounts.length; i++) {\n                if (updateCounts[i] &gt;= 0) {\n                    // Successfully executed; the number represents number of affected rows\n                    logger.info(\"Successfully executed: number of affected rows: \"+updateCounts[i]);\n                } else if (updateCounts[i] == Statement.SUCCESS_NO_INFO) {\n                    // Successfully executed; number of affected rows not available\n                    logger.info(\"Successfully executed: number of affected rows not available: \"+updateCounts[i]);\n                } else if (updateCounts[i] == Statement.EXECUTE_FAILED) {\n                    logger.info(\"Failed to execute: \"+updateCounts[i]);\n                    // Failed to execute\n                }\n            }\n        }\n</code></pre>\n\n<p>And added the line:</p>\n\n<pre><code>        processUpdateCounts(updateCounts);\n</code></pre>\n\n<p>so I can see changes with or without any error, but it seems like BatchUpdateException isn't working?</p>\n"},{"tags":["java","jetty","prometheus"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658354388,"creation_date":1658354388,"answer_id":73058562,"question_id":72960104,"body_markdown":"`ContextHandlerCollection` can only hold/use/process `ContextHandler` based handlers.\r\n\r\nYour `StatisticsHandler` and `Handler.Wrapper` are not `ContextHandler` implementations, they will never be called.\r\n\r\nThe Handler tree is just that, a tree.  Think of it like that and it will start to make sense.\r\n\r\nSee past answer\r\n\r\n* https://stackoverflow.com/a/39217143/775715\r\n\r\nIf you look at `StatisticsHandler` you&#39;ll find that it&#39;s a `HandlerWrapper` implementation.\r\n\r\nSee: [Javadoc for `org.eclipse.jetty.server.handler.StatisticsHandler` in Jetty 11.0.11][1]\r\n\r\nIn short, you want that `StatisticsHandler` to be somewhere early in your Handler tree, and have it wrap whatever handlers you want it to operate on.\r\n\r\nSomething like this ...\r\n\r\n``` none\r\nServer.setHandler\r\n  HandlerList\r\n    StatisticsHandler\r\n      GzipHandler\r\n        ContextHandlerCollection\r\n          ContextHandler(&quot;/&quot;)\r\n          ServletContextHandler(&quot;/rest&quot;)\r\n          WebAppContext(&quot;/app&quot;)\r\n    DefaultHandler\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.eclipse.jetty/jetty-server/11.0.11/org.eclipse.jetty.server/org/eclipse/jetty/server/handler/StatisticsHandler.html","title":"Jetty Prometheus Java client Error StatisticsHandler has no Wrapped Handler","body":"<p><code>ContextHandlerCollection</code> can only hold/use/process <code>ContextHandler</code> based handlers.</p>\n<p>Your <code>StatisticsHandler</code> and <code>Handler.Wrapper</code> are not <code>ContextHandler</code> implementations, they will never be called.</p>\n<p>The Handler tree is just that, a tree.  Think of it like that and it will start to make sense.</p>\n<p>See past answer</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/39217143/775715\">https://stackoverflow.com/a/39217143/775715</a></li>\n</ul>\n<p>If you look at <code>StatisticsHandler</code> you'll find that it's a <code>HandlerWrapper</code> implementation.</p>\n<p>See: <a href=\"https://javadoc.io/doc/org.eclipse.jetty/jetty-server/11.0.11/org.eclipse.jetty.server/org/eclipse/jetty/server/handler/StatisticsHandler.html\" rel=\"nofollow noreferrer\">Javadoc for <code>org.eclipse.jetty.server.handler.StatisticsHandler</code> in Jetty 11.0.11</a></p>\n<p>In short, you want that <code>StatisticsHandler</code> to be somewhere early in your Handler tree, and have it wrap whatever handlers you want it to operate on.</p>\n<p>Something like this ...</p>\n<pre class=\"lang-none prettyprint-override\"><code>Server.setHandler\n  HandlerList\n    StatisticsHandler\n      GzipHandler\n        ContextHandlerCollection\n          ContextHandler(&quot;/&quot;)\n          ServletContextHandler(&quot;/rest&quot;)\n          WebAppContext(&quot;/app&quot;)\n    DefaultHandler\n</code></pre>\n"}],"owner":{"account_id":12872311,"reputation":63,"user_id":9310310,"display_name":"Harrish A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658354388,"creation_date":1657677525,"question_id":72960104,"body_markdown":"I am following the Prometheus Java client library to expose metrics of my Jetty server. From [here][1] . But when I start the server I get the error -\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to start jetty server\r\n    Caused by: java.lang.IllegalStateException: StatisticsHandler has no Wrapped Handler\r\n\r\nTo fix this I had to do -\r\n\r\n\r\n        StatisticsHandler stats = new StatisticsHandler();\r\n        stats.setServer(server.getServer());\r\n        HandlerWrapper hw = new HandlerWrapper();\r\n        stats.setHandler(hw);\r\n        new JettyStatisticsCollector(stats).register();\r\n\r\n        contextCollectionHandler.addHandler(stats);\r\n        server.setHandler(contextCollectionHandler);\r\n\r\n        try {\r\n            server.start();\r\n        }\r\n        catch (final Exception e) {\r\n            throw new RuntimeException(&quot;Unable to start jetty server&quot;, e);\r\n        }\r\n\r\n\r\nBut, I dont see the stats incrementing, when I make requests to my server through Postman. I get responses, 200, 404 etc. But none of the stats such as `jetty_requests_total` or `jetty_responses_total` are incrementing. They stay at 0. The only thing that changes is `jetty_stats_seconds`. What am I doing wrong ?\r\n\r\n  [1]: https://github.com/prometheus/client_java/blob/cb0c862ca52231e6369ef4d9e1ef5b9178e763e6/simpleclient_jetty/src/main/java/io/prometheus/client/jetty/JettyStatisticsCollector.java#L21","title":"Jetty Prometheus Java client Error StatisticsHandler has no Wrapped Handler","body":"<p>I am following the Prometheus Java client library to expose metrics of my Jetty server. From <a href=\"https://github.com/prometheus/client_java/blob/cb0c862ca52231e6369ef4d9e1ef5b9178e763e6/simpleclient_jetty/src/main/java/io/prometheus/client/jetty/JettyStatisticsCollector.java#L21\" rel=\"nofollow noreferrer\">here</a> . But when I start the server I get the error -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to start jetty server\nCaused by: java.lang.IllegalStateException: StatisticsHandler has no Wrapped Handler\n</code></pre>\n<p>To fix this I had to do -</p>\n<pre><code>    StatisticsHandler stats = new StatisticsHandler();\n    stats.setServer(server.getServer());\n    HandlerWrapper hw = new HandlerWrapper();\n    stats.setHandler(hw);\n    new JettyStatisticsCollector(stats).register();\n\n    contextCollectionHandler.addHandler(stats);\n    server.setHandler(contextCollectionHandler);\n\n    try {\n        server.start();\n    }\n    catch (final Exception e) {\n        throw new RuntimeException(&quot;Unable to start jetty server&quot;, e);\n    }\n</code></pre>\n<p>But, I dont see the stats incrementing, when I make requests to my server through Postman. I get responses, 200, 404 etc. But none of the stats such as <code>jetty_requests_total</code> or <code>jetty_responses_total</code> are incrementing. They stay at 0. The only thing that changes is <code>jetty_stats_seconds</code>. What am I doing wrong ?</p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1658352825,"post_id":73058340,"comment_id":129033699,"body_markdown":"replaced it from what with what?","body":"replaced it from what with what?"},{"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"score":0,"creation_date":1658353175,"post_id":73058340,"comment_id":129033804,"body_markdown":"an actual image url","body":"an actual image url"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1658353526,"post_id":73058340,"comment_id":129033896,"body_markdown":"that&#39;s not a data type. The error is very clear that it needs a `File` as argument, so what _was_ it, and what did you replace it with? Because the error suggests it was a `File`, you replaced it with a `String`, and the error is telling you what you did wrong.","body":"that&#39;s not a data type. The error is very clear that it needs a <code>File</code> as argument, so what <i>was</i> it, and what did you replace it with? Because the error suggests it was a <code>File</code>, you replaced it with a <code>String</code>, and the error is telling you what you did wrong."},{"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"score":0,"creation_date":1658353739,"post_id":73058340,"comment_id":129033952,"body_markdown":"fair enough, it was a newbie question","body":"fair enough, it was a newbie question"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1658353818,"post_id":73058340,"comment_id":129033979,"body_markdown":"You still haven&#39;t answered the question though: what was there before, and what did you replace it with? (and remember to [put that in your post](/help/how-to-ask))","body":"You still haven&#39;t answered the question though: what was there before, and what did you replace it with? (and remember to <a href=\"/help/how-to-ask\">put that in your post</a>)"},{"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"score":0,"creation_date":1658354332,"post_id":73058340,"comment_id":129034135,"body_markdown":"I changed some things, does it sound reasonable now? I know it was a obvious and dumb question but it was a genuine one","body":"I changed some things, does it sound reasonable now? I know it was a obvious and dumb question but it was a genuine one"}],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658353266,"creation_date":1658353266,"answer_id":73058408,"question_id":73058340,"body_markdown":"&gt; The method read(File) in the type ImageIO is not applicable for the\r\n&gt; arguments (String)\r\n\r\nis a pretty clear error. You are passing an String where you need to pass a File. Just do:\r\n\r\n    BufferedImage image = ImageIO.read(new File(urlImage));\r\n\r\n","title":"The method read(File) in the type ImageIO is not applicable for the arguments (String)","body":"<blockquote>\n<p>The method read(File) in the type ImageIO is not applicable for the\narguments (String)</p>\n</blockquote>\n<p>is a pretty clear error. You are passing an String where you need to pass a File. Just do:</p>\n<pre><code>BufferedImage image = ImageIO.read(new File(urlImage));\n</code></pre>\n"}],"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73058408,"answer_count":1,"score":-1,"last_activity_date":1658354295,"creation_date":1658352674,"question_id":73058340,"body_markdown":"So when I replace the urlImage to an actual image path e.g. &quot;BufferedImage image = ImageIO.read(&quot;F:/Java/data/photo.jpg&quot;) on the first line of the code it return the following error &quot;The method read(File) in the type ImageIO is not applicable for the arguments (String)&quot; I tried different things but it didn&#39;t work, it may sound obvious, I just wasn&#39;t able to convert the String type to File.\r\n\r\n    BufferedImage image = ImageIO.read(urlImage);\r\n    int x;\r\n    int y;\r\n    int c = image.getRGB(x,y);\r\n    int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\r\n    int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\r\n    int  blue = c &amp; 0x000000ff;\r\n    // and the Java Color is ...\r\n    Color color = new Color(red,green,blue);","title":"The method read(File) in the type ImageIO is not applicable for the arguments (String)","body":"<p>So when I replace the urlImage to an actual image path e.g. &quot;BufferedImage image = ImageIO.read(&quot;F:/Java/data/photo.jpg&quot;) on the first line of the code it return the following error &quot;The method read(File) in the type ImageIO is not applicable for the arguments (String)&quot; I tried different things but it didn't work, it may sound obvious, I just wasn't able to convert the String type to File.</p>\n<pre><code>BufferedImage image = ImageIO.read(urlImage);\nint x;\nint y;\nint c = image.getRGB(x,y);\nint  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\nint  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\nint  blue = c &amp; 0x000000ff;\n// and the Java Color is ...\nColor color = new Color(red,green,blue);\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1287220053,"post_id":3948206,"comment_id":4216877,"body_markdown":"Is this using the `org.json` stuff?","body":"Is this using the <code>org.json</code> stuff?"},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1390742388,"post_id":3948206,"comment_id":32214092,"body_markdown":"possible duplicate of [JSONObject : Why JSONObject changing the order of attributes](http://stackoverflow.com/questions/17229418/jsonobject-why-jsonobject-changing-the-order-of-attributes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17229418/jsonobject-why-jsonobject-changing-the-order-of-attributes\">JSONObject : Why JSONObject changing the order of attributes</a>"},{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":6,"creation_date":1390772847,"post_id":3948206,"comment_id":32225018,"body_markdown":"@Leo This is a possible duplicate of a question that was posted three years later and has an answer that links back to this one? If anything, the other question should be closed as a dupe.","body":"@Leo This is a possible duplicate of a question that was posted three years later and has an answer that links back to this one? If anything, the other question should be closed as a dupe."},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1390784446,"post_id":3948206,"comment_id":32228144,"body_markdown":"do you want me to go to the other question and mark it as dupe instead?","body":"do you want me to go to the other question and mark it as dupe instead?"},{"owner":{"account_id":2385543,"reputation":974,"user_id":2086872,"accept_rate":100,"display_name":"The Welder"},"score":2,"creation_date":1537333651,"post_id":3948206,"comment_id":91740966,"body_markdown":"Here&#39;s my problem...  I understand that JSON doesn&#39;t have an order and a library is free to generate any order it feels like, but there&#39;s a definite human element here.  When looking through JSON, maybe to visually check everything, it can be quite difficult to see problems when you expect one order and the library generates another.  Sure, as people have suggested, there are work-arounds etc, but when I create JSON, my brain is thinking about it in order and it&#39;s hard when its emitted in a differing order.  I think a library should use the order you specify, even if a parser doesn&#39;t care.","body":"Here&#39;s my problem...  I understand that JSON doesn&#39;t have an order and a library is free to generate any order it feels like, but there&#39;s a definite human element here.  When looking through JSON, maybe to visually check everything, it can be quite difficult to see problems when you expect one order and the library generates another.  Sure, as people have suggested, there are work-arounds etc, but when I create JSON, my brain is thinking about it in order and it&#39;s hard when its emitted in a differing order.  I think a library should use the order you specify, even if a parser doesn&#39;t care."},{"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"score":0,"creation_date":1604257265,"post_id":3948206,"comment_id":114285564,"body_markdown":"Depending on the library you are using (I use simplejson 1.1) you can replace JSONObject with LinkedHashMap","body":"Depending on the library you are using (I use simplejson 1.1) you can replace JSONObject with LinkedHashMap"}],"answers":[{"tags":[],"owner":{"account_id":69113,"reputation":1055,"user_id":201272,"display_name":"Mark Snidovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287220527,"creation_date":1287220527,"answer_id":3948294,"question_id":3948206,"body_markdown":"JavaScript objects, and JSON, have no way to set the order for the keys. You might get it right in Java (I don&#39;t know how Java objects work, really) but if it&#39;s going to a web client or another consumer of the JSON, there is no guarantee as to the order of keys. ","title":"JSON order mixed up","body":"<p>JavaScript objects, and JSON, have no way to set the order for the keys. You might get it right in Java (I don't know how Java objects work, really) but if it's going to a web client or another consumer of the JSON, there is no guarantee as to the order of keys. </p>\n"},{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":6,"up_vote_count":125,"is_accepted":false,"score":119,"last_activity_date":1618058331,"creation_date":1297075241,"answer_id":4920304,"question_id":3948206,"body_markdown":"You cannot and should not rely on the ordering of elements within a JSON object.\r\n\r\n\r\n\r\nFrom the JSON specification at https://www.json.org/\r\n\r\n&gt; An object is an unordered set of\r\n&gt; name/value pairs\r\n\r\nAs a consequence,\r\nJSON libraries are free to rearrange the order of the elements as they see fit.\r\nThis is not a bug.","title":"JSON order mixed up","body":"<p>You cannot and should not rely on the ordering of elements within a JSON object.</p>\n<p>From the JSON specification at <a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">https://www.json.org/</a></p>\n<blockquote>\n<p>An object is an unordered set of\nname/value pairs</p>\n</blockquote>\n<p>As a consequence,\nJSON libraries are free to rearrange the order of the elements as they see fit.\nThis is not a bug.</p>\n"},{"tags":[],"owner":{"account_id":152005,"reputation":1444,"user_id":366214,"display_name":"lemiorhan"},"down_vote_count":7,"up_vote_count":24,"is_accepted":false,"score":17,"last_activity_date":1303285230,"creation_date":1303285230,"answer_id":5727066,"question_id":3948206,"body_markdown":"I agree with the other answers. You cannot rely on the ordering of JSON elements.\r\n\r\nHowever if we need to have an ordered JSON, one solution might be to prepare a **LinkedHashMap** object with elements and convert it to JSONObject.\r\n\r\n    @Test\r\n    def void testOrdered() {\r\n        Map obj = new LinkedHashMap()\r\n        obj.put(&quot;a&quot;, &quot;foo1&quot;)\r\n        obj.put(&quot;b&quot;, new Integer(100))\r\n        obj.put(&quot;c&quot;, new Double(1000.21))\r\n        obj.put(&quot;d&quot;, new Boolean(true))\r\n        obj.put(&quot;e&quot;, &quot;foo2&quot;)\r\n        obj.put(&quot;f&quot;, &quot;foo3&quot;)\r\n        obj.put(&quot;g&quot;, &quot;foo4&quot;)\r\n        obj.put(&quot;h&quot;, &quot;foo5&quot;)\r\n        obj.put(&quot;x&quot;, null)\r\n    \r\n        JSONObject json = (JSONObject) obj\r\n        logger.info(&quot;Ordered Json : %s&quot;, json.toString())\r\n    \r\n        String expectedJsonString = &quot;&quot;&quot;{&quot;a&quot;:&quot;foo1&quot;,&quot;b&quot;:100,&quot;c&quot;:1000.21,&quot;d&quot;:true,&quot;e&quot;:&quot;foo2&quot;,&quot;f&quot;:&quot;foo3&quot;,&quot;g&quot;:&quot;foo4&quot;,&quot;h&quot;:&quot;foo5&quot;}&quot;&quot;&quot;\r\n        assertEquals(expectedJsonString, json.toString())\r\n        JSONAssert.assertEquals(JSONSerializer.toJSON(expectedJsonString), json)\r\n    }\r\n\r\nNormally the order is not preserved as below.\r\n\r\n    @Test\r\n    def void testUnordered() {\r\n        Map obj = new HashMap()\r\n        obj.put(&quot;a&quot;, &quot;foo1&quot;)\r\n        obj.put(&quot;b&quot;, new Integer(100))\r\n        obj.put(&quot;c&quot;, new Double(1000.21))\r\n        obj.put(&quot;d&quot;, new Boolean(true))\r\n        obj.put(&quot;e&quot;, &quot;foo2&quot;)\r\n        obj.put(&quot;f&quot;, &quot;foo3&quot;)\r\n        obj.put(&quot;g&quot;, &quot;foo4&quot;)\r\n        obj.put(&quot;h&quot;, &quot;foo5&quot;)\r\n        obj.put(&quot;x&quot;, null)\r\n    \r\n        JSONObject json = (JSONObject) obj\r\n        logger.info(&quot;Unordered Json : %s&quot;, json.toString(3, 3))\r\n    \r\n        String unexpectedJsonString = &quot;&quot;&quot;{&quot;a&quot;:&quot;foo1&quot;,&quot;b&quot;:100,&quot;c&quot;:1000.21,&quot;d&quot;:true,&quot;e&quot;:&quot;foo2&quot;,&quot;f&quot;:&quot;foo3&quot;,&quot;g&quot;:&quot;foo4&quot;,&quot;h&quot;:&quot;foo5&quot;}&quot;&quot;&quot;\r\n    \r\n        // string representation of json objects are different\r\n        assertFalse(unexpectedJsonString.equals(json.toString()))\r\n        // json objects are equal\r\n        JSONAssert.assertEquals(JSONSerializer.toJSON(unexpectedJsonString), json)\r\n    }\r\n\r\nYou may check my post too: http://www.flyingtomoon.com/2011/04/preserving-order-in-json.html","title":"JSON order mixed up","body":"<p>I agree with the other answers. You cannot rely on the ordering of JSON elements.</p>\n\n<p>However if we need to have an ordered JSON, one solution might be to prepare a <strong>LinkedHashMap</strong> object with elements and convert it to JSONObject.</p>\n\n<pre><code>@Test\ndef void testOrdered() {\n    Map obj = new LinkedHashMap()\n    obj.put(\"a\", \"foo1\")\n    obj.put(\"b\", new Integer(100))\n    obj.put(\"c\", new Double(1000.21))\n    obj.put(\"d\", new Boolean(true))\n    obj.put(\"e\", \"foo2\")\n    obj.put(\"f\", \"foo3\")\n    obj.put(\"g\", \"foo4\")\n    obj.put(\"h\", \"foo5\")\n    obj.put(\"x\", null)\n\n    JSONObject json = (JSONObject) obj\n    logger.info(\"Ordered Json : %s\", json.toString())\n\n    String expectedJsonString = \"\"\"{\"a\":\"foo1\",\"b\":100,\"c\":1000.21,\"d\":true,\"e\":\"foo2\",\"f\":\"foo3\",\"g\":\"foo4\",\"h\":\"foo5\"}\"\"\"\n    assertEquals(expectedJsonString, json.toString())\n    JSONAssert.assertEquals(JSONSerializer.toJSON(expectedJsonString), json)\n}\n</code></pre>\n\n<p>Normally the order is not preserved as below.</p>\n\n<pre><code>@Test\ndef void testUnordered() {\n    Map obj = new HashMap()\n    obj.put(\"a\", \"foo1\")\n    obj.put(\"b\", new Integer(100))\n    obj.put(\"c\", new Double(1000.21))\n    obj.put(\"d\", new Boolean(true))\n    obj.put(\"e\", \"foo2\")\n    obj.put(\"f\", \"foo3\")\n    obj.put(\"g\", \"foo4\")\n    obj.put(\"h\", \"foo5\")\n    obj.put(\"x\", null)\n\n    JSONObject json = (JSONObject) obj\n    logger.info(\"Unordered Json : %s\", json.toString(3, 3))\n\n    String unexpectedJsonString = \"\"\"{\"a\":\"foo1\",\"b\":100,\"c\":1000.21,\"d\":true,\"e\":\"foo2\",\"f\":\"foo3\",\"g\":\"foo4\",\"h\":\"foo5\"}\"\"\"\n\n    // string representation of json objects are different\n    assertFalse(unexpectedJsonString.equals(json.toString()))\n    // json objects are equal\n    JSONAssert.assertEquals(JSONSerializer.toJSON(unexpectedJsonString), json)\n}\n</code></pre>\n\n<p>You may check my post too: <a href=\"http://www.flyingtomoon.com/2011/04/preserving-order-in-json.html\" rel=\"noreferrer\">http://www.flyingtomoon.com/2011/04/preserving-order-in-json.html</a></p>\n"},{"tags":[],"owner":{"account_id":306464,"reputation":455,"user_id":617226,"display_name":"Kartikya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367230919,"creation_date":1367230919,"answer_id":16276256,"question_id":3948206,"body_markdown":"As all are telling you, JSON does not maintain &quot;sequence&quot; but array does, maybe this could convince you:\r\n[Ordered JSONObject][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6993645/ordered-jsonobject","title":"JSON order mixed up","body":"<p>As all are telling you, JSON does not maintain \"sequence\" but array does, maybe this could convince you:\n<a href=\"https://stackoverflow.com/questions/6993645/ordered-jsonobject\">Ordered JSONObject</a></p>\n"},{"tags":[],"owner":{"account_id":83037,"reputation":49,"user_id":5102585,"display_name":"sang"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1436782219,"creation_date":1436526817,"answer_id":31339340,"question_id":3948206,"body_markdown":"from lemiorhan example\r\ni can solve with just change some line of lemiorhan&#39;s code\r\nuse:\r\n\r\n    JSONObject json = new JSONObject(obj);\r\n\r\ninstead of this:\r\n\r\n    JSONObject json = (JSONObject) obj\r\n\r\n\r\nso in my test code is :\r\n\r\n    Map item_sub2 = new LinkedHashMap();\r\n    item_sub2.put(&quot;name&quot;, &quot;flare&quot;);\r\n    item_sub2.put(&quot;val1&quot;, &quot;val1&quot;);\r\n    item_sub2.put(&quot;val2&quot;, &quot;val2&quot;);\r\n    item_sub2.put(&quot;size&quot;,102);\r\n    \r\n    JSONArray itemarray2 = new JSONArray();\r\n    itemarray2.add(item_sub2);\r\n    itemarray2.add(item_sub2);//just for test\r\n    itemarray2.add(item_sub2);//just for test\r\n    \r\n    \t\t\r\n    Map item_sub1 = new LinkedHashMap();\r\n    item_sub1.put(&quot;name&quot;, &quot;flare&quot;);\r\n    item_sub1.put(&quot;val1&quot;, &quot;val1&quot;);\r\n    item_sub1.put(&quot;val2&quot;, &quot;val2&quot;);\r\n    item_sub1.put(&quot;children&quot;,itemarray2);\r\n    \r\n    JSONArray itemarray = new JSONArray();\r\n    itemarray.add(item_sub1);\r\n    itemarray.add(item_sub1);//just for test\r\n    itemarray.add(item_sub1);//just for test\r\n    \r\n    Map item_root = new LinkedHashMap();\r\n    item_root.put(&quot;name&quot;, &quot;flare&quot;);\r\n    item_root.put(&quot;children&quot;,itemarray);\r\n    \r\n    JSONObject json = new JSONObject(item_root);\r\n    \r\n    System.out.println(json.toJSONString());","title":"JSON order mixed up","body":"<p>from lemiorhan example\ni can solve with just change some line of lemiorhan's code\nuse:</p>\n\n<pre><code>JSONObject json = new JSONObject(obj);\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>JSONObject json = (JSONObject) obj\n</code></pre>\n\n<p>so in my test code is :</p>\n\n<pre><code>Map item_sub2 = new LinkedHashMap();\nitem_sub2.put(\"name\", \"flare\");\nitem_sub2.put(\"val1\", \"val1\");\nitem_sub2.put(\"val2\", \"val2\");\nitem_sub2.put(\"size\",102);\n\nJSONArray itemarray2 = new JSONArray();\nitemarray2.add(item_sub2);\nitemarray2.add(item_sub2);//just for test\nitemarray2.add(item_sub2);//just for test\n\n\nMap item_sub1 = new LinkedHashMap();\nitem_sub1.put(\"name\", \"flare\");\nitem_sub1.put(\"val1\", \"val1\");\nitem_sub1.put(\"val2\", \"val2\");\nitem_sub1.put(\"children\",itemarray2);\n\nJSONArray itemarray = new JSONArray();\nitemarray.add(item_sub1);\nitemarray.add(item_sub1);//just for test\nitemarray.add(item_sub1);//just for test\n\nMap item_root = new LinkedHashMap();\nitem_root.put(\"name\", \"flare\");\nitem_root.put(\"children\",itemarray);\n\nJSONObject json = new JSONObject(item_root);\n\nSystem.out.println(json.toJSONString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5800587,"reputation":1481,"user_id":4574869,"display_name":"Dhina k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603088129,"creation_date":1442318860,"answer_id":32585694,"question_id":3948206,"body_markdown":"Download &quot;json simple 1.1 jar&quot; from this https://code.google.com/p/json-simple/downloads/detail?name=json_simple-1.1.jar&amp;can=2&amp;q=\r\n\r\nAnd add the jar file to your lib folder\r\n\r\nusing JSONValue you can convert LinkedHashMap to json string","title":"JSON order mixed up","body":"<p>Download &quot;json simple 1.1 jar&quot; from this <a href=\"https://code.google.com/p/json-simple/downloads/detail?name=json_simple-1.1.jar&amp;can=2&amp;q=\" rel=\"nofollow noreferrer\">https://code.google.com/p/json-simple/downloads/detail?name=json_simple-1.1.jar&amp;can=2&amp;q=</a></p>\n<p>And add the jar file to your lib folder</p>\n<p>using JSONValue you can convert LinkedHashMap to json string</p>\n"},{"tags":[],"owner":{"account_id":164699,"reputation":1224,"user_id":387623,"display_name":"UnixShadow"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1458654442,"creation_date":1458654442,"answer_id":36156142,"question_id":3948206,"body_markdown":"Real answer can be found in specification, json is unordered.\r\nHowever as a human reader I ordered my elements in order of importance. Not only is it a more logic way, it happened to be easier to read. Maybe the author of the specification never had to read JSON, I do.. So, Here comes a fix:\r\n\r\n\r\n    /**\r\n     * I got really tired of JSON rearranging added properties.\r\n     * Specification states:\r\n     * &quot;An object is an unordered set of name/value pairs&quot;\r\n     * StackOverflow states:\r\n     * As a consequence, JSON libraries are free to rearrange the order of the elements as they see fit.\r\n     * I state:\r\n     * My implementation will freely arrange added properties, IN SEQUENCE ORDER!\r\n     * Why did I do it? Cause of readability of created JSON document!\r\n     */\r\n    private static class OrderedJSONObjectFactory {\r\n        private static Logger log = Logger.getLogger(OrderedJSONObjectFactory.class.getName());\r\n        private static boolean setupDone = false;\r\n        private static Field JSONObjectMapField = null;\r\n\r\n        private static void setupFieldAccessor() {\r\n            if( !setupDone ) {\r\n                setupDone = true;\r\n                try {\r\n                    JSONObjectMapField = JSONObject.class.getDeclaredField(&quot;map&quot;);\r\n                    JSONObjectMapField.setAccessible(true);\r\n                } catch (NoSuchFieldException ignored) {\r\n                    log.warning(&quot;JSONObject implementation has changed, returning unmodified instance&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        private static JSONObject create() {\r\n            setupFieldAccessor();\r\n            JSONObject result = new JSONObject();\r\n            try {\r\n                if (JSONObjectMapField != null) {\r\n                    JSONObjectMapField.set(result, new LinkedHashMap&lt;&gt;());\r\n                }\r\n            }catch (IllegalAccessException ignored) {}\r\n            return result;\r\n        }\r\n    }","title":"JSON order mixed up","body":"<p>Real answer can be found in specification, json is unordered.\nHowever as a human reader I ordered my elements in order of importance. Not only is it a more logic way, it happened to be easier to read. Maybe the author of the specification never had to read JSON, I do.. So, Here comes a fix:</p>\n\n<pre><code>/**\n * I got really tired of JSON rearranging added properties.\n * Specification states:\n * \"An object is an unordered set of name/value pairs\"\n * StackOverflow states:\n * As a consequence, JSON libraries are free to rearrange the order of the elements as they see fit.\n * I state:\n * My implementation will freely arrange added properties, IN SEQUENCE ORDER!\n * Why did I do it? Cause of readability of created JSON document!\n */\nprivate static class OrderedJSONObjectFactory {\n    private static Logger log = Logger.getLogger(OrderedJSONObjectFactory.class.getName());\n    private static boolean setupDone = false;\n    private static Field JSONObjectMapField = null;\n\n    private static void setupFieldAccessor() {\n        if( !setupDone ) {\n            setupDone = true;\n            try {\n                JSONObjectMapField = JSONObject.class.getDeclaredField(\"map\");\n                JSONObjectMapField.setAccessible(true);\n            } catch (NoSuchFieldException ignored) {\n                log.warning(\"JSONObject implementation has changed, returning unmodified instance\");\n            }\n        }\n    }\n\n    private static JSONObject create() {\n        setupFieldAccessor();\n        JSONObject result = new JSONObject();\n        try {\n            if (JSONObjectMapField != null) {\n                JSONObjectMapField.set(result, new LinkedHashMap&lt;&gt;());\n            }\n        }catch (IllegalAccessException ignored) {}\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2666878,"reputation":693,"user_id":2305119,"display_name":"thyzz"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1475514935,"creation_date":1475514935,"answer_id":39836943,"question_id":3948206,"body_markdown":"u can retain the order, if u use JsonObject that belongs to com.google.gson :D\r\n\r\n    JsonObject responseObj = new JsonObject();\r\n    responseObj.addProperty(&quot;userid&quot;, &quot;User 1&quot;);\r\n    responseObj.addProperty(&quot;amount&quot;, &quot;24.23&quot;);\r\n    responseObj.addProperty(&quot;success&quot;, &quot;NO&quot;);\r\n\r\nUsage of this JsonObject doesn&#39;t even bother using Map&lt;&gt;\r\n\r\nCHEERS!!!","title":"JSON order mixed up","body":"<p>u can retain the order, if u use JsonObject that belongs to com.google.gson :D</p>\n\n<pre><code>JsonObject responseObj = new JsonObject();\nresponseObj.addProperty(\"userid\", \"User 1\");\nresponseObj.addProperty(\"amount\", \"24.23\");\nresponseObj.addProperty(\"success\", \"NO\");\n</code></pre>\n\n<p>Usage of this JsonObject doesn't even bother using Map&lt;></p>\n\n<p>CHEERS!!!</p>\n"},{"tags":[],"owner":{"account_id":290959,"reputation":865,"user_id":592817,"display_name":"tsohr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484022885,"creation_date":1484022885,"answer_id":41561202,"question_id":3948206,"body_markdown":"For those who&#39;re using maven, please try [com.github.tsohr/json][1]\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.github.tsohr/json --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.tsohr&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nIt&#39;s forked from [JSON-java][2] but switch its map implementation [with LinkedHashMap][3] which @lemiorhan noted above. \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.github.tsohr/json\r\n  [2]: https://github.com/stleary/JSON-java\r\n  [3]: https://github.com/tsohr/JSON-java/blob/master/src/com/github/tsohr/JSONObject.java#L158\r\n\r\n","title":"JSON order mixed up","body":"<p>For those who're using maven, please try <a href=\"https://mvnrepository.com/artifact/com.github.tsohr/json\" rel=\"nofollow noreferrer\">com.github.tsohr/json</a></p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.github.tsohr/json --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tsohr&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It's forked from <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">JSON-java</a> but switch its map implementation <a href=\"https://github.com/tsohr/JSON-java/blob/master/src/com/github/tsohr/JSONObject.java#L158\" rel=\"nofollow noreferrer\">with LinkedHashMap</a> which @lemiorhan noted above. </p>\n"},{"tags":[],"owner":{"account_id":6681339,"reputation":1,"user_id":5154386,"display_name":"prachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507641029,"creation_date":1507640148,"answer_id":46667359,"question_id":3948206,"body_markdown":"For Java code, Create a POJO class for your object instead of a JSONObject.\r\nand use JSONEncapsulator for your POJO class.\r\nthat way order of elements depends on the order of getter setters in your POJO class.\r\nfor eg. POJO class will be like\r\n\r\n    Class myObj{\r\n    String userID;\r\n    String amount;\r\n    String success;\r\n    // getter setters in any order that you want\r\n\r\nand where you need to send your json object in response\r\n\r\n    JSONContentEncapsulator&lt;myObj&gt; JSONObject = new JSONEncapsulator&lt;myObj&gt;(&quot;myObject&quot;);\r\n    JSONObject.setObject(myObj);\r\n    return Response.status(Status.OK).entity(JSONObject).build();\r\n\r\nThe response of this line will be\r\n\r\n{myObject : {//attributes order same as getter setter order.}}\r\n\r\n","title":"JSON order mixed up","body":"<p>For Java code, Create a POJO class for your object instead of a JSONObject.\nand use JSONEncapsulator for your POJO class.\nthat way order of elements depends on the order of getter setters in your POJO class.\nfor eg. POJO class will be like</p>\n\n<pre><code>Class myObj{\nString userID;\nString amount;\nString success;\n// getter setters in any order that you want\n</code></pre>\n\n<p>and where you need to send your json object in response</p>\n\n<pre><code>JSONContentEncapsulator&lt;myObj&gt; JSONObject = new JSONEncapsulator&lt;myObj&gt;(\"myObject\");\nJSONObject.setObject(myObj);\nreturn Response.status(Status.OK).entity(JSONObject).build();\n</code></pre>\n\n<p>The response of this line will be</p>\n\n<p>{myObject : {//attributes order same as getter setter order.}}</p>\n"},{"tags":[],"owner":{"account_id":11556834,"reputation":55,"user_id":8467767,"display_name":"Joy Banerjee"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1529610676,"creation_date":1529610676,"answer_id":50976512,"question_id":3948206,"body_markdown":"The main intention here is to send an ordered JSON object as response. We don&#39;t need javax.json.JsonObject to achieve that. We could create the ordered json as a string.\r\nFirst create a LinkedHashMap with all key value pairs in required order. Then generate the json in string as shown below. \r\nIts much easier with Java 8.\r\n\r\n   \tpublic Response getJSONResponse() {\r\n\t\tMap&lt;String, String&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n\t\tlinkedHashMap.put(&quot;A&quot;, &quot;1&quot;);\r\n\t\tlinkedHashMap.put(&quot;B&quot;, &quot;2&quot;);\r\n\t\tlinkedHashMap.put(&quot;C&quot;, &quot;3&quot;);\r\n\r\n\t\tString jsonStr = linkedHashMap.entrySet().stream()\r\n\t\t\t\t.map(x -&gt; &quot;\\&quot;&quot; + x.getKey() + &quot;\\&quot;:\\&quot;&quot; + x.getValue() + &quot;\\&quot;&quot;)\r\n\t\t\t\t.collect(Collectors.joining(&quot;,&quot;, &quot;{&quot;, &quot;}&quot;));\r\n\t\treturn Response.ok(jsonStr).build();\r\n\t}\r\n\r\nThe response return by this function would be following:\r\n`{&quot;A&quot;:&quot;1&quot;,&quot;B&quot;:&quot;2&quot;,&quot;C&quot;:&quot;3&quot;}`","title":"JSON order mixed up","body":"<p>The main intention here is to send an ordered JSON object as response. We don't need javax.json.JsonObject to achieve that. We could create the ordered json as a string.\nFirst create a LinkedHashMap with all key value pairs in required order. Then generate the json in string as shown below. \nIts much easier with Java 8.</p>\n\n<pre><code>public Response getJSONResponse() {\n    Map&lt;String, String&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n    linkedHashMap.put(\"A\", \"1\");\n    linkedHashMap.put(\"B\", \"2\");\n    linkedHashMap.put(\"C\", \"3\");\n\n    String jsonStr = linkedHashMap.entrySet().stream()\n            .map(x -&gt; \"\\\"\" + x.getKey() + \"\\\":\\\"\" + x.getValue() + \"\\\"\")\n            .collect(Collectors.joining(\",\", \"{\", \"}\"));\n    return Response.ok(jsonStr).build();\n}\n</code></pre>\n\n<p>The response return by this function would be following:\n<code>{\"A\":\"1\",\"B\":\"2\",\"C\":\"3\"}</code></p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574782035,"creation_date":1565067139,"answer_id":57369145,"question_id":3948206,"body_markdown":"[Underscore-java][1] uses linkedhashmap to store key/value for json. I am the maintainer of the project.\r\n\r\n    Map&lt;String, Object&gt; myObject = new LinkedHashMap&lt;&gt;();\r\n    myObject.put(&quot;userid&quot;, &quot;User 1&quot;);\r\n    myObject.put(&quot;amount&quot;, &quot;24.23&quot;);\r\n    myObject.put(&quot;success&quot;, &quot;NO&quot;);\r\n\r\n    System.out.println(U.toJson(myObject));\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"JSON order mixed up","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> uses linkedhashmap to store key/value for json. I am the maintainer of the project.</p>\n\n<pre><code>Map&lt;String, Object&gt; myObject = new LinkedHashMap&lt;&gt;();\nmyObject.put(\"userid\", \"User 1\");\nmyObject.put(\"amount\", \"24.23\");\nmyObject.put(\"success\", \"NO\");\n\nSystem.out.println(U.toJson(myObject));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968522,"reputation":449,"user_id":1768130,"display_name":"t3az0r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606759382,"creation_date":1606759382,"answer_id":65078795,"question_id":3948206,"body_markdown":"I found a &quot;neat&quot; reflection tweak on &quot;the interwebs&quot; that I like to share.\r\n(origin: https://towardsdatascience.com/create-an-ordered-jsonobject-in-java-fb9629247d76)\r\n\r\nIt is about to change underlying collection in org.json.JSONObject to an un-ordering one (LinkedHashMap) by reflection API.\r\n\r\nI tested succesfully:\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.LinkedHashMap;\r\n    import org.json.JSONObject;\r\n\r\n    private static void makeJSONObjLinear(JSONObject jsonObject) {\r\n        try {\r\n                Field changeMap = jsonObject.getClass().getDeclaredField(&quot;map&quot;);\r\n                changeMap.setAccessible(true);\r\n                changeMap.set(jsonObject, new LinkedHashMap&lt;&gt;());\r\n                changeMap.setAccessible(false);\r\n            } catch (IllegalAccessException | NoSuchFieldException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\n    [...]\r\n    JSONObject requestBody = new JSONObject();\r\n    makeJSONObjLinear(requestBody);\r\n\r\n    requestBody.put(&quot;username&quot;, login);\r\n    requestBody.put(&quot;password&quot;, password);\r\n    [...]\r\n    // returned   &#39;{&quot;username&quot;: &quot;billy_778&quot;, &quot;password&quot;: &quot;********&quot;}&#39; == unordered\r\n    // instead of &#39;{&quot;password&quot;: &quot;********&quot;, &quot;username&quot;: &quot;billy_778&quot;}&#39; == ordered (by key)\r\n","title":"JSON order mixed up","body":"<p>I found a &quot;neat&quot; reflection tweak on &quot;the interwebs&quot; that I like to share.\n(origin: <a href=\"https://towardsdatascience.com/create-an-ordered-jsonobject-in-java-fb9629247d76\" rel=\"nofollow noreferrer\">https://towardsdatascience.com/create-an-ordered-jsonobject-in-java-fb9629247d76</a>)</p>\n<p>It is about to change underlying collection in org.json.JSONObject to an un-ordering one (LinkedHashMap) by reflection API.</p>\n<p>I tested succesfully:</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.LinkedHashMap;\nimport org.json.JSONObject;\n\nprivate static void makeJSONObjLinear(JSONObject jsonObject) {\n    try {\n            Field changeMap = jsonObject.getClass().getDeclaredField(&quot;map&quot;);\n            changeMap.setAccessible(true);\n            changeMap.set(jsonObject, new LinkedHashMap&lt;&gt;());\n            changeMap.setAccessible(false);\n        } catch (IllegalAccessException | NoSuchFieldException e) {\n            e.printStackTrace();\n        }\n}\n\n[...]\nJSONObject requestBody = new JSONObject();\nmakeJSONObjLinear(requestBody);\n\nrequestBody.put(&quot;username&quot;, login);\nrequestBody.put(&quot;password&quot;, password);\n[...]\n// returned   '{&quot;username&quot;: &quot;billy_778&quot;, &quot;password&quot;: &quot;********&quot;}' == unordered\n// instead of '{&quot;password&quot;: &quot;********&quot;, &quot;username&quot;: &quot;billy_778&quot;}' == ordered (by key)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19085824,"reputation":51,"user_id":13937130,"display_name":"Sajeevan mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608740957,"creation_date":1608734254,"answer_id":65426046,"question_id":3948206,"body_markdown":"Just add the order with this tag\r\n\r\n    @JsonPropertyOrder({ &quot;property1&quot;, &quot;property2&quot;})","title":"JSON order mixed up","body":"<p>Just add the order with this tag</p>\n<pre><code>@JsonPropertyOrder({ &quot;property1&quot;, &quot;property2&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609778154,"creation_date":1609778154,"answer_id":65566306,"question_id":3948206,"body_markdown":"Not sure if I am late to the party but I found this nice example that overrides the JSONObject constructor and makes sure that the JSON data are output in the same way as they are added. Behind the scenes JSONObject uses the MAP and MAP does not guarantee the order hence we need to override it to make sure we are receiving our JSON as per our order.\r\n\r\n\r\nIf you add this to your JSONObject then the resulting JSON would be in the same order as you have created it.\r\n\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.util.LinkedHashMap;\r\n    import org.json.JSONObject;\r\n    import lombok.extern.java.Log;\r\n    \r\n    @Log\r\n    public class JSONOrder {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tJSONObject jsontest = new JSONObject();\r\n    \t\ttry {\r\n    \t\t\tField changeMap = jsonEvent.getClass().getDeclaredField(&quot;map&quot;);\r\n    \t\t\tchangeMap.setAccessible(true);\r\n    \t\t\tchangeMap.set(jsonEvent, new LinkedHashMap&lt;&gt;());\r\n    \t\t\tchangeMap.setAccessible(false);\r\n    \t\t} catch (IllegalAccessException | NoSuchFieldException e) {\r\n    \t\t\tlog.info(e.getMessage());\r\n    \t\t}\r\n    \t\tjsontest.put(&quot;one&quot;, &quot;I should be first&quot;);\r\n    \t\tjsonEvent.put(&quot;two&quot;, &quot;I should be second&quot;);\r\n    \t\tjsonEvent.put(&quot;third&quot;, &quot;I should be third&quot;);\r\n    \t\tSystem.out.println(jsonEvent);\r\n    \t}\r\n    }\r\n\r\n","title":"JSON order mixed up","body":"<p>Not sure if I am late to the party but I found this nice example that overrides the JSONObject constructor and makes sure that the JSON data are output in the same way as they are added. Behind the scenes JSONObject uses the MAP and MAP does not guarantee the order hence we need to override it to make sure we are receiving our JSON as per our order.</p>\n<p>If you add this to your JSONObject then the resulting JSON would be in the same order as you have created it.</p>\n<pre><code>import java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.util.LinkedHashMap;\nimport org.json.JSONObject;\nimport lombok.extern.java.Log;\n\n@Log\npublic class JSONOrder {\n\n    public static void main(String[] args) throws IOException {\n\n        JSONObject jsontest = new JSONObject();\n        try {\n            Field changeMap = jsonEvent.getClass().getDeclaredField(&quot;map&quot;);\n            changeMap.setAccessible(true);\n            changeMap.set(jsonEvent, new LinkedHashMap&lt;&gt;());\n            changeMap.setAccessible(false);\n        } catch (IllegalAccessException | NoSuchFieldException e) {\n            log.info(e.getMessage());\n        }\n        jsontest.put(&quot;one&quot;, &quot;I should be first&quot;);\n        jsonEvent.put(&quot;two&quot;, &quot;I should be second&quot;);\n        jsonEvent.put(&quot;third&quot;, &quot;I should be third&quot;);\n        System.out.println(jsonEvent);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622822705,"creation_date":1622822705,"answer_id":67840511,"question_id":3948206,"body_markdown":"Just use LinkedHashMap to keep de order and transform it to json with jackson\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.util.LinkedHashMap;\r\n    \r\n    LinkedHashMap&lt;String, Object&gt; obj = new LinkedHashMap&lt;String, Object&gt;();\r\n    stats.put(&quot;aaa&quot;, &quot;aaa&quot;);\r\n    stats.put(&quot;bbb&quot;, &quot;bbb&quot;);\r\n    stats.put(&quot;ccc&quot;, &quot;ccc&quot;);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n    System.out.println(json);\r\n    \r\nmaven dependency\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.10.7&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"JSON order mixed up","body":"<p>Just use LinkedHashMap to keep de order and transform it to json with jackson</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.LinkedHashMap;\n\nLinkedHashMap&lt;String, Object&gt; obj = new LinkedHashMap&lt;String, Object&gt;();\nstats.put(&quot;aaa&quot;, &quot;aaa&quot;);\nstats.put(&quot;bbb&quot;, &quot;bbb&quot;);\nstats.put(&quot;ccc&quot;, &quot;ccc&quot;);\n\nObjectMapper mapper = new ObjectMapper();\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\nSystem.out.println(json);\n</code></pre>\n<p>maven dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n  &lt;version&gt;2.9.10.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658353829,"creation_date":1658353829,"answer_id":73058484,"question_id":3948206,"body_markdown":"I just want the order for android unit tests that are somehow randomly changing overtime with this cool org.json.JSONObject, even thou it looks like it uses linked map but probably depends on api you compile it with or something, so it has different impl. with different android api probably. \r\n\r\nI would suggest something like this:\r\n\r\n    object Json {\r\n        @SuppressLint(&quot;DiscouragedPrivateApi&quot;)\r\n        fun Object() = org.json.JSONObject().apply {\r\n            runCatching {\r\n                val nameValuePairs: Field = javaClass.getDeclaredField(&quot;nameValuePairs&quot;)\r\n                nameValuePairs.isAccessible = true\r\n                nameValuePairs.set(this, LinkedHashMap&lt;String, Any?&gt;())\r\n            }.onFailure { it.printStackTrace() }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    val jsonObject = Json.Object()\r\n    ...\r\n\r\n \r\nThis is just some possibility I use it little differently so I modified it to post here. Sure gson or other lib is another option.\r\nSuggestions that specification is bla bla are so shortsighted here, why you guys even post it, who cares about 15 years old json spec, everyone wants it ordered anyway.","title":"JSON order mixed up","body":"<p>I just want the order for android unit tests that are somehow randomly changing overtime with this cool org.json.JSONObject, even thou it looks like it uses linked map but probably depends on api you compile it with or something, so it has different impl. with different android api probably.</p>\n<p>I would suggest something like this:</p>\n<pre><code>object Json {\n    @SuppressLint(&quot;DiscouragedPrivateApi&quot;)\n    fun Object() = org.json.JSONObject().apply {\n        runCatching {\n            val nameValuePairs: Field = javaClass.getDeclaredField(&quot;nameValuePairs&quot;)\n            nameValuePairs.isAccessible = true\n            nameValuePairs.set(this, LinkedHashMap&lt;String, Any?&gt;())\n        }.onFailure { it.printStackTrace() }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val jsonObject = Json.Object()\n...\n</code></pre>\n<p>This is just some possibility I use it little differently so I modified it to post here. Sure gson or other lib is another option.\nSuggestions that specification is bla bla are so shortsighted here, why you guys even post it, who cares about 15 years old json spec, everyone wants it ordered anyway.</p>\n"}],"owner":{"account_id":662761,"reputation":879,"user_id":477808,"display_name":"JSON guy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174657,"favorite_count":0,"down_vote_count":1,"up_vote_count":88,"answer_count":17,"score":87,"last_activity_date":1658353829,"creation_date":1287219096,"question_id":3948206,"body_markdown":"I&#39;ve a problem trying to make my page printing out the `JSONObject` in the order i want. In my code, I entered this:\r\n```java\r\nJSONObject myObject = new JSONObject();\r\nmyObject.put(&quot;userid&quot;, &quot;User 1&quot;);\r\nmyObject.put(&quot;amount&quot;, &quot;24.23&quot;);\r\nmyObject.put(&quot;success&quot;, &quot;NO&quot;);\r\n```\r\nHowever, when I see the display on my page, it gives:\r\n\r\nJSON formatted string: `[{&quot;success&quot;:&quot;NO&quot;, &quot;userid&quot;:&quot;User 1&quot;, &quot;bid&quot;:24.23}]`\r\n\r\nI need it in the order of userid, amount, then success. Already tried re-ordering in the code, but to no avail. I&#39;ve also tried `.append`....need some help here thanks!!","title":"JSON order mixed up","body":"<p>I've a problem trying to make my page printing out the <code>JSONObject</code> in the order i want. In my code, I entered this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject myObject = new JSONObject();\nmyObject.put(\"userid\", \"User 1\");\nmyObject.put(\"amount\", \"24.23\");\nmyObject.put(\"success\", \"NO\");\n</code></pre>\n\n<p>However, when I see the display on my page, it gives:</p>\n\n<p>JSON formatted string: <code>[{\"success\":\"NO\", \"userid\":\"User 1\", \"bid\":24.23}]</code></p>\n\n<p>I need it in the order of userid, amount, then success. Already tried re-ordering in the code, but to no avail. I've also tried <code>.append</code>....need some help here thanks!!</p>\n"},{"tags":["java","sql","database","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"display_name":"user9276715"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658353676,"creation_date":1658353676,"answer_id":73058465,"question_id":73057777,"body_markdown":"Assume that we have `ds1` with this data:\r\n\r\n```\r\n+---+-----------+---+\r\n| id|       name|age|\r\n+---+-----------+---+\r\n|  1|    Someone| 18|\r\n|  2|       Else| 17|\r\n|  3|SomeoneElse| 14|\r\n+---+-----------+---+\r\n```\r\n\r\nand `ds2` with this data:\r\n```\r\n+---+----------+---+\r\n| id|      name|age|\r\n+---+----------+---+\r\n|  1|   Someone| 14|\r\n|  2|      Else| 18|\r\n|  3|NotSomeone| 14|\r\n+---+----------+---+\r\n```\r\n\r\nAccording to your expected result, the final table would be:\r\n```\r\n+---+-----------+---+\r\n| id|       name|age|\r\n+---+-----------+---+\r\n|  3|SomeoneElse| 14| &lt;-- not modified, same as ds\r\n|  1|    Someone| 14| &lt;-- modified, was 18\r\n|  2|       Else| 18| &lt;-- modified, was 17\r\n+---+-----------+---+\r\n```\r\n\r\nThis is achieved with the following transformations, first, we rename `ds2`&#39;s `age` with `age2`. \r\n\r\n    val renamedDs2 = ds2.withColumnRenamed(&quot;age&quot;, &quot;age2&quot;)\r\n\r\nThen:\r\n\r\n    // we join main dataset with the renamed ds2, now we have age and age2\r\n    ds1.join(renamedDs2, Seq(&quot;id&quot;, &quot;name&quot;), &quot;left&quot;)\r\n      // we overwrite age, if age2 is not null from ds2, take it, otherwise leave age\r\n      .withColumn(&quot;age&quot;, \r\n        when(col(&quot;age2&quot;).isNotNull, col(&quot;age2&quot;)).otherwise(col(&quot;age&quot;))\r\n      )\r\n      // finally, we drop age2\r\n      .drop(&quot;age2&quot;)\r\n\r\nHope this does what you want!","title":"update row value using another table in spark java","body":"<p>Assume that we have <code>ds1</code> with this data:</p>\n<pre><code>+---+-----------+---+\n| id|       name|age|\n+---+-----------+---+\n|  1|    Someone| 18|\n|  2|       Else| 17|\n|  3|SomeoneElse| 14|\n+---+-----------+---+\n</code></pre>\n<p>and <code>ds2</code> with this data:</p>\n<pre><code>+---+----------+---+\n| id|      name|age|\n+---+----------+---+\n|  1|   Someone| 14|\n|  2|      Else| 18|\n|  3|NotSomeone| 14|\n+---+----------+---+\n</code></pre>\n<p>According to your expected result, the final table would be:</p>\n<pre><code>+---+-----------+---+\n| id|       name|age|\n+---+-----------+---+\n|  3|SomeoneElse| 14| &lt;-- not modified, same as ds\n|  1|    Someone| 14| &lt;-- modified, was 18\n|  2|       Else| 18| &lt;-- modified, was 17\n+---+-----------+---+\n</code></pre>\n<p>This is achieved with the following transformations, first, we rename <code>ds2</code>'s <code>age</code> with <code>age2</code>.</p>\n<pre><code>val renamedDs2 = ds2.withColumnRenamed(&quot;age&quot;, &quot;age2&quot;)\n</code></pre>\n<p>Then:</p>\n<pre><code>// we join main dataset with the renamed ds2, now we have age and age2\nds1.join(renamedDs2, Seq(&quot;id&quot;, &quot;name&quot;), &quot;left&quot;)\n  // we overwrite age, if age2 is not null from ds2, take it, otherwise leave age\n  .withColumn(&quot;age&quot;, \n    when(col(&quot;age2&quot;).isNotNull, col(&quot;age2&quot;)).otherwise(col(&quot;age&quot;))\n  )\n  // finally, we drop age2\n  .drop(&quot;age2&quot;)\n</code></pre>\n<p>Hope this does what you want!</p>\n"}],"owner":{"account_id":23203432,"reputation":29,"user_id":17297980,"display_name":"Sara BB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73058465,"answer_count":1,"score":0,"last_activity_date":1658353676,"creation_date":1658348817,"question_id":73057777,"body_markdown":"I have 2 datasets in java spark, first one contains id, name , age \r\nand second one are the same, i need to check values (name and id) and if it&#39;s similar update the age with new age in dataset2 \r\n\r\ni tried all possible ways but i found that java in spark don&#39;t have much resourses and all possible ways not worked \r\n\r\nthis is one i tried : \r\n\r\n            dataset1.createOrReplaceTempView(&quot;updatesTable&quot;);\r\n            datase2.createOrReplaceTempView(&quot;carsTheftsFinal2&quot;);\r\n            updatesNew.show();\r\n              Dataset&lt;Row&gt; test = spark.sql( &quot;ALTER carsTheftsFinal2 set carsTheftsFinal2.age = updatesTable.age from updatesTable where carsTheftsFinal2.id = updatesTable.id AND carsTheftsFinal2.name = updatesTable.name &quot;);\r\n             test.show(12);\r\n\r\n\r\nand this is the error : \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.apache.spark.sql.catalyst.parser.ParseException:  no viable\r\n&gt; alternative at input &#39;ALTER carsTheftsFinal2&#39;(line 1, pos 6)\r\n\r\n**I have hint: that i can use join to update without using update statement ( java spark not provide update )** ","title":"update row value using another table in spark java","body":"<p>I have 2 datasets in java spark, first one contains id, name , age\nand second one are the same, i need to check values (name and id) and if it's similar update the age with new age in dataset2</p>\n<p>i tried all possible ways but i found that java in spark don't have much resourses and all possible ways not worked</p>\n<p>this is one i tried :</p>\n<pre><code>        dataset1.createOrReplaceTempView(&quot;updatesTable&quot;);\n        datase2.createOrReplaceTempView(&quot;carsTheftsFinal2&quot;);\n        updatesNew.show();\n          Dataset&lt;Row&gt; test = spark.sql( &quot;ALTER carsTheftsFinal2 set carsTheftsFinal2.age = updatesTable.age from updatesTable where carsTheftsFinal2.id = updatesTable.id AND carsTheftsFinal2.name = updatesTable.name &quot;);\n         test.show(12);\n</code></pre>\n<p>and this is the error :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.apache.spark.sql.catalyst.parser.ParseException:  no viable\nalternative at input 'ALTER carsTheftsFinal2'(line 1, pos 6)</p>\n</blockquote>\n<p><strong>I have hint: that i can use join to update without using update statement ( java spark not provide update )</strong></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1658248149,"post_id":73038083,"comment_id":129002491,"body_markdown":"Are you looking for [`Shape.intersect()`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html#intersect(javafx.scene.shape.Shape,javafx.scene.shape.Shape)), for [example](https://stackoverflow.com/a/39188588/230513)?","body":"Are you looking for <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html#intersect(javafx.scene.shape.Shape,javafx.scene.shape.Shape)\" rel=\"nofollow noreferrer\"><code>Shape.intersect()</code></a>, for <a href=\"https://stackoverflow.com/a/39188588/230513\">example</a>?"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1658253006,"post_id":73038083,"comment_id":129004174,"body_markdown":"The important point is that the Shape must have a color set. Otherwise it is considered as hollow and you will not get a hit when you are fully inside the outline.","body":"The important point is that the Shape must have a color set. Otherwise it is considered as hollow and you will not get a hit when you are fully inside the outline."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658353629,"creation_date":1658352270,"answer_id":73058295,"question_id":73038083,"body_markdown":"Construct a path with a fill, any fill value will work, it doesn&#39;t matter the color or even the opacity of the fill color.\r\n\r\nAs noted by mipa in comments:\r\n\r\n&gt; The important point is that the Shape must have a color set. Otherwise it is considered as hollow and you will not get a hit when you are fully inside the outline. \r\n\r\n`Shape.intersect(path, point)` will function like a contains only when the shape is filled, otherwise, it will return an empty shape when calculating an intersection with the unfilled interior of the shape.\r\n\r\nIf you don&#39;t want the fill to visible you can write:\r\n\r\n    path.setFill(Color.TRANSPARENT);\r\n\r\nThe intersection will still work inside the shape when it is filled with a transparent color.\r\n\r\nThere are different algorithms that could be used to determine the fill.  JavaFX defines a couple of preset rules that can be used to adjust the fill algorithm, if needed, using [path.setFillRule()][1].\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/Path.html#setFillRule(javafx.scene.shape.FillRule)","title":"Is there a JavaFX method to test if a coordinate is within a closed Path?","body":"<p>Construct a path with a fill, any fill value will work, it doesn't matter the color or even the opacity of the fill color.</p>\n<p>As noted by mipa in comments:</p>\n<blockquote>\n<p>The important point is that the Shape must have a color set. Otherwise it is considered as hollow and you will not get a hit when you are fully inside the outline.</p>\n</blockquote>\n<p><code>Shape.intersect(path, point)</code> will function like a contains only when the shape is filled, otherwise, it will return an empty shape when calculating an intersection with the unfilled interior of the shape.</p>\n<p>If you don't want the fill to visible you can write:</p>\n<pre><code>path.setFill(Color.TRANSPARENT);\n</code></pre>\n<p>The intersection will still work inside the shape when it is filled with a transparent color.</p>\n<p>There are different algorithms that could be used to determine the fill.  JavaFX defines a couple of preset rules that can be used to adjust the fill algorithm, if needed, using <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/Path.html#setFillRule(javafx.scene.shape.FillRule)\" rel=\"nofollow noreferrer\">path.setFillRule()</a>.</p>\n"}],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73058295,"answer_count":1,"score":1,"last_activity_date":1658353629,"creation_date":1658238140,"question_id":73038083,"body_markdown":"I&#39;m trying to find a JavaFX method to detect if a coordinate lies within a closed Path.\r\n\r\nI&#39;ve created the following example, and researched various methods, however nothing works as I wish, that is only returns true when inside the non-rectangular shape.\r\n\r\n * Node.contains() -- only works on edge of shape, not the inside\r\n * Node.intersect() -- only works on rectangular bounding box\r\n * Shape.intersects() -- only works on edge of shape, not the inside\r\n\r\nI could just use the JTS library, but I can&#39;t help but think there must be a JavaFX native method for this.\r\n\r\n```\r\npublic class ShapeContainsTest extends Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplication.launch(ShapeContainsTest.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\tPath path = new Path();\r\n\t\tpath.getElements().add(new MoveTo(100, 100));\r\n\t\tpath.getElements().add(new LineTo(200, 100));\r\n\t\tpath.getElements().add(new LineTo(150, 200));\r\n\t\tpath.getElements().add(new ClosePath());\r\n\t\tPane pane = new Pane(path);\r\n\t\tpane.setPrefSize(300, 300);\r\n\t\tpane.setOnMouseMoved(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;Contains? &quot; + path.contains(event.getX(), event.getY()));\r\n\t\t\tSystem.out.println(&quot;Intersect? &quot; + path.intersects(event.getX(), event.getY(), 1, 1));\r\n\t\t\tCircle point = new Circle(event.getX(), event.getY(), 1);\r\n\t\t\tSystem.out.println(&quot;Intersects() &quot; + Shape.intersect(path, point));\r\n\t\t\t\r\n\t\t});\r\n\t\tprimaryStage.setScene(new Scene(pane));\r\n\t\tprimaryStage.show();\r\n\t}\r\n\r\n}\r\n```","title":"Is there a JavaFX method to test if a coordinate is within a closed Path?","body":"<p>I'm trying to find a JavaFX method to detect if a coordinate lies within a closed Path.</p>\n<p>I've created the following example, and researched various methods, however nothing works as I wish, that is only returns true when inside the non-rectangular shape.</p>\n<ul>\n<li>Node.contains() -- only works on edge of shape, not the inside</li>\n<li>Node.intersect() -- only works on rectangular bounding box</li>\n<li>Shape.intersects() -- only works on edge of shape, not the inside</li>\n</ul>\n<p>I could just use the JTS library, but I can't help but think there must be a JavaFX native method for this.</p>\n<pre><code>public class ShapeContainsTest extends Application {\n\n    public static void main(String[] args) {\n        Application.launch(ShapeContainsTest.class);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Path path = new Path();\n        path.getElements().add(new MoveTo(100, 100));\n        path.getElements().add(new LineTo(200, 100));\n        path.getElements().add(new LineTo(150, 200));\n        path.getElements().add(new ClosePath());\n        Pane pane = new Pane(path);\n        pane.setPrefSize(300, 300);\n        pane.setOnMouseMoved(event -&gt; {\n            System.out.println(&quot;Contains? &quot; + path.contains(event.getX(), event.getY()));\n            System.out.println(&quot;Intersect? &quot; + path.intersects(event.getX(), event.getY(), 1, 1));\n            Circle point = new Circle(event.getX(), event.getY(), 1);\n            System.out.println(&quot;Intersects() &quot; + Shape.intersect(path, point));\n            \n        });\n        primaryStage.setScene(new Scene(pane));\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","redis","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658353582,"creation_date":1598287948,"answer_id":63565388,"question_id":63239258,"body_markdown":"Spring boot automatically handles redis connection, we don&#39;t need our own custom class.Removed above class from my code, now I can see connection fails but app starts successfully. ","title":"Reactive Redis:Spring Boot Application Start Fails, If Redis is Unavailable","body":"<p>Spring boot automatically handles redis connection, we don't need our own custom class.Removed above class from my code, now I can see connection fails but app starts successfully.</p>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63565388,"answer_count":1,"score":0,"last_activity_date":1658353602,"creation_date":1596506801,"question_id":63239258,"body_markdown":"We are using Reactive Redis to  cache web-client response.If Redis server is up and running application works fine.But App start up is failing ,if we stop redis. Expected behavior  is app should still go ahead and start even though redis connection fails.Does spring handles connection exception?or do we have to handle this kind of exceptions?\r\n\r\nHere is the code I used to configure redis;\r\n\r\n\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.redis.connection.ReactiveRedisConnection;\r\n    import org.springframework.data.redis.connection.ReactiveRedisConnectionFactory;\r\n    import org.springframework.data.redis.connection.RedisConnectionFactory;\r\n    import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\n    import org.springframework.data.redis.core.ReactiveRedisTemplate;\r\n    import org.springframework.data.redis.serializer.RedisSerializationContext;\r\n    \r\n    @Configuration\r\n    @ConditionalOnClass({ReactiveRedisTemplate.class, RedisConnectionFactory.class,\r\n                         LettuceConnectionFactory.class, ReactiveRedisConnectionFactory.class})\r\n    public class RedisConfiguration {\r\n    \r\n        @Bean\r\n        public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\r\n            return new LettuceConnectionFactory();\r\n        }\r\n    \r\n        @Bean\r\n        public ReactiveRedisConnection reactiveRedisConnection(final ReactiveRedisConnectionFactory redisConnectionFactory) {\r\n            return redisConnectionFactory.getReactiveConnection();\r\n        }\r\n        @Bean\r\n        public ReactiveRedisTemplate&lt;String, String&gt; reactiveRedisTemplateString\r\n                (ReactiveRedisConnectionFactory connectionFactory) {\r\n            return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, RedisSerializationContext.string());\r\n        }\r\n    }\r\n\r\n\r\n**Exception**\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reactiveRedisConnection&#39; defined in class path resource \r\n    org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:62)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.demo.obapi.redis.Application.main(Application.:30)\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.ReactiveRedisConnection]: Factory method &#39;reactiveRedisConnection&#39; threw exception; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n    \t... 20 common frames omitted\r\n    Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1227)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1206)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:980)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:441)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:95)\r\n    \tat com.demo.example.redis.cache.config.RedisConfiguration.reactiveRedisConnection(RedisConfiguration.java:63)\r\n    \tat com.demo.example.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4.CGLIB$reactiveRedisConnection$0(&lt;generated&gt;)\r\n    \tat com.demo.example.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4$$FastClassBySpringCGLIB$$a05cf79e.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat com.demo.obapi.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4.reactiveRedisConnection(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 21 common frames omitted\r\n    Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\r\n    \tat io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:234)\r\n    \tat io.lettuce.core.RedisClient.connect(RedisClient.java:207)\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1225)\r\n    \t... 36 common frames omitted\r\n    Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6379\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n    \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n","title":"Reactive Redis:Spring Boot Application Start Fails, If Redis is Unavailable","body":"<p>We are using Reactive Redis to  cache web-client response.If Redis server is up and running application works fine.But App start up is failing ,if we stop redis. Expected behavior  is app should still go ahead and start even though redis connection fails.Does spring handles connection exception?or do we have to handle this kind of exceptions?</p>\n<p>Here is the code I used to configure redis;</p>\n<pre><code>import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.ReactiveRedisConnection;\nimport org.springframework.data.redis.connection.ReactiveRedisConnectionFactory;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.ReactiveRedisTemplate;\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\n\n@Configuration\n@ConditionalOnClass({ReactiveRedisTemplate.class, RedisConnectionFactory.class,\n                     LettuceConnectionFactory.class, ReactiveRedisConnectionFactory.class})\npublic class RedisConfiguration {\n\n    @Bean\n    public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\n        return new LettuceConnectionFactory();\n    }\n\n    @Bean\n    public ReactiveRedisConnection reactiveRedisConnection(final ReactiveRedisConnectionFactory redisConnectionFactory) {\n        return redisConnectionFactory.getReactiveConnection();\n    }\n    @Bean\n    public ReactiveRedisTemplate&lt;String, String&gt; reactiveRedisTemplateString\n            (ReactiveRedisConnectionFactory connectionFactory) {\n        return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, RedisSerializationContext.string());\n    }\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reactiveRedisConnection' defined in class path resource \norg.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:62)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.demo.obapi.redis.Application.main(Application.:30)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.ReactiveRedisConnection]: Factory method 'reactiveRedisConnection' threw exception; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n    ... 20 common frames omitted\nCaused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1227)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1206)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:980)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:441)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:95)\n    at com.demo.example.redis.cache.config.RedisConfiguration.reactiveRedisConnection(RedisConfiguration.java:63)\n    at com.demo.example.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4.CGLIB$reactiveRedisConnection$0(&lt;generated&gt;)\n    at com.demo.example.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4$$FastClassBySpringCGLIB$$a05cf79e.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.demo.obapi.redis.cache.config.RedisConfiguration$$EnhancerBySpringCGLIB$$63b514a4.reactiveRedisConnection(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 21 common frames omitted\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\n    at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:234)\n    at io.lettuce.core.RedisClient.connect(RedisClient.java:207)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1225)\n    ... 36 common frames omitted\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6379\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","eclipse","path","java.library.path"],"comments":[{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":1,"creation_date":1308524624,"post_id":661320,"comment_id":7511170,"body_markdown":"pls see accepted answer for this question instead - for me it&#39;s much better: http://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse","body":"pls see accepted answer for this question instead - for me it&#39;s much better: <a href=\"http://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse\" title=\"how to set the java library path from eclipse\">stackoverflow.com/questions/957700/&hellip;</a>"},{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":0,"creation_date":1392988849,"post_id":661320,"comment_id":33227735,"body_markdown":"The question &quot;how to add native library to ..&quot; is confusing. It is probably about adding (appending or prepending) another &quot;library path&quot; , i.e. assuming that Eclipse shows something like java.library.path=path1:path2:path3 by default, the question is how to start Eclipse ending up in java.library.path=my/lib/folder:path1:path2:path3","body":"The question &quot;how to add native library to ..&quot; is confusing. It is probably about adding (appending or prepending) another &quot;library path&quot; , i.e. assuming that Eclipse shows something like java.library.path=path1:path2:path3 by default, the question is how to start Eclipse ending up in java.library.path=my/lib/folder:path1:path2:path3"}],"answers":[{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237451780,"creation_date":1237451780,"answer_id":661444,"question_id":661320,"body_markdown":"Can you get round this by calling [System.load() ][1]programmatically to load your native library? This method (unlike [System.loadLibrary()][2]) allows you to specify an absolute path.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#load(java.lang.String)\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#loadLibrary(java.lang.String)","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>Can you get round this by calling <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#load(java.lang.String)\" rel=\"nofollow noreferrer\">System.load() </a>programmatically to load your native library? This method (unlike <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#loadLibrary(java.lang.String)\" rel=\"nofollow noreferrer\">System.loadLibrary()</a>) allows you to specify an absolute path.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1259914763,"creation_date":1237452318,"answer_id":661459,"question_id":661320,"body_markdown":"SWT puts the necessary native DLLs into a JAR. Search for &quot;org.eclipse.swt.win32.win32.x86_3.4.1.v3449c.jar&quot; for an example.\r\n\r\nThe DLLs must be in the root of the JAR, the JAR must be signed and the DLL must appear with checksum in the META-INF/MANIFEST.MF for the VM to pick them up.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>SWT puts the necessary native DLLs into a JAR. Search for \"org.eclipse.swt.win32.win32.x86_3.4.1.v3449c.jar\" for an example.</p>\n\n<p>The DLLs must be in the root of the JAR, the JAR must be signed and the DLL must appear with checksum in the META-INF/MANIFEST.MF for the VM to pick them up.</p>\n"},{"tags":[],"owner":{"account_id":33935,"reputation":11385,"user_id":95396,"accept_rate":100,"display_name":"andy boot"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1658352674,"creation_date":1240566880,"answer_id":785233,"question_id":661320,"body_markdown":"In Windows, like this: \r\n\r\n`-Djava.library.path=&quot;C:/MyLibPath;%PATH%&quot;`\r\n\r\n`%PATH%` is your old `-Djava.library.path`","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>In Windows, like this:</p>\n<p><code>-Djava.library.path=&quot;C:/MyLibPath;%PATH%&quot;</code></p>\n<p><code>%PATH%</code> is your old <code>-Djava.library.path</code></p>\n"},{"tags":[],"owner":{"account_id":20857,"reputation":40703,"user_id":50214,"accept_rate":97,"display_name":"geowa4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252458108,"creation_date":1252458108,"answer_id":1397094,"question_id":661320,"body_markdown":"In UNIX systems, you can append to the LD\\_LIBRARY\\_PATH environment variable. On Windows, the JVM automatically sets the system property, java.library.path, to PATH; so if the dll is on your PATH, then you&#39;re set.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>In UNIX systems, you can append to the LD_LIBRARY_PATH environment variable. On Windows, the JVM automatically sets the system property, java.library.path, to PATH; so if the dll is on your PATH, then you're set.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1264376790,"creation_date":1264358922,"answer_id":2128255,"question_id":661320,"body_markdown":"If you want to add a native library without interfering with `java.library.path` at development time in Eclipse (to avoid including absolute paths and having to add parameters to your launch configuration), you can supply the path to the native libraries location for each Jar in the *Java Build Path* dialog under *Native library location*. Note that the native library file name has to correspond to the Jar file name. See also this [detailed description][1].\r\n\r\n\r\n  [1]: http://www.eclipsezone.com/eclipse/forums/t49342.html","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>If you want to add a native library without interfering with <code>java.library.path</code> at development time in Eclipse (to avoid including absolute paths and having to add parameters to your launch configuration), you can supply the path to the native libraries location for each Jar in the <em>Java Build Path</em> dialog under <em>Native library location</em>. Note that the native library file name has to correspond to the Jar file name. See also this <a href=\"http://www.eclipsezone.com/eclipse/forums/t49342.html\" rel=\"noreferrer\">detailed description</a>.</p>\n"},{"tags":[],"owner":{"account_id":14012,"reputation":11489,"user_id":28482,"accept_rate":69,"display_name":"Touko"},"down_vote_count":3,"up_vote_count":55,"is_accepted":true,"score":52,"last_activity_date":1266828275,"creation_date":1266828275,"answer_id":2309723,"question_id":661320,"body_markdown":"Had forgotten this issue... I was actually asking with Eclipse, sorry for not stating that originally.\r\nAnd the answer seems to be too simple (at least with 3.5; probably with older versions also):\r\n\r\nJava run configuration&#39;s Arguments : VM arguments:\r\n\r\n    -Djava.library.path=&quot;${workspace_loc:project}\\lib;${env_var:PATH}&quot;\r\n\r\nMust not forget the quotation marks, otherwise there are problems with spaces in PATH.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>Had forgotten this issue... I was actually asking with Eclipse, sorry for not stating that originally.\nAnd the answer seems to be too simple (at least with 3.5; probably with older versions also):</p>\n\n<p>Java run configuration's Arguments : VM arguments:</p>\n\n<pre><code>-Djava.library.path=\"${workspace_loc:project}\\lib;${env_var:PATH}\"\n</code></pre>\n\n<p>Must not forget the quotation marks, otherwise there are problems with spaces in PATH.</p>\n"},{"tags":[],"owner":{"account_id":630420,"reputation":9,"user_id":387479,"display_name":"Dhana"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1278660324,"creation_date":1278660324,"answer_id":3210604,"question_id":661320,"body_markdown":"The native library file name has to correspond to the Jar file name. This is very very important.\r\nPlease make sure that jar name and dll name are same.\r\nAlso,please see the post from Fabian Steeg\r\nMy download for jawin was containing different names for dll and jar.\r\nIt was jawin.jar and jawin**d**.dll, note extra &#39;d&#39; in dll file name.\r\nI simply renamed it to jawin.dll and set it as a native library in eclipse as mentioned in post\r\n&quot;http://www.eclipsezone.com/eclipse/forums/t49342.html&quot;","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>The native library file name has to correspond to the Jar file name. This is very very important.\nPlease make sure that jar name and dll name are same.\nAlso,please see the post from Fabian Steeg\nMy download for jawin was containing different names for dll and jar.\nIt was jawin.jar and jawin<strong>d</strong>.dll, note extra 'd' in dll file name.\nI simply renamed it to jawin.dll and set it as a native library in eclipse as mentioned in post\n\"<a href=\"http://www.eclipsezone.com/eclipse/forums/t49342.html\" rel=\"nofollow noreferrer\">http://www.eclipsezone.com/eclipse/forums/t49342.html</a>\"</p>\n"},{"tags":[],"owner":{"account_id":675541,"reputation":35,"user_id":521115,"display_name":"Vadym"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1658352818,"creation_date":1290759610,"answer_id":4283557,"question_id":661320,"body_markdown":"1. `Window-&gt;Preferences-&gt;Java-&gt;Installed JREs`.\r\n2. Choose your current\r\n    JRE(JDK) and click **Edit**.\r\n3. Fill Default VM Arguments:\r\n    `-Djava.library.path=/usr/local/xuggler/lib`.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<ol>\n<li><code>Window-&gt;Preferences-&gt;Java-&gt;Installed JREs</code>.</li>\n<li>Choose your current\nJRE(JDK) and click <strong>Edit</strong>.</li>\n<li>Fill Default VM Arguments:\n<code>-Djava.library.path=/usr/local/xuggler/lib</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323446788,"creation_date":1323446788,"answer_id":8448272,"question_id":661320,"body_markdown":"For some reason I couldn&#39;t get multiple folders to work (well it did for a while but as soon as I needed more dlls and added more folders, none with white spaces in the path). I then copied all needed dlls to one folder and had that as my *java.library.path* and it worked. I don&#39;t have an explanation - if anyone does, it would be great.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>For some reason I couldn't get multiple folders to work (well it did for a while but as soon as I needed more dlls and added more folders, none with white spaces in the path). I then copied all needed dlls to one folder and had that as my <em>java.library.path</em> and it worked. I don't have an explanation - if anyone does, it would be great.</p>\n"},{"tags":[],"owner":{"account_id":248017,"reputation":1909,"user_id":523124,"accept_rate":83,"display_name":"Alan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1375991186,"creation_date":1375991186,"answer_id":18134772,"question_id":661320,"body_markdown":"On Windows, I have found that the important thing is to **start Eclipse from the command line** rather than from the Start Menu or a shortcut, provided that the native DLL is in a directory in your PATH. Apparently, this ensures that the proper directory is on the path.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>On Windows, I have found that the important thing is to <strong>start Eclipse from the command line</strong> rather than from the Start Menu or a shortcut, provided that the native DLL is in a directory in your PATH. Apparently, this ensures that the proper directory is on the path.</p>\n"},{"tags":[],"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392992242,"creation_date":1392992242,"answer_id":21936901,"question_id":661320,"body_markdown":"https://bugs.eclipse.org/bugs/show_bug.cgi?id=102239 states that there is no substitution mechanics implemented in Eclipse&#39;s launcher, at least no up to release Juno.\r\n\r\nThus it is (almost) impossible to append or prepend another library folder to java.library.path when launching Eclipse without prior knowledge of the default setting.\r\n\r\nI wrote almost, cause it should be possible to let Eclipse startup, dump the content of java.library.path and stop Eclipse in one command. The dump would the be parsed and then taken as the input for launching Eclipse, i.e.\r\n\r\n    #!/bin/bash\r\n    # get default value of java.library.path (somehow)\r\n    default_lib_path=$( start_dump_stop_eclipse_somehow )  \r\n    \r\n    # now launch Eclipse\r\n    eclipse --launcher.appendVmargs \\\r\n             -vmargs \\\r\n             -Djava.library.path=&quot;/my/native/lib/folder:${default_lib_path}&quot;\r\n\r\n\r\n","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=102239\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=102239</a> states that there is no substitution mechanics implemented in Eclipse's launcher, at least no up to release Juno.</p>\n\n<p>Thus it is (almost) impossible to append or prepend another library folder to java.library.path when launching Eclipse without prior knowledge of the default setting.</p>\n\n<p>I wrote almost, cause it should be possible to let Eclipse startup, dump the content of java.library.path and stop Eclipse in one command. The dump would the be parsed and then taken as the input for launching Eclipse, i.e.</p>\n\n<pre><code>#!/bin/bash\n# get default value of java.library.path (somehow)\ndefault_lib_path=$( start_dump_stop_eclipse_somehow )  \n\n# now launch Eclipse\neclipse --launcher.appendVmargs \\\n         -vmargs \\\n         -Djava.library.path=\"/my/native/lib/folder:${default_lib_path}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":99191,"reputation":3337,"user_id":268066,"display_name":"CrazyPyro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395872886,"creation_date":1395872886,"answer_id":22674368,"question_id":661320,"body_markdown":"Many of the existing answers assume you want to set this for a particular project, but I needed to set it for Eclipse *itself* in order to support integrated authentication for the SQL Server JDBC driver.\r\n\r\nTo do this, I followed [these instructions](http://wiki.eclipse.org/Starting_Eclipse_Commandline_With_Equinox_Launcher) for launching Eclipse from the Java commandline instead of its normal launcher.  Then I just modified that script to add my -Djava.library.path argument to the Java commandline.","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>Many of the existing answers assume you want to set this for a particular project, but I needed to set it for Eclipse <em>itself</em> in order to support integrated authentication for the SQL Server JDBC driver.</p>\n\n<p>To do this, I followed <a href=\"http://wiki.eclipse.org/Starting_Eclipse_Commandline_With_Equinox_Launcher\" rel=\"nofollow\">these instructions</a> for launching Eclipse from the Java commandline instead of its normal launcher.  Then I just modified that script to add my -Djava.library.path argument to the Java commandline.</p>\n"},{"tags":[],"owner":{"account_id":1420635,"reputation":266,"user_id":1345329,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502911774,"creation_date":1405424644,"answer_id":24757361,"question_id":661320,"body_markdown":"The solution offered by Rob Elsner in one of the comments above works perfectly (OSX 10.9, Eclipse Kepler). One has to append their additional paths to that separated by &quot;:&quot;.\r\n\r\n&gt;You could also use ${system_property:java.library.path} –  Rob Elsner Nov 22 &#39;10 at 23:01","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>The solution offered by Rob Elsner in one of the comments above works perfectly (OSX 10.9, Eclipse Kepler). One has to append their additional paths to that separated by \":\".</p>\n\n<blockquote>\n  <p>You could also use ${system_property:java.library.path} –  Rob Elsner Nov 22 '10 at 23:01</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4737327,"reputation":344,"user_id":4462820,"display_name":"rboc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589925952,"creation_date":1589925952,"answer_id":61901566,"question_id":661320,"body_markdown":" 1. On Windows: Add the path to the library to the PATH environment variable.\r\n 2. On Linux: Add the path to the library to the LD_LIBRARY_PATH environment variable.\r\n 3. On Mac: Add the path to the library to the DYLD_LIBRARY_PATH environment variable.\r\n\r\n`java.library.path` is initilized with the values of the variables above on its corresponding platform.\r\n\r\nThis should work on any IDE.\r\n\r\nYou can test if the value is what you expect by calling `java -XshowSettings:properties`","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<ol>\n<li>On Windows: Add the path to the library to the PATH environment variable.</li>\n<li>On Linux: Add the path to the library to the LD_LIBRARY_PATH environment variable.</li>\n<li>On Mac: Add the path to the library to the DYLD_LIBRARY_PATH environment variable.</li>\n</ol>\n\n<p><code>java.library.path</code> is initilized with the values of the variables above on its corresponding platform.</p>\n\n<p>This should work on any IDE.</p>\n\n<p>You can test if the value is what you expect by calling <code>java -XshowSettings:properties</code></p>\n"}],"owner":{"account_id":14012,"reputation":11489,"user_id":28482,"accept_rate":69,"display_name":"Touko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315180,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":2309723,"answer_count":14,"score":101,"last_activity_date":1658352818,"creation_date":1237447608,"question_id":661320,"body_markdown":"I got a native library that needs to be added to *java.library.path*. With JVM argument *-Djava.library.path=path...* I can set the path as I want.\r\n\r\nMy problem is that my other library (pentaho reporting) searches fonts based on the default java.library.path (including system directories etc) and the manual setting overrides the default path..\r\n\r\nSo : how can I **add** a path entry to the default java.library.path instead of overriding it (which seems to be done with -Djava.library.path)? (I wouldn&#39;t want to add the default path by hand, which wouldn&#39;t be nice for the sake of deployment)\r\n\r\nEDIT: Sorry for missing details; I&#39;m working with Eclipse. (The deployment is done with JNLP and there I can use  *nativelib* under *resources*)","title":"How to add native library to &quot;java.library.path&quot; with Eclipse launch (instead of overriding it)","body":"<p>I got a native library that needs to be added to <em>java.library.path</em>. With JVM argument <em>-Djava.library.path=path...</em> I can set the path as I want.</p>\n\n<p>My problem is that my other library (pentaho reporting) searches fonts based on the default java.library.path (including system directories etc) and the manual setting overrides the default path..</p>\n\n<p>So : how can I <strong>add</strong> a path entry to the default java.library.path instead of overriding it (which seems to be done with -Djava.library.path)? (I wouldn't want to add the default path by hand, which wouldn't be nice for the sake of deployment)</p>\n\n<p>EDIT: Sorry for missing details; I'm working with Eclipse. (The deployment is done with JNLP and there I can use  <em>nativelib</em> under <em>resources</em>)</p>\n"},{"tags":["java","android","android-layout","android-imageview"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1658236320,"post_id":73034302,"comment_id":128997419,"body_markdown":"You could wrap the layout in a _ScrollView_, but that may not be acceptable. Can you change the layout to _ConstraintLayout_? That may be a better option here. ` android:scaleType=&quot;matrix&quot;` on the bottom view should get the width right, but may cut off the bottom of the image. If these don&#39;t work for you, then you may need to do some programmatic adjusting.","body":"You could wrap the layout in a <i>ScrollView</i>, but that may not be acceptable. Can you change the layout to <i>ConstraintLayout</i>? That may be a better option here. ` android:scaleType=&quot;matrix&quot;` on the bottom view should get the width right, but may cut off the bottom of the image. If these don&#39;t work for you, then you may need to do some programmatic adjusting."}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658352732,"creation_date":1658352732,"answer_id":73058353,"question_id":73034302,"body_markdown":"There is not a way to do what you want just using XML AFAIK. Given a total height for the three _ImageViews_, you will need to calculate a common width that will let each _ImageView_ maintain the aspect ratio of its drawable.\r\n\r\nYou can get the aspect ratio of a drawable as follows:\r\n\r\n    val ratioTop = ContextCompat.getDrawable(requireContext(), R.drawable.top_frame)!!.run {\r\n        intrinsicWidth.toFloat() / intrinsicHeight\r\n    }\r\n\r\nYou can do the same to calculate the aspect ratios of the middle and bottom views.\r\n\r\nGiven the aspect ratios and the total height, calculate the new width (w) of all the _ImageViews_ as follows:\r\n\r\n&gt;r is aspect ratio, w is width, h is height&lt;br&gt;\r\nr1 = w1/h1, r2 = w2/h2, r3 = w3/h2, h = h1 + h2 + h2&lt;br&gt;\r\nset w1, w2, w3 = w so h1 = w/r1, h2 = w/r2, h3 = w/r3&lt;br&gt;\r\nw = h/(1/r1 + 1/r2 + 1/r3)\r\n\r\nGiven this common width for the _ImageViews_, calculate the new height as follows:\r\n\r\n    height = (w / ratioTop).toInt()\r\n\r\nDo the same for the middle and bottom views. You will have to wait for an initial layout to get the value of `h`, so use a layout or global layout listener for this code.\r\n\r\nSet the width and height of each view to the appropriate values and request a layout.\r\n\r\nIf you have padding/margins, you will need to make adjustments to accommodate them. ","title":"Android multiple ImageViews to use the same scale","body":"<p>There is not a way to do what you want just using XML AFAIK. Given a total height for the three <em>ImageViews</em>, you will need to calculate a common width that will let each <em>ImageView</em> maintain the aspect ratio of its drawable.</p>\n<p>You can get the aspect ratio of a drawable as follows:</p>\n<pre><code>val ratioTop = ContextCompat.getDrawable(requireContext(), R.drawable.top_frame)!!.run {\n    intrinsicWidth.toFloat() / intrinsicHeight\n}\n</code></pre>\n<p>You can do the same to calculate the aspect ratios of the middle and bottom views.</p>\n<p>Given the aspect ratios and the total height, calculate the new width (w) of all the <em>ImageViews</em> as follows:</p>\n<blockquote>\n<p>r is aspect ratio, w is width, h is height<br>\nr1 = w1/h1, r2 = w2/h2, r3 = w3/h2, h = h1 + h2 + h2<br>\nset w1, w2, w3 = w so h1 = w/r1, h2 = w/r2, h3 = w/r3<br>\nw = h/(1/r1 + 1/r2 + 1/r3)</p>\n</blockquote>\n<p>Given this common width for the <em>ImageViews</em>, calculate the new height as follows:</p>\n<pre><code>height = (w / ratioTop).toInt()\n</code></pre>\n<p>Do the same for the middle and bottom views. You will have to wait for an initial layout to get the value of <code>h</code>, so use a layout or global layout listener for this code.</p>\n<p>Set the width and height of each view to the appropriate values and request a layout.</p>\n<p>If you have padding/margins, you will need to make adjustments to accommodate them.</p>\n"}],"owner":{"account_id":7253257,"reputation":3765,"user_id":5532778,"accept_rate":81,"display_name":"PKey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658352732,"creation_date":1658222189,"question_id":73034302,"body_markdown":"I have an image that is sliced into 3 parts (top `320x57`, middle `320x138`, bottom `320x233`). \r\n \r\nHow could I ensure that those 3 parts use the same scale, on every screen so that the final picture does not get distorted. \r\n\r\nHere is my layout, with 3 corresponding ImageViews: \r\n\r\n(Ignore the `AutoResizeTextView` - it&#39;s just my custom implementation of a `TextView`)   \r\n\r\n        &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n               android:orientation=&quot;vertical&quot;\r\n               android:paddingTop=&quot;25dp&quot;\r\n               android:layout_centerHorizontal=&quot;true&quot;\r\n                &gt;\r\n    &lt;ImageView\r\n    android:id=&quot;@+id/Top&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:contentDescription=&quot;top part&quot;\r\n    android:paddingTop=&quot;0dp&quot;\r\n    android:layout_marginRight=&quot;15dp&quot;\r\n    android:clickable=&quot;false&quot;\r\n    android:paddingLeft=&quot;20dip&quot;\r\n    android:scaleType=&quot;centerInside&quot;\r\n    android:src=&quot;@drawable/tops&quot; /&gt;\r\n     &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n    &lt;ImageView\r\n    android:id=&quot;@+id/Middle&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:contentDescription=&quot;middle part&quot;\r\n    android:paddingTop=&quot;0dp&quot;\r\n    android:layout_marginRight=&quot;15dp&quot;\r\n    android:clickable=&quot;false&quot;\r\n    android:paddingLeft=&quot;20dip&quot;\r\n    android:scaleType=&quot;centerInside&quot;\r\n    android:src=&quot;@drawable/middles&quot; /&gt;\r\n    \r\n      &lt;AutoResizeTextView\r\n          android:id=&quot;@+id/text&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_alignLeft=&quot;@+id/Middle&quot;\r\n          android:layout_alignTop=&quot;@+id/Middle&quot;\r\n          android:layout_alignRight=&quot;@+id/Middle&quot;\r\n          android:layout_alignBottom=&quot;@+id/Middle&quot;\r\n          android:layout_alignParentTop=&quot;true&quot;\r\n          android:layout_centerHorizontal=&quot;true&quot;\r\n          android:layout_marginLeft=&quot;30dp&quot;\r\n          android:layout_marginTop=&quot;10dp&quot;\r\n          android:layout_marginRight=&quot;5dp&quot; /&gt;\r\n     &lt;/RelativeLayout&gt;\r\n    &lt;ImageView\r\n    android:id=&quot;@+id/Bottom&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:contentDescription=&quot;bottom part&quot;\r\n    android:paddingTop=&quot;0dp&quot;\r\n    android:layout_marginRight=&quot;15dp&quot;\r\n    android:clickable=&quot;false&quot;\r\n    android:paddingLeft=&quot;20dip&quot;\r\n    android:scaleType=&quot;centerInside&quot;\r\n    android:src=&quot;@drawable/bottoms&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nWhen every part of image (`top`, `middle`, `bottom`) fits the screen (no scaling) the final picture looks fine, \r\nhowever on small screen only the bottom image is scaled and the other two are left untouched (or may be they are all scaled but unevenly). \r\n\r\nAny ideas how could I achieve all 3 images use the same scale and fit any screen ? \r\nThanks.  \r\n\r\n**Note:**\r\nI tried using `top` and `middle` imageView&#39;s `.setLayoutParams(layoutParams)` method to set same width and height that I got from inside of `bottom` imageView&#39;s \r\n `onGlobalLayout()` - without noteworthy results. ","title":"Android multiple ImageViews to use the same scale","body":"<p>I have an image that is sliced into 3 parts (top <code>320x57</code>, middle <code>320x138</code>, bottom <code>320x233</code>).</p>\n<p>How could I ensure that those 3 parts use the same scale, on every screen so that the final picture does not get distorted.</p>\n<p>Here is my layout, with 3 corresponding ImageViews:</p>\n<p>(Ignore the <code>AutoResizeTextView</code> - it's just my custom implementation of a <code>TextView</code>)</p>\n<pre><code>    &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n           android:orientation=&quot;vertical&quot;\n           android:paddingTop=&quot;25dp&quot;\n           android:layout_centerHorizontal=&quot;true&quot;\n            &gt;\n&lt;ImageView\nandroid:id=&quot;@+id/Top&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:contentDescription=&quot;top part&quot;\nandroid:paddingTop=&quot;0dp&quot;\nandroid:layout_marginRight=&quot;15dp&quot;\nandroid:clickable=&quot;false&quot;\nandroid:paddingLeft=&quot;20dip&quot;\nandroid:scaleType=&quot;centerInside&quot;\nandroid:src=&quot;@drawable/tops&quot; /&gt;\n &lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;ImageView\nandroid:id=&quot;@+id/Middle&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:contentDescription=&quot;middle part&quot;\nandroid:paddingTop=&quot;0dp&quot;\nandroid:layout_marginRight=&quot;15dp&quot;\nandroid:clickable=&quot;false&quot;\nandroid:paddingLeft=&quot;20dip&quot;\nandroid:scaleType=&quot;centerInside&quot;\nandroid:src=&quot;@drawable/middles&quot; /&gt;\n\n  &lt;AutoResizeTextView\n      android:id=&quot;@+id/text&quot;\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_alignLeft=&quot;@+id/Middle&quot;\n      android:layout_alignTop=&quot;@+id/Middle&quot;\n      android:layout_alignRight=&quot;@+id/Middle&quot;\n      android:layout_alignBottom=&quot;@+id/Middle&quot;\n      android:layout_alignParentTop=&quot;true&quot;\n      android:layout_centerHorizontal=&quot;true&quot;\n      android:layout_marginLeft=&quot;30dp&quot;\n      android:layout_marginTop=&quot;10dp&quot;\n      android:layout_marginRight=&quot;5dp&quot; /&gt;\n &lt;/RelativeLayout&gt;\n&lt;ImageView\nandroid:id=&quot;@+id/Bottom&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:contentDescription=&quot;bottom part&quot;\nandroid:paddingTop=&quot;0dp&quot;\nandroid:layout_marginRight=&quot;15dp&quot;\nandroid:clickable=&quot;false&quot;\nandroid:paddingLeft=&quot;20dip&quot;\nandroid:scaleType=&quot;centerInside&quot;\nandroid:src=&quot;@drawable/bottoms&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>When every part of image (<code>top</code>, <code>middle</code>, <code>bottom</code>) fits the screen (no scaling) the final picture looks fine,\nhowever on small screen only the bottom image is scaled and the other two are left untouched (or may be they are all scaled but unevenly).</p>\n<p>Any ideas how could I achieve all 3 images use the same scale and fit any screen ?\nThanks.</p>\n<p><strong>Note:</strong>\nI tried using <code>top</code> and <code>middle</code> imageView's <code>.setLayoutParams(layoutParams)</code> method to set same width and height that I got from inside of <code>bottom</code> imageView's\n<code>onGlobalLayout()</code> - without noteworthy results.</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1615191147,"creation_date":1615183357,"answer_id":66524999,"question_id":66524829,"body_markdown":"Use this way to change the search icon:\r\n\r\n    private SearchView searchbox;\r\n    \r\n    private void customizeSearchbox() {\r\n        setSearchHintIcon(R.drawable.new_search_icon);\r\n    }\r\n    \r\n    private void setSearchHintIcon(int resourceId) {\r\n        ImageView searchHintIcon = (ImageView) findViewById(searchbox, \r\n            &quot;android:id/search_mag_icon&quot;);\r\n        searchHintIcon.setImageResource(resourceId);\r\n    }\r\n    \r\n    private View findViewById(View v, String id) {\r\n        return v.findViewById(v.getContext().getResources().\r\n            getIdentifier(id, null, null));        \r\n    }\r\n\r\nas stated here: https://stackoverflow.com/a/16988719/2462531\r\n\r\nTo change text and hint color try this:\r\n\r\nAdd this to the parent theme.\r\n\r\n    &lt;item name=&quot;android:editTextColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;item name=&quot;android:textColorHint&quot;&gt;@android:color/white&lt;/item&gt;\r\n\r\nIt will change the hint text for the SearchView.\r\n\r\nas stated here: https://stackoverflow.com/a/39036236/2462531","title":"how to change search icon, hint and text color in Android SearchView?","body":"<p>Use this way to change the search icon:</p>\n<pre><code>private SearchView searchbox;\n\nprivate void customizeSearchbox() {\n    setSearchHintIcon(R.drawable.new_search_icon);\n}\n\nprivate void setSearchHintIcon(int resourceId) {\n    ImageView searchHintIcon = (ImageView) findViewById(searchbox, \n        &quot;android:id/search_mag_icon&quot;);\n    searchHintIcon.setImageResource(resourceId);\n}\n\nprivate View findViewById(View v, String id) {\n    return v.findViewById(v.getContext().getResources().\n        getIdentifier(id, null, null));        \n}\n</code></pre>\n<p>as stated here: <a href=\"https://stackoverflow.com/a/16988719/2462531\">https://stackoverflow.com/a/16988719/2462531</a></p>\n<p>To change text and hint color try this:</p>\n<p>Add this to the parent theme.</p>\n<pre><code>&lt;item name=&quot;android:editTextColor&quot;&gt;@android:color/white&lt;/item&gt;\n&lt;item name=&quot;android:textColorHint&quot;&gt;@android:color/white&lt;/item&gt;\n</code></pre>\n<p>It will change the hint text for the SearchView.</p>\n<p>as stated here: <a href=\"https://stackoverflow.com/a/39036236/2462531\">https://stackoverflow.com/a/39036236/2462531</a></p>\n"},{"tags":[],"owner":{"account_id":12816130,"reputation":1,"user_id":9272706,"display_name":"bolebolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658352255,"creation_date":1658352255,"answer_id":73058292,"question_id":66524829,"body_markdown":"You can change and customize all SearchView icons like this: \r\n\r\n      &lt;androidx.appcompat.widget.SearchView\r\n            android:id=&quot;@+id/search&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:iconifiedByDefault=&quot;false&quot;\r\n            app:queryHint=&quot;@string/search&quot;\r\n            app:searchHintIcon=&quot;@drawable/ic_search_gray&quot;\r\n            app:searchIcon=&quot;@drawable/ic_search_white&quot;\r\n            app:closeIcon=&quot;@drowable/x_icon&quot;/&gt;\r\n\r\nthese three lines make magic\r\n\r\n          \r\n            app:searchHintIcon=&quot;@drawable/ic_search_gray&quot;\r\n            app:searchIcon=&quot;@drawable/ic_search_white&quot; \r\n            app:closeIcon=&quot;@drowable/x_icon&quot;/&gt;\r\n\r\nbut first, you must provide declaration in root layout in your xml with this 2 lines of code :\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\nI hope this will helps someone, since it&#39;s a late reply...\r\n\r\n enjoy and happy coding :)","title":"how to change search icon, hint and text color in Android SearchView?","body":"<p>You can change and customize all SearchView icons like this:</p>\n<pre><code>  &lt;androidx.appcompat.widget.SearchView\n        android:id=&quot;@+id/search&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:iconifiedByDefault=&quot;false&quot;\n        app:queryHint=&quot;@string/search&quot;\n        app:searchHintIcon=&quot;@drawable/ic_search_gray&quot;\n        app:searchIcon=&quot;@drawable/ic_search_white&quot;\n        app:closeIcon=&quot;@drowable/x_icon&quot;/&gt;\n</code></pre>\n<p>these three lines make magic</p>\n<pre><code>        app:searchHintIcon=&quot;@drawable/ic_search_gray&quot;\n        app:searchIcon=&quot;@drawable/ic_search_white&quot; \n        app:closeIcon=&quot;@drowable/x_icon&quot;/&gt;\n</code></pre>\n<p>but first, you must provide declaration in root layout in your xml with this 2 lines of code :</p>\n<pre><code>xmlns:tools=&quot;http://schemas.android.com/tools&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n</code></pre>\n<p>I hope this will helps someone, since it's a late reply...</p>\n<p>enjoy and happy coding :)</p>\n"}],"owner":{"account_id":9158197,"reputation":391,"user_id":6810473,"accept_rate":20,"display_name":"nerdy kid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1658352255,"creation_date":1615182138,"question_id":66524829,"body_markdown":"So I was working with this `SearchView` and everything looked fine in the emulator.\r\nwhen I tested it in the actual device, all of the icons turned white.\r\n\r\nI looked up on some of the sources on how to style the `SearchView` but most of them are maybe outdated and nothing seems to work.\r\n\r\nCurrent SearchView XML:\r\n\r\n  \r\n\r\n    &lt;SearchView\r\n                android:id=&quot;@+id/lead_search_view&quot;\r\n                style=&quot;@style/AppTheme.SearchView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:background=&quot;@drawable/custom_background_spinner&quot;\r\n                android:iconifiedByDefault=&quot;false&quot;\r\n                android:queryBackground=&quot;@android:color/transparent&quot;\r\n                android:queryHint=&quot;Enter a keyword&quot;\r\n                android:theme=&quot;@style/AppTheme.SearchView&quot; /&gt;\r\n\r\nThe style that I followed on some solutions:\r\n\r\n \r\n\r\n     &lt;style name=&quot;AppTheme.SearchView&quot; parent=&quot;Widget.AppCompat.SearchView&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColorHint&quot;&gt;@color/colorHint&lt;/item&gt;\r\n            &lt;item name=&quot;searchIcon&quot;&gt;@drawable/ic_search_field_icon&lt;/item&gt;\r\n        &lt;/style&gt;","title":"how to change search icon, hint and text color in Android SearchView?","body":"<p>So I was working with this <code>SearchView</code> and everything looked fine in the emulator.\nwhen I tested it in the actual device, all of the icons turned white.</p>\n<p>I looked up on some of the sources on how to style the <code>SearchView</code> but most of them are maybe outdated and nothing seems to work.</p>\n<p>Current SearchView XML:</p>\n<pre><code>&lt;SearchView\n            android:id=&quot;@+id/lead_search_view&quot;\n            style=&quot;@style/AppTheme.SearchView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:background=&quot;@drawable/custom_background_spinner&quot;\n            android:iconifiedByDefault=&quot;false&quot;\n            android:queryBackground=&quot;@android:color/transparent&quot;\n            android:queryHint=&quot;Enter a keyword&quot;\n            android:theme=&quot;@style/AppTheme.SearchView&quot; /&gt;\n</code></pre>\n<p>The style that I followed on some solutions:</p>\n<pre><code> &lt;style name=&quot;AppTheme.SearchView&quot; parent=&quot;Widget.AppCompat.SearchView&quot;&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;android:textColorHint&quot;&gt;@color/colorHint&lt;/item&gt;\n        &lt;item name=&quot;searchIcon&quot;&gt;@drawable/ic_search_field_icon&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658323819,"post_id":73052503,"comment_id":129023337,"body_markdown":"How does `CMarkingRepository.insertCMark` method look?","body":"How does <code>CMarkingRepository.insertCMark</code> method look?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1658324145,"post_id":73052503,"comment_id":129023513,"body_markdown":"@AndreyB.Panfilov Sorry, its at the top but I accidentally cut off part of name. Fixed now.","body":"@AndreyB.Panfilov Sorry, its at the top but I accidentally cut off part of name. Fixed now."}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658352222,"creation_date":1658352222,"answer_id":73058290,"question_id":73052503,"body_markdown":"ok, figured it out. Just by adding @Nullable to each parameter directly its solved:\r\n\r\n    public interface CMarkRepository extends JpaRepository &lt;CMark, String&gt; {\r\n\r\n        @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;INSERT INTO c_mark(c_fk, a_e_mark) values(:c_fk, :a_e_mark\\\\:\\\\:character varying[])&quot;, nativeQuery = true)\r\n        int insertClassMark(@Param(&quot;c_fk&quot;) @Nullable String classification_fk, @Param(&quot;a_e_mark&quot;) @Nullable String a_e_mark);\r\n}","title":"Java JPA - Why is IllegalArgumentException being thrown in Repository method that should allow for null values?","body":"<p>ok, figured it out. Just by adding @Nullable to each parameter directly its solved:</p>\n<pre><code>public interface CMarkRepository extends JpaRepository &lt;CMark, String&gt; {\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;INSERT INTO c_mark(c_fk, a_e_mark) values(:c_fk, :a_e_mark\\\\:\\\\:character varying[])&quot;, nativeQuery = true)\n    int insertClassMark(@Param(&quot;c_fk&quot;) @Nullable String classification_fk, @Param(&quot;a_e_mark&quot;) @Nullable String a_e_mark);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73058290,"answer_count":1,"score":1,"last_activity_date":1658352222,"creation_date":1658323602,"question_id":73052503,"body_markdown":"I have a JPA repository method that is throwing an exception for a null value. I don&#39;t understand why its throwing the exception because it can be null in the database table. I don&#39;t believe its reaching the persistence stuff yet, but rather exception is be thrown before getting there. \r\n\r\nUnfortunately I have to disguise a lot of the coding (plus I simplified by removing lots of params for readability). I would be grateful for any insights. \r\n\r\nHere is key part of exception:\r\n```\r\njava.lang.IllegalArgumentException: Parameter a_e_mark in CMarkRepository.insertCMark must not be null!\r\n\tat org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy142.insertCMark(Unknown Source)\r\n\tat service.SMarkService.postCMark(SMarkService.java:213)\r\n\tat controller.SMarkController.postCMark(SMarkController.java:259)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t.....\r\n```\r\n\r\nHere is the important part of calling code:\r\n\r\n\tpublic int postCMark\t(CMark cMark) {\r\n\r\n\t\tCMark cm = null;\r\n\t\tint status = 0;\r\n\t\ttry {\r\n\t\t\tstatus = cMarkRepository.insertCMark(cMark.getCFk(), stringListToStringArray(cMark.getAEMark())));\r\n\t\t} catch ( Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n\tprivate String stringListToStringArray(List&lt;String&gt; stringList) {\r\n\t\tStringListConverterCommaDelim stringListConverterCommaDelim = new StringListConverterCommaDelim();\r\n\t\treturn stringListConverterCommaDelim.convertToDatabaseColumn(stringList);\r\n\t}\r\n\r\nHere is the converter:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import static java.util.Collections.emptyList;\r\n\r\n    @Converter\r\n    public class StringListConverterCommaDelim implements AttributeConverter&lt;List&lt;String&gt;, String&gt; \r\n    {\r\n        private static final String SPLIT_CHAR = &quot;,&quot;;\r\n\r\n        @Override\r\n        public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\r\n            String splitString = null;\r\n            if(stringList != null) {\r\n                splitString = String.join(SPLIT_CHAR, stringList);\r\n                splitString = &quot;{&quot; + splitString + &quot;}&quot;;\r\n            }\r\n            return splitString;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; convertToEntityAttribute(String string) {\r\n            return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\r\n        }\r\n    }\r\n\r\nhere is the repo:\r\n\r\n    public interface CMarkRepository extends JpaRepository &lt;CMark, String&gt; {\r\n\r\n        @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;INSERT INTO c_mark(c_fk, a_e_mark) values(:c_fk, :a_e_mark\\\\:\\\\:character varying[])&quot;, nativeQuery = true)\r\n        int insertClassMark(@Param(&quot;c_fk&quot;) String classification_fk, @Param(&quot;a_e_mark&quot;) String a_e_mark);\r\n    }\r\n","title":"Java JPA - Why is IllegalArgumentException being thrown in Repository method that should allow for null values?","body":"<p>I have a JPA repository method that is throwing an exception for a null value. I don't understand why its throwing the exception because it can be null in the database table. I don't believe its reaching the persistence stuff yet, but rather exception is be thrown before getting there.</p>\n<p>Unfortunately I have to disguise a lot of the coding (plus I simplified by removing lots of params for readability). I would be grateful for any insights.</p>\n<p>Here is key part of exception:</p>\n<pre><code>java.lang.IllegalArgumentException: Parameter a_e_mark in CMarkRepository.insertCMark must not be null!\n    at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy142.insertCMark(Unknown Source)\n    at service.SMarkService.postCMark(SMarkService.java:213)\n    at controller.SMarkController.postCMark(SMarkController.java:259)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    .....\n</code></pre>\n<p>Here is the important part of calling code:</p>\n<pre><code>public int postCMark    (CMark cMark) {\n\n    CMark cm = null;\n    int status = 0;\n    try {\n        status = cMarkRepository.insertCMark(cMark.getCFk(), stringListToStringArray(cMark.getAEMark())));\n    } catch ( Exception e) {\n        e.printStackTrace();\n    }\n    return status;\n}\nprivate String stringListToStringArray(List&lt;String&gt; stringList) {\n    StringListConverterCommaDelim stringListConverterCommaDelim = new StringListConverterCommaDelim();\n    return stringListConverterCommaDelim.convertToDatabaseColumn(stringList);\n}\n</code></pre>\n<p>Here is the converter:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.util.Arrays;\nimport java.util.List;\nimport static java.util.Collections.emptyList;\n\n@Converter\npublic class StringListConverterCommaDelim implements AttributeConverter&lt;List&lt;String&gt;, String&gt; \n{\n    private static final String SPLIT_CHAR = &quot;,&quot;;\n\n    @Override\n    public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\n        String splitString = null;\n        if(stringList != null) {\n            splitString = String.join(SPLIT_CHAR, stringList);\n            splitString = &quot;{&quot; + splitString + &quot;}&quot;;\n        }\n        return splitString;\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(String string) {\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\n    }\n}\n</code></pre>\n<p>here is the repo:</p>\n<pre><code>public interface CMarkRepository extends JpaRepository &lt;CMark, String&gt; {\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;INSERT INTO c_mark(c_fk, a_e_mark) values(:c_fk, :a_e_mark\\\\:\\\\:character varying[])&quot;, nativeQuery = true)\n    int insertClassMark(@Param(&quot;c_fk&quot;) String classification_fk, @Param(&quot;a_e_mark&quot;) String a_e_mark);\n}\n</code></pre>\n"},{"tags":["javascript","java","jsp","vector"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1658361891,"post_id":73058204,"comment_id":129035506,"body_markdown":"No. The Java code is executed at the server side to produce HTML containing JavaScript code. At the time the browser at the client side (usually running on a different computer) has received this HTML and starts to execute the JavaScript code the Java objects are history (and they existed at a different location far away). Use the browser&#39;s &quot;Show Sourcecode&quot; command to see the HTML code created by the JSP at server side. You have to use something like AJAX or Websockets to let the browser communicate with the server.","body":"No. The Java code is executed at the server side to produce HTML containing JavaScript code. At the time the browser at the client side (usually running on a different computer) has received this HTML and starts to execute the JavaScript code the Java objects are history (and they existed at a different location far away). Use the browser&#39;s &quot;Show Sourcecode&quot; command to see the HTML code created by the JSP at server side. You have to use something like AJAX or Websockets to let the browser communicate with the server."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1658362044,"post_id":73058204,"comment_id":129035527,"body_markdown":"There are two different execution contexts here. Java/JSP at server side and JavaScript at client side. The only relation between them is that the first one generates the code for the second one.","body":"There are two different execution contexts here. Java/JSP at server side and JavaScript at client side. The only relation between them is that the first one generates the code for the second one."},{"owner":{"account_id":25788051,"reputation":1,"user_id":19532534,"display_name":"Giuseppe_Baro"},"score":0,"creation_date":1658380357,"post_id":73058204,"comment_id":129038039,"body_markdown":"but could i call the dao object directly inside the javascript function?  This way by calling the object in the function I could call all of its methods","body":"but could i call the dao object directly inside the javascript function?  This way by calling the object in the function I could call all of its methods"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1658406372,"post_id":73058204,"comment_id":129046813,"body_markdown":"Um, no. Please try to understand what these two execution contexts really mean. The Java context is on the server. Its purpose is create a HTML response out of a HTTP request. JSP is not more than a text templating machine. During execution there exists some Java objects like the DAO object and the output is the HTML text. The included JavaScript code here is only another kind of text, not more. After that all local objects are garbage collected and aren&#39;t further accessable. Then the web server sends the resulting HTML to the client. Then the browser parses the HTML and executes the JS code.","body":"Um, no. Please try to understand what these two execution contexts really mean. The Java context is on the server. Its purpose is create a HTML response out of a HTTP request. JSP is not more than a text templating machine. During execution there exists some Java objects like the DAO object and the output is the HTML text. The included JavaScript code here is only another kind of text, not more. After that all local objects are garbage collected and aren&#39;t further accessable. Then the web server sends the resulting HTML to the client. Then the browser parses the HTML and executes the JS code."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1658406682,"post_id":73058204,"comment_id":129046944,"body_markdown":"At this point in time the Java objects on the server side are long gone. And even they would exist, they are on the server side. Inside a totally separated process usually running on a different machine. There is no way the browser can access them. The browser doesn&#39;t know wether the HTML text was created by a Java process or a different language. For the browser the server is a black box. You can only define an API (like REST, SOAP or Websocket) over HTTP which the client (browser) can call.","body":"At this point in time the Java objects on the server side are long gone. And even they would exist, they are on the server side. Inside a totally separated process usually running on a different machine. There is no way the browser can access them. The browser doesn&#39;t know wether the HTML text was created by a Java process or a different language. For the browser the server is a black box. You can only define an API (like REST, SOAP or Websocket) over HTTP which the client (browser) can call."},{"owner":{"account_id":25788051,"reputation":1,"user_id":19532534,"display_name":"Giuseppe_Baro"},"score":0,"creation_date":1658409193,"post_id":73058204,"comment_id":129048125,"body_markdown":"Yes, now I have undertand. Thank you so much for your support.","body":"Yes, now I have undertand. Thank you so much for your support."}],"owner":{"account_id":25788051,"reputation":1,"user_id":19532534,"display_name":"Giuseppe_Baro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658351747,"creation_date":1658351709,"question_id":73058204,"body_markdown":"I have this object inside a body of my JSP pages. \r\n\r\n    &#39;&lt;%\r\n    \tString stato = (String) session.getAttribute(&quot;stato&quot;);\r\n    \tUtente u = (Utente) session.getAttribute(&quot;utente&quot;);\r\n    \tUtenteDAO uDAO = new UtenteDAO();\r\n    \tPagamentoDAO pDAO = new PagamentoDAO();\r\n    \tProdottoDAO prDAO = new ProdottoDAO();\r\n    \tOrdiniDAO oDAO = new OrdiniDAO();\r\n    \tDatiFisiciDAO dfDAO = new DatiFisiciDAO();\r\n    \tint numClienti = uDAO.ContaClienti();\r\n    \tVector&lt;Utente&gt; utenti = uDAO.getAllClienti();\r\n    \tVector&lt;Pagamento&gt; pagamenti = pDAO.getAll();\r\n    \tVector&lt;Prodotto&gt; magliette = prDAO.getMagliette();\r\n    \tVector&lt;Prodotto&gt; barrette = prDAO.getBarrette();\r\n    \tVector&lt;Prodotto&gt; integratori = prDAO.getIntegratori();\r\n    \tVector&lt;Ordini&gt; ordini = oDAO.getAll();\r\n    \tVector&lt;DatiFisici&gt; dati = dfDAO.getAll();\r\n    \t%&gt;&#39;\r\n\r\nI want to invoke the java vector called &quot;utenti&quot; in a Javascript function. Is it possible to realize that? ","title":"Invoke a java Vector from JSP to JavaScript function","body":"<p>I have this object inside a body of my JSP pages.</p>\n<pre><code>'&lt;%\n    String stato = (String) session.getAttribute(&quot;stato&quot;);\n    Utente u = (Utente) session.getAttribute(&quot;utente&quot;);\n    UtenteDAO uDAO = new UtenteDAO();\n    PagamentoDAO pDAO = new PagamentoDAO();\n    ProdottoDAO prDAO = new ProdottoDAO();\n    OrdiniDAO oDAO = new OrdiniDAO();\n    DatiFisiciDAO dfDAO = new DatiFisiciDAO();\n    int numClienti = uDAO.ContaClienti();\n    Vector&lt;Utente&gt; utenti = uDAO.getAllClienti();\n    Vector&lt;Pagamento&gt; pagamenti = pDAO.getAll();\n    Vector&lt;Prodotto&gt; magliette = prDAO.getMagliette();\n    Vector&lt;Prodotto&gt; barrette = prDAO.getBarrette();\n    Vector&lt;Prodotto&gt; integratori = prDAO.getIntegratori();\n    Vector&lt;Ordini&gt; ordini = oDAO.getAll();\n    Vector&lt;DatiFisici&gt; dati = dfDAO.getAll();\n    %&gt;'\n</code></pre>\n<p>I want to invoke the java vector called &quot;utenti&quot; in a Javascript function. Is it possible to realize that?</p>\n"},{"tags":["java","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1649318917,"creation_date":1258204907,"answer_id":1734214,"question_id":1734207,"body_markdown":"You can set it on the command line thus:\r\n\r\n    java -Djava.library.path=... &lt;existing arguments (classpath, name of class to run etc.)&gt;\r\n\r\nand point it to the *directory* containing the relevant library.","title":"how to set java library path for processing","body":"<p>You can set it on the command line thus:</p>\n<pre><code>java -Djava.library.path=... &lt;existing arguments (classpath, name of class to run etc.)&gt;\n</code></pre>\n<p>and point it to the <em>directory</em> containing the relevant library.</p>\n"},{"tags":[],"owner":{"account_id":623257,"reputation":121,"user_id":366312,"display_name":"David Vandergucht"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1318421462,"creation_date":1276518034,"answer_id":3037129,"question_id":1734207,"body_markdown":"In Eclipse, I did this to get OpenCV working:\r\n\r\n1. In the **Run** menu, select **Run Configuration**.\r\n2. Go to the **(x)=Arguments** tab of your sketch.\r\n3. Add this in the **VM arguments** field:\r\n\r\n        -Djava.library.path=&quot;/path/to/OpenCV/library&quot;\r\n\r\n","title":"how to set java library path for processing","body":"<p>In Eclipse, I did this to get OpenCV working:</p>\n\n<ol>\n<li>In the <strong>Run</strong> menu, select <strong>Run Configuration</strong>.</li>\n<li>Go to the <strong>(x)=Arguments</strong> tab of your sketch.</li>\n<li><p>Add this in the <strong>VM arguments</strong> field:</p>\n\n<pre><code>-Djava.library.path=\"/path/to/OpenCV/library\"\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2069811,"reputation":924,"user_id":1844537,"accept_rate":6,"display_name":"caopeng"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1658351661,"creation_date":1364046628,"answer_id":15587531,"question_id":1734207,"body_markdown":"Before `System.loadLibrary(&quot;&quot;)`, use the following code to check you `java.library.path`\r\n\r\n`System.out.println(System.getProperty(&quot;java.library.path&quot;));`\r\n\r\nGenerally, the `java.library.path`=`/usr/java/packages/lib/i386:/usr/lib/jni:/lib:/usr/lib`\r\n\r\nProvides several options for:\r\n\r\n* `$ sudo cp libxxx.so /usr/lib/jni`\r\n* `java -Djava.library.path=_path of so_  xxx`\r\n","title":"how to set java library path for processing","body":"<p>Before <code>System.loadLibrary(&quot;&quot;)</code>, use the following code to check you <code>java.library.path</code></p>\n<p><code>System.out.println(System.getProperty(&quot;java.library.path&quot;));</code></p>\n<p>Generally, the <code>java.library.path</code>=<code>/usr/java/packages/lib/i386:/usr/lib/jni:/lib:/usr/lib</code></p>\n<p>Provides several options for:</p>\n<ul>\n<li><code>$ sudo cp libxxx.so /usr/lib/jni</code></li>\n<li><code>java -Djava.library.path=_path of so_  xxx</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3657846,"reputation":71,"user_id":3048370,"display_name":"user3048370"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558525670,"creation_date":1388951145,"answer_id":20938287,"question_id":1734207,"body_markdown":"Your `library.path` is fine, what you need to do is to drop  prefix `lib` and suffix `.so` from your `System.loadLibrary( &quot;...&quot; )`. On Linux or &quot;linux-android&quot; those will be automatically added by JVM.","title":"how to set java library path for processing","body":"<p>Your <code>library.path</code> is fine, what you need to do is to drop  prefix <code>lib</code> and suffix <code>.so</code> from your <code>System.loadLibrary( \"...\" )</code>. On Linux or \"linux-android\" those will be automatically added by JVM.</p>\n"},{"tags":[],"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658351670,"creation_date":1611049328,"answer_id":65788887,"question_id":1734207,"body_markdown":"Conclusion of above all answers (short form) is as follows:\r\n\r\nLets say my lib folder path is `lib/`\r\n\r\nThen to add in the library path: run below command:\r\n\r\n    java -Djava.library.path=lib/ -jar  mySampleJar.jar\r\n\r\n","title":"how to set java library path for processing","body":"<p>Conclusion of above all answers (short form) is as follows:</p>\n<p>Lets say my lib folder path is <code>lib/</code></p>\n<p>Then to add in the library path: run below command:</p>\n<pre><code>java -Djava.library.path=lib/ -jar  mySampleJar.jar\n</code></pre>\n"}],"owner":{"account_id":52641,"reputation":41302,"user_id":157300,"accept_rate":86,"display_name":"Haiyuan Zhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146054,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":1734214,"answer_count":5,"score":26,"last_activity_date":1658351670,"creation_date":1258204724,"question_id":1734207,"body_markdown":"I&#39;m using PDE to run a Processing sketch, and I get the following error:\r\n\r\n&gt; **Verify that the `java.library.path` property is correctly set.**\r\n\r\nCould anyone of you tell me how to solve this problem?","title":"how to set java library path for processing","body":"<p>I'm using PDE to run a Processing sketch, and I get the following error:</p>\n\n<blockquote>\n  <p><strong>Verify that the <code>java.library.path</code> property is correctly set.</strong></p>\n</blockquote>\n\n<p>Could anyone of you tell me how to solve this problem?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658351621,"creation_date":1658351621,"answer_id":73058187,"question_id":73058186,"body_markdown":"I don&#39;t think I understand &quot;why&quot;, but I found something simple that works : instead of having the java toolchain in the `allprojects` block, I have it in `subprojects` :\r\n\r\n    subprojects {\r\n      java {\r\n        toolchain {\r\n          languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n      }\r\n    }\r\n\r\nAnd now both Jenkins and a local build produce the same lib which is JDK 11 compatible.\r\n\r\nHope this helps others, even if I am not able to understand why. Feel free to add a response that explains it. ","title":"when building a jar, where does Gradle pick the org.gradle.jvm.version from?","body":"<p>I don't think I understand &quot;why&quot;, but I found something simple that works : instead of having the java toolchain in the <code>allprojects</code> block, I have it in <code>subprojects</code> :</p>\n<pre><code>subprojects {\n  java {\n    toolchain {\n      languageVersion = JavaLanguageVersion.of(11)\n    }\n  }\n}\n</code></pre>\n<p>And now both Jenkins and a local build produce the same lib which is JDK 11 compatible.</p>\n<p>Hope this helps others, even if I am not able to understand why. Feel free to add a response that explains it.</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658351621,"creation_date":1658351621,"question_id":73058186,"body_markdown":"I just upgraded the JDK of an internal library to JDK 17, and I am a bit confused, because it seems I am getting something different between what I build on my machine, and what the CI pipeline builds, while both are supposed to use JDK 17.\r\n\r\nin the library, which is a multi-module (it actually builds 2 jars) I&#39;ve defined this in the top `gradle.build` file :\r\n\r\n    allprojects {\r\n      java {\r\n        toolchain {\r\n          languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n      }\r\n    } \r\n\r\nI am using `&#39;net.researchgate.release&#39; version &#39;3.0.0&#39;` plugin to release.\r\n\r\nWhen I build it locally, here&#39;s my Gradle config : \r\n\r\n    gradlew -v\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 7.4.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-03-31 15:25:29 UTC\r\n    Revision:     540473b8118064efcc264694cbcaa4b677f61041\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17.0.1 (Amazon.com Inc. 17.0.1+12-LTS)\r\n    OS:           Windows 10 10.0 amd64\r\n    \r\nSo I am using Java 17... \r\n\r\nthen I build my library locally with `gradlew clean build publishToMavenLocal` , it generates a jar, and a module file that contains this : \r\n\r\n\r\n       ...\r\n       &quot;createdBy&quot;: {\r\n        &quot;gradle&quot;: {\r\n          &quot;version&quot;: &quot;7.4.2&quot;\r\n        }\r\n      },\r\n      &quot;variants&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;apiElements&quot;,\r\n          &quot;attributes&quot;: {\r\n            &quot;org.gradle.category&quot;: &quot;library&quot;,\r\n            &quot;org.gradle.dependency.bundling&quot;: &quot;external&quot;,\r\n            &quot;org.gradle.jvm.version&quot;: 11,\r\n            &quot;org.gradle.libraryelements&quot;: &quot;jar&quot;,\r\n            &quot;org.gradle.usage&quot;: &quot;java-api&quot;\r\n        ....\r\n\r\nthe important part here is \r\n\r\n     &quot;org.gradle.jvm.version&quot;: 11\r\n\r\n\r\nNow, when I build the exact same code, but on Jenkins (which also uses JDK 17), using \r\n\r\n    gradlew clean build sonarqube \r\nfollowed by : \r\n\r\n    gradlew release --stacktrace -Prelease.useAutomaticVersion=true\r\n\r\n it publishes to Nexus a module file that is similar,  but I notice that it has \r\n\r\n    &quot;org.gradle.jvm.version&quot;: 17\r\n\r\nThe problem I have now is that my JDK 11 applications can&#39;t use the library built by Jenkins : I get :\r\n\r\n    Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 11\r\n\r\nBut it works if I use the version built locally, which has no difference apart from the version of the lib itself.\r\n\r\nWhen I change the java tool chain to `17` locally, then the module file says `17`, so it seems to really be that property that controls the value in the module file. \r\n\r\nany idea of what could explain this difference of behavior when I run it in Jenkins ? is there a gradle flag to set to get more details on how it&#39;s built ? \r\n","title":"when building a jar, where does Gradle pick the org.gradle.jvm.version from?","body":"<p>I just upgraded the JDK of an internal library to JDK 17, and I am a bit confused, because it seems I am getting something different between what I build on my machine, and what the CI pipeline builds, while both are supposed to use JDK 17.</p>\n<p>in the library, which is a multi-module (it actually builds 2 jars) I've defined this in the top <code>gradle.build</code> file :</p>\n<pre><code>allprojects {\n  java {\n    toolchain {\n      languageVersion = JavaLanguageVersion.of(11)\n    }\n  }\n} \n</code></pre>\n<p>I am using <code>'net.researchgate.release' version '3.0.0'</code> plugin to release.</p>\n<p>When I build it locally, here's my Gradle config :</p>\n<pre><code>gradlew -v\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.1 (Amazon.com Inc. 17.0.1+12-LTS)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>So I am using Java 17...</p>\n<p>then I build my library locally with <code>gradlew clean build publishToMavenLocal</code> , it generates a jar, and a module file that contains this :</p>\n<pre><code>   ...\n   &quot;createdBy&quot;: {\n    &quot;gradle&quot;: {\n      &quot;version&quot;: &quot;7.4.2&quot;\n    }\n  },\n  &quot;variants&quot;: [\n    {\n      &quot;name&quot;: &quot;apiElements&quot;,\n      &quot;attributes&quot;: {\n        &quot;org.gradle.category&quot;: &quot;library&quot;,\n        &quot;org.gradle.dependency.bundling&quot;: &quot;external&quot;,\n        &quot;org.gradle.jvm.version&quot;: 11,\n        &quot;org.gradle.libraryelements&quot;: &quot;jar&quot;,\n        &quot;org.gradle.usage&quot;: &quot;java-api&quot;\n    ....\n</code></pre>\n<p>the important part here is</p>\n<pre><code> &quot;org.gradle.jvm.version&quot;: 11\n</code></pre>\n<p>Now, when I build the exact same code, but on Jenkins (which also uses JDK 17), using</p>\n<pre><code>gradlew clean build sonarqube \n</code></pre>\n<p>followed by :</p>\n<pre><code>gradlew release --stacktrace -Prelease.useAutomaticVersion=true\n</code></pre>\n<p>it publishes to Nexus a module file that is similar,  but I notice that it has</p>\n<pre><code>&quot;org.gradle.jvm.version&quot;: 17\n</code></pre>\n<p>The problem I have now is that my JDK 11 applications can't use the library built by Jenkins : I get :</p>\n<pre><code>Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 11\n</code></pre>\n<p>But it works if I use the version built locally, which has no difference apart from the version of the lib itself.</p>\n<p>When I change the java tool chain to <code>17</code> locally, then the module file says <code>17</code>, so it seems to really be that property that controls the value in the module file.</p>\n<p>any idea of what could explain this difference of behavior when I run it in Jenkins ? is there a gradle flag to set to get more details on how it's built ?</p>\n"},{"tags":["java","jdbc","driver"],"comments":[{"owner":{"account_id":2344564,"reputation":3399,"user_id":2055152,"accept_rate":67,"display_name":"0x5C91"},"score":0,"creation_date":1422032082,"post_id":28114725,"comment_id":44603695,"body_markdown":"Good topic, but it is unclear what you&#39;re asking.","body":"Good topic, but it is unclear what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1422032633,"creation_date":1422032633,"answer_id":28114998,"question_id":28114725,"body_markdown":"Yes, I&#39;ve written custom drivers.\r\n\r\nYou have the right idea, but implement the `interfaces` in the [`java.sql`](http://docs.oracle.com/javase/7/docs/api/java/sql/package-summary.html) package. Study the API documentation to learn the purpose for each method so you can implement it in a meaningful way.\r\n\r\nThrow [`UnsupportedOperationException`](http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html) from any methods your simple driver doesn&#39;t support.","title":"Writing a custom jdbc driver in java a very basic one","body":"<p>Yes, I've written custom drivers.</p>\n\n<p>You have the right idea, but implement the <code>interfaces</code> in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/package-summary.html\" rel=\"noreferrer\"><code>java.sql</code></a> package. Study the API documentation to learn the purpose for each method so you can implement it in a meaningful way.</p>\n\n<p>Throw <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a> from any methods your simple driver doesn't support.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531383045,"creation_date":1531383045,"answer_id":51300437,"question_id":28114725,"body_markdown":"For a good walk-through, please see [this Java World tutorial][1].\r\n\r\nBasically you need to create 4 classes:\r\n\r\n - Driver\r\n - Connection\r\n - Statement\r\n - ResultSet\r\n\r\nBut as you will see in that tutorial, it&#39;s not that simple.\r\n\r\n  [1]: https://www.javaworld.com/article/2074249/data-storage/create-your-own-type-3-jdbc-driver--part-1.html","title":"Writing a custom jdbc driver in java a very basic one","body":"<p>For a good walk-through, please see <a href=\"https://www.javaworld.com/article/2074249/data-storage/create-your-own-type-3-jdbc-driver--part-1.html\" rel=\"noreferrer\">this Java World tutorial</a>.</p>\n\n<p>Basically you need to create 4 classes:</p>\n\n<ul>\n<li>Driver</li>\n<li>Connection</li>\n<li>Statement</li>\n<li>ResultSet</li>\n</ul>\n\n<p>But as you will see in that tutorial, it's not that simple.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1658351267,"creation_date":1592147228,"answer_id":62374320,"question_id":28114725,"body_markdown":"I was in a similar situation. It would be nice to see a minimalistic example, but I didn&#39;t find such a sample at the time.\r\n\r\nMy experience is, that, thinking of any API, it&#39;s extremely useful to study existing &quot;reference-like&quot; implementations. In the case of JDBC, [H2][1] is a good example to study.\r\n\r\nThe main interface to implement is `java.sql.Driver`. That&#39;s how H2 implements it:\r\n\r\n[https://github.com/h2database/h2database/ . . . /Driver.java][2]\r\n\r\nAnd in this package are the other classes:\r\n\r\n[https://github.com/h2database/h2database/ . . . /jdbc][3]\r\n\r\nH2 is a mature and complex piece of software, but the code is still readable and studyable.\r\n\r\nIf you are curious, here is a much simpler implementation from the [miniconnect][4] project (maintained by me):\r\n\r\n[https://github.com/miniconnect/miniconnect/ . . . /jdbc][5]\r\n\r\n\r\n  [1]: http://h2database.com/html/main.html\r\n  [2]: https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/Driver.java\r\n  [3]: https://github.com/h2database/h2database/tree/master/h2/src/main/org/h2/jdbc\r\n  [4]: https://github.com/miniconnect\r\n  [5]: https://github.com/miniconnect/miniconnect/tree/master/projects/jdbc/src/main/java/hu/webarticum/miniconnect/jdbc\r\n","title":"Writing a custom jdbc driver in java a very basic one","body":"<p>I was in a similar situation. It would be nice to see a minimalistic example, but I didn't find such a sample at the time.</p>\n<p>My experience is, that, thinking of any API, it's extremely useful to study existing &quot;reference-like&quot; implementations. In the case of JDBC, <a href=\"http://h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> is a good example to study.</p>\n<p>The main interface to implement is <code>java.sql.Driver</code>. That's how H2 implements it:</p>\n<p><a href=\"https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/Driver.java\" rel=\"nofollow noreferrer\">https://github.com/h2database/h2database/ . . . /Driver.java</a></p>\n<p>And in this package are the other classes:</p>\n<p><a href=\"https://github.com/h2database/h2database/tree/master/h2/src/main/org/h2/jdbc\" rel=\"nofollow noreferrer\">https://github.com/h2database/h2database/ . . . /jdbc</a></p>\n<p>H2 is a mature and complex piece of software, but the code is still readable and studyable.</p>\n<p>If you are curious, here is a much simpler implementation from the <a href=\"https://github.com/miniconnect\" rel=\"nofollow noreferrer\">miniconnect</a> project (maintained by me):</p>\n<p><a href=\"https://github.com/miniconnect/miniconnect/tree/master/projects/jdbc/src/main/java/hu/webarticum/miniconnect/jdbc\" rel=\"nofollow noreferrer\">https://github.com/miniconnect/miniconnect/ . . . /jdbc</a></p>\n"},{"tags":[],"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1618116610,"creation_date":1618074086,"answer_id":67037042,"question_id":28114725,"body_markdown":"I wrote a &quot;csv-jdbc-driver&quot; just for fun. It is far from production quality code, my goal was only to demonstrate (for myself) how to write a jdbc driver.\r\n\r\nHere are my experiences:\r\n * As others wrote, it is enough for implementing 4 interfaces from java.sql: Driver, Statement, Connection, ResultSet.\r\n * To know, which method should be implemented with &quot;real code&quot;, I have to know, how I want to use the csv driver. This is my example code:\r\n\r\n            try (\r\n        Connection conn = DriverManager.getConnection(&quot;jdbc:csv:/home/peter/csvdir&quot;);\r\n        Statement stmt = conn.createStatement();\r\n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM test.csv&quot;)\r\n        ){\r\n            while (rs.next()) System.out.println(rs.getString(1) + &quot; - &quot; + rs.getString(2));\r\n        }\r\n\r\nI give a jdbc url to DriverManager.getConnection. In the url I have to specify a directory, where different csv files are. The DriverManager getConnection method calls Driver.connect(url, info). This connect method should check the jdbc url and decides if it can deal with the url or not. If yes, it returns with a Connection object, if not, returns with null.\r\n\r\nIn the stms.executeQuery I have to give an SQL select, where the &quot;table name&quot; is the name of the csv file.\r\nI do not want to implement an sql parser, so this jdbc driver takes into account only the table name.\r\n\r\nI also have to use the ResultSet.next() and ResultSet.getString(int) methodes as a bare minimum.\r\n\r\nSo what I have to implement:\r\n * Driver.connect(String, Properties). Because this method returns with a Connection class\r\n * Connection constructor\r\n * Connection.createStatement method. Because this returns with a Statement class\r\n * Statement constructor\r\n * Statement.executeQuery. Because this returns with a ResultSet class\r\n * ResultSet constructor\r\n * ResultSet.getString(int)\r\n * ResultSet.next()\r\n\r\nI also created a service provider file in src/main/resources/MET-INF/services/java.sql.Driver with the contents of org.example.CsvDriver (my Driver implementation class name)\r\n\r\nI thought, that these would be enough, but not. My driver loaded, but the DriverManager did not find it.\r\n\r\nI also had to call DriverManager.registerDriver(INSTANCE) from my Driver implementation&#39;s static initializer, where INSTANCE is an object from my Driver implementation. It seems to me superfluous (because I wrote a java service for avoiding this).\r\n\r\nHere are the sources:\r\n\r\n* https://github.com/peterborkuti/csv-jdbc-driver\r\n* https://github.com/peterborkuti/csv-jdbc-driver-example\r\n","title":"Writing a custom jdbc driver in java a very basic one","body":"<p>I wrote a &quot;csv-jdbc-driver&quot; just for fun. It is far from production quality code, my goal was only to demonstrate (for myself) how to write a jdbc driver.</p>\n<p>Here are my experiences:</p>\n<ul>\n<li><p>As others wrote, it is enough for implementing 4 interfaces from java.sql: Driver, Statement, Connection, ResultSet.</p>\n</li>\n<li><p>To know, which method should be implemented with &quot;real code&quot;, I have to know, how I want to use the csv driver. This is my example code:</p>\n<pre><code>     try (\n Connection conn = DriverManager.getConnection(&quot;jdbc:csv:/home/peter/csvdir&quot;);\n Statement stmt = conn.createStatement();\n ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM test.csv&quot;)\n ){\n     while (rs.next()) System.out.println(rs.getString(1) + &quot; - &quot; + rs.getString(2));\n }\n</code></pre>\n</li>\n</ul>\n<p>I give a jdbc url to DriverManager.getConnection. In the url I have to specify a directory, where different csv files are. The DriverManager getConnection method calls Driver.connect(url, info). This connect method should check the jdbc url and decides if it can deal with the url or not. If yes, it returns with a Connection object, if not, returns with null.</p>\n<p>In the stms.executeQuery I have to give an SQL select, where the &quot;table name&quot; is the name of the csv file.\nI do not want to implement an sql parser, so this jdbc driver takes into account only the table name.</p>\n<p>I also have to use the ResultSet.next() and ResultSet.getString(int) methodes as a bare minimum.</p>\n<p>So what I have to implement:</p>\n<ul>\n<li>Driver.connect(String, Properties). Because this method returns with a Connection class</li>\n<li>Connection constructor</li>\n<li>Connection.createStatement method. Because this returns with a Statement class</li>\n<li>Statement constructor</li>\n<li>Statement.executeQuery. Because this returns with a ResultSet class</li>\n<li>ResultSet constructor</li>\n<li>ResultSet.getString(int)</li>\n<li>ResultSet.next()</li>\n</ul>\n<p>I also created a service provider file in src/main/resources/MET-INF/services/java.sql.Driver with the contents of org.example.CsvDriver (my Driver implementation class name)</p>\n<p>I thought, that these would be enough, but not. My driver loaded, but the DriverManager did not find it.</p>\n<p>I also had to call DriverManager.registerDriver(INSTANCE) from my Driver implementation's static initializer, where INSTANCE is an object from my Driver implementation. It seems to me superfluous (because I wrote a java service for avoiding this).</p>\n<p>Here are the sources:</p>\n<ul>\n<li><a href=\"https://github.com/peterborkuti/csv-jdbc-driver\" rel=\"noreferrer\">https://github.com/peterborkuti/csv-jdbc-driver</a></li>\n<li><a href=\"https://github.com/peterborkuti/csv-jdbc-driver-example\" rel=\"noreferrer\">https://github.com/peterborkuti/csv-jdbc-driver-example</a></li>\n</ul>\n"}],"owner":{"account_id":5226066,"reputation":506,"user_id":4178081,"accept_rate":14,"display_name":"RockSolid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15569,"favorite_count":0,"down_vote_count":5,"up_vote_count":23,"answer_count":4,"score":18,"last_activity_date":1658351267,"creation_date":1422031762,"question_id":28114725,"body_markdown":"I have web service which I need to expose through JDBC due some BI tools software restrictions. &lt;br&gt;\r\nVery limited support required few defined select queries.&lt;br&gt;\r\nWhat I understand that I need to implement all the classes under the interface java.sql to achieve that. Has anyone done similar things?&lt;br&gt; Do we have some custom implementations where we need to implement the bare minimum code.","title":"Writing a custom jdbc driver in java a very basic one","body":"<p>I have web service which I need to expose through JDBC due some BI tools software restrictions. <br>\nVery limited support required few defined select queries.<br>\nWhat I understand that I need to implement all the classes under the interface java.sql to achieve that. Has anyone done similar things?<br> Do we have some custom implementations where we need to implement the bare minimum code.</p>\n"},{"tags":["java","jdbc","constants"],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658351179,"creation_date":1658351179,"question_id":73058126,"body_markdown":"I was doing some work[*] with Java&#39;s `java.sql.Types` class recently and took a look at the values for the constants defined in there. I was surprised to see that some of them were negative. (They are all `int` constants.)\r\n\r\nI&#39;ll admit that there is no particular reason to always choose `int` constant values that are positive or follow some specific pattern. You could of course make them any unique value across the whole space of `[Integer.MIN_VALUE, Integer.MAX_VALUE]` and it wouldn&#39;t really make any difference to any client code, as long as the constant values remained ... constant.\r\n\r\nBut usually, one sees constants that follow one of two patterns:\r\n\r\n1. [0,] 1, 2, 3, 4, 5, ...\r\n1. [0x0,] 0x1, 0x2, 0x4, 0x8, ...\r\n\r\nThe one with the hex values is usually done for &quot;flags&quot; which is another name for a bitmask for packing lots of distinct values into a single `int` value.\r\n\r\nSince it never makes any sense to have `java.sql.Types` constants stacking-up on each other like in a bitmask, I was expecting to see &quot;simple&quot; constant values.\r\n\r\nBut some of them are negative, and I see no rhyme or reason to which ones are positive/negative, even/odd, etc.\r\n\r\nHere&#39;s the list of constants and their `int` values:\r\n\r\n    BIT             =  -7;\r\n    TINYINT         =  -6;\r\n    SMALLINT        =   5;\r\n    INTEGER         =   4;\r\n    BIGINT          =  -5;\r\n    FLOAT           =   6;\r\n    REAL            =   7;\r\n    DOUBLE          =   8;\r\n    NUMERIC         =   2;\r\n    DECIMAL         =   3;\r\n    CHAR            =   1;\r\n    VARCHAR         =  12;\r\n    LONGVARCHAR     =  -1;\r\n    DATE            =  91;\r\n    TIME            =  92;\r\n    TIMESTAMP       =  93;\r\n    BINARY          =  -2;\r\n    VARBINARY       =  -3;\r\n    LONGVARBINARY   =  -4;\r\n    NULL            =   0;\r\n    OTHER           = 1111;\r\n    JAVA_OBJECT     = 2000;\r\n    DISTINCT        = 2001;\r\n    STRUCT          = 2002;\r\n    ARRAY           = 2003;\r\n    BLOB            = 2004;\r\n    CLOB            = 2005;\r\n    REF             = 2006;\r\n    DATALINK        = 70;\r\n    BOOLEAN         = 16;\r\n    ROWID           = -8;\r\n    NCHAR           = -15;\r\n    NVARCHAR        = -9;\r\n    LONGNVARCHAR    = -16;\r\n    NCLOB           = 2011;\r\n    SQLXML          = 2009;\r\n    REF_CURSOR      = 2012;\r\n    TIME_WITH_TIMEZONE = 2013;\r\n    TIMESTAMP_WITH_TIMEZONE = 2014;\r\n\r\nSorting by order-in-file, alphabetically, etc. doesn&#39;t seem to reveal any pattern.\r\n\r\nI&#39;d be happy to entertain *theories* as to why these particular values were chosen, but it would be great if anyone had a pointer to any official justification of the values chosen for these constants.\r\n\r\n[*] I was actually looking for all the `CHAR`-y codes, and was hoping that they were conveniently located within some predictable range for easy evaluation. Nope: you gotta use a bunch of individual `==` checks, or a `switch` with a bunch of different `case` statements. Oh, well.","title":"Is there any published reason why some constant values in java.sql.Types have negative values?","body":"<p>I was doing some work[*] with Java's <code>java.sql.Types</code> class recently and took a look at the values for the constants defined in there. I was surprised to see that some of them were negative. (They are all <code>int</code> constants.)</p>\n<p>I'll admit that there is no particular reason to always choose <code>int</code> constant values that are positive or follow some specific pattern. You could of course make them any unique value across the whole space of <code>[Integer.MIN_VALUE, Integer.MAX_VALUE]</code> and it wouldn't really make any difference to any client code, as long as the constant values remained ... constant.</p>\n<p>But usually, one sees constants that follow one of two patterns:</p>\n<ol>\n<li>[0,] 1, 2, 3, 4, 5, ...</li>\n<li>[0x0,] 0x1, 0x2, 0x4, 0x8, ...</li>\n</ol>\n<p>The one with the hex values is usually done for &quot;flags&quot; which is another name for a bitmask for packing lots of distinct values into a single <code>int</code> value.</p>\n<p>Since it never makes any sense to have <code>java.sql.Types</code> constants stacking-up on each other like in a bitmask, I was expecting to see &quot;simple&quot; constant values.</p>\n<p>But some of them are negative, and I see no rhyme or reason to which ones are positive/negative, even/odd, etc.</p>\n<p>Here's the list of constants and their <code>int</code> values:</p>\n<pre><code>BIT             =  -7;\nTINYINT         =  -6;\nSMALLINT        =   5;\nINTEGER         =   4;\nBIGINT          =  -5;\nFLOAT           =   6;\nREAL            =   7;\nDOUBLE          =   8;\nNUMERIC         =   2;\nDECIMAL         =   3;\nCHAR            =   1;\nVARCHAR         =  12;\nLONGVARCHAR     =  -1;\nDATE            =  91;\nTIME            =  92;\nTIMESTAMP       =  93;\nBINARY          =  -2;\nVARBINARY       =  -3;\nLONGVARBINARY   =  -4;\nNULL            =   0;\nOTHER           = 1111;\nJAVA_OBJECT     = 2000;\nDISTINCT        = 2001;\nSTRUCT          = 2002;\nARRAY           = 2003;\nBLOB            = 2004;\nCLOB            = 2005;\nREF             = 2006;\nDATALINK        = 70;\nBOOLEAN         = 16;\nROWID           = -8;\nNCHAR           = -15;\nNVARCHAR        = -9;\nLONGNVARCHAR    = -16;\nNCLOB           = 2011;\nSQLXML          = 2009;\nREF_CURSOR      = 2012;\nTIME_WITH_TIMEZONE = 2013;\nTIMESTAMP_WITH_TIMEZONE = 2014;\n</code></pre>\n<p>Sorting by order-in-file, alphabetically, etc. doesn't seem to reveal any pattern.</p>\n<p>I'd be happy to entertain <em>theories</em> as to why these particular values were chosen, but it would be great if anyone had a pointer to any official justification of the values chosen for these constants.</p>\n<p>[*] I was actually looking for all the <code>CHAR</code>-y codes, and was hoping that they were conveniently located within some predictable range for easy evaluation. Nope: you gotta use a bunch of individual <code>==</code> checks, or a <code>switch</code> with a bunch of different <code>case</code> statements. Oh, well.</p>\n"},{"tags":["java","proxy","twilio"],"answers":[{"tags":[],"owner":{"account_id":1381048,"reputation":3561,"user_id":1314028,"accept_rate":75,"display_name":"spinlok"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396084655,"creation_date":1396084655,"answer_id":22729198,"question_id":22230722,"body_markdown":"You can use the `.getHttpClient()` method of `TwilioRestClient` and set your proxy parameters like this:\r\n    \r\n    final TwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\r\n    client.getHttpClient().getHostConfiguration().setProxy(PROXY_HOST, PROXY_PORT);","title":"How to make twilio work with a proxy in java","body":"<p>You can use the <code>.getHttpClient()</code> method of <code>TwilioRestClient</code> and set your proxy parameters like this:</p>\n\n<pre><code>final TwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\nclient.getHttpClient().getHostConfiguration().setProxy(PROXY_HOST, PROXY_PORT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333454,"reputation":660,"user_id":659341,"accept_rate":40,"display_name":"Reynaldo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405356218,"creation_date":1405356218,"answer_id":24741550,"question_id":22230722,"body_markdown":"I know this is late for you, but I&#39;ve been working around it because setting connection parameters directly to Apache&#39;s HttpClient is now deprecated. It is all done through builders and factories now. This is how I&#39;ve done it with Apache httpcomponents 4.3.4:\r\n\r\n    HttpHost proxy = new HttpHost(PROXY_HOST, PROXY_PORT, &quot;http&quot;);\r\n    DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\r\n    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    credentialsProvider.setCredentials(\r\n        new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT),\r\n        new UsernamePasswordCredentials(ACCOUNT_SID, ACCOUNT_TOKEN)\r\n        );    \r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n        .setRoutePlanner(routePlanner)\r\n        .setDefaultCredentialsProvider(credentialsProvider)\r\n        .build();\r\n    TwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\r\n    client.setHttpclient(httpClient);\r\n\r\n    //do your regular stuff with this client\r\n\r\nHope it helps.","title":"How to make twilio work with a proxy in java","body":"<p>I know this is late for you, but I've been working around it because setting connection parameters directly to Apache's HttpClient is now deprecated. It is all done through builders and factories now. This is how I've done it with Apache httpcomponents 4.3.4:</p>\n\n<pre><code>HttpHost proxy = new HttpHost(PROXY_HOST, PROXY_PORT, \"http\");\nDefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\nCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\ncredentialsProvider.setCredentials(\n    new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT),\n    new UsernamePasswordCredentials(ACCOUNT_SID, ACCOUNT_TOKEN)\n    );    \nCloseableHttpClient httpClient = HttpClients.custom()\n    .setRoutePlanner(routePlanner)\n    .setDefaultCredentialsProvider(credentialsProvider)\n    .build();\nTwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\nclient.setHttpclient(httpClient);\n\n//do your regular stuff with this client\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":10961298,"reputation":21,"user_id":8054528,"display_name":"Sridhar Tirumala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495557490,"creation_date":1495554277,"answer_id":44139462,"question_id":22230722,"body_markdown":"If you are using above 7.0.0 or latest jar Twilio has provided its own HttpClient, follow these steps,\r\n    \r\n1) You need to create your customHttpProxy class that extends com.twilio.http.HttpClient\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.http.Header;\r\n    import org.apache.http.HttpHeaders;\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpVersion;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.methods.RequestBuilder;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.conn.DefaultProxyRoutePlanner;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    import org.apache.http.message.BasicHeader;\r\n    \r\n    import com.google.common.collect.Lists;\r\n    import com.twilio.Twilio;\r\n    import com.twilio.exception.ApiException;\r\n    import com.twilio.http.HttpClient;\r\n    import com.twilio.http.HttpMethod;\r\n    import com.twilio.http.Request;\r\n    import com.twilio.http.Response;\r\n    \r\n    import XXXX.XXX.twilio.util.TwilioUtil;\r\n    \r\n    public class CustomNetworkClient extends HttpClient {\r\n    \r\n        private static final int CONNECTION_TIMEOUT = 5000;\r\n        private static final int SOCKET_TIMEOUT = 5000;\r\n        private static final int CONNECTIONS_PER_ROUTE = 10;\r\n    \r\n        private org.apache.http.client.HttpClient client;\r\n        \r\n        private String twilioRequestId;\r\n        \r\n        private Float twilioResponseDuration;\r\n    \r\n        \r\n        /**\r\n         * Create a new HTTP Client.\r\n         * @throws Exception \r\n         */\r\n        public CustomNetworkClient() throws Exception {\r\n        \tthis.invokeHttpProxy();\r\n        }\r\n    \r\n        /**\r\n         * Make a request.\r\n         *\r\n         * @param request request to make\r\n         * @return Response of the HTTP request\r\n         */\r\n        public Response makeRequest(final Request request) {\r\n        \ttwilioResponseDuration = null;\r\n        \ttwilioRequestId = null;\r\n        \t\r\n            RequestBuilder builder = RequestBuilder.create(request.getMethod().toString())\r\n                .setUri(request.constructURL().toString())\r\n                .setVersion(HttpVersion.HTTP_1_1)\r\n                .setCharset(StandardCharsets.UTF_8);\r\n    \r\n            if (request.requiresAuthentication()) {\r\n                builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\r\n            }\r\n    \r\n            HttpMethod method = request.getMethod();\r\n            if (method == HttpMethod.POST) {\r\n                builder.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : request.getPostParams().entrySet()) {\r\n                    for (String value : entry.getValue()) {\r\n                        builder.addParameter(entry.getKey(), value);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            try {\r\n                HttpResponse response = client.execute(builder.build());\r\n                \r\n                if (response.containsHeader(&quot;Twilio-Request-Id&quot;))\r\n                \ttwilioRequestId = response.getFirstHeader(&quot;Twilio-Request-Id&quot;).getValue();\r\n                \r\n                if (response.containsHeader(&quot;Twilio-Request-Duration&quot;))\r\n                \ttwilioResponseDuration = new Float(response.getFirstHeader(&quot;Twilio-Request-Duration&quot;).getValue());\r\n                \r\n                return new Response(\r\n                    response.getEntity() == null ? null : response.getEntity().getContent(),\r\n                    response.getStatusLine().getStatusCode()\r\n                );            \r\n            } catch (IOException e) {\r\n                throw new ApiException(e.getMessage());\r\n            }\r\n        }\r\n    \r\n    \tpublic String getTwilioRequestId() {\r\n    \t\treturn twilioRequestId;\r\n    \t}\r\n    \t\r\n    \tpublic Float getTwilioResponseDuration() {\r\n    \t\treturn twilioResponseDuration;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic  void invokeHttpProxy()throws Exception {\r\n    \t\tHttpHost proxy = new HttpHost(&quot;YOUR_PROXY_HOST&quot;, YOUR_PROXY_PORT, &quot;http&quot;);\r\n        \tDefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\r\n            \r\n            //Set up Twilio user credentials\r\n        \tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        \tcredsProvider.setCredentials(\r\n        \t            new AuthScope(&quot;api.twilio.com&quot;, 443), \r\n        \t            new UsernamePasswordCredentials(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN));\r\n        \r\n            RequestConfig config = RequestConfig.custom()\r\n                .setConnectTimeout(CONNECTION_TIMEOUT)\r\n                .setSocketTimeout(SOCKET_TIMEOUT)\r\n                .build();\r\n            \r\n    \t        Collection&lt;Header&gt; headers = Lists.&lt;Header&gt;newArrayList(\r\n    \t            new BasicHeader(&quot;X-Twilio-Client&quot;, &quot;java-&quot; + Twilio.VERSION),\r\n    \t            new BasicHeader(HttpHeaders.USER_AGENT, &quot;twilio-java/&quot; + Twilio.VERSION + &quot; (&quot; + Twilio.JAVA_VERSION + &quot;)&quot;),\r\n    \t            new BasicHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;),\r\n    \t            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, &quot;utf-8&quot;)\r\n    \t        );\r\n            \r\n            \r\n            client = HttpClientBuilder.create().setRoutePlanner(routePlanner)\r\n            \t\t .setDefaultCredentialsProvider(credsProvider) \r\n                .setConnectionManager(new PoolingHttpClientConnectionManager())\r\n                .setDefaultRequestConfig(config)\r\n               .setDefaultHeaders(headers)\r\n                .setMaxConnPerRoute(CONNECTIONS_PER_ROUTE)\r\n                .build();\r\n        }\r\n    }\r\n    \r\n2) Inject the custom class into Twilio and TwilioRestClient respectively.\r\n    \r\n     CustomNetworkClient newHttpClient = new CustomNetworkClient();\r\n     Twilio.init(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN);\r\n     TwilioRestClient client = new TwilioRestClient.Builder(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN).httpClient(newHttpClient)\r\n    \t\t    \t.build();`enter code here`\r\n    \t\t\t \tTwilio.setRestClient(client);\r\n    \r\nHope this is helpful to your guys.","title":"How to make twilio work with a proxy in java","body":"<p>If you are using above 7.0.0 or latest jar Twilio has provided its own HttpClient, follow these steps,</p>\n\n<p>1) You need to create your customHttpProxy class that extends com.twilio.http.HttpClient</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.http.Header;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpHost;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.DefaultProxyRoutePlanner;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport com.twilio.http.HttpClient;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\n\nimport XXXX.XXX.twilio.util.TwilioUtil;\n\npublic class CustomNetworkClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 5000;\n    private static final int SOCKET_TIMEOUT = 5000;\n    private static final int CONNECTIONS_PER_ROUTE = 10;\n\n    private org.apache.http.client.HttpClient client;\n\n    private String twilioRequestId;\n\n    private Float twilioResponseDuration;\n\n\n    /**\n     * Create a new HTTP Client.\n     * @throws Exception \n     */\n    public CustomNetworkClient() throws Exception {\n        this.invokeHttpProxy();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n        twilioResponseDuration = null;\n        twilioRequestId = null;\n\n        RequestBuilder builder = RequestBuilder.create(request.getMethod().toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        HttpMethod method = request.getMethod();\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        try {\n            HttpResponse response = client.execute(builder.build());\n\n            if (response.containsHeader(\"Twilio-Request-Id\"))\n                twilioRequestId = response.getFirstHeader(\"Twilio-Request-Id\").getValue();\n\n            if (response.containsHeader(\"Twilio-Request-Duration\"))\n                twilioResponseDuration = new Float(response.getFirstHeader(\"Twilio-Request-Duration\").getValue());\n\n            return new Response(\n                response.getEntity() == null ? null : response.getEntity().getContent(),\n                response.getStatusLine().getStatusCode()\n            );            \n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        }\n    }\n\n    public String getTwilioRequestId() {\n        return twilioRequestId;\n    }\n\n    public Float getTwilioResponseDuration() {\n        return twilioResponseDuration;\n    }\n\n\n    public  void invokeHttpProxy()throws Exception {\n        HttpHost proxy = new HttpHost(\"YOUR_PROXY_HOST\", YOUR_PROXY_PORT, \"http\");\n        DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\n\n        //Set up Twilio user credentials\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        credsProvider.setCredentials(\n                    new AuthScope(\"api.twilio.com\", 443), \n                    new UsernamePasswordCredentials(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN));\n\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n\n            Collection&lt;Header&gt; headers = Lists.&lt;Header&gt;newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n            );\n\n\n        client = HttpClientBuilder.create().setRoutePlanner(routePlanner)\n                 .setDefaultCredentialsProvider(credsProvider) \n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n           .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(CONNECTIONS_PER_ROUTE)\n            .build();\n    }\n}\n</code></pre>\n\n<p>2) Inject the custom class into Twilio and TwilioRestClient respectively.</p>\n\n<pre><code> CustomNetworkClient newHttpClient = new CustomNetworkClient();\n Twilio.init(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN);\n TwilioRestClient client = new TwilioRestClient.Builder(TwilioUtil.ACCOUNT_SID, TwilioUtil.AUTH_TOKEN).httpClient(newHttpClient)\n                .build();`enter code here`\n                Twilio.setRestClient(client);\n</code></pre>\n\n<p>Hope this is helpful to your guys.</p>\n"},{"tags":[],"owner":{"account_id":95402,"reputation":1767,"user_id":259855,"display_name":"Tom Shen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518166341,"creation_date":1518166341,"answer_id":48701986,"question_id":22230722,"body_markdown":"Thanks a lot for the preceding. I write a much elegant class than ustomNetworkClient\r\n\r\n    import com.twilio.http.NetworkHttpClient;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    \r\n    public class ProxyAuthenticateHttpClient extends NetworkHttpClient {\r\n    \r\n        private ProxyAuthenticateHttpClient(HttpClientBuilder clientBuilder) {\r\n            super(clientBuilder);\r\n        }\r\n    \r\n        @RequiredArgsConstructor\r\n        public static class Builder {\r\n            public ProxyAuthenticateHttpClient build() {\r\n                HttpClientBuilder clientBuilder = HttpClientBuilder.create();\r\n                clientBuilder.useSystemProperties();\r\n    \r\n                RequestConfig config = RequestConfig.custom()\r\n                    .setConnectTimeout(CONNECTION_TIMEOUT)\r\n                    .setSocketTimeout(SOCKET_TIMEOUT)\r\n                    .build();\r\n    \r\n                CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n                credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort),\r\n                    new UsernamePasswordCredentials(proxyUser, proxyPassword));\r\n    \r\n                PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n                connectionManager.setDefaultMaxPerRoute(10);\r\n                connectionManager.setMaxTotal(10*2);\r\n    \r\n                clientBuilder\r\n                    .setConnectionManager(connectionManager)\r\n                    .setDefaultCredentialsProvider(credsProvider)\r\n                    .setDefaultRequestConfig(config);\r\n    \r\n                return new ProxyAuthenticateHttpClient(clientBuilder);\r\n            }\r\n    \r\n            private final String proxyHost;\r\n            private final int proxyPort;\r\n            private final String proxyUser;\r\n            private final String proxyPassword;\r\n    \r\n            private static final int CONNECTION_TIMEOUT = 10000;\r\n            private static final int SOCKET_TIMEOUT = 30500;\r\n        }\r\n    }\r\n\r\nThen use the following code to init Twilio and everything is OK\r\n\r\n    Twilio.init(username, password);\r\n    TwilioRestClient.Builder builder = new TwilioRestClient.Builder(username, password);\r\n    builder.httpClient(new ProxyAuthenticateHttpClient.Builder(proxyUser, proxyPort, proxyUser, proxyPassword).build());\r\n    Twilio.setRestClient(builder.build());","title":"How to make twilio work with a proxy in java","body":"<p>Thanks a lot for the preceding. I write a much elegant class than ustomNetworkClient</p>\n\n<pre><code>import com.twilio.http.NetworkHttpClient;\nimport lombok.RequiredArgsConstructor;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\n\npublic class ProxyAuthenticateHttpClient extends NetworkHttpClient {\n\n    private ProxyAuthenticateHttpClient(HttpClientBuilder clientBuilder) {\n        super(clientBuilder);\n    }\n\n    @RequiredArgsConstructor\n    public static class Builder {\n        public ProxyAuthenticateHttpClient build() {\n            HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n            clientBuilder.useSystemProperties();\n\n            RequestConfig config = RequestConfig.custom()\n                .setConnectTimeout(CONNECTION_TIMEOUT)\n                .setSocketTimeout(SOCKET_TIMEOUT)\n                .build();\n\n            CredentialsProvider credsProvider = new BasicCredentialsProvider();\n            credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort),\n                new UsernamePasswordCredentials(proxyUser, proxyPassword));\n\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n            connectionManager.setDefaultMaxPerRoute(10);\n            connectionManager.setMaxTotal(10*2);\n\n            clientBuilder\n                .setConnectionManager(connectionManager)\n                .setDefaultCredentialsProvider(credsProvider)\n                .setDefaultRequestConfig(config);\n\n            return new ProxyAuthenticateHttpClient(clientBuilder);\n        }\n\n        private final String proxyHost;\n        private final int proxyPort;\n        private final String proxyUser;\n        private final String proxyPassword;\n\n        private static final int CONNECTION_TIMEOUT = 10000;\n        private static final int SOCKET_TIMEOUT = 30500;\n    }\n}\n</code></pre>\n\n<p>Then use the following code to init Twilio and everything is OK</p>\n\n<pre><code>Twilio.init(username, password);\nTwilioRestClient.Builder builder = new TwilioRestClient.Builder(username, password);\nbuilder.httpClient(new ProxyAuthenticateHttpClient.Builder(proxyUser, proxyPort, proxyUser, proxyPassword).build());\nTwilio.setRestClient(builder.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25857005,"reputation":1,"user_id":19590087,"display_name":"M Mubashir Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658350746,"creation_date":1658350707,"answer_id":73058059,"question_id":22230722,"body_markdown":"Ful Source code = https://github.com/mjg123/Twilio-custom-http-clients/blob/main/src/main/java/com/twilio/helperv8/RestClientProxy.java\r\n\r\nTwilio&#39;s api lives on the internet, and many folks on corporate networks will therefore need to configure an http proxy to access it. Again this is possible with a custom twiliorestclient, although in this case we&#39;ll need to write some code of our own. There are a few layers to this, so let&#39;s unpack them:\r\na twiliorestclient builder can take a custom instance of com. Twilio. Http. Httpclient. (this would be a good place to inject a mock for testing your calls to the twilio api)\r\nthe default implementation of twilio&#39;s httpclient is called networkhttpclient.\r\nNetworkhttpclient can be initialised with an apache httpcomponents httpclientbuilder.\r\nHttpclientbuilder can be configured to use a proxy.\r\n\r\nTo create an httpclient instance, this code is sufficient:\r\n\r\nprivate static HttpClient createProxiedHttpClient(String proxyHost, int proxyPort) {\r\n\r\n    // you can also configure things like caching, custom HTTPS certs,\r\n    // timeouts and connection pool sizes here.\r\n    // See: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\r\n    HttpClientBuilder apacheClientBuilder = HttpClientBuilder.create()\r\n        .setProxy(new HttpHost(proxyHost, proxyPort));\r\n\r\n    return new NetworkHttpClient(apacheClientBuilder);\r\n}\r\n\r\nprivate static final String PROXY_HOST = &quot;localhost&quot;;\r\nprivate static final int PROXY_PORT = 8888;\r\n\r\npublic static void main(String[] args) {\r\n\r\n HttpClient proxiedHttpClient = createProxiedHttpClient(PROXY_HOST, PROXY_PORT);\r\n\r\n    TwilioRestClient proxiedTwilioClient = new TwilioRestClient.Builder(\r\n            PROJECT_CAKE_ACCOUNT_SID,\r\n            PROJECT_CAKE_AUTH_TOKEN)\r\n        .httpClient(proxiedHttpClient)\r\n        .build();\r\n\r\n    Message.creator(\r\n            TO_PHONE_NUMBER,\r\n            PROJECT_CAKE_PHONE_NUMBER,\r\n            &quot;Cake, or Pie?&quot;)\r\n        .create(proxiedTwilioClient);\r\n}\r\n","title":"How to make twilio work with a proxy in java","body":"<p>Ful Source code = <a href=\"https://github.com/mjg123/Twilio-custom-http-clients/blob/main/src/main/java/com/twilio/helperv8/RestClientProxy.java\" rel=\"nofollow noreferrer\">https://github.com/mjg123/Twilio-custom-http-clients/blob/main/src/main/java/com/twilio/helperv8/RestClientProxy.java</a></p>\n<p>Twilio's api lives on the internet, and many folks on corporate networks will therefore need to configure an http proxy to access it. Again this is possible with a custom twiliorestclient, although in this case we'll need to write some code of our own. There are a few layers to this, so let's unpack them:\na twiliorestclient builder can take a custom instance of com. Twilio. Http. Httpclient. (this would be a good place to inject a mock for testing your calls to the twilio api)\nthe default implementation of twilio's httpclient is called networkhttpclient.\nNetworkhttpclient can be initialised with an apache httpcomponents httpclientbuilder.\nHttpclientbuilder can be configured to use a proxy.</p>\n<p>To create an httpclient instance, this code is sufficient:</p>\n<p>private static HttpClient createProxiedHttpClient(String proxyHost, int proxyPort) {</p>\n<pre><code>// you can also configure things like caching, custom HTTPS certs,\n// timeouts and connection pool sizes here.\n// See: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\nHttpClientBuilder apacheClientBuilder = HttpClientBuilder.create()\n    .setProxy(new HttpHost(proxyHost, proxyPort));\n\nreturn new NetworkHttpClient(apacheClientBuilder);\n</code></pre>\n<p>}</p>\n<p>private static final String PROXY_HOST = &quot;localhost&quot;;\nprivate static final int PROXY_PORT = 8888;</p>\n<p>public static void main(String[] args) {</p>\n<p>HttpClient proxiedHttpClient = createProxiedHttpClient(PROXY_HOST, PROXY_PORT);</p>\n<pre><code>TwilioRestClient proxiedTwilioClient = new TwilioRestClient.Builder(\n        PROJECT_CAKE_ACCOUNT_SID,\n        PROJECT_CAKE_AUTH_TOKEN)\n    .httpClient(proxiedHttpClient)\n    .build();\n\nMessage.creator(\n        TO_PHONE_NUMBER,\n        PROJECT_CAKE_PHONE_NUMBER,\n        &quot;Cake, or Pie?&quot;)\n    .create(proxiedTwilioClient);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4131347,"reputation":21,"user_id":3389210,"display_name":"user3389210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2945,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1658350746,"creation_date":1394124335,"question_id":22230722,"body_markdown":"Our application is java based web application.\r\nWe cannot access third party api directly in this case https://api.twilio.com\r\nThis has to be done through a proxy.\r\nCan anyone tell me how can I achieve it for TwilioRestClient?                          ","title":"How to make twilio work with a proxy in java","body":"<p>Our application is java based web application.\nWe cannot access third party api directly in this case <a href=\"https://api.twilio.com\" rel=\"nofollow\">https://api.twilio.com</a>\nThis has to be done through a proxy.\nCan anyone tell me how can I achieve it for TwilioRestClient?                          </p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":1,"creation_date":1345417779,"post_id":12030661,"comment_id":16057586,"body_markdown":"Possible duplicate of: http://stackoverflow.com/questions/1073919/how-to-convert-int-into-listinteger-in-java","body":"Possible duplicate of: <a href=\"http://stackoverflow.com/questions/1073919/how-to-convert-int-into-listinteger-in-java\" title=\"how to convert int into listinteger in java\">stackoverflow.com/questions/1073919/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1658350716,"creation_date":1345417908,"answer_id":12030721,"question_id":12030661,"body_markdown":"You can use ArrayUtils in [Apache Commons][1]:\r\n\r\n    int[] intArray  = { 1, 2, 3 };\r\n    Integer[] integerArray = ArrayUtils.toObject(intArray);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>You can use ArrayUtils in <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html\" rel=\"nofollow noreferrer\">Apache Commons</a>:</p>\n<pre><code>int[] intArray  = { 1, 2, 3 };\nInteger[] integerArray = ArrayUtils.toObject(intArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1345437904,"creation_date":1345419288,"answer_id":12030832,"question_id":12030661,"body_markdown":"Or you could easly use [Guava][1] to convert `int[]` to `List&lt;Integer&gt;`:\r\n\r\n[`Ints.asList(int...)`][2]\r\n\r\n&gt; **asList**\r\n&gt; ----------\r\n&gt; `public static List&lt;Integer&gt; asList(int... backingArray)`\r\n&gt; \r\n&gt; Returns a fixed-size list backed by the specified array, similar to `Arrays.asList(Object[])`. The list supports `List.set(int, Object)`, but any attempt to set a value to `null` will result in a `NullPointerException`. \r\n&gt; \r\n&gt; The returned list maintains the values, but not the identities, of `Integer` objects written to or read from it. For example, whether `list.get(0) == list.get(0)` is true for the returned list is unspecified.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>Or you could easly use <a href=\"http://guava-libraries.googlecode.com\" rel=\"nofollow\">Guava</a> to convert <code>int[]</code> to <code>List&lt;Integer&gt;</code>:</p>\n\n<p><a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29\" rel=\"nofollow\"><code>Ints.asList(int...)</code></a></p>\n\n<blockquote>\n  <h2><strong>asList</strong></h2>\n  \n  <p><code>public static List&lt;Integer&gt; asList(int... backingArray)</code></p>\n  \n  <p>Returns a fixed-size list backed by the specified array, similar to <code>Arrays.asList(Object[])</code>. The list supports <code>List.set(int, Object)</code>, but any attempt to set a value to <code>null</code> will result in a <code>NullPointerException</code>. </p>\n  \n  <p>The returned list maintains the values, but not the identities, of <code>Integer</code> objects written to or read from it. For example, whether <code>list.get(0) == list.get(0)</code> is true for the returned list is unspecified.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":6,"up_vote_count":16,"is_accepted":true,"score":10,"last_activity_date":1345433322,"creation_date":1345433322,"answer_id":12031980,"question_id":12030661,"body_markdown":"Some further explanation.  The asList method has this signature\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a)\r\n\r\nSo if you do this:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4)\r\n\r\nor this:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4 })\r\n\r\nIn these cases, I believe java is able to infer that you want a List&lt;Integer&gt; back, so it fills in the &lt;Integer&gt; type parameter, which means it expects Integer parameters to the method call.  Since it&#39;s able to autobox the values from int to Integer, it&#39;s fine.\r\n\r\nHowever, this will not work\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(new int[] { 1, 2, 3, 4} )\r\n\r\nbecause primitive to wrapper coercion (ie. int[] to Integer[]) is not built into the language (not sure why they didn&#39;t do this, but they didn&#39;t).\r\n\r\nAs a result, each primitive type would have to be handled as it&#39;s own overloaded method, which is what the commons package does.  ie.\r\n\r\n    public static List&lt;Integer&gt; asList(int i...);\r\n\r\n\r\n\r\n","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>Some further explanation.  The asList method has this signature</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a)\n</code></pre>\n\n<p>So if you do this:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4)\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4 })\n</code></pre>\n\n<p>In these cases, I believe java is able to infer that you want a List back, so it fills in the  type parameter, which means it expects Integer parameters to the method call.  Since it's able to autobox the values from int to Integer, it's fine.</p>\n\n<p>However, this will not work</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(new int[] { 1, 2, 3, 4} )\n</code></pre>\n\n<p>because primitive to wrapper coercion (ie. int[] to Integer[]) is not built into the language (not sure why they didn't do this, but they didn't).</p>\n\n<p>As a result, each primitive type would have to be handled as it's own overloaded method, which is what the commons package does.  ie.</p>\n\n<pre><code>public static List&lt;Integer&gt; asList(int i...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1458443718,"creation_date":1458443718,"answer_id":36109852,"question_id":12030661,"body_markdown":"The question asks two separate questions: converting `int[]` to `Integer[]` and creating a `HashSet&lt;Integer&gt;` from an `int[]`.  Both are easy to do with Java 8 streams:\r\n\r\n    int[] array = ...\r\n    Integer[] boxedArray = IntStream.of(array).boxed().toArray(Integer[]::new);\r\n    Set&lt;Integer&gt; set = IntStream.of(array).boxed().collect(Collectors.toSet());\r\n    //or if you need a HashSet specifically\r\n    HashSet&lt;Integer&gt; hashset = IntStream.of(array).boxed()\r\n        .collect(Collectors.toCollection(HashSet::new));","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>The question asks two separate questions: converting <code>int[]</code> to <code>Integer[]</code> and creating a <code>HashSet&lt;Integer&gt;</code> from an <code>int[]</code>.  Both are easy to do with Java 8 streams:</p>\n\n<pre><code>int[] array = ...\nInteger[] boxedArray = IntStream.of(array).boxed().toArray(Integer[]::new);\nSet&lt;Integer&gt; set = IntStream.of(array).boxed().collect(Collectors.toSet());\n//or if you need a HashSet specifically\nHashSet&lt;Integer&gt; hashset = IntStream.of(array).boxed()\n    .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485633264,"creation_date":1485589046,"answer_id":41907451,"question_id":12030661,"body_markdown":"Another option would be to use a primitive set from [Eclipse Collections][1]. You can easily convert an `int[]` to a `MutableIntSet` to a `Set&lt;Integer&gt;` or `Integer[]` as shown below, or you can use the `MutableIntSet` as is which will be much more memory efficient and performant.\r\n\r\n    int[] a = {1, 2, 3};\r\n    MutableIntSet intSet = IntSets.mutable.with(a);\r\n    Set&lt;Integer&gt; integerSet = intSet.collect(i -&gt; i);  // auto-boxing\r\n    Integer[] integerArray = integerSet.toArray(new Integer[]{});\r\n\r\nIf you want to go directly from the int array to the Integer array and preserve order, then this will work.\r\n\r\n    Integer[] integers = \r\n            IntLists.mutable.with(a).collect(i -&gt; i).toArray(new Integer[]{});\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>Another option would be to use a primitive set from <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>. You can easily convert an <code>int[]</code> to a <code>MutableIntSet</code> to a <code>Set&lt;Integer&gt;</code> or <code>Integer[]</code> as shown below, or you can use the <code>MutableIntSet</code> as is which will be much more memory efficient and performant.</p>\n\n<pre><code>int[] a = {1, 2, 3};\nMutableIntSet intSet = IntSets.mutable.with(a);\nSet&lt;Integer&gt; integerSet = intSet.collect(i -&gt; i);  // auto-boxing\nInteger[] integerArray = integerSet.toArray(new Integer[]{});\n</code></pre>\n\n<p>If you want to go directly from the int array to the Integer array and preserve order, then this will work.</p>\n\n<pre><code>Integer[] integers = \n        IntLists.mutable.with(a).collect(i -&gt; i).toArray(new Integer[]{});\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":17781991,"reputation":9,"user_id":12912996,"display_name":"Anantha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581947606,"creation_date":1581946391,"answer_id":60263625,"question_id":12030661,"body_markdown":"Just add elements from array to Set with the below snippet\r\n\r\n    public class RemoveDuplicateElements {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tint array[] =  {0,1,2,3,4,5,6,7,8,9,1,2,3,4,5};\r\n    \t    Set &lt;Integer&gt; abc = new HashSet &lt;Integer&gt;();\r\n    \t    for (Integer t:array){ \t\r\n    \t    \tabc.add(t);\t\r\n    \t    }  \t\t\r\n    \t\tSystem.out.println(&quot;sampleSet&quot;+abc);  \r\n    \t}\r\n    \t\r\n    }","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>Just add elements from array to Set with the below snippet</p>\n\n<pre><code>public class RemoveDuplicateElements {\n\n    public static void main(String args[]){\n        int array[] =  {0,1,2,3,4,5,6,7,8,9,1,2,3,4,5};\n        Set &lt;Integer&gt; abc = new HashSet &lt;Integer&gt;();\n        for (Integer t:array){  \n            abc.add(t); \n        }       \n        System.out.println(\"sampleSet\"+abc);  \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10467324,"reputation":741,"user_id":7716351,"display_name":"Liam.Nguyen"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1587835841,"creation_date":1587835841,"answer_id":61429766,"question_id":12030661,"body_markdown":"Using Stream: \r\n\r\n    // int[] nums = {1,2,3,4,5}\r\n    Set&lt;Integer&gt; set = Arrays.stream(nums).boxed().collect(Collectors.toSet())","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>Using Stream: </p>\n\n<pre><code>// int[] nums = {1,2,3,4,5}\nSet&lt;Integer&gt; set = Arrays.stream(nums).boxed().collect(Collectors.toSet())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24581271,"reputation":1,"user_id":18486360,"display_name":"ahmed mohammed ali"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647592081,"creation_date":1647458693,"answer_id":71503175,"question_id":12030661,"body_markdown":" No need for looping :&lt;br&gt;\r\nJust you will convert the array to a List &lt;br&gt;\r\nThen converting this List to a hash set. &lt;br&gt;\r\nEx: &lt;br&gt;\r\nList list = Arrays.asList(your_array); &lt;br&gt;\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\r\n\r\n&lt;br&gt;\r\n\r\nThis worked perfect for me .","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>No need for looping :<br>\nJust you will convert the array to a List <br>\nThen converting this List to a hash set. <br>\nEx: <br>\nList list = Arrays.asList(your_array); <br>\nSet set = new HashSet&lt;&gt;(list);</p>\n<br>\n<p>This worked perfect for me .</p>\n"}],"owner":{"account_id":551478,"reputation":10494,"user_id":916332,"accept_rate":91,"display_name":"Robottinosino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97604,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":12031980,"answer_count":8,"score":59,"last_activity_date":1658350716,"creation_date":1345417382,"question_id":12030661,"body_markdown":"I have an array of int:\r\n\r\n    int[] a = {1, 2, 3};\r\n\r\nI need a typed set from it:\r\n\r\n    Set&lt;Integer&gt; s;\r\n\r\nIf I do the following:\r\n\r\n    s = new HashSet(Arrays.asList(a));\r\n\r\nit, of course, thinks I mean:\r\n\r\n    List&lt;int[]&gt;\r\n\r\nwhereas I meant:\r\n\r\n    List&lt;Integer&gt;\r\n\r\nThis is because int is a primitive. If I had used String, all would work:\r\n\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;(\r\n        Arrays.asList(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; }));\r\n\r\nHow to easily, correctly and succinctly go from:\r\n--\r\n\r\n    A) int[] a...\r\n\r\nto\r\n\r\n    B) Integer[] a ...\r\n\r\nThanks!\r\n","title":"Java int[] array to HashSet&lt;Integer&gt;","body":"<p>I have an array of int:</p>\n\n<pre><code>int[] a = {1, 2, 3};\n</code></pre>\n\n<p>I need a typed set from it:</p>\n\n<pre><code>Set&lt;Integer&gt; s;\n</code></pre>\n\n<p>If I do the following:</p>\n\n<pre><code>s = new HashSet(Arrays.asList(a));\n</code></pre>\n\n<p>it, of course, thinks I mean:</p>\n\n<pre><code>List&lt;int[]&gt;\n</code></pre>\n\n<p>whereas I meant:</p>\n\n<pre><code>List&lt;Integer&gt;\n</code></pre>\n\n<p>This is because int is a primitive. If I had used String, all would work:</p>\n\n<pre><code>Set&lt;String&gt; s = new HashSet&lt;String&gt;(\n    Arrays.asList(new String[] { \"1\", \"2\", \"3\" }));\n</code></pre>\n\n<h2>How to easily, correctly and succinctly go from:</h2>\n\n<pre><code>A) int[] a...\n</code></pre>\n\n<p>to</p>\n\n<pre><code>B) Integer[] a ...\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","custom-error-pages"],"comments":[{"owner":{"account_id":18294147,"reputation":481,"user_id":13320390,"display_name":"Rokas Rudys"},"score":0,"creation_date":1657792534,"post_id":72947914,"comment_id":128896717,"body_markdown":"To confirm: what is value of WebURL.pageNotFound property this should match the getErrorPath so your redirect return &quot;/page-not-found&quot; should be WebURL.pageNotFound","body":"To confirm: what is value of WebURL.pageNotFound property this should match the getErrorPath so your redirect return &quot;/page-not-found&quot; should be WebURL.pageNotFound"},{"owner":{"account_id":22588722,"reputation":91,"user_id":16772190,"display_name":"Rakhi"},"score":1,"creation_date":1657792636,"post_id":72947914,"comment_id":128896749,"body_markdown":"value of WebUrl.pageNotFound is &quot;/page-not-found&quot;. This is the url for cutom 404 error page","body":"value of WebUrl.pageNotFound is &quot;/page-not-found&quot;. This is the url for cutom 404 error page"}],"answers":[{"tags":[],"owner":{"account_id":6843439,"reputation":108,"user_id":5262967,"display_name":"Amol Limaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657801868,"creation_date":1657801868,"answer_id":72980556,"question_id":72947914,"body_markdown":"Did you try implementing the spring ErrorController ?\r\nUsing this, you can have specific error pages for specific response status codes like &#39;403&#39; and &#39;404&#39;.\r\n\r\nhttps://www.baeldung.com/spring-boot-custom-error-page ","title":"How to handle or display custom page not found (404 page) in Spring Boot and JSP?","body":"<p>Did you try implementing the spring ErrorController ?\nUsing this, you can have specific error pages for specific response status codes like '403' and '404'.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-custom-error-page\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-custom-error-page</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657980987,"creation_date":1657838437,"answer_id":72987348,"question_id":72947914,"body_markdown":"The Spring Boot documentation provides a section talking about [custom error pages](https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.error-handling.error-pages). It states:\r\n\r\n&gt; If you want to display a custom HTML error page for a given status code, \r\n&gt; you can add a file to an /error directory. Error pages can either be static \r\n&gt; HTML (that is, added under any of the static resource directories) or be \r\n&gt; built by using templates. The name of the file should be the exact status \r\n&gt; code or a series mask.\r\n&gt;\r\n&gt; For example, to map `404` to a static HTML file, your directory structure \r\n&gt; would be as follows:\r\n```\r\nsrc/\r\n +- main/\r\n     +- java/\r\n     |   + &lt;source code&gt;\r\n     +- resources/\r\n         +- public/\r\n             +- error/\r\n             |   +- 404.html\r\n             +- &lt;other public assets&gt;\r\n```\r\n\r\n&gt; To map all `5xx` errors by using a FreeMarker template, your directory \r\n&gt; structure would be as follows:\r\n\r\n```\r\nsrc/\r\n +- main/\r\n     +- java/\r\n     |   + &lt;source code&gt;\r\n     +- resources/\r\n         +- templates/\r\n             +- error/\r\n             |   +- 5xx.ftlh\r\n             +- &lt;other templates&gt;\r\n```\r\n\r\nIt provides further advice about using `ErrorViewResolver`, `@ExceptionHandler`s or `@ControllerAdvice`, but for your use case I think providing a custom `404.jsp` file could do the trick.\r\n\r\nIn fact, I must say sorry, because I realized you are possibly not using Spring in this way, but with a `webapp` related structure.\r\n\r\nIf that is the case, one direct approach you could follow is the aforementioned based on `@ExceptionHandler` and `@ControllerAdvice`. Please, try creating a custom exception handler similar to this:\r\n\r\n```java\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport org.springframework.web.servlet.NoHandlerFoundException;\r\n\r\n@ControllerAdvice\r\npublic class CustomExceptionHandler {\r\n\r\n    @ExceptionHandler(NoHandlerFoundException.class)\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public ModelAndView handleNoHandlerFoundException (NoHandlerFoundException e) {\r\n        // Consider logging the error\r\n        return new ModelAndView(&quot;page-not-found.jsp&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor this code to work properly, you need to configure Spring to raise [`NoHandlerFoundException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html) when no handler is found.\r\n\r\nYou can do this for example by setting the configuration property [spring.mvc.throw-exception-if-no-handler-found](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.mvc.throw-exception-if-no-handler-found) to `true`:\r\n\r\n```\r\nspring.mvc.throw-exception-if-no-handler-found=true\r\n```","title":"How to handle or display custom page not found (404 page) in Spring Boot and JSP?","body":"<p>The Spring Boot documentation provides a section talking about <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.error-handling.error-pages\" rel=\"nofollow noreferrer\">custom error pages</a>. It states:</p>\n<blockquote>\n<p>If you want to display a custom HTML error page for a given status code,\nyou can add a file to an /error directory. Error pages can either be static\nHTML (that is, added under any of the static resource directories) or be\nbuilt by using templates. The name of the file should be the exact status\ncode or a series mask.</p>\n<p>For example, to map <code>404</code> to a static HTML file, your directory structure\nwould be as follows:</p>\n</blockquote>\n<pre><code>src/\n +- main/\n     +- java/\n     |   + &lt;source code&gt;\n     +- resources/\n         +- public/\n             +- error/\n             |   +- 404.html\n             +- &lt;other public assets&gt;\n</code></pre>\n<blockquote>\n<p>To map all <code>5xx</code> errors by using a FreeMarker template, your directory\nstructure would be as follows:</p>\n</blockquote>\n<pre><code>src/\n +- main/\n     +- java/\n     |   + &lt;source code&gt;\n     +- resources/\n         +- templates/\n             +- error/\n             |   +- 5xx.ftlh\n             +- &lt;other templates&gt;\n</code></pre>\n<p>It provides further advice about using <code>ErrorViewResolver</code>, <code>@ExceptionHandler</code>s or <code>@ControllerAdvice</code>, but for your use case I think providing a custom <code>404.jsp</code> file could do the trick.</p>\n<p>In fact, I must say sorry, because I realized you are possibly not using Spring in this way, but with a <code>webapp</code> related structure.</p>\n<p>If that is the case, one direct approach you could follow is the aforementioned based on <code>@ExceptionHandler</code> and <code>@ControllerAdvice</code>. Please, try creating a custom exception handler similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.servlet.NoHandlerFoundException;\n\n@ControllerAdvice\npublic class CustomExceptionHandler {\n\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ModelAndView handleNoHandlerFoundException (NoHandlerFoundException e) {\n        // Consider logging the error\n        return new ModelAndView(&quot;page-not-found.jsp&quot;);\n    }\n\n}\n</code></pre>\n<p>For this code to work properly, you need to configure Spring to raise <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html\" rel=\"nofollow noreferrer\"><code>NoHandlerFoundException</code></a> when no handler is found.</p>\n<p>You can do this for example by setting the configuration property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.mvc.throw-exception-if-no-handler-found\" rel=\"nofollow noreferrer\">spring.mvc.throw-exception-if-no-handler-found</a> to <code>true</code>:</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7443498,"reputation":133,"user_id":5660509,"accept_rate":40,"display_name":"Behrouz Takhti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658350681,"creation_date":1658350681,"answer_id":73058056,"question_id":72947914,"body_markdown":"Write @RequestMapping(&quot;/error&quot;) for handleError method.\r\n\r\nLook at below code:\r\n\r\n```\r\n@Controller\r\npublic class CustomErrorController implements ErrorController {\r\n\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError(HttpServletRequest request) {\r\n        //Log here !!!\r\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n\r\n        if (status != null) {\r\n            int statusCode = Integer.parseInt(status.toString());\r\n\r\n            if (statusCode == HttpStatus.NOT_FOUND.value()) {\r\n                return &quot;404&quot;;\r\n            } else if (statusCode == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                return &quot;500&quot;;\r\n            } else if (statusCode == HttpStatus.FORBIDDEN.value()) {\r\n                return &quot;403&quot;;\r\n            }\r\n        }\r\n\r\n        return &quot;generalError&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getErrorPath() {\r\n        return &quot;/error&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand look at 404.html file location in project structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6082y.png","title":"How to handle or display custom page not found (404 page) in Spring Boot and JSP?","body":"<p>Write @RequestMapping(&quot;/error&quot;) for handleError method.</p>\n<p>Look at below code:</p>\n<pre><code>@Controller\npublic class CustomErrorController implements ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public String handleError(HttpServletRequest request) {\n        //Log here !!!\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n\n        if (status != null) {\n            int statusCode = Integer.parseInt(status.toString());\n\n            if (statusCode == HttpStatus.NOT_FOUND.value()) {\n                return &quot;404&quot;;\n            } else if (statusCode == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n                return &quot;500&quot;;\n            } else if (statusCode == HttpStatus.FORBIDDEN.value()) {\n                return &quot;403&quot;;\n            }\n        }\n\n        return &quot;generalError&quot;;\n    }\n\n    @Override\n    public String getErrorPath() {\n        return &quot;/error&quot;;\n    }\n}\n</code></pre>\n<p>and look at 404.html file location in project structure.</p>\n<p><a href=\"https://i.stack.imgur.com/6082y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6082y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22588722,"reputation":91,"user_id":16772190,"display_name":"Rakhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2665,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1658350681,"creation_date":1657607406,"question_id":72947914,"body_markdown":"I am working on spring boot application and JSP. I want to display custom styled 404 error page when a user hits some different URLs like https://www.example.com/about/random-unauthorized-url\r\nso, https://www.example.com/about is a valid URL but https://www.example.com/about/random-unauthorized-url is not a valid URL. So I want when this thing happens, 404 page should get displayed instead of redirection on home page. Current scenario is when I supply some invalid URLs with domain name, it gets redirected to index or home page, which I don&#39;t want. So I tried using **some properties in application.yml file as below**:\r\n    \r\n    server:\r\n      port: 1207\r\n      error:\r\n        whitelabel:\r\n          enabled: false\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\r\n  \r\n**Below is custom security configuration**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t.httpBasic().disable()\r\n    \t\t.csrf().disable()\r\n    \t\t.sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/public/**&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(WebUrl.index).permitAll()\r\n    \t\t\t\t.antMatchers(WebUrl.about).permitAll()\r\n    \t\t\t\t.antMatchers(WebUrl.pageNotFound).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/error&quot;).permitAll().anyRequest().authenticated().and()\r\n    \t\t\t\t.apply(new JwtConfigurer(jwtTokenProvider));\r\n    \t\t\r\n    \t\thttp.exceptionHandling().authenticationEntryPoint(unauthenticatedRequestHandler());\r\n    \t\thttp.exceptionHandling().accessDeniedPage(&quot;/403&quot;);\r\n    \t\thttp.exceptionHandling().authenticationEntryPoint(unauthenticatedRequestHandler());\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationEntryPoint unauthorizedEntryPoint() {\r\n    \t\treturn (request, response, authException) -&gt; response.sendRedirect(&quot;/login&quot;);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        UnauthenticatedRequestHandler unauthenticatedRequestHandler() {\r\n            return new UnauthenticatedRequestHandler();\r\n        }\r\n    }\r\n**This is to handle unauthenticated requests**\r\n\r\n    public class UnauthenticatedRequestHandler implements AuthenticationEntryPoint {\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n            System.out.println(&quot;Request coming here....!!! &quot;+request.getServletPath());\r\n           if(request.getServletPath().startsWith(&quot;/admin/&quot;)) {\r\n            \tresponse.sendRedirect(&quot;/admin/login&quot;);\r\n            }else {\r\n                response.sendRedirect(&quot;/&quot;);\r\n            }\r\n        }\r\n    }\r\n        \r\n**and created custom error handling controller also**\r\n    \r\n    @Controller\r\n    public class CustomErrorController implements ErrorController{\r\n    \r\n    \t@Override\r\n    \tpublic String getErrorPath() {\r\n    \t\treturn WebUrl.pageNotFound;\r\n    \t}\r\n    \t@RequestMapping(value= {WebUrl.pageNotFound},method= {RequestMethod.GET,RequestMethod.POST})\r\n    \tpublic ModelAndView handleError(HttpServletRequest request) {\r\n    \t\tModelAndView modelAndView = null;\r\n    \t\tObject status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n    \t\tif(status != null) {\r\n    \t\t\tInteger statusCode = Integer.valueOf(status.toString());\r\n    \t\t\tif(statusCode == HttpStatus.NOT_FOUND.value()) {\r\n    \t\t\t\tmodelAndView = new ModelAndView(WebUrl.pageNotFound);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn modelAndView;\r\n    \t}\r\n    }\r\n**Below is the structure of view:**\r\n\r\n    src/main/webapp/views/page-not-found.jsp\r\n\r\nUnfortunately, above solutions did not worked for me or maybe I mixed things. **Please help me on this to solve.**\r\n","title":"How to handle or display custom page not found (404 page) in Spring Boot and JSP?","body":"<p>I am working on spring boot application and JSP. I want to display custom styled 404 error page when a user hits some different URLs like <a href=\"https://www.example.com/about/random-unauthorized-url\" rel=\"nofollow noreferrer\">https://www.example.com/about/random-unauthorized-url</a>\nso, <a href=\"https://www.example.com/about\" rel=\"nofollow noreferrer\">https://www.example.com/about</a> is a valid URL but <a href=\"https://www.example.com/about/random-unauthorized-url\" rel=\"nofollow noreferrer\">https://www.example.com/about/random-unauthorized-url</a> is not a valid URL. So I want when this thing happens, 404 page should get displayed instead of redirection on home page. Current scenario is when I supply some invalid URLs with domain name, it gets redirected to index or home page, which I don't want. So I tried using <strong>some properties in application.yml file as below</strong>:</p>\n<pre><code>server:\n  port: 1207\n  error:\n    whitelabel:\n      enabled: false\nspring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\n</code></pre>\n<p><strong>Below is custom security configuration</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n    \n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http\n        .httpBasic().disable()\n        .csrf().disable()\n        .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/public/**&quot;).permitAll()\n                .antMatchers(WebUrl.index).permitAll()\n                .antMatchers(WebUrl.about).permitAll()\n                .antMatchers(WebUrl.pageNotFound).permitAll()\n                .antMatchers(&quot;/error&quot;).permitAll().anyRequest().authenticated().and()\n                .apply(new JwtConfigurer(jwtTokenProvider));\n        \n        http.exceptionHandling().authenticationEntryPoint(unauthenticatedRequestHandler());\n        http.exceptionHandling().accessDeniedPage(&quot;/403&quot;);\n        http.exceptionHandling().authenticationEntryPoint(unauthenticatedRequestHandler()); \n    }\n\n    @Bean\n    public AuthenticationEntryPoint unauthorizedEntryPoint() {\n        return (request, response, authException) -&gt; response.sendRedirect(&quot;/login&quot;);\n    }\n    \n    @Bean\n    UnauthenticatedRequestHandler unauthenticatedRequestHandler() {\n        return new UnauthenticatedRequestHandler();\n    }\n}\n</code></pre>\n<p><strong>This is to handle unauthenticated requests</strong></p>\n<pre><code>public class UnauthenticatedRequestHandler implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        System.out.println(&quot;Request coming here....!!! &quot;+request.getServletPath());\n       if(request.getServletPath().startsWith(&quot;/admin/&quot;)) {\n            response.sendRedirect(&quot;/admin/login&quot;);\n        }else {\n            response.sendRedirect(&quot;/&quot;);\n        }\n    }\n}\n    \n</code></pre>\n<p><strong>and created custom error handling controller also</strong></p>\n<pre><code>@Controller\npublic class CustomErrorController implements ErrorController{\n\n    @Override\n    public String getErrorPath() {\n        return WebUrl.pageNotFound;\n    }\n    @RequestMapping(value= {WebUrl.pageNotFound},method= {RequestMethod.GET,RequestMethod.POST})\n    public ModelAndView handleError(HttpServletRequest request) {\n        ModelAndView modelAndView = null;\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n        if(status != null) {\n            Integer statusCode = Integer.valueOf(status.toString());\n            if(statusCode == HttpStatus.NOT_FOUND.value()) {\n                modelAndView = new ModelAndView(WebUrl.pageNotFound);\n            }\n        }\n        return modelAndView;\n    }\n}\n</code></pre>\n<p><strong>Below is the structure of view:</strong></p>\n<pre><code>src/main/webapp/views/page-not-found.jsp\n</code></pre>\n<p>Unfortunately, above solutions did not worked for me or maybe I mixed things. <strong>Please help me on this to solve.</strong></p>\n"},{"tags":["java","java-8","parallel-processing"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658308966,"post_id":73044126,"comment_id":129017193,"body_markdown":"This is not the complete exception. Show the “Caused by” part.","body":"This is not the complete exception. Show the “Caused by” part."},{"owner":{"account_id":14720632,"reputation":51,"user_id":10631371,"display_name":"S K"},"score":0,"creation_date":1658350356,"post_id":73044126,"comment_id":129033055,"body_markdown":"Have updated the stack trace. The exception isn&#39;t thrown always so its tricky to reproduce this issue locally.","body":"Have updated the stack trace. The exception isn&#39;t thrown always so its tricky to reproduce this issue locally."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658385046,"post_id":73044126,"comment_id":129039093,"body_markdown":"Maybe, I wasn’t clear enough. While the posted `FactoryConfigurationError` is the cause of the `NestedServletException`, it must itself have a cause of type `FactoryConfigurationError`. What you have posted, is an exception created in the initiating thread of the parallel stream operation in response to an exception thrown in one of the worker threads. That original exception should be registered as cause to the posted exception. To identify the actual problem, we need the original exception. The 2 exceptions have been discussed [in this question](https://stackoverflow.com/q/38994907/2711488).","body":"Maybe, I wasn’t clear enough. While the posted <code>FactoryConfigurationError</code> is the cause of the <code>NestedServletException</code>, it must itself have a cause of type <code>FactoryConfigurationError</code>. What you have posted, is an exception created in the initiating thread of the parallel stream operation in response to an exception thrown in one of the worker threads. That original exception should be registered as cause to the posted exception. To identify the actual problem, we need the original exception. The 2 exceptions have been discussed <a href=\"https://stackoverflow.com/q/38994907/2711488\">in this question</a>."}],"owner":{"account_id":14720632,"reputation":51,"user_id":10631371,"display_name":"S K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658350220,"creation_date":1658270145,"question_id":73044126,"body_markdown":"Read this [javadoc][1] but wasn&#39;t clear when the follow exception occurs. Exception thrown `javax.xml.stream.FactoryConfigurationError`. Is it that when parallel stream is been used too many threads are been used and the host has ran out of threads? \r\n\r\nHave a following code\r\n```\r\nclass Foo {\r\n  private Bar bar;\r\n  // trying to limit the TPS agreement. \r\n  private final RateLimiter LIMITER = RateLimiter.create(10);\r\n  public void fooBar(List&lt;String&gt; ids) {\r\n\r\n    ids.parallelStream()\r\n     .forEach(id -&gt; { // Exception thrown in this line\r\n        LIMITER.acquire();\r\n        this.bar.getObject(id)\r\n     }\r\n}\r\n```\r\n\r\n```\r\nclass Bar {\r\n  public Object getObject(String id) { \r\n  // calls some API\r\n  }\r\n}\r\n```\r\n\r\nStack trace\r\n```\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is javax.xml.stream.FactoryConfigurationError\r\n....\r\nCaused by: javax.xml.stream.FactoryConfigurationError\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:598)\r\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\r\n    at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\r\n    at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n    at com.foo.local.customAPI.Foo.fooBar(Foo.java:8)\r\n    at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:149)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n    ... 123 more\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/FactoryConfigurationError.html","title":"What does `javax.xml.stream.FactoryConfigurationError` mean?","body":"<p>Read this <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/FactoryConfigurationError.html\" rel=\"nofollow noreferrer\">javadoc</a> but wasn't clear when the follow exception occurs. Exception thrown <code>javax.xml.stream.FactoryConfigurationError</code>. Is it that when parallel stream is been used too many threads are been used and the host has ran out of threads?</p>\n<p>Have a following code</p>\n<pre><code>class Foo {\n  private Bar bar;\n  // trying to limit the TPS agreement. \n  private final RateLimiter LIMITER = RateLimiter.create(10);\n  public void fooBar(List&lt;String&gt; ids) {\n\n    ids.parallelStream()\n     .forEach(id -&gt; { // Exception thrown in this line\n        LIMITER.acquire();\n        this.bar.getObject(id)\n     }\n}\n</code></pre>\n<pre><code>class Bar {\n  public Object getObject(String id) { \n  // calls some API\n  }\n}\n</code></pre>\n<p>Stack trace</p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is javax.xml.stream.FactoryConfigurationError\n....\nCaused by: javax.xml.stream.FactoryConfigurationError\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:598)\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n    at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\n    at com.foo.local.customAPI.Foo.fooBar(Foo.java:8)\n    at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:149)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    ... 123 more\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657561120,"creation_date":1657561120,"answer_id":72942573,"question_id":72941669,"body_markdown":"`retryWhen` is applied to error signals only, therefore you need to return error based on the deserialized body.\r\n\r\n```\r\nwebClient.get()\r\n        .uri(&quot;/test&quot;)\r\n        .retrieve()\r\n        .bodyToMono(Response.class)\r\n        .flatMap(body -&gt; {\r\n            if (isErrorResponse(body)) {\r\n                return Mono.error(new ResponseException());\r\n            }\r\n\r\n            return Mono.just(body);\r\n        })\r\n        .retryWhen(\r\n                Retry.fixedDelay(3, Duration.ofSeconds(3))\r\n                        .filter(e -&gt; e instanceof ResponseException)\r\n        );\r\n``` ","title":"How to retrigger a webclient call based on the value inside response body","body":"<p><code>retryWhen</code> is applied to error signals only, therefore you need to return error based on the deserialized body.</p>\n<pre><code>webClient.get()\n        .uri(&quot;/test&quot;)\n        .retrieve()\n        .bodyToMono(Response.class)\n        .flatMap(body -&gt; {\n            if (isErrorResponse(body)) {\n                return Mono.error(new ResponseException());\n            }\n\n            return Mono.just(body);\n        })\n        .retryWhen(\n                Retry.fixedDelay(3, Duration.ofSeconds(3))\n                        .filter(e -&gt; e instanceof ResponseException)\n        );\n</code></pre>\n"}],"owner":{"account_id":25782779,"reputation":11,"user_id":19528150,"display_name":"Bjoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658350087,"creation_date":1657556448,"question_id":72941669,"body_markdown":"I have a WebClient that have retries:\r\n\r\n    webClient.retryWhen(\r\n       Retry.fixedDelay(3, Duration.ofSeconds(3))\r\n    \t.filter(this::isRetryable)\r\n    )\r\n    \r\n    private boolean isRetryable(Throwable throwable) {\r\n        //TODO how access the response body?\r\n    }\r\n\r\nQuestion: how can I evaluate the response body during retry?\r\n          Because I want to retrigger this webclient call when service returns http statuscode 200 and error message &quot;failed&quot; inside that response body.\r\nor suggest me any alternate way to retrigger webclient call based on the value in response body?","title":"How to retrigger a webclient call based on the value inside response body","body":"<p>I have a WebClient that have retries:</p>\n<pre><code>webClient.retryWhen(\n   Retry.fixedDelay(3, Duration.ofSeconds(3))\n    .filter(this::isRetryable)\n)\n\nprivate boolean isRetryable(Throwable throwable) {\n    //TODO how access the response body?\n}\n</code></pre>\n<p>Question: how can I evaluate the response body during retry?\nBecause I want to retrigger this webclient call when service returns http statuscode 200 and error message &quot;failed&quot; inside that response body.\nor suggest me any alternate way to retrigger webclient call based on the value in response body?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":1,"creation_date":1658349426,"post_id":73057829,"comment_id":129032801,"body_markdown":"Show us the rest of the class and the exact error","body":"Show us the rest of the class and the exact error"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658349455,"post_id":73057829,"comment_id":129032810,"body_markdown":"The `List` interface you were given is not the same as `java.util.List`, or `java.util.Iterator`, both of which have `remove` methods that work differently from the method you&#39;re trying to implement.","body":"The <code>List</code> interface you were given is not the same as <code>java.util.List</code>, or <code>java.util.Iterator</code>, both of which have <code>remove</code> methods that work differently from the method you&#39;re trying to implement."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1658349550,"post_id":73057829,"comment_id":129032828,"body_markdown":"You&#39;re probably implementing the wrong `Iterator` interface.","body":"You&#39;re probably implementing the wrong <code>Iterator</code> interface."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1658349582,"post_id":73057829,"comment_id":129032836,"body_markdown":"`Iterator.remove()` has a `void` return type.","body":"<code>Iterator.remove()</code> has a <code>void</code> return type."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658349837,"post_id":73057829,"comment_id":129032914,"body_markdown":"`LinkedList extends LinkedListIterator` is just wrong.  Do not extend your iterator class in your list.","body":"<code>LinkedList extends LinkedListIterator</code> is just wrong.  Do not extend your iterator class in your list."},{"owner":{"account_id":20830641,"reputation":21,"user_id":15300017,"display_name":"chhscs"},"score":0,"creation_date":1658350080,"post_id":73057829,"comment_id":129032983,"body_markdown":"@LouisWasserman extending the iterator class is what was causing my problem. Thank you for helping me.","body":"@LouisWasserman extending the iterator class is what was causing my problem. Thank you for helping me."}],"owner":{"account_id":20830641,"reputation":21,"user_id":15300017,"display_name":"chhscs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658349793,"creation_date":1658349182,"question_id":73057829,"body_markdown":"I am given an interface List.java that defines the List ADT and contains methods that a class I am writing (LinkedList.java) must implement. One of the methods is remove(). \r\n\r\nWithin List.java it writes:\r\n\r\n    /**\r\n     * Removes the head (first element) from the list and returns it.\r\n     * @return the removed element from the head of the list, null if the list is empty\r\n     */\r\n    E remove();\r\n\r\nI have also written a class Node.java that represents an individual node in LinkedList with two instance variables, data and next (with getter and setter methods). \r\n\r\nIn my LinkedList class there are two instance variables, int size (# nodes in LinkedList) and Node &lt;E&gt; head (reference to head node in LinkedList). So far, for overriding the remove() method I have:\r\n\r\n    public E remove() {\r\n        if (head == null) {\r\n            return null;\r\n        } else {\r\n            Node&lt;E&gt; current = head;\r\n            Node&lt;E&gt; previous = null;\r\n            while (current.getNext() != null) {\r\n                previous = current;\r\n                current = current.getNext();\r\n            }\r\n            Node&lt;E&gt; previousNext = previous.getNext();\r\n            E currentData = current.getData();\r\n            previousNext = null;\r\n            size--;\r\n            return currentData;\r\n        }\r\n    }\r\n\r\nI keep getting an error that says:\r\nError: The return type is incompatible with java.util.Iterator&lt;E&gt;.remove().\r\n\r\nI have a very poor understanding of this unit and can use all the help I can get.\r\n\r\n*Edit: java.util.Iterator is imported\r\n\r\n    ","title":"How to Override remove() method in java.util.Iterator","body":"<p>I am given an interface List.java that defines the List ADT and contains methods that a class I am writing (LinkedList.java) must implement. One of the methods is remove().</p>\n<p>Within List.java it writes:</p>\n<pre><code>/**\n * Removes the head (first element) from the list and returns it.\n * @return the removed element from the head of the list, null if the list is empty\n */\nE remove();\n</code></pre>\n<p>I have also written a class Node.java that represents an individual node in LinkedList with two instance variables, data and next (with getter and setter methods).</p>\n<p>In my LinkedList class there are two instance variables, int size (# nodes in LinkedList) and Node  head (reference to head node in LinkedList). So far, for overriding the remove() method I have:</p>\n<pre><code>public E remove() {\n    if (head == null) {\n        return null;\n    } else {\n        Node&lt;E&gt; current = head;\n        Node&lt;E&gt; previous = null;\n        while (current.getNext() != null) {\n            previous = current;\n            current = current.getNext();\n        }\n        Node&lt;E&gt; previousNext = previous.getNext();\n        E currentData = current.getData();\n        previousNext = null;\n        size--;\n        return currentData;\n    }\n}\n</code></pre>\n<p>I keep getting an error that says:\nError: The return type is incompatible with java.util.Iterator.remove().</p>\n<p>I have a very poor understanding of this unit and can use all the help I can get.</p>\n<p>*Edit: java.util.Iterator is imported</p>\n"},{"tags":["java","android","kotlin","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":8061597,"reputation":823,"user_id":6076979,"display_name":"MojoJojo"},"score":0,"creation_date":1658325784,"post_id":73052990,"comment_id":129024246,"body_markdown":"Please ask the question properly, so I can help. Share the images for reference like what you want and what you have. I don&#39;t even know where your `RecyclerView` is?","body":"Please ask the question properly, so I can help. Share the images for reference like what you want and what you have. I don&#39;t even know where your <code>RecyclerView</code> is?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1658326707,"post_id":73052990,"comment_id":129024654,"body_markdown":"Use a barrier that is on top of the two view. See [Barrier](https://developer.android.com/reference/androidx/constraintlayout/widget/Barrier).","body":"Use a barrier that is on top of the two view. See <a href=\"https://developer.android.com/reference/androidx/constraintlayout/widget/Barrier\" rel=\"nofollow noreferrer\">Barrier</a>."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658333574,"post_id":73052990,"comment_id":129027675,"body_markdown":"bottom_bottomOf =&quot;parent&quot; to the fab..","body":"bottom_bottomOf =&quot;parent&quot; to the fab.."}],"answers":[{"tags":[],"owner":{"display_name":"user19576538"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658349745,"creation_date":1658349745,"answer_id":73057918,"question_id":73052990,"body_markdown":"You&#39;re changing the position of your FAB dynamically, in that case you need to achieve this programmatically. Refer to [this answer][1] to learn how to change view constrains in code. Execute it right after changing the visibility of your views.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45264822/19576538","title":"ImageView constraintlayout bottom","body":"<p>You're changing the position of your FAB dynamically, in that case you need to achieve this programmatically. Refer to <a href=\"https://stackoverflow.com/a/45264822/19576538\">this answer</a> to learn how to change view constrains in code. Execute it right after changing the visibility of your views.</p>\n"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658349745,"creation_date":1658325348,"question_id":73052990,"body_markdown":"Is there any way to assign double `bottom_toBottomOf` in an `ImageView`?\r\nI have a layout that I have something like a `FloatingActionButton` and I want to be always above of my two views. I started doing the list and it works because I&#39;ve added in the `FAB` `bottom_toBottomOf=&quot;idRecyclerView&quot;` but the problem is now that I&#39;ve added another view, the `FAB` doesn&#39;t put above of that view because it&#39;s aligned to the recyclerView.\r\n\r\nNote : \r\nRecyclerView and View are `visibility=gone` since start, depending on the data I enable the `RecyclerView` or the `View` so, when I initialise the `RecyclerView` it works and the `FAB` is above of the list, but when I initialise the `View` the button remains to the bottom because the `RecyclerView` is gone (aligned to the bottom).\r\n\r\nThis is an example of what I have right now \r\n[![enter image description here][1]][1]\r\n\r\nWhen I have the list since the FAB has the `bottom_bottomOf=recycler` it works, but when I show the `View` the FAB is in the bottom, and I&#39;m wondering if is there any way to add like double `bottom_bottomOf` so always the FAB will stay above the view no matter if it&#39;s the recyclerView or the View\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lULaC.png","title":"ImageView constraintlayout bottom","body":"<p>Is there any way to assign double <code>bottom_toBottomOf</code> in an <code>ImageView</code>?\nI have a layout that I have something like a <code>FloatingActionButton</code> and I want to be always above of my two views. I started doing the list and it works because I've added in the <code>FAB</code> <code>bottom_toBottomOf=&quot;idRecyclerView&quot;</code> but the problem is now that I've added another view, the <code>FAB</code> doesn't put above of that view because it's aligned to the recyclerView.</p>\n<p>Note :\nRecyclerView and View are <code>visibility=gone</code> since start, depending on the data I enable the <code>RecyclerView</code> or the <code>View</code> so, when I initialise the <code>RecyclerView</code> it works and the <code>FAB</code> is above of the list, but when I initialise the <code>View</code> the button remains to the bottom because the <code>RecyclerView</code> is gone (aligned to the bottom).</p>\n<p>This is an example of what I have right now\n<a href=\"https://i.stack.imgur.com/lULaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lULaC.png\" alt=\"enter image description here\" /></a></p>\n<p>When I have the list since the FAB has the <code>bottom_bottomOf=recycler</code> it works, but when I show the <code>View</code> the FAB is in the bottom, and I'm wondering if is there any way to add like double <code>bottom_bottomOf</code> so always the FAB will stay above the view no matter if it's the recyclerView or the View</p>\n"},{"tags":["java","xml","multithreading","dom","xml-parsing"],"comments":[{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1518677102,"post_id":48767957,"comment_id":84605251,"body_markdown":"Similar Question: [Creating a DOM that is thread safe for read operations](https://stackoverflow.com/q/1504571/8097737)","body":"Similar Question: <a href=\"https://stackoverflow.com/q/1504571/8097737\">Creating a DOM that is thread safe for read operations</a>"}],"owner":{"account_id":7917742,"reputation":423,"user_id":5979668,"accept_rate":33,"display_name":"HimaaS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658349667,"creation_date":1518528543,"question_id":48767957,"body_markdown":"I have multiple threads trying to read the same DOM object and runs simultaneously.\r\nBut I heard that, DOM is not thread safe and somewhere I read that if we clone the document, that cloned document will be thread safe.\r\nthis is what I wanted to try\r\n\r\n        import java.io.File;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n    \r\n            Document originalDocument = db.parse(new File(&quot;input.xml&quot;));\r\n            Node originalRoot = originalDocument.getDocumentElement();\r\n    \r\n            Document copiedDocument = db.newDocument();\r\n            Node copiedRoot = copiedDocument.importNode(originalRoot, true);\r\n            copiedDocument.appendChild(copiedRoot);\r\n    \r\n        }\r\n    }\r\nNow I will allow my threads to read from copiedDocument, instead of originalDocument.\r\n\r\nSo, Now Do my code runs in thread safe or not? Could anyone please confirm. \r\n","title":"How to get data safely from DOM object when multiple threads are accessing same object","body":"<p>I have multiple threads trying to read the same DOM object and runs simultaneously.\nBut I heard that, DOM is not thread safe and somewhere I read that if we clone the document, that cloned document will be thread safe.\nthis is what I wanted to try</p>\n\n<pre><code>    import java.io.File;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        DocumentBuilder db = dbf.newDocumentBuilder();\n\n        Document originalDocument = db.parse(new File(\"input.xml\"));\n        Node originalRoot = originalDocument.getDocumentElement();\n\n        Document copiedDocument = db.newDocument();\n        Node copiedRoot = copiedDocument.importNode(originalRoot, true);\n        copiedDocument.appendChild(copiedRoot);\n\n    }\n}\n</code></pre>\n\n<p>Now I will allow my threads to read from copiedDocument, instead of originalDocument.</p>\n\n<p>So, Now Do my code runs in thread safe or not? Could anyone please confirm. </p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658348530,"creation_date":1658348188,"answer_id":73057669,"question_id":73057526,"body_markdown":"[Plugin Metaversion Resolution](https://cwiki.apache.org/confluence/display/MAVEN/Maven+3.x+Compatibility+Notes#Maven3.xCompatibilityNotes-AutomaticPluginVersionResolution)\r\n------------\r\nIncase you are using **Maven 2.x**, it can pick the latest version available where the latest version could either be a release or a snapshot. Internally, _Maven 2.x_ used the special version markers _`RELEASE`_ and _`LATEST`_ to support automatic plugin version resolution.\r\n\r\nAs an example:\r\n\r\n- Using _`RELEASE`_:\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;RELEASE&lt;/version&gt;\r\n      &lt;/dependency&gt; \r\n    \r\n- Using _`LATEST`_:\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;LATEST&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nHowever, **Maven 3.x** no longer supports usage of these metaversions in the POM. As a result, users will need to replace occurrences of these metaversions with a concrete version.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussion in:\r\n\r\n- [How to automatically update selenium version in POM?](https://stackoverflow.com/a/48367312/7429447)","title":"How to get de latest selenium version from maven","body":"<h2><a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Maven+3.x+Compatibility+Notes#Maven3.xCompatibilityNotes-AutomaticPluginVersionResolution\" rel=\"nofollow noreferrer\">Plugin Metaversion Resolution</a></h2>\n<p>Incase you are using <strong>Maven 2.x</strong>, it can pick the latest version available where the latest version could either be a release or a snapshot. Internally, <em>Maven 2.x</em> used the special version markers <em><code>RELEASE</code></em> and <em><code>LATEST</code></em> to support automatic plugin version resolution.</p>\n<p>As an example:</p>\n<ul>\n<li><p>Using <em><code>RELEASE</code></em>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;RELEASE&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n</li>\n<li><p>Using <em><code>LATEST</code></em>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>However, <strong>Maven 3.x</strong> no longer supports usage of these metaversions in the POM. As a result, users will need to replace occurrences of these metaversions with a concrete version.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48367312/7429447\">How to automatically update selenium version in POM?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658349394,"creation_date":1658349394,"answer_id":73057855,"question_id":73057526,"body_markdown":"In general you don&#39;t want to do that.  If there is a breaking change or a bug in the new version you&#39;ll be stuck determining where the issue is.\r\n\r\nMaven has two ways to address this.  The first is:\r\n\r\n    mvn versions:display-dependency-updates\r\n\r\nthis will display the libraries you are currently using and if there is a new version of them.  For example, in an older project that I haven&#39;t touched in a while I get things like:\r\n\r\n    [INFO] The following dependencies in Dependencies have newer versions:\r\n    [INFO]   com.fasterxml.jackson.core:jackson-databind ......... 2.9.10 -&gt; 2.13.3\r\n    [INFO]   com.google.code.gson:gson ............................. 2.8.6 -&gt; 2.9.0\r\n    [INFO]   com.jayway.jsonpath:json-path ......................... 2.5.0 -&gt; 2.7.0\r\n    [INFO]   commons-io:commons-io ................................ 2.8.0 -&gt; 2.11.0\r\n\r\nThis is showing me where I need to take a look at updating.  Nothing is automatically updated - this is a report that you need to generate by hand.\r\n\r\nThe second way may be closer to what you want.  Maven can take a *range* of versions that you are willing to use.  As a very general statement **most** libraries remain compatible if you don&#39;t jump outside of at least the major version.  That isn&#39;t always true but you can decide that for your self. In your case you could change your dependency to:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;[4.3,5.0)&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nThis tells Maven to use *at least* version 4.3.0 but not version 5.0 and above.  If 4.3.1 comes out it will automatically use this.  It will not though use anything 5.0 and above.\r\n\r\nIf you *really* think you need to keep upgrading forever, you&#39;d change this to:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;[4.3,)&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nwhich just says version 4.3.0 and above.  If a version 5.0 comes out it will use this.  There is zero guarantee that version 5.0 is compatible - maven will blindly start using it.","title":"How to get de latest selenium version from maven","body":"<p>In general you don't want to do that.  If there is a breaking change or a bug in the new version you'll be stuck determining where the issue is.</p>\n<p>Maven has two ways to address this.  The first is:</p>\n<pre><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>this will display the libraries you are currently using and if there is a new version of them.  For example, in an older project that I haven't touched in a while I get things like:</p>\n<pre><code>[INFO] The following dependencies in Dependencies have newer versions:\n[INFO]   com.fasterxml.jackson.core:jackson-databind ......... 2.9.10 -&gt; 2.13.3\n[INFO]   com.google.code.gson:gson ............................. 2.8.6 -&gt; 2.9.0\n[INFO]   com.jayway.jsonpath:json-path ......................... 2.5.0 -&gt; 2.7.0\n[INFO]   commons-io:commons-io ................................ 2.8.0 -&gt; 2.11.0\n</code></pre>\n<p>This is showing me where I need to take a look at updating.  Nothing is automatically updated - this is a report that you need to generate by hand.</p>\n<p>The second way may be closer to what you want.  Maven can take a <em>range</em> of versions that you are willing to use.  As a very general statement <strong>most</strong> libraries remain compatible if you don't jump outside of at least the major version.  That isn't always true but you can decide that for your self. In your case you could change your dependency to:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;[4.3,5.0)&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>This tells Maven to use <em>at least</em> version 4.3.0 but not version 5.0 and above.  If 4.3.1 comes out it will automatically use this.  It will not though use anything 5.0 and above.</p>\n<p>If you <em>really</em> think you need to keep upgrading forever, you'd change this to:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;[4.3,)&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>which just says version 4.3.0 and above.  If a version 5.0 comes out it will use this.  There is zero guarantee that version 5.0 is compatible - maven will blindly start using it.</p>\n"}],"owner":{"account_id":8417913,"reputation":57,"user_id":6317663,"display_name":"matias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658350828,"accepted_answer_id":73057855,"answer_count":2,"score":0,"last_activity_date":1658349394,"creation_date":1658347388,"question_id":73057526,"body_markdown":"Im using java and maven and I want to always get the last version of selenium-java. Is there any way to do that? \r\nIf I use this dependency I have a warning message \r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n","title":"How to get de latest selenium version from maven","body":"<p>Im using java and maven and I want to always get the last version of selenium-java. Is there any way to do that?\nIf I use this dependency I have a warning message</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;LATEST&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":["java","android","mysql","xml","retrofit2"],"owner":{"account_id":25855525,"reputation":11,"user_id":19588850,"display_name":"Maryam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658349111,"creation_date":1658349111,"question_id":73057820,"body_markdown":"I am using rest API and facing some issue when embedding an API. How do I save spinner and radio button data by value and using retrofit2.This API is for calculating BMR and BMR Please help!  \r\n\r\nHere is BMIquestions.java\r\n\r\n```\r\n\r\npublic class BMIquestions extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    Button nextbtn;\r\n    ImageButton date;\r\n    DatePickerDialog datePickerDialog;\r\n    EditText age, height, weight;\r\n    // Let&#39;s assume 1 = male and 0 = female\r\n    // Declare a RadioGroup object reference\r\n    RadioGroup rgGender;\r\n    // Declare RadioButton object references for Male and Female\r\n    RadioButton rbMale, rbFemale;\r\n    private String gender=null;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n{\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_bmiquestions);\r\n        getSupportActionBar().hide();\r\n        nextbtn = findViewById(R.id.Next);\r\n        date = findViewById(R.id.calender);\r\n        age = findViewById(R.id.age);\r\n        height = findViewById(R.id.currentHeight);\r\n        weight = findViewById(R.id.currentHeight);\r\n        rgGender = findViewById(R.id.gender_group);\r\n        rbMale = findViewById(R.id.male);\r\n        rbFemale = findViewById(R.id.female);\r\n\r\n        rgGender.clearCheck();\r\n        rgGender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                rbMale = group.findViewById(R.id.male);\r\n                rbFemale = group.findViewById(R.id.female);\r\n                if(rbMale.isSelected()){\r\n                    rbMale.setTag(&quot;1&quot;);\r\n                    rbMale.getTag().toString();\r\n                if(rbFemale.isSelected()){\r\n                    rbFemale.setTag(&quot;0&quot;);\r\n                    rbFemale.getTag().toString();\r\n                }\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        findViewById(R.id.female).setOnClickListener(this);\r\n        findViewById(R.id.male).setOnClickListener(this);\r\n        findViewById(R.id.Next).setOnClickListener(this);\r\n        String[] level = new String[]{&quot;Not Very Activ&quot;, &quot;Lightly Active&quot;, &quot;Active&quot;, &quot;Very Active&quot;};\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(\r\n                this,\r\n                R.layout.drop_down_items,\r\n                level\r\n        );\r\n\r\n        AutoCompleteTextView autoCompleteTextView = findViewById(R.id.type);\r\n        autoCompleteTextView.setAdapter(adapter);\r\n\r\n        autoCompleteTextView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Toast.makeText(BMIquestions.this, autoCompleteTextView.getText().toString(), Toast.LENGTH_SHORT).show();\r\n                if(autoCompleteTextView.getText().toString().equals(&quot;Lightly Active&quot;)){\r\n                    autoCompleteTextView.setTag(&quot;1.55&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        date.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.N)\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Calender class &#39;s instance and get current,date ,month and year from calender\r\n                final Calendar c = Calendar.getInstance();\r\n                int mYear = c.get(Calendar.YEAR);//current year\r\n                int mMonth = c.get(Calendar.MONTH);//current month\r\n                int mDay = c.get(Calendar.DAY_OF_MONTH);//current date\r\n                final int noofyears = (int) (mYear - c.get(Calendar.YEAR)); //calculate age\r\n\r\n                //date picker dialog\r\n                datePickerDialog = new DatePickerDialog(BMIquestions.this,\r\n                        new DatePickerDialog.OnDateSetListener() {\r\n\r\n                            @Override\r\n                            public void onDateSet(DatePicker view, int year,\r\n                                                  int monthOfYear, int dayOfMonth) {\r\n                                // set day of month , month and year value in the edit text\r\n                                age.setText(dayOfMonth + &quot;/&quot;\r\n                                        + (monthOfYear + 1) + &quot;/&quot; + year);\r\n\r\n                            }\r\n                        }, mYear, mMonth, mDay);\r\n\r\n                DatePicker dp = datePickerDialog.getDatePicker();\r\n                WindowManager.LayoutParams params = datePickerDialog.getWindow().getAttributes();\r\n\r\n                //params.gravity = Gravity.CENTER_HORIZONTAL;\r\n              \r\n                params.width = 50; // dialogWidth;\r\n                params.height = 100; // dialogHeight;\r\n                datePickerDialog.show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n        public void onClick(View view) {\r\n\r\n            switch (view.getId()) {\r\n                case R.id.Next:\r\n                    openHomePage();\r\n                    break;\r\n                case R.id.male:\r\n                    gender=&quot;0&quot;;\r\n                    break;\r\n                case R.id.female:\r\n                    rbFemale.setTag(&quot;0&quot;);\r\n                    gender=rbFemale.getTag().toString();\r\n                    break;\r\n            }\r\n        }\r\n\r\n    public void openHomePage() {\r\n\r\n        String userHeight = height.getText().toString();\r\n        String userWeight = weight.getText().toString();\r\n        String userAge = age.getText().toString();\r\n        \r\n\r\n        HashMap&lt;String, String&gt; meMap = new HashMap&lt;String, String&gt;();\r\n        meMap.put(&quot;height&quot;, userHeight);\r\n        meMap.put(&quot;age&quot;, userAge);\r\n        meMap.put(&quot;gender&quot;, gender);\r\n        //meMap.put(&quot;activity_level&quot;,act);\r\n        meMap.put(&quot;current_weight&quot;,userWeight);\r\n\r\n        Call&lt;QuestionResponse&gt; call = RetrofitClient\r\n                .getInstance()\r\n                .getApi()\r\n                .calculation(meMap);\r\n\r\n        call.enqueue(new Callback&lt;QuestionResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;QuestionResponse&gt; call, Response&lt;QuestionResponse&gt; response) {\r\n\r\n                QuestionResponse questionResponse = response.body();\r\n\r\n                if (response.isSuccessful()) {\r\n\r\n                    if (questionResponse.getStatus().equals(&quot;SUCCESS&quot;)) {\r\n                        Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        Intent intent = new Intent(BMIquestions.this, HomePage.class);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    } else {\r\n                        Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n                else {\r\n                    Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;QuestionResponse&gt; call, Throwable t) {\r\n                Toast.makeText(BMIquestions.this, t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n\r\n        });\r\n\r\n        Intent i=new Intent(BMIquestions.this,HomePage.class);\r\n        startActivity(i);\r\n    }\r\n    }\r\n\r\n```\r\nHere is activity_bmiquestions.xml\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.questions.BMIquestions&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/targetWeight&quot;\r\n        android:layout_width=&quot;386dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;@font/roboto_regular&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingStart=&quot;12dp&quot;\r\n        android:paddingTop=&quot;60dp&quot;\r\n        android:text=&quot;Tell us About Youself&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;122dp&quot;\r\n            android:fontFamily=&quot;@font/roboto_regular&quot;\r\n            android:text=&quot;Gender:&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/gender_group&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;142dp&quot;\r\n            android:paddingStart=&quot;24dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            &gt;\r\n\r\n            &lt;RadioButton\r\n                    android:id=&quot;@+id/female&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Female&quot;\r\n                    /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/male&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Male&quot; /&gt;\r\n\r\n        &lt;/RadioGroup&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;18dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;230dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/age&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:hint=&quot;DD/MM/YYYY&quot; /&gt;\r\n\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/calender&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:background=&quot;@drawable/ic_baseline_calendar_today_24&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;120dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;202dp&quot;\r\n            android:fontFamily=&quot;@font/roboto_regular&quot;\r\n            android:text=&quot;Height in centimeter&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;230dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/currentHeight&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:hint=&quot;Enter your height&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:text=&quot;cm&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;17dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;202dp&quot;\r\n            android:fontFamily=&quot;@font/roboto_regular&quot;\r\n            android:text=&quot;When were you born ?&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;230dp&quot;\r\n            android:orientation=&quot;horizontal&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;120dp&quot;&gt;\r\n\r\n          &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;230dp&quot;\r\n            android:orientation=&quot;horizontal&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;230dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;202dp&quot;\r\n            android:fontFamily=&quot;@font/roboto_regular&quot;\r\n            android:text=&quot;Weight in kilogram&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;230dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/currentWeight&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:hint=&quot;Enter your weight&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;kg&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;440dp&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;&gt;\r\n\r\n    \r\n  \r\n  \r\n  \r\n  &lt;com.google.android.material.textfield.TextInputLayout\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:layout_width=&quot;330dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:hint=&quot;Activity Level&quot; &gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/type&quot;\r\n            android:inputType=&quot;none&quot;&gt;\r\n\r\n\r\n        &lt;/AutoCompleteTextView&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;android.widget.Button\r\n        android:id=&quot;@+id/Next&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;21dp&quot;\r\n        android:background=&quot;@color/dark_grey&quot;\r\n        android:text=&quot;Next&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/android.widget.Button&gt;\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\nHere is Api Interface\r\n\r\n```\r\n\r\n public interface Api{\r\n       //GetCalculations\r\n    @POST(&quot;calculation&quot;)\r\n    Call&lt;QuestionResponse&gt; calculation(\r\n            @Body HashMap&lt;String, String&gt; body\r\n    );\r\n}\r\n\r\n```\r\nHere is RetrofitClient.java\r\n\r\n```\r\n\r\npackage com.example.signup.ui.api;\r\n\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient {\r\n    //singeleton class defining retrofit client\r\n    //define base url\r\n    //initialize retrofit object\r\n\r\n    private static final String BASE_URL = &quot;http://xxx.xxx.xxx.xxx:xxxx/api/&quot;;\r\n    private static RetrofitClient retrofitClient;\r\n    private static Retrofit retrofit;\r\n\r\n    // HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n    //  interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n    // OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n\r\n    private RetrofitClient() {\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n    }\r\n\r\n    //return instances when above method call\r\n    public static synchronized RetrofitClient getInstance() {\r\n        if (retrofitClient==null) {\r\n            retrofitClient = new RetrofitClient();\r\n        }\r\n        return retrofitClient;\r\n    }\r\n\r\n    public Api getApi() {\r\n        return retrofit.create(Api.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow can I fix this problem?\r\n","title":"how to save selected radio button and spinner data by value using rest API?","body":"<p>I am using rest API and facing some issue when embedding an API. How do I save spinner and radio button data by value and using retrofit2.This API is for calculating BMR and BMR Please help!</p>\n<p>Here is BMIquestions.java</p>\n<pre><code>\npublic class BMIquestions extends AppCompatActivity implements View.OnClickListener{\n\n    Button nextbtn;\n    ImageButton date;\n    DatePickerDialog datePickerDialog;\n    EditText age, height, weight;\n    // Let's assume 1 = male and 0 = female\n    // Declare a RadioGroup object reference\n    RadioGroup rgGender;\n    // Declare RadioButton object references for Male and Female\n    RadioButton rbMale, rbFemale;\n    private String gender=null;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n{\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_bmiquestions);\n        getSupportActionBar().hide();\n        nextbtn = findViewById(R.id.Next);\n        date = findViewById(R.id.calender);\n        age = findViewById(R.id.age);\n        height = findViewById(R.id.currentHeight);\n        weight = findViewById(R.id.currentHeight);\n        rgGender = findViewById(R.id.gender_group);\n        rbMale = findViewById(R.id.male);\n        rbFemale = findViewById(R.id.female);\n\n        rgGender.clearCheck();\n        rgGender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                rbMale = group.findViewById(R.id.male);\n                rbFemale = group.findViewById(R.id.female);\n                if(rbMale.isSelected()){\n                    rbMale.setTag(&quot;1&quot;);\n                    rbMale.getTag().toString();\n                if(rbFemale.isSelected()){\n                    rbFemale.setTag(&quot;0&quot;);\n                    rbFemale.getTag().toString();\n                }\n\n                }\n\n            }\n        });\n\n        findViewById(R.id.female).setOnClickListener(this);\n        findViewById(R.id.male).setOnClickListener(this);\n        findViewById(R.id.Next).setOnClickListener(this);\n        String[] level = new String[]{&quot;Not Very Activ&quot;, &quot;Lightly Active&quot;, &quot;Active&quot;, &quot;Very Active&quot;};\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(\n                this,\n                R.layout.drop_down_items,\n                level\n        );\n\n        AutoCompleteTextView autoCompleteTextView = findViewById(R.id.type);\n        autoCompleteTextView.setAdapter(adapter);\n\n        autoCompleteTextView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Toast.makeText(BMIquestions.this, autoCompleteTextView.getText().toString(), Toast.LENGTH_SHORT).show();\n                if(autoCompleteTextView.getText().toString().equals(&quot;Lightly Active&quot;)){\n                    autoCompleteTextView.setTag(&quot;1.55&quot;);\n                }\n            }\n        });\n\n        date.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            @Override\n            public void onClick(View view) {\n                // Calender class 's instance and get current,date ,month and year from calender\n                final Calendar c = Calendar.getInstance();\n                int mYear = c.get(Calendar.YEAR);//current year\n                int mMonth = c.get(Calendar.MONTH);//current month\n                int mDay = c.get(Calendar.DAY_OF_MONTH);//current date\n                final int noofyears = (int) (mYear - c.get(Calendar.YEAR)); //calculate age\n\n                //date picker dialog\n                datePickerDialog = new DatePickerDialog(BMIquestions.this,\n                        new DatePickerDialog.OnDateSetListener() {\n\n                            @Override\n                            public void onDateSet(DatePicker view, int year,\n                                                  int monthOfYear, int dayOfMonth) {\n                                // set day of month , month and year value in the edit text\n                                age.setText(dayOfMonth + &quot;/&quot;\n                                        + (monthOfYear + 1) + &quot;/&quot; + year);\n\n                            }\n                        }, mYear, mMonth, mDay);\n\n                DatePicker dp = datePickerDialog.getDatePicker();\n                WindowManager.LayoutParams params = datePickerDialog.getWindow().getAttributes();\n\n                //params.gravity = Gravity.CENTER_HORIZONTAL;\n              \n                params.width = 50; // dialogWidth;\n                params.height = 100; // dialogHeight;\n                datePickerDialog.show();\n            }\n        });\n\n    }\n\n\n        public void onClick(View view) {\n\n            switch (view.getId()) {\n                case R.id.Next:\n                    openHomePage();\n                    break;\n                case R.id.male:\n                    gender=&quot;0&quot;;\n                    break;\n                case R.id.female:\n                    rbFemale.setTag(&quot;0&quot;);\n                    gender=rbFemale.getTag().toString();\n                    break;\n            }\n        }\n\n    public void openHomePage() {\n\n        String userHeight = height.getText().toString();\n        String userWeight = weight.getText().toString();\n        String userAge = age.getText().toString();\n        \n\n        HashMap&lt;String, String&gt; meMap = new HashMap&lt;String, String&gt;();\n        meMap.put(&quot;height&quot;, userHeight);\n        meMap.put(&quot;age&quot;, userAge);\n        meMap.put(&quot;gender&quot;, gender);\n        //meMap.put(&quot;activity_level&quot;,act);\n        meMap.put(&quot;current_weight&quot;,userWeight);\n\n        Call&lt;QuestionResponse&gt; call = RetrofitClient\n                .getInstance()\n                .getApi()\n                .calculation(meMap);\n\n        call.enqueue(new Callback&lt;QuestionResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;QuestionResponse&gt; call, Response&lt;QuestionResponse&gt; response) {\n\n                QuestionResponse questionResponse = response.body();\n\n                if (response.isSuccessful()) {\n\n                    if (questionResponse.getStatus().equals(&quot;SUCCESS&quot;)) {\n                        Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\n                        Intent intent = new Intent(BMIquestions.this, HomePage.class);\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                        startActivity(intent);\n                        finish();\n                    } else {\n                        Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n                else {\n                    Toast.makeText(BMIquestions.this, questionResponse.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;QuestionResponse&gt; call, Throwable t) {\n                Toast.makeText(BMIquestions.this, t.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n\n\n        });\n\n        Intent i=new Intent(BMIquestions.this,HomePage.class);\n        startActivity(i);\n    }\n    }\n\n</code></pre>\n<p>Here is activity_bmiquestions.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.questions.BMIquestions&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/targetWeight&quot;\n        android:layout_width=&quot;386dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/roboto_regular&quot;\n        android:gravity=&quot;center&quot;\n        android:paddingStart=&quot;12dp&quot;\n        android:paddingTop=&quot;60dp&quot;\n        android:text=&quot;Tell us About Youself&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;122dp&quot;\n            android:fontFamily=&quot;@font/roboto_regular&quot;\n            android:text=&quot;Gender:&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n\n        &lt;RadioGroup\n            android:id=&quot;@+id/gender_group&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;142dp&quot;\n            android:paddingStart=&quot;24dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            &gt;\n\n            &lt;RadioButton\n                    android:id=&quot;@+id/female&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Female&quot;\n                    /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/male&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Male&quot; /&gt;\n\n        &lt;/RadioGroup&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;18dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;230dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/age&quot;\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:hint=&quot;DD/MM/YYYY&quot; /&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/calender&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:background=&quot;@drawable/ic_baseline_calendar_today_24&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;120dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;202dp&quot;\n            android:fontFamily=&quot;@font/roboto_regular&quot;\n            android:text=&quot;Height in centimeter&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;230dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/currentHeight&quot;\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:hint=&quot;Enter your height&quot;/&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:text=&quot;cm&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;17dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;202dp&quot;\n            android:fontFamily=&quot;@font/roboto_regular&quot;\n            android:text=&quot;When were you born ?&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;230dp&quot;\n            android:orientation=&quot;horizontal&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;120dp&quot;&gt;\n\n          &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;230dp&quot;\n            android:orientation=&quot;horizontal&quot;/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;230dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;202dp&quot;\n            android:fontFamily=&quot;@font/roboto_regular&quot;\n            android:text=&quot;Weight in kilogram&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;230dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/currentWeight&quot;\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:hint=&quot;Enter your weight&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;kg&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;440dp&quot;\n        android:layout_marginStart=&quot;10dp&quot;&gt;\n\n    \n  \n  \n  \n  &lt;com.google.android.material.textfield.TextInputLayout\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n        android:layout_width=&quot;330dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:hint=&quot;Activity Level&quot; &gt;\n\n        &lt;AutoCompleteTextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/type&quot;\n            android:inputType=&quot;none&quot;&gt;\n\n\n        &lt;/AutoCompleteTextView&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;/RelativeLayout&gt;\n    &lt;android.widget.Button\n        android:id=&quot;@+id/Next&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;21dp&quot;\n        android:background=&quot;@color/dark_grey&quot;\n        android:text=&quot;Next&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/android.widget.Button&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>Here is Api Interface</p>\n<pre><code>\n public interface Api{\n       //GetCalculations\n    @POST(&quot;calculation&quot;)\n    Call&lt;QuestionResponse&gt; calculation(\n            @Body HashMap&lt;String, String&gt; body\n    );\n}\n\n</code></pre>\n<p>Here is RetrofitClient.java</p>\n<pre><code>\npackage com.example.signup.ui.api;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient {\n    //singeleton class defining retrofit client\n    //define base url\n    //initialize retrofit object\n\n    private static final String BASE_URL = &quot;http://xxx.xxx.xxx.xxx:xxxx/api/&quot;;\n    private static RetrofitClient retrofitClient;\n    private static Retrofit retrofit;\n\n    // HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    //  interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    // OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n\n    private RetrofitClient() {\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n\n    //return instances when above method call\n    public static synchronized RetrofitClient getInstance() {\n        if (retrofitClient==null) {\n            retrofitClient = new RetrofitClient();\n        }\n        return retrofitClient;\n    }\n\n    public Api getApi() {\n        return retrofit.create(Api.class);\n    }\n}\n\n</code></pre>\n<p>How can I fix this problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8822,"page":1170,"page_size":100}
