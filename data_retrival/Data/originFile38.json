{"items":[{"tags":["java","xjc","maven-jaxb2-plugin","jaxb2-basics"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700814909,"creation_date":1700258836,"answer_id":77504860,"question_id":72382188,"body_markdown":"New issue created in jaxb-tools repository since jaxb2-basics has been merged there now : https://github.com/highsource/jaxb-tools/issues/453\r\n\r\nI&#39;ve seen that property created by the simplify plugin are not wrapped like xjc properties and this wrap done is responsible of customizations like the isSet methods.\r\n\r\nI&#39;ll update the answer with PR when provided and then with release when done if possible\r\n\r\n**EDIT 21/11/2023** : PR created : https://github.com/highsource/jaxb-tools/pull/455\r\n\r\n**EDIT 24/11/2023** : PR merged, will be available in 4.0.1 release","title":"isSet methods not generated using jaxb2-basics simplify plugin","body":"<p>New issue created in jaxb-tools repository since jaxb2-basics has been merged there now : <a href=\"https://github.com/highsource/jaxb-tools/issues/453\" rel=\"nofollow noreferrer\">https://github.com/highsource/jaxb-tools/issues/453</a></p>\n<p>I've seen that property created by the simplify plugin are not wrapped like xjc properties and this wrap done is responsible of customizations like the isSet methods.</p>\n<p>I'll update the answer with PR when provided and then with release when done if possible</p>\n<p><strong>EDIT 21/11/2023</strong> : PR created : <a href=\"https://github.com/highsource/jaxb-tools/pull/455\" rel=\"nofollow noreferrer\">https://github.com/highsource/jaxb-tools/pull/455</a></p>\n<p><strong>EDIT 24/11/2023</strong> : PR merged, will be available in 4.0.1 release</p>\n"}],"owner":{"account_id":5679859,"reputation":77,"user_id":4491468,"display_name":"pcesarperez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700814909,"creation_date":1653501023,"question_id":72382188,"body_markdown":"I have a schema with two elements within a `&lt;xs:choice/&gt;` block, as per the following fragment:\r\n\r\n```xml\r\n&lt;xs:complexType name=&quot;POCD_MT000040.Component2&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;realmCode&quot; type=&quot;CS&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;xs:element name=&quot;typeId&quot; type=&quot;POCD_MT000040.InfrastructureRoot.typeId&quot; minOccurs=&quot;0&quot;/&gt;\r\n        &lt;xs:element name=&quot;templateId&quot; type=&quot;II&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;xs:choice&gt;\r\n            &lt;xs:element name=&quot;nonXMLBody&quot; type=&quot;POCD_MT000040.NonXMLBody&quot;/&gt;\r\n            &lt;xs:element name=&quot;structuredBody&quot; type=&quot;POCD_MT000040.StructuredBody&quot;/&gt;\r\n        &lt;/xs:choice&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;xs:attribute name=&quot;nullFlavor&quot; type=&quot;NullFlavor&quot; use=&quot;optional&quot;/&gt;\r\n    &lt;xs:attribute name=&quot;typeCode&quot; type=&quot;ActRelationshipHasComponent&quot; use=&quot;optional&quot; fixed=&quot;COMP&quot;/&gt;\r\n    &lt;xs:attribute name=&quot;contextConductionInd&quot; type=&quot;bl&quot; use=&quot;optional&quot; fixed=&quot;true&quot;/&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n\r\nThis is part of the HL7/CDA specification schemas, by the way.\r\n\r\nWell, I am using `maven-jaxb2-plugin` to generate the Java classes, with a touch of the `jaxb2-basics` plugin to simplify complex elements, like `nonXMLBody` and `structuredBody`. Let&#39;s say I have a bindings file with the following contents:\r\n\r\n```xml\r\n&lt;jxb:bindings\r\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n    xmlns:simplify=&quot;http://jaxb2-commons.dev.java.net/basic/simplify&quot;\r\n    jxb:extensionBindingPrefixes=&quot;xjc simplify&quot;\r\n    version=&quot;2.1&quot;&gt;\r\n\r\n    &lt;jxb:globalBindings\r\n        typesafeEnumMaxMembers=&quot;1000&quot;\r\n        generateMixedExtensions=&quot;true&quot;\r\n        generateIsSetMethod=&quot;true&quot;\r\n        choiceContentProperty=&quot;true&quot;&gt;\r\n\r\n        &lt;xjc:serializable uid=&quot;1&quot; /&gt;\r\n    &lt;/jxb:globalBindings&gt;\r\n\r\n    &lt;jxb:bindings schemaLocation=&quot;xsd/POCD_MT000040.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;xs:complexType[@name=&#39;POCD_MT000040.Component2&#39;]//xs:choice&quot;&gt;\r\n            &lt;simplify:as-element-property /&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\n\r\n\r\n The attributes are generated as expected:\r\n\r\n```java\r\nprotected POCDMT000040NonXMLBody nonXMLBody;\r\nprotected POCDMT000040StructuredBody structuredBody;\r\n```\r\n\r\nHowever, although I am using `generateIsSetMethod=&quot;true&quot;` in the global bindings, the methods `isSetNonXMLBody ( )` and `isSetStructuredBody ( )` are not being generated at all. The equivalent methods for the rest of the attributes are present, though, like `isSetTypeId ( )`.\r\n\r\nAm I missing any option I should know of to generate these methods in the aforementioned elements?","title":"isSet methods not generated using jaxb2-basics simplify plugin","body":"<p>I have a schema with two elements within a <code>&lt;xs:choice/&gt;</code> block, as per the following fragment:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:complexType name=&quot;POCD_MT000040.Component2&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;realmCode&quot; type=&quot;CS&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n        &lt;xs:element name=&quot;typeId&quot; type=&quot;POCD_MT000040.InfrastructureRoot.typeId&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;xs:element name=&quot;templateId&quot; type=&quot;II&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n        &lt;xs:choice&gt;\n            &lt;xs:element name=&quot;nonXMLBody&quot; type=&quot;POCD_MT000040.NonXMLBody&quot;/&gt;\n            &lt;xs:element name=&quot;structuredBody&quot; type=&quot;POCD_MT000040.StructuredBody&quot;/&gt;\n        &lt;/xs:choice&gt;\n    &lt;/xs:sequence&gt;\n    &lt;xs:attribute name=&quot;nullFlavor&quot; type=&quot;NullFlavor&quot; use=&quot;optional&quot;/&gt;\n    &lt;xs:attribute name=&quot;typeCode&quot; type=&quot;ActRelationshipHasComponent&quot; use=&quot;optional&quot; fixed=&quot;COMP&quot;/&gt;\n    &lt;xs:attribute name=&quot;contextConductionInd&quot; type=&quot;bl&quot; use=&quot;optional&quot; fixed=&quot;true&quot;/&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>This is part of the HL7/CDA specification schemas, by the way.</p>\n<p>Well, I am using <code>maven-jaxb2-plugin</code> to generate the Java classes, with a touch of the <code>jaxb2-basics</code> plugin to simplify complex elements, like <code>nonXMLBody</code> and <code>structuredBody</code>. Let's say I have a bindings file with the following contents:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jxb:bindings\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n    xmlns:simplify=&quot;http://jaxb2-commons.dev.java.net/basic/simplify&quot;\n    jxb:extensionBindingPrefixes=&quot;xjc simplify&quot;\n    version=&quot;2.1&quot;&gt;\n\n    &lt;jxb:globalBindings\n        typesafeEnumMaxMembers=&quot;1000&quot;\n        generateMixedExtensions=&quot;true&quot;\n        generateIsSetMethod=&quot;true&quot;\n        choiceContentProperty=&quot;true&quot;&gt;\n\n        &lt;xjc:serializable uid=&quot;1&quot; /&gt;\n    &lt;/jxb:globalBindings&gt;\n\n    &lt;jxb:bindings schemaLocation=&quot;xsd/POCD_MT000040.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;xs:complexType[@name='POCD_MT000040.Component2']//xs:choice&quot;&gt;\n            &lt;simplify:as-element-property /&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>The attributes are generated as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected POCDMT000040NonXMLBody nonXMLBody;\nprotected POCDMT000040StructuredBody structuredBody;\n</code></pre>\n<p>However, although I am using <code>generateIsSetMethod=&quot;true&quot;</code> in the global bindings, the methods <code>isSetNonXMLBody ( )</code> and <code>isSetStructuredBody ( )</code> are not being generated at all. The equivalent methods for the rest of the attributes are present, though, like <code>isSetTypeId ( )</code>.</p>\n<p>Am I missing any option I should know of to generate these methods in the aforementioned elements?</p>\n"},{"tags":["java","localization","internationalization","antlr"],"comments":[{"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"score":1,"creation_date":1700814351,"post_id":77538820,"comment_id":136701608,"body_markdown":"You shouldn&#39;t use programming language parsers for natural language. Instead explore the field of NLP (natural language processing) for your task.","body":"You shouldn&#39;t use programming language parsers for natural language. Instead explore the field of NLP (natural language processing) for your task."},{"owner":{"account_id":8291385,"reputation":21,"user_id":6232897,"display_name":"Rick Noel"},"score":0,"creation_date":1700930037,"post_id":77538820,"comment_id":136713395,"body_markdown":"I agree with you, Mike. With my simpler requirements than the above example and some knowledge of ANTRL, I chose an expedient solution. I guess it&#39;s time look into NLP implementations. Thanks for your input.","body":"I agree with you, Mike. With my simpler requirements than the above example and some knowledge of ANTRL, I chose an expedient solution. I guess it&#39;s time look into NLP implementations. Thanks for your input."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700814702,"creation_date":1700813006,"answer_id":77541506,"question_id":77538820,"body_markdown":"No, there is nothing in the ANTLR API that makes internationalization easier. I&#39;d just create multiple grammars. And I agree with Mike: ANTLR isn&#39;t well suited to parse natural (human) languages.","title":"What is the best way to support parsing multiple languages in ANTLR?","body":"<p>No, there is nothing in the ANTLR API that makes internationalization easier. I'd just create multiple grammars. And I agree with Mike: ANTLR isn't well suited to parse natural (human) languages.</p>\n"}],"owner":{"account_id":8291385,"reputation":21,"user_id":6232897,"display_name":"Rick Noel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700814702,"creation_date":1700761391,"question_id":77538820,"body_markdown":"I have written an application in Java that allows the user to enter a statement like:\r\n\r\n**show photos with tag &quot;...&quot;**\r\n\r\nI use ANTLR to write a lexer/parser to parse the above input which is in English, obviously. I want to allow the user to enter the same statement in their native language (for example German). Is there a best practice for doing this in ANTLR?\r\n\r\n\r\nMy first thought was to write a lexer/parser for each supported language and name the generated classes with locale-specific suffixes and load the appropriate class based on the user&#39;s locale. However, before I recreate the ResourceBundle&#39;s loading algorithm, I wondered if there were some ANTLR features and best practices to make this easier.","title":"What is the best way to support parsing multiple languages in ANTLR?","body":"<p>I have written an application in Java that allows the user to enter a statement like:</p>\n<p><strong>show photos with tag &quot;...&quot;</strong></p>\n<p>I use ANTLR to write a lexer/parser to parse the above input which is in English, obviously. I want to allow the user to enter the same statement in their native language (for example German). Is there a best practice for doing this in ANTLR?</p>\n<p>My first thought was to write a lexer/parser for each supported language and name the generated classes with locale-specific suffixes and load the appropriate class based on the user's locale. However, before I recreate the ResourceBundle's loading algorithm, I wondered if there were some ANTLR features and best practices to make this easier.</p>\n"},{"tags":["java","set","minimum-spanning-tree","kruskals-algorithm"],"answers":[{"tags":[],"owner":{"account_id":28659256,"reputation":1,"user_id":21944516,"display_name":"Golibjon Odinaev"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700714815,"creation_date":1700668653,"answer_id":77531425,"question_id":77530221,"body_markdown":"Here you must use from interfaces, befor create \r\n```java\r\ninterface A {\r\n    int set1 {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        set.add(i);\r\n        return set;\r\n    }\r\n}\r\n\r\ninterface B extends A {\r\n    Set&lt;Integer&gt; connectedComponents = new HashSet&lt;&gt;();\r\n    for (Integer i : graph.vertexSet()) {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        set.add(i);\r\n        connectedComponents.add(set);\r\n    }\r\n```\r\n...etc. So you can solve problem step by step.","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>Here you must use from interfaces, befor create</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface A {\n    int set1 {\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        set.add(i);\n        return set;\n    }\n}\n\ninterface B extends A {\n    Set&lt;Integer&gt; connectedComponents = new HashSet&lt;&gt;();\n    for (Integer i : graph.vertexSet()) {\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        set.add(i);\n        connectedComponents.add(set);\n    }\n</code></pre>\n<p>...etc. So you can solve problem step by step.</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700814577,"creation_date":1700670851,"answer_id":77531691,"question_id":77530221,"body_markdown":"The value of `connectedComponents` is a mutable set, whose elements are also mutable sets. The problem is, that by destructively modifying the elements of `connectedComponents` without &quot;notifying&quot; the container, the container&#39;s data structures are silently corrupted.\r\n\r\nHash sets are managed data structures, that use an integer value (the `hashCode`) derived from the contents of their elements to guide where they put the object internally in their private data structures. This mechanism gives fast insertion and retrieval (usually in the order of `O(1)`). However, for this to work, the `hashCode` must not change while the object is present in the container. \r\n\r\nIn your code, the container is a `HashSet&lt;HashSet&lt;Integer&gt;&gt;` and the elements are `HashSet&lt;Integer&gt;` instances. For Java&#39;s sets, the hash code is computed based on the what the set currently contains. So, when you do \r\n\r\n```java\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.add(i);\r\nconnectedComponents.add(set);\r\n```\r\n\r\nthe `connectedComponents` container computes a hash code from `set` and uses that to determine a place to put the object into in its internal data structures. However, when you do\r\n\r\n```java\r\nstartSet.addAll(endSet);\r\n```\r\n\r\nyou **mutate** the contents of `startSet` which in turn causes its hash code to change. From `connectedComponent`&#39;s perspective, the object is now &quot;in the wrong place&quot; in its internal data structures, and hence it is likely, that it will not be found again. The important thing here is, that data structure like `HashSet` are based on `equals` and `hashCode`, and for many data structures (including `HashSet`) those are based on the actual contents, not merely on object identity.\r\n\r\nTo address this problem, try removing the element set from `connectedComponents` before mutating it, and then add it back afterward:\r\n\r\n```java\r\nif(!startSet.equals(endSet)){\r\n    connectedComponents.remove(startSet);  // Added back below ...\r\n    connectedComponents.remove(endSet);\r\n    startSet.addAll(endSet);\r\n    connectedComponents.add(startSet);     // ... right here\r\n    tree.addEdge(start, end, edge);\r\n}\r\n```\r\n\r\nAlternatively, it might help to keep track of the element sets using a different container, like an `IdentityHashMap` (use whatever you like as the value). This would work here, since you do not need the container to track the element sets by their content (as `HashSet` implicitly does).\r\n\r\nFor example:\r\n\r\n```java\r\nIdentityHashMap&lt;Set&lt;Integer&gt;, Object&gt; connectedComponents = new IdentityHashMap&lt;&gt;();\r\n\r\n...\r\n\r\nfor(Integer i : graph.vertexSet()){\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    set.add(i);\r\n    connectedComponents.put(set, set);\r\n}\r\n\r\n...\r\n\r\nfor(Set&lt;Integer&gt; set: connectedComponents.keySet()) {\r\n    ...\r\n    if(set.contains(start)){\r\n        startSet = set;\r\n    }\r\n    if(set.contains(end)){\r\n        endSet = set;\r\n    }\r\n}\r\n\r\nif(!startSet.equals(endSet)) {\r\n    connectedComponents.remove(endSet);\r\n    startSet.addAll(endSet);\r\n    tree.addEdge(start, end, edge);\r\n}\r\n```\r\n\r\nI am not sure right now, whether it should remain `!startSet.equals(endSet)` or whether you might want to use `startSet != endSet` with the modified code, though. The former version uses &quot;deep equality&quot; for the test (i.e., considers the actual contents the the sets involved) whereas the latter version works by object identity only, which I think would be more appropriate if you consider the `IdentityHashMap` route.","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>The value of <code>connectedComponents</code> is a mutable set, whose elements are also mutable sets. The problem is, that by destructively modifying the elements of <code>connectedComponents</code> without &quot;notifying&quot; the container, the container's data structures are silently corrupted.</p>\n<p>Hash sets are managed data structures, that use an integer value (the <code>hashCode</code>) derived from the contents of their elements to guide where they put the object internally in their private data structures. This mechanism gives fast insertion and retrieval (usually in the order of <code>O(1)</code>). However, for this to work, the <code>hashCode</code> must not change while the object is present in the container.</p>\n<p>In your code, the container is a <code>HashSet&lt;HashSet&lt;Integer&gt;&gt;</code> and the elements are <code>HashSet&lt;Integer&gt;</code> instances. For Java's sets, the hash code is computed based on the what the set currently contains. So, when you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.add(i);\nconnectedComponents.add(set);\n</code></pre>\n<p>the <code>connectedComponents</code> container computes a hash code from <code>set</code> and uses that to determine a place to put the object into in its internal data structures. However, when you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>startSet.addAll(endSet);\n</code></pre>\n<p>you <strong>mutate</strong> the contents of <code>startSet</code> which in turn causes its hash code to change. From <code>connectedComponent</code>'s perspective, the object is now &quot;in the wrong place&quot; in its internal data structures, and hence it is likely, that it will not be found again. The important thing here is, that data structure like <code>HashSet</code> are based on <code>equals</code> and <code>hashCode</code>, and for many data structures (including <code>HashSet</code>) those are based on the actual contents, not merely on object identity.</p>\n<p>To address this problem, try removing the element set from <code>connectedComponents</code> before mutating it, and then add it back afterward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!startSet.equals(endSet)){\n    connectedComponents.remove(startSet);  // Added back below ...\n    connectedComponents.remove(endSet);\n    startSet.addAll(endSet);\n    connectedComponents.add(startSet);     // ... right here\n    tree.addEdge(start, end, edge);\n}\n</code></pre>\n<p>Alternatively, it might help to keep track of the element sets using a different container, like an <code>IdentityHashMap</code> (use whatever you like as the value). This would work here, since you do not need the container to track the element sets by their content (as <code>HashSet</code> implicitly does).</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IdentityHashMap&lt;Set&lt;Integer&gt;, Object&gt; connectedComponents = new IdentityHashMap&lt;&gt;();\n\n...\n\nfor(Integer i : graph.vertexSet()){\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    set.add(i);\n    connectedComponents.put(set, set);\n}\n\n...\n\nfor(Set&lt;Integer&gt; set: connectedComponents.keySet()) {\n    ...\n    if(set.contains(start)){\n        startSet = set;\n    }\n    if(set.contains(end)){\n        endSet = set;\n    }\n}\n\nif(!startSet.equals(endSet)) {\n    connectedComponents.remove(endSet);\n    startSet.addAll(endSet);\n    tree.addEdge(start, end, edge);\n}\n</code></pre>\n<p>I am not sure right now, whether it should remain <code>!startSet.equals(endSet)</code> or whether you might want to use <code>startSet != endSet</code> with the modified code, though. The former version uses &quot;deep equality&quot; for the test (i.e., considers the actual contents the the sets involved) whereas the latter version works by object identity only, which I think would be more appropriate if you consider the <code>IdentityHashMap</code> route.</p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700746516,"creation_date":1700675429,"answer_id":77532171,"question_id":77530221,"body_markdown":"A typical implementation of Kruskal&#39;s algorithm uses [disjoint-set data structure](https://en.wikipedia.org/wiki/Disjoint-set_data_structure) for this. With this data structure your code simplifies to the following:\r\n\r\n```java\r\n// Receives a graph and computes a minimum spanning tree\r\npublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\r\n    var tree = new AsSubgraph&lt;&gt;(graph, graph.vertexSet(), new HashSet&lt;&gt;());\r\n    var edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\r\n    edgeQueue.addAll(graph.edgeSet());\r\n    DisjointSet connectedComponents = new DisjointSet(graph.vertexSet());\r\n    int n = tree.vertexSet().size() - 1;\r\n    \r\n    while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\r\n        DefaultWeightedEdge edge = edgeQueue.poll();\r\n        Integer start = graph.getEdgeSource(edge);\r\n        Integer end = graph.getEdgeTarget(edge);\r\n\r\n        if (connectedComponents.findSet(start) != connectedComponents.findSet(end)) {\r\n        \tconnectedComponents.union(start, end);\r\n            tree.addEdge(start, end, edge);\r\n        }\r\n    }\r\n    \r\n    return tree;\r\n}\r\n```\r\n\r\n[_Introduction to Algorithms_, 3rd edition](https://www.amazon.com/Introduction-Algorithms-3rd-MIT-Press/dp/0262033844) by Thomas H. Cormen et al. devotes the whole Chapter 21 to the disjoint-set data structure. For a given set of elements, the data structure holds its subsets such that\r\n\r\n1. every elements belongs to a subset held in the data structure and\r\n2. subsets in the data structure do not intersect (i.e., disjoint).\r\n\r\nInitially, all elements belong to its own, singleton, subset. The data structure allows to check if two elements belong to the same subset and to join subsets. This makes it ideal for graph algorithms: elements are vertices and subsets are connected components of the graph.\r\n\r\n```java\r\npublic class DisjointSet {\r\n\tprivate Map&lt;Integer, Entry&gt; setEntries;\r\n\t\r\n\tprivate static class Entry {\r\n\t\tprivate Integer parent;\r\n\t\tprivate int rank;\r\n\t}\r\n\t\r\n\t// Creates a collection of singleton sets.\r\n\tpublic DisjointSet(Set&lt;Integer&gt; vertices) {\r\n\t\tsetEntries = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tfor (Integer vertex: vertices) {\r\n\t\t\tEntry r = new Entry();\r\n\t\t\tr.parent = vertex;\r\n\t\t\tr.rank = 0;\r\n\t\t\tsetEntries.put(vertex, r);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Find the representative member of the subset containing the given element.\r\n\tpublic Integer findSet(Integer x) {\r\n\t\tEntry r = setEntries.get(x);\r\n\t\t\r\n\t\tif (r.parent != x) {\r\n\t\t\tr.parent = findSet(r.parent);\r\n\t\t}\r\n\t\t\r\n\t\treturn r.parent;\r\n\t}\r\n\t\r\n\t// Joins two subsets containing the given elements.\r\n\tpublic void union(Integer x, Integer y) {\r\n\t\tlink(findSet(x), findSet(y));\r\n\t}\r\n\t\r\n\tprivate void link(Integer x, Integer y) {\r\n\t\tEntry rx = setEntries.get(x);\r\n\t\tEntry ry = setEntries.get(y);\r\n\t\t\r\n\t\tif (rx.rank &gt; ry.rank) {\r\n\t\t\try.parent = x;\r\n\t\t} else {\r\n\t\t\trx.parent = y;\r\n\t\t\t\r\n\t\t\tif (rx.rank == ry.rank) {\r\n\t\t\t\try.rank++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>A typical implementation of Kruskal's algorithm uses <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">disjoint-set data structure</a> for this. With this data structure your code simplifies to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Receives a graph and computes a minimum spanning tree\npublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\n    var tree = new AsSubgraph&lt;&gt;(graph, graph.vertexSet(), new HashSet&lt;&gt;());\n    var edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\n    edgeQueue.addAll(graph.edgeSet());\n    DisjointSet connectedComponents = new DisjointSet(graph.vertexSet());\n    int n = tree.vertexSet().size() - 1;\n    \n    while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\n        DefaultWeightedEdge edge = edgeQueue.poll();\n        Integer start = graph.getEdgeSource(edge);\n        Integer end = graph.getEdgeTarget(edge);\n\n        if (connectedComponents.findSet(start) != connectedComponents.findSet(end)) {\n            connectedComponents.union(start, end);\n            tree.addEdge(start, end, edge);\n        }\n    }\n    \n    return tree;\n}\n</code></pre>\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0262033844\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\"><em>Introduction to Algorithms</em>, 3rd edition</a> by Thomas H. Cormen et al. devotes the whole Chapter 21 to the disjoint-set data structure. For a given set of elements, the data structure holds its subsets such that</p>\n<ol>\n<li>every elements belongs to a subset held in the data structure and</li>\n<li>subsets in the data structure do not intersect (i.e., disjoint).</li>\n</ol>\n<p>Initially, all elements belong to its own, singleton, subset. The data structure allows to check if two elements belong to the same subset and to join subsets. This makes it ideal for graph algorithms: elements are vertices and subsets are connected components of the graph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DisjointSet {\n    private Map&lt;Integer, Entry&gt; setEntries;\n    \n    private static class Entry {\n        private Integer parent;\n        private int rank;\n    }\n    \n    // Creates a collection of singleton sets.\n    public DisjointSet(Set&lt;Integer&gt; vertices) {\n        setEntries = new HashMap&lt;&gt;();\n        \n        for (Integer vertex: vertices) {\n            Entry r = new Entry();\n            r.parent = vertex;\n            r.rank = 0;\n            setEntries.put(vertex, r);\n        }\n    }\n    \n    // Find the representative member of the subset containing the given element.\n    public Integer findSet(Integer x) {\n        Entry r = setEntries.get(x);\n        \n        if (r.parent != x) {\n            r.parent = findSet(r.parent);\n        }\n        \n        return r.parent;\n    }\n    \n    // Joins two subsets containing the given elements.\n    public void union(Integer x, Integer y) {\n        link(findSet(x), findSet(y));\n    }\n    \n    private void link(Integer x, Integer y) {\n        Entry rx = setEntries.get(x);\n        Entry ry = setEntries.get(y);\n        \n        if (rx.rank &gt; ry.rank) {\n            ry.parent = x;\n        } else {\n            rx.parent = y;\n            \n            if (rx.rank == ry.rank) {\n                ry.rank++;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20645428,"reputation":131,"user_id":15186520,"display_name":"sorry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77531691,"answer_count":3,"score":0,"last_activity_date":1700814577,"creation_date":1700658590,"question_id":77530221,"body_markdown":"in the following code I am trying to implement Kruskal&#39;s algorithm to compute the minimal spanning tree of a graph.\r\n\r\nThe problem is that removing sets from the connected components does not work properly and that the case if(!startSet.equals(endSet)) always seems to be executed.\r\n\r\nNow the code:\r\n\r\n        import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.jgrapht.Graph;\r\n    import org.jgrapht.graph.AsSubgraph;\r\n    import org.jgrapht.graph.DefaultWeightedEdge;\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class mySpanningTree {\r\n    \t\r\n    \t//Receives a graph and computes a minimum spanning tree\r\n    \tpublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\r\n    \t\tAsSubgraph&lt;Integer, DefaultWeightedEdge&gt; tree = new AsSubgraph&lt;Integer, DefaultWeightedEdge&gt;(graph, graph.vertexSet(), new HashSet&lt;DefaultWeightedEdge&gt;());\r\n    \r\n            PriorityQueue&lt;DefaultWeightedEdge&gt; edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\r\n            edgeQueue.addAll(graph.edgeSet());\r\n            Set&lt;Set&lt;Integer&gt;&gt; connectedComponents = new HashSet&lt;&gt;();\r\n            for(Integer i : graph.vertexSet()){\r\n                Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n                set.add(i);\r\n                connectedComponents.add(set);\r\n            }\r\n            int n = tree.vertexSet().size() - 1;\r\n    \t\twhile (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\r\n                DefaultWeightedEdge edge = edgeQueue.poll();\r\n                Integer start = graph.getEdgeSource(edge);\r\n                Integer end = graph.getEdgeTarget(edge);\r\n                Set&lt;Integer&gt; startSet =  null;\r\n                Set&lt;Integer&gt; endSet = null;\r\n                for(Set&lt;Integer&gt; set: connectedComponents){\r\n                    if(set.contains(start)){\r\n                        startSet = set;\r\n                    }\r\n                    if(set.contains(end)){\r\n                        endSet = set;\r\n                    }\r\n                }\r\n                if(!startSet.equals(endSet)){\r\n                    startSet.addAll(endSet);\r\n                    connectedComponents.remove(endSet);\r\n                    tree.addEdge(start, end, edge);\r\n                }\r\n                else{\r\n                }\r\n    \t\t}\r\n    \t\treturn tree;\r\n    \t}\r\n\r\nThe idea of the code is to keep track of the connected components in a set. Whenever an edge connects two nodes from different connected components, I want to union the two connected components and store the result inside the set instead of the two components from before. Furthermore, the edge shall be added.\r\nWhenever an edge has two endpoints in one and the same set, it shall not be added (since adding it would create a cycle).\r\n\r\nAny help is appreciated!","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>in the following code I am trying to implement Kruskal's algorithm to compute the minimal spanning tree of a graph.</p>\n<p>The problem is that removing sets from the connected components does not work properly and that the case if(!startSet.equals(endSet)) always seems to be executed.</p>\n<p>Now the code:</p>\n<pre><code>    import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.jgrapht.Graph;\nimport org.jgrapht.graph.AsSubgraph;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport java.util.PriorityQueue;\n\npublic class mySpanningTree {\n    \n    //Receives a graph and computes a minimum spanning tree\n    public static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\n        AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; tree = new AsSubgraph&lt;Integer, DefaultWeightedEdge&gt;(graph, graph.vertexSet(), new HashSet&lt;DefaultWeightedEdge&gt;());\n\n        PriorityQueue&lt;DefaultWeightedEdge&gt; edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\n        edgeQueue.addAll(graph.edgeSet());\n        Set&lt;Set&lt;Integer&gt;&gt; connectedComponents = new HashSet&lt;&gt;();\n        for(Integer i : graph.vertexSet()){\n            Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n            set.add(i);\n            connectedComponents.add(set);\n        }\n        int n = tree.vertexSet().size() - 1;\n        while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\n            DefaultWeightedEdge edge = edgeQueue.poll();\n            Integer start = graph.getEdgeSource(edge);\n            Integer end = graph.getEdgeTarget(edge);\n            Set&lt;Integer&gt; startSet =  null;\n            Set&lt;Integer&gt; endSet = null;\n            for(Set&lt;Integer&gt; set: connectedComponents){\n                if(set.contains(start)){\n                    startSet = set;\n                }\n                if(set.contains(end)){\n                    endSet = set;\n                }\n            }\n            if(!startSet.equals(endSet)){\n                startSet.addAll(endSet);\n                connectedComponents.remove(endSet);\n                tree.addEdge(start, end, edge);\n            }\n            else{\n            }\n        }\n        return tree;\n    }\n</code></pre>\n<p>The idea of the code is to keep track of the connected components in a set. Whenever an edge connects two nodes from different connected components, I want to union the two connected components and store the result inside the set instead of the two components from before. Furthermore, the edge shall be added.\nWhenever an edge has two endpoints in one and the same set, it shall not be added (since adding it would create a cycle).</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","sql","mysql","swing","stringtokenizer"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":2,"creation_date":1700815832,"post_id":77541641,"comment_id":136701857,"body_markdown":"You should use filter results instead of string token search. Providing all information separated by space is a bad UX for the end user. Provide drop-down for all categories and it will add look and feel to UX. If you want to provide full-text search, use elastic search as a database instead of MYSQL.","body":"You should use filter results instead of string token search. Providing all information separated by space is a bad UX for the end user. Provide drop-down for all categories and it will add look and feel to UX. If you want to provide full-text search, use elastic search as a database instead of MYSQL."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700822335,"post_id":77541641,"comment_id":136702962,"body_markdown":"The general form for such SQL queries is `SELECT * FROM TABLE WHERE 1 = 1 AND ...`, where multiple AND clauses contain each search term.","body":"The general form for such SQL queries is <code>SELECT * FROM TABLE WHERE 1 = 1 AND ...</code>, where multiple AND clauses contain each search term."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700845538,"post_id":77541641,"comment_id":136706668,"body_markdown":"You&#39;ll first need to define a syntax.  I recommend using _[BNF](https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form)_, or _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_.","body":"You&#39;ll first need to define a syntax.  I recommend using <i><a href=\"https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">BNF</a></i>, or <i><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></i>."}],"owner":{"account_id":21636597,"reputation":383,"user_id":15959434,"display_name":"TIMBLOCKER"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700814272,"creation_date":1700814272,"question_id":77541641,"body_markdown":"I want to create an application, where there is a searchbar similar to Stack Overflow. You can type in different tokens like `category:[category] color:red difficulty:easy` and the String will be tokenized and &quot;translated&quot; into a SQL Query to lookup in a database. \r\n\r\nI have done the following:\r\nI created a SWING GUI and made a JTextFiled where I get the String from. Then I have a StringTokenizer that splits the Strings assuming that people **always** type in Search filters separated by SPACE and the Tokens are Split by &quot;:&quot;. Then I would have to translate this information to a Query.\r\n\r\nMy problem is that I would have to dynamically create a Query.\r\nHow would be the best way to achieve this?\r\n\r\n\r\nThis is the beginning of the code:\r\n\r\n    String searchString = textField1.getText();\r\n    StringTokenizer st = new StringTokenizer(searchString, &quot; &quot;);\r\n\r\n                for (int i = 0; i &lt; st.countTokens(); i++) {\r\n                    String token = st.nextToken();\r\n                    StringTokenizer st2 = new StringTokenizer(token, &quot;:&quot;);\r\n                    for (int j = 0; j &lt; st2.countTokens(); j++) {\r\n                      if (j == 0){\r\n                          //For Every Filter there is one type like category, color, difficulty\r\n                      } else if (j == 1){\r\n                          //Here would be the Value of this filter\r\n                      }else{\r\n                          System.out.println(&quot;Error&quot;);\r\n                      }\r\n                    }\r\n                }\r\n\r\n    //In the End I Would Like to make a String Query\r\n    String sql = &quot;&quot;; //Here would be the Query","title":"How to create a tokenized filter search in Java?","body":"<p>I want to create an application, where there is a searchbar similar to Stack Overflow. You can type in different tokens like <code>category:[category] color:red difficulty:easy</code> and the String will be tokenized and &quot;translated&quot; into a SQL Query to lookup in a database.</p>\n<p>I have done the following:\nI created a SWING GUI and made a JTextFiled where I get the String from. Then I have a StringTokenizer that splits the Strings assuming that people <strong>always</strong> type in Search filters separated by SPACE and the Tokens are Split by &quot;:&quot;. Then I would have to translate this information to a Query.</p>\n<p>My problem is that I would have to dynamically create a Query.\nHow would be the best way to achieve this?</p>\n<p>This is the beginning of the code:</p>\n<pre><code>String searchString = textField1.getText();\nStringTokenizer st = new StringTokenizer(searchString, &quot; &quot;);\n\n            for (int i = 0; i &lt; st.countTokens(); i++) {\n                String token = st.nextToken();\n                StringTokenizer st2 = new StringTokenizer(token, &quot;:&quot;);\n                for (int j = 0; j &lt; st2.countTokens(); j++) {\n                  if (j == 0){\n                      //For Every Filter there is one type like category, color, difficulty\n                  } else if (j == 1){\n                      //Here would be the Value of this filter\n                  }else{\n                      System.out.println(&quot;Error&quot;);\n                  }\n                }\n            }\n\n//In the End I Would Like to make a String Query\nString sql = &quot;&quot;; //Here would be the Query\n</code></pre>\n"},{"tags":["java","webview","sandbox","file-access"],"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700814072,"creation_date":1700814072,"question_id":77541626,"body_markdown":"I am planning to setup a pure offline App for Windows and Android in Html/Javascript. \r\n\r\nThe problem is, that Browsers do not allow to integrate local stored Javascript files. Either I have to include all scripts in the main html (No good idea) or use for installation purposes a progressiv webapp.\r\n\r\nBut I would prefer to stay completly offline. \r\n\r\nTherefore, is it possible to configure the Java Webview on Android/Windows(and Linux) to disable these Sandboxing rules?","title":"Does Java Webview (Windows/Android) allow local file access","body":"<p>I am planning to setup a pure offline App for Windows and Android in Html/Javascript.</p>\n<p>The problem is, that Browsers do not allow to integrate local stored Javascript files. Either I have to include all scripts in the main html (No good idea) or use for installation purposes a progressiv webapp.</p>\n<p>But I would prefer to stay completly offline.</p>\n<p>Therefore, is it possible to configure the Java Webview on Android/Windows(and Linux) to disable these Sandboxing rules?</p>\n"},{"tags":["java","macos","sockets"],"comments":[{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":0,"creation_date":1409216869,"post_id":25544849,"comment_id":39885287,"body_markdown":"what version of jdk are you using","body":"what version of jdk are you using"},{"owner":{"display_name":"user3398633"},"score":1,"creation_date":1409216887,"post_id":25544849,"comment_id":39885299,"body_markdown":"Without the code you are using it will be much harder.","body":"Without the code you are using it will be much harder."},{"owner":{"account_id":3223020,"reputation":1760,"user_id":2719960,"accept_rate":75,"display_name":"DonyorM"},"score":0,"creation_date":1409217147,"post_id":25544849,"comment_id":39885476,"body_markdown":"We don&#39;t know enough to properly answer the question. What is the code? What JDK are you using?","body":"We don&#39;t know enough to properly answer the question. What is the code? What JDK are you using?"},{"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"score":0,"creation_date":1409217400,"post_id":25544849,"comment_id":39885645,"body_markdown":"I&#39;m using jdk 1.6 and the code for MessageServer.java","body":"I&#39;m using jdk 1.6 and the code for MessageServer.java"},{"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"score":0,"creation_date":1409217479,"post_id":25544849,"comment_id":39885701,"body_markdown":"package server;\n\n//ChatServer\n\nimport java.io.*;\nimport java.net.*;\n\npublic class MessageServer {\n\tpublic static void main (String args[]) throws IOException {\n\t\tint port = 100;\n\t\tServerSocket server = new ServerSocket (port);\n\t\tSystem.out.println(&quot;Server is started!&quot;);\n\t\t\n\t\twhile (true) {\n\t\t\tSocket client = server.accept ();\n\t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ());\n\t\t\tMessageHandler handler = new MessageHandler (client);\n\t\t\thandler.start();\n\t\t}\n\n\t}\n}","body":"package server;  //ChatServer  import java.io.*; import java.net.*;  public class MessageServer { \tpublic static void main (String args[]) throws IOException { \t\tint port = 100; \t\tServerSocket server = new ServerSocket (port); \t\tSystem.out.println(&quot;Server is started!&quot;); \t\t \t\twhile (true) { \t\t\tSocket client = server.accept (); \t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ()); \t\t\tMessageHandler handler = new MessageHandler (client); \t\t\thandler.start(); \t\t}  \t} }"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1409219008,"post_id":25544849,"comment_id":39886563,"body_markdown":"@Kevbear You can see for yourself that posting code in comments is utterly illegible, i.e. a complete waste of time. Edit it into your question.","body":"@Kevbear You can see for yourself that posting code in comments is utterly illegible, i.e. a complete waste of time. Edit it into your question."},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1421094688,"post_id":25544849,"comment_id":44219897,"body_markdown":"@Kevbear: When you ask a question and somebody replies, the polite thing to do would be to accept an answer.","body":"@Kevbear: When you ask a question and somebody replies, the polite thing to do would be to accept an answer."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323403,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1409217074,"creation_date":1409217074,"answer_id":25545007,"question_id":25544849,"body_markdown":"[Unix-based systems declare ports &lt; 1024][1] as &quot;privileged&quot; and you need admin rights to start a server.\r\n\r\nFor testing, use a port number &gt;= 1024.\r\n\r\nWhen deploying the server in production, run it with admin rights.\r\n\r\n  [1]: https://stackoverflow.com/questions/10182798/why-are-ports-below-1024-privileged","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p><a href=\"https://stackoverflow.com/questions/10182798/why-are-ports-below-1024-privileged\">Unix-based systems declare ports &lt; 1024</a> as \"privileged\" and you need admin rights to start a server.</p>\n\n<p>For testing, use a port number >= 1024.</p>\n\n<p>When deploying the server in production, run it with admin rights.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1409223491,"creation_date":1409217224,"answer_id":25545052,"question_id":25544849,"body_markdown":"You can&#39;t open a port below 1024, if you don&#39;t have root privileges and from the code you posted in your comment, you seem to be trying to open port `100` which confirms my theory.\r\n\r\nYou need to use a port which is higher than 1024, if you&#39;re running the code under a non-root user.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>You can't open a port below 1024, if you don't have root privileges and from the code you posted in your comment, you seem to be trying to open port <code>100</code> which confirms my theory.</p>\n\n<p>You need to use a port which is higher than 1024, if you're running the code under a non-root user.</p>\n"},{"tags":[],"owner":{"account_id":5980197,"reputation":31,"user_id":4699536,"display_name":"JVD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515841820,"creation_date":1515841820,"answer_id":48239289,"question_id":25544849,"body_markdown":"MyServer.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    public class MyServer\r\n    {\r\n    \tServerSocket ss;\r\n    \tSocket s;\r\n    \tDataOutputStream dos;\r\n    \tDataInputStream dis;\r\n    \tpublic MyServer()\r\n    \t{\r\n    \t\ttry \r\n    \t\t{\r\n    \t\tSystem.out.println(&quot;Server Started &quot;);\r\n    \t\tss=new ServerSocket(4444);\r\n    \t\ts=ss.accept();\r\n    \t\tSystem.out.println(s);\r\n    \t\tSystem.out.println(&quot;Client Connected&quot;);\r\n    \t\tdis=new DataInputStream(s.getInputStream());\r\n    \t\tdos=new DataOutputStream(s.getOutputStream());\r\n    \t\tServerChat();\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t}\t\r\n    \tpublic static void main(String arg[])\r\n    \t{\r\n    \t\tnew MyServer();\r\n    \t}\r\n    \tpublic void ServerChat()throws IOException\r\n    \t{\r\n    \r\n    \t\tString str;\r\n    \t\tdo\r\n    \t\t{\r\n    \t\tstr=dis.readUTF();\r\n    \t\tSystem.out.println(&quot;Client msg : &quot;+str);\r\n    \t\tdos.writeUTF(&quot;Hello &quot;+str);\r\n    \t\tdos.flush();\r\n    \t\t}while(!str.equals(&quot;stop&quot;));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMyClient.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    public class MyClient\r\n    {\r\n    \tSocket s;\r\n    \tDataInputStream din;\r\n    \tDataOutputStream dout;\r\n    \tpublic MyClient()\r\n    \t{\r\n    \ttry\r\n    \t{\r\n    \t\ts=new Socket(&quot;localhost&quot;,4444);\r\n    \t\tSystem.out.println(s);\r\n    \t\tdin = new DataInputStream(s.getInputStream());\r\n    \t\tdout = new DataOutputStream(s.getOutputStream());\r\n    \t\tClientChat();\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \tSystem.out.println(e);\t\r\n    \t}\t\r\n    \t}\r\n    \tpublic void ClientChat() throws IOException\r\n    \t{\r\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \tString s1;\r\n    \tdo\r\n    \t{\r\n    \ts1=br.readLine();\r\n    \tdout.writeUTF(s1);\r\n    \tdout.flush();\r\n    \tSystem.out.println(&quot;Server Msg : &quot;+din.readUTF());\r\n    \t}while(!s1.equals(&quot;stop&quot;));\r\n    \t}\r\n    \tpublic static void main(String arg[])\r\n    \t{\r\n    \tnew MyClient();\r\n    \t}\r\n    \r\n    }","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>MyServer.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class MyServer\n{\n    ServerSocket ss;\n    Socket s;\n    DataOutputStream dos;\n    DataInputStream dis;\n    public MyServer()\n    {\n        try \n        {\n        System.out.println(\"Server Started \");\n        ss=new ServerSocket(4444);\n        s=ss.accept();\n        System.out.println(s);\n        System.out.println(\"Client Connected\");\n        dis=new DataInputStream(s.getInputStream());\n        dos=new DataOutputStream(s.getOutputStream());\n        ServerChat();\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n    }   \n    public static void main(String arg[])\n    {\n        new MyServer();\n    }\n    public void ServerChat()throws IOException\n    {\n\n        String str;\n        do\n        {\n        str=dis.readUTF();\n        System.out.println(\"Client msg : \"+str);\n        dos.writeUTF(\"Hello \"+str);\n        dos.flush();\n        }while(!str.equals(\"stop\"));\n\n    }\n\n}\n</code></pre>\n\n<p>MyClient.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class MyClient\n{\n    Socket s;\n    DataInputStream din;\n    DataOutputStream dout;\n    public MyClient()\n    {\n    try\n    {\n        s=new Socket(\"localhost\",4444);\n        System.out.println(s);\n        din = new DataInputStream(s.getInputStream());\n        dout = new DataOutputStream(s.getOutputStream());\n        ClientChat();\n    }\n    catch(Exception e)\n    {\n    System.out.println(e);  \n    }   \n    }\n    public void ClientChat() throws IOException\n    {\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    String s1;\n    do\n    {\n    s1=br.readLine();\n    dout.writeUTF(s1);\n    dout.flush();\n    System.out.println(\"Server Msg : \"+din.readUTF());\n    }while(!s1.equals(\"stop\"));\n    }\n    public static void main(String arg[])\n    {\n    new MyClient();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10544009,"reputation":151,"user_id":7768922,"display_name":"confused"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529571140,"creation_date":1529571140,"answer_id":50964324,"question_id":25544849,"body_markdown":"I had the same issue and my port numbers were below 1024 changing port number to above 1024 solved my problem. Ports below 1024 are called Privileged Ports and in Linux (and most UNIX flavors and UNIX-like systems), they are not allowed to be opened by any non-root user.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>I had the same issue and my port numbers were below 1024 changing port number to above 1024 solved my problem. Ports below 1024 are called Privileged Ports and in Linux (and most UNIX flavors and UNIX-like systems), they are not allowed to be opened by any non-root user.</p>\n"},{"tags":[],"owner":{"account_id":17211718,"reputation":41,"user_id":12460865,"display_name":"Cats4Life"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582590722,"creation_date":1582590722,"answer_id":60385948,"question_id":25544849,"body_markdown":"Many systems declare ports that are less than 1024 as &quot;admin rights&quot; ports. Meaning, if you&#39;re only using this for basic testing use a higher port such as 2000. This will clear the exception that you&#39;re getting by running your current program.\r\n```  \r\n    int port = 100; \r\n    ServerSocket server = new ServerSocket (port); \r\n```\r\n\r\nChange that to something such as:\r\n\r\n``` \r\n    int port = 2000; \r\n    ServerSocket server = new ServerSocket (port); ","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Many systems declare ports that are less than 1024 as \"admin rights\" ports. Meaning, if you're only using this for basic testing use a higher port such as 2000. This will clear the exception that you're getting by running your current program.</p>\n\n<pre><code>    int port = 100; \n    ServerSocket server = new ServerSocket (port); \n</code></pre>\n\n<p>Change that to something such as:</p>\n\n<pre><code>    int port = 2000; \n    ServerSocket server = new ServerSocket (port); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15053576,"reputation":37,"user_id":10864593,"display_name":"Huỳnh Tấn Lực"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633180422,"creation_date":1633180422,"answer_id":69417246,"question_id":25544849,"body_markdown":"Run Server program with root (Administrator).\r\n\r\n - Windows: Run as Administrator the IDE/Editor.\r\n - Ubuntu/macOS: sudo java...\r\n\r\n","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Run Server program with root (Administrator).</p>\n<ul>\n<li>Windows: Run as Administrator the IDE/Editor.</li>\n<li>Ubuntu/macOS: sudo java...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6112437,"reputation":1,"user_id":4768441,"display_name":"user4768441"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646286928,"creation_date":1646286928,"answer_id":71332679,"question_id":25544849,"body_markdown":"This is an old question, and I might be replying too late, but I would like to anyways share my experience in case anyone hits the issue.\r\n\r\nI was using port# 8000, but still unable to bind to the port from a java program. It was network filter running as part of eset endpoint security that was blocking the connection.\r\nI added a rule in eset firewall to allow port 8000, and it started working.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>This is an old question, and I might be replying too late, but I would like to anyways share my experience in case anyone hits the issue.</p>\n<p>I was using port# 8000, but still unable to bind to the port from a java program. It was network filter running as part of eset endpoint security that was blocking the connection.\nI added a rule in eset firewall to allow port 8000, and it started working.</p>\n"},{"tags":[],"owner":{"account_id":21686919,"reputation":1,"user_id":16002218,"display_name":"Rahul Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700813811,"creation_date":1700813811,"answer_id":77541604,"question_id":25544849,"body_markdown":"Apache Tomcat: java.net.BindException: Permission denied (Bind failed) :443\r\n\r\nI was struggling with this error and after hours figured out that root user was not logged in and the user was restarting tomcat without sudo.\r\n\r\nif you face this issue, try logging as root and then restart tomcat.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Apache Tomcat: java.net.BindException: Permission denied (Bind failed) :443</p>\n<p>I was struggling with this error and after hours figured out that root user was not logged in and the user was restarting tomcat without sudo.</p>\n<p>if you face this issue, try logging as root and then restart tomcat.</p>\n"}],"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55024,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":8,"score":32,"last_activity_date":1700813811,"creation_date":1409216648,"question_id":25544849,"body_markdown":"I Tried to run a Java socket in mac with eclipse but it doesn&#39;t work. I got this error: \r\n\r\n    Exception in thread &quot;main&quot; java.net.BindException: Permission denied\r\n    \r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:326)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:192)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:104)\r\n    \tat server.MessageServer.main(MessageServer.java:11)\r\n\r\nHow can i make it to run?\r\n\r\n\r\n    package server; //ChatServer \r\n    import java.io.*; \r\n    import java.net.*; \r\n\r\n    public class MessageServer { \r\n\t\r\n\tpublic static void main (String args[]) throws IOException { \r\n\t\tint port = 100; \r\n\t\tServerSocket server = new ServerSocket (port); \r\n\t\tSystem.out.println(&quot;Server is started!&quot;); \r\n\t\t\r\n\t\twhile (true) { \r\n\t\t\tSocket client = server.accept (); \r\n\t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ()); \r\n\t\t\tMessageHandler handler = new MessageHandler (client); \r\n\t\t\thandler.start(); \r\n\t\t\t} \r\n\t\t} \r\n\t}","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>I Tried to run a Java socket in mac with eclipse but it doesn't work. I got this error: </p>\n\n<pre><code>Exception in thread \"main\" java.net.BindException: Permission denied\n\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)\n    at java.net.ServerSocket.bind(ServerSocket.java:326)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:192)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:104)\n    at server.MessageServer.main(MessageServer.java:11)\n</code></pre>\n\n<p>How can i make it to run?</p>\n\n<pre><code>package server; //ChatServer \nimport java.io.*; \nimport java.net.*; \n\npublic class MessageServer { \n\npublic static void main (String args[]) throws IOException { \n    int port = 100; \n    ServerSocket server = new ServerSocket (port); \n    System.out.println(\"Server is started!\"); \n\n    while (true) { \n        Socket client = server.accept (); \n        System.out.println (\"Accepted from \" + client.getInetAddress ()); \n        MessageHandler handler = new MessageHandler (client); \n        handler.start(); \n        } \n    } \n}\n</code></pre>\n"},{"tags":["java","c","java-8","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1700813545,"post_id":77541533,"comment_id":136701501,"body_markdown":"Likely via platform-dependent makefiles, or whatever is used to compile the source code. TL;DR, when you compile the source code, the build system detects which OS you&#39;re running (or accepts a command line argument for cross-compilation) and either builds one version or the other.","body":"Likely via platform-dependent makefiles, or whatever is used to compile the source code. TL;DR, when you compile the source code, the build system detects which OS you&#39;re running (or accepts a command line argument for cross-compilation) and either builds one version or the other."}],"owner":{"account_id":29980469,"reputation":11,"user_id":22975592,"display_name":"HeGotIt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700813371,"creation_date":1700813265,"question_id":77541533,"body_markdown":"What puzzles me is how it determines which to call when entering the function *JVMInit*(as well as *LoadJavaVM*) in *jdk/src/share/bin/java.c* since there are three function implementations in different files, namely *jdk/src/windows/bin/java_md.c*, \r\n*jdk/src/solaris/ bin/java_md_solinux.c*,\r\n*jdk/src/macosx/bin/java_md_macosx.c*\r\n\r\nPart code in java.c:\r\n```\r\nint\r\nJLI_Launch(int argc, char ** argv,              /* main argc, argc */\r\n        int jargc, const char** jargv,          /* java args */\r\n        int appclassc, const char** appclassv,  /* app classpath */\r\n        const char* fullversion,                /* full version defined */\r\n        const char* dotversion,                 /* dot version defined */\r\n        const char* pname,                      /* program name */\r\n        const char* lname,                      /* launcher name */\r\n        jboolean javaargs,                      /* JAVA_ARGS */\r\n        jboolean cpwildcard,                    /* classpath wildcard*/\r\n        jboolean javaw,                         /* windows-only javaw */\r\n        jint ergo                               /* ergonomics class policy */\r\n)\r\n{\r\n    int mode = LM_UNKNOWN;\r\n    char *what = NULL;\r\n    char *cpath = 0;\r\n    char *main_class = NULL;\r\n    int ret;\r\n    InvocationFunctions ifn;\r\n    jlong start = 0, end = 0;\r\n    char jvmpath[MAXPATHLEN];\r\n    char jrepath[MAXPATHLEN];\r\n    char jvmcfg[MAXPATHLEN];\r\n\r\n    ...\r\n\r\n    if (!LoadJavaVM(jvmpath, &amp;ifn)) {\r\n        return(6);\r\n    }\r\n\r\n    ...\r\n\r\n    return JVMInit(&amp;ifn, threadStackSize, argc, argv, mode, what, ret);\r\n}\r\n```\r\n\r\nI was only able to find the corresponding function implementations in the three files, and due to my unfamiliarity with C/C++, I was unable to find how it determines which one to enter in the jdk8 source code.\r\n\r\nI hope someone can help point out how it works.\r\n\r\nP.S. The jdk8 source code I&#39;ve been reading comes from https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip","title":"How does java.c determine which to call since there are three function implementations for different systems in Jdk8?","body":"<p>What puzzles me is how it determines which to call when entering the function <em>JVMInit</em>(as well as <em>LoadJavaVM</em>) in <em>jdk/src/share/bin/java.c</em> since there are three function implementations in different files, namely <em>jdk/src/windows/bin/java_md.c</em>,\n<em>jdk/src/solaris/ bin/java_md_solinux.c</em>,\n<em>jdk/src/macosx/bin/java_md_macosx.c</em></p>\n<p>Part code in java.c:</p>\n<pre><code>int\nJLI_Launch(int argc, char ** argv,              /* main argc, argc */\n        int jargc, const char** jargv,          /* java args */\n        int appclassc, const char** appclassv,  /* app classpath */\n        const char* fullversion,                /* full version defined */\n        const char* dotversion,                 /* dot version defined */\n        const char* pname,                      /* program name */\n        const char* lname,                      /* launcher name */\n        jboolean javaargs,                      /* JAVA_ARGS */\n        jboolean cpwildcard,                    /* classpath wildcard*/\n        jboolean javaw,                         /* windows-only javaw */\n        jint ergo                               /* ergonomics class policy */\n)\n{\n    int mode = LM_UNKNOWN;\n    char *what = NULL;\n    char *cpath = 0;\n    char *main_class = NULL;\n    int ret;\n    InvocationFunctions ifn;\n    jlong start = 0, end = 0;\n    char jvmpath[MAXPATHLEN];\n    char jrepath[MAXPATHLEN];\n    char jvmcfg[MAXPATHLEN];\n\n    ...\n\n    if (!LoadJavaVM(jvmpath, &amp;ifn)) {\n        return(6);\n    }\n\n    ...\n\n    return JVMInit(&amp;ifn, threadStackSize, argc, argv, mode, what, ret);\n}\n</code></pre>\n<p>I was only able to find the corresponding function implementations in the three files, and due to my unfamiliarity with C/C++, I was unable to find how it determines which one to enter in the jdk8 source code.</p>\n<p>I hope someone can help point out how it works.</p>\n<p>P.S. The jdk8 source code I've been reading comes from <a href=\"https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip</a></p>\n"},{"tags":["java","metrics","spring-boot-actuator","spring-boot-test","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":2827979,"reputation":391,"user_id":2430184,"display_name":"vvalenciacruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608829987,"creation_date":1608829987,"answer_id":65441333,"question_id":65360650,"body_markdown":"It&#39;s happening to me too, with Spring Boot 2.4.1\r\n\r\nThe only thing that I can think of, is that the endpoints that are included in @SpringBootTest are using the @Endpoint annotation.\r\n\r\nFor example:\r\n\r\n```java\r\n@Endpoint(id = &quot;metrics&quot;)\r\npublic class MetricsEndpoint {}\r\n\r\n@Endpoint(id = &quot;loggers&quot;)\r\npublic class LoggersEndpoint {}\r\n```\r\n\r\nAnd the prometheus endpoint is using the @WebEndpoint annotation\r\n\r\n```java\r\n@WebEndpoint(id = &quot;prometheus&quot;)\r\npublic class PrometheusScrapeEndpoint {}\r\n```\r\n\r\nI didn&#39;t find if this is how it should work, or is a probable bug","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>It's happening to me too, with Spring Boot 2.4.1</p>\n<p>The only thing that I can think of, is that the endpoints that are included in @SpringBootTest are using the @Endpoint annotation.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Endpoint(id = &quot;metrics&quot;)\npublic class MetricsEndpoint {}\n\n@Endpoint(id = &quot;loggers&quot;)\npublic class LoggersEndpoint {}\n</code></pre>\n<p>And the prometheus endpoint is using the @WebEndpoint annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebEndpoint(id = &quot;prometheus&quot;)\npublic class PrometheusScrapeEndpoint {}\n</code></pre>\n<p>I didn't find if this is how it should work, or is a probable bug</p>\n"},{"tags":[],"owner":{"account_id":14663900,"reputation":1055,"user_id":10590290,"display_name":"Johannes Klug"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1700813135,"creation_date":1609753945,"answer_id":65560631,"question_id":65360650,"body_markdown":"Update: @Thierry mentioned @AutoConfigureMetrics is deprecated and one needs to use the @AutoConfigureObservability annotation instead. See his post!\r\n\r\nOriginal post:\r\nI faced the same issue. After some tracing through spring-context ConditionEvaluator, I found that the newly introduced `@ConditionalOnEnabledMetricsExport(&quot;prometheus&quot;)` condition on `PrometheusMetricsExportAutoConfiguration` prevented the endpoint from loading.\r\n\r\nThis is intended behavior due to https://github.com/spring-projects/spring-boot/pull/21658 and impacts spring-boot 2.4.x\r\n\r\nFix:\r\nadd @AutoConfigureMetrics to your test\r\n\r\n    @AutoConfigureMetrics\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class IntegrationTest {","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>Update: @Thierry mentioned @AutoConfigureMetrics is deprecated and one needs to use the @AutoConfigureObservability annotation instead. See his post!</p>\n<p>Original post:\nI faced the same issue. After some tracing through spring-context ConditionEvaluator, I found that the newly introduced <code>@ConditionalOnEnabledMetricsExport(&quot;prometheus&quot;)</code> condition on <code>PrometheusMetricsExportAutoConfiguration</code> prevented the endpoint from loading.</p>\n<p>This is intended behavior due to <a href=\"https://github.com/spring-projects/spring-boot/pull/21658\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/21658</a> and impacts spring-boot 2.4.x</p>\n<p>Fix:\nadd @AutoConfigureMetrics to your test</p>\n<pre><code>@AutoConfigureMetrics\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6089340,"reputation":138,"user_id":4752210,"display_name":"nakul shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609851525,"creation_date":1609851525,"answer_id":65579398,"question_id":65360650,"body_markdown":"I see in your test, you are appending &quot;demo&quot; before actual actuator path.\r\n\r\n    given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\r\n            .then()\r\n            .statusCode(200);\r\n\r\nThe correct url should be baseUrl+&quot;/actuator/prometheus&quot;.","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>I see in your test, you are appending &quot;demo&quot; before actual actuator path.</p>\n<pre><code>given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\n        .then()\n        .statusCode(200);\n</code></pre>\n<p>The correct url should be baseUrl+&quot;/actuator/prometheus&quot;.</p>\n"},{"tags":[],"owner":{"account_id":18508585,"reputation":61,"user_id":20459213,"display_name":"Thierry"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675861602,"creation_date":1675861602,"answer_id":75386254,"question_id":65360650,"body_markdown":"Since Spring Boot 3.0.0 [@AutoConfigureMetrics][1] has been deprecated and will be removed in 3.2.0, it is recommended to use [@AutoConfigureObservability][2] instead\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/3.0.2/api/org/springframework/boot/test/autoconfigure/actuate/metrics/AutoConfigureMetrics.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/actuate/observability/AutoConfigureObservability.html","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>Since Spring Boot 3.0.0 <a href=\"https://docs.spring.io/spring-boot/docs/3.0.2/api/org/springframework/boot/test/autoconfigure/actuate/metrics/AutoConfigureMetrics.html\" rel=\"noreferrer\">@AutoConfigureMetrics</a> has been deprecated and will be removed in 3.2.0, it is recommended to use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/actuate/observability/AutoConfigureObservability.html\" rel=\"noreferrer\">@AutoConfigureObservability</a> instead</p>\n"}],"owner":{"account_id":17850429,"reputation":401,"user_id":12966300,"display_name":"Massimo Basile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7618,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":4,"score":34,"last_activity_date":1700813135,"creation_date":1608309257,"question_id":65360650,"body_markdown":"I&#39;m using springbooot 2.4.0 and I added the following dependencies for enabling prometheus metrics:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nthen in my application.properties I have the following properties\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    management.metrics.enable.all=true\r\n\r\nI&#39;m trying to run a simple integration test to see my custom metrics appearing at /actuator/prometheus endpoint. Below the code\r\n\r\n\r\n    package com.example.demo;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.web.server.LocalServerPort;\r\n    import static io.restassured.RestAssured.given;\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class IntegrationTest {\r\n\r\n      @LocalServerPort\r\n      private int port;\r\n\r\n      private String baseUrl;\r\n\r\n      @BeforeEach\r\n      public void setup() {\r\n          baseUrl = &quot;http://localhost:&quot; + port;\r\n      }\r\n\r\n      @Test\r\n      public void metricsEndpoint() throws Exception {\r\n\r\n        given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\r\n                .then()\r\n                .statusCode(200);\r\n        }\r\n    }\r\n    \r\nThe error I get here is \r\n\r\n    java.lang.AssertionError: 1 expectation failed.\r\n    Expected status code &lt;200&gt; but was &lt;404&gt;.\r\n\r\nwhile if I repeat the same request for any other endpoint provided by springboot actuator I correctly geth the response, for example I tried /actuator/health, /actuator/info, /actuator/metrics etc..\r\n\r\n\r\nThis happens only during integration tests with @Springboot annotation and this is strange because if I run my application and make a request with postman to the address localhost:8080/actuator/prometheus I correctly get a response. \r\n\r\nIt is like the prometheus registry is not loaded during tests.\r\n\r\nCan anyone help? \r\n\r\nThanks in advance.\r\n\r\nEDIT: the solution is the one suggested by Johannes Klug. Adding the annotation @AutoConfigureMetrics solved my problem\r\n","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>I'm using springbooot 2.4.0 and I added the following dependencies for enabling prometheus metrics:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then in my application.properties I have the following properties</p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.metrics.enable.all=true\n</code></pre>\n<p>I'm trying to run a simple integration test to see my custom metrics appearing at /actuator/prometheus endpoint. Below the code</p>\n<pre><code>package com.example.demo;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.web.server.LocalServerPort;\nimport static io.restassured.RestAssured.given;\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTest {\n\n  @LocalServerPort\n  private int port;\n\n  private String baseUrl;\n\n  @BeforeEach\n  public void setup() {\n      baseUrl = &quot;http://localhost:&quot; + port;\n  }\n\n  @Test\n  public void metricsEndpoint() throws Exception {\n\n    given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\n            .then()\n            .statusCode(200);\n    }\n}\n</code></pre>\n<p>The error I get here is</p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nExpected status code &lt;200&gt; but was &lt;404&gt;.\n</code></pre>\n<p>while if I repeat the same request for any other endpoint provided by springboot actuator I correctly geth the response, for example I tried /actuator/health, /actuator/info, /actuator/metrics etc..</p>\n<p>This happens only during integration tests with @Springboot annotation and this is strange because if I run my application and make a request with postman to the address localhost:8080/actuator/prometheus I correctly get a response.</p>\n<p>It is like the prometheus registry is not loaded during tests.</p>\n<p>Can anyone help?</p>\n<p>Thanks in advance.</p>\n<p>EDIT: the solution is the one suggested by Johannes Klug. Adding the annotation @AutoConfigureMetrics solved my problem</p>\n"},{"tags":["java","eclipse","tomcat","deployment","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369289967,"creation_date":1369289967,"answer_id":16706845,"question_id":16706535,"body_markdown":"Did you have jar in your lib - faces-sources-1.2.0.09.jar ?\r\n\r\nif not then add it to your project. you can download it from here - http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm","title":"ClassNotFoundException: com.sun.faces.config.ConfigureListener - Deployment of jars to Tomcat configured under Eclipse","body":"<p>Did you have jar in your lib - faces-sources-1.2.0.09.jar ?</p>\n\n<p>if not then add it to your project. you can download it from here - <a href=\"http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm</a></p>\n"}],"owner":{"account_id":2795237,"reputation":11,"user_id":2404576,"display_name":"Adrian A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700812855,"creation_date":1369288641,"question_id":16706535,"body_markdown":"I have a problem very similar to these:\r\n\r\n 1. https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\r\n 2. https://stackoverflow.com/questions/10848341/classnotfoundexception-com-sun-faces-config-configurelistener-for-jsf-project-u\r\n 3. https://stackoverflow.com/questions/5967905/error-with-jboss-while-deploying-a-jsp-servlet-web-app-com-sun-faces-config-con\r\n\r\nI&#39;ve managed to find a workaround but still not solved the issue.\r\n\r\nWhen I deploy my application to Tomcat 7.0.34 which is configured in Eclipse Juno Service Release 1 (Build id: 20120920-0800) I get:\r\n\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.34\r\n    maj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n    INFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javaee-api-6.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n    maj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n    INFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javax.servlet-3.2-b05.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n    maj 22, 2013 5:10:36 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class com.sun.faces.config.ConfigureListener\r\n    java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n\r\nI&#39;ve checked my web.xml and I don&#39;t have any entries related to *ConfigureListener*.\r\n\r\nI have both javaee-api-6.0.jar and javax.servlet-3.2-b05.jar set to *provided*. The workaround is that I&#39;m deleting both jars from *C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib* after deploying application via Eclipse.\r\n\r\nMy question is why is Eclipse deploying these jars to Tomcat regardless setting their scope to *provided*? Is there any other place that controls jars deployment?\r\n\r\n","title":"ClassNotFoundException: com.sun.faces.config.ConfigureListener - Deployment of jars to Tomcat configured under Eclipse","body":"<p>I have a problem very similar to these:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\">java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener when using MyFaces with WASCE/Geronimo</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10848341/classnotfoundexception-com-sun-faces-config-configurelistener-for-jsf-project-u\">java.lang.ClassNotFoundException : com.sun.faces.config.ConfigureListener</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5967905/error-with-jboss-while-deploying-a-jsp-servlet-web-app-com-sun-faces-config-con\">Error with Jboss while deploying a jsp/servlet web app &quot;com.sun.faces.config.ConfigureListener&quot; Error</a></li>\n</ol>\n\n<p>I've managed to find a workaround but still not solved the issue.</p>\n\n<p>When I deploy my application to Tomcat 7.0.34 which is configured in Eclipse Juno Service Release 1 (Build id: 20120920-0800) I get:</p>\n\n<pre><code>INFO: Starting Servlet Engine: Apache Tomcat/7.0.34\nmaj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javaee-api-6.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\nmaj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javax.servlet-3.2-b05.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\nmaj 22, 2013 5:10:36 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class com.sun.faces.config.ConfigureListener\njava.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\nat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\nat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\nat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\nat java.util.concurrent.FutureTask.run(FutureTask.java:166)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\nat java.lang.Thread.run(Thread.java:722)\n</code></pre>\n\n<p>I've checked my web.xml and I don't have any entries related to <em>ConfigureListener</em>.</p>\n\n<p>I have both javaee-api-6.0.jar and javax.servlet-3.2-b05.jar set to <em>provided</em>. The workaround is that I'm deleting both jars from <em>C:\\ProjName\\Workspaces\\projname-eclipse-ws.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib</em> after deploying application via Eclipse.</p>\n\n<p>My question is why is Eclipse deploying these jars to Tomcat regardless setting their scope to <em>provided</em>? Is there any other place that controls jars deployment?</p>\n"},{"tags":["java","xsd","jaxb","mapstruct","xjc"],"comments":[{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":1,"creation_date":1700771525,"post_id":77539451,"comment_id":136698014,"body_markdown":"Do the &quot;same&quot; types you refer to have different namespaces? In that case they&#39;re not the same types.","body":"Do the &quot;same&quot; types you refer to have different namespaces? In that case they&#39;re not the same types."},{"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"score":0,"creation_date":1700774906,"post_id":77539451,"comment_id":136698337,"body_markdown":"Yes, they have different namespaces @forty-two. Sorry, I forgot to mention that.","body":"Yes, they have different namespaces @forty-two. Sorry, I forgot to mention that."},{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1700879702,"post_id":77539451,"comment_id":136709801,"body_markdown":"Well, one option is of course to devise some common &quot;interface&quot; that your business code can work against and that&#39;s explicitly implemented by your XML classes or indirectly via some adapter thingys. Fighting  namespaces is a loosing battle.","body":"Well, one option is of course to devise some common &quot;interface&quot; that your business code can work against and that&#39;s explicitly implemented by your XML classes or indirectly via some adapter thingys. Fighting  namespaces is a loosing battle."}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700812724,"creation_date":1700779132,"answer_id":77539919,"question_id":77539451,"body_markdown":"**Solution 1 :**\r\n\r\nI think the best option for you is to use the [jaxb-tools inheritance plugin (link to the wiki)][1]. You could define your own interface (in your java code) and, with bindings file, say that the common classes are implementing the same interface. That way, you could create your unique handle java method and respect JAXB namespaces without any change to the XSD.\r\n\r\nYou would have something like that :\r\n\r\n```xml\r\n&lt;jaxb:bindings\r\n\txmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n\txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:inheritance=&quot;urn:jaxb.jvnet.org:plugin:inheritance&quot;\r\n\tjaxb:extensionBindingPrefixes=&quot;inheritance&quot;\r\n\tjaxb:version=&quot;3.0&quot;&gt;\r\n\r\n  &lt;jaxb:bindings schemaLocation=&quot;schema1.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\r\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name=&#39;MyCommonType&#39;]&quot;&gt;\r\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n  &lt;/jaxb:bindings&gt;\r\n  &lt;jaxb:bindings schemaLocation=&quot;schema2.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\r\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name=&#39;MyCommonType&#39;]&quot;&gt;\r\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n  &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nYou can also check the [migration guide][2] if looking for new artifacts / groupId names since a lot changed this year in jaxb-tools repository.\r\n\r\nFeel free to create an issue if you got any problem with that plugin or if the wiki is uncomplete / unclear about certain points. I&#39;d be glad to enhance it.\r\n\r\n**Solution 2 :**\r\n\r\nAnother option would be to ask the provider to create a common.xsd which would contains the common XSD types that will be used in others XSD structure. That way, you&#39;ll be able to handle it correctly with JAXB and only have one handling method without having this `inheritance` plugin.\r\n\r\n**Solution 3 :** \r\nIf you can&#39;t get your XSD provider change it&#39;s XSD and don&#39;t want to get into `inheritance` plugin, I&#39;d suggest you to look at some automatic mapper framework. [Selma][3] is a pretty good one I use sometimes to do automatic conversion on similar classes. It generates by itself a mapper that will do a deep-map field-by-field from one type to another.\r\n\r\nFor example, by defining the following methods in the selma class\r\n\r\n```java\r\npublic abstract my.choosen.type.MyCommonType asCommonType(another.type type);\r\n\r\npublic abstract my.choosen.type.MyCommonType asCommonType(yet.another.type type);\r\n```\r\n\r\nYou&#39;ll get the following in the Selma Generated Class :\r\n\r\n```java\r\n  public final my.choosen.type.MyCommonType asCommonType(another.type inType) {\r\n    my.choosen.type.MyCommonType out = null;\r\n    if (inType != null) {\r\n      out = new my.choosen.type.MyCommonType();\r\n      out.setA(inType.getA());\r\n      out.setB(inType.getB());\r\n    }\r\n    return out;\r\n  }\r\n\r\n\r\n  public final my.choosen.type.MyCommonType asCommonType(yet.another.type inType) {\r\n    my.choosen.type.MyCommonType out = null;\r\n    if (inType != null) {\r\n      out = new my.choosen.type.MyCommonType();\r\n      out.setA(inType.getA());\r\n      out.setB(inType.getB());\r\n    }\r\n    return out;\r\n  }\r\n```\r\n\r\nAnd then work only with the `my.choosen.type.MyCommonType` in your code.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB2-Inheritance-Plugin\r\n  [2]: https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide\r\n  [3]: https://www.selma-java.org/","title":"Best way to handle identical data within two different Java types generated from XSD files","body":"<p><strong>Solution 1 :</strong></p>\n<p>I think the best option for you is to use the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB2-Inheritance-Plugin\" rel=\"nofollow noreferrer\">jaxb-tools inheritance plugin (link to the wiki)</a>. You could define your own interface (in your java code) and, with bindings file, say that the common classes are implementing the same interface. That way, you could create your unique handle java method and respect JAXB namespaces without any change to the XSD.</p>\n<p>You would have something like that :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jaxb:bindings\n    xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:inheritance=&quot;urn:jaxb.jvnet.org:plugin:inheritance&quot;\n    jaxb:extensionBindingPrefixes=&quot;inheritance&quot;\n    jaxb:version=&quot;3.0&quot;&gt;\n\n  &lt;jaxb:bindings schemaLocation=&quot;schema1.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name='MyCommonType']&quot;&gt;\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\n    &lt;/jaxb:bindings&gt;\n  &lt;/jaxb:bindings&gt;\n  &lt;jaxb:bindings schemaLocation=&quot;schema2.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name='MyCommonType']&quot;&gt;\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\n    &lt;/jaxb:bindings&gt;\n  &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>You can also check the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide\" rel=\"nofollow noreferrer\">migration guide</a> if looking for new artifacts / groupId names since a lot changed this year in jaxb-tools repository.</p>\n<p>Feel free to create an issue if you got any problem with that plugin or if the wiki is uncomplete / unclear about certain points. I'd be glad to enhance it.</p>\n<p><strong>Solution 2 :</strong></p>\n<p>Another option would be to ask the provider to create a common.xsd which would contains the common XSD types that will be used in others XSD structure. That way, you'll be able to handle it correctly with JAXB and only have one handling method without having this <code>inheritance</code> plugin.</p>\n<p><strong>Solution 3 :</strong>\nIf you can't get your XSD provider change it's XSD and don't want to get into <code>inheritance</code> plugin, I'd suggest you to look at some automatic mapper framework. <a href=\"https://www.selma-java.org/\" rel=\"nofollow noreferrer\">Selma</a> is a pretty good one I use sometimes to do automatic conversion on similar classes. It generates by itself a mapper that will do a deep-map field-by-field from one type to another.</p>\n<p>For example, by defining the following methods in the selma class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract my.choosen.type.MyCommonType asCommonType(another.type type);\n\npublic abstract my.choosen.type.MyCommonType asCommonType(yet.another.type type);\n</code></pre>\n<p>You'll get the following in the Selma Generated Class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public final my.choosen.type.MyCommonType asCommonType(another.type inType) {\n    my.choosen.type.MyCommonType out = null;\n    if (inType != null) {\n      out = new my.choosen.type.MyCommonType();\n      out.setA(inType.getA());\n      out.setB(inType.getB());\n    }\n    return out;\n  }\n\n\n  public final my.choosen.type.MyCommonType asCommonType(yet.another.type inType) {\n    my.choosen.type.MyCommonType out = null;\n    if (inType != null) {\n      out = new my.choosen.type.MyCommonType();\n      out.setA(inType.getA());\n      out.setB(inType.getB());\n    }\n    return out;\n  }\n</code></pre>\n<p>And then work only with the <code>my.choosen.type.MyCommonType</code> in your code.</p>\n"}],"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700812724,"creation_date":1700770704,"question_id":77539451,"body_markdown":"I am pretty much stuck finding the best way to solve this.\r\n\r\nMy case is that I have a provider which gives me XSD files to generate the types I will use to call their SOAP api. Those XSD files sometimes contain the exact same data structure. However as they reside in different XSD files they will generate their own types, even if the fields of those types have the exact same name.\r\n\r\nThe end goal is to be able to handle one type, so that I can write reusable logic for them.\r\n\r\nI am using the `com.helger.maven` `jaxb40-maven-plugin` (fork from `highsource` `jaxb-tools`) along with Java 17 to generate Java classes from these XSD files which I am then building up, marshalling and sending as payload to their SOAP API as well as using to map the response from them.\r\n\r\nI have been looking into:\r\n\r\n1. Episodes, but I am not getting that to work. My understanding, and I can be wrong, is that I need to modify these XSD files &amp; creating a new XSD file with all the common types &amp; reference those instead. However I don&#39;t want to mess with these XSD files because I think it&#39;s error prone, also they are like 15.000 lines long with loads of type so it&#39;s not feasible (if this is the case).\r\n\r\n2. Mapping from one type to the other using a mapping library like MapStruct/ModelMapper. I am struggling to make this work too. The Java classes I am generating I have configured to have optional getters &amp; builders. This seems to make things a lot harder.\r\n\r\n3. Marshalling my class to XML, modyfing the namespace &amp; root element name to be able to unmarshal it into my other class. However this feels like a hack, and again I am messing with the XML structure.\r\n\r\nAt this point I am not sure what is the best solution for my problem, hence I am reaching out here for some advice.\r\n\r\nIf it makes any difference I am using Spring Boot.\r\n\r\nThanks in advance,\r\n\r\nBR","title":"Best way to handle identical data within two different Java types generated from XSD files","body":"<p>I am pretty much stuck finding the best way to solve this.</p>\n<p>My case is that I have a provider which gives me XSD files to generate the types I will use to call their SOAP api. Those XSD files sometimes contain the exact same data structure. However as they reside in different XSD files they will generate their own types, even if the fields of those types have the exact same name.</p>\n<p>The end goal is to be able to handle one type, so that I can write reusable logic for them.</p>\n<p>I am using the <code>com.helger.maven</code> <code>jaxb40-maven-plugin</code> (fork from <code>highsource</code> <code>jaxb-tools</code>) along with Java 17 to generate Java classes from these XSD files which I am then building up, marshalling and sending as payload to their SOAP API as well as using to map the response from them.</p>\n<p>I have been looking into:</p>\n<ol>\n<li><p>Episodes, but I am not getting that to work. My understanding, and I can be wrong, is that I need to modify these XSD files &amp; creating a new XSD file with all the common types &amp; reference those instead. However I don't want to mess with these XSD files because I think it's error prone, also they are like 15.000 lines long with loads of type so it's not feasible (if this is the case).</p>\n</li>\n<li><p>Mapping from one type to the other using a mapping library like MapStruct/ModelMapper. I am struggling to make this work too. The Java classes I am generating I have configured to have optional getters &amp; builders. This seems to make things a lot harder.</p>\n</li>\n<li><p>Marshalling my class to XML, modyfing the namespace &amp; root element name to be able to unmarshal it into my other class. However this feels like a hack, and again I am messing with the XML structure.</p>\n</li>\n</ol>\n<p>At this point I am not sure what is the best solution for my problem, hence I am reaching out here for some advice.</p>\n<p>If it makes any difference I am using Spring Boot.</p>\n<p>Thanks in advance,</p>\n<p>BR</p>\n"},{"tags":["java","apache-camel","netty4"],"owner":{"account_id":12358827,"reputation":61,"user_id":9013764,"display_name":"007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700812463,"creation_date":1686295785,"question_id":76438102,"body_markdown":"I&#39;m trying to send request to wrong IP and want to catch request time-out exception. Even though I sent request to wrong IP, it is ended normally.\r\n\r\nSource is like below.\r\n\r\n```java\r\ntry {\r\n  FluentProducerTemplate fluentProducerTemplate = exchange.getContext().createFluentProducerTemplate();\r\n\r\n  log.debug(&quot;START&quot;);\r\n\r\n// 111.111.111.111:1111 is wrong IP sample\r\n  Message message = fluentProducerTemplate.to(&quot;netty-http:http://111.111.111.111:1111/?clientMode=true&amp;connectTimeout=5000&quot;).request(Message.class);\r\n\r\n  log.debug(&quot;DONE&quot;);\r\n\r\n} catch ( Exception e ) {\r\n  log.debug(&quot;FAIL&quot;);\r\n}\r\n```\r\n\r\nI think it should be ended with &quot;FAIL&quot;, but it&#39;s not. Log message &quot;DONE&quot; is printed after 5 seconds from &quot;START&quot;. And response message is null.\r\n\r\nIs there any way to make exception if connection time-out?","title":"FluentProducerTemplate with netty-http component. Request method with timeout is not working","body":"<p>I'm trying to send request to wrong IP and want to catch request time-out exception. Even though I sent request to wrong IP, it is ended normally.</p>\n<p>Source is like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  FluentProducerTemplate fluentProducerTemplate = exchange.getContext().createFluentProducerTemplate();\n\n  log.debug(&quot;START&quot;);\n\n// 111.111.111.111:1111 is wrong IP sample\n  Message message = fluentProducerTemplate.to(&quot;netty-http:http://111.111.111.111:1111/?clientMode=true&amp;connectTimeout=5000&quot;).request(Message.class);\n\n  log.debug(&quot;DONE&quot;);\n\n} catch ( Exception e ) {\n  log.debug(&quot;FAIL&quot;);\n}\n</code></pre>\n<p>I think it should be ended with &quot;FAIL&quot;, but it's not. Log message &quot;DONE&quot; is printed after 5 seconds from &quot;START&quot;. And response message is null.</p>\n<p>Is there any way to make exception if connection time-out?</p>\n"},{"tags":["java","websocket","jetty"],"comments":[{"owner":{"account_id":1507086,"reputation":1685,"user_id":1410225,"accept_rate":69,"display_name":"zuckermanori"},"score":0,"creation_date":1530507263,"post_id":51129012,"comment_id":89243316,"body_markdown":"Can you paste the exception and stacktrace?","body":"Can you paste the exception and stacktrace?"},{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":0,"creation_date":1530540228,"post_id":51129012,"comment_id":89260004,"body_markdown":"@zuckermanori I have edited the question to include the stack trace. The only data it seems to contain is `0 null`","body":"@zuckermanori I have edited the question to include the stack trace. The only data it seems to contain is <code>0 null</code>"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1530540913,"post_id":51129012,"comment_id":89260389,"body_markdown":"With `Received fatal alert: handshake_failure` you now have to identify where it failed in your handshake.  Such as: (a) Incompatible cipher suites between server and client.  (b) Incompatible SSL/TLS between server and client.  (c) Incomplete trust path for server certificate.  (d) Server certificate is for different domain.","body":"With <code>Received fatal alert: handshake_failure</code> you now have to identify where it failed in your handshake.  Such as: (a) Incompatible cipher suites between server and client.  (b) Incompatible SSL/TLS between server and client.  (c) Incomplete trust path for server certificate.  (d) Server certificate is for different domain."},{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":0,"creation_date":1530541028,"post_id":51129012,"comment_id":89260457,"body_markdown":"I am very new at Java. How would I go about determining what needs to be done?","body":"I am very new at Java. How would I go about determining what needs to be done?"}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1572010012,"creation_date":1530526684,"answer_id":51133885,"question_id":51129012,"body_markdown":"A TLS/SSL handshake error is rather generic.\r\n\r\nYou don&#39;t know what part of the TLS/SSL handshake the issue occurred in.\r\n\r\n&gt; You can use `-Djavax.net.debug=all` command line option on Java to see the raw details of the TLS/SSL handshake, and this might be a good place to start troubleshooting your issues with.\r\n\r\nSome options ...\r\n\r\n---\r\n## For certificate name issues\r\n\r\nIf you connect to a server and the provided certificate does not\r\nmatch the hostname you used in the URI to connect, this is a violation of\r\nthe endpoint identification algorithm present in Java itself.\r\n\r\nExample Scenario:  \r\n\r\n 1. You connect to `wss://192.168.1.0:8443/chat`\r\n 2. The certificate reports itself as `chatserver.acme.com`\r\n\r\nThis is a violation, as the hostname in the URI `192.168.1.0` does not match the certificate `chatserver.acme.com`\r\n\r\nThis is especially common when testing with `wss://localhost` or `wss://127.0.0.1`\r\n\r\nYou can tell Java to not perform the Endpoint Identification check like this ...\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setEndpointIdentificationAlgorithm(null); // disable endpoint identification algorithm.\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!**\r\n\r\n---\r\n## For a certificate trust issues\r\n\r\nTry enabling trust for all certificates.\r\n\r\n1. Enable SSL/TLS for WebSocket Client\r\n2. Trust All Certificates on the SSL/TLS Configuration\r\n\r\nExample (assuming Jetty 9.4.19.v20190610 or newer):\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setTrustAll(true); // trust all certificates\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!**\r\n\r\n---\r\n## For certificate algorithm issues\r\n\r\nThe algorithm used to create the certificate will limit the available Cipher Suites made available during the TLS/SSL handshake.\r\n\r\nFor example, If the server only had a DSA certificate (known vulnerable), then none of the RSA or ECDSA certificates would be available.\r\n\r\nThe number of bits used to create the certificate is also relevant, as if the server certificate had too few, then Java itself will reject it.\r\n\r\nIf you are in control of the server certificate, make sure you have generated a certificate that contains both a RSA and ECDSA certificate, with at least 2048 bits for RSA (or more), and 256 bits for ECDSA.\r\n\r\n\r\n---\r\n## For a cipher suite issues\r\n\r\nTry an empty Cipher Suite exclusion list on the Jetty side.\r\n\r\n**⚠️ WARNING: This lets you use KNOWN vulnerable Cipher Suites!**\r\n\r\n1. Enable SSL/TLS for WebSocket Client\r\n2. Blank out the Cipher Suite Exclusion List\r\n\r\nExample (assuming Jetty 9.4.19.v20190610 or newer):\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setExcludeCipherSuites(); // blank out the default excluded cipher suites\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and any modern computer (even cell phones) can easily read your encrypted traffic**\r\n","title":"Connect to websocket with self-signed certificate in java","body":"<p>A TLS/SSL handshake error is rather generic.</p>\n\n<p>You don't know what part of the TLS/SSL handshake the issue occurred in.</p>\n\n<blockquote>\n  <p>You can use <code>-Djavax.net.debug=all</code> command line option on Java to see the raw details of the TLS/SSL handshake, and this might be a good place to start troubleshooting your issues with.</p>\n</blockquote>\n\n<p>Some options ...</p>\n\n<hr>\n\n<h2>For certificate name issues</h2>\n\n<p>If you connect to a server and the provided certificate does not\nmatch the hostname you used in the URI to connect, this is a violation of\nthe endpoint identification algorithm present in Java itself.</p>\n\n<p>Example Scenario:  </p>\n\n<ol>\n<li>You connect to <code>wss://192.168.1.0:8443/chat</code></li>\n<li>The certificate reports itself as <code>chatserver.acme.com</code></li>\n</ol>\n\n<p>This is a violation, as the hostname in the URI <code>192.168.1.0</code> does not match the certificate <code>chatserver.acme.com</code></p>\n\n<p>This is especially common when testing with <code>wss://localhost</code> or <code>wss://127.0.0.1</code></p>\n\n<p>You can tell Java to not perform the Endpoint Identification check like this ...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setEndpointIdentificationAlgorithm(null); // disable endpoint identification algorithm.\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!</strong></p>\n\n<hr>\n\n<h2>For a certificate trust issues</h2>\n\n<p>Try enabling trust for all certificates.</p>\n\n<ol>\n<li>Enable SSL/TLS for WebSocket Client</li>\n<li>Trust All Certificates on the SSL/TLS Configuration</li>\n</ol>\n\n<p>Example (assuming Jetty 9.4.19.v20190610 or newer):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setTrustAll(true); // trust all certificates\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!</strong></p>\n\n<hr>\n\n<h2>For certificate algorithm issues</h2>\n\n<p>The algorithm used to create the certificate will limit the available Cipher Suites made available during the TLS/SSL handshake.</p>\n\n<p>For example, If the server only had a DSA certificate (known vulnerable), then none of the RSA or ECDSA certificates would be available.</p>\n\n<p>The number of bits used to create the certificate is also relevant, as if the server certificate had too few, then Java itself will reject it.</p>\n\n<p>If you are in control of the server certificate, make sure you have generated a certificate that contains both a RSA and ECDSA certificate, with at least 2048 bits for RSA (or more), and 256 bits for ECDSA.</p>\n\n<hr>\n\n<h2>For a cipher suite issues</h2>\n\n<p>Try an empty Cipher Suite exclusion list on the Jetty side.</p>\n\n<p><strong>⚠️ WARNING: This lets you use KNOWN vulnerable Cipher Suites!</strong></p>\n\n<ol>\n<li>Enable SSL/TLS for WebSocket Client</li>\n<li>Blank out the Cipher Suite Exclusion List</li>\n</ol>\n\n<p>Example (assuming Jetty 9.4.19.v20190610 or newer):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setExcludeCipherSuites(); // blank out the default excluded cipher suites\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and any modern computer (even cell phones) can easily read your encrypted traffic</strong></p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700811702,"creation_date":1700811397,"answer_id":77541394,"question_id":51129012,"body_markdown":"&gt; ```java\r\n&gt; // ...\r\n&gt; new WebSocketClient(ssl);\r\n&gt; ```\r\n\r\nStarting with Jetty 10, this syntax no longer works.\r\n\r\nFor Jetty 10, courtesy of the Jetty 10 [`WebSocketClientServlet.java` test](https://github.com/jetty/jetty.project/blob/f82844e2a256c3426df029f028bf0fee8cd4879b/tests/test-webapps/test-websocket-client-webapp/src/main/java/org/eclipse/jetty/tests/webapp/websocket/WebSocketClientServlet.java#L48-L53):\r\n\r\n```java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(true);\r\nClientConnector connector = new ClientConnector();\r\nclientConnector.setSslContextFactory(ssl);\r\nHttpClient http = new HttpClient(new HttpClientTransportOverHTTP(connector));\r\nWebSocketClient client = new WebSocketClient(http);\r\n```","title":"Connect to websocket with self-signed certificate in java","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\nnew WebSocketClient(ssl);\n</code></pre>\n</blockquote>\n<p>Starting with Jetty 10, this syntax no longer works.</p>\n<p>For Jetty 10, courtesy of the Jetty 10 <a href=\"https://github.com/jetty/jetty.project/blob/f82844e2a256c3426df029f028bf0fee8cd4879b/tests/test-webapps/test-websocket-client-webapp/src/main/java/org/eclipse/jetty/tests/webapp/websocket/WebSocketClientServlet.java#L48-L53\" rel=\"nofollow noreferrer\"><code>WebSocketClientServlet.java</code> test</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(true);\nClientConnector connector = new ClientConnector();\nclientConnector.setSslContextFactory(ssl);\nHttpClient http = new HttpClient(new HttpClientTransportOverHTTP(connector));\nWebSocketClient client = new WebSocketClient(http);\n</code></pre>\n"}],"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51133885,"answer_count":2,"score":2,"last_activity_date":1700811702,"creation_date":1530504548,"question_id":51129012,"body_markdown":"I need to use Java to connect to a WebSocket server that is using a self-signed certificate. I&#39;m trying to use the Jetty library and am pretty new at Java but I am finding it very difficult to figure out what needs to be done. I can connect using NodeJS very simply:\r\n\r\n    const WebSocket = require(&#39;ws&#39;);\r\n    const ws = new WebSocket(&#39;wss://192.168.100.220:9000/&#39;, [&#39;ws-valence&#39;], {\r\n      rejectUnauthorized: false,\r\n    });\r\n\r\nHowever, modifying the example I found on the [Jetty docs][1] doesn&#39;t get me very far. \r\n\r\nI implemented a basic client that works well with an echo test server, like in the example linked above. Then I went on to configure it with my own protocol and IP Address:\r\n\r\n      private static void connectToBasestation() {\r\n        \r\n    //    String destUri = &quot;ws://echo.websocket.org&quot;;\r\n        String basestationUri = &quot;wss://192.168.100.220:9000/&quot;;\r\n        SslContextFactory ssl = new SslContextFactory(); // ssl config\r\n        ssl.setTrustAll(true); // trust all certificates\r\n        WebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n        BasestationSocket socket = new BasestationSocket();\r\n        ArrayList&lt;String&gt; protocols = new ArrayList&lt;String&gt;();\r\n        protocols.add(&quot;ws-valence&quot;);\r\n        \r\n        try\r\n        {\r\n            client.start();\r\n            URI bsUri = new URI(basestationUri);\r\n            ClientUpgradeRequest request = new ClientUpgradeRequest();\r\n            request.setSubProtocols(protocols);\r\n            client.connect(socket, bsUri, request);\r\n            System.out.printf(&quot;Connecting to : %s%n&quot;, bsUri);\r\n    \r\n            // wait for closed socket connection.\r\n            socket.awaitClose(5,TimeUnit.SECONDS);\r\n        }\r\n        catch (Throwable t)\r\n        {\r\n            t.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                client.stop();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            \r\n            }\r\n        }\r\n      }\r\n\r\nHowever, I&#39;m getting an `UpgradeException` with `0 null` as the values and my `onConnect` method is never getting called. I&#39;m guessing this is a security issue, but I can&#39;t be certain since the server is an old machine -- a bit of a black box. But I&#39;m thinking maybe something is wrong with my approach? Can anyone lend any advice here?\r\n\r\nEdit 1: Included trustful SSL factory as suggested. It did not change anything, including the stack trace from below.\r\n\r\nEdit 3: There is a similar question listed above, but this is different since 1) I&#39;m getting a different error code and 2) Adding a trustful SSL factory does not solve the issue.\r\n\r\nEdit 2: Here is the stack trace I am getting from my OnError below:\r\n\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n    \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1666)\r\n    \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1634)\r\n    \tat sun.security.ssl.SSLEngineImpl.recvAlert(SSLEngineImpl.java:1800)\r\n    \tat sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:1083)\r\n    \tat sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:907)\r\n    \tat sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)\r\n    \tat javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:681)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:128)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n    \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n    \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n    \t... 3 more\r\n    org.eclipse.jetty.websocket.api.UpgradeException: 0 null\r\n    \tat org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:216)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:208)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\r\n    \tat org.eclipse.jetty.client.HttpChannel.abortResponse(HttpChannel.java:156)\r\n    \tat org.eclipse.jetty.client.HttpSender.terminateRequest(HttpSender.java:381)\r\n    \tat org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:566)\r\n    \tat org.eclipse.jetty.client.HttpSender.anyToFailure(HttpSender.java:350)\r\n    \tat org.eclipse.jetty.client.HttpSender$CommitCallback.failed(HttpSender.java:717)\r\n    \tat org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.failed(HttpSenderOverHTTP.java:310)\r\n    \tat org.eclipse.jetty.io.WriteFlusher$PendingState.fail(WriteFlusher.java:263)\r\n    \tat org.eclipse.jetty.io.WriteFlusher.onFail(WriteFlusher.java:516)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint$FailWrite.run(SslConnection.java:1251)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n  [1]: http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html\r\n","title":"Connect to websocket with self-signed certificate in java","body":"<p>I need to use Java to connect to a WebSocket server that is using a self-signed certificate. I'm trying to use the Jetty library and am pretty new at Java but I am finding it very difficult to figure out what needs to be done. I can connect using NodeJS very simply:</p>\n\n<pre><code>const WebSocket = require('ws');\nconst ws = new WebSocket('wss://192.168.100.220:9000/', ['ws-valence'], {\n  rejectUnauthorized: false,\n});\n</code></pre>\n\n<p>However, modifying the example I found on the <a href=\"http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html\" rel=\"nofollow noreferrer\">Jetty docs</a> doesn't get me very far. </p>\n\n<p>I implemented a basic client that works well with an echo test server, like in the example linked above. Then I went on to configure it with my own protocol and IP Address:</p>\n\n<pre><code>  private static void connectToBasestation() {\n\n//    String destUri = \"ws://echo.websocket.org\";\n    String basestationUri = \"wss://192.168.100.220:9000/\";\n    SslContextFactory ssl = new SslContextFactory(); // ssl config\n    ssl.setTrustAll(true); // trust all certificates\n    WebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n    BasestationSocket socket = new BasestationSocket();\n    ArrayList&lt;String&gt; protocols = new ArrayList&lt;String&gt;();\n    protocols.add(\"ws-valence\");\n\n    try\n    {\n        client.start();\n        URI bsUri = new URI(basestationUri);\n        ClientUpgradeRequest request = new ClientUpgradeRequest();\n        request.setSubProtocols(protocols);\n        client.connect(socket, bsUri, request);\n        System.out.printf(\"Connecting to : %s%n\", bsUri);\n\n        // wait for closed socket connection.\n        socket.awaitClose(5,TimeUnit.SECONDS);\n    }\n    catch (Throwable t)\n    {\n        t.printStackTrace();\n    }\n    finally\n    {\n        try\n        {\n            client.stop();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n\n        }\n    }\n  }\n</code></pre>\n\n<p>However, I'm getting an <code>UpgradeException</code> with <code>0 null</code> as the values and my <code>onConnect</code> method is never getting called. I'm guessing this is a security issue, but I can't be certain since the server is an old machine -- a bit of a black box. But I'm thinking maybe something is wrong with my approach? Can anyone lend any advice here?</p>\n\n<p>Edit 1: Included trustful SSL factory as suggested. It did not change anything, including the stack trace from below.</p>\n\n<p>Edit 3: There is a similar question listed above, but this is different since 1) I'm getting a different error code and 2) Adding a trustful SSL factory does not solve the issue.</p>\n\n<p>Edit 2: Here is the stack trace I am getting from my OnError below:</p>\n\n<pre><code>Caused by: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1666)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1634)\n    at sun.security.ssl.SSLEngineImpl.recvAlert(SSLEngineImpl.java:1800)\n    at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:1083)\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:907)\n    at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)\n    at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:681)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:128)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\n    at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n    ... 3 more\norg.eclipse.jetty.websocket.api.UpgradeException: 0 null\n    at org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:216)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:208)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\n    at org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\n    at org.eclipse.jetty.client.HttpChannel.abortResponse(HttpChannel.java:156)\n    at org.eclipse.jetty.client.HttpSender.terminateRequest(HttpSender.java:381)\n    at org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:566)\n    at org.eclipse.jetty.client.HttpSender.anyToFailure(HttpSender.java:350)\n    at org.eclipse.jetty.client.HttpSender$CommitCallback.failed(HttpSender.java:717)\n    at org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.failed(HttpSenderOverHTTP.java:310)\n    at org.eclipse.jetty.io.WriteFlusher$PendingState.fail(WriteFlusher.java:263)\n    at org.eclipse.jetty.io.WriteFlusher.onFail(WriteFlusher.java:516)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint$FailWrite.run(SslConnection.java:1251)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700811153,"creation_date":1700770383,"answer_id":77539418,"question_id":77538473,"body_markdown":"Using `grid.setAllRowsVisible(true)` will disable lazy loading feature, that exactly the point of this API. It is also stated in the documentation. If you indeed need lazy loading and especially callback fetches, you should not use it.\r\n\r\n    /**\r\n     * If &lt;code&gt;true&lt;/code&gt;, the grid&#39;s height is defined by its rows. All items\r\n     * are fetched from the {@link DataProvider}, and the Grid shows no vertical\r\n     * scroll bar.\r\n     * &lt;p&gt;\r\n     * Note: &lt;code&gt;setAllRowsVisible&lt;/code&gt; disables the grid&#39;s virtual\r\n     * scrolling so that all the rows are rendered in the DOM at once. If the\r\n     * grid has a large number of items, using the feature is discouraged to\r\n     * avoid performance issues.\r\n     *\r\n     * @param allRowsVisible\r\n     *            &lt;code&gt;true&lt;/code&gt; to make Grid compute its height by the\r\n     *            number of rows, &lt;code&gt;false&lt;/code&gt; for the default behavior\r\n     */\r\n    public void setAllRowsVisible(boolean allRowsVisible)","title":"Vaading setAllRowsVisible, lazy loading grid","body":"<p>Using <code>grid.setAllRowsVisible(true)</code> will disable lazy loading feature, that exactly the point of this API. It is also stated in the documentation. If you indeed need lazy loading and especially callback fetches, you should not use it.</p>\n<pre><code>/**\n * If &lt;code&gt;true&lt;/code&gt;, the grid's height is defined by its rows. All items\n * are fetched from the {@link DataProvider}, and the Grid shows no vertical\n * scroll bar.\n * &lt;p&gt;\n * Note: &lt;code&gt;setAllRowsVisible&lt;/code&gt; disables the grid's virtual\n * scrolling so that all the rows are rendered in the DOM at once. If the\n * grid has a large number of items, using the feature is discouraged to\n * avoid performance issues.\n *\n * @param allRowsVisible\n *            &lt;code&gt;true&lt;/code&gt; to make Grid compute its height by the\n *            number of rows, &lt;code&gt;false&lt;/code&gt; for the default behavior\n */\npublic void setAllRowsVisible(boolean allRowsVisible)\n</code></pre>\n"}],"owner":{"account_id":29976848,"reputation":1,"user_id":22972850,"display_name":"impi1111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700811153,"creation_date":1700757583,"question_id":77538473,"body_markdown":"Im using Vaadin 24. \r\nCurrently I have grid which is using CallbackDataProvider to lazy load the data from database, but problem is that I want this grid on whole page not just as a seperate table, so I used grid.setAllRowsVisible(true) to put it directly on the page with all rows, and until I used lazy loading everything worked fine, but now I implemented mentioned above CallbackDataProvider, and seems like grid.setAllRowsVisible is taking amount of rows from CountCallback&lt;T, F&gt; countCallback and base on that is creating one big Grid instead of lazy generating it.\r\n\r\nIs there a way to say to grid to take data from FetchCallback&lt;T, F&gt; fetchCallback instead? Or maybe there is a different option for handling this.\r\n \r\n\r\nEverything explained above.","title":"Vaading setAllRowsVisible, lazy loading grid","body":"<p>Im using Vaadin 24.\nCurrently I have grid which is using CallbackDataProvider to lazy load the data from database, but problem is that I want this grid on whole page not just as a seperate table, so I used grid.setAllRowsVisible(true) to put it directly on the page with all rows, and until I used lazy loading everything worked fine, but now I implemented mentioned above CallbackDataProvider, and seems like grid.setAllRowsVisible is taking amount of rows from CountCallback&lt;T, F&gt; countCallback and base on that is creating one big Grid instead of lazy generating it.</p>\n<p>Is there a way to say to grid to take data from FetchCallback&lt;T, F&gt; fetchCallback instead? Or maybe there is a different option for handling this.</p>\n<p>Everything explained above.</p>\n"},{"tags":["java","spring","properties"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1700816888,"post_id":77541345,"comment_id":136702036,"body_markdown":"Go through this link https://docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html/boot-features-external-config.html","body":"Go through this link <a href=\"https://docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1700818249,"post_id":77541345,"comment_id":136702271,"body_markdown":"Remove hardcoded value from property source. Use application-erp.properties as file name. Provide the profile name in command line. For example - java -jar myproject.jar -Dspring.profiles.active=erp --spring.config.additional-location=/absoulte/path/","body":"Remove hardcoded value from property source. Use application-erp.properties as file name. Provide the profile name in command line. For example - java -jar myproject.jar -Dspring.profiles.active=erp --spring.config.additional-location=/absoulte/path/"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700810655,"creation_date":1700810655,"question_id":77541345,"body_markdown":"I am confused about the possibility of using different configuration parameters for devel and for production.\r\nLet&#39;s make an example, I have a file with a lot of properties for devel and I use it in a Spring configuration bean like this:\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@PropertySource({&quot;classpath:persistance-erp.properties&quot;})\r\n@EnableJpaRepositories(basePackages = &quot;it.fox.dafne.db.erp.dao&quot;, \r\n                       entityManagerFactoryRef = &quot;erpEntityManager&quot;, \r\n                       transactionManagerRef = &quot;erpTransactionManager&quot;)\r\npublic class PersistenceErpConfiguration {\r\n\r\n// lot of code\r\n\r\n}\r\n```\r\n\r\nthe file `persistance-erp.properties` is in the resources directory in my IDE. When I package the code for production and I install the App in the server I would like to instantiate the same bean but with a file from `/etc/myApp/persistance-erp.properties` and not use any more the one in the classpath.\r\n\r\nWhich is the proper way to have a bean that in devel use the file in the resource directory and on production use the one in `/etc` ?\r\n\r\nI have tried to add\r\n\r\n```\r\n@PropertySource(value = &quot;file:/etc/dafne/persistance-erp.properties&quot;, ignoreResourceNotFound = true)\r\n```\r\n\r\nbut the property are summed up, I would like to use one file OR the other not to sum up the properties.\r\n\r\nThanks,\r\nS.","title":"Spring @PropertySource for devel and for production","body":"<p>I am confused about the possibility of using different configuration parameters for devel and for production.\nLet's make an example, I have a file with a lot of properties for devel and I use it in a Spring configuration bean like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@PropertySource({&quot;classpath:persistance-erp.properties&quot;})\n@EnableJpaRepositories(basePackages = &quot;it.fox.dafne.db.erp.dao&quot;, \n                       entityManagerFactoryRef = &quot;erpEntityManager&quot;, \n                       transactionManagerRef = &quot;erpTransactionManager&quot;)\npublic class PersistenceErpConfiguration {\n\n// lot of code\n\n}\n</code></pre>\n<p>the file <code>persistance-erp.properties</code> is in the resources directory in my IDE. When I package the code for production and I install the App in the server I would like to instantiate the same bean but with a file from <code>/etc/myApp/persistance-erp.properties</code> and not use any more the one in the classpath.</p>\n<p>Which is the proper way to have a bean that in devel use the file in the resource directory and on production use the one in <code>/etc</code> ?</p>\n<p>I have tried to add</p>\n<pre><code>@PropertySource(value = &quot;file:/etc/dafne/persistance-erp.properties&quot;, ignoreResourceNotFound = true)\n</code></pre>\n<p>but the property are summed up, I would like to use one file OR the other not to sum up the properties.</p>\n<p>Thanks,\nS.</p>\n"},{"tags":["python","java","python-3.x","pdfbox"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700808055,"post_id":77541121,"comment_id":136700736,"body_markdown":"Welcome to Stack Overflow.  Have you tried updating to 2.0.29 for pdfbox-app.jar?","body":"Welcome to Stack Overflow.  Have you tried updating to 2.0.29 for pdfbox-app.jar?"},{"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"score":0,"creation_date":1700808211,"post_id":77541121,"comment_id":136700748,"body_markdown":"I tried with pdfbox-app-2.0.21.jar, pdfbox-app-2.0.28.jar and pdfbox-app-3.0.0.jar but no luck.","body":"I tried with pdfbox-app-2.0.21.jar, pdfbox-app-2.0.28.jar and pdfbox-app-3.0.0.jar but no luck."},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700808811,"post_id":77541121,"comment_id":136700796,"body_markdown":"What about a different jdk version?","body":"What about a different jdk version?"},{"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"score":0,"creation_date":1700811271,"post_id":77541121,"comment_id":136701137,"body_markdown":"I tried jdk-17.0.5 and jre1.8.0_321 but no luck. Are you suggesting any version?","body":"I tried jdk-17.0.5 and jre1.8.0_321 but no luck. Are you suggesting any version?"},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700811989,"post_id":77541121,"comment_id":136701256,"body_markdown":"Unfortunately, that&#39;s the limit of my understanding of the problem.  Perhaps filing an issue with pdfbox&#39;s github page?","body":"Unfortunately, that&#39;s the limit of my understanding of the problem.  Perhaps filing an issue with pdfbox&#39;s github page?"}],"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700810335,"creation_date":1700807393,"question_id":77541121,"body_markdown":"I used Pip to install `pdfbox`. When I try to `import` it at the REPL, it quits the interpreter:\r\n\r\n```\r\nPS D:\\AssetExtraction&gt; python\r\nPython 3.8.5 (tags/v3.8.5:580fbb0, Jul 20 2020, 15:57:54) [MSC v.1924 64 bit (AMD64)] on win32\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n&gt;&gt;&gt; import pdfbox\r\n&gt;&gt;&gt; p = pdfbox.PDFBox()\r\nPS D:\\AssetExtraction&gt;\r\n```\r\nThe relevant environment variables look OK:\r\n```\r\nJAVA_HOME    D:\\Python_385\\jre\\jdk-17.0.5\r\nPDFBOX       D:\\Python_385\\pdfbox\\pdfbox-app-2.0.21.jar\r\n```\r\nI have PDFBox working on other systems with the same setup but can&#39;t get it to work on this machine.","title":"Initializing python package pdfbox throws me out of python","body":"<p>I used Pip to install <code>pdfbox</code>. When I try to <code>import</code> it at the REPL, it quits the interpreter:</p>\n<pre><code>PS D:\\AssetExtraction&gt; python\nPython 3.8.5 (tags/v3.8.5:580fbb0, Jul 20 2020, 15:57:54) [MSC v.1924 64 bit (AMD64)] on win32\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import pdfbox\n&gt;&gt;&gt; p = pdfbox.PDFBox()\nPS D:\\AssetExtraction&gt;\n</code></pre>\n<p>The relevant environment variables look OK:</p>\n<pre><code>JAVA_HOME    D:\\Python_385\\jre\\jdk-17.0.5\nPDFBOX       D:\\Python_385\\pdfbox\\pdfbox-app-2.0.21.jar\n</code></pre>\n<p>I have PDFBox working on other systems with the same setup but can't get it to work on this machine.</p>\n"},{"tags":["java","spring-boot","caching","service"],"answers":[{"tags":[],"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700809477,"creation_date":1700807392,"answer_id":77541120,"question_id":77539823,"body_markdown":"I&#39;m not sure because I haven&#39;t seen the entire code, but I think it&#39;s because the first caching is always null, but this value isn&#39;t updated properly.\r\n\r\nFirst, since the return value from loadCachedCustomerDailyData() is null, it will always return the cached null value.\r\nTherefore, dailyCustomerLoadInfo in the processLoad method will perform logic with a null value.\r\n\r\nI don&#39;t know what processLoad&#39;s isValidLoad() and assignCustomerLoad() do, but I predict that the logic is not working as expected because the first caching is always null.\r\n\r\nTry logging for each condition and debug methods that are executed with null values. Hope this helps!\r\n\r\nI have commented the code below.\r\n```java\r\n@Service\r\npublic class UpdateCacheService {\r\n\r\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\r\n\t\t// null value caching!\r\n        return null;\r\n    }\r\n\r\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\r\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\r\n        return new BigDecimal(0);\r\n    }\r\n\r\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\r\n\r\n        return dailyCustomerLoadInfo;\r\n    }\r\n\r\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\r\n        return total;\r\n    }\r\n\r\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\r\n    public void clearCache(String cacheName) {\r\n    }\r\n}\r\n```\r\n```java\r\npublic Boolean processLoad(Load load) {\r\n        if (this.lastSeenDate != null) {\r\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\r\n        }\r\n\r\n        //Read value in from cache if available\r\n\t\t//First, cached null values!\r\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\r\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\r\n        //It will always go into the dailyCustomerLoadInfo == null conditional branch below.\r\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\r\n        if (isValidInput == null) {\r\n            return null; // Duplicate load_id for unique user\r\n        } else if (!isValidInput) {\r\n            return false;\r\n        }\r\n\r\n        //TODO: Write to DB Service\r\n\t\t//It will always go into the null conditional branch below.\r\n        if (dailyCustomerLoadInfo == null) {\r\n\t\t\t// I don&#39;t know assignCustomerLoad method...\r\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\r\n        } else {\r\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\r\n        }\r\n\r\n        boolean isDatabaseSuccess = true;\r\n\t\t\t\t\r\n\t\t// The null update is interesting for caching updates under the conditions below..\r\n        if (isDatabaseSuccess) {\r\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\r\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\r\n        }\r\n        return true;\r\n    }\r\n```","title":"Facing issues with Spring Boot&#39;s @Cacheable and @CachePut - cache is always empty","body":"<p>I'm not sure because I haven't seen the entire code, but I think it's because the first caching is always null, but this value isn't updated properly.</p>\n<p>First, since the return value from loadCachedCustomerDailyData() is null, it will always return the cached null value.\nTherefore, dailyCustomerLoadInfo in the processLoad method will perform logic with a null value.</p>\n<p>I don't know what processLoad's isValidLoad() and assignCustomerLoad() do, but I predict that the logic is not working as expected because the first caching is always null.</p>\n<p>Try logging for each condition and debug methods that are executed with null values. Hope this helps!</p>\n<p>I have commented the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UpdateCacheService {\n\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\n        // null value caching!\n        return null;\n    }\n\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\n        return new BigDecimal(0);\n    }\n\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\n\n        return dailyCustomerLoadInfo;\n    }\n\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\n        return total;\n    }\n\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\n    public void clearCache(String cacheName) {\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public Boolean processLoad(Load load) {\n        if (this.lastSeenDate != null) {\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\n        }\n\n        //Read value in from cache if available\n        //First, cached null values!\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\n        //It will always go into the dailyCustomerLoadInfo == null conditional branch below.\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\n        if (isValidInput == null) {\n            return null; // Duplicate load_id for unique user\n        } else if (!isValidInput) {\n            return false;\n        }\n\n        //TODO: Write to DB Service\n        //It will always go into the null conditional branch below.\n        if (dailyCustomerLoadInfo == null) {\n            // I don't know assignCustomerLoad method...\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\n        } else {\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\n        }\n\n        boolean isDatabaseSuccess = true;\n                \n        // The null update is interesting for caching updates under the conditions below..\n        if (isDatabaseSuccess) {\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":17830573,"reputation":21,"user_id":12950680,"display_name":"Brandon Yip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700809477,"creation_date":1700777149,"question_id":77539823,"body_markdown":"I&#39;m trying to build a simple Java SB application that reads a text file with lines of data such as:\r\n\r\n```{&quot;id&quot;:&quot;15887&quot;,&quot;customer_id&quot;:&quot;528&quot;,&quot;load_amount&quot;:&quot;$3318.47&quot;,&quot;time&quot;:&quot;2000-01-01T00:00:00Z&quot;}```\r\n\r\nI am struggling to understand why my cache continues to be empty even though I explicitly call methods within my UpdateCacheService (annotated with either @Cacheable or @Cacheput). I have abstracted methods that interacting with the Cache into the UpdateCacheService, although I&#39;m unsure as to whether my various annotations and general setup are correct.\r\n\r\nI tried creating a service named UpdateCacheService that contains various methods annotated with @Cacheable and @Cacheput. To my understanding, @Cacheable will check the cache for any corresponding values based on the provided key, and if something&#39;s found then the function thereafter won&#39;t be invoked. @Cacheput is quite the contrary in which the function is invoked, and the return value of the function will be stored as a value to the provided key as a key:value pair in the cache. I&#39;ve created a service to house all of my various cache operations:\r\n\r\n```\r\npackage com.example.fundloader.service;\r\n\r\nimport com.example.fundloader.model.DailyLoadInfo;\r\nimport com.example.fundloader.model.Load;\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.CachePut;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.math.BigDecimal;\r\n\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Service\r\npublic class UpdateCacheService {\r\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\r\n        return null;\r\n    }\r\n\r\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\r\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\r\n        return new BigDecimal(0);\r\n    }\r\n\r\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\r\n\r\n        return dailyCustomerLoadInfo;\r\n    }\r\n\r\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\r\n        return total;\r\n    }\r\n\r\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\r\n    public void clearCache(String cacheName) {\r\n    }\r\n}\r\n```\r\n\r\nAlong with another Service thats sole purpose is to accept lines of input from the text file that I&#39;m reading off from and invoke both the UpdateCacheService and another ValidateLoadService, which essentially just checks the current input against certain constraints that I&#39;ve imposed on myself (i.e if a given *customer_id* has made more than 3 deposits in a single day, deny them, or if they&#39;ve deposited \\&gt;$5,000/day).\r\n\r\nCacheManagementService.java\r\n\r\n```\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Service\r\npublic class CacheManagementService {\r\n    private final CacheManager cacheManager;\r\n    private final UpdateCacheService updateCacheService;\r\n    private final ValidateLoadService validateLoadService;\r\n    private Instant lastSeenDate;\r\n\r\n    @Autowired\r\n    public CacheManagementService(CacheManager cacheManager, UpdateCacheService updateCacheService, ValidateLoadService validateLoadService) {\r\n        this.cacheManager = cacheManager;\r\n        this.updateCacheService = updateCacheService;\r\n        this.validateLoadService = validateLoadService;\r\n    }\r\n\r\n\r\n    public Boolean processLoad(Load load) {\r\n        if (this.lastSeenDate != null) {\r\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\r\n        }\r\n\r\n        //Read value in from cache if available\r\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\r\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\r\n\r\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\r\n        if (isValidInput == null) {\r\n            return null; // Duplicate load_id for unique user\r\n        } else if (!isValidInput) {\r\n            return false;\r\n        }\r\n\r\n        //TODO: Write to DB Service\r\n\r\n        if (dailyCustomerLoadInfo == null) {\r\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\r\n        } else {\r\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\r\n        }\r\n\r\n        boolean isDatabaseSuccess = true;\r\n\r\n        if (isDatabaseSuccess) {\r\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\r\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\nWithin my processLoad() function in CacheManagementService.java, I invoke\r\n\r\n```DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachdCustomerDailyData(load);```\r\n\r\nand my expectation was that on the first hit, it would be a cache miss since the cache is empty. Given that my text file contains a fair amount of duplicates with respect to *customer_id*&#39;s, I know there are cases where I provide a key:value pair where the key has been seen before. With that being said, I don&#39;t know why my cache continues to be empty even after processing \\&gt;1000 lines of my text file. I&#39;ve tried accessing the cache directly by doing ```cacheManager.get(&lt;cacheName&gt;).get(&lt;key&gt;)```, all to no avail (all return null). I can only assume that I&#39;ve either set my dependency injections up incorrectly, or that I&#39;ve missed and/or missed certain annotations such as @EnableCaching in vital places.\r\n\r\nMain.java\r\n\r\n```\r\npackage com.example.fundloader;\r\n\r\nimport com.example.fundloader.utils.FileIO;\r\nimport com.example.fundloader.model.Load;\r\nimport jakarta.annotation.PostConstruct;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\n\r\n@EnableCaching\r\n@SpringBootApplication\r\npublic class FundLoaderApplication {\r\n\r\n    private final FileIO&lt;Load&gt; loadsFileProcessor;\r\n\r\n    @Autowired\r\n    public FundLoaderApplication(FileIO&lt;Load&gt; loadsFileProcessor) {\r\n        this.loadsFileProcessor = loadsFileProcessor;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(FundLoaderApplication.class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void processFiles() {\r\n        loadsFileProcessor.processFile(&quot;src/main/resources/&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCacheConfig.java\r\n```\r\npackage com.example.fundloader.config;\r\n\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class LoadCacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        return new ConcurrentMapCacheManager(DAILY_LOADS_CACHE, WEEKLY_LOADS_CACHE);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;d greatly appreciate any help, I&#39;ve been stuck for a few days now and I&#39;m unsure on how to tackle this issue.","title":"Facing issues with Spring Boot&#39;s @Cacheable and @CachePut - cache is always empty","body":"<p>I'm trying to build a simple Java SB application that reads a text file with lines of data such as:</p>\n<p><code>{&quot;id&quot;:&quot;15887&quot;,&quot;customer_id&quot;:&quot;528&quot;,&quot;load_amount&quot;:&quot;$3318.47&quot;,&quot;time&quot;:&quot;2000-01-01T00:00:00Z&quot;}</code></p>\n<p>I am struggling to understand why my cache continues to be empty even though I explicitly call methods within my UpdateCacheService (annotated with either @Cacheable or @Cacheput). I have abstracted methods that interacting with the Cache into the UpdateCacheService, although I'm unsure as to whether my various annotations and general setup are correct.</p>\n<p>I tried creating a service named UpdateCacheService that contains various methods annotated with @Cacheable and @Cacheput. To my understanding, @Cacheable will check the cache for any corresponding values based on the provided key, and if something's found then the function thereafter won't be invoked. @Cacheput is quite the contrary in which the function is invoked, and the return value of the function will be stored as a value to the provided key as a key:value pair in the cache. I've created a service to house all of my various cache operations:</p>\n<pre><code>package com.example.fundloader.service;\n\nimport com.example.fundloader.model.DailyLoadInfo;\nimport com.example.fundloader.model.Load;\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.CachePut;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport java.math.BigDecimal;\n\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Service\npublic class UpdateCacheService {\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\n        return null;\n    }\n\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\n        return new BigDecimal(0);\n    }\n\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\n\n        return dailyCustomerLoadInfo;\n    }\n\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\n        return total;\n    }\n\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\n    public void clearCache(String cacheName) {\n    }\n}\n</code></pre>\n<p>Along with another Service thats sole purpose is to accept lines of input from the text file that I'm reading off from and invoke both the UpdateCacheService and another ValidateLoadService, which essentially just checks the current input against certain constraints that I've imposed on myself (i.e if a given <em>customer_id</em> has made more than 3 deposits in a single day, deny them, or if they've deposited &gt;$5,000/day).</p>\n<p>CacheManagementService.java</p>\n<pre><code>import static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Service\npublic class CacheManagementService {\n    private final CacheManager cacheManager;\n    private final UpdateCacheService updateCacheService;\n    private final ValidateLoadService validateLoadService;\n    private Instant lastSeenDate;\n\n    @Autowired\n    public CacheManagementService(CacheManager cacheManager, UpdateCacheService updateCacheService, ValidateLoadService validateLoadService) {\n        this.cacheManager = cacheManager;\n        this.updateCacheService = updateCacheService;\n        this.validateLoadService = validateLoadService;\n    }\n\n\n    public Boolean processLoad(Load load) {\n        if (this.lastSeenDate != null) {\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\n        }\n\n        //Read value in from cache if available\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\n\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\n        if (isValidInput == null) {\n            return null; // Duplicate load_id for unique user\n        } else if (!isValidInput) {\n            return false;\n        }\n\n        //TODO: Write to DB Service\n\n        if (dailyCustomerLoadInfo == null) {\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\n        } else {\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\n        }\n\n        boolean isDatabaseSuccess = true;\n\n        if (isDatabaseSuccess) {\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\n        }\n        return true;\n    }\n</code></pre>\n<p>Within my processLoad() function in CacheManagementService.java, I invoke</p>\n<p><code>DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachdCustomerDailyData(load);</code></p>\n<p>and my expectation was that on the first hit, it would be a cache miss since the cache is empty. Given that my text file contains a fair amount of duplicates with respect to <em>customer_id</em>'s, I know there are cases where I provide a key:value pair where the key has been seen before. With that being said, I don't know why my cache continues to be empty even after processing &gt;1000 lines of my text file. I've tried accessing the cache directly by doing <code>cacheManager.get(&lt;cacheName&gt;).get(&lt;key&gt;)</code>, all to no avail (all return null). I can only assume that I've either set my dependency injections up incorrectly, or that I've missed and/or missed certain annotations such as @EnableCaching in vital places.</p>\n<p>Main.java</p>\n<pre><code>package com.example.fundloader;\n\nimport com.example.fundloader.utils.FileIO;\nimport com.example.fundloader.model.Load;\nimport jakarta.annotation.PostConstruct;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cache.annotation.EnableCaching;\n\n@EnableCaching\n@SpringBootApplication\npublic class FundLoaderApplication {\n\n    private final FileIO&lt;Load&gt; loadsFileProcessor;\n\n    @Autowired\n    public FundLoaderApplication(FileIO&lt;Load&gt; loadsFileProcessor) {\n        this.loadsFileProcessor = loadsFileProcessor;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(FundLoaderApplication.class, args);\n    }\n\n    @PostConstruct\n    public void processFiles() {\n        loadsFileProcessor.processFile(&quot;src/main/resources/&quot;);\n    }\n}\n</code></pre>\n<p>CacheConfig.java</p>\n<pre><code>package com.example.fundloader.config;\n\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Configuration\n@EnableCaching\npublic class LoadCacheConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        return new ConcurrentMapCacheManager(DAILY_LOADS_CACHE, WEEKLY_LOADS_CACHE);\n    }\n}\n</code></pre>\n<p>I'd greatly appreciate any help, I've been stuck for a few days now and I'm unsure on how to tackle this issue.</p>\n"},{"tags":["java","tomcat","cxf"],"comments":[{"owner":{"account_id":2005127,"reputation":3161,"user_id":1795230,"display_name":"Brian Henry"},"score":2,"creation_date":1352301984,"post_id":13268550,"comment_id":18091619,"body_markdown":"can you be more clear: what are you trying to change?","body":"can you be more clear: what are you trying to change?"}],"answers":[{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700809371,"creation_date":1352287356,"answer_id":13268743,"question_id":13268550,"body_markdown":"Use `&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;` in web.xml:\r\n\r\n```xml\r\n&lt;servlet&gt;\r\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;config-location&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:cxf-context.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n&lt;/servlet&gt;\r\n```","title":"CXF-Servlet initial startup","body":"<p>Use <code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code> in web.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;config-location&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:cxf-context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"}],"owner":{"account_id":1101839,"reputation":59,"user_id":1094084,"accept_rate":22,"display_name":"George Krause"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700809371,"creation_date":1352286788,"question_id":13268550,"body_markdown":"I have got a really basic and important question to you: My CXFServlet which is controlled by an EmbeddedTomcat deploys the webservices, when I call the url to my servlet.\r\n\r\nHow can I change that? Are there any solutions?","title":"CXF-Servlet initial startup","body":"<p>I have got a really basic and important question to you: My CXFServlet which is controlled by an EmbeddedTomcat deploys the webservices, when I call the url to my servlet.</p>\n\n<p>How can I change that? Are there any solutions?</p>\n"},{"tags":["java","spring-boot","cucumber","integration-testing","wiremock-standalone"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1700167577,"post_id":77497739,"comment_id":136624723,"body_markdown":"You should focus on the observable effects of the system. Not the internal workings. So in essence very the calls made to the mock server. https://wiremock.org/docs/verifying/","body":"You should focus on the observable effects of the system. Not the internal workings. So in essence very the calls made to the mock server. <a href=\"https://wiremock.org/docs/verifying/\" rel=\"nofollow noreferrer\">wiremock.org/docs/verifying</a>"},{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":0,"creation_date":1701257998,"post_id":77497739,"comment_id":136752644,"body_markdown":"I have the same issue, did you find a solution yet?","body":"I have the same issue, did you find a solution yet?"}],"owner":{"account_id":24260049,"reputation":17,"user_id":18209752,"display_name":"sejo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808566,"creation_date":1700165057,"question_id":77497739,"body_markdown":"How do I write integration test for Spring Boot `@Retryable` in cucumber? I have a service method annotated with `@Retryable. MaxAttempt` is set to 3 and delay is 1. To mock the server, I am going to use wiremock. \r\n\r\nI want to assert that the retry function is working correctly; meaning I want to write test scenario when the certain exception is thrown, the retry will be happened. and if it fails all the time then it will throw exception eventually else if it&#39;s successful during the retrials, then it should assert that the http status code is 200 OK. \r\n\r\nI want to assert that retry is triggered for 3 times as its max attempt is set to 3 and http status code and maybe thrown exception? I&#39;ve thought about some ideas to do this.. First one is to have `RetryableContext` class which have `int retryCount` varible. And each time retry is invoked then increase its value. --&gt; honestly I don&#39;t think it&#39;s good idea.. Second one is to leverage spring AOP..? Not not really sure how to actually achieve it. I mean I am not confident with coding it out with this approach.","title":"How to test Spring Boot @Retryable in cucumber?","body":"<p>How do I write integration test for Spring Boot <code>@Retryable</code> in cucumber? I have a service method annotated with <code>@Retryable. MaxAttempt</code> is set to 3 and delay is 1. To mock the server, I am going to use wiremock.</p>\n<p>I want to assert that the retry function is working correctly; meaning I want to write test scenario when the certain exception is thrown, the retry will be happened. and if it fails all the time then it will throw exception eventually else if it's successful during the retrials, then it should assert that the http status code is 200 OK.</p>\n<p>I want to assert that retry is triggered for 3 times as its max attempt is set to 3 and http status code and maybe thrown exception? I've thought about some ideas to do this.. First one is to have <code>RetryableContext</code> class which have <code>int retryCount</code> varible. And each time retry is invoked then increase its value. --&gt; honestly I don't think it's good idea.. Second one is to leverage spring AOP..? Not not really sure how to actually achieve it. I mean I am not confident with coding it out with this approach.</p>\n"},{"tags":["java","xml","soap","java-8","ssl-certificate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1700808779,"post_id":77541190,"comment_id":136700792,"body_markdown":"Sounds like a proxy issue","body":"Sounds like a proxy issue"},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700809829,"post_id":77541190,"comment_id":136700923,"body_markdown":"solution for this?","body":"solution for this?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1700818863,"post_id":77541190,"comment_id":136702377,"body_markdown":"set the correct proxy entries","body":"set the correct proxy entries"},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700821173,"post_id":77541190,"comment_id":136702789,"body_markdown":"Connection did not complete.  You may have a TLS issue making a connection with HTTPS.  A certificate for TLS may be missing or expired.  The certificate has an encryption mode and old OS may not support the excryption.","body":"Connection did not complete.  You may have a TLS issue making a connection with HTTPS.  A certificate for TLS may be missing or expired.  The certificate has an encryption mode and old OS may not support the excryption."},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700822687,"post_id":77541190,"comment_id":136703018,"body_markdown":"I have two certificates: one public (.cer) and another private (.p12) with its password. How should I use them?","body":"I have two certificates: one public (.cer) and another private (.p12) with its password. How should I use them?"}],"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808538,"creation_date":1700808538,"question_id":77541190,"body_markdown":"I am trying to call a Soap Webservice from my Java application as follows:\r\n\r\n```\r\n@Override\r\n\tpublic String getLoginServiciosGeneral() throws Exception {\r\n\t\tString idSesion = &quot;&quot;;\r\n\t\ttry{\r\n\t\t\t\t\t\t\r\n\t\t\tLoginServiciosGeneralService service = new LoginServiciosGeneralService();\r\n\t\t\t\r\n\t\t\tLoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\r\n\t\t\t\r\n\t\t\tidSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\r\n\t\t\tSystem.out.println(&quot;hasta aca&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\treturn idSesion;\r\n\t}\r\n\r\n```\r\n\r\nWhere **LoginServiciosGeneralService** is a class of type *@WebServiceCliente* and **LoginServiciosGeneralPortType** is of *@WebService*\r\n\r\nIn *Sessionid = port.loginServiciosGeneral(&quot;prueba&quot;);* the following occurs:\r\n\r\n&gt; [24/11/23 7:41:44:298 CET] 000000c4 SystemErr     R javax.xml.ws.soap.SOAPFaultException: java.net.ConnectException: Connection timed out: no further information\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.DocLitBareMethodMarshaller.demarshalFaultResponse(DocLitBareMethodMarshaller.java:417)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\r\n&gt; [24/11/23 7:41:44:301 CET] 000000c4 SystemErr     R \tat com.sun.proxy.$Proxy138.loginServiciosGeneral(Unknown Source)\r\n&gt; [24/11/23 7:41:44:302 CET] 000000c4 SystemErr     R \tat es.seguridadsocial.palexws.descargarmensajes.LoginServiciosGeneralImpl.getLoginServiciosGeneral(LoginServiciosGeneralImpl.java:25)\r\n\r\n\r\n\r\nIn the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.\r\n\r\nI would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.\r\n\r\nThese are the input parameters in SOAP:\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\nxmlns:ent=&quot;https://loginserviciosgeneral.servicio.wslexnet.webservices.lexnet&quot;&gt;\r\n  &lt;soapenv:Header/&gt;\r\n  &lt;soapenv:Body&gt;\r\n      &lt;ent:LoginServiciosGeneralIn&gt;\r\n        prueba\r\n      &lt;/ent:LoginServiciosGeneralIn&gt;\r\n  &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n\r\n```\r\n\r\nI use Java version 8, I&#39;m not allowed to use a higher version.\r\n\r\nIf you need more information, don&#39;t hesitate to ask me.\r\n\r\nThank you very much.\r\n\r\n\r\n\r\nsoap webservice return data","title":"Java-SOAP:java.net.ConnectException: Connection timed out: no further information","body":"<p>I am trying to call a Soap Webservice from my Java application as follows:</p>\n<pre><code>@Override\n    public String getLoginServiciosGeneral() throws Exception {\n        String idSesion = &quot;&quot;;\n        try{\n                        \n            LoginServiciosGeneralService service = new LoginServiciosGeneralService();\n            \n            LoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\n            \n            idSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\n            System.out.println(&quot;hasta aca&quot;);\n            \n            \n        } catch (Exception e) {\n            System.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n        \n    return idSesion;\n    }\n\n</code></pre>\n<p>Where <strong>LoginServiciosGeneralService</strong> is a class of type <em>@WebServiceCliente</em> and <strong>LoginServiciosGeneralPortType</strong> is of <em>@WebService</em></p>\n<p>In <em>Sessionid = port.loginServiciosGeneral(&quot;prueba&quot;);</em> the following occurs:</p>\n<blockquote>\n<p>[24/11/23 7:41:44:298 CET] 000000c4 SystemErr     R javax.xml.ws.soap.SOAPFaultException: java.net.ConnectException: Connection timed out: no further information\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.DocLitBareMethodMarshaller.demarshalFaultResponse(DocLitBareMethodMarshaller.java:417)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\n[24/11/23 7:41:44:301 CET] 000000c4 SystemErr     R   at com.sun.proxy.$Proxy138.loginServiciosGeneral(Unknown Source)\n[24/11/23 7:41:44:302 CET] 000000c4 SystemErr     R   at es.seguridadsocial.palexws.descargarmensajes.LoginServiciosGeneralImpl.getLoginServiciosGeneral(LoginServiciosGeneralImpl.java:25)</p>\n</blockquote>\n<p>In the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.</p>\n<p>I would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.</p>\n<p>These are the input parameters in SOAP:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\nxmlns:ent=&quot;https://loginserviciosgeneral.servicio.wslexnet.webservices.lexnet&quot;&gt;\n  &lt;soapenv:Header/&gt;\n  &lt;soapenv:Body&gt;\n      &lt;ent:LoginServiciosGeneralIn&gt;\n        prueba\n      &lt;/ent:LoginServiciosGeneralIn&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\n</code></pre>\n<p>I use Java version 8, I'm not allowed to use a higher version.</p>\n<p>If you need more information, don't hesitate to ask me.</p>\n<p>Thank you very much.</p>\n<p>soap webservice return data</p>\n"},{"tags":["java","quarkus","payment-gateway"],"owner":{"account_id":29189198,"reputation":1,"user_id":22361640,"display_name":"swaroop c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700808530,"creation_date":1700808259,"question_id":77541169,"body_markdown":"```\r\npublic PaymentMethod createPaymentMethod(PaymentMethod paymentMethodCreate)\r\n```\r\n\r\nthis is method signature I can&#39;t change the method signature\r\ninside it I am trying to access stripe library class \r\n\r\n```\r\nPaymentMethod resource = PaymentMethod.retrieve();\r\n```\r\n\r\n\r\nmethod is taking my custom PaymentMethod instead I want stripe library PaymentMethod class need to be used inside that method \r\n\r\nchecking for better idea to handle","title":"custom class and stripe library class name are same,thats confusing IDE","body":"<pre><code>public PaymentMethod createPaymentMethod(PaymentMethod paymentMethodCreate)\n</code></pre>\n<p>this is method signature I can't change the method signature\ninside it I am trying to access stripe library class</p>\n<pre><code>PaymentMethod resource = PaymentMethod.retrieve();\n</code></pre>\n<p>method is taking my custom PaymentMethod instead I want stripe library PaymentMethod class need to be used inside that method</p>\n<p>checking for better idea to handle</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692713497,"post_id":76954038,"comment_id":135659964,"body_markdown":"Why both [tag:python] and [tag:java]? Please add only the relevant tag","body":"Why both <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> and <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>? Please add only the relevant tag"},{"owner":{"account_id":18084751,"reputation":3774,"user_id":13145954,"display_name":"Seon"},"score":0,"creation_date":1692714642,"post_id":76954038,"comment_id":135660252,"body_markdown":"You might find [this article](https://www.codingninjas.com/studio/library/count-of-subarrays-starting-or-ending-at-an-index-i-such-that-arr-i-is-maximum-in-a-subarray) helpful.","body":"You might find <a href=\"https://www.codingninjas.com/studio/library/count-of-subarrays-starting-or-ending-at-an-index-i-such-that-arr-i-is-maximum-in-a-subarray\" rel=\"nofollow noreferrer\">this article</a> helpful."}],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692720404,"creation_date":1692714650,"answer_id":76954318,"question_id":76954038,"body_markdown":"#### Pre-computation\r\n\r\nCreate two arrays `left` and `right`. For index `i`, `left[i]` would indicate the index of the next greatest element to the left of `arr[i]`. Similarly, `right[i]` would indicate the index of the next greatest element to the right of `arr[i]`. If no such element exists, we can use `inf`.\r\n\r\n#### Solution\r\nFor each index `i` in range `[0, length of array]`:\r\n- let `l = min(0, left[i]) and r = min(len(arr)-1, right[i])`. \r\n- Any subarray that starts between `[l+1, i]` and ends at `i` will have the last element as its max.\r\n- Any subarray that starts at `i` and ends between `[i+1, r)` will have the first element as its max.\r\n- Calculating the number of subarrays for each case becomes a trivial problem (left as an exercise for the reader).\r\n\r\n","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<h4>Pre-computation</h4>\n<p>Create two arrays <code>left</code> and <code>right</code>. For index <code>i</code>, <code>left[i]</code> would indicate the index of the next greatest element to the left of <code>arr[i]</code>. Similarly, <code>right[i]</code> would indicate the index of the next greatest element to the right of <code>arr[i]</code>. If no such element exists, we can use <code>inf</code>.</p>\n<h4>Solution</h4>\n<p>For each index <code>i</code> in range <code>[0, length of array]</code>:</p>\n<ul>\n<li>let <code>l = min(0, left[i]) and r = min(len(arr)-1, right[i])</code>.</li>\n<li>Any subarray that starts between <code>[l+1, i]</code> and ends at <code>i</code> will have the last element as its max.</li>\n<li>Any subarray that starts at <code>i</code> and ends between <code>[i+1, r)</code> will have the first element as its max.</li>\n<li>Calculating the number of subarrays for each case becomes a trivial problem (left as an exercise for the reader).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692975195,"creation_date":1692975195,"answer_id":76978312,"question_id":76954038,"body_markdown":"This is a tricky one, but there is indeed an *O*(*n*) solution: it&#39;s possible to make a single pass through the array, with appropriate bookkeeping, to count all such subarrays.\r\n\r\n---\r\n\r\nTo start with, let&#39;s pretend that we only want to count subarrays that *start* with their maximum value. We could do that by keeping a stack containing all values that we&#39;ve encountered that haven&#39;t yet been exceeded by later values. For example, if so far we&#39;ve processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [10, 8, 4, 4, 3, 1]: the 5 was exceeded by the 8, and the 2 was exceeded by the second 4, but all the other values are still in the stack. If the next value in the array is another 8, then we update the stack (to [10, 8, 8]), and the size of the stack (3) is the number of subarrays that *end* with the new 8 and *start* with their maximum value. (Do you see why?) So we have something like this:\r\n\r\n```\r\npublic int countSubarraysThatStartAtMax(final int[] array) {\r\n    final List&lt;Integer&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (final int element : array) {\r\n        // update stack:\r\n        while (stack.size() &gt; 0 &amp;&amp; stack.get(stack.size() - 1) &lt; element) {\r\n            stack.remove(stack.size() - 1);\r\n        }\r\n        stack.add(element);\r\n        // use updated stack:\r\n        result += stack.size();\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n(Note: You may notice that this involves two nested loops, where the outer loop has *n* iterations and each occurrence of the inner loop has potentially up to *n* iterations; so you might think that the total cost is in *&amp;Theta;*(*n*&lt;sup&gt;2&lt;/sup&gt;) time. However, the *total* number of iterations of the inner loop, across *all* occurrences, adds up to at most *n*, because each iteration removes an element from the stack, and we only add a total of *n* elements to the stack. So the total cost is in *O*(*n*) time. The same logic applies to all of the below as well.)\r\n\r\n---\r\n\r\nNext, let&#39;s pretend that we only want to count subarrays that *end* with their maximum value. Of course, we could do this the same way as the above, but going right-to-left instead of left-to-right; but let&#39;s imagine that we specifically need to do this with a left-to-right pass. (We&#39;ll ultimately need to combine this with the above, into a single more-complicated pass, so they need to go in the same direction.) For this, we keep a stack containing all values *and corresponding indices* that we&#39;ve encountered that haven&#39;t yet been exceeded *or matched* by later values. For example, if so far we&#39;ve processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [(10, 0), (8, 2), (4, 5), (3, 6), (1, 7)]: this time we&#39;ve included the indices, and we&#39;ve discarded the first occurrence of 4 because there was a later one. If the next value in the array (at index&amp;nbsp;=&amp;nbsp;8) is another 4, then we pare the stack down to just [(10, 0), (8, 2)], and the number of subarrays that end at that 4 and have max&amp;nbsp;=&amp;nbsp;4 is 8&amp;nbsp;−&amp;nbsp;2. (Do you see why?) Then we add that 4 to the stack. So we have something like this:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int index;\r\n\r\n    public StackElement(final int value, final int index) {\r\n        this.value = value;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (int index = 0; index &lt; array.length; ++index) {\r\n        final int element = array[index];\r\n        // remove obsolete elements from stack:\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int indexOfLastGreaterElement =\r\n            stack.size() == 0\r\n                ? -1\r\n                : stack.get(stack.size() - 1).index;\r\n        result += index - indexOfLastGreaterElement;\r\n        // add new element to stack:\r\n        stack.add(new StackElement(element, index));\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n---\r\n\r\nNow, we need to combine the above, while not double-counting subarrays that both start and end with their maximum value. The not&amp;ndash;double-counting might seem simple; at first glance, it seems that that we can change `countSubarraysThatStartAtMax` from considering &quot;values that we&#39;ve encountered that haven&#39;t yet been exceeded by later values&quot; to only considering &quot;values that we&#39;ve encountered that haven&#39;t yet been exceeded *or matched* by later values&quot;, so that it only counts arrays that start with their maximum value *and don&#39;t end with that value*. The problem, though, is that if we remove old values from the stack as soon as they&#39;re matched by a later value, then we won&#39;t count a subarray like [4, 2, 4, 3]: we&#39;ll remove the first 4 as soon as we see the second 4 even though there may be more subarrays that continue past the second 4. And we might think that we can remove the first 4 and then immediately re-add it, but in a case like [4, 2, 4, 2, 4, 2, 4, 2, 4], we&#39;d have to remove and re-add multiple 4s at once, such that the algorithm as a whole would require worst-case *&amp;Theta;*(*n*&lt;sup&gt;2&lt;/sup&gt;) time.\r\n\r\nThe solution to this is to change `countSubarraysThatStartAtMax` so that instead of using the literal size of the stack, it stores a `stackSize` field on stack elements, so that it doesn&#39;t need to store multiple copies of the same element:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int stackSize;\r\n\r\n    public StackElement(final int value, final int stackSize) {\r\n        this.value = value;\r\n        this.stackSize = stackSize;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatStartButDontEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (final int element : array) {\r\n        // remove obsolete elements from stack:\r\n        StackElement popped = null;\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            popped = stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int stackSize =\r\n            stack.size() == 0\r\n                ? 0\r\n                : stack.get(stack.size() - 1).stackSize;\r\n        result += stackSize;\r\n        // add new element to stack:\r\n        if (popped == null || popped.value &lt; element) {\r\n            stack.add(new StackElement(element, stackSize + 1));\r\n        } else {\r\n            stack.add(new StackElement(element, popped.stackSize + 1));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAnd now it&#39;s reasonably straightforward to combine them:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int lastIndex;\r\n    public final int stackSize;\r\n\r\n    public StackElement(\r\n        final int value,\r\n        final int lastIndex,\r\n        final int stackSize\r\n    ) {\r\n        this.value = value;\r\n        this.lastIndex = lastIndex;\r\n        this.stackSize = stackSize;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatStartOrEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (int index = 0; index &lt; array.length; ++index) {\r\n        final int element = array[index];\r\n        // remove obsolete elements from stack:\r\n        StackElement popped = null;\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            popped = stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int stackSize =\r\n            stack.size() == 0\r\n                ? 0\r\n                : stack.get(stack.size() - 1).stackSize;\r\n        result += stackSize;\r\n        final int indexOfLastGreaterElement =\r\n            stack.size() == 0\r\n                ? -1\r\n                : stack.get(stack.size() - 1).lastIndex;\r\n        result += index - indexOfLastGreaterElement;\r\n        // add new element to stack:\r\n        if (popped == null || popped.value &lt; element) {\r\n            stack.add(new StackElement(element, index, stackSize + 1));\r\n        } else {\r\n            stack.add(new StackElement(element, index, popped.stackSize + 1));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>This is a tricky one, but there is indeed an <em>O</em>(<em>n</em>) solution: it's possible to make a single pass through the array, with appropriate bookkeeping, to count all such subarrays.</p>\n<hr />\n<p>To start with, let's pretend that we only want to count subarrays that <em>start</em> with their maximum value. We could do that by keeping a stack containing all values that we've encountered that haven't yet been exceeded by later values. For example, if so far we've processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [10, 8, 4, 4, 3, 1]: the 5 was exceeded by the 8, and the 2 was exceeded by the second 4, but all the other values are still in the stack. If the next value in the array is another 8, then we update the stack (to [10, 8, 8]), and the size of the stack (3) is the number of subarrays that <em>end</em> with the new 8 and <em>start</em> with their maximum value. (Do you see why?) So we have something like this:</p>\n<pre><code>public int countSubarraysThatStartAtMax(final int[] array) {\n    final List&lt;Integer&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (final int element : array) {\n        // update stack:\n        while (stack.size() &gt; 0 &amp;&amp; stack.get(stack.size() - 1) &lt; element) {\n            stack.remove(stack.size() - 1);\n        }\n        stack.add(element);\n        // use updated stack:\n        result += stack.size();\n    }\n    return result;\n}\n</code></pre>\n<p>(Note: You may notice that this involves two nested loops, where the outer loop has <em>n</em> iterations and each occurrence of the inner loop has potentially up to <em>n</em> iterations; so you might think that the total cost is in <em>Θ</em>(<em>n</em><sup>2</sup>) time. However, the <em>total</em> number of iterations of the inner loop, across <em>all</em> occurrences, adds up to at most <em>n</em>, because each iteration removes an element from the stack, and we only add a total of <em>n</em> elements to the stack. So the total cost is in <em>O</em>(<em>n</em>) time. The same logic applies to all of the below as well.)</p>\n<hr />\n<p>Next, let's pretend that we only want to count subarrays that <em>end</em> with their maximum value. Of course, we could do this the same way as the above, but going right-to-left instead of left-to-right; but let's imagine that we specifically need to do this with a left-to-right pass. (We'll ultimately need to combine this with the above, into a single more-complicated pass, so they need to go in the same direction.) For this, we keep a stack containing all values <em>and corresponding indices</em> that we've encountered that haven't yet been exceeded <em>or matched</em> by later values. For example, if so far we've processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [(10, 0), (8, 2), (4, 5), (3, 6), (1, 7)]: this time we've included the indices, and we've discarded the first occurrence of 4 because there was a later one. If the next value in the array (at index = 8) is another 4, then we pare the stack down to just [(10, 0), (8, 2)], and the number of subarrays that end at that 4 and have max = 4 is 8 − 2. (Do you see why?) Then we add that 4 to the stack. So we have something like this:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int index;\n\n    public StackElement(final int value, final int index) {\n        this.value = value;\n        this.index = index;\n    }\n}\n\npublic int countSubarraysThatEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (int index = 0; index &lt; array.length; ++index) {\n        final int element = array[index];\n        // remove obsolete elements from stack:\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int indexOfLastGreaterElement =\n            stack.size() == 0\n                ? -1\n                : stack.get(stack.size() - 1).index;\n        result += index - indexOfLastGreaterElement;\n        // add new element to stack:\n        stack.add(new StackElement(element, index));\n    }\n    return result;\n}\n</code></pre>\n<hr />\n<p>Now, we need to combine the above, while not double-counting subarrays that both start and end with their maximum value. The not–double-counting might seem simple; at first glance, it seems that that we can change <code>countSubarraysThatStartAtMax</code> from considering &quot;values that we've encountered that haven't yet been exceeded by later values&quot; to only considering &quot;values that we've encountered that haven't yet been exceeded <em>or matched</em> by later values&quot;, so that it only counts arrays that start with their maximum value <em>and don't end with that value</em>. The problem, though, is that if we remove old values from the stack as soon as they're matched by a later value, then we won't count a subarray like [4, 2, 4, 3]: we'll remove the first 4 as soon as we see the second 4 even though there may be more subarrays that continue past the second 4. And we might think that we can remove the first 4 and then immediately re-add it, but in a case like [4, 2, 4, 2, 4, 2, 4, 2, 4], we'd have to remove and re-add multiple 4s at once, such that the algorithm as a whole would require worst-case <em>Θ</em>(<em>n</em><sup>2</sup>) time.</p>\n<p>The solution to this is to change <code>countSubarraysThatStartAtMax</code> so that instead of using the literal size of the stack, it stores a <code>stackSize</code> field on stack elements, so that it doesn't need to store multiple copies of the same element:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int stackSize;\n\n    public StackElement(final int value, final int stackSize) {\n        this.value = value;\n        this.stackSize = stackSize;\n    }\n}\n\npublic int countSubarraysThatStartButDontEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (final int element : array) {\n        // remove obsolete elements from stack:\n        StackElement popped = null;\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            popped = stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int stackSize =\n            stack.size() == 0\n                ? 0\n                : stack.get(stack.size() - 1).stackSize;\n        result += stackSize;\n        // add new element to stack:\n        if (popped == null || popped.value &lt; element) {\n            stack.add(new StackElement(element, stackSize + 1));\n        } else {\n            stack.add(new StackElement(element, popped.stackSize + 1));\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>And now it's reasonably straightforward to combine them:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int lastIndex;\n    public final int stackSize;\n\n    public StackElement(\n        final int value,\n        final int lastIndex,\n        final int stackSize\n    ) {\n        this.value = value;\n        this.lastIndex = lastIndex;\n        this.stackSize = stackSize;\n    }\n}\n\npublic int countSubarraysThatStartOrEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (int index = 0; index &lt; array.length; ++index) {\n        final int element = array[index];\n        // remove obsolete elements from stack:\n        StackElement popped = null;\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            popped = stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int stackSize =\n            stack.size() == 0\n                ? 0\n                : stack.get(stack.size() - 1).stackSize;\n        result += stackSize;\n        final int indexOfLastGreaterElement =\n            stack.size() == 0\n                ? -1\n                : stack.get(stack.size() - 1).lastIndex;\n        result += index - indexOfLastGreaterElement;\n        // add new element to stack:\n        if (popped == null || popped.value &lt; element) {\n            stack.add(new StackElement(element, index, stackSize + 1));\n        } else {\n            stack.add(new StackElement(element, index, popped.stackSize + 1));\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29467201,"reputation":1,"user_id":22580572,"display_name":"Poorn Pragya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695213085,"creation_date":1694971078,"answer_id":77122894,"question_id":76954038,"body_markdown":"The idea is to find left greater and right greater element for each element A[i] and then traverse from i to len(A) and count number of subarrays that can be formed by including leftGreaterIndex(i)...i and i...rightGreaterIndex(i). The leftGreaterIndex and rightGreaterIndex can be found using monotonic stack. So the count of such subarrays can be calculated as res += (r - i + 1) + (i - l + 1) - 1; // -1 in the end because subarray at l...r will be counted twice.\r\n\r\nTime complexity : O(n), where n = len(A)\r\nSpace complexity : O(n)\r\n\r\nHere is my implementation:\r\n\r\n    public static long count(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] left = leftGreater(A);\r\n        int[] right = rightGreater(A);\r\n        long res = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int l = left[i];\r\n            int r = right[i];\r\n            res += (r - i + 1) + (i - l + 1) - 1; // -1 because subarray at l...r will be counted twice\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static int[] leftGreater(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? i : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static int[] rightGreater(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = n - 1; i &gt;= 0; i--) {\r\n            while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? i : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>The idea is to find left greater and right greater element for each element A[i] and then traverse from i to len(A) and count number of subarrays that can be formed by including leftGreaterIndex(i)...i and i...rightGreaterIndex(i). The leftGreaterIndex and rightGreaterIndex can be found using monotonic stack. So the count of such subarrays can be calculated as res += (r - i + 1) + (i - l + 1) - 1; // -1 in the end because subarray at l...r will be counted twice.</p>\n<p>Time complexity : O(n), where n = len(A)\nSpace complexity : O(n)</p>\n<p>Here is my implementation:</p>\n<pre><code>public static long count(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] left = leftGreater(A);\n    int[] right = rightGreater(A);\n    long res = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int l = left[i];\n        int r = right[i];\n        res += (r - i + 1) + (i - l + 1) - 1; // -1 because subarray at l...r will be counted twice\n    }\n    return res;\n}\n\nprivate static int[] leftGreater(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? i : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n\nprivate static int[] rightGreater(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = n - 1; i &gt;= 0; i--) {\n        while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? i : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12868757,"reputation":1,"user_id":9308016,"display_name":"Hari Haran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700808395,"creation_date":1700724104,"answer_id":77534988,"question_id":76954038,"body_markdown":"**Works with duplicate values**\r\n\r\nThe crux of the idea is based on pre-computing the array of Next Greater Element(NGE) and Previous Greater than or Equal Element(PGEE). You can compute both these arrays by using a monotonic stack in O(N) time. For a detailed explanation of monotonic stack and its application in finding NGE refer to [this article.][1] We will focus on the other important aspects of the problem here. Once we have both these arrays computed we will loop through them and compute result by adding all the sub arrays starting or ending at that element, of which the element will be maximum. If there is no greater element to the right we will take nge[i] as len(nums) and if there is no greater or equal element to the left we will take pgee[i] as -1. For each index i the number of sub-arrays ending at i with nums[i] as maximum is i - pgee[i]. The number of sub-arrays starting at i with nums[i] as maximum is nge[i] - i. By adding these two we can arrive at the total number of sub-arrays, there is one caveat though we will be counting the sub-array that starts at i and ends at i twice. Hence we arrive at:\r\n\r\n&gt; num sub-arrays for i = i - pgee[i] + nge[i] - i - 1 = nge[i] - pgee[i] - 1\r\n\r\nIt is necessary to take the greater element for next and greater than or equal element for previous. If you take greater element on both sides it will lead to duplicate counting. Take the example [3,1,3,5], if we take greater element on both sides the sub-array [3,1,3] will get counted twice at its first index and last index. Below is a implementation of the solution in python.\r\n\r\n    from typing import List\r\n\r\n    class Solution:\r\n    def numSubArrays(self, nums: List[int]) -&gt; int:\r\n        res = 0\r\n        nge = []\r\n        pgee = []\r\n\r\n        stack = []\r\n        for i in range(len(nums) - 1, -1, -1):\r\n            while stack and nums[stack[-1]] &lt;= nums[i]:\r\n                stack.pop()\r\n\r\n            if not stack:\r\n                nge.append(len(nums))\r\n            else:\r\n                nge.append(stack[-1])\r\n\r\n            stack.append(i)\r\n\r\n        nge.reverse()\r\n\r\n        stack = []\r\n        for i in range(len(nums)):\r\n            while stack and nums[stack[-1]] &lt; nums[i]:\r\n                stack.pop()\r\n\r\n            if not stack:\r\n                pgee.append(-1)\r\n            else:\r\n                pgee.append(stack[-1])\r\n\r\n            stack.append(i)\r\n\r\n        # print(nge, pgee)\r\n        for i in range(len(nums)):\r\n            res += nge[i] - pgee[i] - 1\r\n\r\n        return res\r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        sol = Solution()\r\n        print(sol.numSubArrays([3,1,3,5]))\r\n        print(sol.numSubArrays([3,4,1,6,5,2]))\r\n        print(sol.numSubArrays([1,1,1,1]))\r\n\r\n&gt; 10\r\n14\r\n10\r\n\r\nThe overall time-complexity is O(N) because we loop through the array 3 times. The space complexity is also O(N).\r\n\r\n  [1]: https://www.geeksforgeeks.org/introduction-to-monotonic-stack-data-structure-and-algorithm-tutorials/","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p><strong>Works with duplicate values</strong></p>\n<p>The crux of the idea is based on pre-computing the array of Next Greater Element(NGE) and Previous Greater than or Equal Element(PGEE). You can compute both these arrays by using a monotonic stack in O(N) time. For a detailed explanation of monotonic stack and its application in finding NGE refer to <a href=\"https://www.geeksforgeeks.org/introduction-to-monotonic-stack-data-structure-and-algorithm-tutorials/\" rel=\"nofollow noreferrer\">this article.</a> We will focus on the other important aspects of the problem here. Once we have both these arrays computed we will loop through them and compute result by adding all the sub arrays starting or ending at that element, of which the element will be maximum. If there is no greater element to the right we will take nge[i] as len(nums) and if there is no greater or equal element to the left we will take pgee[i] as -1. For each index i the number of sub-arrays ending at i with nums[i] as maximum is i - pgee[i]. The number of sub-arrays starting at i with nums[i] as maximum is nge[i] - i. By adding these two we can arrive at the total number of sub-arrays, there is one caveat though we will be counting the sub-array that starts at i and ends at i twice. Hence we arrive at:</p>\n<blockquote>\n<p>num sub-arrays for i = i - pgee[i] + nge[i] - i - 1 = nge[i] - pgee[i] - 1</p>\n</blockquote>\n<p>It is necessary to take the greater element for next and greater than or equal element for previous. If you take greater element on both sides it will lead to duplicate counting. Take the example [3,1,3,5], if we take greater element on both sides the sub-array [3,1,3] will get counted twice at its first index and last index. Below is a implementation of the solution in python.</p>\n<pre><code>from typing import List\n\nclass Solution:\ndef numSubArrays(self, nums: List[int]) -&gt; int:\n    res = 0\n    nge = []\n    pgee = []\n\n    stack = []\n    for i in range(len(nums) - 1, -1, -1):\n        while stack and nums[stack[-1]] &lt;= nums[i]:\n            stack.pop()\n\n        if not stack:\n            nge.append(len(nums))\n        else:\n            nge.append(stack[-1])\n\n        stack.append(i)\n\n    nge.reverse()\n\n    stack = []\n    for i in range(len(nums)):\n        while stack and nums[stack[-1]] &lt; nums[i]:\n            stack.pop()\n\n        if not stack:\n            pgee.append(-1)\n        else:\n            pgee.append(stack[-1])\n\n        stack.append(i)\n\n    # print(nge, pgee)\n    for i in range(len(nums)):\n        res += nge[i] - pgee[i] - 1\n\n    return res\n\nif __name__ == '__main__':\n    sol = Solution()\n    print(sol.numSubArrays([3,1,3,5]))\n    print(sol.numSubArrays([3,4,1,6,5,2]))\n    print(sol.numSubArrays([1,1,1,1]))\n</code></pre>\n<blockquote>\n<p>10\n14\n10</p>\n</blockquote>\n<p>The overall time-complexity is O(N) because we loop through the array 3 times. The space complexity is also O(N).</p>\n"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1700808395,"creation_date":1692712629,"question_id":76954038,"body_markdown":"Given a list of numbers like [2,3,2] I want to find the number of subarrays such that the max(subarray) = first or last element of the subarray. In this example, there are 6 subarrays and those matching the condition are 5.  \r\n\r\n**My Thoughts:**\r\nI was able to solve this in O(n^2). Maintained an array d[i][j] = max of subarray from i to j and updated it length-wise. with each update, I could increment the counter if the subarray satisfies the condition.  \r\n  \r\nI am unable to come up with something of lower complexity.  \r\nOne could although lower the Memory Usage if one uses a single dimension d array instead of two. The logic remains same, single dimension works because we only need to reference the previous array.","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>Given a list of numbers like [2,3,2] I want to find the number of subarrays such that the max(subarray) = first or last element of the subarray. In this example, there are 6 subarrays and those matching the condition are 5.</p>\n<p><strong>My Thoughts:</strong>\nI was able to solve this in O(n^2). Maintained an array d[i][j] = max of subarray from i to j and updated it length-wise. with each update, I could increment the counter if the subarray satisfies the condition.</p>\n<p>I am unable to come up with something of lower complexity.<br />\nOne could although lower the Memory Usage if one uses a single dimension d array instead of two. The logic remains same, single dimension works because we only need to reference the previous array.</p>\n"},{"tags":["java","c#","unity-game-engine"],"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1700837118,"post_id":77541092,"comment_id":136705401,"body_markdown":"Please do not show us screenshots of errors, but post the errors directly as text.\nAlso, please create a minimal reproducible example and be more clear about what happens and what you expect to happen.","body":"Please do not show us screenshots of errors, but post the errors directly as text. Also, please create a minimal reproducible example and be more clear about what happens and what you expect to happen."}],"owner":{"account_id":29980529,"reputation":1,"user_id":22975639,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808185,"creation_date":1700807010,"question_id":77541092,"body_markdown":"this function for calling **startActivity** and **startActivityForResult** from unity(c#) side.\r\n```\r\n        public bool openUrl(string packageName, string url)\r\n        {\r\n            \r\n#if UNITY_ANDROID\r\n            AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n            AndroidJavaObject unityActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n            AndroidJavaObject pManager = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\r\n\r\n            //For accessing static strings(ACTION_VIEW) from android.content.Intent\r\n            AndroidJavaClass intentStaticClass = new AndroidJavaClass(&quot;android.content.Intent&quot;);\r\n            string actionView = intentStaticClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\r\n\r\n            //Create Uri\r\n            AndroidJavaClass uriClass = new AndroidJavaClass(&quot;android.net.Uri&quot;);\r\n            AndroidJavaObject uriObject = uriClass.CallStatic&lt;AndroidJavaObject&gt;(&quot;parse&quot;, url);\r\n\r\n            //Psss ACTION_VIEW and Uri.parse to the intent\r\n            AndroidJavaObject intent = new AndroidJavaObject(&quot;android.content.Intent&quot;, actionView, uriObject);\r\n\r\n            try\r\n            {\r\n                if (pManager.Call&lt;AndroidJavaObject&gt;(&quot;getPackageInfo&quot;, packageName, 0) != null)\r\n                {\r\n                    intent.Call&lt;AndroidJavaObject&gt;(&quot;setPackage&quot;, packageName);\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                Debug.LogWarning(&quot;Failed to Open App 1: &quot; + e.Message);\r\n                return false;\r\n            }\r\n\r\n            try\r\n            {\r\n               //unityActivity.Call(&quot;startActivity&quot;, intent);        // this is working\r\n                unityActivity.Call(&quot;startActivityForResult&quot;, intent);  // BUT this is not working\r\n                return true;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                Debug.LogWarning(&quot;Failed to Open App 2: &quot; + e.Message);\r\n                //Open with Browser\r\n                string link = &quot;https://play.google.com/store/apps/details?id=&quot; + packageName + &quot;&amp;hl=en&quot;;\r\n\r\n                Application.OpenURL(link);\r\n                return false;\r\n            }\r\n\r\n#endif\r\n            return false;\r\n        }\r\n```\r\n\r\n\r\nand code below is in my UnityPlayerActivity.java\r\n```\r\n@Override public void onActivityResult(int requestCode, int resultCode, Intent data) \r\n    {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 0) {\r\n            switch (resultCode) {\r\n                case Activity.RESULT_OK:\r\n                    //do something\r\n                    break;\r\n                case Activity.RESULT_CANCELED:\r\n                    //do something\r\n                    //Toast.makeText(getApplicationContext(),&quot;Payment Canceled by user.&quot;,Toast.LENGTH_SHORT).show(); \r\n                    mUnityPlayer.UnitySendMessage(&quot;Canvas_Pay_Notification&quot;, &quot;CallFromAndroidOverride&quot;, &quot;true&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```\r\n[SCREENSHOT for showing startActivityForResult NOT FOUND][1]\r\n\r\n\r\nI wanted, when user press back on overlay opened, then condition of Activity.RESULT_CANCELED should run, in onActivityResult() in the UnityPlayerActivity.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZYyTF.jpg","title":"when calling startActivityForResult funtion from the unity c# giving non-static method NOT FOUND, BUT working for startActivity funtion","body":"<p>this function for calling <strong>startActivity</strong> and <strong>startActivityForResult</strong> from unity(c#) side.</p>\n<pre><code>        public bool openUrl(string packageName, string url)\n        {\n            \n#if UNITY_ANDROID\n            AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n            AndroidJavaObject unityActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n            AndroidJavaObject pManager = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\n\n            //For accessing static strings(ACTION_VIEW) from android.content.Intent\n            AndroidJavaClass intentStaticClass = new AndroidJavaClass(&quot;android.content.Intent&quot;);\n            string actionView = intentStaticClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\n\n            //Create Uri\n            AndroidJavaClass uriClass = new AndroidJavaClass(&quot;android.net.Uri&quot;);\n            AndroidJavaObject uriObject = uriClass.CallStatic&lt;AndroidJavaObject&gt;(&quot;parse&quot;, url);\n\n            //Psss ACTION_VIEW and Uri.parse to the intent\n            AndroidJavaObject intent = new AndroidJavaObject(&quot;android.content.Intent&quot;, actionView, uriObject);\n\n            try\n            {\n                if (pManager.Call&lt;AndroidJavaObject&gt;(&quot;getPackageInfo&quot;, packageName, 0) != null)\n                {\n                    intent.Call&lt;AndroidJavaObject&gt;(&quot;setPackage&quot;, packageName);\n                }\n            }\n            catch (Exception e)\n            {\n                Debug.LogWarning(&quot;Failed to Open App 1: &quot; + e.Message);\n                return false;\n            }\n\n            try\n            {\n               //unityActivity.Call(&quot;startActivity&quot;, intent);        // this is working\n                unityActivity.Call(&quot;startActivityForResult&quot;, intent);  // BUT this is not working\n                return true;\n            }\n            catch (Exception e)\n            {\n                Debug.LogWarning(&quot;Failed to Open App 2: &quot; + e.Message);\n                //Open with Browser\n                string link = &quot;https://play.google.com/store/apps/details?id=&quot; + packageName + &quot;&amp;hl=en&quot;;\n\n                Application.OpenURL(link);\n                return false;\n            }\n\n#endif\n            return false;\n        }\n</code></pre>\n<p>and code below is in my UnityPlayerActivity.java</p>\n<pre><code>@Override public void onActivityResult(int requestCode, int resultCode, Intent data) \n    {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 0) {\n            switch (resultCode) {\n                case Activity.RESULT_OK:\n                    //do something\n                    break;\n                case Activity.RESULT_CANCELED:\n                    //do something\n                    //Toast.makeText(getApplicationContext(),&quot;Payment Canceled by user.&quot;,Toast.LENGTH_SHORT).show(); \n                    mUnityPlayer.UnitySendMessage(&quot;Canvas_Pay_Notification&quot;, &quot;CallFromAndroidOverride&quot;, &quot;true&quot;);\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZYyTF.jpg\" rel=\"nofollow noreferrer\">SCREENSHOT for showing startActivityForResult NOT FOUND</a></p>\n<p>I wanted, when user press back on overlay opened, then condition of Activity.RESULT_CANCELED should run, in onActivityResult() in the UnityPlayerActivity.java</p>\n"},{"tags":["java","android","xml","parsing"],"comments":[{"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"score":1,"creation_date":1701062317,"post_id":77541152,"comment_id":136723853,"body_markdown":"@404NotFound yes got it thank you so much !!","body":"@404NotFound yes got it thank you so much !!"}],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701062335,"answer_count":0,"score":0,"last_activity_date":1700807952,"creation_date":1700807952,"question_id":77541152,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root xmlns=&quot;urn:schemas-upnp-org:device-1-0&quot;&gt;\r\n    &lt;specVersion&gt;\r\n        &lt;major&gt;1&lt;/major&gt;\r\n        &lt;minor&gt;0&lt;/minor&gt;\r\n    &lt;/specVersion&gt;\r\n    &lt;device&gt;\r\n        &lt;deviceType&gt;urn:roku-com:device:player:1-0&lt;/deviceType&gt;\r\n        &lt;friendlyName&gt;Roku Streaming Stick 4K+&lt;/friendlyName&gt;\r\n```\r\n\r\n\r\nHere is the code snippet where i want to get value of tag  friendlyName please help i am to android development... ","title":"How can i get XML tag value?","body":"<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;root xmlns=&quot;urn:schemas-upnp-org:device-1-0&quot;&gt;\n    &lt;specVersion&gt;\n        &lt;major&gt;1&lt;/major&gt;\n        &lt;minor&gt;0&lt;/minor&gt;\n    &lt;/specVersion&gt;\n    &lt;device&gt;\n        &lt;deviceType&gt;urn:roku-com:device:player:1-0&lt;/deviceType&gt;\n        &lt;friendlyName&gt;Roku Streaming Stick 4K+&lt;/friendlyName&gt;\n</code></pre>\n<p>Here is the code snippet where i want to get value of tag  friendlyName please help i am to android development...</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700810737,"post_id":77541056,"comment_id":136701058,"body_markdown":"what a title! a description of your problem would have been better","body":"what a title! a description of your problem would have been better"}],"owner":{"account_id":21970129,"reputation":11,"user_id":16246763,"display_name":"Maja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700806521,"creation_date":1700806521,"question_id":77541056,"body_markdown":"Hey I have a problem with generics in Java. \r\n\r\nI need to create an XList class, providing additional capabilities for creating lists and operating on them.\r\nThe class should contain appropriate constructors and static of methods, allowing you to create XList objects from other collections, arrays and comma-delimited arguments.\r\nIn addition, auxiliary methods for creating xlists from subtitles:\r\nofChars(subtitle) - returns an x-list of subtitle characters,\r\nofTokens(subtitle, [ sep ]) - returns an x-list of subtitle symbols, separated by separators with sep (if none - then by whitespace characters).\r\nIn addition, provide methods:\r\nunion(any_collection) - returns a new x-list with the contents of the collection appended to this x-list,\r\ndiff(any_collection) - returns an x-list containing those elements of this x-list that do not appear in the collection,\r\nunique() - returns a new x-list that contains all non-repeating elements of this x-list\r\ncombine() - returns an x-list of combinations of elements from each collection that are elements of this x-list\r\ncollect(Function) - returns a new x-list, the elements of which are the results of a function applied to the elements of this x-list,\r\njoin([sep]) - returns a caption, which is a combination of the elements of this x-list, with possibly a separator inserted between them,\r\nforEachWithIndex(consumer_with_two arguments: element, index) - to iterate through the list with access to both the elements and their indexes.\r\n\r\n\r\nThis is my Main.java and XList.java files, there is problem with combine (I know it needs to be done in a tree style but honestly no idea how to make it work)\r\n, collect and join it needs to print to ouput:  \r\n\r\n\r\n    [1, 3, 9, 11]\r\n    [5, 6, 9]\r\n    [100, 200, 300]\r\n    [100, 200, 300]\r\n    [3, 4, 5]\r\n    [3, 4, 5]\r\n    [a, l, a,  , m, a,  , k, o, t, a]\r\n    [ala, ma, kota]\r\n    [A, B, C]\r\n    [1, 3, 9, 11, 5, 6, 9]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\r\n    [1, 9, 11, 6, 9, 11, 100, 200, 300]\r\n    []\r\n    [1, 3, 9, 11, 5, 6, 100, 200, 300, 4]\r\n    [[a, b], [X, Y, Z], [1, 2]]\r\n    [[a, X, 1], [b, X, 1], [a, Y, 1], [b, Y, 1], [a, Z, 1], [b, Z, 1], [a, X, 2], [b, X, 2], [a, Y, 2], [b, Y, 2], [a, Z, 2], [b, Z, 2]]\r\n    aX1 bX1 aY1 bY1 aZ1 bZ1 aX2 bX2 aY2 bY2 aZ2 bZ2\r\n    a-X-1 b-X-1 a-Y-1 b-Y-1 a-Z-1 b-Z-1 a-X-2 b-X-2 a-Y-2 b-Y-2 a-Z-2 b-Z-2\r\n    [2, 4, 16, 20, 22, 60, 6, 8]\r\n    [4, 16, 22, 60, 8]\r\n    [16, 22, 60, 8] \r\n\r\nbut it prints now instead this:  \r\n\r\n    [1, 3, 9, 11]\r\n    [5, 6, 9]\r\n    [100, 200, 300]\r\n    [100, 200, 300]\r\n    [3, 4, 5]\r\n    [3, 4, 5]\r\n    [a, l, a,  , m, a,  , k, o, t, a]\r\n    [ala, ma, kota]\r\n    [A, B, C]\r\n    [1, 3, 9, 11, 5, 6, 9]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\r\n    [1, 9, 11, 6, 9, 11, 100, 200, 300]\r\n    []\r\n    [1, 3, 100, 4, 5, 6, 200, 9, 11, 300]\r\n    [[a, b], [X, Y, Z], [1, 2]]\r\n    [[], [], [], []]\r\n       \r\n       \r\n    [2, 4, 16, 20, 22, 60, 6, 8]\r\n    [4, 16, 22, 60, 8]\r\n    [16, 22, 60, 8]  \r\n\r\nthis is my Main.java: \r\n\r\n    import java.util.*;\r\n    \r\n    // Plik Main.java może być dowolnie modyfikowany,\r\n    // ale punkty uzyskuje się za właściwe dzialanie poszczeg&#243;lnych pokazanych tu metod klasy XList.\r\n    \r\n    // Jeżeli nie oprogramujemy wszystkich metod, to z klasy Main nalezy usunąć te fragmenty,\r\n    // kt&#243;re powodują błędy w kompilacji - w przeciwnym razie nie uzyskamy punkt&#243;w.\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        // Pewne dodatkowe zestawy danych\r\n        Integer[] ints = { 100, 200, 300 };\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(3, 4, 5));\r\n       \r\n        // Sposoby tworzenia\r\n        XList&lt;Integer&gt; list1 = new XList&lt;&gt;(1, 3, 9, 11);\r\n        XList&lt;Integer&gt; list2 = XList.of(5, 6, 9);\r\n        XList&lt;Integer&gt; list3 = new XList(ints);\r\n        XList&lt;Integer&gt; list4 = XList.of(ints);\r\n        XList&lt;Integer&gt; list5 = new XList(set);\r\n        XList&lt;Integer&gt; list6 = XList.of(set);\r\n    \r\n        System.out.println(list1);\r\n        System.out.println(list2);\r\n        System.out.println(list3);\r\n        System.out.println(list4);\r\n        System.out.println(list5);\r\n        System.out.println(list6);\r\n       \r\n        // --- i pomocnicze metody do tworzenia z napis&#243;w\r\n        XList&lt;String&gt; slist1 = XList.charsOf(&quot;ala ma kota&quot;);\r\n        XList&lt;String&gt; slist2 = XList.tokensOf(&quot;ala ma kota&quot;);\r\n        XList&lt;String&gt; slist3 = XList.tokensOf(&quot;A-B-C&quot;, &quot;-&quot;);\r\n    \r\n        System.out.println(slist1);\r\n        System.out.println(slist2);\r\n        System.out.println(slist3);\r\n    \r\n        // Metoda union - suma element&#243;w\r\n        List&lt;Integer&gt; m1 = list1.union(list2);  // oczywiście, można podstawiać na List\r\n        System.out.println(m1);\r\n        // można wykonywać wszystkie operacje z interfejsu List, np:\r\n        m1.add(11);\r\n        System.out.println(m1);\r\n        XList&lt;Integer&gt; m2 = (XList&lt;Integer&gt;) m1;\r\n        XList&lt;Integer&gt; m3 = m2.union(ints).union(XList.of(4, 4));\r\n        System.out.println(m2); // m2 się nie zmienia\r\n        System.out.println(m3); // wynik jest w m3\r\n        m3 = m3.union(set);\r\n        System.out.println(m3);\r\n       \r\n        // Widzieliśmy metode union\r\n        // Teraz metoda diff(dowolna kolekcja)\r\n        System.out.println(m3.diff(set));  // wszystko z m3, co nie jest w set\r\n        System.out.println(XList.of(set).diff(m3)); // co jest w set, czego nie ma w m3\r\n       \r\n        // Metoda unique -zwraca nową Xlist bez duplikatow  \r\n        XList&lt;Integer&gt; uniq = m3.unique(); // lista, nie Set\r\n        System.out.println(uniq);    \r\n       \r\n        // kombinacje (kolejność jest istotna)\r\n        List&lt;String&gt; sa = Arrays.asList( &quot;a&quot;, &quot;b&quot;);\r\n        List&lt;String&gt; sb = Arrays.asList( &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; );\r\n        XList&lt;String&gt; sc = XList.charsOf( &quot;12&quot; );\r\n        XList toCombine = XList.of(sa, sb, sc);  // czy można tu uniknąć użycia typu surowego?\r\n        System.out.println(toCombine);\r\n        XList&lt;XList&lt;String&gt;&gt; cres = toCombine.combine();\r\n        System.out.println(cres);\r\n    \r\n        // collect i join\r\n        XList&lt;String&gt; j1 = cres.collect( list -&gt; list.join());\r\n        System.out.println(j1.join(&quot; &quot;));\r\n        XList&lt;String&gt; j2 =cres.collect( list -&gt; list.join(&quot;-&quot;));\r\n        System.out.println(j2.join(&quot; &quot;));\r\n       \r\n        // forEachWithIndex\r\n        XList&lt;Integer&gt; lmod = XList.of(1,2,8, 10, 11, 30, 3, 4);  \r\n        lmod.forEachWithIndex( (e, i) -&gt; lmod.set(i, e*2));\r\n        System.out.println(lmod);\r\n        lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(e); } );\r\n        System.out.println(lmod);\r\n        lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(i); } );\r\n        System.out.println(lmod); // Pytanie: dlaczego mamy taki efekt?\r\n    \r\n      }\r\n    }\r\n\r\nand XList.java: \r\n\r\n    import java.util.*;\r\n    import java.util.function.BiConsumer;\r\n    import java.util.function.Function;\r\n    \r\n    public class XList &lt;T&gt; extends ArrayList&lt;T&gt; {\r\n        \r\n        public  XList(T... t) {\r\n    \r\n            for(T wrt : t){\r\n                if (wrt instanceof Set&lt;?&gt;) {\r\n                    this.addAll((Set&lt;T&gt;) wrt);\r\n                } else\r\n                    this.add(wrt);\r\n            }\r\n        }\r\n    \r\n        public static &lt;T&gt; XList&lt;T&gt; of(Object... ts) {\r\n    \r\n            XList&lt;T&gt; xList = new XList&lt;&gt;();\r\n    \r\n            for (Object wrt : ts) {\r\n    \r\n                if (wrt instanceof Set&lt;?&gt;) {\r\n                    xList.addAll((Set&lt;T&gt;) wrt);\r\n                } else\r\n                    xList.add((T) wrt);\r\n            }\r\n    \r\n            return xList;\r\n        }\r\n    \r\n        public static XList&lt;String&gt; charsOf(String string) {\r\n    \r\n            char[] tab = string.toCharArray();\r\n            XList&lt;String&gt; xList = new XList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; tab.length; i++) {\r\n                xList.add(String.valueOf(tab[i]));\r\n            }\r\n    \r\n            return xList ;\r\n        }\r\n    \r\n        public static XList&lt;String&gt; tokensOf(String s, String sep) {\r\n    \r\n            String[] tab = s.split(sep);\r\n            XList&lt;String&gt; l;\r\n    \r\n            return l = new XList&lt;&gt;(tab);\r\n        }\r\n    \r\n        public static XList&lt;String&gt; tokensOf(String s) {\r\n    \r\n            return tokensOf(s, &quot; &quot;);\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; union(Collection&lt;T&gt; lista) {\r\n    \r\n            XList&lt;T&gt; xlist = new XList&lt;&gt;();\r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            it = lista.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            return xlist;\r\n        }\r\n    \r\n        public XList&lt;T&gt; union(T[] lista) {\r\n    \r\n            XList&lt;T&gt; xlist = new XList&lt;&gt;();\r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            for (int i = 0; i &lt; lista.length; i++) {\r\n                xlist.add(lista[i]);\r\n            }\r\n    \r\n            return xlist;\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; diff(Collection obj) {\r\n    \r\n            Set&lt;T&gt; s = new HashSet&lt;&gt;(obj);\r\n            int size;\r\n            Iterator&lt;T&gt; iterator = this.iterator();\r\n            XList&lt;T&gt; xList = new XList&lt;&gt;();\r\n    \r\n            while (iterator.hasNext()){\r\n                xList.add(iterator.next());\r\n            }\r\n            Iterator&lt;T&gt; it;\r\n    \r\n            do{\r\n                it = s.iterator();\r\n                size = xList.size();\r\n    \r\n                while (it.hasNext()) {\r\n                    xList.remove(it.next());\r\n                }\r\n            }while (size != xList.size());\r\n    \r\n            return xList;\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; unique() {\r\n    \r\n            Set&lt;T&gt; s = new HashSet&lt;&gt;(this);\r\n            this.clear();\r\n            Iterator&lt;T&gt; it = s.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                this.add(it.next());\r\n            }\r\n    \r\n            return this;\r\n        }\r\n    \r\n    \r\n        void sout(){\r\n    \r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                System.out.println(it.next());\r\n            }\r\n        }\r\n    \r\n    \r\n        public XList&lt;XList&lt;T&gt;&gt; combine() {\r\n            XList&lt;XList&lt;T&gt;&gt; result = new XList&lt;&gt;();\r\n            kombinacjeRekurencyjne(new XList&lt;&gt;(this), result, new XList&lt;T&gt;(), 0);\r\n            return result;\r\n        }\r\n    \r\n        private static &lt;T&gt; void kombinacjeRekurencyjne(XList&lt;XList&lt;T&gt;&gt; listaList, XList&lt;XList&lt;T&gt;&gt; wynik, XList&lt;T&gt; aktualna, int indeks) {\r\n            if (indeks == listaList.size()) {\r\n                wynik.add(aktualna);\r\n                return;\r\n            }\r\n    \r\n            for (T element : listaList.get(indeks)) {\r\n                aktualna.add(element);\r\n                kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\r\n                aktualna.remove(aktualna.size() - 1);  // Usuwamy ostatni element, aby wr&#243;cić do poprzedniego stanu\r\n            }\r\n            kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\r\n        }\r\n    \r\n    \r\n        public void forEachWithIndex(BiConsumer&lt;T, Integer&gt; consumer) {\r\n    \r\n            for (int i = 0; i &lt; this.size(); i++) {\r\n                consumer.accept(this.get(i), i);\r\n            }\r\n        }\r\n    \r\n        public &lt;R&gt; XList&lt;R&gt; collect(Function&lt;T, R&gt; mapper) {\r\n    \r\n            XList&lt;R&gt; result = new XList&lt;&gt;();\r\n    \r\n            for (T element : this) {\r\n                result.add(mapper.apply(element));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public String join(){\r\n    \r\n            return join(&quot;&quot;);\r\n        }\r\n    \r\n    \r\n        public String join(String separator) {\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n    \r\n            for (T element : this) {\r\n                result.append(element).append(separator);\r\n            }\r\n            if (result.length() &gt; 0) {\r\n                result.setLength(result.length() - separator.length());\r\n            }\r\n    \r\n            return result.toString();\r\n        }\r\n    }","title":"Hard problem with generics in Java Generics extremly hard problem, nearly unsolvable, 3 problems","body":"<p>Hey I have a problem with generics in Java.</p>\n<p>I need to create an XList class, providing additional capabilities for creating lists and operating on them.\nThe class should contain appropriate constructors and static of methods, allowing you to create XList objects from other collections, arrays and comma-delimited arguments.\nIn addition, auxiliary methods for creating xlists from subtitles:\nofChars(subtitle) - returns an x-list of subtitle characters,\nofTokens(subtitle, [ sep ]) - returns an x-list of subtitle symbols, separated by separators with sep (if none - then by whitespace characters).\nIn addition, provide methods:\nunion(any_collection) - returns a new x-list with the contents of the collection appended to this x-list,\ndiff(any_collection) - returns an x-list containing those elements of this x-list that do not appear in the collection,\nunique() - returns a new x-list that contains all non-repeating elements of this x-list\ncombine() - returns an x-list of combinations of elements from each collection that are elements of this x-list\ncollect(Function) - returns a new x-list, the elements of which are the results of a function applied to the elements of this x-list,\njoin([sep]) - returns a caption, which is a combination of the elements of this x-list, with possibly a separator inserted between them,\nforEachWithIndex(consumer_with_two arguments: element, index) - to iterate through the list with access to both the elements and their indexes.</p>\n<p>This is my Main.java and XList.java files, there is problem with combine (I know it needs to be done in a tree style but honestly no idea how to make it work)\n, collect and join it needs to print to ouput:</p>\n<pre><code>[1, 3, 9, 11]\n[5, 6, 9]\n[100, 200, 300]\n[100, 200, 300]\n[3, 4, 5]\n[3, 4, 5]\n[a, l, a,  , m, a,  , k, o, t, a]\n[ala, ma, kota]\n[A, B, C]\n[1, 3, 9, 11, 5, 6, 9]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\n[1, 9, 11, 6, 9, 11, 100, 200, 300]\n[]\n[1, 3, 9, 11, 5, 6, 100, 200, 300, 4]\n[[a, b], [X, Y, Z], [1, 2]]\n[[a, X, 1], [b, X, 1], [a, Y, 1], [b, Y, 1], [a, Z, 1], [b, Z, 1], [a, X, 2], [b, X, 2], [a, Y, 2], [b, Y, 2], [a, Z, 2], [b, Z, 2]]\naX1 bX1 aY1 bY1 aZ1 bZ1 aX2 bX2 aY2 bY2 aZ2 bZ2\na-X-1 b-X-1 a-Y-1 b-Y-1 a-Z-1 b-Z-1 a-X-2 b-X-2 a-Y-2 b-Y-2 a-Z-2 b-Z-2\n[2, 4, 16, 20, 22, 60, 6, 8]\n[4, 16, 22, 60, 8]\n[16, 22, 60, 8] \n</code></pre>\n<p>but it prints now instead this:</p>\n<pre><code>[1, 3, 9, 11]\n[5, 6, 9]\n[100, 200, 300]\n[100, 200, 300]\n[3, 4, 5]\n[3, 4, 5]\n[a, l, a,  , m, a,  , k, o, t, a]\n[ala, ma, kota]\n[A, B, C]\n[1, 3, 9, 11, 5, 6, 9]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\n[1, 9, 11, 6, 9, 11, 100, 200, 300]\n[]\n[1, 3, 100, 4, 5, 6, 200, 9, 11, 300]\n[[a, b], [X, Y, Z], [1, 2]]\n[[], [], [], []]\n   \n   \n[2, 4, 16, 20, 22, 60, 6, 8]\n[4, 16, 22, 60, 8]\n[16, 22, 60, 8]  \n</code></pre>\n<p>this is my Main.java:</p>\n<pre><code>import java.util.*;\n\n// Plik Main.java może być dowolnie modyfikowany,\n// ale punkty uzyskuje się za właściwe dzialanie poszczególnych pokazanych tu metod klasy XList.\n\n// Jeżeli nie oprogramujemy wszystkich metod, to z klasy Main nalezy usunąć te fragmenty,\n// które powodują błędy w kompilacji - w przeciwnym razie nie uzyskamy punktów.\n\npublic class Main {\n  public static void main(String[] args) {\n    // Pewne dodatkowe zestawy danych\n    Integer[] ints = { 100, 200, 300 };\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(3, 4, 5));\n   \n    // Sposoby tworzenia\n    XList&lt;Integer&gt; list1 = new XList&lt;&gt;(1, 3, 9, 11);\n    XList&lt;Integer&gt; list2 = XList.of(5, 6, 9);\n    XList&lt;Integer&gt; list3 = new XList(ints);\n    XList&lt;Integer&gt; list4 = XList.of(ints);\n    XList&lt;Integer&gt; list5 = new XList(set);\n    XList&lt;Integer&gt; list6 = XList.of(set);\n\n    System.out.println(list1);\n    System.out.println(list2);\n    System.out.println(list3);\n    System.out.println(list4);\n    System.out.println(list5);\n    System.out.println(list6);\n   \n    // --- i pomocnicze metody do tworzenia z napisów\n    XList&lt;String&gt; slist1 = XList.charsOf(&quot;ala ma kota&quot;);\n    XList&lt;String&gt; slist2 = XList.tokensOf(&quot;ala ma kota&quot;);\n    XList&lt;String&gt; slist3 = XList.tokensOf(&quot;A-B-C&quot;, &quot;-&quot;);\n\n    System.out.println(slist1);\n    System.out.println(slist2);\n    System.out.println(slist3);\n\n    // Metoda union - suma elementów\n    List&lt;Integer&gt; m1 = list1.union(list2);  // oczywiście, można podstawiać na List\n    System.out.println(m1);\n    // można wykonywać wszystkie operacje z interfejsu List, np:\n    m1.add(11);\n    System.out.println(m1);\n    XList&lt;Integer&gt; m2 = (XList&lt;Integer&gt;) m1;\n    XList&lt;Integer&gt; m3 = m2.union(ints).union(XList.of(4, 4));\n    System.out.println(m2); // m2 się nie zmienia\n    System.out.println(m3); // wynik jest w m3\n    m3 = m3.union(set);\n    System.out.println(m3);\n   \n    // Widzieliśmy metode union\n    // Teraz metoda diff(dowolna kolekcja)\n    System.out.println(m3.diff(set));  // wszystko z m3, co nie jest w set\n    System.out.println(XList.of(set).diff(m3)); // co jest w set, czego nie ma w m3\n   \n    // Metoda unique -zwraca nową Xlist bez duplikatow  \n    XList&lt;Integer&gt; uniq = m3.unique(); // lista, nie Set\n    System.out.println(uniq);    \n   \n    // kombinacje (kolejność jest istotna)\n    List&lt;String&gt; sa = Arrays.asList( &quot;a&quot;, &quot;b&quot;);\n    List&lt;String&gt; sb = Arrays.asList( &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; );\n    XList&lt;String&gt; sc = XList.charsOf( &quot;12&quot; );\n    XList toCombine = XList.of(sa, sb, sc);  // czy można tu uniknąć użycia typu surowego?\n    System.out.println(toCombine);\n    XList&lt;XList&lt;String&gt;&gt; cres = toCombine.combine();\n    System.out.println(cres);\n\n    // collect i join\n    XList&lt;String&gt; j1 = cres.collect( list -&gt; list.join());\n    System.out.println(j1.join(&quot; &quot;));\n    XList&lt;String&gt; j2 =cres.collect( list -&gt; list.join(&quot;-&quot;));\n    System.out.println(j2.join(&quot; &quot;));\n   \n    // forEachWithIndex\n    XList&lt;Integer&gt; lmod = XList.of(1,2,8, 10, 11, 30, 3, 4);  \n    lmod.forEachWithIndex( (e, i) -&gt; lmod.set(i, e*2));\n    System.out.println(lmod);\n    lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(e); } );\n    System.out.println(lmod);\n    lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(i); } );\n    System.out.println(lmod); // Pytanie: dlaczego mamy taki efekt?\n\n  }\n}\n</code></pre>\n<p>and XList.java:</p>\n<pre><code>import java.util.*;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\npublic class XList &lt;T&gt; extends ArrayList&lt;T&gt; {\n    \n    public  XList(T... t) {\n\n        for(T wrt : t){\n            if (wrt instanceof Set&lt;?&gt;) {\n                this.addAll((Set&lt;T&gt;) wrt);\n            } else\n                this.add(wrt);\n        }\n    }\n\n    public static &lt;T&gt; XList&lt;T&gt; of(Object... ts) {\n\n        XList&lt;T&gt; xList = new XList&lt;&gt;();\n\n        for (Object wrt : ts) {\n\n            if (wrt instanceof Set&lt;?&gt;) {\n                xList.addAll((Set&lt;T&gt;) wrt);\n            } else\n                xList.add((T) wrt);\n        }\n\n        return xList;\n    }\n\n    public static XList&lt;String&gt; charsOf(String string) {\n\n        char[] tab = string.toCharArray();\n        XList&lt;String&gt; xList = new XList&lt;&gt;();\n\n        for (int i = 0; i &lt; tab.length; i++) {\n            xList.add(String.valueOf(tab[i]));\n        }\n\n        return xList ;\n    }\n\n    public static XList&lt;String&gt; tokensOf(String s, String sep) {\n\n        String[] tab = s.split(sep);\n        XList&lt;String&gt; l;\n\n        return l = new XList&lt;&gt;(tab);\n    }\n\n    public static XList&lt;String&gt; tokensOf(String s) {\n\n        return tokensOf(s, &quot; &quot;);\n    }\n\n\n    public XList&lt;T&gt; union(Collection&lt;T&gt; lista) {\n\n        XList&lt;T&gt; xlist = new XList&lt;&gt;();\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        it = lista.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        return xlist;\n    }\n\n    public XList&lt;T&gt; union(T[] lista) {\n\n        XList&lt;T&gt; xlist = new XList&lt;&gt;();\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        for (int i = 0; i &lt; lista.length; i++) {\n            xlist.add(lista[i]);\n        }\n\n        return xlist;\n    }\n\n\n    public XList&lt;T&gt; diff(Collection obj) {\n\n        Set&lt;T&gt; s = new HashSet&lt;&gt;(obj);\n        int size;\n        Iterator&lt;T&gt; iterator = this.iterator();\n        XList&lt;T&gt; xList = new XList&lt;&gt;();\n\n        while (iterator.hasNext()){\n            xList.add(iterator.next());\n        }\n        Iterator&lt;T&gt; it;\n\n        do{\n            it = s.iterator();\n            size = xList.size();\n\n            while (it.hasNext()) {\n                xList.remove(it.next());\n            }\n        }while (size != xList.size());\n\n        return xList;\n    }\n\n\n    public XList&lt;T&gt; unique() {\n\n        Set&lt;T&gt; s = new HashSet&lt;&gt;(this);\n        this.clear();\n        Iterator&lt;T&gt; it = s.iterator();\n\n        while (it.hasNext()){\n            this.add(it.next());\n        }\n\n        return this;\n    }\n\n\n    void sout(){\n\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            System.out.println(it.next());\n        }\n    }\n\n\n    public XList&lt;XList&lt;T&gt;&gt; combine() {\n        XList&lt;XList&lt;T&gt;&gt; result = new XList&lt;&gt;();\n        kombinacjeRekurencyjne(new XList&lt;&gt;(this), result, new XList&lt;T&gt;(), 0);\n        return result;\n    }\n\n    private static &lt;T&gt; void kombinacjeRekurencyjne(XList&lt;XList&lt;T&gt;&gt; listaList, XList&lt;XList&lt;T&gt;&gt; wynik, XList&lt;T&gt; aktualna, int indeks) {\n        if (indeks == listaList.size()) {\n            wynik.add(aktualna);\n            return;\n        }\n\n        for (T element : listaList.get(indeks)) {\n            aktualna.add(element);\n            kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\n            aktualna.remove(aktualna.size() - 1);  // Usuwamy ostatni element, aby wrócić do poprzedniego stanu\n        }\n        kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\n    }\n\n\n    public void forEachWithIndex(BiConsumer&lt;T, Integer&gt; consumer) {\n\n        for (int i = 0; i &lt; this.size(); i++) {\n            consumer.accept(this.get(i), i);\n        }\n    }\n\n    public &lt;R&gt; XList&lt;R&gt; collect(Function&lt;T, R&gt; mapper) {\n\n        XList&lt;R&gt; result = new XList&lt;&gt;();\n\n        for (T element : this) {\n            result.add(mapper.apply(element));\n        }\n\n        return result;\n    }\n\n    public String join(){\n\n        return join(&quot;&quot;);\n    }\n\n\n    public String join(String separator) {\n\n        StringBuilder result = new StringBuilder();\n\n        for (T element : this) {\n            result.append(element).append(separator);\n        }\n        if (result.length() &gt; 0) {\n            result.setLength(result.length() - separator.length());\n        }\n\n        return result.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jdbc","atomikos"],"owner":{"account_id":230866,"reputation":653,"user_id":494724,"accept_rate":26,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700806340,"creation_date":1700635417,"question_id":77527804,"body_markdown":"We are currently managing a Spring Hibernate web application operating on Tomcat 8.x, with Atomikos 4.0.4 serving as the transaction manager. The backend database is SQL Server.\r\n\r\nWe have encountered an issue during write operations under high loads, where the system occasionally throws an error stating, &quot;Cannot invoke a rollback operation when the AutoCommit mode is set to &#39;true&#39;.&quot; This occurrence is primarily observed when executing transactions with elevated workloads.\r\n\r\nTo provide additional context, our application utilizes a JNDI connection configured as follows:\r\n\r\n    &lt;Resource name=&quot;JDBC/test&quot; auth=&quot;Container&quot; type=&quot;com.atomikos.jdbc.nonxa.AtomikosNonXADataSourceBean&quot; factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot; driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDrive/&gt;\r\n\r\nThe error trace associated with this issue is as follows:\r\n\r\n    om.microsoft.sqlserver.jdbc.SQLServerException: Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot;.\r\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\r\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.rollback(SQLServerConnection.java:3198)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.transactionTerminated(AtomikosThreadLocalConnection.java:382)\r\n    at com.atomikos.jdbc.nonxa.AtomikosNonXAParticipant.rollback(AtomikosNonXAParticipant.java:146)\r\n    at com.atomikos.icatch.imp.TxRollbackOnlyStateHandler.addParticipant(TxRollbackOnlyStateHandler.java:39)\r\n    at com.atomikos.icatch.imp.CompositeTransactionImp.addParticipant(CompositeTransactionImp.java:162)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.updateInTransaction(AtomikosThreadLocalConnection.java:196)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.invoke(AtomikosThreadLocalConnection.java:276)\r\n    at com.sun.proxy.$Proxy120.prepareStatement(Unknown Source)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1940)\r\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1909)\r\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887)\r\n    at org.hibernate.loader.hql.QueryLoader.iterate(QueryLoader.java:525)\r\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.iterate(QueryTranslatorImpl.java:416)\r\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performIterate(HQLQueryPlan.java:317)\r\n    at org.hibernate.internal.SessionImpl.iterate(SessionImpl.java:1553)\r\n    at org.hibernate.query.internal.AbstractProducedQuery.doIterate(AbstractProducedQuery.java:1352)\r\n    at org.hibernate.query.internal.AbstractProducedQuery.iterate(AbstractProducedQuery.java:1340)\r\n\r\nAny assistance or guidance you could provide on resolving this issue would be greatly appreciated.\r\n\r\nThank you for your time and consideration.\r\n","title":"Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot; in tomcat-8.5.14 using Atomikos astranscationMaanger","body":"<p>We are currently managing a Spring Hibernate web application operating on Tomcat 8.x, with Atomikos 4.0.4 serving as the transaction manager. The backend database is SQL Server.</p>\n<p>We have encountered an issue during write operations under high loads, where the system occasionally throws an error stating, &quot;Cannot invoke a rollback operation when the AutoCommit mode is set to 'true'.&quot; This occurrence is primarily observed when executing transactions with elevated workloads.</p>\n<p>To provide additional context, our application utilizes a JNDI connection configured as follows:</p>\n<pre><code>&lt;Resource name=&quot;JDBC/test&quot; auth=&quot;Container&quot; type=&quot;com.atomikos.jdbc.nonxa.AtomikosNonXADataSourceBean&quot; factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot; driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDrive/&gt;\n</code></pre>\n<p>The error trace associated with this issue is as follows:</p>\n<pre><code>om.microsoft.sqlserver.jdbc.SQLServerException: Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot;.\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.rollback(SQLServerConnection.java:3198)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.transactionTerminated(AtomikosThreadLocalConnection.java:382)\nat com.atomikos.jdbc.nonxa.AtomikosNonXAParticipant.rollback(AtomikosNonXAParticipant.java:146)\nat com.atomikos.icatch.imp.TxRollbackOnlyStateHandler.addParticipant(TxRollbackOnlyStateHandler.java:39)\nat com.atomikos.icatch.imp.CompositeTransactionImp.addParticipant(CompositeTransactionImp.java:162)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.updateInTransaction(AtomikosThreadLocalConnection.java:196)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.invoke(AtomikosThreadLocalConnection.java:276)\nat com.sun.proxy.$Proxy120.prepareStatement(Unknown Source)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1940)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1909)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887)\nat org.hibernate.loader.hql.QueryLoader.iterate(QueryLoader.java:525)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.iterate(QueryTranslatorImpl.java:416)\nat org.hibernate.engine.query.spi.HQLQueryPlan.performIterate(HQLQueryPlan.java:317)\nat org.hibernate.internal.SessionImpl.iterate(SessionImpl.java:1553)\nat org.hibernate.query.internal.AbstractProducedQuery.doIterate(AbstractProducedQuery.java:1352)\nat org.hibernate.query.internal.AbstractProducedQuery.iterate(AbstractProducedQuery.java:1340)\n</code></pre>\n<p>Any assistance or guidance you could provide on resolving this issue would be greatly appreciated.</p>\n<p>Thank you for your time and consideration.</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":28013930,"reputation":111,"user_id":21395991,"display_name":"clever-developer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678795233,"creation_date":1678795233,"answer_id":75732877,"question_id":75732794,"body_markdown":"If you are upgrading from spring 2 to 3 you have to use:\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.3&#39;// swagger ui / openapi 3.0\r\n\r\ninstead of: `implementation &#39;org.springdoc:springdoc-openapi-ui:1.5.8&#39;`\r\n\r\nIf the swagger-ui gives you an error with /v3/api-docs/, maybe is because a dependency conflict, so I was able to solve it by forcing a dependency:\r\n\r\nError:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue io.swagger.v3.oas.annotations.media.Schema.additionalProperties()&#39;\r\n            at io.swagger.v3.core.util.AnnotationsUtils.getSchemaFromAnnotation(AnnotationsUtils.java:552) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n            at io.swagger.v3.core.util.AnnotationsUtils.getSchema(AnnotationsUtils.java:1170) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n            at org.springdoc.core.service.GenericParameterService.setSchema(GenericParameterService.java:323) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.core.service.GenericParameterService.buildParameterFromDoc(GenericParameterService.java:299) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:321) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\r\nDependency resolution with gradle:\r\n \r\n    configurations.all {\r\n    resolutionStrategy {\r\n        eachDependency { details -&gt;\r\n            if (details.requested.group == &#39;io.swagger.core.v3&#39;) {\r\n                details.useVersion(&quot;2.2.8&quot;)\r\n                details.because(&#39;Swagger ui and Kafka Avro serializer incoptable dependency io.swagger.core.v3:swagger-annotations&#39;)\r\n            }\r\n\r\n\r\n\r\n","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>If you are upgrading from spring 2 to 3 you have to use:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.3'// swagger ui / openapi 3.0\n</code></pre>\n<p>instead of: <code>implementation 'org.springdoc:springdoc-openapi-ui:1.5.8'</code></p>\n<p>If the swagger-ui gives you an error with /v3/api-docs/, maybe is because a dependency conflict, so I was able to solve it by forcing a dependency:</p>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue io.swagger.v3.oas.annotations.media.Schema.additionalProperties()'\n        at io.swagger.v3.core.util.AnnotationsUtils.getSchemaFromAnnotation(AnnotationsUtils.java:552) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n        at io.swagger.v3.core.util.AnnotationsUtils.getSchema(AnnotationsUtils.java:1170) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n        at org.springdoc.core.service.GenericParameterService.setSchema(GenericParameterService.java:323) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.core.service.GenericParameterService.buildParameterFromDoc(GenericParameterService.java:299) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:321) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n</code></pre>\n<p>Dependency resolution with gradle:</p>\n<pre><code>configurations.all {\nresolutionStrategy {\n    eachDependency { details -&gt;\n        if (details.requested.group == 'io.swagger.core.v3') {\n            details.useVersion(&quot;2.2.8&quot;)\n            details.because('Swagger ui and Kafka Avro serializer incoptable dependency io.swagger.core.v3:swagger-annotations')\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27351491,"reputation":1,"user_id":21186346,"display_name":"Sanjivani Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689759904,"creation_date":1689759800,"answer_id":76719942,"question_id":75732794,"body_markdown":"For the above error just ensure that all your dependencies are compatible by using the command `mvn dependency:tree` \r\nIn my case `io.swagger.core.v3:swagger-models` and `io.swagger.core.v3:swagger-annotations` dependencies version are not compatible with springdoc-openapi-starter-webmvc-ui dependency so after changing the version error got resolved","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>For the above error just ensure that all your dependencies are compatible by using the command <code>mvn dependency:tree</code>\nIn my case <code>io.swagger.core.v3:swagger-models</code> and <code>io.swagger.core.v3:swagger-annotations</code> dependencies version are not compatible with springdoc-openapi-starter-webmvc-ui dependency so after changing the version error got resolved</p>\n"},{"tags":[],"owner":{"account_id":3601961,"reputation":1282,"user_id":3005093,"accept_rate":70,"display_name":"DCO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695133563,"creation_date":1695133563,"answer_id":77135448,"question_id":75732794,"body_markdown":"Another solution could be to exclude the swagger-annotations dependency from springdoc-openapi and include a newer version manually\r\n\r\n    //swagger\r\n    // exclude swagger annotation and use newer version due conflicts with avro serializer\r\n    implementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&quot;){\r\n        exclude group: &quot;io.swagger.core.v3&quot;, module:&quot;swagger-annotations&quot;\r\n    }\r\n    // https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\r\n    implementation &#39;io.swagger.core.v3:swagger-annotations:2.2.15&#39;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>Another solution could be to exclude the swagger-annotations dependency from springdoc-openapi and include a newer version manually</p>\n<pre><code>//swagger\n// exclude swagger annotation and use newer version due conflicts with avro serializer\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&quot;){\n    exclude group: &quot;io.swagger.core.v3&quot;, module:&quot;swagger-annotations&quot;\n}\n// https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\nimplementation 'io.swagger.core.v3:swagger-annotations:2.2.15'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695815876,"creation_date":1695815876,"answer_id":77187302,"question_id":75732794,"body_markdown":"in my case, even though I have springdoc-openapi-starter-webmvc-ui i also had to add this dependency \r\n\r\nmvn\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.16&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>in my case, even though I have springdoc-openapi-starter-webmvc-ui i also had to add this dependency</p>\n<p>mvn</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19168283,"reputation":7,"user_id":14002558,"display_name":"Mohammed Masood Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700804903,"creation_date":1700804903,"answer_id":77540966,"question_id":75732794,"body_markdown":"    Please add these two dependency in pom.xml file it worked for me.\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.16&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<pre><code>Please add these two dependency in pom.xml file it worked for me.\n\n&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":28013930,"reputation":111,"user_id":21395991,"display_name":"clever-developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8851,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1700804903,"creation_date":1678794756,"question_id":75732794,"body_markdown":"Hi I&#39;a having and issue with swagger ui after upgrading to spring boot 3. The swagger-ui doesnt work anymore and I got and 404 and &quot;White Label&quot; page as response. \r\n\r\nAfter taking a closer look I need to change \r\nfrom: implementation(group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.8&#39;)\r\n\r\nto: implementation(group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-starter-webmvc-ui&#39;, version: &#39;2.0.3&#39;)\r\n\r\nAfter that it did work, however in one of my other projects we had an issue with a dependency conflict, so the swagger-ui was throwing a 500 where trying to the fetch the /v3/api-docs/:\r\nbetween: io.confluent:kafka-avro-serializer:7.3.1 and springdoc-openapi-starter-webmvc-ui:2.0.3\r\nThose 2 dependencies need to use io.swagger.core.v3:swagger-annotations-jakarta, but with different versions\r\n\r\nSo in gradle I hat to resolve the conflict to force io.swagger.core.v3:swagger-annotations-jakarta:2.2.8.","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>Hi I'a having and issue with swagger ui after upgrading to spring boot 3. The swagger-ui doesnt work anymore and I got and 404 and &quot;White Label&quot; page as response.</p>\n<p>After taking a closer look I need to change\nfrom: implementation(group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.8')</p>\n<p>to: implementation(group: 'org.springdoc', name: 'springdoc-openapi-starter-webmvc-ui', version: '2.0.3')</p>\n<p>After that it did work, however in one of my other projects we had an issue with a dependency conflict, so the swagger-ui was throwing a 500 where trying to the fetch the /v3/api-docs/:\nbetween: io.confluent:kafka-avro-serializer:7.3.1 and springdoc-openapi-starter-webmvc-ui:2.0.3\nThose 2 dependencies need to use io.swagger.core.v3:swagger-annotations-jakarta, but with different versions</p>\n<p>So in gradle I hat to resolve the conflict to force io.swagger.core.v3:swagger-annotations-jakarta:2.2.8.</p>\n"},{"tags":["java","algorithm","hash","set"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1433860128,"post_id":30734848,"comment_id":49526126,"body_markdown":"How about a pair (sum,product) of the terms in the set? Both of them together would not be common for different sets of numbers (as far as I have seen).","body":"How about a pair (sum,product) of the terms in the set? Both of them together would not be common for different sets of numbers (as far as I have seen)."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860212,"post_id":30734848,"comment_id":49526200,"body_markdown":"For example something like `(e1.hashCode() + e2.hashCode() + ... + en.hashCode()) ^ (e1.hashCode() * e2.hashCode() * ... * en.hashCode())`?","body":"For example something like <code>(e1.hashCode() + e2.hashCode() + ... + en.hashCode()) ^ (e1.hashCode() * e2.hashCode() * ... * en.hashCode())</code>?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1433860263,"post_id":30734848,"comment_id":49526244,"body_markdown":"Did you try to have a look at how Java implements this?","body":"Did you try to have a look at how Java implements this?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860328,"post_id":30734848,"comment_id":49526296,"body_markdown":"Just did, it sums the `hashCode` of the elements","body":"Just did, it sums the <code>hashCode</code> of the elements"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1433860435,"post_id":30734848,"comment_id":49526380,"body_markdown":"...and for `equals` uses size checking followed by a call to `containsAll()`. Do you have an issue with this sort of implementation?","body":"...and for <code>equals</code> uses size checking followed by a call to <code>containsAll()</code>. Do you have an issue with this sort of implementation?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860530,"post_id":30734848,"comment_id":49526460,"body_markdown":"Nope, but I wanted to know if there is a better solution, since this collides pretty easily. `[1, 1].hashCode == [2].hashCode`.","body":"Nope, but I wanted to know if there is a better solution, since this collides pretty easily. <code>[1, 1].hashCode == [2].hashCode</code>."},{"owner":{"account_id":3974723,"reputation":2691,"user_id":3278176,"accept_rate":74,"display_name":"Ian2thedv"},"score":0,"creation_date":1433860589,"post_id":30734848,"comment_id":49526505,"body_markdown":"Can you not use the size of the collection as a salt? To avoid above mentioned collisions I mean.","body":"Can you not use the size of the collection as a salt? To avoid above mentioned collisions I mean."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860698,"post_id":30734848,"comment_id":49526618,"body_markdown":"Yes, but then `[1, 3].hashCode == [2, 2].hashCode`. Since when is summing a good way to generate a hash code?","body":"Yes, but then <code>[1, 3].hashCode == [2, 2].hashCode</code>. Since when is summing a good way to generate a hash code?"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1433861035,"post_id":30734848,"comment_id":49526925,"body_markdown":"@Clashsoft: Wait... you allow duplicate elements in the arrays? Seems to be a easy way to complicate hashcode calculation. Otherwise you could use any operation that is both commutative and associative to combine the hash codes of the individual elements.","body":"@Clashsoft: Wait... you allow duplicate elements in the arrays? Seems to be a easy way to complicate hashcode calculation. Otherwise you could use any operation that is both commutative and associative to combine the hash codes of the individual elements."},{"owner":{"account_id":5051719,"reputation":4603,"user_id":4056099,"accept_rate":89,"display_name":"NoseKnowsAll"},"score":0,"creation_date":1433861046,"post_id":30734848,"comment_id":49526938,"body_markdown":"Seeing as a Set is order independent, you&#39;re going to have to use binary operations that are commutative. I would suggest something like what you said above, except perhaps mod the answer by a non-changing large prime number so as to avoid incredibly large values.","body":"Seeing as a Set is order independent, you&#39;re going to have to use binary operations that are commutative. I would suggest something like what you said above, except perhaps mod the answer by a non-changing large prime number so as to avoid incredibly large values."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433861181,"post_id":30734848,"comment_id":49527031,"body_markdown":"@fabian no, I don&#39;t o.O. That was just a bad example. But it makes no difference. A proper example would be `[1, 4].hashCode == [2, 3].hashCode`","body":"@fabian no, I don&#39;t o.O. That was just a bad example. But it makes no difference. A proper example would be <code>[1, 4].hashCode == [2, 3].hashCode</code>"},{"owner":{"account_id":383172,"reputation":4337,"user_id":738851,"accept_rate":63,"display_name":"Rob"},"score":0,"creation_date":1433862532,"post_id":30734848,"comment_id":49528072,"body_markdown":"Must your mutable collections implement a hashcode by default? Seems like you&#39;d generally want a hashcode to be constant for any given object. Some interesting reading here: https://www.artima.com/lejava/articles/equality.html","body":"Must your mutable collections implement a hashcode by default? Seems like you&#39;d generally want a hashcode to be constant for any given object. Some interesting reading here: <a href=\"https://www.artima.com/lejava/articles/equality.html\" rel=\"nofollow noreferrer\">artima.com/lejava/articles/equality.html</a>"},{"owner":{"account_id":1707439,"reputation":236086,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":2,"creation_date":1433866727,"post_id":30734848,"comment_id":49531160,"body_markdown":"There is a big difference between &quot;hash of the sum&quot; and &quot;sum of the hashes&quot;. The former, as your examples indicate, is problematic. The latter has fewer problems provided the individual hashes are well-distributed over a large range.","body":"There is a big difference between &quot;hash of the sum&quot; and &quot;sum of the hashes&quot;. The former, as your examples indicate, is problematic. The latter has fewer problems provided the individual hashes are well-distributed over a large range."},{"owner":{"account_id":4611389,"reputation":7253,"user_id":3739391,"accept_rate":100,"display_name":"John Smith"},"score":0,"creation_date":1567010784,"post_id":30734848,"comment_id":101837932,"body_markdown":"run the same sort on both lists, then hash them.","body":"run the same sort on both lists, then hash them."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1567030775,"post_id":30734848,"comment_id":101845288,"body_markdown":"@iliketocode you’d have to make a copy and sorting would also increase time complexity from O(n) to O(n log n)","body":"@iliketocode you’d have to make a copy and sorting would also increase time complexity from O(n) to O(n log n)"}],"answers":[{"tags":[],"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433861027,"creation_date":1433861027,"answer_id":30735365,"question_id":30734848,"body_markdown":"Here&#39;s the pseudocode for a possible implementation:\r\n\r\n    String hashCode = null;\r\n    for(element : elements){\r\n        hashCode = xor(hashCode, getHashCode(element));\r\n    }\r\n    return hashCode;\r\n\r\nThe `xor` function should return a string that is as long as the longest of the two arguments.  It will XOR the bits in each until it gets to the end of one of the arguments.  It will then take the remaining bits from the longer string and append those on.\r\n\r\nThis implementation will mean that the hashCode of a set will be as long as the hashCode of its longest element.  Because you are XORing the bits, at the end the hashcode will be the same regardless of the order of your elements.  However, as with any hashing implementation, there will be the chance for collisions.","title":"Order-independent Hash Algorithm","body":"<p>Here's the pseudocode for a possible implementation:</p>\n\n<pre><code>String hashCode = null;\nfor(element : elements){\n    hashCode = xor(hashCode, getHashCode(element));\n}\nreturn hashCode;\n</code></pre>\n\n<p>The <code>xor</code> function should return a string that is as long as the longest of the two arguments.  It will XOR the bits in each until it gets to the end of one of the arguments.  It will then take the remaining bits from the longer string and append those on.</p>\n\n<p>This implementation will mean that the hashCode of a set will be as long as the hashCode of its longest element.  Because you are XORing the bits, at the end the hashcode will be the same regardless of the order of your elements.  However, as with any hashing implementation, there will be the chance for collisions.</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1433862466,"creation_date":1433861073,"answer_id":30735385,"question_id":30734848,"body_markdown":"The JDK itself proposes the following solution to this problem. The contract of the [java.util.Set][1] interface states:\r\n\r\n&gt; Returns the hash code value for this set. The hash code of a set is defined to be the sum of the hash codes of the elements in the set, where the hash code of a null element is defined to be zero. This ensures that s1.equals(s2) implies that s1.hashCode()==s2.hashCode() for any two sets s1 and s2, as required by the general contract of Object.hashCode().\r\n\r\nAn alternative to using the sum of the entries&#39; hash codes would be to use, for example, the `^` (XOR) operator.\r\n\r\nThe Scala language uses an ordering-invariant version of the [Murmurhash][2] algorithm (cf. the private [`scala.util.hashing.MurmurHash3`][3] class) to implement the `hashCode` (or `##`) method of its [immutable sets][4] and similar collections.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#hashCode()\r\n  [2]: http://en.wikipedia.org/wiki/MurmurHash\r\n  [3]: https://github.com/scala/scala/blob/2.11.x/src/library/scala/util/hashing/MurmurHash3.scala\r\n  [4]: https://github.com/scala/scala/blob/2.11.x/src/library/scala/collection/GenSetLike.scala","title":"Order-independent Hash Algorithm","body":"<p>The JDK itself proposes the following solution to this problem. The contract of the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#hashCode()\" rel=\"noreferrer\">java.util.Set</a> interface states:</p>\n\n<blockquote>\n  <p>Returns the hash code value for this set. The hash code of a set is defined to be the sum of the hash codes of the elements in the set, where the hash code of a null element is defined to be zero. This ensures that s1.equals(s2) implies that s1.hashCode()==s2.hashCode() for any two sets s1 and s2, as required by the general contract of Object.hashCode().</p>\n</blockquote>\n\n<p>An alternative to using the sum of the entries' hash codes would be to use, for example, the <code>^</code> (XOR) operator.</p>\n\n<p>The Scala language uses an ordering-invariant version of the <a href=\"http://en.wikipedia.org/wiki/MurmurHash\" rel=\"noreferrer\">Murmurhash</a> algorithm (cf. the private <a href=\"https://github.com/scala/scala/blob/2.11.x/src/library/scala/util/hashing/MurmurHash3.scala\" rel=\"noreferrer\"><code>scala.util.hashing.MurmurHash3</code></a> class) to implement the <code>hashCode</code> (or <code>##</code>) method of its <a href=\"https://github.com/scala/scala/blob/2.11.x/src/library/scala/collection/GenSetLike.scala\" rel=\"noreferrer\">immutable sets</a> and similar collections.</p>\n"},{"tags":[],"owner":{"account_id":4704818,"reputation":19,"user_id":3807316,"display_name":"Dimitri Sorokin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1508843708,"creation_date":1508843708,"answer_id":46909096,"question_id":30734848,"body_markdown":"You can calculate the hash sum sorting your collection in alphabetical order.\r\n\r\nThere is the C# sample - I hope you can translate it in Java :)\r\n\r\n    static String GetHash(List&lt;String&gt; l)\r\n    {\r\n        using (System.Security.Cryptography.MD5 md5 = System.Security.Cryptography.MD5.Create())\r\n        {\r\n            return BitConverter.ToString(md5.ComputeHash(l.OrderBy(p =&gt; p).SelectMany(s =&gt; System.Text.Encoding.ASCII.GetBytes(s + (char)0)).ToArray())).Replace(&quot;-&quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Order-independent Hash Algorithm","body":"<p>You can calculate the hash sum sorting your collection in alphabetical order.</p>\n\n<p>There is the C# sample - I hope you can translate it in Java :)</p>\n\n<pre><code>static String GetHash(List&lt;String&gt; l)\n{\n    using (System.Security.Cryptography.MD5 md5 = System.Security.Cryptography.MD5.Create())\n    {\n        return BitConverter.ToString(md5.ComputeHash(l.OrderBy(p =&gt; p).SelectMany(s =&gt; System.Text.Encoding.ASCII.GetBytes(s + (char)0)).ToArray())).Replace(\"-\", \"\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796915,"reputation":380,"user_id":1636137,"display_name":"DanyloStackylo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803868,"creation_date":1700803868,"answer_id":77540905,"question_id":30734848,"body_markdown":"If you&#39;re looking for an out-of-the box solution, [Guava][1] could be utilized:\r\n\r\n    import java.util.Set;\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.hash.HashCode;\r\n    import com.google.common.hash.HashFunction;\r\n    import com.google.common.hash.Hashing;\r\n\r\n    ...\r\n\r\n    public String hash(final Set&lt;String&gt; strings) {\r\n        final HashFunction function = Hashing.murmur3_128();\r\n\r\n        // Hashing.combineUnordered will throw an exception if input is empty.\r\n        if (strings.isEmpty()) {\r\n            return function.newHasher()\r\n                .hash()\r\n                .toString();\r\n        }\r\n\r\n        final List&lt;HashCode&gt; stringsHashes = strings.stream()\r\n                .map(string -&gt; function.newHasher()\r\n                        .putString(string, Charsets.UTF_8)\r\n                        .hash())\r\n                .toList();\r\n\r\n        return Hashing.combineUnordered(stringsHashes).toString();\r\n    }\r\n\r\nTo address authors concern:\r\n\r\n&gt; ... hash algorithms with less collision potential.\r\n\r\n[sha256][2] could be used instead of `murmur3_128`.\r\n\r\nAlso, you can adapt it to any input type, not just strings, using [Funnels][3].\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/HashingExplained\r\n  [2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/hash/Hashing.html#sha256--\r\n  [3]: https://github.com/google/guava/wiki/HashingExplained#funnel","title":"Order-independent Hash Algorithm","body":"<p>If you're looking for an out-of-the box solution, <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"nofollow noreferrer\">Guava</a> could be utilized:</p>\n<pre><code>import java.util.Set;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.hash.HashCode;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\n\n...\n\npublic String hash(final Set&lt;String&gt; strings) {\n    final HashFunction function = Hashing.murmur3_128();\n\n    // Hashing.combineUnordered will throw an exception if input is empty.\n    if (strings.isEmpty()) {\n        return function.newHasher()\n            .hash()\n            .toString();\n    }\n\n    final List&lt;HashCode&gt; stringsHashes = strings.stream()\n            .map(string -&gt; function.newHasher()\n                    .putString(string, Charsets.UTF_8)\n                    .hash())\n            .toList();\n\n    return Hashing.combineUnordered(stringsHashes).toString();\n}\n</code></pre>\n<p>To address authors concern:</p>\n<blockquote>\n<p>... hash algorithms with less collision potential.</p>\n</blockquote>\n<p><a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/hash/Hashing.html#sha256--\" rel=\"nofollow noreferrer\">sha256</a> could be used instead of <code>murmur3_128</code>.</p>\n<p>Also, you can adapt it to any input type, not just strings, using <a href=\"https://github.com/google/guava/wiki/HashingExplained#funnel\" rel=\"nofollow noreferrer\">Funnels</a>.</p>\n"}],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9246,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":30735385,"answer_count":4,"score":20,"last_activity_date":1700803868,"creation_date":1433859783,"question_id":30734848,"body_markdown":"I am currently working on a collection library for my custom programming language. I already have several data types (Collection, List, Map, Set) and implementations for them (mutable and immutable), but what I was missing so far was `hashCode` and `equals`. While these are no problem for Lists as they are ordered collections, the play a special role for Sets and Maps. Two Sets are considered equal if they have the same size and the same elements, and the order in which the Sets maintain them should not make a difference in their equality. Because of the equals-hashCode-contract, the `hashCode` implementation also has to reflect this behavior, meaning that two sets with the same elements but different ordering should have the same hash code. (The same applies for Maps, which are technically a Set of Key-Value-Pairs)\r\n\r\n**Example** (Pseudocode):\r\n\r\n    let&#160;set1: Set&lt;String&gt; = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]\r\n    let set2: Set&lt;String&gt; = [ &quot;b&quot;, &quot;c&quot;, &quot;a&quot; ]\r\n    set1 == set2       // should return true\r\n    set1.hashCode == set2.hashCode // should also return true\r\n\r\nHow would I implement a reasonably good hash algorithm for which the `hashCode`s in the above example return the same value?","title":"Order-independent Hash Algorithm","body":"<p>I am currently working on a collection library for my custom programming language. I already have several data types (Collection, List, Map, Set) and implementations for them (mutable and immutable), but what I was missing so far was <code>hashCode</code> and <code>equals</code>. While these are no problem for Lists as they are ordered collections, the play a special role for Sets and Maps. Two Sets are considered equal if they have the same size and the same elements, and the order in which the Sets maintain them should not make a difference in their equality. Because of the equals-hashCode-contract, the <code>hashCode</code> implementation also has to reflect this behavior, meaning that two sets with the same elements but different ordering should have the same hash code. (The same applies for Maps, which are technically a Set of Key-Value-Pairs)</p>\n\n<p><strong>Example</strong> (Pseudocode):</p>\n\n<pre><code>let set1: Set&lt;String&gt; = [ \"a\", \"b\", \"c\" ]\nlet set2: Set&lt;String&gt; = [ \"b\", \"c\", \"a\" ]\nset1 == set2       // should return true\nset1.hashCode == set2.hashCode // should also return true\n</code></pre>\n\n<p>How would I implement a reasonably good hash algorithm for which the <code>hashCode</code>s in the above example return the same value?</p>\n"},{"tags":["java","maven","liferay","liferay-7","wab"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700803623,"creation_date":1700680338,"answer_id":77532565,"question_id":77529611,"body_markdown":"There&#39;s no need for the 6.x style hooks. You can implement a servlet filter following [this example][1]:\r\n\r\n    @Component(\r\n    \t\timmediate = true,\r\n    \t\tproperty = {\r\n    \r\n    // To figure out valid values for before-filter, look up Liferay&#39;s\r\n    // WEB-INF/liferay-web.xml\r\n    \r\n    \t\t\t\t&quot;before-filter=Auto Login Filter&quot;,\r\n    \t\t\t\t&quot;dispatcher=REQUEST&quot;,\r\n    //\t\t\t\t&quot;dispatcher=FORWARD&quot;,\r\n    //\t\t\t\t&quot;dispatcher=ASYNC&quot;,\r\n    //\t\t\t\t&quot;dispatcher=ERROR&quot;,\r\n    //\t\t\t\t&quot;dispatcher=INCLUDE&quot;,\r\n    \t\t\t\t&quot;servlet-context-name=&quot;,\r\n    \r\n    \t\t\t\t// Pick your own unique filter name! Make sure to pick a\r\n    \t\t\t\t// different one for every filter you write - see LPS-107575\r\n    \r\n    \t\t\t\t&quot;servlet-filter-name=Blade Servlet Filter&quot;,\r\n    \t\t\t\t&quot;url-pattern=/web/*&quot;,\r\n    \t\t\t\t&quot;url-pattern=/change/me&quot;\r\n    \t\t},\r\n    \t\tservice = Filter.class\r\n    )\r\n    public class BladeServletFilter extends BaseFilter {\r\n    \r\n    \t@Override\r\n    \tprotected Log getLog() {\r\n    \t\treturn _log;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void processFilter(\r\n    \t\t\tHttpServletRequest httpServletRequest,\r\n    \t\t\tHttpServletResponse httpServletResponse, FilterChain filterChain)\r\n    \t\tthrows Exception {\r\n    \r\n    \t\t// implement your own logic here\r\n    \t\t// determine if you shortcut, or continue in the filter chain\r\n    \r\n    \t\thttpServletResponse.addHeader(\r\n    \t\t\t&quot;X-Blade-Servlet-Filter&quot;, httpServletRequest.getRequestURI());\r\n    \r\n    \t\tprocessFilter(\r\n    \t\t\tBladeServletFilter.class.getName(), httpServletRequest,\r\n    \t\t\thttpServletResponse, filterChain);\r\n    \t}\r\n    \r\n    \tprivate static final Log _log = LogFactoryUtil.getLog(\r\n    \t\tBladeServletFilter.class);\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/liferay/liferay-blade-samples/blob/master/liferay-workspace/extensions/servlet-filter/src/main/java/com/liferay/blade/samples/servletfilter/BladeServletFilter.java\r\n","title":"Compiling a OSGi bundle with registered hook for Liferay","body":"<p>There's no need for the 6.x style hooks. You can implement a servlet filter following <a href=\"https://github.com/liferay/liferay-blade-samples/blob/master/liferay-workspace/extensions/servlet-filter/src/main/java/com/liferay/blade/samples/servletfilter/BladeServletFilter.java\" rel=\"nofollow noreferrer\">this example</a>:</p>\n<pre><code>@Component(\n        immediate = true,\n        property = {\n\n// To figure out valid values for before-filter, look up Liferay's\n// WEB-INF/liferay-web.xml\n\n                &quot;before-filter=Auto Login Filter&quot;,\n                &quot;dispatcher=REQUEST&quot;,\n//              &quot;dispatcher=FORWARD&quot;,\n//              &quot;dispatcher=ASYNC&quot;,\n//              &quot;dispatcher=ERROR&quot;,\n//              &quot;dispatcher=INCLUDE&quot;,\n                &quot;servlet-context-name=&quot;,\n\n                // Pick your own unique filter name! Make sure to pick a\n                // different one for every filter you write - see LPS-107575\n\n                &quot;servlet-filter-name=Blade Servlet Filter&quot;,\n                &quot;url-pattern=/web/*&quot;,\n                &quot;url-pattern=/change/me&quot;\n        },\n        service = Filter.class\n)\npublic class BladeServletFilter extends BaseFilter {\n\n    @Override\n    protected Log getLog() {\n        return _log;\n    }\n\n    @Override\n    protected void processFilter(\n            HttpServletRequest httpServletRequest,\n            HttpServletResponse httpServletResponse, FilterChain filterChain)\n        throws Exception {\n\n        // implement your own logic here\n        // determine if you shortcut, or continue in the filter chain\n\n        httpServletResponse.addHeader(\n            &quot;X-Blade-Servlet-Filter&quot;, httpServletRequest.getRequestURI());\n\n        processFilter(\n            BladeServletFilter.class.getName(), httpServletRequest,\n            httpServletResponse, filterChain);\n    }\n\n    private static final Log _log = LogFactoryUtil.getLog(\n        BladeServletFilter.class);\n\n}\n</code></pre>\n"}],"owner":{"account_id":29964765,"reputation":3,"user_id":22963599,"display_name":"Dalimil Rozpr&#253;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532565,"answer_count":1,"score":0,"last_activity_date":1700803623,"creation_date":1700653070,"question_id":77529611,"body_markdown":"I am trying to make configurable logging application for Liferay 7.4.3 with Apache Maven. I have no problem making the app configurable using [this approach](https://learn.liferay.com/w/dxp/building-applications/core-frameworks/configuration-framework/setting-and-accessing-configurations), when compiling the project as a OSGi bundle (using bnd-maven-plugin).\r\n\r\nHowever I need to register the hook in the webapp/WEB-INF/liferay-hook.xml such as:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hook PUBLIC &quot;-//Liferay//DTD Hook 7.1.0//EN&quot; &quot;http://www.liferay.com/dtd/liferay-hook_7_1_0.dtd&quot;&gt;\r\n\r\n&lt;hook&gt;\r\n\t&lt;servlet-filter&gt;\r\n\t\t&lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\r\n\t\t&lt;servlet-filter-impl&gt;MyHook&lt;/servlet-filter-impl&gt;\r\n\t&lt;/servlet-filter&gt;\r\n\t&lt;servlet-filter-mapping&gt;\r\n\t\t&lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\r\n\t\t&lt;before-filter&gt;SSO Open SSO Filter&lt;/before-filter&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-filter-mapping&gt;\r\n&lt;/hook&gt;\r\n```\r\n\r\nIs there a way to combine both hook and a configurable app into single application? i.e. Compiling a OSGi bundle in such a way that would contain hook registration in webapp/WEB-INF/liferay-hook.xml?\r\n\r\nI have a working implementation of application with hook using that approach, however it is compiled as a WAR to include the WEB-INF folder.\r\n\r\nI tried compiling the app as a WAB using both bnd-maven-plugin and maven-bundle-plugin to no avail.","title":"Compiling a OSGi bundle with registered hook for Liferay","body":"<p>I am trying to make configurable logging application for Liferay 7.4.3 with Apache Maven. I have no problem making the app configurable using <a href=\"https://learn.liferay.com/w/dxp/building-applications/core-frameworks/configuration-framework/setting-and-accessing-configurations\" rel=\"nofollow noreferrer\">this approach</a>, when compiling the project as a OSGi bundle (using bnd-maven-plugin).</p>\n<p>However I need to register the hook in the webapp/WEB-INF/liferay-hook.xml such as:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hook PUBLIC &quot;-//Liferay//DTD Hook 7.1.0//EN&quot; &quot;http://www.liferay.com/dtd/liferay-hook_7_1_0.dtd&quot;&gt;\n\n&lt;hook&gt;\n    &lt;servlet-filter&gt;\n        &lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\n        &lt;servlet-filter-impl&gt;MyHook&lt;/servlet-filter-impl&gt;\n    &lt;/servlet-filter&gt;\n    &lt;servlet-filter-mapping&gt;\n        &lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\n        &lt;before-filter&gt;SSO Open SSO Filter&lt;/before-filter&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-filter-mapping&gt;\n&lt;/hook&gt;\n</code></pre>\n<p>Is there a way to combine both hook and a configurable app into single application? i.e. Compiling a OSGi bundle in such a way that would contain hook registration in webapp/WEB-INF/liferay-hook.xml?</p>\n<p>I have a working implementation of application with hook using that approach, however it is compiled as a WAR to include the WEB-INF folder.</p>\n<p>I tried compiling the app as a WAB using both bnd-maven-plugin and maven-bundle-plugin to no avail.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700724769,"post_id":77534706,"comment_id":136690024,"body_markdown":"You should be able to do this using a **single** `for` loop *and* match your exact pattern.","body":"You should be able to do this using a <b>single</b> <code>for</code> loop <i>and</i> match your exact pattern."}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700722698,"creation_date":1700722698,"answer_id":77534869,"question_id":77534706,"body_markdown":"Try this one:\r\n\r\n        for (int i = num; i &gt;= 1; i--) {\r\n            System.out.println(i);\r\n            for (int j = i - 1; j &gt;= 1; j--) {\r\n                for (int k = i; k &gt;= j; k--) {\r\n                    System.out.print(k);\r\n                    if (k &gt; j) {\r\n                        System.out.print(&quot;-&quot;);\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\n","title":"Java for loop decrementing","body":"<p>Try this one:</p>\n<pre><code>    for (int i = num; i &gt;= 1; i--) {\n        System.out.println(i);\n        for (int j = i - 1; j &gt;= 1; j--) {\n            for (int k = i; k &gt;= j; k--) {\n                System.out.print(k);\n                if (k &gt; j) {\n                    System.out.print(&quot;-&quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4983788,"reputation":16,"user_id":4008000,"display_name":"Bryanayrb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700773845,"creation_date":1700728809,"answer_id":77535400,"question_id":77534706,"body_markdown":"Just use loop and recursion, like in the sample below:\r\n\r\n```\r\npublic static void doDecrement(int n)\r\n  {\r\n    String a = &quot;&quot;;\r\n    for (int i = n; i &gt;= 1; i--)\r\n    {\r\n\r\n      a += i;\r\n      System.out.println(a + (n == 1 ? &quot;-&quot; + n : &quot;&quot;));\r\n      a += &quot;-&quot;;\r\n\r\n    }\r\n    --n;\r\n    if (n != 0)\r\n      doDecrement(n);\r\n  }\r\n```\r\n","title":"Java for loop decrementing","body":"<p>Just use loop and recursion, like in the sample below:</p>\n<pre><code>public static void doDecrement(int n)\n  {\n    String a = &quot;&quot;;\n    for (int i = n; i &gt;= 1; i--)\n    {\n\n      a += i;\n      System.out.println(a + (n == 1 ? &quot;-&quot; + n : &quot;&quot;));\n      a += &quot;-&quot;;\n\n    }\n    --n;\n    if (n != 0)\n      doDecrement(n);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803518,"creation_date":1700803518,"answer_id":77540888,"question_id":77534706,"body_markdown":"Here is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nint i, j, n, x = n = 4;\r\nString[] a = new String[x];\r\nfor (i = x; i &gt;= 1; i--) a[n - i] = String.valueOf(i);\r\nfor (i = n; i &gt;= 1; i--, n = a.length) {\r\n    for (j = 0; j &lt; n; j++) {\r\n        s.append(String.join(&quot;-&quot;, Arrays.copyOfRange(a, 0, j + 1)));\r\n        s.append(&#39;\\n&#39;);\r\n    }\r\n    a = Arrays.copyOfRange(a, 1, a.length);\r\n}\r\n```\r\n\r\n```none\r\n4\r\n4-3\r\n4-3-2\r\n4-3-2-1\r\n3\r\n3-2\r\n3-2-1\r\n2\r\n2-1\r\n1\r\n```","title":"Java for loop decrementing","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nint i, j, n, x = n = 4;\nString[] a = new String[x];\nfor (i = x; i &gt;= 1; i--) a[n - i] = String.valueOf(i);\nfor (i = n; i &gt;= 1; i--, n = a.length) {\n    for (j = 0; j &lt; n; j++) {\n        s.append(String.join(&quot;-&quot;, Arrays.copyOfRange(a, 0, j + 1)));\n        s.append('\\n');\n    }\n    a = Arrays.copyOfRange(a, 1, a.length);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>4\n4-3\n4-3-2\n4-3-2-1\n3\n3-2\n3-2-1\n2\n2-1\n1\n</code></pre>\n"}],"owner":{"account_id":29972411,"reputation":1,"user_id":22969378,"display_name":"yiyiyiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77535400,"answer_count":3,"score":-1,"last_activity_date":1700803518,"creation_date":1700720476,"question_id":77534706,"body_markdown":"can you guys pls help me\r\n\r\ni want to code where the user will enter a number and then using for loop it will display the number in decrement for example:\r\n\r\nEnter a number: 4\r\n\r\nOUTPUT:  \r\n4      \r\n4-3  \r\n4-3-2   \r\n4-3-2-1    \r\n3  \r\n3-2   \r\n3-2-1    \r\n2       \r\n2-1   \r\n1-1\r\n\r\n\r\ncode it using for loop\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xkl4n.png\r\n\r\n\r\n\r\n\r\n\r\n\r\nthis is my attempt code i&#39;m getting confused:\r\n\r\n      for (int i = num; i &gt;= 1; i--) {\r\n          for (int j = 1; j &lt;= i; j++)\r\n             {\r\n                   System.out.print(i+ &quot;-&quot; );\r\n              for (int k = num; k&gt;=i; k--)\r\n                 {\r\n                    System.out.print(k);\r\n                }\r\n                System.out.println();\r\n            }","title":"Java for loop decrementing","body":"<p>can you guys pls help me</p>\n<p>i want to code where the user will enter a number and then using for loop it will display the number in decrement for example:</p>\n<p>Enter a number: 4</p>\n<p>OUTPUT:<br />\n4<br />\n4-3<br />\n4-3-2<br />\n4-3-2-1<br />\n3<br />\n3-2<br />\n3-2-1<br />\n2<br />\n2-1<br />\n1-1</p>\n<p>code it using for loop</p>\n<p>this is my attempt code i'm getting confused:</p>\n<pre><code>  for (int i = num; i &gt;= 1; i--) {\n      for (int j = 1; j &lt;= i; j++)\n         {\n               System.out.print(i+ &quot;-&quot; );\n          for (int k = num; k&gt;=i; k--)\n             {\n                System.out.print(k);\n            }\n            System.out.println();\n        }\n</code></pre>\n"},{"tags":["java","hash","set","unordered"],"comments":[{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1510520834,"post_id":47253864,"comment_id":81458293,"body_markdown":"Why do youneed to overwrite the hash algorithm of the set?","body":"Why do youneed to overwrite the hash algorithm of the set?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1510521294,"post_id":47253864,"comment_id":81458459,"body_markdown":"@Szigy&#225;rt&#243;Mih&#225;ly no need to overwrite, I&#39;m looking for an simple example. I know MD5, which is order sensitive and MurmurHash which shouldn&#39;t, but I could not find an example of using it.","body":"@Szigy&#225;rt&#243;Mih&#225;ly no need to overwrite, I&#39;m looking for an simple example. I know MD5, which is order sensitive and MurmurHash which shouldn&#39;t, but I could not find an example of using it."},{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1510642518,"post_id":47253864,"comment_id":81509273,"body_markdown":"The set uses the sum of items&#39; hashes, which is not depending on the order.","body":"The set uses the sum of items&#39; hashes, which is not depending on the order."}],"answers":[{"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510522838,"creation_date":1510521291,"answer_id":47254051,"question_id":47253864,"body_markdown":"You can calculate the MD5 hash of each string individually, and then, add them all to get a single hash. That will be order independent. Because addition operation is commutative.\r\n\r\nHere is an example (assuming we have a method **md5Hex(String str)** that calculates md5 hash for a given string and returns the results in hexadecimal format):\r\n\r\n    String[] strings = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;, ...};\r\n\r\n    BigInteger hashSum = BigInteger.ZERO;\r\n    for(String s : strings) {\r\n        String hexHash = md5Hex(s);\r\n        hashSum = hashSum.add(new BigInteger(hexHash, 16));\r\n    }\r\n\r\n    String finalHash = hashSum.toString(16);\r\n\r\n","title":"Order Independent Hash in Java","body":"<p>You can calculate the MD5 hash of each string individually, and then, add them all to get a single hash. That will be order independent. Because addition operation is commutative.</p>\n\n<p>Here is an example (assuming we have a method <strong>md5Hex(String str)</strong> that calculates md5 hash for a given string and returns the results in hexadecimal format):</p>\n\n<pre><code>String[] strings = {\"str1\", \"str2\", \"str3\", ...};\n\nBigInteger hashSum = BigInteger.ZERO;\nfor(String s : strings) {\n    String hexHash = md5Hex(s);\n    hashSum = hashSum.add(new BigInteger(hexHash, 16));\n}\n\nString finalHash = hashSum.toString(16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1510524443,"creation_date":1510524443,"answer_id":47254553,"question_id":47253864,"body_markdown":"Just XOR each hash and the order wont matter, plus the hash size will be fixed rather than grow with the size of the collection.\r\n\r\n**Hashcode using built in java string hashcode:**\r\n\r\n    int hashcode = strings.stream()\r\n            .mapToInt(Object::hashCode)\r\n            .reduce(0, (left, right) -&gt; left ^ right);\r\n\r\n**Hashcode using guava and MD5 like the question asked:**\r\n\r\n    Optional&lt;byte[]&gt; hash = strings.stream()\r\n            .map(s -&gt; Hashing.md5().hashString(s, Charset.defaultCharset()))\r\n            .map(HashCode::asBytes)\r\n            .reduce((left, right) -&gt; xor(left, right));\r\n\r\n\r\n    static byte[] xor(byte[] left, byte[] right) {\r\n        if(left.length != right.length) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        byte[] result = new byte[left.length];\r\n        for(int i=0; i &lt; result.length; i++) {\r\n            result[i] = (byte) (left[i] ^ right[i]);\r\n        }\r\n        return result;\r\n    }","title":"Order Independent Hash in Java","body":"<p>Just XOR each hash and the order wont matter, plus the hash size will be fixed rather than grow with the size of the collection.</p>\n\n<p><strong>Hashcode using built in java string hashcode:</strong></p>\n\n<pre><code>int hashcode = strings.stream()\n        .mapToInt(Object::hashCode)\n        .reduce(0, (left, right) -&gt; left ^ right);\n</code></pre>\n\n<p><strong>Hashcode using guava and MD5 like the question asked:</strong></p>\n\n<pre><code>Optional&lt;byte[]&gt; hash = strings.stream()\n        .map(s -&gt; Hashing.md5().hashString(s, Charset.defaultCharset()))\n        .map(HashCode::asBytes)\n        .reduce((left, right) -&gt; xor(left, right));\n\n\nstatic byte[] xor(byte[] left, byte[] right) {\n    if(left.length != right.length) {\n        throw new IllegalArgumentException();\n    }\n    byte[] result = new byte[left.length];\n    for(int i=0; i &lt; result.length; i++) {\n        result[i] = (byte) (left[i] ^ right[i]);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796915,"reputation":380,"user_id":1636137,"display_name":"DanyloStackylo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803263,"creation_date":1700803263,"answer_id":77540878,"question_id":47253864,"body_markdown":"Here&#39;s an example using Guava to calculate order-independent hash of a set of strings:\r\n\r\n    import java.util.Set;\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.hash.HashCode;\r\n    import com.google.common.hash.HashFunction;\r\n    import com.google.common.hash.Hashing;\r\n\r\n    ...\r\n\r\n    public String hash(final Set&lt;String&gt; strings) {\r\n        final HashFunction function = Hashing.murmur3_128();\r\n\r\n        // Hashing.combineUnordered will throw an exception if input is empty.\r\n        if (strings.isEmpty()) {\r\n            return function.newHasher()\r\n                .hash()\r\n                .toString();\r\n        }\r\n\r\n        final List&lt;HashCode&gt; stringsHashes = strings.stream()\r\n                .map(string -&gt; function.newHasher()\r\n                        .putString(string, Charsets.UTF_8)\r\n                        .hash())\r\n                .toList();\r\n\r\n        return Hashing.combineUnordered(stringsHashes).toString();\r\n    }","title":"Order Independent Hash in Java","body":"<p>Here's an example using Guava to calculate order-independent hash of a set of strings:</p>\n<pre><code>import java.util.Set;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.hash.HashCode;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\n\n...\n\npublic String hash(final Set&lt;String&gt; strings) {\n    final HashFunction function = Hashing.murmur3_128();\n\n    // Hashing.combineUnordered will throw an exception if input is empty.\n    if (strings.isEmpty()) {\n        return function.newHasher()\n            .hash()\n            .toString();\n    }\n\n    final List&lt;HashCode&gt; stringsHashes = strings.stream()\n            .map(string -&gt; function.newHasher()\n                    .putString(string, Charsets.UTF_8)\n                    .hash())\n            .toList();\n\n    return Hashing.combineUnordered(stringsHashes).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":47254553,"answer_count":3,"score":7,"last_activity_date":1700803263,"creation_date":1510520068,"question_id":47253864,"body_markdown":"I&#39;d like to calculate  a hash of a set of strings in Java. Yes I can sort the strings and calculate the\r\nMD5 hash iterative using `digest.update`.\r\nBut I&#39;d prefer to omit the sort and use something like `combineUnordered` https://github.com/google/guava/wiki/HashingExplained\r\nThere is a lot of similar question asking the same such as https://stackoverflow.com/questions/30734848/order-independant-hash-algorithm\r\nbut non of them provides a simple example showing how to calculate iterative an order independent hash in Java.","title":"Order Independent Hash in Java","body":"<p>I'd like to calculate  a hash of a set of strings in Java. Yes I can sort the strings and calculate the\nMD5 hash iterative using <code>digest.update</code>.\nBut I'd prefer to omit the sort and use something like <code>combineUnordered</code> <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"noreferrer\">https://github.com/google/guava/wiki/HashingExplained</a>\nThere is a lot of similar question asking the same such as <a href=\"https://stackoverflow.com/questions/30734848/order-independant-hash-algorithm\">Order-independant Hash Algorithm</a>\nbut non of them provides a simple example showing how to calculate iterative an order independent hash in Java.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700813158,"post_id":77540862,"comment_id":136701442,"body_markdown":"What database engine?","body":"What database engine?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700813193,"post_id":77540862,"comment_id":136701450,"body_markdown":"Why not use the appropriate date-time type?","body":"Why not use the appropriate date-time type?"},{"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"score":0,"creation_date":1700817605,"post_id":77540862,"comment_id":136702158,"body_markdown":"I am asking for recommendation as well","body":"I am asking for recommendation as well"},{"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"score":0,"creation_date":1700817623,"post_id":77540862,"comment_id":136702161,"body_markdown":"MySQL  &amp; Postgres","body":"MySQL  &amp; Postgres"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700844718,"post_id":77540862,"comment_id":136706550,"body_markdown":"Post details as edits to your Question, not as Comments.","body":"Post details as edits to your Question, not as Comments."}],"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700802908,"creation_date":1700802908,"question_id":77540862,"body_markdown":"Instead of storing the timestamp in Date/Timestamp format, I want to store it as milliseconds i.e. System.currentMillis();\r\nAlso, what is the recommended format while dealing with timestamps/dates with database.\r\n\r\nBelow is my auditing class\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class Auditable {\r\n    \r\n    \t@CreatedDate\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;crt_date&quot;)\r\n    \tDate createdDate;\r\n    \r\n    \t@LastModifiedDate\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;upd_date&quot;)\r\n    \tDate updatedDate;\r\n    \r\n    \tpublic Date getCreatedDate() {\r\n    \t\treturn createdDate;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedDate(Date createdDate) {\r\n    \t\tthis.createdDate = createdDate;\r\n    \t}\r\n    \r\n    \tpublic Date getUpdatedDate() {\r\n    \t\treturn updatedDate;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedDate(Date updatedDate) {\r\n    \t\tthis.updatedDate = updatedDate;\r\n    \t}\r\n    \r\n    }","title":"Store JPA auditing timestamp in milliseconds","body":"<p>Instead of storing the timestamp in Date/Timestamp format, I want to store it as milliseconds i.e. System.currentMillis();\nAlso, what is the recommended format while dealing with timestamps/dates with database.</p>\n<p>Below is my auditing class</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class Auditable {\n\n    @CreatedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;crt_date&quot;)\n    Date createdDate;\n\n    @LastModifiedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;upd_date&quot;)\n    Date updatedDate;\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public Date getUpdatedDate() {\n        return updatedDate;\n    }\n\n    public void setUpdatedDate(Date updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1606914279,"post_id":35086902,"comment_id":115106382,"body_markdown":"Take a look at: [Jackson/Hibernate, meta get methods and serialization](https://stackoverflow.com/questions/55383889/jackson-hibernate-meta-get-methods-and-serialization). Probably, you need to use [Hibernate module](https://github.com/FasterXML/jackson-datatype-hibernate)","body":"Take a look at: <a href=\"https://stackoverflow.com/questions/55383889/jackson-hibernate-meta-get-methods-and-serialization\">Jackson/Hibernate, meta get methods and serialization</a>. Probably, you need to use <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">Hibernate module</a>"}],"answers":[{"tags":[],"owner":{"account_id":4425571,"reputation":636,"user_id":3604140,"accept_rate":100,"display_name":"Nebras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454080513,"creation_date":1454080513,"answer_id":35087838,"question_id":35086902,"body_markdown":"to tell jackson to ignore a property while parsing an entity to Json you can use `@JsonIgnore` annotation:\r\n\r\n    @JsonIgnore\r\n    private PropertyClass property;\r\n\r\non the other hand, all Entities classes have to implements `java.io.Serializable`","title":"Java Spring HttpMessageNotWritableException/JsonMappingException with Hibernate FetchType.LAZY in Jackson serialization process","body":"<p>to tell jackson to ignore a property while parsing an entity to Json you can use <code>@JsonIgnore</code> annotation:</p>\n\n<pre><code>@JsonIgnore\nprivate PropertyClass property;\n</code></pre>\n\n<p>on the other hand, all Entities classes have to implements <code>java.io.Serializable</code></p>\n"}],"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13908,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700802460,"creation_date":1454077652,"question_id":35086902,"body_markdown":"I use `Java` `Spring` web controller And `jackson` for parsing  responses. Also I have four `Java` `Hibernate` entities: `User` `Filter` `Make` `Model`, with bidirectional relation in Make -&gt; Model(s): \r\n\r\n&gt; GeUser.getFilters().get(0).getModel().getMake().getModels().get(0).getMake()...\r\n\r\nI tried add `@JsonIgnoreProperties(value = &quot;models&quot;)` in `Model` class but still get exception:\r\n\r\n    WARNING: Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: Could not write content: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[&quot;filters&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[&quot;model&quot;]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[&quot;handler&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[&quot;filters&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[&quot;model&quot;]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[&quot;handler&quot;])\r\n\r\nEntities GeUser:\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class GeUser {\r\n\t...\r\n\t  @OneToMany(fetch = FetchType.LAZY)\r\n\t  private Set&lt;Filter&gt; filters = new HashSet&lt;Filter&gt;(0);\r\n    ..\r\nFilter:\r\n\r\n    @Entity\r\n    @Table(name=&quot;filters&quot;)\r\n    public class Filter {\r\n\t...\r\n\t  @ManyToOne(fetch = FetchType.LAZY)\r\n\t  @JoinColumn(name = &quot;fk_model&quot;) \r\n\t  private Model model;\r\n    ..\r\n\r\nModel:\r\n\r\n    @Entity\r\n    @Table(name=&quot;models&quot;)\r\n    public class Model {\r\n\t...\r\n\t  @ManyToOne(fetch = FetchType.LAZY)\r\n\t  @JoinColumn(name = &quot;fk_make&quot;) \r\n\t  @JsonIgnoreProperties(value = &quot;models&quot;) //Not working (if I correct understand it should tell jackson to skip models from Make class )\r\n\t  private Make make;\r\n    ... \r\n\r\nMake:\r\n\r\n    @Entity\r\n    @Table(name=&quot;auto&quot;)\r\n    public class Make {\r\n\t....\r\n\t   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;make&quot;)\r\n\t   @JsonIgnoreProperties(value = &quot;make&quot;)\r\n\t   private List&lt;Model&gt; models = new ArrayList&lt;Model&gt;(0);\r\n    ...\r\n\t\r\n","title":"Java Spring HttpMessageNotWritableException/JsonMappingException with Hibernate FetchType.LAZY in Jackson serialization process","body":"<p>I use <code>Java</code> <code>Spring</code> web controller And <code>jackson</code> for parsing  responses. Also I have four <code>Java</code> <code>Hibernate</code> entities: <code>User</code> <code>Filter</code> <code>Make</code> <code>Model</code>, with bidirectional relation in Make -> Model(s): </p>\n\n<blockquote>\n  <p>GeUser.getFilters().get(0).getModel().getMake().getModels().get(0).getMake()...</p>\n</blockquote>\n\n<p>I tried add <code>@JsonIgnoreProperties(value = \"models\")</code> in <code>Model</code> class but still get exception:</p>\n\n<pre><code>WARNING: Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: Could not write content: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[\"filters\"]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[\"model\"]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[\"handler\"]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[\"filters\"]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[\"model\"]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[\"handler\"])\n</code></pre>\n\n<p>Entities GeUser:</p>\n\n<pre><code>@Entity\n@Table(name=\"users\")\npublic class GeUser {\n...\n  @OneToMany(fetch = FetchType.LAZY)\n  private Set&lt;Filter&gt; filters = new HashSet&lt;Filter&gt;(0);\n..\n</code></pre>\n\n<p>Filter:</p>\n\n<pre><code>@Entity\n@Table(name=\"filters\")\npublic class Filter {\n...\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"fk_model\") \n  private Model model;\n..\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>@Entity\n@Table(name=\"models\")\npublic class Model {\n...\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"fk_make\") \n  @JsonIgnoreProperties(value = \"models\") //Not working (if I correct understand it should tell jackson to skip models from Make class )\n  private Make make;\n... \n</code></pre>\n\n<p>Make:</p>\n\n<pre><code>@Entity\n@Table(name=\"auto\")\npublic class Make {\n....\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = \"make\")\n   @JsonIgnoreProperties(value = \"make\")\n   private List&lt;Model&gt; models = new ArrayList&lt;Model&gt;(0);\n...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1422727447,"post_id":28254648,"comment_id":44868022,"body_markdown":"&quot;How can I add the javax package to my Android project with Gradle?&quot; -- generally, you can&#39;t. Android&#39;s build tools do not support adding classes in the `java` and `javax` packages from the JDK into Android apps.","body":"&quot;How can I add the javax package to my Android project with Gradle?&quot; -- generally, you can&#39;t. Android&#39;s build tools do not support adding classes in the <code>java</code> and <code>javax</code> packages from the JDK into Android apps."},{"owner":{"account_id":2228932,"reputation":1610,"user_id":3209693,"accept_rate":86,"display_name":"inimene"},"score":1,"creation_date":1422727609,"post_id":28254648,"comment_id":44868062,"body_markdown":"But I was able to add different stuff like `compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;` So why not script package too.","body":"But I was able to add different stuff like <code>compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;</code> So why not script package too."}],"answers":[{"tags":[],"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519734726,"creation_date":1519734649,"answer_id":49008779,"question_id":28254648,"body_markdown":"Add this in your **build.gradle** file\r\n\r\n\r\n    compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;\r\n","title":"How to include javax package with Gradle","body":"<p>Add this in your <strong>build.gradle</strong> file</p>\n\n<pre><code>compile group: 'javax.persistence', name: 'persistence-api', version: '1.0'\n</code></pre>\n"}],"owner":{"account_id":2228932,"reputation":1610,"user_id":3209693,"accept_rate":86,"display_name":"inimene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10367,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700802460,"creation_date":1422726524,"question_id":28254648,"body_markdown":"How can I add the `javax` package to my Android project with Gradle?\r\nI have no idea where to even look for the link to that package.\r\n\r\nBasically I am trying to get the script package from `javax` to my Android project.\r\n\r\nCurrently I am trying to do something like this: `compile group: &#39;javax.script&#39;, name: &#39;javax.script-api&#39;`\r\n\r\nBut Gradle is unable to find that package for me.","title":"How to include javax package with Gradle","body":"<p>How can I add the <code>javax</code> package to my Android project with Gradle?\nI have no idea where to even look for the link to that package.</p>\n\n<p>Basically I am trying to get the script package from <code>javax</code> to my Android project.</p>\n\n<p>Currently I am trying to do something like this: <code>compile group: 'javax.script', name: 'javax.script-api'</code></p>\n\n<p>But Gradle is unable to find that package for me.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700725221,"creation_date":1700723445,"answer_id":77534926,"question_id":77534843,"body_markdown":"You can not get separate repeated capture group values in Java repeating the capture group itself. That will only capture the value of the last iteration.\r\n\r\nWhat you might do is make use of the `\\G` anchor, and get capture group 1, capture group 2, and then all the letters a, b, c, d etc... in capture group 3.\r\n\r\n    (?:https://(\\S*?)/v(\\S*?)/|\\G(?!^))([^/\\s]+)/?\r\n\r\nThe pattern matches:\r\n\r\n- `(?:` Non capture group for the alternatives\r\n  - `https://` Match literally\r\n  - `(\\S*?)` Capture **group 1**, match optional non whitespace chars\r\n  - `/v` Match literally\r\n  - `(\\S*?)` Capture **group 2**, match optional non whitespace chars\r\n  - `/` Match literally\r\n  - `|` Or\r\n  - `\\G(?!^)` Assert the current position at the end of the previous match, not at the start\r\n- `)` Close the non capture group\r\n- `([^/\\s]+)` Capture **group 3**, match 1+ characters other than `/` or a whitespace char\r\n- `/?` Match an optional `/`\r\n\r\n\r\n[Regex demo](https://regex101.com/r/GmHRKP/1) | [Java demo](https://ideone.com/DIl7hF)\r\n\r\nExample\r\n\r\n\tString regex = &quot;(?:https:\\\\/\\\\/(\\\\S*?)\\\\/v(\\\\S*?)\\\\/|\\\\G(?!^))([^/\\\\s])(?:/|$)&quot;;\r\n    String string = &quot;https://123/v1/a/b/&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n        \tString grp = matcher.group(i);\r\n        \tif (grp != null) {\r\n        \t\tSystem.out.println(&quot;Group &quot; + i + &quot;: &quot; + grp);\t\r\n        \t}\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Group 1: 123\r\n    Group 2: 1\r\n    Group 3: a\r\n    Group 3: b\r\n\r\n&lt;hr&gt;\r\n\r\nOr a bit more precise match:\r\n\r\n    (?:https://(\\d+)/v[a-z]*(\\d+)/|\\G(?!^))([a-z]+)/?\r\n\r\n[Regex demo](https://regex101.com/r/hqGuyt/1)\r\n","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>You can not get separate repeated capture group values in Java repeating the capture group itself. That will only capture the value of the last iteration.</p>\n<p>What you might do is make use of the <code>\\G</code> anchor, and get capture group 1, capture group 2, and then all the letters a, b, c, d etc... in capture group 3.</p>\n<pre><code>(?:https://(\\S*?)/v(\\S*?)/|\\G(?!^))([^/\\s]+)/?\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>(?:</code> Non capture group for the alternatives\n<ul>\n<li><code>https://</code> Match literally</li>\n<li><code>(\\S*?)</code> Capture <strong>group 1</strong>, match optional non whitespace chars</li>\n<li><code>/v</code> Match literally</li>\n<li><code>(\\S*?)</code> Capture <strong>group 2</strong>, match optional non whitespace chars</li>\n<li><code>/</code> Match literally</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!^)</code> Assert the current position at the end of the previous match, not at the start</li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>([^/\\s]+)</code> Capture <strong>group 3</strong>, match 1+ characters other than <code>/</code> or a whitespace char</li>\n<li><code>/?</code> Match an optional <code>/</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/GmHRKP/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/DIl7hF\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Example</p>\n<pre><code>String regex = &quot;(?:https:\\\\/\\\\/(\\\\S*?)\\\\/v(\\\\S*?)\\\\/|\\\\G(?!^))([^/\\\\s])(?:/|$)&quot;;\nString string = &quot;https://123/v1/a/b/&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        String grp = matcher.group(i);\n        if (grp != null) {\n            System.out.println(&quot;Group &quot; + i + &quot;: &quot; + grp);  \n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Group 1: 123\nGroup 2: 1\nGroup 3: a\nGroup 3: b\n</code></pre>\n<hr>\n<p>Or a bit more precise match:</p>\n<pre><code>(?:https://(\\d+)/v[a-z]*(\\d+)/|\\G(?!^))([a-z]+)/?\n</code></pre>\n<p><a href=\"https://regex101.com/r/hqGuyt/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8573,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700727425,"creation_date":1700727425,"answer_id":77535280,"question_id":77534843,"body_markdown":"You could use [`java.net.URI`](https://docs.oracle.com/javase/6/docs/api/java/net/URI.html) which has getters for various URI-components.\r\n\r\n```java\r\nvar uri = new URI(&quot;https://123/v1/a/b/&quot;);\r\n\r\nString authority = uri.getAuthority(); // returns 123 \r\nSystem.out.println(authority);\r\n\r\nString path = uri.getPath(); // returns /v1/a/b/\r\nString pathTrimmed = path.replaceAll(&quot;^/&quot;, &quot;&quot;).replaceAll(&quot;/$&quot;, &quot;&quot;);  // trim leading and trailing slashes: v1/a/b\r\nString[] segments = pathTrimmed.split(&quot;/&quot;);\r\n\r\nif (segments.length &lt; 1) return;\r\nSystem.out.println(segments[0].replaceAll(&quot;^v&quot;, &quot;&quot;));  // version truncated to number: 1\r\nfor (int i=1; i &lt; segments.length; i++) {\r\n  System.out.println(segments[i]);  // remainig segments: a, b, ..\r\n}\r\n```\r\nRun a [demo of this on IDEone](https://ideone.com/eeJ9ny).\r\n\r\nSee also: https://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-a-uri","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>You could use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\"><code>java.net.URI</code></a> which has getters for various URI-components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var uri = new URI(&quot;https://123/v1/a/b/&quot;);\n\nString authority = uri.getAuthority(); // returns 123 \nSystem.out.println(authority);\n\nString path = uri.getPath(); // returns /v1/a/b/\nString pathTrimmed = path.replaceAll(&quot;^/&quot;, &quot;&quot;).replaceAll(&quot;/$&quot;, &quot;&quot;);  // trim leading and trailing slashes: v1/a/b\nString[] segments = pathTrimmed.split(&quot;/&quot;);\n\nif (segments.length &lt; 1) return;\nSystem.out.println(segments[0].replaceAll(&quot;^v&quot;, &quot;&quot;));  // version truncated to number: 1\nfor (int i=1; i &lt; segments.length; i++) {\n  System.out.println(segments[i]);  // remainig segments: a, b, ..\n}\n</code></pre>\n<p>Run a <a href=\"https://ideone.com/eeJ9ny\" rel=\"nofollow noreferrer\">demo of this on IDEone</a>.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-a-uri\">How to obtain the last path segment of a URI</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700802297,"creation_date":1700789206,"answer_id":77540270,"question_id":77534843,"body_markdown":"&gt; _&quot;... how can i fetch matcher groups for below strings ...&quot;_\r\n\r\nHere is the _RFC_ for a _URI_, which defines the _HTTPS scheme_, path syntax.\\\r\n_[RFC 3986 &amp;ndash; Uniform Resource Identifier (URI): Generic Syntax &amp;ndash; 3.3.  Path](https://datatracker.ietf.org/doc/html/rfc3986#section-3.3)_.\r\n\r\nAnd, here is the related _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_.\r\n\r\n```none\r\npath-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\r\nsegment-nz    = 1*pchar\r\nsegment       = *pchar\r\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\r\nunreserved    = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;\r\npct-encoded   = &quot;%&quot; HEXDIG HEXDIG\r\nsub-delims    = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;&#39;&quot; / &quot;(&quot; / &quot;)&quot; / &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;\r\n```\r\n\r\nWith that, just split the value.\\\r\nHere is an example.\r\n\r\n```java\r\nString[] s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8).split(&quot;/&quot;);\r\n```\r\n\r\nIf you wanted to use a _regex_, try the following.\\\r\nYou&#39;ll need to remove the _scheme_, and `://`, values.\r\n\r\n```none\r\n[^/]+(?=/|$)\r\n```\r\n\r\n```java\r\nString s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8);\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\r\nPattern p = Pattern.compile(&quot;[^/]+(?=/|$)&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find()) l.add(m.group());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[123343, v1, a, b]\r\n```\r\n\r\n```none\r\n[123343, v1, a, b, c, d]\r\n```","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<blockquote>\n<p><em>&quot;... how can i fetch matcher groups for below strings ...&quot;</em></p>\n</blockquote>\n<p>Here is the <em>RFC</em> for a <em>URI</em>, which defines the <em>HTTPS scheme</em>, path syntax.<br />\n<em><a href=\"https://datatracker.ietf.org/doc/html/rfc3986#section-3.3\" rel=\"nofollow noreferrer\">RFC 3986 – Uniform Resource Identifier (URI): Generic Syntax – 3.3.  Path</a></em>.</p>\n<p>And, here is the related <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>path-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\nsegment-nz    = 1*pchar\nsegment       = *pchar\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\nunreserved    = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;\npct-encoded   = &quot;%&quot; HEXDIG HEXDIG\nsub-delims    = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;'&quot; / &quot;(&quot; / &quot;)&quot; / &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;\n</code></pre>\n<p>With that, just split the value.<br />\nHere is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8).split(&quot;/&quot;);\n</code></pre>\n<p>If you wanted to use a <em>regex</em>, try the following.<br />\nYou'll need to remove the <em>scheme</em>, and <code>://</code>, values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[^/]+(?=/|$)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8);\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\nPattern p = Pattern.compile(&quot;[^/]+(?=/|$)&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find()) l.add(m.group());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[123343, v1, a, b]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[123343, v1, a, b, c, d]\n</code></pre>\n"}],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700802297,"creation_date":1700722392,"question_id":77534843,"body_markdown":"Using java how can i fetch matcher groups for below strings\r\n1. &quot;https://123343/v1/a/b/&quot;\r\n2. &quot;https://123343/v1/a/b/c/d&quot;\r\n\r\nRegex pattern that i used, but didn&#39;t work\r\n```\r\nString s = &quot;https://123/v1/a/b/&quot;\r\nMatcher matcher = Pattern.compile(&quot;https:\\/\\/(.*?)\\/v(.*?)\\/((?:([^\\/]+))\\/)+&quot;).matcher(s);\r\nmatcher.find();\r\nmatcher.groupCount() --&gt; gives 4 which is correct\r\nmatcher.group(1) --&gt; 123 correct\r\nmatcher.group(2) --&gt; 1 correct\r\nmatcher.group(3) --&gt; b\\ wrong, need &#39;a&#39;\r\nmatcher.group(4) --&gt; b correct\r\n```\r\n\r\nSimilarly for 2nd string groupcount should be 6 and matcher.group(5)=c and matcher.group(6)=d\r\n\r\nAny suggestions?","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>Using java how can i fetch matcher groups for below strings</p>\n<ol>\n<li>&quot;https://123343/v1/a/b/&quot;</li>\n<li>&quot;https://123343/v1/a/b/c/d&quot;</li>\n</ol>\n<p>Regex pattern that i used, but didn't work</p>\n<pre><code>String s = &quot;https://123/v1/a/b/&quot;\nMatcher matcher = Pattern.compile(&quot;https:\\/\\/(.*?)\\/v(.*?)\\/((?:([^\\/]+))\\/)+&quot;).matcher(s);\nmatcher.find();\nmatcher.groupCount() --&gt; gives 4 which is correct\nmatcher.group(1) --&gt; 123 correct\nmatcher.group(2) --&gt; 1 correct\nmatcher.group(3) --&gt; b\\ wrong, need 'a'\nmatcher.group(4) --&gt; b correct\n</code></pre>\n<p>Similarly for 2nd string groupcount should be 6 and matcher.group(5)=c and matcher.group(6)=d</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","solr","solrj","solr-9.3.0"],"owner":{"account_id":29974478,"reputation":21,"user_id":22971042,"display_name":"Lalit Dashora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700801381,"creation_date":1700737872,"question_id":77536407,"body_markdown":"I&#39;m working on a project where I need to secure a specific content field in Apache Solr by encrypting the data during indexing and decrypting it during search. \r\n\r\nFirst approach: I&#39;ve already attempted to implement a custom UpdateRequestProcessorFactory and a search component, but I&#39;m facing challenges in achieving the desired encryption and decryption.\r\n\r\n\r\nSecond approach: I have also tried with another approach i.e https://stackoverflow.com/questions/53494765/how-to-create-a-custom-search-component-in-solr\r\nIn second approach, solr is not storing the content in encrypted form. Also when I pass the keyword in analysis section (UI), it properly encrypts and decrypts the data.\r\n\r\nIs there any tried and tested way to implement such scenario. \r\n\r\n\r\n\r\nFor the first approach I tried following code:\r\nHere encryption is working fine but not decryption. responseBuilder.getResponseDocs() returns null.\r\n\r\n```\r\npackage com.emorphis.solr.search.component;\r\n\r\nimport com.emorphis.solr.encrypt.util.EncryptUtil;\r\nimport org.apache.solr.common.SolrDocument;\r\nimport org.apache.solr.common.SolrDocumentList;\r\nimport org.apache.solr.handler.component.ResponseBuilder;\r\nimport org.apache.solr.handler.component.SearchComponent;\r\nimport org.apache.solr.search.DocIterator;\r\nimport org.apache.solr.search.DocList;\r\nimport org.apache.solr.search.SolrIndexSearcher;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MyDecryptionSearchComponent extends SearchComponent {\r\n    @Override\r\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\r\n        // Implement decryption logic\r\n        // ...\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - prepare&quot;);\r\n        executeDecryptionLogic(responseBuilder);\r\n    }\r\n\r\n    @Override\r\n    public void process(ResponseBuilder responseBuilder) throws IOException {\r\n        // Implement decryption logic\r\n        // ...\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - process&quot;);\r\n        executeDecryptionLogic(responseBuilder);\r\n    }\r\n\r\n    @Override\r\n    public void finishStage(ResponseBuilder rb) {\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - finishStage&quot;);\r\n        executeDecryptionLogic(rb);\r\n        super.finishStage(rb);\r\n    }\r\n\r\n    @Override\r\n    public String getDescription() {\r\n        return &quot;MyDecryptionSearchComponent&quot;;\r\n    }\r\n    private static void executeDecryptionLogic(ResponseBuilder responseBuilder) {\r\n        System.out.println(&quot;=======responseBuilder===========&quot;+responseBuilder.getResults().docList);\r\n        SolrDocumentList results = responseBuilder.getResponseDocs();\r\n        if (results == null) {\r\n            System.out.println(&quot;No documents found for decryption.&quot;);\r\n            return;\r\n        } else {\r\n            System.out.println(&quot;Document found for decryption.&quot; + results.size());\r\n        }\r\n\r\n        for (SolrDocument document : results) {\r\n            Object fieldValue = document.getFieldValue(&quot;content&quot;);\r\n            System.out.println(&quot;======fieldValue====&quot;+fieldValue);\r\n\r\n            if (fieldValue != null &amp;&amp; fieldValue instanceof String) {\r\n                String encryptedContent = (String) fieldValue;\r\n                System.out.println(&quot;==========encryptedContent============&quot;+encryptedContent);\r\n\r\n                // Decrypt the content\r\n                String decryptedContent = EncryptUtil.decrypt(encryptedContent);\r\n                System.out.println(&quot;============decryptedContent===============&quot;+decryptedContent);\r\n\r\n                // Replace the encrypted content with the decrypted content\r\n                document.setField(&quot;content&quot;, decryptedContent);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nIn second approach I have added fieldType and custom classes. The problem with second approach is the logs are printed for encryption but encrypted data is not stored. And when I search the data using /select it does not call decryption logic.\r\n\r\n```\r\n+  &lt;fieldType name=&quot;encrypted_content_text&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot; multiValued=&quot;false&quot;&gt;\r\n+    &lt;analyzer type=&quot;index&quot;&gt;\r\n+      &lt;tokenizer name=&quot;standard&quot;/&gt;\r\n+\t  &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+\t  &lt;filter name=&quot;lowercase&quot;/&gt;\r\n+\t  &lt;filter class=&quot;com.emorphis.solr.filter.EncryptionFilterFactory&quot; /&gt;\r\n+    &lt;/analyzer&gt;\r\n+    &lt;analyzer type=&quot;query&quot;&gt;\r\n+      &lt;tokenizer name=&quot;whitespace&quot;/&gt;\r\n+\t  &lt;filter class=&quot;com.emorphis.solr.filter.DecryptionFilterFactory&quot; /&gt;\r\n+      &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+      &lt;filter expand=&quot;true&quot; name=&quot;synonymGraph&quot; synonyms=&quot;synonyms.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+      &lt;filter name=&quot;lowercase&quot;/&gt;\r\n+    &lt;/analyzer&gt;\r\n+  &lt;/fieldType&gt;\r\n+\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Encrypt and Decrypt specific field in Apache Solr","body":"<p>I'm working on a project where I need to secure a specific content field in Apache Solr by encrypting the data during indexing and decrypting it during search.</p>\n<p>First approach: I've already attempted to implement a custom UpdateRequestProcessorFactory and a search component, but I'm facing challenges in achieving the desired encryption and decryption.</p>\n<p>Second approach: I have also tried with another approach i.e <a href=\"https://stackoverflow.com/questions/53494765/how-to-create-a-custom-search-component-in-solr\">How to create a custom search component in solr</a>\nIn second approach, solr is not storing the content in encrypted form. Also when I pass the keyword in analysis section (UI), it properly encrypts and decrypts the data.</p>\n<p>Is there any tried and tested way to implement such scenario.</p>\n<p>For the first approach I tried following code:\nHere encryption is working fine but not decryption. responseBuilder.getResponseDocs() returns null.</p>\n<pre><code>package com.emorphis.solr.search.component;\n\nimport com.emorphis.solr.encrypt.util.EncryptUtil;\nimport org.apache.solr.common.SolrDocument;\nimport org.apache.solr.common.SolrDocumentList;\nimport org.apache.solr.handler.component.ResponseBuilder;\nimport org.apache.solr.handler.component.SearchComponent;\nimport org.apache.solr.search.DocIterator;\nimport org.apache.solr.search.DocList;\nimport org.apache.solr.search.SolrIndexSearcher;\n\nimport java.io.IOException;\n\npublic class MyDecryptionSearchComponent extends SearchComponent {\n    @Override\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\n        // Implement decryption logic\n        // ...\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - prepare&quot;);\n        executeDecryptionLogic(responseBuilder);\n    }\n\n    @Override\n    public void process(ResponseBuilder responseBuilder) throws IOException {\n        // Implement decryption logic\n        // ...\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - process&quot;);\n        executeDecryptionLogic(responseBuilder);\n    }\n\n    @Override\n    public void finishStage(ResponseBuilder rb) {\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - finishStage&quot;);\n        executeDecryptionLogic(rb);\n        super.finishStage(rb);\n    }\n\n    @Override\n    public String getDescription() {\n        return &quot;MyDecryptionSearchComponent&quot;;\n    }\n    private static void executeDecryptionLogic(ResponseBuilder responseBuilder) {\n        System.out.println(&quot;=======responseBuilder===========&quot;+responseBuilder.getResults().docList);\n        SolrDocumentList results = responseBuilder.getResponseDocs();\n        if (results == null) {\n            System.out.println(&quot;No documents found for decryption.&quot;);\n            return;\n        } else {\n            System.out.println(&quot;Document found for decryption.&quot; + results.size());\n        }\n\n        for (SolrDocument document : results) {\n            Object fieldValue = document.getFieldValue(&quot;content&quot;);\n            System.out.println(&quot;======fieldValue====&quot;+fieldValue);\n\n            if (fieldValue != null &amp;&amp; fieldValue instanceof String) {\n                String encryptedContent = (String) fieldValue;\n                System.out.println(&quot;==========encryptedContent============&quot;+encryptedContent);\n\n                // Decrypt the content\n                String decryptedContent = EncryptUtil.decrypt(encryptedContent);\n                System.out.println(&quot;============decryptedContent===============&quot;+decryptedContent);\n\n                // Replace the encrypted content with the decrypted content\n                document.setField(&quot;content&quot;, decryptedContent);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>In second approach I have added fieldType and custom classes. The problem with second approach is the logs are printed for encryption but encrypted data is not stored. And when I search the data using /select it does not call decryption logic.</p>\n<pre><code>+  &lt;fieldType name=&quot;encrypted_content_text&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot; multiValued=&quot;false&quot;&gt;\n+    &lt;analyzer type=&quot;index&quot;&gt;\n+      &lt;tokenizer name=&quot;standard&quot;/&gt;\n+     &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+     &lt;filter name=&quot;lowercase&quot;/&gt;\n+     &lt;filter class=&quot;com.emorphis.solr.filter.EncryptionFilterFactory&quot; /&gt;\n+    &lt;/analyzer&gt;\n+    &lt;analyzer type=&quot;query&quot;&gt;\n+      &lt;tokenizer name=&quot;whitespace&quot;/&gt;\n+     &lt;filter class=&quot;com.emorphis.solr.filter.DecryptionFilterFactory&quot; /&gt;\n+      &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+      &lt;filter expand=&quot;true&quot; name=&quot;synonymGraph&quot; synonyms=&quot;synonyms.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+      &lt;filter name=&quot;lowercase&quot;/&gt;\n+    &lt;/analyzer&gt;\n+  &lt;/fieldType&gt;\n+\n</code></pre>\n"},{"tags":["java","android","xml","android-layout","rotation"],"comments":[{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":2,"creation_date":1700674878,"post_id":77531770,"comment_id":136684725,"body_markdown":"can you try `android:translationX` with a negative `dp` value?","body":"can you try <code>android:translationX</code> with a negative <code>dp</code> value?"},{"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"score":0,"creation_date":1700737460,"post_id":77531770,"comment_id":136692512,"body_markdown":"Yep, that did it. The amount by which to translate seems to be `-width/2+height/2-insetBottom`, which is a bit annoying when I&#39;m not setting the width, height and inset explicitly, but this does work.","body":"Yep, that did it. The amount by which to translate seems to be <code>-width&#47;2+height&#47;2-insetBottom</code>, which is a bit annoying when I&#39;m not setting the width, height and inset explicitly, but this does work."}],"answers":[{"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700673173,"creation_date":1700673173,"answer_id":77531931,"question_id":77531770,"body_markdown":"try this:\r\n```\r\n        val button: Button = findViewById(R.id.button)\r\n        button.pivotX = 125f\r\n        button.rotation = 90f\r\n        val params = button.layoutParams as ConstraintLayout.LayoutParams\r\n        params.startToStart = ConstraintLayout.LayoutParams.PARENT_ID\r\n        params.topToTop = ConstraintLayout.LayoutParams.PARENT_ID\r\n        button.layoutParams = params\r\n```\r\nSet pivot before rotation. The pivot point defines the point around which the view is rotated. I have written in kotlin. ","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>try this:</p>\n<pre><code>        val button: Button = findViewById(R.id.button)\n        button.pivotX = 125f\n        button.rotation = 90f\n        val params = button.layoutParams as ConstraintLayout.LayoutParams\n        params.startToStart = ConstraintLayout.LayoutParams.PARENT_ID\n        params.topToTop = ConstraintLayout.LayoutParams.PARENT_ID\n        button.layoutParams = params\n</code></pre>\n<p>Set pivot before rotation. The pivot point defines the point around which the view is rotated. I have written in kotlin.</p>\n"},{"tags":[],"owner":{"account_id":29776118,"reputation":271,"user_id":22820043,"display_name":"Cloverleaf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700687829,"creation_date":1700686663,"answer_id":77533071,"question_id":77531770,"body_markdown":"Contrary to your statement, `margin` works for me: \r\n\r\n    &lt;button\r\n          android:id=&quot;@+id/button&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_marginLeft=&quot;-65dp&quot;\r\n          android:rotation=&quot;90&quot;\r\n          android:text=&quot;My example button&quot;\r\n          app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n          app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n          app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\nIf you want to make the shift programmatically, the following solution also works for me:\r\n\r\n    button.setTranslationX(-195f);  // in pixels\r\n\r\nThird possibility: See [this][1] older solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1930963/rotating-a-view-in-android/64806125#64806125","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>Contrary to your statement, <code>margin</code> works for me:</p>\n<pre><code>&lt;button\n      android:id=&quot;@+id/button&quot;\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_marginLeft=&quot;-65dp&quot;\n      android:rotation=&quot;90&quot;\n      android:text=&quot;My example button&quot;\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\n      app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>If you want to make the shift programmatically, the following solution also works for me:</p>\n<pre><code>button.setTranslationX(-195f);  // in pixels\n</code></pre>\n<p>Third possibility: See <a href=\"https://stackoverflow.com/questions/1930963/rotating-a-view-in-android/64806125#64806125\">this</a> older solution.</p>\n"},{"tags":[],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700801088,"creation_date":1700801088,"answer_id":77540779,"question_id":77531770,"body_markdown":"I had commented before about using translate X property. Now I&#39;m posting Java code for the same.\r\n``` Java\r\nbutton.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n  @Override\r\n  public void onGlobalLayout() {\r\n    int buttonWidth = button.getWidth();\r\n    button.setTranslationX(-buttonWidth); \r\n    button.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n  }\r\n});\r\n```\r\nHope this helps.","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>I had commented before about using translate X property. Now I'm posting Java code for the same.</p>\n<pre><code>button.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n  @Override\n  public void onGlobalLayout() {\n    int buttonWidth = button.getWidth();\n    button.setTranslationX(-buttonWidth); \n    button.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n  }\n});\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77533071,"answer_count":3,"score":0,"last_activity_date":1700801088,"creation_date":1700671551,"question_id":77531770,"body_markdown":"*Edit: it is possible to just to use `translateX` (see comments and accepted answer). I don&#39;t know how I missed that.*\r\n\r\nOn Android, I want to rotate a simple button 90 degrees and have it stick against the left side of my ConstraintLayout. However, when I try this, there remains significant space between the left side of the screen and the button. This is what it should look like:\r\n\r\n[![desired outcome][1]][1]\r\n\r\nThis is my XML layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:rotation=&quot;90&quot;\r\n            android:text=&quot;My example button&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd here is the Android Studio design view of what it actually looks like:\r\n\r\n[![wrong outcome][2]][2]\r\n\r\nThis seems to be because the constraints to the left/start (and top and bottom) are applied first, and the rotation second. I have tried programmatically to fix this problem to no avail in Java:\r\n\r\n    Button button = view.findViewById(R.id.button);\r\n    button.setRotation(90); // already done, but doesn&#39;t matter\r\n    \r\n    // constrain to left side after after rotation (doesn&#39;t help)\r\n    ConstraintSet constraintSet = new ConstraintSet();\r\n    constraintSet.clone((ConstraintLayout) view);\r\n    constraintSet.connect(button.getId(), ConstraintSet.START, ConstraintSet.PARENT_ID, ConstraintSet.START);\r\n    constraintSet.applyTo((ConstraintLayout) view);\r\n    \r\n    // attempt to fix positioning with margins (doesn&#39;t move anything at all)\r\n    ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) btnTest.getLayoutParams();\r\n    params.setMargins(-100, 0, 0, -100); // left, top, right, bottom\r\n    btnTest.setLayoutParams(params);\r\n\r\nI also tried changing the margins in the XML layout file, which similarly has absolutely no effect. *Edit: it seems like using negative margins didn&#39;t work in my original project, but it does in a newer test project. I suspect this is caused by using old versions of some libraries (probably the material library which I&#39;m implicitly using through appcompat 1.1.0).*\r\n\r\nDoes anyone know how to achieve the result I want?\r\n\r\nThanks for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZP4Y7.png\r\n  [2]: https://i.stack.imgur.com/USPBj.png","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p><em>Edit: it is possible to just to use <code>translateX</code> (see comments and accepted answer). I don't know how I missed that.</em></p>\n<p>On Android, I want to rotate a simple button 90 degrees and have it stick against the left side of my ConstraintLayout. However, when I try this, there remains significant space between the left side of the screen and the button. This is what it should look like:</p>\n<p><a href=\"https://i.stack.imgur.com/ZP4Y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZP4Y7.png\" alt=\"desired outcome\" /></a></p>\n<p>This is my XML layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:rotation=&quot;90&quot;\n        android:text=&quot;My example button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And here is the Android Studio design view of what it actually looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/USPBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USPBj.png\" alt=\"wrong outcome\" /></a></p>\n<p>This seems to be because the constraints to the left/start (and top and bottom) are applied first, and the rotation second. I have tried programmatically to fix this problem to no avail in Java:</p>\n<pre><code>Button button = view.findViewById(R.id.button);\nbutton.setRotation(90); // already done, but doesn't matter\n\n// constrain to left side after after rotation (doesn't help)\nConstraintSet constraintSet = new ConstraintSet();\nconstraintSet.clone((ConstraintLayout) view);\nconstraintSet.connect(button.getId(), ConstraintSet.START, ConstraintSet.PARENT_ID, ConstraintSet.START);\nconstraintSet.applyTo((ConstraintLayout) view);\n\n// attempt to fix positioning with margins (doesn't move anything at all)\nViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) btnTest.getLayoutParams();\nparams.setMargins(-100, 0, 0, -100); // left, top, right, bottom\nbtnTest.setLayoutParams(params);\n</code></pre>\n<p>I also tried changing the margins in the XML layout file, which similarly has absolutely no effect. <em>Edit: it seems like using negative margins didn't work in my original project, but it does in a newer test project. I suspect this is caused by using old versions of some libraries (probably the material library which I'm implicitly using through appcompat 1.1.0).</em></p>\n<p>Does anyone know how to achieve the result I want?</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"tags":[],"owner":{"account_id":2464420,"reputation":658,"user_id":2147846,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380187835,"creation_date":1380187835,"answer_id":19024417,"question_id":19023833,"body_markdown":"You are almost there. If you want to switch to a window first store the window id&#39;s in an array and switch to some specific window. Some thing like below. Let me know if you want more help. Happy coding.\r\n\r\n    Set handles = driver.getWindowHandles();\r\n    \t\tString[] individualHandle = new String[handles.size()];\r\n    \t\tIterator it = handles.iterator();\r\n    \t\tint i =0;\r\n    \t\twhile(it.hasNext())\r\n    \t\t{\r\n    \t\t\tindividualHandle[i] = (String) it.next();\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\t\r\n    driver.switchTo().window(individualHandle[1]);","title":"Webdriver : How to switch to a specific window?","body":"<p>You are almost there. If you want to switch to a window first store the window id's in an array and switch to some specific window. Some thing like below. Let me know if you want more help. Happy coding.</p>\n\n<pre><code>Set handles = driver.getWindowHandles();\n        String[] individualHandle = new String[handles.size()];\n        Iterator it = handles.iterator();\n        int i =0;\n        while(it.hasNext())\n        {\n            individualHandle[i] = (String) it.next();\n            i++;\n        }\n\ndriver.switchTo().window(individualHandle[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3327555,"reputation":421,"user_id":2797230,"display_name":"NaviSaysListen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380212937,"creation_date":1380212937,"answer_id":19033688,"question_id":19023833,"body_markdown":"    public static void switchWindow(String text) {\r\n        WebDriver popup = null;\r\n        Iterator&lt;String&gt; windowIterator = driver.getWindowHandles()\r\n                .iterator();\r\n        while (windowIterator.hasNext()) {\r\n            String windowHandle = windowIterator.next();\r\n            popup = driver.switchTo().window(windowHandle);\r\n            String title = popup.getTitle();\r\n            if (title.contains(text)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nThis will get you any window that contains certain text, you don&#39;t have to be specific.","title":"Webdriver : How to switch to a specific window?","body":"<pre><code>public static void switchWindow(String text) {\n    WebDriver popup = null;\n    Iterator&lt;String&gt; windowIterator = driver.getWindowHandles()\n            .iterator();\n    while (windowIterator.hasNext()) {\n        String windowHandle = windowIterator.next();\n        popup = driver.switchTo().window(windowHandle);\n        String title = popup.getTitle();\n        if (title.contains(text)) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>This will get you any window that contains certain text, you don't have to be specific.</p>\n"},{"tags":[],"owner":{"account_id":18218514,"reputation":11,"user_id":13259760,"display_name":"Rahul Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611738570,"creation_date":1611735378,"answer_id":65915212,"question_id":19023833,"body_markdown":"The below method will navigate to a particular window \r\n\r\n    public static void switchToParticularWindow(WebDriver driver, int index) throws InterruptedException {\r\n            ArrayList&lt;String&gt; tabs = new ArrayList(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs.get(index));\r\n            Thread.sleep(2000);\r\n            logger.info(&quot;Switched to new tab&quot;);\r\n        }","title":"Webdriver : How to switch to a specific window?","body":"<p>The below method will navigate to a particular window</p>\n<pre><code>public static void switchToParticularWindow(WebDriver driver, int index) throws InterruptedException {\n        ArrayList&lt;String&gt; tabs = new ArrayList(driver.getWindowHandles());\n        driver.switchTo().window(tabs.get(index));\n        Thread.sleep(2000);\n        logger.info(&quot;Switched to new tab&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10298903,"reputation":1,"user_id":7598180,"display_name":"sai ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633937536,"creation_date":1633937536,"answer_id":69522519,"question_id":19023833,"body_markdown":"public class WindowHandles {\r\n\t\r\n\tpublic static WebDriver driver;\r\n\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.way2automation.com/lifetime-membership-club/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\r\n\t\t\r\n\t\tdriver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-25089\\&quot;]/a/span[2]&quot;)).click();\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;ast-desktop-header\\&quot;]/div[1]/div/div/div/div[2]/div/div/div/a[1]&quot;)).click();\r\n\t\t\r\n\t\tSet&lt;String&gt; window = driver.getWindowHandles();\r\n\t\tIterator&lt;String&gt; it =window.iterator();\r\n\t\t\t\t\r\n\t\twhile(it.hasNext())\r\n\t\t{\r\n\t\t\tString childWindow = it.next();\r\n\t\t\tString windowTitle = driver.switchTo().window(childWindow).getTitle();\r\n\t\t\t\r\n\t\t   \r\n\t\t   \r\n\t\t\t if(windowTitle.contains(&quot;Way2Automation&quot;))\r\n\t\t\t    {\r\n\t\t\t    \tbreak;\r\n\t\t\t    \t\r\n\t\t\t    }\t\t\r\n\t\t}\r\n\t    \t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;blueBarDOMInspector\\&quot;]/div/div/div/div[1]/a&quot;)).click();\r\n\t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\r\n\t}\r\n\r\n}","title":"Webdriver : How to switch to a specific window?","body":"<p>public class WindowHandles {</p>\n<pre><code>public static WebDriver driver;\n\n\npublic static void main(String[] args) throws InterruptedException {\n    // TODO Auto-generated method stub\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.get(&quot;https://www.way2automation.com/lifetime-membership-club/&quot;);\n    driver.manage().window().maximize();\n\n    \n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n    \n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-25089\\&quot;]/a/span[2]&quot;)).click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;ast-desktop-header\\&quot;]/div[1]/div/div/div/div[2]/div/div/div/a[1]&quot;)).click();\n    \n    Set&lt;String&gt; window = driver.getWindowHandles();\n    Iterator&lt;String&gt; it =window.iterator();\n            \n    while(it.hasNext())\n    {\n        String childWindow = it.next();\n        String windowTitle = driver.switchTo().window(childWindow).getTitle();\n        \n       \n       \n         if(windowTitle.contains(&quot;Way2Automation&quot;))\n            {\n                break;\n                \n            }       \n    }\n            \n    System.out.println(driver.getTitle());\n    \n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;blueBarDOMInspector\\&quot;]/div/div/div/div[1]/a&quot;)).click();\n    \n    System.out.println(driver.getTitle());\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10785233,"reputation":3,"user_id":7934438,"display_name":"Dhanaprabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700800034,"creation_date":1700800034,"answer_id":77540730,"question_id":19023833,"body_markdown":"You can use the following code to switch to a Specific window by Index.\r\n \r\n\r\n    // Get all window handles\r\n            Set&lt;String&gt; windowHandles = driver.getWindowHandles();\r\n    \r\n    // Switch to the nth window (assuming n is the index of the window you want to switch to)\r\n            int n = 1;  // Replace with the desired window index\r\n            String[] handles = windowHandles.toArray(new String[0]);\r\n            driver.switchTo().window(handles[n]);","title":"Webdriver : How to switch to a specific window?","body":"<p>You can use the following code to switch to a Specific window by Index.</p>\n<pre><code>// Get all window handles\n        Set&lt;String&gt; windowHandles = driver.getWindowHandles();\n\n// Switch to the nth window (assuming n is the index of the window you want to switch to)\n        int n = 1;  // Replace with the desired window index\n        String[] handles = windowHandles.toArray(new String[0]);\n        driver.switchTo().window(handles[n]);\n</code></pre>\n"}],"owner":{"account_id":1646795,"reputation":57,"user_id":1518196,"accept_rate":25,"display_name":"MCKiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1700800034,"creation_date":1380186296,"question_id":19023833,"body_markdown":"I came across many solutions for switching between windows, one of them is:\r\n\r\n    Set&lt;String&gt; allWindows = driver.getWindowHandles();\r\n    for(String currentWindow : allWindows){\r\n       driver.switchTo().window(currentWindow);\r\n    }\r\n\r\nBut, I am unable to go to a particular window. Can someone tell me how to switch to 3rd window from parent window (using java client library)?","title":"Webdriver : How to switch to a specific window?","body":"<p>I came across many solutions for switching between windows, one of them is:</p>\n\n<pre><code>Set&lt;String&gt; allWindows = driver.getWindowHandles();\nfor(String currentWindow : allWindows){\n   driver.switchTo().window(currentWindow);\n}\n</code></pre>\n\n<p>But, I am unable to go to a particular window. Can someone tell me how to switch to 3rd window from parent window (using java client library)?</p>\n"},{"tags":["java","arrays","instance"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700802803,"post_id":77535824,"comment_id":136700278,"body_markdown":"`d` is a two dimensional array. What happens when any object (or array) is stored in a two dimensional array as its element?","body":"<code>d</code> is a two dimensional array. What happens when any object (or array) is stored in a two dimensional array as its element?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700802905,"post_id":77535824,"comment_id":136700286,"body_markdown":"`a` is _not_ an instance member. It is called as class or static member.","body":"<code>a</code> is <i>not</i> an instance member. It is called as class or static member."},{"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"score":0,"creation_date":1700808850,"post_id":77535824,"comment_id":136700803,"body_markdown":"Hi prasad_,  ok, makes sense with the two dimensional array.  So &#39;b&#39; is the first array in the &#39;d&#39; two dimensional array.  That&#39;s why I get the output one in the &#39;Main&#39; class. I am wondering how is it possible in opening the &#39;d&#39; array in the &#39;Main&#39; class to find out what&#39;s inside &#39;b&#39; array?","body":"Hi prasad_,  ok, makes sense with the two dimensional array.  So &#39;b&#39; is the first array in the &#39;d&#39; two dimensional array.  That&#39;s why I get the output one in the &#39;Main&#39; class. I am wondering how is it possible in opening the &#39;d&#39; array in the &#39;Main&#39; class to find out what&#39;s inside &#39;b&#39; array?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700811337,"post_id":77535824,"comment_id":136701154,"body_markdown":"See if this helps [https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html).","body":"See if this helps <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/ar&zwnj;&#8203;rays.html</a>."},{"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"score":0,"creation_date":1700819256,"post_id":77535824,"comment_id":136702441,"body_markdown":"@prasad_ I looked at the web you sent me. It was ok, but no way of passing the static member.  So I searched some more info on passing 2D arrays.  I stumbled upon one web but would not work well,  unless I did not see the code well.  I will check it once more.  https://stackoverflow.com/questions/11205901/passing-a-2d-array-into-another-class-java","body":"@prasad_ I looked at the web you sent me. It was ok, but no way of passing the static member.  So I searched some more info on passing 2D arrays.  I stumbled upon one web but would not work well,  unless I did not see the code well.  I will check it once more.  <a href=\"https://stackoverflow.com/questions/11205901/passing-a-2d-array-into-another-class-java\" title=\"passing a 2d array into another class java\">stackoverflow.com/questions/11205901/&hellip;</a>"}],"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700800009,"creation_date":1700732816,"question_id":77535824,"body_markdown":"I created two classes. They both work together.  Simply, once you execute the &#39;Main&#39; class, one global array (instance member) called &#39;public static int[] a = {1, 2, 3, 4, 5};&#39; from the &#39;NewClass1&#39; class, passes over to the &#39;Main&#39; class.  In the &#39;Main&#39; class, it outputs the number five. This specifies that there are five numbers from the &#39;a&#39; array (NewClass1). \r\n\r\nThe issue is that once you alter the int array from the &#39;Main&#39; class, using the &#39;int e = NewClass1.d.length;&#39; instead of the other array, &#39;int e = NewClass1.a.length;&#39; it outputs the number one. That is where I get lost.  I would say that the answer should be five, similar to the original answer. The only understanding I get would be that all the global arrays in the NewClass1 class get executed first, meaning passing the arrays from the beginning of the program to the other class. This does not have enough time to store anything from the calculations in the main program below. \r\n\r\nWould that be right? If so, would there be a way to make the global array  &#39;public static int[] d[] = {b};&#39; to be calculated before being passed over to the other class &#39;Main&#39;?  \r\n\r\n\r\n\r\n```\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n        public static void main (String[]args)\r\n        {\r\n        int e = NewClass1.a.length;\r\n        //int e = NewClass1.d.length;\r\n        System.out.println (e);\r\n        }\r\n    }\r\n\r\n\r\n    import java.util.*;\r\n    public class NewClass1 \r\n    {\r\n        public static int[] a = { 1, 2, 3, 4, 5 };\r\n        public static int[] b = new int[5];\r\n        public static int[] d[] = { b };\r\n\r\n        public static void main (String[]args)\r\n        {\r\n            System.out.println (&quot;TEST&quot;);\r\n            for (int c = 0; c &lt; a.length; c++)\r\n            {\r\n\t        b[c] = a[c] + 7;\r\n            }\r\n            System.out.println (&quot;New numbers: &quot; + Arrays.toString (b));\r\n\r\n        }\r\n    }\r\n\r\n```\r\n\r\n","title":"Can you calculate a global array (instance member) before passing it to another class?","body":"<p>I created two classes. They both work together.  Simply, once you execute the 'Main' class, one global array (instance member) called 'public static int[] a = {1, 2, 3, 4, 5};' from the 'NewClass1' class, passes over to the 'Main' class.  In the 'Main' class, it outputs the number five. This specifies that there are five numbers from the 'a' array (NewClass1).</p>\n<p>The issue is that once you alter the int array from the 'Main' class, using the 'int e = NewClass1.d.length;' instead of the other array, 'int e = NewClass1.a.length;' it outputs the number one. That is where I get lost.  I would say that the answer should be five, similar to the original answer. The only understanding I get would be that all the global arrays in the NewClass1 class get executed first, meaning passing the arrays from the beginning of the program to the other class. This does not have enough time to store anything from the calculations in the main program below.</p>\n<p>Would that be right? If so, would there be a way to make the global array  'public static int[] d[] = {b};' to be calculated before being passed over to the other class 'Main'?</p>\n<pre><code>    import java.util.*;\n    public class Main\n    {\n        public static void main (String[]args)\n        {\n        int e = NewClass1.a.length;\n        //int e = NewClass1.d.length;\n        System.out.println (e);\n        }\n    }\n\n\n    import java.util.*;\n    public class NewClass1 \n    {\n        public static int[] a = { 1, 2, 3, 4, 5 };\n        public static int[] b = new int[5];\n        public static int[] d[] = { b };\n\n        public static void main (String[]args)\n        {\n            System.out.println (&quot;TEST&quot;);\n            for (int c = 0; c &lt; a.length; c++)\n            {\n            b[c] = a[c] + 7;\n            }\n            System.out.println (&quot;New numbers: &quot; + Arrays.toString (b));\n\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","if-statement","branch"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1700802742,"post_id":77540712,"comment_id":136700271,"body_markdown":"If the code block after ‘if’ is bigger than 3-4 lines,consider refactoring it to method ‘validateIfPresent’ followed by ‘executeIfAbsent’ …. with if check inside it","body":"If the code block after ‘if’ is bigger than 3-4 lines,consider refactoring it to method ‘validateIfPresent’ followed by ‘executeIfAbsent’ …. with if check inside it"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700810476,"post_id":77540712,"comment_id":136701011,"body_markdown":"Nested `if` blocks, for example: `if (condition1IsTrue) { /* do whatever... */ if (condition2IsTrue) { /* do whatever... */ if (condition3IsTrue) { /* do whatever... */ if (condition4IsTrue) { /* do whatever... */ } } } }`.","body":"Nested <code>if</code> blocks, for example: <code>if (condition1IsTrue) { &#47;* do whatever... *&#47; if (condition2IsTrue) { &#47;* do whatever... *&#47; if (condition3IsTrue) { &#47;* do whatever... *&#47; if (condition4IsTrue) { &#47;* do whatever... *&#47; } } } }</code>."}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1700802524,"answer_count":0,"score":1,"last_activity_date":1700799757,"creation_date":1700799757,"question_id":77540712,"body_markdown":"Suppose you have 4 conditions exclusive from each other and you want to execute every branch if the corresponding condition is met.How do you do this?","title":"Exclusive conditions and execution of branches","body":"<p>Suppose you have 4 conditions exclusive from each other and you want to execute every branch if the corresponding condition is met.How do you do this?</p>\n"},{"tags":["java","multithreading","jvm","tomcat7","tomcat8"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700764922,"post_id":77538847,"comment_id":136697213,"body_markdown":"The message “has been interrupted because it was active for     129,456,677 milliseconds” suggests that the assumption that the thread hangs is just a guess because whoever implemented this check could not imagine that an operation takes that long. However, this is not a proof that the thread truly hangs. And if it it doesn’t hang, finding it in the method `getCallerClass` when peeking into the stack trace after 129,456,677 milliseconds might be mere coincidence.","body":"The message “has been interrupted because it was active for     129,456,677 milliseconds” suggests that the assumption that the thread hangs is just a guess because whoever implemented this check could not imagine that an operation takes that long. However, this is not a proof that the thread truly hangs. And if it it doesn’t hang, finding it in the method <code>getCallerClass</code> when peeking into the stack trace after 129,456,677 milliseconds might be mere coincidence."},{"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"score":0,"creation_date":1700803859,"post_id":77538847,"comment_id":136700354,"body_markdown":"Usually we don&#39;t see such logs, this is unusual case. I want to understand what was a reason of long running or stucked thread","body":"Usually we don&#39;t see such logs, this is unusual case. I want to understand what was a reason of long running or stucked thread"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700814884,"post_id":77538847,"comment_id":136701709,"body_markdown":"That’s the wrong question. As said, we don’t know whether the thread is really stuck or whether it is extraordinarily long running. How long do these threads run normally? What part of the software implemented this check &amp; warning and what heuristic does it use? Why is running for a day and 11 hours (apparently) fine but running for a day, 11 hours, and 57&#189; minutes considered a problem? There should be a documentation about this warning and its rationale somewhere.","body":"That’s the wrong question. As said, we don’t know whether the thread is really stuck or whether it is extraordinarily long running. How long do these threads run normally? What part of the software implemented this check &amp; warning and what heuristic does it use? Why is running for a day and 11 hours (apparently) fine but running for a day, 11 hours, and 57&#189; minutes considered a problem? There should be a documentation about this warning and its rationale somewhere."},{"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"score":0,"creation_date":1700838591,"post_id":77538847,"comment_id":136705650,"body_markdown":"In tomcat there is settings StuckThreadDetectionValve in server.xml and it is set to 4 second. So if the thread takes longer than 4 sec happening interruption by tomcat. In our case interruption happened after long time. What was a reason for that?","body":"In tomcat there is settings StuckThreadDetectionValve in server.xml and it is set to 4 second. So if the thread takes longer than 4 sec happening interruption by tomcat. In our case interruption happened after long time. What was a reason for that?"}],"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700799419,"creation_date":1700761699,"question_id":77538847,"body_markdown":"I encountered stucked threads in tomcat logs.\r\nWe use java version 7.\r\n\r\nThe last 2 lines of stacktrace:\r\n\r\n```\r\nAug 30, 2023 8:09:59 PM org.apache.catalina.valves.StuckThreadDetectionValve$MonitoredThread     interruptIfStuck\r\nARNING: Thread &quot;ajp-apr-8280-exec-33&quot; (id=990) has been interrupted because it was active for     129,456,677 milliseconds ...\r\n    java.lang.Throwable\r\n         at sun.reflect.Reflection.getCallerClass(Native Method)\r\n         at java.lang.Class.getMethods(Class.java:1479)\r\n          ...\r\n```\r\n     \r\n\r\nWhy did the threads stuck?\r\n\r\nRestarting tomcat helped.","title":"Threads hang on getCallerClass (Native method)","body":"<p>I encountered stucked threads in tomcat logs.\nWe use java version 7.</p>\n<p>The last 2 lines of stacktrace:</p>\n<pre><code>Aug 30, 2023 8:09:59 PM org.apache.catalina.valves.StuckThreadDetectionValve$MonitoredThread     interruptIfStuck\nARNING: Thread &quot;ajp-apr-8280-exec-33&quot; (id=990) has been interrupted because it was active for     129,456,677 milliseconds ...\n    java.lang.Throwable\n         at sun.reflect.Reflection.getCallerClass(Native Method)\n         at java.lang.Class.getMethods(Class.java:1479)\n          ...\n</code></pre>\n<p>Why did the threads stuck?</p>\n<p>Restarting tomcat helped.</p>\n"},{"tags":["java","jfr"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700754987,"post_id":77538181,"comment_id":136695672,"body_markdown":"`certain long running jobs` Normally this would be a task, not a thread.  Tasks are run by generic threads (as in &quot;any old thread,&quot; like from a thread pool), so it shouldn&#39;t be bound to a specific thread.  So do you actually need to trigger on a specific task, then record that thread?  I&#39;m not an expert on JFR, but that does strike me as potentially important.","body":"<code>certain long running jobs</code> Normally this would be a task, not a thread.  Tasks are run by generic threads (as in &quot;any old thread,&quot; like from a thread pool), so it shouldn&#39;t be bound to a specific thread.  So do you actually need to trigger on a specific task, then record that thread?  I&#39;m not an expert on JFR, but that does strike me as potentially important."}],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700799250,"creation_date":1700759230,"answer_id":77538642,"question_id":77538181,"body_markdown":"It&#39;s not possible to prefilter JDK/JVM events per thread. The best you can do is filter it afterwards, for example:\r\n\r\n    $ jfr scrub --include-threads main recording.jfr\r\n\r\nThat way you can keep down the file size, but it won&#39;t reduce the overhead. You can also do it programmatically using the [RecordingFile.write][1] method.\r\n\r\nFiltering can be done on recordings from JDK 11, or later, even though the API and scrub command only exist in JDK 19+.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)","title":"Record only a single thread in JDK Flight Recorder","body":"<p>It's not possible to prefilter JDK/JVM events per thread. The best you can do is filter it afterwards, for example:</p>\n<pre><code>$ jfr scrub --include-threads main recording.jfr\n</code></pre>\n<p>That way you can keep down the file size, but it won't reduce the overhead. You can also do it programmatically using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)\" rel=\"nofollow noreferrer\">RecordingFile.write</a> method.</p>\n<p>Filtering can be done on recordings from JDK 11, or later, even though the API and scrub command only exist in JDK 19+.</p>\n"}],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77538642,"answer_count":1,"score":3,"last_activity_date":1700799250,"creation_date":1700754738,"question_id":77538181,"body_markdown":"I&#39;m looking for a way to record only a single thread in a JDK Flight Recording. I&#39;m using the [jdk.jfr.Recording](https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Recording.html) API to create a flight recording but do not find a way to limit the events only to a single thread.\r\n\r\nI know I can restrict to a single thread afterwards in JMC but I would like to configure this before hand to keep the file size to a minimum and make analysis easier.\r\n\r\nThe use case I have for this is:\r\n\r\nI&#39;m dealing with a multi threaded system where multiple jobs run in parallel. For certain long running jobs I would like to create a flight recording on demand. To make analysis easier and keep the file size to a minimum I would like only one single thread to be recorded.","title":"Record only a single thread in JDK Flight Recorder","body":"<p>I'm looking for a way to record only a single thread in a JDK Flight Recording. I'm using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Recording.html\" rel=\"nofollow noreferrer\">jdk.jfr.Recording</a> API to create a flight recording but do not find a way to limit the events only to a single thread.</p>\n<p>I know I can restrict to a single thread afterwards in JMC but I would like to configure this before hand to keep the file size to a minimum and make analysis easier.</p>\n<p>The use case I have for this is:</p>\n<p>I'm dealing with a multi threaded system where multiple jobs run in parallel. For certain long running jobs I would like to create a flight recording on demand. To make analysis easier and keep the file size to a minimum I would like only one single thread to be recorded.</p>\n"},{"tags":["java","sonarqube","code-duplication"],"answers":[{"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536915981,"creation_date":1536915981,"answer_id":52328566,"question_id":52328023,"body_markdown":"You can **resolve** the issue **as false positive**. This will make this issue disappear from your dashboard:\r\n\r\n - Select the issue\r\n - Click on Bulk change &gt; Selected issue(s)\r\n - Choose Transition, Resolve as false positive\r\n - Apply\r\n\r\nThat&#39;s it.\r\n\r\n","title":"Exclude Sonarqube&#39;s duplicate code check between two specific classes","body":"<p>You can <strong>resolve</strong> the issue <strong>as false positive</strong>. This will make this issue disappear from your dashboard:</p>\n\n<ul>\n<li>Select the issue</li>\n<li>Click on Bulk change > Selected issue(s)</li>\n<li>Choose Transition, Resolve as false positive</li>\n<li>Apply</li>\n</ul>\n\n<p>That's it.</p>\n"}],"owner":{"account_id":172136,"reputation":639,"user_id":399971,"accept_rate":41,"display_name":"Fischer Ludrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11251,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1700798680,"creation_date":1536914181,"question_id":52328023,"body_markdown":"I use Sonarqube with Jenkins to check various violations. There are two classes, `A` and `B`, that have a lot of duplicated code. I know that and accept that. Therefore, I&#39;d like to ignore these violations. However, I still want to be informed about the duplicated code from other classes, like C. I just want to ignore the duplicated code between `A` and `B`. How can I do that?","title":"Exclude Sonarqube&#39;s duplicate code check between two specific classes","body":"<p>I use Sonarqube with Jenkins to check various violations. There are two classes, <code>A</code> and <code>B</code>, that have a lot of duplicated code. I know that and accept that. Therefore, I'd like to ignore these violations. However, I still want to be informed about the duplicated code from other classes, like C. I just want to ignore the duplicated code between <code>A</code> and <code>B</code>. How can I do that?</p>\n"},{"tags":["java","jaxb"],"owner":{"account_id":29608449,"reputation":1,"user_id":22692291,"display_name":"Patrick Starfish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700798050,"creation_date":1700798050,"question_id":77540627,"body_markdown":"I want to modify jmeter script which is an xml file via java application. so it has large amount of properties that could be configured but I only want to modify some parts of it.\r\n\r\nI use JAXB and I created a model that only map 1 property that i&#39;m interested which is `variableThroughputTimer`.\r\n\r\n```\r\n@Data\r\n@XmlRootElement(name = &quot;hashTree&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class JmeterConfig {\r\n\r\n    @XmlElement(name = &quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot;)\r\n    private VariableThroughputTimer variableThroughputTimer;\r\n\r\n}\r\n```\r\n\r\nthe actual xml file\r\n```\r\n&lt;hashTree&gt;\r\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\r\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\r\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n        &lt;/collectionProp&gt;\r\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\r\n    &lt;HTTPSamplerProxy guiclass=&quot;HttpTestSampleGui&quot; testclass=&quot;HTTPSamplerProxy&quot; testname=&quot;1. test something&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.postBodyRaw&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.domain&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.port&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.protocol&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.contentEncoding&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.path&quot;&gt;/some-api&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.method&quot;&gt;POST&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.follow_redirects&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.auto_redirects&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.use_keepalive&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.DO_MULTIPART_POST&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.embedded_url_re&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.connect_timeout&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.response_timeout&quot;&gt;&lt;/stringProp&gt;\r\n    &lt;/HTTPSamplerProxy&gt;\r\n&lt;/hashTree&gt;\r\n```\r\n\r\nEveything works fine until I saved the file back to the xml. Now since it doesnt have `HTTPSamplerProxy` property so it writes the file with `VariableThroughputTimer` only.\r\n\r\nThe result\r\n\r\n```\r\n&lt;hashTree&gt;\r\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\r\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\r\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n        &lt;/collectionProp&gt;\r\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\r\n&lt;/hashTree&gt;\r\n```\r\n\r\nso is it possible to read some part of an xml file, modify it and save it back without touching the existing property. one solution that I can think of is to create a model that cover the whole properties of xml file but that&#39;s a lot of work to do.\r\n\r\nthis is my service for reading and writing xml.\r\n```\r\n\r\n@Component\r\npublic class JmeterConfigurationConverter {\r\n    public JmeterConfig read() throws JAXBException, FileNotFoundException {\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\r\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\r\n        return (JmeterConfig) jaxbUnmarshaller.unmarshal(file);\r\n    }\r\n\r\n    public void save(JmeterConfig jmeterConfig) throws JAXBException, IOException {\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\r\n        Marshaller jaxbUnmarshaller = jaxbContext.createMarshaller();\r\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\r\n        FileOutputStream opt = new FileOutputStream(file);\r\n        jaxbUnmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n        jaxbUnmarshaller.marshal(jmeterConfig, opt);\r\n        opt.close();\r\n    }\r\n}\r\n```\r\n","title":"How to read some part of an xml, and update to the actual xml file","body":"<p>I want to modify jmeter script which is an xml file via java application. so it has large amount of properties that could be configured but I only want to modify some parts of it.</p>\n<p>I use JAXB and I created a model that only map 1 property that i'm interested which is <code>variableThroughputTimer</code>.</p>\n<pre><code>@Data\n@XmlRootElement(name = &quot;hashTree&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class JmeterConfig {\n\n    @XmlElement(name = &quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot;)\n    private VariableThroughputTimer variableThroughputTimer;\n\n}\n</code></pre>\n<p>the actual xml file</p>\n<pre><code>&lt;hashTree&gt;\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n        &lt;/collectionProp&gt;\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\n    &lt;HTTPSamplerProxy guiclass=&quot;HttpTestSampleGui&quot; testclass=&quot;HTTPSamplerProxy&quot; testname=&quot;1. test something&quot; enabled=&quot;true&quot;&gt;\n        &lt;boolProp name=&quot;HTTPSampler.postBodyRaw&quot;&gt;true&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.domain&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.port&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.protocol&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.contentEncoding&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.path&quot;&gt;/some-api&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.method&quot;&gt;POST&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.follow_redirects&quot;&gt;true&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.auto_redirects&quot;&gt;false&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.use_keepalive&quot;&gt;true&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.DO_MULTIPART_POST&quot;&gt;false&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.embedded_url_re&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.connect_timeout&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.response_timeout&quot;&gt;&lt;/stringProp&gt;\n    &lt;/HTTPSamplerProxy&gt;\n&lt;/hashTree&gt;\n</code></pre>\n<p>Eveything works fine until I saved the file back to the xml. Now since it doesnt have <code>HTTPSamplerProxy</code> property so it writes the file with <code>VariableThroughputTimer</code> only.</p>\n<p>The result</p>\n<pre><code>&lt;hashTree&gt;\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n        &lt;/collectionProp&gt;\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\n&lt;/hashTree&gt;\n</code></pre>\n<p>so is it possible to read some part of an xml file, modify it and save it back without touching the existing property. one solution that I can think of is to create a model that cover the whole properties of xml file but that's a lot of work to do.</p>\n<p>this is my service for reading and writing xml.</p>\n<pre><code>\n@Component\npublic class JmeterConfigurationConverter {\n    public JmeterConfig read() throws JAXBException, FileNotFoundException {\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\n        return (JmeterConfig) jaxbUnmarshaller.unmarshal(file);\n    }\n\n    public void save(JmeterConfig jmeterConfig) throws JAXBException, IOException {\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\n        Marshaller jaxbUnmarshaller = jaxbContext.createMarshaller();\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\n        FileOutputStream opt = new FileOutputStream(file);\n        jaxbUnmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        jaxbUnmarshaller.marshal(jmeterConfig, opt);\n        opt.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","imageicon"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700804703,"post_id":77540592,"comment_id":136700436,"body_markdown":"Are you running on Windows with a monitor resolution &gt; 100%?","body":"Are you running on Windows with a monitor resolution &gt; 100%?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700804884,"post_id":77540592,"comment_id":136700456,"body_markdown":"This could be issues with your image itself","body":"This could be issues with your image itself"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700804930,"post_id":77540592,"comment_id":136700461,"body_markdown":"[Here&#39;s a similar question](https://stackoverflow.com/questions/69285911/low-quality-image-icon).","body":"<a href=\"https://stackoverflow.com/questions/69285911/low-quality-image-icon\">Here&#39;s a similar question</a>."}],"owner":{"account_id":29979800,"reputation":1,"user_id":22975064,"display_name":"Louis Vincent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700797276,"creation_date":1700797276,"question_id":77540592,"body_markdown":"In java, why is it that when I import an image and convert it to ImageIcon and display it using JLabel or JButton, it results to a low definition image where I can see the pixels at the edges of my images\r\n\r\nTo solve the low definition display of ImageIcon","title":"Java ImageIcon Low Definition Display","body":"<p>In java, why is it that when I import an image and convert it to ImageIcon and display it using JLabel or JButton, it results to a low definition image where I can see the pixels at the edges of my images</p>\n<p>To solve the low definition display of ImageIcon</p>\n"},{"tags":["java","android","kotlin","parcel"],"answers":[{"tags":[],"owner":{"account_id":51942,"reputation":40143,"user_id":155213,"accept_rate":83,"display_name":"miensol"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1463909922,"creation_date":1463909475,"answer_id":37372606,"question_id":37372435,"body_markdown":"In Kotlin [classes and members are final by default](https://kotlinlang.org/docs/reference/classes.html#wait-how-will-i-hack-my-libraries-now). In other words the following declarations have the same bytecode:\r\n\r\n    @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\r\n    @JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\r\n\r\nSo while the generated code has `final` keyword and it is not an error it is redundant.\r\n\r\nEven though classes and members are final by default there are still a need for `final` modifier in Kotlin. One example would be to mark `open` method as `final` in derived class:\r\n\r\n    open class Base {\r\n        open fun test(){}\r\n    }\r\n    \r\n    open class DerivedA : Base(){\r\n        final override fun test(){}\r\n    }\r\n    \r\n    class DerivedB : DerivedA() {\r\n        override fun test(){} //error: &#39;test&#39; in &#39;DerivedA&#39; is final and cannot be overriden\r\n    }\r\n\r\nWhile it&#39;s a good practice to make `public static` field `final` in java there&#39;s [no strict requirement for the `Parccelable.Creator` field](https://developer.android.com/reference/android/os/Parcelable.html) to be marked as such:\r\n\r\n&gt; Classes implementing the Parcelable interface must also have a\r\n&gt; non-null static field called CREATOR of a type that implements the\r\n&gt; Parcelable.Creator interface.","title":"Kotlin android parcelable","body":"<p>In Kotlin <a href=\"https://kotlinlang.org/docs/reference/classes.html#wait-how-will-i-hack-my-libraries-now\" rel=\"noreferrer\">classes and members are final by default</a>. In other words the following declarations have the same bytecode:</p>\n\n<pre><code>@JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\n@JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\n</code></pre>\n\n<p>So while the generated code has <code>final</code> keyword and it is not an error it is redundant.</p>\n\n<p>Even though classes and members are final by default there are still a need for <code>final</code> modifier in Kotlin. One example would be to mark <code>open</code> method as <code>final</code> in derived class:</p>\n\n<pre><code>open class Base {\n    open fun test(){}\n}\n\nopen class DerivedA : Base(){\n    final override fun test(){}\n}\n\nclass DerivedB : DerivedA() {\n    override fun test(){} //error: 'test' in 'DerivedA' is final and cannot be overriden\n}\n</code></pre>\n\n<p>While it's a good practice to make <code>public static</code> field <code>final</code> in java there's <a href=\"https://developer.android.com/reference/android/os/Parcelable.html\" rel=\"noreferrer\">no strict requirement for the <code>Parccelable.Creator</code> field</a> to be marked as such:</p>\n\n<blockquote>\n  <p>Classes implementing the Parcelable interface must also have a\n  non-null static field called CREATOR of a type that implements the\n  Parcelable.Creator interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4394677,"reputation":15418,"user_id":4034572,"display_name":"Albert Vila Calvo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591026498,"creation_date":1556886089,"answer_id":55969730,"question_id":37372435,"body_markdown":"In Kotlin you can use the `@Parcelize` Kotlin Android Extension:\r\n\r\n\r\n```\r\n@Parcelize\r\ndata class User(val id: String, val name: String) : Parcelable\r\n```\r\n\r\nThis is a compiler plugin that automatically generates the [Parcelable](https://developer.android.com/reference/android/os/Parcelable) implementation for you.\r\n\r\n[This page](https://kotlinlang.org/docs/reference/compiler-plugins.html#parcelable-implementations-generator) on the Kotlin docs gives more details about it, including requirements, [supported types](https://kotlinlang.org/docs/reference/compiler-plugins.html#supported-types) and how to create [custom parcelers](https://kotlinlang.org/docs/reference/compiler-plugins.html#custom-parcelers) for unsupported types. \r\n\r\n---\r\n\r\nIf you are curious and you want dive into the technical details of the implementation, see the Kotlin Evolution and Enhancement Process [_Compiler Extension to Support `android.os.Parcelable`_](https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md). \r\n\r\n---\r\n\r\nThis feature was [experimental until Kotlin 1.3.40](https://github.com/JetBrains/kotlin/blob/1.3.40/ChangeLog.md#tools-android-extensions). If you are still using a Kotlin version earlier than 1.3.40, you need to enable the experimental features to use this:\r\n\r\n```\r\nandroid {\r\n    // Enable @Parcelize\r\n    // You only need this for Kotlin &lt; 1.3.40\r\n    androidExtensions {\r\n        experimental = true\r\n    }\r\n    ...\r\n}\r\n```","title":"Kotlin android parcelable","body":"<p>In Kotlin you can use the <code>@Parcelize</code> Kotlin Android Extension:</p>\n\n<pre><code>@Parcelize\ndata class User(val id: String, val name: String) : Parcelable\n</code></pre>\n\n<p>This is a compiler plugin that automatically generates the <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">Parcelable</a> implementation for you.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#parcelable-implementations-generator\" rel=\"nofollow noreferrer\">This page</a> on the Kotlin docs gives more details about it, including requirements, <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#supported-types\" rel=\"nofollow noreferrer\">supported types</a> and how to create <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#custom-parcelers\" rel=\"nofollow noreferrer\">custom parcelers</a> for unsupported types. </p>\n\n<hr>\n\n<p>If you are curious and you want dive into the technical details of the implementation, see the Kotlin Evolution and Enhancement Process <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md\" rel=\"nofollow noreferrer\"><em>Compiler Extension to Support <code>android.os.Parcelable</code></em></a>. </p>\n\n<hr>\n\n<p>This feature was <a href=\"https://github.com/JetBrains/kotlin/blob/1.3.40/ChangeLog.md#tools-android-extensions\" rel=\"nofollow noreferrer\">experimental until Kotlin 1.3.40</a>. If you are still using a Kotlin version earlier than 1.3.40, you need to enable the experimental features to use this:</p>\n\n<pre><code>android {\n    // Enable @Parcelize\n    // You only need this for Kotlin &lt; 1.3.40\n    androidExtensions {\n        experimental = true\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583925405,"creation_date":1583923353,"answer_id":60634148,"question_id":37372435,"body_markdown":"Use @Parcelize annotation to data class and extends Parcelable. Kotlin automatically do the rest for you. Example- Person data class.\r\n\r\n    \r\n    @Parcelize\r\n    data class Person(val name: String, val age: Int, val email: String) : Parcelable\r\n\r\nYou can send value lets press on a button click like below from an activity.\r\n\r\n       private val PERSON = &quot;person&quot;\r\n    \r\n       // first ensure a person object with data\r\n       val person = Person(&quot;Shihab Uddin&quot;, 30, &quot;shihab.mi7@gmai.com&quot;)\r\n        \r\n       binding.buttonSend.setOnClickListener {\r\n\r\n            val intent = Intent(this, ReceiveParcelableAcitivty::class.java)\r\n            //then put an parcelable extra to intent \r\n            intent.putExtra(PERSON, person)\r\n            startActivity(intent)\r\n\r\n        }\r\n\r\nReceivers activity will get the data like \r\n\r\n        private val PERSON = &quot;person&quot;\r\n        intent?.let {\r\n            var person = intent.extras.getParcelable(PERSON) as Person\r\n            bind.textViewData.text = &quot; Data Receive: $person&quot;\r\n        }\r\n\r\n**androidExtensions** attribute is no more necessary &lt; kotlin 1.3.40 \r\n\r\n    android {\r\n     \r\n        // You only need this for Kotlin &lt; 1.3.40\r\n        androidExtensions {\r\n            experimental = true\r\n        }\r\n        ...\r\n    }","title":"Kotlin android parcelable","body":"<p>Use @Parcelize annotation to data class and extends Parcelable. Kotlin automatically do the rest for you. Example- Person data class.</p>\n\n<pre><code>@Parcelize\ndata class Person(val name: String, val age: Int, val email: String) : Parcelable\n</code></pre>\n\n<p>You can send value lets press on a button click like below from an activity.</p>\n\n<pre><code>   private val PERSON = \"person\"\n\n   // first ensure a person object with data\n   val person = Person(\"Shihab Uddin\", 30, \"shihab.mi7@gmai.com\")\n\n   binding.buttonSend.setOnClickListener {\n\n        val intent = Intent(this, ReceiveParcelableAcitivty::class.java)\n        //then put an parcelable extra to intent \n        intent.putExtra(PERSON, person)\n        startActivity(intent)\n\n    }\n</code></pre>\n\n<p>Receivers activity will get the data like </p>\n\n<pre><code>    private val PERSON = \"person\"\n    intent?.let {\n        var person = intent.extras.getParcelable(PERSON) as Person\n        bind.textViewData.text = \" Data Receive: $person\"\n    }\n</code></pre>\n\n<p><strong>androidExtensions</strong> attribute is no more necessary &lt; kotlin 1.3.40 </p>\n\n<pre><code>android {\n\n    // You only need this for Kotlin &lt; 1.3.40\n    androidExtensions {\n        experimental = true\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8882163,"reputation":31,"user_id":6631835,"display_name":"tf z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700795430,"creation_date":1700795089,"answer_id":77540515,"question_id":37372435,"body_markdown":"In the latest kotlin and gradle versions (sorry ,i forgot the version number), you need add  \r\n\r\n```\r\nplugins {\r\n     id(&quot;kotlin-parcelize&quot;)\r\n}\r\n```\r\nin this file `build.gradle.kts`( Depends on whether your gradle is kotlin or other)\r\n\r\n now , you can use it.\r\n\r\n```\r\nimport kotlinx.parcelize.Parcelize\r\n\r\n@Parcelize\r\ndata class User(val id: String, val name: String) : Parcelable\r\n```\r\n\r\n\r\n","title":"Kotlin android parcelable","body":"<p>In the latest kotlin and gradle versions (sorry ,i forgot the version number), you need add</p>\n<pre><code>plugins {\n     id(&quot;kotlin-parcelize&quot;)\n}\n</code></pre>\n<p>in this file <code>build.gradle.kts</code>( Depends on whether your gradle is kotlin or other)</p>\n<p>now , you can use it.</p>\n<pre><code>import kotlinx.parcelize.Parcelize\n\n@Parcelize\ndata class User(val id: String, val name: String) : Parcelable\n</code></pre>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9478,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":37372606,"answer_count":4,"score":9,"last_activity_date":1700795430,"creation_date":1463908025,"question_id":37372435,"body_markdown":"I&#39;ve used auto generated feature of android plugin for android studio and it generated me the following code, but I can&#39;t understand why is there need for `final val` for `CREATOR` field ? I see `final` keyword for the first time in kotlin.\r\n\r\n    data class Person(\r\n            val name: String,\r\n            val surname: String\r\n    ) : Parcelable {\r\n        constructor(source: Parcel): this(source.readString(), source.readString())\r\n    \r\n        override fun describeContents(): Int {\r\n            return 0\r\n        }\r\n    \r\n        override fun writeToParcel(dest: Parcel?, flags: Int) {\r\n            dest?.writeString(name)\r\n            dest?.writeString(surname)\r\n        }\r\n    \r\n        companion object {\r\n            @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; {\r\n                override fun createFromParcel(source: Parcel): Person {\r\n                    return Person(source)\r\n                }\r\n    \r\n                override fun newArray(size: Int): Array&lt;Person?&gt; {\r\n                    return arrayOfNulls(size)\r\n                }\r\n            }\r\n        }\r\n    }","title":"Kotlin android parcelable","body":"<p>I've used auto generated feature of android plugin for android studio and it generated me the following code, but I can't understand why is there need for <code>final val</code> for <code>CREATOR</code> field ? I see <code>final</code> keyword for the first time in kotlin.</p>\n\n<pre><code>data class Person(\n        val name: String,\n        val surname: String\n) : Parcelable {\n    constructor(source: Parcel): this(source.readString(), source.readString())\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    override fun writeToParcel(dest: Parcel?, flags: Int) {\n        dest?.writeString(name)\n        dest?.writeString(surname)\n    }\n\n    companion object {\n        @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; {\n            override fun createFromParcel(source: Parcel): Person {\n                return Person(source)\n            }\n\n            override fun newArray(size: Int): Array&lt;Person?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1700779411,"post_id":77539893,"comment_id":136698742,"body_markdown":"`dognames` is an array. `&quot;quit&quot;.equals(dognames)` can never be true. And you negate that. So it&#39;ll loop forever.  Perhaps you wanted `!&quot;quit&quot;.equals(dognames[i])` **note** that then `length` is not `dogweights.length`. It&#39;s `i` where `i` has already gone out of scope.","body":"<code>dognames</code> is an array. <code>&quot;quit&quot;.equals(dognames)</code> can never be true. And you negate that. So it&#39;ll loop forever.  Perhaps you wanted <code>!&quot;quit&quot;.equals(dognames[i])</code> <b>note</b> that then <code>length</code> is not <code>dogweights.length</code>. It&#39;s <code>i</code> where <code>i</code> has already gone out of scope."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700779865,"post_id":77539893,"comment_id":136698781,"body_markdown":"The `.equals` method overridden `.equals (Object o)` in `class Object`. That means the argument passed to `.equals` can be *any* reference type. And an array qualifies as a reference type. This returns `false` because the overridden method of `String` asks if the argument passed is an `instanceof String`. An array of `String` is not a `String`, so the `instanceof` test fails.","body":"The <code>.equals</code> method overridden <code>.equals (Object o)</code> in <code>class Object</code>. That means the argument passed to <code>.equals</code> can be <i>any</i> reference type. And an array qualifies as a reference type. This returns <code>false</code> because the overridden method of <code>String</code> asks if the argument passed is an <code>instanceof String</code>. An array of <code>String</code> is not a <code>String</code>, so the <code>instanceof</code> test fails."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700780555,"post_id":77539893,"comment_id":136698837,"body_markdown":"Even after you fix the problem with comparing a single `String` to an array, you have another problem: Your `for` loop is in a `do ... while` loop. So, you iterate the `for` loop `dogs` number of times. Then, if the last dog name isn&#39;t `quit`, the `do ... while` starts  next iteration, and the `for` loop begins over again. Each iteration of the `for` loop overwrites a `dogNames [i]` and a `dogWeights[i]` from the previous iteration. Use the `for` loop when you know in advance the number of dogs that will have data entered. Use the `while` loop when you don&#39;t know in advance the number of dogs","body":"Even after you fix the problem with comparing a single <code>String</code> to an array, you have another problem: Your <code>for</code> loop is in a <code>do ... while</code> loop. So, you iterate the <code>for</code> loop <code>dogs</code> number of times. Then, if the last dog name isn&#39;t <code>quit</code>, the <code>do ... while</code> starts  next iteration, and the <code>for</code> loop begins over again. Each iteration of the <code>for</code> loop overwrites a <code>dogNames [i]</code> and a <code>dogWeights[i]</code> from the previous iteration. Use the <code>for</code> loop when you know in advance the number of dogs that will have data entered. Use the <code>while</code> loop when you don&#39;t know in advance the number of dogs"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700780912,"post_id":77539893,"comment_id":136698863,"body_markdown":"Off-topic: You don&#39;t need a 2nd `for` loop to calculate average. You can calculate `sum` in the same loop where the dogs&#39; weights are entered.","body":"Off-topic: You don&#39;t need a 2nd <code>for</code> loop to calculate average. You can calculate <code>sum</code> in the same loop where the dogs&#39; weights are entered."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700779877,"creation_date":1700779877,"answer_id":77539954,"question_id":77539893,"body_markdown":"Your exit condition needs adjusting to check *the last* added name, which requires the condition to be with the *scope* of that info - ie *outside* the loop.\r\n\r\nTry this: \r\n\r\n```\r\nString dogname = null;\r\ndo {\r\n    for (int i = 0; i &lt; dogs; i++) {\r\n        System.out.println(&quot;Enter dog name and weight: &quot;);\r\n        dogname = dognames[i] = input.next();\r\n        dogweights[i]=input.nextDouble();\r\n    }\r\n} while(!&quot;quit&quot;.equals(dogname));\r\n```\r\n\r\nNote that you&#39;ll then have to ignore the &quot;quit&quot; name in your array. Consider not using a `do while` and just `break` out on &quot;quit&quot; *before* adding it to the array:\r\n\r\n```\r\nfor (int i = 0; i &lt; dogs; i++) {\r\n    System.out.println(&quot;Enter dog name and weight: &quot;);\r\n    String dogname = input.next();\r\n    if (&quot;quit&quot;.equals(dogname)) {\r\n        break;\r\n    }\r\n    dognames[i] = dogname;\r\n    dogweights[i]=input.nextDouble();\r\n}\r\n``` \r\nWhich also narrows the scope of `dogname`.\r\n","title":"How to end a do while loop with string user input for an array","body":"<p>Your exit condition needs adjusting to check <em>the last</em> added name, which requires the condition to be with the <em>scope</em> of that info - ie <em>outside</em> the loop.</p>\n<p>Try this:</p>\n<pre><code>String dogname = null;\ndo {\n    for (int i = 0; i &lt; dogs; i++) {\n        System.out.println(&quot;Enter dog name and weight: &quot;);\n        dogname = dognames[i] = input.next();\n        dogweights[i]=input.nextDouble();\n    }\n} while(!&quot;quit&quot;.equals(dogname));\n</code></pre>\n<p>Note that you'll then have to ignore the &quot;quit&quot; name in your array. Consider not using a <code>do while</code> and just <code>break</code> out on &quot;quit&quot; <em>before</em> adding it to the array:</p>\n<pre><code>for (int i = 0; i &lt; dogs; i++) {\n    System.out.println(&quot;Enter dog name and weight: &quot;);\n    String dogname = input.next();\n    if (&quot;quit&quot;.equals(dogname)) {\n        break;\n    }\n    dognames[i] = dogname;\n    dogweights[i]=input.nextDouble();\n}\n</code></pre>\n<p>Which also narrows the scope of <code>dogname</code>.</p>\n"},{"tags":[],"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700791992,"creation_date":1700791992,"answer_id":77540389,"question_id":77539893,"body_markdown":"Another approach is to use a while loop, like so:\r\n\r\n    int i = 0;\r\n    \r\n    System.out.println(&quot;Enter dog name and weight: &quot;);\r\n    String dogname = input.next();\r\n    while (i &lt; dogs &amp;&amp; !dogname.equals(&quot;quit&quot;)) {\r\n        dognames[i] = dogname;\r\n        dogweights[i]=input.nextDouble();\r\n        System.out.println(&quot;Enter dog name and weight: &quot;);\r\n        dogname = input.next();\r\n        i++;\r\n    }","title":"How to end a do while loop with string user input for an array","body":"<p>Another approach is to use a while loop, like so:</p>\n<pre><code>int i = 0;\n\nSystem.out.println(&quot;Enter dog name and weight: &quot;);\nString dogname = input.next();\nwhile (i &lt; dogs &amp;&amp; !dogname.equals(&quot;quit&quot;)) {\n    dognames[i] = dogname;\n    dogweights[i]=input.nextDouble();\n    System.out.println(&quot;Enter dog name and weight: &quot;);\n    dogname = input.next();\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700794384,"creation_date":1700794384,"answer_id":77540493,"question_id":77539893,"body_markdown":"First of all it is better to encapsulate all dog&#39;s data within one class:\r\n```java\r\n@Getter\r\n@RequiredArgsConstructor\r\nprivate static final class Dog {\r\n    private final String name;\r\n    private final double weight;\r\n}\r\n```\r\n\r\nThen you should use `for...loop` to iterate over an array and fill it with data from the console.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    scan.useLocale(Locale.US);  // read double correctly\r\n\r\n    System.out.print(&quot;How many dogs: &quot;);\r\n    Dog[] dogs = readDogs(scan.nextInt(), scan);\r\n\r\n    System.out.println();\r\n\r\n    double avgWeight = getAverageWeight(dogs);\r\n    System.out.format(Locale.US, &quot;Average weight: %.2f\\n&quot;, avgWeight);\r\n}\r\n\r\nprivate static Dog[] readDogs(int total, Scanner scan) {\r\n    Dog[] dogs = new Dog[total];\r\n\r\n    for (int i = 0; i &lt; dogs.length; i++) {\r\n        System.out.format(&quot;Dog %d name: &quot;, i + 1);\r\n        scan.nextLine();    // feature of Scanner\r\n        String name = scan.nextLine();\r\n\r\n        System.out.format(&quot;Dog %d weight: &quot;, i + 1);\r\n        double weight = scan.nextDouble();\r\n\r\n        dogs[i] = new Dog(name, weight);\r\n    }\r\n\r\n    return dogs;\r\n}\r\n\r\nprivate static double getAverageWeight(Dog... dogs) {\r\n    return Arrays.stream(dogs)\r\n                 .mapToDouble(Dog::getWeight)\r\n                 .average().orElse(Double.NaN);\r\n}\r\n```","title":"How to end a do while loop with string user input for an array","body":"<p>First of all it is better to encapsulate all dog's data within one class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgsConstructor\nprivate static final class Dog {\n    private final String name;\n    private final double weight;\n}\n</code></pre>\n<p>Then you should use <code>for...loop</code> to iterate over an array and fill it with data from the console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n    scan.useLocale(Locale.US);  // read double correctly\n\n    System.out.print(&quot;How many dogs: &quot;);\n    Dog[] dogs = readDogs(scan.nextInt(), scan);\n\n    System.out.println();\n\n    double avgWeight = getAverageWeight(dogs);\n    System.out.format(Locale.US, &quot;Average weight: %.2f\\n&quot;, avgWeight);\n}\n\nprivate static Dog[] readDogs(int total, Scanner scan) {\n    Dog[] dogs = new Dog[total];\n\n    for (int i = 0; i &lt; dogs.length; i++) {\n        System.out.format(&quot;Dog %d name: &quot;, i + 1);\n        scan.nextLine();    // feature of Scanner\n        String name = scan.nextLine();\n\n        System.out.format(&quot;Dog %d weight: &quot;, i + 1);\n        double weight = scan.nextDouble();\n\n        dogs[i] = new Dog(name, weight);\n    }\n\n    return dogs;\n}\n\nprivate static double getAverageWeight(Dog... dogs) {\n    return Arrays.stream(dogs)\n                 .mapToDouble(Dog::getWeight)\n                 .average().orElse(Double.NaN);\n}\n</code></pre>\n"}],"owner":{"account_id":23854145,"reputation":19,"user_id":17857789,"display_name":"Osprey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700794384,"creation_date":1700778690,"question_id":77539893,"body_markdown":"I am trying to get my do-while loop to end, and I can&#39;t figure out how. The print statement has stopped, but the code after the do-while loop isn&#39;t running.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner input = new Scanner(System.in);\r\n    int dogs;\r\n\r\n    System.out.println(&quot;How many dogs?&quot;);\r\n    dogs = input.nextInt();\r\n\r\n\r\n    String[] dognames = new String[dogs];\r\n    Double[] dogweights = new Double[dogs];\r\n\r\n    do {\r\n        for (int i = 0; i &lt; dogs; i++) {\r\n            System.out.println(&quot;Enter dog name and weight: &quot;);\r\n            dognames[i] = input.next();\r\n            dogweights[i] = input.nextDouble();\r\n        }\r\n    } while ((!&quot;quit&quot;.equals(dognames)));\r\n\r\n\r\n    double length = dogweights.length;\r\n\r\n\r\n    double sum = 0;\r\n\r\n\r\n    for (int i = 0; i &lt; dogweights.length; i++) {\r\n        sum += dogweights[i];\r\n    }\r\n\r\n    double dogweightsaverage = sum / length;\r\n\r\n    System.out.print(&quot;test&quot;);\r\n}\r\n```\r\n\r\nThe loop isn&#39;t finishing, the print statement stopped but the code after the loop isn&#39;t printing","title":"How to end a do while loop with string user input for an array","body":"<p>I am trying to get my do-while loop to end, and I can't figure out how. The print statement has stopped, but the code after the do-while loop isn't running.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner input = new Scanner(System.in);\n    int dogs;\n\n    System.out.println(&quot;How many dogs?&quot;);\n    dogs = input.nextInt();\n\n\n    String[] dognames = new String[dogs];\n    Double[] dogweights = new Double[dogs];\n\n    do {\n        for (int i = 0; i &lt; dogs; i++) {\n            System.out.println(&quot;Enter dog name and weight: &quot;);\n            dognames[i] = input.next();\n            dogweights[i] = input.nextDouble();\n        }\n    } while ((!&quot;quit&quot;.equals(dognames)));\n\n\n    double length = dogweights.length;\n\n\n    double sum = 0;\n\n\n    for (int i = 0; i &lt; dogweights.length; i++) {\n        sum += dogweights[i];\n    }\n\n    double dogweightsaverage = sum / length;\n\n    System.out.print(&quot;test&quot;);\n}\n</code></pre>\n<p>The loop isn't finishing, the print statement stopped but the code after the loop isn't printing</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1700793845,"post_id":77540466,"comment_id":136699727,"body_markdown":"Does this answer your question? [&quot;Expected BEGIN\\_OBJECT but was STRING at line 1 column 1&quot;](https://stackoverflow.com/questions/28418662/expected-begin-object-but-was-string-at-line-1-column-1)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28418662/expected-begin-object-but-was-string-at-line-1-column-1\">&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1700850702,"post_id":77540466,"comment_id":136707291,"body_markdown":"Does this answer your question? [How to serialize Optional&lt;T&gt; classes with Gson?](https://stackoverflow.com/questions/12161366/how-to-serialize-optionalt-classes-with-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12161366/how-to-serialize-optionalt-classes-with-gson\">How to serialize Optional&lt;T&gt; classes with Gson?</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1700850799,"post_id":77540466,"comment_id":136707306,"body_markdown":"This is effectively a duplicate; the underlying issue is that Gson has no built-in adapter for `java.util.Optional` yet so it tries to deserialize it as JSON object instead of just deserializing the wrapped type (`String` in your case).","body":"This is effectively a duplicate; the underlying issue is that Gson has no built-in adapter for <code>java.util.Optional</code> yet so it tries to deserialize it as JSON object instead of just deserializing the wrapped type (<code>String</code> in your case)."}],"owner":{"account_id":26376707,"reputation":11,"user_id":20030539,"display_name":"topinfx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700794072,"creation_date":1700793743,"question_id":77540466,"body_markdown":"This is the error log I&#39;ve gotten when i tried to do `gson.fromJson(bodyString, output);`\r\n\r\n```\r\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 203 path $.pending[1].date\r\n```\r\n\r\nThe json `body` in question is the following:\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;OOOO1234&quot;,\r\n    &quot;pending&quot;: [\r\n        {\r\n            &quot;req_id&quot;: &quot;ABCDF173821-399&quot;,\r\n            &quot;status&quot;: &quot;1&quot;,\r\n            &quot;date&quot;: &quot;2023-11-24&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n`bodyString` is:\r\n```\r\n{\\&quot;id\\&quot;:\\&quot;OOOO1234\\&quot;,\\&quot;pending\\&quot;:[{\\&quot;req_id\\&quot;:\\&quot;ABCDF173821-399\\&quot;,\\&quot;status\\&quot;:\\&quot;1\\&quot;,\\&quot;date\\&quot;:\\&quot;2023-11-24\\&quot;}]}\r\n```\r\n\r\n\r\nAnd here are the `output` java classes:\r\n\r\n```\r\n@Builder\r\n  class Output {\r\n    @SerializedName(&quot;id&quot;)\r\n    @NonNull\r\n    public final String id;\r\n  \r\n    @SerializedName(&quot;pending&quot;)\r\n    public final List&lt;Pending&gt; pending;\r\n  }\r\n    \r\n@Builder\r\n  class Pending {\r\n    @SerializedName(&quot;req_id&quot;)\r\n    public final String reqId;\r\n  \r\n    @SerializedName(&quot;status&quot;)\r\n    public final String status;\r\n  \r\n    @SerializedName(&quot;date&quot;)\r\n    @Builder.Default\r\n    public final Optional&lt;String&gt; date = Optional.empty();\r\n  }\r\n```\r\n\r\nI&#39;m expecting no errors thrown when converting my json body string to my data class.","title":"Why does GSON expect BEGIN_OBJECT when I&#39;ve explicitly defined my variable as STRING?","body":"<p>This is the error log I've gotten when i tried to do <code>gson.fromJson(bodyString, output);</code></p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 203 path $.pending[1].date\n</code></pre>\n<p>The json <code>body</code> in question is the following:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;OOOO1234&quot;,\n    &quot;pending&quot;: [\n        {\n            &quot;req_id&quot;: &quot;ABCDF173821-399&quot;,\n            &quot;status&quot;: &quot;1&quot;,\n            &quot;date&quot;: &quot;2023-11-24&quot;\n        }\n    ]\n}\n</code></pre>\n<p><code>bodyString</code> is:</p>\n<pre><code>{\\&quot;id\\&quot;:\\&quot;OOOO1234\\&quot;,\\&quot;pending\\&quot;:[{\\&quot;req_id\\&quot;:\\&quot;ABCDF173821-399\\&quot;,\\&quot;status\\&quot;:\\&quot;1\\&quot;,\\&quot;date\\&quot;:\\&quot;2023-11-24\\&quot;}]}\n</code></pre>\n<p>And here are the <code>output</code> java classes:</p>\n<pre><code>@Builder\n  class Output {\n    @SerializedName(&quot;id&quot;)\n    @NonNull\n    public final String id;\n  \n    @SerializedName(&quot;pending&quot;)\n    public final List&lt;Pending&gt; pending;\n  }\n    \n@Builder\n  class Pending {\n    @SerializedName(&quot;req_id&quot;)\n    public final String reqId;\n  \n    @SerializedName(&quot;status&quot;)\n    public final String status;\n  \n    @SerializedName(&quot;date&quot;)\n    @Builder.Default\n    public final Optional&lt;String&gt; date = Optional.empty();\n  }\n</code></pre>\n<p>I'm expecting no errors thrown when converting my json body string to my data class.</p>\n"},{"tags":["java","network-programming","datainputstream","dataoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700543848,"post_id":77520133,"comment_id":136664473,"body_markdown":"Which line of code got the exception? NB I would certainly use `BufferedInput/OutputStreams` around those socket streams underneath the `DataInput/OutputStreams`.","body":"Which line of code got the exception? NB I would certainly use <code>BufferedInput&#47;OutputStreams</code> around those socket streams underneath the <code>DataInput&#47;OutputStreams</code>."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700546851,"post_id":77520133,"comment_id":136664737,"body_markdown":"It&#39;s not showing me which line which is weird.  No stack trace.  Can you expand more on your idea or link sample code?","body":"It&#39;s not showing me which line which is weird.  No stack trace.  Can you expand more on your idea or link sample code?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700550126,"post_id":77520133,"comment_id":136665122,"body_markdown":"Err, `new DataInputStream(new BufferedInputStream(socket.getInputStream()))`? and `new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()))`? and *why* is there no stack trace? Can&#39;t you fix that? It&#39;s your code.","body":"Err, <code>new DataInputStream(new BufferedInputStream(socket.getInputStream()))</code>? and <code>new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()))</code>? and <i>why</i> is there no stack trace? Can&#39;t you fix that? It&#39;s your code."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700615389,"post_id":77520133,"comment_id":136675724,"body_markdown":"Yeah was too tired.  Messing with stack trace now.  How does wrapping buffered streams help?  Would love to understand.  Thanks.","body":"Yeah was too tired.  Messing with stack trace now.  How does wrapping buffered streams help?  Would love to understand.  Thanks."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700636454,"post_id":77520133,"comment_id":136677528,"body_markdown":"It helps with performance, as you are making fewer system calls. Impossible to help you further without a stack trace. However I will (1) ask whether you are doing any other I/O with these streams other than as shown above, and if so (2) have you checked it for symmetry; and (3) I will suggest that you could try using `ObjectInput/OutputStream` and `read/writeObject()` instead of `DataInput/OutputStream` and `read/writeUTF()`. That way you still have single-line sends and receives and it will handle small or large strings automatically.","body":"It helps with performance, as you are making fewer system calls. Impossible to help you further without a stack trace. However I will (1) ask whether you are doing any other I/O with these streams other than as shown above, and if so (2) have you checked it for symmetry; and (3) I will suggest that you could try using <code>ObjectInput&#47;OutputStream</code> and <code>read&#47;writeObject()</code> instead of <code>DataInput&#47;OutputStream</code> and <code>read&#47;writeUTF()</code>. That way you still have single-line sends and receives and it will handle small or large strings automatically."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700755388,"post_id":77520133,"comment_id":136695758,"body_markdown":"I added a stack trace.  I changed to Object as you recommended and now my login isnt working.  It just sits stuck at this line (on server side).  \n\n\t\t\t\t\t\t//v1./v2. unable to do longer strings, 65535 length limit &amp;&amp; getting random disconnects - java.io.EOFException\n\t\t\t\t\t\t//DataInputStream commandIn = new DataInputStream(sslSocket.getInputStream()); //create input-stream for a command socket\n\t\t\t\t\t\t//v3. use object intput/output stream\n\t\t\t\t\t\tObjectInputStream commandIn = new ObjectInputStream(sslSocket.getInputStream()); //create input-stream for a command socket","body":"I added a stack trace.  I changed to Object as you recommended and now my login isnt working.  It just sits stuck at this line (on server side).    \t\t\t\t\t\t//v1./v2. unable to do longer strings, 65535 length limit &amp;&amp; getting random disconnects - java.io.EOFException \t\t\t\t\t\t//DataInputStream commandIn = new DataInputStream(sslSocket.getInputStream()); //create input-stream for a command socket \t\t\t\t\t\t//v3. use object intput/output stream \t\t\t\t\t\tObjectInputStream commandIn = new ObjectInputStream(sslSocket.getInputStream()); //create input-stream for a command socket"},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700756621,"post_id":77520133,"comment_id":136695950,"body_markdown":"Flipped the order of the ObjectOutputStream and ObjectInputStream and now it works.  Seems like a deadlock maybe per this post (https://stackoverflow.com/questions/21075453/objectinputstream-from-socket-getinputstream)... will do some testing and see if it stops the random disconnects","body":"Flipped the order of the ObjectOutputStream and ObjectInputStream and now it works.  Seems like a deadlock maybe per this post (<a href=\"https://stackoverflow.com/questions/21075453/objectinputstream-from-socket-getinputstream\" title=\"objectinputstream from socket getinputstream\">stackoverflow.com/questions/21075453/&hellip;</a>)... will do some testing and see if it stops the random disconnects"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700766496,"post_id":77520133,"comment_id":136697410,"body_markdown":"Get rid of the Data streams. You don’t need them both.","body":"Get rid of the Data streams. You don’t need them both."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700798825,"post_id":77520133,"comment_id":136700020,"body_markdown":"Added a stack trace.  I don&#39;t have the DataInput/OutputStreams.  I changed them to ObjectInput/OutputStreams.","body":"Added a stack trace.  I don&#39;t have the DataInput/OutputStreams.  I changed them to ObjectInput/OutputStreams."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700801463,"post_id":77520133,"comment_id":136700172,"body_markdown":"`java.io.EOFException` is normal with these `readXXX()` methods. It happens when the peer closes the connection. You should catch it separately and proceed accordingly, not logging it as an error to be investigated. I don&#39;t understand how you can be logging an exception in `readObject()` from a method named `commandOut.write`. NB You don&#39;t need `String.valueof()`, just a cast to `(String)`. NB (2) We can do without the pictures of text. Post the text: in this case, the code.","body":"<code>java.io.EOFException</code> is normal with these <code>readXXX()</code> methods. It happens when the peer closes the connection. You should catch it separately and proceed accordingly, not logging it as an error to be investigated. I don&#39;t understand how you can be logging an exception in <code>readObject()</code> from a method named <code>commandOut.write</code>. NB You don&#39;t need <code>String.valueof()</code>, just a cast to <code>(String)</code>. NB (2) We can do without the pictures of text. Post the text: in this case, the code."}],"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700792691,"creation_date":1700537067,"question_id":77520133,"body_markdown":"My mmorpg game server has a feature that has finally surpassed the 65535 length limit of sending &quot;string updates&quot; to the client.  I was using the readUTF() and writeUTF() methods.  I have since replaced them with:\r\n\r\nCLIENT reading:\r\n\r\n    //incommingReply = GameActivity.commandIn.readUTF();  //65535 length limit\r\n    int length = GameActivity.commandIn.readInt();\r\n    byte[] data = new byte[length];\r\n    GameActivity.commandIn.readFully(data);\r\n    incommingReply = new String(data,&quot;UTF-8&quot;);\r\n\r\nSERVER writing:\r\n \r\n    //commandOut.writeUTF(request);  //65535 length limit\r\n    byte[] b = request.getBytes(&quot;UTF-8&quot;);\r\n    commandOut.writeInt(b.length);\r\n    commandOut.write(b);\r\n    commandOut.flush();\r\n\r\nEver since changing, players are experiencing more disconnections due to &quot;java.net.SocketException: Software caused connection abort&quot;.  I am struggling to troubleshoot this.  Is there a better way to send long Strings back and forth?\r\n\r\nExample error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAddendum (other pertinent code):\r\n\r\n    GameActivity.sC = (SSLSocket) factory.createSocket();\r\n    GameActivity.sC.setSoTimeout(connectTimeout);\r\n    GameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\r\n    ...\r\n    GameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\r\n    GameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\r\n\r\nStack Trace:\r\n\r\n    E  MCR Exception\r\n    E  Exception: java.io.EOFException\r\n    E  stack trace: \r\n       java.io.DataInputStream.readFully(DataInputStream.java:205)\r\n       java.io.DataInputStream.readInt(DataInputStream.java:394)\r\n       com.kisnardonline.kisnardonline.MyCommandReceiver.run(MyCommandReceiver.java:251)\r\n       java.lang.Thread.run(Thread.java:1012)\r\n\r\n\r\n*edit2* - changing to readObject() has not solved the problem\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wGBK5.png\r\n  [2]: https://i.stack.imgur.com/ruQuy.png","title":"readUTF and writeUTF greater than 65535","body":"<p>My mmorpg game server has a feature that has finally surpassed the 65535 length limit of sending &quot;string updates&quot; to the client.  I was using the readUTF() and writeUTF() methods.  I have since replaced them with:</p>\n<p>CLIENT reading:</p>\n<pre><code>//incommingReply = GameActivity.commandIn.readUTF();  //65535 length limit\nint length = GameActivity.commandIn.readInt();\nbyte[] data = new byte[length];\nGameActivity.commandIn.readFully(data);\nincommingReply = new String(data,&quot;UTF-8&quot;);\n</code></pre>\n<p>SERVER writing:</p>\n<pre><code>//commandOut.writeUTF(request);  //65535 length limit\nbyte[] b = request.getBytes(&quot;UTF-8&quot;);\ncommandOut.writeInt(b.length);\ncommandOut.write(b);\ncommandOut.flush();\n</code></pre>\n<p>Ever since changing, players are experiencing more disconnections due to &quot;java.net.SocketException: Software caused connection abort&quot;.  I am struggling to troubleshoot this.  Is there a better way to send long Strings back and forth?</p>\n<p>Example error:\n<a href=\"https://i.stack.imgur.com/wGBK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wGBK5.png\" alt=\"enter image description here\" /></a></p>\n<p>Addendum (other pertinent code):</p>\n<pre><code>GameActivity.sC = (SSLSocket) factory.createSocket();\nGameActivity.sC.setSoTimeout(connectTimeout);\nGameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\n...\nGameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\nGameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\n</code></pre>\n<p>Stack Trace:</p>\n<pre><code>E  MCR Exception\nE  Exception: java.io.EOFException\nE  stack trace: \n   java.io.DataInputStream.readFully(DataInputStream.java:205)\n   java.io.DataInputStream.readInt(DataInputStream.java:394)\n   com.kisnardonline.kisnardonline.MyCommandReceiver.run(MyCommandReceiver.java:251)\n   java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p><em>edit2</em> - changing to readObject() has not solved the problem</p>\n<p><a href=\"https://i.stack.imgur.com/ruQuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruQuy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","bouncycastle","deprecated"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1700236732,"post_id":77502943,"comment_id":136633393,"body_markdown":"Can you write a minimal example so that folks can see what you are trying to do? Tongue in cheek, `ASN1OctetString url = null;` will compile without warnings...","body":"Can you write a minimal example so that folks can see what you are trying to do? Tongue in cheek, <code>ASN1OctetString url = null;</code> will compile without warnings..."},{"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"score":0,"creation_date":1700558742,"post_id":77502943,"comment_id":136666456,"body_markdown":"Thx for the feedback, I added the location instantiation line (see post).","body":"Thx for the feedback, I added the location instantiation line (see post)."}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700792085,"creation_date":1700458919,"answer_id":77513719,"question_id":77502943,"body_markdown":"When asking for how to parse some ASN.1 structure, you would ideally give the ASN.1 definitions involved. In this case it&#39;s especially important since correctly parsing a tagged object requires knowing the tag definition (as well as whether implicit tagging is enabled in the relevant ASN.1 module).\r\n\r\nThe old `getObject` assumed you had already checked the tag number (`getTagNo`) and it also only worked for CONTEXT_SPECIFIC tags using explicit tagging.\r\n\r\nA reasonable guess at a replacement would be:\r\n\r\n    ASN1Util.getContextBaseUniversal(location, tagNo, true, BERTags.OCTET_STRING)\r\n\r\nwhere &#39;tagNo&#39; is the tag number, which ought to be known at the call site, and &#39;true&#39; indicates the field is using explicit tagging.\r\n\r\n-----\r\n\r\nFrom your example code we can see that the overall extension being parsed here is an Authority Information Access (read about the extension [here][1]); technically the ASN.1 type is `AuthorityInfoAccessSyntax`. It&#39;s worth reading that section to understand in particular that the &#39;accessLocation&#39; (being a GeneralName) can take several forms (though I assume it&#39;s OK to only process the URI one if you can&#39;t make use of the others).\r\n\r\nBouncyCastle already has a class for parsing these:\r\n\r\n    org.bouncycastle.asn1.x509.AuthorityInformationAccess\r\n\r\nSo you could rewrite your method something like this:\r\n\r\n    protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\r\n        CertSignatureInformation certInfo) throws IOException\r\n    {\r\n        AuthorityInformationAccess authInfo = AuthorityInformationAccess.getInstance(\r\n            JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\r\n\r\n        for (AccessDescription accessDescription : authInfo.getAccessDescriptions())\r\n        {\r\n            ASN1ObjectIdentifier accessMethod = accessDescription.getAccessMethod();\r\n            GeneralName accessLocation = accessDescription.getAccessLocation();\r\n\r\n            if (X509ObjectIdentifiers.id_ad_ocsp.equals(accessMethod))\r\n            {\r\n                if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\r\n                {\r\n                    ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\r\n                    certInfo.setOcspUrl(uri.getString());\r\n                }\r\n            }\r\n            else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(accessMethod))\r\n            {\r\n                if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\r\n                {\r\n                    ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\r\n                    certInfo.setIssuerUrl(uri.getString());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou should probably also deal with the possibility of there being multiple access descriptions for a given access method (so potentially multiple URIs).\r\n\r\n-----\r\n\r\nFor your second example (`getCrlUrlFromExtensionValue`), BC has this ASN.1 type (refer also to [RFC 5280 4.2.1.13][2]):\r\n\r\n    org.bouncycastle.asn1.x509.CRLDistPoint\r\n\r\nExample code:\r\n\r\n        CRLDistPoint crlDistPoint = CRLDistPoint.getInstance(\r\n            JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\r\n        for (DistributionPoint distPoint : crlDistPoint.getDistributionPoints())\r\n        {\r\n            GeneralNames crlIssuer = distPoint.getCRLIssuer();\r\n            if (crlIssuer != null)\r\n            {\r\n                for (GeneralName name : crlIssuer.getNames())\r\n                {\r\n                    // Look for URI as in first example\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.2.1\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.13","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>When asking for how to parse some ASN.1 structure, you would ideally give the ASN.1 definitions involved. In this case it's especially important since correctly parsing a tagged object requires knowing the tag definition (as well as whether implicit tagging is enabled in the relevant ASN.1 module).</p>\n<p>The old <code>getObject</code> assumed you had already checked the tag number (<code>getTagNo</code>) and it also only worked for CONTEXT_SPECIFIC tags using explicit tagging.</p>\n<p>A reasonable guess at a replacement would be:</p>\n<pre><code>ASN1Util.getContextBaseUniversal(location, tagNo, true, BERTags.OCTET_STRING)\n</code></pre>\n<p>where 'tagNo' is the tag number, which ought to be known at the call site, and 'true' indicates the field is using explicit tagging.</p>\n<hr />\n<p>From your example code we can see that the overall extension being parsed here is an Authority Information Access (read about the extension <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.2.1\" rel=\"nofollow noreferrer\">here</a>); technically the ASN.1 type is <code>AuthorityInfoAccessSyntax</code>. It's worth reading that section to understand in particular that the 'accessLocation' (being a GeneralName) can take several forms (though I assume it's OK to only process the URI one if you can't make use of the others).</p>\n<p>BouncyCastle already has a class for parsing these:</p>\n<pre><code>org.bouncycastle.asn1.x509.AuthorityInformationAccess\n</code></pre>\n<p>So you could rewrite your method something like this:</p>\n<pre><code>protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\n    CertSignatureInformation certInfo) throws IOException\n{\n    AuthorityInformationAccess authInfo = AuthorityInformationAccess.getInstance(\n        JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\n\n    for (AccessDescription accessDescription : authInfo.getAccessDescriptions())\n    {\n        ASN1ObjectIdentifier accessMethod = accessDescription.getAccessMethod();\n        GeneralName accessLocation = accessDescription.getAccessLocation();\n\n        if (X509ObjectIdentifiers.id_ad_ocsp.equals(accessMethod))\n        {\n            if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\n            {\n                ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\n                certInfo.setOcspUrl(uri.getString());\n            }\n        }\n        else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(accessMethod))\n        {\n            if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\n            {\n                ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\n                certInfo.setIssuerUrl(uri.getString());\n            }\n        }\n    }\n}\n</code></pre>\n<p>You should probably also deal with the possibility of there being multiple access descriptions for a given access method (so potentially multiple URIs).</p>\n<hr />\n<p>For your second example (<code>getCrlUrlFromExtensionValue</code>), BC has this ASN.1 type (refer also to <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.13\" rel=\"nofollow noreferrer\">RFC 5280 4.2.1.13</a>):</p>\n<pre><code>org.bouncycastle.asn1.x509.CRLDistPoint\n</code></pre>\n<p>Example code:</p>\n<pre><code>    CRLDistPoint crlDistPoint = CRLDistPoint.getInstance(\n        JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\n    for (DistributionPoint distPoint : crlDistPoint.getDistributionPoints())\n    {\n        GeneralNames crlIssuer = distPoint.getCRLIssuer();\n        if (crlIssuer != null)\n        {\n            for (GeneralName name : crlIssuer.getNames())\n            {\n                // Look for URI as in first example\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700565688,"creation_date":1700558698,"answer_id":77521649,"question_id":77502943,"body_markdown":"After some reading this is the solution:\r\n\r\n    ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\r\n    ASN1OctetString uri = (ASN1OctetString) location.getBaseObject();\r\n    \r\n\r\nSo replacing `getObject()` with `getBaseObject()`\r\n","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>After some reading this is the solution:</p>\n<pre><code>ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\nASN1OctetString uri = (ASN1OctetString) location.getBaseObject();\n</code></pre>\n<p>So replacing <code>getObject()</code> with <code>getBaseObject()</code></p>\n"}],"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77513719,"answer_count":2,"score":1,"last_activity_date":1700792085,"creation_date":1700236130,"question_id":77502943,"body_markdown":"When upgrading to version 1.71 of BouncyCastle we get following warning when compiling:\r\n\r\n`warning: [deprecation] getObject() in ASN1TaggedObject has been deprecated  ASN1OctetString url = (ASN1OctetString) location.getObject();`\r\n\r\nI can see from:\r\n\r\nhttps://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--\r\n\r\nfollowing description:\r\n\r\n`getObject()\r\nDeprecated. \r\nTagged objects now include the tag class. This method will raise an exception if it is not BERTags.CONTEXT_SPECIFIC. Use getBaseUniversal(boolean, int) only after confirming the expected tag class.`\r\n\r\nI have no clue how to rewrite the getObject()\r\n\r\n        protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\r\n            CertSignatureInformation certInfo) throws IOException\r\n    {\r\n        ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\r\n        Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\r\n        while (objects.hasMoreElements())\r\n        {\r\n            // AccessDescription\r\n            ASN1Sequence obj = (ASN1Sequence) objects.nextElement();\r\n            ASN1Encodable oid = obj.getObjectAt(0);\r\n            // accessLocation\r\n            ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\r\n\r\n            if (X509ObjectIdentifiers.id_ad_ocsp.equals(oid)\r\n                    &amp;&amp; location.getTagNo() == GeneralName.uniformResourceIdentifier)\r\n            {\r\n                ASN1OctetString url = (ASN1OctetString) location.getObject();\r\n                certInfo.setOcspUrl(new String(url.getOctets()));  \r\n            }\r\n            else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(oid))\r\n            {\r\n                ASN1OctetString uri = (ASN1OctetString) location.getObject();\r\n                certInfo.setIssuerUrl(new String(uri.getOctets()));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nor this\r\n\r\n        /**\r\n     * Gets the first CRL URL from given extension value. Structure has to be\r\n     * built as in 4.2.1.14 CRL Distribution Points of RFC 2459.\r\n     *\r\n     * @param extensionValue to get the extension value from\r\n     * @return first CRL- URL or null\r\n     * @throws IOException when there is a problem with the extensionValue\r\n     */\r\n    protected static String getCrlUrlFromExtensionValue(byte[] extensionValue) throws IOException\r\n    {\r\n        ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\r\n        Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\r\n\r\n        while (objects.hasMoreElements())\r\n        {\r\n            Object obj = objects.nextElement();\r\n            if (obj instanceof ASN1Sequence)\r\n            {\r\n                String url = extractCrlUrlFromSequence((ASN1Sequence) obj);\r\n                if (url != null)\r\n                {\r\n                    return url;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static String extractCrlUrlFromSequence(ASN1Sequence sequence)\r\n    {\r\n        ASN1TaggedObject taggedObject = (ASN1TaggedObject) sequence.getObjectAt(0);\r\n        taggedObject = (ASN1TaggedObject) taggedObject.getObject();\r\n        if (taggedObject.getObject() instanceof ASN1TaggedObject)\r\n        {\r\n            taggedObject = (ASN1TaggedObject) taggedObject.getObject();\r\n        }\r\n        else if (taggedObject.getObject() instanceof ASN1Sequence)\r\n        {\r\n            // multiple URLs (we take the first)\r\n            ASN1Sequence seq = (ASN1Sequence) taggedObject.getObject();\r\n            if (seq.getObjectAt(0) instanceof ASN1TaggedObject)\r\n            {\r\n                taggedObject = (ASN1TaggedObject) seq.getObjectAt(0);\r\n            }\r\n            else\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return null;\r\n        }\r\n        if (taggedObject.getObject() instanceof ASN1OctetString)\r\n        {\r\n            ASN1OctetString uri = (ASN1OctetString) taggedObject.getObject();\r\n            String url = new String(uri.getOctets());\r\n\r\n            // return first http(s)-Url for crl\r\n            if (url.startsWith(&quot;http&quot;))\r\n            {\r\n                return url;\r\n            }\r\n        }\r\n        // else happens with http://blogs.adobe.com/security/SampleSignedPDFDocument.pdf\r\n        return null;\r\n    }\r\n\r\nso this warning disappears.\r\n\r\nAny help much appreciated.\r\n\r\n","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>When upgrading to version 1.71 of BouncyCastle we get following warning when compiling:</p>\n<p><code>warning: [deprecation] getObject() in ASN1TaggedObject has been deprecated  ASN1OctetString url = (ASN1OctetString) location.getObject();</code></p>\n<p>I can see from:</p>\n<p><a href=\"https://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--</a></p>\n<p>following description:</p>\n<p><code>getObject() Deprecated.  Tagged objects now include the tag class. This method will raise an exception if it is not BERTags.CONTEXT_SPECIFIC. Use getBaseUniversal(boolean, int) only after confirming the expected tag class.</code></p>\n<p>I have no clue how to rewrite the getObject()</p>\n<pre><code>    protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\n        CertSignatureInformation certInfo) throws IOException\n{\n    ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\n    Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\n    while (objects.hasMoreElements())\n    {\n        // AccessDescription\n        ASN1Sequence obj = (ASN1Sequence) objects.nextElement();\n        ASN1Encodable oid = obj.getObjectAt(0);\n        // accessLocation\n        ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\n\n        if (X509ObjectIdentifiers.id_ad_ocsp.equals(oid)\n                &amp;&amp; location.getTagNo() == GeneralName.uniformResourceIdentifier)\n        {\n            ASN1OctetString url = (ASN1OctetString) location.getObject();\n            certInfo.setOcspUrl(new String(url.getOctets()));  \n        }\n        else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(oid))\n        {\n            ASN1OctetString uri = (ASN1OctetString) location.getObject();\n            certInfo.setIssuerUrl(new String(uri.getOctets()));\n        }\n    }\n}\n</code></pre>\n<p>or this</p>\n<pre><code>    /**\n * Gets the first CRL URL from given extension value. Structure has to be\n * built as in 4.2.1.14 CRL Distribution Points of RFC 2459.\n *\n * @param extensionValue to get the extension value from\n * @return first CRL- URL or null\n * @throws IOException when there is a problem with the extensionValue\n */\nprotected static String getCrlUrlFromExtensionValue(byte[] extensionValue) throws IOException\n{\n    ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\n    Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\n\n    while (objects.hasMoreElements())\n    {\n        Object obj = objects.nextElement();\n        if (obj instanceof ASN1Sequence)\n        {\n            String url = extractCrlUrlFromSequence((ASN1Sequence) obj);\n            if (url != null)\n            {\n                return url;\n            }\n        }\n    }\n    return null;\n}\n\nprivate static String extractCrlUrlFromSequence(ASN1Sequence sequence)\n{\n    ASN1TaggedObject taggedObject = (ASN1TaggedObject) sequence.getObjectAt(0);\n    taggedObject = (ASN1TaggedObject) taggedObject.getObject();\n    if (taggedObject.getObject() instanceof ASN1TaggedObject)\n    {\n        taggedObject = (ASN1TaggedObject) taggedObject.getObject();\n    }\n    else if (taggedObject.getObject() instanceof ASN1Sequence)\n    {\n        // multiple URLs (we take the first)\n        ASN1Sequence seq = (ASN1Sequence) taggedObject.getObject();\n        if (seq.getObjectAt(0) instanceof ASN1TaggedObject)\n        {\n            taggedObject = (ASN1TaggedObject) seq.getObjectAt(0);\n        }\n        else\n        {\n            return null;\n        }\n    }\n    else\n    {\n        return null;\n    }\n    if (taggedObject.getObject() instanceof ASN1OctetString)\n    {\n        ASN1OctetString uri = (ASN1OctetString) taggedObject.getObject();\n        String url = new String(uri.getOctets());\n\n        // return first http(s)-Url for crl\n        if (url.startsWith(&quot;http&quot;))\n        {\n            return url;\n        }\n    }\n    // else happens with http://blogs.adobe.com/security/SampleSignedPDFDocument.pdf\n    return null;\n}\n</code></pre>\n<p>so this warning disappears.</p>\n<p>Any help much appreciated.</p>\n"},{"tags":["java","enums","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1700791416,"creation_date":1470979636,"answer_id":38910556,"question_id":38781226,"body_markdown":"There is a warning for the varargs method because varargs methods can cause implicit array creation at the calling site, whereas the version that takes an array parameter doesn&#39;t. The way that varargs works is that it causes the compiler to create an array at the call site filled with the variable arguments, which is then passed to the method as a single array parameter. The parameter would have type `E[]`, so the array created should be an `E[]`.\r\n\r\nFirst, in the call site in your example, you are not using the variable arguments functionality at all. You are passing the array of variable arguments directly. So there is no implicit array creation in this case.\r\n\r\nEven if you had used the variable arguments functionality, e.g. with `someMethod(Foo.A);`, the implicit array creation would be creating an array with a reifiable type, i.e. the variable argument type is known at the call site to be `Foo` which is a concrete type known at compile-time, so array creation is fine.\r\n\r\nThe problem is only if the variable argument type at the call site is also a generic type or type parameter. For example, something like:\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; void foo(E obj) {\r\n        someMethod(obj);\r\n    }\r\n\r\nThen the compiler would need to create an array of this generic type or type parameter (it needs to create an `E[]`), but as you know generic array creation is not allowed in Java. It would instead create an array with the component type being the erasure of the generic type (in this example it would be `Enum`), so it would pass an array of the wrong type (in this example, the passed array should be an `E[]`, but the array&#39;s actual runtime class would be `Enum[]` which is not a subtype of `E[]`).\r\n\r\nThis potentially wrong type of array is not always a problem. Most of the time, a varargs method will simply iterate over the array and get elements out of it. In this case, the runtime class of the array is irrelevant; all that matters is that the elements are type `E` (which indeed they are). If this is the case, you can declare your method `@SafeVarargs`. However, if your method actually uses the runtime class of the passed array (for example, if you return the varargs array as type `E[]`, or you use something like `Arrays.copyOf()` to create an array with the same runtime class), then a wrong runtime class of the array will lead to problems and you cannot use `@SafeVarargs`.\r\n\r\nYour example is a bit weird because, well, you are not even using the fact that the elements are of type `E`, let alone the fact that the array is `E[]`. So you could use `@SafeVarargs`, and not only that, you could simply declare the array as taking `Object[]` in the first place:\r\n\r\n    private static void someMethod(Object... objects)","title":"&quot;Potential heap pollution via varargs parameter&quot; for Enum&lt;E&gt;... why?","body":"<p>There is a warning for the varargs method because varargs methods can cause implicit array creation at the calling site, whereas the version that takes an array parameter doesn't. The way that varargs works is that it causes the compiler to create an array at the call site filled with the variable arguments, which is then passed to the method as a single array parameter. The parameter would have type <code>E[]</code>, so the array created should be an <code>E[]</code>.</p>\n<p>First, in the call site in your example, you are not using the variable arguments functionality at all. You are passing the array of variable arguments directly. So there is no implicit array creation in this case.</p>\n<p>Even if you had used the variable arguments functionality, e.g. with <code>someMethod(Foo.A);</code>, the implicit array creation would be creating an array with a reifiable type, i.e. the variable argument type is known at the call site to be <code>Foo</code> which is a concrete type known at compile-time, so array creation is fine.</p>\n<p>The problem is only if the variable argument type at the call site is also a generic type or type parameter. For example, something like:</p>\n<pre><code>public static &lt;E extends Enum&lt;E&gt;&gt; void foo(E obj) {\n    someMethod(obj);\n}\n</code></pre>\n<p>Then the compiler would need to create an array of this generic type or type parameter (it needs to create an <code>E[]</code>), but as you know generic array creation is not allowed in Java. It would instead create an array with the component type being the erasure of the generic type (in this example it would be <code>Enum</code>), so it would pass an array of the wrong type (in this example, the passed array should be an <code>E[]</code>, but the array's actual runtime class would be <code>Enum[]</code> which is not a subtype of <code>E[]</code>).</p>\n<p>This potentially wrong type of array is not always a problem. Most of the time, a varargs method will simply iterate over the array and get elements out of it. In this case, the runtime class of the array is irrelevant; all that matters is that the elements are type <code>E</code> (which indeed they are). If this is the case, you can declare your method <code>@SafeVarargs</code>. However, if your method actually uses the runtime class of the passed array (for example, if you return the varargs array as type <code>E[]</code>, or you use something like <code>Arrays.copyOf()</code> to create an array with the same runtime class), then a wrong runtime class of the array will lead to problems and you cannot use <code>@SafeVarargs</code>.</p>\n<p>Your example is a bit weird because, well, you are not even using the fact that the elements are of type <code>E</code>, let alone the fact that the array is <code>E[]</code>. So you could use <code>@SafeVarargs</code>, and not only that, you could simply declare the array as taking <code>Object[]</code> in the first place:</p>\n<pre><code>private static void someMethod(Object... objects)\n</code></pre>\n"}],"owner":{"account_id":1027813,"reputation":19701,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8027,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":38910556,"answer_count":1,"score":12,"last_activity_date":1700791416,"creation_date":1470371868,"question_id":38781226,"body_markdown":"**This question is specific to using varargs with generic-fied `Enum&lt;E&gt;`s:**\r\n\r\nWhy do I get this warning `Type safety: Potential heap pollution via varargs parameter elements` if I define the method the like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements)\r\n\r\nAs opposed to this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E[] elements)\r\n\r\nAccordingly, what should I look out for before declaring the method `@SafeVarargs`?\r\n\r\n## Similar questions\r\n\r\nThis question is similar to these questions regarding `Collection&lt;T&gt;...` but the scenarios shown in those answers do not seem to apply with `Enum&lt;E&gt;...`:\r\n\r\n* https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\r\n* https://stackoverflow.com/questions/31357422/type-safety-potential-heap-pollution-via-varargs-parameter-subtrees\r\n* https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\r\n* https://stackoverflow.com/questions/23443493/eclipse-different-behaviour-for-unchecked-warning-due-to-potential-heap-pollu\r\n\r\nIt is the reverse of this question which questions why there are no warning:\r\n\r\n* https://stackoverflow.com/questions/32246208/why-doesnt-the-following-method-produce-potential-heap-pollution\r\n\r\n## Sample code\r\n\r\nThis is what I tried to pollute the heap, but each bad attempt results in `java.lang.ArrayStoreException` and not a polluted array.\r\n\r\nI am using *Eclipse 4.6.0* and *Java JDK 8u74*.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        Foo[] x = { Foo.A };\r\n        someMethod(x);\r\n\r\n        Foo y = x[0];  // How does one get a ClassCastException here?\r\n    }\r\n\r\n\tprivate static enum Foo {\r\n\t\tA, B, C,\r\n\t}\r\n\r\n\tprivate static enum Bar {\r\n\t\tX, Y, Z,\r\n\t}\r\n\r\n    // This produces a &quot;Type safety&quot; warning on &#39;elements&#39;\r\n    private static &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements) {\r\n        Object[] objects = elements;\r\n\r\n        // Test case 1: This line throws java.lang.ArrayStoreException\r\n        objects[0] = &quot;&quot;;\r\n\r\n        // Test case 2: Program terminates without errors\r\n        objects[0] = Foo.A;\r\n\r\n        // Test case 3: This line throws java.lang.ArrayStoreException\r\n        objects[0] = Bar.X;\r\n    }\r\n","title":"&quot;Potential heap pollution via varargs parameter&quot; for Enum&lt;E&gt;... why?","body":"<p><strong>This question is specific to using varargs with generic-fied <code>Enum&lt;E&gt;</code>s:</strong></p>\n\n<p>Why do I get this warning <code>Type safety: Potential heap pollution via varargs parameter elements</code> if I define the method the like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements)\n</code></pre>\n\n<p>As opposed to this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;E extends Enum&lt;E&gt;&gt; void someMethod(E[] elements)\n</code></pre>\n\n<p>Accordingly, what should I look out for before declaring the method <code>@SafeVarargs</code>?</p>\n\n<h2>Similar questions</h2>\n\n<p>This question is similar to these questions regarding <code>Collection&lt;T&gt;...</code> but the scenarios shown in those answers do not seem to apply with <code>Enum&lt;E&gt;...</code>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\">Potential heap pollution via varargs parameter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31357422/type-safety-potential-heap-pollution-via-varargs-parameter-subtrees\">Type safety: Potential heap pollution via varargs parameter subtrees</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\">Potential heap pollution via varargs parameter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23443493/eclipse-different-behaviour-for-unchecked-warning-due-to-potential-heap-pollu\">Eclipse different behaviour for &quot;Unchecked&quot; warning due to &quot;Potential heap pollution via varargs parameter&quot;. How to fix?</a></li>\n</ul>\n\n<p>It is the reverse of this question which questions why there are no warning:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32246208/why-doesnt-the-following-method-produce-potential-heap-pollution\">Why doesn&#39;t the following method produce potential heap pollution?</a></li>\n</ul>\n\n<h2>Sample code</h2>\n\n<p>This is what I tried to pollute the heap, but each bad attempt results in <code>java.lang.ArrayStoreException</code> and not a polluted array.</p>\n\n<p>I am using <em>Eclipse 4.6.0</em> and <em>Java JDK 8u74</em>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Foo[] x = { Foo.A };\n    someMethod(x);\n\n    Foo y = x[0];  // How does one get a ClassCastException here?\n}\n\nprivate static enum Foo {\n    A, B, C,\n}\n\nprivate static enum Bar {\n    X, Y, Z,\n}\n\n// This produces a \"Type safety\" warning on 'elements'\nprivate static &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements) {\n    Object[] objects = elements;\n\n    // Test case 1: This line throws java.lang.ArrayStoreException\n    objects[0] = \"\";\n\n    // Test case 2: Program terminates without errors\n    objects[0] = Foo.A;\n\n    // Test case 3: This line throws java.lang.ArrayStoreException\n    objects[0] = Bar.X;\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","if-statement","user-input"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1700789563,"post_id":77540277,"comment_id":136699454,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700789896,"post_id":77540277,"comment_id":136699485,"body_markdown":"What this means is that you are going beyond the index of an array at the location specified by the exception&#39;s stack trace and by the amount specified in the stack trace. To fix it, you will want to debug your code.","body":"What this means is that you are going beyond the index of an array at the location specified by the exception&#39;s stack trace and by the amount specified in the stack trace. To fix it, you will want to debug your code."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700789916,"post_id":77540277,"comment_id":136699487,"body_markdown":"If you&#39;re not sure how to debug, then please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/)  and [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"If you&#39;re not sure how to debug, then please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>  and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700790841,"post_id":77540277,"comment_id":136699545,"body_markdown":"When you do walk through the code, note that this, `index&lt;=size;`, might be a problem. The debugging will show you why.","body":"When you do walk through the code, note that this, <code>index&lt;=size;</code>, might be a problem. The debugging will show you why."},{"owner":{"account_id":19800924,"reputation":1,"user_id":14501963,"display_name":"Klxnt"},"score":0,"creation_date":1700791686,"post_id":77540277,"comment_id":136699600,"body_markdown":"thanks i already know why it&#39;s in the parameters if &lt;=","body":"thanks i already know why it&#39;s in the parameters if &lt;="}],"owner":{"account_id":19800924,"reputation":1,"user_id":14501963,"display_name":"Klxnt"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1700789840,"answer_count":0,"score":-3,"last_activity_date":1700789954,"creation_date":1700789522,"question_id":77540277,"body_markdown":"\r\n\r\n[As you can see I get an error in line 30, I don&#39;t get what&#39;s wrong since it only prints the array with corresponds to variable i that increments each loop. I already get the concept of loop and if statements and now I&#39;m moving forward learning inputs and array. I just want some clarification why I get an error.  ]\r\n\r\n(https://i.stack.imgur.com/JiXQd.png)\r\n\r\n        int [] inputs = new int [size];\r\n        System.out.println(&quot;Enter nums&quot;);\r\n        \r\n        for(int index = 0; index&lt;=size; index++){\r\n            \r\n        if (index!=size){\r\n        inputs[index] = scanner.nextInt();}\r\n         \r\n        else if (index==size){\r\n            System.out.println(&quot;Here is the list: &quot;);\r\n        for(int i = 0; i&lt;=size; i++){\r\n        System.out.println(inputs[i]);\r\n        }\r\n        }\r\n        }           \r\n        scanner.close();\r\n    }\r\n        \r\n    }","title":"i want to create an array that stores user input","body":"<p>[As you can see I get an error in line 30, I don't get what's wrong since it only prints the array with corresponds to variable i that increments each loop. I already get the concept of loop and if statements and now I'm moving forward learning inputs and array. I just want some clarification why I get an error.  ]</p>\n<p>(<a href=\"https://i.stack.imgur.com/JiXQd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JiXQd.png</a>)</p>\n<pre><code>    int [] inputs = new int [size];\n    System.out.println(&quot;Enter nums&quot;);\n    \n    for(int index = 0; index&lt;=size; index++){\n        \n    if (index!=size){\n    inputs[index] = scanner.nextInt();}\n     \n    else if (index==size){\n        System.out.println(&quot;Here is the list: &quot;);\n    for(int i = 0; i&lt;=size; i++){\n    System.out.println(inputs[i]);\n    }\n    }\n    }           \n    scanner.close();\n}\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","maven","sqlexception"],"comments":[{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531311153,"post_id":51283759,"comment_id":89547584,"body_markdown":"Upgrade your J  connector https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.html","body":"Upgrade your J  connector <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":3160267,"reputation":633,"user_id":2671590,"display_name":"DoesEatOats"},"score":0,"creation_date":1533576586,"post_id":51283759,"comment_id":90387033,"body_markdown":"I ended up just creating the database first which resolved the error.","body":"I ended up just creating the database first which resolved the error."}],"answers":[{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581369749,"creation_date":1581369749,"answer_id":60158622,"question_id":51283759,"body_markdown":"As a result of the java mysql connector driver being incompartible with the installed version of MYSQL DB.\r\n\r\nKindly check answer posted by @P Satish Patro on this post:\r\nhttps://stackoverflow.com/questions/53192560/spring-boot-client-plugin-auth-is-required","title":"MySQL 8.0.11 is throwing CLIENT_PLUGIN_AUTH is required","body":"<p>As a result of the java mysql connector driver being incompartible with the installed version of MYSQL DB.</p>\n\n<p>Kindly check answer posted by @P Satish Patro on this post:\n<a href=\"https://stackoverflow.com/questions/53192560/spring-boot-client-plugin-auth-is-required\">Spring boot CLIENT_PLUGIN_AUTH is required</a></p>\n"}],"owner":{"account_id":2594734,"reputation":1690,"user_id":2248676,"accept_rate":57,"display_name":"Anjali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700787770,"creation_date":1531306690,"question_id":51283759,"body_markdown":"I am new to Java. I created Java Maven project and am getting the below error while connecting to MySQL. I am posting my code below.\r\n\r\nIn pom.xml,\r\n\r\n    &lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;8.0.11&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n\r\nIn class,\r\n\r\n     private void connection() {\r\n\t\t try {\r\n\t\t\t    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n\t\t\t\tconnect = DriverManager.getConnection(&quot;jdbc:mysql://10.100.00.00:3305/dbname&quot; , \r\n\t\t\t\t\t\t\t\t\t\t&quot;username&quot;,&quot;password&quot;);\t\t\r\n\t\t }\r\n\t\t catch(SQLException ex) {\t\t\r\n\t\t\t System.out.println(ex.getMessage());\r\n\t\t\t \r\n\t\t }\r\n\t\t catch(Exception ex) {\t\t\r\n\t\t\t System.out.println(ex.getMessage());\r\n\t\t }\r\n\t }\r\n\r\nIt was throwing **java.sql.SQLNonTransientConnectionException: CLIENT_PLUGIN_AUTH is required** from SQLException.","title":"MySQL 8.0.11 is throwing CLIENT_PLUGIN_AUTH is required","body":"<p>I am new to Java. I created Java Maven project and am getting the below error while connecting to MySQL. I am posting my code below.</p>\n\n<p>In pom.xml,</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In class,</p>\n\n<pre><code> private void connection() {\n     try {\n            Class.forName(\"com.mysql.cj.jdbc.Driver\").newInstance();\n            connect = DriverManager.getConnection(\"jdbc:mysql://10.100.00.00:3305/dbname\" , \n                                    \"username\",\"password\");     \n     }\n     catch(SQLException ex) {       \n         System.out.println(ex.getMessage());\n\n     }\n     catch(Exception ex) {      \n         System.out.println(ex.getMessage());\n     }\n }\n</code></pre>\n\n<p>It was throwing <strong>java.sql.SQLNonTransientConnectionException: CLIENT_PLUGIN_AUTH is required</strong> from SQLException.</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700739833,"post_id":77536566,"comment_id":136692895,"body_markdown":"use `inputAns.equalsIgnoreCase(&quot;yes&quot;)` and `inputAns.equalsIgnoreCase(&quot;no&quot;)` instead ;)","body":"use <code>inputAns.equalsIgnoreCase(&quot;yes&quot;)</code> and <code>inputAns.equalsIgnoreCase(&quot;no&quot;)</code> instead ;)"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1700740049,"post_id":77536566,"comment_id":136692925,"body_markdown":"also remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)!","body":"also remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>!"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700740274,"post_id":77536566,"comment_id":136692972,"body_markdown":"Maybe instead of resetting the value in the game method, do it separately (in the try again method before running the game method) make count a field.","body":"Maybe instead of resetting the value in the game method, do it separately (in the try again method before running the game method) make count a field."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700754134,"post_id":77536566,"comment_id":136695500,"body_markdown":"Consider reviewing the topic of, _&quot;exception handling&quot;_.  Here is the _Java_ tutorial, _[Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html)_.","body":"Consider reviewing the topic of, <i>&quot;exception handling&quot;</i>.  Here is the <i>Java</i> tutorial, <i><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700741467,"creation_date":1700740753,"answer_id":77536693,"question_id":77536566,"body_markdown":"Here&#39;s your code doing what you want (probably not the most efficient way)\r\n```\r\npublic class NumberGame {\r\n\r\n    static int scoreOfWins = 0; \r\n    static int numberOfAttempt = 0;\r\n    \r\n    public static void main(String[] args) {\r\n        game();\r\n    }\r\n    \r\n    static int num = new Random().nextInt(100) + 1;\r\n    static int count = 10;\r\n\r\n    static void game() {\r\n        try {\r\n            while(count &gt; 0) {\r\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\r\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\r\n                if (input == null) {\r\n                    System.exit(0);\r\n                }\r\n                int intInput = Integer.parseInt(input);\r\n                System.out.println(intInput);\r\n                if (intInput == num) {\r\n                    numberOfAttempt = 11 - count;\r\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\r\n                    scoreOfWins++;\r\n                    tryAgain();\r\n                    return;\r\n                } else if (intInput &gt; num) {\r\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\r\n                    count--;\r\n                } else if (intInput &lt; num){\r\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\r\n                    count--;\r\n                }\r\n            }\r\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\r\n            tryAgain();\r\n        } catch (Exception e) {\r\n        \t\r\n        \tif(e instanceof NumberFormatException) {\r\n        \t\tJOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\r\n                game();\r\n        \t}\r\n        \t\r\n        \t// Other exception handling here\r\n        }\r\n    }\r\n    \r\n    static void restart() {\r\n    \tcount = 10;\r\n        game();\r\n    }\r\n    \r\n    static void tryAgain() {\r\n        while (true) {\r\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\r\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\r\n            if (inputAns == null) {\r\n                System.exit(0);\r\n            }\r\n            inputAns = inputAns.toUpperCase();\r\n            if (inputAns.equalsIgnoreCase(&quot;y&quot;) | inputAns.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            \trestart();\r\n            } else if (inputAns.equalsIgnoreCase(&quot;n&quot;) |inputAns.equalsIgnoreCase(&quot;no&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\r\n                return;\r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n• So first thing I fixed in your code was a small but good thing to practice and that is the [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html). It&#39;s pretty self explanatory.\r\n\r\n• Secondly I switched out `inputAns.equals(&quot;Yes&quot;)` and `inputAns.equals(&quot;NO&quot;)` with `inputAns.equalsIgnoreCase(&quot;yes&quot;)` and `inputAns.equalsIgnoreCase(&quot;no&quot;)` which allows the user to type &quot;yes&quot; in anyway they want even &quot;YeS&quot;.\r\n\r\n• Next I implemented `new Random().nextInt(100) + 1` which is probably a better way to generate random numbers. [Here&#39;s a cool little question](https://stackoverflow.com/q/738629/17820402) you might want to consider checking out if you wanna know more about this.\r\n\r\n• I also checked what exception is thrown using `instanceof` so this allows you to manage more exceptions which you may find helpful later on.\r\n\r\nI haven&#39;t in general changed a lot of your code except for removing `num` and `count` from your game method and making it a field. Now everytime you run the game method the count does not change it does only when you restart the game.\r\n","title":"How to start a Java program from where it was left after an error","body":"<p>Here's your code doing what you want (probably not the most efficient way)</p>\n<pre><code>public class NumberGame {\n\n    static int scoreOfWins = 0; \n    static int numberOfAttempt = 0;\n    \n    public static void main(String[] args) {\n        game();\n    }\n    \n    static int num = new Random().nextInt(100) + 1;\n    static int count = 10;\n\n    static void game() {\n        try {\n            while(count &gt; 0) {\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\n                if (input == null) {\n                    System.exit(0);\n                }\n                int intInput = Integer.parseInt(input);\n                System.out.println(intInput);\n                if (intInput == num) {\n                    numberOfAttempt = 11 - count;\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\n                    scoreOfWins++;\n                    tryAgain();\n                    return;\n                } else if (intInput &gt; num) {\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\n                    count--;\n                } else if (intInput &lt; num){\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\n                    count--;\n                }\n            }\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\n            tryAgain();\n        } catch (Exception e) {\n            \n            if(e instanceof NumberFormatException) {\n                JOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\n                game();\n            }\n            \n            // Other exception handling here\n        }\n    }\n    \n    static void restart() {\n        count = 10;\n        game();\n    }\n    \n    static void tryAgain() {\n        while (true) {\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\n            if (inputAns == null) {\n                System.exit(0);\n            }\n            inputAns = inputAns.toUpperCase();\n            if (inputAns.equalsIgnoreCase(&quot;y&quot;) | inputAns.equalsIgnoreCase(&quot;yes&quot;)) {\n                restart();\n            } else if (inputAns.equalsIgnoreCase(&quot;n&quot;) |inputAns.equalsIgnoreCase(&quot;no&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\n                return;\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>• So first thing I fixed in your code was a small but good thing to practice and that is the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>. It's pretty self explanatory.</p>\n<p>• Secondly I switched out <code>inputAns.equals(&quot;Yes&quot;)</code> and <code>inputAns.equals(&quot;NO&quot;)</code> with <code>inputAns.equalsIgnoreCase(&quot;yes&quot;)</code> and <code>inputAns.equalsIgnoreCase(&quot;no&quot;)</code> which allows the user to type &quot;yes&quot; in anyway they want even &quot;YeS&quot;.</p>\n<p>• Next I implemented <code>new Random().nextInt(100) + 1</code> which is probably a better way to generate random numbers. <a href=\"https://stackoverflow.com/q/738629/17820402\">Here's a cool little question</a> you might want to consider checking out if you wanna know more about this.</p>\n<p>• I also checked what exception is thrown using <code>instanceof</code> so this allows you to manage more exceptions which you may find helpful later on.</p>\n<p>I haven't in general changed a lot of your code except for removing <code>num</code> and <code>count</code> from your game method and making it a field. Now everytime you run the game method the count does not change it does only when you restart the game.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700785948,"creation_date":1700785948,"answer_id":77540166,"question_id":77536566,"body_markdown":"&gt; _&quot;... how to restart the program from the same number of attempts after I accidentally press a button with a string text. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nimport static java.lang.System.out;\r\n```\r\n\r\n```java\r\nRandom r = new Random();\r\nScanner in = new Scanner(System.in);\r\nString s;\r\nint v = r.nextInt(1, 101), g, t = 0;\r\nboolean exit = false;\r\ndo {\r\n    out.print(&quot;guess:  &quot;);\r\n    s = in.nextLine();\r\n    try {\r\n        if (s.isBlank()) throw new Exception();\r\n        g = Integer.parseInt(s);\r\n        if (g != v) {\r\n            out.print(&quot;wrong&quot;);\r\n            if (++t != 10) out.printf(&quot;, %s tries remaining%n&quot;, 10 - t);\r\n            else exit = true;\r\n        }\r\n        else {\r\n            out.println(&quot;correct&quot;);\r\n            exit = true;\r\n        }\r\n    } catch (Exception e) {\r\n        out.printf(&quot;invalid input &#39;%s&#39;, try again%n&quot;, s);\r\n    }\r\n} while (!exit);\r\n```","title":"How to start a Java program from where it was left after an error","body":"<blockquote>\n<p><em>&quot;... how to restart the program from the same number of attempts after I accidentally press a button with a string text. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.System.out;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nScanner in = new Scanner(System.in);\nString s;\nint v = r.nextInt(1, 101), g, t = 0;\nboolean exit = false;\ndo {\n    out.print(&quot;guess:  &quot;);\n    s = in.nextLine();\n    try {\n        if (s.isBlank()) throw new Exception();\n        g = Integer.parseInt(s);\n        if (g != v) {\n            out.print(&quot;wrong&quot;);\n            if (++t != 10) out.printf(&quot;, %s tries remaining%n&quot;, 10 - t);\n            else exit = true;\n        }\n        else {\n            out.println(&quot;correct&quot;);\n            exit = true;\n        }\n    } catch (Exception e) {\n        out.printf(&quot;invalid input '%s', try again%n&quot;, s);\n    }\n} while (!exit);\n</code></pre>\n"}],"owner":{"account_id":23794349,"reputation":5,"user_id":17805418,"display_name":"Wahid Ahmad Rustaqi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700785948,"creation_date":1700739576,"question_id":77536566,"body_markdown":"In the program below, I created a simple number game that chooses a number between 1 and 100 and asks the user to guess the number. The user can continue guessing until they have made 10 attempts.\r\n\r\nWhen I run the program and input a string, the program throws a NumberFormatException. After clicking ‘OK’, I couldn’t find a way to handle this, so I called the ‘TryAgain’ method. What I want to know is how to restart the program from the same number of attempts after I accidentally press a button with a string text.\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class NumberGame {\r\n\tstatic int scoreOfWins = 0; \r\n\tstatic int numberOfAttempt = 0;\r\n\tpublic static void main(String[] args) {\r\n\t\tGame();\r\n\t}\r\n\r\n\tstatic void Game() {\r\n\t\ttry {\r\n\t\t\tint num = (int) (Math.random() * 100);\r\n\t\t\tint count = 10;\r\n\t\t\twhile(count &gt; 0) {\r\n//\t\t\t\tSystem.out.println(num);\r\n\t\t\t\tString inputTitle = &quot;Guess the number between 1 to 100&quot;;\r\n\t\t\t\tString input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\r\n\t\t\t\tif (input == null) {\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\tint intInput = Integer.parseInt(input);\r\n\t\t\t\tSystem.out.println(intInput);\r\n\t\t\t\tif (intInput == num) {\r\n\t\t\t\t\tnumberOfAttempt = 11 - count;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\r\n\t\t\t\t\tscoreOfWins++;\r\n\t\t\t\t\tTryAgain();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (intInput &gt; num) {\r\n\t\t\t\t\tString numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t} else if (intInput &lt; num){\r\n\t\t\t\t\tString numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\r\n\t\t\tTryAgain();\r\n\t\t} catch (Exception E) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\r\n\t\t\tTryAgain();\r\n\t\t}\r\n\t}\r\n\tstatic void TryAgain() {\r\n\t\twhile (true) {\r\n\t\t\tString inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\r\n\t\t\t\t\t+ &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\r\n\t\t\tif (inputAns == null) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t\tinputAns = inputAns.toUpperCase();\r\n\t\t\tif (inputAns.equals(&quot;Y&quot;) | inputAns.equals(&quot;Yes&quot;)) {\r\n\t\t\t\tGame();\r\n\t\t\t} else if (inputAns.equals(&quot;N&quot;) |inputAns.equals(&quot;NO&quot;)) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to start a Java program from where it was left after an error","body":"<p>In the program below, I created a simple number game that chooses a number between 1 and 100 and asks the user to guess the number. The user can continue guessing until they have made 10 attempts.</p>\n<p>When I run the program and input a string, the program throws a NumberFormatException. After clicking ‘OK’, I couldn’t find a way to handle this, so I called the ‘TryAgain’ method. What I want to know is how to restart the program from the same number of attempts after I accidentally press a button with a string text.</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class NumberGame {\n    static int scoreOfWins = 0; \n    static int numberOfAttempt = 0;\n    public static void main(String[] args) {\n        Game();\n    }\n\n    static void Game() {\n        try {\n            int num = (int) (Math.random() * 100);\n            int count = 10;\n            while(count &gt; 0) {\n//              System.out.println(num);\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\n                if (input == null) {\n                    System.exit(0);\n                }\n                int intInput = Integer.parseInt(input);\n                System.out.println(intInput);\n                if (intInput == num) {\n                    numberOfAttempt = 11 - count;\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\n                    scoreOfWins++;\n                    TryAgain();\n                    return;\n                } else if (intInput &gt; num) {\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\n                    count--;\n                } else if (intInput &lt; num){\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\n                    count--;\n                }\n            }\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\n            TryAgain();\n        } catch (Exception E) {\n            JOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\n            TryAgain();\n        }\n    }\n    static void TryAgain() {\n        while (true) {\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\n            if (inputAns == null) {\n                System.exit(0);\n            }\n            inputAns = inputAns.toUpperCase();\n            if (inputAns.equals(&quot;Y&quot;) | inputAns.equals(&quot;Yes&quot;)) {\n                Game();\n            } else if (inputAns.equals(&quot;N&quot;) |inputAns.equals(&quot;NO&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\n                return;\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700770435,"creation_date":1700770435,"answer_id":77539423,"question_id":77539372,"body_markdown":"You can either add a method to your enum\r\n\r\n    public List&lt;String&gt; getValues() {\r\n        return values().map(service -&gt; service.value);\r\n    }\r\n    \r\nAnd then use `allMatch` like this\r\n\r\n    boolean b = listOfService.stream()\r\n        .allMatch(service -&gt; Service.getValues().contains(service))\r\n    \r\nsee [allMatch doc][1]\r\n\r\nYou can probably optimize the enum method by storing the list or using another comparison\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/stream-allmatch-java-examples/","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<p>You can either add a method to your enum</p>\n<pre><code>public List&lt;String&gt; getValues() {\n    return values().map(service -&gt; service.value);\n}\n</code></pre>\n<p>And then use <code>allMatch</code> like this</p>\n<pre><code>boolean b = listOfService.stream()\n    .allMatch(service -&gt; Service.getValues().contains(service))\n</code></pre>\n<p>see <a href=\"https://www.geeksforgeeks.org/stream-allmatch-java-examples/\" rel=\"nofollow noreferrer\">allMatch doc</a></p>\n<p>You can probably optimize the enum method by storing the list or using another comparison</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700784404,"creation_date":1700780259,"answer_id":77539972,"question_id":77539372,"body_markdown":"&gt; _&quot;... I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, ... I would like to do it via stream but I can&#39;t think of any ideas. ...&quot;_\r\n\r\nHere is an example, using a _[for-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.\r\n\r\n```java\r\nboolean validate(List&lt;String&gt; list) {\r\n    Service[] array = Service.values();\r\n    boolean b;\r\n    for (String x : list) {\r\n        b = false;\r\n        for (Service y : array)\r\n            if (x.equals(y.value)) {\r\n                b = true;\r\n                break;\r\n            }\r\n        if (!b) return false;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nAnd, here is an example, using an _[aggregate](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\n```java\r\nboolean validate(List&lt;String&gt; list) {\r\n    Service[] array = Service.values();\r\n    return list.stream()\r\n               .noneMatch(\r\n                   x -&gt; {\r\n                       for (Service y : array)\r\n                           if (x.equals(y.value)) return false;\r\n                       return true;\r\n                   });\r\n}\r\n```\r\n\r\nIt&#39;s worth noting, you&#39;re _enum_ _value_ is the same as the _[name](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Enum.html#name())_.\\\r\nIt might be easier, to simply use this value.\r\n\r\n```java\r\nif (x.equalsIgnoreCase(y.name()))\r\n```","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<blockquote>\n<p><em>&quot;... I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, ... I would like to do it via stream but I can't think of any ideas. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example, using a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for-loop</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean validate(List&lt;String&gt; list) {\n    Service[] array = Service.values();\n    boolean b;\n    for (String x : list) {\n        b = false;\n        for (Service y : array)\n            if (x.equals(y.value)) {\n                b = true;\n                break;\n            }\n        if (!b) return false;\n    }\n    return true;\n}\n</code></pre>\n<p>And, here is an example, using an <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">aggregate</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean validate(List&lt;String&gt; list) {\n    Service[] array = Service.values();\n    return list.stream()\n               .noneMatch(\n                   x -&gt; {\n                       for (Service y : array)\n                           if (x.equals(y.value)) return false;\n                       return true;\n                   });\n}\n</code></pre>\n<p>It's worth noting, you're <em>enum</em> <em>value</em> is the same as the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\">name</a></em>.<br />\nIt might be easier, to simply use this value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x.equalsIgnoreCase(y.name()))\n</code></pre>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77539423,"answer_count":2,"score":-1,"last_activity_date":1700784404,"creation_date":1700769592,"question_id":77539372,"body_markdown":"Good afternoon\r\n\r\nI have a question, currently I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, this as a validation method, I&#39;m thinking about how to do it, I would like to do it via stream but I can&#39;t think of any ideas.\r\n\r\n\r\nMy ArrayList is like the following:\r\n\r\n    List&lt;String&gt; listOfService = new ArrayList&lt;&gt;(Arrays.asList(&quot;mobile_postpaid&quot;, &quot;mobile_internet&quot;, &quot;sam&quot;));\r\n\r\nMy EnumClass\r\n\r\n    package org.tmve.customer.ms.beans.response;\r\n    import lombok.Getter;\r\n    @Getter\r\n    public enum Service {\r\n    \r\n        MOBILE_PREPAID(&quot;mobile_prepaid&quot;), MOBILE_POSTPAID(&quot;mobile_postpaid&quot;), VALUE_ADDED_SERVICE(&quot;value_added_service&quot;), MOBILE_INTERNET(&quot;mobile_internet&quot;), DTH(&quot;dth&quot;), LANDLINE(&quot;landline&quot;), AUTHENTICATION(&quot;authentication&quot;);\r\n    \r\n        private String value;\r\n    \r\n        Service(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n\r\nAs we can see in ListOfService comes the value of sam, which is not within the ENUM, so I would like a comparison method and in this case where sam is not found within the values ​​of enum Service, return false\r\n\r\n","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<p>Good afternoon</p>\n<p>I have a question, currently I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, this as a validation method, I'm thinking about how to do it, I would like to do it via stream but I can't think of any ideas.</p>\n<p>My ArrayList is like the following:</p>\n<pre><code>List&lt;String&gt; listOfService = new ArrayList&lt;&gt;(Arrays.asList(&quot;mobile_postpaid&quot;, &quot;mobile_internet&quot;, &quot;sam&quot;));\n</code></pre>\n<p>My EnumClass</p>\n<pre><code>package org.tmve.customer.ms.beans.response;\nimport lombok.Getter;\n@Getter\npublic enum Service {\n\n    MOBILE_PREPAID(&quot;mobile_prepaid&quot;), MOBILE_POSTPAID(&quot;mobile_postpaid&quot;), VALUE_ADDED_SERVICE(&quot;value_added_service&quot;), MOBILE_INTERNET(&quot;mobile_internet&quot;), DTH(&quot;dth&quot;), LANDLINE(&quot;landline&quot;), AUTHENTICATION(&quot;authentication&quot;);\n\n    private String value;\n\n    Service(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>As we can see in ListOfService comes the value of sam, which is not within the ENUM, so I would like a comparison method and in this case where sam is not found within the values ​​of enum Service, return false</p>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":0,"creation_date":1547475792,"post_id":54183189,"comment_id":95194950,"body_markdown":"Do you mind to post your source repo?","body":"Do you mind to post your source repo?"},{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1547475952,"post_id":54183189,"comment_id":95195052,"body_markdown":"Sorry the code is not allowed to expose.","body":"Sorry the code is not allowed to expose."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":1,"creation_date":1547475962,"post_id":54183189,"comment_id":95195058,"body_markdown":"You need to either change the name of the method which registers the bean as  `public Executor taskExecutor()` from `public Executor getAsyncExecutor()` or  name your bean as &quot;taskExecutor&quot; e.g. `@Bean(name = &quot;taskExecutor&quot;) public Executor getAsyncExecutor()`","body":"You need to either change the name of the method which registers the bean as  <code>public Executor taskExecutor()</code> from <code>public Executor getAsyncExecutor()</code> or  name your bean as &quot;taskExecutor&quot; e.g. <code>@Bean(name = &quot;taskExecutor&quot;) public Executor getAsyncExecutor()</code>"}],"answers":[{"tags":[],"owner":{"account_id":10849649,"reputation":34,"user_id":7977870,"display_name":"Ivan Jadric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547476418,"creation_date":1547476418,"answer_id":54183464,"question_id":54183189,"body_markdown":"Add a name to your bean annotation,  like `@Bean(name=&quot;taskExecutor&quot;)`. That should make your bean available under the name taskExecutor. By default it register a bean with name *methodName*. See here for reference [Spring Bean][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"Can&#39;t use @Async in spring boot","body":"<p>Add a name to your bean annotation,  like <code>@Bean(name=\"taskExecutor\")</code>. That should make your bean available under the name taskExecutor. By default it register a bean with name <em>methodName</em>. See here for reference <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">Spring Bean</a></p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547478996,"creation_date":1547478996,"answer_id":54184211,"question_id":54183189,"body_markdown":"While the JavaBeans specification uses `get` (or `is`) prefixed to the name of a property for the getter method, Spring `@Bean` methods don&#39;t use that &quot;translation&quot; convention. The name of your executor bean is literally `getAsyncExecutor`; rename it to `taskExecutor`.","title":"Can&#39;t use @Async in spring boot","body":"<p>While the JavaBeans specification uses <code>get</code> (or <code>is</code>) prefixed to the name of a property for the getter method, Spring <code>@Bean</code> methods don't use that \"translation\" convention. The name of your executor bean is literally <code>getAsyncExecutor</code>; rename it to <code>taskExecutor</code>.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547480615,"creation_date":1547480615,"answer_id":54184663,"question_id":54183189,"body_markdown":"It appears that your `Application` is not a configuration class.\r\n\r\nPut the `@EnableAsync` either on the class that has the\r\n`@SpringBootApplciation` or on a class that is annotated with `@Configuration`.","title":"Can&#39;t use @Async in spring boot","body":"<p>It appears that your <code>Application</code> is not a configuration class.</p>\n\n<p>Put the <code>@EnableAsync</code> either on the class that has the\n<code>@SpringBootApplciation</code> or on a class that is annotated with <code>@Configuration</code>.</p>\n"}],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9510,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1700784095,"creation_date":1547475277,"question_id":54183189,"body_markdown":"I want to use spring boot&#39;s Asynchronous mechanism, here is my code.\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfig implements AsyncConfigurer {\r\n    \r\n        private static final int MAX_POOL_SIZE = 50;\r\n    \r\n        private static final int CORE_POOL_SIZE = 20;\r\n    \r\n        @Override\r\n        public Executor getAsyncExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setBeanName(&quot;taskExecutor&quot;);\r\n            taskExecutor.setMaxPoolSize(MAX_POOL_SIZE);\r\n            taskExecutor.setCorePoolSize(CORE_POOL_SIZE);\r\n            taskExecutor.setThreadNamePrefix(&quot;async-task-thread-pool&quot;);\r\n            taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n            taskExecutor.setAwaitTerminationSeconds(60 * 10);\r\n            taskExecutor.setRejectedExecutionHandler(\r\n                (r, executor) -&gt; log.warn(&quot;current thread pool is full, reject to invoke.&quot;));\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    \r\n        @Override\r\n        public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n            return (ex, method, params) -&gt;\r\n            {\r\n                log.error(&quot;invoke async method occurs error. method: {}, params: {}&quot;,\r\n                    method.getName(), JSON.toJSONString(params), ex);\r\n                throw new RuntimeException();\r\n            };\r\n        }\r\n    \r\n    }\r\n \r\nAnd I add the @Async annotation on another class&#39; method.\r\n\r\n```@Async(&quot;taskExecutor&quot;)\r\n@Override\r\npublic Future&lt;Result&gt; getResult(String name); \r\n```\r\nBut when I call the `getResult()` method, it report `No bean named &#39;taskExecutor&#39; available: No matching Executor bean found for qualifier &#39;taskExecutor&#39; - neither qualifier match nor bean name match!`.\r\n\r\nAnd then I find this page:[https://www.baeldung.com/spring-async][1]. I follow this page&#39;s guide - remove the `@EnableAsync` annotation on `Application.class` and add to the `AsyncConfig.class`. But still got the same error message.It seems that `setBeanName()` method doesn&#39;t effect. Is my usage wrong?\r\n\r\nBy the way, I&#39;ve read the api doc of `EnableAsync`, it writes \r\n\r\n&gt; &lt;p&gt;Note: In the above example the {@code ThreadPoolTaskExecutor} is not a fully managed Spring bean. Add the {@code @Bean} annotation to the {@code getAsyncExecutor()} method\r\n \r\n&gt; if you want a fully managed bean. In such circumstances it is no longer necessary to\r\nmanually call the {@code executor.initialize()} method as this will be invoked\r\nautomatically when the bean is initialized.\r\n\r\nWhat does the `not a fully managed Spring bean` mean? Which part of the bean not managed by Spring?\r\n  [1]: https://www.baeldung.com/spring-async","title":"Can&#39;t use @Async in spring boot","body":"<p>I want to use spring boot's Asynchronous mechanism, here is my code.</p>\n\n<pre><code>@Slf4j\n@Configuration\n@EnableAsync\npublic class AsyncConfig implements AsyncConfigurer {\n\n    private static final int MAX_POOL_SIZE = 50;\n\n    private static final int CORE_POOL_SIZE = 20;\n\n    @Override\n    public Executor getAsyncExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setBeanName(\"taskExecutor\");\n        taskExecutor.setMaxPoolSize(MAX_POOL_SIZE);\n        taskExecutor.setCorePoolSize(CORE_POOL_SIZE);\n        taskExecutor.setThreadNamePrefix(\"async-task-thread-pool\");\n        taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n        taskExecutor.setAwaitTerminationSeconds(60 * 10);\n        taskExecutor.setRejectedExecutionHandler(\n            (r, executor) -&gt; log.warn(\"current thread pool is full, reject to invoke.\"));\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n\n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return (ex, method, params) -&gt;\n        {\n            log.error(\"invoke async method occurs error. method: {}, params: {}\",\n                method.getName(), JSON.toJSONString(params), ex);\n            throw new RuntimeException();\n        };\n    }\n\n}\n</code></pre>\n\n<p>And I add the @Async annotation on another class' method.</p>\n\n<pre><code>@Override\npublic Future&lt;Result&gt; getResult(String name); \n</code></pre>\n\n<p>But when I call the <code>getResult()</code> method, it report <code>No bean named 'taskExecutor' available: No matching Executor bean found for qualifier 'taskExecutor' - neither qualifier match nor bean name match!</code>.</p>\n\n<p>And then I find this page:<a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-async</a>. I follow this page's guide - remove the <code>@EnableAsync</code> annotation on <code>Application.class</code> and add to the <code>AsyncConfig.class</code>. But still got the same error message.It seems that <code>setBeanName()</code> method doesn't effect. Is my usage wrong?</p>\n\n<p>By the way, I've read the api doc of <code>EnableAsync</code>, it writes </p>\n\n<blockquote>\n  <p><p>Note: In the above example the {@code ThreadPoolTaskExecutor} is not a fully managed Spring bean. Add the {@code @Bean} annotation to the {@code getAsyncExecutor()} method</p>\n  \n  <p>if you want a fully managed bean. In such circumstances it is no longer necessary to\n  manually call the {@code executor.initialize()} method as this will be invoked\n  automatically when the bean is initialized.</p>\n</blockquote>\n\n<p>What does the <code>not a fully managed Spring bean</code> mean? Which part of the bean not managed by Spring?</p>\n"},{"tags":["java","http","tomcat","ipc"],"comments":[{"owner":{"account_id":5403869,"reputation":451,"user_id":4302932,"display_name":"Secondo"},"score":0,"creation_date":1418693633,"post_id":27496096,"comment_id":43423954,"body_markdown":"Have you heard about JMS ? im not sure if jms is necessary tho.","body":"Have you heard about JMS ? im not sure if jms is necessary tho."},{"owner":{"account_id":4654175,"reputation":1091,"user_id":3770161,"display_name":"Fumu 7"},"score":0,"creation_date":1418694539,"post_id":27496096,"comment_id":43424149,"body_markdown":"What web-server program is running for third application? That is a web application, so it must have some server app. Why second application can not communicate with that web server of third application?","body":"What web-server program is running for third application? That is a web application, so it must have some server app. Why second application can not communicate with that web server of third application?"},{"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"score":0,"creation_date":1418713266,"post_id":27496096,"comment_id":43429234,"body_markdown":"The 3rd application is not hosted on any web server. It is a static application. We have a bunch of static HTML5 web pages, which use some Angular JS features.","body":"The 3rd application is not hosted on any web server. It is a static application. We have a bunch of static HTML5 web pages, which use some Angular JS features."},{"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"score":0,"creation_date":1418713572,"post_id":27496096,"comment_id":43429346,"body_markdown":"We dont need JMS, as we are not sending multiple messages one after another asynchronously. When we communicate, we send 1 message at a time.","body":"We dont need JMS, as we are not sending multiple messages one after another asynchronously. When we communicate, we send 1 message at a time."}],"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700784022,"creation_date":1418693256,"question_id":27496096,"body_markdown":"I am working on a task, that requires me to communicate with another applications on the same machine.\r\nthe machine is a Windows 7 laptop.\r\n\r\nThere are in total 3 applications on the laptop. Their specifications are given below:\r\n\r\n1. First application is coded in java and runs on a local Tomcat at port 6060\r\n\r\n2. Second application is coded in java and runs on Tomcat at port 8080\r\n\r\n3. Third application is coded in java and does not have Tomcat. It is a static web application.\r\n\r\nSince application 1 and 2 are running on Tomcat, I have used HTTP to communicate with each other. However, since they are on the same machine, is there any other way for them to communicate with each other?\r\n\r\nApplication 2 needs to communicate with application 3. What is the best way for this communication.\r\n\r\nPlease let me know if you require any further information to answer my queries.","title":"Communicate with another applications on the same machine","body":"<p>I am working on a task, that requires me to communicate with another applications on the same machine.\nthe machine is a Windows 7 laptop.</p>\n<p>There are in total 3 applications on the laptop. Their specifications are given below:</p>\n<ol>\n<li><p>First application is coded in java and runs on a local Tomcat at port 6060</p>\n</li>\n<li><p>Second application is coded in java and runs on Tomcat at port 8080</p>\n</li>\n<li><p>Third application is coded in java and does not have Tomcat. It is a static web application.</p>\n</li>\n</ol>\n<p>Since application 1 and 2 are running on Tomcat, I have used HTTP to communicate with each other. However, since they are on the same machine, is there any other way for them to communicate with each other?</p>\n<p>Application 2 needs to communicate with application 3. What is the best way for this communication.</p>\n<p>Please let me know if you require any further information to answer my queries.</p>\n"},{"tags":["java","c#","ipc"],"comments":[{"owner":{"account_id":66767,"reputation":7216,"user_id":195711,"accept_rate":47,"display_name":"kubal5003"},"score":0,"creation_date":1320450177,"post_id":8016964,"comment_id":9811442,"body_markdown":"Possible duplicate of:\nhttp://stackoverflow.com/questions/468198/consuming-a-net-library-via-com-or-direct-integration-in-java","body":"Possible duplicate of: <a href=\"http://stackoverflow.com/questions/468198/consuming-a-net-library-via-com-or-direct-integration-in-java\" title=\"consuming a net library via com or direct integration in java\">stackoverflow.com/questions/468198/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25204,"reputation":22119,"user_id":64644,"accept_rate":100,"display_name":"Dylan Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320450067,"creation_date":1320450067,"answer_id":8016999,"question_id":8016964,"body_markdown":"One way to approach this is to look at it as a problem of interprocess communication.  There are a bunch of options (assuming Java has access to the necessary Windows API&#39;s which I&#39;m assuming it does, but I&#39;m not really a Java dev).\r\n\r\nNamed Pipes, TCP/IP, Filesystem, Mailslots, etc.\r\n\r\nHere&#39;s a good article on some options: [http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574(v=vs.85).aspx][1]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574%28v=vs.85%29.aspx\r\n\r\nAnother option, which I don&#39;t know enough to speak about, is trying to load a .Net library into your java process.","title":"Communicate Java and C#","body":"<p>One way to approach this is to look at it as a problem of interprocess communication.  There are a bunch of options (assuming Java has access to the necessary Windows API's which I'm assuming it does, but I'm not really a Java dev).</p>\n\n<p>Named Pipes, TCP/IP, Filesystem, Mailslots, etc.</p>\n\n<p>Here's a good article on some options: <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574%28v=vs.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574(v=vs.85).aspx</a></p>\n\n<p>Another option, which I don't know enough to speak about, is trying to load a .Net library into your java process.</p>\n"},{"tags":[],"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330515964,"creation_date":1325499964,"answer_id":8699728,"question_id":8016964,"body_markdown":"Couldn&#39;t you use sockets?\r\nThey both do support it, but I never tried to do it between different languages.&lt;BR /&gt;\r\nGood luck.","title":"Communicate Java and C#","body":"<p>Couldn't you use sockets?\nThey both do support it, but I never tried to do it between different languages.<BR />\nGood luck.</p>\n"},{"tags":[],"owner":{"account_id":8509,"reputation":36469,"user_id":15393,"accept_rate":63,"display_name":"RB."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325500461,"creation_date":1325500461,"answer_id":8699805,"question_id":8016964,"body_markdown":"If you don&#39;t mind delving too deep you could use the Java Native Interface to generate code to marshall calls from Java to C# and back again. You&#39;d need to build a &quot;bridge&quot; in c/c++ (c++ is generally slightly easier). \r\n\r\nThis way you get in-process communication, which is the fastest way to work :-)","title":"Communicate Java and C#","body":"<p>If you don't mind delving too deep you could use the Java Native Interface to generate code to marshall calls from Java to C# and back again. You'd need to build a \"bridge\" in c/c++ (c++ is generally slightly easier). </p>\n\n<p>This way you get in-process communication, which is the fastest way to work :-)</p>\n"}],"owner":{"account_id":1019877,"reputation":41,"user_id":1030534,"display_name":"Patrick Toy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1546,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700783293,"creation_date":1320449761,"question_id":8016964,"body_markdown":"I&#39;m working on a project that uses an RFID reader, which only works with a library in C#. The thing is I&#39;d really like to work with Java (develop the rest of the program, GUI, etc), and use the C# program just to ask the reader to read the information and return a string to the Java program.\r\n\r\nSo, is there a way I could do this?","title":"Communicate Java and C#","body":"<p>I'm working on a project that uses an RFID reader, which only works with a library in C#. The thing is I'd really like to work with Java (develop the rest of the program, GUI, etc), and use the C# program just to ask the reader to read the information and return a string to the Java program.</p>\n<p>So, is there a way I could do this?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":4,"creation_date":1312308384,"post_id":6916398,"comment_id":8238345,"body_markdown":"In Java you usually don&#39;t send messages between threads, but you use synchronized objects to pass values between threads.","body":"In Java you usually don&#39;t send messages between threads, but you use synchronized objects to pass values between threads."},{"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"score":0,"creation_date":1312309236,"post_id":6916398,"comment_id":8238589,"body_markdown":"I synchronized instance variables as methoied in my new edit, will it work?","body":"I synchronized instance variables as methoied in my new edit, will it work?"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":1,"creation_date":1312310613,"post_id":6916398,"comment_id":8239021,"body_markdown":"@akshay You edit looks OK (except you meant `if (getFlag() == true)`).","body":"@akshay You edit looks OK (except you meant <code>if (getFlag() == true)</code>)."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700783966,"post_id":6916398,"comment_id":136699064,"body_markdown":"Or better still `if (getFlag())`.  Using `flag == true` or `flag == false` to test a boolean is bad style, and it opens you up to the `if (flag = true)` mistake ..","body":"Or better still <code>if (getFlag())</code>.  Using <code>flag == true</code> or <code>flag == false</code> to test a boolean is bad style, and it opens you up to the <code>if (flag = true)</code> mistake .."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490034,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1312308180,"creation_date":1312308180,"answer_id":6916488,"question_id":6916398,"body_markdown":"You could have a [`BlockingQueue`][1] of message objects. Other threads would place messages onto the queue. As part of the `while(true)` loop, thread `A` would [`poll`][2] the queue and process any messages that have arrived.\r\n\r\nIn code:\r\n\r\n    class A extends Thread{\r\n     List&lt;Object&gt;  objs = something ;//init it\r\n     BlockingQueue&lt;Message&gt; queue = new LinkedBlockingQueue&lt;Message&gt;();\r\n     void run(){\r\n         while(true){\r\n           Message msg;\r\n           while ((msg = queue.poll()) != null) {\r\n             // process msg\r\n           }\r\n           // do other stuff\r\n         }\r\n       }\r\n    }\r\n\r\nOther threads can now call `queue.put()` to send messages to thread `A`.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/BlockingQueue.html\r\n  [2]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html#poll()\r\n","title":"Communicating between two threads","body":"<p>You could have a <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"noreferrer\"><code>BlockingQueue</code></a> of message objects. Other threads would place messages onto the queue. As part of the <code>while(true)</code> loop, thread <code>A</code> would <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html#poll()\" rel=\"noreferrer\"><code>poll</code></a> the queue and process any messages that have arrived.</p>\n\n<p>In code:</p>\n\n<pre><code>class A extends Thread{\n List&lt;Object&gt;  objs = something ;//init it\n BlockingQueue&lt;Message&gt; queue = new LinkedBlockingQueue&lt;Message&gt;();\n void run(){\n     while(true){\n       Message msg;\n       while ((msg = queue.poll()) != null) {\n         // process msg\n       }\n       // do other stuff\n     }\n   }\n}\n</code></pre>\n\n<p>Other threads can now call <code>queue.put()</code> to send messages to thread <code>A</code>.</p>\n"},{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312308355,"creation_date":1312308355,"answer_id":6916518,"question_id":6916398,"body_markdown":"In a simplistic case you can add some instance variable to thread A class and have thread B set its value to indicate that thread A must clear its&#39; queues. In more advanced case you can use some queue of messages that both threads A and B can access. B would place a message there and A would read and act on it.\r\n\r\nIn all cases, access to variable or queue must be properly guarded for multiple threads access.  ","title":"Communicating between two threads","body":"<p>In a simplistic case you can add some instance variable to thread A class and have thread B set its value to indicate that thread A must clear its' queues. In more advanced case you can use some queue of messages that both threads A and B can access. B would place a message there and A would read and act on it.</p>\n\n<p>In all cases, access to variable or queue must be properly guarded for multiple threads access.  </p>\n"},{"tags":[],"owner":{"account_id":334517,"reputation":487,"user_id":661020,"display_name":"Garvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312308750,"creation_date":1312308750,"answer_id":6916588,"question_id":6916398,"body_markdown":"You should be able to add a method to class &quot;A&quot; that can be called elsewhere in your code. Just keep the reference to your instance of class &quot;A&quot; in an accessible place.\r\n\r\n    class A extends Thread{\r\n     List&lt;Object&gt;  objs = something ;//init it\r\n     void run(){\r\n       while(true){\r\n           //body which works on objs\r\n           //open receiving external message A should perform some action ie empty objs\r\n         }\r\n       }\r\n      void ChangeState()\r\n      {\r\n         //clear objs\r\n      } \r\n    }\r\n","title":"Communicating between two threads","body":"<p>You should be able to add a method to class \"A\" that can be called elsewhere in your code. Just keep the reference to your instance of class \"A\" in an accessible place.</p>\n\n<pre><code>class A extends Thread{\n List&lt;Object&gt;  objs = something ;//init it\n void run(){\n   while(true){\n       //body which works on objs\n       //open receiving external message A should perform some action ie empty objs\n     }\n   }\n  void ChangeState()\n  {\n     //clear objs\n  } \n}\n</code></pre>\n"}],"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49454,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"answer_count":3,"score":25,"last_activity_date":1700783011,"creation_date":1312307756,"question_id":6916398,"body_markdown":"I have a thread, `A` which has a list. List holds some objects. Now I want to design a mechanisim by which I can send some message to thread `A`.\r\n\r\n`Thread A` runs in a loop (it does not wait or sleep).\r\nSome other thread, `B`, sends some message to thread `A` and thread `A` empties all its queues.\r\n\r\nHow can I send messages between threads?\r\n\r\n    class A extends Thread {\r\n        List&lt;Object&gt; objs = something; //Init it\r\n        void run() {\r\n            while(true) {\r\n                //Body which works on objects.\r\n                //After receiving an external message, &quot;A&quot; should perform some action, for example, empty objects.\r\n            }\r\n        }\r\n    }\r\n\r\nEDIT:\r\nCan I do it like this?\r\n\r\n    class A extends Thread {\r\n        List&lt;Object&gt; objs = something; //Init it\r\n        Boolean flag = false;\r\n\r\n        public void setFlag(boolean value) {\r\n            synchronized(flag) {\r\n                this.flag = value;\r\n            }\r\n        }\r\n\r\n        public void getFlag() {\r\n            synchronized(flag) {\r\n                return this.flag;\r\n            }\r\n        }\r\n\r\n        void run() {\r\n            while(true) {\r\n                //Body which works on objects.\r\n                //After receiving an external message, A should perform some action, for example, empty objects.\r\n                if (getFlag == true)\r\n                    //Empty list\r\n            }\r\n        }\r\n    }\r\n","title":"Communicating between two threads","body":"<p>I have a thread, <code>A</code> which has a list. List holds some objects. Now I want to design a mechanisim by which I can send some message to thread <code>A</code>.</p>\n\n<p><code>Thread A</code> runs in a loop (it does not wait or sleep).\nSome other thread, <code>B</code>, sends some message to thread <code>A</code> and thread <code>A</code> empties all its queues.</p>\n\n<p>How can I send messages between threads?</p>\n\n<pre><code>class A extends Thread {\n    List&lt;Object&gt; objs = something; //Init it\n    void run() {\n        while(true) {\n            //Body which works on objects.\n            //After receiving an external message, \"A\" should perform some action, for example, empty objects.\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT:\nCan I do it like this?</p>\n\n<pre><code>class A extends Thread {\n    List&lt;Object&gt; objs = something; //Init it\n    Boolean flag = false;\n\n    public void setFlag(boolean value) {\n        synchronized(flag) {\n            this.flag = value;\n        }\n    }\n\n    public void getFlag() {\n        synchronized(flag) {\n            return this.flag;\n        }\n    }\n\n    void run() {\n        while(true) {\n            //Body which works on objects.\n            //After receiving an external message, A should perform some action, for example, empty objects.\n            if (getFlag == true)\n                //Empty list\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","php","communication"],"comments":[{"owner":{"account_id":322149,"reputation":3217,"user_id":641418,"accept_rate":86,"display_name":"k to the z"},"score":0,"creation_date":1301681634,"post_id":5517156,"comment_id":6265236,"body_markdown":"Are you saying you want to use the same database with a php program and a java program?","body":"Are you saying you want to use the same database with a php program and a java program?"},{"owner":{"account_id":75273,"reputation":60170,"user_id":215966,"accept_rate":83,"display_name":"prodigitalson"},"score":0,"creation_date":1301681996,"post_id":5517156,"comment_id":6265311,"body_markdown":"If youre using the db essentially as a message transport layer then there isnt much of a sampel we can give you... you jsut need to access the database in each application and do whatever you need to do with the data. If you&#39;re having a specific problem edit the question with details about that problem.","body":"If youre using the db essentially as a message transport layer then there isnt much of a sampel we can give you... you jsut need to access the database in each application and do whatever you need to do with the data. If you&#39;re having a specific problem edit the question with details about that problem."},{"owner":{"account_id":110165,"reputation":1395,"user_id":291640,"display_name":"whoughton"},"score":0,"creation_date":1301682107,"post_id":5517156,"comment_id":6265346,"body_markdown":"Or if you&#39;re really just looking for a message queue, you could just use a message queueing system like activemq.","body":"Or if you&#39;re really just looking for a message queue, you could just use a message queueing system like activemq."}],"answers":[{"tags":[],"owner":{"account_id":204593,"reputation":5891,"user_id":452902,"accept_rate":100,"display_name":"devasia2112"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301683301,"creation_date":1301683301,"answer_id":5517479,"question_id":5517156,"body_markdown":"For sure.\r\nTake a look this, will help you:\r\n\r\nhttp://php-java-bridge.sourceforge.net/pjb/","title":"PHP to Java communication","body":"<p>For sure.\nTake a look this, will help you:</p>\n\n<p><a href=\"http://php-java-bridge.sourceforge.net/pjb/\" rel=\"nofollow\">http://php-java-bridge.sourceforge.net/pjb/</a></p>\n"},{"tags":[],"owner":{"account_id":292820,"reputation":594,"user_id":595810,"accept_rate":100,"display_name":"Daniel Cannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301685958,"creation_date":1301685958,"answer_id":5517907,"question_id":5517156,"body_markdown":"Facebook developed [Thrift][1] for doing exactly what you are looking for.\r\n\r\nHope this helps\r\nDaniel\r\n\r\n  [1]: http://incubator.apache.org/thrift/","title":"PHP to Java communication","body":"<p>Facebook developed <a href=\"http://incubator.apache.org/thrift/\" rel=\"nofollow\">Thrift</a> for doing exactly what you are looking for.</p>\n\n<p>Hope this helps\nDaniel</p>\n"}],"owner":{"account_id":731489,"reputation":61,"user_id":686604,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1301690955,"answer_count":2,"score":5,"last_activity_date":1700782760,"creation_date":1301681471,"question_id":5517156,"body_markdown":"I want to use PHP to communicate with a java using shared database to communicate, please help me with sample code or logic.\r\n\r\nThank you.\r\n\r\nEDIT:\r\n\r\nI appreciate your suggestions, Yes I will be using both php and java to connect to thesame database.\r\n\r\nThe issue I&#39;m faced with is that I want to know, do I have to create generic command that will be used for the communication? I&#39;m trying to avoid dirty codes and ensure good programming techniques.","title":"PHP to Java communication","body":"<p>I want to use PHP to communicate with a java using shared database to communicate, please help me with sample code or logic.</p>\n\n<p>Thank you.</p>\n\n<p>EDIT:</p>\n\n<p>I appreciate your suggestions, Yes I will be using both php and java to connect to thesame database.</p>\n\n<p>The issue I'm faced with is that I want to know, do I have to create generic command that will be used for the communication? I'm trying to avoid dirty codes and ensure good programming techniques.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1482930996,"post_id":6889057,"comment_id":69926993,"body_markdown":"I believe, using log4j or slf4j will be cleaner than the suggested solutions in the answers. :)","body":"I believe, using log4j or slf4j will be cleaner than the suggested solutions in the answers. :)"}],"answers":[{"tags":[],"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312110762,"creation_date":1312110762,"answer_id":6889095,"question_id":6889057,"body_markdown":"Some application servers implicitly log the thread ID (I know of WebSphere). You can create your own [LogFormatter][1]. The records passed to the formatter contain the Thread ID, see [here][2]. I implemented that approach for Tomcat several times, but it&#39;ll work in Java SE environments as well.\r\n\r\nBTW: The Thread name is not available to LogRecord.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/Formatter.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/LogRecord.html#getThreadID%28%29","title":"Printing thread name using java.util.logging","body":"<p>Some application servers implicitly log the thread ID (I know of WebSphere). You can create your own <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/Formatter.html\" rel=\"nofollow\">LogFormatter</a>. The records passed to the formatter contain the Thread ID, see <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/LogRecord.html#getThreadID%28%29\" rel=\"nofollow\">here</a>. I implemented that approach for Tomcat several times, but it'll work in Java SE environments as well.</p>\n\n<p>BTW: The Thread name is not available to LogRecord.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1312111344,"creation_date":1312111344,"answer_id":6889151,"question_id":6889057,"body_markdown":"Embarrassingly, but looks like `java.util.logging` can&#39;t do this...\r\n\r\nThe default `java.util.logging.SimpleFormatter` doesn&#39;t have the ability to log thread name at all. The `java.util.logging.FileHandler` supports few template placeholders, none of them is thread name.\r\n\r\n`java.util.logging.XMLFormatter` is the closest one, but only logs thread id:\r\n\r\n\t&lt;record&gt;\r\n\t  &lt;date&gt;2011-07-31T13:15:32&lt;/date&gt;\r\n\t  &lt;millis&gt;1312110932680&lt;/millis&gt;\r\n\t  &lt;sequence&gt;0&lt;/sequence&gt;\r\n\t  &lt;logger&gt;&lt;/logger&gt;\r\n\t  &lt;level&gt;INFO&lt;/level&gt;\r\n\t  &lt;class&gt;java.util.logging.LogManager$RootLogger&lt;/class&gt;\r\n\t  &lt;method&gt;log&lt;/method&gt;\r\n\t  &lt;thread&gt;10&lt;/thread&gt;\r\n\t  &lt;message&gt;Test&lt;/message&gt;\r\n\t&lt;/record&gt;\r\n\r\nIf you think we&#39;re getting close - we&#39;re not. `LogRecord` class only holds the thread ID, not its name - not very useful. ","title":"Printing thread name using java.util.logging","body":"<p>Embarrassingly, but looks like <code>java.util.logging</code> can't do this...</p>\n\n<p>The default <code>java.util.logging.SimpleFormatter</code> doesn't have the ability to log thread name at all. The <code>java.util.logging.FileHandler</code> supports few template placeholders, none of them is thread name.</p>\n\n<p><code>java.util.logging.XMLFormatter</code> is the closest one, but only logs thread id:</p>\n\n<pre><code>&lt;record&gt;\n  &lt;date&gt;2011-07-31T13:15:32&lt;/date&gt;\n  &lt;millis&gt;1312110932680&lt;/millis&gt;\n  &lt;sequence&gt;0&lt;/sequence&gt;\n  &lt;logger&gt;&lt;/logger&gt;\n  &lt;level&gt;INFO&lt;/level&gt;\n  &lt;class&gt;java.util.logging.LogManager$RootLogger&lt;/class&gt;\n  &lt;method&gt;log&lt;/method&gt;\n  &lt;thread&gt;10&lt;/thread&gt;\n  &lt;message&gt;Test&lt;/message&gt;\n&lt;/record&gt;\n</code></pre>\n\n<p>If you think we're getting close - we're not. <code>LogRecord</code> class only holds the thread ID, not its name - not very useful. </p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312117499,"creation_date":1312117499,"answer_id":6889643,"question_id":6889057,"body_markdown":"java.util.logging has many curious peculiarities. you can add a facade API to tweak its behaviors\r\n\r\n    public class Log\r\n\r\n        Logger logger;\r\n\r\n        static public Log of(Class clazz)\r\n            return new Log( Logger.getLogger( clazz.getName() ));\r\n\r\n        public void error(Throwable thrown, String msg, Object... params)\r\n        {\r\n            log(ERROR, thrown, msg, params);\r\n        }\r\n\r\n        void log(Level level, Throwable thrown, String msg, Object... params)\r\n        {\r\n            if( !logger.isLoggable(level) ) return;\r\n\r\n            // bolt on thread name somewhere\r\n            LogRecord record = new LogRecord(...);\r\n            record.setXxx(...);\r\n            ...\r\n            logger.log(record);\r\n        }\r\n        \r\n    ----\r\n\r\n    static final Log log = Log.of(Foo.class);\r\n    ....\r\n    log.error(...);\r\n\r\nPeople use java&#39;s logging mostly because they don&#39;t want to have 3rd party dependencies. That&#39;s also why they can&#39;t depend on existing logging facades like apache&#39;s or slf4j.","title":"Printing thread name using java.util.logging","body":"<p>java.util.logging has many curious peculiarities. you can add a facade API to tweak its behaviors</p>\n\n<pre><code>public class Log\n\n    Logger logger;\n\n    static public Log of(Class clazz)\n        return new Log( Logger.getLogger( clazz.getName() ));\n\n    public void error(Throwable thrown, String msg, Object... params)\n    {\n        log(ERROR, thrown, msg, params);\n    }\n\n    void log(Level level, Throwable thrown, String msg, Object... params)\n    {\n        if( !logger.isLoggable(level) ) return;\n\n        // bolt on thread name somewhere\n        LogRecord record = new LogRecord(...);\n        record.setXxx(...);\n        ...\n        logger.log(record);\n    }\n\n----\n\nstatic final Log log = Log.of(Foo.class);\n....\nlog.error(...);\n</code></pre>\n\n<p>People use java's logging mostly because they don't want to have 3rd party dependencies. That's also why they can't depend on existing logging facades like apache's or slf4j.</p>\n"},{"tags":[],"owner":{"account_id":84219,"reputation":4145,"user_id":235585,"accept_rate":68,"display_name":"l245c4l"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1315517726,"creation_date":1315517726,"answer_id":7354800,"question_id":6889057,"body_markdown":"I had similar problem. As answered here https://stackoverflow.com/questions/5862077/how-to-align-log-messages-using-java-util-logging/5863139#5863139 you can extend `java.util.logging.Formatter` but instead getting `LogRecord#getThreadID()` you can get thread name by invoking `Thread.currentThread().getName()` like this:\r\n\r\n    public class MyLogFormatter extends Formatter\r\n    {\r\n\r\n\t    private static final MessageFormat messageFormat = new MessageFormat(&quot;[{3,date,hh:mm:ss} {2} {0} {5}]{4} \\n&quot;);\r\n\r\n\t    public MyLogFormatter()\r\n\t    {\r\n\t    \tsuper();\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String format(LogRecord record)\r\n\t    {\r\n\t    \tObject[] arguments = new Object[6];\r\n\t    \targuments[0] = record.getLoggerName();\r\n\t    \targuments[1] = record.getLevel();\r\n\t    \targuments[2] = Thread.currentThread().getName();\r\n\t    \targuments[3] = new Date(record.getMillis());\r\n\t    \targuments[4] = record.getMessage();\r\n\t    \targuments[5] = record.getSourceMethodName();\r\n\t    \treturn messageFormat.format(arguments);\r\n\t    }\r\n\r\n    }\r\n","title":"Printing thread name using java.util.logging","body":"<p>I had similar problem. As answered here <a href=\"https://stackoverflow.com/questions/5862077/how-to-align-log-messages-using-java-util-logging/5863139#5863139\">How to align log messages using java.util.logging</a> you can extend <code>java.util.logging.Formatter</code> but instead getting <code>LogRecord#getThreadID()</code> you can get thread name by invoking <code>Thread.currentThread().getName()</code> like this:</p>\n\n<pre><code>public class MyLogFormatter extends Formatter\n{\n\n    private static final MessageFormat messageFormat = new MessageFormat(\"[{3,date,hh:mm:ss} {2} {0} {5}]{4} \\n\");\n\n    public MyLogFormatter()\n    {\n        super();\n    }\n\n    @Override\n    public String format(LogRecord record)\n    {\n        Object[] arguments = new Object[6];\n        arguments[0] = record.getLoggerName();\n        arguments[1] = record.getLevel();\n        arguments[2] = Thread.currentThread().getName();\n        arguments[3] = new Date(record.getMillis());\n        arguments[4] = record.getMessage();\n        arguments[5] = record.getSourceMethodName();\n        return messageFormat.format(arguments);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2812245,"reputation":3,"user_id":2418246,"display_name":"Johann Tienhaara"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1369411958,"creation_date":1369411958,"answer_id":16739340,"question_id":6889057,"body_markdown":"A couple of the answers above suggest that LogRecord.getThreadId() returns a meaningful thread ID, and all we&#39;re missing is a way to correlate that to the thread&#39;s name.\r\n\r\nUnfortunately LogRecord.getThreadId() returns an int value which does not correspond to the long id of the thread which induced the log message.\r\n\r\nSo we cannot just use ManagementFactory.getThreadMXBean() to resolve the thread name.  It results in random thread names.\r\n\r\nIf you are certain that your Logging facility always formats in the same thread as the caller, then you can create a custom Formatter as proposed above, and call Thread.currentThread().getName().\r\n\r\nIt seems that a Logging facade or a third party library are the only completely safe options.\r\n","title":"Printing thread name using java.util.logging","body":"<p>A couple of the answers above suggest that LogRecord.getThreadId() returns a meaningful thread ID, and all we're missing is a way to correlate that to the thread's name.</p>\n\n<p>Unfortunately LogRecord.getThreadId() returns an int value which does not correspond to the long id of the thread which induced the log message.</p>\n\n<p>So we cannot just use ManagementFactory.getThreadMXBean() to resolve the thread name.  It results in random thread names.</p>\n\n<p>If you are certain that your Logging facility always formats in the same thread as the caller, then you can create a custom Formatter as proposed above, and call Thread.currentThread().getName().</p>\n\n<p>It seems that a Logging facade or a third party library are the only completely safe options.</p>\n"},{"tags":[],"owner":{"account_id":1834694,"reputation":1597,"user_id":1665301,"display_name":"Pedro Reis"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1446021804,"creation_date":1446021804,"answer_id":33386375,"question_id":6889057,"body_markdown":"To complement @l245c4l answer: Instead of using SimpleFormatter() use:\r\n\r\n    //fileHandler.setFormatter(new SimpleFormatter());\r\n    \r\n    class MyFormatter extends Formatter {\r\n        private final MessageFormat messageFormat = new MessageFormat(&quot;{0,date}, {0,time} {1} {2}: {3} [T:{4}] {5}\\n&quot;);\r\n                    \r\n        public String format(LogRecord record)\r\n        {\r\n            Object[] arguments = new Object[6];\r\n            arguments[0] = new Date( record.getMillis() );\r\n            arguments[1] = record.getSourceClassName();\r\n            arguments[2] = record.getSourceMethodName();\r\n            arguments[3] = record.getLevel();\r\n            arguments[4] = Long.toString( Thread.currentThread().getId() );\r\n            arguments[5] = record.getMessage();\r\n                        \r\n            return messageFormat.format(arguments);\r\n        }\r\n    }\r\n                \r\n    fileHandler.setFormatter( new MyFormatter() ); \r\n                \r\n    Logger myLogger = Logger.getLogger(&quot;&lt;LOGGER_NAME&gt;&quot;);\r\n    myLogger.addHandler(fileHandler);\r\n\r\nwhere `T:{4}` is the thread id (argument 4).","title":"Printing thread name using java.util.logging","body":"<p>To complement @l245c4l answer: Instead of using SimpleFormatter() use:</p>\n\n<pre><code>//fileHandler.setFormatter(new SimpleFormatter());\n\nclass MyFormatter extends Formatter {\n    private final MessageFormat messageFormat = new MessageFormat(\"{0,date}, {0,time} {1} {2}: {3} [T:{4}] {5}\\n\");\n\n    public String format(LogRecord record)\n    {\n        Object[] arguments = new Object[6];\n        arguments[0] = new Date( record.getMillis() );\n        arguments[1] = record.getSourceClassName();\n        arguments[2] = record.getSourceMethodName();\n        arguments[3] = record.getLevel();\n        arguments[4] = Long.toString( Thread.currentThread().getId() );\n        arguments[5] = record.getMessage();\n\n        return messageFormat.format(arguments);\n    }\n}\n\nfileHandler.setFormatter( new MyFormatter() ); \n\nLogger myLogger = Logger.getLogger(\"&lt;LOGGER_NAME&gt;\");\nmyLogger.addHandler(fileHandler);\n</code></pre>\n\n<p>where <code>T:{4}</code> is the thread id (argument 4).</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700782135,"creation_date":1556369524,"answer_id":55880722,"question_id":6889057,"body_markdown":"# With a custom [`Formatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Formatter.html)\r\n\r\nLuckily, [`LogRecord`](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogRecord.html) contains the ID of the thread that produced the log message. We can get hold of this `LogRecord` when writing a custom `Formatter`. Once we have that, we only need to get the thread name via its ID.\r\n\r\nThere are [a couple of ways](https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/3018672) to get the [`Thread`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html) object corresponding to that ID, here&#39;s mine:\r\n\r\n\r\n    static Optional&lt;Thread&gt; getThread(long threadId) {\r\n        return Thread.getAllStackTraces().keySet().stream()\r\n                .filter(t -&gt; t.getId() == threadId)\r\n                .findFirst();\r\n    }\r\n\r\nThe following is a minimal `Formatter` that only prints the thread name and the log message:\r\n\r\n    private static Formatter getMinimalFormatter() {\r\n        return new Formatter() {\r\n\r\n            @Override\r\n            public String format(LogRecord record) {\r\n\r\n                int threadId = record.getThreadID();\r\n                String threadName = getThread(threadId)\r\n                        .map(Thread::getName)\r\n                        .orElseGet(() -&gt; &quot;Thread with ID &quot; + threadId);\r\n\r\n                return threadName + &quot;: &quot; + record.getMessage() + &quot;\\n&quot;;\r\n            }\r\n        };\r\n    }\r\n\r\nTo use your custom formatter, there are again [different options](https://www.logicbig.com/tutorials/core-java-tutorial/logging/customizing-default-format.html), one way is to modify the default `ConsoleHandler`:\r\n\r\n    public static void main(final String... args) {\r\n\r\n        getDefaultConsoleHandler().ifPresentOrElse(\r\n                consoleHandler -&gt; consoleHandler.setFormatter(getMinimalFormatter()),\r\n                () -&gt; System.err.println(&quot;Could not get default ConsoleHandler&quot;));\r\n\r\n        Logger log = Logger.getLogger(MyClass.class.getName());\r\n        log.info(&quot;Hello from the main thread&quot;);\r\n        SwingUtilities.invokeLater(() -&gt; log.info(&quot;Hello from the event dispatch thread&quot;));\r\n    }\r\n\r\n    static Optional&lt;Handler&gt; getDefaultConsoleHandler() {\r\n        // All the loggers inherit configuration from the root logger. See:\r\n        // https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html#a1.3\r\n        var rootLogger = Logger.getLogger(&quot;&quot;)\r\n        // The root logger&#39;s first handler is the default ConsoleHandler\r\n        return first(Arrays.asList(rootLogger.getHandlers()));\r\n    }\r\n\r\n    static &lt;T&gt; Optional&lt;T&gt; first(List&lt;T&gt; list) {\r\n        return list.isEmpty() ?\r\n                Optional.empty() :\r\n                Optional.ofNullable(list.get(0));\r\n    }\r\n\r\nYour minimal `Formatter` should then produce the following log messages containing the thread name:\r\n\r\n&gt; main: Hello from the main thread\r\n\r\nand\r\n\r\n&gt; AWT-EventQueue-0: Hello from the event dispatch thread\r\n\r\n---\r\n\r\nThis is a `Formatter` that shows how to log more than thread name and log message:\r\n\r\n    private static Formatter getCustomFormatter() {\r\n        return new Formatter() {\r\n\r\n            @Override\r\n            public String format(LogRecord record) {\r\n\r\n                var dateTime = ZonedDateTime.ofInstant(record.getInstant(), ZoneId.systemDefault());\r\n\r\n                int threadId = record.getThreadID();\r\n                String threadName = getThread(threadId)\r\n                        .map(Thread::getName)\r\n                        .orElse(&quot;Thread with ID &quot; + threadId);\r\n\r\n                // See also: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\r\n                var formatString = &quot;%1$tF %1$tT %2$-7s [%3$s] %4$s.%5$s: %6$s %n%7$s&quot;;\r\n\r\n                return String.format(\r\n                        formatString,\r\n                        dateTime,\r\n                        record.getLevel().getName(),\r\n                        threadName,\r\n                        record.getSourceClassName(),\r\n                        record.getSourceMethodName(),\r\n                        record.getMessage(),\r\n                        stackTraceToString(record)\r\n                );\r\n            }\r\n        };\r\n    }\r\n\r\n    private static String stackTraceToString(LogRecord record) {\r\n        final String throwableAsString;\r\n        if (record.getThrown() != null) {\r\n            var stringWriter = new StringWriter();\r\n            var printWriter = new PrintWriter(stringWriter);\r\n            printWriter.println();\r\n            record.getThrown().printStackTrace(printWriter);\r\n            printWriter.close();\r\n            throwableAsString = stringWriter.toString();\r\n        } else {\r\n            throwableAsString = &quot;&quot;;\r\n        }\r\n        return throwableAsString;\r\n    }\r\n\r\n\r\nThat `Formatter` produces log messages like these:\r\n\r\n&gt;2019-04-27 13:21:01 INFO    [AWT-EventQueue-0] package.ClassName.method: The log message\r\n\r\n","title":"Printing thread name using java.util.logging","body":"<h1>With a custom <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a></h1>\n<p>Luckily, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogRecord.html\" rel=\"nofollow noreferrer\"><code>LogRecord</code></a> contains the ID of the thread that produced the log message. We can get hold of this <code>LogRecord</code> when writing a custom <code>Formatter</code>. Once we have that, we only need to get the thread name via its ID.</p>\n<p>There are <a href=\"https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/3018672\">a couple of ways</a> to get the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\"><code>Thread</code></a> object corresponding to that ID, here's mine:</p>\n<pre><code>static Optional&lt;Thread&gt; getThread(long threadId) {\n    return Thread.getAllStackTraces().keySet().stream()\n            .filter(t -&gt; t.getId() == threadId)\n            .findFirst();\n}\n</code></pre>\n<p>The following is a minimal <code>Formatter</code> that only prints the thread name and the log message:</p>\n<pre><code>private static Formatter getMinimalFormatter() {\n    return new Formatter() {\n\n        @Override\n        public String format(LogRecord record) {\n\n            int threadId = record.getThreadID();\n            String threadName = getThread(threadId)\n                    .map(Thread::getName)\n                    .orElseGet(() -&gt; &quot;Thread with ID &quot; + threadId);\n\n            return threadName + &quot;: &quot; + record.getMessage() + &quot;\\n&quot;;\n        }\n    };\n}\n</code></pre>\n<p>To use your custom formatter, there are again <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/logging/customizing-default-format.html\" rel=\"nofollow noreferrer\">different options</a>, one way is to modify the default <code>ConsoleHandler</code>:</p>\n<pre><code>public static void main(final String... args) {\n\n    getDefaultConsoleHandler().ifPresentOrElse(\n            consoleHandler -&gt; consoleHandler.setFormatter(getMinimalFormatter()),\n            () -&gt; System.err.println(&quot;Could not get default ConsoleHandler&quot;));\n\n    Logger log = Logger.getLogger(MyClass.class.getName());\n    log.info(&quot;Hello from the main thread&quot;);\n    SwingUtilities.invokeLater(() -&gt; log.info(&quot;Hello from the event dispatch thread&quot;));\n}\n\nstatic Optional&lt;Handler&gt; getDefaultConsoleHandler() {\n    // All the loggers inherit configuration from the root logger. See:\n    // https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html#a1.3\n    var rootLogger = Logger.getLogger(&quot;&quot;)\n    // The root logger's first handler is the default ConsoleHandler\n    return first(Arrays.asList(rootLogger.getHandlers()));\n}\n\nstatic &lt;T&gt; Optional&lt;T&gt; first(List&lt;T&gt; list) {\n    return list.isEmpty() ?\n            Optional.empty() :\n            Optional.ofNullable(list.get(0));\n}\n</code></pre>\n<p>Your minimal <code>Formatter</code> should then produce the following log messages containing the thread name:</p>\n<blockquote>\n<p>main: Hello from the main thread</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>AWT-EventQueue-0: Hello from the event dispatch thread</p>\n</blockquote>\n<hr />\n<p>This is a <code>Formatter</code> that shows how to log more than thread name and log message:</p>\n<pre><code>private static Formatter getCustomFormatter() {\n    return new Formatter() {\n\n        @Override\n        public String format(LogRecord record) {\n\n            var dateTime = ZonedDateTime.ofInstant(record.getInstant(), ZoneId.systemDefault());\n\n            int threadId = record.getThreadID();\n            String threadName = getThread(threadId)\n                    .map(Thread::getName)\n                    .orElse(&quot;Thread with ID &quot; + threadId);\n\n            // See also: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\n            var formatString = &quot;%1$tF %1$tT %2$-7s [%3$s] %4$s.%5$s: %6$s %n%7$s&quot;;\n\n            return String.format(\n                    formatString,\n                    dateTime,\n                    record.getLevel().getName(),\n                    threadName,\n                    record.getSourceClassName(),\n                    record.getSourceMethodName(),\n                    record.getMessage(),\n                    stackTraceToString(record)\n            );\n        }\n    };\n}\n\nprivate static String stackTraceToString(LogRecord record) {\n    final String throwableAsString;\n    if (record.getThrown() != null) {\n        var stringWriter = new StringWriter();\n        var printWriter = new PrintWriter(stringWriter);\n        printWriter.println();\n        record.getThrown().printStackTrace(printWriter);\n        printWriter.close();\n        throwableAsString = stringWriter.toString();\n    } else {\n        throwableAsString = &quot;&quot;;\n    }\n    return throwableAsString;\n}\n</code></pre>\n<p>That <code>Formatter</code> produces log messages like these:</p>\n<blockquote>\n<p>2019-04-27 13:21:01 INFO    [AWT-EventQueue-0] package.ClassName.method: The log message</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19089494,"reputation":1,"user_id":13940058,"display_name":"Shanmugavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594885847,"creation_date":1594883231,"answer_id":62929324,"question_id":6889057,"body_markdown":"As mentioned in the previous answers, LogRecord only has the ThreadID information and you have to iterate over the thread list to get the thread name.\r\nSuprisingly enough, the thread might not be alive at the time the Logger logs the message in some cases.\r\n\r\nWhat i suggest is to write a Wrapper which will allow you to send the thread name along with the message itself.\r\n\r\n    package com.sun.experiments.java.logging;\r\n    \r\n        import java.util.logging.Level;\r\n        \r\n        public class ThreadLogger {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tLogger log = Logger.getLogger(ThreadLogger.class.getName());//Invokes the static method of the below Logger class\r\n        \t\tlog.log(Level.INFO, &quot;Logging main message&quot;);\r\n        \t\tnew Thread(()-&gt; {Logger.getLogger(ThreadLogger.class.getName());log.log(Level.INFO, &quot;Logging thread message&quot;);}).start();\r\n        \t}\r\n        \r\n        \tpublic static class Logger{\r\n        \t\tprivate final java.util.logging.Logger log;\r\n        \t\tprivate Logger() {\tlog = null;}//Shouldn&#39;t use this. The log is initialized to null and thus it will generate Null Pointer exception when accessing methods using it.\r\n        \t\tprivate Logger(String name) {\r\n        \t\t\tlog = java.util.logging.Logger.getLogger(name);\r\n        \t\t}\t\r\n        \t\tprivate static Logger getLogger(String name) {\r\n        \t\t\treturn new Logger(name);\r\n        \t\t}\r\n        \t\tpublic void log(Level level,String message)\r\n        \t\t{\r\n        \t\t\tmessage = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\r\n        \t\t\tlog.log(level,message);\r\n        \t\t}\r\n        \t\tpublic void log(Level level,String message,Throwable e)\r\n        \t\t{\r\n        \t\t\tmessage = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\r\n        \t\t\tlog.log(level,message,e);\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n\r\nAnd the output will be :\r\n\r\n    Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\r\n    INFO: [main]:     Logging main message\r\n    Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\r\n    INFO: [Thread-1]: Logging thread message\r\n\r\nInstead of extending the entire Logger class i went for wrapping it, as i don&#39;t want to override all the methods. I only require a few methods.","title":"Printing thread name using java.util.logging","body":"<p>As mentioned in the previous answers, LogRecord only has the ThreadID information and you have to iterate over the thread list to get the thread name.\nSuprisingly enough, the thread might not be alive at the time the Logger logs the message in some cases.</p>\n<p>What i suggest is to write a Wrapper which will allow you to send the thread name along with the message itself.</p>\n<pre><code>package com.sun.experiments.java.logging;\n\n    import java.util.logging.Level;\n    \n    public class ThreadLogger {\n    \n        public static void main(String[] args) {\n            Logger log = Logger.getLogger(ThreadLogger.class.getName());//Invokes the static method of the below Logger class\n            log.log(Level.INFO, &quot;Logging main message&quot;);\n            new Thread(()-&gt; {Logger.getLogger(ThreadLogger.class.getName());log.log(Level.INFO, &quot;Logging thread message&quot;);}).start();\n        }\n    \n        public static class Logger{\n            private final java.util.logging.Logger log;\n            private Logger() {  log = null;}//Shouldn't use this. The log is initialized to null and thus it will generate Null Pointer exception when accessing methods using it.\n            private Logger(String name) {\n                log = java.util.logging.Logger.getLogger(name);\n            }   \n            private static Logger getLogger(String name) {\n                return new Logger(name);\n            }\n            public void log(Level level,String message)\n            {\n                message = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\n                log.log(level,message);\n            }\n            public void log(Level level,String message,Throwable e)\n            {\n                message = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\n                log.log(level,message,e);\n            }\n        }\n    }\n</code></pre>\n<p>And the output will be :</p>\n<pre><code>Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\nINFO: [main]:     Logging main message\nJul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\nINFO: [Thread-1]: Logging thread message\n</code></pre>\n<p>Instead of extending the entire Logger class i went for wrapping it, as i don't want to override all the methods. I only require a few methods.</p>\n"}],"owner":{"account_id":124368,"reputation":568,"user_id":319413,"accept_rate":88,"display_name":"Majid Alfifi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25768,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6889151,"answer_count":8,"score":19,"last_activity_date":1700782135,"creation_date":1312110252,"question_id":6889057,"body_markdown":"Is it possible to print the thread name in the log statements generated by `java.util.logging.Logger`?\r\n\r\nOne alternative is to do something like the following:\r\n\r\n    logger.info(thread.getName() + &quot; some useful info&quot;);\r\n\r\nbut it&#39;s repetitive and the logging framework should handle it.\r\n\r\n","title":"Printing thread name using java.util.logging","body":"<p>Is it possible to print the thread name in the log statements generated by <code>java.util.logging.Logger</code>?</p>\n\n<p>One alternative is to do something like the following:</p>\n\n<pre><code>logger.info(thread.getName() + \" some useful info\");\n</code></pre>\n\n<p>but it's repetitive and the logging framework should handle it.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"display_name":"anon"},"score":0,"creation_date":1701015897,"post_id":77536279,"comment_id":136719989,"body_markdown":"The person who downvoted and voting to close the question, can you please tell what&#39;s not clear, so I can update it?","body":"The person who downvoted and voting to close the question, can you please tell what&#39;s not clear, so I can update it?"}],"answers":[{"tags":[],"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700781170,"creation_date":1700781170,"answer_id":77540012,"question_id":77536279,"body_markdown":"This is just a minimal example:\r\n\r\n```java\r\npackage com.stackoverflow.question77536279;\r\n\r\nimport jakarta.servlet.Filter;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletRequest;\r\nimport jakarta.servlet.ServletResponse;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Set;\r\n\r\n@Component\r\n@Profile(&quot;dev&quot;)\r\npublic class AutoLoginFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n\r\n        var securityContext = SecurityContextHolder.getContext();\r\n        if (securityContext.getAuthentication() != null &amp;&amp; !securityContext.getAuthentication().isAuthenticated()) {\r\n            securityContext.setAuthentication(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            &quot;dev-user&quot;,\r\n                            &quot;dev-password&quot;,\r\n                            Set.of(new SimpleGrantedAuthority(&quot;ADMIN&quot;))\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis can do the trick, but if you will not exclude this class from your production build, anyone who can modify the starup parameters can activate this component which is a big security hole.\r\n","title":"Authenticate users automatically without asking credential in development mode","body":"<p>This is just a minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.question77536279;\n\nimport jakarta.servlet.Filter;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletRequest;\nimport jakarta.servlet.ServletResponse;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Set;\n\n@Component\n@Profile(&quot;dev&quot;)\npublic class AutoLoginFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n\n        var securityContext = SecurityContextHolder.getContext();\n        if (securityContext.getAuthentication() != null &amp;&amp; !securityContext.getAuthentication().isAuthenticated()) {\n            securityContext.setAuthentication(\n                    new UsernamePasswordAuthenticationToken(\n                            &quot;dev-user&quot;,\n                            &quot;dev-password&quot;,\n                            Set.of(new SimpleGrantedAuthority(&quot;ADMIN&quot;))\n                    )\n            );\n        }\n    }\n\n}\n</code></pre>\n<p>This can do the trick, but if you will not exclude this class from your production build, anyone who can modify the starup parameters can activate this component which is a big security hole.</p>\n"}],"owner":{"display_name":"anon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700781170,"creation_date":1700736635,"question_id":77536279,"body_markdown":"I have a Spring REST API (which I simplified to a minimal reproducible example) secured with Spring Security as follows.\r\n\r\nSecurity config:\r\n```java\r\npackage com.example.demo;\r\n\r\n// Imports...\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\nMVC config:\r\n```java\r\npackage com.example.demo;\r\n\r\n// Imports ...\r\n\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    }\r\n\r\n}\r\n```\r\nThe controller code:\r\n```java\r\n@RestController\r\npublic class DemoController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home (Authentication auth){\r\n        return &quot;Hello &quot; + auth.getName();\r\n    }\r\n}\r\n```\r\nLogin page:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Spring Security Example &lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div th:if=&quot;${param.error}&quot;&gt;\r\n    Invalid username and password.\r\n&lt;/div&gt;\r\n&lt;div th:if=&quot;${param.logout}&quot;&gt;\r\n    You have been logged out.\r\n&lt;/div&gt;\r\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div&gt;&lt;label&gt; User Name : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n    &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n    &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMy `build.gradle.kts`:\r\n\r\n```\r\nplugins {\r\n\tjava\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.5&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n\timplementation (&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&quot;)\r\n\timplementation (&quot;org.springframework.security:spring-security-test&quot;)\r\n\ttestImplementation (&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n}\r\n\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntasks.bootBuildImage {\r\n\tbuilder.set(&quot;paketobuildpacks/builder-jammy-base:latest&quot;)\r\n}\r\n```\r\n\r\nWhat I want to achieve is to authenticate users in development mode without having to go to the login page (provide a user with code in some `@Profile(&quot;dev&quot;)` marked component). In a way that my Controller code does not have to change. Is that possible?","title":"Authenticate users automatically without asking credential in development mode","body":"<p>I have a Spring REST API (which I simplified to a minimal reproducible example) secured with Spring Security as follows.</p>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n// Imports...\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>MVC config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n// Imports ...\n\n@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n    }\n\n}\n</code></pre>\n<p>The controller code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class DemoController {\n    @GetMapping(&quot;/&quot;)\n    public String home (Authentication auth){\n        return &quot;Hello &quot; + auth.getName();\n    }\n}\n</code></pre>\n<p>Login page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring Security Example &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div th:if=&quot;${param.error}&quot;&gt;\n    Invalid username and password.\n&lt;/div&gt;\n&lt;div th:if=&quot;${param.logout}&quot;&gt;\n    You have been logged out.\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n    &lt;div&gt;&lt;label&gt; User Name : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My <code>build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation (&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation (&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n    implementation (&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation (&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&quot;)\n    implementation (&quot;org.springframework.security:spring-security-test&quot;)\n    testImplementation (&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.bootBuildImage {\n    builder.set(&quot;paketobuildpacks/builder-jammy-base:latest&quot;)\n}\n</code></pre>\n<p>What I want to achieve is to authenticate users in development mode without having to go to the login page (provide a user with code in some <code>@Profile(&quot;dev&quot;)</code> marked component). In a way that my Controller code does not have to change. Is that possible?</p>\n"},{"tags":["java","android","wear-os","watch","samsung-mobile"],"answers":[{"tags":[],"owner":{"account_id":29978598,"reputation":1,"user_id":22974163,"display_name":"morgan smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700781106,"creation_date":1700781106,"answer_id":77540008,"question_id":77234571,"body_markdown":"One of the way to do is to use the Health Connect described at : https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started\r\nThis way you can retrieve the health data. \r\nI am looking for an alternate option of retrieving the heart rate data using Health services on wear os. Stuck at transferring the data from wear os to mobile app.","title":"How to retrieve the health data from samsung watch via mobile application?","body":"<p>One of the way to do is to use the Health Connect described at : <a href=\"https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started\" rel=\"nofollow noreferrer\">https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started</a>\nThis way you can retrieve the health data.\nI am looking for an alternate option of retrieving the heart rate data using Health services on wear os. Stuck at transferring the data from wear os to mobile app.</p>\n"}],"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700781106,"creation_date":1696485878,"question_id":77234571,"body_markdown":"I have to work on a task in which i have to retrieve the health data from the samsung watch, but i don&#39;t know from where i can start. I have a lot of questions;\r\n1. Can i directly fetch the data from the samsung watch with a custom application?\r\n2. I need to create two applications, one for the watch and second for the mobile?\r\n3. From where i can get the samsung sdk?\r\n\r\n\r\n\r\n```\r\nimplementation &#39;com.google.android.libraries.healthdata:health-data-api:1.1.0-alpha01&#39;\r\nimplementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;30.1.1-jre&#39;\r\nimplementation &#39;com.google.android.gms:play-services-wearable:17.1.0&#39;\r\nimplementation files(&#39;libs/samsung-health-service-v1.4.0.jar&#39;)\r\nimplementation files(&#39;libs/sdk-v1.0.0.jar&#39;)\r\n```\r\nbut when i am trying below dependency to implement getting error \r\nimplementation &#39;com.samsung.android.sdk.healthdata: 1.0.5&#39;\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n\r\n","title":"How to retrieve the health data from samsung watch via mobile application?","body":"<p>I have to work on a task in which i have to retrieve the health data from the samsung watch, but i don't know from where i can start. I have a lot of questions;</p>\n<ol>\n<li>Can i directly fetch the data from the samsung watch with a custom application?</li>\n<li>I need to create two applications, one for the watch and second for the mobile?</li>\n<li>From where i can get the samsung sdk?</li>\n</ol>\n<pre><code>implementation 'com.google.android.libraries.healthdata:health-data-api:1.1.0-alpha01'\nimplementation group: 'com.google.guava', name: 'guava', version: '30.1.1-jre'\nimplementation 'com.google.android.gms:play-services-wearable:17.1.0'\nimplementation files('libs/samsung-health-service-v1.4.0.jar')\nimplementation files('libs/sdk-v1.0.0.jar')\n</code></pre>\n<p>but when i am trying below dependency to implement getting error\nimplementation 'com.samsung.android.sdk.healthdata: 1.0.5'\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugCompileClasspath'.</p>\n"},{"tags":["java","apache-flink","apache-beam","flink-streaming"],"owner":{"account_id":3506256,"reputation":1117,"user_id":2931745,"display_name":"Raman Yelianevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700781104,"creation_date":1700781104,"question_id":77540007,"body_markdown":"We are using **Flink runner** **1.15** to launch streaming pipelines written using **Apache Beam 2.45**.\r\n\r\nFor the state backend we use `HashMapStateBackend` and checkpoints are saved to HDFS.\r\nUnaligned checkpoints are disabled and the pipeline checkpoints every 15 minutes.\r\n\r\nThe topology uses quite a lot of side inputs to enrich the main source - Kafka topic.\r\nEach side input is configured in a similar way. The side input reads the state once\r\non the initial startup into a default global window and never updates it.\r\n\r\nHere is code to create a view from files on HDFS\r\n```java\r\nPipeline pipeline = ...;\r\n\r\nPCollectionView&lt;LookupState&gt; view = pipeline\r\n        .apply(new ReadAvroFileFromHdfs(pipeline.getOptions()))\r\n        .apply(View.asSingleton());\r\n```\r\n\r\nWe create many views and perform lookups in a single transform.\r\n\r\nThe problematic part of the pipeline is on the picture below. There are 6 side inputs - with a broadcast title on the arrow.\r\nOn the top left side there is a Kafka source (KafkaIO) that is forwarding records\r\nto the enrichment operator (bottom-left square), which has 1 main input from Kafka and 6 side inputs.\r\n![flink-topology](https://i.stack.imgur.com/YFmLp.png)\r\n\r\nInitial launch of the pipeline checkpoints state of a constant size that never increases.\r\nIn case of a failure or a graceful restart, the pipeline starts from the last valid checkpoint.\r\nAfter a restart we observe growth of checkpoint size.\r\nThe enrichment operator state randomly multiplies 2x or 3x or 4x from the one in checkpoint, while the others don&#39;t. This issue is triggered, when parallelism is greater than 1, in this example it&#39;s 4.\r\n\r\nOn the graph below you can see change of the checkpoint size. Each change corresponds to a restart.\r\nWhen the size decreases, it means that the pipeline was started without initial state, because the pipeline fails with OOM error and cannot recover.[![checkpoint-size](https://i.stack.imgur.com/CIgzt.png)](https://i.stack.imgur.com/CIgzt.png)\r\n\r\nI checked the heap dump and I can see that the side input state has the same lookup object, produced by the view, multiple times, even though the side input is not read again on the startup.\r\n\r\n1. Is it a known bug in Flink/Beam?\r\n\r\n2. Does anyone know how this problem could investigated further?\r\n\r\nAs an experiment I changed the code to refresh side inputs according to the [Slowly updating global window side input pattern](https://beam.apache.org/documentation/patterns/side-inputs/#slowly-updating-global-window-side-inputs) and I observed that the refresh resets the state to the initial size, however, it&#39;s not feasible to refresh state often and it could not be used as a solution to the problem.\r\n\r\nI expect that after a restore from a checkpoint, next checkpoints won&#39;t multiply their size, assuming there is no any load on the pipeline.","title":"Apache Beam pipeline with FlinkRunner grow side input size when recovering from a checkpoint/savepoint untill OOM","body":"<p>We are using <strong>Flink runner</strong> <strong>1.15</strong> to launch streaming pipelines written using <strong>Apache Beam 2.45</strong>.</p>\n<p>For the state backend we use <code>HashMapStateBackend</code> and checkpoints are saved to HDFS.\nUnaligned checkpoints are disabled and the pipeline checkpoints every 15 minutes.</p>\n<p>The topology uses quite a lot of side inputs to enrich the main source - Kafka topic.\nEach side input is configured in a similar way. The side input reads the state once\non the initial startup into a default global window and never updates it.</p>\n<p>Here is code to create a view from files on HDFS</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pipeline pipeline = ...;\n\nPCollectionView&lt;LookupState&gt; view = pipeline\n        .apply(new ReadAvroFileFromHdfs(pipeline.getOptions()))\n        .apply(View.asSingleton());\n</code></pre>\n<p>We create many views and perform lookups in a single transform.</p>\n<p>The problematic part of the pipeline is on the picture below. There are 6 side inputs - with a broadcast title on the arrow.\nOn the top left side there is a Kafka source (KafkaIO) that is forwarding records\nto the enrichment operator (bottom-left square), which has 1 main input from Kafka and 6 side inputs.\n<img src=\"https://i.stack.imgur.com/YFmLp.png\" alt=\"flink-topology\" /></p>\n<p>Initial launch of the pipeline checkpoints state of a constant size that never increases.\nIn case of a failure or a graceful restart, the pipeline starts from the last valid checkpoint.\nAfter a restart we observe growth of checkpoint size.\nThe enrichment operator state randomly multiplies 2x or 3x or 4x from the one in checkpoint, while the others don't. This issue is triggered, when parallelism is greater than 1, in this example it's 4.</p>\n<p>On the graph below you can see change of the checkpoint size. Each change corresponds to a restart.\nWhen the size decreases, it means that the pipeline was started without initial state, because the pipeline fails with OOM error and cannot recover.<a href=\"https://i.stack.imgur.com/CIgzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIgzt.png\" alt=\"checkpoint-size\" /></a></p>\n<p>I checked the heap dump and I can see that the side input state has the same lookup object, produced by the view, multiple times, even though the side input is not read again on the startup.</p>\n<ol>\n<li><p>Is it a known bug in Flink/Beam?</p>\n</li>\n<li><p>Does anyone know how this problem could investigated further?</p>\n</li>\n</ol>\n<p>As an experiment I changed the code to refresh side inputs according to the <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/#slowly-updating-global-window-side-inputs\" rel=\"nofollow noreferrer\">Slowly updating global window side input pattern</a> and I observed that the refresh resets the state to the initial size, however, it's not feasible to refresh state often and it could not be used as a solution to the problem.</p>\n<p>I expect that after a restore from a checkpoint, next checkpoints won't multiply their size, assuming there is no any load on the pipeline.</p>\n"},{"tags":["java","communication"],"comments":[{"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"score":1,"creation_date":1325501065,"post_id":8699873,"comment_id":10823633,"body_markdown":"Please give details otherwise the question will be closed as vague. What you do you mean &#39;not on the same network? Why would you use sockets? What kind of communication two way - one way, reliable, secures etc etc? What is your aim? Details details details please","body":"Please give details otherwise the question will be closed as vague. What you do you mean &#39;not on the same network? Why would you use sockets? What kind of communication two way - one way, reliable, secures etc etc? What is your aim? Details details details please"},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1325501348,"post_id":8699873,"comment_id":10823706,"body_markdown":"please provide more specific problem and more details of the problem which you are having?","body":"please provide more specific problem and more details of the problem which you are having?"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1325502047,"creation_date":1325501589,"answer_id":8699977,"question_id":8699873,"body_markdown":"To communicate between two machines, they have to be on the same extended network.  The only other option is to save data to external drives, e.g. USB drives, and you can attach to the second machine and up load.\r\n\r\nYou can use sockets to communicate with any other machine with an Internet connection, provided your firewall(s) and configured to allow the connection. The whole point of a firewall is to prevent unauthorised access.  I suspect this is your real problem. If your firewalls prevent access, you should not be able to get around this using Java (google network hacking for alternatives ;) \r\n\r\nAnother option is to use a service such as email if the two computers cannot talk to each other directly (they still have to be connected to the same network)  This is much more complex than using a direct connection but it can be done.\r\n\r\nI suggest instead you configure your firewall(s) correctly and you will be able to use plain Sockets.","title":"communicate with computer that isn&#39;t on the same network","body":"<p>To communicate between two machines, they have to be on the same extended network.  The only other option is to save data to external drives, e.g. USB drives, and you can attach to the second machine and up load.</p>\n\n<p>You can use sockets to communicate with any other machine with an Internet connection, provided your firewall(s) and configured to allow the connection. The whole point of a firewall is to prevent unauthorised access.  I suspect this is your real problem. If your firewalls prevent access, you should not be able to get around this using Java (google network hacking for alternatives ;) </p>\n\n<p>Another option is to use a service such as email if the two computers cannot talk to each other directly (they still have to be connected to the same network)  This is much more complex than using a direct connection but it can be done.</p>\n\n<p>I suggest instead you configure your firewall(s) correctly and you will be able to use plain Sockets.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325501717,"creation_date":1325501717,"answer_id":8699999,"question_id":8699873,"body_markdown":"You have to get the external IPs (there are sites which while visiting give you this IP), and hope that the firewall allows communication. Typically one should use a port above 1000.\r\nThere should be peer-to-peer libraries.\r\n\r\nAnother way is via SSH on one computer (JSch is one java library for SSH).\r\n\r\nThe easiest way is email exchange: the javax.mail API is compact but not the easiest. (Especially you could easily delete all mails, as I did once.)\r\n","title":"communicate with computer that isn&#39;t on the same network","body":"<p>You have to get the external IPs (there are sites which while visiting give you this IP), and hope that the firewall allows communication. Typically one should use a port above 1000.\nThere should be peer-to-peer libraries.</p>\n\n<p>Another way is via SSH on one computer (JSch is one java library for SSH).</p>\n\n<p>The easiest way is email exchange: the javax.mail API is compact but not the easiest. (Especially you could easily delete all mails, as I did once.)</p>\n"}],"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8699977,"answer_count":2,"score":0,"last_activity_date":1700780747,"creation_date":1325500888,"question_id":8699873,"body_markdown":"&lt;BR /&gt;\r\nI want to communicate between two computers that aren&#39;t on the same network, i tried to use sockets, but I only found tutorials and examples for communicating in the same network.  \r\nI tried to search on stackoverflow, but I had no clear idea of what to search for.  \r\nI want to send text two-way (chat).  \r\n \r\n-edit- The thing is, it is to me vague what I have to use or do, so I can&#39;t be much clearer then to say I want to send two way text (perhaps date) for a chatapp, just to learn from.\r\n-edit-","title":"communicate with computer that isn&#39;t on the same network","body":"<p><BR />\nI want to communicate between two computers that aren't on the same network, i tried to use sockets, but I only found tutorials and examples for communicating in the same network.<br>\nI tried to search on stackoverflow, but I had no clear idea of what to search for.<br>\nI want to send text two-way (chat).  </p>\n\n<p>-edit- The thing is, it is to me vague what I have to use or do, so I can't be much clearer then to say I want to send two way text (perhaps date) for a chatapp, just to learn from.\n-edit-</p>\n"},{"tags":["java","database","swing","cloud","communication"],"answers":[{"tags":[],"owner":{"account_id":377095,"reputation":2440,"user_id":728971,"display_name":"Param"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1326774499,"creation_date":1326774499,"answer_id":8889647,"question_id":8889594,"body_markdown":"One way to implement this will be to have REST based API at the backend and your swing GUI interacting with that API using HTTP calls. You can use Apache&#39;s HTTPClient library for making HTTP calls.","title":"What and How the Java Swing concept related to Cloud?","body":"<p>One way to implement this will be to have REST based API at the backend and your swing GUI interacting with that API using HTTP calls. You can use Apache's HTTPClient library for making HTTP calls.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326774786,"creation_date":1326774786,"answer_id":8889688,"question_id":8889594,"body_markdown":"Deploy your Swing application via [Java Web Start][1]. Running in a sandbox, &quot;the application may only connect to the host on which it resides.&quot;—[faq][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/java-web-start/info\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/faq.html#113","title":"What and How the Java Swing concept related to Cloud?","body":"<p>Deploy your Swing application via <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>. Running in a sandbox, \"the application may only connect to the host on which it resides.\"—<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/faq.html#113\" rel=\"nofollow noreferrer\">faq</a>.</p>\n"},{"tags":[],"owner":{"account_id":1450812,"reputation":21,"user_id":1367814,"display_name":"user1367814"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345170177,"creation_date":1345170177,"answer_id":11999021,"question_id":8889594,"body_markdown":"If you application runs via Java WebStart, you can simply run a webserver on the cloud and deploy it there like you would on any other web server. The users of course would need to hava a JRE in order to be able to run it.\r\n\r\nAnother option, if you are looking for a truly thin HTML/JavaScript cloud based delivery, is AjaxSwing. It would [run your Swing application on the cloud][1] and convert the UI it at runtime to HTML/JavaScript, making it indistinguishable from any other cloud based software as a service.\r\n\r\n\r\n\r\n  [1]: http://www.creamtec.com/products/ajaxswing/solutions/deploy_desktop_applications_to_cloud.html","title":"What and How the Java Swing concept related to Cloud?","body":"<p>If you application runs via Java WebStart, you can simply run a webserver on the cloud and deploy it there like you would on any other web server. The users of course would need to hava a JRE in order to be able to run it.</p>\n\n<p>Another option, if you are looking for a truly thin HTML/JavaScript cloud based delivery, is AjaxSwing. It would <a href=\"http://www.creamtec.com/products/ajaxswing/solutions/deploy_desktop_applications_to_cloud.html\" rel=\"nofollow\">run your Swing application on the cloud</a> and convert the UI it at runtime to HTML/JavaScript, making it indistinguishable from any other cloud based software as a service.</p>\n"}],"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8889647,"answer_count":3,"score":1,"last_activity_date":1700780677,"creation_date":1326774044,"question_id":8889594,"body_markdown":"\r\nOne of my friend asking me something related to Client Software and Cloud.\r\nJava Desktop Swing as Client and Web as Data Resource (Database -1 single hosting). \r\nThat&#39;s the main thing I&#39;ve heard.\r\n\r\nIf there&#39;s a common java app used as a client how do the app communicate to the data resource (on the web)...? \r\n\r\nI answered with &quot;passing database Query&quot;, *Database Query* from Client to Web (Data Resource).\r\nBut, after I recalled it back, my method is dangerous. What is the safer thing to be done? Is it needed to create another app on the Web used as a bridge (API)?\r\n\r\n\r\nNeed advice on this matter.","title":"What and How the Java Swing concept related to Cloud?","body":"<p>One of my friend asking me something related to Client Software and Cloud.\nJava Desktop Swing as Client and Web as Data Resource (Database -1 single hosting). \nThat's the main thing I've heard.</p>\n\n<p>If there's a common java app used as a client how do the app communicate to the data resource (on the web)...? </p>\n\n<p>I answered with \"passing database Query\", <em>Database Query</em> from Client to Web (Data Resource).\nBut, after I recalled it back, my method is dangerous. What is the safer thing to be done? Is it needed to create another app on the Web used as a bridge (API)?</p>\n\n<p>Need advice on this matter.</p>\n"},{"tags":["java","swing","jfreechart"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700904571,"post_id":77539988,"comment_id":136711272,"body_markdown":"This question contains too much code and too much reliance on third-party libraries for anyone to answer.  All I can say is be sure all of your Swing code is created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"This question contains too much code and too much reliance on third-party libraries for anyone to answer.  All I can say is be sure all of your Swing code is created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700780583,"creation_date":1700780583,"question_id":77539988,"body_markdown":"I implemented a Java application (for learning purposes) that should visualize the scheduling of some employees doing tasks for customers. I have a starting JFrame that is my main Frame with 1) buttons that open new JFrames and 2) visualizes the tasks of the current day with a Jfreechart:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first button is to manage employees (inserting new employees or deleting employees)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe second button is to manage tasks (Assign new tasks to employees):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe next one is to search for tasks and the last one is to visualize the task of one day (a new Frame where you pick the date you want to visualize and after that open a new Frame that visualizes this day&#39;s tasks:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI have a MySQL Database where all the employee and task information are stored and fetched. Everything works fine, just some visualisation problems that I don&#39;t know how to fix. Now my problems: \r\n\r\n1) After I clicked a button on the main Frame, do my work and close the frame to get to my main frame again, the button I first clicked stays clicked. But not only that, after I hover over the other buttons they also look as if they are clicked:\r\n[![enter image description here][6]][6]\r\n\r\n2) On my gantt chart I configured Tooltips that sometimes are shown and sometimes not. I don&#39;t understand when it shows and why this is happening.\r\n\r\nHere are some of my classes. I assume that it has to do with the way I have implemented everything. I also don&#39;t know if it is right to do so much stuff in a button clicked event and if maybe this is causing it. I am waiting for your suggestions:\r\n\r\nmain Frame class:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import javax.swing.*;\r\n    \r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.labels.CategoryItemLabelGenerator;\r\n    import org.jfree.chart.labels.IntervalCategoryItemLabelGenerator;\r\n    import org.jfree.chart.labels.ItemLabelAnchor;\r\n    import org.jfree.chart.labels.ItemLabelPosition;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.TextAnchor;\r\n    \r\n    public class Schichtplanner extends JFrame {\r\n        private static final long serialVersionUID = 1L;\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, TableLayout.FILL};\r\n    \r\n        ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n        ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n        ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\r\n                    try {\r\n                        Schichtplanner frame = new Schichtplanner();\r\n                        frame.setVisible(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public Schichtplanner() throws ParseException {\r\n            //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\r\n            this.setTitle(&quot;Schichtplanungs-App&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n    \r\n            JPanel panelMain = new JPanel();\r\n            add(panelMain);\r\n    \r\n            panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\r\n    \r\n            JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\r\n            panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\r\n            buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\r\n                }\r\n            });\r\n    \r\n            JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\r\n            panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\r\n            buttonAuftragVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\r\n                }\r\n            });\r\n    \r\n            JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\r\n            panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\r\n            buttonSucheAuftrag.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    SucheAuftrag SucheAuftragFrame = new SucheAuftrag();\r\n                }\r\n            });\r\n    \r\n            JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\r\n            panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\r\n            buttonKalenderAnsicht.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    KalenderAnsicht kalenderAnsichtFrame = new KalenderAnsicht();\r\n                }\r\n            });\r\n    \r\n            auftragsBeginn = new ArrayList&lt;&gt;();\r\n            auftragsEnde = new ArrayList&lt;&gt;();\r\n            auftragsAdresse = new ArrayList&lt;&gt;();\r\n            auftragsPLZ = new ArrayList&lt;&gt;();\r\n            mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n            mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n            liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n    \r\n            DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String dateToday = dateFormat.format(new Date());\r\n    \r\n            IntervalCategoryDataset dataset = getCategoryDataset(dateToday);\r\n    \r\n            // Create chart\r\n            JFreeChart chart = ChartFactory.createGanttChart(dateToday, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n            chart.setBackgroundPaint(Color.white);\r\n    \r\n            //chart.setBorderVisible(false);\r\n            CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n            plot.setDomainGridlinePaint(Color.white);\r\n            plot.setOutlinePaint(Color.white);\r\n            plot.setBackgroundPaint(Color.white);\r\n            //plot.setOutlineVisible(false);\r\n    \r\n            CategoryItemRenderer renderer = plot.getRenderer();\r\n            renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\r\n            renderer.setBaseItemLabelsVisible(true);\r\n            renderer.setBaseItemLabelPaint(Color.BLACK);\r\n            renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\r\n            renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\r\n    \r\n                @Override\r\n                public String generateRowLabel(CategoryDataset dataset, int row) {\r\n                    return &quot;Your Row Text  &quot; + row;\r\n                }\r\n    \r\n                @Override\r\n                public String generateColumnLabel(CategoryDataset dataset, int column) {\r\n                    return &quot;Your Column Text  &quot; + column;\r\n                }\r\n    \r\n                @Override\r\n                public String generateLabel(CategoryDataset dataset, int row, int column) {\r\n                    if(row == 0 &amp;&amp; column == 0){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\r\n                    }else if(row == 0 &amp;&amp; column == 1){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\r\n                    }else if(row == 0 &amp;&amp; column == 2){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\r\n                    }else if(row == 0 &amp;&amp; column == 3){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\r\n                    }else if(row == 0 &amp;&amp; column == 4){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\r\n                    }else if(row == 0 &amp;&amp; column == 5){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\r\n                    }else if(row == 0 &amp;&amp; column == 6){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\r\n                    }else{\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0);\r\n                    }\r\n                }\r\n            });\r\n            renderer.setSeriesPaint(0, Color.GREEN);\r\n    \r\n            ChartPanel chartPanel = new ChartPanel(chart);\r\n            panelMain.add(chartPanel, &quot;2,2,2,8&quot;);\r\n            panelMain.validate();\r\n    \r\n            setVisible(true);\r\n            panelMain.setVisible(true);\r\n        }\r\n    \r\n        private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n            date = date + &quot; 00:00:00.00000&quot;;\r\n            Timestamp timestamp = Timestamp.valueOf(date);\r\n            Timestamp timestamp2 = addDays(timestamp,1);\r\n    \r\n            getDBData(timestamp, timestamp2);\r\n    \r\n            TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n            for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n                series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n                System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n            }\r\n    \r\n            TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n            dataset.add(series1);\r\n            return dataset;\r\n        }\r\n    \r\n        public Timestamp addDays(Timestamp date, int days) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return new Timestamp(cal.getTime().getTime());\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n            return auftragsBeginn;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n            return auftragsEnde;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n            return auftragsAdresse;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n            return auftragsPLZ;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n            return mitarbeiterVorname;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n            return mitarbeiterNachname;\r\n        }\r\n    \r\n        public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n            return liegenschaftsnummer;\r\n        }\r\n    \r\n        public void getDBData(Timestamp timestamp, Timestamp timestamp2){\r\n            try {\r\n                Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n    \r\n                PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n                st.setTimestamp(1, timestamp);\r\n                st.setTimestamp(2, timestamp2);\r\n                ResultSet rs = st.executeQuery();\r\n                while (rs.next()) {\r\n                    Calendar calendar1 = Calendar.getInstance();\r\n                    calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                    getAuftragsBeginnList().add(calendar1);\r\n    \r\n                    Calendar calendar2 = Calendar.getInstance();\r\n                    calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                    getAuftragsEndeList().add(calendar2);\r\n    \r\n                    getAuftragsAdresseList().add(rs.getString(3));\r\n                    getAuftragsPLZList().add(rs.getString(4));\r\n                    getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                    getMitarbeiterVornameList().add(rs.getString(6));\r\n                    getMitarbeiterNachnameList().add(rs.getString(7));\r\n                }\r\n                rs.close();\r\n                st.close();\r\n            } catch (SQLException sqlException) {\r\n                sqlException.printStackTrace();\r\n            }\r\n        }\r\n    }  \r\n\r\nthis is from the last with the jfreechart:\r\n\r\n    import com.github.lgooddatepicker.components.DatePicker;\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.block.BlockBorder;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.RectangleInsets;\r\n    import org.jfree.ui.TextAnchor;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.*;\r\n    import java.util.List;\r\n    \r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    \r\n    public class Auftrags&#220;bersicht extends JFrame {\r\n    \r\n        private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n        private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n        private ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n    \r\n        public Auftrags&#220;bersicht(String date) throws ParseException {\r\n            double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\r\n            double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\r\n            auftragsBeginn = new ArrayList&lt;&gt;();\r\n            auftragsEnde = new ArrayList&lt;&gt;();\r\n            auftragsAdresse = new ArrayList&lt;&gt;();\r\n            auftragsPLZ = new ArrayList&lt;&gt;();\r\n            mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n            mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n            liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n    \r\n            this.setTitle(&quot;Tages&#252;bersicht Auftr&#228;ge&quot;);\r\n            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n            this.setSize(screenSize.width, screenSize.height);\r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n            try\r\n            {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            /********************************/\r\n            // Create dataset\r\n            IntervalCategoryDataset dataset = getCategoryDataset(date);\r\n    \r\n            // Create chart\r\n            JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n            chart.setBackgroundPaint(Color.white);\r\n    \r\n            //chart.setBorderVisible(false);\r\n            CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n            plot.setDomainGridlinePaint(Color.white);\r\n            plot.setOutlinePaint(Color.white);\r\n            plot.setBackgroundPaint(Color.white);\r\n            //plot.setOutlineVisible(false);\r\n    \r\n            CategoryItemRenderer renderer = plot.getRenderer();\r\n            renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\r\n            renderer.setBaseItemLabelsVisible(true);\r\n            renderer.setBaseItemLabelPaint(Color.BLACK);\r\n            renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\r\n            renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\r\n    \r\n                @Override\r\n                public String generateRowLabel(CategoryDataset dataset, int row) {\r\n                    return &quot;Your Row Text  &quot; + row;\r\n                }\r\n    \r\n                @Override\r\n                public String generateColumnLabel(CategoryDataset dataset, int column) {\r\n                    return &quot;Your Column Text  &quot; + column;\r\n                }\r\n    \r\n                @Override\r\n                public String generateLabel(CategoryDataset dataset, int row, int column) {\r\n                    if(row == 0 &amp;&amp; column == 0){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\r\n                    }else if(row == 0 &amp;&amp; column == 1){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\r\n                    }else if(row == 0 &amp;&amp; column == 2){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\r\n                    }else if(row == 0 &amp;&amp; column == 3){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\r\n                    }else if(row == 0 &amp;&amp; column == 4){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\r\n                    }else if(row == 0 &amp;&amp; column == 5){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\r\n                    }else if(row == 0 &amp;&amp; column == 6){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\r\n                    }else{\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            renderer.setBaseToolTipGenerator((CategoryDataset categoryDataset, int row, int column) -&gt; {\r\n                TaskSeriesCollection taskCollection = (TaskSeriesCollection) categoryDataset;\r\n                TaskSeries series = taskCollection.getSeries(row);\r\n                Task task = series.get(column);\r\n                return &quot;Task: &quot; + task.getDescription() + &quot;\\nStart: &quot; + task.getDuration().getStart() +\r\n                        &quot;\\nEnd: &quot; + task.getDuration().getEnd();\r\n            });\r\n            renderer.setSeriesPaint(0, Color.GREEN);\r\n    \r\n            ChartPanel panel = new ChartPanel(chart);\r\n            setContentPane(panel);\r\n            setVisible(true);\r\n    \r\n            /*******************************/\r\n            setResizable(false);\r\n        }\r\n    \r\n        private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n            date = date + &quot; 00:00:00.00000&quot;;\r\n            Timestamp timestamp = Timestamp.valueOf(date);\r\n            Timestamp timestamp2 = addDays(timestamp,1);\r\n    \r\n            try {\r\n                Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n    \r\n                PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n                st.setTimestamp(1, timestamp);\r\n                st.setTimestamp(2, timestamp2);\r\n                ResultSet rs = st.executeQuery();\r\n                while (rs.next()) {\r\n                    Calendar calendar1 = Calendar.getInstance();\r\n                    calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                    getAuftragsBeginnList().add(calendar1);\r\n    \r\n                    Calendar calendar2 = Calendar.getInstance();\r\n                    calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                    getAuftragsEndeList().add(calendar2);\r\n    \r\n                    getAuftragsAdresseList().add(rs.getString(3));\r\n                    getAuftragsPLZList().add(rs.getString(4));\r\n                    getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                    getMitarbeiterVornameList().add(rs.getString(6));\r\n                    getMitarbeiterNachnameList().add(rs.getString(7));\r\n                }\r\n                rs.close();\r\n                st.close();\r\n            } catch (SQLException sqlException) {\r\n                sqlException.printStackTrace();\r\n            }\r\n    \r\n            TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n            for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n                series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n                System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n            }\r\n    \r\n            TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n            dataset.add(series1);\r\n            return dataset;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n            return auftragsBeginn;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n            return auftragsEnde;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n            return auftragsAdresse;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n            return auftragsPLZ;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n            return mitarbeiterVorname;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n            return mitarbeiterNachname;\r\n        }\r\n    \r\n        public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n            return liegenschaftsnummer;\r\n        }\r\n    \r\n        public Timestamp addDays(Timestamp date, int days) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return new Timestamp(cal.getTime().getTime());\r\n    \r\n        }\r\n    }\r\n    \r\n    class MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\r\n    \r\n        DateFormat format;\r\n    \r\n        public MyToolTipGenerator(String value, DateFormat format) {\r\n            super(value, format);\r\n            this.format = format;\r\n        }\r\n    \r\n        @Override\r\n        public String generateToolTip(CategoryDataset cds, int row, int col) {\r\n            final String s = super.generateToolTip(cds, row, col);\r\n            TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\r\n            StringBuilder sb = new StringBuilder(s);\r\n            for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\r\n                sb.append(format.format(tsc.getStartValue(row, col, i)));\r\n                sb.append(&quot;-&quot;);\r\n                sb.append(format.format(tsc.getEndValue(row, col, i)));\r\n                sb.append(&quot;,&quot;);\r\n            }\r\n            sb.deleteCharAt(sb.length() - 1);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nthe other classes look similar from the structure.\r\n\r\n  [1]: https://i.stack.imgur.com/RUQsz.png\r\n  [2]: https://i.stack.imgur.com/3oWAY.png\r\n  [3]: https://i.stack.imgur.com/fwh6G.png\r\n  [4]: https://i.stack.imgur.com/ckx93.png\r\n  [5]: https://i.stack.imgur.com/U3lyB.png\r\n  [6]: https://i.stack.imgur.com/1RydN.png\r\n","title":"Problems with some visualisations in Java GUI Database Application","body":"<p>I implemented a Java application (for learning purposes) that should visualize the scheduling of some employees doing tasks for customers. I have a starting JFrame that is my main Frame with 1) buttons that open new JFrames and 2) visualizes the tasks of the current day with a Jfreechart:</p>\n<p><a href=\"https://i.stack.imgur.com/RUQsz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RUQsz.png\" alt=\"enter image description here\" /></a></p>\n<p>The first button is to manage employees (inserting new employees or deleting employees)</p>\n<p><a href=\"https://i.stack.imgur.com/3oWAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3oWAY.png\" alt=\"enter image description here\" /></a></p>\n<p>The second button is to manage tasks (Assign new tasks to employees):</p>\n<p><a href=\"https://i.stack.imgur.com/fwh6G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fwh6G.png\" alt=\"enter image description here\" /></a></p>\n<p>The next one is to search for tasks and the last one is to visualize the task of one day (a new Frame where you pick the date you want to visualize and after that open a new Frame that visualizes this day's tasks:</p>\n<p><a href=\"https://i.stack.imgur.com/ckx93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckx93.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/U3lyB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3lyB.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a MySQL Database where all the employee and task information are stored and fetched. Everything works fine, just some visualisation problems that I don't know how to fix. Now my problems:</p>\n<ol>\n<li><p>After I clicked a button on the main Frame, do my work and close the frame to get to my main frame again, the button I first clicked stays clicked. But not only that, after I hover over the other buttons they also look as if they are clicked:\n<a href=\"https://i.stack.imgur.com/1RydN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RydN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>On my gantt chart I configured Tooltips that sometimes are shown and sometimes not. I don't understand when it shows and why this is happening.</p>\n</li>\n</ol>\n<p>Here are some of my classes. I assume that it has to do with the way I have implemented everything. I also don't know if it is right to do so much stuff in a button clicked event and if maybe this is causing it. I am waiting for your suggestions:</p>\n<p>main Frame class:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport javax.swing.*;\n\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.labels.CategoryItemLabelGenerator;\nimport org.jfree.chart.labels.IntervalCategoryItemLabelGenerator;\nimport org.jfree.chart.labels.ItemLabelAnchor;\nimport org.jfree.chart.labels.ItemLabelPosition;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.TextAnchor;\n\npublic class Schichtplanner extends JFrame {\n    private static final long serialVersionUID = 1L;\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, TableLayout.FILL};\n\n    ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\n    ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\n    ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\n                try {\n                    Schichtplanner frame = new Schichtplanner();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Schichtplanner() throws ParseException {\n        //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\n        this.setTitle(&quot;Schichtplanungs-App&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n\n        JPanel panelMain = new JPanel();\n        add(panelMain);\n\n        panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\n\n        JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\n        panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\n        buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\n            }\n        });\n\n        JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\n        panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\n        buttonAuftragVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\n            }\n        });\n\n        JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\n        panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\n        buttonSucheAuftrag.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                SucheAuftrag SucheAuftragFrame = new SucheAuftrag();\n            }\n        });\n\n        JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\n        panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\n        buttonKalenderAnsicht.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                KalenderAnsicht kalenderAnsichtFrame = new KalenderAnsicht();\n            }\n        });\n\n        auftragsBeginn = new ArrayList&lt;&gt;();\n        auftragsEnde = new ArrayList&lt;&gt;();\n        auftragsAdresse = new ArrayList&lt;&gt;();\n        auftragsPLZ = new ArrayList&lt;&gt;();\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        String dateToday = dateFormat.format(new Date());\n\n        IntervalCategoryDataset dataset = getCategoryDataset(dateToday);\n\n        // Create chart\n        JFreeChart chart = ChartFactory.createGanttChart(dateToday, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n        chart.setBackgroundPaint(Color.white);\n\n        //chart.setBorderVisible(false);\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\n        plot.setDomainGridlinePaint(Color.white);\n        plot.setOutlinePaint(Color.white);\n        plot.setBackgroundPaint(Color.white);\n        //plot.setOutlineVisible(false);\n\n        CategoryItemRenderer renderer = plot.getRenderer();\n        renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\n        renderer.setBaseItemLabelsVisible(true);\n        renderer.setBaseItemLabelPaint(Color.BLACK);\n        renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\n        renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\n\n            @Override\n            public String generateRowLabel(CategoryDataset dataset, int row) {\n                return &quot;Your Row Text  &quot; + row;\n            }\n\n            @Override\n            public String generateColumnLabel(CategoryDataset dataset, int column) {\n                return &quot;Your Column Text  &quot; + column;\n            }\n\n            @Override\n            public String generateLabel(CategoryDataset dataset, int row, int column) {\n                if(row == 0 &amp;&amp; column == 0){\n                    return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\n                }else if(row == 0 &amp;&amp; column == 1){\n                    return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\n                }else if(row == 0 &amp;&amp; column == 2){\n                    return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\n                }else if(row == 0 &amp;&amp; column == 3){\n                    return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\n                }else if(row == 0 &amp;&amp; column == 4){\n                    return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\n                }else if(row == 0 &amp;&amp; column == 5){\n                    return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\n                }else if(row == 0 &amp;&amp; column == 6){\n                    return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\n                }else{\n                    return &quot;&quot; + getAuftragsAdresseList().get(0);\n                }\n            }\n        });\n        renderer.setSeriesPaint(0, Color.GREEN);\n\n        ChartPanel chartPanel = new ChartPanel(chart);\n        panelMain.add(chartPanel, &quot;2,2,2,8&quot;);\n        panelMain.validate();\n\n        setVisible(true);\n        panelMain.setVisible(true);\n    }\n\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n        date = date + &quot; 00:00:00.00000&quot;;\n        Timestamp timestamp = Timestamp.valueOf(date);\n        Timestamp timestamp2 = addDays(timestamp,1);\n\n        getDBData(timestamp, timestamp2);\n\n        TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n        }\n\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\n        dataset.add(series1);\n        return dataset;\n    }\n\n    public Timestamp addDays(Timestamp date, int days) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return new Timestamp(cal.getTime().getTime());\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n        return auftragsBeginn;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n        return auftragsEnde;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\n        return auftragsAdresse;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\n        return auftragsPLZ;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n        return mitarbeiterVorname;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n        return mitarbeiterNachname;\n    }\n\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n        return liegenschaftsnummer;\n    }\n\n    public void getDBData(Timestamp timestamp, Timestamp timestamp2){\n        try {\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n            st.setTimestamp(1, timestamp);\n            st.setTimestamp(2, timestamp2);\n            ResultSet rs = st.executeQuery();\n            while (rs.next()) {\n                Calendar calendar1 = Calendar.getInstance();\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n                getAuftragsBeginnList().add(calendar1);\n\n                Calendar calendar2 = Calendar.getInstance();\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n                getAuftragsEndeList().add(calendar2);\n\n                getAuftragsAdresseList().add(rs.getString(3));\n                getAuftragsPLZList().add(rs.getString(4));\n                getLiegenschaftsnummerList().add(rs.getInt(5));\n                getMitarbeiterVornameList().add(rs.getString(6));\n                getMitarbeiterNachnameList().add(rs.getString(7));\n            }\n            rs.close();\n            st.close();\n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n    }\n}  \n</code></pre>\n<p>this is from the last with the jfreechart:</p>\n<pre><code>import com.github.lgooddatepicker.components.DatePicker;\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.block.BlockBorder;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.chart.renderer.category.StandardBarPainter;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.RectangleInsets;\nimport org.jfree.ui.TextAnchor;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.format.DateTimeFormatter;\nimport java.util.*;\nimport java.util.List;\n\nimport org.jfree.chart.renderer.category.StandardBarPainter;\n\npublic class AuftragsÜbersicht extends JFrame {\n\n    private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\n    private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\n    private ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\n    public AuftragsÜbersicht(String date) throws ParseException {\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\n        auftragsBeginn = new ArrayList&lt;&gt;();\n        auftragsEnde = new ArrayList&lt;&gt;();\n        auftragsAdresse = new ArrayList&lt;&gt;();\n        auftragsPLZ = new ArrayList&lt;&gt;();\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n        this.setTitle(&quot;Tagesübersicht Aufträge&quot;);\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        this.setSize(screenSize.width, screenSize.height);\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        try\n        {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        /********************************/\n        // Create dataset\n        IntervalCategoryDataset dataset = getCategoryDataset(date);\n\n        // Create chart\n        JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n        chart.setBackgroundPaint(Color.white);\n\n        //chart.setBorderVisible(false);\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\n        plot.setDomainGridlinePaint(Color.white);\n        plot.setOutlinePaint(Color.white);\n        plot.setBackgroundPaint(Color.white);\n        //plot.setOutlineVisible(false);\n\n        CategoryItemRenderer renderer = plot.getRenderer();\n        renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\n        renderer.setBaseItemLabelsVisible(true);\n        renderer.setBaseItemLabelPaint(Color.BLACK);\n        renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\n        renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\n\n            @Override\n            public String generateRowLabel(CategoryDataset dataset, int row) {\n                return &quot;Your Row Text  &quot; + row;\n            }\n\n            @Override\n            public String generateColumnLabel(CategoryDataset dataset, int column) {\n                return &quot;Your Column Text  &quot; + column;\n            }\n\n            @Override\n            public String generateLabel(CategoryDataset dataset, int row, int column) {\n                if(row == 0 &amp;&amp; column == 0){\n                    return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\n                }else if(row == 0 &amp;&amp; column == 1){\n                    return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\n                }else if(row == 0 &amp;&amp; column == 2){\n                    return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\n                }else if(row == 0 &amp;&amp; column == 3){\n                    return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\n                }else if(row == 0 &amp;&amp; column == 4){\n                    return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\n                }else if(row == 0 &amp;&amp; column == 5){\n                    return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\n                }else if(row == 0 &amp;&amp; column == 6){\n                    return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\n                }else{\n                    return &quot;&quot; + getAuftragsAdresseList().get(0);\n                }\n            }\n        });\n\n        renderer.setBaseToolTipGenerator((CategoryDataset categoryDataset, int row, int column) -&gt; {\n            TaskSeriesCollection taskCollection = (TaskSeriesCollection) categoryDataset;\n            TaskSeries series = taskCollection.getSeries(row);\n            Task task = series.get(column);\n            return &quot;Task: &quot; + task.getDescription() + &quot;\\nStart: &quot; + task.getDuration().getStart() +\n                    &quot;\\nEnd: &quot; + task.getDuration().getEnd();\n        });\n        renderer.setSeriesPaint(0, Color.GREEN);\n\n        ChartPanel panel = new ChartPanel(chart);\n        setContentPane(panel);\n        setVisible(true);\n\n        /*******************************/\n        setResizable(false);\n    }\n\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n        date = date + &quot; 00:00:00.00000&quot;;\n        Timestamp timestamp = Timestamp.valueOf(date);\n        Timestamp timestamp2 = addDays(timestamp,1);\n\n        try {\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n            st.setTimestamp(1, timestamp);\n            st.setTimestamp(2, timestamp2);\n            ResultSet rs = st.executeQuery();\n            while (rs.next()) {\n                Calendar calendar1 = Calendar.getInstance();\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n                getAuftragsBeginnList().add(calendar1);\n\n                Calendar calendar2 = Calendar.getInstance();\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n                getAuftragsEndeList().add(calendar2);\n\n                getAuftragsAdresseList().add(rs.getString(3));\n                getAuftragsPLZList().add(rs.getString(4));\n                getLiegenschaftsnummerList().add(rs.getInt(5));\n                getMitarbeiterVornameList().add(rs.getString(6));\n                getMitarbeiterNachnameList().add(rs.getString(7));\n            }\n            rs.close();\n            st.close();\n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n\n        TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n        }\n\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\n        dataset.add(series1);\n        return dataset;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n        return auftragsBeginn;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n        return auftragsEnde;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\n        return auftragsAdresse;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\n        return auftragsPLZ;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n        return mitarbeiterVorname;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n        return mitarbeiterNachname;\n    }\n\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n        return liegenschaftsnummer;\n    }\n\n    public Timestamp addDays(Timestamp date, int days) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return new Timestamp(cal.getTime().getTime());\n\n    }\n}\n\nclass MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\n\n    DateFormat format;\n\n    public MyToolTipGenerator(String value, DateFormat format) {\n        super(value, format);\n        this.format = format;\n    }\n\n    @Override\n    public String generateToolTip(CategoryDataset cds, int row, int col) {\n        final String s = super.generateToolTip(cds, row, col);\n        TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\n        StringBuilder sb = new StringBuilder(s);\n        for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\n            sb.append(format.format(tsc.getStartValue(row, col, i)));\n            sb.append(&quot;-&quot;);\n            sb.append(format.format(tsc.getEndValue(row, col, i)));\n            sb.append(&quot;,&quot;);\n        }\n        sb.deleteCharAt(sb.length() - 1);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>the other classes look similar from the structure.</p>\n"},{"tags":["java","android","webdriver","appium"],"answers":[{"tags":[],"owner":{"account_id":7835470,"reputation":143,"user_id":20977270,"display_name":"TAEFED"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700780261,"creation_date":1700780261,"answer_id":77539974,"question_id":77483309,"body_markdown":"I think there&#39;s you should collect logs of when these errors happen, or give steps to reproduce this error so people can try to figure out why exactly this error happens in your situation.","title":"How can I avoid org.openqa.selenium.WebDriverException: Original error: socket hang up?","body":"<p>I think there's you should collect logs of when these errors happen, or give steps to reproduce this error so people can try to figure out why exactly this error happens in your situation.</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700780261,"creation_date":1699989686,"question_id":77483309,"body_markdown":"I am running a test automation suite using Appium 2.2.1, Java 11, TestNG, and Cucumber.\r\nI keep running into a problem where I get `org.openqa.selenium.WebDriverException: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up` in the middle of a test execution. This usual also fouls up the next couple of scenarios.\r\n\r\nI know the usual way to solve this is to run `adb uninstall io.appium.uiautomator2.server.test` and `adb uninstall io.appium.uiautomator2.server`, but how can I set up my code to avoid this error all together. \r\n\r\nHere is how I am running my tests on real devices. Note: The above error throws even when I am just running a single Thread, on one device.\r\n\r\nRunParallelTest.java\r\n```java\r\n@CucumberOptions(\r\n        features = &quot;classpath:features&quot;,\r\n        glue = {&quot;stepdefs&quot;}\r\n)\r\npublic class RunParallelTests extends AbstractTestNGCucumberTests {\r\n\r\n    private final DesiredCapabilitiesUtil desiredCapabilitiesUtil = new DesiredCapabilitiesUtil();\r\n    private final AppiumServiceBuilderUtil appiumServiceBuilderUtil = new AppiumServiceBuilderUtil();\r\n    protected AppiumDriverLocalService service;\r\n\r\n    @BeforeTest(alwaysRun = true)\r\n    public void startAppiumServer(){\r\n        //System.out.println(&quot;Building Appium Server&quot;);\r\n        service = appiumServiceBuilderUtil.buildAppiumService();\r\n        System.out.println(&quot;Starting Appium Server&quot;);\r\n        service.clearOutPutStreams();\r\n        service.start();\r\n    }\r\n\r\n    @BeforeMethod\r\n    @Parameters({&quot;deviceOS&quot;})\r\n    public void setup(String deviceOS){\r\n        service.isRunning();\r\n        URL serviceURL = service.getUrl();\r\n        switch (deviceOS) {\r\n            case &quot;iOS&quot;:\r\n                //System.out.println(&quot;Initializing iOS Driver&quot;);\r\n                DesiredCapabilities iosCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\r\n                ThreadLocalDriver.setTLDriver(new IOSDriver(serviceURL, iosCaps));\r\n                break;\r\n            case &quot;Android&quot;:\r\n                //System.out.println(&quot;Initializing Android Driver&quot;);\r\n                DesiredCapabilities androidCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\r\n                ThreadLocalDriver.setTLDriver(new AndroidDriver(serviceURL, androidCaps));\r\n                if (((AndroidDriver)ThreadLocalDriver.getTLDriver()).isDeviceLocked()){\r\n                    ((AndroidDriver)ThreadLocalDriver.getTLDriver()).unlockDevice();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    @AfterMethod\r\n    public synchronized void teardown() {\r\n        ThreadLocalDriver.getTLDriver().quit();\r\n    }\r\n\r\n    @AfterTest(alwaysRun = true)\r\n    public synchronized void stopAppiumServer(){\r\n        if(service.isRunning()) {\r\n            System.out.println(&quot;Stopping Appium Server&quot;);\r\n            service.stop();\r\n        }\r\n        else {\r\n            System.out.println(&quot;Appium Server Already Closed&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nAppiumServiceBuilderUtil.java\r\n```java\r\npublic class AppiumServiceBuilderUtil {\r\n\r\n    public AppiumServiceBuilderUtil(){}\r\n\r\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; tlService = new ThreadLocal&lt;&gt;();\r\n    public static synchronized void setTLService(AppiumDriverLocalService service) { tlService.set(service); }\r\n    public static synchronized AppiumDriverLocalService getTLService() {\r\n        return tlService.get();\r\n    }\r\n\r\n    public AppiumDriverLocalService buildAppiumService(){\r\n        String serverOS = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(&quot;deviceOS&quot;);\r\n        AppiumServiceBuilder builder = new AppiumServiceBuilder();\r\n\r\n/* Deprecated, Now uses default values\r\n        builder.withIPAddress(&quot;0.0.0.0&quot;);\r\n        builder.usingPort(4723);\r\n*/\r\n        builder.usingAnyFreePort();\r\n        builder.withArgument(GeneralServerFlag.USE_PLUGINS, &quot;relaxed-caps&quot;);\r\n        builder.withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;chromedriver_autodownload&quot;);\r\n        \r\n        builder.usingDriverExecutable(new File(&quot;/opt/homebrew/bin/node&quot;));\r\n\r\n        builder.withLogFile(new File(String.format(&quot;logs/appium_server_log_%s.log&quot;, serverOS)));\r\n        setTLService(AppiumDriverLocalService.buildService(builder));\r\n        return getTLService();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nDesiredCapabilitiesUtil.java\r\n```java\r\npublic class DesiredCapabilitiesUtil {\r\n    private static final ThreadLocal&lt;DesiredCapabilities&gt; tlCaps = new ThreadLocal&lt;&gt;();\r\n    static Properties props = new Properties();\r\n\r\n    public DesiredCapabilitiesUtil(){}\r\n\r\n    public static synchronized void setTlCaps(DesiredCapabilities caps){tlCaps.set(caps);}\r\n\r\n    public static synchronized DesiredCapabilities getTLCaps() {\r\n        return tlCaps.get();\r\n    }\r\n\r\n    public DesiredCapabilities getDesiredCapabilities(String deviceOS){\r\n        boolean localRun = Boolean.parseBoolean(System.getProperty(&quot;localRun&quot;, &quot;false&quot;));\r\n        String capFile;\r\n        if(localRun){\r\n            capFile = &quot;local-decivecapabilities.properties&quot;;}\r\n        else {\r\n            capFile = &quot;decivecapabilities.properties&quot;;}\r\n\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(capFile)){\r\n            props.load(inputStream);\r\n        } catch (Exception e) {e.printStackTrace();}\r\n        setTlCaps(new DesiredCapabilities());\r\n        tlCaps.get().setCapability(&quot;newCommandTimeout&quot;, 300);\r\n        switch (deviceOS) {\r\n            case &quot;iOS&quot;:\r\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\r\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\r\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\r\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\r\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\r\n                \r\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;ios.capability.app&quot;));\r\n                tlCaps.get().setCapability(&quot;autoAcceptAlerts&quot;, true);\r\n                tlCaps.get().setCapability(&quot;includeSafariInWebviews&quot;, true);\r\n                tlCaps.get().setCapability(&quot;webviewConnectTimeout&quot;, 20000);\r\n                break;\r\n\r\n            case &quot;Android&quot;:\r\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\r\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\r\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\r\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\r\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\r\n                tlCaps.get().setCapability(&quot;unlockType&quot;, props.getProperty(&quot;android.capability.unlockType&quot;));\r\n                tlCaps.get().setCapability(&quot;unlockKey&quot;, props.getProperty(&quot;android.capability.unlockKey&quot;));\r\n\r\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;android.capability.app&quot;));\r\n                tlCaps.get().setCapability(&quot;autoGrantPermissions&quot;, true);\r\n                break;\r\n\r\n            default:\r\n                throw new RuntimeException(&quot;No or invalid device OS given&quot;);\r\n        }\r\n\r\n        return getTLCaps();\r\n    }\r\n}\r\n```\r\n\r\nThreadLocalDriver.java\r\n```java\r\npublic class ThreadLocalDriver {\r\n\r\n    private static final ThreadLocal&lt;AppiumDriver&gt; tlDriver = new ThreadLocal&lt;&gt;();\r\n    public static synchronized void setTLDriver(AppiumDriver driver) { tlDriver.set(driver); }\r\n    public static synchronized AppiumDriver getTLDriver() {\r\n        return tlDriver.get();\r\n    }\r\n}\r\n```\r\n\r\ntestng.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n&lt;suite name=&quot;Automation Test&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\r\n\r\n    &lt;test name=&quot;iOS&quot;&gt;\r\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;iOS&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@ios or not @android) and not (@skip or @demo)&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_ios/test_results.json,\r\n        junit:target/cucumber-reports_ios/test_results.xml,\r\n        html:target/cucumber-reports_ios/test_results.html&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n    &lt;test name=&quot;Android&quot;&gt;\r\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;Android&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@android or not @ios) and not (@skip or @demo)&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_android/test_results.json,\r\n        junit:target/cucumber-reports_android/test_results.xml,\r\n        html:target/cucumber-reports_android/test_results.html&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    \r\n&lt;/suite&gt;\r\n```\r\n\r\nFrom there it is your basic POM cucumber step up. I do initialize all my Page Objects at the top of my `StepDefs.java` file `protected PageObject pageObject = new PageObject(ThreadLocalDriver.getTLDriver())` but I plan to move them into a thread safe factory class eventually.","title":"How can I avoid org.openqa.selenium.WebDriverException: Original error: socket hang up?","body":"<p>I am running a test automation suite using Appium 2.2.1, Java 11, TestNG, and Cucumber.\nI keep running into a problem where I get <code>org.openqa.selenium.WebDriverException: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up</code> in the middle of a test execution. This usual also fouls up the next couple of scenarios.</p>\n<p>I know the usual way to solve this is to run <code>adb uninstall io.appium.uiautomator2.server.test</code> and <code>adb uninstall io.appium.uiautomator2.server</code>, but how can I set up my code to avoid this error all together.</p>\n<p>Here is how I am running my tests on real devices. Note: The above error throws even when I am just running a single Thread, on one device.</p>\n<p>RunParallelTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(\n        features = &quot;classpath:features&quot;,\n        glue = {&quot;stepdefs&quot;}\n)\npublic class RunParallelTests extends AbstractTestNGCucumberTests {\n\n    private final DesiredCapabilitiesUtil desiredCapabilitiesUtil = new DesiredCapabilitiesUtil();\n    private final AppiumServiceBuilderUtil appiumServiceBuilderUtil = new AppiumServiceBuilderUtil();\n    protected AppiumDriverLocalService service;\n\n    @BeforeTest(alwaysRun = true)\n    public void startAppiumServer(){\n        //System.out.println(&quot;Building Appium Server&quot;);\n        service = appiumServiceBuilderUtil.buildAppiumService();\n        System.out.println(&quot;Starting Appium Server&quot;);\n        service.clearOutPutStreams();\n        service.start();\n    }\n\n    @BeforeMethod\n    @Parameters({&quot;deviceOS&quot;})\n    public void setup(String deviceOS){\n        service.isRunning();\n        URL serviceURL = service.getUrl();\n        switch (deviceOS) {\n            case &quot;iOS&quot;:\n                //System.out.println(&quot;Initializing iOS Driver&quot;);\n                DesiredCapabilities iosCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\n                ThreadLocalDriver.setTLDriver(new IOSDriver(serviceURL, iosCaps));\n                break;\n            case &quot;Android&quot;:\n                //System.out.println(&quot;Initializing Android Driver&quot;);\n                DesiredCapabilities androidCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\n                ThreadLocalDriver.setTLDriver(new AndroidDriver(serviceURL, androidCaps));\n                if (((AndroidDriver)ThreadLocalDriver.getTLDriver()).isDeviceLocked()){\n                    ((AndroidDriver)ThreadLocalDriver.getTLDriver()).unlockDevice();\n                }\n                break;\n        }\n    }\n\n    @AfterMethod\n    public synchronized void teardown() {\n        ThreadLocalDriver.getTLDriver().quit();\n    }\n\n    @AfterTest(alwaysRun = true)\n    public synchronized void stopAppiumServer(){\n        if(service.isRunning()) {\n            System.out.println(&quot;Stopping Appium Server&quot;);\n            service.stop();\n        }\n        else {\n            System.out.println(&quot;Appium Server Already Closed&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>AppiumServiceBuilderUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppiumServiceBuilderUtil {\n\n    public AppiumServiceBuilderUtil(){}\n\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; tlService = new ThreadLocal&lt;&gt;();\n    public static synchronized void setTLService(AppiumDriverLocalService service) { tlService.set(service); }\n    public static synchronized AppiumDriverLocalService getTLService() {\n        return tlService.get();\n    }\n\n    public AppiumDriverLocalService buildAppiumService(){\n        String serverOS = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(&quot;deviceOS&quot;);\n        AppiumServiceBuilder builder = new AppiumServiceBuilder();\n\n/* Deprecated, Now uses default values\n        builder.withIPAddress(&quot;0.0.0.0&quot;);\n        builder.usingPort(4723);\n*/\n        builder.usingAnyFreePort();\n        builder.withArgument(GeneralServerFlag.USE_PLUGINS, &quot;relaxed-caps&quot;);\n        builder.withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;chromedriver_autodownload&quot;);\n        \n        builder.usingDriverExecutable(new File(&quot;/opt/homebrew/bin/node&quot;));\n\n        builder.withLogFile(new File(String.format(&quot;logs/appium_server_log_%s.log&quot;, serverOS)));\n        setTLService(AppiumDriverLocalService.buildService(builder));\n        return getTLService();\n\n    }\n\n}\n</code></pre>\n<p>DesiredCapabilitiesUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DesiredCapabilitiesUtil {\n    private static final ThreadLocal&lt;DesiredCapabilities&gt; tlCaps = new ThreadLocal&lt;&gt;();\n    static Properties props = new Properties();\n\n    public DesiredCapabilitiesUtil(){}\n\n    public static synchronized void setTlCaps(DesiredCapabilities caps){tlCaps.set(caps);}\n\n    public static synchronized DesiredCapabilities getTLCaps() {\n        return tlCaps.get();\n    }\n\n    public DesiredCapabilities getDesiredCapabilities(String deviceOS){\n        boolean localRun = Boolean.parseBoolean(System.getProperty(&quot;localRun&quot;, &quot;false&quot;));\n        String capFile;\n        if(localRun){\n            capFile = &quot;local-decivecapabilities.properties&quot;;}\n        else {\n            capFile = &quot;decivecapabilities.properties&quot;;}\n\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(capFile)){\n            props.load(inputStream);\n        } catch (Exception e) {e.printStackTrace();}\n        setTlCaps(new DesiredCapabilities());\n        tlCaps.get().setCapability(&quot;newCommandTimeout&quot;, 300);\n        switch (deviceOS) {\n            case &quot;iOS&quot;:\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\n                \n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;ios.capability.app&quot;));\n                tlCaps.get().setCapability(&quot;autoAcceptAlerts&quot;, true);\n                tlCaps.get().setCapability(&quot;includeSafariInWebviews&quot;, true);\n                tlCaps.get().setCapability(&quot;webviewConnectTimeout&quot;, 20000);\n                break;\n\n            case &quot;Android&quot;:\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\n                tlCaps.get().setCapability(&quot;unlockType&quot;, props.getProperty(&quot;android.capability.unlockType&quot;));\n                tlCaps.get().setCapability(&quot;unlockKey&quot;, props.getProperty(&quot;android.capability.unlockKey&quot;));\n\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;android.capability.app&quot;));\n                tlCaps.get().setCapability(&quot;autoGrantPermissions&quot;, true);\n                break;\n\n            default:\n                throw new RuntimeException(&quot;No or invalid device OS given&quot;);\n        }\n\n        return getTLCaps();\n    }\n}\n</code></pre>\n<p>ThreadLocalDriver.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadLocalDriver {\n\n    private static final ThreadLocal&lt;AppiumDriver&gt; tlDriver = new ThreadLocal&lt;&gt;();\n    public static synchronized void setTLDriver(AppiumDriver driver) { tlDriver.set(driver); }\n    public static synchronized AppiumDriver getTLDriver() {\n        return tlDriver.get();\n    }\n}\n</code></pre>\n<p>testng.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Automation Test&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\n\n    &lt;test name=&quot;iOS&quot;&gt;\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;iOS&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@ios or not @android) and not (@skip or @demo)&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_ios/test_results.json,\n        junit:target/cucumber-reports_ios/test_results.xml,\n        html:target/cucumber-reports_ios/test_results.html&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n    &lt;test name=&quot;Android&quot;&gt;\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;Android&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@android or not @ios) and not (@skip or @demo)&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_android/test_results.json,\n        junit:target/cucumber-reports_android/test_results.xml,\n        html:target/cucumber-reports_android/test_results.html&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    \n&lt;/suite&gt;\n</code></pre>\n<p>From there it is your basic POM cucumber step up. I do initialize all my Page Objects at the top of my <code>StepDefs.java</code> file <code>protected PageObject pageObject = new PageObject(ThreadLocalDriver.getTLDriver())</code> but I plan to move them into a thread safe factory class eventually.</p>\n"},{"tags":["java","swing","intellij-idea","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700779566,"post_id":77539932,"comment_id":136698759,"body_markdown":"`WindowAdapter#windowClosing` is an empty convenience implementation of the `WindowListener` interface, so in this case, there is no need to call the `super` method","body":"<code>WindowAdapter#windowClosing</code> is an empty convenience implementation of the <code>WindowListener</code> interface, so in this case, there is no need to call the <code>super</code> method"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700779629,"post_id":77539932,"comment_id":136698763,"body_markdown":"And `super.windowClosing(e)  /\\* ; \\*/ {` should be `super.windowClosing(e);` (and also remove the trailing `}`) but as I stated, the call isn&#39;t required","body":"And <code>super.windowClosing(e)  &#47;\\* ; \\*&#47; {</code> should be <code>super.windowClosing(e);</code> (and also remove the trailing <code>}</code>) but as I stated, the call isn&#39;t required"},{"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"score":0,"creation_date":1700779686,"post_id":77539932,"comment_id":136698769,"body_markdown":"If i remove it, Intellij says, &quot; Cannot resolve method &#39;add(WindowAdapter)&#39; &quot;","body":"If i remove it, Intellij says, &quot; Cannot resolve method &#39;add(WindowAdapter)&#39; &quot;"},{"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"score":0,"creation_date":1700779775,"post_id":77539932,"comment_id":136698775,"body_markdown":"those comments were just supposed to demonstrate where the semicolon is supposed to go according to intellij","body":"those comments were just supposed to demonstrate where the semicolon is supposed to go according to intellij"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700779943,"post_id":77539932,"comment_id":136698787,"body_markdown":"Let&#39;s also point out that Swing is NOT thread safe, so `new Thread(() -&gt; frame.add(new WindowAdapter() {` is a bad idea","body":"Let&#39;s also point out that Swing is NOT thread safe, so <code>new Thread(() -&gt; frame.add(new WindowAdapter() {</code> is a bad idea"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700781886,"post_id":77539932,"comment_id":136698928,"body_markdown":"In digression, when _over-riding_ a method, make a call to the _super_ implementation of, to apply any pertinent, associated, processes.  Optional, of course, considering.  Here is the _Java_ tutorial, on _over-riding methods_, _[Overriding and Hiding Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/override.html)_.","body":"In digression, when <i>over-riding</i> a method, make a call to the <i>super</i> implementation of, to apply any pertinent, associated, processes.  Optional, of course, considering.  Here is the <i>Java</i> tutorial, on <i>over-riding methods</i>, <i><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">Overriding and Hiding Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700780096,"creation_date":1700780096,"answer_id":77539963,"question_id":77539932,"body_markdown":"`frame.add(new WindowAdapter()` is an invalid call, as `JFrame` does not have a `add(WindowListener)` method and instead, you should be using the `JFrame#addWindowListener` method, for example...\r\n\r\n    frame.addWindowListener(new WindowAdapter() {\r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            System.out.println(&quot;Window is closing&quot;);\r\n        }\r\n    });\r\n\r\nSwing is also NOT thread safe.\r\n\r\n    Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() { ... })\r\n\r\nis violating this rule and doesn&#39;t make a lot of sense.\r\n\r\nThis will cause the `Thread` to call the `add` method of the `JFrame`, but the call to `windowClosing` will be executed within the context of the Event Dispatching Thread ... so it just seems completely pointless.\r\n\r\n\r\nYou should take a closer look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n","title":"Code won&#39;t run if super.windowClosing(e) doesn&#39;t exist, and it requires a &quot;;&quot;, which causes the IDE to treat it as if it was not there","body":"<p><code>frame.add(new WindowAdapter()</code> is an invalid call, as <code>JFrame</code> does not have a <code>add(WindowListener)</code> method and instead, you should be using the <code>JFrame#addWindowListener</code> method, for example...</p>\n<pre><code>frame.addWindowListener(new WindowAdapter() {\n    @Override\n    public void windowClosing(WindowEvent e) {\n        System.out.println(&quot;Window is closing&quot;);\n    }\n});\n</code></pre>\n<p>Swing is also NOT thread safe.</p>\n<pre><code>Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() { ... })\n</code></pre>\n<p>is violating this rule and doesn't make a lot of sense.</p>\n<p>This will cause the <code>Thread</code> to call the <code>add</code> method of the <code>JFrame</code>, but the call to <code>windowClosing</code> will be executed within the context of the Event Dispatching Thread ... so it just seems completely pointless.</p>\n<p>You should take a closer look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></p>\n"}],"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77539963,"answer_count":1,"score":0,"last_activity_date":1700780132,"creation_date":1700779422,"question_id":77539932,"body_markdown":"This is my first question on here, so any feedback about the way I asked this question would be helpful.\r\n\r\n I am writing code that will save information to a text file when the JFrame gets closed. When I initially wrote the listener, Intellij put in that extra line of code (super.windowClosing(e)) because there was an error initially (Cannot resolve method &#39;add(WindowAdapter)&#39;), so I had pressed the fix button which put in that line, but it also caused an error to pop up saying that it was missing a semicolon.\r\n\r\n//Thread 4\r\n\r\n   \r\n\r\n \r\n\r\n    Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() {\r\n    \r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                    super.windowClosing(e)  \\* ; */ {\r\n    \r\n                        try {\r\n                            FileWriter writer = new FileWriter(&quot;Registry.txt&quot;);\r\n    \r\n                            for (String key : loginRegistry.keySet()) {\r\n                                //write key to file\r\n                                for (String innerKey : loginRegistry.get(key).keySet()) {\r\n                                    //write innerKey to file\r\n                                    //write get(innerKey) to file\r\n                                }\r\n                            }\r\n                            writer.close();\r\n                            frame.dispose();\r\n                            System.exit(0);\r\n    \r\n                        }catch(IOException x){x.printStackTrace();}\r\n    \r\n                        }\r\n                    }\r\n    \r\n            }));\r\n\r\n\r\nThis code segment is supposed to write down a map (containing strings and maps(containing a string and a char array)) into a file, so that when the program is run again it can read the information that was saved. But the program won&#39;t run do to the error.\r\n","title":"Code won&#39;t run if super.windowClosing(e) doesn&#39;t exist, and it requires a &quot;;&quot;, which causes the IDE to treat it as if it was not there","body":"<p>This is my first question on here, so any feedback about the way I asked this question would be helpful.</p>\n<p>I am writing code that will save information to a text file when the JFrame gets closed. When I initially wrote the listener, Intellij put in that extra line of code (super.windowClosing(e)) because there was an error initially (Cannot resolve method 'add(WindowAdapter)'), so I had pressed the fix button which put in that line, but it also caused an error to pop up saying that it was missing a semicolon.</p>\n<p>//Thread 4</p>\n<pre><code>Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() {\n\n            @Override\n            public void windowClosing(WindowEvent e) {\n                super.windowClosing(e)  \\* ; */ {\n\n                    try {\n                        FileWriter writer = new FileWriter(&quot;Registry.txt&quot;);\n\n                        for (String key : loginRegistry.keySet()) {\n                            //write key to file\n                            for (String innerKey : loginRegistry.get(key).keySet()) {\n                                //write innerKey to file\n                                //write get(innerKey) to file\n                            }\n                        }\n                        writer.close();\n                        frame.dispose();\n                        System.exit(0);\n\n                    }catch(IOException x){x.printStackTrace();}\n\n                    }\n                }\n\n        }));\n</code></pre>\n<p>This code segment is supposed to write down a map (containing strings and maps(containing a string and a char array)) into a file, so that when the program is run again it can read the information that was saved. But the program won't run do to the error.</p>\n"},{"tags":["java","spring","rest","heroku","http-status-code-503"],"comments":[{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":0,"creation_date":1700777640,"post_id":77539827,"comment_id":136698588,"body_markdown":"Can you share the full stacktrace from the log?","body":"Can you share the full stacktrace from the log?"},{"owner":{"account_id":25893692,"reputation":9,"user_id":19620670,"display_name":"Maria"},"score":0,"creation_date":1700779776,"post_id":77539827,"comment_id":136698776,"body_markdown":"at the moment that was the full log. If I try to perform a POST request you can see the log at the end.","body":"at the moment that was the full log. If I try to perform a POST request you can see the log at the end."},{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":0,"creation_date":1700790445,"post_id":77539827,"comment_id":136699523,"body_markdown":"This is not the full log, this is the last x lines of it. Read the Heroku docs how to view the full log and post a full stacktrace.","body":"This is not the full log, this is the last x lines of it. Read the Heroku docs how to view the full log and post a full stacktrace."}],"owner":{"account_id":25893692,"reputation":9,"user_id":19620670,"display_name":"Maria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700779817,"creation_date":1700777242,"question_id":77539827,"body_markdown":"I managed to deploy my Java Spring application using Heroku, but none of the Requests work. When I click on inspect element, I see in the console the following error: Failed to load resource: the server responded with a status of 503 (Service Unavailable)\r\n\r\nThe application worked perfectly when I ran it as localhost:8080 \r\n\r\nI don&#39;t know if this is important but the app is using basic dynes in Heroku. \r\nHere is my **pom** file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;TaskManager&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;21&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThese are the **Heroku logs:** \r\n\r\n```\r\n2023-11-23T21:25:46.935729+00:00 app[web.1]: \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935729+00:00 app[web.1]: \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n2023-11-23T21:25:46.935731+00:00 app[web.1]: \r\n```\r\n\r\nAfter reading other questions with the same issue I followed some suggestions and added a system.properties file where I added the java version and a Procfile but this didn&#39;t fix the issue. \r\n**system.properties** \r\n``` \r\njava.runtime.version=21 \r\n```\r\n**Procfile** \r\n``` \r\nweb: java -Dserver.port=$PORT -jar target/TaskManager-0.0.1-SNAPSHOT.jar\r\n``` \r\nIn addition to this, I am using Mongodb as a database and I made sure to add **0.0.0.0/0** as an IP address so the data should be accessible. \r\n\r\nWhat else can I try to fix the issue?\r\n\r\nThank you in advance.\r\n\r\nFULL LOG from Heroku \r\n2023-11-23T22:11:30.324316+00:00 app[web.1]: \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324322+00:00 app[web.1]: \tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n2023-11-23T22:11:30.324322+00:00 app[web.1]: \r\n2023-11-23T22:34:21.814117+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=1717a89b-d210-4dd0-a69a-22be61029186 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=302 bytes=477 protocol=https\r\n2023-11-23T22:34:21.886741+00:00 heroku[router]: at=info method=GET path=&quot;/login&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=998b0560-241c-4d94-bae8-dbd23f21f098 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=1864 protocol=https\r\n2023-11-23T22:34:28.969493+00:00 heroku[router]: at=info method=GET path=&quot;/oauth2/authorization/google&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=43aac0a6-8835-484d-8766-909b3e5d65ae fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=302 bytes=707 protocol=https\r\n2023-11-23T22:34:31.787418+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=99a74459-3524-48f6-8484-4e6c78af68de fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=200 bytes=1942 protocol=https\r\n2023-11-23T22:34:31.712544+00:00 heroku[router]: at=info method=GET path=&quot;/login/oauth2/code/google?state=n4j5_YRUk1VSD4Tub0C0pREQVymtToughfFX04gJLJM%3D&amp;code=4%2F0AfJohXmBRqTmfrPeGrWnUuoTMPU326Vnwv2gFX_yyFqXDirHjorcVeqPlFM-DQp3N3IiIA&amp;scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&amp;authuser=0&amp;prompt=none&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=56468518-3b56-479b-aa03-86d20bc4a07d fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=113ms status=302 bytes=491 protocol=https\r\n2023-11-23T22:34:31.867520+00:00 heroku[router]: at=info method=GET path=&quot;/style.css&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=a9c2813a-3d4a-4ed5-bd05-8e9b0ce26aff fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=1667 protocol=https\r\n2023-11-23T22:34:32.050348+00:00 heroku[router]: at=info method=GET path=&quot;/script.js&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=c804842b-9734-4f8d-b58b-21b5fbae7ed7 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=2665 protocol=https\r\n2023-11-23T22:34:32.156045+00:00 app[web.1]: *myemailhere*\r\n2023-11-23T22:34:32.156057+00:00 app[web.1]: 2023-11-23T22:34:32.155Z  INFO 2 --- [io-32250-exec-3] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out\r\n2023-11-23T22:34:32.160169+00:00 app[web.1]: *myemailhere*\r\n2023-11-23T22:34:32.160170+00:00 app[web.1]: 2023-11-23T22:34:32.156Z  INFO 2 --- [io-32250-exec-1] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out","title":"503 error on GET/POST requests in a Heroku Java Spring application","body":"<p>I managed to deploy my Java Spring application using Heroku, but none of the Requests work. When I click on inspect element, I see in the console the following error: Failed to load resource: the server responded with a status of 503 (Service Unavailable)</p>\n<p>The application worked perfectly when I ran it as localhost:8080</p>\n<p>I don't know if this is important but the app is using basic dynes in Heroku.\nHere is my <strong>pom</strong> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TaskManager&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>These are the <strong>Heroku logs:</strong></p>\n<pre><code>2023-11-23T21:25:46.935729+00:00 app[web.1]:    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935729+00:00 app[web.1]:    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n2023-11-23T21:25:46.935731+00:00 app[web.1]: \n</code></pre>\n<p>After reading other questions with the same issue I followed some suggestions and added a system.properties file where I added the java version and a Procfile but this didn't fix the issue.\n<strong>system.properties</strong></p>\n<pre><code>java.runtime.version=21 \n</code></pre>\n<p><strong>Procfile</strong></p>\n<pre><code>web: java -Dserver.port=$PORT -jar target/TaskManager-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>In addition to this, I am using Mongodb as a database and I made sure to add <strong>0.0.0.0/0</strong> as an IP address so the data should be accessible.</p>\n<p>What else can I try to fix the issue?</p>\n<p>Thank you in advance.</p>\n<p>FULL LOG from Heroku\n2023-11-23T22:11:30.324316+00:00 app[web.1]:    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324322+00:00 app[web.1]:    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n2023-11-23T22:11:30.324322+00:00 app[web.1]:\n2023-11-23T22:34:21.814117+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=1717a89b-d210-4dd0-a69a-22be61029186 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=302 bytes=477 protocol=https\n2023-11-23T22:34:21.886741+00:00 heroku[router]: at=info method=GET path=&quot;/login&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=998b0560-241c-4d94-bae8-dbd23f21f098 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=1864 protocol=https\n2023-11-23T22:34:28.969493+00:00 heroku[router]: at=info method=GET path=&quot;/oauth2/authorization/google&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=43aac0a6-8835-484d-8766-909b3e5d65ae fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=302 bytes=707 protocol=https\n2023-11-23T22:34:31.787418+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=99a74459-3524-48f6-8484-4e6c78af68de fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=200 bytes=1942 protocol=https\n2023-11-23T22:34:31.712544+00:00 heroku[router]: at=info method=GET path=&quot;/login/oauth2/code/google?state=n4j5_YRUk1VSD4Tub0C0pREQVymtToughfFX04gJLJM%3D&amp;code=4%2F0AfJohXmBRqTmfrPeGrWnUuoTMPU326Vnwv2gFX_yyFqXDirHjorcVeqPlFM-DQp3N3IiIA&amp;scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&amp;authuser=0&amp;prompt=none&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=56468518-3b56-479b-aa03-86d20bc4a07d fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=113ms status=302 bytes=491 protocol=https\n2023-11-23T22:34:31.867520+00:00 heroku[router]: at=info method=GET path=&quot;/style.css&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=a9c2813a-3d4a-4ed5-bd05-8e9b0ce26aff fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=1667 protocol=https\n2023-11-23T22:34:32.050348+00:00 heroku[router]: at=info method=GET path=&quot;/script.js&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=c804842b-9734-4f8d-b58b-21b5fbae7ed7 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=2665 protocol=https\n2023-11-23T22:34:32.156045+00:00 app[web.1]: <em>myemailhere</em>\n2023-11-23T22:34:32.156057+00:00 app[web.1]: 2023-11-23T22:34:32.155Z  INFO 2 --- [io-32250-exec-3] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out\n2023-11-23T22:34:32.160169+00:00 app[web.1]: <em>myemailhere</em>\n2023-11-23T22:34:32.160170+00:00 app[web.1]: 2023-11-23T22:34:32.156Z  INFO 2 --- [io-32250-exec-1] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out</p>\n"},{"tags":["java","spring-boot","validation","annotations"],"owner":{"account_id":25749908,"reputation":1,"user_id":19502622,"display_name":"urmila teke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778988,"creation_date":1700759676,"question_id":77538679,"body_markdown":"In my spring boot project I applied validation on same field name merchantReferenceID one is `c@NotBlank` and another is pattern please find below code for your reference when both the validation failed then the message is not consistent sometimes it shows &quot;Merchant Reference Id cannot be blank or null, Invalid Merchant Reference Id&quot;, and sometime &quot;Invalid Merchant Reference Id, Merchant Reference Id cannot be blank or null&quot;, \r\n\r\nMy requirement is the message should be consistent it should show same message sequence in each request without any custom validation please find below request class.\r\n\r\n```\r\n@ApiModel\r\npublic class SanctionCheckStatus {\r\n    @Schema(required = true, description = &quot;Merchant Reference Id&quot;, example = &quot;343403938493&quot;, minLength = 1, maxLength = 100)\r\n    @NotBlank(message = &quot;Merchant Reference Id cannot be blank or null&quot;)\r\n    @Pattern(regexp = &quot;^[a-zA-Z0-9-]{32,36}$&quot;, message = &quot;Invalid Merchant Reference Id&quot;)\r\n    private String merchantReferenceID;\r\n\r\n//getter and setter\r\n}\r\n```\r\n\r\nI tried change the sequence and not blank to not empty but still same issue.","title":"I applied two validation on same field in spring boot application but when both the validation failed the sequence of message always chaange","body":"<p>In my spring boot project I applied validation on same field name merchantReferenceID one is <code>c@NotBlank</code> and another is pattern please find below code for your reference when both the validation failed then the message is not consistent sometimes it shows &quot;Merchant Reference Id cannot be blank or null, Invalid Merchant Reference Id&quot;, and sometime &quot;Invalid Merchant Reference Id, Merchant Reference Id cannot be blank or null&quot;,</p>\n<p>My requirement is the message should be consistent it should show same message sequence in each request without any custom validation please find below request class.</p>\n<pre><code>@ApiModel\npublic class SanctionCheckStatus {\n    @Schema(required = true, description = &quot;Merchant Reference Id&quot;, example = &quot;343403938493&quot;, minLength = 1, maxLength = 100)\n    @NotBlank(message = &quot;Merchant Reference Id cannot be blank or null&quot;)\n    @Pattern(regexp = &quot;^[a-zA-Z0-9-]{32,36}$&quot;, message = &quot;Invalid Merchant Reference Id&quot;)\n    private String merchantReferenceID;\n\n//getter and setter\n}\n</code></pre>\n<p>I tried change the sequence and not blank to not empty but still same issue.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1700861405,"post_id":77539883,"comment_id":136708541,"body_markdown":"In general it runs them in parallel (i.e., subscribe to all at the same time), but you may use `subscribeOn` to make sure it doesn&#39;t do everything in the current subscription thread. `boundedElastic` is a right choice for IO","body":"In general it runs them in parallel (i.e., subscribe to all at the same time), but you may use <code>subscribeOn</code> to make sure it doesn&#39;t do everything in the current subscription thread. <code>boundedElastic</code> is a right choice for IO"},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1700890665,"post_id":77539883,"comment_id":136710348,"body_markdown":"@IgorArtamonov If I am wanting to run them in parallel then, there is no need to use `subscribeOn` since, that would more so be if I want certain calls to be subscribed at different points in time correct ?","body":"@IgorArtamonov If I am wanting to run them in parallel then, there is no need to use <code>subscribeOn</code> since, that would more so be if I want certain calls to be subscribed at different points in time correct ?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1700926722,"post_id":77539883,"comment_id":136713025,"body_markdown":"Some _Publishers_ may execute too many operations, if not everything, during the subscription itself. I.e., it takes a bit longer to subscribe. So without `subscribeOn` you will subscribe to them one by one in the same thread. Not a big problem maybe if the publishers are actually use their own thread for publishing. Latter is not always the case, and some may continue the processing in the same thread as they received the subscription command, which forces the following _subscription_ calls to wait for the current one. With `subscribeOn` you always switch to a new thread to avoid that","body":"Some <i>Publishers</i> may execute too many operations, if not everything, during the subscription itself. I.e., it takes a bit longer to subscribe. So without <code>subscribeOn</code> you will subscribe to them one by one in the same thread. Not a big problem maybe if the publishers are actually use their own thread for publishing. Latter is not always the case, and some may continue the processing in the same thread as they received the subscription command, which forces the following <i>subscription</i> calls to wait for the current one. With <code>subscribeOn</code> you always switch to a new thread to avoid that"}],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778552,"creation_date":1700778552,"question_id":77539883,"body_markdown":"I am trying to confirm 2 things.\r\n\r\nOne, that zipping a collection of Monos or Fluxes will in fact run blocking-type calls such as hitting API endpoints, DB calls, or other network-related calls in a non-blocking context in parallel.\r\n\r\n```\r\nMono&lt;A&gt; a = myDatabaseCall();\r\nMono&lt;B&gt; b = myAPICall();\r\nMono&lt;C&gt; c = myBlockingCall();\r\n\r\n// Code I would like to be executed in parallel (at the same time)\r\nMono.zip(a, b, c)\r\n```\r\n\r\nTwo, how to run a parallel call when the return type of 1 call is `Mono&lt;Void&gt;` &amp; for the other calls are non-void.\r\n\r\n```\r\nMono&lt;A&gt; a = myDatabaseCall();\r\nMono&lt;Void&gt; b = notifySystem();\r\n\r\n// How would you run in parallel since, Mono.zip doesn&#39;t support Void? Use Flux.zip?\r\nMono.zip(a, b)\r\n```\r\n\r\nAlso, I am not super familiar the methods `fromCallable()` or `subscribeOn` &amp; I was curious to know if anyone knew if this scenario would be a use case for them?\r\n\r\n```\r\nMono.fromCallable(() -&gt; myDatabaseCall())\r\n    .subscribeOn(Schedulers.boundedElastic());  // or Schedulers.parallel() ?\r\n```","title":"Project Reactor - Does Mono/Flux Zip method run code in parallel &amp; how to handle Void return type?","body":"<p>I am trying to confirm 2 things.</p>\n<p>One, that zipping a collection of Monos or Fluxes will in fact run blocking-type calls such as hitting API endpoints, DB calls, or other network-related calls in a non-blocking context in parallel.</p>\n<pre><code>Mono&lt;A&gt; a = myDatabaseCall();\nMono&lt;B&gt; b = myAPICall();\nMono&lt;C&gt; c = myBlockingCall();\n\n// Code I would like to be executed in parallel (at the same time)\nMono.zip(a, b, c)\n</code></pre>\n<p>Two, how to run a parallel call when the return type of 1 call is <code>Mono&lt;Void&gt;</code> &amp; for the other calls are non-void.</p>\n<pre><code>Mono&lt;A&gt; a = myDatabaseCall();\nMono&lt;Void&gt; b = notifySystem();\n\n// How would you run in parallel since, Mono.zip doesn't support Void? Use Flux.zip?\nMono.zip(a, b)\n</code></pre>\n<p>Also, I am not super familiar the methods <code>fromCallable()</code> or <code>subscribeOn</code> &amp; I was curious to know if anyone knew if this scenario would be a use case for them?</p>\n<pre><code>Mono.fromCallable(() -&gt; myDatabaseCall())\n    .subscribeOn(Schedulers.boundedElastic());  // or Schedulers.parallel() ?\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda","spring-cloud"],"owner":{"account_id":22346686,"reputation":1,"user_id":16565559,"display_name":"Kofi Boateng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778440,"creation_date":1700778440,"question_id":77539876,"body_markdown":"In the past I have created AWS Lambdas using Spring Cloud Function and everything worked fine. I believe I used Spring Boot 3.0.0 and used Java 11. Now I am currently using Spring 3.1.6 and Java 17 to create a sample function and I cannot seem to get it to work like before. Below, I will show what my Pom file looks like as well. I even added a MANIFEST.MF in the correct file structure, and I am still not getting the function to be called. Since the last time I created the working function, it has only been roughly 8 months. Has there been any significant changes In how to invoke the function?\r\n\r\n\r\n\r\n\r\n\r\n\r\nAWS Handler portion (How you used to invoke the function within AWS)\r\norg.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\r\n\r\nFile Structure\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Function&lt;String,String&gt; capitalize(){return String::toUpperCase;}\r\n\r\n}\r\n```\r\n\r\nPOM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t\t&lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Spring Cloud and AWS Lambda: Issue with MAIN_CLASS not being found","body":"<p>In the past I have created AWS Lambdas using Spring Cloud Function and everything worked fine. I believe I used Spring Boot 3.0.0 and used Java 11. Now I am currently using Spring 3.1.6 and Java 17 to create a sample function and I cannot seem to get it to work like before. Below, I will show what my Pom file looks like as well. I even added a MANIFEST.MF in the correct file structure, and I am still not getting the function to be called. Since the last time I created the working function, it has only been roughly 8 months. Has there been any significant changes In how to invoke the function?</p>\n<p>AWS Handler portion (How you used to invoke the function within AWS)\norg.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest</p>\n<p>File Structure</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    public Function&lt;String,String&gt; capitalize(){return String::toUpperCase;}\n\n}\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["javascript","java","import"],"comments":[{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":0,"creation_date":1444014457,"post_id":32940676,"comment_id":53706712,"body_markdown":"Maybe the data is in JSON format (there is no &#39;javascript&#39; data format)","body":"Maybe the data is in JSON format (there is no &#39;javascript&#39; data format)"},{"owner":{"account_id":7055664,"reputation":73,"user_id":5403579,"accept_rate":67,"display_name":"Infinitylsx"},"score":0,"creation_date":1444016860,"post_id":32940676,"comment_id":53707235,"body_markdown":"@Jochen_Bedersdorfer yeh I had a feeling I would just sound dumb. I have no idea what else to call it. My question is CAN I use that in java or is that not possible?","body":"@Jochen_Bedersdorfer yeh I had a feeling I would just sound dumb. I have no idea what else to call it. My question is CAN I use that in java or is that not possible?"},{"owner":{"account_id":5934440,"reputation":1281,"user_id":4667934,"display_name":"LinkBerest"},"score":0,"creation_date":1444017696,"post_id":32940676,"comment_id":53707418,"body_markdown":"[how to parse json in java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"<a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">how to parse json in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":5373668,"reputation":243,"user_id":4281350,"accept_rate":100,"display_name":"OsYYYY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444017674,"creation_date":1444017674,"answer_id":32941077,"question_id":32940676,"body_markdown":"In Automatical way,\r\n\r\nWhen you get json data from steam api in js/web page, you could pass the data using ajax to java web application controller by RESTful API to comsume/handle that data in java program. You could search &quot;java spring web application&quot; for your starting point\r\n\r\n[http://docs.spring.io/docs/Spring-MVC-step-by-step/part1.html#step1.8][1]\r\n\r\nIn manual way,\r\n\r\nYou could just copy the result json string into java normal program to transform into Map/List object by some parsing function or library(e.g. gson) for further computation. \r\n\r\n[https://stackoverflow.com/questions/32823746/java-code-to-convert-json-into-text-in-key-value-pair/][2]\r\n\r\n\r\n  [1]: http://docs.spring.io/docs/Spring-MVC-step-by-step/part1.html#step1.8\r\n  [2]: https://stackoverflow.com/questions/32823746/java-code-to-convert-json-into-text-in-key-value-pair/","title":"Use Javascript API in a Java program","body":"<p>In Automatical way,</p>\n\n<p>When you get json data from steam api in js/web page, you could pass the data using ajax to java web application controller by RESTful API to comsume/handle that data in java program. You could search \"java spring web application\" for your starting point</p>\n\n<p><a href=\"http://docs.spring.io/docs/Spring-MVC-step-by-step/part1.html#step1.8\" rel=\"nofollow noreferrer\">http://docs.spring.io/docs/Spring-MVC-step-by-step/part1.html#step1.8</a></p>\n\n<p>In manual way,</p>\n\n<p>You could just copy the result json string into java normal program to transform into Map/List object by some parsing function or library(e.g. gson) for further computation. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/32823746/java-code-to-convert-json-into-text-in-key-value-pair/\">java code to convert json into text in key value pair</a></p>\n"}],"owner":{"account_id":7055664,"reputation":73,"user_id":5403579,"accept_rate":67,"display_name":"Infinitylsx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700778247,"creation_date":1444014085,"question_id":32940676,"body_markdown":"I was looking to add data to my program based off of the steam market API that I have found [here][1] but I am unsure how to use this data as I believe it is in JavaScript. Is it possible to do so or is this not do-able?\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/csgo-market#getsingleknifeprice-knife-skin-wear-stattrak-callback","title":"Use Javascript API in a Java program","body":"<p>I was looking to add data to my program based off of the steam market API that I have found <a href=\"https://www.npmjs.com/package/csgo-market#getsingleknifeprice-knife-skin-wear-stattrak-callback\" rel=\"nofollow noreferrer\">here</a> but I am unsure how to use this data as I believe it is in JavaScript. Is it possible to do so or is this not do-able?</p>\n"},{"tags":["java","docker","ubuntu","centos"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700763296,"post_id":77538941,"comment_id":136696974,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"}],"owner":{"account_id":29660181,"reputation":1,"user_id":22731915,"display_name":"Tyler Pearson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700768600,"answer_count":0,"score":-1,"last_activity_date":1700777093,"creation_date":1700762861,"question_id":77538941,"body_markdown":"I am in a class learning about docker right now. I am trying to create and run my first docker image, which is a CentOS container that installs java and runs a jar file. Here is my dockerfile:[Dockerfile](https://i.stack.imgur.com/XW10W.png)\r\n\r\nWhenever I run the image, the container immediately shuts down. When I check the logs, I get an error stating that this version of the Java Runtime only recognizes class file versions up to 52.0. Here is the log: [Logs](https://i.stack.imgur.com/iQK7u.png)\r\n\r\nAt first I thought that my JDK on my Ubuntu system which is running docker was the problem. I tried uninstalling, reinstalling, and updating the java on my Ubuntu system, but this didn&#39;t change anything. Then I realized that I was probably installing an outdated JDK for CentOS in my Dockerfile. That is when I added the &quot;RUN yum -y update&quot; line before installing java. This also did not change anything. I am very new to both linux and docker, and I don&#39;t really know what else to try from here. \r\n\r\nI understand that I need to make sure the JDK matches with what the java program is configured for. I am mostly hoping someone can tell me how to do that within my *Dockerfile* so that my CentOS container is running the correct JDK.","title":"Running docker image fails: This version of the Java Runtime only recognizes class file versions up to 52.0","body":"<p>I am in a class learning about docker right now. I am trying to create and run my first docker image, which is a CentOS container that installs java and runs a jar file. Here is my dockerfile:<a href=\"https://i.stack.imgur.com/XW10W.png\" rel=\"nofollow noreferrer\">Dockerfile</a></p>\n<p>Whenever I run the image, the container immediately shuts down. When I check the logs, I get an error stating that this version of the Java Runtime only recognizes class file versions up to 52.0. Here is the log: <a href=\"https://i.stack.imgur.com/iQK7u.png\" rel=\"nofollow noreferrer\">Logs</a></p>\n<p>At first I thought that my JDK on my Ubuntu system which is running docker was the problem. I tried uninstalling, reinstalling, and updating the java on my Ubuntu system, but this didn't change anything. Then I realized that I was probably installing an outdated JDK for CentOS in my Dockerfile. That is when I added the &quot;RUN yum -y update&quot; line before installing java. This also did not change anything. I am very new to both linux and docker, and I don't really know what else to try from here.</p>\n<p>I understand that I need to make sure the JDK matches with what the java program is configured for. I am mostly hoping someone can tell me how to do that within my <em>Dockerfile</em> so that my CentOS container is running the correct JDK.</p>\n"},{"tags":["java","ldap","jndi"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1496033701,"post_id":44234817,"comment_id":75479313,"body_markdown":"Did you test with secure connection ldaps://...?","body":"Did you test with secure connection ldaps://...?"},{"owner":{"account_id":6912362,"reputation":11,"user_id":5307738,"display_name":"MinSub so"},"score":0,"creation_date":1496036416,"post_id":44234817,"comment_id":75480117,"body_markdown":"no i don&#39;t. because almost 2017.04 LDAP was fine. client login error dose not occured. why should i use LDAPS? @Jan","body":"no i don&#39;t. because almost 2017.04 LDAP was fine. client login error dose not occured. why should i use LDAPS? @Jan"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656372940,"post_id":44234817,"comment_id":128551413,"body_markdown":"We would need to know what LDAP server you are using and all relevant configuration information. But why aren&#39;t you using LDAPS? That&#39;s the easy solution.","body":"We would need to know what LDAP server you are using and all relevant configuration information. But why aren&#39;t you using LDAPS? That&#39;s the easy solution."}],"answers":[{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496054010,"creation_date":1496054010,"answer_id":44240351,"question_id":44234817,"body_markdown":"These errors indicate your LDAP server is set to Require Signing.\r\n\r\nIf you connect using SSL, then the data signing is not required.4\r\n\r\nIf you were able to make an successful bind, then I would &quot;guess&quot; the server you first connected to does NOT have signing enabled and you are being referred to a Domain Controller that has signing enabled.\r\n\r\nSee:\r\n[https://support.microsoft.com/en-us/help/2545140/fast-esp-unable-to-use-active-directory-accounts-for-authentication-login-fails-with-ldaperr-dsid-0c0901fc][1]\r\n\r\n\r\n  [1]: https://support.microsoft.com/en-us/help/2545140/fast-esp-unable-to-use-active-directory-accounts-for-authentication-login-fails-with-ldaperr-dsid-0c0901fc","title":"LDAP error code 8 for some users but not others","body":"<p>These errors indicate your LDAP server is set to Require Signing.</p>\n\n<p>If you connect using SSL, then the data signing is not required.4</p>\n\n<p>If you were able to make an successful bind, then I would \"guess\" the server you first connected to does NOT have signing enabled and you are being referred to a Domain Controller that has signing enabled.</p>\n\n<p>See:\n<a href=\"https://support.microsoft.com/en-us/help/2545140/fast-esp-unable-to-use-active-directory-accounts-for-authentication-login-fails-with-ldaperr-dsid-0c0901fc\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/2545140/fast-esp-unable-to-use-active-directory-accounts-for-authentication-login-fails-with-ldaperr-dsid-0c0901fc</a></p>\n"}],"owner":{"account_id":6912362,"reputation":11,"user_id":5307738,"display_name":"MinSub so"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700777015,"creation_date":1496033558,"question_id":44234817,"body_markdown":"I have a some problems.\r\n\r\nListed Error:\r\n\r\n    LDAP error code 8\r\n\r\nServer log:\r\n\r\n\tjavax.naming.AuthenticationNotSupportedException: [LDAP: error code 8 - 00002028: LdapErr: DSID-0C090202, comment: The server requires binds to turn on integrity checking if SSL\\TLS are not already active on the connection, data 0, v2580 ]\r\n\t\r\nProblem action(?):\r\n\r\n- client to login request to server. and server send request to LDAP. Some people can login successfully, but for other some people login failed:\r\n\r\n    LDAP response error code 8\r\n\r\nServer log got [javax.naming.AuthenticationNotSupportedException: [LDAP: error code 8 - 00002028: LdapErr: DSID-0C090202, comment: The server requires binds to turn on integrity checking if SSL\\TLS are not already active on the connection, data 0, v2580 ]]\r\n\t\t\r\nBut I am using LDAP. no LDAPS.\r\n\t\t\r\n- Some people said check under `KRDOM01 : HKEY_LOCAL_MACHINE \\ SYSTEM \\ CurrentControlSet \\ Services \\ NTDS \\ Parameters \\ LDAPServerIntegrity = 1`\r\n\t\t\r\nbut my setting is already `LDAPServerIntegrity = 1`\r\n\t\t\r\nMy code:\r\n\r\n\t\tHashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\r\n\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\tenv.put(Context.PROVIDER_URL, &quot;ldap://&quot;+host+&quot;:&quot;+port);\r\n\t\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\t\tenv.put(Context.SECURITY_PRINCIPAL, principal);\r\n\t\tenv.put(Context.SECURITY_CREDENTIALS, pwd);\r\n\t\r\n\t\r\n\t\t\r\nWhy can some people login ok, but some people got fail?\r\n\t","title":"LDAP error code 8 for some users but not others","body":"<p>I have a some problems.</p>\n<p>Listed Error:</p>\n<pre><code>LDAP error code 8\n</code></pre>\n<p>Server log:</p>\n<pre><code>javax.naming.AuthenticationNotSupportedException: [LDAP: error code 8 - 00002028: LdapErr: DSID-0C090202, comment: The server requires binds to turn on integrity checking if SSL\\TLS are not already active on the connection, data 0, v2580 ]\n</code></pre>\n<p>Problem action(?):</p>\n<ul>\n<li><p>client to login request to server. and server send request to LDAP. Some people can login successfully, but for other some people login failed:</p>\n<p>LDAP response error code 8</p>\n</li>\n</ul>\n<p>Server log got [javax.naming.AuthenticationNotSupportedException: [LDAP: error code 8 - 00002028: LdapErr: DSID-0C090202, comment: The server requires binds to turn on integrity checking if SSL\\TLS are not already active on the connection, data 0, v2580 ]]</p>\n<p>But I am using LDAP. no LDAPS.</p>\n<ul>\n<li>Some people said check under <code>KRDOM01 : HKEY_LOCAL_MACHINE \\ SYSTEM \\ CurrentControlSet \\ Services \\ NTDS \\ Parameters \\ LDAPServerIntegrity = 1</code></li>\n</ul>\n<p>but my setting is already <code>LDAPServerIntegrity = 1</code></p>\n<p>My code:</p>\n<pre><code>    Hashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    env.put(Context.PROVIDER_URL, &quot;ldap://&quot;+host+&quot;:&quot;+port);\n    env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n    env.put(Context.SECURITY_PRINCIPAL, principal);\n    env.put(Context.SECURITY_CREDENTIALS, pwd);\n\n\n    \n</code></pre>\n<p>Why can some people login ok, but some people got fail?</p>\n"},{"tags":["java","amazon-web-services","cloud9"],"answers":[{"tags":[],"owner":{"account_id":3079150,"reputation":31,"user_id":2607798,"display_name":"Sotir Sotirov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700777013,"creation_date":1587882648,"answer_id":61436691,"question_id":61363005,"body_markdown":"EDIT:\r\nRecently they added Enhanced support for Java SE 11. There is many specifics though. This is the URL with the documentation about the &quot;Enhanced support for Java development&quot; : https://docs.aws.amazon.com/cloud9/latest/user-guide/enhanced-java.html\r\n\r\n\r\nOriginal Answer:\r\nCloud9 doesn&#39;t support debug for all languages. Java debugging is not supported. Here is a full list with languages support level in Cloud9:\r\nhttps://docs.aws.amazon.com/cloud9/latest/user-guide/language-support.html","title":"How can i debug a simple java file in AWS Cloud9?","body":"<p>EDIT:\nRecently they added Enhanced support for Java SE 11. There is many specifics though. This is the URL with the documentation about the &quot;Enhanced support for Java development&quot; : <a href=\"https://docs.aws.amazon.com/cloud9/latest/user-guide/enhanced-java.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cloud9/latest/user-guide/enhanced-java.html</a></p>\n<p>Original Answer:\nCloud9 doesn't support debug for all languages. Java debugging is not supported. Here is a full list with languages support level in Cloud9:\n<a href=\"https://docs.aws.amazon.com/cloud9/latest/user-guide/language-support.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cloud9/latest/user-guide/language-support.html</a></p>\n"}],"owner":{"account_id":11867147,"reputation":15,"user_id":8684370,"display_name":"elliot_m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700777013,"creation_date":1587551749,"question_id":61363005,"body_markdown":"I have to debug a simple java file, i set the breakpoint, tap the bug icon and run but it doesn’t stop on breakpoint and only run the file.","title":"How can i debug a simple java file in AWS Cloud9?","body":"<p>I have to debug a simple java file, i set the breakpoint, tap the bug icon and run but it doesn’t stop on breakpoint and only run the file.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":5,"creation_date":1700771145,"post_id":77539389,"comment_id":136697955,"body_markdown":"Why would ChatGPT be able to tell you what to do? It&#39;s not a teaching tool, It doesn&#39;t know what code is, all it knows is how to write what seems like a convincing story with _zero guarantee_ that the story is actually based on facts. Also, nowhere in the question does it ask you to use recursion, so can you explain why you decided to use recursion to solve this problem?","body":"Why would ChatGPT be able to tell you what to do? It&#39;s not a teaching tool, It doesn&#39;t know what code is, all it knows is how to write what seems like a convincing story with <i>zero guarantee</i> that the story is actually based on facts. Also, nowhere in the question does it ask you to use recursion, so can you explain why you decided to use recursion to solve this problem?"},{"owner":{"account_id":29934105,"reputation":1,"user_id":22940284,"display_name":"AdHass"},"score":0,"creation_date":1700771671,"post_id":77539389,"comment_id":136698029,"body_markdown":"i searched up problems on leetcode with the tag recursion and it was up there. I know that it can be solved easily without recursion but i want to train myself to think in a recursive way. Can you maybe recommend me somewhere else where i can train to get better at recursion ? because all of the problems i found can be solved easily wihtout using it and it just complicates it.","body":"i searched up problems on leetcode with the tag recursion and it was up there. I know that it can be solved easily without recursion but i want to train myself to think in a recursive way. Can you maybe recommend me somewhere else where i can train to get better at recursion ? because all of the problems i found can be solved easily wihtout using it and it just complicates it."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700771869,"post_id":77539389,"comment_id":136698049,"body_markdown":"I am guessing that L and W must be integers, but this is nowhere mentioned in your questions. The thing is, if they don&#39;t have to be integers, the problem is trivial.","body":"I am guessing that L and W must be integers, but this is nowhere mentioned in your questions. The thing is, if they don&#39;t have to be integers, the problem is trivial."},{"owner":{"account_id":12817783,"reputation":373,"user_id":14045674,"display_name":"Jore"},"score":0,"creation_date":1700772583,"post_id":77539389,"comment_id":136698125,"body_markdown":"@AdHass if you want problems that **require recursion**, i know some good ones i enjoyed solving. Try creating an algorithm to **print all the possible combinations of given letters**, **converting numbers to words and vice versa**, also visit **dcoder.com &gt; challenges &gt; hard**","body":"@AdHass if you want problems that <b>require recursion</b>, i know some good ones i enjoyed solving. Try creating an algorithm to <b>print all the possible combinations of given letters</b>, <b>converting numbers to words and vice versa</b>, also visit <b>dcoder.com &gt; challenges &gt; hard</b>"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1700772814,"post_id":77539389,"comment_id":136698150,"body_markdown":"This problem is not suitable for recursion. You would kill the stack for larger inputs.","body":"This problem is not suitable for recursion. You would kill the stack for larger inputs."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700773548,"post_id":77539389,"comment_id":136698209,"body_markdown":"I don&#39;t understand the problem. Could you, please, edit the question to show one or more examples?","body":"I don&#39;t understand the problem. Could you, please, edit the question to show one or more examples?"},{"owner":{"account_id":29934105,"reputation":1,"user_id":22940284,"display_name":"AdHass"},"score":0,"creation_date":1700782261,"post_id":77539389,"comment_id":136698952,"body_markdown":"@OldDogProgrammer here you go mate https://leetcode.com/problems/construct-the-rectangle/description/\nI actually managed to find what was wrong with the code it was just something to do with the parenthesis and in the base condition i missed another condition :). Thank you!","body":"@OldDogProgrammer here you go mate <a href=\"https://leetcode.com/problems/construct-the-rectangle/description/\" rel=\"nofollow noreferrer\">leetcode.com/problems/construct-the-rectangle/description</a> I actually managed to find what was wrong with the code it was just something to do with the parenthesis and in the base condition i missed another condition :). Thank you!"},{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1700782615,"post_id":77539389,"comment_id":136698972,"body_markdown":"If you solved your problem, either write up an answer, or if it was &quot;obvious&quot; in retrospect, just delete the question again.","body":"If you solved your problem, either write up an answer, or if it was &quot;obvious&quot; in retrospect, just delete the question again."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1700785475,"post_id":77539389,"comment_id":136699161,"body_markdown":"`Math.round(W);` does nothing.  Also, there is no solution whenever A is a prime number (Other than a 1 pixel wide page of height L).  This is a simple iteration problem, and using recursion is completely inappropriate.  To paraphrase [Jamie Zawinski](http://www.jwz.org/), _&quot;Some people, when confronted with a problem, think_ “I know, I&#39;ll use recursion.”  _Now they have two problems.&quot;_","body":"<code>Math.round(W);</code> does nothing.  Also, there is no solution whenever A is a prime number (Other than a 1 pixel wide page of height L).  This is a simple iteration problem, and using recursion is completely inappropriate.  To paraphrase <a href=\"http://www.jwz.org/\" rel=\"nofollow noreferrer\">Jamie Zawinski</a>, <i>&quot;Some people, when confronted with a problem, think</i> “I know, I&#39;ll use recursion.”  <i>Now they have two problems.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":27259982,"reputation":36,"user_id":20782957,"display_name":"bunicu2k4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700776097,"creation_date":1700776097,"answer_id":77539771,"question_id":77539389,"body_markdown":"In your homework, a = L*W, which means that W = a/L. If you try the next iteration with the next length L+1, it results that the next W should be a/(L+1). The error is that in your code the next W is a / L + 1.\r\n\r\n*when i put the code in chatgpt*\r\n\r\nIf I were you I would not put the code in chatgpt just yet. If this is your homework then your goal is to learn from it. When you are able to verify everything that chatgpt tells you back, then maybe it will be useful to you.\r\nYou are correct, W can never be bigger than L. They start from equal values, and then L only increases while W remains the same or decreases.\r\n\r\n","title":"Trouble understanding what&#39;s wrong with my recursion","body":"<p>In your homework, a = L*W, which means that W = a/L. If you try the next iteration with the next length L+1, it results that the next W should be a/(L+1). The error is that in your code the next W is a / L + 1.</p>\n<p><em>when i put the code in chatgpt</em></p>\n<p>If I were you I would not put the code in chatgpt just yet. If this is your homework then your goal is to learn from it. When you are able to verify everything that chatgpt tells you back, then maybe it will be useful to you.\nYou are correct, W can never be bigger than L. They start from equal values, and then L only increases while W remains the same or decreases.</p>\n"},{"tags":[],"owner":{"account_id":12817783,"reputation":373,"user_id":14045674,"display_name":"Jore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700776749,"creation_date":1700776749,"answer_id":77539803,"question_id":77539389,"body_markdown":"**PROBLEM**\r\n\r\nThe problem with this recursion is that it runs infinitely (never stops) and this causes a **stack overflow error**.\r\n\r\nThe reason why the error is at line **19**:\r\n\r\n```java\r\nreturn (Calcul(a, L + 1, a / L + 1));\r\n```\r\n\r\nis because it&#39;s the line that makes the recursive call. (calls `Calcul`)\r\n\r\n**WHY IS THE RECURSION RUNNING INFINITELY**\r\n\r\nThis is because the only condition that terminates the recursion never gets fulfilled.\r\n\r\n```java\r\nif (L * W == a )\r\n```\r\n\r\nso more calls to `return (Calcul(a, L + 1, a / L + 1));` just continue getting made.\r\n\r\n**SOLUTION**\r\n\r\nI am not sure if the required values of **L and W** don&#39;t need to contain decimals, but I shall use integers like you did.\r\n\r\nWhat we need is to find the multiples of the area with the least difference. For example, when area is `20`. L and W will be `5x4` respectively.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(Arrays.toString(getLandW(20)));\r\n\t}\r\n\r\n\tpublic static int[] getLandW(int area) {\r\n\t\tint LandW[] = new int[2], difference = Integer.MAX_VALUE;\r\n\r\n\t\tfor (int factor = area, otherFactor, diff; factor &gt; 0; factor--)\r\n\r\n            // Stop when we find a factor\r\n\t\t\tif ((area % factor) == 0) {\r\n\t\t\t\totherFactor = area / factor;\r\n\t\t\t\tdiff = Math.abs(factor - otherFactor);\r\n\r\n                // When the difference of the factors\r\n                // is less than current\r\n\t\t\t\tif (diff &lt; difference) {\r\n\t\t\t\t\tdifference = diff;\r\n\t\t\t\t\tLandW[0] = factor;\r\n\t\t\t\t\tLandW[1] = otherFactor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn LandW;\r\n\t}\r\n}\r\n```\r\n\r\nThis problem did not require recursion to be solved, but if you are up for recursion challenges, here are some.\r\n\r\nMake a program to:\r\n\r\n 1. Print all the possible combinations of letters in a given word.\r\n 2. Convert numbers to words [ [My solution](https://github.com/jorexdeveloper/JavaUtils/blob/root/ScientificCalculator/code/jorex/programs/ntw/NumberToWord.java) ].\r\n\r\nFind more [here](https://code.dcoder.tech/challenges/).","title":"Trouble understanding what&#39;s wrong with my recursion","body":"<p><strong>PROBLEM</strong></p>\n<p>The problem with this recursion is that it runs infinitely (never stops) and this causes a <strong>stack overflow error</strong>.</p>\n<p>The reason why the error is at line <strong>19</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (Calcul(a, L + 1, a / L + 1));\n</code></pre>\n<p>is because it's the line that makes the recursive call. (calls <code>Calcul</code>)</p>\n<p><strong>WHY IS THE RECURSION RUNNING INFINITELY</strong></p>\n<p>This is because the only condition that terminates the recursion never gets fulfilled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (L * W == a )\n</code></pre>\n<p>so more calls to <code>return (Calcul(a, L + 1, a / L + 1));</code> just continue getting made.</p>\n<p><strong>SOLUTION</strong></p>\n<p>I am not sure if the required values of <strong>L and W</strong> don't need to contain decimals, but I shall use integers like you did.</p>\n<p>What we need is to find the multiples of the area with the least difference. For example, when area is <code>20</code>. L and W will be <code>5x4</code> respectively.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(getLandW(20)));\n    }\n\n    public static int[] getLandW(int area) {\n        int LandW[] = new int[2], difference = Integer.MAX_VALUE;\n\n        for (int factor = area, otherFactor, diff; factor &gt; 0; factor--)\n\n            // Stop when we find a factor\n            if ((area % factor) == 0) {\n                otherFactor = area / factor;\n                diff = Math.abs(factor - otherFactor);\n\n                // When the difference of the factors\n                // is less than current\n                if (diff &lt; difference) {\n                    difference = diff;\n                    LandW[0] = factor;\n                    LandW[1] = otherFactor;\n                }\n            }\n\n        return LandW;\n    }\n}\n</code></pre>\n<p>This problem did not require recursion to be solved, but if you are up for recursion challenges, here are some.</p>\n<p>Make a program to:</p>\n<ol>\n<li>Print all the possible combinations of letters in a given word.</li>\n<li>Convert numbers to words [ <a href=\"https://github.com/jorexdeveloper/JavaUtils/blob/root/ScientificCalculator/code/jorex/programs/ntw/NumberToWord.java\" rel=\"nofollow noreferrer\">My solution</a> ].</li>\n</ol>\n<p>Find more <a href=\"https://code.dcoder.tech/challenges/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":29934105,"reputation":1,"user_id":22940284,"display_name":"AdHass"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700776749,"creation_date":1700769853,"question_id":77539389,"body_markdown":"My homework task:\r\n\r\nA web developer needs to know how to design a web page&#39;s size. So, given a specific rectangular web page’s area, your job by now is to design a rectangular web page, whose length L and width W satisfy the following requirements:\r\n\r\n- The area of the rectangular web page you designed must equal to the given target area.\r\n- The width W should not be larger than the length L, which means L &gt;= W.\r\n- The difference between length L and width W should be as small as possible.\r\n- Return an array [L, W] where L and W are the length and width of the web page you designed in sequence.\r\n\r\n\r\nIt says that there is problem in the recursion in the last line and i cannot understand it. Also when i put the code in chatgpt it says that i have to put the L&gt;W condition but i do not see why it is necessary in this code because it can never be bigger than L no ?\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(Arrays.toString(constructRectangle(20)));\r\n    }\r\n\r\n    public static int[] constructRectangle(int a) {\r\n        int L = (int) Math.round(Math.sqrt(a));\r\n        int W = (int) Math.round(Math.sqrt(a));\r\n        return Calcul(a, L, W);\r\n    }\r\n\r\n    public static int[] Calcul(int a,int L, int W){\r\n        Math.round(W);\r\n        if (L * W == a ){\r\n            return (new int[]{L,W});\r\n        }\r\n        return (Calcul(a, L + 1, a / L + 1));\r\n    }\r\n}\r\n```\r\n","title":"Trouble understanding what&#39;s wrong with my recursion","body":"<p>My homework task:</p>\n<p>A web developer needs to know how to design a web page's size. So, given a specific rectangular web page’s area, your job by now is to design a rectangular web page, whose length L and width W satisfy the following requirements:</p>\n<ul>\n<li>The area of the rectangular web page you designed must equal to the given target area.</li>\n<li>The width W should not be larger than the length L, which means L &gt;= W.</li>\n<li>The difference between length L and width W should be as small as possible.</li>\n<li>Return an array [L, W] where L and W are the length and width of the web page you designed in sequence.</li>\n</ul>\n<p>It says that there is problem in the recursion in the last line and i cannot understand it. Also when i put the code in chatgpt it says that i have to put the L&gt;W condition but i do not see why it is necessary in this code because it can never be bigger than L no ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(constructRectangle(20)));\n    }\n\n    public static int[] constructRectangle(int a) {\n        int L = (int) Math.round(Math.sqrt(a));\n        int W = (int) Math.round(Math.sqrt(a));\n        return Calcul(a, L, W);\n    }\n\n    public static int[] Calcul(int a,int L, int W){\n        Math.round(W);\n        if (L * W == a ){\n            return (new int[]{L,W});\n        }\n        return (Calcul(a, L + 1, a / L + 1));\n    }\n}\n</code></pre>\n"},{"tags":["java","class","methods","subclass"],"answers":[{"tags":[],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700776376,"creation_date":1700776376,"answer_id":77539786,"question_id":77539370,"body_markdown":"You can either:\r\n\r\n - Make your &#39;Pergunta&#39; class abstract and create a method called &#39;calcularPontuacao&#39;\r\n\r\n```\r\npublic abstract class Pergunta {\r\n    public abstract int calcularPontuacao(); \r\n}\r\n```\r\nAnd then Override it on your child methods\r\n\r\n```\r\npublic class PerguntaArtes extends Pergunta{\r\n    @Override\r\n    public int calcularPontuacao() {\r\n        return pontosPergunta * 10;\r\n    }\r\n}\r\n\r\npublic class PerguntaScience extends Pergunta{\r\n    @Override\r\n    public int calcularPontuacao() {\r\n        return pontosPergunta * 20;\r\n    }\r\n}\r\n```\r\n\r\n - Create an interface with your method called &#39;calcularPontuacao&#39;\r\n\r\n```\r\npublic interface PuntuationRegister {\r\n    int calcularPontucao();\r\n}\r\n\r\npublic class PerguntaArtes implements PuntuationRegister{\r\n    @Override\r\n    public int calcularPontuacao() {\r\n        return pontosPergunta * 10;\r\n    }\r\n}\r\n```\r\n\r\nAlso I advice you to use .equalsIgnoreCase OR an enum for this part `if (pergunta.getArea().equals(&quot;PerguntaArtes&quot;))`\r\n","title":"How to call a method from a subclass?","body":"<p>You can either:</p>\n<ul>\n<li>Make your 'Pergunta' class abstract and create a method called 'calcularPontuacao'</li>\n</ul>\n<pre><code>public abstract class Pergunta {\n    public abstract int calcularPontuacao(); \n}\n</code></pre>\n<p>And then Override it on your child methods</p>\n<pre><code>public class PerguntaArtes extends Pergunta{\n    @Override\n    public int calcularPontuacao() {\n        return pontosPergunta * 10;\n    }\n}\n\npublic class PerguntaScience extends Pergunta{\n    @Override\n    public int calcularPontuacao() {\n        return pontosPergunta * 20;\n    }\n}\n</code></pre>\n<ul>\n<li>Create an interface with your method called 'calcularPontuacao'</li>\n</ul>\n<pre><code>public interface PuntuationRegister {\n    int calcularPontucao();\n}\n\npublic class PerguntaArtes implements PuntuationRegister{\n    @Override\n    public int calcularPontuacao() {\n        return pontosPergunta * 10;\n    }\n}\n</code></pre>\n<p>Also I advice you to use .equalsIgnoreCase OR an enum for this part <code>if (pergunta.getArea().equals(&quot;PerguntaArtes&quot;))</code></p>\n"}],"owner":{"account_id":29977998,"reputation":1,"user_id":22973742,"display_name":"Comicas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700776376,"creation_date":1700769570,"question_id":77539370,"body_markdown":"So I have this project where a I have a certain question, and if we answer it correctly is gives a certain amount of points that varies depending on the theme of the question. I have a class named Pergunta(Question) with subclasses of different themes like PerguntasArtes(ArtQuestions) and I want to write a method in each subclass to do the points calculation.\r\n\r\n```\r\n\r\npublic class Pergunta {\r\n    private String area;\r\n    private String pergunta;\r\n    private ArrayList&lt;String&gt; opcoes;\r\n    private String respostaCorreta;\r\n    private String dificuldade;\r\n    protected int pontosPergunta;\r\n\r\n    public Pergunta(String area, String pergunta, ArrayList&lt;String&gt; opcoes, String respostaCorreta, String dificuldade, int pontosPergunta) {\r\n        this.area = area;\r\n        this.pergunta = pergunta;\r\n        this.opcoes = opcoes;\r\n        this.respostaCorreta = respostaCorreta;\r\n        this.dificuldade = dificuldade;\r\n        this.pontosPergunta = pontosPergunta;\r\n\r\n    }\r\n\r\n    public static Pergunta readFromFile(String filename) {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(filename))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] parts = line.split(&quot;-&quot;);\r\n                String area = parts[0];\r\n                String dificuldade = parts[1];\r\n                String pergunta = parts[2];\r\n                ArrayList&lt;String&gt; opcoes = new ArrayList&lt;&gt;(Arrays.asList(parts[3].split(&quot;,&quot;)));\r\n                String respostaCorreta = parts[4];\r\n                int pontosPergunta = Integer.parseInt(parts[5]);\r\n                return new Pergunta(area, pergunta, opcoes, respostaCorreta, dificuldade, pontosPergunta);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getPergunta() {\r\n        return pergunta;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getOpcoes() {\r\n        return opcoes;\r\n    }\r\n\r\n    public void setArea(String area){\r\n        this.area=area;\r\n    }\r\n    public String getArea(){\r\n        return this.area;\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic class PerguntaArtes extends Pergunta {\r\n    public PerguntaArtes(String area, String pergunta, ArrayList&lt;String&gt; opcoes, String respostaCorreta, String dificuldade, int pontosPergunta) {\r\n        super(area, pergunta, opcoes, respostaCorreta, dificuldade, pontosPergunta);\r\n    }\r\n\r\n    public int calcularPontuacao(){\r\n        return pontosPergunta * 10;\r\n    }\r\n}\r\n```\r\n\r\n\r\nthe following method is to check I an answer is right or not and I needed it to call the method from the subclass\r\n```\r\nprivate void checkAnswer(String selectedOption, String respostaCorreta, Pergunta pergunta){\r\n        if (selectedOption.equals(respostaCorreta)){\r\n            if (pergunta.getArea().equals(&quot;PerguntaArtes&quot;)){\r\n                PerguntaArtes PerguntaArtes = (PerguntaArtes) pergunta;\r\n                score += PerguntaArtes.calcularPontuacao();\r\n            }\r\n            if (pergunta.getArea().equals(&quot;PerguntaCiencias&quot;)){\r\n                score += 20;\r\n            }\r\n            if (pergunta.getArea().equals(&quot;PerguntaDesporto&quot;)){\r\n                score += 20;\r\n            }\r\n            questionnumber += 1;\r\n            if (questionnumber &lt;= 5){\r\n                displayQuestion(questionnumber);\r\n            }\r\n            else {\r\n                endGame();\r\n            }\r\n        }\r\n        else {\r\n            questionnumber += 1;\r\n            if (questionnumber &lt;= 5){\r\n                displayQuestion(questionnumber);\r\n            }\r\n            else {\r\n                endGame();\r\n            }\r\n        }\r\n    }\r\n```\r\nIn this case it gives me the following error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class Pergunta cannot be cast to class PerguntaArtes (Pergunta and PerguntaArtes are in unnamed module of loader &#39;app&#39;)\r\n            at Screen.checkAnswer(Screen.java:164)\r\n            at Screen$2.actionPerformed(Screen.java:142)\r\n            at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n            at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n            at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n            at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n            at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n            at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n            at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n            at java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n            at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n            at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n            at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n            at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n            at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n            at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n            at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n            at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n            at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n            at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n            at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n            at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nI also tried other ways and couldn&#39;t find any solution.\r\nI also can&#39;t use instanceof or class.getName() because I am penalized if I use it.\r\nCan you guys help me?","title":"How to call a method from a subclass?","body":"<p>So I have this project where a I have a certain question, and if we answer it correctly is gives a certain amount of points that varies depending on the theme of the question. I have a class named Pergunta(Question) with subclasses of different themes like PerguntasArtes(ArtQuestions) and I want to write a method in each subclass to do the points calculation.</p>\n<pre><code>\npublic class Pergunta {\n    private String area;\n    private String pergunta;\n    private ArrayList&lt;String&gt; opcoes;\n    private String respostaCorreta;\n    private String dificuldade;\n    protected int pontosPergunta;\n\n    public Pergunta(String area, String pergunta, ArrayList&lt;String&gt; opcoes, String respostaCorreta, String dificuldade, int pontosPergunta) {\n        this.area = area;\n        this.pergunta = pergunta;\n        this.opcoes = opcoes;\n        this.respostaCorreta = respostaCorreta;\n        this.dificuldade = dificuldade;\n        this.pontosPergunta = pontosPergunta;\n\n    }\n\n    public static Pergunta readFromFile(String filename) {\n        try (BufferedReader br = new BufferedReader(new FileReader(filename))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] parts = line.split(&quot;-&quot;);\n                String area = parts[0];\n                String dificuldade = parts[1];\n                String pergunta = parts[2];\n                ArrayList&lt;String&gt; opcoes = new ArrayList&lt;&gt;(Arrays.asList(parts[3].split(&quot;,&quot;)));\n                String respostaCorreta = parts[4];\n                int pontosPergunta = Integer.parseInt(parts[5]);\n                return new Pergunta(area, pergunta, opcoes, respostaCorreta, dificuldade, pontosPergunta);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public String getPergunta() {\n        return pergunta;\n    }\n\n    public ArrayList&lt;String&gt; getOpcoes() {\n        return opcoes;\n    }\n\n    public void setArea(String area){\n        this.area=area;\n    }\n    public String getArea(){\n        return this.area;\n    }\n</code></pre>\n<pre><code>public class PerguntaArtes extends Pergunta {\n    public PerguntaArtes(String area, String pergunta, ArrayList&lt;String&gt; opcoes, String respostaCorreta, String dificuldade, int pontosPergunta) {\n        super(area, pergunta, opcoes, respostaCorreta, dificuldade, pontosPergunta);\n    }\n\n    public int calcularPontuacao(){\n        return pontosPergunta * 10;\n    }\n}\n</code></pre>\n<p>the following method is to check I an answer is right or not and I needed it to call the method from the subclass</p>\n<pre><code>private void checkAnswer(String selectedOption, String respostaCorreta, Pergunta pergunta){\n        if (selectedOption.equals(respostaCorreta)){\n            if (pergunta.getArea().equals(&quot;PerguntaArtes&quot;)){\n                PerguntaArtes PerguntaArtes = (PerguntaArtes) pergunta;\n                score += PerguntaArtes.calcularPontuacao();\n            }\n            if (pergunta.getArea().equals(&quot;PerguntaCiencias&quot;)){\n                score += 20;\n            }\n            if (pergunta.getArea().equals(&quot;PerguntaDesporto&quot;)){\n                score += 20;\n            }\n            questionnumber += 1;\n            if (questionnumber &lt;= 5){\n                displayQuestion(questionnumber);\n            }\n            else {\n                endGame();\n            }\n        }\n        else {\n            questionnumber += 1;\n            if (questionnumber &lt;= 5){\n                displayQuestion(questionnumber);\n            }\n            else {\n                endGame();\n            }\n        }\n    }\n</code></pre>\n<p>In this case it gives me the following error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class Pergunta cannot be cast to class PerguntaArtes (Pergunta and PerguntaArtes are in unnamed module of loader 'app')\n        at Screen.checkAnswer(Screen.java:164)\n        at Screen$2.actionPerformed(Screen.java:142)\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>I also tried other ways and couldn't find any solution.\nI also can't use instanceof or class.getName() because I am penalized if I use it.\nCan you guys help me?</p>\n"},{"tags":["java","spring-boot","modelmapper"],"owner":{"account_id":25300723,"reputation":23,"user_id":19124997,"display_name":"zerfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700775921,"creation_date":1700775372,"question_id":77539723,"body_markdown":"**after mapping  i have a Entitytwo.id  = null knowing thats it present on The BDTO .Other field are mapped correctly not included in entity code and they are mapped automatically this only for this associated field \r\n  object** \r\n**I have the entity like :**\r\n``` \r\npublic class EntityOne implements Serializable {\r\n\tprivate BigDecimal id;\r\n\tprivate EntityTwo entityTwo;    \r\n}\r\n\r\n```\r\n**and Entity1BDTO :** \r\n\r\n```\r\npublic class EntityOneBDTO implements Serializable {\r\n    private BigDecimal id;\r\n    private BigDecimal entityTwo;  // Its EntityTwo.id   \r\n}\r\n```\r\n\r\nMy mapper Class : \r\n\r\n```\r\npublic class EntityOneBDTO ToEntityOne extends PropertyMap&lt;EntityOneBDTO , EntityOne &gt;{\r\n\t\r\n    \r\n\r\n\t@Override\r\n\tprotected void configure() {\r\n\t\t\r\n        map().setId(source.getId());\r\n\t\t\r\n\t\r\n        map().getEntityTwo().setId(source.getEntityTwo());\r\n\r\n\t\tskip().setgetEntityTwo(null);  // to skip other field of object\r\n\r\n```\r\n\r\nit returns with the error \r\n\r\n```\r\n1) Failed to set value &#39;1&#39; on model.EntityOne.setEntityTwo() // i want to set it to EntityOne.EntityTwo.id\r\n\r\n```\r\n\r\nThank you in advance ","title":"Java Springboot : Mapping BDTO to entity using modelMapper","body":"<p><strong>after mapping  i have a Entitytwo.id  = null knowing thats it present on The BDTO .Other field are mapped correctly not included in entity code and they are mapped automatically this only for this associated field\nobject</strong>\n<strong>I have the entity like :</strong></p>\n<pre><code>public class EntityOne implements Serializable {\n    private BigDecimal id;\n    private EntityTwo entityTwo;    \n}\n\n</code></pre>\n<p><strong>and Entity1BDTO :</strong></p>\n<pre><code>public class EntityOneBDTO implements Serializable {\n    private BigDecimal id;\n    private BigDecimal entityTwo;  // Its EntityTwo.id   \n}\n</code></pre>\n<p>My mapper Class :</p>\n<pre><code>public class EntityOneBDTO ToEntityOne extends PropertyMap&lt;EntityOneBDTO , EntityOne &gt;{\n    \n    \n\n    @Override\n    protected void configure() {\n        \n        map().setId(source.getId());\n        \n    \n        map().getEntityTwo().setId(source.getEntityTwo());\n\n        skip().setgetEntityTwo(null);  // to skip other field of object\n\n</code></pre>\n<p>it returns with the error</p>\n<pre><code>1) Failed to set value '1' on model.EntityOne.setEntityTwo() // i want to set it to EntityOne.EntityTwo.id\n\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","hibernate","audit"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1416490288,"post_id":27040439,"comment_id":42600906,"body_markdown":"revid is not enver, revid is auditions.","body":"revid is not enver, revid is auditions."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416561354,"creation_date":1416490365,"answer_id":27040910,"question_id":27040439,"body_markdown":"A revid always span modifications in multiple tables!\r\n\r\nYes, the inserts are called at the end of the transaction, but: If you use optimistic transaction isolation, a transaction can read the uncommitted state of another transactions that are currently active but not yet committed.\r\n\r\nIf you become a integrityconstraintsviolation the column `rev_id` is unfortunatelly configured &quot;unique&quot;. This is a wrong database schema! Correct the schema by removing the Uniqueness of the column `rev_id`!\r\n\r\nThe `rev_id`-Column in the global-hibernate-relationtable **must** be unique because it is a Primary-Key! (the global-hibernate-relationtable usually contains also a timestamp).","title":"hibernate auditions generating same rev id in for multiple insert in one table","body":"<p>A revid always span modifications in multiple tables!</p>\n\n<p>Yes, the inserts are called at the end of the transaction, but: If you use optimistic transaction isolation, a transaction can read the uncommitted state of another transactions that are currently active but not yet committed.</p>\n\n<p>If you become a integrityconstraintsviolation the column <code>rev_id</code> is unfortunatelly configured \"unique\". This is a wrong database schema! Correct the schema by removing the Uniqueness of the column <code>rev_id</code>!</p>\n\n<p>The <code>rev_id</code>-Column in the global-hibernate-relationtable <strong>must</strong> be unique because it is a Primary-Key! (the global-hibernate-relationtable usually contains also a timestamp).</p>\n"},{"tags":[],"owner":{"account_id":8894632,"reputation":63,"user_id":6640121,"display_name":"Raba_Ababa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700775230,"creation_date":1700775230,"answer_id":77539719,"question_id":27040439,"body_markdown":"Not sure if still you have this issue :). In my case I had same problem, and solution was to setting on audit table composite primary key on &quot;rev&quot; and &quot;id&quot; columns. \r\nBelow example Liquibase script:\r\n```\r\n&lt;addPrimaryKey\r\n    columnNames=&quot;id, rev&quot;\r\n    constraintName=&quot;t_order_aud_pk&quot;\r\n    tableName=&quot;t_order_aud&quot;/&gt;\r\n```","title":"hibernate auditions generating same rev id in for multiple insert in one table","body":"<p>Not sure if still you have this issue :). In my case I had same problem, and solution was to setting on audit table composite primary key on &quot;rev&quot; and &quot;id&quot; columns.\nBelow example Liquibase script:</p>\n<pre><code>&lt;addPrimaryKey\n    columnNames=&quot;id, rev&quot;\n    constraintName=&quot;t_order_aud_pk&quot;\n    tableName=&quot;t_order_aud&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700775230,"creation_date":1416488906,"question_id":27040439,"body_markdown":"I am using hibernate auditions with hibernate version 3.5. while it is working fine when I try to insert single record in one table in one transation but the problem is when a &quot;BATCH&quot; runs \r\nand it inserts multiple records in one table in single transation then **single** &quot;rev id&quot; is being generated for audit tables which causes &quot;integrityconstraintsviolation&quot;. \r\n  \r\n As it is the normal behavior of hibernate that all the insert queries are fired at the end of tansaction(When it flushes) but at this time only one query is being fired for &quot;rev id&quot; generation. \r\n \r\n     select hibernate_sequence.nextval from dual;\r\n\r\nKindly tell me whether is it a bug in audit or i am missing something ??\r\nThanks in advance \r\n","title":"hibernate auditions generating same rev id in for multiple insert in one table","body":"<p>I am using hibernate auditions with hibernate version 3.5. while it is working fine when I try to insert single record in one table in one transation but the problem is when a \"BATCH\" runs \nand it inserts multiple records in one table in single transation then <strong>single</strong> \"rev id\" is being generated for audit tables which causes \"integrityconstraintsviolation\". </p>\n\n<p>As it is the normal behavior of hibernate that all the insert queries are fired at the end of tansaction(When it flushes) but at this time only one query is being fired for \"rev id\" generation. </p>\n\n<pre><code> select hibernate_sequence.nextval from dual;\n</code></pre>\n\n<p>Kindly tell me whether is it a bug in audit or i am missing something ??\nThanks in advance </p>\n"},{"tags":["java","java-8","socketexception"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443567467,"creation_date":1443567467,"answer_id":32855083,"question_id":32854951,"body_markdown":"This works for me:\r\n\r\n    class Server {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tServerSocket ss = new ServerSocket(9999);\r\n    \t\tSocket s = ss.accept();\r\n    \t\tInputStream i = s.getInputStream();\r\n    \t\ti.read();\r\n    \t}\r\n    }\r\n\r\nclient connects and disconnects without closing socket\r\n\r\n    class Client {\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSocket s = new Socket(&quot;localhost&quot;, 9999);\r\n    \t}\r\n    }\r\n\r\nthis results in exception on server\r\n\r\n    Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat net.Server.main(Server.java:13)\r\n\r\n\r\n","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>This works for me:</p>\n\n<pre><code>class Server {\n\n    public static void main(String[] args) throws Exception {\n        ServerSocket ss = new ServerSocket(9999);\n        Socket s = ss.accept();\n        InputStream i = s.getInputStream();\n        i.read();\n    }\n}\n</code></pre>\n\n<p>client connects and disconnects without closing socket</p>\n\n<pre><code>class Client {\n\n    public static void main(String[] args) throws Exception {\n        Socket s = new Socket(\"localhost\", 9999);\n    }\n}\n</code></pre>\n\n<p>this results in exception on server</p>\n\n<pre><code>Exception in thread \"main\" java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at net.Server.main(Server.java:13)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443571211,"creation_date":1443571211,"answer_id":32855649,"question_id":32854951,"body_markdown":"There are several ways. I won&#39;t post one of them as it is too much abused, but the simple ways to produce it are:\r\n\r\n1. Close a socket immediately you acquire it, without reading anything. This works if the sender is sending to you rather than reading from you.\r\n2. If you know the sender has sent something, close the socket without reading it in any way.","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>There are several ways. I won't post one of them as it is too much abused, but the simple ways to produce it are:</p>\n\n<ol>\n<li>Close a socket immediately you acquire it, without reading anything. This works if the sender is sending to you rather than reading from you.</li>\n<li>If you know the sender has sent something, close the socket without reading it in any way.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":38146,"reputation":1653,"user_id":109318,"accept_rate":50,"display_name":"Asaf Mesika"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1569933276,"creation_date":1449348923,"answer_id":34110755,"question_id":32854951,"body_markdown":"None of the answers above worked for me reliably both on Mac and Linux. \r\nAfter a lot of Googling, I ended with this [article][1] explaining how to do it. Just to be clear: I was trying to reproduce the connection reset from the client side, i.e. &quot;Connection reset by peer&quot;. \r\n\r\nI tried bringing up a process which run netcat, and abruptly killing the process - that only worked on Mac. \r\n\r\nI tried socket.close from another thread, same thread - nothing worked.\r\n\r\nSimply, all those methods didn&#39;t cause the client to send RST to the server, which causes the exception (reset by peer).\r\n\r\nThe following worked: \r\n\r\n - Setup any server - in my case Netty (their getting started Discard server will do).\r\n - Use the following client code:\r\n```\r\nfinal Socket socket = new Socket(&quot;localhost&quot;, port);;\r\nsocket.setSoLinger(true, 0);\r\nfinal OutputStream outputStream = socket.getOutputStream();\r\nfor (int i=0; i &lt;= 500; i++) {\r\n    outputStream.write(&#39;a&#39;);\r\n}\r\noutputStream.write(&#39;\\n&#39;);\r\noutputStream.flush();\r\nsocket.close();\r\n\r\nThread.sleep(2000);\r\n```\r\n    \r\nThe soLinger() was the magic trick. According to the Oracle article cited above, when you call socket.close() it sends a RST to the other side, instead of sending FIN and then waiting for the other side to finish reading what ever was sent until the FIN - i.e. force close.\r\n\r\nIt took me 1 day of work to find this out, so I hope it will save you time on your work.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/articles/connection_release.html","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>None of the answers above worked for me reliably both on Mac and Linux. \nAfter a lot of Googling, I ended with this <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/articles/connection_release.html\" rel=\"nofollow noreferrer\">article</a> explaining how to do it. Just to be clear: I was trying to reproduce the connection reset from the client side, i.e. \"Connection reset by peer\". </p>\n\n<p>I tried bringing up a process which run netcat, and abruptly killing the process - that only worked on Mac. </p>\n\n<p>I tried socket.close from another thread, same thread - nothing worked.</p>\n\n<p>Simply, all those methods didn't cause the client to send RST to the server, which causes the exception (reset by peer).</p>\n\n<p>The following worked: </p>\n\n<ul>\n<li>Setup any server - in my case Netty (their getting started Discard server will do).</li>\n<li>Use the following client code:</li>\n</ul>\n\n<pre><code>final Socket socket = new Socket(\"localhost\", port);;\nsocket.setSoLinger(true, 0);\nfinal OutputStream outputStream = socket.getOutputStream();\nfor (int i=0; i &lt;= 500; i++) {\n    outputStream.write('a');\n}\noutputStream.write('\\n');\noutputStream.flush();\nsocket.close();\n\nThread.sleep(2000);\n</code></pre>\n\n<p>The soLinger() was the magic trick. According to the Oracle article cited above, when you call socket.close() it sends a RST to the other side, instead of sending FIN and then waiting for the other side to finish reading what ever was sent until the FIN - i.e. force close.</p>\n\n<p>It took me 1 day of work to find this out, so I hope it will save you time on your work.</p>\n"},{"tags":[],"owner":{"account_id":118444,"reputation":20506,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622993174,"creation_date":1622993174,"answer_id":67860766,"question_id":32854951,"body_markdown":"Instead of provoking this exception using Java client code, I found it easier to just write a short Python script:\r\n\r\n    import struct, socket\r\n    s = socket.socket(socket.AF_INET6)\r\n    s.connect((&quot;::1&quot;, 8000))\r\n    s.setsockopt(socket.SOL_SOCKET, socket.SO_LINGER, struct.pack(&#39;ii&#39;, 1, 0))\r\n    s.close() # provokes Connection Reset at host\r\n\r\n","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>Instead of provoking this exception using Java client code, I found it easier to just write a short Python script:</p>\n<pre><code>import struct, socket\ns = socket.socket(socket.AF_INET6)\ns.connect((&quot;::1&quot;, 8000))\ns.setsockopt(socket.SOL_SOCKET, socket.SO_LINGER, struct.pack('ii', 1, 0))\ns.close() # provokes Connection Reset at host\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219006,"reputation":4141,"user_id":475635,"accept_rate":63,"display_name":"Francesco Marchioni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700774953,"creation_date":1700774953,"answer_id":77539705,"question_id":32854951,"body_markdown":"I managed to reproduce it, by setting the soLinger to true and waiting for one second before closing the connection:\r\n\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class TCPServer {\r\n        public static void main(String[] args) {\r\n            final int PORT = 5500;\r\n    \r\n            try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n                System.out.println(&quot;Server listening on port &quot; + PORT);\r\n    \r\n                while (true) {\r\n                    Socket clientSocket = serverSocket.accept();\r\n                    System.out.println(&quot;New client from &quot; + clientSocket.getInetAddress() + &quot;:&quot; + clientSocket.getPort());\r\n                    Thread.sleep(1000); // Sleep for 1 second\r\n                    clientSocket.setSoLinger(true, 0);\r\n                    clientSocket.close();\r\n                }\r\n    \r\n            } catch (IOException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nFound this solution in this article: [Troubleshooting java.net.SocketException Connection reset][1]\r\n\r\n\r\n  [1]: https://www.mastertheboss.com/java/how-to-solve-the-error-java-net-socketexception-connection-reset/","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>I managed to reproduce it, by setting the soLinger to true and waiting for one second before closing the connection:</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class TCPServer {\n    public static void main(String[] args) {\n        final int PORT = 5500;\n\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n            System.out.println(&quot;Server listening on port &quot; + PORT);\n\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                System.out.println(&quot;New client from &quot; + clientSocket.getInetAddress() + &quot;:&quot; + clientSocket.getPort());\n                Thread.sleep(1000); // Sleep for 1 second\n                clientSocket.setSoLinger(true, 0);\n                clientSocket.close();\n            }\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Found this solution in this article: <a href=\"https://www.mastertheboss.com/java/how-to-solve-the-error-java-net-socketexception-connection-reset/\" rel=\"nofollow noreferrer\">Troubleshooting java.net.SocketException Connection reset</a></p>\n"}],"owner":{"account_id":499572,"reputation":35,"user_id":3534408,"display_name":"kalpesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8674,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32855083,"answer_count":5,"score":3,"last_activity_date":1700774953,"creation_date":1443566619,"question_id":32854951,"body_markdown":"I am trying to reproduce &quot;java.net.SocketException.Connection reset&quot; exception. \r\n\r\nWanted to know if there is any program available which could help me simulate it. I tried following Server and client programs to see if I could simulate but I am not able to get any exception. I am using java8.\r\n\r\nServer Code-\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.SocketTimeoutException;\r\n    \r\n    \r\n    public class SimpleServerApp {\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \r\n    \t\tnew Thread(new SimpleServer()).start();\r\n    \r\n    \t}\r\n    \r\n    \tstatic class SimpleServer implements Runnable {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \r\n    \t\t\tServerSocket serverSocket = null;\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tserverSocket = new ServerSocket(3333);\r\n    \t\t\t\tserverSocket.setSoTimeout(0);\r\n    \t\t\t\t\r\n    \t\t\t\t//serverSocket.\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tSocket clientSocket = serverSocket.accept();\r\n    \r\n    \t\t\t\t\t\tBufferedReader inputReader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    \r\n    \t\t\t\t\t\tSystem.out.println(&quot;Client said :&quot;+ inputReader.readLine());\r\n    \r\n    \t\t\t\t\t} catch (SocketTimeoutException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tSystem.out.println(&quot; EXCEPTION &quot; + e.getStackTrace());\r\n    \t\t\t}/*catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}*/ /*finally {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tif (serverSocket != null) {\r\n    \t\t\t\t\t\tserverSocket.close();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}*/\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nClient Code - \r\n\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    \r\n    \r\n    public class SimpleClientApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tnew Thread(new SimpleClient()).start();\r\n    \r\n    \t}\r\n    \t\r\n    \tstatic class SimpleClient implements Runnable {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \r\n    \t\t\tSocket socket = null;\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tsocket = new Socket(&quot;localhost&quot;, 3333);\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tPrintWriter outWriter = new PrintWriter(socket.getOutputStream(), true);\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Wait&quot;);\r\n    \r\n    \t\t\t\tThread.sleep(20000);\r\n    \t\t\t\t//System.exit(0);\r\n    \t\t\t\t//throw new Exception(&quot;Random exception&quot;);\r\n    \t\t\t\t//socket.close();\r\n    \t\t\t\t\r\n    \t\t\t\toutWriter.println(&quot;Hello Mr. Server!&quot;);\r\n    \t\r\n    \t\t\t}catch (SocketException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (UnknownHostException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} /*finally {\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tif (socket != null)\r\n    \t\t\t\t\t\tsocket.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    */\t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nScenario 1. \r\n\r\n - Start the server program locally.  \r\n - Start the Client program locally.\r\n - Close the client program abruptly (Ctrl C) - I just get output on\r\n   Server program &quot;Client said :null&quot;\r\n\r\nScenario 2.\r\n\r\n- Start the Server program Locally.\r\n- Start the client program locally.\r\n- Client is connected to server, Then while client program is waiting close the server program abruptly. Still no exception.\r\n\r\n\r\nCan some tell me some way I could produce the connection reset exception, With working sample code.  \r\n","title":"How to reproduce &quot;java.net.SocketException.Connection reset&quot;?","body":"<p>I am trying to reproduce \"java.net.SocketException.Connection reset\" exception. </p>\n\n<p>Wanted to know if there is any program available which could help me simulate it. I tried following Server and client programs to see if I could simulate but I am not able to get any exception. I am using java8.</p>\n\n<p>Server Code-</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.SocketTimeoutException;\n\n\npublic class SimpleServerApp {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        new Thread(new SimpleServer()).start();\n\n    }\n\n    static class SimpleServer implements Runnable {\n\n        @Override\n        public void run() {\n\n            ServerSocket serverSocket = null;\n\n            try {\n                serverSocket = new ServerSocket(3333);\n                serverSocket.setSoTimeout(0);\n\n                //serverSocket.\n                while (true) {\n                    try {\n                        Socket clientSocket = serverSocket.accept();\n\n                        BufferedReader inputReader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n                        System.out.println(\"Client said :\"+ inputReader.readLine());\n\n                    } catch (SocketTimeoutException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }catch (Exception e) {\n                e.printStackTrace();\n                System.out.println(\" EXCEPTION \" + e.getStackTrace());\n            }/*catch (IOException e1) {\n                e1.printStackTrace();\n            }*/ /*finally {\n                try {\n                    if (serverSocket != null) {\n                        serverSocket.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }*/\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>Client Code - </p>\n\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\n\n\npublic class SimpleClientApp {\n\n    public static void main(String[] args) {\n\n        new Thread(new SimpleClient()).start();\n\n    }\n\n    static class SimpleClient implements Runnable {\n\n        @Override\n        public void run() {\n\n            Socket socket = null;\n            try {\n\n                socket = new Socket(\"localhost\", 3333);\n\n\n                PrintWriter outWriter = new PrintWriter(socket.getOutputStream(), true);\n\n                System.out.println(\"Wait\");\n\n                Thread.sleep(20000);\n                //System.exit(0);\n                //throw new Exception(\"Random exception\");\n                //socket.close();\n\n                outWriter.println(\"Hello Mr. Server!\");\n\n            }catch (SocketException e) {\n                e.printStackTrace();\n            }catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (UnknownHostException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } /*finally {\n\n                try {\n                    if (socket != null)\n                        socket.close();\n                } catch (IOException e) {\n\n                    e.printStackTrace();\n                }\n\n\n            }\n*/      }\n\n    }\n\n}\n</code></pre>\n\n<p>Scenario 1. </p>\n\n<ul>\n<li>Start the server program locally.  </li>\n<li>Start the Client program locally.</li>\n<li>Close the client program abruptly (Ctrl C) - I just get output on\nServer program \"Client said :null\"</li>\n</ul>\n\n<p>Scenario 2.</p>\n\n<ul>\n<li>Start the Server program Locally.</li>\n<li>Start the client program locally.</li>\n<li>Client is connected to server, Then while client program is waiting close the server program abruptly. Still no exception.</li>\n</ul>\n\n<p>Can some tell me some way I could produce the connection reset exception, With working sample code.  </p>\n"},{"tags":["java","spring","rest","servlets","mapping"],"answers":[{"tags":[],"owner":{"account_id":2790829,"reputation":1050,"user_id":2401094,"display_name":"Binu George"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648513578,"creation_date":1648228244,"answer_id":71620728,"question_id":71617146,"body_markdown":"Updating the answer to use `GenericFilterBean.doFilter` as per the question asked.\r\nYou can do this by adding a finally clause. This is needed since you need to do `chain.doFilter(request, response)` first before calling `request.getAttribute` because the attribute is not set until later in the lifecycle of the request. So if you are trying to do some operations based on incoming uri template, subclassing **GenericFilterBean** may not be the right choice here since you need to call chain.doFilter first. \r\n\r\n     public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            try {\r\n                //Do something\r\n                chain.doFilter(request, response);\r\n            } finally {\r\n             String pathTemplate = (String) \r\n    request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n             System.out.println(&quot;Incoming Request path Template from Generic Filter : &quot; + pathTemplate);\r\n    }\r\n\r\n\r\n    }\r\n**Alternate options:**\r\n\r\nAssuming that you are using spring web here.\r\nYou can define an `HandlerInterceptor` and register it with `InterceptorRegistry`.\r\n\r\n    @Component\r\n    public class LogPathTemplateInterceptor\r\n            implements HandlerInterceptor {\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object object) throws Exception {\r\n            String pathTemplate = (String)request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n            System.out.println(&quot;Incoming Request path Template : &quot; + pathTemplate);\r\n            return true;\r\n        }\r\n    }\r\n\r\nAfter defining this, register it with InterceptorRegistry. See how the path pattern added to the interceptor.\r\n\r\n    @Configuration\r\n    public class InterceptorConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        private LogPathTemplateInterceptor logInterceptor;\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(logInterceptor)\r\n                    .addPathPatterns(&quot;/variables/**&quot;);\r\n        }\r\n    }\r\n\r\nThis should log the request template path instead of path with variables.","title":"Spring filter: obtain servlet url-pattern","body":"<p>Updating the answer to use <code>GenericFilterBean.doFilter</code> as per the question asked.\nYou can do this by adding a finally clause. This is needed since you need to do <code>chain.doFilter(request, response)</code> first before calling <code>request.getAttribute</code> because the attribute is not set until later in the lifecycle of the request. So if you are trying to do some operations based on incoming uri template, subclassing <strong>GenericFilterBean</strong> may not be the right choice here since you need to call chain.doFilter first.</p>\n<pre><code> public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        try {\n            //Do something\n            chain.doFilter(request, response);\n        } finally {\n         String pathTemplate = (String) \nrequest.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n         System.out.println(&quot;Incoming Request path Template from Generic Filter : &quot; + pathTemplate);\n}\n\n\n}\n</code></pre>\n<p><strong>Alternate options:</strong></p>\n<p>Assuming that you are using spring web here.\nYou can define an <code>HandlerInterceptor</code> and register it with <code>InterceptorRegistry</code>.</p>\n<pre><code>@Component\npublic class LogPathTemplateInterceptor\n        implements HandlerInterceptor {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object object) throws Exception {\n        String pathTemplate = (String)request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n        System.out.println(&quot;Incoming Request path Template : &quot; + pathTemplate);\n        return true;\n    }\n}\n</code></pre>\n<p>After defining this, register it with InterceptorRegistry. See how the path pattern added to the interceptor.</p>\n<pre><code>@Configuration\npublic class InterceptorConfig implements WebMvcConfigurer {\n    @Autowired\n    private LogPathTemplateInterceptor logInterceptor;\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(logInterceptor)\n                .addPathPatterns(&quot;/variables/**&quot;);\n    }\n}\n</code></pre>\n<p>This should log the request template path instead of path with variables.</p>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700773137,"creation_date":1648230703,"answer_id":71621202,"question_id":71617146,"body_markdown":"## 1. Solution using  Servlet filter(after Filter doFilter) ## Here, Not recommending this solution.\r\nFilters intercept requests before they reach the DispatcherServlet, making them ideal for coarse-grained tasks such as:\r\n\r\n - Authentication\r\n - Logging and auditing\r\n - Image and data compression\r\n - Any functionality we want to be decoupled from Spring MVC\r\n\r\n**Note*** Do the **doFilter** first before trying to do the call to **getAttribute**\r\n\r\n**Your Controller**\r\n\r\n    @RequestMapping(path = &quot;/user&quot;)\r\n    @RestController\r\n    public class ConfigUserController {\r\n    \r\n    \t@GetMapping(path = &quot;/variables/&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Variable&gt;&gt; getAllVariables() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@GetMapping(path = &quot;/variables/{name}&quot;)\r\n    \tpublic ResponseEntity&lt;Variable&gt; getVariableByName(@PathVariable(&quot;name&quot;) String name) {\r\n    \t\treturn new ResponseEntity&lt;Variable&gt;(new Variable(name), HttpStatus.OK);\r\n    \t}\r\n    \r\n    \t@PutMapping(path = &quot;/variables/{name}/{value}&quot;)\r\n    \tpublic ResponseEntity&lt;Variable&gt; setVariableByName() {\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n**Custom Filter** \r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class CustomFilter implements Filter {\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t// TODO\r\n    \t\ttry {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t} catch (Exception e) {\r\n    \t\t} finally {\r\n    \t\t\tString pattern = (String) request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n    \t\t\tSystem.out.println(&quot;Request template is, &quot; + pattern);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**O/P:**\r\n\r\n     Request template is, /user/variables/{name}\r\n\r\n**Note*** Do the chain.doFilter first before trying to do the call to getAttribute\r\n\r\n\r\n----------\r\n## 2. Solution using Interceptor ##\r\n \r\n\r\nHandlerIntercepors intercepts requests between the DispatcherServlet and our Controllers. This is done within the Spring MVC framework, providing access to the Handler and ModelAndView objects.\r\n\r\n**Custom Interceptor**\r\n\r\n    @Component\r\n    public class LoggerInterceptor implements HandlerInterceptor {\r\n    \r\n    \t@Override\r\n    \tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object object, Exception arg3)\r\n    \t\t\tthrows Exception {\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object object, ModelAndView model)\r\n    \t\t\tthrows Exception {\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object object) throws Exception {\r\n    \t\tString path = (String) request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n    \t\tSystem.out.println(&quot;path : &quot; + path);\r\n    \t\treturn true;\r\n    \t}}\r\n\r\n**Register it with InterceptorRegistry**\r\n\r\n    @Component\r\n    public class CustomServiceInterceptorAppConfig implements WebMvcConfigurer {\r\n       @Autowired\r\n       LoggerInterceptor loggerInterceptor;\r\n    \r\n       @Override\r\n       public void addInterceptors(InterceptorRegistry registry) {\r\n          registry.addInterceptor(loggerInterceptor);\r\n       }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## 3. Solution using  Java Reflection API. ##\r\nBeans that are singleton-scoped and set to be pre-instantiated (the default) are created when the container is created. It&#39;s a one time process, you don&#39;t worry about the performance.\r\n\r\nYou may pre-scan all @RequestMapping,@GetMapping, @PostMApping etc.. annotations, keep it and then in the filter match the pattern to get the desired result.\r\n\r\nHere is the sample \r\n\r\n**Bean**\r\n\r\n    @Component\r\n    public class Config {\r\n    \r\n    \tpublic List&lt;String&gt; getPatterns() throws ClassNotFoundException {\r\n    \r\n    \t\tList&lt;String&gt; str = new ArrayList&lt;String&gt;();\r\n    \t\tClass clazz = Class.forName(&quot;com.example.demo.controller.ConfigUserController&quot;); // or list of controllers,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// //you can iterate that\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// list\r\n    \t\tfor (Method method : clazz.getMethods()) {\r\n    \t\t\tfor (Annotation annotation : method.getDeclaredAnnotations()) {\r\n    \t\t\t\tif (annotation.toString().contains(&quot;GetMapping&quot;)) {\r\n    \t\t\t\t\tstr.add(annotation.toString());\r\n    \t\t\t\t\tSystem.out.println(&quot;Annotation is...&quot; + annotation.toString());\r\n    \t\t\t\t}\r\n    \t\t\t\tif (annotation.toString().contains(&quot;PutMapping&quot;)) {\r\n    \t\t\t\t\tstr.add(annotation.toString());\r\n    \t\t\t\t\tSystem.out.println(&quot;Annotation is...&quot; + annotation.toString());\r\n    \t\t\t\t}\r\n    \t\t\t\tif (annotation.toString().contains(&quot;PostMapping&quot;)) {\r\n    \t\t\t\t\tstr.add(annotation.toString());\r\n    \t\t\t\t\tSystem.out.println(&quot;Annotation is...&quot; + annotation.toString());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn str;\r\n    \r\n    \t}\r\n\r\n**Custom Filter**\r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class CustomFilter implements Filter {\r\n    \t@Autowired\r\n    \tConfig con;\r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t// TODO\r\n    \t\ttry {\r\n                //filter match the pattern to get the desired result\r\n    \t\t\tSystem.out.println(con.getPatterns());\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tchain.doFilter(request, response);\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3sYFm.png","title":"Spring filter: obtain servlet url-pattern","body":"<h2>1. Solution using  Servlet filter(after Filter doFilter) ## Here, Not recommending this solution.</h2>\n<p>Filters intercept requests before they reach the DispatcherServlet, making them ideal for coarse-grained tasks such as:</p>\n<ul>\n<li>Authentication</li>\n<li>Logging and auditing</li>\n<li>Image and data compression</li>\n<li>Any functionality we want to be decoupled from Spring MVC</li>\n</ul>\n<p><strong>Note</strong>* Do the <strong>doFilter</strong> first before trying to do the call to <strong>getAttribute</strong></p>\n<p><strong>Your Controller</strong></p>\n<pre><code>@RequestMapping(path = &quot;/user&quot;)\n@RestController\npublic class ConfigUserController {\n\n    @GetMapping(path = &quot;/variables/&quot;)\n    public ResponseEntity&lt;List&lt;Variable&gt;&gt; getAllVariables() {\n        return null;\n    }\n\n    @GetMapping(path = &quot;/variables/{name}&quot;)\n    public ResponseEntity&lt;Variable&gt; getVariableByName(@PathVariable(&quot;name&quot;) String name) {\n        return new ResponseEntity&lt;Variable&gt;(new Variable(name), HttpStatus.OK);\n    }\n\n    @PutMapping(path = &quot;/variables/{name}/{value}&quot;)\n    public ResponseEntity&lt;Variable&gt; setVariableByName() {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Custom Filter</strong></p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // TODO\n        try {\n            chain.doFilter(request, response);\n        } catch (Exception e) {\n        } finally {\n            String pattern = (String) request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n            System.out.println(&quot;Request template is, &quot; + pattern);\n        }\n    }\n\n}\n</code></pre>\n<p><strong>O/P:</strong></p>\n<pre><code> Request template is, /user/variables/{name}\n</code></pre>\n<p><strong>Note</strong>* Do the chain.doFilter first before trying to do the call to getAttribute</p>\n<hr />\n<h2>2. Solution using Interceptor</h2>\n<p>HandlerIntercepors intercepts requests between the DispatcherServlet and our Controllers. This is done within the Spring MVC framework, providing access to the Handler and ModelAndView objects.</p>\n<p><strong>Custom Interceptor</strong></p>\n<pre><code>@Component\npublic class LoggerInterceptor implements HandlerInterceptor {\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object object, Exception arg3)\n            throws Exception {\n\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object object, ModelAndView model)\n            throws Exception {\n\n    }\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object object) throws Exception {\n        String path = (String) request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n        System.out.println(&quot;path : &quot; + path);\n        return true;\n    }}\n</code></pre>\n<p><strong>Register it with InterceptorRegistry</strong></p>\n<pre><code>@Component\npublic class CustomServiceInterceptorAppConfig implements WebMvcConfigurer {\n   @Autowired\n   LoggerInterceptor loggerInterceptor;\n\n   @Override\n   public void addInterceptors(InterceptorRegistry registry) {\n      registry.addInterceptor(loggerInterceptor);\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3sYFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3sYFm.png\" alt=\"enter image description here\" /></a></p>\n<h2>3. Solution using  Java Reflection API.</h2>\n<p>Beans that are singleton-scoped and set to be pre-instantiated (the default) are created when the container is created. It's a one time process, you don't worry about the performance.</p>\n<p>You may pre-scan all @RequestMapping,@GetMapping, @PostMApping etc.. annotations, keep it and then in the filter match the pattern to get the desired result.</p>\n<p>Here is the sample</p>\n<p><strong>Bean</strong></p>\n<pre><code>@Component\npublic class Config {\n\n    public List&lt;String&gt; getPatterns() throws ClassNotFoundException {\n\n        List&lt;String&gt; str = new ArrayList&lt;String&gt;();\n        Class clazz = Class.forName(&quot;com.example.demo.controller.ConfigUserController&quot;); // or list of controllers,\n                                                                                            // //you can iterate that\n                                                                                            // list\n        for (Method method : clazz.getMethods()) {\n            for (Annotation annotation : method.getDeclaredAnnotations()) {\n                if (annotation.toString().contains(&quot;GetMapping&quot;)) {\n                    str.add(annotation.toString());\n                    System.out.println(&quot;Annotation is...&quot; + annotation.toString());\n                }\n                if (annotation.toString().contains(&quot;PutMapping&quot;)) {\n                    str.add(annotation.toString());\n                    System.out.println(&quot;Annotation is...&quot; + annotation.toString());\n                }\n                if (annotation.toString().contains(&quot;PostMapping&quot;)) {\n                    str.add(annotation.toString());\n                    System.out.println(&quot;Annotation is...&quot; + annotation.toString());\n                }\n            }\n        }\n\n        return str;\n\n    }\n</code></pre>\n<p><strong>Custom Filter</strong></p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomFilter implements Filter {\n    @Autowired\n    Config con;\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // TODO\n        try {\n            //filter match the pattern to get the desired result\n            System.out.println(con.getPatterns());\n        } catch (ClassNotFoundException e) {\n            \n        }\n        chain.doFilter(request, response);\n    }\n</code></pre>\n"}],"owner":{"account_id":1159821,"reputation":1128,"user_id":1139581,"accept_rate":62,"display_name":"moretti.fabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700773137,"creation_date":1648211949,"question_id":71617146,"body_markdown":"Imagine I have defined these REST endpoints:\r\n```\r\n@RequestMapping(path = &quot;/user&quot;)\r\n@RestController\r\npublic class ConfigUserController {\r\n\r\n\t[...]\r\n\t\r\n    @GetMapping(path = &quot;/variables/&quot;)\r\n    public ResponseEntity&lt;List&lt;Variable&gt;&gt; getAllVariables(...)\r\n\t\t[...]\r\n    }\r\n\t\r\n    @GetMapping(path = &quot;/variables/{name}&quot;)\r\n    public ResponseEntity&lt;Variable&gt; getVariableByName(...)\r\n\t\t[...]\r\n    }\r\n\t\r\n    @PutMapping(path = &quot;/variables/{name}/{value}&quot;)\r\n    public ResponseEntity&lt;Variable&gt; setVariableByName(...)\r\n\t\t[...]\r\n    }\r\n}\r\n```\r\nI&#39;ve defined two filter (logging and authorization), inside the filters I want to get the url-patter which matched current request. Using the example above:\r\n- if the request was a GET to /variables, I want &quot;/variables&quot;\r\n- if the request was a GET to /variables/myfancyname, I want &quot;/variables/{name}&quot;\r\n- if the request was a PUT to /variables/myfancyname/myvalue, I want &quot;/variables/{name}/{value}&quot;\r\n\r\nBasically what I need is to get the path defined in the mapping annotation inside the doFilter(ServletRequest request, ServletResponse response, FilterChain chain) method of my filters.\r\n\r\nIdeally I want to have do the possibility to access the url-pattern value in my filter like this:\r\n```\r\n@Component\r\n@Order(3)\r\npublic class MyAuthorizationRequestFilter extends GenericFilterBean {\r\n\t[...]\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\t\t// here I get the value\r\n\t\tString urlPattern = request.useSomeMethod().toGetUrlPattern();\r\n\t\t[...]\r\n\t\tboolean auth = false;\r\n\t\t// here I do stuff\r\n\t\t[...]\r\n\t\t// finally let&#39;s see if the user is authorized\r\n\t\tif (auth) {\r\n\t\t\tchain.doFilter(request, responde);\r\n\t\t} else {\r\n\t\t\tthrow SomeAuthorizationError();\r\n\t\t}\r\n\t}\r\n\t[...]\r\n}\r\n```\r\nI&#39;ve been searching but I wasn&#39;t able to find a working solution.\r\n\r\nIf it&#39;s possible I prefer not to scan for collections or web.xml files (which I don&#39;t have), nor using reflections, because the code will be executed every time the filter get triggered and I don&#39;t want to affect performance.\r\n\r\nLinks or suggestions are welcome.\r\n\r\nEDIT: added details, addes filter example cose","title":"Spring filter: obtain servlet url-pattern","body":"<p>Imagine I have defined these REST endpoints:</p>\n<pre><code>@RequestMapping(path = &quot;/user&quot;)\n@RestController\npublic class ConfigUserController {\n\n    [...]\n    \n    @GetMapping(path = &quot;/variables/&quot;)\n    public ResponseEntity&lt;List&lt;Variable&gt;&gt; getAllVariables(...)\n        [...]\n    }\n    \n    @GetMapping(path = &quot;/variables/{name}&quot;)\n    public ResponseEntity&lt;Variable&gt; getVariableByName(...)\n        [...]\n    }\n    \n    @PutMapping(path = &quot;/variables/{name}/{value}&quot;)\n    public ResponseEntity&lt;Variable&gt; setVariableByName(...)\n        [...]\n    }\n}\n</code></pre>\n<p>I've defined two filter (logging and authorization), inside the filters I want to get the url-patter which matched current request. Using the example above:</p>\n<ul>\n<li>if the request was a GET to /variables, I want &quot;/variables&quot;</li>\n<li>if the request was a GET to /variables/myfancyname, I want &quot;/variables/{name}&quot;</li>\n<li>if the request was a PUT to /variables/myfancyname/myvalue, I want &quot;/variables/{name}/{value}&quot;</li>\n</ul>\n<p>Basically what I need is to get the path defined in the mapping annotation inside the doFilter(ServletRequest request, ServletResponse response, FilterChain chain) method of my filters.</p>\n<p>Ideally I want to have do the possibility to access the url-pattern value in my filter like this:</p>\n<pre><code>@Component\n@Order(3)\npublic class MyAuthorizationRequestFilter extends GenericFilterBean {\n    [...]\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        // here I get the value\n        String urlPattern = request.useSomeMethod().toGetUrlPattern();\n        [...]\n        boolean auth = false;\n        // here I do stuff\n        [...]\n        // finally let's see if the user is authorized\n        if (auth) {\n            chain.doFilter(request, responde);\n        } else {\n            throw SomeAuthorizationError();\n        }\n    }\n    [...]\n}\n</code></pre>\n<p>I've been searching but I wasn't able to find a working solution.</p>\n<p>If it's possible I prefer not to scan for collections or web.xml files (which I don't have), nor using reflections, because the code will be executed every time the filter get triggered and I don't want to affect performance.</p>\n<p>Links or suggestions are welcome.</p>\n<p>EDIT: added details, addes filter example cose</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700770534,"post_id":77539380,"comment_id":136697881,"body_markdown":"The question is unclear. How is the class used? Where are those variables defined? Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"The question is unclear. How is the class used? Where are those variables defined? Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14796931,"reputation":389,"user_id":10686345,"display_name":"Ayush Goyal"},"score":0,"creation_date":1700771011,"post_id":77539380,"comment_id":136697941,"body_markdown":"This is kind of configuration class. Earlier those variables values we were reading from properties or constant file but now we have to pass while executing/running the jar.","body":"This is kind of configuration class. Earlier those variables values we were reading from properties or constant file but now we have to pass while executing/running the jar."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1700771364,"post_id":77539380,"comment_id":136697988,"body_markdown":"Does this answer your question? [Java Command line arguments](https://stackoverflow.com/questions/716153/java-command-line-arguments) (guessing. Your question is pretty unclear.)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/716153/java-command-line-arguments\">Java Command line arguments</a> (guessing. Your question is pretty unclear.)"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700771692,"post_id":77539380,"comment_id":136698033,"body_markdown":"Pass them how? How are they defined?","body":"Pass them how? How are they defined?"},{"owner":{"account_id":14796931,"reputation":389,"user_id":10686345,"display_name":"Ayush Goyal"},"score":0,"creation_date":1700771878,"post_id":77539380,"comment_id":136698051,"body_markdown":"@S&#246;ren - How can i set &#39;baseUrl&#39; &amp; &#39;VENDOR_SERVICE_API&#39; parameters value in VendorServiceWrapper.java class from main method ? I can&#39;t pass the values by creating the object of VendorServiceWrapper class in main class.","body":"@S&#246;ren - How can i set &#39;baseUrl&#39; &amp; &#39;VENDOR_SERVICE_API&#39; parameters value in VendorServiceWrapper.java class from main method ? I can&#39;t pass the values by creating the object of VendorServiceWrapper class in main class."},{"owner":{"account_id":14796931,"reputation":389,"user_id":10686345,"display_name":"Ayush Goyal"},"score":0,"creation_date":1700772402,"post_id":77539380,"comment_id":136698099,"body_markdown":"@aled - It&#39;s like - in general, we read values from application.properties file using &#39;@Value&#39; annotation for a particular parameter. Now, we are not allowed to use &#39;@Value&#39; annotation to read the value. now the ask is to pass those variables values while running the jar -  now, my question is how can we define &amp; set the values of those variables which we are passing while executing the jar.","body":"@aled - It&#39;s like - in general, we read values from application.properties file using &#39;@Value&#39; annotation for a particular parameter. Now, we are not allowed to use &#39;@Value&#39; annotation to read the value. now the ask is to pass those variables values while running the jar -  now, my question is how can we define &amp; set the values of those variables which we are passing while executing the jar."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700780056,"post_id":77539380,"comment_id":136698797,"body_markdown":"That should be all part of the question, including where are those &quot;parameters&quot; declared. You haven&#39;t give us any details.","body":"That should be all part of the question, including where are those &quot;parameters&quot; declared. You haven&#39;t give us any details."}],"answers":[{"tags":[],"owner":{"account_id":29846055,"reputation":36,"user_id":22873114,"display_name":"Vignesh V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700772751,"creation_date":1700771550,"answer_id":77539506,"question_id":77539380,"body_markdown":"You can use Java opts for this. You can update the properties in application.properties when we run the jar. \r\n\r\nFor spring boot applications you can define properties in your application.properties\r\n\r\n    application.vendor.baseurl = default_url/\r\n    application.vendor.VENDOR_SERVICE_API = default_api\r\n\r\nNow in the class that you have written add two variable\r\n\r\n    @Value(&quot;${application.vendor.baseurl}&quot;)\r\n    private String baseUrl;\r\n    @Value(&quot;${application.vendor.VENDOR_SERVICE_API}&quot;)\r\n    private String VENDOR_SERVICE_API;\r\n\r\nNow use these variable in your code. \r\n\r\nWhen you run the jar, you can override those values like this:\r\n\r\n    java -jar -Dapplication.vendor.baseurl=new_url -Dapplication.vendor.VENDOR_SERVICE_API=new_api {jar_name}.jar\r\n","title":"How can i set parameters/arguments to the overriden method (non-static) of a class while running the jar?","body":"<p>You can use Java opts for this. You can update the properties in application.properties when we run the jar.</p>\n<p>For spring boot applications you can define properties in your application.properties</p>\n<pre><code>application.vendor.baseurl = default_url/\napplication.vendor.VENDOR_SERVICE_API = default_api\n</code></pre>\n<p>Now in the class that you have written add two variable</p>\n<pre><code>@Value(&quot;${application.vendor.baseurl}&quot;)\nprivate String baseUrl;\n@Value(&quot;${application.vendor.VENDOR_SERVICE_API}&quot;)\nprivate String VENDOR_SERVICE_API;\n</code></pre>\n<p>Now use these variable in your code.</p>\n<p>When you run the jar, you can override those values like this:</p>\n<pre><code>java -jar -Dapplication.vendor.baseurl=new_url -Dapplication.vendor.VENDOR_SERVICE_API=new_api {jar_name}.jar\n</code></pre>\n"}],"owner":{"account_id":14796931,"reputation":389,"user_id":10686345,"display_name":"Ayush Goyal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700772751,"creation_date":1700769724,"question_id":77539380,"body_markdown":"    I have below class in my maven based application:\r\n    \r\n    public class VendorServiceWrapper implements Wrapper{\r\n      \r\n    @Override\r\n    public String getVendorDetails(String vendorNumber, String vendorType){\r\n      StringBuilder url = new StringBuilder();\r\n      url.append(baseUrl).append(VENDOR_SERVICE_API);\r\n      --\r\n      \r\n    }\r\n    \r\n    }\r\n    \r\n    I want to pass the value of these two parameters &#39;baseUrl&#39; &amp; &#39;VENDOR_SERVICE_API&#39; while running the jar. How can i set ? Please help!!\r\n\r\n\r\nNote: These variables are like static or constant means values will not be changed once it is passed while running the jar\r\n\r\nPlease comment in case of any clarification required.","title":"How can i set parameters/arguments to the overriden method (non-static) of a class while running the jar?","body":"<pre><code>I have below class in my maven based application:\n\npublic class VendorServiceWrapper implements Wrapper{\n  \n@Override\npublic String getVendorDetails(String vendorNumber, String vendorType){\n  StringBuilder url = new StringBuilder();\n  url.append(baseUrl).append(VENDOR_SERVICE_API);\n  --\n  \n}\n\n}\n\nI want to pass the value of these two parameters 'baseUrl' &amp; 'VENDOR_SERVICE_API' while running the jar. How can i set ? Please help!!\n</code></pre>\n<p>Note: These variables are like static or constant means values will not be changed once it is passed while running the jar</p>\n<p>Please comment in case of any clarification required.</p>\n"},{"tags":["java","db2","spring-jdbc","spring-transactions","select-for-update"],"owner":{"account_id":1577314,"reputation":167,"user_id":1502017,"accept_rate":20,"display_name":"Arunabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700772621,"creation_date":1700772621,"question_id":77539571,"body_markdown":"Is Spring Transaction management needed if the SQL query running on Db2 database itself has the isolation level and locks specified. \r\n\r\nFor example, I have the following java method which has two SQL queries running on Db2 database. Queries are run using Spring jdbc template.\r\n\r\n    public List&lt;String&gt; method1(){\r\n       //Runs query: select col1,col2 from mytable where col3=x for update with RS use and keep update locks\r\n       //Runs SQL query: update mytable set col3=y where col1= &lt;value fetched from above&gt;\r\n      return col2\r\n    }\r\n\r\nDoes this method need @Transactional annotation when the query is Select For Update With RS use and keep update locks.\r\n\r\nThe table mytable here has a list of jobs to be picked up by multiple instances of the same application and I want to avoid a single row being picked by two instances. \r\nHence the keywords &quot;with RS use and keep update locks&quot;.\r\n\r\nSo there are two questions:\r\n1) Is @Transactional needed on the method?\r\n2) Select for update with RS use and keep update locks - Is this going to make sure that a single record is not going to be picked up by multiple instances. Can there be deadlocks and if yes, how to avoid it?\r\n\r\nThanks.","title":"Does Select For update query in Db2 need Spring&#39;s @Transactional annotation","body":"<p>Is Spring Transaction management needed if the SQL query running on Db2 database itself has the isolation level and locks specified.</p>\n<p>For example, I have the following java method which has two SQL queries running on Db2 database. Queries are run using Spring jdbc template.</p>\n<pre><code>public List&lt;String&gt; method1(){\n   //Runs query: select col1,col2 from mytable where col3=x for update with RS use and keep update locks\n   //Runs SQL query: update mytable set col3=y where col1= &lt;value fetched from above&gt;\n  return col2\n}\n</code></pre>\n<p>Does this method need @Transactional annotation when the query is Select For Update With RS use and keep update locks.</p>\n<p>The table mytable here has a list of jobs to be picked up by multiple instances of the same application and I want to avoid a single row being picked by two instances.\nHence the keywords &quot;with RS use and keep update locks&quot;.</p>\n<p>So there are two questions:</p>\n<ol>\n<li>Is @Transactional needed on the method?</li>\n<li>Select for update with RS use and keep update locks - Is this going to make sure that a single record is not going to be picked up by multiple instances. Can there be deadlocks and if yes, how to avoid it?</li>\n</ol>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-test","spring-test-mvc"],"comments":[{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1473509949,"post_id":25065849,"comment_id":66175875,"body_markdown":"Just a friendly note that if you find one of the answers to your question acceptable, feel free to [accept it](http://stackoverflow.com/help/accepted-answer) if you want to.","body":"Just a friendly note that if you find one of the answers to your question acceptable, feel free to <a href=\"http://stackoverflow.com/help/accepted-answer\">accept it</a> if you want to."}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407013363,"creation_date":1407013363,"answer_id":25099385,"question_id":25065849,"body_markdown":"&gt; is there any mechanism in place to make this happen?\r\n\r\nNo, there is no such mechanism that supports this style of configuration.\r\n\r\nCustom _composed annotations_ can be used **instead of** the actual annotations, **not in conjunction with** the actual annotations. This is true across the core Spring Framework (with the exception of perhaps `@Profile` and `@Conditional`).\r\n\r\nIn other words, you can&#39;t declare `@ContextConfiguration` and another annotation that is meta-annotated with `@ContextConfiguration` (e.g., your `@BaseSpringTest`) on the same class. If you do, you&#39;ll find that Spring only finds one of those declarations.\r\n\r\nHowever, if you introduce a base class you can achieve your goal (albeit with the requirement to extend that base class):\r\n\r\n    @BaseSpringTest\r\n    public abstract class AbstractBaseTests extends AbstractTestNGSpringContextTests {\r\n        // ...\r\n    }\r\n\r\n    @ContextConfiguration(locations = {&quot;/web/WEB-INF/spring-extension.xml&quot; }, name = &quot;parent&quot;)\r\n    public class MyTest extends AbstractBaseTests {\r\n        // ...\r\n    }\r\n\r\nOf course, if you&#39;re going the &#39;base class&#39; route, the custom composed annotation is perhaps not as useful to you.\r\n\r\nRegards,\r\n\r\nSam (author of the Spring TestContext Framework)","title":"Overriding ContextHierarchy and ContextConfiguration from a meta-annotation","body":"<blockquote>\n  <p>is there any mechanism in place to make this happen?</p>\n</blockquote>\n\n<p>No, there is no such mechanism that supports this style of configuration.</p>\n\n<p>Custom <em>composed annotations</em> can be used <strong>instead of</strong> the actual annotations, <strong>not in conjunction with</strong> the actual annotations. This is true across the core Spring Framework (with the exception of perhaps <code>@Profile</code> and <code>@Conditional</code>).</p>\n\n<p>In other words, you can't declare <code>@ContextConfiguration</code> and another annotation that is meta-annotated with <code>@ContextConfiguration</code> (e.g., your <code>@BaseSpringTest</code>) on the same class. If you do, you'll find that Spring only finds one of those declarations.</p>\n\n<p>However, if you introduce a base class you can achieve your goal (albeit with the requirement to extend that base class):</p>\n\n<pre><code>@BaseSpringTest\npublic abstract class AbstractBaseTests extends AbstractTestNGSpringContextTests {\n    // ...\n}\n\n@ContextConfiguration(locations = {\"/web/WEB-INF/spring-extension.xml\" }, name = \"parent\")\npublic class MyTest extends AbstractBaseTests {\n    // ...\n}\n</code></pre>\n\n<p>Of course, if you're going the 'base class' route, the custom composed annotation is perhaps not as useful to you.</p>\n\n<p>Regards,</p>\n\n<p>Sam (author of the Spring TestContext Framework)</p>\n"},{"tags":[],"owner":{"account_id":4791885,"reputation":1200,"user_id":3870855,"display_name":"heisbrandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700771952,"creation_date":1700769350,"answer_id":77539355,"question_id":25065849,"body_markdown":"This should be possible by overriding the [TestContextBootstrapper][1] and supplying an updated [MergedContextConfiguration][2] that copies the initial configuration and adds the extra locations from the annotation.\r\n\r\nHere is a sample:\r\n\r\n    @WebAppConfiguration\r\n    @ContextHierarchy({\r\n            @ContextConfiguration(locations = {&quot;/web/WEB-INF/spring.xml&quot; }, name = &quot;parent&quot;),\r\n            @ContextConfiguration(&quot;/web/WEB-INF/spring-servlet.xml&quot;)\r\n    })\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @BootstrapWith(BaseSpringTest.BaseSpringTestBootstrapper.class)\r\n    public @interface BaseSpringTest {\r\n        class BaseSpringTestBootstrapper extends DefaultTestContextBootstrapper {\r\n            @Override\r\n            public TestContext buildTestContext() {\r\n                MergedContextConfiguration config = buildMergedContextConfiguration();\r\n    \r\n                Set&lt;String&gt; locations = new HashSet&lt;&gt;();\r\n                Collections.addAll(locations, config.getLocations());\r\n    \r\n                locations.add(&quot;/web/WEB-INF/spring.xml&quot;);\r\n                locations.add(&quot;/web/WEB-INF/spring-servlet.xml&quot;);\r\n    \r\n                MergedContextConfiguration mergedConfig = new MergedContextConfiguration(\r\n                        config.getTestClass(), locations.toArray(new String[0]), config.getClasses(),\r\n                        config.getContextInitializerClasses(), config.getActiveProfiles(), config.getPropertySourceLocations(),\r\n                        config.getPropertySourceProperties(), config.getContextCustomizers(),\r\n                        config.getContextLoader(), getCacheAwareContextLoaderDelegate(), config.getParent()\r\n    \r\n                );\r\n                \r\n                return new DefaultTestContext(getBootstrapContext().getTestClass(), mergedConfig, getCacheAwareContextLoaderDelegate());\r\n            }\r\n        }\r\n    }\r\n\r\n \r\nIt might be necessary to construct the configuration differently for @ContextHierarchy, but it should be possible with modifications to the above example.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestContextBootstrapper.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/MergedContextConfiguration.html","title":"Overriding ContextHierarchy and ContextConfiguration from a meta-annotation","body":"<p>This should be possible by overriding the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestContextBootstrapper.html\" rel=\"nofollow noreferrer\">TestContextBootstrapper</a> and supplying an updated <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/MergedContextConfiguration.html\" rel=\"nofollow noreferrer\">MergedContextConfiguration</a> that copies the initial configuration and adds the extra locations from the annotation.</p>\n<p>Here is a sample:</p>\n<pre><code>@WebAppConfiguration\n@ContextHierarchy({\n        @ContextConfiguration(locations = {&quot;/web/WEB-INF/spring.xml&quot; }, name = &quot;parent&quot;),\n        @ContextConfiguration(&quot;/web/WEB-INF/spring-servlet.xml&quot;)\n})\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@BootstrapWith(BaseSpringTest.BaseSpringTestBootstrapper.class)\npublic @interface BaseSpringTest {\n    class BaseSpringTestBootstrapper extends DefaultTestContextBootstrapper {\n        @Override\n        public TestContext buildTestContext() {\n            MergedContextConfiguration config = buildMergedContextConfiguration();\n\n            Set&lt;String&gt; locations = new HashSet&lt;&gt;();\n            Collections.addAll(locations, config.getLocations());\n\n            locations.add(&quot;/web/WEB-INF/spring.xml&quot;);\n            locations.add(&quot;/web/WEB-INF/spring-servlet.xml&quot;);\n\n            MergedContextConfiguration mergedConfig = new MergedContextConfiguration(\n                    config.getTestClass(), locations.toArray(new String[0]), config.getClasses(),\n                    config.getContextInitializerClasses(), config.getActiveProfiles(), config.getPropertySourceLocations(),\n                    config.getPropertySourceProperties(), config.getContextCustomizers(),\n                    config.getContextLoader(), getCacheAwareContextLoaderDelegate(), config.getParent()\n\n            );\n            \n            return new DefaultTestContext(getBootstrapContext().getTestClass(), mergedConfig, getCacheAwareContextLoaderDelegate());\n        }\n    }\n}\n</code></pre>\n<p>It might be necessary to construct the configuration differently for @ContextHierarchy, but it should be possible with modifications to the above example.</p>\n"}],"owner":{"account_id":1300246,"reputation":888,"user_id":1314068,"accept_rate":100,"display_name":"David E"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25099385,"answer_count":2,"score":0,"last_activity_date":1700771952,"creation_date":1406829513,"question_id":25065849,"body_markdown":"We have test classes using a meta-annotation:\r\n\r\n    @WebAppConfiguration\r\n    @ContextHierarchy({\r\n        @ContextConfiguration(locations = {&quot;/web/WEB-INF/spring.xml&quot; }, name = &quot;parent&quot;),\r\n        @ContextConfiguration(&quot;/web/WEB-INF/spring-servlet.xml&quot;)\r\n    })\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface BaseSpringTest {\r\n    }\r\n\r\nBut would like to be able to override, or append to elements of the hierarchy from the test class itself, eg:\r\n\r\n    @BaseSpringTest\r\n    @ContextConfiguration(locations = {&quot;/web/WEB-INF/spring-extension.xml&quot; }, name = &quot;parent&quot;)\r\n    public class MyTest extends AbstractTestNGSpringContextTests {\r\n        ...\r\n    }\r\n\r\nThis hasn&#39;t worked for us so far... is there any mechanism in place to make this happen?  I found https://jira.spring.io/browse/SPR-11038, but I don&#39;t think that is quite the fix for this type of situation.\r\n\r\nThanks!","title":"Overriding ContextHierarchy and ContextConfiguration from a meta-annotation","body":"<p>We have test classes using a meta-annotation:</p>\n\n<pre><code>@WebAppConfiguration\n@ContextHierarchy({\n    @ContextConfiguration(locations = {\"/web/WEB-INF/spring.xml\" }, name = \"parent\"),\n    @ContextConfiguration(\"/web/WEB-INF/spring-servlet.xml\")\n})\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface BaseSpringTest {\n}\n</code></pre>\n\n<p>But would like to be able to override, or append to elements of the hierarchy from the test class itself, eg:</p>\n\n<pre><code>@BaseSpringTest\n@ContextConfiguration(locations = {\"/web/WEB-INF/spring-extension.xml\" }, name = \"parent\")\npublic class MyTest extends AbstractTestNGSpringContextTests {\n    ...\n}\n</code></pre>\n\n<p>This hasn't worked for us so far... is there any mechanism in place to make this happen?  I found <a href=\"https://jira.spring.io/browse/SPR-11038\" rel=\"nofollow\">https://jira.spring.io/browse/SPR-11038</a>, but I don't think that is quite the fix for this type of situation.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","string","visual-studio-code"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1700789761,"post_id":77539501,"comment_id":136699473,"body_markdown":"This error usually occurs when you&#39;re using a Java version that&#39;s lower than Java 9. What version of java are you using?","body":"This error usually occurs when you&#39;re using a Java version that&#39;s lower than Java 9. What version of java are you using?"},{"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700814531,"post_id":77539501,"comment_id":136701639,"body_markdown":"exactly what JDK are you using and what version of it? how did you configure intellisense?","body":"exactly what JDK are you using and what version of it? how did you configure intellisense?"},{"owner":{"account_id":29977901,"reputation":1,"user_id":22973676,"display_name":"DrunkMicrowave"},"score":0,"creation_date":1700852789,"post_id":77539501,"comment_id":136707559,"body_markdown":"@starball\nI&#39;m currently using Java 8 and I checked for updates and there aren&#39;t any (Update 391 to be specific) I don&#39;t know how my intellisense is supposed to be configured since I don&#39;t remember touching settings related to that, at all. I&#39;m using Docker to run Java if that helps clarify anything.","body":"@starball I&#39;m currently using Java 8 and I checked for updates and there aren&#39;t any (Update 391 to be specific) I don&#39;t know how my intellisense is supposed to be configured since I don&#39;t remember touching settings related to that, at all. I&#39;m using Docker to run Java if that helps clarify anything."}],"owner":{"account_id":29977901,"reputation":1,"user_id":22973676,"display_name":"DrunkMicrowave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700771432,"creation_date":1700771432,"question_id":77539501,"body_markdown":"I&#39;m currently making a project and this error pops up on the first line of VS Code whenever I use lines such as this:\r\n\r\n\r\n```\r\nreturn &quot;UserProfile{&quot; +\r\n                &quot;userName=&#39;&quot; + playerName + &#39;\\&#39;&#39; +\r\n                &quot;, numKalahGamesPlayed=&quot; + kalahPlayed +\r\n                &quot;, numAyoGamesPlayed=&quot; + ayoPlayed +\r\n                &quot;, numKalahGamesWon=&quot; + kalahGamesWon +\r\n                &quot;, numAyoGamesWon=&quot; + ayoGamesWon +\r\n                &#39;}&#39;;\r\n```\r\n\r\nThis error always pops up and doesn&#39;t go away until I use something other than the &#39;+&#39; key in System.out.println messages. \r\n\r\nThis error just appears and doesn&#39;t affect the functionality of the code and doesn&#39;t stop me from doing &quot;gradle build&quot; but is annoying to look at.\r\n\r\nMy program is in Java and I&#39;ve already refreshed/restarted VS Code and I&#39;ve clean the Java lang workspace multiple times but nothing works. I know that StringBuilder works and I know how to use it but it&#39;s much easier to use System.out.println();\r\n\r\nCan anyone help me fix this problem?","title":"&quot;java.lang.invoke.StringConcatFactory cannot be resolved.&quot; recurring error in VS Code","body":"<p>I'm currently making a project and this error pops up on the first line of VS Code whenever I use lines such as this:</p>\n<pre><code>return &quot;UserProfile{&quot; +\n                &quot;userName='&quot; + playerName + '\\'' +\n                &quot;, numKalahGamesPlayed=&quot; + kalahPlayed +\n                &quot;, numAyoGamesPlayed=&quot; + ayoPlayed +\n                &quot;, numKalahGamesWon=&quot; + kalahGamesWon +\n                &quot;, numAyoGamesWon=&quot; + ayoGamesWon +\n                '}';\n</code></pre>\n<p>This error always pops up and doesn't go away until I use something other than the '+' key in System.out.println messages.</p>\n<p>This error just appears and doesn't affect the functionality of the code and doesn't stop me from doing &quot;gradle build&quot; but is annoying to look at.</p>\n<p>My program is in Java and I've already refreshed/restarted VS Code and I've clean the Java lang workspace multiple times but nothing works. I know that StringBuilder works and I know how to use it but it's much easier to use System.out.println();</p>\n<p>Can anyone help me fix this problem?</p>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1700340937,"post_id":77508671,"comment_id":136643503,"body_markdown":"Yes, you simply keep the `Object[]` as-is (without the cast to T[]), as you&#39;ll have to cast at the site that you access the elements of the array anyhow (where those generic types likely reside). Basically, your class should encapsulate all of the mucking with generified arrays. Realistically, you&#39;d be better off using a collection instead of an array, which already does this for you (e.g. `ArrayList`). For a more concrete answer, provide a more concrete example (e.g what you&#39;re actually doing).","body":"Yes, you simply keep the <code>Object[]</code> as-is (without the cast to T[]), as you&#39;ll have to cast at the site that you access the elements of the array anyhow (where those generic types likely reside). Basically, your class should encapsulate all of the mucking with generified arrays. Realistically, you&#39;d be better off using a collection instead of an array, which already does this for you (e.g. <code>ArrayList</code>). For a more concrete answer, provide a more concrete example (e.g what you&#39;re actually doing)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700341392,"creation_date":1700341392,"answer_id":77508708,"question_id":77508671,"body_markdown":"What you want is impossible. There is a simple fix though. Simply use a `List&lt;A&lt;U1, U2&gt;&gt;`, this is better in all ways, and works great.\r\n\r\n------\r\n\r\nIf you need to hear why what you want simply cannot be done _and_ is a bad idea even if somehow you could, let me try to expand:\r\n\r\n&gt; If we want to create an array with generic type T, we could do something like:\r\n\r\nThis is incorrect. You&#39;re not creating a new array with generic type T. That is not possible. You&#39;re creating a new array with component type Object, and then using an uglycast to assign it to a variable of type T[] which is a lie: You&#39;ve merely convinced the compiler to abolish its usual type checking and treat an array that isn&#39;t `T[]`, as if it was, when it isn&#39;t. This __will__ cause problems down the road.\r\n\r\nTrivial example:\r\n\r\n```\r\nclass Test {\r\n  static String[] makeRealStringArray() {\r\n    return new String[10];\r\n  }\r\n\r\n  static &lt;T&gt; T[] makeFakeStringArray() {\r\n    return (T[]) new Object[10];\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Object[] x = makeFakeStringArray();\r\n    x[5] = 10; // assign integer\r\n    x = makeRealStringArray();\r\n    x[5] = 20;\r\n  }\r\n}\r\n```\r\n\r\nThis gets you an ArrayStoreException __on the last line__ - the fake string array method managed to produce an array that doesn&#39;t do this. Also, trivially, `x.getClass().getComponentType()` returns `Object.class` for the fake string array and `String.class` for the real one.\r\n\r\nHence, it is simply incorrect to say that you &#39;made&#39; an array of type T there. You didn&#39;t. You&#39;ve managed to convince the compiler to _treat_ an array of component type Object as if it was a String array when it isn&#39;t.\r\n\r\n&gt;  I am trying to create an array of type A&lt;U1, U2&gt;[]. So my code looks like:\r\n\r\nAnd as you found out, that&#39;s one of the limitations.\r\n\r\n__You can&#39;t do what you want to do__. arrays are primitive, obsolete constructs you shouldn&#39;t be using. There is an exception, for now, for primitive component types (`byte[]` - you can use those). There is no benefit to them here. Use, instead, a `List&lt;A&lt;U1, U2&gt;&gt;` which works just fine.\r\n\r\nIn the end, generics are figments of the compilers imagination (they aren&#39;t reified - an instance of, say, a `j.u.List` simply does not know which component type it was created with), but have a sound typing system (you can&#39;t make impossible assignments without the compiler warnings you about it).\r\n\r\nArrays, in contrast, are reified - an array knows what its component type is, but its type system is unsound. You can get runtime-only ArrayStoreExceptions with no warnings.\r\n\r\nSaid somewhat differently, generics is entirely `javac` managing your types for you, and arrays are mostly ignored by javac and instead are &#39;protected&#39; by `java` - the VM. These concepts are incompatible, so, __generics and arrays do not mix__. &quot;But, I want to mix them!&quot; - no, you don&#39;t, and, even if you somehow do, that is immaterial, because you can&#39;t.","title":"Java Array with generic types in a class","body":"<p>What you want is impossible. There is a simple fix though. Simply use a <code>List&lt;A&lt;U1, U2&gt;&gt;</code>, this is better in all ways, and works great.</p>\n<hr />\n<p>If you need to hear why what you want simply cannot be done <em>and</em> is a bad idea even if somehow you could, let me try to expand:</p>\n<blockquote>\n<p>If we want to create an array with generic type T, we could do something like:</p>\n</blockquote>\n<p>This is incorrect. You're not creating a new array with generic type T. That is not possible. You're creating a new array with component type Object, and then using an uglycast to assign it to a variable of type T[] which is a lie: You've merely convinced the compiler to abolish its usual type checking and treat an array that isn't <code>T[]</code>, as if it was, when it isn't. This <strong>will</strong> cause problems down the road.</p>\n<p>Trivial example:</p>\n<pre><code>class Test {\n  static String[] makeRealStringArray() {\n    return new String[10];\n  }\n\n  static &lt;T&gt; T[] makeFakeStringArray() {\n    return (T[]) new Object[10];\n  }\n\n  public static void main(String[] args) {\n    Object[] x = makeFakeStringArray();\n    x[5] = 10; // assign integer\n    x = makeRealStringArray();\n    x[5] = 20;\n  }\n}\n</code></pre>\n<p>This gets you an ArrayStoreException <strong>on the last line</strong> - the fake string array method managed to produce an array that doesn't do this. Also, trivially, <code>x.getClass().getComponentType()</code> returns <code>Object.class</code> for the fake string array and <code>String.class</code> for the real one.</p>\n<p>Hence, it is simply incorrect to say that you 'made' an array of type T there. You didn't. You've managed to convince the compiler to <em>treat</em> an array of component type Object as if it was a String array when it isn't.</p>\n<blockquote>\n<p>I am trying to create an array of type A&lt;U1, U2&gt;[]. So my code looks like:</p>\n</blockquote>\n<p>And as you found out, that's one of the limitations.</p>\n<p><strong>You can't do what you want to do</strong>. arrays are primitive, obsolete constructs you shouldn't be using. There is an exception, for now, for primitive component types (<code>byte[]</code> - you can use those). There is no benefit to them here. Use, instead, a <code>List&lt;A&lt;U1, U2&gt;&gt;</code> which works just fine.</p>\n<p>In the end, generics are figments of the compilers imagination (they aren't reified - an instance of, say, a <code>j.u.List</code> simply does not know which component type it was created with), but have a sound typing system (you can't make impossible assignments without the compiler warnings you about it).</p>\n<p>Arrays, in contrast, are reified - an array knows what its component type is, but its type system is unsound. You can get runtime-only ArrayStoreExceptions with no warnings.</p>\n<p>Said somewhat differently, generics is entirely <code>javac</code> managing your types for you, and arrays are mostly ignored by javac and instead are 'protected' by <code>java</code> - the VM. These concepts are incompatible, so, <strong>generics and arrays do not mix</strong>. &quot;But, I want to mix them!&quot; - no, you don't, and, even if you somehow do, that is immaterial, because you can't.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700769396,"creation_date":1700769396,"answer_id":77539357,"question_id":77508671,"body_markdown":"The reason why `(T[]) new Object[size]` doesn&#39;t throw an exception is that, probably, you are doing this in a generic context where the type variable `T` is unbounded, so its erasure is `Object`. So after type erasure, you are casting an object whose real runtime class is `Object[]`, to `Object[]`, which obviously does not fail.\r\n\r\nThe reason why `(A&lt;U1, U2&gt;[]) new Object[size]` throws an exception is that the erasure of `A&lt;U1, U2&gt;` is `A`, so after type erasure, you are casting an object whose real runtime class is `Object[]`, to `A[]`, which fails because `Object[]` is not a subclass of `A[]`.\r\n\r\nIf you had instead created the array with a type that is the erasure of the type you are casting it to, like the following, it won&#39;t throw an exception:\r\n\r\n    A&lt;U1, U2&gt;[] arr = (A&lt;U1, U2&gt;[]) new A[size];\r\n\r\nor\r\n\r\n    A&lt;U1, U2&gt;[] arr = new A[size];\r\n\r\n(Of course, there are other things you need to be careful about with arrays of generic types. That&#39;s why you get an unchecked warning.)","title":"Java Array with generic types in a class","body":"<p>The reason why <code>(T[]) new Object[size]</code> doesn't throw an exception is that, probably, you are doing this in a generic context where the type variable <code>T</code> is unbounded, so its erasure is <code>Object</code>. So after type erasure, you are casting an object whose real runtime class is <code>Object[]</code>, to <code>Object[]</code>, which obviously does not fail.</p>\n<p>The reason why <code>(A&lt;U1, U2&gt;[]) new Object[size]</code> throws an exception is that the erasure of <code>A&lt;U1, U2&gt;</code> is <code>A</code>, so after type erasure, you are casting an object whose real runtime class is <code>Object[]</code>, to <code>A[]</code>, which fails because <code>Object[]</code> is not a subclass of <code>A[]</code>.</p>\n<p>If you had instead created the array with a type that is the erasure of the type you are casting it to, like the following, it won't throw an exception:</p>\n<pre><code>A&lt;U1, U2&gt;[] arr = (A&lt;U1, U2&gt;[]) new A[size];\n</code></pre>\n<p>or</p>\n<pre><code>A&lt;U1, U2&gt;[] arr = new A[size];\n</code></pre>\n<p>(Of course, there are other things you need to be careful about with arrays of generic types. That's why you get an unchecked warning.)</p>\n"}],"owner":{"account_id":26584785,"reputation":173,"user_id":20697793,"display_name":"Andrew Baker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700769396,"creation_date":1700340652,"question_id":77508671,"body_markdown":"I know Java is particularly weird with Generic arrays, but I ran into a new problem with this:\r\n\r\nIf we want to create an array with generic type `T`, we could do something like:\r\n\r\n```java\r\nT[] arr = (T[]) new Object[size];\r\n```\r\n\r\nBut I have a class, A, that itself accepts generic parameters\r\n\r\n```java\r\nclass A&lt;T1, T2&gt; {}\r\n```\r\n\r\nand another class that accepts its own generic parameters:\r\n\r\n```java\r\nclass B&lt;U1, U2&gt; {}\r\n```\r\n\r\nInside the `B` class, I am trying to create an array of type `A&lt;U1, U2&gt;[]`. So my code looks like:\r\n\r\n```java\r\nA&lt;U1, U2&gt;[] arr = (A&lt;U1, U2&gt;[]) new Object[size];\r\n```\r\n\r\nBut this isn&#39;t working. It is actually causing a runtime exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [A; ([Ljava.lang.Object; is in module java.base of loader &#39;bootstrap&#39;; [A; is in unnamed module of loader &#39;app&#39;)\r\n\r\nIs there a fix?","title":"Java Array with generic types in a class","body":"<p>I know Java is particularly weird with Generic arrays, but I ran into a new problem with this:</p>\n<p>If we want to create an array with generic type <code>T</code>, we could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T[] arr = (T[]) new Object[size];\n</code></pre>\n<p>But I have a class, A, that itself accepts generic parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A&lt;T1, T2&gt; {}\n</code></pre>\n<p>and another class that accepts its own generic parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class B&lt;U1, U2&gt; {}\n</code></pre>\n<p>Inside the <code>B</code> class, I am trying to create an array of type <code>A&lt;U1, U2&gt;[]</code>. So my code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>A&lt;U1, U2&gt;[] arr = (A&lt;U1, U2&gt;[]) new Object[size];\n</code></pre>\n<p>But this isn't working. It is actually causing a runtime exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [A; ([Ljava.lang.Object; is in module java.base of loader 'bootstrap'; [A; is in unnamed module of loader 'app')</p>\n</blockquote>\n<p>Is there a fix?</p>\n"},{"tags":["java","android","dialog","android-alertdialog"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1448294344,"post_id":33874705,"comment_id":55514097,"body_markdown":"For changing color of text need to create custom Adapter with layout then pass it to setAdapter method","body":"For changing color of text need to create custom Adapter with layout then pass it to setAdapter method"}],"answers":[{"tags":[],"owner":{"account_id":6617309,"reputation":132,"user_id":5110107,"display_name":"Metro Polinet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1448294875,"creation_date":1448294875,"answer_id":33875464,"question_id":33874705,"body_markdown":" you need to create custom dialog like this:\r\n\r\n    Dialog d =new Dialog(context);\r\n    d.setContentView(R.layout.dialog); \r\n    ListView l=((ListView )d.findViewById(R.id.list));\r\n\r\nsee this link [https://stackoverflow.com/questions/17914714/android-executing-a-custom-listview-in-a-custom-dialog-properly][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17914714/android-executing-a-custom-listview-in-a-custom-dialog-properly","title":"Android - Set TextColor ListItem on an AlertDialog with list programatically","body":"<p>you need to create custom dialog like this:</p>\n\n<pre><code>Dialog d =new Dialog(context);\nd.setContentView(R.layout.dialog); \nListView l=((ListView )d.findViewById(R.id.list));\n</code></pre>\n\n<p>see this link <a href=\"https://stackoverflow.com/questions/17914714/android-executing-a-custom-listview-in-a-custom-dialog-properly\">Android - Executing a custom listview in a custom dialog properly</a></p>\n"},{"tags":[],"owner":{"account_id":5821529,"reputation":51,"user_id":6266501,"display_name":"Nurlan Shukurov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540887730,"creation_date":1540887730,"answer_id":53060061,"question_id":33874705,"body_markdown":"create new theme in styles.xml \r\n\r\n    &lt;style name=&quot;MyDialogTheme&quot; parent=&quot;Theme.AppCompat.Light.Dialog.Alert&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/alertDialogDark&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@android:color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorAlertDialogListItem&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nyou need to change android:textColorAlertDialogListItem to whatever color you like\r\n\r\nAnd in code write this\r\n\r\n    AlertDialog.Builder orderByBuilder = new AlertDialog.Builder(MainActivity.this, R.style.MyDialogTheme);\r\n                ","title":"Android - Set TextColor ListItem on an AlertDialog with list programatically","body":"<p>create new theme in styles.xml </p>\n\n<pre><code>&lt;style name=\"MyDialogTheme\" parent=\"Theme.AppCompat.Light.Dialog.Alert\"&gt;\n    &lt;item name=\"android:background\"&gt;@color/alertDialogDark&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@android:color/white&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@android:color/white&lt;/item&gt;\n    &lt;item name=\"android:textColorAlertDialogListItem\"&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>you need to change android:textColorAlertDialogListItem to whatever color you like</p>\n\n<p>And in code write this</p>\n\n<pre><code>AlertDialog.Builder orderByBuilder = new AlertDialog.Builder(MainActivity.this, R.style.MyDialogTheme);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1496502,"reputation":3708,"user_id":1402301,"accept_rate":68,"display_name":"coolcool1994"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700768947,"creation_date":1700767702,"answer_id":77539254,"question_id":33874705,"body_markdown":"I know this is created a long time ago, but I had the same problem and by looking into the AlertController class I found there is a way to set a viewAdapter (so you don&#39;t have to create a ListView yourself as the current accepted answer in 11/2023 suggests).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(Check out Close Ties app which is a messaging app for Close Ties at closeties.com)\r\n\r\n      \r\n\r\n         val builder = AlertDialog.Builder(activity)\r\n         // instead of setItems use setAdapter\r\n         builder.setAdapter(ColorListAdapter(colorAlertItemsList, colorsList, WeakReference(this)), DialogInterface.OnClickListener { dialog, which -&gt;\r\n             if (which == 0) {\r\n             }\r\n         })\r\n\r\nCreating a ListAdapter subclass is easy like:\r\n\r\n    class ColorListAdapter(val display_text_list: MutableList&lt;String&gt;,\r\n                                   val color_list: MutableList&lt;Int&gt;,\r\n                                   private val messagingDetailFragment: WeakReference&lt;MessagingDetailFragment&gt;\r\n    ) :\r\n        ListAdapter {\r\n    \r\n        override fun isEmpty(): Boolean {\r\n            return display_text_list.size == 0\r\n        }\r\n        override fun getView(position: Int, view: View?, viewGroup: ViewGroup?): View {\r\n            val rootView: ConstraintLayout;\r\n            if (view == null) {\r\n                rootView = LayoutInflater.from(messagingDetailFragment.get()!!.activity as AppCompatActivity)\r\n                    .inflate(R.layout.fragment_messaging_detail_color_alert_dialog_cell, null) as ConstraintLayout\r\n            } else {\r\n                rootView = view as ConstraintLayout\r\n            }\r\n            val textView = rootView.findViewById&lt;AppCompatButton&gt;(R.id.textView)\r\n            textView.text = display_text_list[position];\r\n            textView.setTextColor(color_list[position])\r\n            return rootView;\r\n        }\r\n    \r\n        override fun registerDataSetObserver(p0: DataSetObserver?) {\r\n        }\r\n    \r\n        override fun getItemViewType(position: Int): Int {\r\n            return 0\r\n        }\r\n    \r\n        override fun getItem(p0: Int): Any {\r\n            return display_text_list[p0]\r\n        }\r\n    \r\n        override fun getViewTypeCount(): Int {\r\n            return 1;\r\n        }\r\n    \r\n        override fun isEnabled(p0: Int): Boolean {\r\n            return true\r\n        }\r\n    \r\n        override fun getItemId(position: Int): Long = position.toLong()\r\n    \r\n        override fun hasStableIds(): Boolean {\r\n            return true\r\n        }\r\n    \r\n        override fun areAllItemsEnabled(): Boolean {\r\n            return true\r\n        }\r\n    \r\n        override fun unregisterDataSetObserver(p0: DataSetObserver?) {\r\n        }\r\n    \r\n        override fun getCount(): Int {\r\n            return display_text_list.size\r\n        }\r\n    }\r\n\r\n\r\nAnd the xml for the view could be like:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            style=&quot;?android:attr/borderlessButtonStyle&quot;\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Retry&quot;\r\n            android:textColor=&quot;@color/tintColor&quot;\r\n            android:background=&quot;@drawable/selected_bottom_sheet_button_background_line&quot;\r\n            android:textSize=&quot;20.5sp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mBX3Qm.png","title":"Android - Set TextColor ListItem on an AlertDialog with list programatically","body":"<p>I know this is created a long time ago, but I had the same problem and by looking into the AlertController class I found there is a way to set a viewAdapter (so you don't have to create a ListView yourself as the current accepted answer in 11/2023 suggests).</p>\n<p><a href=\"https://i.stack.imgur.com/mBX3Qm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mBX3Qm.png\" alt=\"enter image description here\" /></a></p>\n<p>(Check out Close Ties app which is a messaging app for Close Ties at closeties.com)</p>\n<pre><code>     val builder = AlertDialog.Builder(activity)\n     // instead of setItems use setAdapter\n     builder.setAdapter(ColorListAdapter(colorAlertItemsList, colorsList, WeakReference(this)), DialogInterface.OnClickListener { dialog, which -&gt;\n         if (which == 0) {\n         }\n     })\n</code></pre>\n<p>Creating a ListAdapter subclass is easy like:</p>\n<pre><code>class ColorListAdapter(val display_text_list: MutableList&lt;String&gt;,\n                               val color_list: MutableList&lt;Int&gt;,\n                               private val messagingDetailFragment: WeakReference&lt;MessagingDetailFragment&gt;\n) :\n    ListAdapter {\n\n    override fun isEmpty(): Boolean {\n        return display_text_list.size == 0\n    }\n    override fun getView(position: Int, view: View?, viewGroup: ViewGroup?): View {\n        val rootView: ConstraintLayout;\n        if (view == null) {\n            rootView = LayoutInflater.from(messagingDetailFragment.get()!!.activity as AppCompatActivity)\n                .inflate(R.layout.fragment_messaging_detail_color_alert_dialog_cell, null) as ConstraintLayout\n        } else {\n            rootView = view as ConstraintLayout\n        }\n        val textView = rootView.findViewById&lt;AppCompatButton&gt;(R.id.textView)\n        textView.text = display_text_list[position];\n        textView.setTextColor(color_list[position])\n        return rootView;\n    }\n\n    override fun registerDataSetObserver(p0: DataSetObserver?) {\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return 0\n    }\n\n    override fun getItem(p0: Int): Any {\n        return display_text_list[p0]\n    }\n\n    override fun getViewTypeCount(): Int {\n        return 1;\n    }\n\n    override fun isEnabled(p0: Int): Boolean {\n        return true\n    }\n\n    override fun getItemId(position: Int): Long = position.toLong()\n\n    override fun hasStableIds(): Boolean {\n        return true\n    }\n\n    override fun areAllItemsEnabled(): Boolean {\n        return true\n    }\n\n    override fun unregisterDataSetObserver(p0: DataSetObserver?) {\n    }\n\n    override fun getCount(): Int {\n        return display_text_list.size\n    }\n}\n</code></pre>\n<p>And the xml for the view could be like:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/white&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;androidx.appcompat.widget.AppCompatButton\n        style=&quot;?android:attr/borderlessButtonStyle&quot;\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:text=&quot;Retry&quot;\n        android:textColor=&quot;@color/tintColor&quot;\n        android:background=&quot;@drawable/selected_bottom_sheet_button_background_line&quot;\n        android:textSize=&quot;20.5sp&quot;\n        android:textAllCaps=&quot;false&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":5871618,"reputation":2305,"user_id":4623782,"accept_rate":100,"display_name":"Raymond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33875464,"answer_count":3,"score":2,"last_activity_date":1700768947,"creation_date":1448292578,"question_id":33874705,"body_markdown":"I have an AlertDialog where a user must choose between several options. The default color scheme for this is white text on a darkgrey background. In the App users can configure their own color which are suppose to match with white. Changing the background to white isn&#39;t the issue, but I cannot set the textcolor of the items.\r\n\r\nI was looking for something like `dialog.getItems.setTextColor([usercolor]);`, but I haven&#39;t found a solution for it. Below my code for building the dialog. \r\n    \r\n        tvRekening.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(a);\r\n                    builder.setTitle(&quot;Title&quot;)\r\n                            .setItems(values, new DialogInterface.OnClickListener() {\r\n    \r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    // The &#39;which&#39; argument contains the index position\r\n                                    // of the selected item\r\n                                    setRekeningView(which);\r\n                                }\r\n                            });\r\n                    AlertDialog dialog = builder.create();\r\n                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(ContextCompat.getColor(a, R.color.white)));\r\n                    dialog.show();\r\n                }\r\n            });\r\n\r\nTo further illustrate the issue:\r\n\r\n\r\nThe default color scheme:\r\nhttps://i.stack.imgur.com/nMKAA.png\r\n\r\nChanging the background color to white makes the text unreadable (because it&#39;s still white).\r\nhttps://i.stack.imgur.com/PEABc.png\r\n\r\n\r\nEDIT:\r\nI understand I can create a custom adapter for this. But creating an Adapter only for editing the text color of the items seems a bit of an overkill. If someone knows a solution without going through the trouble of creating an adapter, it would be appreciated. If not i&#39;ll close the question in a while.","title":"Android - Set TextColor ListItem on an AlertDialog with list programatically","body":"<p>I have an AlertDialog where a user must choose between several options. The default color scheme for this is white text on a darkgrey background. In the App users can configure their own color which are suppose to match with white. Changing the background to white isn't the issue, but I cannot set the textcolor of the items.</p>\n\n<p>I was looking for something like <code>dialog.getItems.setTextColor([usercolor]);</code>, but I haven't found a solution for it. Below my code for building the dialog. </p>\n\n<pre><code>    tvRekening.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(a);\n                builder.setTitle(\"Title\")\n                        .setItems(values, new DialogInterface.OnClickListener() {\n\n                            public void onClick(DialogInterface dialog, int which) {\n                                // The 'which' argument contains the index position\n                                // of the selected item\n                                setRekeningView(which);\n                            }\n                        });\n                AlertDialog dialog = builder.create();\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(ContextCompat.getColor(a, R.color.white)));\n                dialog.show();\n            }\n        });\n</code></pre>\n\n<p>To further illustrate the issue:</p>\n\n<p>The default color scheme:\n<a href=\"https://i.stack.imgur.com/nMKAA.png\" rel=\"nofollow\">https://i.stack.imgur.com/nMKAA.png</a></p>\n\n<p>Changing the background color to white makes the text unreadable (because it's still white).\n<a href=\"https://i.stack.imgur.com/PEABc.png\" rel=\"nofollow\">https://i.stack.imgur.com/PEABc.png</a></p>\n\n<p>EDIT:\nI understand I can create a custom adapter for this. But creating an Adapter only for editing the text color of the items seems a bit of an overkill. If someone knows a solution without going through the trouble of creating an adapter, it would be appreciated. If not i'll close the question in a while.</p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":20563284,"reputation":31,"user_id":15093299,"display_name":"テンカサン"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700768920,"creation_date":1700715229,"question_id":77534429,"body_markdown":"Spring boot version: 3.1.5\r\nJava version: 21\r\nJasper version: 6.20.0 or 6.20.6\r\n\r\nI am trying to convert the .jrPrint file to PDF and PDFA by using Jasper and these are my dependencies in my pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.20.6&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nand setEncoding Method isn&#39;t available to use. Perhaps it doesn&#39;t exist. And I tried to use JRPdfExporter and set its parameter, so the JRExporterParameter is deprecated.\r\n\r\n    JRPdfExporter exporter = new JRPdfExporter();\r\n            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n            exporter.setExporterOutput(\r\n                    new SimpleOutputStreamExporterOutput(new FileOutputStream(new File(pdfOutputPath))));\r\n\r\n    Map&lt;JRExporterParameter, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;net.sf.jasperreports.export.character.encoding&quot;, &quot;UTF-8&quot;);\r\n    exporter.setParameters(parameters);\r\n\r\n\r\n\r\n","title":"How to set charactor encoding to UTF-8 in Jasper version 6.20.0 or 6.20.6 in Java Spring boot","body":"<p>Spring boot version: 3.1.5\nJava version: 21\nJasper version: 6.20.0 or 6.20.6</p>\n<p>I am trying to convert the .jrPrint file to PDF and PDFA by using Jasper and these are my dependencies in my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.20.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>and setEncoding Method isn't available to use. Perhaps it doesn't exist. And I tried to use JRPdfExporter and set its parameter, so the JRExporterParameter is deprecated.</p>\n<pre><code>JRPdfExporter exporter = new JRPdfExporter();\n        exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n        exporter.setExporterOutput(\n                new SimpleOutputStreamExporterOutput(new FileOutputStream(new File(pdfOutputPath))));\n\nMap&lt;JRExporterParameter, Object&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(&quot;net.sf.jasperreports.export.character.encoding&quot;, &quot;UTF-8&quot;);\nexporter.setParameters(parameters);\n</code></pre>\n"},{"tags":["java","session","prometheus"],"answers":[{"tags":[],"owner":{"account_id":30623,"reputation":32240,"user_id":83591,"display_name":"brian-brazil"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1500401602,"creation_date":1500401602,"answer_id":45174232,"question_id":45172765,"body_markdown":"This sort of per-request handling is not suited to a metric system like Prometheus. This would be considered profiling, for which something more custom would be in order.\r\n\r\nIt&#39;s also recommend to export the timestamp for this sort of thing, not how long ago it was. This is resilient to the thing updating the time no longer updating, and you can do the subtraction from `time()` on the Prometheus end.","title":"How to remove no longer valid Gauges","body":"<p>This sort of per-request handling is not suited to a metric system like Prometheus. This would be considered profiling, for which something more custom would be in order.</p>\n\n<p>It's also recommend to export the timestamp for this sort of thing, not how long ago it was. This is resilient to the thing updating the time no longer updating, and you can do the subtraction from <code>time()</code> on the Prometheus end.</p>\n"},{"tags":[],"owner":{"account_id":75275,"reputation":18170,"user_id":215969,"accept_rate":94,"display_name":"Ilia Choly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612806783,"creation_date":1612806467,"answer_id":66106697,"question_id":45172765,"body_markdown":"The `Gauge` class has a `remove` method which has the same signature as the `labels` method. For your specific example, removing the metrics associated with that gauge would look like this\r\n\r\n    sessionInactivity.remove(internalKey, externalKey, browser);\r\n\r\n\r\nThe client library [documentation][1] states:\r\n\r\n&gt; Metrics with labels SHOULD support a remove() method with the same\r\n&gt; signature as labels() that will remove a Child from the metric no\r\n&gt; longer exporting it, and a clear() method that removes all Children\r\n&gt; from the metric. These invalidate caching of Children.\r\n\r\n\r\n  [1]: https://prometheus.io/docs/instrumenting/writing_clientlibs/#labels","title":"How to remove no longer valid Gauges","body":"<p>The <code>Gauge</code> class has a <code>remove</code> method which has the same signature as the <code>labels</code> method. For your specific example, removing the metrics associated with that gauge would look like this</p>\n<pre><code>sessionInactivity.remove(internalKey, externalKey, browser);\n</code></pre>\n<p>The client library <a href=\"https://prometheus.io/docs/instrumenting/writing_clientlibs/#labels\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>Metrics with labels SHOULD support a remove() method with the same\nsignature as labels() that will remove a Child from the metric no\nlonger exporting it, and a clear() method that removes all Children\nfrom the metric. These invalidate caching of Children.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14036429,"reputation":315,"user_id":10138996,"display_name":"pascalre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645095704,"creation_date":1645095704,"answer_id":71156904,"question_id":45172765,"body_markdown":"Since you are registrating the gauge, you need to remove the gauges which are expired from the registry.\r\n\r\n    protected MeterRegistry registry;\r\n\r\n      ...\r\n      static final Gauge sessionInactivity = Gauge.build()\r\n        .name(&quot;sessions_inactivity_duration&quot;)\r\n        .labelNames(&quot;internal_key&quot;, &quot;external_key&quot;, &quot;browser&quot;)\r\n        .help(&quot;Number of milliseconds a certain session has been inactive&quot;)\r\n        .register(registry); // use registry\r\n    \r\n      ...\r\n      // remove expired gauges from registry\r\n      registry.remove(sessionInactivity);\r\n","title":"How to remove no longer valid Gauges","body":"<p>Since you are registrating the gauge, you need to remove the gauges which are expired from the registry.</p>\n<pre><code>protected MeterRegistry registry;\n\n  ...\n  static final Gauge sessionInactivity = Gauge.build()\n    .name(&quot;sessions_inactivity_duration&quot;)\n    .labelNames(&quot;internal_key&quot;, &quot;external_key&quot;, &quot;browser&quot;)\n    .help(&quot;Number of milliseconds a certain session has been inactive&quot;)\n    .register(registry); // use registry\n\n  ...\n  // remove expired gauges from registry\n  registry.remove(sessionInactivity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446251,"reputation":121,"user_id":12647239,"display_name":"Lucas Lombardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700768567,"creation_date":1700768567,"answer_id":77539314,"question_id":45172765,"body_markdown":"I was trying to find a solution for this:\r\n\r\n```\r\nmetric{version=&quot;1.0.0&quot;,} 1.0\r\nmetric{version=&quot;1.0.1&quot;,} 1.0\r\n```\r\nI needed to remove the old metric if exists.\r\n```java\r\nGauge gauge = Gauge.builder(fildName, myModelClassObject, MyModelClass::getFieldValue)\r\n        .tags(tags)\r\n        .strongReference(true)\r\n        .register(Metrics.globalRegistry);\r\n```\r\n\r\nSolved saving it on a `Map&lt;String, ObjectWithTagsAndGauge&gt;` and when comes a different event I remove the other one before send the new metric with:\r\n```java\r\n//if map contains key\r\nObjectWithTagsAndGauge obj = map.get(key);\r\n//my conditions with tags\r\nMetrics.globalRegistry.remove(obj.getGauge()); // get the Gauge object to be removed\r\n```\r\n\r\nHope it helps","title":"How to remove no longer valid Gauges","body":"<p>I was trying to find a solution for this:</p>\n<pre><code>metric{version=&quot;1.0.0&quot;,} 1.0\nmetric{version=&quot;1.0.1&quot;,} 1.0\n</code></pre>\n<p>I needed to remove the old metric if exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gauge gauge = Gauge.builder(fildName, myModelClassObject, MyModelClass::getFieldValue)\n        .tags(tags)\n        .strongReference(true)\n        .register(Metrics.globalRegistry);\n</code></pre>\n<p>Solved saving it on a <code>Map&lt;String, ObjectWithTagsAndGauge&gt;</code> and when comes a different event I remove the other one before send the new metric with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//if map contains key\nObjectWithTagsAndGauge obj = map.get(key);\n//my conditions with tags\nMetrics.globalRegistry.remove(obj.getGauge()); // get the Gauge object to be removed\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8055,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45174232,"answer_count":4,"score":9,"last_activity_date":1700768567,"creation_date":1500396468,"question_id":45172765,"body_markdown":"I use the Prometheus Java Client to export session information of my application. We want to show how long sessions have been idle.\r\n\r\nThe problem is that we have a maximum of 1000 sessions and sessions are removed after a certain period. Unfortunately they do not disappear from Prometheus:\r\n\r\n[![Current and expired sessions][1]][1]\r\n\r\nMy code looks like this:\r\n\r\n\r\n    static final Gauge sessionInactivity = Gauge.build()\r\n        .name(&quot;sessions_inactivity_duration&quot;)\r\n        .labelNames(&quot;internal_key&quot;, &quot;external_key&quot;, &quot;browser&quot;)\r\n        .help(&quot;Number of milliseconds a certain session has been inactive&quot;)\r\n        .register();\r\n\r\n    sessionInactivity.labels(internalKey, externalKey, browser).set(inactivityTime);\r\n\r\nI tried to do `sessionInactivity.clear()` during scrapes but obviously this does not empty the content of the Gauge.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G78Kr.png","title":"How to remove no longer valid Gauges","body":"<p>I use the Prometheus Java Client to export session information of my application. We want to show how long sessions have been idle.</p>\n\n<p>The problem is that we have a maximum of 1000 sessions and sessions are removed after a certain period. Unfortunately they do not disappear from Prometheus:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G78Kr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G78Kr.png\" alt=\"Current and expired sessions\"></a></p>\n\n<p>My code looks like this:</p>\n\n<pre><code>static final Gauge sessionInactivity = Gauge.build()\n    .name(\"sessions_inactivity_duration\")\n    .labelNames(\"internal_key\", \"external_key\", \"browser\")\n    .help(\"Number of milliseconds a certain session has been inactive\")\n    .register();\n\nsessionInactivity.labels(internalKey, externalKey, browser).set(inactivityTime);\n</code></pre>\n\n<p>I tried to do <code>sessionInactivity.clear()</code> during scrapes but obviously this does not empty the content of the Gauge.</p>\n"},{"tags":["java","android","kotlin","ssl","okhttp"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700778134,"post_id":77539258,"comment_id":136698638,"body_markdown":"Check the server using https://www.ssllabs.com/ssltest/ It will reveal if something is wrong with the used certificate or the certificate chain.","body":"Check the server using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a> It will reveal if something is wrong with the used certificate or the certificate chain."}],"owner":{"account_id":10465788,"reputation":12036,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700768331,"creation_date":1700767775,"question_id":77539258,"body_markdown":"I am trying to migrate from the horrible `DownloadManager` api to `OkHttpClient` api but I am running into a weird connection issue I never saw with `DownloadManager`. Download files from https://testfiledownload.com/ worked without problems using `OkHttpClient` thought, so I am not sure what the problem with my url is from CloudFront. This is my code:\r\n\r\n    val client = OkHttpClient()\r\n    val request = Request.Builder().url(&quot;https://d3d5vfmrt0s3c6.cloudfront.net/notification/ffc888ca-69d6-48f7-8225-58b3a5010f9c?Expires=1701371587&amp;Signature=Lx4lwBHnWEwtnAeKPzFq15nRMsU2hUXXTQ1OjlDDsSBjA5hhxx~0eQocaB37QXPUnoF8uYWNcz~fYliUSRFl2rsx70iAgAb45SNwh5MDqEIhAwQ1oDlU3l5etxflzqHMHY7KewS3mw1y1osS~Jg7eOCOazKUl3CL1C0iBY6eTxa85MWlcTkocfKgm2TlwNtV~Epdlj1vEA1XSK3TWLLHUP6NnBX2W1lLxZLudZfL-JWFDQvA2peON7OiHRQ~okF28xHumVlQr0Ao7-DRBwAW9xn3k8jIbfca-kUhe8otnBOXVh~lMwf3HZ04SwKpTY8txHRzBRjtQkezPym9MvGfaw__&amp;Key-Pair-Id=K1SS0UK0I5H897&quot;).build()\r\n    val response = client.newCall(request).execute().body.bytes()\r\n\r\nThe url downloads the file perfectly in my browser, but the code fails with this stacktrace. Any ideas?\r\n\r\n\r\n    FATAL EXCEPTION: pool-20-thread-1\r\n    Process: com.myappapp.myapp, PID: 13514\r\n    java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:e00:3:24f0:f980:21]:443\r\n    \tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:256)\r\n    \tat okhttp3.internal.connection.ConnectPlan.connectTcp(ConnectPlan.kt:128)\r\n    \tat okhttp3.internal.connection.FastFallbackExchangeFinder$launchTcpConnect$1.runOnce(FastFallbackExchangeFinder.kt:138)\r\n    \tat java.lang.Thread.run(Thread.java:1012)\r\n    \tSuppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\r\n    \t\r\n    \t\tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\n    \t\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \t\tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n    \t\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \t\tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)\r\n    \t\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \t\tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:65)\r\n    \t\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \t\tat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:205)\r\n    \t\tat okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\r\n    \t\tat com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n    \t\t... 3 more\r\n    \tCaused by: java.security.cert.CertificateException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:549)\r\n    \t\r\n    \t\tat com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\r\n    \t\tat com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\n    \t\t... 28 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\r\n    \t\tat java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\r\n    \t\t... 45 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\r\n    \r\n    \t\t... 50 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:5400:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:5400:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 41924) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\r\n    \r\n    \t\tat com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n    \t\t... 3 more\r\n    \tCaused by: java.security.cert.CertificateException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\r\n    \t\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\n    \t\t... 28 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\r\n    \t\tat java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\r\n    \t\t... 45 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\r\n    \t\t... 50 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:8800:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:8800:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 47678) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.convertException(ConscryptEngine.java:1134)\r\n    \t\t\r\n    \t\tat okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\r\n    \t\tat com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n    \t\t... 3 more\r\n    \tCaused by: java.security.cert.CertificateException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\r\n    \t\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\n    \t\t... 28 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\r\n    \t\tat java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\r\n    \t\t... 45 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\r\n    \t\t... 50 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:6600:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:6600:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 48548) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\r\n    \t\r\n    \t\tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:65)\r\n    \t\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \t\tat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:205)\r\n    \t\tat okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\r\n    \t\tat com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\r\n    \t\tat com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n    \t\t... 3 more\r\n    \tCaused by: java.security.cert.CertificateException: Chain validation failed\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:549)\r\n    \t\r\n    \t\tat android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)\r\n    \t\tat android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:90)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngineSocket$2.checkServerTrusted(ConscryptEngineSocket.java:163)\r\n    \t\tat com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:260)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.verifyCertificateChain(ConscryptEngine.java:1638)\r\n    \t\tat com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\r\n    \t\tat com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\n    \t\t... 28 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\r\n    \t\tat sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\r\n    \t\tat java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n    \t\tat com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\r\n    \t\t... 45 more\r\n    \tCaused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\r\n    \t\tat sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\r\n    \t\tat sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\r\n    \t\tat sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\r\n    \t\t... 50 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:7a00:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:7a00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 42166) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:ec00:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:ec00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 50870) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:bc00:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:bc00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 57768) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    \tSuppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:c000:3:24f0:f980:21]:443\r\n    \t\t... 9 more\r\n    \tCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:c000:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 51634) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \t\tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \t\tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \t\tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \t\tat java.net.Socket.connect(Socket.java:646)\r\n    \t\tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \t\tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t\t... 8 more\r\n    \tCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \t\tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t\t... 18 more\r\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:e00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 56396) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \tat libcore.io.IoBridge.isConnected(IoBridge.java:347)\r\n    \tat libcore.io.IoBridge.connectErrno(IoBridge.java:237)\r\n    \tat libcore.io.IoBridge.connect(IoBridge.java:179)\r\n    \tat java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n    \tat java.net.Socket.connect(Socket.java:646)\r\n    \tat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\n    \tat okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\r\n    \t... 8 more\r\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\r\n    \tat libcore.io.IoBridge.isConnected(IoBridge.java:334)\r\n    \t... 18 more","title":"Downloading file with OkHttpClient fails from downloading CloudFront URL","body":"<p>I am trying to migrate from the horrible <code>DownloadManager</code> api to <code>OkHttpClient</code> api but I am running into a weird connection issue I never saw with <code>DownloadManager</code>. Download files from <a href=\"https://testfiledownload.com/\" rel=\"nofollow noreferrer\">https://testfiledownload.com/</a> worked without problems using <code>OkHttpClient</code> thought, so I am not sure what the problem with my url is from CloudFront. This is my code:</p>\n<pre><code>val client = OkHttpClient()\nval request = Request.Builder().url(&quot;https://d3d5vfmrt0s3c6.cloudfront.net/notification/ffc888ca-69d6-48f7-8225-58b3a5010f9c?Expires=1701371587&amp;Signature=Lx4lwBHnWEwtnAeKPzFq15nRMsU2hUXXTQ1OjlDDsSBjA5hhxx~0eQocaB37QXPUnoF8uYWNcz~fYliUSRFl2rsx70iAgAb45SNwh5MDqEIhAwQ1oDlU3l5etxflzqHMHY7KewS3mw1y1osS~Jg7eOCOazKUl3CL1C0iBY6eTxa85MWlcTkocfKgm2TlwNtV~Epdlj1vEA1XSK3TWLLHUP6NnBX2W1lLxZLudZfL-JWFDQvA2peON7OiHRQ~okF28xHumVlQr0Ao7-DRBwAW9xn3k8jIbfca-kUhe8otnBOXVh~lMwf3HZ04SwKpTY8txHRzBRjtQkezPym9MvGfaw__&amp;Key-Pair-Id=K1SS0UK0I5H897&quot;).build()\nval response = client.newCall(request).execute().body.bytes()\n</code></pre>\n<p>The url downloads the file perfectly in my browser, but the code fails with this stacktrace. Any ideas?</p>\n<pre><code>FATAL EXCEPTION: pool-20-thread-1\nProcess: com.myappapp.myapp, PID: 13514\njava.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:e00:3:24f0:f980:21]:443\n    at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:256)\n    at okhttp3.internal.connection.ConnectPlan.connectTcp(ConnectPlan.kt:128)\n    at okhttp3.internal.connection.FastFallbackExchangeFinder$launchTcpConnect$1.runOnce(FastFallbackExchangeFinder.kt:138)\n    at java.lang.Thread.run(Thread.java:1012)\n    Suppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\n        at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\n    \n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:65)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:205)\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\n        at com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\n        at com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\n        at com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\n        at com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        ... 3 more\n    Caused by: java.security.cert.CertificateException: Chain validation failed\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\n        at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:549)\n    \n        at com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\n        at com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\n        ... 28 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\n        ... 45 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\n\n        ... 50 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:5400:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:5400:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 41924) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\n        at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\n\n        at com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\n        at com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\n        at com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\n        at com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        ... 3 more\n    Caused by: java.security.cert.CertificateException: Chain validation failed\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\n    \n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\n        ... 28 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\n        ... 45 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\n        at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 50 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:8800:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:8800:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 47678) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\n        at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\n        at com.android.org.conscrypt.ConscryptEngine.convertException(ConscryptEngine.java:1134)\n        \n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\n        at com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\n        at com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\n        at com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\n        at com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        ... 3 more\n    Caused by: java.security.cert.CertificateException: Chain validation failed\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\n    \n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\n        ... 28 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\n        ... 45 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\n        at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 50 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:6600:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:6600:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 48548) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: javax.net.ssl.SSLHandshakeException: Chain validation failed\n        at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:356)\n    \n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:65)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:205)\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:158)\n        at com.myappapp.myapp.MediaDownloaderKt.downloadFile(MediaDownloader.kt:49)\n        at com.myappapp.myapp.myappFirebaseMessagingService.onMessageReceived$lambda$0(FirebaseMessagingService.kt:112)\n        at com.myappapp.myapp.myappFirebaseMessagingService.$r8$lambda$Jl38Qg36Z_B--LnezsL88ZwrYUo(Unknown Source:0)\n        at com.myappapp.myapp.myappFirebaseMessagingService$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        ... 3 more\n    Caused by: java.security.cert.CertificateException: Chain validation failed\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:719)\n        at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:549)\n    \n        at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)\n        at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:90)\n        at com.android.org.conscrypt.ConscryptEngineSocket$2.checkServerTrusted(ConscryptEngineSocket.java:163)\n        at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:260)\n        at com.android.org.conscrypt.ConscryptEngine.verifyCertificateChain(ConscryptEngine.java:1638)\n        at com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\n        at com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\n        ... 28 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n        at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:715)\n        ... 45 more\n    Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n        at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\n        at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\n        at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 50 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:7a00:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:7a00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 42166) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:ec00:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:ec00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 50870) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:bc00:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:bc00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 57768) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\n    Suppressed: java.net.ConnectException: Failed to connect to d3d5vfmrt0s3c6.cloudfront.net/[2600:9000:20b4:c000:3:24f0:f980:21]:443\n        ... 9 more\n    Caused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:c000:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 51634) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n        at libcore.io.IoBridge.connect(IoBridge.java:179)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n        at java.net.Socket.connect(Socket.java:646)\n        at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n        at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n        ... 8 more\n    Caused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n        at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n        ... 18 more\nCaused by: java.net.ConnectException: failed to connect to d3d5vfmrt0s3c6.cloudfront.net/2600:9000:20b4:e00:3:24f0:f980:21 (port 443) from /fec0::f6d:85d6:8b53:7299 (port 56396) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n    at libcore.io.IoBridge.isConnected(IoBridge.java:347)\n    at libcore.io.IoBridge.connectErrno(IoBridge.java:237)\n    at libcore.io.IoBridge.connect(IoBridge.java:179)\n    at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n    at java.net.Socket.connect(Socket.java:646)\n    at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\n    at okhttp3.internal.connection.ConnectPlan.connectSocket(ConnectPlan.kt:254)\n    ... 8 more\nCaused by: android.system.ErrnoException: isConnected failed: EHOSTUNREACH (No route to host)\n    at libcore.io.IoBridge.isConnected(IoBridge.java:334)\n    ... 18 more\n</code></pre>\n"},{"tags":["java","spring","jwt","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":1327199,"reputation":587,"user_id":1271788,"display_name":"xYan"},"score":1,"creation_date":1668426806,"post_id":71620124,"comment_id":131394424,"body_markdown":"In the AuthService you are autowiring the WebClient and in the WebClient the AuthService. How did you solve the circular dependency exception? Cheers.","body":"In the AuthService you are autowiring the WebClient and in the WebClient the AuthService. How did you solve the circular dependency exception? Cheers."},{"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"score":0,"creation_date":1668702151,"post_id":71620124,"comment_id":131475518,"body_markdown":"@xYan there is no circular dependency as in `AuthService` I autowire `WebClient` but `AuthService` is autowired within  `CustomWebClientConfig`, not `WebClient`. \n\n\nSo it&#39;s like: `WebClient` -&gt;  `AuthService` -&gt; `CustomWebClientConfig`","body":"@xYan there is no circular dependency as in <code>AuthService</code> I autowire <code>WebClient</code> but <code>AuthService</code> is autowired within  <code>CustomWebClientConfig</code>, not <code>WebClient</code>.    So it&#39;s like: <code>WebClient</code> -&gt;  <code>AuthService</code> -&gt; <code>CustomWebClientConfig</code>"},{"owner":{"account_id":1327199,"reputation":587,"user_id":1271788,"display_name":"xYan"},"score":1,"creation_date":1668702689,"post_id":71620124,"comment_id":131475722,"body_markdown":"That&#39;s what you get when you don&#39;t read everything. Yes sure there is no circullar, sorry for my neglect.","body":"That&#39;s what you get when you don&#39;t read everything. Yes sure there is no circullar, sorry for my neglect."}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700767505,"creation_date":1648235626,"answer_id":71622039,"question_id":71620124,"body_markdown":"You can declare a custom `WebClient` with [filter](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html) that is applied on each request.\r\n\r\n```java\r\n@Configuration\r\npublic class CustomWebClientConfig {\r\n\r\n    private final AuthService authService;\r\n\r\n    @Autowired\r\n    public CustomWebClientConfig(AuthService authService) {\r\n        this.authService = authService;\r\n    }  \r\n  \r\n    @Bean(&quot;myCustomWebClient&quot;)\r\n    WebClient webClient() {\r\n        return WebClient.builder()\r\n                .filter(ExchangeFilterFunction.ofRequestProcessor(\r\n                    (ClientRequest request) -&gt; Mono.just(\r\n                        ClientRequest.from(request)\r\n                            .header(&quot;Access-Token&quot;, authService.getToken())\r\n                            .build()\r\n                    )\r\n                ))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n## EDIT\r\n\r\nIf `AuthService` also return `Mono&lt;String&gt;` as a token, then code will look a bit different.\r\n\r\n```java\r\n@Configuration\r\npublic class CustomWebClientConfig {\r\n\r\n    private final AuthService authService;\r\n\r\n    @Autowired\r\n    public CustomWebClientConfig(AuthService authService) {\r\n        this.authService = authService;\r\n    }  \r\n  \r\n    @Bean(&quot;myCustomWebClient&quot;)\r\n    WebClient webClient() {\r\n        return WebClient.builder()\r\n                .filter(ExchangeFilterFunction.ofRequestProcessor(\r\n                    (ClientRequest request) -&gt; {\r\n                        Mono&lt;String&gt; tokenMono =  authService.getToken();\r\n                        return tokenMono\r\n                                  .map(token -&gt; ClientRequest.from(request).header(&quot;Access-Token&quot;, token).build())\r\n                    }\r\n                ))\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to handle token refreshing in Spring Webflux WebClient","body":"<p>You can declare a custom <code>WebClient</code> with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"nofollow noreferrer\">filter</a> that is applied on each request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomWebClientConfig {\n\n    private final AuthService authService;\n\n    @Autowired\n    public CustomWebClientConfig(AuthService authService) {\n        this.authService = authService;\n    }  \n  \n    @Bean(&quot;myCustomWebClient&quot;)\n    WebClient webClient() {\n        return WebClient.builder()\n                .filter(ExchangeFilterFunction.ofRequestProcessor(\n                    (ClientRequest request) -&gt; Mono.just(\n                        ClientRequest.from(request)\n                            .header(&quot;Access-Token&quot;, authService.getToken())\n                            .build()\n                    )\n                ))\n                .build();\n    }\n}\n</code></pre>\n<h2>EDIT</h2>\n<p>If <code>AuthService</code> also return <code>Mono&lt;String&gt;</code> as a token, then code will look a bit different.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomWebClientConfig {\n\n    private final AuthService authService;\n\n    @Autowired\n    public CustomWebClientConfig(AuthService authService) {\n        this.authService = authService;\n    }  \n  \n    @Bean(&quot;myCustomWebClient&quot;)\n    WebClient webClient() {\n        return WebClient.builder()\n                .filter(ExchangeFilterFunction.ofRequestProcessor(\n                    (ClientRequest request) -&gt; {\n                        Mono&lt;String&gt; tokenMono =  authService.getToken();\n                        return tokenMono\n                                  .map(token -&gt; ClientRequest.from(request).header(&quot;Access-Token&quot;, token).build())\n                    }\n                ))\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71622039,"answer_count":1,"score":1,"last_activity_date":1700767505,"creation_date":1648225231,"question_id":71620124,"body_markdown":"I want to create some authentication service to be used for `WebClient`, so it automatically refresh the token when needed:\r\n\r\n    @Service\r\n    public class AuthService {\r\n    \r\n        private String token;\r\n\r\n        private final WebClient webClient;\r\n\r\n        private final Map&lt;String, String&gt; bodyValues;\r\n    \r\n        @Autowired\r\n        public AuthService(WebClient webClient) {\r\n            this.webClient = webClient;\r\n            this.bodyValues = new HashMap&lt;&gt;();\r\n            this.bodyValues.put(&quot;user&quot;, &quot;myUser&quot;);\r\n            this.bodyValues.put(&quot;password&quot;, &quot;somePassword&quot;);\r\n        }\r\n    \r\n        public String getToken() {\r\n            if (this.token == null || this.isExpired(this.token) {\r\n                this.refreshToken();\r\n            } \r\n            return this.token;\r\n        }\r\n    \r\n    \r\n        private void refreshToken() {\r\n            this.token = webClient.post()\r\n                    .uri(&quot;authEndpointPath&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromValue(bodyValues))\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();\r\n        }\r\n    \r\n        private boolean isExpired() {\r\n            //implementation\r\n        }\r\n    }\r\n\r\nIt gets the token correctly when it is expired. Is there a way to use it **ONLY ONCE**, without injecting it to other services? I was thinking about defining the `Bean` which uses `authService.getToken()` method:\r\n\r\n\r\n    @Configuration\r\n    public class CustomWebClientConfig {\r\n    \r\n        private final AuthService authService;\r\n    \r\n        @Autowired\r\n        public CustomWebClientConfig(AuthService authService) {\r\n            this.authService = authService;\r\n        }  \r\n      \r\n        @Bean(&quot;myCustomWebClient&quot;)\r\n        WebClient webClient() {\r\n            return WebClient.builder()\r\n                    .defaultHeader(&quot;Access-Token&quot;, authService.getToken())\r\n                    .build()\r\n        }\r\n    }\r\n\r\n\r\nBut obviously it will get the token only once at Application startup. Is there a way to inject it somehow or to intercept all of the webclient request and add the token then?","title":"How to handle token refreshing in Spring Webflux WebClient","body":"<p>I want to create some authentication service to be used for <code>WebClient</code>, so it automatically refresh the token when needed:</p>\n<pre><code>@Service\npublic class AuthService {\n\n    private String token;\n\n    private final WebClient webClient;\n\n    private final Map&lt;String, String&gt; bodyValues;\n\n    @Autowired\n    public AuthService(WebClient webClient) {\n        this.webClient = webClient;\n        this.bodyValues = new HashMap&lt;&gt;();\n        this.bodyValues.put(&quot;user&quot;, &quot;myUser&quot;);\n        this.bodyValues.put(&quot;password&quot;, &quot;somePassword&quot;);\n    }\n\n    public String getToken() {\n        if (this.token == null || this.isExpired(this.token) {\n            this.refreshToken();\n        } \n        return this.token;\n    }\n\n\n    private void refreshToken() {\n        this.token = webClient.post()\n                .uri(&quot;authEndpointPath&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(bodyValues))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n    }\n\n    private boolean isExpired() {\n        //implementation\n    }\n}\n</code></pre>\n<p>It gets the token correctly when it is expired. Is there a way to use it <strong>ONLY ONCE</strong>, without injecting it to other services? I was thinking about defining the <code>Bean</code> which uses <code>authService.getToken()</code> method:</p>\n<pre><code>@Configuration\npublic class CustomWebClientConfig {\n\n    private final AuthService authService;\n\n    @Autowired\n    public CustomWebClientConfig(AuthService authService) {\n        this.authService = authService;\n    }  \n  \n    @Bean(&quot;myCustomWebClient&quot;)\n    WebClient webClient() {\n        return WebClient.builder()\n                .defaultHeader(&quot;Access-Token&quot;, authService.getToken())\n                .build()\n    }\n}\n</code></pre>\n<p>But obviously it will get the token only once at Application startup. Is there a way to inject it somehow or to intercept all of the webclient request and add the token then?</p>\n"},{"tags":["java","maven","post","dao"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700710038,"post_id":77533811,"comment_id":136688710,"body_markdown":"Where is your code to convert the JSON into the Java class `Cliente` and the `Cliente` class code which you are using in the `create` method? What is the definition of the date field in the database?","body":"Where is your code to convert the JSON into the Java class <code>Cliente</code> and the <code>Cliente</code> class code which you are using in the <code>create</code> method? What is the definition of the date field in the database?"}],"owner":{"account_id":29747253,"reputation":1,"user_id":22797985,"display_name":"Matheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700767359,"creation_date":1700700352,"question_id":77533811,"body_markdown":"I&#39;m not able to get a successful post with the JSON above because of the date. \r\n\r\n    {\r\n      &quot;NM_CLIENTE&quot;: &quot;John Doe&quot;,\r\n      &quot;ML_CLIENTE&quot;: &quot;john.doe@example.com&quot;,\r\n      &quot;NR_CPF&quot;: &quot;123.456.789-01&quot;,\r\n      &quot;DT_NASCIMENTO&quot;: &quot;10-10-1990&quot;,\r\n      &quot;GN_CLIENTE&quot;: &quot;M&quot;,\r\n      &quot;NR_CELULAR&quot;: &quot;987654321&quot;,\r\n      &quot;NR_CEP&quot;: &quot;54321-678&quot;,\r\n      &quot;ST_ALERGIA&quot;: &quot;N&quot;,\r\n      &quot;DS_ALERGIA&quot;: null,\r\n      &quot;ST_MEDICAMENTOS&quot;: &quot;N&quot;,\r\n      &quot;DS_MEDICAMENTOS&quot;: null\r\n    }\r\n\r\nMeanwhile, when I try to insert by SQL, it&#39;s ok. Like this:\r\n\r\n    INSERT INTO t_cliente \r\n        (nm_cliente, ml_cliente, nr_cpf, dt_nascimento, gn_cliente, nr_celular, nr_cep, st_alergia, ds_alergia, st_medicamentos, ds_medicamentos)\r\n    VALUES (&#39;Jo&#227;o Silva&#39;, &#39;joao@email.com&#39;, &#39;111.111.111-11&#39;, TO_DATE(&#39;01-01-1990&#39;, &#39;DD-MM-YYYY&#39;), &#39;M&#39;, &#39;999999999&#39;, &#39;12345-678&#39;, &#39;N&#39;, NULL, &#39;N&#39;, NULL);\r\n\r\n\r\nHere&#39;s my DAO Class. \r\n\r\n    public void create(Cliente cliente) throws SQLException, ClassNotFoundException {\r\n        classForName();\r\n        try (Connection con = DriverManager.getConnection(URL, USER, PASS)) {\r\n            String sql = &quot;INSERT INTO T_CLIENTE (NM_CLIENTE, ML_CLIENTE, NR_CPF, DT_NASCIMENTO, GN_CLIENTE, NR_CELULAR, NR_CEP, ST_ALERGIA, DS_ALERGIA, ST_MEDICAMENTOS, DS_MEDICAMENTOS) VALUES (?, ?, ?, TO_DATE(?, &#39;DD-MM-YYYY&#39;), ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n            try (PreparedStatement instrucao = con.prepareStatement(sql)) {\r\n                instrucao.setString(1, cliente.getNomeCliente());\r\n                instrucao.setString(2, cliente.getEmailCliente());\r\n                instrucao.setString(3, cliente.getCpf());\r\n                instrucao.setString(4, cliente.getDataNascimento().toString());\r\n                instrucao.setString(5, String.valueOf(cliente.getGeneroCliente()));\r\n                instrucao.setString(6, cliente.getNumeroCelular());\r\n                instrucao.setString(7, cliente.getCep());\r\n                instrucao.setString(8, String.valueOf(cliente.getPossuiAlergia()));\r\n                instrucao.setString(9, cliente.getDescricaoAlergia());\r\n                instrucao.setString(10, String.valueOf(cliente.getUtilizaMedicamentos()));\r\n                instrucao.setString(11, cliente.getDescricaoMedicamentos());\r\n                instrucao.executeUpdate();\r\n          \r\n            }\r\n        } \r\n    } \r\n\r\n","title":"How to send DATE in Rest API in Post Method/Maven Project?","body":"<p>I'm not able to get a successful post with the JSON above because of the date.</p>\n<pre><code>{\n  &quot;NM_CLIENTE&quot;: &quot;John Doe&quot;,\n  &quot;ML_CLIENTE&quot;: &quot;john.doe@example.com&quot;,\n  &quot;NR_CPF&quot;: &quot;123.456.789-01&quot;,\n  &quot;DT_NASCIMENTO&quot;: &quot;10-10-1990&quot;,\n  &quot;GN_CLIENTE&quot;: &quot;M&quot;,\n  &quot;NR_CELULAR&quot;: &quot;987654321&quot;,\n  &quot;NR_CEP&quot;: &quot;54321-678&quot;,\n  &quot;ST_ALERGIA&quot;: &quot;N&quot;,\n  &quot;DS_ALERGIA&quot;: null,\n  &quot;ST_MEDICAMENTOS&quot;: &quot;N&quot;,\n  &quot;DS_MEDICAMENTOS&quot;: null\n}\n</code></pre>\n<p>Meanwhile, when I try to insert by SQL, it's ok. Like this:</p>\n<pre><code>INSERT INTO t_cliente \n    (nm_cliente, ml_cliente, nr_cpf, dt_nascimento, gn_cliente, nr_celular, nr_cep, st_alergia, ds_alergia, st_medicamentos, ds_medicamentos)\nVALUES ('João Silva', 'joao@email.com', '111.111.111-11', TO_DATE('01-01-1990', 'DD-MM-YYYY'), 'M', '999999999', '12345-678', 'N', NULL, 'N', NULL);\n</code></pre>\n<p>Here's my DAO Class.</p>\n<pre><code>public void create(Cliente cliente) throws SQLException, ClassNotFoundException {\n    classForName();\n    try (Connection con = DriverManager.getConnection(URL, USER, PASS)) {\n        String sql = &quot;INSERT INTO T_CLIENTE (NM_CLIENTE, ML_CLIENTE, NR_CPF, DT_NASCIMENTO, GN_CLIENTE, NR_CELULAR, NR_CEP, ST_ALERGIA, DS_ALERGIA, ST_MEDICAMENTOS, DS_MEDICAMENTOS) VALUES (?, ?, ?, TO_DATE(?, 'DD-MM-YYYY'), ?, ?, ?, ?, ?, ?, ?)&quot;;\n        try (PreparedStatement instrucao = con.prepareStatement(sql)) {\n            instrucao.setString(1, cliente.getNomeCliente());\n            instrucao.setString(2, cliente.getEmailCliente());\n            instrucao.setString(3, cliente.getCpf());\n            instrucao.setString(4, cliente.getDataNascimento().toString());\n            instrucao.setString(5, String.valueOf(cliente.getGeneroCliente()));\n            instrucao.setString(6, cliente.getNumeroCelular());\n            instrucao.setString(7, cliente.getCep());\n            instrucao.setString(8, String.valueOf(cliente.getPossuiAlergia()));\n            instrucao.setString(9, cliente.getDescricaoAlergia());\n            instrucao.setString(10, String.valueOf(cliente.getUtilizaMedicamentos()));\n            instrucao.setString(11, cliente.getDescricaoMedicamentos());\n            instrucao.executeUpdate();\n      \n        }\n    } \n} \n</code></pre>\n"},{"tags":["java","spring-boot","model-view-controller"],"owner":{"account_id":29977716,"reputation":1,"user_id":22973521,"display_name":"Lucas Dutra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700766921,"creation_date":1700765902,"question_id":77539144,"body_markdown":"Is there any improved way to JPA these, and how these MVC architecture would fit in API rest? I&#39;d like to understand the difference about it, like how could I turn it into an API rest?\r\n\r\n\r\nController\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/autor&quot;)\r\npublic class AutorController {\r\n    @Autowired\r\n    private AutorRepository autorRepository;\r\n    @GetMapping\r\n    public ModelAndView all(){\r\n\r\n       ModelAndView view = new ModelAndView(&quot;lista-autor&quot;);\r\n       view.addObject(&quot;autores&quot;,autorRepository.findAll());\r\n       return view;\r\n\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/novo&quot;)\r\n    public ModelAndView newAutor(){\r\n        ModelAndView view = new ModelAndView(&quot;form-autor&quot;);\r\n        view.addObject(&quot;autor&quot;, new Autor());\r\n        return view;\r\n    }\r\n\r\n    @PostMapping\r\n    public String  create(Autor novoAutor){\r\n        autorRepository.save(novoAutor);\r\n        return &quot;redirect:/autor&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/delete/{id}&quot;)\r\n    public String delete(@PathVariable(&quot;id&quot;) Long id){\r\n        autorRepository.deleteById(id);\r\n        return &quot;redirect:/autor&quot;;\r\n    }\r\n}\r\n```\r\n\r\nModel\r\n```\r\n@Entity\r\n@Table(name = &quot;ES_AUTOR&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Autor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String nome;\r\n    private Integer anoNascimento;\r\n\r\n\r\n}\r\n```\r\nrepository\r\n```\r\n@Repository\r\npublic interface AutorRepository extends JpaRepository&lt;Autor, Long&gt; {\r\n}\r\n```\r\n\r\n\r\n\r\nunderstand the difference between MVC and API rest.","title":"Spring performance","body":"<p>Is there any improved way to JPA these, and how these MVC architecture would fit in API rest? I'd like to understand the difference about it, like how could I turn it into an API rest?</p>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/autor&quot;)\npublic class AutorController {\n    @Autowired\n    private AutorRepository autorRepository;\n    @GetMapping\n    public ModelAndView all(){\n\n       ModelAndView view = new ModelAndView(&quot;lista-autor&quot;);\n       view.addObject(&quot;autores&quot;,autorRepository.findAll());\n       return view;\n\n    }\n\n\n    @GetMapping(&quot;/novo&quot;)\n    public ModelAndView newAutor(){\n        ModelAndView view = new ModelAndView(&quot;form-autor&quot;);\n        view.addObject(&quot;autor&quot;, new Autor());\n        return view;\n    }\n\n    @PostMapping\n    public String  create(Autor novoAutor){\n        autorRepository.save(novoAutor);\n        return &quot;redirect:/autor&quot;;\n    }\n\n    @GetMapping(&quot;/delete/{id}&quot;)\n    public String delete(@PathVariable(&quot;id&quot;) Long id){\n        autorRepository.deleteById(id);\n        return &quot;redirect:/autor&quot;;\n    }\n}\n</code></pre>\n<p>Model</p>\n<pre><code>@Entity\n@Table(name = &quot;ES_AUTOR&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Autor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String nome;\n    private Integer anoNascimento;\n\n\n}\n</code></pre>\n<p>repository</p>\n<pre><code>@Repository\npublic interface AutorRepository extends JpaRepository&lt;Autor, Long&gt; {\n}\n</code></pre>\n<p>understand the difference between MVC and API rest.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700766914,"creation_date":1700758200,"answer_id":77538535,"question_id":77534808,"body_markdown":"Option 3 is almost the way I&#39;d go: you should keep resources access control on the resources servers which is responsible for keeping it. This resource servers know about the resource internal and business rules. Also, it&#39;s pretty easy to [test access control rules][1] on resource servers.\r\n\r\nAs you pointed out in your edit, if access tokens are JWTs, then resource servers do not need a round trip to the authorization server for each request. A request from resource server to authorization server is required only to fetch tokens public signing key (at startup and each time it is rotated). Tokens are then validated locally by the resource server, with this key.\r\n\r\nOAuth2 is thought to work as follow:\r\n- OAuth2 authorisation server have state (user authentication status)\r\n- OAuth2 clients have state (store tokens)\r\n- OAuth2 resource server can (should?) be stateless (receive token with each request)\r\n\r\nThe sessions on authorization server and client(s) are different things and the authorization server should not share its sessions with other actors (but you could use spring-session to share session between clients).\r\n\r\n[Latest recommendations][2] are to use only &quot;private&quot; OAuth2 clients, which means **clients running on server you trust** (no, the OAuth2 client should not be a single page or mobile application).\r\n\r\nFor single page (Angular, React, Vue, ...) and mobile applications, Spring Security team encourages the use of the BFF pattern. I wrote a [tutorial for that][3] using `spring-cloud-gateway` with the `TokenRelay=` filter.\r\n\r\nIf you are using a server-side rendering engine (Thymeleaf, JSF, ...), then the MVC application can be configured as confidential client and directly send requests (authorized with access tokens) to resource servers. I wrote [another tutorial for that][4]. In this tutorial, the resource server and client are merged in a single application but, as the [security requirements are very different][5], each has its own `SecurityFilterChain` bean.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master#unit-tests\r\n  [2]: https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_ui\r\n  [5]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"Handling Spring Security Oauth2 on a multiple services","body":"<p>Option 3 is almost the way I'd go: you should keep resources access control on the resources servers which is responsible for keeping it. This resource servers know about the resource internal and business rules. Also, it's pretty easy to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master#unit-tests\" rel=\"nofollow noreferrer\">test access control rules</a> on resource servers.</p>\n<p>As you pointed out in your edit, if access tokens are JWTs, then resource servers do not need a round trip to the authorization server for each request. A request from resource server to authorization server is required only to fetch tokens public signing key (at startup and each time it is rotated). Tokens are then validated locally by the resource server, with this key.</p>\n<p>OAuth2 is thought to work as follow:</p>\n<ul>\n<li>OAuth2 authorisation server have state (user authentication status)</li>\n<li>OAuth2 clients have state (store tokens)</li>\n<li>OAuth2 resource server can (should?) be stateless (receive token with each request)</li>\n</ul>\n<p>The sessions on authorization server and client(s) are different things and the authorization server should not share its sessions with other actors (but you could use spring-session to share session between clients).</p>\n<p><a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">Latest recommendations</a> are to use only &quot;private&quot; OAuth2 clients, which means <strong>clients running on server you trust</strong> (no, the OAuth2 client should not be a single page or mobile application).</p>\n<p>For single page (Angular, React, Vue, ...) and mobile applications, Spring Security team encourages the use of the BFF pattern. I wrote a <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">tutorial for that</a> using <code>spring-cloud-gateway</code> with the <code>TokenRelay=</code> filter.</p>\n<p>If you are using a server-side rendering engine (Thymeleaf, JSF, ...), then the MVC application can be configured as confidential client and directly send requests (authorized with access tokens) to resource servers. I wrote <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_ui\" rel=\"nofollow noreferrer\">another tutorial for that</a>. In this tutorial, the resource server and client are merged in a single application but, as the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">security requirements are very different</a>, each has its own <code>SecurityFilterChain</code> bean.</p>\n"}],"owner":{"account_id":16791411,"reputation":45,"user_id":12138973,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701009974,"accepted_answer_id":77538535,"answer_count":1,"score":0,"last_activity_date":1700766914,"creation_date":1700722003,"question_id":77534808,"body_markdown":"I have an auth service that uses oauth2 along with keycloak. Then i have 2 different services that both need to know which user is accessing them (directly). Right now i have these options:\r\n\r\n1) Auth service sets a jsession cookie by default. So it is stateful. I haven&#39;t found a way to make it fully stateless as it needs to save the code from oauth2. I will extract jwt token from it and set it as another cookie. Then i will set my other 2 services as stateless and call them using Bearer token. That works. I found this to be slower, as on every call my services will verify the token with keycloak. I also won&#39;t be able to make calls to auth service using Bearer token as it expects cookie-based session.\r\n\r\n2) I share my session via redis for every service that i need to. That way i can access all of my services (on same domain) without any need for setting my headers. I can also make internal calls to other services using that same cookie sent from client. And i found it to be much faster. However im not aware of consequences that may lead to.\r\n3) Make other services stateless, dont use security in them, route all my requests through gateway, gateway will convert my session cookie into jwt internally, services will simply decode jwt&#39;s as they are always signed by keycloak already since its routed through gateway.\r\n\r\nI was wondering what is a common scenario for you guys? Is it a common practice to share sessions? And what scenario is preferable?","title":"Handling Spring Security Oauth2 on a multiple services","body":"<p>I have an auth service that uses oauth2 along with keycloak. Then i have 2 different services that both need to know which user is accessing them (directly). Right now i have these options:</p>\n<ol>\n<li><p>Auth service sets a jsession cookie by default. So it is stateful. I haven't found a way to make it fully stateless as it needs to save the code from oauth2. I will extract jwt token from it and set it as another cookie. Then i will set my other 2 services as stateless and call them using Bearer token. That works. I found this to be slower, as on every call my services will verify the token with keycloak. I also won't be able to make calls to auth service using Bearer token as it expects cookie-based session.</p>\n</li>\n<li><p>I share my session via redis for every service that i need to. That way i can access all of my services (on same domain) without any need for setting my headers. I can also make internal calls to other services using that same cookie sent from client. And i found it to be much faster. However im not aware of consequences that may lead to.</p>\n</li>\n<li><p>Make other services stateless, dont use security in them, route all my requests through gateway, gateway will convert my session cookie into jwt internally, services will simply decode jwt's as they are always signed by keycloak already since its routed through gateway.</p>\n</li>\n</ol>\n<p>I was wondering what is a common scenario for you guys? Is it a common practice to share sessions? And what scenario is preferable?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":7,"creation_date":1700757774,"post_id":77538455,"comment_id":136696150,"body_markdown":"Note the `E24` in the first number, this means the real decimal point is 24 places right of the dot you can see (the number is * 10&#178;⁴). Even if you succeed in rounding that thing to two decimal places, it will have no visible effect on the number displayed.","body":"Note the <code>E24</code> in the first number, this means the real decimal point is 24 places right of the dot you can see (the number is * 10&#178;⁴). Even if you succeed in rounding that thing to two decimal places, it will have no visible effect on the number displayed."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700757923,"post_id":77538455,"comment_id":136696174,"body_markdown":"@teapot418 Depends on the method used. For example `System.out.printf(&quot;%.3g&quot;, num);` will print 9.79e+24","body":"@teapot418 Depends on the method used. For example <code>System.out.printf(&quot;%.3g&quot;, num);</code> will print 9.79e+24"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700757969,"post_id":77538455,"comment_id":136696178,"body_markdown":"OP, why do you expect 9.80? If anything, rounding would result in 9.79e24, not 9.80, nor 9.80e24.","body":"OP, why do you expect 9.80? If anything, rounding would result in 9.79e24, not 9.80, nor 9.80e24."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700758014,"post_id":77538455,"comment_id":136696183,"body_markdown":"@MarkRotteveel that won&#39;t change 1234.567 to 1234.57 which is OP&#39;s second example. It&#39;s not entirely clear what they want.","body":"@MarkRotteveel that won&#39;t change 1234.567 to 1234.57 which is OP&#39;s second example. It&#39;s not entirely clear what they want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700758138,"post_id":77538455,"comment_id":136696216,"body_markdown":"*I&#39;ve been trying trying to round this number to two decimal places, but I&#39;ve had no luck:* What&#39;s your particular reason for decreasing the accuracy of the number?","body":"<i>I&#39;ve been trying trying to round this number to two decimal places, but I&#39;ve had no luck:</i> What&#39;s your particular reason for decreasing the accuracy of the number?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700758244,"post_id":77538455,"comment_id":136696231,"body_markdown":"Rounding to two decimal places is what you have. On the other hand rounding to two significant digits would turn the first number into 9.8e24, the second number to 1200. Which one do you want?","body":"Rounding to two decimal places is what you have. On the other hand rounding to two significant digits would turn the first number into 9.8e24, the second number to 1200. Which one do you want?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1700758398,"post_id":77538455,"comment_id":136696254,"body_markdown":"@teapot418 Then why the result is 9.223372036854776E16?","body":"@teapot418 Then why the result is 9.223372036854776E16?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700758618,"post_id":77538455,"comment_id":136696304,"body_markdown":"Ok, that&#39;s a good question: [Math.round](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#round-double-) returns the closest `long` to the argument. You have exceeded the range of `long`, so this method is broken.","body":"Ok, that&#39;s a good question: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#round-double-\" rel=\"nofollow noreferrer\">Math.round</a> returns the closest <code>long</code> to the argument. You have exceeded the range of <code>long</code>, so this method is broken."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1700758682,"post_id":77538455,"comment_id":136696322,"body_markdown":"@teapot418 Makes total sense, totally forgot about the overflow, thanks","body":"@teapot418 Makes total sense, totally forgot about the overflow, thanks"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700758695,"post_id":77538455,"comment_id":136696326,"body_markdown":"So, what do you want? `9.79E24` or what?  Please edit the question.","body":"So, what do you want? <code>9.79E24</code> or what?  Please edit the question."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":2,"creation_date":1700758728,"post_id":77538455,"comment_id":136696334,"body_markdown":"I think OP is not clear about what E24 means in this context.","body":"I think OP is not clear about what E24 means in this context."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700758737,"post_id":77538455,"comment_id":136696337,"body_markdown":"You can simulate round using `Math.floor(number+0.5)` or something.","body":"You can simulate round using <code>Math.floor(number+0.5)</code> or something."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1700758996,"post_id":77538455,"comment_id":136696377,"body_markdown":"Usually, the only time it makes sense to decrease the precision of a floating point value is at presentation time, when you&#39;d do something like `String presentationValue = String.format(&quot;%.2f&quot;, num);`. If you want a different method of rounding, including types such as up, down, ceiling, floor, half_up, half_down, half_even, unnecessary then use `BigDecimal`","body":"Usually, the only time it makes sense to decrease the precision of a floating point value is at presentation time, when you&#39;d do something like <code>String presentationValue = String.format(&quot;%.2f&quot;, num);</code>. If you want a different method of rounding, including types such as up, down, ceiling, floor, half_up, half_down, half_even, unnecessary then use <code>BigDecimal</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700759201,"post_id":77538455,"comment_id":136696413,"body_markdown":"@teapot418 Adding 0.5 won&#39;t make a difference for a number this large.","body":"@teapot418 Adding 0.5 won&#39;t make a difference for a number this large."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700780994,"post_id":77538455,"comment_id":136698869,"body_markdown":"_&quot;... I&#39;ve been trying trying to round this number to two decimal places ...&quot;_, the value is _9,792,117,207,541,878,000,000,000_.","body":"<i>&quot;... I&#39;ve been trying trying to round this number to two decimal places ...&quot;</i>, the value is <i>9,792,117,207,541,878,000,000,000</i>."}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1700758161,"creation_date":1700758161,"answer_id":77538529,"question_id":77538455,"body_markdown":"The  number **9.792117207541878E24** is basically &lt;math&gt;9.792117207541878 * 10&lt;sup&gt;E24&lt;/sup&gt; &lt;/math&gt;\r\n\r\n```java\r\ndouble num = 9.792117207541878E24;\r\ndouble roundedNum = Math.round(num*100)/100.0;\r\n```\r\n\r\nRound() rounds the fraction part but it doesn&#39;t have any when you will evaluate 9.792117207541878 * 10&lt;sup&gt;E24&lt;/sup&gt; \r\n\r\n&gt; The round() method rounds the specified value to the closest int or\r\n&gt; long value and returns it. That is, 3.87 is rounded to 4 and 3.24 is\r\n&gt; rounded to 3.\r\n\r\nYou can read more here: https://www.programiz.com/java-programming/library/math/round\r\n ","title":"round double with e in it","body":"<p>The  number <strong>9.792117207541878E24</strong> is basically 9.792117207541878 * 10<sup>E24</sup> </p>\n<pre class=\"lang-java prettyprint-override\"><code>double num = 9.792117207541878E24;\ndouble roundedNum = Math.round(num*100)/100.0;\n</code></pre>\n<p>Round() rounds the fraction part but it doesn't have any when you will evaluate 9.792117207541878 * 10<sup>E24</sup></p>\n<blockquote>\n<p>The round() method rounds the specified value to the closest int or\nlong value and returns it. That is, 3.87 is rounded to 4 and 3.24 is\nrounded to 3.</p>\n</blockquote>\n<p>You can read more here: <a href=\"https://www.programiz.com/java-programming/library/math/round\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/library/math/round</a></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700763626,"creation_date":1700763626,"answer_id":77538998,"question_id":77538455,"body_markdown":"&gt; For some reason, I can round this using the same method:\r\n\r\nNo, you can&#39;t. That&#39;s not how doubles work. You need to understand what doubles _are_ to do this stuff.\r\n\r\n## What doubles _are_.\r\n\r\nTake out a small piece of paper. Then take a pen.\r\n\r\nNow write me down, __exactly__, the value in decimal notation of how many kilos of peas you take, when I tell you to open a 1 kg bag of peas, and take precisely one third of it out.\r\n\r\nYou&#39;ll find that this task is, in fact, mathematically, __utterly impossible__. You&#39;ll write down 0.333333, and then you run out of space.\r\n\r\nHowever, if I do the same thing but I ask you to take one fifth of the peas, you&#39;ll be able to do it no problem: `0.2` goes on your piece of paper and voila.\r\n\r\nThis is kinda obvious, mathematically: There&#39;s a finite amount of numbers you can express within the confines of a small piece of paper, but there are an infinite amount of numbers between 0 and 1, let alone between - and + infinity, which is what `double` __oversimplified__ says it can represent.\r\n\r\n__This introduces the idea of blessed numbers__: _Some_ numbers can be expressed perfectly on your piece of paper (such as one fifth), but some numbers cannot.\r\n\r\n## What are you talking about? I _want_ to round!\r\n\r\nAh, but, you&#39;re rounding in base 10 - decimal. Computers store stuff in base 2 - binary.\r\n\r\nThe reason &#39;one third&#39; isn&#39;t blessed, but &#39;one fifth&#39; is blessed, is that decimal is a 10-based system. 5 fits &#39;nicely&#39; in 10, so it&#39;s doable. 3 does not fit nicely into 10, so it isn&#39;t.\r\n\r\nThis explains why 8 does work (8 is, broken down into prime factors, 2 times 2 times 2, and 2 fits nicely in 10, so this works), and why 7 doesn&#39;t (one seventh is also not something you can write down __precisely__ on a piece of paper). 14 wouldn&#39;t work either (breaks down to 2 times 7), 60 doesn&#39;t (60 is `5*3*2*2` - if the breakdown contains any prime that doesn&#39;t &quot;fit&quot; in 10, i.e. anything except 2 or 5, you can&#39;t do it).\r\n\r\nBinary is even more restrictive: The only factor is 2. So any number whose divider breaks down to factors of only 2 &#39;works&#39; and is __perfectly__ representable as a double, __but everything else simply isnt__.\r\n\r\n## You&#39;re joking\r\n\r\nNo. Run this code. I strongly suggest you actually do it to really internalize this bizarre aspect of doubles:\r\n\r\n```\r\npublic void proofOfWeirdness() {\r\n  double v = 0.0;\r\n  for (int i = 0; i &lt; 10; i++) v += 0.1;\r\n  System.out.println(v == 1.0);\r\n}\r\n```\r\n\r\nThis prints `true`, right? 10 * 0.1 is.. obviously 1.0, so of course it would.\r\n\r\n__Run it__. It prints `false`! - because one tenth, perfectly writable in our decimal system (it&#39;s `1/(2*5)`, and 2 and 5 are the &#39;safe&#39; divisor primes), __it isn&#39;t perfect in `double` math__, because only 2 is a &#39;safe&#39; divisor in binary. And the tiny litle error introduced is enough to make this `false`.\r\n\r\nIt&#39;s identical to me asking you to write one third on a note, and then do it two more times, and then me asking you to add up the numbers on your 3 notes. You won&#39;t tell me 1. No, if you did it right, you&#39;ll tell me it sums to 0.9999999. Which isn&#39;t, quite, 1.0.\r\n\r\n## So.... ?\r\n\r\nThat means &#39;Math.round(double * 100) / 100` __is hogwash__. No, it doesn&#39;t. The number you end up with is NOT exactly 9.80. That&#39;s not a blessed number in double parlance.\r\n\r\nSo why does it __seem__ to work?\r\n\r\nBecause almost all doubles (all but those who so happen to hit a &#39;blessed&#39; number) look like total garbage if you were to print their exact value. You&#39;d end up with _a lot_ of 5.999999999999999999999875 instead of 6es, and that&#39;s annoying, so:\r\n\r\n__`System.out.println` out of the box does some very basic rounding__. And that makes it _seem_ like your `Math.round(x * 100) / 100` code works. It only &#39;works&#39; when that exceedingly basic rounding gets lucky, so to speak. And it only does that for quite small numbers.\r\n\r\n## e24.. oof you&#39;re really out there now - DANGER, HERE BE DRAGONS\r\n\r\ndoubles use 64-bit for storage, which means by fundamental mathematical properties, that there can be only at most `2^64` blessed numbers. Sure, &#39;one third&#39; did not fit on your little note. But writing out a 24-digit humongous number _also_ does not fit on a tiny piece of paper. The same applies to doubles. This is so large, it doesn&#39;t really fit. Doubles are a little smarter than that, but note that 2^64 is 1.8e19 more or less (a 19-digit number). So how can doubles seemingly store 10e24?\r\n\r\nWell, those blessed numbers aren&#39;t equally distributed along the number line. The gaps between blessed numbers increases as you move away from 1.\r\n\r\nAround 2^52 (4.5e15), __the gap between representable (blessed) doubles is larger than 1__. In other words, not every integer value is even representable. Let&#39;s try it!\r\n\r\n```\r\ndouble v = Math.pow(2, 56) + 1000;\r\ndouble w = v + 1.0;\r\nSystem.out.println(w == v);\r\n```\r\n\r\nThis should, obviously, print `false`, right? We&#39;re asking if some number is equal to that same number + 1 which obviosuly can&#39;t possibly be true.\r\n\r\n__But, that prints `true`__. Because all double math silently rounds to the nearest blessed number.\r\n\r\n\r\nHence, _here be dragons_. The number you&#39;re seeing is quite rounded. Of course, in `1.245e24` notation, that&#39;s the same as `1245000000000000000000000` - we&#39;re only looking at the most significant digits.\r\n\r\n## Okay, so how DO I round this thing?\r\n\r\nAs I said, you can&#39;t - not in `double` math. But what you _can_ do, is print it rounded. That&#39;s no problem, and presumably what you want. We have a tool for that in java, string format (and `printf` is just a special form of that, that prints it instead of giving you a string):\r\n\r\n```\r\ndouble v = 1.23456789e24 + 10000000;\r\nSystem.out.println(&quot;NOT ROUNDED: &quot; + v);\r\nSystem.out.println(&quot;BETTER: &quot; + String.format(&quot;%.4g&quot;, v));\r\n```\r\n\r\nThe `g` means: Round to 4 digits after the decimal point, and use scientific notation (that `e` thing). You can&#39;t not use scientific notation here - as explained above, only the first ~15 or so digits have any hope of being accurate, the remaining digits are arbitrary rounding noise.\r\n\r\n## I need perfection though!\r\n\r\nWell, you can have that - look at the API of [`BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html). But, a few caveats:\r\n\r\n* BigDecimal is hundreds of times slower.\r\n* BDs take more and more memory to be able to represent without error.\r\n* You still can&#39;t ask a BD to calculate one divided by three, because it&#39;d take infinite memory. Hence, you can&#39;t divide BDs unless you get lucky (it&#39;s decimal-based, so, only divide by stuff that breaks down in prime factors of only twos and fives), or you tell BD to round.\r\n\r\n## A note about currencies\r\n\r\nBecause of those tiny errors, __do not__ use doubles to represent currencies. Use `long`, storing atomic units (so, satoshis for bitcoin, yen for yen, cents for dollars and euros, and so on).","title":"round double with e in it","body":"<blockquote>\n<p>For some reason, I can round this using the same method:</p>\n</blockquote>\n<p>No, you can't. That's not how doubles work. You need to understand what doubles <em>are</em> to do this stuff.</p>\n<h2>What doubles <em>are</em>.</h2>\n<p>Take out a small piece of paper. Then take a pen.</p>\n<p>Now write me down, <strong>exactly</strong>, the value in decimal notation of how many kilos of peas you take, when I tell you to open a 1 kg bag of peas, and take precisely one third of it out.</p>\n<p>You'll find that this task is, in fact, mathematically, <strong>utterly impossible</strong>. You'll write down 0.333333, and then you run out of space.</p>\n<p>However, if I do the same thing but I ask you to take one fifth of the peas, you'll be able to do it no problem: <code>0.2</code> goes on your piece of paper and voila.</p>\n<p>This is kinda obvious, mathematically: There's a finite amount of numbers you can express within the confines of a small piece of paper, but there are an infinite amount of numbers between 0 and 1, let alone between - and + infinity, which is what <code>double</code> <strong>oversimplified</strong> says it can represent.</p>\n<p><strong>This introduces the idea of blessed numbers</strong>: <em>Some</em> numbers can be expressed perfectly on your piece of paper (such as one fifth), but some numbers cannot.</p>\n<h2>What are you talking about? I <em>want</em> to round!</h2>\n<p>Ah, but, you're rounding in base 10 - decimal. Computers store stuff in base 2 - binary.</p>\n<p>The reason 'one third' isn't blessed, but 'one fifth' is blessed, is that decimal is a 10-based system. 5 fits 'nicely' in 10, so it's doable. 3 does not fit nicely into 10, so it isn't.</p>\n<p>This explains why 8 does work (8 is, broken down into prime factors, 2 times 2 times 2, and 2 fits nicely in 10, so this works), and why 7 doesn't (one seventh is also not something you can write down <strong>precisely</strong> on a piece of paper). 14 wouldn't work either (breaks down to 2 times 7), 60 doesn't (60 is <code>5*3*2*2</code> - if the breakdown contains any prime that doesn't &quot;fit&quot; in 10, i.e. anything except 2 or 5, you can't do it).</p>\n<p>Binary is even more restrictive: The only factor is 2. So any number whose divider breaks down to factors of only 2 'works' and is <strong>perfectly</strong> representable as a double, <strong>but everything else simply isnt</strong>.</p>\n<h2>You're joking</h2>\n<p>No. Run this code. I strongly suggest you actually do it to really internalize this bizarre aspect of doubles:</p>\n<pre><code>public void proofOfWeirdness() {\n  double v = 0.0;\n  for (int i = 0; i &lt; 10; i++) v += 0.1;\n  System.out.println(v == 1.0);\n}\n</code></pre>\n<p>This prints <code>true</code>, right? 10 * 0.1 is.. obviously 1.0, so of course it would.</p>\n<p><strong>Run it</strong>. It prints <code>false</code>! - because one tenth, perfectly writable in our decimal system (it's <code>1/(2*5)</code>, and 2 and 5 are the 'safe' divisor primes), <strong>it isn't perfect in <code>double</code> math</strong>, because only 2 is a 'safe' divisor in binary. And the tiny litle error introduced is enough to make this <code>false</code>.</p>\n<p>It's identical to me asking you to write one third on a note, and then do it two more times, and then me asking you to add up the numbers on your 3 notes. You won't tell me 1. No, if you did it right, you'll tell me it sums to 0.9999999. Which isn't, quite, 1.0.</p>\n<h2>So.... ?</h2>\n<p>That means 'Math.round(double * 100) / 100` <strong>is hogwash</strong>. No, it doesn't. The number you end up with is NOT exactly 9.80. That's not a blessed number in double parlance.</p>\n<p>So why does it <strong>seem</strong> to work?</p>\n<p>Because almost all doubles (all but those who so happen to hit a 'blessed' number) look like total garbage if you were to print their exact value. You'd end up with <em>a lot</em> of 5.999999999999999999999875 instead of 6es, and that's annoying, so:</p>\n<p><strong><code>System.out.println</code> out of the box does some very basic rounding</strong>. And that makes it <em>seem</em> like your <code>Math.round(x * 100) / 100</code> code works. It only 'works' when that exceedingly basic rounding gets lucky, so to speak. And it only does that for quite small numbers.</p>\n<h2>e24.. oof you're really out there now - DANGER, HERE BE DRAGONS</h2>\n<p>doubles use 64-bit for storage, which means by fundamental mathematical properties, that there can be only at most <code>2^64</code> blessed numbers. Sure, 'one third' did not fit on your little note. But writing out a 24-digit humongous number <em>also</em> does not fit on a tiny piece of paper. The same applies to doubles. This is so large, it doesn't really fit. Doubles are a little smarter than that, but note that 2^64 is 1.8e19 more or less (a 19-digit number). So how can doubles seemingly store 10e24?</p>\n<p>Well, those blessed numbers aren't equally distributed along the number line. The gaps between blessed numbers increases as you move away from 1.</p>\n<p>Around 2^52 (4.5e15), <strong>the gap between representable (blessed) doubles is larger than 1</strong>. In other words, not every integer value is even representable. Let's try it!</p>\n<pre><code>double v = Math.pow(2, 56) + 1000;\ndouble w = v + 1.0;\nSystem.out.println(w == v);\n</code></pre>\n<p>This should, obviously, print <code>false</code>, right? We're asking if some number is equal to that same number + 1 which obviosuly can't possibly be true.</p>\n<p><strong>But, that prints <code>true</code></strong>. Because all double math silently rounds to the nearest blessed number.</p>\n<p>Hence, <em>here be dragons</em>. The number you're seeing is quite rounded. Of course, in <code>1.245e24</code> notation, that's the same as <code>1245000000000000000000000</code> - we're only looking at the most significant digits.</p>\n<h2>Okay, so how DO I round this thing?</h2>\n<p>As I said, you can't - not in <code>double</code> math. But what you <em>can</em> do, is print it rounded. That's no problem, and presumably what you want. We have a tool for that in java, string format (and <code>printf</code> is just a special form of that, that prints it instead of giving you a string):</p>\n<pre><code>double v = 1.23456789e24 + 10000000;\nSystem.out.println(&quot;NOT ROUNDED: &quot; + v);\nSystem.out.println(&quot;BETTER: &quot; + String.format(&quot;%.4g&quot;, v));\n</code></pre>\n<p>The <code>g</code> means: Round to 4 digits after the decimal point, and use scientific notation (that <code>e</code> thing). You can't not use scientific notation here - as explained above, only the first ~15 or so digits have any hope of being accurate, the remaining digits are arbitrary rounding noise.</p>\n<h2>I need perfection though!</h2>\n<p>Well, you can have that - look at the API of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a>. But, a few caveats:</p>\n<ul>\n<li>BigDecimal is hundreds of times slower.</li>\n<li>BDs take more and more memory to be able to represent without error.</li>\n<li>You still can't ask a BD to calculate one divided by three, because it'd take infinite memory. Hence, you can't divide BDs unless you get lucky (it's decimal-based, so, only divide by stuff that breaks down in prime factors of only twos and fives), or you tell BD to round.</li>\n</ul>\n<h2>A note about currencies</h2>\n<p>Because of those tiny errors, <strong>do not</strong> use doubles to represent currencies. Use <code>long</code>, storing atomic units (so, satoshis for bitcoin, yen for yen, cents for dollars and euros, and so on).</p>\n"},{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700766260,"creation_date":1700765398,"answer_id":77539108,"question_id":77538455,"body_markdown":"### The Problem\r\n\r\nThe double value you want to round is actually really huge. Written in plain decimal notation: `9792117207541878000000000.0`\r\n\r\n(As you can see, it is already a number without decimals. So rounding it to two decimal digits should not do any change.)\r\n\r\nHowever, the JavaDoc of `long Math.round(double value)` says:\r\n\r\n&gt; Returns the closest **long** to the argument, with ties rounding up.\r\n\r\nIn your case, the double value is by far larger than the largest possible long value, which is `Long.MAX_VALUE`, or `9223372036854775807`. So the result of `Math.round(num * 100)` is the closest `long` value, i.e. `Long.MAX_VALUE`.\r\n\r\nIf you now divide this result (`Long.MAX_VALUE`) by `100.0`, you get `92233720368547758.07`, or in scientific notation:\r\n**`9.223372036854776E16`**.\r\n\r\n### Possible solution\r\n\r\nAvoid the conversion to *long* by using another rounding method offered by the `Math` class: `double Math.rint(double value)`:\r\n\r\n&gt; Returns the double value that is closest in value to the argument and is equal to a mathematical integer.\r\n\r\nSo this computes the correct value:\r\n\r\n```java\r\ndouble num = 9.792117207541878E24;\r\ndouble roundedNum = Math.rint(num * 100.0d) / 100.0d;\r\nSystem.out.println(roundedNum); // 9.792117207541878E24\r\n```\r\n\r\nHowever, you might still get into (other) troubles, as the double data type is not able to store such large numbers with a precision at decimal digit level. For details see the [answer of rzwitserloot][1].\r\n\r\nSo I also suggest to use `BigDecimal` in case such precision is really required:\r\n\r\n```\r\nBigDecimal num = new BigDecimal(&quot;9.792117207541878E24&quot;);\r\nBigDecimal roundedNum = num.setScale(2, RoundingMode.HALF_UP);\r\nSystem.out.println(roundedNum.toPlainString()); // 9792117207541878000000000.00\r\n```\r\n\r\n\r\n[1]: https://stackoverflow.com/a/77538998/993742","title":"round double with e in it","body":"<h3>The Problem</h3>\n<p>The double value you want to round is actually really huge. Written in plain decimal notation: <code>9792117207541878000000000.0</code></p>\n<p>(As you can see, it is already a number without decimals. So rounding it to two decimal digits should not do any change.)</p>\n<p>However, the JavaDoc of <code>long Math.round(double value)</code> says:</p>\n<blockquote>\n<p>Returns the closest <strong>long</strong> to the argument, with ties rounding up.</p>\n</blockquote>\n<p>In your case, the double value is by far larger than the largest possible long value, which is <code>Long.MAX_VALUE</code>, or <code>9223372036854775807</code>. So the result of <code>Math.round(num * 100)</code> is the closest <code>long</code> value, i.e. <code>Long.MAX_VALUE</code>.</p>\n<p>If you now divide this result (<code>Long.MAX_VALUE</code>) by <code>100.0</code>, you get <code>92233720368547758.07</code>, or in scientific notation:\n<strong><code>9.223372036854776E16</code></strong>.</p>\n<h3>Possible solution</h3>\n<p>Avoid the conversion to <em>long</em> by using another rounding method offered by the <code>Math</code> class: <code>double Math.rint(double value)</code>:</p>\n<blockquote>\n<p>Returns the double value that is closest in value to the argument and is equal to a mathematical integer.</p>\n</blockquote>\n<p>So this computes the correct value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double num = 9.792117207541878E24;\ndouble roundedNum = Math.rint(num * 100.0d) / 100.0d;\nSystem.out.println(roundedNum); // 9.792117207541878E24\n</code></pre>\n<p>However, you might still get into (other) troubles, as the double data type is not able to store such large numbers with a precision at decimal digit level. For details see the <a href=\"https://stackoverflow.com/a/77538998/993742\">answer of rzwitserloot</a>.</p>\n<p>So I also suggest to use <code>BigDecimal</code> in case such precision is really required:</p>\n<pre><code>BigDecimal num = new BigDecimal(&quot;9.792117207541878E24&quot;);\nBigDecimal roundedNum = num.setScale(2, RoundingMode.HALF_UP);\nSystem.out.println(roundedNum.toPlainString()); // 9792117207541878000000000.00\n</code></pre>\n"}],"owner":{"account_id":22426503,"reputation":127,"user_id":16633028,"display_name":"cindicate"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1700766891,"answer_count":3,"score":0,"last_activity_date":1700766260,"creation_date":1700757459,"question_id":77538455,"body_markdown":"I&#39;ve been trying trying to round this number to two decimal places, but I&#39;ve had no luck:\r\n\r\n    double num = 9.792117207541878E24;\r\n    double roundedNum = Math.round(num*100)/100.0;\r\n    System.out.println(roundedNum); // it gives &#39;9.223372036854776E16&#39; not what I want\r\n\r\nFor some reason, I can round this using the same method:\r\n\r\n    double num = 1234.567;\r\n    double roundedNum = Math.round(num*100)/100.0;\r\n    System.out.println(roundedNum);\r\n\r\nit gives me \r\n\r\n    1234.57\r\nbut I can&#39;t do the same with the first block of code. Is there a way I can get 9.80 using a similar method, I don&#39;t want to use DecimalFormat because I have not learned that yet in class.","title":"round double with e in it","body":"<p>I've been trying trying to round this number to two decimal places, but I've had no luck:</p>\n<pre><code>double num = 9.792117207541878E24;\ndouble roundedNum = Math.round(num*100)/100.0;\nSystem.out.println(roundedNum); // it gives '9.223372036854776E16' not what I want\n</code></pre>\n<p>For some reason, I can round this using the same method:</p>\n<pre><code>double num = 1234.567;\ndouble roundedNum = Math.round(num*100)/100.0;\nSystem.out.println(roundedNum);\n</code></pre>\n<p>it gives me</p>\n<pre><code>1234.57\n</code></pre>\n<p>but I can't do the same with the first block of code. Is there a way I can get 9.80 using a similar method, I don't want to use DecimalFormat because I have not learned that yet in class.</p>\n"},{"tags":["java","mysql","tomcat","jdbc"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1700729694,"post_id":77535376,"comment_id":136690925,"body_markdown":"How many connections do you have in your pool, and how many of them are busy - e.g. never returned?","body":"How many connections do you have in your pool, and how many of them are busy - e.g. never returned?"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1700731085,"post_id":77535376,"comment_id":136691185,"body_markdown":"how can i check that?","body":"how can i check that?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700732059,"post_id":77535376,"comment_id":136691397,"body_markdown":"Which pool are you using? Seems like an unhelpful error message","body":"Which pool are you using? Seems like an unhelpful error message"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1700733295,"post_id":77535376,"comment_id":136691657,"body_markdown":"instead of going one-by-one: Check my answer. If you need more details, please edit your question with a [mcve] - please check [ask]: Currently you&#39;re providing nothing more than an error message, which doesn&#39;t make this a good and answerable question (though I&#39;ve tried).","body":"instead of going one-by-one: Check my answer. If you need more details, please edit your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - please check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>: Currently you&#39;re providing nothing more than an error message, which doesn&#39;t make this a good and answerable question (though I&#39;ve tried)."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1700754169,"post_id":77535376,"comment_id":136695506,"body_markdown":"Does this answer your question? [com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure](https://stackoverflow.com/q/2983248/13447). I can&#39;t vote to close as duplicate, because I&#39;ve already voted to close for a lack of information (see comments on my answer), but Revision 3 of the question suggests a different cause than revisions 1 and 2.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/q/2983248/13447\">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</a>. I can&#39;t vote to close as duplicate, because I&#39;ve already voted to close for a lack of information (see comments on my answer), but Revision 3 of the question suggests a different cause than revisions 1 and 2."},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1700765394,"post_id":77535376,"comment_id":136697269,"body_markdown":"Thank you @OlafKock, i have finally found the root problem posted the answer,Appology for not sharing much detail as it is a third party app while having access to only log files, And as i have seen some questions like this(configuration problems) i thought i could use stack overflow and i dont know i coulldnt ask anything out of core programing like this one.","body":"Thank you @OlafKock, i have finally found the root problem posted the answer,Appology for not sharing much detail as it is a third party app while having access to only log files, And as i have seen some questions like this(configuration problems) i thought i could use stack overflow and i dont know i coulldnt ask anything out of core programing like this one."}],"answers":[{"tags":[],"owner":{"account_id":11040168,"reputation":35,"user_id":8108436,"accept_rate":75,"display_name":"rabbishakir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700731991,"creation_date":1700731991,"answer_id":77535724,"question_id":77535376,"body_markdown":"Check **max_connections** in the MySQL configuration file. It manages the number of simultaneous connections according to the demands of your application.","title":"Mysql getting disconnected from application during populating","body":"<p>Check <strong>max_connections</strong> in the MySQL configuration file. It manages the number of simultaneous connections according to the demands of your application.</p>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700733195,"creation_date":1700733195,"answer_id":77535872,"question_id":77535376,"body_markdown":"A connection pool provides you with a certain (configured, maximum) number of connections to the database. \r\n\r\nThe assumption is: When you&#39;re done with a connection, you&#39;re going to return it to the pool. This might be done implicitly by the garbage collector, but for a long running process, there&#39;s no guarantee that the garbage collector ever runs during your routine. \r\n\r\nIf your code uses the connections up like candy and never returns them (typically through `connection.close()`), or uses new connections for each operation rather than reusing a single connection, you&#39;re able to quickly exhaust the connection pool. This is called &quot;resource leaking&quot;.\r\n\r\nRaising the number of available connections (as suggested in the other answer) _might_ help you _right now_, but will fail again, a bit later, when your routine populates the database with more data, if those routines still chew up connections. \r\n\r\nAs you neither provide configuration details nor code, that&#39;s as much answer as can be given. ","title":"Mysql getting disconnected from application during populating","body":"<p>A connection pool provides you with a certain (configured, maximum) number of connections to the database.</p>\n<p>The assumption is: When you're done with a connection, you're going to return it to the pool. This might be done implicitly by the garbage collector, but for a long running process, there's no guarantee that the garbage collector ever runs during your routine.</p>\n<p>If your code uses the connections up like candy and never returns them (typically through <code>connection.close()</code>), or uses new connections for each operation rather than reusing a single connection, you're able to quickly exhaust the connection pool. This is called &quot;resource leaking&quot;.</p>\n<p>Raising the number of available connections (as suggested in the other answer) <em>might</em> help you <em>right now</em>, but will fail again, a bit later, when your routine populates the database with more data, if those routines still chew up connections.</p>\n<p>As you neither provide configuration details nor code, that's as much answer as can be given.</p>\n"},{"tags":[],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700765364,"creation_date":1700765364,"answer_id":77539105,"question_id":77535376,"body_markdown":"After some long struggle and research fond the problem, the solutions from above, to increase max_connections and others dosnt worked out for me, sorry i couldnt share the code or any other info its a 3rd party application i had only access to the log files. So comming to the problem the problem was partly with my mac.\r\n\r\nThere is this parameter called ```table_open_cache``` and is related to ```max_connections```. For example, for 200 concurrent running connections, we should specify a table cache size of at lease **200 * N**, where **N** is the maximum number of tables per join in any of the queries which we execute. We must also reserve some file descriptors for temporary tables and files\r\n\r\n\r\nWhere the problem occured for me is my OS (i.e MAC) couldnt handle all the number of open file descriptors implied by the ```table_open_cache``` settings or the default specified in **my.cnf**. In my case the default ```table_open_cache``` is set too high, MYSQL ran out of file descriptors and exhibited symptoms such as refusing connections or failing to perform queries. thats why the sudden connection loss during populating.\r\n\r\n**SOLUTION** : I reduced my ```table_open_cache``` variable to a lower value like **400** in my.cnf file and restarted mysql server once and the problem is solved.","title":"Mysql getting disconnected from application during populating","body":"<p>After some long struggle and research fond the problem, the solutions from above, to increase max_connections and others dosnt worked out for me, sorry i couldnt share the code or any other info its a 3rd party application i had only access to the log files. So comming to the problem the problem was partly with my mac.</p>\n<p>There is this parameter called <code>table_open_cache</code> and is related to <code>max_connections</code>. For example, for 200 concurrent running connections, we should specify a table cache size of at lease <strong>200 * N</strong>, where <strong>N</strong> is the maximum number of tables per join in any of the queries which we execute. We must also reserve some file descriptors for temporary tables and files</p>\n<p>Where the problem occured for me is my OS (i.e MAC) couldnt handle all the number of open file descriptors implied by the <code>table_open_cache</code> settings or the default specified in <strong>my.cnf</strong>. In my case the default <code>table_open_cache</code> is set too high, MYSQL ran out of file descriptors and exhibited symptoms such as refusing connections or failing to perform queries. thats why the sudden connection loss during populating.</p>\n<p><strong>SOLUTION</strong> : I reduced my <code>table_open_cache</code> variable to a lower value like <strong>400</strong> in my.cnf file and restarted mysql server once and the problem is solved.</p>\n"}],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1700765364,"creation_date":1700728493,"question_id":77535376,"body_markdown":"Recently i got mac m1\r\ni am running a product which uses mysql@5.7 installed through homebrew, the data from the product is connected successfully to mysql and started populating but nearing the end of population there is a connection problem with mysql and shows exception during getconnection from pool am using mac m1 and mysql5.6\r\n\r\nthe error is as follows\r\n\r\njava.sql.SQLException: java.lang.Exception: Exception during getConnection from pool Exception occurred during get connection from datasource\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\nThis dosnt occur at product startup but during 80% of population.\r\n\r\nconfig file my.cnf\r\n```\r\n# Default Homebrew MySQL server config\r\n[mysqld]\r\n# Only allow connections from localhost\r\nbind-address = 127.0.0.1\r\n```","title":"Mysql getting disconnected from application during populating","body":"<p>Recently i got mac m1\ni am running a product which uses mysql@5.7 installed through homebrew, the data from the product is connected successfully to mysql and started populating but nearing the end of population there is a connection problem with mysql and shows exception during getconnection from pool am using mac m1 and mysql5.6</p>\n<p>the error is as follows</p>\n<p>java.sql.SQLException: java.lang.Exception: Exception during getConnection from pool Exception occurred during get connection from datasource\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</p>\n<p>This dosnt occur at product startup but during 80% of population.</p>\n<p>config file my.cnf</p>\n<pre><code># Default Homebrew MySQL server config\n[mysqld]\n# Only allow connections from localhost\nbind-address = 127.0.0.1\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":13376026,"reputation":61,"user_id":9652891,"display_name":"Leva dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700765249,"creation_date":1700765249,"question_id":77539097,"body_markdown":"I have built the springboot project 2.6v with elasticsearch, I have an index named employee, this employee have 4 fields, firsname, lastname, section and salary, section is enum.\r\nI am using RestHighLevelClient to interact with elasticsearch. when I use it to perform get operation it works fine, but when I use it as create doc, by the following code:\r\n```\r\npublic Map&lt;String,String&gt; save(Employee employee) throws IOException {\r\n    IndexRequest request = new IndexRequest(&quot;employees&quot;);\r\n    String jsonString = objectMapper().writeValueAsString(employee);\r\n    request.source(jsonString, XContentType.JSON);\r\n    restHighLevelClient.index(request, RequestOptions.DEFAULT);\r\n    return Map.of(&quot;ack&quot;,&quot;true&quot;);\r\n}\r\n```\r\n it throws the following exception\r\n```\r\njava.io.IOException: Unable to parse response body for Response{requestLine=POST /logs/_doc?timeout=1m HTTP/1.1, host=http://127.0.0.1:9200, response=HTTP/1.1 201 Created}\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1751) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat io.arabot.elasticseach.service.LogService.save(LogService.java:115) ~[classes/:na]\r\n\tat io.arabot.elasticseach.controllers.LogController.createLog(LogController.java:41) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:209) ~[na:na]\r\n\tat org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\t... 55 common frames omitted\r\n\r\n```","title":"How to save document in elasticsearch by springboot app","body":"<p>I have built the springboot project 2.6v with elasticsearch, I have an index named employee, this employee have 4 fields, firsname, lastname, section and salary, section is enum.\nI am using RestHighLevelClient to interact with elasticsearch. when I use it to perform get operation it works fine, but when I use it as create doc, by the following code:</p>\n<pre><code>public Map&lt;String,String&gt; save(Employee employee) throws IOException {\n    IndexRequest request = new IndexRequest(&quot;employees&quot;);\n    String jsonString = objectMapper().writeValueAsString(employee);\n    request.source(jsonString, XContentType.JSON);\n    restHighLevelClient.index(request, RequestOptions.DEFAULT);\n    return Map.of(&quot;ack&quot;,&quot;true&quot;);\n}\n</code></pre>\n<p>it throws the following exception</p>\n<pre><code>java.io.IOException: Unable to parse response body for Response{requestLine=POST /logs/_doc?timeout=1m HTTP/1.1, host=http://127.0.0.1:9200, response=HTTP/1.1 201 Created}\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1751) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at io.arabot.elasticseach.service.LogService.save(LogService.java:115) ~[classes/:na]\n    at io.arabot.elasticseach.controllers.LogController.createLog(LogController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.NullPointerException: null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:209) ~[na:na]\n    at org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    ... 55 common frames omitted\n\n</code></pre>\n"},{"tags":["java","java-io","intellij-14"],"owner":{"account_id":26934922,"reputation":15,"user_id":20506688,"display_name":"Nicolas_Arias3142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700767069,"answer_count":0,"score":0,"last_activity_date":1700765071,"creation_date":1700765071,"question_id":77539085,"body_markdown":"I want to let the user input the file name, and be able to read through that file. I then get the error that the file is not found. The file is in the same module, and I want it to work without having to specify the absolute path.\r\nI am using Intellij. \r\n\r\n\r\n\r\nThis is what I want, but I get a FileNotFoundException.\r\n```\r\nFile dataFile = new File(&quot;lottacash.csv&quot;);\r\n```\r\nThis is the way I got it to work.\r\n\r\n```\r\nFile dataFile = new File(&quot;C:\\\\FolderWithModuels\\\\ModuelProject\\\\&quot;+ &quot;lottacash.csv&quot;);\r\n```\r\n","title":"Creating a file object only works when I use an absolute path","body":"<p>I want to let the user input the file name, and be able to read through that file. I then get the error that the file is not found. The file is in the same module, and I want it to work without having to specify the absolute path.\nI am using Intellij.</p>\n<p>This is what I want, but I get a FileNotFoundException.</p>\n<pre><code>File dataFile = new File(&quot;lottacash.csv&quot;);\n</code></pre>\n<p>This is the way I got it to work.</p>\n<pre><code>File dataFile = new File(&quot;C:\\\\FolderWithModuels\\\\ModuelProject\\\\&quot;+ &quot;lottacash.csv&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1645006194,"post_id":71139586,"comment_id":125753530,"body_markdown":"you probably loose your modal values on redirect. I don&#39;t remember exactly how it is in thymleaf but I am guessing it doesnt persist between requests","body":"you probably loose your modal values on redirect. I don&#39;t remember exactly how it is in thymleaf but I am guessing it doesnt persist between requests"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1645006233,"post_id":71139586,"comment_id":125753552,"body_markdown":"Don&#39;t add the `order` to the model, it is already part of it.","body":"Don&#39;t add the <code>order</code> to the model, it is already part of it."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645006333,"post_id":71139586,"comment_id":125753591,"body_markdown":"@JAsgarov the problem is that I am not redirecting, I trigger my bindingresults to fail with an empty field and it just does what is stated in the first if - returns the page filled with modal attributes.","body":"@JAsgarov the problem is that I am not redirecting, I trigger my bindingresults to fail with an empty field and it just does what is stated in the first if - returns the page filled with modal attributes."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645007337,"post_id":71139586,"comment_id":125753993,"body_markdown":"@M.Deinum thank you, it seems like this has something to do with adding new Order. The problem is that I have a form with `th:object=&quot;${order}&quot;` and it gives me an exception \n` Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute`\nIf I don&#39;t add it","body":"@M.Deinum thank you, it seems like this has something to do with adding new Order. The problem is that I have a form with <code>th:object=&quot;${order}&quot;</code> and it gives me an exception  ` Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute` If I don&#39;t add it"},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1645007525,"post_id":71139586,"comment_id":125754055,"body_markdown":"@M.Deinum the exception was fixed. God bless you!","body":"@M.Deinum the exception was fixed. God bless you!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1645007823,"post_id":71139586,"comment_id":125754155,"body_markdown":"Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance.","body":"Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance."}],"answers":[{"tags":[],"owner":{"account_id":1813529,"reputation":1409,"user_id":1649124,"accept_rate":75,"display_name":"Peopleware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700764732,"creation_date":1700764732,"answer_id":77539063,"question_id":71139586,"body_markdown":"The very same problem bothered me for a while and the solution is within the comments. So I&#39;d like to highlight it as an explicit fix.\r\n\r\nUser [M. Deinum][1] [wrote][2]:\r\n\r\n&gt; Don&#39;t add the order to the model, it is already part of it\r\n\r\nand\r\n\r\n&gt; Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance\r\n\r\nIn my case I initialize a couple of model attributes and wrote a method to do this for both the `Get-` and the `PostMapping`. I did not realize that in the `Post` case it overrides the already given model attribute.\r\n\r\nThanks to the eyes of an experienced Spring user!\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum\r\n  [2]: https://stackoverflow.com/questions/71139586/bindingresult-does-not-work-thymeleaf-cant-see-it#comment125753552_71139586","title":"BindingResult does not work, thymeleaf can&#39;t see it","body":"<p>The very same problem bothered me for a while and the solution is within the comments. So I'd like to highlight it as an explicit fix.</p>\n<p>User <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> <a href=\"https://stackoverflow.com/questions/71139586/bindingresult-does-not-work-thymeleaf-cant-see-it#comment125753552_71139586\">wrote</a>:</p>\n<blockquote>\n<p>Don't add the order to the model, it is already part of it</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Due to the binding it is added automatically, you are replacing it with a new version which then invalidates the binding results as that was for a different object instance</p>\n</blockquote>\n<p>In my case I initialize a couple of model attributes and wrote a method to do this for both the <code>Get-</code> and the <code>PostMapping</code>. I did not realize that in the <code>Post</code> case it overrides the already given model attribute.</p>\n<p>Thanks to the eyes of an experienced Spring user!</p>\n"}],"owner":{"display_name":"user16722881"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700764732,"creation_date":1645005250,"question_id":71139586,"body_markdown":"I have this method\r\n\r\n        @PostMapping\r\n    public String saveOrder(@Valid @ModelAttribute OrderCreationDto order,\r\n                            BindingResult bindingResult,\r\n                            @AuthenticationPrincipal AuthenticatedUser authenticatedUser,\r\n                            Model model) {\r\n        System.out.println(&quot;BINDING &quot; + bindingResult);\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            fillMenuModelWithData(model);\r\n            return &quot;menu&quot;;\r\n        }\r\n\r\n\r\n        try {\r\n            orderService.saveOrder(order, authenticatedUser);\r\n        } catch (InsufficientFundsException e) {\r\n            log.debug(e.toString());\r\n            fillMenuModelWithData(model);\r\n            return &quot;menu&quot;;\r\n        }\r\n        return &quot;redirect:/orders/history&quot;;\r\n    }\r\n\r\nAnd this helper method just to fill models with needed attributes\r\n\r\n        private void fillMenuModelWithData(Model model) {\r\n        model.addAttribute(&quot;sortField&quot;, DEFAULT_SORT_FIELD);\r\n        model.addAttribute(&quot;sortDir&quot;, DEFAULT_SORT_DIR);\r\n        model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\r\n        model.addAttribute(&quot;pageSize&quot;, DEFAULT_PAGE_SIZE);\r\n        model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\r\n        model.addAttribute(&quot;order&quot;, new OrderCreationDto());\r\n        model.addAttribute(&quot;dishList&quot;, dishService.findAllDishesSorted(\r\n                DEFAULT_SORT_FIELD, DEFAULT_SORT_DIR));\r\n    }\r\n\r\nAs you can see, I print to console with `System.out.println` my BindingResult and it looks like this.\r\n\r\n&gt; BINDING org.springframework.validation.BeanPropertyBindingResult: 2\r\n&gt; errors \r\n\r\n&gt; Field error in object &#39;orderCreationDto&#39; on field &#39;address&#39;:\r\n&gt; rejected value [ ]; codes\r\n&gt; [NotBlank.orderCreationDto.address,NotBlank.address,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [orderCreationDto.address,address]; arguments []; default\r\n&gt; message [address]]; default message [Address cannot be empty]\r\n&gt; \r\n&gt; Field error in object &#39;orderCreationDto&#39; on field &#39;dishIdQuantityMap&#39;:\r\n&gt; rejected value [{752=0, 952=0}]; codes\r\n&gt; [HasOrder.orderCreationDto.dishIdQuantityMap,HasOrder.dishIdQuantityMap,HasOrder.java.util.Map,HasOrder];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [orderCreationDto.dishIdQuantityMap,dishIdQuantityMap];\r\n&gt; arguments []; default message [dishIdQuantityMap]]; default message\r\n&gt; [Order does not contain any Dishes]\r\n\r\n\r\nSeems like everything ok, let&#39;s see if we have any erros on `menu` page.\r\n\r\n                   &lt;p th:text=&quot;${#fields.errors()}&quot;&gt;&lt;/p&gt;\r\n                &lt;p th:text=&quot;${#fields.hasAnyErrors()}&quot;&gt;&lt;/p&gt;\r\n\r\nAnd we see nothing\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ytk2M.png\r\nI&#39;ve tried to debug this on my own for the whole night, need your help a lot!\r\n\r\n\r\n\r\nUPD:\r\n\r\n\r\nHere is the error I get skip adding new Order in Post method   \r\n\r\n     Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;order&#39; available as request attribute\r\n\r\n","title":"BindingResult does not work, thymeleaf can&#39;t see it","body":"<p>I have this method</p>\n<pre><code>    @PostMapping\npublic String saveOrder(@Valid @ModelAttribute OrderCreationDto order,\n                        BindingResult bindingResult,\n                        @AuthenticationPrincipal AuthenticatedUser authenticatedUser,\n                        Model model) {\n    System.out.println(&quot;BINDING &quot; + bindingResult);\n\n    if (bindingResult.hasErrors()) {\n        fillMenuModelWithData(model);\n        return &quot;menu&quot;;\n    }\n\n\n    try {\n        orderService.saveOrder(order, authenticatedUser);\n    } catch (InsufficientFundsException e) {\n        log.debug(e.toString());\n        fillMenuModelWithData(model);\n        return &quot;menu&quot;;\n    }\n    return &quot;redirect:/orders/history&quot;;\n}\n</code></pre>\n<p>And this helper method just to fill models with needed attributes</p>\n<pre><code>    private void fillMenuModelWithData(Model model) {\n    model.addAttribute(&quot;sortField&quot;, DEFAULT_SORT_FIELD);\n    model.addAttribute(&quot;sortDir&quot;, DEFAULT_SORT_DIR);\n    model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\n    model.addAttribute(&quot;pageSize&quot;, DEFAULT_PAGE_SIZE);\n    model.addAttribute(&quot;filterCategory&quot;, DEFAULT_CATEGRY);\n    model.addAttribute(&quot;order&quot;, new OrderCreationDto());\n    model.addAttribute(&quot;dishList&quot;, dishService.findAllDishesSorted(\n            DEFAULT_SORT_FIELD, DEFAULT_SORT_DIR));\n}\n</code></pre>\n<p>As you can see, I print to console with <code>System.out.println</code> my BindingResult and it looks like this.</p>\n<blockquote>\n<p>BINDING org.springframework.validation.BeanPropertyBindingResult: 2\nerrors</p>\n</blockquote>\n<blockquote>\n<p>Field error in object 'orderCreationDto' on field 'address':\nrejected value [ ]; codes\n[NotBlank.orderCreationDto.address,NotBlank.address,NotBlank.java.lang.String,NotBlank];\narguments\n[org.springframework.context.support.DefaultMessageSourceResolvable:\ncodes [orderCreationDto.address,address]; arguments []; default\nmessage [address]]; default message [Address cannot be empty]</p>\n<p>Field error in object 'orderCreationDto' on field 'dishIdQuantityMap':\nrejected value [{752=0, 952=0}]; codes\n[HasOrder.orderCreationDto.dishIdQuantityMap,HasOrder.dishIdQuantityMap,HasOrder.java.util.Map,HasOrder];\narguments\n[org.springframework.context.support.DefaultMessageSourceResolvable:\ncodes [orderCreationDto.dishIdQuantityMap,dishIdQuantityMap];\narguments []; default message [dishIdQuantityMap]]; default message\n[Order does not contain any Dishes]</p>\n</blockquote>\n<p>Seems like everything ok, let's see if we have any erros on <code>menu</code> page.</p>\n<pre><code>               &lt;p th:text=&quot;${#fields.errors()}&quot;&gt;&lt;/p&gt;\n            &lt;p th:text=&quot;${#fields.hasAnyErrors()}&quot;&gt;&lt;/p&gt;\n</code></pre>\n<p>And we see nothing</p>\n<p><a href=\"https://i.stack.imgur.com/ytk2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytk2M.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to debug this on my own for the whole night, need your help a lot!</p>\n<p>UPD:</p>\n<p>Here is the error I get skip adding new Order in Post method</p>\n<pre><code> Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'order' available as request attribute\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9820,"page":38,"page_size":100}
