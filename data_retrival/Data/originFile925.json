{"items":[{"tags":["java","design-patterns","class-design","builder-pattern"],"comments":[{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":0,"creation_date":1666809707,"post_id":74212433,"comment_id":131026233,"body_markdown":"possibly related to https://stackoverflow.com/questions/17839072/dynamic-builder-pattern","body":"possibly related to <a href=\"https://stackoverflow.com/questions/17839072/dynamic-builder-pattern\" title=\"dynamic builder pattern\">stackoverflow.com/questions/17839072/dynamic-builder-pattern</a>"},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":3,"creation_date":1666818540,"post_id":74212433,"comment_id":131028782,"body_markdown":"There should be different builders for both of them, also you can make builders inherit another builder. When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB","body":"There should be different builders for both of them, also you can make builders inherit another builder. When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB"},{"owner":{"account_id":15114022,"reputation":1,"user_id":16990872,"display_name":"Jackson"},"score":0,"creation_date":1666826427,"post_id":74212433,"comment_id":131030406,"body_markdown":"@RDK, &quot;When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB &quot; how to do this dynamically exactly? Within the `withClientType` method, I can do the following, but it&#39;s not recognized. \n```\nif (type == TypeB)\n    return BuilderForTypeB;\nelse \n    return BuilderForTypeA;\n```","body":"@RDK, &quot;When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB &quot; how to do this dynamically exactly? Within the <code>withClientType</code> method, I can do the following, but it&#39;s not recognized.  ``` if (type == TypeB)     return BuilderForTypeB; else      return BuilderForTypeA; ```"},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":0,"creation_date":1666945561,"post_id":74212433,"comment_id":131059168,"body_markdown":"Here is an example for you [EmbeddedChartBuilder|https://developers.google.com/apps-script/reference/spreadsheet/embedded-chart-builder]","body":"Here is an example for you [EmbeddedChartBuilder|<a href=\"https://developers.google.com/apps-script/reference/spreadsheet/embedded-chart-builder]\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/refe&zwnj;&#8203;rence/spreadsheet/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666982729,"post_id":74212433,"comment_id":131071476,"body_markdown":"@Jackson Sorry, there was bug in the Builders of both Clients, fixed it. Now the code should be fine. You can [see it in action online](https://www.jdoodle.com/ia/ygH).","body":"@Jackson Sorry, there was bug in the Builders of both Clients, fixed it. Now the code should be fine. You can <a href=\"https://www.jdoodle.com/ia/ygH\" rel=\"nofollow noreferrer\">see it in action online</a>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666982205,"creation_date":1666827440,"answer_id":74215287,"question_id":74212433,"body_markdown":"It&#39;s not possible to construct instances of **different** classes using the **same** Builder. As *@RDK* has pointed out in the comments you have to implement the Builder pattern for each of your classes.\r\n\r\nBuilder might have the same hierarchy as the classes they are meant to instantiate. That would allow to reuse the functionality of the parent-builder.\r\n\r\nBelow, I&#39;ve provided a hierarchy of Builders inspired by the classic implementation from the ***&quot;Effective Java&quot;*** by Joshua Bloch (*a former Sun Microsystems employee, who led the design and implementation of many Java platform features, including the Java Collections Framework*).\r\n\r\nFirstly, it&#39;s worth noticing that using Builder with inheritance adds a bit of complexity because methods all methods of the Builder should be self-returning, i.e. in order to chain methods each method except `build()` returns `this` instance of Builder. But it should a concrete Builder, not it&#39;s parent type (because parent might be unaware of all the methods that child has declared).\r\n\r\nThe answer to this problem would be a [self-referencing generic type](https://stackoverflow.com/questions/7354740/is-there-a-way-to-refer-to-the-current-type-with-a-type-variable), in the *&quot;Effective Java&quot;*  a *generic type with a recursive type parameter*. Don&#39;t get intimidated, pause for a second and try to recall how [`java.lang.Enum`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html) looks like. `Enum&lt;E extends Enum&lt;E&gt;&gt;` - that&#39;s an example of the self-reference, recursively pointing at a particular subclass of `java.lang.Enum`.\r\n\r\nSimilarly, we need a generic builder referencing to itself `ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt;` and declaring a self-returning abstract method `self()` (which return an instance of `T`) that would be implemented by every concrete class.\r\n\r\n***Note:** there&#39;s no need in enum `ClientType` to differentiate between `ClientA` and `ClientB`, since they are already **different** classes.*\r\n\r\nThat how implementation of an `AbstractClient` and two concrete client, each having static nested Builder might look like.\r\n\r\nAbstract classes `AbstractClient` + `ClientBuilder`\r\n\r\n    public abstract class AbstractClient {\r\n        \r\n        protected ClientType type;\r\n        protected A a;\r\n        protected B b;\r\n        \r\n        protected AbstractClient(ClientBuilder&lt;?&gt; builder) {\r\n            this.a = builder.a;\r\n            this.b = builder.b;\r\n        }\r\n        \r\n        public static abstract class ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt; {\r\n            protected A a;\r\n            protected B b;\r\n            \r\n            public T withFieldA(A a) {\r\n                this.a = a;\r\n                return self();\r\n            }\r\n    \r\n            public T withFieldB(B b) {\r\n                this.b = b;\r\n                return self();\r\n            }\r\n            // abstract methods\r\n            public abstract AbstractClient build(); // returns a concrete Client\r\n            public abstract T self();               // returns a concrete implementation of ClientBuilder\r\n        }\r\n    }\r\n\r\nConcrete classes `ClientA` + `ABuilder`\r\n    \r\n    public class ClientA extends AbstractClient {\r\n        \r\n        private ClientA(ABuilder builder) {\r\n            super(builder);\r\n        }\r\n        \r\n        // other constructors, getters, etc\r\n    \r\n        public static ABuilder builder() {\r\n            return new ABuilder();\r\n        }\r\n    \r\n        public static class ABuilder extends AbstractClient.ClientBuilder&lt;ABuilder&gt; {\r\n    \r\n            @Override\r\n            public ClientA build() {\r\n                return new ClientA(this);\r\n            }\r\n    \r\n            @Override\r\n            public ABuilder self() {\r\n                return this; // simply returning This instance of Builder\r\n            }\r\n        }\r\n    }\r\n\r\nConcrete classes `ClientB` + `BBuilder`\r\n    \r\n    public static class ClientB extends AbstractClient {\r\n        \r\n        protected C c;\r\n        protected D d;\r\n    \r\n        private ClientB(BBuilder builder) {\r\n            super(builder);\r\n            this.c = builder.c;\r\n            this.d = builder.d;\r\n        }\r\n        \r\n        // other constructors, getters, etc\r\n        \r\n        public static BBuilder builder() {\r\n            return new BBuilder();\r\n        }\r\n        \r\n        public static class BBuilder extends AbstractClient.ClientBuilder&lt;BBuilder&gt; {\r\n            protected C c;\r\n            protected D d;\r\n    \r\n            public BBuilder withFieldC(C c) {\r\n                this.c = c;\r\n                return self();\r\n            }\r\n    \r\n            public BBuilder withFieldD(D d) {\r\n                this.d = d;\r\n                return self();\r\n            }\r\n            \r\n            @Override\r\n            public ClientB build() {\r\n                return new ClientB(this);\r\n            }\r\n            \r\n            @Override\r\n            public BBuilder self() {\r\n                return this; // simply returning This instance of Builder\r\n            }\r\n        }\r\n    }\r\n\r\n***Usage example** (dummy classes A, B, C, D are not exposed, use the link below to see the code in action):*\r\n\r\n    public static void main(String[] args) {\r\n        ClientA clientA = ClientA.builder()\r\n            .withFieldA(new A(&quot;1&quot;))\r\n            .withFieldB(new B(&quot;Alice&quot;))\r\n            .build();\r\n        \r\n        ClientB clientB = ClientB.builder()\r\n            .withFieldA(new A(&quot;2&quot;))\r\n            .withFieldB(new B(&quot;Bob&quot;))\r\n            .withFieldC(new C(&quot;admin&quot;))\r\n            .withFieldD(new D(&quot;fooBar&quot;))\r\n            .build();\r\n    \r\n        System.out.println(clientA);\r\n        System.out.println(clientB);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nClientA{ a=A[a=1], b=B[b=Alice] }\r\nClientB{ a=A[a=2], b=B[b=Bob], c=C[c=admin], d=D[d=fooBar] }\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/ygH).","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>It's not possible to construct instances of <strong>different</strong> classes using the <strong>same</strong> Builder. As <em>@RDK</em> has pointed out in the comments you have to implement the Builder pattern for each of your classes.</p>\n<p>Builder might have the same hierarchy as the classes they are meant to instantiate. That would allow to reuse the functionality of the parent-builder.</p>\n<p>Below, I've provided a hierarchy of Builders inspired by the classic implementation from the <em><strong>&quot;Effective Java&quot;</strong></em> by Joshua Bloch (<em>a former Sun Microsystems employee, who led the design and implementation of many Java platform features, including the Java Collections Framework</em>).</p>\n<p>Firstly, it's worth noticing that using Builder with inheritance adds a bit of complexity because methods all methods of the Builder should be self-returning, i.e. in order to chain methods each method except <code>build()</code> returns <code>this</code> instance of Builder. But it should a concrete Builder, not it's parent type (because parent might be unaware of all the methods that child has declared).</p>\n<p>The answer to this problem would be a <a href=\"https://stackoverflow.com/questions/7354740/is-there-a-way-to-refer-to-the-current-type-with-a-type-variable\">self-referencing generic type</a>, in the <em>&quot;Effective Java&quot;</em>  a <em>generic type with a recursive type parameter</em>. Don't get intimidated, pause for a second and try to recall how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>java.lang.Enum</code></a> looks like. <code>Enum&lt;E extends Enum&lt;E&gt;&gt;</code> - that's an example of the self-reference, recursively pointing at a particular subclass of <code>java.lang.Enum</code>.</p>\n<p>Similarly, we need a generic builder referencing to itself <code>ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt;</code> and declaring a self-returning abstract method <code>self()</code> (which return an instance of <code>T</code>) that would be implemented by every concrete class.</p>\n<p><em><strong>Note:</strong> there's no need in enum <code>ClientType</code> to differentiate between <code>ClientA</code> and <code>ClientB</code>, since they are already <strong>different</strong> classes.</em></p>\n<p>That how implementation of an <code>AbstractClient</code> and two concrete client, each having static nested Builder might look like.</p>\n<p>Abstract classes <code>AbstractClient</code> + <code>ClientBuilder</code></p>\n<pre><code>public abstract class AbstractClient {\n    \n    protected ClientType type;\n    protected A a;\n    protected B b;\n    \n    protected AbstractClient(ClientBuilder&lt;?&gt; builder) {\n        this.a = builder.a;\n        this.b = builder.b;\n    }\n    \n    public static abstract class ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt; {\n        protected A a;\n        protected B b;\n        \n        public T withFieldA(A a) {\n            this.a = a;\n            return self();\n        }\n\n        public T withFieldB(B b) {\n            this.b = b;\n            return self();\n        }\n        // abstract methods\n        public abstract AbstractClient build(); // returns a concrete Client\n        public abstract T self();               // returns a concrete implementation of ClientBuilder\n    }\n}\n</code></pre>\n<p>Concrete classes <code>ClientA</code> + <code>ABuilder</code></p>\n<pre><code>public class ClientA extends AbstractClient {\n    \n    private ClientA(ABuilder builder) {\n        super(builder);\n    }\n    \n    // other constructors, getters, etc\n\n    public static ABuilder builder() {\n        return new ABuilder();\n    }\n\n    public static class ABuilder extends AbstractClient.ClientBuilder&lt;ABuilder&gt; {\n\n        @Override\n        public ClientA build() {\n            return new ClientA(this);\n        }\n\n        @Override\n        public ABuilder self() {\n            return this; // simply returning This instance of Builder\n        }\n    }\n}\n</code></pre>\n<p>Concrete classes <code>ClientB</code> + <code>BBuilder</code></p>\n<pre><code>public static class ClientB extends AbstractClient {\n    \n    protected C c;\n    protected D d;\n\n    private ClientB(BBuilder builder) {\n        super(builder);\n        this.c = builder.c;\n        this.d = builder.d;\n    }\n    \n    // other constructors, getters, etc\n    \n    public static BBuilder builder() {\n        return new BBuilder();\n    }\n    \n    public static class BBuilder extends AbstractClient.ClientBuilder&lt;BBuilder&gt; {\n        protected C c;\n        protected D d;\n\n        public BBuilder withFieldC(C c) {\n            this.c = c;\n            return self();\n        }\n\n        public BBuilder withFieldD(D d) {\n            this.d = d;\n            return self();\n        }\n        \n        @Override\n        public ClientB build() {\n            return new ClientB(this);\n        }\n        \n        @Override\n        public BBuilder self() {\n            return this; // simply returning This instance of Builder\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Usage example</strong> (dummy classes A, B, C, D are not exposed, use the link below to see the code in action):</em></p>\n<pre><code>public static void main(String[] args) {\n    ClientA clientA = ClientA.builder()\n        .withFieldA(new A(&quot;1&quot;))\n        .withFieldB(new B(&quot;Alice&quot;))\n        .build();\n    \n    ClientB clientB = ClientB.builder()\n        .withFieldA(new A(&quot;2&quot;))\n        .withFieldB(new B(&quot;Bob&quot;))\n        .withFieldC(new C(&quot;admin&quot;))\n        .withFieldD(new D(&quot;fooBar&quot;))\n        .build();\n\n    System.out.println(clientA);\n    System.out.println(clientB);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>ClientA{ a=A[a=1], b=B[b=Alice] }\nClientB{ a=A[a=2], b=B[b=Bob], c=C[c=admin], d=D[d=fooBar] }\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/ygH\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666947098,"creation_date":1666947098,"answer_id":74232831,"question_id":74212433,"body_markdown":"Another example that I like. The idea here is, there are several kind of &quot;Root&quot; [A,B,C], each with their own attributes.  At any point you can switch to a different Builder which gives you a different kind of &quot;Root&quot; with common behaviours stored in AbstractBuilder.\r\n\r\nIt is also possible that they inherit each other and similarly their builders can also inherit each other.\r\n\r\n    abstract class AbstractBuilder {\r\n        protected String common;\r\n        \r\n        public AbstractBuilder withCommon(String common){\r\n            this.common = common;\r\n            return this;\r\n        }\r\n    \r\n        public abstract Root build();\r\n        public A.BuilderA asBuilderA(){\r\n            return new A.BuilderA(common);\r\n        }\r\n    \r\n        public B.BuilderB asBuilderB(){\r\n            return new B.BuilderB(common);\r\n        }\r\n    \r\n        public C.BuilderC asBuilderC(){\r\n            return new C.BuilderC(common);\r\n        }\r\n    }\r\n    abstract class Root{\r\n        private final String common;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Root{&quot; +\r\n                    &quot;common=&#39;&quot; + common + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        Root(String common) {\r\n            this.common = common;\r\n        }\r\n    }\r\n    class A extends Root {\r\n        private final String a;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;A{&quot; +\r\n                    &quot;a=&#39;&quot; + a + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public A(String common, String a) {\r\n            super(common);\r\n            this.a = a;\r\n        }\r\n        public static class BuilderA extends AbstractBuilder {\r\n            protected String a;\r\n    \r\n            public BuilderA(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n    \r\n            public BuilderA withA(String a){\r\n                this.a = a;\r\n                return this;\r\n            }\r\n    \r\n            public A build(){\r\n                return new A(common, a);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class B  extends Root {\r\n        private final String b;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;B{&quot; +\r\n                    &quot;b=&#39;&quot; + b + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public B(String common, String b) {\r\n            super(common);\r\n            this.b = b;\r\n        }\r\n        public static class BuilderB extends AbstractBuilder {\r\n            protected String b;\r\n            \r\n            public BuilderB(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n            public BuilderB withB(String b){\r\n                this.b = b;\r\n                return this;\r\n            }\r\n    \r\n            public B build(){\r\n                return new B(common, b);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class C extends Root {\r\n        private final String c;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;C{&quot; +\r\n                    &quot;c=&#39;&quot; + c + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public C(String common, String c) {\r\n            super(common);\r\n            this.c = c;\r\n        }\r\n        public static class BuilderC extends AbstractBuilder {\r\n            protected String c;\r\n    \r\n            public BuilderC(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n            public BuilderC withC(String c){\r\n                this.c = c;\r\n                return this;\r\n            }\r\n    \r\n            public C build(){\r\n                return new C(common, c);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class BuilderExample {\r\n    \r\n        public static void main(String[] args) {\r\n            A.BuilderA builderA = new A.BuilderA(&quot;common&quot;).withA(&quot;a&quot;)\r\n                    .asBuilderB().withB(&quot;b&quot;)\r\n                    .asBuilderC().withC(&quot;c&quot;)\r\n                    .asBuilderA();\r\n            System.out.println(builderA.build()); //A{a=&#39;null&#39;} Root{common=&#39;common&#39;}\r\n            System.out.println(builderA.withA(&quot;aa&quot;).build()); //A{a=&#39;aa&#39;} Root{common=&#39;common&#39;}\r\n            System.out.println(builderA.asBuilderB().withB(&quot;bb&quot;).build()); //B{b=&#39;bb&#39;} Root{common=&#39;common&#39;}\r\n        }\r\n    }","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>Another example that I like. The idea here is, there are several kind of &quot;Root&quot; [A,B,C], each with their own attributes.  At any point you can switch to a different Builder which gives you a different kind of &quot;Root&quot; with common behaviours stored in AbstractBuilder.</p>\n<p>It is also possible that they inherit each other and similarly their builders can also inherit each other.</p>\n<pre><code>abstract class AbstractBuilder {\n    protected String common;\n    \n    public AbstractBuilder withCommon(String common){\n        this.common = common;\n        return this;\n    }\n\n    public abstract Root build();\n    public A.BuilderA asBuilderA(){\n        return new A.BuilderA(common);\n    }\n\n    public B.BuilderB asBuilderB(){\n        return new B.BuilderB(common);\n    }\n\n    public C.BuilderC asBuilderC(){\n        return new C.BuilderC(common);\n    }\n}\nabstract class Root{\n    private final String common;\n\n    @Override\n    public String toString() {\n        return &quot;Root{&quot; +\n                &quot;common='&quot; + common + '\\'' +\n                '}';\n    }\n\n    Root(String common) {\n        this.common = common;\n    }\n}\nclass A extends Root {\n    private final String a;\n\n    @Override\n    public String toString() {\n        return &quot;A{&quot; +\n                &quot;a='&quot; + a + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public A(String common, String a) {\n        super(common);\n        this.a = a;\n    }\n    public static class BuilderA extends AbstractBuilder {\n        protected String a;\n\n        public BuilderA(String common) {\n            super();\n            withCommon(common);\n        }\n\n        public BuilderA withA(String a){\n            this.a = a;\n            return this;\n        }\n\n        public A build(){\n            return new A(common, a);\n        }\n    }\n}\n\nclass B  extends Root {\n    private final String b;\n\n    @Override\n    public String toString() {\n        return &quot;B{&quot; +\n                &quot;b='&quot; + b + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public B(String common, String b) {\n        super(common);\n        this.b = b;\n    }\n    public static class BuilderB extends AbstractBuilder {\n        protected String b;\n        \n        public BuilderB(String common) {\n            super();\n            withCommon(common);\n        }\n        public BuilderB withB(String b){\n            this.b = b;\n            return this;\n        }\n\n        public B build(){\n            return new B(common, b);\n        }\n    }\n}\n\nclass C extends Root {\n    private final String c;\n\n    @Override\n    public String toString() {\n        return &quot;C{&quot; +\n                &quot;c='&quot; + c + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public C(String common, String c) {\n        super(common);\n        this.c = c;\n    }\n    public static class BuilderC extends AbstractBuilder {\n        protected String c;\n\n        public BuilderC(String common) {\n            super();\n            withCommon(common);\n        }\n        public BuilderC withC(String c){\n            this.c = c;\n            return this;\n        }\n\n        public C build(){\n            return new C(common, c);\n        }\n    }\n}\n\npublic class BuilderExample {\n\n    public static void main(String[] args) {\n        A.BuilderA builderA = new A.BuilderA(&quot;common&quot;).withA(&quot;a&quot;)\n                .asBuilderB().withB(&quot;b&quot;)\n                .asBuilderC().withC(&quot;c&quot;)\n                .asBuilderA();\n        System.out.println(builderA.build()); //A{a='null'} Root{common='common'}\n        System.out.println(builderA.withA(&quot;aa&quot;).build()); //A{a='aa'} Root{common='common'}\n        System.out.println(builderA.asBuilderB().withB(&quot;bb&quot;).build()); //B{b='bb'} Root{common='common'}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15114022,"reputation":1,"user_id":16990872,"display_name":"Jackson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666982205,"creation_date":1666808061,"question_id":74212433,"body_markdown":"I have created a builder for client types `A` and `B`.\r\n\r\nClient TypeA has two fields `fieldA` and `fieldB` (*see below*), while client TypeB has two additional fields. How can I make sure field `C` and `D` are only accessible to client TypeB, i.e. client TypeA should **not** take field `fieldC` and `fieldD` when creating it. \r\n\r\nConstruction client `A`:\r\n\r\n```\r\nclient.builder()\r\n    .withClientType(ClientType.TypeA)\r\n    .withFieldA(fieldA)   \r\n    .withFieldB(fieldB)\r\n    .build();\r\n```\r\n\r\nConstruction client `B`:\r\n\r\n```\r\nclient.builder()\r\n    .withClientType(ClientType.TypeB)\r\n    .withFieldA(fieldA)   \r\n    .withFieldB(fieldB)\r\n    .withFieldC(fieldC)\r\n    .withFieldD(fieldD)\r\n    .build();\r\n```\r\n\r\nWhat&#39;s the correct usage builder pattern in this case?","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>I have created a builder for client types <code>A</code> and <code>B</code>.</p>\n<p>Client TypeA has two fields <code>fieldA</code> and <code>fieldB</code> (<em>see below</em>), while client TypeB has two additional fields. How can I make sure field <code>C</code> and <code>D</code> are only accessible to client TypeB, i.e. client TypeA should <strong>not</strong> take field <code>fieldC</code> and <code>fieldD</code> when creating it.</p>\n<p>Construction client <code>A</code>:</p>\n<pre><code>client.builder()\n    .withClientType(ClientType.TypeA)\n    .withFieldA(fieldA)   \n    .withFieldB(fieldB)\n    .build();\n</code></pre>\n<p>Construction client <code>B</code>:</p>\n<pre><code>client.builder()\n    .withClientType(ClientType.TypeB)\n    .withFieldA(fieldA)   \n    .withFieldB(fieldB)\n    .withFieldC(fieldC)\n    .withFieldD(fieldD)\n    .build();\n</code></pre>\n<p>What's the correct usage builder pattern in this case?</p>\n"},{"tags":["java","selenium","testing","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666981765,"creation_date":1666973792,"answer_id":74238157,"question_id":74237983,"body_markdown":"After researching and experimenting I got this solution -\r\n\r\nI have added this code to set &quot;Insecure origins treated as secure&quot; while initializing chromedriver and its options.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--unsafely-treat-insecure-origin-as-secure=http://myurl.com/&quot;);\r\n\r\nI may have deleted this question but thought its better to answer so that others can use it. Hope it helped.","title":"Chromedriver not detecting GPS location as &quot;Insecure origins treated as secure&quot; not set","body":"<p>After researching and experimenting I got this solution -</p>\n<p>I have added this code to set &quot;Insecure origins treated as secure&quot; while initializing chromedriver and its options.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--unsafely-treat-insecure-origin-as-secure=http://myurl.com/&quot;);\n</code></pre>\n<p>I may have deleted this question but thought its better to answer so that others can use it. Hope it helped.</p>\n"}],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666981765,"creation_date":1666972958,"question_id":74237983,"body_markdown":"I am using chromedriver with chrome version - &quot;**Version 107.0.5304.88 (Official Build) (64-bit) with Windows 10**&quot; and I am using website where it will automatically detect GPS location. This is not happening as we have to set &quot;Insecure origins treated as secure&quot; flag. When i pause execution and set the &quot;Insecure origins treated as secure&quot; it worked fine.\r\n\r\nFor Automation testing I am using **Java** with **TestNG** and need to know how can i enable/Set &quot;Insecure origins treated as secure&quot; using java code. Something like chrome.option(--Insecure origins treated as secure, &#39;myurl&#39;).\r\n\r\nNote- I have tried giving command line argument in the IntelliJ IDEA but it didn&#39;t work.","title":"Chromedriver not detecting GPS location as &quot;Insecure origins treated as secure&quot; not set","body":"<p>I am using chromedriver with chrome version - &quot;<strong>Version 107.0.5304.88 (Official Build) (64-bit) with Windows 10</strong>&quot; and I am using website where it will automatically detect GPS location. This is not happening as we have to set &quot;Insecure origins treated as secure&quot; flag. When i pause execution and set the &quot;Insecure origins treated as secure&quot; it worked fine.</p>\n<p>For Automation testing I am using <strong>Java</strong> with <strong>TestNG</strong> and need to know how can i enable/Set &quot;Insecure origins treated as secure&quot; using java code. Something like chrome.option(--Insecure origins treated as secure, 'myurl').</p>\n<p>Note- I have tried giving command line argument in the IntelliJ IDEA but it didn't work.</p>\n"},{"tags":["java","unit-testing","junit4"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1627643874,"post_id":68589847,"comment_id":121217198,"body_markdown":"Is it that you can’t test `categorizeQuery()` because you can’t mock `System.in`?","body":"Is it that you can’t test <code>categorizeQuery()</code> because you can’t mock <code>System.in</code>?"},{"owner":{"account_id":19242178,"reputation":35,"user_id":14061959,"display_name":"N Th"},"score":0,"creation_date":1627644623,"post_id":68589847,"comment_id":121217458,"body_markdown":"Actually, I have problem with writing test for my functions... and i wrote this line   ```System.setIn(new ByteArrayInputStream(query.getBytes())); ```   for mock ```System.in```","body":"Actually, I have problem with writing test for my functions... and i wrote this line   <code>System.setIn(new ByteArrayInputStream(query.getBytes())); </code>   for mock <code>System.in</code>"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627647176,"creation_date":1627647176,"answer_id":68590769,"question_id":68589847,"body_markdown":"Your problem is the result of a design flaw in your code structure.\r\n\r\n`categorizeQuery()` mixes multiple different tasks:\r\n\r\n - getting raw input from the user (`scanner.nextLine()`),\r\n - parsing input into program-usable form (split into array),\r\n - processing the search words (by calling `separateBySign()`).\r\n\r\n(The same applies to `separateBySign()` as well.)\r\n\r\nSuch a method is not only hard to unit-test, but also hard to maintain in the long run.\r\n\r\nChange your program structure so that all your steps return a result, and have a top-level method call all the steps one-by-one, passing the results from the previous step as parameter into the next one. Then it&#39;s easy to unit-test the individual steps. You know what the method is to return if you pass it some given parameters. And if one test fails, you know exactly what processing step is responsible.\r\n\r\nThen, the fact fades away that mocking `System.in` isn&#39;t easy. The only step left using `System.in` is the method to read a raw line of text from, and if this one-liner doesn&#39;t get tested by your unit test, it&#39;s okay - it&#39;s well tested in the JRE release process.","title":"write test for scanning input in function","body":"<p>Your problem is the result of a design flaw in your code structure.</p>\n<p><code>categorizeQuery()</code> mixes multiple different tasks:</p>\n<ul>\n<li>getting raw input from the user (<code>scanner.nextLine()</code>),</li>\n<li>parsing input into program-usable form (split into array),</li>\n<li>processing the search words (by calling <code>separateBySign()</code>).</li>\n</ul>\n<p>(The same applies to <code>separateBySign()</code> as well.)</p>\n<p>Such a method is not only hard to unit-test, but also hard to maintain in the long run.</p>\n<p>Change your program structure so that all your steps return a result, and have a top-level method call all the steps one-by-one, passing the results from the previous step as parameter into the next one. Then it's easy to unit-test the individual steps. You know what the method is to return if you pass it some given parameters. And if one test fails, you know exactly what processing step is responsible.</p>\n<p>Then, the fact fades away that mocking <code>System.in</code> isn't easy. The only step left using <code>System.in</code> is the method to read a raw line of text from, and if this one-liner doesn't get tested by your unit test, it's okay - it's well tested in the JRE release process.</p>\n"}],"owner":{"account_id":19242178,"reputation":35,"user_id":14061959,"display_name":"N Th"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1628017719,"accepted_answer_id":68590769,"answer_count":1,"score":-2,"last_activity_date":1666981684,"creation_date":1627642845,"question_id":68589847,"body_markdown":"This is my code, and I can&#39;t write a test for scanning input in the second function. The first function is for separate words that they contain + or - or &quot; &quot;. The second function is for categorizing query, for example you give &quot;mom dad +sister +sisi -brother -bro&quot;  and then split the word by &quot; &quot; and then calling the first function.\r\n   \r\n\r\n```\r\npackage Phase2;\r\nimport Phase2.QueryKeeper;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Scanner;\r\nimport java.util.Set;\r\n\r\npublic class QueryCategorizer {\r\n\r\n    private final QueryKeeper queryKeeper = new QueryKeeper();\r\n\r\n    private void separateBySign(String[] query) {\r\n        Set&lt;String&gt; plusContain = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; minusContain = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; withoutContain = new HashSet&lt;&gt;();\r\n\r\n        for (String queryIterator : query) {\r\n            if (queryIterator.contains(&quot;+&quot;)) {\r\n                plusContain.add(queryIterator.substring(1));\r\n            } else if (queryIterator.contains(&quot;-&quot;)) {\r\n                minusContain.add(queryIterator.substring(1));\r\n            } else {\r\n                withoutContain.add(queryIterator);\r\n            }\r\n        }\r\n        queryKeeper.addAllSets(plusContain,minusContain,withoutContain);\r\n\r\n    }\r\n\r\n    public void categorizeQuery() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a query&quot;);\r\n        String query = scanner.nextLine();\r\n        separateBySign(query.split(&quot; &quot;));\r\n    }\r\n\r\n    public QueryKeeper getQueryKeeper() {\r\n        return queryKeeper;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n ","title":"write test for scanning input in function","body":"<p>This is my code, and I can't write a test for scanning input in the second function. The first function is for separate words that they contain + or - or &quot; &quot;. The second function is for categorizing query, for example you give &quot;mom dad +sister +sisi -brother -bro&quot;  and then split the word by &quot; &quot; and then calling the first function.</p>\n<pre><code>package Phase2;\nimport Phase2.QueryKeeper;\n\nimport java.util.HashSet;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class QueryCategorizer {\n\n    private final QueryKeeper queryKeeper = new QueryKeeper();\n\n    private void separateBySign(String[] query) {\n        Set&lt;String&gt; plusContain = new HashSet&lt;&gt;();\n        Set&lt;String&gt; minusContain = new HashSet&lt;&gt;();\n        Set&lt;String&gt; withoutContain = new HashSet&lt;&gt;();\n\n        for (String queryIterator : query) {\n            if (queryIterator.contains(&quot;+&quot;)) {\n                plusContain.add(queryIterator.substring(1));\n            } else if (queryIterator.contains(&quot;-&quot;)) {\n                minusContain.add(queryIterator.substring(1));\n            } else {\n                withoutContain.add(queryIterator);\n            }\n        }\n        queryKeeper.addAllSets(plusContain,minusContain,withoutContain);\n\n    }\n\n    public void categorizeQuery() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Please enter a query&quot;);\n        String query = scanner.nextLine();\n        separateBySign(query.split(&quot; &quot;));\n    }\n\n    public QueryKeeper getQueryKeeper() {\n        return queryKeeper;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667034229,"post_id":74237567,"comment_id":131078640,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"tags":[],"owner":{"account_id":14366458,"reputation":89,"user_id":12750908,"display_name":"Samer Kasseb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666981348,"creation_date":1666981348,"answer_id":74239480,"question_id":74237567,"body_markdown":"Just upload the image to a firebase Storage and save its url in realtime database \r\n \r\n","title":"Uploading Image into Realtime Database Android Studio","body":"<p>Just upload the image to a firebase Storage and save its url in realtime database</p>\n"}],"owner":{"account_id":26679318,"reputation":11,"user_id":20289498,"display_name":"The Ach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666981348,"creation_date":1666970816,"question_id":74237567,"body_markdown":"I am building app that asks User(Visitor) to: upload image, name, ic, phone number, visit reason, date, time and ticket generated.\r\n\r\nFor now all data inserting into Realtime database successfully except image. User can choose the image and upload it into Firebase Storage successfully but I cant pass that image among the User data which is in Realtime Database.\r\n\r\nWhen user clicks &quot;send request&quot; button, all other data (name, ic, phone number...) uploading into realtime db and image uploads into storage. But I couldnt implement it to pass the image into Realtime Database.\r\n\r\nAnd I couldnt use StartActivityForResult method thats why didnt use\r\n\r\nThe uploaded image should be among those data as visitor Image, which under visitor, ticket\r\n[![The uploaded image should be among those data, which under visitor, ticket](https://i.stack.imgur.com/tMFKz.png)](https://i.stack.imgur.com/tMFKz.png)\r\n\r\n```\r\npublic class ActivityRequestVisit extends AppCompatActivity {\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://mydblinksampleforstackoverflowpostq.com&quot;);\r\n\r\n    ImageView imageView;\r\n\r\n    FirebaseStorage storage;\r\n\r\n    Uri imageUri;\r\n\r\n    Button SubmitRequestBtn;\r\n\r\n    DatePickerDialog pickerDate;\r\n\r\n    TextView ticketGenerated;\r\n    Button btnGenerateTicket;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_request_visit);\r\n\r\n        SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\r\n        imageView = findViewById(R.id.VisitorImageId);\r\n\r\n        storage = FirebaseStorage.getInstance();\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mGetContent.launch(&quot;image/*&quot;);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        //ticket generator starts here\r\n        ticketGenerated = findViewById(R.id.GeneratedVisitorTicketId);\r\n        btnGenerateTicket = findViewById(R.id.GenerateTicketBtnId);\r\n\r\n\r\n        btnGenerateTicket.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random random = new Random();\r\n                int generatedTicket = random.nextInt(9999999);\r\n                ticketGenerated.setText(Integer.toString(generatedTicket));\r\n            }\r\n        });\r\n        //ticket generator ends here\r\n\r\n        Toast.makeText(ActivityRequestVisit.this,&quot;Send your Request Visit&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        final EditText VisitorName = findViewById(R.id.VisitorNameId);\r\n        final EditText VisitorIC = findViewById(R.id.VisitorICId);\r\n        final EditText VisitorPhone = findViewById(R.id.VisitorPhoneId);\r\n        final EditText VisitReason = findViewById(R.id.VisitReasonId);\r\n        final EditText VisitDate = findViewById(R.id.VisitDateId);\r\n        final EditText VisitTime = findViewById(R.id.VisitTimeId);\r\n        final EditText VisitorTicket = findViewById(R.id.VisitorTicketId);\r\n\r\n        //date n time picker starts here\r\n\r\n        //date picker\r\n        VisitDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kuala_Lumpur&quot;));\r\n                int chosenDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n                int chosenMonth = calendar.get(Calendar.MONTH);\r\n                int chosenYear = calendar.get(Calendar.YEAR);\r\n\r\n                //DatePicker dialog\r\n                pickerDate = new DatePickerDialog(ActivityRequestVisit.this, new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\r\n                        VisitDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\r\n                    }\r\n                }, chosenYear, chosenMonth, chosenDay);\r\n\r\n                pickerDate.getDatePicker().setMinDate(System.currentTimeMillis() - 1000);\r\n                pickerDate.show();\r\n            }\r\n        });\r\n\r\n\r\n        //time picker\r\n        VisitTime.setOnClickListener(new View.OnClickListener() {\r\n            int chosenHour;\r\n            int chosenMinute;\r\n            @Override\r\n            public void onClick(View view) {\r\n                TimePickerDialog timePickerDialog = new TimePickerDialog(\r\n                        ActivityRequestVisit.this,\r\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\r\n                        new TimePickerDialog.OnTimeSetListener() {\r\n                            @Override\r\n                            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\r\n                                chosenHour = hourOfDay;\r\n                                chosenMinute = minute;\r\n                                //store time into string\r\n                                String time = chosenHour + &quot;:&quot; + chosenMinute;\r\n\r\n                                //Initialize 24 h time format\r\n                                SimpleDateFormat f24Hours = new SimpleDateFormat(\r\n                                        &quot;HH:mm&quot;\r\n                                );\r\n                                try {\r\n                                    Date date = f24Hours.parse(time);\r\n                                    //Initialize 12 h time format\r\n                                    SimpleDateFormat f12Hours = new SimpleDateFormat(\r\n                                            &quot;hh:mm aa&quot;\r\n                                    );\r\n                                    //Set selected time on text view\r\n                                    VisitTime.setText(f12Hours.format(date));\r\n                                } catch (ParseException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        },12,0, false\r\n                );\r\n                timePickerDialog.updateTime(chosenHour,chosenMinute);\r\n                timePickerDialog.show();\r\n            }\r\n        });\r\n\r\n\r\n//date n time picker ends here\r\n\r\n        final Button SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\r\n        SubmitRequestBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                uploadImage();\r\n\r\n//Obtain entered data\r\n                final String name = VisitorName.getText().toString();\r\n                final String ic = VisitorIC.getText().toString();\r\n                final String phone = VisitorPhone.getText().toString();\r\n                final String reason = VisitReason.getText().toString();\r\n                final String dateV = VisitDate.getText().toString();\r\n                final String timeV = VisitTime.getText().toString();\r\n                final String ticket = VisitorTicket.getText().toString();\r\n\r\n                if (TextUtils.isEmpty(name)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your name&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorName.setError(&quot;Name is required!&quot;);\r\n                    VisitorName.requestFocus();\r\n                } else if (TextUtils.isEmpty(ic)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your IC&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorIC.setError(&quot;IC is required!&quot;);\r\n                    VisitorIC.requestFocus();\r\n                } else if (TextUtils.isEmpty(phone)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your phone number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorPhone.setError(&quot;Phone number is required!&quot;);\r\n                    VisitorPhone.requestFocus();\r\n                } else if (phone.length() != 10) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please re-enter your phone number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorPhone.setError(&quot;Please enter valid phone number!&quot;);\r\n                    VisitorPhone.requestFocus();\r\n                } else if (TextUtils.isEmpty(reason)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter your visit reason&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitReason.setError(&quot;Visit reason is required!&quot;);\r\n                    VisitReason.requestFocus();\r\n                } else if (TextUtils.isEmpty(dateV)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter date&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitDate.setError(&quot;Date is required!&quot;);\r\n                    VisitDate.requestFocus();\r\n                } else if (TextUtils.isEmpty(timeV)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter time&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitTime.setError(&quot;Time is required!&quot;);\r\n                    VisitTime.requestFocus();\r\n                }else if (TextUtils.isEmpty(ticket)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter ticket number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorTicket.setError(&quot;Time is required!&quot;);\r\n                    VisitorTicket.requestFocus();\r\n                } else {\r\n\r\n                    databaseReference.child(&quot;visitors&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                            if(snapshot.hasChild(ticket)){\r\n                                //check for unique ticket number\r\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Please Generate Other Ticket Number Cuz this one is exist&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            else {\r\n                                //sending data to firebase realtime db\r\n                                //used ticket number as unique identity and other data comes under it\r\n\r\n\r\n\r\n\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor name&quot;).setValue(name);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor ic&quot;).setValue(ic);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor phone&quot;).setValue(phone);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit reason&quot;).setValue(reason);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit date&quot;).setValue(dateV);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit time&quot;).setValue(timeV);\r\n\r\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Request Sent Successfully&quot;, Toast.LENGTH_LONG).show();\r\n                                finish();\r\n                            }\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n    //upload image into storage functions starts here\r\n    private void uploadImage() {\r\n\r\n        if (imageUri != null) {\r\n            StorageReference reference = storage.getReference().child(&quot;images/&quot; + UUID.randomUUID().toString());\r\n\r\n\r\n            reference.putFile(imageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Toast.makeText(ActivityRequestVisit.this,&quot;Image Uploaded&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        Toast.makeText(ActivityRequestVisit.this,task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n    ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n            new ActivityResultCallback&lt;Uri&gt;() {\r\n                @Override\r\n                public void onActivityResult(Uri result) {\r\n                    if (result != null) {\r\n                        imageView.setImageURI(result);\r\n                        imageUri = result;\r\n                    }\r\n                }\r\n            });\r\n\r\n    //upload image into storage functions ends here\r\n\r\n}\r\n```\r\n","title":"Uploading Image into Realtime Database Android Studio","body":"<p>I am building app that asks User(Visitor) to: upload image, name, ic, phone number, visit reason, date, time and ticket generated.</p>\n<p>For now all data inserting into Realtime database successfully except image. User can choose the image and upload it into Firebase Storage successfully but I cant pass that image among the User data which is in Realtime Database.</p>\n<p>When user clicks &quot;send request&quot; button, all other data (name, ic, phone number...) uploading into realtime db and image uploads into storage. But I couldnt implement it to pass the image into Realtime Database.</p>\n<p>And I couldnt use StartActivityForResult method thats why didnt use</p>\n<p>The uploaded image should be among those data as visitor Image, which under visitor, ticket\n<a href=\"https://i.stack.imgur.com/tMFKz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMFKz.png\" alt=\"The uploaded image should be among those data, which under visitor, ticket\" /></a></p>\n<pre><code>public class ActivityRequestVisit extends AppCompatActivity {\n\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://mydblinksampleforstackoverflowpostq.com&quot;);\n\n    ImageView imageView;\n\n    FirebaseStorage storage;\n\n    Uri imageUri;\n\n    Button SubmitRequestBtn;\n\n    DatePickerDialog pickerDate;\n\n    TextView ticketGenerated;\n    Button btnGenerateTicket;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_request_visit);\n\n        SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\n        imageView = findViewById(R.id.VisitorImageId);\n\n        storage = FirebaseStorage.getInstance();\n\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mGetContent.launch(&quot;image/*&quot;);\n\n            }\n        });\n\n\n        //ticket generator starts here\n        ticketGenerated = findViewById(R.id.GeneratedVisitorTicketId);\n        btnGenerateTicket = findViewById(R.id.GenerateTicketBtnId);\n\n\n        btnGenerateTicket.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Random random = new Random();\n                int generatedTicket = random.nextInt(9999999);\n                ticketGenerated.setText(Integer.toString(generatedTicket));\n            }\n        });\n        //ticket generator ends here\n\n        Toast.makeText(ActivityRequestVisit.this,&quot;Send your Request Visit&quot;, Toast.LENGTH_LONG).show();\n\n        final EditText VisitorName = findViewById(R.id.VisitorNameId);\n        final EditText VisitorIC = findViewById(R.id.VisitorICId);\n        final EditText VisitorPhone = findViewById(R.id.VisitorPhoneId);\n        final EditText VisitReason = findViewById(R.id.VisitReasonId);\n        final EditText VisitDate = findViewById(R.id.VisitDateId);\n        final EditText VisitTime = findViewById(R.id.VisitTimeId);\n        final EditText VisitorTicket = findViewById(R.id.VisitorTicketId);\n\n        //date n time picker starts here\n\n        //date picker\n        VisitDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                final Calendar calendar = Calendar.getInstance();\n                calendar.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kuala_Lumpur&quot;));\n                int chosenDay = calendar.get(Calendar.DAY_OF_MONTH);\n                int chosenMonth = calendar.get(Calendar.MONTH);\n                int chosenYear = calendar.get(Calendar.YEAR);\n\n                //DatePicker dialog\n                pickerDate = new DatePickerDialog(ActivityRequestVisit.this, new DatePickerDialog.OnDateSetListener() {\n                    @Override\n                    public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\n                        VisitDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\n                    }\n                }, chosenYear, chosenMonth, chosenDay);\n\n                pickerDate.getDatePicker().setMinDate(System.currentTimeMillis() - 1000);\n                pickerDate.show();\n            }\n        });\n\n\n        //time picker\n        VisitTime.setOnClickListener(new View.OnClickListener() {\n            int chosenHour;\n            int chosenMinute;\n            @Override\n            public void onClick(View view) {\n                TimePickerDialog timePickerDialog = new TimePickerDialog(\n                        ActivityRequestVisit.this,\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\n                        new TimePickerDialog.OnTimeSetListener() {\n                            @Override\n                            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\n                                chosenHour = hourOfDay;\n                                chosenMinute = minute;\n                                //store time into string\n                                String time = chosenHour + &quot;:&quot; + chosenMinute;\n\n                                //Initialize 24 h time format\n                                SimpleDateFormat f24Hours = new SimpleDateFormat(\n                                        &quot;HH:mm&quot;\n                                );\n                                try {\n                                    Date date = f24Hours.parse(time);\n                                    //Initialize 12 h time format\n                                    SimpleDateFormat f12Hours = new SimpleDateFormat(\n                                            &quot;hh:mm aa&quot;\n                                    );\n                                    //Set selected time on text view\n                                    VisitTime.setText(f12Hours.format(date));\n                                } catch (ParseException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        },12,0, false\n                );\n                timePickerDialog.updateTime(chosenHour,chosenMinute);\n                timePickerDialog.show();\n            }\n        });\n\n\n//date n time picker ends here\n\n        final Button SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\n        SubmitRequestBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                uploadImage();\n\n//Obtain entered data\n                final String name = VisitorName.getText().toString();\n                final String ic = VisitorIC.getText().toString();\n                final String phone = VisitorPhone.getText().toString();\n                final String reason = VisitReason.getText().toString();\n                final String dateV = VisitDate.getText().toString();\n                final String timeV = VisitTime.getText().toString();\n                final String ticket = VisitorTicket.getText().toString();\n\n                if (TextUtils.isEmpty(name)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your name&quot;, Toast.LENGTH_LONG).show();\n                    VisitorName.setError(&quot;Name is required!&quot;);\n                    VisitorName.requestFocus();\n                } else if (TextUtils.isEmpty(ic)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your IC&quot;, Toast.LENGTH_LONG).show();\n                    VisitorIC.setError(&quot;IC is required!&quot;);\n                    VisitorIC.requestFocus();\n                } else if (TextUtils.isEmpty(phone)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your phone number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorPhone.setError(&quot;Phone number is required!&quot;);\n                    VisitorPhone.requestFocus();\n                } else if (phone.length() != 10) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please re-enter your phone number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorPhone.setError(&quot;Please enter valid phone number!&quot;);\n                    VisitorPhone.requestFocus();\n                } else if (TextUtils.isEmpty(reason)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter your visit reason&quot;, Toast.LENGTH_LONG).show();\n                    VisitReason.setError(&quot;Visit reason is required!&quot;);\n                    VisitReason.requestFocus();\n                } else if (TextUtils.isEmpty(dateV)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter date&quot;, Toast.LENGTH_LONG).show();\n                    VisitDate.setError(&quot;Date is required!&quot;);\n                    VisitDate.requestFocus();\n                } else if (TextUtils.isEmpty(timeV)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter time&quot;, Toast.LENGTH_LONG).show();\n                    VisitTime.setError(&quot;Time is required!&quot;);\n                    VisitTime.requestFocus();\n                }else if (TextUtils.isEmpty(ticket)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter ticket number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorTicket.setError(&quot;Time is required!&quot;);\n                    VisitorTicket.requestFocus();\n                } else {\n\n                    databaseReference.child(&quot;visitors&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                            if(snapshot.hasChild(ticket)){\n                                //check for unique ticket number\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Please Generate Other Ticket Number Cuz this one is exist&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            else {\n                                //sending data to firebase realtime db\n                                //used ticket number as unique identity and other data comes under it\n\n\n\n\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor name&quot;).setValue(name);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor ic&quot;).setValue(ic);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor phone&quot;).setValue(phone);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit reason&quot;).setValue(reason);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit date&quot;).setValue(dateV);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit time&quot;).setValue(timeV);\n\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Request Sent Successfully&quot;, Toast.LENGTH_LONG).show();\n                                finish();\n                            }\n\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n\n                }\n\n\n            }\n\n        });\n\n    }\n    //upload image into storage functions starts here\n    private void uploadImage() {\n\n        if (imageUri != null) {\n            StorageReference reference = storage.getReference().child(&quot;images/&quot; + UUID.randomUUID().toString());\n\n\n            reference.putFile(imageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(ActivityRequestVisit.this,&quot;Image Uploaded&quot;, Toast.LENGTH_LONG).show();\n                    } else {\n                        Toast.makeText(ActivityRequestVisit.this,task.getException().getMessage(), Toast.LENGTH_LONG).show();\n\n                    }\n                }\n            });\n        }\n\n\n    }\n    ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\n            new ActivityResultCallback&lt;Uri&gt;() {\n                @Override\n                public void onActivityResult(Uri result) {\n                    if (result != null) {\n                        imageView.setImageURI(result);\n                        imageUri = result;\n                    }\n                }\n            });\n\n    //upload image into storage functions ends here\n\n}\n</code></pre>\n"},{"tags":["java","sql","xml","hibernate","exception"],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980601,"creation_date":1666980601,"answer_id":74239370,"question_id":74239065,"body_markdown":"1. You need to specify [cascade type](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-cascade) in your entities mapping:\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;answer&quot;)\r\npublic class Answer {\r\n        \r\n    @Id\r\n    private int aId;\r\n    private String answer;\r\n        \r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn\r\n    private Question question;\r\n\r\n    // ...\r\n}\r\n\r\n\r\n@Entity\r\n@Table(name=&quot;question&quot;)\r\npublic class Question {\r\n   \r\n    @Id\r\n    private int questionId;\r\n    private String question;\r\n       \r\n    @OneToOne(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL)\r\n    private Answer answer;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n2. As you use [bidirectional @OneToOne](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional), you should make both sides in-sync:\r\n\r\n``` java \r\nAnswer a1 = new Answer();\r\na1.setaId(180);\r\na1.setAnswer(&quot;my name is hafida&quot;);\r\n        \r\nQuestion q1 = new Question();\r\nq1.setQuestionId(3);\r\nq1.setQuestion(&quot;wht is your name?&quot;);\r\n\r\n// make both sides in-sync\r\na1.setQuestion(q1);\r\nq1.setAnswer(a1);\r\n```\r\n\r\n3. Then you can save it in this way:\r\n\r\n``` java\r\ns.save(q1);\r\n\r\n// you need not use s.save(a1);\r\n// a1 will be saved due to propagation of the q1 entity&#39;s state \r\n```","title":"Foreign key is null while using Hibernate One to One mapping","body":"<ol>\n<li>You need to specify <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-cascade\" rel=\"nofollow noreferrer\">cascade type</a> in your entities mapping:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;answer&quot;)\npublic class Answer {\n        \n    @Id\n    private int aId;\n    private String answer;\n        \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn\n    private Question question;\n\n    // ...\n}\n\n\n@Entity\n@Table(name=&quot;question&quot;)\npublic class Question {\n   \n    @Id\n    private int questionId;\n    private String question;\n       \n    @OneToOne(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL)\n    private Answer answer;\n\n    // ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>As you use <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional\" rel=\"nofollow noreferrer\">bidirectional @OneToOne</a>, you should make both sides in-sync:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Answer a1 = new Answer();\na1.setaId(180);\na1.setAnswer(&quot;my name is hafida&quot;);\n        \nQuestion q1 = new Question();\nq1.setQuestionId(3);\nq1.setQuestion(&quot;wht is your name?&quot;);\n\n// make both sides in-sync\na1.setQuestion(q1);\nq1.setAnswer(a1);\n</code></pre>\n<ol start=\"3\">\n<li>Then you can save it in this way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>s.save(q1);\n\n// you need not use s.save(a1);\n// a1 will be saved due to propagation of the q1 entity's state \n</code></pre>\n"}],"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666980943,"creation_date":1666978902,"question_id":74239065,"body_markdown":"I&#39;m trying to work with hibernate and I have a class question and a class answer, and there&#39;s One To One relation between them, the code is successfully running but the foreign key is null, I don&#39;t know why. Here&#39;s my code \r\n\r\n\r\n``` java\r\npackage io.com.learnHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;question&quot;)\r\npublic class Question {\r\n\r\n\t\r\n\t@Id\r\n\tprivate int questionId;\r\n\tprivate String question;\r\n\t\r\n\t\r\n\t@OneToOne(mappedBy = &quot;question&quot;)\r\n\tprivate Answer answer;\r\n\t\r\n\t\r\n\tpublic Question() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Question(int questionId, String question, io.com.learnHibernate.Answer answer) {\r\n\t\tsuper();\r\n\t\tthis.questionId = questionId;\r\n\t\tthis.question = question;\r\n\t\tanswer = answer;\r\n\t}\r\n\tpublic Answer getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\tpublic void setAnswer(Answer answer) {\r\n\t\tanswer = answer;\r\n\t}\r\n\tpublic int getQuestionId() {\r\n\t\treturn questionId;\r\n\t}\r\n\tpublic void setQuestionId(int questionId) {\r\n\t\tthis.questionId = questionId;\r\n\t}\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\tpublic void setQuestion(String question) {\r\n\t\tthis.question = question;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage io.com.learnHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;answer&quot;)\r\npublic class Answer {\r\n\t\r\n\t@Id\r\n\tprivate int aId;\r\n\tprivate String answer;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn\r\n\tprivate Question question ;\r\n\t\r\n\tpublic Answer() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Answer(int aId, String answer) {\r\n\t\tsuper();\r\n\t\tthis.aId = aId;\r\n\t\tthis.answer = answer;\r\n\t}\r\n\tpublic int getaId() {\r\n\t\treturn aId;\r\n\t}\r\n\tpublic void setaId(int aId) {\r\n\t\tthis.aId = aId;\r\n\t}\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\tpublic void setAnswer(String answer) {\r\n\t\tthis.answer = answer;\r\n\t}\r\n}\r\n```\r\n\r\nmy `hibernate.cfg.xml` file \r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM \r\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n   &lt;session-factory&gt;\r\n   \r\n      &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\r\n      \r\n      &lt;!-- Assume test is the database name --&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;!-- List of XML mapping files --&gt;\r\n                 &lt;mapping  class= &quot;io.com.learnHibernate.Question&quot;/&gt;\r\n      &lt;mapping  class= &quot;io.com.learnHibernate.Answer&quot;/&gt;\r\n\r\n     \r\n   &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nand my main function\r\n\r\n\r\n```java\r\npackage io.com.learnHibernate;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.*;\r\n\r\nimport com.mysql.cj.xdevapi.SessionFactory;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n       //configuration\r\n    \tConfiguration conf=new Configuration();\r\n    \tconf.configure(&quot;Hibernate.cfg.xml&quot;);\r\n    \torg.hibernate.SessionFactory factory=conf.buildSessionFactory();\r\n    \t\r\n    \t\r\n//creating answer \r\n    \t\r\n    \tAnswer a1=new Answer();\r\n    \ta1.setaId(180);\r\n    \ta1.setAnswer(&quot;my name is hafida&quot;);\r\n    \t//creating question\r\n    \t\r\n    \tQuestion q1=new Question();\r\n    \tq1.setQuestionId(3);\r\n    \tq1.setQuestion(&quot;wht is your name?&quot;);\r\n    \tq1.setAnswer(a1);\r\n    \t\r\n    \t//session \r\n    \tSession s=factory.openSession();\r\n    \tTransaction tx=s.beginTransaction();\r\n    \t\r\n    \t//save\r\n    \ts.save(q1);\r\n    \t  s.save(a1);\r\n\r\n    \ttx.commit();\r\n    //\ts.close();\r\n    //\tfactory.close();\r\n    \t\t\r\n    }\r\n}\r\n```\r\n\r\nI expected to have the value of the foreign key inserted, but it&#39;s null","title":"Foreign key is null while using Hibernate One to One mapping","body":"<p>I'm trying to work with hibernate and I have a class question and a class answer, and there's One To One relation between them, the code is successfully running but the foreign key is null, I don't know why. Here's my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;question&quot;)\npublic class Question {\n\n    \n    @Id\n    private int questionId;\n    private String question;\n    \n    \n    @OneToOne(mappedBy = &quot;question&quot;)\n    private Answer answer;\n    \n    \n    public Question() {\n        super();\n    }\n    public Question(int questionId, String question, io.com.learnHibernate.Answer answer) {\n        super();\n        this.questionId = questionId;\n        this.question = question;\n        answer = answer;\n    }\n    public Answer getAnswer() {\n        return answer;\n    }\n    public void setAnswer(Answer answer) {\n        answer = answer;\n    }\n    public int getQuestionId() {\n        return questionId;\n    }\n    public void setQuestionId(int questionId) {\n        this.questionId = questionId;\n    }\n    public String getQuestion() {\n        return question;\n    }\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;answer&quot;)\npublic class Answer {\n    \n    @Id\n    private int aId;\n    private String answer;\n    \n    @OneToOne\n    @JoinColumn\n    private Question question ;\n    \n    public Answer() {\n        super();\n    }\n    public Answer(int aId, String answer) {\n        super();\n        this.aId = aId;\n        this.answer = answer;\n    }\n    public int getaId() {\n        return aId;\n    }\n    public void setaId(int aId) {\n        this.aId = aId;\n    }\n    public String getAnswer() {\n        return answer;\n    }\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n}\n</code></pre>\n<p>my <code>hibernate.cfg.xml</code> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n   \n      &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\n      \n      &lt;!-- Assume test is the database name --&gt;\n      \n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\n      &lt;!-- List of XML mapping files --&gt;\n                 &lt;mapping  class= &quot;io.com.learnHibernate.Question&quot;/&gt;\n      &lt;mapping  class= &quot;io.com.learnHibernate.Answer&quot;/&gt;\n\n     \n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>and my main function</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport org.hibernate.Session;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.*;\n\nimport com.mysql.cj.xdevapi.SessionFactory;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n       //configuration\n        Configuration conf=new Configuration();\n        conf.configure(&quot;Hibernate.cfg.xml&quot;);\n        org.hibernate.SessionFactory factory=conf.buildSessionFactory();\n        \n        \n//creating answer \n        \n        Answer a1=new Answer();\n        a1.setaId(180);\n        a1.setAnswer(&quot;my name is hafida&quot;);\n        //creating question\n        \n        Question q1=new Question();\n        q1.setQuestionId(3);\n        q1.setQuestion(&quot;wht is your name?&quot;);\n        q1.setAnswer(a1);\n        \n        //session \n        Session s=factory.openSession();\n        Transaction tx=s.beginTransaction();\n        \n        //save\n        s.save(q1);\n          s.save(a1);\n\n        tx.commit();\n    //  s.close();\n    //  factory.close();\n            \n    }\n}\n</code></pre>\n<p>I expected to have the value of the foreign key inserted, but it's null</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666983683,"post_id":74239408,"comment_id":131071740,"body_markdown":"What scenario are you thinking of using your LinkedList in?","body":"What scenario are you thinking of using your LinkedList in?"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1666984571,"post_id":74239408,"comment_id":131071963,"body_markdown":"@mrkachariker To add an event listener. So that when subscribing to an event, I get the opportunity to unsubscribe from it","body":"@mrkachariker To add an event listener. So that when subscribing to an event, I get the opportunity to unsubscribe from it"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666987667,"post_id":74239408,"comment_id":131072746,"body_markdown":"Why not use an ArrayList for that?","body":"Why not use an ArrayList for that?"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1666991940,"post_id":74239408,"comment_id":131073744,"body_markdown":"I think LinkedList perfect for this usage. Because in array list you need iterate list to find and remove element, in node you can just remove node, with O(1)","body":"I think LinkedList perfect for this usage. Because in array list you need iterate list to find and remove element, in node you can just remove node, with O(1)"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666992180,"post_id":74239408,"comment_id":131073806,"body_markdown":"It&#39;s actually the other way around (as long as you have the index of the element you want to remove).","body":"It&#39;s actually the other way around (as long as you have the index of the element you want to remove)."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1666992951,"post_id":74239408,"comment_id":131073978,"body_markdown":"Also, why would you not want to use HashSet for this?","body":"Also, why would you not want to use HashSet for this?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667022521,"post_id":74239408,"comment_id":131077104,"body_markdown":"Indeed. A Set (e.g. LinkedHashSet, which retains original insertion order) could solve this, even if your objects look identical (e.g. the number &quot;1&quot; multiple times), as long as you wrap them in respectively NEW instances of a custom wrapper class. ... The only problem is if you want to insert new entries instead of adding them to the end.","body":"Indeed. A Set (e.g. LinkedHashSet, which retains original insertion order) could solve this, even if your objects look identical (e.g. the number &quot;1&quot; multiple times), as long as you wrap them in respectively NEW instances of a custom wrapper class. ... The only problem is if you want to insert new entries instead of adding them to the end."},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1667042449,"post_id":74239408,"comment_id":131079917,"body_markdown":"Just the index of the inserted element will not work, because if elements are deleted after them, then its index will also change accordingly","body":"Just the index of the inserted element will not work, because if elements are deleted after them, then its index will also change accordingly"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1667042519,"post_id":74239408,"comment_id":131079933,"body_markdown":"I just think it makes the most sense to use LinkedList in this situation since we are literally taking advantage of its data structure. I mean doubly linked list, like default java LinkedList","body":"I just think it makes the most sense to use LinkedList in this situation since we are literally taking advantage of its data structure. I mean doubly linked list, like default java LinkedList"}],"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666980903,"creation_date":1666980903,"question_id":74239408,"body_markdown":"When we add elements to the LinkedList we only have boolean which is always true.\r\n\r\nIs there an implementation of LinkedList that, in response to adding, gives some interface, thanks to which we can change the value, or delete it of the added node at any time?\r\n\r\nI need something like the following\r\n\r\n```java\r\nLinkedList&lt;A&gt; list = new LinkedList&lt;&gt;();\r\nLinkedListNode&lt;A&gt; node = list.add(object);\r\n// After some amount of time, with multiple modifications of LinkedList\r\nnode.remove();\r\n\r\npublic interface LinkedListNode&lt;T&gt; {\r\n    void set(T t);\r\n\r\n    void remove();\r\n}\r\n```\r\nIn default java LinkedList implementation, only way to delete element is `list.remove(object)`, but it will iterate over all elements of the collection.\r\n\r\nPS: I don&#39;t want to use a HashSet for this","title":"LinkedList adding elements with a change or remove callback","body":"<p>When we add elements to the LinkedList we only have boolean which is always true.</p>\n<p>Is there an implementation of LinkedList that, in response to adding, gives some interface, thanks to which we can change the value, or delete it of the added node at any time?</p>\n<p>I need something like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;A&gt; list = new LinkedList&lt;&gt;();\nLinkedListNode&lt;A&gt; node = list.add(object);\n// After some amount of time, with multiple modifications of LinkedList\nnode.remove();\n\npublic interface LinkedListNode&lt;T&gt; {\n    void set(T t);\n\n    void remove();\n}\n</code></pre>\n<p>In default java LinkedList implementation, only way to delete element is <code>list.remove(object)</code>, but it will iterate over all elements of the collection.</p>\n<p>PS: I don't want to use a HashSet for this</p>\n"},{"tags":["java","maven","jar","maven-jar-plugin","meta-inf"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1588256609,"creation_date":1470683497,"answer_id":38836843,"question_id":38833373,"body_markdown":"You don&#39;t need to specify any custom maven configuration to address your need.&lt;br&gt;\r\n\r\nIn `src/main/resources`, simply create  a `META-INF` folder and place your files here.&lt;br&gt;\r\nIn this way, you could find them in the `META-INF` folder of the built JAR. &lt;br&gt;\r\n\r\nBesides, you should remove the  `&lt;resource&gt;` element you added in the `pom.xml` since it changes the default resource folder to the root of the project instead of the default `src/main/resources`.","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>You don't need to specify any custom maven configuration to address your need.<br></p>\n\n<p>In <code>src/main/resources</code>, simply create  a <code>META-INF</code> folder and place your files here.<br>\nIn this way, you could find them in the <code>META-INF</code> folder of the built JAR. <br></p>\n\n<p>Besides, you should remove the  <code>&lt;resource&gt;</code> element you added in the <code>pom.xml</code> since it changes the default resource folder to the root of the project instead of the default <code>src/main/resources</code>.</p>\n"},{"tags":[],"owner":{"account_id":13645140,"reputation":31,"user_id":9844315,"display_name":"Edson Su&#225;rez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574955794,"creation_date":1574889138,"answer_id":59078507,"question_id":38833373,"body_markdown":"    \r\nIf you want to add files and a directory to the META-INF folder use this code in your pom.xml\r\n\r\n       &lt;build&gt;\r\n    \t\t&lt;finalName&gt;CustomJsfComponents&lt;/finalName&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**.xml&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**resources/**&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t&lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/build&gt;","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>If you want to add files and a directory to the META-INF folder use this code in your pom.xml</p>\n\n<pre><code>   &lt;build&gt;\n        &lt;finalName&gt;CustomJsfComponents&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**.xml&lt;/include&gt;\n                    &lt;include&gt;**resources/**&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609832304,"creation_date":1609832304,"answer_id":65574803,"question_id":38833373,"body_markdown":"Modify your pom by adding **webResources**\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;target/classes/META-INF/&lt;/directory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nConsider the config.properties file to be found in \r\n\r\n    src / main / resources / META-INF / config.properties\r\n\r\n\r\nWar example output\r\n[![war output example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Tz5L.png","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>Modify your pom by adding <strong>webResources</strong></p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;webResources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;target/classes/META-INF/&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;*.*&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\n                    &lt;/resource&gt;\n                &lt;/webResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Consider the config.properties file to be found in</p>\n<pre><code>src / main / resources / META-INF / config.properties\n</code></pre>\n<p>War example output\n<a href=\"https://i.stack.imgur.com/7Tz5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Tz5L.png\" alt=\"war output example\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10452592,"reputation":351,"user_id":7705712,"display_name":"Edward D. Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980392,"creation_date":1666980392,"answer_id":74239326,"question_id":38833373,"body_markdown":"If you want to add your files to `META-INF` when creating a `WAR`, you can create your own `META-INF` folder in `webapp` directory.  \r\n\r\n    src/main/webapp/META-INF","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>If you want to add your files to <code>META-INF</code> when creating a <code>WAR</code>, you can create your own <code>META-INF</code> folder in <code>webapp</code> directory.</p>\n<pre><code>src/main/webapp/META-INF\n</code></pre>\n"}],"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28862,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1666980392,"creation_date":1470670780,"question_id":38833373,"body_markdown":"I&#39;m using Maven to build a Java project, and I&#39;ve got a couple files, `CHANGELOG` and `LICENSE`, that I&#39;d like to copy to the `META-INF` directory inside the JAR file.\r\n\r\nSo far what I&#39;ve got working is the following:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;CHANGELOG&lt;/include&gt;\r\n                    &lt;include&gt;LICENSE&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            ...\r\n\r\nbut that also copies those two files to the `classes/META-INF` directory when compiling.\r\n\r\nSo I&#39;d like the files to be included in the JAR file, but nowhere else. Is there a way to do this?","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>I'm using Maven to build a Java project, and I've got a couple files, <code>CHANGELOG</code> and <code>LICENSE</code>, that I'd like to copy to the <code>META-INF</code> directory inside the JAR file.</p>\n\n<p>So far what I've got working is the following:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;CHANGELOG&lt;/include&gt;\n                &lt;include&gt;LICENSE&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        ...\n</code></pre>\n\n<p>but that also copies those two files to the <code>classes/META-INF</code> directory when compiling.</p>\n\n<p>So I'd like the files to be included in the JAR file, but nowhere else. Is there a way to do this?</p>\n"},{"tags":["java","mysql","eclipse","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":17214454,"reputation":31,"user_id":12462843,"display_name":"kaad abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980298,"creation_date":1666980298,"answer_id":74239308,"question_id":72569268,"body_markdown":"verify your configuration properties, i got this error and it was due to a bad url.\r\nyou can refer to this question: [https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro.\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro","title":"Getting: &#39;Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]&#39; Exception when doing Hibernate CRUD project","body":"<p>verify your configuration properties, i got this error and it was due to a bad url.\nyou can refer to this question: <a href=\"https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro\">https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro.\n</a></p>\n"}],"owner":{"account_id":25471688,"reputation":1,"user_id":19269755,"display_name":"Karna79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8696,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666980298,"creation_date":1654837162,"question_id":72569268,"body_markdown":"I am doing a &#39;JAVA project&#39; in Eclipse Enterprise Edition IDE. Hibernate CRUD project to create user (student) details in my MySQL database (hibernatestudent). Hibernate version is Hibernate ORM core version 5.6.9.Final. My MySQL version is 8.0.29. I have the same version connector jar file for JDBC added in the build path library. All other related jar files related to Hibernate have been added also. I have tried the suggested solutions from other such issues of users but none seems to solve my problem.\r\n\r\nBelow shows Exception when running StudentDAO.java file.\r\n\r\n**Exception**\r\n```\r\nJun 10, 2022 11:46:40 AM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.9.Final\r\nJun 10, 2022 11:46:40 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n```\r\n\r\n**POJO Class file**\r\n\r\n```\r\npackage com;\r\n// POJO Class file (persistent class)\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity \r\n@Table(name = &quot;Student&quot;) \r\n\r\npublic class Student {\r\n\t@Id // Primary key for this table.\r\n\t@GeneratedValue(strategy = GenerationType.AUTO) \r\n\t@Column(name = &quot;id&quot;) \r\n\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String email;\r\n\r\n\tpublic int getId() {\t// Generating getters &amp; setters.\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**StudentDAO.java file**\r\n\r\n```\r\npackage com;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class StudentDao {\r\n\r\n\t\r\n\tpublic static void main(String[] args) { // Main method\r\n\t\tStudentDao.insert_data();\r\n\t}\r\n\t\r\n\tpublic static void insert_data() {\r\n\t\ttry {\r\n\t\t\t// Hibernate API to save this objects to DB\r\n\t        //Session factory is created only ONCE\r\n\t\t\tSessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\n\t\t\tSession session = sessionFactory.openSession();\r\n\t\t\t\r\n\t\t\t// create transaction\r\n\t\t\tsession.beginTransaction();\r\n\t\t\t\r\n\t\t\tStudent obj_Student = new Student(); // Sending the above collected values to this entity class to be stored in our database.\r\n\t\t\t\r\n\t\t\tobj_Student.setFirstName(&quot;Student_One&quot;); \r\n\t\t\tobj_Student.setId(987); \r\n\t\t\t\t\t\r\n\t\t\tsession.save(obj_Student);\r\n\t\t\tsession.getTransaction().commit();\r\n\t\t\t\r\n\t\t\t//Closing the session\r\n\t\t\tsession.close();\r\n\t\t\tsessionFactory.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**hibernate cfg xml file**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC \r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;!-- Version 8 MySQL hibernate.cfg.xml for Hibernate 5 --&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t\t\t&lt;session-factory&gt;\r\n\t\t\t\t&lt;!-- Database connection settings --&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.datasource&quot;&gt;jdbc/myDS&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;jndi.class&quot;&gt;weblogic.jndi.WLInitialContextFactory&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;javax.persistence.jdbc.url=jdbc:mysql://localhost:3306/hibernatestudent&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n\r\n\t\t\t\t&lt;!-- Disable auto commit mode --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n    \t\t\t\r\n\t\t\t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n    \t\t\t&lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \t\t\t\r\n\t\t\t\t&lt;!-- SQL dialect --&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\t\r\n\t\t\t\t&lt;!-- Echo all executed SQL to stdout --&gt;\r\n\t\t\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\t\t&lt;!-- Format SQL --&gt;\r\n\t\t\t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;!-- Database tables are automatically created --&gt;\r\n\t\t\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;property name=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;!-- Names the annotated entity class--&gt;\r\n\t\t\t\t&lt;mapping class =&quot;com.Student&quot;/&gt;\r\n\t\t\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n```\r\n\r\n**jar files used are as below**\r\n[jar files][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7iWKs.jpg\r\n","title":"Getting: &#39;Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]&#39; Exception when doing Hibernate CRUD project","body":"<p>I am doing a 'JAVA project' in Eclipse Enterprise Edition IDE. Hibernate CRUD project to create user (student) details in my MySQL database (hibernatestudent). Hibernate version is Hibernate ORM core version 5.6.9.Final. My MySQL version is 8.0.29. I have the same version connector jar file for JDBC added in the build path library. All other related jar files related to Hibernate have been added also. I have tried the suggested solutions from other such issues of users but none seems to solve my problem.</p>\n<p>Below shows Exception when running StudentDAO.java file.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Jun 10, 2022 11:46:40 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.9.Final\nJun 10, 2022 11:46:40 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n</code></pre>\n<p><strong>POJO Class file</strong></p>\n<pre><code>package com;\n// POJO Class file (persistent class)\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity \n@Table(name = &quot;Student&quot;) \n\npublic class Student {\n    @Id // Primary key for this table.\n    @GeneratedValue(strategy = GenerationType.AUTO) \n    @Column(name = &quot;id&quot;) \n\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    public int getId() {    // Generating getters &amp; setters.\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n}\n\n</code></pre>\n<p><strong>StudentDAO.java file</strong></p>\n<pre><code>package com;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class StudentDao {\n\n    \n    public static void main(String[] args) { // Main method\n        StudentDao.insert_data();\n    }\n    \n    public static void insert_data() {\n        try {\n            // Hibernate API to save this objects to DB\n            //Session factory is created only ONCE\n            SessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\n            Session session = sessionFactory.openSession();\n            \n            // create transaction\n            session.beginTransaction();\n            \n            Student obj_Student = new Student(); // Sending the above collected values to this entity class to be stored in our database.\n            \n            obj_Student.setFirstName(&quot;Student_One&quot;); \n            obj_Student.setId(987); \n                    \n            session.save(obj_Student);\n            session.getTransaction().commit();\n            \n            //Closing the session\n            session.close();\n            sessionFactory.close();\n            \n            \n        }catch (Exception e) {\n            System.out.println(e);\n        }\n\n    }\n    \n}\n</code></pre>\n<p><strong>hibernate cfg xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;!-- Version 8 MySQL hibernate.cfg.xml for Hibernate 5 --&gt;\n\n&lt;hibernate-configuration&gt;\n            &lt;session-factory&gt;\n                &lt;!-- Database connection settings --&gt;\n                &lt;property name=&quot;hibernate.connection.datasource&quot;&gt;jdbc/myDS&lt;/property&gt;\n                &lt;property name=&quot;jndi.class&quot;&gt;weblogic.jndi.WLInitialContextFactory&lt;/property&gt;\n                \n                &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.url&quot;&gt;javax.persistence.jdbc.url=jdbc:mysql://localhost:3306/hibernatestudent&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\n\n                &lt;!-- Disable auto commit mode --&gt;\n                &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\n                \n                &lt;!-- JDBC connection pool (use the built-in) --&gt;\n                &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\n                \n                &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n                \n                &lt;!-- SQL dialect --&gt;\n                &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;   \n                &lt;!-- Echo all executed SQL to stdout --&gt;\n                &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n                &lt;!-- Format SQL --&gt;\n                &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n                \n                &lt;!-- Database tables are automatically created --&gt;\n                &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n                \n                &lt;property name=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\n                \n                &lt;!-- Names the annotated entity class--&gt;\n                &lt;mapping class =&quot;com.Student&quot;/&gt;\n            &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n\n</code></pre>\n<p><strong>jar files used are as below</strong>\n<a href=\"https://i.stack.imgur.com/7iWKs.jpg\" rel=\"nofollow noreferrer\">jar files</a></p>\n"},{"tags":["javascript","java","arrays","double","byte"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666679017,"post_id":74189359,"comment_id":130987756,"body_markdown":"Consider using a `ByteBuffer` configured with the right byte-order and use its [`getDouble()`\\(https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#getDouble()) method.","body":"Consider using a <code>ByteBuffer</code> configured with the right byte-order and use its [<code>getDouble()</code>&#40;<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#getDouble()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&zwnj;&#8203;java.base/java/nio/&hellip;</a>&zwnj;&#8203;) method."},{"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"score":0,"creation_date":1666709143,"post_id":74189359,"comment_id":130998064,"body_markdown":"Thank you, I had considered ByteBuffer but I really wanted to get these functions working with the bitwise operations for better understanding.","body":"Thank you, I had considered ByteBuffer but I really wanted to get these functions working with the bitwise operations for better understanding."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666709504,"post_id":74189359,"comment_id":130998222,"body_markdown":"I guess I didn&#39;t have my coffee yet when I read your initial question, but your `writeInt` is actually writing big-endian, not little-endian, so using `writeDoubleBE` and keeping your Java code as-is would solve the problem.","body":"I guess I didn&#39;t have my coffee yet when I read your initial question, but your <code>writeInt</code> is actually writing big-endian, not little-endian, so using <code>writeDoubleBE</code> and keeping your Java code as-is would solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666980074,"creation_date":1666708936,"answer_id":74195896,"question_id":74189359,"body_markdown":"I figured it out, though I still am not sure why it works this way (with the first byte being &lt;&lt; 0 instead of &lt;&lt; 56)\r\n\r\n```\r\nlong byte1 = bs.readByte();\r\nlong byte2 = bs.readByte();\r\nlong byte3 = bs.readByte();\r\nlong byte4 = bs.readByte();\r\nlong byte5 = bs.readByte();\r\nlong byte6 = bs.readByte();\r\nlong byte7 = bs.readByte();\r\nlong byte8 = bs.readByte();\r\nreturn Double.longBitsToDouble(byte1 + (byte2 &lt;&lt; 8) + (byte3 &lt;&lt; 16) + (byte4 &lt;&lt; 24) + (byte5 &lt;&lt; 32) + (byte6 &lt;&lt; 40) + (byte7 &lt;&lt; 48) + (byte8 &lt;&lt; 56));\r\n```  ","title":"Struggling to Understand Byte Array to Double Conversion in Java","body":"<p>I figured it out, though I still am not sure why it works this way (with the first byte being &lt;&lt; 0 instead of &lt;&lt; 56)</p>\n<pre><code>long byte1 = bs.readByte();\nlong byte2 = bs.readByte();\nlong byte3 = bs.readByte();\nlong byte4 = bs.readByte();\nlong byte5 = bs.readByte();\nlong byte6 = bs.readByte();\nlong byte7 = bs.readByte();\nlong byte8 = bs.readByte();\nreturn Double.longBitsToDouble(byte1 + (byte2 &lt;&lt; 8) + (byte3 &lt;&lt; 16) + (byte4 &lt;&lt; 24) + (byte5 &lt;&lt; 32) + (byte6 &lt;&lt; 40) + (byte7 &lt;&lt; 48) + (byte8 &lt;&lt; 56));\n</code></pre>\n"}],"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74195896,"answer_count":1,"score":0,"last_activity_date":1666980074,"creation_date":1666674830,"question_id":74189359,"body_markdown":"I&#39;ve made some functions in javascript to handle converting values to byte arrays, to be sent to a Java webserver where they will be read.\r\n\r\nWhen writing an int, in js, I used: \r\n\r\n```\r\nfunction writeInt(num) {\r\n   let arr = new Uint32Array([\r\n   (num &amp; 0xff000000) &gt;&gt; 24,\r\n   (num &amp; 0x00ff0000) &gt;&gt; 16,\r\n   (num &amp; 0x0000ff00) &gt;&gt; 8,\r\n   (num &amp; 0x000000ff)\r\n   ]);\r\n   buf.push(Buffer.from(arr));\r\n}\r\n```\r\nThe integer is received in little endian, and while I don&#39;t understand bitwise operation completely, I got some help from stack and google. I read the integer in Java with the following (bs being my stream variable):\r\n\r\n```(bs.readByte() &lt;&lt; 24) + (bs.readByte() &lt;&lt; 16) + (bs.readByte() &lt;&lt; 8) + (bs.readByte());```\r\n\r\nBut when I tried to write a double, I used the writeDoubleLE(number) function as follows:\r\n\r\n```\r\nconst double = Buffer.allocUnsafe(8);\r\ndouble.writeDoubleLE(num);\r\nbuffer.push(Buffer.from(double));\r\n```\r\n\r\nand I used this function in Java:\r\n\r\n```\r\nreturn Double.longBitsToDouble(\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 56 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 48 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 40 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 32 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 24 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 16 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 8 |\r\n((byte) (bs.readByte() &amp; 0xFFL)));\r\n```\r\n\r\nI tried with some random numbers like 22.5, and now, the values are obviously wrong, giving me stuff like 2.0789966E-317 and 5.32223134E-315.\r\n\r\nI have been messing with the code in Java because the sent bytes appear correct, but it just doesn&#39;t work.\r\n\r\nFinally, I tried writeDoubleBE, and the Java code can read it successfully. This feels wrong because the bytes for the double are obviously now not consistent with the format of the other bytes in the array. I&#39;d rather understand what&#39;s going on and why this isn&#39;t working. It seems like my javascript code is writing it wrong, but I am not sure if it&#39;s the JS or Java.\r\n\r\nI hope someone with more knowledge about this can explain it to me and point out what I am doing wrong when writing/reading the values.","title":"Struggling to Understand Byte Array to Double Conversion in Java","body":"<p>I've made some functions in javascript to handle converting values to byte arrays, to be sent to a Java webserver where they will be read.</p>\n<p>When writing an int, in js, I used:</p>\n<pre><code>function writeInt(num) {\n   let arr = new Uint32Array([\n   (num &amp; 0xff000000) &gt;&gt; 24,\n   (num &amp; 0x00ff0000) &gt;&gt; 16,\n   (num &amp; 0x0000ff00) &gt;&gt; 8,\n   (num &amp; 0x000000ff)\n   ]);\n   buf.push(Buffer.from(arr));\n}\n</code></pre>\n<p>The integer is received in little endian, and while I don't understand bitwise operation completely, I got some help from stack and google. I read the integer in Java with the following (bs being my stream variable):</p>\n<p><code>(bs.readByte() &lt;&lt; 24) + (bs.readByte() &lt;&lt; 16) + (bs.readByte() &lt;&lt; 8) + (bs.readByte());</code></p>\n<p>But when I tried to write a double, I used the writeDoubleLE(number) function as follows:</p>\n<pre><code>const double = Buffer.allocUnsafe(8);\ndouble.writeDoubleLE(num);\nbuffer.push(Buffer.from(double));\n</code></pre>\n<p>and I used this function in Java:</p>\n<pre><code>return Double.longBitsToDouble(\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 56 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 48 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 40 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 32 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 24 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 16 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 8 |\n((byte) (bs.readByte() &amp; 0xFFL)));\n</code></pre>\n<p>I tried with some random numbers like 22.5, and now, the values are obviously wrong, giving me stuff like 2.0789966E-317 and 5.32223134E-315.</p>\n<p>I have been messing with the code in Java because the sent bytes appear correct, but it just doesn't work.</p>\n<p>Finally, I tried writeDoubleBE, and the Java code can read it successfully. This feels wrong because the bytes for the double are obviously now not consistent with the format of the other bytes in the array. I'd rather understand what's going on and why this isn't working. It seems like my javascript code is writing it wrong, but I am not sure if it's the JS or Java.</p>\n<p>I hope someone with more knowledge about this can explain it to me and point out what I am doing wrong when writing/reading the values.</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666971413,"post_id":74237670,"comment_id":131067836,"body_markdown":"Are t4 and t5 added to the executor? Or are sub threads of the parent thread?","body":"Are t4 and t5 added to the executor? Or are sub threads of the parent thread?"},{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1666978028,"post_id":74237670,"comment_id":131070114,"body_markdown":"@LeonardoEmmanueldeAzevedo they are added to the same instance pool via calling execute()","body":"@LeonardoEmmanueldeAzevedo they are added to the same instance pool via calling execute()"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666979166,"creation_date":1666972282,"answer_id":74237855,"question_id":74237670,"body_markdown":"Don&#39;t call `shutdown` until you know `t0` is finished - then you will know that t4/t5 must have been queued on the same executor service. \r\n\r\nIf t0 is a task that you submit to same executor service the flow is something like this:\r\n\r\n    Future&lt;?&gt; t0fut = execService.submit(t0);\r\n    // deal with others t1..t3\r\n    ...\r\n    t0fut.get();\r\n    execService.shutdown();\r\n    ...\r\n\r\nThe call to `t0fut.get()` should block until t0 is done, then the call to `execService.shutdown()` won&#39;t cause errors as t4/t5 must have already be submitted before `t0` ended.\r\n\r\nIf t0 is some thread you&#39;ve kicked off which submits task to executor service, you need to wait for it to end before `execService.shutdown()`, something like:\r\n\r\n    t0.join();\r\n    execService.shutdown();\r\n    ...","title":"Java Thread Pool Executor Service shutdown not working as expected","body":"<p>Don't call <code>shutdown</code> until you know <code>t0</code> is finished - then you will know that t4/t5 must have been queued on the same executor service.</p>\n<p>If t0 is a task that you submit to same executor service the flow is something like this:</p>\n<pre><code>Future&lt;?&gt; t0fut = execService.submit(t0);\n// deal with others t1..t3\n...\nt0fut.get();\nexecService.shutdown();\n...\n</code></pre>\n<p>The call to <code>t0fut.get()</code> should block until t0 is done, then the call to <code>execService.shutdown()</code> won't cause errors as t4/t5 must have already be submitted before <code>t0</code> ended.</p>\n<p>If t0 is some thread you've kicked off which submits task to executor service, you need to wait for it to end before <code>execService.shutdown()</code>, something like:</p>\n<pre><code>t0.join();\nexecService.shutdown();\n...\n</code></pre>\n"}],"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666979166,"creation_date":1666971263,"question_id":74237670,"body_markdown":"Currently I am using a global instance of Executor Service that is shared around the script. My idea is call and add tasks to the pool for threads to do work on and when ALL the threads are finished, then write to an output file for the results.\r\n\r\nA small visual below:\r\nMain thread calls t0, t1, t2, t3 and t0 calls t4, t5. The other threads can call other threads as well.\r\n\r\n```\r\nmain thread calls:\r\n     openFile()\r\n     -&gt; t0\r\n          -&gt; t4\r\n          -&gt; t5\r\n          ...\r\n     -&gt; t1\r\n     -&gt; t2\r\n     -&gt; t3 \r\n     ...\r\n     shutdown()\r\n     awaitTermination(60, MINUTES)\r\n     writeFile()\r\n     closeFile()\r\n```\r\n\r\nThe problem is shutdown() and awaitTermination() get called and finish when t0, t1, t2, t3 and doesn&#39;t wait for t4 and t5. So the output gets written while t4 and t5 are still completing their tasks. I executed t4 and t5 with the same instance as the others figuring that it would add it to the pool and awaitTermination() would wait for them (along with the other threads that were called by other treads) to finish.\r\n\r\nHow would I be able to go about this?","title":"Java Thread Pool Executor Service shutdown not working as expected","body":"<p>Currently I am using a global instance of Executor Service that is shared around the script. My idea is call and add tasks to the pool for threads to do work on and when ALL the threads are finished, then write to an output file for the results.</p>\n<p>A small visual below:\nMain thread calls t0, t1, t2, t3 and t0 calls t4, t5. The other threads can call other threads as well.</p>\n<pre><code>main thread calls:\n     openFile()\n     -&gt; t0\n          -&gt; t4\n          -&gt; t5\n          ...\n     -&gt; t1\n     -&gt; t2\n     -&gt; t3 \n     ...\n     shutdown()\n     awaitTermination(60, MINUTES)\n     writeFile()\n     closeFile()\n</code></pre>\n<p>The problem is shutdown() and awaitTermination() get called and finish when t0, t1, t2, t3 and doesn't wait for t4 and t5. So the output gets written while t4 and t5 are still completing their tasks. I executed t4 and t5 with the same instance as the others figuring that it would add it to the pool and awaitTermination() would wait for them (along with the other threads that were called by other treads) to finish.</p>\n<p>How would I be able to go about this?</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":26613932,"reputation":13,"user_id":20233689,"display_name":"Jon S&#248;rensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666978081,"creation_date":1666978081,"answer_id":74238911,"question_id":74160084,"body_markdown":"Solved this. I&#39;ve learned that you do not want a shadow variable&#39;s value to change depending on what is ahead of it in the chain. This is what was causing the corruption. I removed the while loop causing the problem and moved the calculations to a constraint instead.","title":"Optaplanner chained variable corruption","body":"<p>Solved this. I've learned that you do not want a shadow variable's value to change depending on what is ahead of it in the chain. This is what was causing the corruption. I removed the while loop causing the problem and moved the calculations to a constraint instead.</p>\n"}],"owner":{"account_id":26613932,"reputation":13,"user_id":20233689,"display_name":"Jon S&#248;rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238911,"answer_count":1,"score":0,"last_activity_date":1666978081,"creation_date":1666395619,"question_id":74160084,"body_markdown":"Running into an issue with variable corruption on a chained variable model.\r\n\r\n\r\n**The entity (Delivery{id=&#39;3&#39;, tasks=[...], previousDeliveryOrShift=Delivery{id=&#39;2&#39;, tasks=[...], previousDeliveryOrShift=Shift{id=&#39;1&#39;, startTime=2022-10-03T16:00}, deliveryTime=2022-10-03T16:27}, deliveryTime=2022-10-03T17:12})&#39;s shadow variable (Delivery.deliveryTime)&#39;s corrupted value (2022-10-03T17:10) changed to uncorrupted value (2022-10-03T17:12) after all variable listeners were triggered without changes to the genuine variables.**\r\n\r\n\r\nI&#39;ve tried using FULL_ASSERT with trace logging to see the move that is causing this but it&#39;s erroring before the trace log shows me the move it is trying to make. I&#39;ve tried running a debugger with breakpoints but it will solve correctly without any corruption when I do that. Not sure if this is some thread issue?\r\n\r\nThe code in the variableListener that is causing this is a while loop that&#39;s needed to loop through the nextDelivery()s and sum together task times so I can add it to the deliveryTime of the FIRST delivery in the chain. Removing this loop fixes the corruption but now the deliveryTimes of all Deliveries in the chain will be off. I don&#39;t understand why looping forwards and summing task times would cause corruption.\r\n\r\n```\r\nprivate void updateDeliveryTime(\r\n      ScoreDirector&lt;DeliveryRoutingSolution&gt; scoreDirector, Delivery delivery) {\r\n    Delivery shadowDelivery = delivery;\r\n\r\n    while (shadowDelivery != null) {\r\n      LocalDateTime deliveryTime = null;\r\n      if (shadowDelivery.getPreviousDeliveryOrShift() != null) {\r\n        PreviousDeliveryOrShift previousDeliveryOrShift =\r\n            shadowDelivery.getPreviousDeliveryOrShift();\r\n\r\n        if (previousDeliveryOrShift.getType() == PreviousDeliveryOrShift.Type.SHIFT) {\r\n          Delivery nextDelivery = shadowDelivery;\r\n          Duration taskTimeBeforeDelivery = Duration.ZERO;\r\n\r\n          while (nextDelivery != null) { // the while loop causing the problem\r\n            taskTimeBeforeDelivery =\r\n                taskTimeBeforeDelivery.plus(\r\n                    nextDelivery.getTaskTime());\r\n\r\n            nextDelivery = nextDelivery.getNextDelivery();\r\n          }\r\n\r\n          deliveryTime =\r\n              previousDeliveryOrShift\r\n                  .getStartTime()\r\n                  .plus(taskTimeBeforeDelivery);\r\n\r\n        } else {\r\n          ...\r\n        }\r\n      }\r\n\r\n      scoreDirector.beforeVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\r\n      shadowDelivery.setDeliveryTime(deliveryTime);\r\n      scoreDirector.afterVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\r\n\r\n      shadowDelivery = shadowDelivery.getNextDelivery();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve tried looking at other stackoverflow threads on this issue but still can&#39;t seem to get this working. Any suggestions are welcome. Thanks.","title":"Optaplanner chained variable corruption","body":"<p>Running into an issue with variable corruption on a chained variable model.</p>\n<p><strong>The entity (Delivery{id='3', tasks=[...], previousDeliveryOrShift=Delivery{id='2', tasks=[...], previousDeliveryOrShift=Shift{id='1', startTime=2022-10-03T16:00}, deliveryTime=2022-10-03T16:27}, deliveryTime=2022-10-03T17:12})'s shadow variable (Delivery.deliveryTime)'s corrupted value (2022-10-03T17:10) changed to uncorrupted value (2022-10-03T17:12) after all variable listeners were triggered without changes to the genuine variables.</strong></p>\n<p>I've tried using FULL_ASSERT with trace logging to see the move that is causing this but it's erroring before the trace log shows me the move it is trying to make. I've tried running a debugger with breakpoints but it will solve correctly without any corruption when I do that. Not sure if this is some thread issue?</p>\n<p>The code in the variableListener that is causing this is a while loop that's needed to loop through the nextDelivery()s and sum together task times so I can add it to the deliveryTime of the FIRST delivery in the chain. Removing this loop fixes the corruption but now the deliveryTimes of all Deliveries in the chain will be off. I don't understand why looping forwards and summing task times would cause corruption.</p>\n<pre><code>private void updateDeliveryTime(\n      ScoreDirector&lt;DeliveryRoutingSolution&gt; scoreDirector, Delivery delivery) {\n    Delivery shadowDelivery = delivery;\n\n    while (shadowDelivery != null) {\n      LocalDateTime deliveryTime = null;\n      if (shadowDelivery.getPreviousDeliveryOrShift() != null) {\n        PreviousDeliveryOrShift previousDeliveryOrShift =\n            shadowDelivery.getPreviousDeliveryOrShift();\n\n        if (previousDeliveryOrShift.getType() == PreviousDeliveryOrShift.Type.SHIFT) {\n          Delivery nextDelivery = shadowDelivery;\n          Duration taskTimeBeforeDelivery = Duration.ZERO;\n\n          while (nextDelivery != null) { // the while loop causing the problem\n            taskTimeBeforeDelivery =\n                taskTimeBeforeDelivery.plus(\n                    nextDelivery.getTaskTime());\n\n            nextDelivery = nextDelivery.getNextDelivery();\n          }\n\n          deliveryTime =\n              previousDeliveryOrShift\n                  .getStartTime()\n                  .plus(taskTimeBeforeDelivery);\n\n        } else {\n          ...\n        }\n      }\n\n      scoreDirector.beforeVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\n      shadowDelivery.setDeliveryTime(deliveryTime);\n      scoreDirector.afterVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\n\n      shadowDelivery = shadowDelivery.getNextDelivery();\n    }\n  }\n}\n</code></pre>\n<p>I've tried looking at other stackoverflow threads on this issue but still can't seem to get this working. Any suggestions are welcome. Thanks.</p>\n"},{"tags":["java","gradle","junit"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666476498,"post_id":74158587,"comment_id":130947408,"body_markdown":"Are you using the latest Intellij IDEA? It looks like a bug which must be fixed.","body":"Are you using the latest Intellij IDEA? It looks like a bug which must be fixed."}],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666978031,"creation_date":1666978031,"answer_id":74238906,"question_id":74158587,"body_markdown":"Problem is coming from the naming of the package which contains your test classes, `DNAnalyzer`, which does not really follow java naming conventions as it&#39;s starts with/contains capital letters.\r\n\r\nWhen executing single test case or test class, IntelliJ will delegate to Gradle  by invoking `test` task with a specific filter, as follows\r\n`./gradlew :test --tests &quot;DNAnalyzer.MainTest.mainClassshouldExist&quot;`\r\n\r\nAnd in Gradle there is this issue : https://github.com/gradle/gradle/issues/20350 : &quot;test --tests does not work with packages which contain capital letters&quot;.\r\n\r\nTry to move your test classes in another well-named package and you won&#39;t have this issue.\r\n","title":"Gradle: Execution failed for task &#39;:test&#39;. &gt; No tests found for given includes:","body":"<p>Problem is coming from the naming of the package which contains your test classes, <code>DNAnalyzer</code>, which does not really follow java naming conventions as it's starts with/contains capital letters.</p>\n<p>When executing single test case or test class, IntelliJ will delegate to Gradle  by invoking <code>test</code> task with a specific filter, as follows\n<code>./gradlew :test --tests &quot;DNAnalyzer.MainTest.mainClassshouldExist&quot;</code></p>\n<p>And in Gradle there is this issue : <a href=\"https://github.com/gradle/gradle/issues/20350\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/20350</a> : &quot;test --tests does not work with packages which contain capital letters&quot;.</p>\n<p>Try to move your test classes in another well-named package and you won't have this issue.</p>\n"}],"owner":{"account_id":10285204,"reputation":115,"user_id":7588751,"display_name":"Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11658,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74238906,"answer_count":1,"score":5,"last_activity_date":1666978031,"creation_date":1666382028,"question_id":74158587,"body_markdown":"I try to run this single unit test of [this open-source project on GitHub][1] with IntelliJ.\r\n\r\n  [1]: https://github.com/Verisimilitude11/DNAnalyzer\r\n\r\n\r\n    Execution failed for task &#39;:test&#39;.\r\n    No tests found for given includes: [DNAnalyzer.MainTest.mainClassshouldExist](--tests filter)\r\n\r\n## The test class\r\n\r\n    package DNAnalyzer;\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MainTest {\r\n      @Test\r\n      public void mainClassshouldExist() throws ClassNotFoundException {\r\n         Class.forName(&quot;DNAnalyzer.Main&quot;);\r\n      }\r\n    }\r\n\r\n\r\n## The build.gradle\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     *\r\n     * This generated file contains a sample Java application project to get you started.\r\n     * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n     * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\r\n     */\r\n    \r\n    plugins {\r\n        // Apply the application plugin to add support for building a CLI application in Java.\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit test framework.\r\n        testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.9.1&#39;\r\n    \r\n    \r\n        // This dependency is used by the application.\r\n        implementation &quot;com.google.guava:guava:31.0.1-jre&quot;\r\n    \r\n        // Picocli\r\n        implementation &quot;info.picocli:picocli:4.6.3&quot;\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &quot;DNAnalyzer.Main&quot;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;DNAnalyzer.Main&#39;\r\n        }\r\n    \r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n\r\n## What I have tried\r\n - Updating to the newest JUnit \r\n\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.9.1&#39;\r\n\r\n - Adding this to my build.gradle file:\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n## The only workaround yet:\r\nWhen I go to Settings -&gt; Build-Tool -&gt; Gradle and set the Test execution to &quot;Run tests wit: IntelliJ IDEA&quot; the tests are executed correctly.\r\n\r\n\r\n\r\nThanks\r\n","title":"Gradle: Execution failed for task &#39;:test&#39;. &gt; No tests found for given includes:","body":"<p>I try to run this single unit test of <a href=\"https://github.com/Verisimilitude11/DNAnalyzer\" rel=\"noreferrer\">this open-source project on GitHub</a> with IntelliJ.</p>\n<pre><code>Execution failed for task ':test'.\nNo tests found for given includes: [DNAnalyzer.MainTest.mainClassshouldExist](--tests filter)\n</code></pre>\n<h2>The test class</h2>\n<pre><code>package DNAnalyzer;\n\n\nimport org.junit.jupiter.api.Test;\n\npublic class MainTest {\n  @Test\n  public void mainClassshouldExist() throws ClassNotFoundException {\n     Class.forName(&quot;DNAnalyzer.Main&quot;);\n  }\n}\n</code></pre>\n<h2>The build.gradle</h2>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit test framework.\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.9.1'\n\n\n    // This dependency is used by the application.\n    implementation &quot;com.google.guava:guava:31.0.1-jre&quot;\n\n    // Picocli\n    implementation &quot;info.picocli:picocli:4.6.3&quot;\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = &quot;DNAnalyzer.Main&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'DNAnalyzer.Main'\n    }\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<h2>What I have tried</h2>\n<ul>\n<li><p>Updating to the newest JUnit</p>\n<p>testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.9.1'</p>\n</li>\n<li><p>Adding this to my build.gradle file:</p>\n<p>test {\nuseJUnitPlatform()\n}</p>\n</li>\n</ul>\n<h2>The only workaround yet:</h2>\n<p>When I go to Settings -&gt; Build-Tool -&gt; Gradle and set the Test execution to &quot;Run tests wit: IntelliJ IDEA&quot; the tests are executed correctly.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666958643,"creation_date":1666896798,"answer_id":74226960,"question_id":74226510,"body_markdown":"You can use the [@Where annotation][1], but because you are using `@CollectionTable`, you need to change the mapping a bit.\r\n\r\nThis mapping will work:\r\n```\r\n\t@Entity\r\n\tclass Game {\r\n\r\n\t\t@Id\r\n\t\tpublic Long id;\r\n\r\n\t\t@ElementCollection\r\n\t\t@CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n\t\t@Column(name=&quot;player_id&quot;)\r\n\t\t@Where(clause = &quot;team = &#39;H&#39;&quot;)\r\n\t\tpublic List&lt;Player&gt; homePlayerIds;\r\n\r\n\t\t@ElementCollection\r\n\t\t@CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n\t\t@Where(clause = &quot;team = &#39;A&#39;&quot;)\r\n\t\t@Column(name=&quot;player_id&quot;)\r\n\t\tpublic List&lt;Player&gt; awayPlayerIds;\r\n\t}\r\n\r\n\t@Embeddable\r\n\tclass Player {\r\n\t\t@Column(name = &quot;player_id&quot;)\r\n\t\tpublic Long playerId;\r\n\t\tpublic String team;\r\n\r\n\t\tpublic Player() {\r\n\t\t}\r\n\r\n\t\tpublic Player(Long playerId, String team) {\r\n\t\t\tthis.playerId = playerId;\r\n\t\t\tthis.team = team;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nNote that for associations, one would normally use `@WhereJoinTable` but, when I&#39;ve tested it, it didn&#39;t work with `@CollectionTable`.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>You can use the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">@Where annotation</a>, but because you are using <code>@CollectionTable</code>, you need to change the mapping a bit.</p>\n<p>This mapping will work:</p>\n<pre><code>    @Entity\n    class Game {\n\n        @Id\n        public Long id;\n\n        @ElementCollection\n        @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n        @Column(name=&quot;player_id&quot;)\n        @Where(clause = &quot;team = 'H'&quot;)\n        public List&lt;Player&gt; homePlayerIds;\n\n        @ElementCollection\n        @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n        @Where(clause = &quot;team = 'A'&quot;)\n        @Column(name=&quot;player_id&quot;)\n        public List&lt;Player&gt; awayPlayerIds;\n    }\n\n    @Embeddable\n    class Player {\n        @Column(name = &quot;player_id&quot;)\n        public Long playerId;\n        public String team;\n\n        public Player() {\n        }\n\n        public Player(Long playerId, String team) {\n            this.playerId = playerId;\n            this.team = team;\n        }\n    }\n</code></pre>\n<p>Note that for associations, one would normally use <code>@WhereJoinTable</code> but, when I've tested it, it didn't work with <code>@CollectionTable</code>.</p>\n"},{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666977861,"creation_date":1666903113,"answer_id":74228046,"question_id":74226510,"body_markdown":"You can try to use something like this:\r\n\r\n```java\r\nimport org.hibernate.annotations.Where;\r\nimport javax.persistence.ElementCollection;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\n\r\n\r\n@Entity\r\nclass Game {\r\n    \r\n    @Id\r\n    private Long id\r\n\r\n    @ElementCollection\r\n    @JoinTable(name = &quot;game_player_team&quot;, \r\n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Where(clause = &quot;team = &#39;H&#39;&quot;)\r\n    @Column(name = &quot;player_id&quot;)\r\n    private List&lt;Long&gt; homePlayerIds;\r\n\r\n    @ElementCollection\r\n    @JoinTable(name = &quot;game_player_team&quot;, \r\n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Where(clause = &quot;team = &#39;A&#39;&quot;)\r\n    @Column(name = &quot;player_id&quot;)\r\n    private List&lt;Long&gt; awayPlayerIds;\r\n}\r\n```\r\n\r\nSee also [this part](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where) of hibernate documentation.","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>You can try to use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.Where;\nimport javax.persistence.ElementCollection;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\n\n\n@Entity\nclass Game {\n    \n    @Id\n    private Long id\n\n    @ElementCollection\n    @JoinTable(name = &quot;game_player_team&quot;, \n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Where(clause = &quot;team = 'H'&quot;)\n    @Column(name = &quot;player_id&quot;)\n    private List&lt;Long&gt; homePlayerIds;\n\n    @ElementCollection\n    @JoinTable(name = &quot;game_player_team&quot;, \n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Where(clause = &quot;team = 'A'&quot;)\n    @Column(name = &quot;player_id&quot;)\n    private List&lt;Long&gt; awayPlayerIds;\n}\n</code></pre>\n<p>See also <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">this part</a> of hibernate documentation.</p>\n"}],"owner":{"account_id":163977,"reputation":859,"user_id":386464,"display_name":"linus1412"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74226960,"answer_count":2,"score":0,"last_activity_date":1666977861,"creation_date":1666894088,"question_id":74226510,"body_markdown":"\r\n\r\nI want to have a Game entity that has two List of player IDs stored as Longs\r\n\r\nThis is my table: game_player_team\r\n\r\n| game_id | player_id | team |\r\n| -------:| ---------:| ----:|\r\n|       1 |         1 |    H |\r\n|       1 |         2 |    H |\r\n|       1 |         3 |    A |\r\n|       1 |         4 |    A |\r\n\r\n\r\nAnd this is how far I got modeling the Game entity\r\n\r\nI can&#39;t work out how to get only the player_id&#39;s for the team H row and player_id&#39;s for the team A rows in to homePlayerIds and awayPlayerIds respectively.\r\n\r\nI&#39;ve seen the @Discriminator annotations but they only seem to work inheritence.\r\n\r\n\r\n```java\r\n@Entity\r\nclass Game {\r\n    \r\n    @Id\r\n    private Long id\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n    @Column(name=&quot;player_id&quot;)\r\n    private List&lt;Long&gt; homePlayerIds;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n    @Column(name=&quot;player_id&quot;)\r\n    private List&lt;Long&gt; awayPlayerIds;\r\n\r\n\r\n}\r\n```","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>I want to have a Game entity that has two List of player IDs stored as Longs</p>\n<p>This is my table: game_player_team</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">game_id</th>\n<th style=\"text-align: right;\">player_id</th>\n<th style=\"text-align: right;\">team</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">H</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: right;\">H</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: right;\">A</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">4</td>\n<td style=\"text-align: right;\">A</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And this is how far I got modeling the Game entity</p>\n<p>I can't work out how to get only the player_id's for the team H row and player_id's for the team A rows in to homePlayerIds and awayPlayerIds respectively.</p>\n<p>I've seen the @Discriminator annotations but they only seem to work inheritence.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Game {\n    \n    @Id\n    private Long id\n\n    @ElementCollection\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n    @Column(name=&quot;player_id&quot;)\n    private List&lt;Long&gt; homePlayerIds;\n\n    @ElementCollection\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n    @Column(name=&quot;player_id&quot;)\n    private List&lt;Long&gt; awayPlayerIds;\n\n\n}\n</code></pre>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479137891,"post_id":40590039,"comment_id":68420358,"body_markdown":"Please clarify what &#39;Git features&#39; is. Are you referring to [Eclipse JGit](https://eclipse.org/jgit/), or to the Eclipse IDE Git integration, or something else entirely?","body":"Please clarify what &#39;Git features&#39; is. Are you referring to <a href=\"https://eclipse.org/jgit/\" rel=\"nofollow noreferrer\">Eclipse JGit</a>, or to the Eclipse IDE Git integration, or something else entirely?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479188595,"post_id":40590039,"comment_id":68440613,"body_markdown":"Yes You are right Herrmann. I am talking about JGit. I need a function call which is used to get the file list committed as part of a commit.","body":"Yes You are right Herrmann. I am talking about JGit. I need a function call which is used to get the file list committed as part of a commit."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479201922,"post_id":40590039,"comment_id":68446987,"body_markdown":"Then show us some code, what have you tried so far?","body":"Then show us some code, what have you tried so far?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479207513,"post_id":40590039,"comment_id":68450604,"body_markdown":"Please have a look at the above example code. I am gonna show the commit IDs in a table and corresponding committed files in the separate list. I don&#39;t know how to get the file list for the particular commit.","body":"Please have a look at the above example code. I am gonna show the commit IDs in a table and corresponding committed files in the separate list. I don&#39;t know how to get the file list for the particular commit."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479381792,"post_id":40590039,"comment_id":68538352,"body_markdown":"Did you try to include the code from my answer?","body":"Did you try to include the code from my answer?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479799814,"post_id":40590039,"comment_id":68697960,"body_markdown":"Thank you so much Herrmann. I was trying your code and it satisfied my requirement. Thanks again.","body":"Thank you so much Herrmann. I was trying your code and it satisfied my requirement. Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1616765153,"creation_date":1479210866,"answer_id":40609231,"question_id":40590039,"body_markdown":"Each commit points to a _tree_ that denotes all files that make up the commit. \r\n\r\n**Note, that this not only includes the files that were added, modified, or removed with this particular commit but all files contained in this revision.**\r\n\r\nIf the commit is represented as a `RevCommit`, the ID of the tree can be obtained like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ObjectId treeId = commit.getTree().getId();\r\n\r\nIf the commit ID originates from another source, it needs to be resolved first to get the associated tree ID. See here, for example: https://stackoverflow.com/questions/25755475/how-to-obtain-the-revcommit-or-objectid-from-a-sha1-id-string-with-jgit\r\n\r\nIn order to iterate over a tree, use a `TreeWalk`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    try (TreeWalk treeWalk = new TreeWalk(repository)) {\r\n      treeWalk.reset(treeId);\r\n      while (treeWalk.next()) {\r\n        String path = treeWalk.getPathString();\r\n        // ...\r\n      }\r\n    }\r\n\r\n\r\nIf you are only interested in the changes that were recorded with a certain commit, see here: [Creating Diffs with JGit](http://www.codeaffine.com/2016/06/16/jgit-diff/) or here: https://stackoverflow.com/questions/23486483/file-diff-against-the-last-commit-with-jgit\r\n","title":"How to get the file list for a commit with JGit","body":"<p>Each commit points to a <em>tree</em> that denotes all files that make up the commit.</p>\n<p><strong>Note, that this not only includes the files that were added, modified, or removed with this particular commit but all files contained in this revision.</strong></p>\n<p>If the commit is represented as a <code>RevCommit</code>, the ID of the tree can be obtained like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectId treeId = commit.getTree().getId();\n</code></pre>\n<p>If the commit ID originates from another source, it needs to be resolved first to get the associated tree ID. See here, for example: <a href=\"https://stackoverflow.com/questions/25755475/how-to-obtain-the-revcommit-or-objectid-from-a-sha1-id-string-with-jgit\">How to obtain the RevCommit or ObjectId from a SHA1 ID string with JGit?</a></p>\n<p>In order to iterate over a tree, use a <code>TreeWalk</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (TreeWalk treeWalk = new TreeWalk(repository)) {\n  treeWalk.reset(treeId);\n  while (treeWalk.next()) {\n    String path = treeWalk.getPathString();\n    // ...\n  }\n}\n</code></pre>\n<p>If you are only interested in the changes that were recorded with a certain commit, see here: <a href=\"http://www.codeaffine.com/2016/06/16/jgit-diff/\" rel=\"nofollow noreferrer\">Creating Diffs with JGit</a> or here: <a href=\"https://stackoverflow.com/questions/23486483/file-diff-against-the-last-commit-with-jgit\">File diff against the last commit with JGit</a></p>\n"},{"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523123298,"creation_date":1523123298,"answer_id":49710232,"question_id":40590039,"body_markdown":"I edited a little from the code given in this [link][1].\r\nYou can try using the below code.\r\n\r\n\tpublic void commitHistory(Git git) throws NoHeadException, GitAPIException, IncorrectObjectTypeException, CorruptObjectException, IOException, UnirestException \r\n\t{\r\n\t\tIterable&lt;RevCommit&gt; logs = git.log().call();\r\n\t\tint k = 0;\r\n\t\tfor (RevCommit commit : logs) {\r\n\t\t\tString commitID = commit.getName();\r\n\t\t\tif (commitID != null &amp;&amp; !commitID.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tLogCommand logs2 = git.log().all();\r\n\t\t\t\tRepository repository = logs2.getRepository();\r\n\t\t\t\ttw = new TreeWalk(repository);\r\n\t\t\t\ttw.setRecursive(true);\r\n\t\t\t\tRevCommit commitToCheck = commit;\r\n\t\t\t\ttw.addTree(commitToCheck.getTree());\r\n\t\t\t\tfor (RevCommit parent : commitToCheck.getParents())\r\n\t\t\t\t{\r\n\t\t\t\t\ttw.addTree(parent.getTree());\r\n\t\t\t\t}\r\n\t\t\t\twhile (tw.next())\r\n\t\t\t\t{\r\n\t\t\t\t\tint similarParents = 0;\r\n\t\t\t\t\tfor (int i = 1; i &lt; tw.getTreeCount(); i++)\r\n\t\t\t\t\t\tif (tw.getFileMode(i) == tw.getFileMode(0) &amp;&amp; tw.getObjectId(0).equals(tw.getObjectId(i)))\r\n\t\t\t\t\t\t\tsimilarParents++;\r\n\t\t\t\t\tif (similarParents == 0) \r\n\t\t\t\t\t\t\tSystem.out.println(&quot;File names: &quot; + fileName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://www.eclipse.org/forums/index.php/t/1070895/","title":"How to get the file list for a commit with JGit","body":"<p>I edited a little from the code given in this <a href=\"https://www.eclipse.org/forums/index.php/t/1070895/\" rel=\"nofollow noreferrer\">link</a>.\nYou can try using the below code.</p>\n\n<pre><code>public void commitHistory(Git git) throws NoHeadException, GitAPIException, IncorrectObjectTypeException, CorruptObjectException, IOException, UnirestException \n{\n    Iterable&lt;RevCommit&gt; logs = git.log().call();\n    int k = 0;\n    for (RevCommit commit : logs) {\n        String commitID = commit.getName();\n        if (commitID != null &amp;&amp; !commitID.isEmpty())\n        {\n            LogCommand logs2 = git.log().all();\n            Repository repository = logs2.getRepository();\n            tw = new TreeWalk(repository);\n            tw.setRecursive(true);\n            RevCommit commitToCheck = commit;\n            tw.addTree(commitToCheck.getTree());\n            for (RevCommit parent : commitToCheck.getParents())\n            {\n                tw.addTree(parent.getTree());\n            }\n            while (tw.next())\n            {\n                int similarParents = 0;\n                for (int i = 1; i &lt; tw.getTreeCount(); i++)\n                    if (tw.getFileMode(i) == tw.getFileMode(0) &amp;&amp; tw.getObjectId(0).equals(tw.getObjectId(i)))\n                        similarParents++;\n                if (similarParents == 0) \n                        System.out.println(\"File names: \" + fileName);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26504253,"reputation":1,"user_id":20140659,"display_name":"Clint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666976897,"creation_date":1664677046,"answer_id":73922970,"question_id":40590039,"body_markdown":"I came up with this solution for finding the list of files changed in a commit. Because a commit only has the files(tree) at the time of the commit, it doesn&#39;t have any changes. You can&#39;t get differences until you compare the commit with another commit(a parent). This solution was researched by looking at how Jgit performed a diff. \r\n\r\nNote: For simplicity, I didn&#39;t handle the special cases of a commit having multiple parents or no parents.\r\n\r\nFinds a set of files (unique and sorted) that were changed by a set of commits.\r\n\r\n    public Set&lt;String&gt; getChangedFiles(Git git, Set&lt;RevCommit&gt; commits)\r\n    {\r\n    \tTreeWalk walk = new TreeWalk(git.getRepository());\r\n    \twalk.setRecursive(true);\r\n    \twalk.setFilter(TreeFilter.ANY_DIFF);\r\n    \r\n    \tSet&lt;String&gt; files = new TreeSet&lt;&gt;(); // Uses natural ordering\r\n    \tcommits.forEach(commit-&gt;\r\n    \t{\r\n    \t\tSystem.err.println( commit.getFullMessage() );\r\n    \t\tObjectId a = commit.getTree().getId();\r\n    \t\tRevCommit parent = commit.getParent(0);\r\n    \t\tObjectId b = parent.getTree().getId();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twalk.reset(b,a);\r\n    \t\t\tList&lt;DiffEntry&gt;changes = DiffEntry.scan(walk);\r\n    \t\t\tchanges.forEach(de-&gt;\r\n    \t\t\t{\r\n    \t\t\t\tfiles.add(de.getNewPath()); // use old path if change type is deleted\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\tcatch (IOException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t});\r\n    \treturn files;\r\n    }\r\n\r\n","title":"How to get the file list for a commit with JGit","body":"<p>I came up with this solution for finding the list of files changed in a commit. Because a commit only has the files(tree) at the time of the commit, it doesn't have any changes. You can't get differences until you compare the commit with another commit(a parent). This solution was researched by looking at how Jgit performed a diff.</p>\n<p>Note: For simplicity, I didn't handle the special cases of a commit having multiple parents or no parents.</p>\n<p>Finds a set of files (unique and sorted) that were changed by a set of commits.</p>\n<pre><code>public Set&lt;String&gt; getChangedFiles(Git git, Set&lt;RevCommit&gt; commits)\n{\n    TreeWalk walk = new TreeWalk(git.getRepository());\n    walk.setRecursive(true);\n    walk.setFilter(TreeFilter.ANY_DIFF);\n\n    Set&lt;String&gt; files = new TreeSet&lt;&gt;(); // Uses natural ordering\n    commits.forEach(commit-&gt;\n    {\n        System.err.println( commit.getFullMessage() );\n        ObjectId a = commit.getTree().getId();\n        RevCommit parent = commit.getParent(0);\n        ObjectId b = parent.getTree().getId();\n\n        try\n        {\n            walk.reset(b,a);\n            List&lt;DiffEntry&gt;changes = DiffEntry.scan(walk);\n            changes.forEach(de-&gt;\n            {\n                files.add(de.getNewPath()); // use old path if change type is deleted\n            });\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    });\n    return files;\n}\n</code></pre>\n"}],"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12104,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":40609231,"answer_count":3,"score":14,"last_activity_date":1666976897,"creation_date":1479130598,"question_id":40590039,"body_markdown":"I have been working on a Java based product for which the Git features are going to be integrated. Using one of the Git features, I have done adding 10+ files into the Git repository by staging followed by committing them in a single commit.\r\n\r\nIs the reverse of the above process possible? I.e Finding the list of files committed as part of a commit.\r\n\r\nI got the commit with the help of the `git.log()` command but I am not sure how to get the file list for the commit.\r\n\r\nExample Code:\r\n\r\n    Git git = (...);\r\n    Iterable&lt;RevCommit&gt; logs = git.log().call();\r\n    for(RevCommit commit : logs) {\r\n        String commitID = commit.getName();\r\n        if(commitID != null &amp;&amp; !commitID.isEmpty()) {\r\n        TableItem item = new TableItem(table, SWT.None);\r\n        item.setText(commitID);\r\n        // Here I want to get the file list for the commit object\r\n    }\r\n    }","title":"How to get the file list for a commit with JGit","body":"<p>I have been working on a Java based product for which the Git features are going to be integrated. Using one of the Git features, I have done adding 10+ files into the Git repository by staging followed by committing them in a single commit.</p>\n\n<p>Is the reverse of the above process possible? I.e Finding the list of files committed as part of a commit.</p>\n\n<p>I got the commit with the help of the <code>git.log()</code> command but I am not sure how to get the file list for the commit.</p>\n\n<p>Example Code:</p>\n\n<pre><code>Git git = (...);\nIterable&lt;RevCommit&gt; logs = git.log().call();\nfor(RevCommit commit : logs) {\n    String commitID = commit.getName();\n    if(commitID != null &amp;&amp; !commitID.isEmpty()) {\n    TableItem item = new TableItem(table, SWT.None);\n    item.setText(commitID);\n    // Here I want to get the file list for the commit object\n}\n}\n</code></pre>\n"},{"tags":["java","jndi","payara"],"answers":[{"tags":[],"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666778022,"creation_date":1666778022,"answer_id":74205798,"question_id":74203723,"body_markdown":"Yes, a restart of the payara instance is needed if the JNDI variable is changed.","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>Yes, a restart of the payara instance is needed if the JNDI variable is changed.</p>\n"},{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666976587,"creation_date":1666975357,"answer_id":74238428,"question_id":74203723,"body_markdown":"You don&#39;t have to restart the whole payara server or domain, you just need to reload your web application that reads it.\r\n\r\nIf you look at your glassfish/payara web console and go to your Applications page, you can see a Reload option.  If you click on that for your app, it will essentially restart and it will read in the updated jndi value you just changed.\r\n\r\n\r\nHowever if you have lots of web apps reading from the same jndi variable its probably easier just restarting your payara server.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H9ZU2.png","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>You don't have to restart the whole payara server or domain, you just need to reload your web application that reads it.</p>\n<p>If you look at your glassfish/payara web console and go to your Applications page, you can see a Reload option.  If you click on that for your app, it will essentially restart and it will read in the updated jndi value you just changed.</p>\n<p>However if you have lots of web apps reading from the same jndi variable its probably easier just restarting your payara server.\n<a href=\"https://i.stack.imgur.com/H9ZU2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9ZU2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666976587,"creation_date":1666767237,"question_id":74203723,"body_markdown":"Do I need to restart my payara instance after changing a JNDI variable to apply the changes in the application?\r\n\r\nOr is there some kind of automatic reload mechanism?","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>Do I need to restart my payara instance after changing a JNDI variable to apply the changes in the application?</p>\n<p>Or is there some kind of automatic reload mechanism?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-kafka"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666944439,"post_id":74227651,"comment_id":131058818,"body_markdown":"Are you running a new job instance in each scheduled run? Are you setting the partition offset on each new run? Those are key to correctly answer your question. Please share your code to be able to help you in an efficient way.","body":"Are you running a new job instance in each scheduled run? Are you setting the partition offset on each new run? Those are key to correctly answer your question. Please share your code to be able to help you in an efficient way."},{"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"score":0,"creation_date":1666947519,"post_id":74227651,"comment_id":131059789,"body_markdown":"I have edited my post.\nBy setting the partition offset on each run, you mean the kafkaconsumer configurations that i&#39;m using ?","body":"I have edited my post. By setting the partition offset on each run, you mean the kafkaconsumer configurations that i&#39;m using ?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666976124,"post_id":74227651,"comment_id":131069469,"body_markdown":"Thank you for the update. I added an answer. HIH.","body":"Thank you for the update. I added an answer. HIH."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666976091,"creation_date":1666976091,"answer_id":74238567,"question_id":74227651,"body_markdown":"&gt; This only works when i restart the scheduler process.\r\n\r\nThis is probably because your item reader is a singleton bean, having the same state for the entire lifetime of the application context. Things should work as you expect if you make your item reader step-scoped, so that a new instance is created for each scheduled run, and therefore the partition offset would be set to the one stored in Kafka.","title":"Spring Batch: KafkaItemReader reads from offset 0 if the JVM is not restarted","body":"<blockquote>\n<p>This only works when i restart the scheduler process.</p>\n</blockquote>\n<p>This is probably because your item reader is a singleton bean, having the same state for the entire lifetime of the application context. Things should work as you expect if you make your item reader step-scoped, so that a new instance is created for each scheduled run, and therefore the partition offset would be set to the one stored in Kafka.</p>\n"}],"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238567,"answer_count":1,"score":0,"last_activity_date":1666976091,"creation_date":1666900704,"question_id":74227651,"body_markdown":"I&#39;m trying to implement a Spring Batch job that is scheduled by a Spring scheduler.\r\n\r\n\r\n\r\nThe current befavior is as follows:\r\n\r\n- The job is launched by the scheduler using JarLauncher\r\n- The job consumes the kafka records and processed them\r\n- The next time the jobs ris launched by the scheduler, it consumes the kafka records already processed\r\n\r\nThe expected behavior is that the job needs to start processing from the last commited offset.\r\n\r\nI have set an empty map to the partitionOffsets property as follows to make the reader read the offsets from kafka.\r\n\r\n```\r\nkafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\r\n```\r\n\r\nThis only works when i restart the scheduler process.\r\nFYI, the offsets are correcty stored in the \\_consumer_offsets topic.\r\nMy question is, i&#39;m i mising some configuration that makes the KafkaItemReader read the offsets from kafka when the scheduler is not restarted ?\r\n\r\nEDIT:  \r\nEach time the scheduler is calling `jobLauncher.run(job, jobParameters);`, so i guess it is running a new instance\r\nThe item reader created is:\r\n\r\n    public ItemReader&lt;byte[]&gt; readFile() {\r\n                KafkaItemReader&lt;String, byte[]&gt; kafkaItemReader = new KafkaItemReaderBuilder&lt;String, byte[]&gt;()\r\n                        .partitions(partitionsList)\r\n                        .consumerProperties(props)\r\n                        .name(&quot;consumer name&quot;)\r\n                        .saveState(true)\r\n                        .topic(topicName)\r\n                        .build();\r\n                kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\r\n                return kafkaItemReader;\r\n    }\r\n\r\nMy kafkaConsumer configurations are:\r\n\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONFIG_BOOTSTRAP_SERVERS);\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, KAFKA_CONFIG_GROUP_ID);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_KEY_DESERIALIZER_CLASS);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_VALUE_DESERIALIZER_BYTES_CLASS);\r\n    props.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\r\n    props.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\r\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, KAFKA_CONFIG_AUTO_OFFSET_RESET_LATEST);\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, KAFKA_CONFIG_ENABLE_AUTO_COMMMIT);\r\n\r\n","title":"Spring Batch: KafkaItemReader reads from offset 0 if the JVM is not restarted","body":"<p>I'm trying to implement a Spring Batch job that is scheduled by a Spring scheduler.</p>\n<p>The current befavior is as follows:</p>\n<ul>\n<li>The job is launched by the scheduler using JarLauncher</li>\n<li>The job consumes the kafka records and processed them</li>\n<li>The next time the jobs ris launched by the scheduler, it consumes the kafka records already processed</li>\n</ul>\n<p>The expected behavior is that the job needs to start processing from the last commited offset.</p>\n<p>I have set an empty map to the partitionOffsets property as follows to make the reader read the offsets from kafka.</p>\n<pre><code>kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\n</code></pre>\n<p>This only works when i restart the scheduler process.\nFYI, the offsets are correcty stored in the _consumer_offsets topic.\nMy question is, i'm i mising some configuration that makes the KafkaItemReader read the offsets from kafka when the scheduler is not restarted ?</p>\n<p>EDIT:<br />\nEach time the scheduler is calling <code>jobLauncher.run(job, jobParameters);</code>, so i guess it is running a new instance\nThe item reader created is:</p>\n<pre><code>public ItemReader&lt;byte[]&gt; readFile() {\n            KafkaItemReader&lt;String, byte[]&gt; kafkaItemReader = new KafkaItemReaderBuilder&lt;String, byte[]&gt;()\n                    .partitions(partitionsList)\n                    .consumerProperties(props)\n                    .name(&quot;consumer name&quot;)\n                    .saveState(true)\n                    .topic(topicName)\n                    .build();\n            kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\n            return kafkaItemReader;\n}\n</code></pre>\n<p>My kafkaConsumer configurations are:</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONFIG_BOOTSTRAP_SERVERS);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, KAFKA_CONFIG_GROUP_ID);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_KEY_DESERIALIZER_CLASS);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_VALUE_DESERIALIZER_BYTES_CLASS);\nprops.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\nprops.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, KAFKA_CONFIG_AUTO_OFFSET_RESET_LATEST);\nprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, KAFKA_CONFIG_ENABLE_AUTO_COMMMIT);\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666970156,"post_id":74235707,"comment_id":131067364,"body_markdown":"From Selenium 4+, there is a `newWindow` method that let you open said window as a tab or a separate window. Refer to this answer: https://stackoverflow.com/a/66640852/10621296","body":"From Selenium 4+, there is a <code>newWindow</code> method that let you open said window as a tab or a separate window. Refer to this answer: <a href=\"https://stackoverflow.com/a/66640852/10621296\">stackoverflow.com/a/66640852/10621296</a>"},{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1666995170,"post_id":74235707,"comment_id":131074337,"body_markdown":"I know but i am not using selenium 4+ in my framework and i am not able to change it. That&#39;s why i should find different solution.","body":"I know but i am not using selenium 4+ in my framework and i am not able to change it. That&#39;s why i should find different solution."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666995554,"post_id":74235707,"comment_id":131074401,"body_markdown":"Then please add what version of Selenium you are using. Since Selenium 4 and newer releases already have solutions for this, knowing which version of Selenium you have can help others better understand your problem.","body":"Then please add what version of Selenium you are using. Since Selenium 4 and newer releases already have solutions for this, knowing which version of Selenium you have can help others better understand your problem."},{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1667017420,"post_id":74235707,"comment_id":131076662,"body_markdown":"My Selenium version is 3.141.59. And also i am using Singleton and POM design patterns.","body":"My Selenium version is 3.141.59. And also i am using Singleton and POM design patterns."}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666976039,"creation_date":1666976039,"answer_id":74238554,"question_id":74235707,"body_markdown":"You can use profile to achieve this scenario. I &#39;ve just given some sample code:\r\n\r\n\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;--user-data-dir=C:\\\\Temp\\\\&quot;);\r\n\t\toptions.addArguments(&quot;--profile-directory=ChromeData&quot;);\r\n\t\t\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\tdriver.get(&quot;https://www.flipkart.com/&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@class=&#39;_2IX_2- VJZDxU&#39;]&quot;)).sendKeys(&quot;&lt;username&gt;&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@class=&#39;_2IX_2- _3mctLh VJZDxU&#39;]&quot;)).sendKeys(&quot;&lt;password&gt;&quot;);\r\n\t\tThread.sleep(1000);\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@class=&#39;_2KpZ6l _2HKlqd _3AWRsL&#39;]&quot;)).click();\r\n\t\tThread.sleep(3000);\r\n\t\tdriver.close();\r\n\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://www.flipkart.com/&quot;);\r\n\r\nThe above code will create a new chrome profile in the directory - &quot;C:\\Temp\\ChromeData&quot;, then open the browser, launch the URL, login, close the window, again open a chrome browser, launch the same URL, but this time, the user already logged in.","title":"How can i same session id in my test when i close single open tab in Selenium?","body":"<p>You can use profile to achieve this scenario. I 've just given some sample code:</p>\n<pre><code>    WebDriverManager.chromedriver().setup();\n    \n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--user-data-dir=C:\\\\Temp\\\\&quot;);\n    options.addArguments(&quot;--profile-directory=ChromeData&quot;);\n    \n    driver = new ChromeDriver(options);\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    driver.get(&quot;https://www.flipkart.com/&quot;);\n    driver.findElement(By.xpath(&quot;//input[@class='_2IX_2- VJZDxU']&quot;)).sendKeys(&quot;&lt;username&gt;&quot;);\n    driver.findElement(By.xpath(&quot;//input[@class='_2IX_2- _3mctLh VJZDxU']&quot;)).sendKeys(&quot;&lt;password&gt;&quot;);\n    Thread.sleep(1000);\n    driver.findElement(By.xpath(&quot;//button[@class='_2KpZ6l _2HKlqd _3AWRsL']&quot;)).click();\n    Thread.sleep(3000);\n    driver.close();\n    Thread.sleep(1000);\n    \n    driver = new ChromeDriver(options);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.flipkart.com/&quot;);\n</code></pre>\n<p>The above code will create a new chrome profile in the directory - &quot;C:\\Temp\\ChromeData&quot;, then open the browser, launch the URL, login, close the window, again open a chrome browser, launch the same URL, but this time, the user already logged in.</p>\n"}],"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666976039,"creation_date":1666961506,"question_id":74235707,"body_markdown":"I want run one test script. The scenario is like that;\r\n- Go to login page\r\n- Login with valid credentials\r\n- Close current single tab\r\n- Go to the login page again\r\n- Verify whether browser will go homepage instead of login page or not.\r\n\r\nBut i don&#39;t know how can i do that. Because if i use close or quit method, session id will be killed. even if i open new browser for another step, it will not be same with real scenario. Because as manually, if i try to go to login page after closing single open homepage without logging out, i can go to home page directly. I am not be able to automate it. \r\n\r\nI used some Actions method to close and also open new tab.\r\nAnd i used these;\r\n\r\ndriver.findElement(By.cssSelector(“body”)).sendKeys(Keys.CONTROL+”t”);\r\n\r\n\r\ndriver.findElement(By.cssSelector(“body”)).sendKeys(Keys.CONTROL + &#39;w&#39;);\r\n\r\nI am using Selenium+Java+Cucumber+Chrome+Mac\r\n\r\n\r\n","title":"How can i same session id in my test when i close single open tab in Selenium?","body":"<p>I want run one test script. The scenario is like that;</p>\n<ul>\n<li>Go to login page</li>\n<li>Login with valid credentials</li>\n<li>Close current single tab</li>\n<li>Go to the login page again</li>\n<li>Verify whether browser will go homepage instead of login page or not.</li>\n</ul>\n<p>But i don't know how can i do that. Because if i use close or quit method, session id will be killed. even if i open new browser for another step, it will not be same with real scenario. Because as manually, if i try to go to login page after closing single open homepage without logging out, i can go to home page directly. I am not be able to automate it.</p>\n<p>I used some Actions method to close and also open new tab.\nAnd i used these;</p>\n<p>driver.findElement(By.cssSelector(“body”)).sendKeys(Keys.CONTROL+”t”);</p>\n<p>driver.findElement(By.cssSelector(“body”)).sendKeys(Keys.CONTROL + 'w');</p>\n<p>I am using Selenium+Java+Cucumber+Chrome+Mac</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":26762379,"reputation":1,"user_id":20360109,"display_name":"colby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666975924,"creation_date":1666975924,"answer_id":74238528,"question_id":74238438,"body_markdown":"I mistakenly set src as the main in my gradle and its now fixed.\r\n\r\n    sourceSets {\r\n    \tmain {\r\n    \t\tjava {\r\n    \t\t\tsrcDirs = [&quot;main&quot;]\r\n    \t\t}\r\n    \t}\r\n    }","title":"SpringBoot src [main] issue","body":"<p>I mistakenly set src as the main in my gradle and its now fixed.</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = [&quot;main&quot;]\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26762379,"reputation":1,"user_id":20360109,"display_name":"colby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666975924,"creation_date":1666975404,"question_id":74238438,"body_markdown":"Does anyone know why this would be happening? Other projects I have show src -&gt; main as bolded.\r\n\r\n\r\n[![src [main](https://i.stack.imgur.com/Y0Dt7.png)](https://i.stack.imgur.com/Y0Dt7.png)g\r\n\r\nI have tried unmarked directories and recreating the source directory as java as I was having a separate issue.","title":"SpringBoot src [main] issue","body":"<p>Does anyone know why this would be happening? Other projects I have show src -&gt; main as bolded.</p>\n<p>[<img src=\"https://i.stack.imgur.com/Y0Dt7.png\" alt=\"src main\" />g</p>\n<p>I have tried unmarked directories and recreating the source directory as java as I was having a separate issue.</p>\n"},{"tags":["java","sorting","tree","set"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970396,"post_id":74237088,"comment_id":131067437,"body_markdown":"I think part of your problem is not taking advantage of what the library classes offer you. For example, when adding a number (i.e. `set.add(2)`), the method will return `false` if the value already exist in the set. Therefore, you can capture the `boolean` value and do something like this: `if (!notInSet) {  // display 0; } else {// calculate diff} `","body":"I think part of your problem is not taking advantage of what the library classes offer you. For example, when adding a number (i.e. <code>set.add(2)</code>), the method will return <code>false</code> if the value already exist in the set. Therefore, you can capture the <code>boolean</code> value and do something like this: <code>if (!notInSet) {  &#47;&#47; display 0; } else {&#47;&#47; calculate diff} </code>"},{"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"score":0,"creation_date":1666970590,"post_id":74237088,"comment_id":131067507,"body_markdown":"@hfontanez tried that and there&#39;s no difference, still not meeting time complexity requirements","body":"@hfontanez tried that and there&#39;s no difference, still not meeting time complexity requirements"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970719,"post_id":74237088,"comment_id":131067566,"body_markdown":"You have to look for similar opportunities in the other methods. As to the efficiency of your calculation, that&#39;s another story. Maybe you could try this? https://stackoverflow.com/a/13318769/2851311","body":"You have to look for similar opportunities in the other methods. As to the efficiency of your calculation, that&#39;s another story. Maybe you could try this? <a href=\"https://stackoverflow.com/a/13318769/2851311\">stackoverflow.com/a/13318769/2851311</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970899,"post_id":74237088,"comment_id":131067639,"body_markdown":"Or maybe this other answer in the same question https://stackoverflow.com/a/48137268/2851311. You could try modifying this using `parallelStream` and see if it improves.","body":"Or maybe this other answer in the same question <a href=\"https://stackoverflow.com/a/48137268/2851311\">stackoverflow.com/a/48137268/2851311</a>. You could try modifying this using <code>parallelStream</code> and see if it improves."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666971221,"post_id":74237088,"comment_id":131067764,"body_markdown":"I hope you understand my suggestion. For cases when number is in set, the &quot;calculation&quot; will be in O(1). I think that should help with some cases. Overall, the worst case is in the calculation, so you need to improve your algorithm to find number closest to input in range. Java Stream API might help you achieve that.","body":"I hope you understand my suggestion. For cases when number is in set, the &quot;calculation&quot; will be in O(1). I think that should help with some cases. Overall, the worst case is in the calculation, so you need to improve your algorithm to find number closest to input in range. Java Stream API might help you achieve that."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666971483,"post_id":74237088,"comment_id":131067854,"body_markdown":"Just a thought... what if you convert the set to array list (should be sorted since you are using tree set) and then use a binary search to find the closest value? That should speed things up. Your greatest hit will be conversion to list. But I have a feeling it will work fine,","body":"Just a thought... what if you convert the set to array list (should be sorted since you are using tree set) and then use a binary search to find the closest value? That should speed things up. Your greatest hit will be conversion to list. But I have a feeling it will work fine,"},{"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"score":0,"creation_date":1666971860,"post_id":74237088,"comment_id":131068009,"body_markdown":"you&#39;re saying every time i add or remove an element from the set, i then convert it into a new list? that would give me O(QN) which will not suffice.","body":"you&#39;re saying every time i add or remove an element from the set, i then convert it into a new list? that would give me O(QN) which will not suffice."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666976715,"post_id":74237088,"comment_id":131069665,"body_markdown":"Kevin, follow Alexander&#39;s advice. He is correct in his assessment. I deleted my answer for this reason and upvoted his answer.","body":"Kevin, follow Alexander&#39;s advice. He is correct in his assessment. I deleted my answer for this reason and upvoted his answer."}],"answers":[{"tags":[],"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666975469,"creation_date":1666972292,"answer_id":74237857,"question_id":74237088,"body_markdown":"Here&#39;s one algorithm that should work (though I don&#39;t know if this is the intended algorithm):\r\n\r\n 1. Sort the list of numbers `L` (if not already sorted): `L = [2, 4, 7]`\r\n 2. Build a corresponding list `D` of &quot;sorted adjacent absolute differences&quot; (i.e., the differences between adjacent pairs in the sorted list, sorted themselves in ascending order): `D = [2, 3]`\r\n 3. For each operation... Suppose the operation is ADD 6, as an example. a) insert the number (6) into `L` in the correct (sorted) location: `L = [2, 4, 6, 7]`; b) based on where you inserted it, determine the corresponding adjacent absolute difference that is now obsolete and remove it from `D` (in this case, the difference 7-4=3 is no longer relevant and can be removed, since 4 and 7 are no longer adjacent with 6 separating them): `D = [2]`; c) Add in the two new adjacent absolute differences to the correct (sorted) locations (in this case, 6-4=2 and 7-6=1): `D = [1, 2, 2]`; d) print out the first element of `D`\r\n\r\nIf you encounter a remove operation in step 3, the logic is similar but slightly different. You&#39;d find and remove the element from `L`, remove the two adjacent differences from `D` that have been made irrelevant by the remove operation, add the new relevant adjacent difference to `D`, and print the first element of `D`.\r\n\r\nThe proof of correctness is straightforward. The minimum adjacent absolute difference will definitely also be the minimum absolute difference, because the absolute difference between two non-adjacent numbers will always be greater than or equal to the absolute difference between two adjacent numbers which lie &quot;between them&quot; in sorted order. This algorithm outputs the minimum adjacent absolute difference after each operation.\r\n\r\nYou have a few options for the sorted list data structures. But since you want to be able to quickly insert, remove, *and* read ordered data, I&#39;d suggest something like a self-balancing binary tree. Suppose we use an AVL tree.\r\n\r\nStep 1 is O(N log(N)). If the input is an array or something, you could just build an AVL tree; insertion in an AVL tree is log(N), and you have to do it N times to build the tree.\r\n\r\nStep 2 is O(N log(N)); you just have to iterate over the AVL tree for `L` in ascending order, computing adjacent differences as you go, and insert each difference into a new AVL tree for `D` (again, N insertions each with log(N) complexity).\r\n\r\nFor a single operation, steps 3a), 3b), 3c), and 3d) are all O(log(N+Q)), since they each involve inserting, deleting, or reading one or two elements from an AVL tree of size &lt; N+Q. So for a single operation, step 3 is O(log(N+Q)). Step 3 repeats this across Q operations, giving you O(Q log(N+Q)).\r\n\r\nSo the final algorithmic runtime complexity is O(N log(N)) + O(Q log(N+Q)), which is less than O((N+Q) log(N+Q)).\r\n\r\n**Edit:**\r\n\r\nI just realized that the &quot;list of numbers&quot; (`L`) is actually a set (at least, it is according to the question title, but that might be misleading). Sets don&#39;t allow for duplicates. But that&#39;s fine either way; whenever inserting, just check if it&#39;s a duplicate (after determining where to insert it). If it&#39;s a duplicate, the whole operation becomes a no-op. This doesn&#39;t change the complexity. Though I suppose that&#39;s what a `TreeSet` does anyways.","title":"Minimum absolute difference of a set of numbers","body":"<p>Here's one algorithm that should work (though I don't know if this is the intended algorithm):</p>\n<ol>\n<li>Sort the list of numbers <code>L</code> (if not already sorted): <code>L = [2, 4, 7]</code></li>\n<li>Build a corresponding list <code>D</code> of &quot;sorted adjacent absolute differences&quot; (i.e., the differences between adjacent pairs in the sorted list, sorted themselves in ascending order): <code>D = [2, 3]</code></li>\n<li>For each operation... Suppose the operation is ADD 6, as an example. a) insert the number (6) into <code>L</code> in the correct (sorted) location: <code>L = [2, 4, 6, 7]</code>; b) based on where you inserted it, determine the corresponding adjacent absolute difference that is now obsolete and remove it from <code>D</code> (in this case, the difference 7-4=3 is no longer relevant and can be removed, since 4 and 7 are no longer adjacent with 6 separating them): <code>D = [2]</code>; c) Add in the two new adjacent absolute differences to the correct (sorted) locations (in this case, 6-4=2 and 7-6=1): <code>D = [1, 2, 2]</code>; d) print out the first element of <code>D</code></li>\n</ol>\n<p>If you encounter a remove operation in step 3, the logic is similar but slightly different. You'd find and remove the element from <code>L</code>, remove the two adjacent differences from <code>D</code> that have been made irrelevant by the remove operation, add the new relevant adjacent difference to <code>D</code>, and print the first element of <code>D</code>.</p>\n<p>The proof of correctness is straightforward. The minimum adjacent absolute difference will definitely also be the minimum absolute difference, because the absolute difference between two non-adjacent numbers will always be greater than or equal to the absolute difference between two adjacent numbers which lie &quot;between them&quot; in sorted order. This algorithm outputs the minimum adjacent absolute difference after each operation.</p>\n<p>You have a few options for the sorted list data structures. But since you want to be able to quickly insert, remove, <em>and</em> read ordered data, I'd suggest something like a self-balancing binary tree. Suppose we use an AVL tree.</p>\n<p>Step 1 is O(N log(N)). If the input is an array or something, you could just build an AVL tree; insertion in an AVL tree is log(N), and you have to do it N times to build the tree.</p>\n<p>Step 2 is O(N log(N)); you just have to iterate over the AVL tree for <code>L</code> in ascending order, computing adjacent differences as you go, and insert each difference into a new AVL tree for <code>D</code> (again, N insertions each with log(N) complexity).</p>\n<p>For a single operation, steps 3a), 3b), 3c), and 3d) are all O(log(N+Q)), since they each involve inserting, deleting, or reading one or two elements from an AVL tree of size &lt; N+Q. So for a single operation, step 3 is O(log(N+Q)). Step 3 repeats this across Q operations, giving you O(Q log(N+Q)).</p>\n<p>So the final algorithmic runtime complexity is O(N log(N)) + O(Q log(N+Q)), which is less than O((N+Q) log(N+Q)).</p>\n<p><strong>Edit:</strong></p>\n<p>I just realized that the &quot;list of numbers&quot; (<code>L</code>) is actually a set (at least, it is according to the question title, but that might be misleading). Sets don't allow for duplicates. But that's fine either way; whenever inserting, just check if it's a duplicate (after determining where to insert it). If it's a duplicate, the whole operation becomes a no-op. This doesn't change the complexity. Though I suppose that's what a <code>TreeSet</code> does anyways.</p>\n"}],"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237857,"answer_count":1,"score":1,"last_activity_date":1666975469,"creation_date":1666968422,"question_id":74237088,"body_markdown":"I am given a number set of size `n`, and a list of `Q` inputs. Each input will either remove or add a number to this set. After each input, I am supposed to output the minimum absolute difference of the set of numbers. \r\n\r\nConstraints:\r\n\r\n`2 &lt;= N &lt;= 10^6`\r\n\r\n`1 &lt;= Q &lt;= 10^6`\r\n\r\n`-10^9 &lt;= set[i] &lt;= 10^9`\r\n\r\nExample:\r\n\r\ninput:\r\n```\r\nset = [2, 4, 7]\r\nADD 6\r\nREMOVE 7\r\nREMOVE 4\r\nADD 2\r\n```\r\n\r\noutput:\r\n```\r\n1\r\n2\r\n4\r\n0\r\n```\r\n\r\nI am tasked to solve this using an algorithm of time complexity **O((N+Q)log(N+Q))** or better.\r\n\r\nMy current implementation is not fast enough, but it is as follows: \r\n\r\n\r\n```\r\nTreeSet&lt;Integer&gt; tree = new TreeSet&lt;&gt;();\r\nHashMap&lt;Integer, Integer&gt; numberFreq = new HashMap&lt;&gt;();\r\n\r\nint dupeCount = 0;\r\n\r\nfor (int i : set) {\r\n    tree.add(i);\r\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\r\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\r\n}\r\n\r\nvoid add(int i) {\r\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\r\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\r\n    tree.add(i); // if duplicate nothing gets added anyway\r\n   \r\n    if (dupeCount &gt; 0) Console.write(0);\r\n    else {\r\n        int smallestBall = ballTree.first();\r\n        int absDiff;\r\n        int maxAbsDiff = Integer.MAX_VALUE;\r\n        while (ballTree.higher(smallestBall) != null) {\r\n            absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\r\n            maxAbsDiff = Math.min(absDiff, maxAbsDiff);\r\n            smallestBall = ballTree.higher(smallestBall);\r\n        }\r\n    Console.write(maxAbsDiff);\r\n    }\r\n\r\n}\r\n\r\nvoid remove(int i) {\r\n     if (numberFreq.get(i) &gt; 0) dupeCount--;\r\n     else tree.remove(i);\r\n     numberFreq.put(i, numberFreq.get(i) - 1);\r\n\r\n     if (dupeCount &gt; 0) Console.write(0);\r\n     else {\r\n         int smallestBall = ballTree.first();\r\n         int absDiff;\r\n         int maxAbsDiff = Integer.MAX_VALUE;\r\n         while (ballTree.higher(smallestBall) != null) {\r\n             absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\r\n             maxAbsDiff = Math.min(absDiff, maxAbsDiff);\r\n             smallestBall = ballTree.higher(smallestBall);\r\n        }\r\n     Console.write(maxAbsDiff);\r\n     }\r\n}    \r\n```\r\n\r\nI&#39;ve tried at it for 2 days now and I&#39;m quite lost.","title":"Minimum absolute difference of a set of numbers","body":"<p>I am given a number set of size <code>n</code>, and a list of <code>Q</code> inputs. Each input will either remove or add a number to this set. After each input, I am supposed to output the minimum absolute difference of the set of numbers.</p>\n<p>Constraints:</p>\n<p><code>2 &lt;= N &lt;= 10^6</code></p>\n<p><code>1 &lt;= Q &lt;= 10^6</code></p>\n<p><code>-10^9 &lt;= set[i] &lt;= 10^9</code></p>\n<p>Example:</p>\n<p>input:</p>\n<pre><code>set = [2, 4, 7]\nADD 6\nREMOVE 7\nREMOVE 4\nADD 2\n</code></pre>\n<p>output:</p>\n<pre><code>1\n2\n4\n0\n</code></pre>\n<p>I am tasked to solve this using an algorithm of time complexity <strong>O((N+Q)log(N+Q))</strong> or better.</p>\n<p>My current implementation is not fast enough, but it is as follows:</p>\n<pre><code>TreeSet&lt;Integer&gt; tree = new TreeSet&lt;&gt;();\nHashMap&lt;Integer, Integer&gt; numberFreq = new HashMap&lt;&gt;();\n\nint dupeCount = 0;\n\nfor (int i : set) {\n    tree.add(i);\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\n}\n\nvoid add(int i) {\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\n    tree.add(i); // if duplicate nothing gets added anyway\n   \n    if (dupeCount &gt; 0) Console.write(0);\n    else {\n        int smallestBall = ballTree.first();\n        int absDiff;\n        int maxAbsDiff = Integer.MAX_VALUE;\n        while (ballTree.higher(smallestBall) != null) {\n            absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\n            maxAbsDiff = Math.min(absDiff, maxAbsDiff);\n            smallestBall = ballTree.higher(smallestBall);\n        }\n    Console.write(maxAbsDiff);\n    }\n\n}\n\nvoid remove(int i) {\n     if (numberFreq.get(i) &gt; 0) dupeCount--;\n     else tree.remove(i);\n     numberFreq.put(i, numberFreq.get(i) - 1);\n\n     if (dupeCount &gt; 0) Console.write(0);\n     else {\n         int smallestBall = ballTree.first();\n         int absDiff;\n         int maxAbsDiff = Integer.MAX_VALUE;\n         while (ballTree.higher(smallestBall) != null) {\n             absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\n             maxAbsDiff = Math.min(absDiff, maxAbsDiff);\n             smallestBall = ballTree.higher(smallestBall);\n        }\n     Console.write(maxAbsDiff);\n     }\n}    \n</code></pre>\n<p>I've tried at it for 2 days now and I'm quite lost.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666975133,"creation_date":1666974760,"answer_id":74238326,"question_id":74238158,"body_markdown":"I think you need to search for allergens which are already in DB. Make search query which is searching by name and you search do I already have &quot;gluten&quot;.\r\n\r\nIf yes get this object and add it to the allergens of the new Ingredient. This way the id will be set inside the Allergen and the JPA session will know that this entity was in DB hopefully it will not duplicate.\r\n\r\nAlso please check documentation of the method that you are using for saving in db as it can have impact on your code. For example:\r\nhttps://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate","title":"@Onte to Many relationship without child duplication","body":"<p>I think you need to search for allergens which are already in DB. Make search query which is searching by name and you search do I already have &quot;gluten&quot;.</p>\n<p>If yes get this object and add it to the allergens of the new Ingredient. This way the id will be set inside the Allergen and the JPA session will know that this entity was in DB hopefully it will not duplicate.</p>\n<p>Also please check documentation of the method that you are using for saving in db as it can have impact on your code. For example:\n<a href=\"https://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate\">What&#39;s the difference between session.persist() and session.save() in Hibernate?</a></p>\n"}],"owner":{"account_id":20462570,"reputation":23,"user_id":15015024,"display_name":"Javier Rius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238326,"answer_count":1,"score":0,"last_activity_date":1666975133,"creation_date":1666973798,"question_id":74238158,"body_markdown":"I have two classes Ingredient and Allergen, and I want to persist it.\r\n\r\nIngredient has a One to many relationship with Allergen\r\n\r\n    public class Ingredient() {\r\n       @OneToMany\r\n       List&lt;Allergen&gt; allergens;\r\n    }\r\nThe problem is that every time I save a new object of Ingredient, then creates one Allergen in Allergen table pera each that appears in the Ingredient allergen list. For example if an ingredient has a inside the list &quot;gluten&quot;, and another ingredient has the same allergen then the table Allergens contains a duplication of same allergen, how can avoid this behavior ?. I have tried assigning the same Allergen id but not works.","title":"@Onte to Many relationship without child duplication","body":"<p>I have two classes Ingredient and Allergen, and I want to persist it.</p>\n<p>Ingredient has a One to many relationship with Allergen</p>\n<pre><code>public class Ingredient() {\n   @OneToMany\n   List&lt;Allergen&gt; allergens;\n}\n</code></pre>\n<p>The problem is that every time I save a new object of Ingredient, then creates one Allergen in Allergen table pera each that appears in the Ingredient allergen list. For example if an ingredient has a inside the list &quot;gluten&quot;, and another ingredient has the same allergen then the table Allergens contains a duplication of same allergen, how can avoid this behavior ?. I have tried assigning the same Allergen id but not works.</p>\n"},{"tags":["java","android","android-studio","text-to-speech","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642456943,"post_id":70744663,"comment_id":125071159,"body_markdown":"Just set up your File instance with right path . You dont need media store.","body":"Just set up your File instance with right path . You dont need media store."}],"answers":[{"tags":[],"owner":{"account_id":7423444,"reputation":238,"user_id":5647103,"display_name":"mohsyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974990,"creation_date":1666933386,"answer_id":74230857,"question_id":70744663,"body_markdown":"Use fdopen()\r\n\r\n `FILE* fp = fdopen(fd, &quot;w&quot;);`","title":"Saving TTS audio files to shared storage in android 10","body":"<p>Use fdopen()</p>\n<p><code>FILE* fp = fdopen(fd, &quot;w&quot;);</code></p>\n"}],"owner":{"account_id":21583377,"reputation":11,"user_id":15914249,"display_name":"Kartik Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666974990,"creation_date":1642437497,"question_id":70744663,"body_markdown":"I want to save my audio file to shared storage in android 10 which is created using :\r\n```\r\ntextToSpeech.synthesizeToFile(text,params,file,&quot;utterance_id&quot;);\r\n```\r\n***file*** is of ParcelFileDescriptor type which is created using createFile() method:\r\n\r\n```\r\npublic void createFile()\r\n    {\r\n        ContentValues values = new ContentValues(4);\r\n        values.put(MediaStore.Audio.Media.TITLE, &quot;Audioasas&quot;);\r\n        values.put(MediaStore.Audio.Media.DATE_ADDED, (int) (System.currentTimeMillis() / 1000));\r\n        values.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mp3&quot;);\r\n        values.put(MediaStore.Audio.Media.RELATIVE_PATH, &quot;Music/Recordings/&quot;);\r\n\r\n        audiouri = getContentResolver().insert(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, values);\r\n        try {\r\n            file=getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n   \r\n }\r\n```\r\n\r\nThe problem here is that below method\r\n```\r\npublic int synthesizeToFile (CharSequence text, \r\n                Bundle params, \r\n                ParcelFileDescriptor fileDescriptor, \r\n                String utteranceId)\r\n```\r\nis added in API level 30 (Android 11).\r\n\r\nFor android 10 we have:\r\n```\r\npublic int synthesizeToFile (CharSequence text, \r\n                Bundle params, \r\n                File file, \r\n                String utteranceId)\r\n```\r\nBut ```getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;)``` method always return FileDescriptor object.\r\n\r\nTherefore my question is how can I save my audio file to shared storage using \r\n\r\n    public int synthesizeToFile (CharSequence text, \r\n                    Bundle params, \r\n                    File file, \r\n                    String utteranceId)\r\n\r\n```.\r\n\r\n    or using any other method.\r\n    Thanks","title":"Saving TTS audio files to shared storage in android 10","body":"<p>I want to save my audio file to shared storage in android 10 which is created using :</p>\n<pre><code>textToSpeech.synthesizeToFile(text,params,file,&quot;utterance_id&quot;);\n</code></pre>\n<p><em><strong>file</strong></em> is of ParcelFileDescriptor type which is created using createFile() method:</p>\n<pre><code>public void createFile()\n    {\n        ContentValues values = new ContentValues(4);\n        values.put(MediaStore.Audio.Media.TITLE, &quot;Audioasas&quot;);\n        values.put(MediaStore.Audio.Media.DATE_ADDED, (int) (System.currentTimeMillis() / 1000));\n        values.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mp3&quot;);\n        values.put(MediaStore.Audio.Media.RELATIVE_PATH, &quot;Music/Recordings/&quot;);\n\n        audiouri = getContentResolver().insert(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, values);\n        try {\n            file=getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n   \n }\n</code></pre>\n<p>The problem here is that below method</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                ParcelFileDescriptor fileDescriptor, \n                String utteranceId)\n</code></pre>\n<p>is added in API level 30 (Android 11).</p>\n<p>For android 10 we have:</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                File file, \n                String utteranceId)\n</code></pre>\n<p>But <code>getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;)</code> method always return FileDescriptor object.</p>\n<p>Therefore my question is how can I save my audio file to shared storage using</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                File file, \n                String utteranceId)\n</code></pre>\n<pre><code>\n    or using any other method.\n    Thanks\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1666971252,"post_id":74237639,"comment_id":131067776,"body_markdown":"Returning `MyResponse` is okay, but accepting only `MyRequest` is not: If you referred to a variable as `Order o = new MyOrder();`, you would expect `o.cancel(r)` to handle _any_ `Request r`, not just `MyRequest`. However, the return value being only `MyResponse` is okay: it will always be a `Response`.","body":"Returning <code>MyResponse</code> is okay, but accepting only <code>MyRequest</code> is not: If you referred to a variable as <code>Order o = new MyOrder();</code>, you would expect <code>o.cancel(r)</code> to handle <i>any</i> <code>Request r</code>, not just <code>MyRequest</code>. However, the return value being only <code>MyResponse</code> is okay: it will always be a <code>Response</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666971273,"post_id":74237639,"comment_id":131067785,"body_markdown":"Does this answer your question? [Why are contravariant parameter types in Java not allowed for overriding?](https://stackoverflow.com/questions/12439649/why-are-contravariant-parameter-types-in-java-not-allowed-for-overriding)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12439649/why-are-contravariant-parameter-types-in-java-not-allowed-for-overriding\">Why are contravariant parameter types in Java not allowed for overriding?</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666971274,"creation_date":1666971274,"answer_id":74237673,"question_id":74237639,"body_markdown":"The following would not work -- but inheritance requires it must.\r\n\r\n```\r\nclass MyOtherRequest implements Request { ... }\r\n\r\nMyOrder myOrder = new MyOrder();\r\nOrder order = myOrder; // okay because myOrder is a subtype of Order\r\norder.cancel(new MyOtherRequest()); // unimplemented!\r\n```\r\n\r\nAs a result, a subtype&#39;s method must accept _all_ the possible values the supertype&#39;s method would accept -- not just a subset.","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>The following would not work -- but inheritance requires it must.</p>\n<pre><code>class MyOtherRequest implements Request { ... }\n\nMyOrder myOrder = new MyOrder();\nOrder order = myOrder; // okay because myOrder is a subtype of Order\norder.cancel(new MyOtherRequest()); // unimplemented!\n</code></pre>\n<p>As a result, a subtype's method must accept <em>all</em> the possible values the supertype's method would accept -- not just a subset.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974526,"creation_date":1666972330,"answer_id":74237863,"question_id":74237639,"body_markdown":"The problem is with the parameter to cancel.\r\n```\r\npublic MyResponse cancel(MyRequest request) {\r\n      return null;\r\n}\r\n```\r\nYou can&#39;t pass a `supertype` to a `subtype` (In this case `Request` object to `MyRequest` parameter) as the implementation of the `subType` may have other methods that the `superType` interface is unaware of.","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>The problem is with the parameter to cancel.</p>\n<pre><code>public MyResponse cancel(MyRequest request) {\n      return null;\n}\n</code></pre>\n<p>You can't pass a <code>supertype</code> to a <code>subtype</code> (In this case <code>Request</code> object to <code>MyRequest</code> parameter) as the implementation of the <code>subType</code> may have other methods that the <code>superType</code> interface is unaware of.</p>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74237673,"answer_count":2,"score":-1,"last_activity_date":1666974816,"creation_date":1666971137,"question_id":74237639,"body_markdown":" I would like to ask you why usage `@Override` in this case produces an error &quot;`Method does not override method from its superclass`&quot;? Why I cannot use instance of the class implemented an interface as a parameter and return type of the metod defined by same interface?  \r\n\r\n     public interface Request {\r\n        //....\r\n      }\r\n    \r\n      public interface Response {\r\n        //....\r\n      }\r\n    \r\n      public class MyRequest implements Request {\r\n        //....\r\n      }\r\n    \r\n      public class MyResponse implements Response {\r\n        //....\r\n      }\r\n    \r\n      public interface Order {\r\n        Response cancel(Request request);\r\n      }\r\n    \r\n      public class MyOrder implements Order {\r\n    \r\n        @Override\r\n        public MyResponse cancel(MyRequest request) {\r\n          return null;\r\n        }\r\n    \r\n      }","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>I would like to ask you why usage <code>@Override</code> in this case produces an error &quot;<code>Method does not override method from its superclass</code>&quot;? Why I cannot use instance of the class implemented an interface as a parameter and return type of the metod defined by same interface?</p>\n<pre><code> public interface Request {\n    //....\n  }\n\n  public interface Response {\n    //....\n  }\n\n  public class MyRequest implements Request {\n    //....\n  }\n\n  public class MyResponse implements Response {\n    //....\n  }\n\n  public interface Order {\n    Response cancel(Request request);\n  }\n\n  public class MyOrder implements Order {\n\n    @Override\n    public MyResponse cancel(MyRequest request) {\n      return null;\n    }\n\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974744,"creation_date":1666974744,"answer_id":74238325,"question_id":74215136,"body_markdown":"There is no `attributes` support in the `WebFluxRequestExecutingMessageHandler` at the moment. And there is no an easy workaround : you must use that your custom `WebClient` instead.\r\n\r\nI would like to understand the reason behind those attributes for you since I don&#39;t see how thy effect the target HTTP request. From the code I have so far it only leads into a deprecated method:\r\n\r\n\t/**\r\n\t * Variant of {@link #basicAuthentication(String, String)} that looks up\r\n\t * the {@link Credentials Credentials} in a\r\n\t * {@link #BASIC_AUTHENTICATION_CREDENTIALS_ATTRIBUTE request attribute}.\r\n\t * @return the filter to use\r\n\t * @see Credentials\r\n\t * @deprecated as of Spring 5.1 in favor of using\r\n\t * {@link HttpHeaders#setBasicAuth(String, String)} while building the request.\r\n\t */\r\n\t@Deprecated\r\n\tpublic static ExchangeFilterFunction basicAuthentication() {\r\n\r\nSo, sounds like Spring Framework is discontinuing `atrributes` the redundant feature.","title":"How to add request attribute through spring webflux integration for outbound gateway","body":"<p>There is no <code>attributes</code> support in the <code>WebFluxRequestExecutingMessageHandler</code> at the moment. And there is no an easy workaround : you must use that your custom <code>WebClient</code> instead.</p>\n<p>I would like to understand the reason behind those attributes for you since I don't see how thy effect the target HTTP request. From the code I have so far it only leads into a deprecated method:</p>\n<pre><code>/**\n * Variant of {@link #basicAuthentication(String, String)} that looks up\n * the {@link Credentials Credentials} in a\n * {@link #BASIC_AUTHENTICATION_CREDENTIALS_ATTRIBUTE request attribute}.\n * @return the filter to use\n * @see Credentials\n * @deprecated as of Spring 5.1 in favor of using\n * {@link HttpHeaders#setBasicAuth(String, String)} while building the request.\n */\n@Deprecated\npublic static ExchangeFilterFunction basicAuthentication() {\n</code></pre>\n<p>So, sounds like Spring Framework is discontinuing <code>atrributes</code> the redundant feature.</p>\n"}],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666974744,"creation_date":1666825713,"question_id":74215136,"body_markdown":"Below is outbound gateway configuration\r\n\r\n    &lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\r\n                  url=&quot;http://localhost:8080/hello&quot;\r\n                  http-method=&quot;GET&quot;\r\n                  request-channel=&quot;requests&quot;\r\n                  reply-timeout=&quot;1234&quot;\r\n                  extract-request-payload=&quot;false&quot;\r\n                  expected-response-type=&quot;java.lang.String&quot;\r\n                  mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\r\n                  mapped-response-headers=&quot;responseHeader&quot;\r\n                  reply-channel=&quot;replies&quot;\r\n                  charset=&quot;UTF-8&quot;\r\n                  order=&quot;77&quot;\r\n                  auto-startup=&quot;false&quot;\r\n                  transfer-cookies=&quot;true&quot;\r\n                  reply-payload-to-flux=&quot;true&quot;\r\n                  body-extractor=&quot;bodyExtractor&quot;\r\n                  publisher-element-type-expression=&quot;headers.elementType&quot;\r\n                  extract-response-body=&quot;false&quot;&gt;\r\n    &lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\r\n&lt;/outbound-gateway&gt;\r\n\r\nI have a requirement to set request attribute before sending request to request channel.Also the value of attribute can be different for each request.\r\n\r\nSomething similar to below if i have webclient object where the value for attribute MYCUSTOMATTRIBUTE_1(which is &quot;customvalue&quot; in below example) can be updated before each request.\r\n\r\n    webClient.get().uri(&quot;http://localhost:8080/hello&quot;)\r\n\t\t\t\t\t.attribute(&quot;MYCUSTOMATTRIBUTE_1&quot;, &quot;customvalue&quot;)\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.toEntity(String.class)\r\n\t\t\t\t\t.block()\t\t\r\n\t\t\t\t\t.getBody();\r\nUsing spring gateway xml, i am sending request on request channel using below code:\r\n\r\n    DirectChannel requestChannel = context.getBean(&quot;requestChannel&quot;, DirectChannel.class);\r\n    requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).build());\r\n\r\n**Does spring webflux integration provide a way to do the same?**\t\r\n\r\nI also tried to pass value through Message object header using below code but i am not getting my custom header which is requestHeader1 in clientrequest. Note that requestheader1 is added in mapped-request-headers attribute.\r\n\r\n    requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).setHeader(requestHeader1,&quot;customvalue&quot;).build());\r\n\r\n\t\r\n\r\n\t\r\n\r\n\r\n","title":"How to add request attribute through spring webflux integration for outbound gateway","body":"<p>Below is outbound gateway configuration</p>\n<pre><code>&lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\n              url=&quot;http://localhost:8080/hello&quot;\n              http-method=&quot;GET&quot;\n              request-channel=&quot;requests&quot;\n              reply-timeout=&quot;1234&quot;\n              extract-request-payload=&quot;false&quot;\n              expected-response-type=&quot;java.lang.String&quot;\n              mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\n              mapped-response-headers=&quot;responseHeader&quot;\n              reply-channel=&quot;replies&quot;\n              charset=&quot;UTF-8&quot;\n              order=&quot;77&quot;\n              auto-startup=&quot;false&quot;\n              transfer-cookies=&quot;true&quot;\n              reply-payload-to-flux=&quot;true&quot;\n              body-extractor=&quot;bodyExtractor&quot;\n              publisher-element-type-expression=&quot;headers.elementType&quot;\n              extract-response-body=&quot;false&quot;&gt;\n&lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\n</code></pre>\n\n<p>I have a requirement to set request attribute before sending request to request channel.Also the value of attribute can be different for each request.</p>\n<p>Something similar to below if i have webclient object where the value for attribute MYCUSTOMATTRIBUTE_1(which is &quot;customvalue&quot; in below example) can be updated before each request.</p>\n<pre><code>webClient.get().uri(&quot;http://localhost:8080/hello&quot;)\n                .attribute(&quot;MYCUSTOMATTRIBUTE_1&quot;, &quot;customvalue&quot;)\n                .retrieve()\n                .toEntity(String.class)\n                .block()        \n                .getBody();\n</code></pre>\n<p>Using spring gateway xml, i am sending request on request channel using below code:</p>\n<pre><code>DirectChannel requestChannel = context.getBean(&quot;requestChannel&quot;, DirectChannel.class);\nrequestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).build());\n</code></pre>\n<p><strong>Does spring webflux integration provide a way to do the same?</strong></p>\n<p>I also tried to pass value through Message object header using below code but i am not getting my custom header which is requestHeader1 in clientrequest. Note that requestheader1 is added in mapped-request-headers attribute.</p>\n<pre><code>requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).setHeader(requestHeader1,&quot;customvalue&quot;).build());\n</code></pre>\n"},{"tags":["java","spring","tomcat","servlets"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666975329,"post_id":74238279,"comment_id":131069199,"body_markdown":"[this link](https://stackoverflow.com/questions/5638538/spring-destroy-method-request-scope-bean#5722631)  might be helpful","body":"<a href=\"https://stackoverflow.com/questions/5638538/spring-destroy-method-request-scope-bean#5722631\">this link</a>  might be helpful"}],"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666974504,"creation_date":1666974504,"question_id":74238279,"body_markdown":"Java Servlet API allows to plug into the request lifecycle via the `ServletRequestListener` class, which exposes callbacks for the following events:\r\n* requestInitialized\r\n* requestDestroyed\r\n\r\nHowever, for the case I&#39;m currently investigating, I need to differentiate between the moment a response is sent and the moment the request gets destroyed, in order to trace the cause of increased latency.\r\n\r\nIs there such a way? \r\n\r\nFor further context, my app is built upon Spring Rest MVC for creating the endpoints and there is a significant difference (minutes even) between the moment the execution exits the controller and the moment the request gets destroyed. We have no postprocessing interceptors, so it isn&#39;t quite clear to me at which point the latency appears.","title":"Does Java servlet API expose an event when a response was sent?","body":"<p>Java Servlet API allows to plug into the request lifecycle via the <code>ServletRequestListener</code> class, which exposes callbacks for the following events:</p>\n<ul>\n<li>requestInitialized</li>\n<li>requestDestroyed</li>\n</ul>\n<p>However, for the case I'm currently investigating, I need to differentiate between the moment a response is sent and the moment the request gets destroyed, in order to trace the cause of increased latency.</p>\n<p>Is there such a way?</p>\n<p>For further context, my app is built upon Spring Rest MVC for creating the endpoints and there is a significant difference (minutes even) between the moment the execution exits the controller and the moment the request gets destroyed. We have no postprocessing interceptors, so it isn't quite clear to me at which point the latency appears.</p>\n"},{"tags":["java","maven","web-inf"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1631789936,"post_id":69207117,"comment_id":122320102,"body_markdown":"In my eyes the most simpelst way use an IDE like Eclipse, IntelliJ, Netbeans and so far. Maybe I&#39;m wrong some archetypes from Maven will it do for you either.","body":"In my eyes the most simpelst way use an IDE like Eclipse, IntelliJ, Netbeans and so far. Maybe I&#39;m wrong some archetypes from Maven will it do for you either."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1631793314,"post_id":69207117,"comment_id":122321512,"body_markdown":"How about create a pure web application with wizard of Eclipse and then convert this project to maven?","body":"How about create a pure web application with wizard of Eclipse and then convert this project to maven?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1631794446,"post_id":69207117,"comment_id":122322057,"body_markdown":"Please post your pom file here....","body":"Please post your pom file here...."},{"owner":{"display_name":"user7208250"},"score":0,"creation_date":1631796777,"post_id":69207117,"comment_id":122323193,"body_markdown":"I tried to upload my pom.xml in the &#39;Add Comment&#39; section but it did not allow me to upload.","body":"I tried to upload my pom.xml in the &#39;Add Comment&#39; section but it did not allow me to upload."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1631835935,"post_id":69207117,"comment_id":122337076,"body_markdown":"Add it to the question, not a comment.","body":"Add it to the question, not a comment."},{"owner":{"display_name":"user7208250"},"score":0,"creation_date":1631839931,"post_id":69207117,"comment_id":122337624,"body_markdown":"I have uploaded my pom.xml file.","body":"I have uploaded my pom.xml file."}],"answers":[{"tags":[],"owner":{"account_id":26762229,"reputation":16,"user_id":20359988,"display_name":"user20359988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666973831,"creation_date":1666973831,"answer_id":74238166,"question_id":69207117,"body_markdown":"Answer to this question is:: \r\n                           Springboot MVC is designed mostly in a programmatic approach, and this WEB-INF folder deals with web.xml files and related stuff, that&#39;s the main reason there is no predefined folder structure with WEB-INF\r\n\r\n","title":"Missing WEB-INF folder in Maven Java Project","body":"<p>Answer to this question is::\nSpringboot MVC is designed mostly in a programmatic approach, and this WEB-INF folder deals with web.xml files and related stuff, that's the main reason there is no predefined folder structure with WEB-INF</p>\n"}],"owner":{"display_name":"user7208250"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238166,"answer_count":1,"score":0,"last_activity_date":1666973831,"creation_date":1631789455,"question_id":69207117,"body_markdown":"&gt; Blockquote\r\n\r\nI have created a simple project(skip archetype selection) in Maven.\r\n\r\nMaven created `src/main/java`, `src/main/resources`, `src/test/java` and `src/test/resources` folders.\r\n\r\nMaven did not create WEB-INF folder inside the webapps.\r\nI have also added maven-war-plugin.\r\n\r\nHow to get WEB-INF folder inside webapps? and \r\nthen how to get WEB-INF/web.xml file?\r\n\r\nThis is my pom.xml file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.prjs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tjsp1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;tjsp1&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      \r\n    &lt;/project&gt;    ","title":"Missing WEB-INF folder in Maven Java Project","body":"<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>I have created a simple project(skip archetype selection) in Maven.</p>\n<p>Maven created <code>src/main/java</code>, <code>src/main/resources</code>, <code>src/test/java</code> and <code>src/test/resources</code> folders.</p>\n<p>Maven did not create WEB-INF folder inside the webapps.\nI have also added maven-war-plugin.</p>\n<p>How to get WEB-INF folder inside webapps? and\nthen how to get WEB-INF/web.xml file?</p>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.prjs&lt;/groupId&gt;\n  &lt;artifactId&gt;tjsp1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  \n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;tjsp1&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  \n&lt;/project&gt;    \n</code></pre>\n"},{"tags":["java","oop","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1666975606,"post_id":74238151,"comment_id":131069304,"body_markdown":"The instance your program is using to show the user is using an empty instance of User: `loggedUser = new User();`","body":"The instance your program is using to show the user is using an empty instance of User: <code>loggedUser = new User();</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1666979266,"post_id":74238151,"comment_id":131070499,"body_markdown":"You also have two different instances of `MainWindowController`, which is probably not what you intend. There is the one you create directly with `new MainWindowController()`, and the one that is created when you load the FXML file. Since you made `loadScene()` `static`, there is no need for the first one: you can just call `MainWindowController.loadScene(...)`. (Your IDE should be giving you a warning about this anyway.) Then you need to pass the `User` to the controller that is created when you load the FXML: see the duplicate question.","body":"You also have two different instances of <code>MainWindowController</code>, which is probably not what you intend. There is the one you create directly with <code>new MainWindowController()</code>, and the one that is created when you load the FXML file. Since you made <code>loadScene()</code> <code>static</code>, there is no need for the first one: you can just call <code>MainWindowController.loadScene(...)</code>. (Your IDE should be giving you a warning about this anyway.) Then you need to pass the <code>User</code> to the controller that is created when you load the FXML: see the duplicate question."}],"owner":{"account_id":14670339,"reputation":1,"user_id":12016750,"display_name":"ren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666979424,"answer_count":0,"score":0,"last_activity_date":1666973756,"creation_date":1666973756,"question_id":74238151,"body_markdown":"I am creating a Library System using JavaFX where you can lend items to the members. I&#39;ve created a login that takes me to another fxml file called main-view.fxml which has a controller called MainWindowController.\r\n\r\nThe problem I have is that after successful login, the new Window/Scene displays &quot;Welcome, null&quot; but what I expect the program to do is welcome the logged-in user by his username.\r\n\r\nA screenshot to show how the main window looks and the problem I am trying to solve can be found below. I want it to Welcome the user by its name. I have used `welcomeLabel.SetText();` to get username by getter `getUsername();` from User class.\r\n\r\nI believe I get null because the data when we log in is not carried forward to the next scene. I am not sure how to do that. Hope I have explained the problem well. I have searched about this a lot on this platform but could not find an answer that completely solves my worries.\r\n\r\nI have pasted the code for MainWindowController, LoginController, User class, and a hardcoded Database. Thank you in advance.\r\n\r\n[A screenshot of main window](https://i.stack.imgur.com/fMXp7.png)\\](https://i.stack.imgur.com/fMXp7.png)\r\n\r\nThe Login controller class:\r\n\r\n```\r\npublic class LoginController {\r\n\r\n    @FXML\r\n    private Label loginStatus;\r\n    @FXML\r\n    private TextField usernameField;\r\n    @FXML\r\n    private TextField passwordField;\r\n    @FXML\r\n    private Button loginButton;\r\n    Database database;\r\n\r\n    public LoginController() {}\r\n\r\n    @FXML\r\n    public void onLoginButtonClicked(ActionEvent actionEvent) throws IOException {\r\n        database = new Database();\r\n            for (User user : database.getUsers()) {\r\n                if (usernameField.getText().equals(user.getUsername()) &amp;&amp;\r\n                        (passwordField.getText().equals(user.getPassword()))) {\r\n\r\n                        Stage loginStage = (Stage) loginButton.getScene().getWindow();\r\n                        loginStage.close();\r\n\r\n                        MainWindowController mainWindowController = new MainWindowController();\r\n                        mainWindowController.loadScene(&quot;main-view.fxml&quot;);\r\n\r\n                } else if (usernameField.getText().isEmpty() &amp;&amp; passwordField.getText().isEmpty()) {\r\n                    loginStatus.setText(&quot;Please enter your username and password.&quot;);\r\n                } else {\r\n                    loginStatus.setText(&quot;Wrong credentials, please try again.&quot;);\r\n                }\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nThe MainWindow controller class:\r\n\r\n```\r\npublic class MainWindowController implements Initializable {\r\n\r\n\r\n    Database database;\r\n    User loggedUser;\r\n\r\n    public MainWindowController() {}\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        database = new Database();\r\n        loggedUser = new User();\r\n        lblWelcome.setText(&quot;Welcome, &quot; + loggedUser.getUsername());\r\n    }\r\n\r\n    static public void loadScene(String name) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(name));\r\n\r\n        Stage stage = new Stage();\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Lending/Receiving   - Library System&quot;);\r\n        stage.setScene(scene);\r\n        stage.showAndWait();\r\n    }\r\n}\r\n```\r\n\r\nThe User class:\r\n\r\n```\r\npublic class User {\r\n\r\n    private String username;\r\n    private String password;\r\n\r\n    public User(){ }\r\n\r\n    public User(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) { this.username = username; }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {this.password = password; }\r\n\r\n}\r\n```\r\n\r\nThe database class, just in case, it is needed:\r\n\r\n```\r\npublic class Database {\r\n\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;User&gt; getUsers() { return users; }\r\n\r\n    public Database() {\r\n\r\n        //users\r\n        users.add(new User(&quot;u&quot;, &quot;p&quot;));\r\n        users.add(new User(&quot;admin&quot;, &quot;admin&quot;));\r\n\r\n    }\r\n}\r\n```","title":"&quot;Welcome, null&quot; but I want to see Welcome, {nameOfLoggedInUser}","body":"<p>I am creating a Library System using JavaFX where you can lend items to the members. I've created a login that takes me to another fxml file called main-view.fxml which has a controller called MainWindowController.</p>\n<p>The problem I have is that after successful login, the new Window/Scene displays &quot;Welcome, null&quot; but what I expect the program to do is welcome the logged-in user by his username.</p>\n<p>A screenshot to show how the main window looks and the problem I am trying to solve can be found below. I want it to Welcome the user by its name. I have used <code>welcomeLabel.SetText();</code> to get username by getter <code>getUsername();</code> from User class.</p>\n<p>I believe I get null because the data when we log in is not carried forward to the next scene. I am not sure how to do that. Hope I have explained the problem well. I have searched about this a lot on this platform but could not find an answer that completely solves my worries.</p>\n<p>I have pasted the code for MainWindowController, LoginController, User class, and a hardcoded Database. Thank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/fMXp7.png\" rel=\"nofollow noreferrer\">A screenshot of main window</a>](<a href=\"https://i.stack.imgur.com/fMXp7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fMXp7.png</a>)</p>\n<p>The Login controller class:</p>\n<pre><code>public class LoginController {\n\n    @FXML\n    private Label loginStatus;\n    @FXML\n    private TextField usernameField;\n    @FXML\n    private TextField passwordField;\n    @FXML\n    private Button loginButton;\n    Database database;\n\n    public LoginController() {}\n\n    @FXML\n    public void onLoginButtonClicked(ActionEvent actionEvent) throws IOException {\n        database = new Database();\n            for (User user : database.getUsers()) {\n                if (usernameField.getText().equals(user.getUsername()) &amp;&amp;\n                        (passwordField.getText().equals(user.getPassword()))) {\n\n                        Stage loginStage = (Stage) loginButton.getScene().getWindow();\n                        loginStage.close();\n\n                        MainWindowController mainWindowController = new MainWindowController();\n                        mainWindowController.loadScene(&quot;main-view.fxml&quot;);\n\n                } else if (usernameField.getText().isEmpty() &amp;&amp; passwordField.getText().isEmpty()) {\n                    loginStatus.setText(&quot;Please enter your username and password.&quot;);\n                } else {\n                    loginStatus.setText(&quot;Wrong credentials, please try again.&quot;);\n                }\n            }\n    }\n}\n</code></pre>\n<p>The MainWindow controller class:</p>\n<pre><code>public class MainWindowController implements Initializable {\n\n\n    Database database;\n    User loggedUser;\n\n    public MainWindowController() {}\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        database = new Database();\n        loggedUser = new User();\n        lblWelcome.setText(&quot;Welcome, &quot; + loggedUser.getUsername());\n    }\n\n    static public void loadScene(String name) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(name));\n\n        Stage stage = new Stage();\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Lending/Receiving   - Library System&quot;);\n        stage.setScene(scene);\n        stage.showAndWait();\n    }\n}\n</code></pre>\n<p>The User class:</p>\n<pre><code>public class User {\n\n    private String username;\n    private String password;\n\n    public User(){ }\n\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) { this.username = username; }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {this.password = password; }\n\n}\n</code></pre>\n<p>The database class, just in case, it is needed:</p>\n<pre><code>public class Database {\n\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    public List&lt;User&gt; getUsers() { return users; }\n\n    public Database() {\n\n        //users\n        users.add(new User(&quot;u&quot;, &quot;p&quot;));\n        users.add(new User(&quot;admin&quot;, &quot;admin&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666973236,"post_id":74238008,"comment_id":131068518,"body_markdown":"If `Sparrow` IS-A `Bird`, then you see all non-private fields and methods of `Bird` in `Sparrow` as well. Look up inheritance in Java.","body":"If <code>Sparrow</code> IS-A <code>Bird</code>, then you see all non-private fields and methods of <code>Bird</code> in <code>Sparrow</code> as well. Look up inheritance in Java."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666973267,"creation_date":1666973267,"answer_id":74238053,"question_id":74238008,"body_markdown":"This line means the same thing as\r\n\r\n```\r\nthrow new ClassCastException();\r\n```\r\n\r\nwhich is to say that it always fails and will never work.\r\n\r\nTo create a Sparrow, you must write `new Sparrow()` or `new SomeSubtypeOfSparrow()`.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>This line means the same thing as</p>\n<pre><code>throw new ClassCastException();\n</code></pre>\n<p>which is to say that it always fails and will never work.</p>\n<p>To create a Sparrow, you must write <code>new Sparrow()</code> or <code>new SomeSubtypeOfSparrow()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3541826,"reputation":11,"user_id":3196880,"display_name":"Keith_L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666973399,"creation_date":1666973399,"answer_id":74238085,"question_id":74238008,"body_markdown":"It doesn&#39;t really make sense to do this. You are creating a generic Bird, and then casting it to a Sparrow. Since it is not a Sparrow (nor any subclass of Bird), it throws an exception when you try to do this.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>It doesn't really make sense to do this. You are creating a generic Bird, and then casting it to a Sparrow. Since it is not a Sparrow (nor any subclass of Bird), it throws an exception when you try to do this.</p>\n"}],"owner":{"account_id":23558102,"reputation":13,"user_id":17599809,"display_name":"Lohit Kumar Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666973399,"creation_date":1666973098,"question_id":74238008,"body_markdown":"where Sparrow and bird both are different classes and Sparrow class is an extended class of Bird class.\r\n\r\n\r\nI just wanna see if i create an instance of Class Sparrow does it can implement the property of the  Bird object.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>where Sparrow and bird both are different classes and Sparrow class is an extended class of Bird class.</p>\n<p>I just wanna see if i create an instance of Class Sparrow does it can implement the property of the  Bird object.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622122017,"creation_date":1622120508,"answer_id":67722720,"question_id":67721558,"body_markdown":"Spring Boot apps run nicely on Elastic Beanstalk. However, you do need to set some variables. For example, have you set server-port variable to 5000? \r\n\r\nAnd as you stated, to successfully use a Service Client, you can set environment variables for your creds. Here is an end to end walkthrough that shows how to successfully put a Spring BOOT app that invokes several AWS Services on Elastic Beanstalk. \r\n\r\n[Creating your first AWS Java web application][1]\r\n\r\nPS - your log file mentions a ZIP file. Be sure to create the JAR properly as discussed in the above example. \r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases/creating_first_project","title":"Elastic Beanstalk fails creating","body":"<p>Spring Boot apps run nicely on Elastic Beanstalk. However, you do need to set some variables. For example, have you set server-port variable to 5000?</p>\n<p>And as you stated, to successfully use a Service Client, you can set environment variables for your creds. Here is an end to end walkthrough that shows how to successfully put a Spring BOOT app that invokes several AWS Services on Elastic Beanstalk.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases/creating_first_project\" rel=\"nofollow noreferrer\">Creating your first AWS Java web application</a></p>\n<p>PS - your log file mentions a ZIP file. Be sure to create the JAR properly as discussed in the above example.</p>\n"},{"tags":[],"owner":{"account_id":2974131,"reputation":1,"user_id":2525573,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666973381,"creation_date":1666973381,"answer_id":74238082,"question_id":67721558,"body_markdown":"Just in case someone arrive here looking for an answer about this guy:\r\n\r\n    Error: staging java app failed due to invalid zip file\r\n\r\nI was renaming my service jar in Gradle, using:\r\n\r\n    tasks.withType&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt; {\r\n        archiveFileName.set(&quot;service.jar&quot;)\r\n        launchScript()\r\n    } \r\n\r\nAnd ElasticBeanstalk was not happy about the renaming. \r\nWhen I let it have the default name, then no zip issues and all worked like a charm.","title":"Elastic Beanstalk fails creating","body":"<p>Just in case someone arrive here looking for an answer about this guy:</p>\n<pre><code>Error: staging java app failed due to invalid zip file\n</code></pre>\n<p>I was renaming my service jar in Gradle, using:</p>\n<pre><code>tasks.withType&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt; {\n    archiveFileName.set(&quot;service.jar&quot;)\n    launchScript()\n} \n</code></pre>\n<p>And ElasticBeanstalk was not happy about the renaming.\nWhen I let it have the default name, then no zip issues and all worked like a charm.</p>\n"}],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67722720,"answer_count":2,"score":2,"last_activity_date":1666973381,"creation_date":1622116258,"question_id":67721558,"body_markdown":"I finally reached the point where my Elastic Beanstalk Instance / Environment got launched. (Java Corretto 11 Platform) Now it fails starting up the provided `.jar` file. \r\n\r\nIn the `eb-engine.log` file, I am not able to find any more error than this: \r\n\r\n    2021/05/27 11:36:25.889735 [INFO] Executing instruction: StageJavaApplication\r\n    2021/05/27 11:36:25.889871 [ERROR] An error occurred during execution of command [app-deploy] - [StageJavaApplication]. Stop running the command. Error: staging java app failed due to invalid zip file \r\n\r\nThe jar file is a Spring Boot application built with `mvn -B package`. \r\nLocally the whole thing starts, but crashes afterwards because of not given environment variables (Expected behaviour).\r\nBut it seems AWS is not even starting the application..\r\n\r\nAny suggestions on this?\r\n","title":"Elastic Beanstalk fails creating","body":"<p>I finally reached the point where my Elastic Beanstalk Instance / Environment got launched. (Java Corretto 11 Platform) Now it fails starting up the provided <code>.jar</code> file.</p>\n<p>In the <code>eb-engine.log</code> file, I am not able to find any more error than this:</p>\n<pre><code>2021/05/27 11:36:25.889735 [INFO] Executing instruction: StageJavaApplication\n2021/05/27 11:36:25.889871 [ERROR] An error occurred during execution of command [app-deploy] - [StageJavaApplication]. Stop running the command. Error: staging java app failed due to invalid zip file \n</code></pre>\n<p>The jar file is a Spring Boot application built with <code>mvn -B package</code>.\nLocally the whole thing starts, but crashes afterwards because of not given environment variables (Expected behaviour).\nBut it seems AWS is not even starting the application..</p>\n<p>Any suggestions on this?</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"comments":[{"owner":{"account_id":1150498,"reputation":119,"user_id":1132337,"display_name":"MoYapro"},"score":0,"creation_date":1465903574,"post_id":37463876,"comment_id":63085439,"body_markdown":"Same thing here: IntelliJ 2016.1.3, JRE 1.8.0_91      Are you also using Ubuntu as OS?","body":"Same thing here: IntelliJ 2016.1.3, JRE 1.8.0_91      Are you also using Ubuntu as OS?"},{"owner":{"account_id":8511186,"reputation":111,"user_id":6381171,"accept_rate":0,"display_name":"Martin"},"score":0,"creation_date":1465977686,"post_id":37463876,"comment_id":63120989,"body_markdown":"No, I am using OS X El Capitan (Version 10.11.5 (15F34))","body":"No, I am using OS X El Capitan (Version 10.11.5 (15F34))"},{"owner":{"account_id":1150498,"reputation":119,"user_id":1132337,"display_name":"MoYapro"},"score":0,"creation_date":1465997737,"post_id":37463876,"comment_id":63135080,"body_markdown":"I managed to get Coverage working by selecting a different coverage runner in the run-settings on Code Coverage tab.","body":"I managed to get Coverage working by selecting a different coverage runner in the run-settings on Code Coverage tab."}],"answers":[{"tags":[],"owner":{"account_id":1782876,"reputation":96,"user_id":1625136,"display_name":"Santos Zatarain Vera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666973243,"creation_date":1476337726,"answer_id":40013219,"question_id":37463876,"body_markdown":"Currently, it is not posible to use IntelliJ IDEA coverage agent, because *org.wildfly.arquillian:wildfly-arquillian-container-embedded:2.0.0.Final* doesn&#39;t have any property for setting *System Packages* (*jboss.modules.system.pkgs* system property).\r\n\r\nThe only way to use IntelliJ IDEA coverage agent is modifying *EmbeddedContainerConfiguration* and *EmbeddedDeployableContainer* classes, and then, you must use these customized classes.\r\n\r\nI alredy made a pull request, i hope the new version will be available very soon.\r\n\r\n\r\n    public class EmbeddedContainerConfiguration extends CommonContainerConfiguration {\r\n\r\n        private String systemPackages = System.getProperty(&quot;jboss.modules.system.pkgs&quot;);\r\n    \r\n        public String getSystemPackages() {\r\n            return systemPackages;\r\n        }\r\n    \r\n        public void setSystemPackages(String systemPackages) {\r\n            this.systemPackages = systemPackages;\r\n        }\r\n\r\n        public String[] getSystemPackagesArray() {\r\n            return (systemPackages == null || systemPackages.isEmpty()) ? null : systemPackages.split(&quot;,&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    public final class EmbeddedDeployableContainer extends CommonDeployableContainer&lt;EmbeddedContainerConfiguration&gt; {\r\n\r\n        @Override\r\n        public void setup(final EmbeddedContainerConfiguration config) {\r\n            super.setup(config);\r\n            if (config.getCleanServerBaseDir() != null) {\r\n                SecurityActions.setSystemProperty(EmbeddedStandaloneServerFactory.JBOSS_EMBEDDED_ROOT, config.getCleanServerBaseDir());\r\n            }\r\n            final String[] cmdArgs = getCommandArgs(config);\r\n            server = EmbeddedProcessFactory.createStandaloneServer(config.getJbossHome(), config.getModulePath(), config.getSystemPackagesArray(), cmdArgs);\r\n        }\r\n    \r\n    }","title":"Coverage Integration tests IntelliJ on Wildfly","body":"<p>Currently, it is not posible to use IntelliJ IDEA coverage agent, because <em>org.wildfly.arquillian:wildfly-arquillian-container-embedded:2.0.0.Final</em> doesn't have any property for setting <em>System Packages</em> (<em>jboss.modules.system.pkgs</em> system property).</p>\n<p>The only way to use IntelliJ IDEA coverage agent is modifying <em>EmbeddedContainerConfiguration</em> and <em>EmbeddedDeployableContainer</em> classes, and then, you must use these customized classes.</p>\n<p>I alredy made a pull request, i hope the new version will be available very soon.</p>\n<pre><code>public class EmbeddedContainerConfiguration extends CommonContainerConfiguration {\n\n    private String systemPackages = System.getProperty(&quot;jboss.modules.system.pkgs&quot;);\n\n    public String getSystemPackages() {\n        return systemPackages;\n    }\n\n    public void setSystemPackages(String systemPackages) {\n        this.systemPackages = systemPackages;\n    }\n\n    public String[] getSystemPackagesArray() {\n        return (systemPackages == null || systemPackages.isEmpty()) ? null : systemPackages.split(&quot;,&quot;);\n    }\n\n}\n\n\npublic final class EmbeddedDeployableContainer extends CommonDeployableContainer&lt;EmbeddedContainerConfiguration&gt; {\n\n    @Override\n    public void setup(final EmbeddedContainerConfiguration config) {\n        super.setup(config);\n        if (config.getCleanServerBaseDir() != null) {\n            SecurityActions.setSystemProperty(EmbeddedStandaloneServerFactory.JBOSS_EMBEDDED_ROOT, config.getCleanServerBaseDir());\n        }\n        final String[] cmdArgs = getCommandArgs(config);\n        server = EmbeddedProcessFactory.createStandaloneServer(config.getJbossHome(), config.getModulePath(), config.getSystemPackagesArray(), cmdArgs);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8511186,"reputation":111,"user_id":6381171,"accept_rate":0,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666973243,"creation_date":1464273226,"question_id":37463876,"body_markdown":"I would like to verify the code coverage of my integration tests. I have implemented some REST-Services and deployed them on Wildly 9.0.2. Then I configured the coverage in IntelliJ with IDEA Coverage Runner for tracing support. When I now start Wildfly with coverage the deployment of the war fails with the following strack trace: \r\n\r\n    16:20:53,103 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.&quot;myservice-war-1.0.0-SNAPSHOT.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myservice-war-1.0.0-SNAPSHOT.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;myservice-war-1.0.0-SNAPSHOT.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n\tat de.akquinet.ats.myservice.rest.services.MyUpdateService.&lt;clinit&gt;(MyUpdateService.java)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.jboss.invocation.proxy.AbstractProxyFactory.afterClassLoad(AbstractProxyFactory.java:95)\r\n\tat org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:166)\r\n\tat org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:150)\r\n\tat org.jboss.as.ejb3.component.stateless.StatelessComponentDescription$3.configure(StatelessComponentDescription.java:150)\r\n\tat org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)\r\n\tat org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)\r\n\t... 5 more\r\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module &quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main&quot; from Service Module Loader]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\r\n\t... 15 more\r\n\r\n        16:20:53,106 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myservice-war-1.0.0-SNAPSHOT.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;\r\n        Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n        Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\&quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\&quot; from Service Module Loader]&quot;},\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.batch.environment is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;\r\n        ]\r\n    }\r\n        16:20:53,107 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment &quot;myservice-war-1.0.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;\r\n        Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n        Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\&quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\&quot; from Service Module Loader]&quot;},\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.batch.environment is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;\r\n        ]\r\n    }\r\n\r\nI am using IntelliJ IDEA 2016.1.2\r\nBuild #IU-145.972, built on May 14, 2016\r\nJRE: 1.8.0_76-release-b162 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n\r\nI am fully aware of what a ClassNotFoundException is and usually know what to do then, but here I am stuck...\r\n\r\nCan anybody help please?\r\n","title":"Coverage Integration tests IntelliJ on Wildfly","body":"<p>I would like to verify the code coverage of my integration tests. I have implemented some REST-Services and deployed them on Wildly 9.0.2. Then I configured the coverage in IntelliJ with IDEA Coverage Runner for tracing support. When I now start Wildfly with coverage the deployment of the war fails with the following strack trace: </p>\n\n<pre><code>16:20:53,103 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.\"myservice-war-1.0.0-SNAPSHOT.war\".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"myservice-war-1.0.0-SNAPSHOT.war\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \"myservice-war-1.0.0-SNAPSHOT.war\"\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\nat de.akquinet.ats.myservice.rest.services.MyUpdateService.&lt;clinit&gt;(MyUpdateService.java)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:348)\nat org.jboss.invocation.proxy.AbstractProxyFactory.afterClassLoad(AbstractProxyFactory.java:95)\nat org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:166)\nat org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:150)\nat org.jboss.as.ejb3.component.stateless.StatelessComponentDescription$3.configure(StatelessComponentDescription.java:150)\nat org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)\nat org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)\n... 5 more\nCaused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\" from Service Module Loader]\nat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\nat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\n... 15 more\n\n    16:20:53,106 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (\"deploy\") failed - address: ([(\"deployment\" =&gt; \"myservice-war-1.0.0-SNAPSHOT.war\")]) - failure description: {\n    \"WFLYCTL0080: Failed services\" =&gt; {\"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL\" =&gt; \"org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\\"myservice-war-1.0.0-SNAPSHOT.war\\\"\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\\"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\\" from Service Module Loader]\"},\n    \"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".batch.environment is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\",\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".weld.weldClassIntrospector is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\"\n    ]\n}\n    16:20:53,107 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment \"myservice-war-1.0.0-SNAPSHOT.war\" was rolled back with the following failure message: \n{\n    \"WFLYCTL0080: Failed services\" =&gt; {\"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL\" =&gt; \"org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\\"myservice-war-1.0.0-SNAPSHOT.war\\\"\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\\"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\\" from Service Module Loader]\"},\n    \"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".batch.environment is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\",\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".weld.weldClassIntrospector is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\"\n    ]\n}\n</code></pre>\n\n<p>I am using IntelliJ IDEA 2016.1.2\nBuild #IU-145.972, built on May 14, 2016\nJRE: 1.8.0_76-release-b162 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</p>\n\n<p>I am fully aware of what a ClassNotFoundException is and usually know what to do then, but here I am stuck...</p>\n\n<p>Can anybody help please?</p>\n"},{"tags":["java","javafx","webview","socket.io","javafx-webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666990570,"post_id":74237849,"comment_id":131073442,"body_markdown":"The webview http client implementation was [changed in JavaFX 14](https://bugs.openjdk.org/browse/JDK-8211308).  There may be an undocumented, unsupported system property to switch webview back to the prior http implementation in some later JavaFX versions.","body":"The webview http client implementation was <a href=\"https://bugs.openjdk.org/browse/JDK-8211308\" rel=\"nofollow noreferrer\">changed in JavaFX 14</a>.  There may be an undocumented, unsupported system property to switch webview back to the prior http implementation in some later JavaFX versions."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1666992663,"post_id":74237849,"comment_id":131073905,"body_markdown":"Here is the [context switch which may be used to switch the HTTP implementation used by JavaFX](https://github.com/openjdk/jfx/pull/14/files#diff-593f23fc8227e40ac4ddaf39568aaa3a3abc8204373f9a64cfe07336074bf761R99): System property: `com.sun.webkit.useHTTP2Loader`, if true and running on a compatible JDK, it will use the java.net.http client from JavaFX 11+, otherwise it will use the `URLConnection` class which has always been in the JDK.","body":"Here is the <a href=\"https://github.com/openjdk/jfx/pull/14/files#diff-593f23fc8227e40ac4ddaf39568aaa3a3abc8204373f9a64cfe07336074bf761R99\" rel=\"nofollow noreferrer\">context switch which may be used to switch the HTTP implementation used by JavaFX</a>: System property: <code>com.sun.webkit.useHTTP2Loader</code>, if true and running on a compatible JDK, it will use the java.net.http client from JavaFX 11+, otherwise it will use the <code>URLConnection</code> class which has always been in the JDK."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666996620,"post_id":74237849,"comment_id":131074574,"body_markdown":"@jewelsea Thanks for the answer, most likely this is the right solution, since it helped another person. I can&#39;t replicate my success. Adding a parameter does not solve the problem while trying to figure out why... Using maven, I add &quot;-Dcom.sun.webkit.useHTTP2Loader=false&quot; parameter to the maven application launch configuration in the &#39;VM options&#39; field in the &#39;Java Options&#39; section. Is everything right?","body":"@jewelsea Thanks for the answer, most likely this is the right solution, since it helped another person. I can&#39;t replicate my success. Adding a parameter does not solve the problem while trying to figure out why... Using maven, I add &quot;-Dcom.sun.webkit.useHTTP2Loader=false&quot; parameter to the maven application launch configuration in the &#39;VM options&#39; field in the &#39;Java Options&#39; section. Is everything right?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666996986,"post_id":74237849,"comment_id":131074642,"body_markdown":"Run it from the command line, e.g. `java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main`.  I do not know if it would actually address your problem or not.  You can [provide other system properties to the log java net HTTP client calls](https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient).  If useHTTP2Loader is switched off, then you shouldn&#39;t see  the java net HTTP client calls being generated for the WebView calls.","body":"Run it from the command line, e.g. <code>java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;&#47;&lt;yourpackage&gt;.Main</code>.  I do not know if it would actually address your problem or not.  You can <a href=\"https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient\">provide other system properties to the log java net HTTP client calls</a>.  If useHTTP2Loader is switched off, then you shouldn&#39;t see  the java net HTTP client calls being generated for the WebView calls."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1667001199,"post_id":74237849,"comment_id":131075216,"body_markdown":"@jewelsea I didn&#39;t understand how to use *java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main* but I tried *System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;, &#39;false&#39;)* and after that, instead of an _&#39;Unknown Error&#39;_ error, it threw a _&#39;Connection refused&#39;_ error. This is already a success. I tried to open my site and... It opened and the sockets worked! You can write a response and complete it with *System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;*, &#39;false&#39;); to make it the best.","body":"@jewelsea I didn&#39;t understand how to use <i>java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main</i> but I tried <i>System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;, &#39;false&#39;)</i> and after that, instead of an <i>&#39;Unknown Error&#39;</i> error, it threw a <i>&#39;Connection refused&#39;</i> error. This is already a success. I tried to open my site and... It opened and the sockets worked! You can write a response and complete it with <i>System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;</i>, &#39;false&#39;); to make it the best."}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666973135,"creation_date":1666972246,"question_id":74237849,"body_markdown":"I&#39;ve noticed strange behavior in **javafx.WebView** version **14-ea+4** and up.\r\n\r\nIf you open https://socketio-chat-h9jt.herokuapp.com/ in **javafx.WebView** of any version, then there will be no problems. The site works well.\r\n\r\nBut if you install this chat (https://github.com/socketio/socket.io-client-java) locally on your PC, start the **NodeJs** server and open http://localhost:3000 in **javafx.WebView** version **14-ea+4** and above, then the page will not load and throw an &#39;Unknown Error&#39; error.\r\n\r\nIf you use version **14-ea+2** and below, then there will be no error and the page will load.\r\n\r\nIf you use a proxy before loading the page then the page will open but **socket.io** won&#39;t work. For the proxy to work, you need to replace *&#39;localhost&#39;* with an **IPv4** address, which can be found using the *&#39;ipconfig&#39;* command in cmd. In my case *&#39;localhost&#39; -&gt; &#39;192.168.56.1&#39;*:\r\n\r\n    URI uri = URI.create(&quot;http://192.168.56.1:3000/&quot;);\r\n    if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\r\n    if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\r\n\r\nIf webkit loggers are enabled, then **com.sun.webkit.network.URLLoader** will spam **99** with the error **&#39;HTTP/1.1 header parser received no bytes&#39;**.\r\n\r\nWhy did the proxy affect the result so much and what changed in **javafx.WebView** version **14-ea+4** that got such problems?\r\nWhy **socket.io chat** from the Internet opens well, but the same **socket.io chat** installed locally does not open?\r\n\r\nI need **WebView** **version 18** because I need transparency, so unfortunately I can&#39;t use a version lower than this...\r\n\r\n**socket.io index.js:**\r\n\r\n    // Setup basic express server\r\n    const express = require(&#39;express&#39;);\r\n    const app = express();\r\n    const path = require(&#39;path&#39;);\r\n    const server = require(&#39;http&#39;).createServer(app);\r\n    const io = require(&#39;socket.io&#39;)(server);\r\n    const port = process.env.PORT || 3000;\r\n    \r\n    server.listen(port, () =&gt; {\r\n      console.log(&#39;Server listening at port %d&#39;, port);\r\n    });\r\n    \r\n    // Routing\r\n    app.use(express.static(path.join(__dirname, &#39;public&#39;)));\r\n    \r\n    // Chatroom\r\n    \r\n    let numUsers = 0;\r\n    \r\n    io.on(&#39;connection&#39;, (socket) =&gt; {\r\n      let addedUser = false;\r\n    \r\n      // when the client emits &#39;new message&#39;, this listens and executes\r\n      socket.on(&#39;new message&#39;, (data) =&gt; {\r\n        // we tell the client to execute &#39;new message&#39;\r\n        socket.broadcast.emit(&#39;new message&#39;, {\r\n          username: socket.username,\r\n          message: data\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;add user&#39;, this listens and executes\r\n      socket.on(&#39;add user&#39;, (username) =&gt; {\r\n        if (addedUser) return;\r\n    \r\n        // we store the username in the socket session for this client\r\n        socket.username = username;\r\n        ++numUsers;\r\n        addedUser = true;\r\n        socket.emit(&#39;login&#39;, {\r\n          numUsers: numUsers\r\n        });\r\n        // echo globally (all clients) that a person has connected\r\n        socket.broadcast.emit(&#39;user joined&#39;, {\r\n          username: socket.username,\r\n          numUsers: numUsers\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;typing&#39;, we broadcast it to others\r\n      socket.on(&#39;typing&#39;, () =&gt; {\r\n        socket.broadcast.emit(&#39;typing&#39;, {\r\n          username: socket.username\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;stop typing&#39;, we broadcast it to others\r\n      socket.on(&#39;stop typing&#39;, () =&gt; {\r\n        socket.broadcast.emit(&#39;stop typing&#39;, {\r\n          username: socket.username\r\n        });\r\n      });\r\n    \r\n      // when the user disconnects.. perform this\r\n      socket.on(&#39;disconnect&#39;, () =&gt; {\r\n        if (addedUser) {\r\n          --numUsers;\r\n    \r\n          // echo globally that this client has left\r\n          socket.broadcast.emit(&#39;user left&#39;, {\r\n            username: socket.username,\r\n            numUsers: numUsers\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\nExample simple webview app **Main.java**:\r\n\r\n    WebView wv = new WebView();\r\n\r\n    @Override\r\n        public void start(Stage stage) {\r\n            String url = &quot;http://localhost:3000&quot;;\r\n    \r\n            // use proxy\r\n            //String url = &quot;http://192.168.56.1:3000&quot;; // IPv4:3000\r\n            //URI uri = URI.create(url);\r\n            //if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\r\n            //if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\r\n    \r\n            wv.getEngine().load(url);\r\n            scene = new Scene(wv, 750, 800);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }","title":"javafx.WebView not open local site with socket.io","body":"<p>I've noticed strange behavior in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> and up.</p>\n<p>If you open <a href=\"https://socketio-chat-h9jt.herokuapp.com/\" rel=\"nofollow noreferrer\">https://socketio-chat-h9jt.herokuapp.com/</a> in <strong>javafx.WebView</strong> of any version, then there will be no problems. The site works well.</p>\n<p>But if you install this chat (<a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>) locally on your PC, start the <strong>NodeJs</strong> server and open http://localhost:3000 in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> and above, then the page will not load and throw an 'Unknown Error' error.</p>\n<p>If you use version <strong>14-ea+2</strong> and below, then there will be no error and the page will load.</p>\n<p>If you use a proxy before loading the page then the page will open but <strong>socket.io</strong> won't work. For the proxy to work, you need to replace <em>'localhost'</em> with an <strong>IPv4</strong> address, which can be found using the <em>'ipconfig'</em> command in cmd. In my case <em>'localhost' -&gt; '192.168.56.1'</em>:</p>\n<pre><code>URI uri = URI.create(&quot;http://192.168.56.1:3000/&quot;);\nif (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\nif (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\n</code></pre>\n<p>If webkit loggers are enabled, then <strong>com.sun.webkit.network.URLLoader</strong> will spam <strong>99</strong> with the error <strong>'HTTP/1.1 header parser received no bytes'</strong>.</p>\n<p>Why did the proxy affect the result so much and what changed in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> that got such problems?\nWhy <strong>socket.io chat</strong> from the Internet opens well, but the same <strong>socket.io chat</strong> installed locally does not open?</p>\n<p>I need <strong>WebView</strong> <strong>version 18</strong> because I need transparency, so unfortunately I can't use a version lower than this...</p>\n<p><strong>socket.io index.js:</strong></p>\n<pre><code>// Setup basic express server\nconst express = require('express');\nconst app = express();\nconst path = require('path');\nconst server = require('http').createServer(app);\nconst io = require('socket.io')(server);\nconst port = process.env.PORT || 3000;\n\nserver.listen(port, () =&gt; {\n  console.log('Server listening at port %d', port);\n});\n\n// Routing\napp.use(express.static(path.join(__dirname, 'public')));\n\n// Chatroom\n\nlet numUsers = 0;\n\nio.on('connection', (socket) =&gt; {\n  let addedUser = false;\n\n  // when the client emits 'new message', this listens and executes\n  socket.on('new message', (data) =&gt; {\n    // we tell the client to execute 'new message'\n    socket.broadcast.emit('new message', {\n      username: socket.username,\n      message: data\n    });\n  });\n\n  // when the client emits 'add user', this listens and executes\n  socket.on('add user', (username) =&gt; {\n    if (addedUser) return;\n\n    // we store the username in the socket session for this client\n    socket.username = username;\n    ++numUsers;\n    addedUser = true;\n    socket.emit('login', {\n      numUsers: numUsers\n    });\n    // echo globally (all clients) that a person has connected\n    socket.broadcast.emit('user joined', {\n      username: socket.username,\n      numUsers: numUsers\n    });\n  });\n\n  // when the client emits 'typing', we broadcast it to others\n  socket.on('typing', () =&gt; {\n    socket.broadcast.emit('typing', {\n      username: socket.username\n    });\n  });\n\n  // when the client emits 'stop typing', we broadcast it to others\n  socket.on('stop typing', () =&gt; {\n    socket.broadcast.emit('stop typing', {\n      username: socket.username\n    });\n  });\n\n  // when the user disconnects.. perform this\n  socket.on('disconnect', () =&gt; {\n    if (addedUser) {\n      --numUsers;\n\n      // echo globally that this client has left\n      socket.broadcast.emit('user left', {\n        username: socket.username,\n        numUsers: numUsers\n      });\n    }\n  });\n});\n</code></pre>\n<p>Example simple webview app <strong>Main.java</strong>:</p>\n<pre><code>WebView wv = new WebView();\n\n@Override\n    public void start(Stage stage) {\n        String url = &quot;http://localhost:3000&quot;;\n\n        // use proxy\n        //String url = &quot;http://192.168.56.1:3000&quot;; // IPv4:3000\n        //URI uri = URI.create(url);\n        //if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\n        //if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\n\n        wv.getEngine().load(url);\n        scene = new Scene(wv, 750, 800);\n        stage.setScene(scene);\n        stage.show();\n    }\n</code></pre>\n"},{"tags":["java","file","directory"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1666972693,"post_id":74237765,"comment_id":131068319,"body_markdown":"Please have a look at the java NIO2 API that&#39;s been around since Java 7. Especially `Path` or more specifically [`Path.startsWith(Path)​`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Path.html#startsWith(java.nio.file.Path)). You don&#39;t need to handle strings at all.","body":"Please have a look at the java NIO2 API that&#39;s been around since Java 7. Especially <code>Path</code> or more specifically <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Path.html#startsWith(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Path.startsWith(Path)​</code></a>. You don&#39;t need to handle strings at all."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667024001,"post_id":74237765,"comment_id":131077260,"body_markdown":"It would be nice if you could edit some example dir-paths and file-paths into the question, because there&#39;s still multiple ways to interpret it. I mean, we don&#39;t know you, so your attempted solution of comparing the beginning of both paths might not always solve the problem (apart form being slightly crude).","body":"It would be nice if you could edit some example dir-paths and file-paths into the question, because there&#39;s still multiple ways to interpret it. I mean, we don&#39;t know you, so your attempted solution of comparing the beginning of both paths might not always solve the problem (apart form being slightly crude)."}],"answers":[{"tags":[],"owner":{"account_id":19190684,"reputation":113,"user_id":14020465,"display_name":"sajad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666973045,"creation_date":1666973045,"answer_id":74238001,"question_id":74237765,"body_markdown":"There is a Topic in the Book : Java the complete reference guide (Twelfth edition) in (EXPLORING NIO) season which is &quot;Use walkFileTree() to List a Directory Tree&quot; which explain the java solution to list and do what ever you want with a Directory Tree. &lt;br&gt;\r\n\r\nTry to read about walkFileTree() method of java, it will simply solve your problem.&lt;br&gt;\r\nfeel free to ask any question you need to know.","title":"How can I check, using Java, that a given file path is under (any number of levels deep) a given directory path","body":"<p>There is a Topic in the Book : Java the complete reference guide (Twelfth edition) in (EXPLORING NIO) season which is &quot;Use walkFileTree() to List a Directory Tree&quot; which explain the java solution to list and do what ever you want with a Directory Tree. <br></p>\n<p>Try to read about walkFileTree() method of java, it will simply solve your problem.<br>\nfeel free to ask any question you need to know.</p>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666977334,"answer_count":1,"score":0,"last_activity_date":1666973100,"creation_date":1666971754,"question_id":74237765,"body_markdown":"Given two strings - one representing a directory path and the other representing a file path - what is the most efficient way to check whether the file exists under (it could be any levels deep) the given directory.\r\n\r\nI started by turning both into ```File``` objects, and comparing their canonical paths\r\n\r\n    // null checks etc. omitted for brevity\r\n    File file = new File(filePath);\r\n    String fileCanonicalPath = file.getCanonicalPath();\r\n\r\n    File dir = new File(dirPath);\r\n    String dirCanonicalPath = dir.getCanonicalPath();\r\n\r\n    return fileCanonicalPath.startsWith(dirCanonicalPath);\r\n\r\nBut I am not convinced this is actually the most accurate way to do it - I would like to rely on what the system considers rather than comparing strings. \r\n\r\nI then tried with converting both to ```File``` objects and then recursively calling the ```getParentFile()``` on the file, and comparing each one with the directory (using ```equals(...)```), until I get the directory or no further parent (```getParent()``` returns ```null```).\r\n\r\nBut this seems rather inefficient.\r\n\r\nIs there a better way - more efficient and more objectively correct - to do this?","title":"How can I check, using Java, that a given file path is under (any number of levels deep) a given directory path","body":"<p>Given two strings - one representing a directory path and the other representing a file path - what is the most efficient way to check whether the file exists under (it could be any levels deep) the given directory.</p>\n<p>I started by turning both into <code>File</code> objects, and comparing their canonical paths</p>\n<pre><code>// null checks etc. omitted for brevity\nFile file = new File(filePath);\nString fileCanonicalPath = file.getCanonicalPath();\n\nFile dir = new File(dirPath);\nString dirCanonicalPath = dir.getCanonicalPath();\n\nreturn fileCanonicalPath.startsWith(dirCanonicalPath);\n</code></pre>\n<p>But I am not convinced this is actually the most accurate way to do it - I would like to rely on what the system considers rather than comparing strings.</p>\n<p>I then tried with converting both to <code>File</code> objects and then recursively calling the <code>getParentFile()</code> on the file, and comparing each one with the directory (using <code>equals(...)</code>), until I get the directory or no further parent (<code>getParent()</code> returns <code>null</code>).</p>\n<p>But this seems rather inefficient.</p>\n<p>Is there a better way - more efficient and more objectively correct - to do this?</p>\n"},{"tags":["java","excel","spring","apache-poi","spring-bean"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666971671,"post_id":74236863,"comment_id":131067930,"body_markdown":"Why not return the `File` which can then be re-read as many times as you want? An `InputStream` can normally only be read once then it&#39;s empty","body":"Why not return the <code>File</code> which can then be re-read as many times as you want? An <code>InputStream</code> can normally only be read once then it&#39;s empty"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666978083,"post_id":74236863,"comment_id":131070141,"body_markdown":"Remove the try/catch and you will see why. My guess you are trying to load a resource tha tis in the classpath and not an file from the file system. It also feels weird/wrong to have a `Workbook` defined as a bean.","body":"Remove the try/catch and you will see why. My guess you are trying to load a resource tha tis in the classpath and not an file from the file system. It also feels weird/wrong to have a <code>Workbook</code> defined as a bean."},{"owner":{"account_id":13802496,"reputation":3,"user_id":9962204,"display_name":"SimeonKV"},"score":0,"creation_date":1666979950,"post_id":74236863,"comment_id":131070712,"body_markdown":"Well,the problem was that I had the same file path in another outputstream.","body":"Well,the problem was that I had the same file path in another outputstream."}],"owner":{"account_id":13802496,"reputation":3,"user_id":9962204,"display_name":"SimeonKV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666973088,"creation_date":1666967456,"question_id":74236863,"body_markdown":"&lt;br/&gt;I have the certain problem:&lt;br/&gt;I want to register Apache Poi Workbook as a bean but when I try to do that an exception is thrown stating that my file is zero bytes long&lt;br/&gt;\r\nHere is the exact exception: ``` Caused by: org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)``` &lt;br/&gt;\r\nand this is how my actual code looks like :&lt;br/&gt;\r\n```\r\n@Bean\r\npublic FileInputStream getInputStream() {\r\n    try {\r\n       return new FileInputStream(EXCEL_FILE_PATH);\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n@Bean\r\npublic Workbook workbook()  {\r\n    try {\r\n        Workbook workbook = WorkbookFactory.create(getInputStream());\r\n        getInputStream().close();\r\n        return workbook;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n&lt;br/&gt;\r\n**This two methods are located in a configuration class annotated with the configuration annotation @Configuration** &lt;br/&gt;\r\nSo how do I go about solving this issue provided that my file is not empty and the workbook instance works as it should when I tested in a separate test class which is not spring managed.\r\n","title":"Apache Poi Workbook - problem creating Workbook as a spring IOC managed bean","body":"<p><br/>I have the certain problem:<br/>I want to register Apache Poi Workbook as a bean but when I try to do that an exception is thrown stating that my file is zero bytes long<br/>\nHere is the exact exception: <code> Caused by: org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)</code> <br/>\nand this is how my actual code looks like :<br/></p>\n<pre><code>@Bean\npublic FileInputStream getInputStream() {\n    try {\n       return new FileInputStream(EXCEL_FILE_PATH);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n\n@Bean\npublic Workbook workbook()  {\n    try {\n        Workbook workbook = WorkbookFactory.create(getInputStream());\n        getInputStream().close();\n        return workbook;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n<br/>\n**This two methods are located in a configuration class annotated with the configuration annotation @Configuration** <br/>\nSo how do I go about solving this issue provided that my file is not empty and the workbook instance works as it should when I tested in a separate test class which is not spring managed.\n"},{"tags":["java","spring-boot","integration-testing","springjunit4classrunner"],"comments":[{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":0,"creation_date":1493176840,"post_id":34547581,"comment_id":74297627,"body_markdown":"As of Spring Boot Test 1.5.0 you can [supposedly](https://github.com/spring-projects/spring-boot/issues/8000) use `@ContextConfiguration` with `@SpringBootTest`...have you tried using child contexts?","body":"As of Spring Boot Test 1.5.0 you can <a href=\"https://github.com/spring-projects/spring-boot/issues/8000\" rel=\"nofollow noreferrer\">supposedly</a> use <code>@ContextConfiguration</code> with <code>@SpringBootTest</code>...have you tried using child contexts?"},{"owner":{"account_id":3103595,"reputation":463,"user_id":2627044,"accept_rate":67,"display_name":"Abdul Fatah"},"score":0,"creation_date":1584867725,"post_id":34547581,"comment_id":107566066,"body_markdown":"Have you found an answer to this question ? I am in the same situation. My application is split in three modules which have their own application context and I export common beans to the parent context and that&#39;s how sibling contexts can share beans. The problem is how to test. I came to know about ContextHierarchy annotation but it creates parent child hierarchy and no sibling contexts can be created","body":"Have you found an answer to this question ? I am in the same situation. My application is split in three modules which have their own application context and I export common beans to the parent context and that&#39;s how sibling contexts can share beans. The problem is how to test. I came to know about ContextHierarchy annotation but it creates parent child hierarchy and no sibling contexts can be created"},{"owner":{"account_id":1245628,"reputation":150,"user_id":1207155,"accept_rate":100,"display_name":"RobbingDaHood"},"score":0,"creation_date":1643049166,"post_id":34547581,"comment_id":125231774,"body_markdown":"Here are some good suggestions I think https://stackoverflow.com/a/50040683/1207155","body":"Here are some good suggestions I think <a href=\"https://stackoverflow.com/a/50040683/1207155\">stackoverflow.com/a/50040683/1207155</a>"}],"answers":[{"tags":[],"owner":{"account_id":207465,"reputation":1087,"user_id":457340,"accept_rate":75,"display_name":"rainerhahnekamp"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1466160186,"creation_date":1452512293,"answer_id":34720600,"question_id":34547581,"body_markdown":"Given two packages com.foo.module1, and com.foo.module2 you have to create a Configuration class per package.\r\nFor example for module1:\r\n\r\n    @SpringBootApplication public class Config1 {}\r\n \r\n\r\nIf you want to run the application by using only Spring beans of a single package you can do that by using the SpringApplicationBuilder. A working snippet:\r\n\r\n       new SpringApplicationBuilder(com.foo.module1.Config1.class)\r\n         .showBanner(false)\r\n         .run()\r\n\r\n\r\nThat would boot up Spring with Config1, which only searches (@ComponentScan is included in @SpringBootApplication) in its package for beans.\r\n\r\n\r\nIf you have want to run the complete application, e.g. all two modules at once, you&#39;de have to create a configuration class in the upper packages com.foo.\r\n\r\nIn the case that was mentioned below, where running the two modules within a single application might probably interfere with each other in an undesired way due to libraries like the spring-boot-starters, I can only think of two possibilities:\r\n\r\n 1. Using OSGi: Which might not solve the issue completely and might turn out be quite a complex setup or\r\n 2. Splitting the application into two applications and creating interfaces. Spring Boot is also a good choice for a Microservice architecture.","title":"How to test multiple Spring Boot applications in one test?","body":"<p>Given two packages com.foo.module1, and com.foo.module2 you have to create a Configuration class per package.\nFor example for module1:</p>\n\n<pre><code>@SpringBootApplication public class Config1 {}\n</code></pre>\n\n<p>If you want to run the application by using only Spring beans of a single package you can do that by using the SpringApplicationBuilder. A working snippet:</p>\n\n<pre><code>   new SpringApplicationBuilder(com.foo.module1.Config1.class)\n     .showBanner(false)\n     .run()\n</code></pre>\n\n<p>That would boot up Spring with Config1, which only searches (@ComponentScan is included in @SpringBootApplication) in its package for beans.</p>\n\n<p>If you have want to run the complete application, e.g. all two modules at once, you'de have to create a configuration class in the upper packages com.foo.</p>\n\n<p>In the case that was mentioned below, where running the two modules within a single application might probably interfere with each other in an undesired way due to libraries like the spring-boot-starters, I can only think of two possibilities:</p>\n\n<ol>\n<li>Using OSGi: Which might not solve the issue completely and might turn out be quite a complex setup or</li>\n<li>Splitting the application into two applications and creating interfaces. Spring Boot is also a good choice for a Microservice architecture.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657660011,"creation_date":1657660011,"answer_id":72958388,"question_id":34547581,"body_markdown":"I agree with @rainerhahnekamp who said that what you are trying to achieve is more like a system/integration test.\r\n\r\nHowever if you still want to do your test this way, I think it&#39;s still doable.\r\n\r\n**First, one important things to know** :&lt;br&gt;\r\nImporting both `fooApp` and `barApp` project inside `test` project will make configuration files of both projects available to the classloader, and will produce impredictable results. Exemple : only one of the two `application.properties` file will be loaded. So you will have to use 2 differents profiles to load 2 separated configuration files setup.&lt;br&gt;\r\nFor the same reason of projects files overlapping, beans defined by one application in packages visible by the other one will be loaded in both apps context.\r\n\r\nTo test the concept I created one service and one rest controller in each project, each with a &#39;profiled&#39; property file :\r\n\r\n### barApp ###\r\n\r\n```lang-java\r\n\r\n@EnableAutoConfiguration(\r\n    exclude = {SecurityAutoConfiguration.class,\r\n    ManagementWebSecurityAutoConfiguration.class})\r\n@SpringBootApplication\r\npublic class BarApp {\r\n\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(BarApp.class, args);\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class BarService {\r\n\r\n  public String yield() {\r\n    return &quot;BarService !&quot;;\r\n  }\r\n\r\n}\r\n\r\n@RestController\r\npublic class BarResource {\r\n\r\n  private final BarService barService;\r\n\r\n  public BarResource(BarService barService) {\r\n    this.barService = barService;\r\n  }\r\n\r\n  @GetMapping(&quot;/bar&quot;)\r\n  public String getBar() {\r\n    return barService.yield();\r\n  }\r\n\r\n}\r\n```\r\n\r\napplication-bar.properties :\r\n\r\n```lang-\r\nserver.port=8181\r\n```\r\n\r\n### fooApp ### \r\n\r\n```lang-java\r\n\r\n@EnableConfigurationProperties\r\n@SpringBootApplication\r\npublic class FooApp {\r\n  \r\n  public static void main(String[] args) {\r\n    SpringApplication.run(FooApp.class, args);\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class FooService {\r\n\r\n  public String yield() {\r\n    return &quot;FooService !&quot;;\r\n  }\r\n\r\n}\r\n\r\n@RestController\r\npublic class FooResource {\r\n\r\n  private final FooService fooService;\r\n\r\n  public FooResource(FooService fooService) {\r\n    this.fooService = fooService;\r\n  }\r\n\r\n  @GetMapping(&quot;/foo&quot;)\r\n  public String getFoo() {\r\n    return fooService.yield();\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\napplication-foo.properties :\r\n\r\n```lang-\r\nserver.port=8282\r\n```\r\n\r\n### test ### \r\n\r\n```lang-java\r\nclass TestApps {\r\n\r\n  @Test\r\n  void TestApps() {\r\n    // starting and customizing BarApp\r\n    {\r\n      SpringApplication barApp = new SpringApplication(BarApp.class);\r\n      barApp.setAdditionalProfiles(&quot;bar&quot;); // to load &#39;application-bar.properties&#39;\r\n      GenericWebApplicationContext barAppContext = (GenericWebApplicationContext) barApp.run();\r\n\r\n      BarService barServiceMock = Mockito.mock(BarService.class);\r\n      Mockito.doReturn(&quot;mockified bar !&quot;).when(barServiceMock).yield();\r\n      barAppContext.removeBeanDefinition(&quot;barService&quot;);\r\n      barAppContext.registerBean(&quot;barService&quot;, BarService.class, () -&gt; barServiceMock);\r\n    }\r\n\r\n    // starting and customizing FooApp\r\n    {\r\n      SpringApplication fooApp = new SpringApplication(FooApp.class);\r\n      fooApp.setAdditionalProfiles(&quot;foo&quot;); // to load &#39;application-foo.properties&#39;\r\n      GenericWebApplicationContext fooAppContext = (GenericWebApplicationContext) fooApp.run();\r\n\r\n      FooService fooServiceMock = Mockito.mock(FooService.class);\r\n      Mockito.doReturn(&quot;mockified foo !&quot;).when(fooServiceMock).yield();\r\n      fooAppContext.removeBeanDefinition(&quot;fooService&quot;);\r\n      fooAppContext.registerBean(&quot;fooService&quot;, FooService.class, () -&gt; fooServiceMock);\r\n    }\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String barResourceUrl = &quot;http://localhost:8181/bar&quot;;\r\n    ResponseEntity&lt;String&gt; barResponse = restTemplate.getForEntity(barResourceUrl, String.class);\r\n\r\n    String fooResourceUrl = &quot;http://localhost:8282/foo&quot;;\r\n    ResponseEntity&lt;String&gt; fooResponse = restTemplate.getForEntity(fooResourceUrl, String.class);\r\n\r\n    System.out.println(barResponse.getBody());\r\n    System.out.println(fooResponse.getBody());\r\n  }\r\n\r\n}\r\n```\r\n\r\nLaunching the test produces :\r\n\r\n    mockified bar !\r\n    mockified foo !\r\n\r\nBy the way I doubt your projects will be as simple as my example and I suspect you will run into issues related to important things I highlighted earlier.","title":"How to test multiple Spring Boot applications in one test?","body":"<p>I agree with @rainerhahnekamp who said that what you are trying to achieve is more like a system/integration test.</p>\n<p>However if you still want to do your test this way, I think it's still doable.</p>\n<p><strong>First, one important things to know</strong> :<br>\nImporting both <code>fooApp</code> and <code>barApp</code> project inside <code>test</code> project will make configuration files of both projects available to the classloader, and will produce impredictable results. Exemple : only one of the two <code>application.properties</code> file will be loaded. So you will have to use 2 differents profiles to load 2 separated configuration files setup.<br>\nFor the same reason of projects files overlapping, beans defined by one application in packages visible by the other one will be loaded in both apps context.</p>\n<p>To test the concept I created one service and one rest controller in each project, each with a 'profiled' property file :</p>\n<h3>barApp</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableAutoConfiguration(\n    exclude = {SecurityAutoConfiguration.class,\n    ManagementWebSecurityAutoConfiguration.class})\n@SpringBootApplication\npublic class BarApp {\n\n\n  public static void main(String[] args) {\n    SpringApplication.run(BarApp.class, args);\n  }\n\n}\n\n@Service\npublic class BarService {\n\n  public String yield() {\n    return &quot;BarService !&quot;;\n  }\n\n}\n\n@RestController\npublic class BarResource {\n\n  private final BarService barService;\n\n  public BarResource(BarService barService) {\n    this.barService = barService;\n  }\n\n  @GetMapping(&quot;/bar&quot;)\n  public String getBar() {\n    return barService.yield();\n  }\n\n}\n</code></pre>\n<p>application-bar.properties :</p>\n<pre class=\"lang- prettyprint-override\"><code>server.port=8181\n</code></pre>\n<h3>fooApp</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableConfigurationProperties\n@SpringBootApplication\npublic class FooApp {\n  \n  public static void main(String[] args) {\n    SpringApplication.run(FooApp.class, args);\n  }\n\n}\n\n@Service\npublic class FooService {\n\n  public String yield() {\n    return &quot;FooService !&quot;;\n  }\n\n}\n\n@RestController\npublic class FooResource {\n\n  private final FooService fooService;\n\n  public FooResource(FooService fooService) {\n    this.fooService = fooService;\n  }\n\n  @GetMapping(&quot;/foo&quot;)\n  public String getFoo() {\n    return fooService.yield();\n  }\n\n}\n\n</code></pre>\n<p>application-foo.properties :</p>\n<pre class=\"lang- prettyprint-override\"><code>server.port=8282\n</code></pre>\n<h3>test</h3>\n<pre class=\"lang-java prettyprint-override\"><code>class TestApps {\n\n  @Test\n  void TestApps() {\n    // starting and customizing BarApp\n    {\n      SpringApplication barApp = new SpringApplication(BarApp.class);\n      barApp.setAdditionalProfiles(&quot;bar&quot;); // to load 'application-bar.properties'\n      GenericWebApplicationContext barAppContext = (GenericWebApplicationContext) barApp.run();\n\n      BarService barServiceMock = Mockito.mock(BarService.class);\n      Mockito.doReturn(&quot;mockified bar !&quot;).when(barServiceMock).yield();\n      barAppContext.removeBeanDefinition(&quot;barService&quot;);\n      barAppContext.registerBean(&quot;barService&quot;, BarService.class, () -&gt; barServiceMock);\n    }\n\n    // starting and customizing FooApp\n    {\n      SpringApplication fooApp = new SpringApplication(FooApp.class);\n      fooApp.setAdditionalProfiles(&quot;foo&quot;); // to load 'application-foo.properties'\n      GenericWebApplicationContext fooAppContext = (GenericWebApplicationContext) fooApp.run();\n\n      FooService fooServiceMock = Mockito.mock(FooService.class);\n      Mockito.doReturn(&quot;mockified foo !&quot;).when(fooServiceMock).yield();\n      fooAppContext.removeBeanDefinition(&quot;fooService&quot;);\n      fooAppContext.registerBean(&quot;fooService&quot;, FooService.class, () -&gt; fooServiceMock);\n    }\n\n    RestTemplate restTemplate = new RestTemplate();\n    String barResourceUrl = &quot;http://localhost:8181/bar&quot;;\n    ResponseEntity&lt;String&gt; barResponse = restTemplate.getForEntity(barResourceUrl, String.class);\n\n    String fooResourceUrl = &quot;http://localhost:8282/foo&quot;;\n    ResponseEntity&lt;String&gt; fooResponse = restTemplate.getForEntity(fooResourceUrl, String.class);\n\n    System.out.println(barResponse.getBody());\n    System.out.println(fooResponse.getBody());\n  }\n\n}\n</code></pre>\n<p>Launching the test produces :</p>\n<pre><code>mockified bar !\nmockified foo !\n</code></pre>\n<p>By the way I doubt your projects will be as simple as my example and I suspect you will run into issues related to important things I highlighted earlier.</p>\n"},{"tags":[],"owner":{"account_id":383265,"reputation":33,"user_id":739003,"accept_rate":0,"display_name":"vargashj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664261209,"creation_date":1663808955,"answer_id":73808333,"question_id":34547581,"body_markdown":"YOU need to configure `@ContextConfiguration` to point both apps ","title":"How to test multiple Spring Boot applications in one test?","body":"<p>YOU need to configure <code>@ContextConfiguration</code> to point both apps</p>\n"}],"owner":{"account_id":1184341,"reputation":526,"user_id":1158626,"accept_rate":60,"display_name":"Kristo Aun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9342,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":3,"score":26,"last_activity_date":1666972985,"creation_date":1451571009,"question_id":34547581,"body_markdown":"I have a multi-module Maven project with 2 Spring Boot applications\r\n\r\nparent\r\n\r\n - fooApp \r\n - barApp \r\n - test\r\n\r\nHow to set up a test where you can load separate spring boot applications, each with its own configuration context, in the same process.\r\n\r\n    public abstract class AbstractIntegrationTest {//test module\r\n    \r\n        protected FOO foo;\r\n        protected BAR bar;\r\n    \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @WebAppConfiguration\r\n        @IntegrationTest\r\n        @Transactional\r\n        @SpringApplicationConfiguration(classes = foo.Application.class)\r\n        public class FOO {\r\n            public MockMvc mockMvc;\r\n    \r\n            @Autowired\r\n            public WebApplicationContext wac;\r\n    \r\n            @Before\r\n            public void _0_setup() {\r\n                MockitoAnnotations.initMocks(this);\r\n                mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n                TestCase.assertNotNull(mockMvc);\r\n            }\r\n    \r\n            public void login(String username) {\r\n            }\r\n        }\r\n    \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @WebAppConfiguration\r\n        @IntegrationTest\r\n        @Transactional\r\n        @SpringApplicationConfiguration(classes = bar.Application.class)\r\n        public class BAR {\r\n    \r\n            @Autowired\r\n            public WebApplicationContext wac;\r\n    \r\n            public MockMvc restMvc;\r\n    \r\n            @Before\r\n            public void _0_setup() {\r\n                MockitoAnnotations.initMocks(this);\r\n                restMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n                TestCase.assertNotNull(restMvc);\r\n            }\r\n    \r\n            public void login(String username) {\r\n            }\r\n        }\r\n    \r\n        @Before\r\n        public void _0_setup() {\r\n            foo = new FOO();\r\n            bar = new BAR();\r\n        }\r\n    }\r\n\r\nAnd an example of an integration test\r\n\r\n    public class IntegrationTest extends AbstractIntegrationTest {\r\n    \r\n        @Test\r\n        public void login() {\r\n            foo.login(&quot;foologin&quot;);\r\n            bar.login(&quot;barlogin&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n ","title":"How to test multiple Spring Boot applications in one test?","body":"<p>I have a multi-module Maven project with 2 Spring Boot applications</p>\n\n<p>parent</p>\n\n<ul>\n<li>fooApp </li>\n<li>barApp </li>\n<li>test</li>\n</ul>\n\n<p>How to set up a test where you can load separate spring boot applications, each with its own configuration context, in the same process.</p>\n\n<pre><code>public abstract class AbstractIntegrationTest {//test module\n\n    protected FOO foo;\n    protected BAR bar;\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @WebAppConfiguration\n    @IntegrationTest\n    @Transactional\n    @SpringApplicationConfiguration(classes = foo.Application.class)\n    public class FOO {\n        public MockMvc mockMvc;\n\n        @Autowired\n        public WebApplicationContext wac;\n\n        @Before\n        public void _0_setup() {\n            MockitoAnnotations.initMocks(this);\n            mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n            TestCase.assertNotNull(mockMvc);\n        }\n\n        public void login(String username) {\n        }\n    }\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @WebAppConfiguration\n    @IntegrationTest\n    @Transactional\n    @SpringApplicationConfiguration(classes = bar.Application.class)\n    public class BAR {\n\n        @Autowired\n        public WebApplicationContext wac;\n\n        public MockMvc restMvc;\n\n        @Before\n        public void _0_setup() {\n            MockitoAnnotations.initMocks(this);\n            restMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n            TestCase.assertNotNull(restMvc);\n        }\n\n        public void login(String username) {\n        }\n    }\n\n    @Before\n    public void _0_setup() {\n        foo = new FOO();\n        bar = new BAR();\n    }\n}\n</code></pre>\n\n<p>And an example of an integration test</p>\n\n<pre><code>public class IntegrationTest extends AbstractIntegrationTest {\n\n    @Test\n    public void login() {\n        foo.login(\"foologin\");\n        bar.login(\"barlogin\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","classpath"],"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1666969661,"post_id":71102044,"comment_id":131067180,"body_markdown":"I assume you wish to add to the classpath so that Java will use that classpath during compilation. Also, generally speaking, you shouldn&#39;t need to do this. I suggest looking to use dependencies or other Gradle mechanisms that automatically manipulate the classpath. However, I have encountered situations where a Gradle plugin was broken and I needed to manipulate the classpath directly myself. So... it is valid in some cases to do this.","body":"I assume you wish to add to the classpath so that Java will use that classpath during compilation. Also, generally speaking, you shouldn&#39;t need to do this. I suggest looking to use dependencies or other Gradle mechanisms that automatically manipulate the classpath. However, I have encountered situations where a Gradle plugin was broken and I needed to manipulate the classpath directly myself. So... it is valid in some cases to do this."}],"answers":[{"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666972671,"creation_date":1666972671,"answer_id":74237928,"question_id":71102044,"body_markdown":"Try\r\n\r\n```\r\ncompileJava {\r\n    classpath += files([&#39;src/main/coolbeans&#39;])\r\n}\r\n```\r\n\r\n\r\nSee https://docs.gradle.org/current/userguide/building_java_projects.html\r\n\r\nAnd https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html","title":"How to add classpath in gradle compileJava task?","body":"<p>Try</p>\n<pre><code>compileJava {\n    classpath += files(['src/main/coolbeans'])\n}\n</code></pre>\n<p>See <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/building_java_projects.html</a></p>\n<p>And <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html</a></p>\n"}],"owner":{"account_id":19028922,"reputation":25,"user_id":13891439,"display_name":"Enaium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237928,"answer_count":1,"score":1,"last_activity_date":1666972671,"creation_date":1644765534,"question_id":71102044,"body_markdown":"How to add classpath in gradle compileJava task?\r\n```grovvy\r\nafterEvaluate {\r\n    tasks.compileJava {\r\n      //add classpath\r\n    }\r\n}\r\n```\r\n\r\nIt not add:\r\n```groovy\r\ndependencies {\r\n compileOnly &#39;&#39;\r\n}\r\n```\r\n\r\n","title":"How to add classpath in gradle compileJava task?","body":"<p>How to add classpath in gradle compileJava task?</p>\n<pre><code>afterEvaluate {\n    tasks.compileJava {\n      //add classpath\n    }\n}\n</code></pre>\n<p>It not add:</p>\n<pre><code>dependencies {\n compileOnly ''\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","orientation"],"comments":[{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1376486555,"post_id":18232834,"comment_id":26730254,"body_markdown":"Put the same `android:configChanges=&quot;orientation|keyboardHidden&quot;` for `com.****.media.tv.VideoLandscape` and also in the code in the `else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){` put the new intent start for the First activity: `Intent i = new Intent(getApplicationContext(),                      \n                VideoPortrait.class);\n        i.putExtra(&quot;url&quot;, LINK);\n        i.putExtra(&quot;small&quot;, videoPath);\n        startActivity(i);`.","body":"Put the same <code>android:configChanges=&quot;orientation|keyboardHidden&quot;</code> for <code>com.****.media.tv.VideoLandscape</code> and also in the code in the <code>else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){</code> put the new intent start for the First activity: <code>Intent i = new Intent(getApplicationContext(),                                       VideoPortrait.class);         i.putExtra(&quot;url&quot;, LINK);         i.putExtra(&quot;small&quot;, videoPath);         startActivity(i);</code>."}],"answers":[{"tags":[],"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1376486339,"creation_date":1376486339,"answer_id":18232856,"question_id":18232834,"body_markdown":"    android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n in activity tag of meanifeast","title":"Android onConfigurationChanged not working","body":"<pre><code>android:configChanges=\"keyboardHidden|orientation|screenSize\"\n</code></pre>\n\n<p>in activity tag of meanifeast</p>\n"},{"tags":[],"owner":{"account_id":1197556,"reputation":1045,"user_id":1168948,"accept_rate":86,"display_name":"Animesh Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666972299,"creation_date":1376487705,"answer_id":18233415,"question_id":18232834,"body_markdown":"You need to add `|screenSize` attribute in `android:configChanges` attribute like given below\r\n\r\n    android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n\r\nSince there is a little change after API level 13 which is mentioned in the doc for handeling `onConfigurationChanged()` \r\n\r\n&gt; Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot; also changes when the device switches between portrait and landscape orientation. Thus, if you want to prevent runtime restarts due to orientation change when developing for API level 13 or higher (as declared by the minSdkVersion and targetSdkVersion attributes), you must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot; value. That is, you must decalare android:configChanges=&quot;orientation|screenSize&quot;. However, if your application targets API level 12 or lower, then your activity always handles this configuration change itself (this configuration change does not restart your activity, even when running on an Android 3.2 or higher device).\r\n\r\n[From here][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","title":"Android onConfigurationChanged not working","body":"<p>You need to add <code>|screenSize</code> attribute in <code>android:configChanges</code> attribute like given below</p>\n<pre><code>android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n</code></pre>\n<p>Since there is a little change after API level 13 which is mentioned in the doc for handeling <code>onConfigurationChanged()</code></p>\n<blockquote>\n<p>Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot; also changes when the device switches between portrait and landscape orientation. Thus, if you want to prevent runtime restarts due to orientation change when developing for API level 13 or higher (as declared by the minSdkVersion and targetSdkVersion attributes), you must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot; value. That is, you must decalare android:configChanges=&quot;orientation|screenSize&quot;. However, if your application targets API level 12 or lower, then your activity always handles this configuration change itself (this configuration change does not restart your activity, even when running on an Android 3.2 or higher device).</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">From here</a></p>\n"}],"owner":{"account_id":2081357,"reputation":331,"user_id":1853271,"accept_rate":46,"display_name":"Tom Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18232856,"answer_count":2,"score":0,"last_activity_date":1666972299,"creation_date":1376486287,"question_id":18232834,"body_markdown":"First time I&#39;ve ever tried this so do not know about it but need it fixed ASAP. Im trying to make it do a new intent when i rotate the device to landscape. \r\n\r\nHere&#39;s my code:\r\n\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n\t    super.onConfigurationChanged(newConfig);\r\n\r\n\t    // Checks the orientation of the screen\r\n\t    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n\t        Toast.makeText(this, &quot;landscape&quot;, Toast.LENGTH_SHORT).show();\r\n\t        Intent i = new Intent(getApplicationContext(),\t\t\t\t\t\t\r\n\t\t\t\t\tVideoLandscape.class);\r\n\t        i.putExtra(&quot;url&quot;, LINK);\r\n\t        i.putExtra(&quot;small&quot;, videoPath);\r\n\t        startActivity(i);\r\n\t        \r\n\t    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n\t        Toast.makeText(this, &quot;portrait&quot;, Toast.LENGTH_SHORT).show();\r\n\t    }\r\n     }\r\n\r\n\r\n    //Manifest\r\n     &lt;activity\r\n            android:name=&quot;com.****.media.tv.Video&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n            android:label=&quot;@string/title_TV&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.****.media.tv.VideoLandscape&quot;\r\n            android:label=&quot;@string/title_TV&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\nMany Thanks \r\nCharlton Santana","title":"Android onConfigurationChanged not working","body":"<p>First time I've ever tried this so do not know about it but need it fixed ASAP. Im trying to make it do a new intent when i rotate the device to landscape. </p>\n\n<p>Here's my code:</p>\n\n<pre><code> public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    // Checks the orientation of the screen\n    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        Toast.makeText(this, \"landscape\", Toast.LENGTH_SHORT).show();\n        Intent i = new Intent(getApplicationContext(),                      \n                VideoLandscape.class);\n        i.putExtra(\"url\", LINK);\n        i.putExtra(\"small\", videoPath);\n        startActivity(i);\n\n    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\n        Toast.makeText(this, \"portrait\", Toast.LENGTH_SHORT).show();\n    }\n }\n\n\n//Manifest\n &lt;activity\n        android:name=\"com.****.media.tv.Video\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:label=\"@string/title_TV\"&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\"com.****.media.tv.VideoLandscape\"\n        android:label=\"@string/title_TV\"&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Many Thanks \nCharlton Santana</p>\n"},{"tags":["java","android","andengine","screen-orientation","live-wallpaper"],"comments":[{"owner":{"account_id":996487,"reputation":19903,"user_id":1012284,"accept_rate":79,"display_name":"Padma Kumar"},"score":0,"creation_date":1356381744,"post_id":14025256,"comment_id":19371369,"body_markdown":"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","body":"<a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1688663,"reputation":12672,"user_id":1823424,"accept_rate":83,"display_name":"Talha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666972157,"creation_date":1356380066,"answer_id":14025370,"question_id":14025256,"body_markdown":"     android:configChanges=&quot;orientation|screenSize&quot;\r\n\r\n&gt; Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot;\r\n&gt; also changes when the device switches between portrait and landscape\r\n&gt; orientation. Thus, if you want to prevent runtime restarts due to\r\n&gt; orientation change when developing for API level 13 or higher (as\r\n&gt; declared by the minSdkVersion and targetSdkVersion attributes), you\r\n&gt; must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot;\r\n&gt; value. That is, you must decalare\r\n&gt; android:configChanges=&quot;orientation|screenSize&quot;. However, if your\r\n&gt; application targets API level 12 or lower, then your activity always\r\n&gt; handles this configuration change itself (this configuration change\r\n&gt; does not restart your activity, even when running on an Android 3.2 or\r\n&gt; higher device).\r\n\r\nFrom http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html","title":"Android screen orientation handling issue","body":"<pre><code> android:configChanges=&quot;orientation|screenSize&quot;\n</code></pre>\n<blockquote>\n<p>Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot;\nalso changes when the device switches between portrait and landscape\norientation. Thus, if you want to prevent runtime restarts due to\norientation change when developing for API level 13 or higher (as\ndeclared by the minSdkVersion and targetSdkVersion attributes), you\nmust include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot;\nvalue. That is, you must decalare\nandroid:configChanges=&quot;orientation|screenSize&quot;. However, if your\napplication targets API level 12 or lower, then your activity always\nhandles this configuration change itself (this configuration change\ndoes not restart your activity, even when running on an Android 3.2 or\nhigher device).</p>\n</blockquote>\n<p>From <a href=\"http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html</a></p>\n"},{"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1356380272,"creation_date":1356380272,"answer_id":14025397,"question_id":14025256,"body_markdown":"In my live wallpaper, which handles orientation changes, I use the `onConfigurationChange()` method to check for orientation changes, but I don&#39;t have any direct experience with the 2 phones, though I&#39;ve never gotten any complaints about them. My method looks something along the lines of:\r\n\r\n       @Override\r\n       public void onConfigurationChanged(Configuration newConfig) {\r\n           super.onConfigurationChanged(newConfig);\r\n    \r\n           // Checks the orientation of the screen  \r\n           if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n             rotated = true;\r\n           }\r\n           else {\r\n             rotated = false;\r\n           }\r\n       }\r\n\r\nAnd in the `draw()` method, I check the `rotated` boolean. There&#39;s additional checks in the `onSurfaceChanged()` to correct for resolution changes when the orientation changes.\r\n\r\nI don&#39;t have `android:configChanges=&quot;keyboardHidden|orientation&quot;` in my manifest file at all.","title":"Android screen orientation handling issue","body":"<p>In my live wallpaper, which handles orientation changes, I use the <code>onConfigurationChange()</code> method to check for orientation changes, but I don't have any direct experience with the 2 phones, though I've never gotten any complaints about them. My method looks something along the lines of:</p>\n\n<pre><code>   @Override\n   public void onConfigurationChanged(Configuration newConfig) {\n       super.onConfigurationChanged(newConfig);\n\n       // Checks the orientation of the screen  \n       if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n         rotated = true;\n       }\n       else {\n         rotated = false;\n       }\n   }\n</code></pre>\n\n<p>And in the <code>draw()</code> method, I check the <code>rotated</code> boolean. There's additional checks in the <code>onSurfaceChanged()</code> to correct for resolution changes when the orientation changes.</p>\n\n<p>I don't have <code>android:configChanges=\"keyboardHidden|orientation\"</code> in my manifest file at all.</p>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14025397,"answer_count":2,"score":5,"last_activity_date":1666972157,"creation_date":1356379097,"question_id":14025256,"body_markdown":"I&#39;m working on the android live wallpaper applications and need to correctly handle screen orientation changes. \r\n\r\nCurrently I use `onConfigurationChanged` for this purpose(in this method I need to change coordinates of my LWP screen elements. I use `andengine`). Everything works fine on the emulators and my test phones, but some my customers with **Samsung Galaxy Note2 (t03g)**, **LG thrill(LGE LG-P925)** reports the issues with incorrect application work during the screen orientations change.\r\n\r\nI don&#39;t have these phones on hand, but can suppose that the issue is related to `onConfigurationChanged` not being called. \r\n\r\nIs it correct to use `onConfigurationChanged` method ? Maybe I need to use `onSurfaceChanges` or something like that ? Could you please suggest me the correct way to solve this issue ?\r\n\r\nAlos, I have added `android:configChanges=&quot;keyboardHidden|orientation&quot;` into my `AndroidManifest.xml` :\r\n\r\n    &lt;activity\r\n                android:name=&quot;.WallpaperSettings&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.PREFERENCE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n","title":"Android screen orientation handling issue","body":"<p>I'm working on the android live wallpaper applications and need to correctly handle screen orientation changes. </p>\n\n<p>Currently I use <code>onConfigurationChanged</code> for this purpose(in this method I need to change coordinates of my LWP screen elements. I use <code>andengine</code>). Everything works fine on the emulators and my test phones, but some my customers with <strong>Samsung Galaxy Note2 (t03g)</strong>, <strong>LG thrill(LGE LG-P925)</strong> reports the issues with incorrect application work during the screen orientations change.</p>\n\n<p>I don't have these phones on hand, but can suppose that the issue is related to <code>onConfigurationChanged</code> not being called. </p>\n\n<p>Is it correct to use <code>onConfigurationChanged</code> method ? Maybe I need to use <code>onSurfaceChanges</code> or something like that ? Could you please suggest me the correct way to solve this issue ?</p>\n\n<p>Alos, I have added <code>android:configChanges=\"keyboardHidden|orientation\"</code> into my <code>AndroidManifest.xml</code> :</p>\n\n<pre><code>&lt;activity\n            android:name=\".WallpaperSettings\"\n            android:configChanges=\"keyboardHidden|orientation\"\n            android:exported=\"true\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.PREFERENCE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666825022,"post_id":74214754,"comment_id":131030188,"body_markdown":"Do you have a `settings.gradle` under `myproject`? How are the builds included?","body":"Do you have a <code>settings.gradle</code> under <code>myproject</code>? How are the builds included?"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666825077,"post_id":74214754,"comment_id":131030200,"body_markdown":"Also, why are the projects nested like that? &#129300;","body":"Also, why are the projects nested like that? 🤔"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666971932,"post_id":74214754,"comment_id":131068040,"body_markdown":"Yes, I do. I’ve added it, even though it’s pretty trivial. Such nesting totally makes sense on large projects.","body":"Yes, I do. I’ve added it, even though it’s pretty trivial. Such nesting totally makes sense on large projects."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666973480,"post_id":74214754,"comment_id":131068594,"body_markdown":"Never seen it before...  Where did you add the settings.gradle?","body":"Never seen it before...  Where did you add the settings.gradle?"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666978320,"post_id":74214754,"comment_id":131070225,"body_markdown":"At root, of course","body":"At root, of course"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666978335,"post_id":74214754,"comment_id":131070232,"body_markdown":"This is how monorepo works","body":"This is how monorepo works"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666978714,"post_id":74214754,"comment_id":131070342,"body_markdown":"I have worked on them before. Just saying I&#39;ve never seen this layout. Doesn&#39;t mean it&#39;s wrong, just that I&#39;ve never seen it","body":"I have worked on them before. Just saying I&#39;ve never seen this layout. Doesn&#39;t mean it&#39;s wrong, just that I&#39;ve never seen it"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666978797,"post_id":74214754,"comment_id":131070366,"body_markdown":"As I&#39;ve asked and as asked in the answer below, what are the _contents_ of the settings file. How are you including the builds?","body":"As I&#39;ve asked and as asked in the answer below, what are the <i>contents</i> of the settings file. How are you including the builds?"}],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666825623,"creation_date":1666825623,"answer_id":74215123,"question_id":74214754,"body_markdown":"it depends on how you declare projects in `my-project/settings.gradle`\r\n\r\nif it&#39;s `include(&#39;my-shared-project-A&#39;)`, then it would be `implementation(project(&quot;:my-shared-project-A&quot;))`. \r\n\r\nMind the project() call.","title":"Gradle how to use a project that is on an upper hierarchy?","body":"<p>it depends on how you declare projects in <code>my-project/settings.gradle</code></p>\n<p>if it's <code>include('my-shared-project-A')</code>, then it would be <code>implementation(project(&quot;:my-shared-project-A&quot;))</code>.</p>\n<p>Mind the project() call.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666971990,"creation_date":1666822124,"question_id":74214754,"body_markdown":"I have the following repository structure (there is a `build.gradle` under every project, and a `settings.gradle` under `my-project`):\r\n```\r\nmy-project\r\n|\r\n├── my-shared-project-A\r\n└── my-project-B \r\n    └── my-project-C\r\n        └── my-project-D\r\n```\r\n\r\nI want to use `my-shared-project-A`, from `my-project-C` and `my-project-D`.\r\nWhat is the syntax for this?\r\n\r\nI&#39;ve tried:\r\n`my-project-D`\r\n```groovy\r\ndependencies {\r\n    implementation(&quot;:my-project:my-shared-project-A&quot;)\r\n}\r\n```\r\nBut it didn&#39;t work.","title":"Gradle how to use a project that is on an upper hierarchy?","body":"<p>I have the following repository structure (there is a <code>build.gradle</code> under every project, and a <code>settings.gradle</code> under <code>my-project</code>):</p>\n<pre><code>my-project\n|\n├── my-shared-project-A\n└── my-project-B \n    └── my-project-C\n        └── my-project-D\n</code></pre>\n<p>I want to use <code>my-shared-project-A</code>, from <code>my-project-C</code> and <code>my-project-D</code>.\nWhat is the syntax for this?</p>\n<p>I've tried:\n<code>my-project-D</code></p>\n<pre><code>dependencies {\n    implementation(&quot;:my-project:my-shared-project-A&quot;)\n}\n</code></pre>\n<p>But it didn't work.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":0,"creation_date":1435473344,"post_id":8346218,"comment_id":50209723,"body_markdown":"There are a couple of good short ones, implemented in terms of log, in this question: http://stackoverflow.com/questions/24134816/goldbergs-log1p-vs-gsl-log1p","body":"There are a couple of good short ones, implemented in terms of log, in this question: <a href=\"http://stackoverflow.com/questions/24134816/goldbergs-log1p-vs-gsl-log1p\" title=\"goldbergs log1p vs gsl log1p\">stackoverflow.com/questions/24134816/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":453377,"reputation":9811,"user_id":850326,"accept_rate":89,"display_name":"djhaskin987"},"down_vote_count":6,"up_vote_count":3,"is_accepted":true,"score":-3,"last_activity_date":1322763882,"creation_date":1322763882,"answer_id":8346337,"question_id":8346218,"body_markdown":"since `log1p(x) = Math.log(x+1)`, finding a natural log fast algorithm is sufficient for what you need.\r\n\r\n&gt; Fast Natural Logarithm in Java\r\n&gt; \r\n&gt; I have found the following approximation here, and there is not much\r\n&gt; information about it except that it is called “Borchardt’s Algorithm”\r\n&gt; and it is from the book “Dead Reconing: Calculating without\r\n&gt; instruments”. The approximation is not very good (some might say very\r\n&gt; bad…), it gets worse the larger the values are. But the approximation\r\n&gt; is also a monotonic, slowly increasing function, which is good enough\r\n&gt; for my use case.\r\n&gt; \r\n&gt; public static double log(double x) {\r\n&gt;     return 6 * (x - 1) / (x + 1 + 4 * (Math.sqrt(x))); }\r\n&gt; \r\n&gt; This approximation is 11.7 times faster than Math.log().\r\n\r\nSee [this][1] site. Also, [a performance comparison for math libraries in java.][2]\r\n\r\nBut probably what you **need** is to link to c++ compiled stuff, detailed [here][3].\r\n\r\n\r\n  [1]: http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/\r\n  [2]: http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/\r\n  [3]: http://www.javaworld.com/javaworld/javatips/jw-javatip141.html","title":"is there a fast implementation of the log1p function?","body":"<p>since <code>log1p(x) = Math.log(x+1)</code>, finding a natural log fast algorithm is sufficient for what you need.</p>\n\n<blockquote>\n  <p>Fast Natural Logarithm in Java</p>\n  \n  <p>I have found the following approximation here, and there is not much\n  information about it except that it is called “Borchardt’s Algorithm”\n  and it is from the book “Dead Reconing: Calculating without\n  instruments”. The approximation is not very good (some might say very\n  bad…), it gets worse the larger the values are. But the approximation\n  is also a monotonic, slowly increasing function, which is good enough\n  for my use case.</p>\n  \n  <p>public static double log(double x) {\n      return 6 * (x - 1) / (x + 1 + 4 * (Math.sqrt(x))); }</p>\n  \n  <p>This approximation is 11.7 times faster than Math.log().</p>\n</blockquote>\n\n<p>See <a href=\"http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/\" rel=\"nofollow\">this</a> site. Also, <a href=\"http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/\" rel=\"nofollow\">a performance comparison for math libraries in java.</a></p>\n\n<p>But probably what you <strong>need</strong> is to link to c++ compiled stuff, detailed <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip141.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":511614,"reputation":1359,"user_id":942179,"display_name":"Elmar Zander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666971900,"creation_date":1666971900,"answer_id":74237784,"question_id":8346218,"body_markdown":"In &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; (https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html) there is a short algorithm to compute `log1p` within 5 epsilon for `0&lt;=x&lt;3/4` and given certain requirements on the arithmetic\r\n\r\n```\r\ndouble xp1 = 1+x;\r\nif(xp1==1)\r\n   return x;\r\nelse\r\n   return x * log(xp1) / (xp1-1);\r\n```\r\n\r\nMaybe this performs better on your system than the builtin `log1p` implementation. However, use it with care (see the paper for things that could go wrong e.g. in extended-base systems) and have some tests ready.","title":"is there a fast implementation of the log1p function?","body":"<p>In &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; (<a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>) there is a short algorithm to compute <code>log1p</code> within 5 epsilon for <code>0&lt;=x&lt;3/4</code> and given certain requirements on the arithmetic</p>\n<pre><code>double xp1 = 1+x;\nif(xp1==1)\n   return x;\nelse\n   return x * log(xp1) / (xp1-1);\n</code></pre>\n<p>Maybe this performs better on your system than the builtin <code>log1p</code> implementation. However, use it with care (see the paper for things that could go wrong e.g. in extended-base systems) and have some tests ready.</p>\n"}],"owner":{"account_id":506799,"reputation":4597,"user_id":991703,"accept_rate":57,"display_name":"kloop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8346337,"answer_count":2,"score":4,"last_activity_date":1666971900,"creation_date":1322763371,"question_id":8346218,"body_markdown":"I want to have a fast log1p function for Java. Java has Math.log1p, but it is apparently too slow for my needs.\r\n\r\nI have found this code for log1p here:\r\n\r\nhttp://golang.org/src/pkg/math/log1p.go\r\n\r\nfor the GO language.\r\n\r\nIs it the same like the one in Java, or is it a faster one? (assuming I translate it to java).\r\nAnyone is aware of some other fast implementation of log1p?\r\n\r\nThanks.","title":"is there a fast implementation of the log1p function?","body":"<p>I want to have a fast log1p function for Java. Java has Math.log1p, but it is apparently too slow for my needs.</p>\n\n<p>I have found this code for log1p here:</p>\n\n<p><a href=\"http://golang.org/src/pkg/math/log1p.go\" rel=\"nofollow\">http://golang.org/src/pkg/math/log1p.go</a></p>\n\n<p>for the GO language.</p>\n\n<p>Is it the same like the one in Java, or is it a faster one? (assuming I translate it to java).\nAnyone is aware of some other fast implementation of log1p?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358850717,"creation_date":1358850717,"answer_id":14456466,"question_id":14456276,"body_markdown":"A ThreadPool is a pool of one of more threads which can be managed collectively.  In Java The ThreadPoolExecutor also has a queue while you give it Runnable or Callable to execute and it can return a Future which allows you to control the task or obtain a result.\r\n\r\nA Semaphore just allows you to obtain a number of permits e.g. it can allow two threads at most to run some code.  You need a number of threads running to give it a purpose, but otherwise they are unrelated.\r\n\r\nBTW: I would read the documentation for Java 7 as Java 5.0 has been EOL for some time and Java 6 is almost at an End of Free Service.","title":"Semaphores and Threadpools in Java","body":"<p>A ThreadPool is a pool of one of more threads which can be managed collectively.  In Java The ThreadPoolExecutor also has a queue while you give it Runnable or Callable to execute and it can return a Future which allows you to control the task or obtain a result.</p>\n\n<p>A Semaphore just allows you to obtain a number of permits e.g. it can allow two threads at most to run some code.  You need a number of threads running to give it a purpose, but otherwise they are unrelated.</p>\n\n<p>BTW: I would read the documentation for Java 7 as Java 5.0 has been EOL for some time and Java 6 is almost at an End of Free Service.</p>\n"},{"tags":[],"owner":{"account_id":1848338,"reputation":1157,"user_id":1675502,"accept_rate":42,"display_name":"V&#237;ctor Herraiz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1666970447,"creation_date":1358852351,"answer_id":14457014,"question_id":14456276,"body_markdown":"First of all, there is no such thing as a stupid question...\r\n\r\n[Semaphore][1] allows multiple threads to &quot;acquire&quot; a resource. They should check if the resource is available. It&#39;s like a valve for flow control.\r\n\r\nA [Lock][2] is for exclusive access. Only one thread at a time.  \r\n\r\nA [ThreadPoolExecutor][3] allows you to run some code (Runnable or Callable class) using a bounded amount of threads. You don&#39;t have to bother about building this yourself, it is already implemented for you in the JSE API. You could do your own with some semaphores and queues... but if you do not have a good reason do not waste your time. \r\n\r\nImagine you have to implement a web server that receives some requests to port 80. You do not want to use the same thread that is listening to this port to process the whole request (this is a waste of resources...). You could use a ThreadPoolExecutor deal with the request, process it, and respond to the client.  ThreadPoolExecutor could be configured to take advantage of the current CPUs: the optimal number of threads for this architecture and this task.\r\n\r\n[Concurrency in practice][4] is a nice book to improve your knowledge on this matter.  \r\n\r\nI hope this help you and sorry for my basic English.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [4]: http://www.javaconcurrencyinpractice.com/","title":"Semaphores and Threadpools in Java","body":"<p>First of all, there is no such thing as a stupid question...</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a> allows multiple threads to &quot;acquire&quot; a resource. They should check if the resource is available. It's like a valve for flow control.</p>\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">Lock</a> is for exclusive access. Only one thread at a time.</p>\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> allows you to run some code (Runnable or Callable class) using a bounded amount of threads. You don't have to bother about building this yourself, it is already implemented for you in the JSE API. You could do your own with some semaphores and queues... but if you do not have a good reason do not waste your time.</p>\n<p>Imagine you have to implement a web server that receives some requests to port 80. You do not want to use the same thread that is listening to this port to process the whole request (this is a waste of resources...). You could use a ThreadPoolExecutor deal with the request, process it, and respond to the client.  ThreadPoolExecutor could be configured to take advantage of the current CPUs: the optimal number of threads for this architecture and this task.</p>\n<p><a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow noreferrer\">Concurrency in practice</a> is a nice book to improve your knowledge on this matter.</p>\n<p>I hope this help you and sorry for my basic English.</p>\n"}],"owner":{"account_id":178712,"reputation":745,"user_id":410873,"accept_rate":22,"display_name":"mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1666970447,"creation_date":1358850167,"question_id":14456276,"body_markdown":"I am not very clear on concept of semaphores in Java and trying to understand it.\r\n\r\nMy understanding after reading oracle docs (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Semaphore.html) and some other pages, its similar to a lock with a count of number of permits.\r\n\r\nIt is usually used to create pools of resources. \r\nHere I get confused, there is also ThreadPoolExecutor which can give me a pool of threads. So what is the difference? Which one is used in what scenario? \r\n\r\n","title":"Semaphores and Threadpools in Java","body":"<p>I am not very clear on concept of semaphores in Java and trying to understand it.</p>\n\n<p>My understanding after reading oracle docs (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Semaphore.html) and some other pages, its similar to a lock with a count of number of permits.</p>\n\n<p>It is usually used to create pools of resources. \nHere I get confused, there is also ThreadPoolExecutor which can give me a pool of threads. So what is the difference? Which one is used in what scenario? </p>\n"},{"tags":["java","json","quarkus","media-type","smallrye"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1666782997,"post_id":74205322,"comment_id":131016293,"body_markdown":"What does your code look like?","body":"What does your code look like?"},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666825764,"post_id":74205322,"comment_id":131030313,"body_markdown":"My understanding is that when you use application/json, on your endpoint method&#39;s, in the background, Quarkus uses a serializer (of your choosing) to serialize your methods return objects for you. If you are generating JSON formatted strings (already prepared for serialization) prior to your endpoint method&#39;s output, the Quarkus serializer might take the already serialized output and try to serialize it again, which would result in an array wrapping your output like you have above.","body":"My understanding is that when you use application/json, on your endpoint method&#39;s, in the background, Quarkus uses a serializer (of your choosing) to serialize your methods return objects for you. If you are generating JSON formatted strings (already prepared for serialization) prior to your endpoint method&#39;s output, the Quarkus serializer might take the already serialized output and try to serialize it again, which would result in an array wrapping your output like you have above."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666825963,"post_id":74205322,"comment_id":131030332,"body_markdown":"If you post some code or an MWE it should be a simple enough fix. Additionally, If you want the method to return a single payload (with an inner list) make sure the endpoint method itself returns a Uni. A multi will produce multiple things, thus you&#39;d get serialized to an array.","body":"If you post some code or an MWE it should be a simple enough fix. Additionally, If you want the method to return a single payload (with an inner list) make sure the endpoint method itself returns a Uni. A multi will produce multiple things, thus you&#39;d get serialized to an array."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666826036,"post_id":74205322,"comment_id":131030344,"body_markdown":"So short version:\n\n1. Make sure your endpoint returns a Uni of whatever type you want.\n2. Make sure your type is not &quot;String&quot;, it should be whatever your actual object payload is.","body":"So short version:  1. Make sure your endpoint returns a Uni of whatever type you want. 2. Make sure your type is not &quot;String&quot;, it should be whatever your actual object payload is."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666970213,"post_id":74205322,"comment_id":131067381,"body_markdown":"@geoand Please find the code sample provided at the end of the question.","body":"@geoand Please find the code sample provided at the end of the question."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666970329,"post_id":74205322,"comment_id":131067417,"body_markdown":"@TheFunk Thanks for the response, I have provided the sample code. Isn&#39;t there any way to achieve this while using `Multi`? Because my depending application always returns `Multi` so would like to keep it as it is.","body":"@TheFunk Thanks for the response, I have provided the sample code. Isn&#39;t there any way to achieve this while using <code>Multi</code>? Because my depending application always returns <code>Multi</code> so would like to keep it as it is."}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666970189,"creation_date":1666775815,"question_id":74205322,"body_markdown":"I have a POST Rest API developed using Quarkus with `@Produces(MediaType.APPLICATION_JSON)` this method returns the list of customers asynchronously. But the problem is that it adds the additional array wrapper and comma separation, which is not required. Everything works fine when used with `MediaType.TEXT_PLAIN` but since my response is of JSON type I want to keep `MediaType.APPLICATION_JSON`. Is there anyway to avoid the modification to response?\r\n\r\nFor example following is the response I am getting with `@Produces(MediaType.APPLICATION_JSON)`. You can see it adds unwanted commas and arrays within my response:\r\n```\r\n[\r\n  {\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [,\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      },\r\n    ]\r\n  }\r\n}]\r\n```\r\n\r\nThe response I would like is correctly achievable with `MediaType.TEXT_PLAIN`:\r\n\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nWhen I use text/plain, everything works fine. Is there something that I can modify to avoid the addition of array wrapper and comma when using with `application/json`?\r\n\r\nI believe this is happening because I am generating the elements in `customerList` asynchronously using the `SmallRye Mutin Multi&lt;String&gt;`. Can someone please provide some suggestion?\r\n\r\nThe following is the Quarkus Rest API for GET requests:\r\n\r\n```\r\n  @Path(&quot;/testData&quot;)\r\n  @GET\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public Multi &lt;String&gt; test() throws IOException {\r\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\r\n  }\r\n```","title":"Why does Quarkus @Produces(MediaType.APPLICATION_JSON) automatically add the array wrapper and comma to values?","body":"<p>I have a POST Rest API developed using Quarkus with <code>@Produces(MediaType.APPLICATION_JSON)</code> this method returns the list of customers asynchronously. But the problem is that it adds the additional array wrapper and comma separation, which is not required. Everything works fine when used with <code>MediaType.TEXT_PLAIN</code> but since my response is of JSON type I want to keep <code>MediaType.APPLICATION_JSON</code>. Is there anyway to avoid the modification to response?</p>\n<p>For example following is the response I am getting with <code>@Produces(MediaType.APPLICATION_JSON)</code>. You can see it adds unwanted commas and arrays within my response:</p>\n<pre><code>[\n  {\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [,\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      },\n    ]\n  }\n}]\n</code></pre>\n<p>The response I would like is correctly achievable with <code>MediaType.TEXT_PLAIN</code>:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>When I use text/plain, everything works fine. Is there something that I can modify to avoid the addition of array wrapper and comma when using with <code>application/json</code>?</p>\n<p>I believe this is happening because I am generating the elements in <code>customerList</code> asynchronously using the <code>SmallRye Mutin Multi&lt;String&gt;</code>. Can someone please provide some suggestion?</p>\n<p>The following is the Quarkus Rest API for GET requests:</p>\n<pre><code>  @Path(&quot;/testData&quot;)\n  @GET\n  @Produces(MediaType.APPLICATION_JSON)\n  public Multi &lt;String&gt; test() throws IOException {\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\n  }\n</code></pre>\n"},{"tags":["java","linux","maven","java-19"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1666961329,"post_id":74235391,"comment_id":131064244,"body_markdown":"It&#39;s possible that the implementation of that method requires a system call that isn&#39;t present on the CentOS kernel. Since containers don&#39;t bring their own kernel with them, they depend on functionality being present in the host kernel. Is `3.10.0` the kernel version that&#39;s running on CentOS? If so, that kernel would be ~11 years old (with plenty of patches applied, I&#39;m sure), so it wouldn&#39;t be a surprise if something is missing.","body":"It&#39;s possible that the implementation of that method requires a system call that isn&#39;t present on the CentOS kernel. Since containers don&#39;t bring their own kernel with them, they depend on functionality being present in the host kernel. Is <code>3.10.0</code> the kernel version that&#39;s running on CentOS? If so, that kernel would be ~11 years old (with plenty of patches applied, I&#39;m sure), so it wouldn&#39;t be a surprise if something is missing."},{"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"score":0,"creation_date":1666962069,"post_id":74235391,"comment_id":131064519,"body_markdown":"Indeed `3.10.0-1160.76.1.el7.x86_64` is the CentOS kernel. Is it expected the JVM fails on that or it should fallback to another method?","body":"Indeed <code>3.10.0-1160.76.1.el7.x86_64</code> is the CentOS kernel. Is it expected the JVM fails on that or it should fallback to another method?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1666968697,"post_id":74235391,"comment_id":131066796,"body_markdown":"I found no information what the minimum expected kernel is for OpenJDK 19 on Linux, but it&#39;s possible that there is an alternate implementation, but your problem suggests that it&#39;s not in use (or at least not automatically).","body":"I found no information what the minimum expected kernel is for OpenJDK 19 on Linux, but it&#39;s possible that there is an alternate implementation, but your problem suggests that it&#39;s not in use (or at least not automatically)."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666970052,"creation_date":1666970052,"answer_id":74237402,"question_id":74235391,"body_markdown":"I was curious so I dug into the matter. It seems my original comment is right: your kernel version is too early for this specific function:\r\n\r\n- `FileChannelImpl.transferFrom0` is [implemented here][1]\r\n- it first checks if `my_copy_file_range_func` is non-null and returns `IOS_UNSUPPORTED` otherwise (which is probably what happens).\r\n- `my_copy_file_range_func` is apparently [initialized here][2] by looking for the symbol `copy_file_range`.\r\n- According to [this man page](https://man7.org/linux/man-pages/man2/copy_file_range.2.html#VERSIONS) that system call was added to the Linux kernel 4.5, but is emulated in userspace by glibc since 2.27.\r\n\r\nLinux 4.5 was released in March 2016 and glibc 2.27 in February 2018.\r\n\r\nSince the libc **is** in fact provided by the container, when it&#39;s used (note that a musl-based container like Alpine might have other requirements) it should be sufficient to make sure that your *container* contains a glibc version that&#39;s newer than 2.27.\r\n\r\nNote that a userspace emulation of that function will not provide the zero-copy efficiency gain that a real kernel implementation can provide (i.e. it will be slower than running on a more recent kernel).\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L263\r\n  [2]: https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L65","title":"Java 19 - FileChannelImpl.transferFrom0 - Function not implemented","body":"<p>I was curious so I dug into the matter. It seems my original comment is right: your kernel version is too early for this specific function:</p>\n<ul>\n<li><code>FileChannelImpl.transferFrom0</code> is <a href=\"https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L263\" rel=\"noreferrer\">implemented here</a></li>\n<li>it first checks if <code>my_copy_file_range_func</code> is non-null and returns <code>IOS_UNSUPPORTED</code> otherwise (which is probably what happens).</li>\n<li><code>my_copy_file_range_func</code> is apparently <a href=\"https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L65\" rel=\"noreferrer\">initialized here</a> by looking for the symbol <code>copy_file_range</code>.</li>\n<li>According to <a href=\"https://man7.org/linux/man-pages/man2/copy_file_range.2.html#VERSIONS\" rel=\"noreferrer\">this man page</a> that system call was added to the Linux kernel 4.5, but is emulated in userspace by glibc since 2.27.</li>\n</ul>\n<p>Linux 4.5 was released in March 2016 and glibc 2.27 in February 2018.</p>\n<p>Since the libc <strong>is</strong> in fact provided by the container, when it's used (note that a musl-based container like Alpine might have other requirements) it should be sufficient to make sure that your <em>container</em> contains a glibc version that's newer than 2.27.</p>\n<p>Note that a userspace emulation of that function will not provide the zero-copy efficiency gain that a real kernel implementation can provide (i.e. it will be slower than running on a more recent kernel).</p>\n"}],"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237402,"answer_count":1,"score":1,"last_activity_date":1666970052,"creation_date":1666959938,"question_id":74235391,"body_markdown":"I have an error using a Maven plugin with Java 19 specifically. Java 18 is working fine. How could I solve this issue?\r\n\r\nI&#39;m running within a Docker container on Centos 7.9.2009. When testing within the same container on Ubuntu 20.0 - kernel 5.15.0-52-generic, it works without issue.\r\n\r\nThe stacktrace is the following.\r\n```none\r\nCaused by: java.io.IOException: Function not implemented\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom0 (Native Method)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectlyInternal (FileChannelImpl.java:804)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectly (FileChannelImpl.java:833)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom (FileChannelImpl.java:935)\r\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.doCopyFile (FileUtils.java:1077)\r\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.copyFile (FileUtils.java:1049)\r\n```\r\n\r\nVersions used\r\n```none\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nJava version: 19, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n````","title":"Java 19 - FileChannelImpl.transferFrom0 - Function not implemented","body":"<p>I have an error using a Maven plugin with Java 19 specifically. Java 18 is working fine. How could I solve this issue?</p>\n<p>I'm running within a Docker container on Centos 7.9.2009. When testing within the same container on Ubuntu 20.0 - kernel 5.15.0-52-generic, it works without issue.</p>\n<p>The stacktrace is the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.io.IOException: Function not implemented\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom0 (Native Method)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectlyInternal (FileChannelImpl.java:804)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectly (FileChannelImpl.java:833)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom (FileChannelImpl.java:935)\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.doCopyFile (FileUtils.java:1077)\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.copyFile (FileUtils.java:1049)\n</code></pre>\n<p>Versions used</p>\n<pre class=\"lang-none prettyprint-override\"><code>Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nJava version: 19, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n"},{"tags":["java","android","colors","hex"],"comments":[{"owner":{"account_id":4508077,"reputation":6019,"user_id":3664960,"accept_rate":70,"display_name":"davejal"},"score":0,"creation_date":1452301943,"post_id":34688457,"comment_id":57123827,"body_markdown":"and where is your code?","body":"and where is your code?"},{"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"score":0,"creation_date":1452303003,"post_id":34688457,"comment_id":57124025,"body_markdown":"I added. I am sorry.","body":"I added. I am sorry."},{"owner":{"account_id":6335814,"reputation":1747,"user_id":4919237,"accept_rate":96,"display_name":"Mr Robot"},"score":0,"creation_date":1452311872,"post_id":34688457,"comment_id":57125479,"body_markdown":"you are using websafe colors , not hex . so change #fff to #ffffff , #666 to #666666","body":"you are using websafe colors , not hex . so change #fff to #ffffff , #666 to #666666"},{"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"score":0,"creation_date":1452330884,"post_id":34688457,"comment_id":57129527,"body_markdown":"I didn&#39;t know websafe color. Thank you.   I added this code block to solve my problem.","body":"I didn&#39;t know websafe color. Thank you.   I added this code block to solve my problem."}],"answers":[{"tags":[],"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666969559,"creation_date":1452331150,"answer_id":34691718,"question_id":34688457,"body_markdown":"Change the websafe color to hex color   \r\n```\r\n //if statement for some websafe color to change it hex color exp #FFF --&gt;    #FFFFFF\r\n    if(backgroundColor.length()==4){  \r\n        char harf= backgroundColor.charAt(1);\r\n        String suffix=String.valueOf(harf)+String.valueOf(harf)+String.valueOf(harf);\r\n        backgroundColor=backgroundColor.concat(suffix);\r\n    }\r\ntextViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\r\n```","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>Change the websafe color to hex color</p>\n<pre><code> //if statement for some websafe color to change it hex color exp #FFF --&gt;    #FFFFFF\n    if(backgroundColor.length()==4){  \n        char harf= backgroundColor.charAt(1);\n        String suffix=String.valueOf(harf)+String.valueOf(harf)+String.valueOf(harf);\n        backgroundColor=backgroundColor.concat(suffix);\n    }\ntextViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6335814,"reputation":1747,"user_id":4919237,"accept_rate":96,"display_name":"Mr Robot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1452341884,"creation_date":1452341884,"answer_id":34693357,"question_id":34688457,"body_markdown":"As i mentioned in the comment , In your code , you are using websafe color instead of HEX color.\r\n\r\n&gt; A hexadecimal color is specified with: `#RRGGBB`, where the `RR` (red), `GG`\r\n&gt; (green) and `BB` (blue) hexadecimal integers specify the components of\r\n&gt; the color. All values must be between `00` and `FF`.\r\n\r\n*For example, the `#0000FF` value is rendered as blue, because the blue component is set to its highest value (FF) and the others are set to the lowest value (00).*\r\n\r\n**So you must change your websafe colors to hex colors. \r\nIn your code , please change `#FFF` to `#FFFFFF` and `#666` to `#666666` .** \r\n\r\n please check here to see [the available colors sorted by name.][1]\r\n\r\n and check here to see [the material color codes.][2]\r\n\r\n\r\n  [1]: http://www.w3schools.com/html/html_colorvalues.asp\r\n  [2]: https://www.materialpalette.com/","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>As i mentioned in the comment , In your code , you are using websafe color instead of HEX color.</p>\n\n<blockquote>\n  <p>A hexadecimal color is specified with: <code>#RRGGBB</code>, where the <code>RR</code> (red), <code>GG</code>\n  (green) and <code>BB</code> (blue) hexadecimal integers specify the components of\n  the color. All values must be between <code>00</code> and <code>FF</code>.</p>\n</blockquote>\n\n<p><em>For example, the <code>#0000FF</code> value is rendered as blue, because the blue component is set to its highest value (FF) and the others are set to the lowest value (00).</em></p>\n\n<p><strong>So you must change your websafe colors to hex colors. \nIn your code , please change <code>#FFF</code> to <code>#FFFFFF</code> and <code>#666</code> to <code>#666666</code> .</strong> </p>\n\n<p>please check here to see <a href=\"http://www.w3schools.com/html/html_colorvalues.asp\" rel=\"nofollow\">the available colors sorted by name.</a></p>\n\n<p>and check here to see <a href=\"https://www.materialpalette.com/\" rel=\"nofollow\">the material color codes.</a></p>\n"}],"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":34693357,"answer_count":2,"score":-1,"last_activity_date":1666969559,"creation_date":1452300470,"question_id":34688457,"body_markdown":"I retrive some data from api.stackoverflow using Retrofit. Here some of them:\r\n #FFF, #666, #5A8F53, #1B8FBB. And then I want to use them textView.setBackgroundColor property. So, I use Color.parseColor() method.But, there is an error unidentified color. How to solve this problem?\r\n\r\n        @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n        LayoutInflater layoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \r\n        View view=layoutInflater.inflate(R.layout.p203customrow,parent,false);   \r\n        ImageView imageViewP203= (ImageView)view.findViewById(R.id.imageViewP203);\r\n        TextView textViewNameP203= (TextView)view.findViewById(R.id.textViewNameP203);\r\n        TextView textViewSiteUrlP203= (TextView)view.findViewById(R.id.textViewSiteUrlP203);\r\n        \r\n        P203ApiStyle.P203ItemsObjects p203ItemsObjects= p203ItemsObjectsList.get(position);\r\n        Map&lt;String,String&gt; mapStyle=p203ItemsObjects.getStyling();\r\n        String backgroundColor= mapStyle.get(&quot;tag_background_color&quot;);\r\n        String foregroundColor= mapStyle.get(&quot;tag_foreground_color&quot;);\r\n\r\n        textViewNameP203.setText(&quot;Name=&quot;+p203ItemsObjects.getName()+&quot; BackgroundColor=&quot;+backgroundColor);  \r\n    //one result--&gt; Name=Webmasters BacgroundColor=#FFF\r\n        textViewSiteUrlP203.setText(&quot;SiteUrl=&quot; + p203ItemsObjects.getSite_url() + &quot; BackgroundColor=&quot; + foregroundColor);\r\n     //one result--&gt;SiteUrl=The url BackgoundColor=#1B8FBB\r\n\r\n    //when I uncommet to this block that error occurs...\r\n      /*  textViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\r\n        textViewSiteUrlP203.setBackgroundColor(Color.parseColor(foregroundColor));*/\r\n\r\n        Picasso.with(context).load(p203ItemsObjects.getIcon_url()).resize(100, 100).into(imageViewP203);\r\n        return view;\r\n    }","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>I retrive some data from api.stackoverflow using Retrofit. Here some of them:\n #FFF, #666, #5A8F53, #1B8FBB. And then I want to use them textView.setBackgroundColor property. So, I use Color.parseColor() method.But, there is an error unidentified color. How to solve this problem?</p>\n\n<pre><code>    @Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n\n    LayoutInflater layoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \n    View view=layoutInflater.inflate(R.layout.p203customrow,parent,false);   \n    ImageView imageViewP203= (ImageView)view.findViewById(R.id.imageViewP203);\n    TextView textViewNameP203= (TextView)view.findViewById(R.id.textViewNameP203);\n    TextView textViewSiteUrlP203= (TextView)view.findViewById(R.id.textViewSiteUrlP203);\n\n    P203ApiStyle.P203ItemsObjects p203ItemsObjects= p203ItemsObjectsList.get(position);\n    Map&lt;String,String&gt; mapStyle=p203ItemsObjects.getStyling();\n    String backgroundColor= mapStyle.get(\"tag_background_color\");\n    String foregroundColor= mapStyle.get(\"tag_foreground_color\");\n\n    textViewNameP203.setText(\"Name=\"+p203ItemsObjects.getName()+\" BackgroundColor=\"+backgroundColor);  \n//one result--&gt; Name=Webmasters BacgroundColor=#FFF\n    textViewSiteUrlP203.setText(\"SiteUrl=\" + p203ItemsObjects.getSite_url() + \" BackgroundColor=\" + foregroundColor);\n //one result--&gt;SiteUrl=The url BackgoundColor=#1B8FBB\n\n//when I uncommet to this block that error occurs...\n  /*  textViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\n    textViewSiteUrlP203.setBackgroundColor(Color.parseColor(foregroundColor));*/\n\n    Picasso.with(context).load(p203ItemsObjects.getIcon_url()).resize(100, 100).into(imageViewP203);\n    return view;\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1540204007,"post_id":52926974,"comment_id":92763643,"body_markdown":"Possible duplicate of [Spring Boot - How to log all requests and responses with exceptions in single place?](https://stackoverflow.com/questions/33744875/spring-boot-how-to-log-all-requests-and-responses-with-exceptions-in-single-pl)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33744875/spring-boot-how-to-log-all-requests-and-responses-with-exceptions-in-single-pl\">Spring Boot - How to log all requests and responses with exceptions in single place?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5401314,"reputation":741,"user_id":4301149,"accept_rate":75,"display_name":"Ihar Sadounikau"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540222818,"creation_date":1540203619,"answer_id":52927031,"question_id":52926974,"body_markdown":"You can use `addInterceptors` method of `WebMvcConfigurer`\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    class WebMvcConfiguration : WebMvcConfigurer {\r\n\r\n      override fun addInterceptors(registry: InterceptorRegistry) {\r\n          registry.addInterceptor(LoggingInterceptor())\r\n      }\r\n    }\r\nAnd [here][1] is good example for interceptor.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-handlerinterceptor\r\n\r\n**UPDATED**\r\n\r\nYou can override the Spring `LoggingFilter`\r\n        \r\n    public class CustomLoggingFilter extends LoggingFilter\r\n    {\r\n         @Override\r\n         protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\r\n         {\r\n              super.doFilterInternal(request, response, filterChain);\r\n         }\r\n    }\r\n\r\n    @Configuration\r\n    public Config {\r\n        @Bean\r\n        public CustomLoggingFilter loggingFilter()\r\n        {\r\n            return new CustomLoggingFilter();\r\n        }\r\n    }\r\n    \r\nNot sure about your format, but you can try to use:\r\n\r\n    logging:\r\n      level: \r\n        org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor: debug //response\r\n        org.apache.coyote.http11.Http11InputBuffer: debug //request","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>You can use <code>addInterceptors</code> method of <code>WebMvcConfigurer</code></p>\n\n<pre><code>@Configuration\n@EnableWebMvc\nclass WebMvcConfiguration : WebMvcConfigurer {\n\n  override fun addInterceptors(registry: InterceptorRegistry) {\n      registry.addInterceptor(LoggingInterceptor())\n  }\n}\n</code></pre>\n\n<p>And <a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor\" rel=\"nofollow noreferrer\">here</a> is good example for interceptor.</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>You can override the Spring <code>LoggingFilter</code></p>\n\n<pre><code>public class CustomLoggingFilter extends LoggingFilter\n{\n     @Override\n     protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\n     {\n          super.doFilterInternal(request, response, filterChain);\n     }\n}\n\n@Configuration\npublic Config {\n    @Bean\n    public CustomLoggingFilter loggingFilter()\n    {\n        return new CustomLoggingFilter();\n    }\n}\n</code></pre>\n\n<p>Not sure about your format, but you can try to use:</p>\n\n<pre><code>logging:\n  level: \n    org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor: debug //response\n    org.apache.coyote.http11.Http11InputBuffer: debug //request\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643487659,"creation_date":1643487659,"answer_id":70909401,"question_id":52926974,"body_markdown":"See baeldung [Spring – Log Incoming Requests](https://www.baeldung.com/spring-http-logging) guide, specifically the 5th section [Spring Built-In Request Logging](https://www.baeldung.com/spring-http-logging#spring-built-in-request-logging)\r\n\r\n**TL;DR**\r\nIf you are using Spring Boot you can configure that easily like this:\r\n\r\n```\r\n@Configuration\r\npublic class RequestLoggingFilterConfig {\r\n\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter\r\n          = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludePayload(true);\r\n        filter.setMaxPayloadLength(10000);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n        return filter;\r\n    }\r\n}\r\n```\r\n\r\n**General note:** In production application you should be careful logging payloads as they may contain private user data that should not be logged from privacy considerations.","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>See baeldung <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">Spring – Log Incoming Requests</a> guide, specifically the 5th section <a href=\"https://www.baeldung.com/spring-http-logging#spring-built-in-request-logging\" rel=\"nofollow noreferrer\">Spring Built-In Request Logging</a></p>\n<p><strong>TL;DR</strong>\nIf you are using Spring Boot you can configure that easily like this:</p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter\n          = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n<p><strong>General note:</strong> In production application you should be careful logging payloads as they may contain private user data that should not be logged from privacy considerations.</p>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21080,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666969480,"creation_date":1540203431,"question_id":52926974,"body_markdown":"I am using Spring Boot and REST services using `@RestController`. I want to log all requests and responses with a payload. How can I do this using `Spring Boot Actuator`? When I using:\r\n\r\n        @Bean\r\n        public ServletContextRequestLoggingFilter requestLoggingFilter() {\r\n            ServletContextRequestLoggingFilter loggingFilter = new ServletContextRequestLoggingFilter();\r\n            loggingFilter.setIncludeClientInfo(true);\r\n            loggingFilter.setIncludeQueryString(true);\r\n            loggingFilter.setIncludePayload(true);\r\n            loggingFilter.setIncludeHeaders(true);\r\n            loggingFilter.setMaxPayloadLength(10000);\r\n            loggingFilter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n            return loggingFilter;\r\n        }\r\nI get only Requests, but not Responses.","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>I am using Spring Boot and REST services using <code>@RestController</code>. I want to log all requests and responses with a payload. How can I do this using <code>Spring Boot Actuator</code>? When I using:</p>\n\n<pre><code>    @Bean\n    public ServletContextRequestLoggingFilter requestLoggingFilter() {\n        ServletContextRequestLoggingFilter loggingFilter = new ServletContextRequestLoggingFilter();\n        loggingFilter.setIncludeClientInfo(true);\n        loggingFilter.setIncludeQueryString(true);\n        loggingFilter.setIncludePayload(true);\n        loggingFilter.setIncludeHeaders(true);\n        loggingFilter.setMaxPayloadLength(10000);\n        loggingFilter.setAfterMessagePrefix(\"REQUEST DATA : \");\n        return loggingFilter;\n    }\n</code></pre>\n\n<p>I get only Requests, but not Responses.</p>\n"},{"tags":["java","apache-spark","google-bigquery","apache-spark-sql"],"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1667317981,"post_id":74237297,"comment_id":131136970,"body_markdown":"Can you please try with the latest connector - 0.27.1 ?","body":"Can you please try with the latest connector - 0.27.1 ?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1667318019,"post_id":74237297,"comment_id":131136991,"body_markdown":"Also - It worth opening an issue at https://github.com/GoogleCloudDataproc/spark-bigquery-connector/issues for such cases","body":"Also - It worth opening an issue at <a href=\"https://github.com/GoogleCloudDataproc/spark-bigquery-connector/issues\" rel=\"nofollow noreferrer\">github.com/GoogleCloudDataproc/spark-bigquery-connector/issu&zwnj;&#8203;es</a> for such cases"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666969470,"creation_date":1666969470,"question_id":74237297,"body_markdown":"Hi I have written code to write a dataframe I have created to my BigQuery table that I am running through Dataproc using the spark java big query connector My issue is when I do my write like so:\r\n\r\n    filteredInput.write().format(&quot;bigquery&quot;)\r\n                    .option(&quot;temporaryGcsBucket&quot;, &quot;temp_bucket&quot;)\r\n                    .mode(SaveMode.Append)\r\n                    .save(&quot;tables.table_1&quot;);\r\n\r\nI am getting a vague error like this:\r\n\r\n    Error: Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed to write to BigQuery\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:69)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryInsertableRelation.insert(BigQueryInsertableRelation.scala:43)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryRelationProvider.createRelation(BigQueryRelationProvider.scala:111)\r\n    \tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\r\n    \tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n    \tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n    \tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n    \tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.pipeline.BbgEmailSparkPipeline.writeToOutput(BbgEmailSparkPipeline.java:117)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.triggerPipeline(EcommsSparkApplication.java:37)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.main(EcommsSparkApplication.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n    \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:951)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n    \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n    \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\r\n    \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\r\n    \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat com.google.cloud.bigquery.connector.common.BigQueryClient.loadDataIntoTable(BigQueryClient.java:532)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.loadDataToBigQuery(BigQueryWriteHelper.scala:87)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:66)\r\n    \t... 38 more\r\n    ERROR: (gcloud.dataproc.jobs.submit.spark) Job [248b593282b6403f9cbfb8c85710bd7a] failed with error:\r\n\r\nI haven&#39;t missed the last part of the error it just doesn&#39;t specify. \r\nI am interested in the null pointer exception but the error stack isn&#39;t giving me much of an indication of what might be causing it and I&#39;m not sure how I can find out more? Is there a way to view the 38 more lines its omitted there.\r\n\r\nMy table structure is this:\r\n\r\n \r\n\r\n     |-- comm_id: string (nullable = false)\r\n     |-- src_sys_name: string (nullable = false)\r\n     |-- send_time_utc: timestamp (nullable = false)\r\n     |-- participant: array (nullable = true)\r\n     |    |-- element: struct (containsNull = true)\r\n     |    |    |-- participant_type: string (nullable = false)\r\n     |    |    |-- participant_email: string (nullable = false)\r\n     |-- priority: string (nullable = true)\r\n     |-- insertion_date: timestamp (nullable = false)\r\n     |-- run_date: timestamp (nullable = false)\r\n\r\n&amp; I am using the connector as a Maven dependency this is my version:\r\n\r\n      &lt;dependency&gt;\r\n               &lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spark-bigquery-with-dependencies_2.12&lt;/artifactId&gt;\r\n               &lt;version&gt;0.24.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nHas anyone experienced this? Or even have any tips on how I can find out more about whats causing the issue?","title":"Failed to Write to Bigquery - Spark","body":"<p>Hi I have written code to write a dataframe I have created to my BigQuery table that I am running through Dataproc using the spark java big query connector My issue is when I do my write like so:</p>\n<pre><code>filteredInput.write().format(&quot;bigquery&quot;)\n                .option(&quot;temporaryGcsBucket&quot;, &quot;temp_bucket&quot;)\n                .mode(SaveMode.Append)\n                .save(&quot;tables.table_1&quot;);\n</code></pre>\n<p>I am getting a vague error like this:</p>\n<pre><code>Error: Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed to write to BigQuery\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:69)\n    at com.google.cloud.spark.bigquery.BigQueryInsertableRelation.insert(BigQueryInsertableRelation.scala:43)\n    at com.google.cloud.spark.bigquery.BigQueryRelationProvider.createRelation(BigQueryRelationProvider.scala:111)\n    at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\n    at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.pipeline.BbgEmailSparkPipeline.writeToOutput(BbgEmailSparkPipeline.java:117)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.triggerPipeline(EcommsSparkApplication.java:37)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.main(EcommsSparkApplication.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:951)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.NullPointerException\n    at com.google.cloud.bigquery.connector.common.BigQueryClient.loadDataIntoTable(BigQueryClient.java:532)\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.loadDataToBigQuery(BigQueryWriteHelper.scala:87)\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:66)\n    ... 38 more\nERROR: (gcloud.dataproc.jobs.submit.spark) Job [248b593282b6403f9cbfb8c85710bd7a] failed with error:\n</code></pre>\n<p>I haven't missed the last part of the error it just doesn't specify.\nI am interested in the null pointer exception but the error stack isn't giving me much of an indication of what might be causing it and I'm not sure how I can find out more? Is there a way to view the 38 more lines its omitted there.</p>\n<p>My table structure is this:</p>\n<pre><code> |-- comm_id: string (nullable = false)\n |-- src_sys_name: string (nullable = false)\n |-- send_time_utc: timestamp (nullable = false)\n |-- participant: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- participant_type: string (nullable = false)\n |    |    |-- participant_email: string (nullable = false)\n |-- priority: string (nullable = true)\n |-- insertion_date: timestamp (nullable = false)\n |-- run_date: timestamp (nullable = false)\n</code></pre>\n<p>&amp; I am using the connector as a Maven dependency this is my version:</p>\n<pre><code>  &lt;dependency&gt;\n           &lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\n           &lt;artifactId&gt;spark-bigquery-with-dependencies_2.12&lt;/artifactId&gt;\n           &lt;version&gt;0.24.2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Has anyone experienced this? Or even have any tips on how I can find out more about whats causing the issue?</p>\n"},{"tags":["java","json","reactive-streams","mutiny","smallrye"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1666787507,"post_id":74207172,"comment_id":131017845,"body_markdown":"You can append items to a multi using `.onCompletion().continueWith(...)`","body":"You can append items to a multi using <code>.onCompletion().continueWith(...)</code>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666797078,"post_id":74207172,"comment_id":131021753,"body_markdown":"I don&#39;t think it&#39;s possible to do what you are asking. Unless  Mutiny as a way to say &quot;all events except for the last one&quot;. But why do you need to add the comma? The JSON is emitted as soon as available, what&#39;s the purpose of the comma?","body":"I don&#39;t think it&#39;s possible to do what you are asking. Unless  Mutiny as a way to say &quot;all events except for the last one&quot;. But why do you need to add the comma? The JSON is emitted as soon as available, what&#39;s the purpose of the comma?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666797523,"post_id":74207172,"comment_id":131021930,"body_markdown":"@DavideD&#39;Alto The problem is that the application emits a single Customer object but I would like to add a wrapper to that JSON so I need to append them to a pre-existing array so I need to add `,` after each object so it adheres to JSON schema. I have added an example of Customer obect that&#39;s provided by application.","body":"@DavideD&#39;Alto The problem is that the application emits a single Customer object but I would like to add a wrapper to that JSON so I need to append them to a pre-existing array so I need to add <code>,</code> after each object so it adheres to JSON schema. I have added an example of Customer obect that&#39;s provided by application."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666803610,"creation_date":1666799129,"answer_id":74210621,"question_id":74207172,"body_markdown":"This should do what you&#39;ve asked:\r\n```java\r\n public static Multi &lt;String&gt; generate(final Input input) {\r\n      final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n      try {\r\n          final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n              event - &gt; {\r\n                  try {\r\n                      return objectMapper\r\n                          .writerWithDefaultPrettyPrinter()\r\n                          .writeValueAsString(event);\r\n                  } catch (JsonProcessingException e) {\r\n                      e.printStackTrace();\r\n                      return null;\r\n                  }\r\n              });\r\n\r\n\r\n          Multi&lt;String&gt; customersMulti = generatedCustomer\r\n              .skip().last().map( s -&gt; s  + &quot;,&quot; );\r\n          Multi&lt;String&gt; lastMulti = generatedCustomer\r\n              .select().last();\r\n\r\n          return customersMulti.onCompletion().switchTo(lastMulti);\r\n      } catch (Exception e) {\r\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n      }\r\n  }\r\n```\r\n\r\nYou can find more [information in the documentation][1]\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/take-skip-items/#skipping-items","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>This should do what you've asked:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static Multi &lt;String&gt; generate(final Input input) {\n      final ObjectMapper objectMapper = new ObjectMapper();\n\n      try {\n          final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n              event - &gt; {\n                  try {\n                      return objectMapper\n                          .writerWithDefaultPrettyPrinter()\n                          .writeValueAsString(event);\n                  } catch (JsonProcessingException e) {\n                      e.printStackTrace();\n                      return null;\n                  }\n              });\n\n\n          Multi&lt;String&gt; customersMulti = generatedCustomer\n              .skip().last().map( s -&gt; s  + &quot;,&quot; );\n          Multi&lt;String&gt; lastMulti = generatedCustomer\n              .select().last();\n\n          return customersMulti.onCompletion().switchTo(lastMulti);\n      } catch (Exception e) {\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n      }\n  }\n</code></pre>\n<p>You can find more <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/take-skip-items/#skipping-items\" rel=\"nofollow noreferrer\">information in the documentation</a></p>\n"},{"tags":[],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666969182,"creation_date":1666969182,"answer_id":74237238,"question_id":74207172,"body_markdown":"The following is something I tried and it worked:\r\n\r\n```\r\n public static Multi &lt; String &gt; generate(final Input input) {\r\n     final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n     try {\r\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\r\n\r\n         final AtomicBoolean firstEntry = new AtomicBoolean(true);\r\n\r\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n             event - &gt; {\r\n                 try {\r\n                     if (firstEntry.getAndSet(false)) {\r\n                         return objectMapper\r\n                             .writerWithDefaultPrettyPrinter()\r\n                             .writeValueAsString(event);\r\n                     }\r\n                     return &quot;,&quot; +\r\n                         objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event);\r\n                 } catch (JsonProcessingException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n                 return null;\r\n             });\r\n\r\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, Multi.createFrom().items(&quot;]}}&quot;));\r\n\r\n     } catch (Exception e) {\r\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n     }\r\n }\r\n```","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>The following is something I tried and it worked:</p>\n<pre><code> public static Multi &lt; String &gt; generate(final Input input) {\n     final ObjectMapper objectMapper = new ObjectMapper();\n\n     try {\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\n\n         final AtomicBoolean firstEntry = new AtomicBoolean(true);\n\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n             event - &gt; {\n                 try {\n                     if (firstEntry.getAndSet(false)) {\n                         return objectMapper\n                             .writerWithDefaultPrettyPrinter()\n                             .writeValueAsString(event);\n                     }\n                     return &quot;,&quot; +\n                         objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event);\n                 } catch (JsonProcessingException e) {\n                     e.printStackTrace();\n                 }\n                 return null;\n             });\n\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, Multi.createFrom().items(&quot;]}}&quot;));\n\n     } catch (Exception e) {\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666969182,"creation_date":1666784514,"question_id":74207172,"body_markdown":"Within my application, I am dynamically creating and returning customers in JSON format. I would like to differentiate each customer, so I am adding a comma after the creation of each customer, but I do not wish to add the comma separation to the last element, so I would like to remove it.\r\n\r\nHence, I need to access the last element and make the modification, but I am running into some problems when doing the same. I tried to do this but was unable to concatenate the same. I am unable to get the last customer without a comma. The following is the code I have:\r\n\r\n```\r\n  public static Multi &lt;String&gt; generate(final Input input) {\r\n      final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n      try {\r\n          final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n              event - &gt; {\r\n                  try {\r\n                      return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\r\n                  } catch (JsonProcessingException e) {\r\n                      e.printStackTrace();\r\n                  }\r\n                  return null;\r\n              });\r\n\r\n          final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\r\n\r\n          return Multi.createBy().concatenating().streams(generatedCustomer, lastCustomer);\r\n\r\n      } catch (Exception e) {\r\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n      }\r\n  }\r\n```\r\n\r\nHow to achieve this?\r\n\r\n\r\n**Updated**\r\nMy application currently produces customer information in the following format asynchronously, so I would like to add a wrapper to it and make it look like the following JSON.\r\n\r\n```\r\n{\r\n &quot;name&quot;: &quot;Batman&quot;,\r\n &quot;age&quot;: 45,\r\n &quot;city&quot;: &quot;gotham&quot;\r\n}\r\n```\r\n\r\nI would like to add a wrapper to it and make it like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nHence, I have added a code something like this:\r\n```\r\n public static Multi &lt; String &gt; generate(final Input input) {\r\n     final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n     try {\r\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\r\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n             event - &gt; {\r\n                 try {\r\n                     return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\r\n                 } catch (JsonProcessingException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n                 return null;\r\n             });\r\n\r\n         final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\r\n\r\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, lastCustomer, Multi.createFrom().items(&quot;]}}&quot;));\r\n\r\n     } catch (Exception e) {\r\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n     }\r\n }\r\n```","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>Within my application, I am dynamically creating and returning customers in JSON format. I would like to differentiate each customer, so I am adding a comma after the creation of each customer, but I do not wish to add the comma separation to the last element, so I would like to remove it.</p>\n<p>Hence, I need to access the last element and make the modification, but I am running into some problems when doing the same. I tried to do this but was unable to concatenate the same. I am unable to get the last customer without a comma. The following is the code I have:</p>\n<pre><code>  public static Multi &lt;String&gt; generate(final Input input) {\n      final ObjectMapper objectMapper = new ObjectMapper();\n\n      try {\n          final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n              event - &gt; {\n                  try {\n                      return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\n                  } catch (JsonProcessingException e) {\n                      e.printStackTrace();\n                  }\n                  return null;\n              });\n\n          final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\n\n          return Multi.createBy().concatenating().streams(generatedCustomer, lastCustomer);\n\n      } catch (Exception e) {\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n      }\n  }\n</code></pre>\n<p>How to achieve this?</p>\n<p><strong>Updated</strong>\nMy application currently produces customer information in the following format asynchronously, so I would like to add a wrapper to it and make it look like the following JSON.</p>\n<pre><code>{\n &quot;name&quot;: &quot;Batman&quot;,\n &quot;age&quot;: 45,\n &quot;city&quot;: &quot;gotham&quot;\n}\n</code></pre>\n<p>I would like to add a wrapper to it and make it like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Hence, I have added a code something like this:</p>\n<pre><code> public static Multi &lt; String &gt; generate(final Input input) {\n     final ObjectMapper objectMapper = new ObjectMapper();\n\n     try {\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n             event - &gt; {\n                 try {\n                     return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\n                 } catch (JsonProcessingException e) {\n                     e.printStackTrace();\n                 }\n                 return null;\n             });\n\n         final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\n\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, lastCustomer, Multi.createFrom().items(&quot;]}}&quot;));\n\n     } catch (Exception e) {\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n     }\n }\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":13004562,"reputation":52,"user_id":9399523,"display_name":"Boheyga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628875259,"creation_date":1628875259,"answer_id":68776171,"question_id":68776170,"body_markdown":"To solve this,\r\n\r\nI created a master filter that would accept all incoming request.\r\nOnce a request hit the server, I ran it through this bit of code.\r\n\r\n    if (request instanceof HttpServletRequest) {\r\n            String url = ((HttpServletRequest)request).getRequestURL().toString();\r\n            String query = ((HttpServletRequest)request).getQueryString();\r\n        }\r\n\r\n\r\nI created a three tier system that was designed to filter between what was know and unknown.\r\n\r\nTier 1\r\nFor request that don&#39;t require the user to be logged into the server.\r\nexp ~ forgotPassword, createAccount\r\nrequirements - all base64 parameters, inside active list\r\n\r\n\r\nTier 2\r\nFor request that require an active login\r\nexp ~ my account, edit account, search system\r\nrequirements - all base64 parameters, inside active list, valid login\r\n\r\nTier 3\r\nFor everything else\r\nexp ~ login.php is not valid (This is Java)\r\n\r\nBy checking the url I could determine where the request is going. I could then run it against the first two tiers and see if everything checked out and the query was actually in base64 format. The server requires that all string data be in base64 format. If it is not, do not process the request.","title":"Java servlet illegal characters","body":"<p>To solve this,</p>\n<p>I created a master filter that would accept all incoming request.\nOnce a request hit the server, I ran it through this bit of code.</p>\n<pre><code>if (request instanceof HttpServletRequest) {\n        String url = ((HttpServletRequest)request).getRequestURL().toString();\n        String query = ((HttpServletRequest)request).getQueryString();\n    }\n</code></pre>\n<p>I created a three tier system that was designed to filter between what was know and unknown.</p>\n<p>Tier 1\nFor request that don't require the user to be logged into the server.\nexp ~ forgotPassword, createAccount\nrequirements - all base64 parameters, inside active list</p>\n<p>Tier 2\nFor request that require an active login\nexp ~ my account, edit account, search system\nrequirements - all base64 parameters, inside active list, valid login</p>\n<p>Tier 3\nFor everything else\nexp ~ login.php is not valid (This is Java)</p>\n<p>By checking the url I could determine where the request is going. I could then run it against the first two tiers and see if everything checked out and the query was actually in base64 format. The server requires that all string data be in base64 format. If it is not, do not process the request.</p>\n"}],"owner":{"account_id":13004562,"reputation":52,"user_id":9399523,"display_name":"Boheyga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666969014,"creation_date":1628875259,"question_id":68776170,"body_markdown":"I have a Java web application that allows users to create an account and login. For some reason, after someone has sent enough illegal characters to the server, the portion of the application that sends emails become disabled.\r\n\r\n","title":"Java servlet illegal characters","body":"<p>I have a Java web application that allows users to create an account and login. For some reason, after someone has sent enough illegal characters to the server, the portion of the application that sends emails become disabled.</p>\n"},{"tags":["java","jackrabbit"],"answers":[{"tags":[],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666968842,"creation_date":1666968842,"answer_id":74237165,"question_id":74039762,"body_markdown":"You may want to try to identify the Jackrabbit version that apparently made in incompatible change here; maybe a fix is possible. So try 2.2.*, 2.4.* etc.","title":"Upgrade Jackrabbit 2.1.6 to Jackrabbit 2.20.6","body":"<p>You may want to try to identify the Jackrabbit version that apparently made in incompatible change here; maybe a fix is possible. So try 2.2.<em>, 2.4.</em> etc.</p>\n"}],"owner":{"account_id":24442443,"reputation":53,"user_id":18365949,"display_name":"Mihajlo Stankov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74237165,"answer_count":1,"score":0,"last_activity_date":1666968842,"creation_date":1665567867,"question_id":74039762,"body_markdown":"I need to update the jackrabbit version from 2.1.6 to 2.20.6, so I want to know the best way to do that.\r\nI saw that there is an option with importing/exporting data to XML ( https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html ),\r\nbut I&#39;m not sure how to do that. So&#39; if you know how to perform a jackrabbit upgrade on this way, or some other way please let me know.\r\n\r\nNote: Currently when I start the APP with jackrabbit 2.20.6 I get the following error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Invalid namespace index: 2\r\n    \tat org.apache.jackrabbit.core.NamespaceRegistryImpl.indexToString(NamespaceRegistryImpl.java:366) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleReader.readBundleOld(BundleReader.java:221) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleReader.readBundle(BundleReader.java:149) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.readBundle(BundleDbPersistenceManager.java:927) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.loadBundle(BundleDbPersistenceManager.java:889) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:766) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:750) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.exists(AbstractBundlePersistenceManager.java:563) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.version.InternalVersionManagerImpl.&lt;init&gt;(InternalVersionManagerImpl.java:162) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:526) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:314) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:616) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]","title":"Upgrade Jackrabbit 2.1.6 to Jackrabbit 2.20.6","body":"<p>I need to update the jackrabbit version from 2.1.6 to 2.20.6, so I want to know the best way to do that.\nI saw that there is an option with importing/exporting data to XML ( <a href=\"https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html\" rel=\"nofollow noreferrer\">https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html</a> ),\nbut I'm not sure how to do that. So' if you know how to perform a jackrabbit upgrade on this way, or some other way please let me know.</p>\n<p>Note: Currently when I start the APP with jackrabbit 2.20.6 I get the following error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid namespace index: 2\n    at org.apache.jackrabbit.core.NamespaceRegistryImpl.indexToString(NamespaceRegistryImpl.java:366) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleReader.readBundleOld(BundleReader.java:221) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleReader.readBundle(BundleReader.java:149) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.readBundle(BundleDbPersistenceManager.java:927) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.loadBundle(BundleDbPersistenceManager.java:889) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:766) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:750) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.exists(AbstractBundlePersistenceManager.java:563) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.version.InternalVersionManagerImpl.&lt;init&gt;(InternalVersionManagerImpl.java:162) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:526) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:314) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:616) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n</code></pre>\n"},{"tags":["java","android","android-service","ondestroy","android-ondestroy"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1666915444,"post_id":74229372,"comment_id":131054043,"body_markdown":"&quot;but it makes two services run at the same time&quot; -- no, it does not. Services are natural singletons; there will be either zero or one instance of a given service running at any given time. Bear in mind that very few apps nowadays need a service at all; you might wish to reconsider having one in the first place.","body":"&quot;but it makes two services run at the same time&quot; -- no, it does not. Services are natural singletons; there will be either zero or one instance of a given service running at any given time. Bear in mind that very few apps nowadays need a service at all; you might wish to reconsider having one in the first place."},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1666929064,"post_id":74229372,"comment_id":131055799,"body_markdown":"@CommonsWare I&#39;ve just edited the question, hope you don&#39;t mind helping me understand the problem. I don&#39;t understand if the first service was gone, why it keeps printing two values of x1 every one second.","body":"@CommonsWare I&#39;ve just edited the question, hope you don&#39;t mind helping me understand the problem. I don&#39;t understand if the first service was gone, why it keeps printing two values of x1 every one second."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666956405,"post_id":74229372,"comment_id":131062649,"body_markdown":"You create a `Thread` on `onStartCommand()`. You do nothing to clean up that `Thread` in `onDestroy()`. So, that `Thread` continues to exist and do its work after the service is destroyed.","body":"You create a <code>Thread</code> on <code>onStartCommand()</code>. You do nothing to clean up that <code>Thread</code> in <code>onDestroy()</code>. So, that <code>Thread</code> continues to exist and do its work after the service is destroyed."},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667111535,"post_id":74229372,"comment_id":131090605,"body_markdown":"Could you please suggest me the way to clean up the previous Thread after I stopService() and startSevice()?","body":"Could you please suggest me the way to clean up the previous Thread after I stopService() and startSevice()?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667130077,"post_id":74229372,"comment_id":131093300,"body_markdown":"I recommend getting rid of the `Service` entirely. It is highly unlikely that you need one.","body":"I recommend getting rid of the <code>Service</code> entirely. It is highly unlikely that you need one."}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666968816,"creation_date":1666968816,"answer_id":74237158,"question_id":74229372,"body_markdown":"Your `Service` is never shut down. When you start it the first time from the `Activity` by calling `startService()`, the `Service` instance is created and this will initialize the values of `x, y, k, etc.` from `MainActivity` and `onStartCommand()` is called. You then start a thread that counts and logs. This thread runs forever (until Android kills off the OS process hosting your app). If you now do something in your `Activity` that changes the values of `xc, y, k, etc.` and then calls `startService()` again, this doesn&#39;t start another `Service` instance. Your `Service` is already running. So it just calls `onStartCommand()` again. This starts another thread that counts and logs. Now you have 2 threads that are counting and logging.\r\n\r\nAlso, it is bad practice to have a `Service` copy values from an `Activity` like this. It is better to put these values in the `Intent` you pass to `startService()` as &quot;extras&quot;. You can then access these values in `onStartCommand()` as the `Intent` is passed through as a parameter to `onStartCommand()`.","title":"How to kill previous service before start new service in Java?","body":"<p>Your <code>Service</code> is never shut down. When you start it the first time from the <code>Activity</code> by calling <code>startService()</code>, the <code>Service</code> instance is created and this will initialize the values of <code>x, y, k, etc.</code> from <code>MainActivity</code> and <code>onStartCommand()</code> is called. You then start a thread that counts and logs. This thread runs forever (until Android kills off the OS process hosting your app). If you now do something in your <code>Activity</code> that changes the values of <code>xc, y, k, etc.</code> and then calls <code>startService()</code> again, this doesn't start another <code>Service</code> instance. Your <code>Service</code> is already running. So it just calls <code>onStartCommand()</code> again. This starts another thread that counts and logs. Now you have 2 threads that are counting and logging.</p>\n<p>Also, it is bad practice to have a <code>Service</code> copy values from an <code>Activity</code> like this. It is better to put these values in the <code>Intent</code> you pass to <code>startService()</code> as &quot;extras&quot;. You can then access these values in <code>onStartCommand()</code> as the <code>Intent</code> is passed through as a parameter to <code>onStartCommand()</code>.</p>\n"}],"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666968816,"creation_date":1666914771,"question_id":74229372,"body_markdown":"I am coding an Android app using Android Studio.\r\n\r\nMy service class takes the values from the main activity class when starting the service.\r\n\r\nHowever, when I reassign the values in the main activity, the change is not applied to the value in the service. Then, I tried to start a new service every time after reassigning the values, but it makes two services run at the same time.\r\n\r\nTherefore, I would like to know if is there any way to remove the previous service when I start the new one. I am not sure if onDestroy() can do what I want. As far as I tried, I still can not make it.\r\n\r\nThis is the service class code:\r\n\r\npublic class ForegroundService extends Service {\r\n\r\n    double x1 = MainActivity.x1;\r\n    double y1 = MainActivity.y1;\r\n    double radius_ = MainActivity.radius_;\r\n    int k = MainActivity.k;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        new Thread(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        while (true) {\r\n                            Log.e(&quot;Service&quot;, &quot;Running &quot; + String.valueOf(x1));\r\n                            try {\r\n                                Thread.sleep(1000);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        ).start();\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n\r\nAfter reassign x1, it shows two x1 value every one second:\r\n \r\nE/Service: Running 35.6761919\r\n\r\nE/Service: Running 35.4436739","title":"How to kill previous service before start new service in Java?","body":"<p>I am coding an Android app using Android Studio.</p>\n<p>My service class takes the values from the main activity class when starting the service.</p>\n<p>However, when I reassign the values in the main activity, the change is not applied to the value in the service. Then, I tried to start a new service every time after reassigning the values, but it makes two services run at the same time.</p>\n<p>Therefore, I would like to know if is there any way to remove the previous service when I start the new one. I am not sure if onDestroy() can do what I want. As far as I tried, I still can not make it.</p>\n<p>This is the service class code:</p>\n<p>public class ForegroundService extends Service {</p>\n<pre><code>double x1 = MainActivity.x1;\ndouble y1 = MainActivity.y1;\ndouble radius_ = MainActivity.radius_;\nint k = MainActivity.k;\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n                    while (true) {\n                        Log.e(&quot;Service&quot;, &quot;Running &quot; + String.valueOf(x1));\n                        try {\n                            Thread.sleep(1000);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n    ).start();\n    return super.onStartCommand(intent, flags, startId);\n}\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>After reassign x1, it shows two x1 value every one second:</p>\n<p>E/Service: Running 35.6761919</p>\n<p>E/Service: Running 35.4436739</p>\n"},{"tags":["java","arrays","string","csv","talend"],"answers":[{"tags":[],"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666951301,"creation_date":1666951301,"answer_id":74233722,"question_id":74231945,"body_markdown":"try using your second approch : \r\n\r\n`tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tdbInput` \r\n\r\nYou can use the global Variable in tdbInput as below `((String)globalMap.get(&quot;main1.lot&quot;))`","title":"using tfilelist or tfiledelimited how can i iterate through a list of columnA, column B combination and store in tjava to use for tdbinput","body":"<p>try using your second approch :</p>\n<p><code>tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tdbInput</code></p>\n<p>You can use the global Variable in tdbInput as below <code>((String)globalMap.get(&quot;main1.lot&quot;))</code></p>\n"}],"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74233722,"answer_count":1,"score":0,"last_activity_date":1666968589,"creation_date":1666942160,"question_id":74231945,"body_markdown":"I have a talend job that i am trying to read the columns from the csv file sequentially row by row for each combination (if possible trying to collect unique combination) of COLUMN A &amp; COLUMN B to get the values and store in tjava (context variables to reuse and query the tdbinput)\r\n\r\nCSV in the below format:\r\n[![enter image description here](https://i.stack.imgur.com/zrKtm.png)](https://i.stack.imgur.com/zrKtm.png)\r\n\r\nOPTION 1:\r\nMy job design looks like this:\r\ntfilelist-Iterate--\\&gt;tjava --\\&gt;tdbinput\r\n\r\nTjava:\r\n\r\n    ```\r\n     `int n = 600; // The line number\r\n          int i=0;\r\n          String line=&quot;&quot;;\r\n          int linenumber=0;\r\n    ```\r\n    \r\n    `try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))`\r\n    `{`\r\n    \r\n    `while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )`  \r\n    `{`\r\n    `if(iteration == 0)`\r\n    `{`\r\n    `iteration++;`  \r\n    `continue;`\r\n    `}`\r\n    `String[] tokens = line.split(&quot;,&quot;);`\r\n    \r\n    ```\r\n       for(String token : tokens)\r\n                    {\r\n                        //Print all tokens\r\n                        System.out.println(token);\r\n                    }\r\n    ```\r\n    \r\n    `context.columnA=tokens[0];`\r\n    `context.columnB=tokens[1];`\r\n    \r\n    ```\r\n         linenumber++; \r\n     }\r\n    ```\r\n    \r\n    ```\r\n    ```\r\n\r\nWhen i try to use the context.columnA in the other component tdbinput it will has the last overwritten value and not the iterated value for each row sequence\r\n\r\ntdinput:\r\nselect \\* from test where testcol=&#39;&quot;+context.columnA+&quot;&#39;;\r\nRESULT IS NULL because context.columnA value is empty from tjava\r\n\r\nOPTION 2:I tried using :\r\ntfileinputdelimited--main--\\&gt;tjavarow\r\n\r\ntjavarow:\r\n\r\n    context.columnA = input_row.columnA ;\r\n    context.columnB= input_row.columnB;\r\n\r\nbut this approach doesnt help me to directly pass the inputs into tdbinput(to query the database using select)\r\n\r\nSo i would like to know if there is a way to iterate from tfileinputdelimited---iterate--\\&gt;tjava??? but unable to store the schema results between the component.\r\n\r\nUpdated job design for approach2:\r\n[enter image description here][1]\r\n\r\nAnyone please advise a way to perform either using java code to handle it or adjust the talend components to achieve the desired result\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/krHXJ.png","title":"using tfilelist or tfiledelimited how can i iterate through a list of columnA, column B combination and store in tjava to use for tdbinput","body":"<p>I have a talend job that i am trying to read the columns from the csv file sequentially row by row for each combination (if possible trying to collect unique combination) of COLUMN A &amp; COLUMN B to get the values and store in tjava (context variables to reuse and query the tdbinput)</p>\n<p>CSV in the below format:\n<a href=\"https://i.stack.imgur.com/zrKtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrKtm.png\" alt=\"enter image description here\" /></a></p>\n<p>OPTION 1:\nMy job design looks like this:\ntfilelist-Iterate--&gt;tjava --&gt;tdbinput</p>\n<p>Tjava:</p>\n<pre><code>```\n `int n = 600; // The line number\n      int i=0;\n      String line=&quot;&quot;;\n      int linenumber=0;\n```\n\n`try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))`\n`{`\n\n`while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )`  \n`{`\n`if(iteration == 0)`\n`{`\n`iteration++;`  \n`continue;`\n`}`\n`String[] tokens = line.split(&quot;,&quot;);`\n\n```\n   for(String token : tokens)\n                {\n                    //Print all tokens\n                    System.out.println(token);\n                }\n```\n\n`context.columnA=tokens[0];`\n`context.columnB=tokens[1];`\n\n```\n     linenumber++; \n }\n```\n\n```\n```\n</code></pre>\n<p>When i try to use the context.columnA in the other component tdbinput it will has the last overwritten value and not the iterated value for each row sequence</p>\n<p>tdinput:\nselect * from test where testcol='&quot;+context.columnA+&quot;';\nRESULT IS NULL because context.columnA value is empty from tjava</p>\n<p>OPTION 2:I tried using :\ntfileinputdelimited--main--&gt;tjavarow</p>\n<p>tjavarow:</p>\n<pre><code>context.columnA = input_row.columnA ;\ncontext.columnB= input_row.columnB;\n</code></pre>\n<p>but this approach doesnt help me to directly pass the inputs into tdbinput(to query the database using select)</p>\n<p>So i would like to know if there is a way to iterate from tfileinputdelimited---iterate--&gt;tjava??? but unable to store the schema results between the component.</p>\n<p>Updated job design for approach2:\n<a href=\"https://i.stack.imgur.com/krHXJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Anyone please advise a way to perform either using java code to handle it or adjust the talend components to achieve the desired result</p>\n"},{"tags":["java","linked-list","iterator","inner-classes","remove-method"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666969246,"post_id":74237116,"comment_id":131067012,"body_markdown":"&quot;_I just want to make sure I did what the assignment was done correclty_&quot; - Does it work? What is your specific question?","body":"&quot;<i>I just want to make sure I did what the assignment was done correclty</i>&quot; - Does it work? What is your specific question?"},{"owner":{"account_id":23132635,"reputation":1,"user_id":17237327,"display_name":"Brandon Eisgruber"},"score":0,"creation_date":1666969808,"post_id":74237116,"comment_id":131067235,"body_markdown":"Well the textbook says that there isn’t a provided remove method for the inner class iterator. So is this how I would remove a entry that the iterator has just passed over? Sorry I’m just not clear on what I should be doing.","body":"Well the textbook says that there isn’t a provided remove method for the inner class iterator. So is this how I would remove a entry that the iterator has just passed over? Sorry I’m just not clear on what I should be doing."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970002,"post_id":74237116,"comment_id":131067306,"body_markdown":"I think you need clarification from your teacher. I don&#39;t think we can answer that.","body":"I think you need clarification from your teacher. I don&#39;t think we can answer that."}],"owner":{"account_id":23132635,"reputation":1,"user_id":17237327,"display_name":"Brandon Eisgruber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968584,"creation_date":1666968584,"question_id":74237116,"body_markdown":"For my project in my class I have to provide a remove method for  the inner class IteratorForLinkedList. Note you will needanother data field. Include interface definition, class implementing the interface, and the test program. I have tried my best I just want to make sure I did what the assignment was done correclty. Here is what I have done already.\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.NoSuchElementException;\r\npublic class LinkedListWithIterator&lt;T&gt; implements ListWithIteratorInterface&lt;T&gt; {\r\n\t\r\n\tprivate Node firstNode;\r\n\tprivate int numberOfEntries;\r\n\t\r\n\tpublic LinkedListWithIterator() {\r\n\t\tinitaliazeDataFields();\r\n\t}\r\n\t/**\r\n\t * Implementation for the ft list go here chapter 12, starting at \r\n\t * segment 12.7\r\n\t * @return\r\n\t */\r\n\tpublic void clear() {\r\n\t\tinitaliazeDataFields();\r\n\t}\r\n\t\r\n\tprivate void initaliazeDataFields() {\r\n\t\tfirstNode = null;\r\n\t\tnumberOfEntries = 0;\r\n\t}\r\n\t\r\n\tprivate Node getNodeAt(int givenPosition) {\r\n\t\tNode currentNode = firstNode;\r\n\t\tfor (int counter = 1; counter &lt; givenPosition; counter++)\r\n\t\t\tcurrentNode = currentNode.getNextNode;\r\n\t\t\r\n\t\treturn currentNode;\r\n\t}\r\n\t\r\n\tpublic void add(T newEntry) {\r\n\t\tNode newNode = new Node(newEntry);\r\n\t\t\r\n\t\tif (isEmpty())\r\n\t\t\tfirstNode = newNode;\r\n\t\telse {\r\n\t\t\tNode lastNode = getNodeAt(numberOfEntries);\r\n\t\t\tlastNode.setNextNode(newNode);\r\n\t\t}\r\n\t\tnumberOfEntries++;\r\n\t}\r\n\t\r\n\tpublic void add(int givenPosition, T newEntry) {\r\n\t\tif ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries + 1)) {\r\n\t\t\tNode newNode = new Node(newEntry);\r\n\t\t\t\r\n\t\t\tif(givenPosition == 1) {\r\n\t\t\t\tnewNode.setNextNode(firstNode);\r\n\t\t\t\tfirstNode = newNode;\r\n\t\t\t} else {\r\n\t\t\t\tNode nodeBefore = getNodeAt(givenPosition - 1);\r\n\t\t\t\tNode nodeAfter = nodeBefore.getNextNode();\r\n\t\t\t\tnewNode.setNextNode(nodeAfter);\r\n\t\t\t\tnodeBefore.setNextNode(newNode);\r\n\t\t\t}\r\n\t\t\tnumberOfEntries++;\r\n\t\t} else\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;illegal position given to add operation&quot;);\r\n\t} // end add\r\n\t\r\n\tpublic boolean isEmpty() {\r\n\t\tboolean result;\r\n\t\tif (numberOfEntries == 0) {\r\n\t\t\tresult = true;\r\n\t\t} else {\r\n\t\t\tresult = false;\r\n\t\t} \r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic T[] toArray() {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tT[] result = (T[])new Object[numberOfEntries];\r\n\t\t\r\n\t\tint index = 0;\r\n\t\tNode currentNode = firstNode;\r\n\t\twhile ((index &lt; numberOfEntries) &amp;&amp; (currentNode != null)) {\r\n\t\t\tresult[index] = currentNode.getData();\r\n\t\t\tcurrentNode = currentNode.getNextNode();\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn result;\r\n\t} // end to array\r\n\t\r\n\t\r\n\t\r\n\tpublic T remove(int givenPosition) {\r\n\t\tT result = null;\r\n\t\tif((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\tif (givenPosition == 1) {\r\n\t\t\t\tresult = firstNode.getData();\r\n\t\t\t\tfirstNode = firstNode.getNextNode();\r\n\t\t\t} else {\r\n\t\t\t\tNode nodeBefore = getNodeAt(givenPosition - 1);\r\n\t\t\t\tNode nodeToRemove = nodeBefore.getNextNode();\r\n\t\t\t\tresult = nodeToRemove.getData();\r\n\t\t\t\tNode nodeAfter = nodeToRemove.getNextNode();\r\n\t\t\t\tnodeBefore.setNextNode(nodeAfter);\r\n\t\t\t}\r\n\t\t\tnumberOfEntries--;\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;illegal position given to remove &quot;);\r\n\t\t}\r\n\t} // end remove\r\n\t\r\n\tpublic T replace(int givenPosition, T newEntry) {\r\n\t\tif((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\tNode desiredNode = getNodeAt(givenPosition);\r\n\t\t\tT originalEntry = desiredNode.getData();\r\n\t\t\treturn originalEntry;\r\n\t\t}\r\n\t\telse\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;Illegal Position given for replace method &quot;);\r\n\t} // end replace\r\n\t\r\n\tpublic T getEntry(int givenPosition) {\r\n\t\tif ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\treturn getNodeAt(givenPosition).getData;\r\n\t\t} \r\n\t\telse \r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;Illegal Position given for getentry method &quot;);\r\n\t} // end get entry\r\n\t\r\n\tpublic boolean contains(T anEntry) {\r\n\t\tboolean found = false;\r\n\t\tNode currentNode = firstNode;\r\n\t\t\r\n\t\twhile(!found &amp;&amp; (currentNode != null)) {\r\n\t\t\tif(anEntry.equals(currentNode.getData())) {\r\n\t\t\t\tfound = true;\r\n\t\t\t} else {\r\n\t\t\t\tcurrentNode = currentNode.getNextNode;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn found;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic Iterator&lt;T&gt; iterator() {\r\n\t\treturn new IteratorForLinkedList();\r\n\t}\r\n\t\r\n\tpublic Iterator getIterator() {\r\n\t\treturn iterator();\r\n\t}\r\n\t\r\n\tprivate class IteratorForLinkedList implements Iterator&lt;T&gt; {\r\n\t\tprivate Node nextNode;\r\n\t\t\r\n\t\tprivate IteratorForLinkedList() {\r\n\t\t\tnextNode = firstNode;\r\n\t\t}\r\n\t\t\r\n\t\tpublic T next() {\r\n\t\t\tT result;\r\n\t\t\tif (hasNext()) {\r\n\t\t\t\tresult = nextNode.getData;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new NoSuchElementException(&quot;Illegal call to next(); iterator is after end of list&quot;);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn nextNode != null;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void remove() {\r\n\t\t\tthrow new UnsupportedOperationException(&quot;Remove() is not supported by this operator&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Implementation for private class node\r\n\t\r\n\tprivate class Node \r\n\t{\r\n\t\tpublic T getData;\r\n\t\tpublic LinkedListWithIterator&lt;T&gt;.Node getNextNode;\r\n\t\tprivate T data;\r\n\t\tprivate Node next;\r\n\t\t\r\n\t\tprivate Node(T dataPortion) {\r\n\t\t\tthis(dataPortion, null);\r\n\t\t}\r\n\t\t\r\n\t\tprivate Node(T dataPortion, Node nextNode) {\r\n\t\t\tdata = dataPortion;\r\n\t\t\tnext = nextNode;\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate T getData() {\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void setData(T newEntry) {\r\n\t\t\tdata = newEntry;\r\n\t\t}\r\n\t\t\r\n\t\tprivate Node getNextNode() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void setNextNode(Node nextNode) {\r\n\t\t\tnext = nextNode;\r\n\t\t}\r\n\t} // end node class\r\n\t\r\n}\r\n```\r\n","title":"Consider the class LinkedListWithIterator, Provide a remove operation for the inner class IteratorForLinkedList","body":"<p>For my project in my class I have to provide a remove method for  the inner class IteratorForLinkedList. Note you will needanother data field. Include interface definition, class implementing the interface, and the test program. I have tried my best I just want to make sure I did what the assignment was done correclty. Here is what I have done already.</p>\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\npublic class LinkedListWithIterator&lt;T&gt; implements ListWithIteratorInterface&lt;T&gt; {\n    \n    private Node firstNode;\n    private int numberOfEntries;\n    \n    public LinkedListWithIterator() {\n        initaliazeDataFields();\n    }\n    /**\n     * Implementation for the ft list go here chapter 12, starting at \n     * segment 12.7\n     * @return\n     */\n    public void clear() {\n        initaliazeDataFields();\n    }\n    \n    private void initaliazeDataFields() {\n        firstNode = null;\n        numberOfEntries = 0;\n    }\n    \n    private Node getNodeAt(int givenPosition) {\n        Node currentNode = firstNode;\n        for (int counter = 1; counter &lt; givenPosition; counter++)\n            currentNode = currentNode.getNextNode;\n        \n        return currentNode;\n    }\n    \n    public void add(T newEntry) {\n        Node newNode = new Node(newEntry);\n        \n        if (isEmpty())\n            firstNode = newNode;\n        else {\n            Node lastNode = getNodeAt(numberOfEntries);\n            lastNode.setNextNode(newNode);\n        }\n        numberOfEntries++;\n    }\n    \n    public void add(int givenPosition, T newEntry) {\n        if ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries + 1)) {\n            Node newNode = new Node(newEntry);\n            \n            if(givenPosition == 1) {\n                newNode.setNextNode(firstNode);\n                firstNode = newNode;\n            } else {\n                Node nodeBefore = getNodeAt(givenPosition - 1);\n                Node nodeAfter = nodeBefore.getNextNode();\n                newNode.setNextNode(nodeAfter);\n                nodeBefore.setNextNode(newNode);\n            }\n            numberOfEntries++;\n        } else\n            throw new IndexOutOfBoundsException(&quot;illegal position given to add operation&quot;);\n    } // end add\n    \n    public boolean isEmpty() {\n        boolean result;\n        if (numberOfEntries == 0) {\n            result = true;\n        } else {\n            result = false;\n        } \n        return result;\n    }\n    \n    public T[] toArray() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] result = (T[])new Object[numberOfEntries];\n        \n        int index = 0;\n        Node currentNode = firstNode;\n        while ((index &lt; numberOfEntries) &amp;&amp; (currentNode != null)) {\n            result[index] = currentNode.getData();\n            currentNode = currentNode.getNextNode();\n            index++;\n        }\n        return result;\n    } // end to array\n    \n    \n    \n    public T remove(int givenPosition) {\n        T result = null;\n        if((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            if (givenPosition == 1) {\n                result = firstNode.getData();\n                firstNode = firstNode.getNextNode();\n            } else {\n                Node nodeBefore = getNodeAt(givenPosition - 1);\n                Node nodeToRemove = nodeBefore.getNextNode();\n                result = nodeToRemove.getData();\n                Node nodeAfter = nodeToRemove.getNextNode();\n                nodeBefore.setNextNode(nodeAfter);\n            }\n            numberOfEntries--;\n            return result;\n            \n        } else {\n            throw new IndexOutOfBoundsException(&quot;illegal position given to remove &quot;);\n        }\n    } // end remove\n    \n    public T replace(int givenPosition, T newEntry) {\n        if((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            Node desiredNode = getNodeAt(givenPosition);\n            T originalEntry = desiredNode.getData();\n            return originalEntry;\n        }\n        else\n            throw new IndexOutOfBoundsException(&quot;Illegal Position given for replace method &quot;);\n    } // end replace\n    \n    public T getEntry(int givenPosition) {\n        if ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            return getNodeAt(givenPosition).getData;\n        } \n        else \n            throw new IndexOutOfBoundsException(&quot;Illegal Position given for getentry method &quot;);\n    } // end get entry\n    \n    public boolean contains(T anEntry) {\n        boolean found = false;\n        Node currentNode = firstNode;\n        \n        while(!found &amp;&amp; (currentNode != null)) {\n            if(anEntry.equals(currentNode.getData())) {\n                found = true;\n            } else {\n                currentNode = currentNode.getNextNode;\n            }\n            \n        }\n        return found;\n    }\n    \n    \n    \n    public Iterator&lt;T&gt; iterator() {\n        return new IteratorForLinkedList();\n    }\n    \n    public Iterator getIterator() {\n        return iterator();\n    }\n    \n    private class IteratorForLinkedList implements Iterator&lt;T&gt; {\n        private Node nextNode;\n        \n        private IteratorForLinkedList() {\n            nextNode = firstNode;\n        }\n        \n        public T next() {\n            T result;\n            if (hasNext()) {\n                result = nextNode.getData;\n            } else {\n                throw new NoSuchElementException(&quot;Illegal call to next(); iterator is after end of list&quot;);\n            }\n            return result;\n        }\n        \n        public boolean hasNext() {\n            return nextNode != null;\n        }\n        \n        public void remove() {\n            throw new UnsupportedOperationException(&quot;Remove() is not supported by this operator&quot;);\n        }\n    }\n    \n    // Implementation for private class node\n    \n    private class Node \n    {\n        public T getData;\n        public LinkedListWithIterator&lt;T&gt;.Node getNextNode;\n        private T data;\n        private Node next;\n        \n        private Node(T dataPortion) {\n            this(dataPortion, null);\n        }\n        \n        private Node(T dataPortion, Node nextNode) {\n            data = dataPortion;\n            next = nextNode;    \n        }\n        \n        private T getData() {\n            return data;\n        }\n        \n        private void setData(T newEntry) {\n            data = newEntry;\n        }\n        \n        private Node getNextNode() {\n            return next;\n        }\n        \n        private void setNextNode(Node nextNode) {\n            next = nextNode;\n        }\n    } // end node class\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","xml","hibernate","one-to-one"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666971733,"post_id":74237097,"comment_id":131067965,"body_markdown":"What does the error say? Unknown column, it means the column you have in the code is not in the table. Student model doesn&#39;t have `laptop_lid` attribute nor column","body":"What does the error say? Unknown column, it means the column you have in the code is not in the table. Student model doesn&#39;t have <code>laptop_lid</code> attribute nor column"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666972638,"post_id":74237097,"comment_id":131068303,"body_markdown":"yeah ,but it has to be created as a foreign key ,because i used one To One mapping","body":"yeah ,but it has to be created as a foreign key ,because i used one To One mapping"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666972954,"post_id":74237097,"comment_id":131068413,"body_markdown":"I understand. But it&#39;s not defined in your model, therefore, it&#39;s not being created","body":"I understand. But it&#39;s not defined in your model, therefore, it&#39;s not being created"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974201,"post_id":74237097,"comment_id":131068838,"body_markdown":"i don&#39;t know why hibernate fails to create my tables , i think that&#39;s the problem i&#39;ll try to put the error i get","body":"i don&#39;t know why hibernate fails to create my tables , i think that&#39;s the problem i&#39;ll try to put the error i get"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974401,"post_id":74237097,"comment_id":131068905,"body_markdown":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table answer (answer_id integer not null, answer varchar(255), primary key (answer_id)) type=MyISAM&quot; via JDBC Statement","body":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table answer (answer_id integer not null, answer varchar(255), primary key (answer_id)) type=MyISAM&quot; via JDBC Statement"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974422,"post_id":74237097,"comment_id":131068914,"body_markdown":"Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1","body":"Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1"}],"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968496,"creation_date":1666968496,"question_id":74237097,"body_markdown":"i started learning hibernate framework,but i had some problems when i started learning relational mapping : One To One \r\n\r\nthat&#39;s my **Hibernate.cfg.xml\r\n**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM \r\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n   &lt;session-factory&gt;\r\n   \r\n      &lt;property name = &quot;hibernate.dialect&quot;&gt; org.hibernate.dialect.MySQLDialect &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\r\n      \r\n      &lt;!-- Assume test is the database name --&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name = &quot;hbm2ddl&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;!-- List of XML mapping files --&gt;\r\n      \r\n      &lt;mapping  class= &quot;com.jee.projetHibernate.Student&quot;/&gt;\r\n             &lt;mapping  class= &quot;com.jee.projetHibernate.Laptop&quot;/&gt;\r\n      \r\n   &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\nthat&#39;s my Student class\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;userid&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;username&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@OneToOne\r\nprivate Laptop laptop;\r\n\t\r\n\tpublic Laptop getLaptop() {\r\n\t\treturn laptop;\r\n\t}\r\n\tpublic void setLaptop(Laptop laptop) {\r\n\t\tthis.laptop = laptop;\r\n\t}\r\n\tpublic Student() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Student(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n\t}\r\n\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nthat&#39;s my Laptop class\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;laptop&quot;)\r\npublic class Laptop {\r\n\t\r\n\t\r\n\t@Id\r\n\tprivate int lid;\r\n\tprivate String lname;\r\n\tpublic int getLid() {\r\n\t\treturn lid;\r\n\t}\r\n\tpublic void setLid(int lid) {\r\n\t\tthis.lid = lid;\r\n\t}\r\n\tpublic String getLname() {\r\n\t\treturn lname;\r\n\t}\r\n\tpublic void setLname(String lname) {\r\n\t\tthis.lname = lname;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nand taht&#39;s my app.java \r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n \r\nimport javax.imageio.spi.ServiceRegistry;\r\n\r\nimport org.hibernate.*;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.*;\r\nimport com.mysql.cj.Session;\r\nimport com.mysql.cj.xdevapi.SessionFactory;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n    \r\n    \t\r\n    \tLaptop lap2=new Laptop();\r\n    \tlap2.setLid(3);\r\n    \tlap2.setLname(&quot;macbook&quot;);\r\n    \t\r\n    \t\r\n\t\t Student alien=new Student(); \r\n\t\t alien.setName(&quot;marah&quot;); \r\n\t\t alien.setLaptop(lap2);\r\n\t\t\r\n\t\t \r\n    \t\r\n    \t\r\nConfiguration conf =new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\r\nStandardServiceRegistry serviceRegistry= new StandardServiceRegistryBuilder().applySettings(conf.getProperties()).build();\r\norg.hibernate.SessionFactory sf=conf.buildSessionFactory();\r\norg.hibernate.Session session=sf.openSession();\r\n\r\nTransaction tx=session.beginTransaction();\r\n//to save data in database\r\n\r\nsession.save(lap2);\r\nsession.save(alien);\r\n\r\ntx.commit();\r\n    \t\r\n//to fetch or get data from database\r\n/*\r\n * alien2=(Student)session.get(Student.class, 17); System.out.println(alien2);\r\n */\r\n      \r\n    \t\r\n\t\r\n    \t\r\n  \r\n    \t\r\n    \t//save method belongs to session interface that belongs to hibernate\r\n\t\t/*\r\n\t\t * Configuration conf=new\r\n\t\t * Configuration().configure().addAnnotatedClass(Aliens.class);\r\n\t\t * org.hibernate.SessionFactory sf=conf.buildSessionFactory();\r\n\t\t * org.hibernate.Session session= sf.openSession(); Transaction\r\n\t\t * tx=session.beginTransaction(); session.save(alien); tx.commit();\r\n\t\t */\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni expected that 2 tables are going to get values that i inserted in my java code , but  all i&#39;m getting is an error \r\n\r\n\r\n\r\n\r\n```\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nHibernate: insert into laptop (lname, lid) values (?, ?)\r\nHibernate: insert into student (laptop_lid, username) values (?, ?)\r\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 1054, SQLState: 42S22\r\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;\r\nException in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:672)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:660)\r\n\tat com.jee.projetHibernate.App.main(App.java:44)\r\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 23 more\r\n\r\n```\r\n","title":"Caused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;","body":"<p>i started learning hibernate framework,but i had some problems when i started learning relational mapping : One To One</p>\n<p>that's my **Hibernate.cfg.xml\n**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n   \n      &lt;property name = &quot;hibernate.dialect&quot;&gt; org.hibernate.dialect.MySQLDialect &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\n      \n      &lt;!-- Assume test is the database name --&gt;\n      \n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hbm2ddl&quot;&gt;update&lt;/property&gt;\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\n      &lt;!-- List of XML mapping files --&gt;\n      \n      &lt;mapping  class= &quot;com.jee.projetHibernate.Student&quot;/&gt;\n             &lt;mapping  class= &quot;com.jee.projetHibernate.Laptop&quot;/&gt;\n      \n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>that's my Student class</p>\n<pre><code>package com.jee.projetHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;userid&quot;)\n    private int id;\n    \n    @Column(name=&quot;username&quot;)\n    private String name;\n    \n    @OneToOne\nprivate Laptop laptop;\n    \n    public Laptop getLaptop() {\n        return laptop;\n    }\n    public void setLaptop(Laptop laptop) {\n        this.laptop = laptop;\n    }\n    public Student() {\n        super();\n    }\n    public Student(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n\n    \n    \n    \n}\n\n</code></pre>\n<p>that's my Laptop class</p>\n<pre><code>package com.jee.projetHibernate;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;laptop&quot;)\npublic class Laptop {\n    \n    \n    @Id\n    private int lid;\n    private String lname;\n    public int getLid() {\n        return lid;\n    }\n    public void setLid(int lid) {\n        this.lid = lid;\n    }\n    public String getLname() {\n        return lname;\n    }\n    public void setLname(String lname) {\n        this.lname = lname;\n    }\n    \n    \n    \n    \n\n}\n\n</code></pre>\n<p>and taht's my app.java</p>\n<pre><code>package com.jee.projetHibernate;\n \nimport javax.imageio.spi.ServiceRegistry;\n\nimport org.hibernate.*;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.*;\nimport com.mysql.cj.Session;\nimport com.mysql.cj.xdevapi.SessionFactory;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n    \n        \n        Laptop lap2=new Laptop();\n        lap2.setLid(3);\n        lap2.setLname(&quot;macbook&quot;);\n        \n        \n         Student alien=new Student(); \n         alien.setName(&quot;marah&quot;); \n         alien.setLaptop(lap2);\n        \n         \n        \n        \nConfiguration conf =new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\nStandardServiceRegistry serviceRegistry= new StandardServiceRegistryBuilder().applySettings(conf.getProperties()).build();\norg.hibernate.SessionFactory sf=conf.buildSessionFactory();\norg.hibernate.Session session=sf.openSession();\n\nTransaction tx=session.beginTransaction();\n//to save data in database\n\nsession.save(lap2);\nsession.save(alien);\n\ntx.commit();\n        \n//to fetch or get data from database\n/*\n * alien2=(Student)session.get(Student.class, 17); System.out.println(alien2);\n */\n      \n        \n    \n        \n  \n        \n        //save method belongs to session interface that belongs to hibernate\n        /*\n         * Configuration conf=new\n         * Configuration().configure().addAnnotatedClass(Aliens.class);\n         * org.hibernate.SessionFactory sf=conf.buildSessionFactory();\n         * org.hibernate.Session session= sf.openSession(); Transaction\n         * tx=session.beginTransaction(); session.save(alien); tx.commit();\n         */\n        \n        \n        \n        \n        \n    }\n}\n\n</code></pre>\n<p>i expected that 2 tables are going to get values that i inserted in my java code , but  all i'm getting is an error</p>\n<pre><code>INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: insert into laptop (lname, lid) values (?, ?)\nHibernate: insert into student (laptop_lid, username) values (?, ?)\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 1054, SQLState: 42S22\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Unknown column 'laptop_lid' in 'field list'\nException in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:672)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:660)\n    at com.jee.projetHibernate.App.main(App.java:44)\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 'laptop_lid' in 'field list'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 23 more\n\n</code></pre>\n"},{"tags":["java","android","firebase","callback"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667034170,"post_id":74237077,"comment_id":131078633,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?","body":"What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667166224,"post_id":74237077,"comment_id":131100923,"body_markdown":"@AlexMamo it fails at the class instantiation &#180;&#180;&#180;readingSubclass r = ds.getValue...&#180;&#180;&#180;. If i change the type to &quot;var&quot;, it complains on the line below saying the setId method does not exists.","body":"@AlexMamo it fails at the class instantiation &#180;&#180;&#180;readingSubclass r = ds.getValue...&#180;&#180;&#180;. If i change the type to &quot;var&quot;, it complains on the line below saying the setId method does not exists."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667202606,"post_id":74237077,"comment_id":131106187,"body_markdown":"Have you tried using `ReadingSubClass readingSubClass = ds.getValue(ReadingSubClass.class);`? Does it work this way?","body":"Have you tried using <code>ReadingSubClass readingSubClass = ds.getValue(ReadingSubClass.class);</code>? Does it work this way?"},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667320569,"post_id":74237077,"comment_id":131137926,"body_markdown":"It won&#39;t work, since ReadingSubClass is a parameter to the function where the real class will be passed to the function.","body":"It won&#39;t work, since ReadingSubClass is a parameter to the function where the real class will be passed to the function."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667320814,"post_id":74237077,"comment_id":131138003,"body_markdown":"That&#39;s not how you should handle that situation. If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help.","body":"That&#39;s not how you should handle that situation. If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667335974,"post_id":74237077,"comment_id":131142630,"body_markdown":"I&#39;m coding in Java, not Kotlin","body":"I&#39;m coding in Java, not Kotlin"}],"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968368,"creation_date":1666968368,"question_id":74237077,"body_markdown":"I need your help in understanding the best way of doing this. Given the sample code below, I need to know how to pass a Class and a Callback via parameter and use them internally to instantiate an object of type Class and use the method Class.setId, and then pass the instantiated object to the Callback function. Is that possible?\r\n\r\n```\r\nprivate void loadreading(String nodeType, String tableName, String deviceId, Class ReadingSubClass, Callback updateFields) {\r\n\treadingQuery = fbDB.child(nodeType).child(tableName).child(deviceId).orderByChild(&quot;timestamp&quot;).limitToLast(1);\r\n\r\n\treadingEventListener = new ValueEventListener() {\r\n\t\t@Override\r\n\t\tpublic void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\t\t\tfor (DataSnapshot ds : snapshot.getChildren()) {\r\n\t\t\t\t// Create new reading\r\n\t\t\t\treadingSubClass r = ds.getValue(ReadingSubClass.class);\r\n\t\t\t\tr.setId(snapshot.getKey());\r\n\t\t\t\t// Update fields\r\n\t\t\t\tupdateFields(r);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCancelled(@NonNull DatabaseError error) {\r\n\t\t\tlogMsg(getContext(), &quot;Load Reading: &quot; + error.getMessage(), true, false, false, false);\r\n\t\t}\r\n\t};\r\n\treadingQuery.addValueEventListener(readingEventListener);\r\n}\r\n```","title":"Android Java - Pass Class and Callback as parameter and instantiate object inside function","body":"<p>I need your help in understanding the best way of doing this. Given the sample code below, I need to know how to pass a Class and a Callback via parameter and use them internally to instantiate an object of type Class and use the method Class.setId, and then pass the instantiated object to the Callback function. Is that possible?</p>\n<pre><code>private void loadreading(String nodeType, String tableName, String deviceId, Class ReadingSubClass, Callback updateFields) {\n    readingQuery = fbDB.child(nodeType).child(tableName).child(deviceId).orderByChild(&quot;timestamp&quot;).limitToLast(1);\n\n    readingEventListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot ds : snapshot.getChildren()) {\n                // Create new reading\n                readingSubClass r = ds.getValue(ReadingSubClass.class);\n                r.setId(snapshot.getKey());\n                // Update fields\n                updateFields(r);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            logMsg(getContext(), &quot;Load Reading: &quot; + error.getMessage(), true, false, false, false);\n        }\n    };\n    readingQuery.addValueEventListener(readingEventListener);\n}\n</code></pre>\n"},{"tags":["java","spring","enums","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":1,"creation_date":1524035879,"post_id":44450930,"comment_id":86802412,"body_markdown":"I run into same problem with mybatis 3.4.5, downgrade to 3.3.1 to solve it.","body":"I run into same problem with mybatis 3.4.5, downgrade to 3.3.1 to solve it."}],"answers":[{"tags":[],"owner":{"account_id":2937048,"reputation":266,"user_id":2515724,"accept_rate":38,"display_name":"Abhijeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515507207,"creation_date":1515507207,"answer_id":48170091,"question_id":44450930,"body_markdown":"Removing the explicitly mentioned enum  typeHandler worked for me \r\n\r\n&gt; Remove : typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;\r\n\r\n    &lt;resultMap id=&quot;orderLineResult&quot; type=&quot;foo.OrderLine&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;technical_order_line_id&quot; /&gt;\r\n        &lt;result property=&quot;programmedStatus&quot; column=&quot;order_line_programmed&quot; /&gt;\r\n        &lt;result property=&quot;programmedFeedback&quot; column=&quot;order_line_programmed_feedback&quot; /&gt;\r\n        &lt;result property=&quot;completed&quot; column=&quot;order_line_completed&quot;\r\n            javaType=&quot;java.lang.Boolean&quot; typeHandler=&quot;org.apache.ibatis.type.BooleanTypeHandler&quot; /&gt;\r\n        &lt;association property=&quot;product&quot;\r\n            notNullColumn=&quot;order_line_product_id&quot;\r\n            resultMap=&quot;foo.repository.mapper.ProductMapper.productResult&quot; /&gt;\r\n    &lt;/resultMap&gt;","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>Removing the explicitly mentioned enum  typeHandler worked for me </p>\n\n<blockquote>\n  <p>Remove : typeHandler=\"org.apache.ibatis.type.EnumTypeHandler\"</p>\n</blockquote>\n\n<pre><code>&lt;resultMap id=\"orderLineResult\" type=\"foo.OrderLine\"&gt;\n    &lt;id property=\"id\" column=\"technical_order_line_id\" /&gt;\n    &lt;result property=\"programmedStatus\" column=\"order_line_programmed\" /&gt;\n    &lt;result property=\"programmedFeedback\" column=\"order_line_programmed_feedback\" /&gt;\n    &lt;result property=\"completed\" column=\"order_line_completed\"\n        javaType=\"java.lang.Boolean\" typeHandler=\"org.apache.ibatis.type.BooleanTypeHandler\" /&gt;\n    &lt;association property=\"product\"\n        notNullColumn=\"order_line_product_id\"\n        resultMap=\"foo.repository.mapper.ProductMapper.productResult\" /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15443351,"reputation":23,"user_id":11141183,"display_name":"andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666968285,"creation_date":1666968285,"answer_id":74237058,"question_id":44450930,"body_markdown":"As explained here https://github.com/mybatis/mybatis-3/issues/995 - EnumTypeHandler shouldn&#39;t be specified explicitly as a type handler for enum properties because (as a type handler) it gets cached and re-used in all other mappings where specified explicitly (which leads to the original issue). To avoid this, let MyBatis figure out the type handler for enum properties. In case your enum is &#39;special&#39;, you can subclass EnumTypeHandler and explicitly reference it where needed, but then caching is OK, because it is handling the exact same enum type every time.","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>As explained here <a href=\"https://github.com/mybatis/mybatis-3/issues/995\" rel=\"nofollow noreferrer\">https://github.com/mybatis/mybatis-3/issues/995</a> - EnumTypeHandler shouldn't be specified explicitly as a type handler for enum properties because (as a type handler) it gets cached and re-used in all other mappings where specified explicitly (which leads to the original issue). To avoid this, let MyBatis figure out the type handler for enum properties. In case your enum is 'special', you can subclass EnumTypeHandler and explicitly reference it where needed, but then caching is OK, because it is handling the exact same enum type every time.</p>\n"}],"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4247,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666968285,"creation_date":1496990300,"question_id":44450930,"body_markdown":"My domain class has attributes mapped to an enum. Strangely MyBatis 3.4.x (Both 3.4.0 and 3.4.4. This worked with 3.3.x) with Spring MyBatis 1.3.1 tries to map it with an unrelated enum and gives the error.\r\n\r\n&gt; org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column &#39;order_line_programmed&#39; from result set.  Cause: java.lang.IllegalArgumentException: No enum constant foo.UnrelatedEnum.yes\r\n\r\nMy domain class looks like this:\r\n\r\n    public class OrderLine {\r\n\r\n\t    private Long id;\r\n\t    private Product product;\r\n\t    private ProgrammedStatus programmedStatus;\r\n\t    private String programmedFeedback;\r\n\t    private boolean completed = false;\r\n    }\r\n\r\nProgrammedStatus is a simple enum\r\n\r\n    public enum ProgrammedStatus {\r\n\t\tyes, no, error;\r\n\t}\r\n\r\nIt is this programmedStatus which is mapped to programmed column as follows,\r\n\r\n    &lt;resultMap id=&quot;orderLineResult&quot; type=&quot;foo.OrderLine&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;technical_order_line_id&quot; /&gt;\r\n        &lt;result property=&quot;programmedStatus&quot; column=&quot;order_line_programmed&quot; typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot; /&gt;\r\n        &lt;result property=&quot;programmedFeedback&quot; column=&quot;order_line_programmed_feedback&quot; /&gt;\r\n        &lt;result property=&quot;completed&quot; column=&quot;order_line_completed&quot;\r\n            javaType=&quot;java.lang.Boolean&quot; typeHandler=&quot;org.apache.ibatis.type.BooleanTypeHandler&quot; /&gt;\r\n        &lt;association property=&quot;product&quot;\r\n            notNullColumn=&quot;order_line_product_id&quot;\r\n            resultMap=&quot;foo.repository.mapper.ProductMapper.productResult&quot; /&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nI even tried mapping the javaType with the typeHandler, but MyBatis seem to ignore it.\r\n\r\nFew information which may find useful,\r\n\r\n* UnrelatedEnum is also a simple Enum as ProgrammedStatus\r\n* Product has an attribute which has an attribute which is of type UnrelatedEnum\r\n\r\nI found this issue in other places of code as well. I COULD have my own specific typeHandler instead of the EnumTypeHandler here. The issue is that this enum matching is used in a lot of places in my program and migrating wit 3.4 makes my program unstable.","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>My domain class has attributes mapped to an enum. Strangely MyBatis 3.4.x (Both 3.4.0 and 3.4.4. This worked with 3.3.x) with Spring MyBatis 1.3.1 tries to map it with an unrelated enum and gives the error.</p>\n\n<blockquote>\n  <p>org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'order_line_programmed' from result set.  Cause: java.lang.IllegalArgumentException: No enum constant foo.UnrelatedEnum.yes</p>\n</blockquote>\n\n<p>My domain class looks like this:</p>\n\n<pre><code>public class OrderLine {\n\n    private Long id;\n    private Product product;\n    private ProgrammedStatus programmedStatus;\n    private String programmedFeedback;\n    private boolean completed = false;\n}\n</code></pre>\n\n<p>ProgrammedStatus is a simple enum</p>\n\n<pre><code>public enum ProgrammedStatus {\n    yes, no, error;\n}\n</code></pre>\n\n<p>It is this programmedStatus which is mapped to programmed column as follows,</p>\n\n<pre><code>&lt;resultMap id=\"orderLineResult\" type=\"foo.OrderLine\"&gt;\n    &lt;id property=\"id\" column=\"technical_order_line_id\" /&gt;\n    &lt;result property=\"programmedStatus\" column=\"order_line_programmed\" typeHandler=\"org.apache.ibatis.type.EnumTypeHandler\" /&gt;\n    &lt;result property=\"programmedFeedback\" column=\"order_line_programmed_feedback\" /&gt;\n    &lt;result property=\"completed\" column=\"order_line_completed\"\n        javaType=\"java.lang.Boolean\" typeHandler=\"org.apache.ibatis.type.BooleanTypeHandler\" /&gt;\n    &lt;association property=\"product\"\n        notNullColumn=\"order_line_product_id\"\n        resultMap=\"foo.repository.mapper.ProductMapper.productResult\" /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n\n<p>I even tried mapping the javaType with the typeHandler, but MyBatis seem to ignore it.</p>\n\n<p>Few information which may find useful,</p>\n\n<ul>\n<li>UnrelatedEnum is also a simple Enum as ProgrammedStatus</li>\n<li>Product has an attribute which has an attribute which is of type UnrelatedEnum</li>\n</ul>\n\n<p>I found this issue in other places of code as well. I COULD have my own specific typeHandler instead of the EnumTypeHandler here. The issue is that this enum matching is used in a lot of places in my program and migrating wit 3.4 makes my program unstable.</p>\n"},{"tags":["java","jakarta-mail","imap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666947841,"post_id":74232709,"comment_id":131059906,"body_markdown":"Firewall at the client end?","body":"Firewall at the client end?"},{"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"score":0,"creation_date":1666948315,"post_id":74232709,"comment_id":131060070,"body_markdown":"I disabled all the firewalls in control panel.....still this throws error!","body":"I disabled all the firewalls in control panel.....still this throws error!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666951413,"post_id":74232709,"comment_id":131061129,"body_markdown":"I would check with Zoho or their support community. If your code were wrong it would *probably* fail","body":"I would check with Zoho or their support community. If your code were wrong it would <i>probably</i> fail"},{"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"score":0,"creation_date":1666951740,"post_id":74232709,"comment_id":131061241,"body_markdown":"Would be good to know the solution ....thank you","body":"Would be good to know the solution ....thank you"}],"answers":[{"tags":[],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666954465,"creation_date":1666954465,"answer_id":74234331,"question_id":74232709,"body_markdown":"My system has been connected to the office wifi network.So the firewall didn&#39;t allow me to connect to the port.When I switch my wifi network ,the program runs perfectly !","title":"javax.mail.MessagingException: Connect timed out;","body":"<p>My system has been connected to the office wifi network.So the firewall didn't allow me to connect to the port.When I switch my wifi network ,the program runs perfectly !</p>\n"}],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667688445,"accepted_answer_id":74234331,"answer_count":1,"score":0,"last_activity_date":1666967925,"creation_date":1666946521,"question_id":74232709,"body_markdown":"I need to fetch the Zoho mail using Java. I enabled imaps in Zoho mail settings, but I am getting _&quot;javax.mail.MessagingException: Connect timed out&quot;_ error in the following code.\r\n\r\n```java    \r\npublic class Mail {\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n    \t\tfinal Properties props = new Properties();\r\n    \t    MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n    \t    sf.setTrustAllHosts(true);\r\n    \tprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n        props.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\r\n        props.setProperty(&quot;mail.imaps.connectiontimeout&quot;, &quot;5000&quot;);\r\n        props.setProperty(&quot;mail.imaps.timeout&quot;, &quot;5000&quot;);\r\n        props.setProperty(&quot;mail.imaps.auth&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        \r\n            Session session = Session.getInstance(props, null);\r\n            session.setDebug(true);\r\n            Store store = session.getStore();\r\n            store.connect(&quot;imap.zoho.in&quot;, &quot;*@zohomail.in&quot;, &quot;****&quot;);\r\n            Folder inbox = store.getFolder(&quot;INBOX&quot;);\r\n            inbox.open(Folder.READ_ONLY);\r\n            Message msg = inbox.getMessage(inbox.getMessageCount());\r\n            Address[] in = msg.getFrom();\r\n            for (Address address : in) {\r\n                System.out.println(&quot;FROM:&quot; + address.toString());\r\n            }\r\n            Multipart mp = (Multipart) msg.getContent();\r\n            BodyPart bp = mp.getBodyPart(0);\r\n            System.out.println(&quot;SENT DATE:&quot; + msg.getSentDate());\r\n            System.out.println(&quot;SUBJECT:&quot; + msg.getSubject());\r\n            System.out.println(&quot;CONTENT:&quot; + bp.getContent());\r\n        } catch (Exception mex) {\r\n            mex.printStackTrace();\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```none\r\nDEBUG: trying to connect to host &quot;imap.zoho.in&quot;, port 993, isSSL true\r\njavax.mail.MessagingException: Connect timed out;\r\n     nested exception is:\r\n\tjava.net.SocketTimeoutException: Connect timed out\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:611)\r\n\tat javax.mail.Service.connect(Service.java:291)\r\n\tat javax.mail.Service.connect(Service.java:172)\r\n\tat Mail.main(Mail.java:86)\r\n    Caused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\r\n\tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:265)\r\n\tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:227)\r\n\tat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:107)\r\n\tat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:103)\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:578)\r\n\t... 3 more\r\n```\r\n\r\n    ","title":"javax.mail.MessagingException: Connect timed out;","body":"<p>I need to fetch the Zoho mail using Java. I enabled imaps in Zoho mail settings, but I am getting <em>&quot;javax.mail.MessagingException: Connect timed out&quot;</em> error in the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mail {\n\n    public static void main(String[] args) {\n        try {\n            final Properties props = new Properties();\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n            sf.setTrustAllHosts(true);\n        props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n        props.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\n        props.setProperty(&quot;mail.imaps.connectiontimeout&quot;, &quot;5000&quot;);\n        props.setProperty(&quot;mail.imaps.timeout&quot;, &quot;5000&quot;);\n        props.setProperty(&quot;mail.imaps.auth&quot;, &quot;true&quot;);\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\n        \n            Session session = Session.getInstance(props, null);\n            session.setDebug(true);\n            Store store = session.getStore();\n            store.connect(&quot;imap.zoho.in&quot;, &quot;*@zohomail.in&quot;, &quot;****&quot;);\n            Folder inbox = store.getFolder(&quot;INBOX&quot;);\n            inbox.open(Folder.READ_ONLY);\n            Message msg = inbox.getMessage(inbox.getMessageCount());\n            Address[] in = msg.getFrom();\n            for (Address address : in) {\n                System.out.println(&quot;FROM:&quot; + address.toString());\n            }\n            Multipart mp = (Multipart) msg.getContent();\n            BodyPart bp = mp.getBodyPart(0);\n            System.out.println(&quot;SENT DATE:&quot; + msg.getSentDate());\n            System.out.println(&quot;SUBJECT:&quot; + msg.getSubject());\n            System.out.println(&quot;CONTENT:&quot; + bp.getContent());\n        } catch (Exception mex) {\n            mex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: trying to connect to host &quot;imap.zoho.in&quot;, port 993, isSSL true\njavax.mail.MessagingException: Connect timed out;\n     nested exception is:\n    java.net.SocketTimeoutException: Connect timed out\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:611)\n    at javax.mail.Service.connect(Service.java:291)\n    at javax.mail.Service.connect(Service.java:172)\n    at Mail.main(Mail.java:86)\n    Caused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:265)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:227)\n    at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:107)\n    at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:103)\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:578)\n    ... 3 more\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666728552,"post_id":74199612,"comment_id":131004275,"body_markdown":"You&#39;re not supposed to make an array list, you&#39;re supposed to look at the elements in the list, `array`, that is passed to you.  You will need to go through those elements.","body":"You&#39;re not supposed to make an array list, you&#39;re supposed to look at the elements in the list, <code>array</code>, that is passed to you.  You will need to go through those elements."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1666908197,"post_id":74199612,"comment_id":131052788,"body_markdown":"Yeah, and the assignment does not follow the Java Naming Conventions: method names should be written in camelCase (therefore start with lowercase).","body":"Yeah, and the assignment does not follow the Java Naming Conventions: method names should be written in camelCase (therefore start with lowercase)."},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684413559,"post_id":74199612,"comment_id":134515876,"body_markdown":"hello hsshshshshsh","body":"hello hsshshshshsh"},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684414620,"post_id":74199612,"comment_id":134516136,"body_markdown":"public static String solve(int iterations) { if (iterations &lt;= 1) return null; // Create an initial random starting point String currentSolution = EightQueens.generateRandomStartingPoint(); int currentFitness = EightQueens.calculateFitness(currentSolution); Random random = new Random(); for (int i = 0; i &lt; iterations; i++) { // Apply a small change operator to the current solution String newSolution = EightQueens.applySmallChangeOperator(currentSolution); int newFitness = EightQueens.calculateFitness(newSolution); // If the new solution has better or equal fitness, update the current solution","body":"public static String solve(int iterations) { if (iterations &lt;= 1) return null; // Create an initial random starting point String currentSolution = EightQueens.generateRandomStartingPoint(); int currentFitness = EightQueens.calculateFitness(currentSolution); Random random = new Random(); for (int i = 0; i &lt; iterations; i++) { // Apply a small change operator to the current solution String newSolution = EightQueens.applySmallChangeOperator(currentSolution); int newFitness = EightQueens.calculateFitness(newSolution); // If the new solution has better or equal fitness, update the current solution"},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684421086,"post_id":74199612,"comment_id":134517680,"body_markdown":"public static Double Q5_fitnessFunction(String solution) { //checking for null if (solution == null) { return null; }//checks for invalid if (solution.length() != 24 || !solution.matches(&quot;[01]+&quot;)) { return Double.MAX_VALUE; } int[] queens = new int[8]; for (int i = 0; i &lt; 8; i++) { queens[i] = Integer.parseInt(solution.substring(i * 3, i * 3 + 3), 2); } int clashes = 0; //finding out number of clashes for (int i = 0; i &lt; 8; i++) { for (int j = i + 1; j &lt; 8; j++) { if (Math.abs(queens[i] - queens[j]) == Math.abs(i - j)) { clashes++; } } } //returning the fitness value return 56.0 - clashes; }","body":"public static Double Q5_fitnessFunction(String solution) { //checking for null if (solution == null) { return null; }//checks for invalid if (solution.length() != 24 || !solution.matches(&quot;[01]+&quot;)) { return Double.MAX_VALUE; } int[] queens = new int[8]; for (int i = 0; i &lt; 8; i++) { queens[i] = Integer.parseInt(solution.substring(i * 3, i * 3 + 3), 2); } int clashes = 0; //finding out number of clashes for (int i = 0; i &lt; 8; i++) { for (int j = i + 1; j &lt; 8; j++) { if (Math.abs(queens[i] - queens[j]) == Math.abs(i - j)) { clashes++; } } } //returning the fitness value return 56.0 - clashes; }"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729193,"creation_date":1666729193,"answer_id":74199740,"question_id":74199612,"body_markdown":"What you have so far is good\r\n\r\n    if (array.isEmpty()) {\r\n\r\n     return Double.MIN_VALUE;\r\n\r\n    }\r\n\r\nNow, create a `Double max` to store the max value that you will return\r\n\r\nI would initialize `max` with a value of `Double.MIN_VALUE`\r\n\r\nIterate across `array` and compare each value to `max`\r\n\r\nIf the value is larger than `max` , set `max = value`\r\n\r\nOnce you iterate across the entire `array` , simply `return max`\r\n\r\n\r\n*To iterate across the array, look into using `for each` or simply use indexes starting at `0` and ending before `array.size()`*\r\n\r\n**for each**\r\n\r\n    for (Double d : array){\r\n        //Do something with d\r\n    }\r\n\r\n**using indexes**\r\n\r\n    for (int i = 0; i &lt; array.size(); i++){\r\n        //Do something with array.get(i)\r\n    }\r\n\r\n","title":"how to find the largest number in an arraylist of a double","body":"<p>What you have so far is good</p>\n<pre><code>if (array.isEmpty()) {\n\n return Double.MIN_VALUE;\n\n}\n</code></pre>\n<p>Now, create a <code>Double max</code> to store the max value that you will return</p>\n<p>I would initialize <code>max</code> with a value of <code>Double.MIN_VALUE</code></p>\n<p>Iterate across <code>array</code> and compare each value to <code>max</code></p>\n<p>If the value is larger than <code>max</code> , set <code>max = value</code></p>\n<p>Once you iterate across the entire <code>array</code> , simply <code>return max</code></p>\n<p><em>To iterate across the array, look into using <code>for each</code> or simply use indexes starting at <code>0</code> and ending before <code>array.size()</code></em></p>\n<p><strong>for each</strong></p>\n<pre><code>for (Double d : array){\n    //Do something with d\n}\n</code></pre>\n<p><strong>using indexes</strong></p>\n<pre><code>for (int i = 0; i &lt; array.size(); i++){\n    //Do something with array.get(i)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666967921,"creation_date":1666907664,"answer_id":74228704,"question_id":74199612,"body_markdown":"How about like this. \r\n```\r\nArrayList&lt;Double&gt; list= new ArrayList&lt;&gt;(List.of(10.3, 4.3, 2.9, 14.6,3.0));\r\ndouble max = ArrayMax(list);\r\nSystem.out.println(max);\r\n\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n   if(array.isEmpty()) {\r\n       return 1;  // or whatever is required.\r\n   }\r\n   return Collections.max(array);\r\n}\r\n```\r\nprints\r\n```\r\n14.6\r\n```\r\nFor more complex objects, you could specify a comparator to get the maximum value based on one or more attributes of that object.  For example:\r\n```\r\nrecord Person(String name, int age) {} // immutable class - Java 14+\r\n\r\nList&lt;Person&gt; people = List.of(new Person(&quot;Bob&quot;, 18), new Person(&quot;Mary&quot;, 22), \r\n             new Person(&quot;Jim&quot;, 28),new Person(&quot;Eve&quot;, 21));\r\nPerson oldest = Collections.max(people, Comparator.comparing(Person::age));\r\nSystem.out.println(oldest);\r\n```\r\nprints\r\n```\r\nPerson[name=Jim, age=28]\r\n","title":"how to find the largest number in an arraylist of a double","body":"<p>How about like this.</p>\n<pre><code>ArrayList&lt;Double&gt; list= new ArrayList&lt;&gt;(List.of(10.3, 4.3, 2.9, 14.6,3.0));\ndouble max = ArrayMax(list);\nSystem.out.println(max);\n\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\n   if(array.isEmpty()) {\n       return 1;  // or whatever is required.\n   }\n   return Collections.max(array);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>14.6\n</code></pre>\n<p>For more complex objects, you could specify a comparator to get the maximum value based on one or more attributes of that object.  For example:</p>\n<pre><code>record Person(String name, int age) {} // immutable class - Java 14+\n\nList&lt;Person&gt; people = List.of(new Person(&quot;Bob&quot;, 18), new Person(&quot;Mary&quot;, 22), \n             new Person(&quot;Jim&quot;, 28),new Person(&quot;Eve&quot;, 21));\nPerson oldest = Collections.max(people, Comparator.comparing(Person::age));\nSystem.out.println(oldest);\n</code></pre>\n<p>prints</p>\n<pre><code>Person[name=Jim, age=28]\n</code></pre>\n"}],"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666967921,"creation_date":1666728232,"question_id":74199612,"body_markdown":"\r\n\r\n&gt; Write a public static method called &quot;ArrayMax&quot; that returns the\r\n&gt; largest number in an ArrayList of Double. (1 mark)\r\n&gt; \r\n&gt; If the input ArrayList is empty then the method should return\r\n&gt; `Double.MIN_VALUE. (1 mark)`\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Use the following function prototype when writing the method:\r\n```\r\n\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n\r\n\r\n\r\n}\r\n```\r\nThis is what I have done so far but its wrong. I tried making an array list, but that wasn&#39;t correct either.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n\r\n      if (array.isEmpty()) {\r\n    \r\n         return Double.MIN_VALUE;\r\n    \r\n      }\r\n\r\n\r\n         }\r\n```\r\n\r\nHow can I the largest number in an arraylist of a double?","title":"how to find the largest number in an arraylist of a double","body":"<blockquote>\n<p>Write a public static method called &quot;ArrayMax&quot; that returns the\nlargest number in an ArrayList of Double. (1 mark)</p>\n<p>If the input ArrayList is empty then the method should return\n<code>Double.MIN_VALUE. (1 mark)</code></p>\n<p>Use the following function prototype when writing the method:</p>\n</blockquote>\n<pre><code>\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\n\n\n\n}\n</code></pre>\n<p>This is what I have done so far but its wrong. I tried making an array list, but that wasn't correct either.</p>\n<pre><code>public static double ArrayMax(ArrayList&lt;Double&gt; array) {\n\n      if (array.isEmpty()) {\n    \n         return Double.MIN_VALUE;\n    \n      }\n\n\n         }\n</code></pre>\n<p>How can I the largest number in an arraylist of a double?</p>\n"},{"tags":["java","maven","playframework","cors","hocon"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1653940287,"post_id":72434884,"comment_id":127969026,"body_markdown":"You should add the client-side code responsible for sending the problematic request to your server. Perhaps it contain some header that your server disallows.","body":"You should add the client-side code responsible for sending the problematic request to your server. Perhaps it contain some header that your server disallows."}],"answers":[{"tags":[],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666967613,"creation_date":1666967613,"answer_id":74236897,"question_id":72434884,"body_markdown":"So, after posting this questions I have figured out the question.\r\n\r\nThe issue were those server values:\r\n\r\n    server1.host=&quot;http://localhost:9000/&quot;\r\n    server2.host=&quot;http://localhost:2000/&quot;\r\n    server3.host=&quot;http://localhost:11000/&quot; especially the slash (/) at the end.\r\n\r\nFor the browser was origin &quot;http://localhost:9000&quot; without slash and that is why the difference.\r\n\r\n","title":"Cors issue with allowedOrigins in play framework 2.8.15 using hocon variables","body":"<p>So, after posting this questions I have figured out the question.</p>\n<p>The issue were those server values:</p>\n<pre><code>server1.host=&quot;http://localhost:9000/&quot;\nserver2.host=&quot;http://localhost:2000/&quot;\nserver3.host=&quot;http://localhost:11000/&quot; especially the slash (/) at the end.\n</code></pre>\n<p>For the browser was origin &quot;http://localhost:9000&quot; without slash and that is why the difference.</p>\n"}],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666967613,"creation_date":1653916219,"question_id":72434884,"body_markdown":"There is a java application, which use java, scala, playframework and maven.\r\n\r\n    jdk 11.0.14\r\n    play2 version 2.8.15\r\n    scala.version 2.12.15\r\n    play2.plugin.version 1.0.0-rc6-SNAPSHOT\r\n    sbt-compiler.plugin.version   1.0.0\r\n\r\n\r\n## application.conf\r\n\r\n    play.application.loader = &quot;loader.BasicApplicationLoader&quot;\r\n    \r\n    play.modules.disabled += &quot;play.core.ObjectMapperModule&quot;\r\n    play.modules.enabled += &quot;modules.WebObjectMapperModule&quot;\r\n    \r\n    play.modules.enabled += &quot;modules.StartUpModule&quot;\r\n    play.modules.enabled += &quot;modules.ClusterMonitoringModule&quot;\r\n    play.modules.enabled += &quot;com.kenshoo.play.metrics.PlayModule&quot;\r\n    \r\n    play.filters.enabled = [\r\n        &quot;play.filters.gzip.GzipFilter&quot;,\r\n        &quot;com.kenshoo.play.metrics.MetricsFilter&quot;,\r\n        &quot;http.filters.ClusterStatusFilter&quot;,\r\n        &quot;play.filters.cors.CORSFilter&quot;\r\n    ]\r\n    \r\n    play.http.actionCreator = &quot;http.BasicActionCreator&quot;\r\n    play.http.requestHandler = &quot;http.WebHttpRequestHandler&quot;\r\n    play.http.errorHandler = &quot;http.BasicErrorHandler&quot;\r\n    \r\n    server1.host=&quot;http://localhost:9000/&quot;\r\n    server2.host=&quot;http://localhost:2000/&quot;\r\n    server3.host=&quot;http://localhost:11000/&quot;\r\n    \r\n    play.filters.cors {\r\n         pathPrefixes = [&quot;/&quot;]\r\n         allowedOrigins = [${?server1.host}, ${?server2.host}, ${?server3.host}]\r\n         allowedHttpMethods = [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;]\r\n         allowedHttpHeaders = [&quot;Accept&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;]\r\n      \t exposedHeaders = [&quot;X-TOTAL-PAGE-COUNT&quot;, &quot;X-TOTAL-ELEMENT-COUNT&quot;]\r\n         preflightMaxAge = 1 hour\r\n    }\r\n\r\n    response.delay.milliseconds=500\r\n\r\nAccording to the [Play documentation](https://www.playframework.com/documentation/2.8.15/CorsFilter) this should work, but it does not, i get the cors error:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;https://localhost:8080&#39; from origin &#39;https://localhost:9000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n\r\nWhat I have tried so far? \r\n\r\nI have checked on the server, where I have deployed if the variables used are correctly interpreted, and yes, they are. I need to use variables like this, because the values of this urls are overriden on the server at deploy time according to the environment needed.\r\n\r\nTried to add in the exposedHeader the Access-Control-Allow-Origin, tried to add it in the allowedHttpHeaders and no luck..\r\n\r\n","title":"Cors issue with allowedOrigins in play framework 2.8.15 using hocon variables","body":"<p>There is a java application, which use java, scala, playframework and maven.</p>\n<pre><code>jdk 11.0.14\nplay2 version 2.8.15\nscala.version 2.12.15\nplay2.plugin.version 1.0.0-rc6-SNAPSHOT\nsbt-compiler.plugin.version   1.0.0\n</code></pre>\n<h2>application.conf</h2>\n<pre><code>play.application.loader = &quot;loader.BasicApplicationLoader&quot;\n\nplay.modules.disabled += &quot;play.core.ObjectMapperModule&quot;\nplay.modules.enabled += &quot;modules.WebObjectMapperModule&quot;\n\nplay.modules.enabled += &quot;modules.StartUpModule&quot;\nplay.modules.enabled += &quot;modules.ClusterMonitoringModule&quot;\nplay.modules.enabled += &quot;com.kenshoo.play.metrics.PlayModule&quot;\n\nplay.filters.enabled = [\n    &quot;play.filters.gzip.GzipFilter&quot;,\n    &quot;com.kenshoo.play.metrics.MetricsFilter&quot;,\n    &quot;http.filters.ClusterStatusFilter&quot;,\n    &quot;play.filters.cors.CORSFilter&quot;\n]\n\nplay.http.actionCreator = &quot;http.BasicActionCreator&quot;\nplay.http.requestHandler = &quot;http.WebHttpRequestHandler&quot;\nplay.http.errorHandler = &quot;http.BasicErrorHandler&quot;\n\nserver1.host=&quot;http://localhost:9000/&quot;\nserver2.host=&quot;http://localhost:2000/&quot;\nserver3.host=&quot;http://localhost:11000/&quot;\n\nplay.filters.cors {\n     pathPrefixes = [&quot;/&quot;]\n     allowedOrigins = [${?server1.host}, ${?server2.host}, ${?server3.host}]\n     allowedHttpMethods = [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;]\n     allowedHttpHeaders = [&quot;Accept&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;]\n     exposedHeaders = [&quot;X-TOTAL-PAGE-COUNT&quot;, &quot;X-TOTAL-ELEMENT-COUNT&quot;]\n     preflightMaxAge = 1 hour\n}\n\nresponse.delay.milliseconds=500\n</code></pre>\n<p>According to the <a href=\"https://www.playframework.com/documentation/2.8.15/CorsFilter\" rel=\"nofollow noreferrer\">Play documentation</a> this should work, but it does not, i get the cors error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'https://localhost:8080' from origin 'https://localhost:9000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>What I have tried so far?</p>\n<p>I have checked on the server, where I have deployed if the variables used are correctly interpreted, and yes, they are. I need to use variables like this, because the values of this urls are overriden on the server at deploy time according to the environment needed.</p>\n<p>Tried to add in the exposedHeader the Access-Control-Allow-Origin, tried to add it in the allowedHttpHeaders and no luck..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1666854779,"post_id":74218057,"comment_id":131034894,"body_markdown":"try  ```sb.deleteCharAt(0);```","body":"try  <code>sb.deleteCharAt(0);</code>"},{"owner":{"account_id":26746159,"reputation":1,"user_id":20346192,"display_name":"Sachin"},"score":0,"creation_date":1666855537,"post_id":74218057,"comment_id":131035126,"body_markdown":"there can be multiple leading zeros","body":"there can be multiple leading zeros"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1666855923,"post_id":74218057,"comment_id":131035273,"body_markdown":"It seems you&#39;re asking how to remove _trailing_ zeros, despite the question&#39;s title. In your &quot;try 1&quot;, you start at the end and _add 1 to k_ - why? Where do you think k will go after adding 1 to it when it&#39;s already at the end? Think about your algorithm.","body":"It seems you&#39;re asking how to remove <i>trailing</i> zeros, despite the question&#39;s title. In your &quot;try 1&quot;, you start at the end and <i>add 1 to k</i> - why? Where do you think k will go after adding 1 to it when it&#39;s already at the end? Think about your algorithm."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1666864682,"post_id":74218057,"comment_id":131038381,"body_markdown":"There are formatting issues that make it hard to help you. Please see this [help article](https://stackoverflow.com/help/formatting).","body":"There are formatting issues that make it hard to help you. Please see this <a href=\"https://stackoverflow.com/help/formatting\">help article</a>."}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666967566,"creation_date":1666855868,"answer_id":74218314,"question_id":74218057,"body_markdown":"Something like this\r\n```\r\nwhile(sb.charAt(0) == &#39;0&#39;) {\r\n    sb.deleteCharAt(0);\r\n}\r\n```","title":"Remove Trailingzeros from StringBuilder object","body":"<p>Something like this</p>\n<pre><code>while(sb.charAt(0) == '0') {\n    sb.deleteCharAt(0);\n}\n</code></pre>\n"}],"owner":{"account_id":26746159,"reputation":1,"user_id":20346192,"display_name":"Sachin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666967566,"creation_date":1666854544,"question_id":74218057,"body_markdown":"I   have one stringBuilder object which contains  binary number string.  I  want to remove trailing zeros from this.  because in ans i am reversing this sb object so output will be without leading zeros.\r\n\r\n```\r\n//sb = 01111110  --  reversed   output i want after sb reverse - 1111110.\r\n\r\n//try1\r\nint k = sb.length() - 1;\r\nwhile (k &gt;= 0 &amp;&amp; sb.charAt(k) == &#39;0&#39;) {\r\n    k++;\r\n}\r\n\r\n// try2\r\nif (carry != 0) sb.append(carry);\r\n\r\nSystem.out.println(sb);\r\n\r\nint ind = 0;\r\nfor (int k = sb.length() - 1; k &gt;= 0; k--) {\r\n    char p = sb.charAt(i);\r\n    if (p != &#39;0&#39;) {\r\n        ind = k;\r\n        break;\r\n    }\r\n}\r\nSystem.out.println(&quot;TTT&quot; + sb.toString().substring(0, ind));\r\n\r\nSystem.out.println(&quot;A&quot; + sb);\r\n\r\nreturn sb.reverse().toString();\r\n\r\n```\r\n","title":"Remove Trailingzeros from StringBuilder object","body":"<p>I   have one stringBuilder object which contains  binary number string.  I  want to remove trailing zeros from this.  because in ans i am reversing this sb object so output will be without leading zeros.</p>\n<pre><code>//sb = 01111110  --  reversed   output i want after sb reverse - 1111110.\n\n//try1\nint k = sb.length() - 1;\nwhile (k &gt;= 0 &amp;&amp; sb.charAt(k) == '0') {\n    k++;\n}\n\n// try2\nif (carry != 0) sb.append(carry);\n\nSystem.out.println(sb);\n\nint ind = 0;\nfor (int k = sb.length() - 1; k &gt;= 0; k--) {\n    char p = sb.charAt(i);\n    if (p != '0') {\n        ind = k;\n        break;\n    }\n}\nSystem.out.println(&quot;TTT&quot; + sb.toString().substring(0, ind));\n\nSystem.out.println(&quot;A&quot; + sb);\n\nreturn sb.reverse().toString();\n\n</code></pre>\n"},{"tags":["java","swing","boolean","jtable","nimbus"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666927205,"post_id":74228168,"comment_id":131055569,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666967411,"creation_date":1666967411,"answer_id":74236853,"question_id":74228168,"body_markdown":"You wrote in your question (regarding the code in your question):\r\n&gt; the following code tries to paint the background for the whole table\r\n\r\nThis is what I set out to do. However, you also wrote:\r\n&gt; my target is to set the background for one line at a time\r\n\r\nThen I tried a different approach &amp;ndash; which still paints the entire background red but I&#39;m hoping you will be able to adapt the below code to suit your requirements.\r\n\r\n#### First Approach\r\nAs detailed here:  \r\nhttps://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html  \r\nand here:  \r\nhttps://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html\r\n\r\nSimply setting the appropriate properties, in class `UIManager`, achieves [what I believe to be] your desired result, i.e. making the entire `JTable` background red. This works for all columns apart from the first column of the `JTable` that displays `Boolean` values. For that, I created a custom [table] cell renderer, based on the one used by *Nimbus* look-and-feel, namely:\r\n```none\r\njavax.swing.plaf.synth.SynthTableUI.SynthBooleanTableCellRenderer\r\n```\r\nHere is the code for that renderer:\r\n```java\r\nclass BoolTableCellRenderer extends JCheckBox implements TableCellRenderer {\r\n    private boolean isRowSelected;\r\n\r\n    public BoolTableCellRenderer() {\r\n        setHorizontalAlignment(JLabel.CENTER);\r\n        setName(&quot;Table.cellRenderer&quot;);\r\n    }\r\n\r\n    public Component getTableCellRendererComponent(JTable   table,\r\n                                                   Object   value,\r\n                                                   boolean  isSelected,\r\n                                                   boolean  hasFocus,\r\n                                                   int      row,\r\n                                                   int      column) {\r\n        isRowSelected = isSelected;\r\n        if (isSelected) {\r\n            setForeground(unwrap(table.getSelectionForeground()));\r\n            setBackground(unwrap(Color.red));\r\n        }\r\n        else {\r\n            setForeground(unwrap(table.getForeground()));\r\n            setBackground(unwrap(Color.red));\r\n        }\r\n        setSelected((value != null &amp;&amp; ((Boolean)value).booleanValue()));\r\n        return this;\r\n    }\r\n\r\n    private Color unwrap(Color c) {\r\n        if (c instanceof UIResource) {\r\n            return new Color(c.getRGB());\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public boolean isOpaque() {\r\n        return true;\r\n    }\r\n}\r\n```\r\nI also wrote a custom `TableModel`.\r\n```java\r\nclass PrimitivesTableModel extends DefaultTableModel {\r\n\r\n    public PrimitivesTableModel(Object[][] data, Object[] columnNames) {\r\n        super(data, columnNames);\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; columnClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                columnClass = Boolean.class;\r\n                break;\r\n            case 1:\r\n                columnClass = Integer.class;\r\n                break;\r\n            case 2:\r\n                columnClass = Float.class;\r\n                break;\r\n            case 3:\r\n                columnClass = String.class;\r\n                break;\r\n            default:\r\n                columnClass = Object.class;\r\n        }\r\n        return columnClass;\r\n    }\r\n}\r\n```\r\nHere is the code for this first approach:\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class NewsFram {\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;NewsFram&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\r\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\r\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\r\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\r\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\r\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\r\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\r\n        JTable table = new JTable(model);\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UIManager.put(&quot;Table:\\&quot;Table.cellRenderer\\&quot;.background&quot;, Color.red);\r\n        UIManager.put(&quot;Table.alternateRowColor&quot;, Color.red);\r\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                try {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n                catch (ClassNotFoundException |\r\n                       IllegalAccessException |\r\n                       InstantiationException |\r\n                       UnsupportedLookAndFeelException x) {\r\n                    x.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        EventQueue.invokeLater(() -&gt; new NewsFram().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n#### Second Approach\r\nThis approach does not modify `UIManager` defaults but instead overrides method `prepareRenderer` (in class `JTable`). Note that this approach also uses the same `TableModel` and custom renderer that the first approach used.\r\n\r\nI overrode method `prepareRenderer` rather than creating another custom renderer that would be based on the general `JTable` cell renderer used by *Nimbus* look-and-feel since that renderer is much more complex than `SynthBooleanTableCellRenderer`.\r\n\r\nHere is the code for the second approach:\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\nimport javax.swing.plaf.UIResource;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableCellRenderer;\r\n\r\npublic class NewFrame {\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;NewFrame&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\r\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\r\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\r\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\r\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\r\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\r\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\r\n\r\n        @SuppressWarnings(&quot;serial&quot;)\r\n        JTable table = new JTable(model) {\r\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n                Object value = getValueAt(row, column);\r\n                boolean isSelected = false;\r\n                boolean hasFocus = false;\r\n\r\n                // Only indicate the selection and focused cell if not printing\r\n                if (!isPaintingForPrint()) {\r\n                    isSelected = isCellSelected(row, column);\r\n                    boolean rowIsLead = (selectionModel.getLeadSelectionIndex() == row);\r\n                    boolean colIsLead = (columnModel.getSelectionModel().getLeadSelectionIndex() == column);\r\n                    hasFocus = (rowIsLead &amp;&amp; colIsLead) &amp;&amp; isFocusOwner();\r\n                }\r\n                Component cmpt = renderer.getTableCellRendererComponent(this,\r\n                                                                        value,\r\n                                                                        isSelected,\r\n                                                                        hasFocus,\r\n                                                                        row,\r\n                                                                        column);\r\n                if (!(value instanceof Boolean)) {\r\n                    cmpt.setBackground(Color.red);\r\n                }\r\n                return cmpt;\r\n            }\r\n        };\r\n\r\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                try {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n                catch (ClassNotFoundException |\r\n                       IllegalAccessException |\r\n                       InstantiationException |\r\n                       UnsupportedLookAndFeelException x) {\r\n                    x.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        EventQueue.invokeLater(() -&gt; new NewFrame().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n","title":"Nimbus takes precedence over manually defined renderer?","body":"<p>You wrote in your question (regarding the code in your question):</p>\n<blockquote>\n<p>the following code tries to paint the background for the whole table</p>\n</blockquote>\n<p>This is what I set out to do. However, you also wrote:</p>\n<blockquote>\n<p>my target is to set the background for one line at a time</p>\n</blockquote>\n<p>Then I tried a different approach – which still paints the entire background red but I'm hoping you will be able to adapt the below code to suit your requirements.</p>\n<h4>First Approach</h4>\n<p>As detailed here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html</a><br />\nand here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html</a></p>\n<p>Simply setting the appropriate properties, in class <code>UIManager</code>, achieves [what I believe to be] your desired result, i.e. making the entire <code>JTable</code> background red. This works for all columns apart from the first column of the <code>JTable</code> that displays <code>Boolean</code> values. For that, I created a custom [table] cell renderer, based on the one used by <em>Nimbus</em> look-and-feel, namely:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.swing.plaf.synth.SynthTableUI.SynthBooleanTableCellRenderer\n</code></pre>\n<p>Here is the code for that renderer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BoolTableCellRenderer extends JCheckBox implements TableCellRenderer {\n    private boolean isRowSelected;\n\n    public BoolTableCellRenderer() {\n        setHorizontalAlignment(JLabel.CENTER);\n        setName(&quot;Table.cellRenderer&quot;);\n    }\n\n    public Component getTableCellRendererComponent(JTable   table,\n                                                   Object   value,\n                                                   boolean  isSelected,\n                                                   boolean  hasFocus,\n                                                   int      row,\n                                                   int      column) {\n        isRowSelected = isSelected;\n        if (isSelected) {\n            setForeground(unwrap(table.getSelectionForeground()));\n            setBackground(unwrap(Color.red));\n        }\n        else {\n            setForeground(unwrap(table.getForeground()));\n            setBackground(unwrap(Color.red));\n        }\n        setSelected((value != null &amp;&amp; ((Boolean)value).booleanValue()));\n        return this;\n    }\n\n    private Color unwrap(Color c) {\n        if (c instanceof UIResource) {\n            return new Color(c.getRGB());\n        }\n        return c;\n    }\n\n    public boolean isOpaque() {\n        return true;\n    }\n}\n</code></pre>\n<p>I also wrote a custom <code>TableModel</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PrimitivesTableModel extends DefaultTableModel {\n\n    public PrimitivesTableModel(Object[][] data, Object[] columnNames) {\n        super(data, columnNames);\n    }\n\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; columnClass;\n        switch (columnIndex) {\n            case 0:\n                columnClass = Boolean.class;\n                break;\n            case 1:\n                columnClass = Integer.class;\n                break;\n            case 2:\n                columnClass = Float.class;\n                break;\n            case 3:\n                columnClass = String.class;\n                break;\n            default:\n                columnClass = Object.class;\n        }\n        return columnClass;\n    }\n}\n</code></pre>\n<p>Here is the code for this first approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class NewsFram {\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;NewsFram&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTable() {\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\n        JTable table = new JTable(model);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    public static void main(String[] args) {\n        UIManager.put(&quot;Table:\\&quot;Table.cellRenderer\\&quot;.background&quot;, Color.red);\n        UIManager.put(&quot;Table.alternateRowColor&quot;, Color.red);\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                try {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n                catch (ClassNotFoundException |\n                       IllegalAccessException |\n                       InstantiationException |\n                       UnsupportedLookAndFeelException x) {\n                    x.printStackTrace();\n                }\n            }\n        }\n        EventQueue.invokeLater(() -&gt; new NewsFram().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<h4>Second Approach</h4>\n<p>This approach does not modify <code>UIManager</code> defaults but instead overrides method <code>prepareRenderer</code> (in class <code>JTable</code>). Note that this approach also uses the same <code>TableModel</code> and custom renderer that the first approach used.</p>\n<p>I overrode method <code>prepareRenderer</code> rather than creating another custom renderer that would be based on the general <code>JTable</code> cell renderer used by <em>Nimbus</em> look-and-feel since that renderer is much more complex than <code>SynthBooleanTableCellRenderer</code>.</p>\n<p>Here is the code for the second approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\n\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.plaf.UIResource;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellRenderer;\n\npublic class NewFrame {\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;NewFrame&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTable() {\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\n\n        @SuppressWarnings(&quot;serial&quot;)\n        JTable table = new JTable(model) {\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n                Object value = getValueAt(row, column);\n                boolean isSelected = false;\n                boolean hasFocus = false;\n\n                // Only indicate the selection and focused cell if not printing\n                if (!isPaintingForPrint()) {\n                    isSelected = isCellSelected(row, column);\n                    boolean rowIsLead = (selectionModel.getLeadSelectionIndex() == row);\n                    boolean colIsLead = (columnModel.getSelectionModel().getLeadSelectionIndex() == column);\n                    hasFocus = (rowIsLead &amp;&amp; colIsLead) &amp;&amp; isFocusOwner();\n                }\n                Component cmpt = renderer.getTableCellRendererComponent(this,\n                                                                        value,\n                                                                        isSelected,\n                                                                        hasFocus,\n                                                                        row,\n                                                                        column);\n                if (!(value instanceof Boolean)) {\n                    cmpt.setBackground(Color.red);\n                }\n                return cmpt;\n            }\n        };\n\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    public static void main(String[] args) {\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                try {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n                catch (ClassNotFoundException |\n                       IllegalAccessException |\n                       InstantiationException |\n                       UnsupportedLookAndFeelException x) {\n                    x.printStackTrace();\n                }\n            }\n        }\n        EventQueue.invokeLater(() -&gt; new NewFrame().buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12802207,"reputation":123,"user_id":11140379,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74236853,"answer_count":1,"score":0,"last_activity_date":1666967411,"creation_date":1666903865,"question_id":74228168,"body_markdown":"Making a GUI in Swing (NetBeans 15, Sun JDK 19.0.1), i&#39;m trying to set custom background color for JTable rows and encountered issues with boolean cells, and i can&#39;t seem to be able to make the background uniform across all cells.\r\nPlease note that the following code tries to paint the background for the whole table, but my target is to set the background for one line at a time; this code serves the only purpose of highlighting the weird interaction between Nimbus alternate row coloring and the custom renderers i have personally encountered.\r\n\r\nThe issue seems vastly documented already, here&#39;s what i tried:\r\n\r\nFirst attempt [using a custom renderer](https://stackoverflow.com/questions/10017517/java-swing-jtable-set-color-for-selected-row-but-not-cell), like so:\r\n\r\n```\r\n   class MyTableRenderer implements TableCellRenderer {\r\n        private final TableCellRenderer renderer;\r\n\r\n        public MyTableRenderer(TableCellRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n        \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\r\n            //c.setOpaque(true);\r\n            c.setBackground(Color.red);\r\n            return c;\r\n        }\r\n    }\r\n```\r\n\r\nand got this result:&lt;br&gt;\r\n[![booleans have white background](https://i.stack.imgur.com/KBC82.png)](https://i.stack.imgur.com/KBC82.png)&lt;br&gt;&lt;br&gt;\r\nUncommenting the `c.setOpaque(true);` line yields the following:\r\n[![booleans have alternating background](https://i.stack.imgur.com/q6Jfq.png)](https://i.stack.imgur.com/q6Jfq.png)&lt;br&gt;&lt;br&gt;\r\n\r\nSecond attempt, by means of the method `PrepareRenderer()` as documented [here](https://tips4java.wordpress.com/2010/01/24/table-row-rendering/), and i made it this way:\r\n```\r\ntbl_Correction = new JTable() {\r\n    @Override\r\n    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n        Component c = super.prepareRenderer(renderer, row, column);\r\n        //((JComponent)c).setOpaque(true);\r\n        c.setBackground(Color.red);\r\n        return c;\r\n    }\r\n};\r\n```\r\ngot the exact same behavior as before, down to the detail of uncommenting the `setOpaque` line.\r\n\r\nFurther reading revealed that the alternate table row coloring is handled by the Nimbus Look&amp;Feel, which NetBeans IDE configured automagically upon creation of the project, so i tried adding this line after the Nimbus configuration:\r\n`UIManager.getLookAndFeelDefaults().put(&quot;Table.alternateRowColor&quot;, Color.GREEN);`\r\nwhich led to this &lt;br&gt;[![booleans have alternating green background](https://i.stack.imgur.com/gcXqC.png)](https://i.stack.imgur.com/gcXqC.png)&lt;br&gt;\r\nand to the conclusion that Nimbus might be interfering with the intended cell rendering.\r\nIndeed, removing Nimbus altogether gives me the result i want, but sends the rest of the UI back to the middle ages...\r\n\r\nOddly enough, if i select a cell, the whole row gets the correct background, including the boolean cells:&lt;br&gt;\r\n[![enter image description here](https://i.stack.imgur.com/2QwfJ.png)](https://i.stack.imgur.com/2QwfJ.png)\r\n\r\nThe last relevant piece of info i found is this, in the javadoc for the setBackground() method: `It is up to the look and feel to honor this property, some may choose to ignore it.` which made me dubious this can even work withoud swapping Nimbus for something else.\r\n\r\nMy conclusion: no matter where i put the rendering instructions, i can only manage to change the background of the booleans that are **not** on one of the alternating rows, unless the row is selected.\r\n\r\nThe question: did i miss some major obvious configuration step? Or perhaps is there a way to disable Nimbus&#39;s Table alternating row colors? Or again, is this some sort of known issue?\r\n\r\n(more SO answers:\r\n[this](https://stackoverflow.com/questions/16054330/jtable-problems-with-boolean-class-cell-renderer-and-nimbus-look-and-feel) is not relevant;\r\n[this ](https://stackoverflow.com/questions/6601994/jtable-boolean-cell-type-background) does not work;)\r\n\r\nEdit: added SSCCE, though being GUI code made from the IDE is far from short.&lt;br&gt;\r\n```\r\npackage tabletest;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.TableCellRenderer;\r\n\r\npublic class NewJFrame extends javax.swing.JFrame {\r\n    public NewJFrame() {\r\n        initComponents();\r\n        \r\n        // attempt #1        \r\n        /*\r\n        jTable1.setDefaultRenderer(Boolean.class, new MyTableRenderer(jTable1.getDefaultRenderer(Boolean.class)));;\r\n        jTable1.setDefaultRenderer(String.class, new MyTableRenderer(jTable1.getDefaultRenderer(String.class)));;\r\n        */\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTable1 = new javax.swing.JTable() {\r\n            //attempt #2\r\n            @Override\r\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n                Component c = super.prepareRenderer(renderer, row, column);\r\n                //((JComponent)c).setOpaque(true);\r\n                c.setBackground(Color.red);\r\n                return c;\r\n            }\r\n        }\r\n        ;\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                { new Boolean(true),  new Integer(1),  new Float(0.1), &quot;asd&quot;},\r\n                { new Boolean(true),  new Integer(2),  new Float(0.2), &quot;lol&quot;},\r\n                {null,  new Integer(3),  new Float(0.3), &quot;xd&quot;},\r\n                {null,  new Integer(4),  new Float(0.4), &quot;ftw&quot;},\r\n                {null,  new Integer(5),  new Float(0.5), &quot;wtf&quot;}\r\n            },\r\n            new String [] {\r\n                &quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;\r\n            }\r\n        ) {\r\n            Class[] types = new Class [] {\r\n                java.lang.Boolean.class, java.lang.Integer.class, java.lang.Float.class, java.lang.String.class\r\n            };\r\n\r\n            public Class getColumnClass(int columnIndex) {\r\n                return types [columnIndex];\r\n            }\r\n        });\r\n        jScrollPane1.setViewportView(jTable1);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(59, 59, 59)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(174, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(25, 25, 25)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(100, Short.MAX_VALUE))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new NewJFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    \r\n    //attempt #1\r\n    class MyTableRenderer implements TableCellRenderer {\r\n        private final TableCellRenderer renderer;\r\n\r\n        public MyTableRenderer(TableCellRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n        \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\r\n            //c.setOpaque(true);\r\n            c.setBackground(Color.red);\r\n            return c;\r\n        }\r\n    }\r\n    \r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTable jTable1;\r\n    // End of variables declaration                   \r\n}\r\n```","title":"Nimbus takes precedence over manually defined renderer?","body":"<p>Making a GUI in Swing (NetBeans 15, Sun JDK 19.0.1), i'm trying to set custom background color for JTable rows and encountered issues with boolean cells, and i can't seem to be able to make the background uniform across all cells.\nPlease note that the following code tries to paint the background for the whole table, but my target is to set the background for one line at a time; this code serves the only purpose of highlighting the weird interaction between Nimbus alternate row coloring and the custom renderers i have personally encountered.</p>\n<p>The issue seems vastly documented already, here's what i tried:</p>\n<p>First attempt <a href=\"https://stackoverflow.com/questions/10017517/java-swing-jtable-set-color-for-selected-row-but-not-cell\">using a custom renderer</a>, like so:</p>\n<pre><code>   class MyTableRenderer implements TableCellRenderer {\n        private final TableCellRenderer renderer;\n\n        public MyTableRenderer(TableCellRenderer renderer) {\n            this.renderer = renderer;\n        }\n        \n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\n            //c.setOpaque(true);\n            c.setBackground(Color.red);\n            return c;\n        }\n    }\n</code></pre>\n<p>and got this result:<br>\n<a href=\"https://i.stack.imgur.com/KBC82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KBC82.png\" alt=\"booleans have white background\" /></a><br><br>\nUncommenting the <code>c.setOpaque(true);</code> line yields the following:\n<a href=\"https://i.stack.imgur.com/q6Jfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6Jfq.png\" alt=\"booleans have alternating background\" /></a><br><br></p>\n<p>Second attempt, by means of the method <code>PrepareRenderer()</code> as documented <a href=\"https://tips4java.wordpress.com/2010/01/24/table-row-rendering/\" rel=\"nofollow noreferrer\">here</a>, and i made it this way:</p>\n<pre><code>tbl_Correction = new JTable() {\n    @Override\n    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n        Component c = super.prepareRenderer(renderer, row, column);\n        //((JComponent)c).setOpaque(true);\n        c.setBackground(Color.red);\n        return c;\n    }\n};\n</code></pre>\n<p>got the exact same behavior as before, down to the detail of uncommenting the <code>setOpaque</code> line.</p>\n<p>Further reading revealed that the alternate table row coloring is handled by the Nimbus Look&amp;Feel, which NetBeans IDE configured automagically upon creation of the project, so i tried adding this line after the Nimbus configuration:\n<code>UIManager.getLookAndFeelDefaults().put(&quot;Table.alternateRowColor&quot;, Color.GREEN);</code>\nwhich led to this <br><a href=\"https://i.stack.imgur.com/gcXqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcXqC.png\" alt=\"booleans have alternating green background\" /></a><br>\nand to the conclusion that Nimbus might be interfering with the intended cell rendering.\nIndeed, removing Nimbus altogether gives me the result i want, but sends the rest of the UI back to the middle ages...</p>\n<p>Oddly enough, if i select a cell, the whole row gets the correct background, including the boolean cells:<br>\n<a href=\"https://i.stack.imgur.com/2QwfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2QwfJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The last relevant piece of info i found is this, in the javadoc for the setBackground() method: <code>It is up to the look and feel to honor this property, some may choose to ignore it.</code> which made me dubious this can even work withoud swapping Nimbus for something else.</p>\n<p>My conclusion: no matter where i put the rendering instructions, i can only manage to change the background of the booleans that are <strong>not</strong> on one of the alternating rows, unless the row is selected.</p>\n<p>The question: did i miss some major obvious configuration step? Or perhaps is there a way to disable Nimbus's Table alternating row colors? Or again, is this some sort of known issue?</p>\n<p>(more SO answers:\n<a href=\"https://stackoverflow.com/questions/16054330/jtable-problems-with-boolean-class-cell-renderer-and-nimbus-look-and-feel\">this</a> is not relevant;\n<a href=\"https://stackoverflow.com/questions/6601994/jtable-boolean-cell-type-background\">this </a> does not work;)</p>\n<p>Edit: added SSCCE, though being GUI code made from the IDE is far from short.<br></p>\n<pre><code>package tabletest;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport javax.swing.JTable;\nimport javax.swing.table.TableCellRenderer;\n\npublic class NewJFrame extends javax.swing.JFrame {\n    public NewJFrame() {\n        initComponents();\n        \n        // attempt #1        \n        /*\n        jTable1.setDefaultRenderer(Boolean.class, new MyTableRenderer(jTable1.getDefaultRenderer(Boolean.class)));;\n        jTable1.setDefaultRenderer(String.class, new MyTableRenderer(jTable1.getDefaultRenderer(String.class)));;\n        */\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTable1 = new javax.swing.JTable() {\n            //attempt #2\n            @Override\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n                Component c = super.prepareRenderer(renderer, row, column);\n                //((JComponent)c).setOpaque(true);\n                c.setBackground(Color.red);\n                return c;\n            }\n        }\n        ;\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                { new Boolean(true),  new Integer(1),  new Float(0.1), &quot;asd&quot;},\n                { new Boolean(true),  new Integer(2),  new Float(0.2), &quot;lol&quot;},\n                {null,  new Integer(3),  new Float(0.3), &quot;xd&quot;},\n                {null,  new Integer(4),  new Float(0.4), &quot;ftw&quot;},\n                {null,  new Integer(5),  new Float(0.5), &quot;wtf&quot;}\n            },\n            new String [] {\n                &quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;\n            }\n        ) {\n            Class[] types = new Class [] {\n                java.lang.Boolean.class, java.lang.Integer.class, java.lang.Float.class, java.lang.String.class\n            };\n\n            public Class getColumnClass(int columnIndex) {\n                return types [columnIndex];\n            }\n        });\n        jScrollPane1.setViewportView(jTable1);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(59, 59, 59)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(174, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(25, 25, 25)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(100, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n    \n    //attempt #1\n    class MyTableRenderer implements TableCellRenderer {\n        private final TableCellRenderer renderer;\n\n        public MyTableRenderer(TableCellRenderer renderer) {\n            this.renderer = renderer;\n        }\n        \n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\n            //c.setOpaque(true);\n            c.setBackground(Color.red);\n            return c;\n        }\n    }\n    \n    // Variables declaration - do not modify                     \n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTable jTable1;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","android-layout","android-constraintlayout"],"comments":[{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1549336081,"post_id":54527197,"comment_id":95856419,"body_markdown":"&quot;tools:layout_editor_absoluteX=&quot;0dp&quot;&quot; This line hurts &quot;in Android Studio&quot;. For the source of gap, please see, maybe, the container for this XML you pasted in question.","body":"&quot;tools:layout_editor_absoluteX=&quot;0dp&quot;&quot; This line hurts &quot;in Android Studio&quot;. For the source of gap, please see, maybe, the container for this XML you pasted in question."},{"owner":{"account_id":5603895,"reputation":1726,"user_id":4439179,"accept_rate":75,"display_name":"Priyanka Alachiya"},"score":1,"creation_date":1549336501,"post_id":54527197,"comment_id":95856495,"body_markdown":"Try adding &#39;app:layout_constraintTop_toTopOf=&quot;parent&quot;&#39; to ImageView. And also try removing &#39;android:gravity=&quot;center&quot;&#39; from parent constraint layout.","body":"Try adding &#39;app:layout_constraintTop_toTopOf=&quot;parent&quot;&#39; to ImageView. And also try removing &#39;android:gravity=&quot;center&quot;&#39; from parent constraint layout."},{"owner":{"account_id":13297345,"reputation":263,"user_id":9599874,"display_name":"vimukthi"},"score":0,"creation_date":1549337007,"post_id":54527197,"comment_id":95856557,"body_markdown":"I think you mention about action bar in your question","body":"I think you mention about action bar in your question"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1549337061,"post_id":54527197,"comment_id":95856568,"body_markdown":"Whats the heme of your `Activity`? That gap maybe is `ActionBar`?","body":"Whats the heme of your <code>Activity</code>? That gap maybe is <code>ActionBar</code>?"},{"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"score":0,"creation_date":1549337115,"post_id":54527197,"comment_id":95856577,"body_markdown":"There is no ActionBar there","body":"There is no ActionBar there"},{"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"score":0,"creation_date":1549337141,"post_id":54527197,"comment_id":95856582,"body_markdown":"The gap is literally just empry space, I can see the background color","body":"The gap is literally just empry space, I can see the background color"},{"owner":{"account_id":5680624,"reputation":1330,"user_id":4491971,"display_name":"Mohit Ajwani"},"score":0,"creation_date":1549340085,"post_id":54527197,"comment_id":95857085,"body_markdown":"@MarkDenom I suppose the empty space is due to the default padding of the container layout. You could check the `styles.xml` if it is applied to a specific layout or you can check if the containing `ViewGroup` has some padding or margin.","body":"@MarkDenom I suppose the empty space is due to the default padding of the container layout. You could check the <code>styles.xml</code> if it is applied to a specific layout or you can check if the containing <code>ViewGroup</code> has some padding or margin."},{"owner":{"account_id":5908022,"reputation":3067,"user_id":4649110,"display_name":"Basi"},"score":0,"creation_date":1549348932,"post_id":54527197,"comment_id":95859483,"body_markdown":"please add the theme of your `Activity`","body":"please add the theme of your <code>Activity</code>"}],"answers":[{"tags":[],"owner":{"account_id":9630757,"reputation":1055,"user_id":7148752,"display_name":"Masum Billah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549336055,"creation_date":1549336055,"answer_id":54527241,"question_id":54527197,"body_markdown":"**I am using this. You can try this.**\r\n\r\n  \r\n\r\n      &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:src=&quot;@drawable/logo&quot; /&gt;\r\n       &lt;/ScrollView&gt;","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p><strong>I am using this. You can try this.</strong></p>\n\n<pre><code>  &lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center_horizontal\"\n            android:layout_margin=\"16dp\"\n            android:src=\"@drawable/logo\" /&gt;\n   &lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549340683,"creation_date":1549338944,"answer_id":54527519,"question_id":54527197,"body_markdown":"To set any view on parent top to use this attribute \r\n\r\n**app:layout_constraintTop_toTopOf=&quot;@+id/parent_id&quot;**\r\n\r\nthis is my code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:id=&quot;@+id/main&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:srcCompat=&quot;@drawable/demo_img_4&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/main&quot; /&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\nanother code using linear layout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        app:srcCompat=&quot;@drawable/demo_img_4&quot; /&gt;\r\n     &lt;/LinearLayout&gt;\r\n\r\nnote: try another image \r\n\r\nI hope it work for you","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>To set any view on parent top to use this attribute </p>\n\n<p><strong>app:layout_constraintTop_toTopOf=\"@+id/parent_id\"</strong></p>\n\n<p>this is my code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#fff\"\nandroid:orientation=\"vertical\"\nandroid:id=\"@+id/main\"&gt;\n\n\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:srcCompat=\"@drawable/demo_img_4\"\n    app:layout_constraintTop_toTopOf=\"@+id/main\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>another code using linear layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#fff\"\nandroid:orientation=\"vertical\"&gt;\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    app:srcCompat=\"@drawable/demo_img_4\" /&gt;\n &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>note: try another image </p>\n\n<p>I hope it work for you</p>\n"},{"tags":[],"owner":{"account_id":9042344,"reputation":329,"user_id":6736144,"display_name":"Hemil Kumbhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549345199,"creation_date":1549345199,"answer_id":54528270,"question_id":54527197,"body_markdown":"All you need to do is add following code in your `imageView`\r\n\r\n     app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\r\nand other approach would be to use `LinearLayout` or `RelativeLayout` as your parent Layout","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>All you need to do is add following code in your <code>imageView</code></p>\n\n<pre><code> app:layout_constraintTop_toTopOf=\"parent\"\n</code></pre>\n\n<p>and other approach would be to use <code>LinearLayout</code> or <code>RelativeLayout</code> as your parent Layout</p>\n"},{"tags":[],"owner":{"account_id":26761233,"reputation":1,"user_id":20359141,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666966970,"creation_date":1666966970,"answer_id":74236754,"question_id":54527197,"body_markdown":"I had a problem similar to this one. In my case the gap was caused by an empty top action bar.\r\n\r\nMy issue was that I was using a fragment inside the `main_activity.xml`. All I had to do to fix the problem was to delete the line `android:paddingTop=&quot;?attr/actionBarSize&quot;` from the container of the fragment in the `main_activity.xml` file.\r\n\r\nI hope this helps someone to save their time.","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>I had a problem similar to this one. In my case the gap was caused by an empty top action bar.</p>\n<p>My issue was that I was using a fragment inside the <code>main_activity.xml</code>. All I had to do to fix the problem was to delete the line <code>android:paddingTop=&quot;?attr/actionBarSize&quot;</code> from the container of the fragment in the <code>main_activity.xml</code> file.</p>\n<p>I hope this helps someone to save their time.</p>\n"}],"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1666966970,"creation_date":1549335559,"question_id":54527197,"body_markdown":"So I am trying to get the image to align with the top of the screen and there is currently a gap between the `ImageView` and the bar where you can see the battery etc.\r\n\r\nIt doesn&#39;t show the gap in layout preview but it does on my phone.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hWE0.png\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/Background&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.SomeActivity&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;350dp&quot;\r\n            android:src=&quot;@drawable/man&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>So I am trying to get the image to align with the top of the screen and there is currently a gap between the <code>ImageView</code> and the bar where you can see the battery etc.</p>\n\n<p>It doesn't show the gap in layout preview but it does on my phone.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9hWE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hWE0.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/Background\"\n    android:orientation=\"vertical\"\n    tools:context=\".SomeActivity\"\n    android:gravity=\"center\"&gt;\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageView2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"350dp\"\n        android:src=\"@drawable/man\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n</code></pre>\n"},{"tags":["java","reflection","jvm","unsafe"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1517813291,"post_id":48616630,"comment_id":84230956,"body_markdown":"If you&#39;re asking about JVM internals, you&#39;re not asking about Java as a language.","body":"If you&#39;re asking about JVM internals, you&#39;re not asking about Java as a language."},{"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"score":0,"creation_date":1517814267,"post_id":48616630,"comment_id":84231304,"body_markdown":"@AndyTurner I&#39;m asking if there is a way to do what I&#39;m asking about, by whatever means necessary.","body":"@AndyTurner I&#39;m asking if there is a way to do what I&#39;m asking about, by whatever means necessary."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517811112,"creation_date":1517810579,"answer_id":48616680,"question_id":48616630,"body_markdown":"A constructor is not an instance method, so no you can&#39;t invoke a constructor on an instance.\r\n\r\nIf you look at the reflection library, you&#39;ll see that the return type of [`Class.getConstructor()`][1] is [`Constructor`][2], which doesn&#39;t have any methods that can accept a instance - its only relevant method is [`newInstance()`][3], which doesn&#39;t accept a target instance; it creates one.\r\n\r\nOn the other hand, the return type of [`Class.getMethod()`][4] is [`Method`][5], whose first parameter is the instance.\r\n\r\nA `Constructor` is not a `Method`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html","title":"Is it possible to call constructor on existing instance?","body":"<p>A constructor is not an instance method, so no you can't invoke a constructor on an instance.</p>\n\n<p>If you look at the reflection library, you'll see that the return type of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class.getConstructor()</code></a> is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html\" rel=\"nofollow noreferrer\"><code>Constructor</code></a>, which doesn't have any methods that can accept a instance - its only relevant method is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>newInstance()</code></a>, which doesn't accept a target instance; it creates one.</p>\n\n<p>On the other hand, the return type of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class.getMethod()</code></a> is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html\" rel=\"nofollow noreferrer\"><code>Method</code></a>, whose first parameter is the instance.</p>\n\n<p>A <code>Constructor</code> is not a <code>Method</code>.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517811796,"creation_date":1517811796,"answer_id":48616867,"question_id":48616630,"body_markdown":"From [JLS Sec 8.8](https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.8)\n\n&gt; Constructors are invoked by class instance creation expressions (&#167;15.9), by the conversions and concatenations caused by the string concatenation operator&#160;+(&#167;15.18.1), and by explicit constructor invocations from other constructors (&#167;8.8.7).&#160;\n&gt;\n&gt; ...\n&gt;\n&gt; Constructors are never invoked by method invocation expressions (&#167;15.12).\n\nSo no, it&#39;s not possible.\n\nIf there is some common action you want to take in the constructor and elsewhere, put it into a method, and invoke that from the constructor.","title":"Is it possible to call constructor on existing instance?","body":"<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.8\" rel=\"nofollow noreferrer\">JLS Sec 8.8</a></p>\n\n<blockquote>\n  <p>Constructors are invoked by class instance creation expressions (§15.9), by the conversions and concatenations caused by the string concatenation operator +(§15.18.1), and by explicit constructor invocations from other constructors (§8.8.7). </p>\n  \n  <p>...</p>\n  \n  <p>Constructors are never invoked by method invocation expressions (§15.12).</p>\n</blockquote>\n\n<p>So no, it's not possible.</p>\n\n<p>If there is some common action you want to take in the constructor and elsewhere, put it into a method, and invoke that from the constructor.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517817852,"creation_date":1517815533,"answer_id":48617594,"question_id":48616630,"body_markdown":"In the [JVM spec for `invokespecial`](https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.10.1.9.invokespecial):\n\n&gt; An&#160;`invokespecial`&#160;instruction is type safe iff all of the following are true:\n&gt;\n&gt; ... (Stuff about non-init methods)\n&gt;\n&gt; * MethodName is&#160;`&lt;init&gt;`.\n&gt; * Descriptor&#160;specifies a&#160;void&#160;return type.\n&gt; * One can validly pop types matching the argument types given in&#160;Descriptor and an uninitialized type,&#160;UninitializedArg, off the incoming operand stack, yielding&#160;OperandStack.\n&gt; * ...\n\nIf you&#39;ve already initialized the instance, it&#39;s not an uninitialized type, so this will fail.\n\nNote that other `invoke*` instructions (`invokevirtual`, `invokeinterface`, `invokestatic`, `invokedynamic`) explicitly preclude invocation of `&lt;init&gt;` methods, so `invokespecial` is the only way to invoke them.","title":"Is it possible to call constructor on existing instance?","body":"<p>In the <a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.10.1.9.invokespecial\" rel=\"nofollow noreferrer\">JVM spec for <code>invokespecial</code></a>:</p>\n\n<blockquote>\n  <p>An <code>invokespecial</code> instruction is type safe iff all of the following are true:</p>\n  \n  <p>... (Stuff about non-init methods)</p>\n  \n  <ul>\n  <li>MethodName is <code>&lt;init&gt;</code>.</li>\n  <li>Descriptor specifies a void return type.</li>\n  <li>One can validly pop types matching the argument types given in Descriptor and an uninitialized type, UninitializedArg, off the incoming operand stack, yielding OperandStack.</li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p>If you've already initialized the instance, it's not an uninitialized type, so this will fail.</p>\n\n<p>Note that other <code>invoke*</code> instructions (<code>invokevirtual</code>, <code>invokeinterface</code>, <code>invokestatic</code>, <code>invokedynamic</code>) explicitly preclude invocation of <code>&lt;init&gt;</code> methods, so <code>invokespecial</code> is the only way to invoke them.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1517828976,"creation_date":1517828976,"answer_id":48621266,"question_id":48616630,"body_markdown":"[JVMS &#167;2.9](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9) forbids invocation of constructor on already initialized objects:\r\n\r\n&gt; Instance initialization methods may be invoked only within the Java\r\n&gt; Virtual Machine by the invokespecial instruction, and\r\n&gt; they may be invoked only on uninitialized class instances.\r\n\r\nHowever, it is still **technically possible** to invoke constructor on initialized object with **JNI**. [CallVoidMethod](https://docs.oracle.com/javase/9/docs/specs/jni/functions.html#calltypemethod-routines-calltypemethoda-routines-calltypemethodv-routines) function does not make difference between `&lt;init&gt;` and ordinary Java methods. Moreover, JNI specification hints that `CallVoidMethod` *may* be used to call a constructor, though it does not say whether an instance has to be initialized or not:\r\n\r\n&gt; When these functions are **used to call** private methods and **constructors**, the method ID must be derived from the real class of obj, not from one of its superclasses.\r\n\r\nI&#39;ve verified that the following code works both in JDK 8 and JDK 9. JNI allows you to do unsafe things, but you **should not rely** on this in production applications.\r\n\r\n**ConstructorInvoker.java**\r\n\r\n    public class ConstructorInvoker {\r\n    \r\n        static {\r\n            System.loadLibrary(&quot;constructorInvoker&quot;);\r\n        }\r\n    \r\n        public static native void invoke(Object instance);\r\n    }\r\n\r\n**constructorInvoker.c**\r\n\r\n    #include &lt;jni.h&gt;\r\n\r\n    JNIEXPORT void JNICALL\r\n    Java_ConstructorInvoker_invoke(JNIEnv* env, jclass self, jobject instance) {\r\n        jclass cls = (*env)-&gt;GetObjectClass(env, instance);\r\n        jmethodID constructor = (*env)-&gt;GetMethodID(env, cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n        (*env)-&gt;CallVoidMethod(env, instance, constructor);\r\n    }\r\n\r\n**TestObject.java**\r\n\r\n    public class TestObject {\r\n        int x;\r\n    \r\n        public TestObject() {\r\n            System.out.println(&quot;Constructor called&quot;);\r\n            x++;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            TestObject obj = new TestObject();\r\n            System.out.println(&quot;x = &quot; + obj.x);  // x = 1\r\n    \r\n            ConstructorInvoker.invoke(obj);\r\n            System.out.println(&quot;x = &quot; + obj.x);  // x = 2\r\n        }\r\n    }\r\n","title":"Is it possible to call constructor on existing instance?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9\" rel=\"noreferrer\">JVMS §2.9</a> forbids invocation of constructor on already initialized objects:</p>\n\n<blockquote>\n  <p>Instance initialization methods may be invoked only within the Java\n  Virtual Machine by the invokespecial instruction, and\n  they may be invoked only on uninitialized class instances.</p>\n</blockquote>\n\n<p>However, it is still <strong>technically possible</strong> to invoke constructor on initialized object with <strong>JNI</strong>. <a href=\"https://docs.oracle.com/javase/9/docs/specs/jni/functions.html#calltypemethod-routines-calltypemethoda-routines-calltypemethodv-routines\" rel=\"noreferrer\">CallVoidMethod</a> function does not make difference between <code>&lt;init&gt;</code> and ordinary Java methods. Moreover, JNI specification hints that <code>CallVoidMethod</code> <em>may</em> be used to call a constructor, though it does not say whether an instance has to be initialized or not:</p>\n\n<blockquote>\n  <p>When these functions are <strong>used to call</strong> private methods and <strong>constructors</strong>, the method ID must be derived from the real class of obj, not from one of its superclasses.</p>\n</blockquote>\n\n<p>I've verified that the following code works both in JDK 8 and JDK 9. JNI allows you to do unsafe things, but you <strong>should not rely</strong> on this in production applications.</p>\n\n<p><strong>ConstructorInvoker.java</strong></p>\n\n<pre><code>public class ConstructorInvoker {\n\n    static {\n        System.loadLibrary(\"constructorInvoker\");\n    }\n\n    public static native void invoke(Object instance);\n}\n</code></pre>\n\n<p><strong>constructorInvoker.c</strong></p>\n\n<pre><code>#include &lt;jni.h&gt;\n\nJNIEXPORT void JNICALL\nJava_ConstructorInvoker_invoke(JNIEnv* env, jclass self, jobject instance) {\n    jclass cls = (*env)-&gt;GetObjectClass(env, instance);\n    jmethodID constructor = (*env)-&gt;GetMethodID(env, cls, \"&lt;init&gt;\", \"()V\");\n    (*env)-&gt;CallVoidMethod(env, instance, constructor);\n}\n</code></pre>\n\n<p><strong>TestObject.java</strong></p>\n\n<pre><code>public class TestObject {\n    int x;\n\n    public TestObject() {\n        System.out.println(\"Constructor called\");\n        x++;\n    }\n\n    public static void main(String[] args) {\n        TestObject obj = new TestObject();\n        System.out.println(\"x = \" + obj.x);  // x = 1\n\n        ConstructorInvoker.invoke(obj);\n        System.out.println(\"x = \" + obj.x);  // x = 2\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10699736,"reputation":133,"user_id":7875532,"display_name":"fxshlein"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666966636,"creation_date":1666966636,"answer_id":74236692,"question_id":48616630,"body_markdown":"It seems that with some (very dubious) tricks this is possible, even without going through a custom native library, by (ab)using method handles.\r\n\r\nThis method essentially tricks the JVM into thinking it is currently invoking a regular method instead of a constructor.\r\n\r\nI just have to add a mandatory &quot;this is probably not a good idea&quot;, but this is the only way I found for doing this. I also can&#39;t attest to how this behaves on different JVMs.\r\n\r\n## Prerequisites ##\r\n\r\nTo do this, an instance of `sun.misc.Unsafe` is needed. I will not go into detail about how to obtain this here since you already seem to have one, but [this guide](https://www.baeldung.com/java-unsafe) explains the process.\r\n\r\n## Step 1: Obtaining a trusted `MethodHandles.Lookup` ##\r\n\r\nNext, a `java.lang.invoke.MethodHandles$Lookup` is needed to get the actual method handle for the constructor.\r\n\r\nThis class has a permission system which works through the `allowedModes` property in `Lookup`, which is set to a bunch of Flags. There is a special `TRUSTED` flag that circumvents all permission checks.\r\n\r\nUnfortunately, the `allowedModes` field is filtered from reflection, so we cannot simply bypass the permissions by setting that value through reflection. \r\n\r\nEven though reflecion filters can be circumvented aswell, there is a simpler way: `Lookup` contains a static field `IMPL_LOOKUP`, which holds a `Lookup` with those `TRUSTED` permissions. We can get this instance by using reflection and `Unsafe`:\r\n```java\r\nvar field = MethodHandles.Lookup.class.getDeclaredField(&quot;IMPL_LOOKUP&quot;);\r\nvar fieldOffset = unsafe.staticFieldOffset(field);\r\n\r\nvar lookup = (MethodHandles.Lookup) unsafe.getObject(MethodHandles.Lookup.class, fieldOffset);\r\n```\r\nWe use `Unsafe` here instead of `setAccessible` and `get`, because going through reflection will cause issues with the module system in the newer java versions.\r\n\r\n## Step 2: Finding the constructor ##\r\n\r\nNow we can get a `MethodHandle` for the constructor we want to invoke. We do this by using the `Lookup` we just obtained, just like a `Lookup` would be used normally.\r\n\r\n```java\r\nvar type = MethodType.methodType(Void.TYPE, &lt;your constructor argument types&gt;);\r\nvar constructor = lookup.findConstructor(&lt;your class&gt;, type);\r\n```\r\n\r\n## Step 3: Getting the `MemberName` ##\r\n\r\nWhile the signature of `findConstructor` only specifies that it returns a `MethodHandle`, it actuall returns a `java.lang.invoke.DirectMethodHandle$Constructor`. This type declares a `initMethod` field, which contains the `java.lang.invoke.MemberName` referencing our constructor. The `MemberName` type is not accessible from the outside, so all interaction with it happens through `Unsafe`.\r\n\r\nWe can obtain this `MemberName` in the same way we also obtained the `Lookup`:\r\n\r\n```\r\nvar constructorClass = Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Constructor&quot;);\r\nval initMethodField = constructorClass.getDeclaredField(&quot;initMethod&quot;);\r\nval initMethodFieldOffset = unsafe.objectFieldOffset(initMethodField);\r\n\r\nvar initMemberName = unsafe.getObject(constructor, initMethodFieldOffset)\r\n```\r\n\r\n## Step 4: Tricking Java ##\r\n\r\nThe next step is the important part. While there are no physical barriers from the JVM that prevent you from invoking a constructor like any other method, `MethodHandle` has some checks in place to ensure that you are not doing something fishy.\r\n\r\nMost of the checks are circumvented by using the `TRUSTED` `Lookup`, and there remains one final check:\r\n\r\nThe `MemberName` instance contains a bunch of flags that, among other things, tell the system what kind of member the `MemberName` is referring to. These flags are checked.\r\n\r\nTo circumvent this, we can simply change the flags using `Unsafe`:\r\n\r\n```java\r\nvar memberNameClass = Class.forName(&quot;java.lang.invoke.MemberName&quot;);\r\nvar flagsField = memberNameClass.getDeclaredField(&quot;flags&quot;);\r\nvar flagsFieldOffset = unsafe.objectFieldOffset(flagsField);\r\nvar flags = unsafe.getInt(initMemberName, flagsFieldOffset);\r\n\r\nflags &amp;= ~0x00020000; // remove &quot;is constructor&quot;\r\nflags |= 0x00010000; // add &quot;is (non-constructor) method&quot;\r\n\r\nunsafe.putInt(initMemberName, flagsFieldOffset, flags);\r\n```\r\n\r\nThe values for the flags come from `java.lang.invoke.MethodHandleNatives.Constants#MN_IS_METHOD` and `java.lang.invoke.MethodHandleNatives.Constants#MN_IS_CONSTRUCTOR`.\r\n\r\n## Step 5: Obtaining a `REF_invokeVirtual` method handle ##\r\n\r\nNow that we have a _totally legit method_ that is _not at all_ a constructor, we just need to obtain a regular method handle for invoking it. Luckly, `MethodHandles.Lookup.class` has a private method for turning a `MemberName` into a `(Direct)MethodHandle` for all kinds of invocations: `getDirectMethod`.\r\n\r\nIronically, we actually call this method using our all-powerful lookup.\r\n\r\nFirst, we obtain the `MethodHandle` for `getDirectMethod`:\r\n```\r\nvar getDirectMethodMethodHandle = lookup.findVirtual(\r\n        MethodHandles.Lookup.class,\r\n        &quot;getDirectMethod&quot;,\r\n        MethodType.methodType(\r\n                MethodHandle.class,\r\n                byte.class,\r\n                Class.class,\r\n                memberNameClass,\r\n                MethodHandles.Lookup.class\r\n        )\r\n);\r\n```\r\n\r\nwe can now use this with our lookup, to obtain a `MethodHandle` for our `MemberName`:\r\n\r\n```java\r\nvar handle = (MethodHandle) getDirectMethod.invoke(lookup, (byte) 5, Test.class, member, lookup);\r\n```\r\n\r\nThe `(byte) 5` argument stands for &quot;invoke virtual&quot;, and comes from `java.lang.invoke.MethodHandleNatives.Constants#REF_invokeVirtual`.\r\n\r\n## Step 6: Profit? ##\r\n\r\nWe can now use this `handle` like a regular `MethodHandle`, to invoke the constructor on any existing instance of that class:\r\n\r\n```java\r\nhandle.invoke(&lt;instance&gt;, &lt;constructor arguments...&gt;);\r\n```\r\n\r\nWith this `handle`, the constructor can also be called multiple times, and the instance doesn&#39;t actually have to come from `Unsafe#allocateInstance` - an instance that was created just by using `new` works aswell.","title":"Is it possible to call constructor on existing instance?","body":"<p>It seems that with some (very dubious) tricks this is possible, even without going through a custom native library, by (ab)using method handles.</p>\n<p>This method essentially tricks the JVM into thinking it is currently invoking a regular method instead of a constructor.</p>\n<p>I just have to add a mandatory &quot;this is probably not a good idea&quot;, but this is the only way I found for doing this. I also can't attest to how this behaves on different JVMs.</p>\n<h2>Prerequisites</h2>\n<p>To do this, an instance of <code>sun.misc.Unsafe</code> is needed. I will not go into detail about how to obtain this here since you already seem to have one, but <a href=\"https://www.baeldung.com/java-unsafe\" rel=\"noreferrer\">this guide</a> explains the process.</p>\n<h2>Step 1: Obtaining a trusted <code>MethodHandles.Lookup</code></h2>\n<p>Next, a <code>java.lang.invoke.MethodHandles$Lookup</code> is needed to get the actual method handle for the constructor.</p>\n<p>This class has a permission system which works through the <code>allowedModes</code> property in <code>Lookup</code>, which is set to a bunch of Flags. There is a special <code>TRUSTED</code> flag that circumvents all permission checks.</p>\n<p>Unfortunately, the <code>allowedModes</code> field is filtered from reflection, so we cannot simply bypass the permissions by setting that value through reflection.</p>\n<p>Even though reflecion filters can be circumvented aswell, there is a simpler way: <code>Lookup</code> contains a static field <code>IMPL_LOOKUP</code>, which holds a <code>Lookup</code> with those <code>TRUSTED</code> permissions. We can get this instance by using reflection and <code>Unsafe</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = MethodHandles.Lookup.class.getDeclaredField(&quot;IMPL_LOOKUP&quot;);\nvar fieldOffset = unsafe.staticFieldOffset(field);\n\nvar lookup = (MethodHandles.Lookup) unsafe.getObject(MethodHandles.Lookup.class, fieldOffset);\n</code></pre>\n<p>We use <code>Unsafe</code> here instead of <code>setAccessible</code> and <code>get</code>, because going through reflection will cause issues with the module system in the newer java versions.</p>\n<h2>Step 2: Finding the constructor</h2>\n<p>Now we can get a <code>MethodHandle</code> for the constructor we want to invoke. We do this by using the <code>Lookup</code> we just obtained, just like a <code>Lookup</code> would be used normally.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var type = MethodType.methodType(Void.TYPE, &lt;your constructor argument types&gt;);\nvar constructor = lookup.findConstructor(&lt;your class&gt;, type);\n</code></pre>\n<h2>Step 3: Getting the <code>MemberName</code></h2>\n<p>While the signature of <code>findConstructor</code> only specifies that it returns a <code>MethodHandle</code>, it actuall returns a <code>java.lang.invoke.DirectMethodHandle$Constructor</code>. This type declares a <code>initMethod</code> field, which contains the <code>java.lang.invoke.MemberName</code> referencing our constructor. The <code>MemberName</code> type is not accessible from the outside, so all interaction with it happens through <code>Unsafe</code>.</p>\n<p>We can obtain this <code>MemberName</code> in the same way we also obtained the <code>Lookup</code>:</p>\n<pre><code>var constructorClass = Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Constructor&quot;);\nval initMethodField = constructorClass.getDeclaredField(&quot;initMethod&quot;);\nval initMethodFieldOffset = unsafe.objectFieldOffset(initMethodField);\n\nvar initMemberName = unsafe.getObject(constructor, initMethodFieldOffset)\n</code></pre>\n<h2>Step 4: Tricking Java</h2>\n<p>The next step is the important part. While there are no physical barriers from the JVM that prevent you from invoking a constructor like any other method, <code>MethodHandle</code> has some checks in place to ensure that you are not doing something fishy.</p>\n<p>Most of the checks are circumvented by using the <code>TRUSTED</code> <code>Lookup</code>, and there remains one final check:</p>\n<p>The <code>MemberName</code> instance contains a bunch of flags that, among other things, tell the system what kind of member the <code>MemberName</code> is referring to. These flags are checked.</p>\n<p>To circumvent this, we can simply change the flags using <code>Unsafe</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var memberNameClass = Class.forName(&quot;java.lang.invoke.MemberName&quot;);\nvar flagsField = memberNameClass.getDeclaredField(&quot;flags&quot;);\nvar flagsFieldOffset = unsafe.objectFieldOffset(flagsField);\nvar flags = unsafe.getInt(initMemberName, flagsFieldOffset);\n\nflags &amp;= ~0x00020000; // remove &quot;is constructor&quot;\nflags |= 0x00010000; // add &quot;is (non-constructor) method&quot;\n\nunsafe.putInt(initMemberName, flagsFieldOffset, flags);\n</code></pre>\n<p>The values for the flags come from <code>java.lang.invoke.MethodHandleNatives.Constants#MN_IS_METHOD</code> and <code>java.lang.invoke.MethodHandleNatives.Constants#MN_IS_CONSTRUCTOR</code>.</p>\n<h2>Step 5: Obtaining a <code>REF_invokeVirtual</code> method handle</h2>\n<p>Now that we have a <em>totally legit method</em> that is <em>not at all</em> a constructor, we just need to obtain a regular method handle for invoking it. Luckly, <code>MethodHandles.Lookup.class</code> has a private method for turning a <code>MemberName</code> into a <code>(Direct)MethodHandle</code> for all kinds of invocations: <code>getDirectMethod</code>.</p>\n<p>Ironically, we actually call this method using our all-powerful lookup.</p>\n<p>First, we obtain the <code>MethodHandle</code> for <code>getDirectMethod</code>:</p>\n<pre><code>var getDirectMethodMethodHandle = lookup.findVirtual(\n        MethodHandles.Lookup.class,\n        &quot;getDirectMethod&quot;,\n        MethodType.methodType(\n                MethodHandle.class,\n                byte.class,\n                Class.class,\n                memberNameClass,\n                MethodHandles.Lookup.class\n        )\n);\n</code></pre>\n<p>we can now use this with our lookup, to obtain a <code>MethodHandle</code> for our <code>MemberName</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var handle = (MethodHandle) getDirectMethod.invoke(lookup, (byte) 5, Test.class, member, lookup);\n</code></pre>\n<p>The <code>(byte) 5</code> argument stands for &quot;invoke virtual&quot;, and comes from <code>java.lang.invoke.MethodHandleNatives.Constants#REF_invokeVirtual</code>.</p>\n<h2>Step 6: Profit?</h2>\n<p>We can now use this <code>handle</code> like a regular <code>MethodHandle</code>, to invoke the constructor on any existing instance of that class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>handle.invoke(&lt;instance&gt;, &lt;constructor arguments...&gt;);\n</code></pre>\n<p>With this <code>handle</code>, the constructor can also be called multiple times, and the instance doesn't actually have to come from <code>Unsafe#allocateInstance</code> - an instance that was created just by using <code>new</code> works aswell.</p>\n"}],"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2734,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":48621266,"answer_count":5,"score":3,"last_activity_date":1666966636,"creation_date":1517810349,"question_id":48616630,"body_markdown":"It is known that using `sun.misc.Unsafe#allocateInstance` one can create an object without calling any class constructors.\r\n\r\nIs it possible to do the opposite: given an existing instance, invoke a constructor on it?\r\n\r\n\r\n----------\r\n**Clarification**: this is not the question about something I&#39;d do in production code. I&#39;m curious about JVM internals and crazy things that can still be done. Answers specific to some JVM version are welcome.","title":"Is it possible to call constructor on existing instance?","body":"<p>It is known that using <code>sun.misc.Unsafe#allocateInstance</code> one can create an object without calling any class constructors.</p>\n\n<p>Is it possible to do the opposite: given an existing instance, invoke a constructor on it?</p>\n\n<hr>\n\n<p><strong>Clarification</strong>: this is not the question about something I'd do in production code. I'm curious about JVM internals and crazy things that can still be done. Answers specific to some JVM version are welcome.</p>\n"},{"tags":["java","sql","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3750958,"reputation":124,"user_id":3118467,"display_name":"dadan"},"score":1,"creation_date":1666950883,"post_id":74233469,"comment_id":131060929,"body_markdown":"maybe you can check this question, https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection","body":"maybe you can check this question, <a href=\"https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection\" title=\"jpa how to convert a native query result set to pojo class collection\">stackoverflow.com/questions/13012584/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666978270,"post_id":74233469,"comment_id":131070203,"body_markdown":"Just write a query to return the collection for the user. You are making things overly complex.","body":"Just write a query to return the collection for the user. You are making things overly complex."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1667124189,"post_id":74233469,"comment_id":131092328,"body_markdown":"`@Transient` with `@OneToMany` ? What does it mean ?","body":"<code>@Transient</code> with <code>@OneToMany</code> ? What does it mean ?"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1667222807,"post_id":74233469,"comment_id":131112467,"body_markdown":"I don&#39;t have a table for that relation in db @grigouille","body":"I don&#39;t have a table for that relation in db @grigouille"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1667222925,"post_id":74233469,"comment_id":131112500,"body_markdown":"I am trying to get a collection for all the products that user have with a specific username. @M.Deinum","body":"I am trying to get a collection for all the products that user have with a specific username. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667225598,"post_id":74233469,"comment_id":131113579,"body_markdown":"So write that query. You already have the entities, what you are doing is overly complex and can be solved with a simple query.","body":"So write that query. You already have the entities, what you are doing is overly complex and can be solved with a simple query."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666966403,"creation_date":1666960759,"answer_id":74235568,"question_id":74233469,"body_markdown":"The problem is that you are using a HQL query but you&#39;ve set `native=true`. Setting `native=true` means that you want to run a SQL query.\r\n\r\nThis HQL query should work:\r\n```\r\n@Query(&quot;select p from User u join u.products p WHERE u.id = :id&quot;)\r\nList&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\r\n```","title":"How can I map an object to Java Object through SQL native query using Jpa Repository?","body":"<p>The problem is that you are using a HQL query but you've set <code>native=true</code>. Setting <code>native=true</code> means that you want to run a SQL query.</p>\n<p>This HQL query should work:</p>\n<pre><code>@Query(&quot;select p from User u join u.products p WHERE u.id = :id&quot;)\nList&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\n</code></pre>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666966403,"creation_date":1666950191,"question_id":74233469,"body_markdown":"I tried several solutions to my SQL query but it seems like I miss something.\r\nI want to get a ```List&lt;Product&gt;``` from a ```nativeQuery```.\r\n\r\nAnd I have a relationship between my ```User``` entity and ```Product``` entity as **One to Many**.\r\n\r\nHere is my both entites -&gt; Product\r\n\r\n``` \r\n@Entity\r\n@Data\r\n@Table(name = &quot;product&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @CreationTimestamp\r\n    @Column(updatable = false)\r\n    private Timestamp createdDate;\r\n\r\n    @UpdateTimestamp\r\n    private Timestamp lastModifiedDate;\r\n\r\n    private String imageURL;\r\n\r\n    private Long productCode;\r\n\r\n    @Size(min = 3,max = 100)\r\n    private String productName;\r\n\r\n    @Size(min = 5,max = 100)\r\n    private String details;\r\n\r\n    private BigDecimal price;\r\n\r\n    private ProductCategory productCategory;\r\n\r\n}\r\n```\r\nUser -&gt; \r\n\r\n``` \r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true,nullable = false)\r\n    private String phoneNumber;\r\n\r\n    @Size(min = 5, max = 25, message = &quot;Username length should be between 5 and 25 characters&quot;)\r\n    @Column(unique = true, nullable = false)\r\n    private String userName;\r\n\r\n    @CreationTimestamp\r\n    @Column(updatable = false)\r\n    private Timestamp createdDate;\r\n\r\n    @UpdateTimestamp\r\n    private Timestamp lastModifiedDate;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    @NotNull\r\n    private String email;\r\n\r\n    @Size(min = 5, message = &quot;Minimum password length: 5 characters&quot;)\r\n    @NotNull\r\n    private String password;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;Product&gt; products;\r\n\r\n    @Transient\r\n    @OneToMany(fetch = FetchType.LAZY,mappedBy = &quot;product&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;ProductInquiry&gt; productInquiries;\r\n\r\n    private Role role;\r\n\r\n}\r\n```\r\n\r\nHere in this query I need to return all products associated with the given **user_id**.\r\n\r\n```\r\n @Query(value = &quot;SELECT  new  egecoskun121.com.crm.model.entity.Product(p.ID,p.CREATED_DATE,p.LAST_MODIFIED_DATE,p.IMAGEURL,p.PRODUCT_CODE,p.PRODUCT_NAME,p.DETAILS,p.PRICE,p.PRODUCT_CATEGORY)    FROM PRODUCT  AS p WHERE  {SELECT PRODUCT_ID FROM USERS_PRODUCTS WHERE USER_ID=:id }&quot;,nativeQuery = true)\r\n    List&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\r\n```\r\n\r\n\r\n","title":"How can I map an object to Java Object through SQL native query using Jpa Repository?","body":"<p>I tried several solutions to my SQL query but it seems like I miss something.\nI want to get a <code>List&lt;Product&gt;</code> from a <code>nativeQuery</code>.</p>\n<p>And I have a relationship between my <code>User</code> entity and <code>Product</code> entity as <strong>One to Many</strong>.</p>\n<p>Here is my both entites -&gt; Product</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;product&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @CreationTimestamp\n    @Column(updatable = false)\n    private Timestamp createdDate;\n\n    @UpdateTimestamp\n    private Timestamp lastModifiedDate;\n\n    private String imageURL;\n\n    private Long productCode;\n\n    @Size(min = 3,max = 100)\n    private String productName;\n\n    @Size(min = 5,max = 100)\n    private String details;\n\n    private BigDecimal price;\n\n    private ProductCategory productCategory;\n\n}\n</code></pre>\n<p>User -&gt;</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true,nullable = false)\n    private String phoneNumber;\n\n    @Size(min = 5, max = 25, message = &quot;Username length should be between 5 and 25 characters&quot;)\n    @Column(unique = true, nullable = false)\n    private String userName;\n\n    @CreationTimestamp\n    @Column(updatable = false)\n    private Timestamp createdDate;\n\n    @UpdateTimestamp\n    private Timestamp lastModifiedDate;\n\n    @Column(unique = true, nullable = false)\n    @NotNull\n    private String email;\n\n    @Size(min = 5, message = &quot;Minimum password length: 5 characters&quot;)\n    @NotNull\n    private String password;\n\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;Product&gt; products;\n\n    @Transient\n    @OneToMany(fetch = FetchType.LAZY,mappedBy = &quot;product&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;ProductInquiry&gt; productInquiries;\n\n    private Role role;\n\n}\n</code></pre>\n<p>Here in this query I need to return all products associated with the given <strong>user_id</strong>.</p>\n<pre><code> @Query(value = &quot;SELECT  new  egecoskun121.com.crm.model.entity.Product(p.ID,p.CREATED_DATE,p.LAST_MODIFIED_DATE,p.IMAGEURL,p.PRODUCT_CODE,p.PRODUCT_NAME,p.DETAILS,p.PRICE,p.PRODUCT_CATEGORY)    FROM PRODUCT  AS p WHERE  {SELECT PRODUCT_ID FROM USERS_PRODUCTS WHERE USER_ID=:id }&quot;,nativeQuery = true)\n    List&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666957832,"post_id":74234901,"comment_id":131063139,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666957839,"post_id":74234901,"comment_id":131063142,"body_markdown":"Besides that, at which particular line of code are you getting that error?","body":"Besides that, at which particular line of code are you getting that error?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666958095,"post_id":74234901,"comment_id":131063223,"body_markdown":"Thanks for the suggestion @AlexMamo . I am getting error in _firebasemethods_ class , incheckIfUsernameExists method. I already added a comment.","body":"Thanks for the suggestion @AlexMamo . I am getting error in <i>firebasemethods</i> class , incheckIfUsernameExists method. I already added a comment."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666959395,"post_id":74234901,"comment_id":131063612,"body_markdown":"There is an NPE caused by `.getUid()` and using that in multiple parts of your code. Where exactly does the error occur?","body":"There is an NPE caused by <code>.getUid()</code> and using that in multiple parts of your code. Where exactly does the error occur?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666960272,"post_id":74234901,"comment_id":131063890,"body_markdown":"Error occurred while i called the method checkIfUsernameExists in register activity class , I added a comment _Error Occured in the below checkifUsernameExists method call_  . checkIfUsername method is in **FirebaseMethods** class. The exact line where the Error occured is marked with the Comment _Getting error in the below line_","body":"Error occurred while i called the method checkIfUsernameExists in register activity class , I added a comment <i>Error Occured in the below checkifUsernameExists method call</i>  . checkIfUsername method is in <b>FirebaseMethods</b> class. The exact line where the Error occured is marked with the Comment <i>Getting error in the below line</i>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666961504,"post_id":74234901,"comment_id":131064318,"body_markdown":"Have you tried to check against nullity before calling `getUid()`?","body":"Have you tried to check against nullity before calling <code>getUid()</code>?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666962567,"post_id":74234901,"comment_id":131064682,"body_markdown":"Yes, I check ed against nullity before calling getUid()","body":"Yes, I check ed against nullity before calling getUid()"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666963157,"post_id":74234901,"comment_id":131064884,"body_markdown":"Is that object is not null, then the NPE comes from another part of your code, right?","body":"Is that object is not null, then the NPE comes from another part of your code, right?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666963614,"post_id":74234901,"comment_id":131065019,"body_markdown":"What does the following line supppsed to do `dataSnapshot.child(userID).getChildren()` ?","body":"What does the following line supppsed to do <code>dataSnapshot.child(userID).getChildren()</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666963892,"creation_date":1666960214,"answer_id":74235449,"question_id":74234901,"body_markdown":"You are initializing the `userID` variable like this:\r\n\r\n```java\r\nif(mAuth.getCurrentUser() != null){\r\n    userID =mAuth.getCurrentUser().getUid();\r\n}\r\n```\r\n\r\nWhen registering, the user is not authenticated yet. Therefore, `userID` is null. You could check this with the debugger. \r\n\r\nIn the register method there should not be a method to call for currently authenticated user, since you are trying to register a new user and they are not able to login/authenticate just yet. \r\n\r\nInstead, try passing the `userDTO` object you get from the data the future/potential user inputed and check for validity of username (and other invariants you might have) before allowing the registration.","title":"Getting a null pointer Exception as &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference","body":"<p>You are initializing the <code>userID</code> variable like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(mAuth.getCurrentUser() != null){\n    userID =mAuth.getCurrentUser().getUid();\n}\n</code></pre>\n<p>When registering, the user is not authenticated yet. Therefore, <code>userID</code> is null. You could check this with the debugger.</p>\n<p>In the register method there should not be a method to call for currently authenticated user, since you are trying to register a new user and they are not able to login/authenticate just yet.</p>\n<p>Instead, try passing the <code>userDTO</code> object you get from the data the future/potential user inputed and check for validity of username (and other invariants you might have) before allowing the registration.</p>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666966060,"creation_date":1666957451,"question_id":74234901,"body_markdown":"**Problem**\r\n\r\nI am trying to make user credentials like username and email to get added in the realtime database. After the user enters their data and hits register button i am getting an error with firebaseMethods.checkIfUsernameExists() method.\r\n\r\n**Error**\r\n\r\n \r\n\r\n    FATAL EXCEPTION: main\r\n                     Process: com.example.movies4u, PID: 25475\r\n                     java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n                     \tat com.example.movies4u.Utils.FirebaseMethods.checkIfUsernameExists(FirebaseMethods.java:47)\r\n                     \tat com.example.movies4u.activity_register$1$1.onDataChange(activity_register.java:200)\r\n                     \tat com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n                     \tat com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n                     \tat com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n                     \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                     \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                     \tat android.os.Looper.loop(Looper.java:224)\r\n                     \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n                     \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n\r\n**Register Activity Code**\r\n\r\n    package com.example.movies4u;\r\n    \r\n    import static android.content.ContentValues.TAG;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.movies4u.Utils.FirebaseMethods;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseAuthUserCollisionException;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    public class activity_register extends AppCompatActivity {\r\n        TextView HaveAccount;\r\n        EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\r\n        String username,email,password;\r\n        Button btnRegister;\r\n        FirebaseAuth mAuth;\r\n        ProgressBar pb;\r\n        private String userID;\r\n        private FirebaseAuth.AuthStateListener mAuthListener;\r\n        private FirebaseMethods firebaseMethods;\r\n        private FirebaseDatabase mFirebaseDatabase;\r\n        private DatabaseReference myRef;\r\n    \r\n        private String append;\r\n    \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\r\n            setContentView(R.layout.activity_register);\r\n            firebaseMethods =new FirebaseMethods(activity_register.this);\r\n    \r\n            HaveAccount= (TextView) findViewById(R.id.HaveAccount);\r\n            pb = findViewById(R.id.progressBar3);\r\n            inputUsername=findViewById(R.id.inputUsername);\r\n            inputEmail=findViewById(R.id.inputEmail);\r\n            inputPassword=findViewById(R.id.inputPassword);\r\n            inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\r\n            btnRegister=findViewById(R.id.btnRegister);\r\n            username=inputUsername.getText().toString();\r\n            email=inputEmail.getText().toString();\r\n            password=inputPassword.getText().toString();\r\n    \r\n            pb.setVisibility(View.GONE);\r\n            HaveAccount.setOnClickListener(view -&gt; {\r\n                Intent loginintent=new Intent(activity_register.this,login_activity.class);\r\n                startActivity(loginintent);\r\n            });\r\n    \r\n            mAuth=FirebaseAuth.getInstance();\r\n            btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\r\n        }\r\n   // we will call the method doRegister(username,email,password); in validateDataandDoRegister()\r\n        \r\n    \r\n        private void doRegister(String username,String email, String password) {\r\n            pb.setVisibility(View.VISIBLE);\r\n            mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\r\n                if(task != null ){\r\n                    if(mAuth.getCurrentUser() != null){\r\n                        userID=mAuth.getCurrentUser().getUid();\r\n                    }\r\n    \r\n    //                firebaseMethods.registerNewEmail(username,email,password);\r\n                    sendVerificationEmail();\r\n    //                firebaseMethods.addNewUser(email, username);\r\n                }\r\n    \r\n            }).addOnFailureListener(e -&gt; {\r\n                if(e instanceof FirebaseAuthUserCollisionException){\r\n                    btnRegister.setEnabled(true);\r\n                    inputEmail.setError(&quot;Email Already Registered&quot;);\r\n                    pb.setVisibility(View.GONE);\r\n                    inputEmail.requestFocus();\r\n                }\r\n                else{\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void sendVerificationEmail() {\r\n            mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\r\n                if(task != null &amp;&amp; task.isSuccessful()){\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\r\n                    //fixing the bug\r\n                    mAuth.signOut();\r\n                }\r\n                else {\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        /*\r\n        ------------------------------------ Firebase ---------------------------------------------\r\n         */\r\n    \r\n        /**\r\n         * Setup the firebase auth object\r\n         */\r\n        private void setupFirebaseAuth(){\r\n            Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n            myRef = mFirebaseDatabase.getReference();\r\n    \r\n            //cannot get into this part of code\r\n            mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n                @Override\r\n                public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                    FirebaseUser user=firebaseAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        // User is signed in\r\n                        Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\r\n    \r\n                        myRef.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                                //1st check: Make sure the username is not already in use\r\n\r\n                                //Error Occured in the below checkifUsernameExists method call  \r\n                                if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\r\n                                    //to randomly generate key to make sure username is unique\r\n                                    append = myRef.push().getKey().substring(3,10);\r\n                                    Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\r\n                                }\r\n                                username = username + append;\r\n    \r\n                                //add new user to the database\r\n                                Log.d(TAG, &quot;adding new user to database&quot;);\r\n                                firebaseMethods.addNewUser(email, username);\r\n                                Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onCancelled(DatabaseError databaseError) {\r\n                                Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        finish();\r\n    \r\n                    } else {\r\n                        // User is signed out\r\n                        Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                        Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\r\n                    }\r\n                    // ...\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            setupFirebaseAuth();\r\n            mAuth.addAuthStateListener(mAuthListener);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            if (mAuthListener != null) {\r\n                mAuth.removeAuthStateListener(mAuthListener);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**FirebaseMethods Code**\r\n\r\n    package com.example.movies4u.Utils;\r\n    \r\n    import android.content.Context;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    \r\n    import com.example.movies4u.Models.User;\r\n    import com.example.movies4u.Models.UserAccountSettings;\r\n    import com.example.movies4u.R;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    public class FirebaseMethods {\r\n        private static final String TAG=&quot;FirebaseMethods&quot;;\r\n    \r\n        //Firebase\r\n        private FirebaseAuth mAuth;\r\n        private FirebaseAuth.AuthStateListener mAuthListener;\r\n        private FirebaseDatabase mFirebaseDatabase;\r\n        private DatabaseReference myRef;\r\n        private String userID;\r\n    \r\n        private Context mContext;\r\n    \r\n        public FirebaseMethods(Context context){\r\n            mAuth=FirebaseAuth.getInstance();\r\n            mFirebaseDatabase =FirebaseDatabase.getInstance();\r\n            myRef=mFirebaseDatabase.getReference();\r\n            mContext =context;\r\n    \r\n            if(mAuth.getCurrentUser() !=null){\r\n                userID =mAuth.getCurrentUser().getUid();\r\n            }\r\n        }\r\n    \r\n        public boolean checkIfUsernameExists(String username, DataSnapshot dataSnapshot){\r\n            User user =new User();\r\n            //Getting error in the below line\r\n            for (DataSnapshot ds: dataSnapshot.child(userID).getChildren()){\r\n                user.setUsername(ds.getValue(User.class).getUsername());\r\n    \r\n                if(StringManipulation.expandUsername(user.getUsername()).equals(username)){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n       \r\n    \r\n        public void addNewUser(String email, String username){\r\n            User user=new User(email,username);\r\n            if(userID!=null)\r\n            {\r\n                myRef.child(mContext.getString(R.string.dbname_users))\r\n                        .child(userID)\r\n                        .setValue(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n                                Log.d(TAG, &quot;user added&quot;);\r\n                                Toast.makeText(mContext, &quot;user added&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(TAG, &quot;user not added&quot;);\r\n                                Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n    \r\n                UserAccountSettings settings = new UserAccountSettings(username, username);\r\n    \r\n                myRef.child(mContext.getString(R.string.dbname_user_account_settings))\r\n                        .child(userID)\r\n                        .setValue(settings);\r\n            }\r\n            else {\r\n                Log.d(TAG, &quot;user is null&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"Getting a null pointer Exception as &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference","body":"<p><strong>Problem</strong></p>\n<p>I am trying to make user credentials like username and email to get added in the realtime database. After the user enters their data and hits register button i am getting an error with firebaseMethods.checkIfUsernameExists() method.</p>\n<p><strong>Error</strong></p>\n<pre><code>FATAL EXCEPTION: main\n                 Process: com.example.movies4u, PID: 25475\n                 java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n                    at com.example.movies4u.Utils.FirebaseMethods.checkIfUsernameExists(FirebaseMethods.java:47)\n                    at com.example.movies4u.activity_register$1$1.onDataChange(activity_register.java:200)\n                    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n                    at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n                    at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n                    at android.os.Handler.handleCallback(Handler.java:873)\n                    at android.os.Handler.dispatchMessage(Handler.java:99)\n                    at android.os.Looper.loop(Looper.java:224)\n                    at android.app.ActivityThread.main(ActivityThread.java:7081)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\n</code></pre>\n<p><strong>Register Activity Code</strong></p>\n<pre><code>package com.example.movies4u;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.movies4u.Utils.FirebaseMethods;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class activity_register extends AppCompatActivity {\n    TextView HaveAccount;\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\n    String username,email,password;\n    Button btnRegister;\n    FirebaseAuth mAuth;\n    ProgressBar pb;\n    private String userID;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseMethods firebaseMethods;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n\n    private String append;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\n        setContentView(R.layout.activity_register);\n        firebaseMethods =new FirebaseMethods(activity_register.this);\n\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\n        pb = findViewById(R.id.progressBar3);\n        inputUsername=findViewById(R.id.inputUsername);\n        inputEmail=findViewById(R.id.inputEmail);\n        inputPassword=findViewById(R.id.inputPassword);\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\n        btnRegister=findViewById(R.id.btnRegister);\n        username=inputUsername.getText().toString();\n        email=inputEmail.getText().toString();\n        password=inputPassword.getText().toString();\n\n        pb.setVisibility(View.GONE);\n        HaveAccount.setOnClickListener(view -&gt; {\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\n            startActivity(loginintent);\n        });\n\n        mAuth=FirebaseAuth.getInstance();\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\n    }\n</code></pre>\n<p>// we will call the method doRegister(username,email,password); in validateDataandDoRegister()</p>\n<pre><code>    private void doRegister(String username,String email, String password) {\n        pb.setVisibility(View.VISIBLE);\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\n            if(task != null ){\n                if(mAuth.getCurrentUser() != null){\n                    userID=mAuth.getCurrentUser().getUid();\n                }\n\n//                firebaseMethods.registerNewEmail(username,email,password);\n                sendVerificationEmail();\n//                firebaseMethods.addNewUser(email, username);\n            }\n\n        }).addOnFailureListener(e -&gt; {\n            if(e instanceof FirebaseAuthUserCollisionException){\n                btnRegister.setEnabled(true);\n                inputEmail.setError(&quot;Email Already Registered&quot;);\n                pb.setVisibility(View.GONE);\n                inputEmail.requestFocus();\n            }\n            else{\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void sendVerificationEmail() {\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\n            if(task != null &amp;&amp; task.isSuccessful()){\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\n                //fixing the bug\n                mAuth.signOut();\n            }\n            else {\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n    /*\n    ------------------------------------ Firebase ---------------------------------------------\n     */\n\n    /**\n     * Setup the firebase auth object\n     */\n    private void setupFirebaseAuth(){\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\n        mAuth = FirebaseAuth.getInstance();\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n        myRef = mFirebaseDatabase.getReference();\n\n        //cannot get into this part of code\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\n            @Override\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                FirebaseUser user=firebaseAuth.getCurrentUser();\n                if (user != null) {\n                    // User is signed in\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\n\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(DataSnapshot dataSnapshot) {\n                            //1st check: Make sure the username is not already in use\n\n                            //Error Occured in the below checkifUsernameExists method call  \n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\n                                //to randomly generate key to make sure username is unique\n                                append = myRef.push().getKey().substring(3,10);\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\n                            }\n                            username = username + append;\n\n                            //add new user to the database\n                            Log.d(TAG, &quot;adding new user to database&quot;);\n                            firebaseMethods.addNewUser(email, username);\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    finish();\n\n                } else {\n                    // User is signed out\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\n                }\n                // ...\n            }\n        };\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        setupFirebaseAuth();\n        mAuth.addAuthStateListener(mAuthListener);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        if (mAuthListener != null) {\n            mAuth.removeAuthStateListener(mAuthListener);\n        }\n    }\n\n}\n</code></pre>\n<p><strong>FirebaseMethods Code</strong></p>\n<pre><code>package com.example.movies4u.Utils;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\nimport com.example.movies4u.Models.User;\nimport com.example.movies4u.Models.UserAccountSettings;\nimport com.example.movies4u.R;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class FirebaseMethods {\n    private static final String TAG=&quot;FirebaseMethods&quot;;\n\n    //Firebase\n    private FirebaseAuth mAuth;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n    private String userID;\n\n    private Context mContext;\n\n    public FirebaseMethods(Context context){\n        mAuth=FirebaseAuth.getInstance();\n        mFirebaseDatabase =FirebaseDatabase.getInstance();\n        myRef=mFirebaseDatabase.getReference();\n        mContext =context;\n\n        if(mAuth.getCurrentUser() !=null){\n            userID =mAuth.getCurrentUser().getUid();\n        }\n    }\n\n    public boolean checkIfUsernameExists(String username, DataSnapshot dataSnapshot){\n        User user =new User();\n        //Getting error in the below line\n        for (DataSnapshot ds: dataSnapshot.child(userID).getChildren()){\n            user.setUsername(ds.getValue(User.class).getUsername());\n\n            if(StringManipulation.expandUsername(user.getUsername()).equals(username)){\n                return true;\n            }\n        }\n        return false;\n    }\n\n   \n\n    public void addNewUser(String email, String username){\n        User user=new User(email,username);\n        if(userID!=null)\n        {\n            myRef.child(mContext.getString(R.string.dbname_users))\n                    .child(userID)\n                    .setValue(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            Log.d(TAG, &quot;user added&quot;);\n                            Toast.makeText(mContext, &quot;user added&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Log.d(TAG, &quot;user not added&quot;);\n                            Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n            UserAccountSettings settings = new UserAccountSettings(username, username);\n\n            myRef.child(mContext.getString(R.string.dbname_user_account_settings))\n                    .child(userID)\n                    .setValue(settings);\n        }\n        else {\n            Log.d(TAG, &quot;user is null&quot;);\n        }\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","ibm-mq","jndi","mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1666947582,"post_id":74232342,"comment_id":131059814,"body_markdown":"Have you checked queue manager error logs? Also there is &quot;There may have been a problem creating the subscription due to it being used by another message consumer.\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.&quot; in the exception stack. Do you have any other application using the same subscription?","body":"Have you checked queue manager error logs? Also there is &quot;There may have been a problem creating the subscription due to it being used by another message consumer. Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.&quot; in the exception stack. Do you have any other application using the same subscription?"},{"owner":{"account_id":25238510,"reputation":11,"user_id":19072687,"display_name":"Suriyan Suriyan"},"score":0,"creation_date":1666967410,"post_id":74232342,"comment_id":131066340,"body_markdown":"Thank you for the reply. We checked on MQ server and there are no topic subscribers.. So the error message - &quot;Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name.&quot; is misleading","body":"Thank you for the reply. We checked on MQ server and there are no topic subscribers.. So the error message - &quot;Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name.&quot; is misleading"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1667027604,"post_id":74232342,"comment_id":131077733,"body_markdown":"Have you checked queue manager error log AMQERR01.LOG file. This file will be located in &lt;qmgr data dir&gt;/qmgrs/&lt;qmgr name&gt;/errors directory.","body":"Have you checked queue manager error log AMQERR01.LOG file. This file will be located in &lt;qmgr data dir&gt;/qmgrs/&lt;qmgr name&gt;/errors directory."}],"owner":{"account_id":25238510,"reputation":11,"user_id":19072687,"display_name":"Suriyan Suriyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666965964,"creation_date":1666944525,"question_id":74232342,"body_markdown":"**We are subscribing the performance data from MQ for IBM integration bus with JNDI \r\nWhile connecting with java application we are getting the below error ,when we check other forums about 2063 error ,it is related to AMS (Advanced Message Security )\r\nbut there is no AMS enabled in MQ \r\nKindly help us identify the issue**\r\n\r\n\r\n\r\n```\r\nJMSException :com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ0026: Failed to subscribe to topic &#39;$SYS/Broker/+/StatisticsAccounting/#&#39; with selector &#39;none&#39; using MQSUB.\r\nThere may have been a problem creating the subscription due to it being used by another message consumer.\r\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531)\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:213)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:113)\r\n                at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.initialize(WMQConsumerShadow.java:1034)\r\n                at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.initialize(WMQSyncConsumerShadow.java:134)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.&lt;init&gt;(WMQMessageConsumer.java:471)\r\n                at com.ibm.msg.client.wmq.internal.WMQSession.createDurableSubscriber(WMQSession.java:923)\r\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1176)\r\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1222)\r\n                at com.ibm.mq.jms.MQSession.createDurableSubscriber(MQSession.java:505)\r\n                at SampleBase.connect(SampleBase.java:694)    \r\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2063&#39; (&#39;MQRC_SECURITY_ERROR&#39;).\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\r\n                ... 15 more\r\n```\r\n\r\n\r\n","title":"MQ IBM integration bus with JNDI while connect with java faced errors","body":"<p><strong>We are subscribing the performance data from MQ for IBM integration bus with JNDI\nWhile connecting with java application we are getting the below error ,when we check other forums about 2063 error ,it is related to AMS (Advanced Message Security )\nbut there is no AMS enabled in MQ\nKindly help us identify the issue</strong></p>\n<pre><code>JMSException :com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ0026: Failed to subscribe to topic '$SYS/Broker/+/StatisticsAccounting/#' with selector 'none' using MQSUB.\nThere may have been a problem creating the subscription due to it being used by another message consumer.\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.\n                at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531)\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:213)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:113)\n                at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.initialize(WMQConsumerShadow.java:1034)\n                at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.initialize(WMQSyncConsumerShadow.java:134)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.&lt;init&gt;(WMQMessageConsumer.java:471)\n                at com.ibm.msg.client.wmq.internal.WMQSession.createDurableSubscriber(WMQSession.java:923)\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1176)\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1222)\n                at com.ibm.mq.jms.MQSession.createDurableSubscriber(MQSession.java:505)\n                at SampleBase.connect(SampleBase.java:694)    \nCaused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode '2' ('MQCC_FAILED') reason '2063' ('MQRC_SECURITY_ERROR').\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\n                ... 15 more\n</code></pre>\n"},{"tags":["java","c#","android","xamarin","visual-studio-2022"],"comments":[{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666895689,"post_id":74226563,"comment_id":131049470,"body_markdown":"I can only assume you are compiling your code and you are getting a warning with a message that serves as the title for this question?","body":"I can only assume you are compiling your code and you are getting a warning with a message that serves as the title for this question?"},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666895862,"post_id":74226563,"comment_id":131049532,"body_markdown":"You are correct.","body":"You are correct."},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666897423,"post_id":74226563,"comment_id":131049951,"body_markdown":"The downvotes do not necessarily reflect the legitimacy of the question. It probably has more to do with how the question and it&#39;s details are presented.","body":"The downvotes do not necessarily reflect the legitimacy of the question. It probably has more to do with how the question and it&#39;s details are presented."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666898260,"post_id":74226563,"comment_id":131050216,"body_markdown":"You wrote three paragraphs of text to essentially ask “what is the correct syntax for this API call?”","body":"You wrote three paragraphs of text to essentially ask “what is the correct syntax for this API call?”"},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666898806,"post_id":74226563,"comment_id":131050364,"body_markdown":"What language are you writing this code in?","body":"What language are you writing this code in?"},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666898900,"post_id":74226563,"comment_id":131050390,"body_markdown":"I use VS 2022 and code in c#.","body":"I use VS 2022 and code in c#."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666898993,"post_id":74226563,"comment_id":131050413,"body_markdown":"@jason I wrote three paragraphs to explain why I was asking for the correct syntax.  I felt that was necessary as the code as written works.","body":"@jason I wrote three paragraphs to explain why I was asking for the correct syntax.  I felt that was necessary as the code as written works."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666902375,"post_id":74226563,"comment_id":131051401,"body_markdown":"context is great, but in this case (IMO) it just obscured the fairly straightforward question you were actually asking","body":"context is great, but in this case (IMO) it just obscured the fairly straightforward question you were actually asking"},{"owner":{"account_id":68306,"reputation":19133,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1666918275,"post_id":74226563,"comment_id":131054427,"body_markdown":"FWIW: Never assume people will click on links: a question should *stand on its own*. The question would be clearer if it included the java function syntax, for which you are trying to figure out the c# equivalent: `getParcelable(String key, Class&lt;T&gt; clazz)`. Without that, its a lot of words, that never quite say what API method you are trying to call. ALSO, when there is an error or warning, **include the full text of the error or warning**. Here, that would have shown the &quot;safer&quot; call.","body":"FWIW: Never assume people will click on links: a question should <i>stand on its own</i>. The question would be clearer if it included the java function syntax, for which you are trying to figure out the c# equivalent: <code>getParcelable(String key, Class&lt;T&gt; clazz)</code>. Without that, its a lot of words, that never quite say what API method you are trying to call. ALSO, when there is an error or warning, <b>include the full text of the error or warning</b>. Here, that would have shown the &quot;safer&quot; call."}],"answers":[{"tags":[],"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666964868,"creation_date":1666898648,"answer_id":74227296,"question_id":74226563,"body_markdown":"A quick look at the source code (available online) confirms what you are experiencing:\r\n\r\n\t/* @deprecated Use the type-safer {@link #getParcelable(String, Class)} starting from Android\r\n    *      {@link Build.VERSION_CODES#TIRAMISU}.\r\n    */\r\n    @Deprecated\r\n    @Nullable\r\n    public &lt;T extends Parcelable&gt; T getParcelable(@Nullable String key) {\r\n      //Implementation here\r\n    }\r\n\r\nAs you can see, the comment is recommending you use the other (type-safer) method instead:\r\n\r\n\t/**\r\n     * Returns the value associated with the given key or {@code null} if:\r\n     * &lt;ul&gt;\r\n     *     &lt;li&gt;No mapping of the desired type exists for the given key.\r\n     *     &lt;li&gt;A {@code null} value is explicitly associated with the key.\r\n     *     &lt;li&gt;The object is not of type {@code clazz}.\r\n     * &lt;/ul&gt;\r\n     *\r\n     * &lt;p&gt;&lt;b&gt;Note: &lt;/b&gt; if the expected value is not a class provided by the Android platform,\r\n     * you must call {@link #setClassLoader(ClassLoader)} with the proper {@link ClassLoader} first.\r\n     * Otherwise, this method might throw an exception or return {@code null}.\r\n     *\r\n     * @param key a String, or {@code null}\r\n     * @param clazz The type of the object expected\r\n     * @return a Parcelable value, or {@code null}\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Nullable\r\n    public &lt;T&gt; T getParcelable(@Nullable String key, @NonNull Class&lt;T&gt; clazz) {\r\n        // The reason for not using &lt;T extends Parcelable&gt; is because the caller could provide a\r\n        // super class to restrict the children that doesn&#39;t implement Parcelable itself while the\r\n        // children do, more details at b/210800751 (same reasoning applies here).\r\n        return get(key, clazz);\r\n    }\r\n\r\nThe new method even has a comment as to why you want to use this instead.\r\n\r\nNotice this in particular:\r\n\r\n&gt; * @param clazz The type of the object expected\r\n\r\nSo, to answer your question, it looks like you should be doing this to get the object:\r\n\r\n    User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(typeof(User))) as User;\r\n\r\nOr:\r\n\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(MyUser.GetType())) as User;\r\n","title":"&#39;Bundle.GetParcelable(string?)&#39; is obsolete: &#39;deprecated&#39;","body":"<p>A quick look at the source code (available online) confirms what you are experiencing:</p>\n<pre><code>/* @deprecated Use the type-safer {@link #getParcelable(String, Class)} starting from Android\n*      {@link Build.VERSION_CODES#TIRAMISU}.\n*/\n@Deprecated\n@Nullable\npublic &lt;T extends Parcelable&gt; T getParcelable(@Nullable String key) {\n  //Implementation here\n}\n</code></pre>\n<p>As you can see, the comment is recommending you use the other (type-safer) method instead:</p>\n<pre><code>/**\n * Returns the value associated with the given key or {@code null} if:\n * &lt;ul&gt;\n *     &lt;li&gt;No mapping of the desired type exists for the given key.\n *     &lt;li&gt;A {@code null} value is explicitly associated with the key.\n *     &lt;li&gt;The object is not of type {@code clazz}.\n * &lt;/ul&gt;\n *\n * &lt;p&gt;&lt;b&gt;Note: &lt;/b&gt; if the expected value is not a class provided by the Android platform,\n * you must call {@link #setClassLoader(ClassLoader)} with the proper {@link ClassLoader} first.\n * Otherwise, this method might throw an exception or return {@code null}.\n *\n * @param key a String, or {@code null}\n * @param clazz The type of the object expected\n * @return a Parcelable value, or {@code null}\n */\n@SuppressWarnings(&quot;unchecked&quot;)\n@Nullable\npublic &lt;T&gt; T getParcelable(@Nullable String key, @NonNull Class&lt;T&gt; clazz) {\n    // The reason for not using &lt;T extends Parcelable&gt; is because the caller could provide a\n    // super class to restrict the children that doesn't implement Parcelable itself while the\n    // children do, more details at b/210800751 (same reasoning applies here).\n    return get(key, clazz);\n}\n</code></pre>\n<p>The new method even has a comment as to why you want to use this instead.</p>\n<p>Notice this in particular:</p>\n<blockquote>\n<ul>\n<li>@param clazz The type of the object expected</li>\n</ul>\n</blockquote>\n<p>So, to answer your question, it looks like you should be doing this to get the object:</p>\n<pre><code>User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\nMyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(typeof(User))) as User;\n</code></pre>\n<p>Or:</p>\n<pre><code>MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(MyUser.GetType())) as User;\n</code></pre>\n"}],"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3973,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74227296,"answer_count":1,"score":-1,"last_activity_date":1666964868,"creation_date":1666894415,"question_id":74226563,"body_markdown":"So I have this obsolescence issue using VS 2022 Xamarin and android api 33 (Triamisu), I don&#39;t want to use the `[Obsolete]` key word as although the app works fine on my Samsung S21 (Android v13) phone, eventually all support for earlier versions of android will drop off and I will have to update all my code anyway.  So in the interest of getting ahead of this, I&#39;m putting the question out there.\r\n\r\nCurrently my code is:\r\n    \r\n    User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;) as User;\r\n\r\nI move the user data from one activity to another so I don&#39;t have to make another call to the database, hopefully saving time.  I read the article [here][1] and can&#39;t really figure out what syntax I need in order to correct the code.  `User` is a class defined in my code and I populate an instance of the class with the user&#39;s data.  I move the data from one activity to another like this:\r\n\r\n    Intent intent = new Intent(this, typeof(Menu));\r\n    Bundle bundlee = new Bundle();\r\n    bundlee.PutParcelable(&quot;MyUser&quot;, MyUser); // Persist user class to next activity\r\n    intent.PutExtra(&quot;TheBundle&quot;, bundlee);\r\n    StartActivity(intent);\r\n\r\nNow apparently things are changing and I cannot figure out how to adapt my code to the change.  There isn&#39;t a lot of information out there as this is a recent change, I&#39;ve read the android developer documentation [here][2] but it wasn&#39;t much help.  What `class clazz` do I use in this instance?  I created the class I&#39;m passing in c#, so it&#39;s not java.  I&#39;m very confused.  Can anyone clear this up for me? \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Bundle\r\n  [2]: https://developer.android.com/reference/android/os/Bundle.html#getParcelable(java.lang.String,%20java.lang.Class%3CT%3E)","title":"&#39;Bundle.GetParcelable(string?)&#39; is obsolete: &#39;deprecated&#39;","body":"<p>So I have this obsolescence issue using VS 2022 Xamarin and android api 33 (Triamisu), I don't want to use the <code>[Obsolete]</code> key word as although the app works fine on my Samsung S21 (Android v13) phone, eventually all support for earlier versions of android will drop off and I will have to update all my code anyway.  So in the interest of getting ahead of this, I'm putting the question out there.</p>\n<p>Currently my code is:</p>\n<pre><code>User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\nMyUser = bundlee.GetParcelable(&quot;MyUser&quot;) as User;\n</code></pre>\n<p>I move the user data from one activity to another so I don't have to make another call to the database, hopefully saving time.  I read the article <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">here</a> and can't really figure out what syntax I need in order to correct the code.  <code>User</code> is a class defined in my code and I populate an instance of the class with the user's data.  I move the data from one activity to another like this:</p>\n<pre><code>Intent intent = new Intent(this, typeof(Menu));\nBundle bundlee = new Bundle();\nbundlee.PutParcelable(&quot;MyUser&quot;, MyUser); // Persist user class to next activity\nintent.PutExtra(&quot;TheBundle&quot;, bundlee);\nStartActivity(intent);\n</code></pre>\n<p>Now apparently things are changing and I cannot figure out how to adapt my code to the change.  There isn't a lot of information out there as this is a recent change, I've read the android developer documentation <a href=\"https://developer.android.com/reference/android/os/Bundle.html#getParcelable(java.lang.String,%20java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">here</a> but it wasn't much help.  What <code>class clazz</code> do I use in this instance?  I created the class I'm passing in c#, so it's not java.  I'm very confused.  Can anyone clear this up for me?</p>\n"},{"tags":["java","spring","spring-boot","docker","shell"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1614336493,"post_id":66384350,"comment_id":117360587,"body_markdown":"do they not get triggered, or not at the correct time?","body":"do they not get triggered, or not at the correct time?"},{"owner":{"account_id":5676815,"reputation":201,"user_id":4489665,"accept_rate":21,"display_name":"Thej"},"score":0,"creation_date":1614336704,"post_id":66384350,"comment_id":117360670,"body_markdown":"They are not getting triggered in docker","body":"They are not getting triggered in docker"}],"answers":[{"tags":[],"owner":{"account_id":24168586,"reputation":31,"user_id":18130987,"display_name":"hopawastaken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655480807,"creation_date":1655480807,"answer_id":72661831,"question_id":66384350,"body_markdown":"I had this problem and it was because the docker container was automatically on UTC time zone, try running &quot;date&quot; in the container and seeing what time it is. \r\n\r\nTo change time zone using ubuntu as the base image, add to the dockerfile: \r\n\r\n```\r\nRUN apt-get update &amp;&amp; apt-get -y install tzdata\r\nENV TZ=&quot;insert-time-zone&quot; //Example: America/Chicago\r\n```\r\nCheck out [this question](https://stackoverflow.com/questions/57607381/how-do-i-change-timezone-in-a-docker-container) for more information.","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>I had this problem and it was because the docker container was automatically on UTC time zone, try running &quot;date&quot; in the container and seeing what time it is.</p>\n<p>To change time zone using ubuntu as the base image, add to the dockerfile:</p>\n<pre><code>RUN apt-get update &amp;&amp; apt-get -y install tzdata\nENV TZ=&quot;insert-time-zone&quot; //Example: America/Chicago\n</code></pre>\n<p>Check out <a href=\"https://stackoverflow.com/questions/57607381/how-do-i-change-timezone-in-a-docker-container\">this question</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":24781193,"reputation":71,"user_id":18664620,"display_name":"meher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666964276,"creation_date":1666964276,"answer_id":74236252,"question_id":66384350,"body_markdown":"Add to your Dockerfile:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    RUN apt-get update &amp;&amp; apt-get -y install tzdata\r\n    ENV TZ=&quot;America/Araguaina&quot;\r\n    RUN date\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>Add to your Dockerfile:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>RUN apt-get update &amp;&amp; apt-get -y install tzdata\nENV TZ=\"America/Araguaina\"\nRUN date</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5676815,"reputation":201,"user_id":4489665,"accept_rate":21,"display_name":"Thej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666964276,"creation_date":1614336344,"question_id":66384350,"body_markdown":"I have a cron job in my spring boot application which runs periodically. On enabling job, Automatically jobs are getting triggered and it is working as expected in Windows tomcat server\r\n\r\nBut when the same code is deployed into Linux Docker environment. Jobs are not getting triggered at the scheduled time.\r\nI verified few links below. But it didn&#39;t solve my problem.\r\nhttps://stackoverflow.com/questions/47910929/spring-boot-scheduled-task-not-working-on-docker-container\r\n\r\nWhat is the right approach to handle this?\r\n\r\n    TestJobScheduler.class:\r\n    -------------------------\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class TestJobScheduler {\r\n    \r\n    \t@Value(&quot;${test.job.enabled}&quot;)\r\n    \tprivate boolean isTestJobEnabled;\r\n    \t\r\n    \t@Scheduled(cron = &quot;${test.cron.expression}&quot;)\r\n    \tpublic void testSchedulerJob() {\r\n    \t\tif(isTestJobEnabled) {\r\n    \t\t\t//Do your work\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    application.properties:\r\n    ------------------------\r\n    test.job.enabled=true\r\n    test.cron.expression=0 0 6 ? * 3,5","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>I have a cron job in my spring boot application which runs periodically. On enabling job, Automatically jobs are getting triggered and it is working as expected in Windows tomcat server</p>\n<p>But when the same code is deployed into Linux Docker environment. Jobs are not getting triggered at the scheduled time.\nI verified few links below. But it didn't solve my problem.\n<a href=\"https://stackoverflow.com/questions/47910929/spring-boot-scheduled-task-not-working-on-docker-container\">Spring Boot Scheduled task not working on docker container</a></p>\n<p>What is the right approach to handle this?</p>\n<pre><code>TestJobScheduler.class:\n-------------------------\n@Configuration\n@EnableScheduling\npublic class TestJobScheduler {\n\n    @Value(&quot;${test.job.enabled}&quot;)\n    private boolean isTestJobEnabled;\n    \n    @Scheduled(cron = &quot;${test.cron.expression}&quot;)\n    public void testSchedulerJob() {\n        if(isTestJobEnabled) {\n            //Do your work\n        }\n    }\n}\n\napplication.properties:\n------------------------\ntest.job.enabled=true\ntest.cron.expression=0 0 6 ? * 3,5\n</code></pre>\n"},{"tags":["java","reflection","module","java-9"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1630936694,"post_id":69064624,"comment_id":122083524,"body_markdown":"What did you expect to happen with `o.getClass().getName()`?","body":"What did you expect to happen with <code>o.getClass().getName()</code>?"},{"owner":{"account_id":1996242,"reputation":23,"user_id":1789168,"display_name":"user1789168"},"score":0,"creation_date":1633830192,"post_id":69064624,"comment_id":122864282,"body_markdown":"@Holger Raise an error since the module containing the class I am calling getName() on did not allow reflection.","body":"@Holger Raise an error since the module containing the class I am calling getName() on did not allow reflection."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633859083,"creation_date":1633859083,"answer_id":69514065,"question_id":69064624,"body_markdown":"The Java Language Specification does not define Reflection (and hence, the impact of `opens` or the lack thereof) in detail but rather [refers to the API specification]:\r\n\r\n&gt; [...] This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation.\r\n&gt; \r\n&gt; Consequently, this specification does not describe reflection in any detail. Many linguistic constructs have analogs in the Core Reflection API (`java.lang.reflect`) and the Language Model API (`javax.lang.model`), but these are generally not discussed here.\r\n\r\nThe Java SE Platform API documentation specifies when an `IllegalAccessException` can be thrown, e.g. on invocations of [`Field.get`] or [`Method.invoke`].\r\n\r\nNeither [`Object.getClass()`] nor [`Class.getName()`] have been specified to potentially throw an `IllegalAccessException`.\r\n\r\nThis is consistent with the runtime behavior of Java before the module system introduction. Just the rules regarding when an access is granted or not became more complex.\r\n\r\nThe impact of being able to query the name of a class is rather low compared to accessing the internal data or invoking non-API methods.\r\n\r\n[refers to the API specification]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.4\r\n[`Field.get`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\r\n[`Method.invoke`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Method.html#invoke(java.lang.Object,java.lang.Object...)\r\n[`Object.getClass()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\r\n[`Class.getName()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()","title":"Why does getClass().getName() work on a module class that is not open?","body":"<p>The Java Language Specification does not define Reflection (and hence, the impact of <code>opens</code> or the lack thereof) in detail but rather <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.4\" rel=\"nofollow noreferrer\">refers to the API specification</a>:</p>\n<blockquote>\n<p>[...] This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation.</p>\n<p>Consequently, this specification does not describe reflection in any detail. Many linguistic constructs have analogs in the Core Reflection API (<code>java.lang.reflect</code>) and the Language Model API (<code>javax.lang.model</code>), but these are generally not discussed here.</p>\n</blockquote>\n<p>The Java SE Platform API documentation specifies when an <code>IllegalAccessException</code> can be thrown, e.g. on invocations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Field.get</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Method.html#invoke(java.lang.Object,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>Method.invoke</code></a>.</p>\n<p>Neither <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>Object.getClass()</code></a> nor <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()\" rel=\"nofollow noreferrer\"><code>Class.getName()</code></a> have been specified to potentially throw an <code>IllegalAccessException</code>.</p>\n<p>This is consistent with the runtime behavior of Java before the module system introduction. Just the rules regarding when an access is granted or not became more complex.</p>\n<p>The impact of being able to query the name of a class is rather low compared to accessing the internal data or invoking non-API methods.</p>\n"}],"owner":{"account_id":1996242,"reputation":23,"user_id":1789168,"display_name":"user1789168"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69514065,"answer_count":1,"score":2,"last_activity_date":1666964049,"creation_date":1630854660,"question_id":69064624,"body_markdown":"I have two Java 9 modules, a server, and a handler.  The server loads HTTP handlers with the ServiceLoader (code below).\r\n\r\nWhy does the `o.getClass().getName()` in this snippet work?  Is it because `provides` opens the handler class up to reflection? Does getClass().getName() not use reflection?  Does Java somehow always map an interface to the underlying class instance (and thus to the class) without needing reflection?\r\n\r\nserver module code:\r\n```\r\n    ServiceLoader\r\n      .load(HTTPHandlerWithContext.class)\r\n      .stream()\r\n      .map(ServiceLoader.Provider::get)\r\n      .forEach(o -&gt; {\r\n        System.out.printf(\r\n          &quot;registering route %s to %s%n&quot;,\r\n          o.getContext(),\r\n          o.getClass().getName()\r\n        );\r\n        server.createContext(o.getContext(), o);\r\n      });\r\n```\r\n\r\nhandler module-info:\r\n```\r\nmodule com.example.helloworld {\r\n  requires com.example.tinyjhttpd;\r\n  requires jdk.httpserver;\r\n  provides com.example.tinyjhttpd.HTTPHandlerWithContext\r\n    with com.example.helloworld.HelloWorld;\r\n}\r\n```\r\n\r\nWhat I think is the relevant snippet from Class.java was not enough to make it clear to me:\r\n\r\n```\r\n    // Cache the name to reduce the number of calls into the VM.\r\n    // This field would be set by VM itself during initClassName call.\r\n    private transient String name;\r\n    private native String initClassName();\r\n```\r\n\r\n","title":"Why does getClass().getName() work on a module class that is not open?","body":"<p>I have two Java 9 modules, a server, and a handler.  The server loads HTTP handlers with the ServiceLoader (code below).</p>\n<p>Why does the <code>o.getClass().getName()</code> in this snippet work?  Is it because <code>provides</code> opens the handler class up to reflection? Does getClass().getName() not use reflection?  Does Java somehow always map an interface to the underlying class instance (and thus to the class) without needing reflection?</p>\n<p>server module code:</p>\n<pre><code>    ServiceLoader\n      .load(HTTPHandlerWithContext.class)\n      .stream()\n      .map(ServiceLoader.Provider::get)\n      .forEach(o -&gt; {\n        System.out.printf(\n          &quot;registering route %s to %s%n&quot;,\n          o.getContext(),\n          o.getClass().getName()\n        );\n        server.createContext(o.getContext(), o);\n      });\n</code></pre>\n<p>handler module-info:</p>\n<pre><code>module com.example.helloworld {\n  requires com.example.tinyjhttpd;\n  requires jdk.httpserver;\n  provides com.example.tinyjhttpd.HTTPHandlerWithContext\n    with com.example.helloworld.HelloWorld;\n}\n</code></pre>\n<p>What I think is the relevant snippet from Class.java was not enough to make it clear to me:</p>\n<pre><code>    // Cache the name to reduce the number of calls into the VM.\n    // This field would be set by VM itself during initClassName call.\n    private transient String name;\n    private native String initClassName();\n</code></pre>\n"},{"tags":["javascript","java","arrays","servlets","aem"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1666971638,"post_id":74236126,"comment_id":131067912,"body_markdown":"Javascript can use XMLHttpRequest to request array from Servlet.","body":"Javascript can use XMLHttpRequest to request array from Servlet."},{"owner":{"account_id":26692146,"reputation":1,"user_id":20300573,"display_name":"Abhinay up"},"score":0,"creation_date":1666976636,"post_id":74236126,"comment_id":131069628,"body_markdown":"could you explain me bit in detail","body":"could you explain me bit in detail"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1666979000,"post_id":74236126,"comment_id":131070427,"body_markdown":"https://stackoverflow.com/questions/247483/http-get-request-in-javascript/4033310#4033310","body":"<a href=\"https://stackoverflow.com/questions/247483/http-get-request-in-javascript/4033310#4033310\" title=\"http get request in javascript\">stackoverflow.com/questions/247483/&hellip;</a>"}],"owner":{"account_id":26692146,"reputation":1,"user_id":20300573,"display_name":"Abhinay up"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666963657,"creation_date":1666963657,"question_id":74236126,"body_markdown":"# this is my servlet where i am getting sorted array as response    \r\n```     \r\n    String[] myarray = new String[] {nameOne, nameTwo, nameThree, nameFour, nameFive};\r\n \r\n    Arrays.sort(myarray, String.CASE_INSENSITIVE_ORDER);\r\n    Gson gson=new Gson();\r\nString jsonData=gson.toJson(myarray);\r\n\r\nresponse.setContentType(&quot;application/json&quot;);\r\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\nresponse.getWriter().write(jsonData);\r\n```\r\nbelow is my javascript code to get array elements as ordered list, my pronblem is i dont know how to access the array from servlet in this javascript.anyone pls explain how can i store the array in a variable (var str)\r\n```\r\n    var str=// i want to store the array from servlet in this variable\r\n    var list = document.createElement(&quot;ol&quot;);\r\nfor (let i of str) {\r\n  let item = document.createElement(&quot;li&quot;);\r\n  item.innerHTML = i;\r\n  list.appendChild(item);\r\n}\r\n\r\ndocument.getElementById(&quot;demoA&quot;).appendChild(list);\r\n```\r\n\r\n```\r\nthis is html code\r\n&lt;div id=&quot;demoA&quot;&gt;&lt;/div&gt;\r\n\r\nI tried request dispatcher but it is useful for jsp files . if solution is to use req dispatcher then pls tell me jsp code to generate that array elementrs as ordered list in html.","title":"pass array from servlet to javascript","body":"<h1>this is my servlet where i am getting sorted array as response</h1>\n<pre><code>    String[] myarray = new String[] {nameOne, nameTwo, nameThree, nameFour, nameFive};\n \n    Arrays.sort(myarray, String.CASE_INSENSITIVE_ORDER);\n    Gson gson=new Gson();\nString jsonData=gson.toJson(myarray);\n\nresponse.setContentType(&quot;application/json&quot;);\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\nresponse.getWriter().write(jsonData);\n</code></pre>\n<p>below is my javascript code to get array elements as ordered list, my pronblem is i dont know how to access the array from servlet in this javascript.anyone pls explain how can i store the array in a variable (var str)</p>\n<pre><code>    var str=// i want to store the array from servlet in this variable\n    var list = document.createElement(&quot;ol&quot;);\nfor (let i of str) {\n  let item = document.createElement(&quot;li&quot;);\n  item.innerHTML = i;\n  list.appendChild(item);\n}\n\ndocument.getElementById(&quot;demoA&quot;).appendChild(list);\n</code></pre>\n<pre><code>this is html code\n&lt;div id=&quot;demoA&quot;&gt;&lt;/div&gt;\n\nI tried request dispatcher but it is useful for jsp files . if solution is to use req dispatcher then pls tell me jsp code to generate that array elementrs as ordered list in html.\n</code></pre>\n"},{"tags":["java","spring","spring-el"],"answers":[{"tags":[],"owner":{"account_id":1943928,"reputation":313,"user_id":1749487,"display_name":"Zaheylu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1428572589,"creation_date":1428572589,"answer_id":29535007,"question_id":29534883,"body_markdown":"Try \r\n\r\n    Expression expression=parser.parseExpression(&quot;&#39;Hello SPEL&#39;&quot;);\r\n\r\ninstead. \r\n\r\nThe parameter is a String, but the parser needs to know that this is a string, because you can parse other things as well.\r\n\r\nFor more information, have a look [here][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>Try </p>\n\n<pre><code>Expression expression=parser.parseExpression(\"'Hello SPEL'\");\n</code></pre>\n\n<p>instead. </p>\n\n<p>The parameter is a String, but the parser needs to know that this is a string, because you can parse other things as well.</p>\n\n<p>For more information, have a look <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5399592,"reputation":1610,"user_id":4299813,"display_name":"MAnoj Sarnaik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489592641,"creation_date":1479986441,"answer_id":40785109,"question_id":29534883,"body_markdown":"Try this\r\n\r\n    Expression expression=parser.parseExpression(&quot;&#39;Hello SPRING&#39;&quot;);","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>Try this</p>\n\n<pre><code>Expression expression=parser.parseExpression(\"'Hello SPRING'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9322111,"reputation":404,"user_id":6920558,"display_name":"Abdessattar NOISSI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513675632,"creation_date":1513675632,"answer_id":47883731,"question_id":29534883,"body_markdown":"I m facing the same exception when injecting a bean with xml file : \r\n\r\n     &lt;bean id=&quot;myBean&quot;\r\n              class=&quot;mypackage.mybean&quot;\r\n              destroy-method=&quot;destroy&quot;\r\n              p:filePath=\r\n                      &quot;#{systemProperties&#39;java.io.tmpdir&#39;}#{systemProperties&#39;file.separator&#39;}somefile.txt&quot;/&gt;\r\n\r\nthe problem disappear when using: **[]** : \r\n\r\n\r\n    &lt;bean id=&quot;myBean&quot;\r\n              class=&quot;mypackage.mybean&quot;\r\n              destroy-method=&quot;destroy&quot;\r\n              p:filePath=\r\n                      &quot;#{systemProperties[&#39;java.io.tmpdir&#39;]}#{systemProperties[&#39;file.separator&#39;]}somefile.txt&quot;/&gt;\r\n\r\n\r\nMy this help you to solve your problem ,\r\n\r\nfor more information about this problem please [refer][1] to this issue : \r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-6806","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>I m facing the same exception when injecting a bean with xml file : </p>\n\n<pre><code> &lt;bean id=\"myBean\"\n          class=\"mypackage.mybean\"\n          destroy-method=\"destroy\"\n          p:filePath=\n                  \"#{systemProperties'java.io.tmpdir'}#{systemProperties'file.separator'}somefile.txt\"/&gt;\n</code></pre>\n\n<p>the problem disappear when using: <strong>[]</strong> : </p>\n\n<pre><code>&lt;bean id=\"myBean\"\n          class=\"mypackage.mybean\"\n          destroy-method=\"destroy\"\n          p:filePath=\n                  \"#{systemProperties['java.io.tmpdir']}#{systemProperties['file.separator']}somefile.txt\"/&gt;\n</code></pre>\n\n<p>My this help you to solve your problem ,</p>\n\n<p>for more information about this problem please <a href=\"https://jira.spring.io/browse/SPR-6806\" rel=\"nofollow noreferrer\">refer</a> to this issue : </p>\n"},{"tags":[],"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516086660,"creation_date":1516086660,"answer_id":48275756,"question_id":29534883,"body_markdown":"If you are putting that in your spring beans xml file try putting it like this \r\n\r\n    #{&#39;Hello Spel&#39;}.","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>If you are putting that in your spring beans xml file try putting it like this </p>\n\n<pre><code>#{'Hello Spel'}.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590006416,"creation_date":1590006416,"answer_id":61922318,"question_id":29534883,"body_markdown":"I am using Spring web flow and moved from ognl to Spring 5 WebFlowSpringELExpressionParser and replaced the @package.class.method() with bean.method() and bean was declared in servlet.xml.","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>I am using Spring web flow and moved from ognl to Spring 5 WebFlowSpringELExpressionParser and replaced the @package.class.method() with bean.method() and bean was declared in servlet.xml.</p>\n"},{"tags":[],"owner":{"account_id":2844381,"reputation":429,"user_id":2443197,"accept_rate":50,"display_name":"Scala Enthusiast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666963599,"creation_date":1666963599,"answer_id":74236119,"question_id":29534883,"body_markdown":"I was getting this:\r\n\r\n`EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;colon(:)&#39;`\r\n\r\nand I tried finding something in the answers above. Finally I found that in the latest version of a SpringBoot config file, the value, had been converted to a map and so the URL which was the value of the old version was now a name/value pair separated by the colon in `http://...`.\r\n\r\n**Old value in application.yml**\r\n```\r\nmy:\r\n\tconnection:\r\n\t\turl:http://www.example.com\r\n```\r\n\r\n**New value**\r\n```\r\nmy:\r\n\tconnection:\r\n\t\turl: &quot;{\r\n\t\t\turl1: &#39;http://www.example.com&#39;,\r\n\t\t\turl1: &#39;http://www.example.com&#39;,\r\n\t\t\turl1: &#39;http://www.example.com&#39;\r\n\t\t}&quot;\r\n```\r\nThe solution to the error message was to update to the config file with the map. This gave the code what it wanted.","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>I was getting this:</p>\n<p><code>EL1041E: After parsing a valid expression, there is still more data in the expression: 'colon(:)'</code></p>\n<p>and I tried finding something in the answers above. Finally I found that in the latest version of a SpringBoot config file, the value, had been converted to a map and so the URL which was the value of the old version was now a name/value pair separated by the colon in <code>http://...</code>.</p>\n<p><strong>Old value in application.yml</strong></p>\n<pre><code>my:\n    connection:\n        url:http://www.example.com\n</code></pre>\n<p><strong>New value</strong></p>\n<pre><code>my:\n    connection:\n        url: &quot;{\n            url1: 'http://www.example.com',\n            url1: 'http://www.example.com',\n            url1: 'http://www.example.com'\n        }&quot;\n</code></pre>\n<p>The solution to the error message was to update to the config file with the map. This gave the code what it wanted.</p>\n"}],"owner":{"account_id":5712704,"reputation":189,"user_id":4514114,"display_name":"Udhay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63449,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1666963599,"creation_date":1428572218,"question_id":29534883,"body_markdown":"I am using Spring Expression Language (SpEL) and created a sample program. The code snippet is \r\n\r\n    ExpressionParser parser=new SpelExpressionParser();\r\n    Expression expression=parser.parseExpression(&quot;Hello SPEL&quot;);\r\n\r\nBut got below error.\r\n\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.expression.spel.SpelParseException: EL1041E:(pos 6): After parsing a valid expression, there is still more data in the expression: &#39;SPEL&#39;\r\n    \tat org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:116)\r\n    \tat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:56)\r\n    \tat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:1)\r\n    \tat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:66)\r\n    \tat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:56)","title":"SpEL parsing a valid expression, there is still more data in expression","body":"<p>I am using Spring Expression Language (SpEL) and created a sample program. The code snippet is </p>\n\n<pre><code>ExpressionParser parser=new SpelExpressionParser();\nExpression expression=parser.parseExpression(\"Hello SPEL\");\n</code></pre>\n\n<p>But got below error.</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.expression.spel.SpelParseException: EL1041E:(pos 6): After parsing a valid expression, there is still more data in the expression: 'SPEL'\n    at org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:116)\n    at org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:56)\n    at org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:1)\n    at org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:66)\n    at org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:56)\n</code></pre>\n"},{"tags":["java","eclipse","javafx"],"answers":[{"tags":[],"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666536328,"creation_date":1666536328,"answer_id":74172050,"question_id":74171972,"body_markdown":"You are creating a new `Text` on every button click, and adding this new `Text` into `rootM` every time.\r\n\r\nWhen you say `mText.setText(null);` you are clearing the text of the newly created `mText` variable, which is different from the one already added to the layout.\r\n\r\nTo overcome this, you can define the `Text` variable once outside the event handler, and just update its text when needed.\r\n\r\n```java\r\nfinal Text mText = new Text();\r\nrootM.getChildren().add(mText);\r\nmText.setLayoutX(300);\r\nmText.setLayoutY(200);\r\nmText.setFont(Font.font(&quot;Verdana&quot;,50));\r\n\r\nbuttonNew.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    @Override\r\n    public void handle(ActionEvent arg0) {\r\n        // your code to generate random ...\r\n\r\n        mText.setText(randomM1 + &quot; x &quot; + randomM2);\r\n    }\r\n}); \r\n```","title":"JavaFX Replace new Text with old one without overwriting it in the scene","body":"<p>You are creating a new <code>Text</code> on every button click, and adding this new <code>Text</code> into <code>rootM</code> every time.</p>\n<p>When you say <code>mText.setText(null);</code> you are clearing the text of the newly created <code>mText</code> variable, which is different from the one already added to the layout.</p>\n<p>To overcome this, you can define the <code>Text</code> variable once outside the event handler, and just update its text when needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Text mText = new Text();\nrootM.getChildren().add(mText);\nmText.setLayoutX(300);\nmText.setLayoutY(200);\nmText.setFont(Font.font(&quot;Verdana&quot;,50));\n\nbuttonNew.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n    @Override\n    public void handle(ActionEvent arg0) {\n        // your code to generate random ...\n\n        mText.setText(randomM1 + &quot; x &quot; + randomM2);\n    }\n}); \n</code></pre>\n"}],"owner":{"account_id":26402625,"reputation":11,"user_id":20052876,"display_name":"Juju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74172050,"answer_count":1,"score":1,"last_activity_date":1666963250,"creation_date":1666535556,"question_id":74171972,"body_markdown":"I am pretty new to Java and in the second month of my training.\r\nI want that every time I press &lt;kbd&gt;New&lt;/kbd&gt;, the old text deletes and then the new one comes. But it doesn&#39;t work. I have already made research on the Internet.\r\n\r\nWhen I press &lt;kbd&gt;New&lt;/kbd&gt;, the new text comes over the old text. I thought that if I make `text(null)` before, it deletes it. But it doesn&#39;t work.\r\n\r\nAfter pressing the button more times:\r\n\r\n![image][1]\r\n\r\nHere is my code: \r\n\r\n    buttonNew.setOnAction(ae -&gt; {\r\n\t\tint randomM1 = (int) (Math.random() * 11);\r\n\t\tint randomM2 = (int) (Math.random() * 11);\r\n\t\tSystem.out.println(randomM1 + &quot; x &quot; + randomM2);\r\n\t\tSystem.out.println(randomM1 * randomM2);\r\n\t\t\r\n\t\tText mText = new Text();\r\n\t\tmText.setText(null);\r\n\t\tmText.setText(randomM1 + &quot; x &quot; + randomM2);\r\n\t\trootM.getChildren().add(mText);\r\n\t\tmText.setLayoutX(300);\r\n\t\tmText.setLayoutY(200);\r\n\t\tmText.setFont(Font.font(&quot;Verdana&quot;, 50));\r\n\t});\t\r\n\r\n  [1]: https://i.stack.imgur.com/J9Jey.png","title":"JavaFX Replace new Text with old one without overwriting it in the scene","body":"<p>I am pretty new to Java and in the second month of my training.\nI want that every time I press <kbd>New</kbd>, the old text deletes and then the new one comes. But it doesn't work. I have already made research on the Internet.</p>\n<p>When I press <kbd>New</kbd>, the new text comes over the old text. I thought that if I make <code>text(null)</code> before, it deletes it. But it doesn't work.</p>\n<p>After pressing the button more times:</p>\n<p><img src=\"https://i.stack.imgur.com/J9Jey.png\" alt=\"image\" /></p>\n<p>Here is my code:</p>\n<pre><code>buttonNew.setOnAction(ae -&gt; {\n    int randomM1 = (int) (Math.random() * 11);\n    int randomM2 = (int) (Math.random() * 11);\n    System.out.println(randomM1 + &quot; x &quot; + randomM2);\n    System.out.println(randomM1 * randomM2);\n    \n    Text mText = new Text();\n    mText.setText(null);\n    mText.setText(randomM1 + &quot; x &quot; + randomM2);\n    rootM.getChildren().add(mText);\n    mText.setLayoutX(300);\n    mText.setLayoutY(200);\n    mText.setFont(Font.font(&quot;Verdana&quot;, 50));\n}); \n</code></pre>\n"},{"tags":["java","linux","docker","kubernetes","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666963246,"creation_date":1666963246,"answer_id":74236041,"question_id":74235554,"body_markdown":"First of all, the JVM has been aware of containers since Java 11. It will  only ever use a certain percentage of the memory limit you configured. And by default that is not even 100%.\r\n\r\nI fear that what you are seeing is memory leaks (or unbounded memory usage) in the native part of your application. You should be able to confirm this by periodically using `jcmd` to inspect the memory use of your running Java application, or taking heap dumps.\r\n\r\nThe final question is caused by your build environment containing a newer glibc than the openjdk:17-jdk-slim image. Easily fixed by building in a container with the same base OS.","title":"Kubernetes memory-exceeded crash loop / JNI latest C++ version not working","body":"<p>First of all, the JVM has been aware of containers since Java 11. It will  only ever use a certain percentage of the memory limit you configured. And by default that is not even 100%.</p>\n<p>I fear that what you are seeing is memory leaks (or unbounded memory usage) in the native part of your application. You should be able to confirm this by periodically using <code>jcmd</code> to inspect the memory use of your running Java application, or taking heap dumps.</p>\n<p>The final question is caused by your build environment containing a newer glibc than the openjdk:17-jdk-slim image. Easily fixed by building in a container with the same base OS.</p>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666963246,"creation_date":1666960715,"question_id":74235554,"body_markdown":"I have some java pods running in a kubernetes cluster.\r\n\r\nThe pods are running a spring-boot app built using JIB, using a custom JNI library\r\n\r\nThe base image used by JIB is:\r\n```dockerfile\r\nFROM ubuntu:rolling as server-base\r\nRUN apt update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt install -y openjdk-17-jre\r\nENV JAVA_HOME /usr/lib/jvm/java-17-openjdk-amd64\r\nCOPY --from=build-jni-library /root/jni-build/jni.so /usr/lib/\r\nENV SPRING_PROFILES_ACTIVE prod\r\n```\r\nI have a kubernetes deployment of the form: \r\n```yaml\r\n      containers:\r\n        - name: app\r\n          image: app:220f0c29fae873b65daffff5a43409ab0a85e1d2\r\n          resources:\r\n            requests:\r\n              memory: 1Gi\r\n            limits:\r\n              memory: 2Gi\r\n          ports:\r\n            - name: rest-api\r\n              containerPort: 8080\r\n```\r\n\r\nAs my service gets used, the pods start to exceed their memory limit, and restart.\r\n\r\nI&#39;m using Java 17 in my docker build - so expect (the newer versions of) Java to respect the docker/kubernetes resource limits set.\r\nhttps://stackoverflow.com/a/51832723/7759514\r\nhttps://www.royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/\r\n\r\nI suspected that these limits may be ignored because I&#39;m using a custom java base docker image - rather than a prebuilt openjdk image, for example; \r\n\r\nSo I tried using this as my base image for my JIB build\r\n```dockerfile\r\nFROM openjdk:17-jdk-slim as server-base\r\nCOPY --from=build-jni-library /root/jni-build/jni.so /usr/lib/\r\nENV SPRING_PROFILES_ACTIVE local\r\n```\r\n\r\nHowever, the problem I get using this image is that the JNI library I&#39;ve developed requires use of a newer STDLib (which is why I originally used a custom java base image, with the latest ubunutu version); I get this error:\r\n&gt; java.lang.UnsatisfiedLinkError: /usr/lib/jni.so: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.33&#39; not found (required by /usr/lib/jni.so)","title":"Kubernetes memory-exceeded crash loop / JNI latest C++ version not working","body":"<p>I have some java pods running in a kubernetes cluster.</p>\n<p>The pods are running a spring-boot app built using JIB, using a custom JNI library</p>\n<p>The base image used by JIB is:</p>\n<pre><code>FROM ubuntu:rolling as server-base\nRUN apt update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt install -y openjdk-17-jre\nENV JAVA_HOME /usr/lib/jvm/java-17-openjdk-amd64\nCOPY --from=build-jni-library /root/jni-build/jni.so /usr/lib/\nENV SPRING_PROFILES_ACTIVE prod\n</code></pre>\n<p>I have a kubernetes deployment of the form:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      containers:\n        - name: app\n          image: app:220f0c29fae873b65daffff5a43409ab0a85e1d2\n          resources:\n            requests:\n              memory: 1Gi\n            limits:\n              memory: 2Gi\n          ports:\n            - name: rest-api\n              containerPort: 8080\n</code></pre>\n<p>As my service gets used, the pods start to exceed their memory limit, and restart.</p>\n<p>I'm using Java 17 in my docker build - so expect (the newer versions of) Java to respect the docker/kubernetes resource limits set.\n<a href=\"https://stackoverflow.com/a/51832723/7759514\">https://stackoverflow.com/a/51832723/7759514</a>\n<a href=\"https://www.royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/\" rel=\"nofollow noreferrer\">https://www.royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/</a></p>\n<p>I suspected that these limits may be ignored because I'm using a custom java base docker image - rather than a prebuilt openjdk image, for example;</p>\n<p>So I tried using this as my base image for my JIB build</p>\n<pre><code>FROM openjdk:17-jdk-slim as server-base\nCOPY --from=build-jni-library /root/jni-build/jni.so /usr/lib/\nENV SPRING_PROFILES_ACTIVE local\n</code></pre>\n<p>However, the problem I get using this image is that the JNI library I've developed requires use of a newer STDLib (which is why I originally used a custom java base image, with the latest ubunutu version); I get this error:</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError: /usr/lib/jni.so: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.33' not found (required by /usr/lib/jni.so)</p>\n</blockquote>\n"},{"tags":["java","jsp","tomcat","servlets","tomcat9"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1666960102,"post_id":74235121,"comment_id":131063827,"body_markdown":"If the request _doesn&#39;t even reach the servlet_, then the chances are high that you have a caching reverse proxy/CDN in the chain, and your captcha implementation does not generate proper do-not-cache headers.","body":"If the request <i>doesn&#39;t even reach the servlet</i>, then the chances are high that you have a caching reverse proxy/CDN in the chain, and your captcha implementation does not generate proper do-not-cache headers."},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1666963165,"post_id":74235121,"comment_id":131064887,"body_markdown":"@OlafKock yes disabled caching from servlet response","body":"@OlafKock yes disabled caching from servlet response"}],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666963091,"creation_date":1666958554,"question_id":74235121,"body_markdown":"**EDIT**: Not a tomcat issue. Issue is with browsers caching on having a .jpeg extension from servlet. Disabled caching using the servlet code from response -\r\n\r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n\r\nThis issue is with tomcat (9 or maybe other versions) as when deployed locally it works fine but when deployed to a server using the server.xml file like below it shows issues \r\n\r\n    &lt;Host name=&quot;jobs.nvoids.com&quot;  appBase=&quot;webapps&quot;\r\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;        \r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\t\t&lt;Context antiJARLocking=&quot;true&quot; docBase=&quot;/home/jobs&quot; path=&quot;&quot; reloadable=&quot;true&quot;&gt;                \r\n                \r\n        &lt;/Context&gt;\t\r\n\t&lt;/Host&gt;\r\n\r\nI have an servlet which is deployed using web.xml and another i have deployed using annotations.\r\n\r\nThe servlet with web.xml is [here][1] which on reloading **should** show different captchas but it shows the same after 2 reloads. I checked and saw the request doesn&#39;t even reach the servlet.\r\n\r\nThe servlet with annotations is [here][2] and this is working fine and shows different images on each reload.\r\n\r\nthe web.xml is -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;CaptchaServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;myPack.CaptchaServlet1&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;CaptchaServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/image/captcha-image.jpeg&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;    \r\n     &lt;/web-app&gt;\r\n\r\nthe servlet code for generating captcha is [here][3]\r\n\r\nThe tomcat version is 9.0.29\r\n\r\n  [1]: https://jobs.nvoids.com/image/captcha-image.jpeg\r\n  [2]: https://jobs.nvoids.com/testing\r\n  [3]: https://pastebin.com/2x7586Ph","title":"tomcat servlet strange behaviour when deployed using server.xml","body":"<p><strong>EDIT</strong>: Not a tomcat issue. Issue is with browsers caching on having a .jpeg extension from servlet. Disabled caching using the servlet code from response -</p>\n<pre><code>response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\n</code></pre>\n<p>This issue is with tomcat (9 or maybe other versions) as when deployed locally it works fine but when deployed to a server using the server.xml file like below it shows issues</p>\n<pre><code>&lt;Host name=&quot;jobs.nvoids.com&quot;  appBase=&quot;webapps&quot;\n        unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;        \n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n           prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\n           pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n    &lt;Context antiJARLocking=&quot;true&quot; docBase=&quot;/home/jobs&quot; path=&quot;&quot; reloadable=&quot;true&quot;&gt;                \n            \n    &lt;/Context&gt;  \n&lt;/Host&gt;\n</code></pre>\n<p>I have an servlet which is deployed using web.xml and another i have deployed using annotations.</p>\n<p>The servlet with web.xml is <a href=\"https://jobs.nvoids.com/image/captcha-image.jpeg\" rel=\"nofollow noreferrer\">here</a> which on reloading <strong>should</strong> show different captchas but it shows the same after 2 reloads. I checked and saw the request doesn't even reach the servlet.</p>\n<p>The servlet with annotations is <a href=\"https://jobs.nvoids.com/testing\" rel=\"nofollow noreferrer\">here</a> and this is working fine and shows different images on each reload.</p>\n<p>the web.xml is -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;CaptchaServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;myPack.CaptchaServlet1&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;CaptchaServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/image/captcha-image.jpeg&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;\n        30\n    &lt;/session-timeout&gt;\n&lt;/session-config&gt;    \n &lt;/web-app&gt;\n</code></pre>\n<p>the servlet code for generating captcha is <a href=\"https://pastebin.com/2x7586Ph\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The tomcat version is 9.0.29</p>\n"},{"tags":["java","selenium","selenium-webdriver","browser-automation"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1666990928,"post_id":74235969,"comment_id":131073515,"body_markdown":"depends on your requirements.  If you really need two actions happening at the same time, then you need two threads, one for each driver/browser pair.  If, instead, you have a specific sequence it&#39;ll be easier to just use one driver/browser.  (You won&#39;t have to manage the threads and the timing of them...)  What is it that you are testing here?  (concurrency at the DB side?)","body":"depends on your requirements.  If you really need two actions happening at the same time, then you need two threads, one for each driver/browser pair.  If, instead, you have a specific sequence it&#39;ll be easier to just use one driver/browser.  (You won&#39;t have to manage the threads and the timing of them...)  What is it that you are testing here?  (concurrency at the DB side?)"},{"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"score":0,"creation_date":1667215264,"post_id":74235969,"comment_id":131109837,"body_markdown":"i login to one website end perform an action like creating a new group, then i log into a different admin website and approve it. then i go back to the first website and perform another action","body":"i login to one website end perform an action like creating a new group, then i log into a different admin website and approve it. then i go back to the first website and perform another action"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1667235232,"post_id":74235969,"comment_id":131117240,"body_markdown":"I think it&#39;s a toss up.  I&#39;d try it with one driver and see how it goes.  You&#39;d have to login/logout a couple times.  If there&#39;s domain based logins things may get tricky.  You might even want two driver and machines, or one driver in a virtual machine.  Probably a better test case that way too.  Depends on what sort of indication there is that something requires approval.","body":"I think it&#39;s a toss up.  I&#39;d try it with one driver and see how it goes.  You&#39;d have to login/logout a couple times.  If there&#39;s domain based logins things may get tricky.  You might even want two driver and machines, or one driver in a virtual machine.  Probably a better test case that way too.  Depends on what sort of indication there is that something requires approval."}],"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666962928,"creation_date":1666962928,"question_id":74235969,"body_markdown":"I need to use two websites at the same time, so I create two web drivers and open a window for each one. Is it a better idea to just create one web driver and then open a new tab and switch between the tabs and why? I am using Selenium.","title":"Should I open a new window with a new webdriver or use one webdriver?","body":"<p>I need to use two websites at the same time, so I create two web drivers and open a window for each one. Is it a better idea to just create one web driver and then open a new tab and switch between the tabs and why? I am using Selenium.</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666692271,"creation_date":1665922002,"answer_id":74086966,"question_id":74086631,"body_markdown":"First of all, you should do benchmarking to figure out where is the exact bottleneck. [How do I write a correct micro-benchmark in Java?][1] should be a good start.\r\n\r\nNow, an idea, which might help.\r\n\r\n 1. Get all files and directories in a single array. Like this you are getting file and folders with a single operation, instead of two. Accessing file and folders on the disk is not exactly fast operation, so you would want to reduce those. Also if you take a look at the implementation of `listFiles(FileFilter)`, it iterates everything in the folder to find matches, so that&#39;s 1 less iteration of all elements.\r\n```\r\nFile[] directoriesAndFiles = folder.listFiles();\r\n```\r\n 2. As mentioned in other answer `isFile`, `isDirectory` are slow, calling them more than once is not desirable. You can define your wrapper class (record in this case) to cache the results.\r\n```\r\npublic record FileWrapper(File file, String name, boolean isDirectory, boolean isFile) {\r\n}\r\n```\r\n 3. Write composite comparator for the sort. Judging by code you want directories first.\r\n```\r\npublic class FileTypeComparator implements Comparator&lt;FileWrapper&gt; {\r\n\r\n    @Override\r\n    public int compare(FileWrapper first, FileWrapper second) {\r\n        if (first.isDirectory() &amp;&amp; second.isFile()) {\r\n            return -1;\r\n        }\r\n        if (first.isFile() &amp;&amp; second.isDirectory()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n```\r\nCombine it with your by name comparator:\r\n```\r\nComparator&lt;FileWrapper&gt; compositeComparator = new FileTypeComparator()\r\n    .thenComparing(FileWrapper::name, String.CASE_INSENSITIVE_ORDER);\r\n```\r\nThen build the result array with a stream\r\n```\r\nFile[] result = Arrays.stream(directoriesAndFiles)\r\n        .map(file -&gt; new FileWrapper(file, file.getName(), file.isDirectory(), file.isFile())) //map to wrapper class to cache result of expensive methods\r\n        .filter(fw -&gt; fw.isFile() || fw.isDirectory()) //filter out not needed elements\r\n        .sorted(compositeComparator) //sort with composite comparator\r\n        .map(FileWrapper::file) //extract files from the wrapper\r\n        .toArray(File[]::new); //collect in array\r\n```\r\nAdditionally, to avoid building the initial array you can use [Files.list()][2] to get lazily populated stream.\r\n```\r\ntry (Stream&lt;Path&gt; stream = Files.list(Path.of(&quot;initial directory&quot;))) {\r\n    File[] result = stream\r\n            .map(Path::toFile)\r\n            .map(file -&gt; new FileWrapper(file, file.getName(), file.isDirectory(), file.isFile()))\r\n            .filter(fw -&gt; fw.isFile() || fw.isDirectory())\r\n            .sorted(compositeComparator)\r\n            .map(FileWrapper::file)\r\n            .toArray(File[]::new);\r\n} catch (IOException exc) {\r\n    //handle\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#list-java.nio.file.Path-","title":"Java List Directory With Sorting Performance Issue","body":"<p>First of all, you should do benchmarking to figure out where is the exact bottleneck. <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a> should be a good start.</p>\n<p>Now, an idea, which might help.</p>\n<ol>\n<li>Get all files and directories in a single array. Like this you are getting file and folders with a single operation, instead of two. Accessing file and folders on the disk is not exactly fast operation, so you would want to reduce those. Also if you take a look at the implementation of <code>listFiles(FileFilter)</code>, it iterates everything in the folder to find matches, so that's 1 less iteration of all elements.</li>\n</ol>\n<pre><code>File[] directoriesAndFiles = folder.listFiles();\n</code></pre>\n<ol start=\"2\">\n<li>As mentioned in other answer <code>isFile</code>, <code>isDirectory</code> are slow, calling them more than once is not desirable. You can define your wrapper class (record in this case) to cache the results.</li>\n</ol>\n<pre><code>public record FileWrapper(File file, String name, boolean isDirectory, boolean isFile) {\n}\n</code></pre>\n<ol start=\"3\">\n<li>Write composite comparator for the sort. Judging by code you want directories first.</li>\n</ol>\n<pre><code>public class FileTypeComparator implements Comparator&lt;FileWrapper&gt; {\n\n    @Override\n    public int compare(FileWrapper first, FileWrapper second) {\n        if (first.isDirectory() &amp;&amp; second.isFile()) {\n            return -1;\n        }\n        if (first.isFile() &amp;&amp; second.isDirectory()) {\n            return 1;\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>Combine it with your by name comparator:</p>\n<pre><code>Comparator&lt;FileWrapper&gt; compositeComparator = new FileTypeComparator()\n    .thenComparing(FileWrapper::name, String.CASE_INSENSITIVE_ORDER);\n</code></pre>\n<p>Then build the result array with a stream</p>\n<pre><code>File[] result = Arrays.stream(directoriesAndFiles)\n        .map(file -&gt; new FileWrapper(file, file.getName(), file.isDirectory(), file.isFile())) //map to wrapper class to cache result of expensive methods\n        .filter(fw -&gt; fw.isFile() || fw.isDirectory()) //filter out not needed elements\n        .sorted(compositeComparator) //sort with composite comparator\n        .map(FileWrapper::file) //extract files from the wrapper\n        .toArray(File[]::new); //collect in array\n</code></pre>\n<p>Additionally, to avoid building the initial array you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#list-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.list()</a> to get lazily populated stream.</p>\n<pre><code>try (Stream&lt;Path&gt; stream = Files.list(Path.of(&quot;initial directory&quot;))) {\n    File[] result = stream\n            .map(Path::toFile)\n            .map(file -&gt; new FileWrapper(file, file.getName(), file.isDirectory(), file.isFile()))\n            .filter(fw -&gt; fw.isFile() || fw.isDirectory())\n            .sorted(compositeComparator)\n            .map(FileWrapper::file)\n            .toArray(File[]::new);\n} catch (IOException exc) {\n    //handle\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666694943,"creation_date":1665930597,"answer_id":74087936,"question_id":74086631,"body_markdown":"If you have a huge number of files in a folder or are using non-SSD storage the calls to `File.listFiles()` and `File.isDirectory` (or isFile) can make the folder scan quite slow. Doing the scan in one step is possible but the sort by dir / file will still repeat the calls to isDirectory/isFile again.\r\n\r\nInstead you should look at implementing with `Files.find`, which means you can read all the file attributes at the same time so that sort does not re-read file system attributes again. It is neatly handled in one stream. Here is an example which just prints the sorted items and modification times of the current folder:\r\n\r\n    public static Stream&lt;Map.Entry&lt;Path, BasicFileAttributes&gt;&gt;\r\n    find(Path dir, int maxDepth, BiPredicate&lt;Path, BasicFileAttributes&gt; matcher, FileVisitOption... options) throws IOException {\r\n\r\n        // Using ConcurrentHashMap is safe to use with parallel()\r\n        ConcurrentHashMap&lt;Path,BasicFileAttributes&gt; attrs = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        BiPredicate&lt;Path, BasicFileAttributes&gt; predicate = (p,a) -&gt; (matcher == null || matcher.test(p, a)) &amp;&amp; attrs.put(p, a) == null;\r\n        return Files.find(dir, maxDepth, predicate, options).map(p -&gt; Map.entry(p, attrs.remove(p)));\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Path dir = Path.of(args[0]);\r\n        int depth = 1;\r\n\r\n        // Note it is easy to add more sort fields here:\r\n        Comparator&lt;Entry&lt;Path, BasicFileAttributes&gt;&gt; compDirs = Comparator.comparing(entry -&gt; entry.getValue().isRegularFile());\r\n        Comparator&lt;Entry&lt;Path, BasicFileAttributes&gt;&gt; comparing = compDirs.thenComparing(entry -&gt; entry.getKey().getFileName().toString(), String.CASE_INSENSITIVE_ORDER);\r\n\r\n        try(var files = find(dir, depth, (p,a) -&gt; true)) {\r\n            files.sorted(comparing)\r\n                 .forEach(entry \r\n                 -&gt; System.out.println((entry.getValue().isDirectory() ? &quot;DIR  &quot;:&quot;FILE &quot;)+entry.getKey() +&quot; modified &quot;+entry.getValue().lastModifiedTime()));\r\n        }\r\n    }\r\n\r\nIt can be made into tree scan by editing depth to Integer.MAX_VALUE.\r\n\r\nAs you aren&#39;t happy using `.forEach()` just save the stream as a list and process as regular for loop:\r\n\r\n    try(var files = find(dir, depth, (p,a) -&gt; true)) {\r\n        for (var entry : files.sorted(comparing).toList()) {\r\n            BasicFileAttributes attr = entry.getValue();\r\n            Path path = entry.getKey();\r\n            System.out.println((attr.isDirectory() ? &quot;DIR  &quot;:&quot;FILE &quot;)+path +&quot; modified &quot;+attr.lastModifiedTime());\r\n        }\r\n    }\r\n\r\n","title":"Java List Directory With Sorting Performance Issue","body":"<p>If you have a huge number of files in a folder or are using non-SSD storage the calls to <code>File.listFiles()</code> and <code>File.isDirectory</code> (or isFile) can make the folder scan quite slow. Doing the scan in one step is possible but the sort by dir / file will still repeat the calls to isDirectory/isFile again.</p>\n<p>Instead you should look at implementing with <code>Files.find</code>, which means you can read all the file attributes at the same time so that sort does not re-read file system attributes again. It is neatly handled in one stream. Here is an example which just prints the sorted items and modification times of the current folder:</p>\n<pre><code>public static Stream&lt;Map.Entry&lt;Path, BasicFileAttributes&gt;&gt;\nfind(Path dir, int maxDepth, BiPredicate&lt;Path, BasicFileAttributes&gt; matcher, FileVisitOption... options) throws IOException {\n\n    // Using ConcurrentHashMap is safe to use with parallel()\n    ConcurrentHashMap&lt;Path,BasicFileAttributes&gt; attrs = new ConcurrentHashMap&lt;&gt;();\n\n    BiPredicate&lt;Path, BasicFileAttributes&gt; predicate = (p,a) -&gt; (matcher == null || matcher.test(p, a)) &amp;&amp; attrs.put(p, a) == null;\n    return Files.find(dir, maxDepth, predicate, options).map(p -&gt; Map.entry(p, attrs.remove(p)));\n}\n\npublic static void main(String[] args) throws IOException {\n    Path dir = Path.of(args[0]);\n    int depth = 1;\n\n    // Note it is easy to add more sort fields here:\n    Comparator&lt;Entry&lt;Path, BasicFileAttributes&gt;&gt; compDirs = Comparator.comparing(entry -&gt; entry.getValue().isRegularFile());\n    Comparator&lt;Entry&lt;Path, BasicFileAttributes&gt;&gt; comparing = compDirs.thenComparing(entry -&gt; entry.getKey().getFileName().toString(), String.CASE_INSENSITIVE_ORDER);\n\n    try(var files = find(dir, depth, (p,a) -&gt; true)) {\n        files.sorted(comparing)\n             .forEach(entry \n             -&gt; System.out.println((entry.getValue().isDirectory() ? &quot;DIR  &quot;:&quot;FILE &quot;)+entry.getKey() +&quot; modified &quot;+entry.getValue().lastModifiedTime()));\n    }\n}\n</code></pre>\n<p>It can be made into tree scan by editing depth to Integer.MAX_VALUE.</p>\n<p>As you aren't happy using <code>.forEach()</code> just save the stream as a list and process as regular for loop:</p>\n<pre><code>try(var files = find(dir, depth, (p,a) -&gt; true)) {\n    for (var entry : files.sorted(comparing).toList()) {\n        BasicFileAttributes attr = entry.getValue();\n        Path path = entry.getKey();\n        System.out.println((attr.isDirectory() ? &quot;DIR  &quot;:&quot;FILE &quot;)+path +&quot; modified &quot;+attr.lastModifiedTime());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2475075,"reputation":627,"user_id":2155873,"accept_rate":71,"display_name":"Akkad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666962911,"creation_date":1666962911,"answer_id":74235963,"question_id":74086631,"body_markdown":"I went into another direction as am developing for Linux, I used Java to run Linux file access commands using Java Process and it provided a wonderful performance, here is a sample if it helps:\r\n\r\n    List&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n    try\r\n    {\r\n        String cmd = &quot;find /SomePath -maxdepth 1 -mindepth 1 -type d -printf &#39;%f\\n&#39; | sort &amp;&amp; find /SomePath -maxdepth 1 -not -type d -printf &#39;%f\\n&#39; | sort&quot;;\r\n        Process p = new ProcessBuilder(cmd).start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        String line = &quot;&quot;;\r\n        while ((line = reader.readLine()) != null) output.add(line);\r\n        p.waitFor();\r\n    }\r\n    catch (IOException ex) {} \r\n    catch (InterruptedException ex) {}","title":"Java List Directory With Sorting Performance Issue","body":"<p>I went into another direction as am developing for Linux, I used Java to run Linux file access commands using Java Process and it provided a wonderful performance, here is a sample if it helps:</p>\n<pre><code>List&lt;String&gt; output = new ArrayList&lt;String&gt;();\ntry\n{\n    String cmd = &quot;find /SomePath -maxdepth 1 -mindepth 1 -type d -printf '%f\\n' | sort &amp;&amp; find /SomePath -maxdepth 1 -not -type d -printf '%f\\n' | sort&quot;;\n    Process p = new ProcessBuilder(cmd).start();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    String line = &quot;&quot;;\n    while ((line = reader.readLine()) != null) output.add(line);\n    p.waitFor();\n}\ncatch (IOException ex) {} \ncatch (InterruptedException ex) {}\n</code></pre>\n"}],"owner":{"account_id":2475075,"reputation":627,"user_id":2155873,"accept_rate":71,"display_name":"Akkad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1666962911,"creation_date":1665918889,"question_id":74086631,"body_markdown":"I am building a file explorer where am sorting directories and files by name (case insensitive) and ordering directories before files, am using the following code but it is slow in terms of performance, so is there any other way to accomplish this:\r\n\r\n    File[] directories = new File(path).listFiles(File::isDirectory);\r\n    File[] files = new File(path).listFiles(File::isFile);\r\n    \r\n    Arrays.sort(directories, Comparator.comparing(File::getName, String.CASE_INSENSITIVE_ORDER));\r\n    Arrays.sort(files, Comparator.comparing(File::getName, String.CASE_INSENSITIVE_ORDER));\r\n    \r\n    File[] list = new File[directories.length + files.length];\r\n    \r\n    System.arraycopy(directories, 0, list, 0, directories.length);  \r\n    System.arraycopy(files, 0, list, directories.length, files.length); ","title":"Java List Directory With Sorting Performance Issue","body":"<p>I am building a file explorer where am sorting directories and files by name (case insensitive) and ordering directories before files, am using the following code but it is slow in terms of performance, so is there any other way to accomplish this:</p>\n<pre><code>File[] directories = new File(path).listFiles(File::isDirectory);\nFile[] files = new File(path).listFiles(File::isFile);\n\nArrays.sort(directories, Comparator.comparing(File::getName, String.CASE_INSENSITIVE_ORDER));\nArrays.sort(files, Comparator.comparing(File::getName, String.CASE_INSENSITIVE_ORDER));\n\nFile[] list = new File[directories.length + files.length];\n\nSystem.arraycopy(directories, 0, list, 0, directories.length);  \nSystem.arraycopy(files, 0, list, directories.length, files.length); \n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1666959550,"post_id":74235249,"comment_id":131063659,"body_markdown":"A `HashMap` has no intrinsically meaningful order. To find the top N items, you have to iterate over the entire collection, no way around it. This is true regardless of whether you want to order by values rather than keys.","body":"A <code>HashMap</code> has no intrinsically meaningful order. To find the top N items, you have to iterate over the entire collection, no way around it. This is true regardless of whether you want to order by values rather than keys."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666960964,"post_id":74235249,"comment_id":131064124,"body_markdown":"a &quot;trade memory for time trick&quot; can be: To maintain *two* Maps! One (hashed) from keys to values, and one additional (sorted) from values to keys...","body":"a &quot;trade memory for time trick&quot; can be: To maintain <i>two</i> Maps! One (hashed) from keys to values, and one additional (sorted) from values to keys..."},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1666961853,"post_id":74235249,"comment_id":131064438,"body_markdown":"@xerx593 Indeed, (something like) this is what Python does for its `dict` class, and this often even outperforms classical hash tables.","body":"@xerx593 Indeed, (something like) this is what Python does for its <code>dict</code> class, and this often even outperforms classical hash tables."}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666962025,"creation_date":1666959709,"answer_id":74235343,"question_id":74235249,"body_markdown":"    Map&lt;Person,Integer&gt; map = ....\r\n    List&lt;Map.Entry&lt;Person,Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\r\n    Collections.sort( entries, Comparator.comparing(\r\n        Map.Entry::getValue, (v1, v2) -&gt; {\r\n            return v2.compareTo(v1);\r\n        }));\r\n    return entries.subList(0, 5);","title":"Select top N keys with highest values from HashMap and convert to list","body":"<pre><code>Map&lt;Person,Integer&gt; map = ....\nList&lt;Map.Entry&lt;Person,Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\nCollections.sort( entries, Comparator.comparing(\n    Map.Entry::getValue, (v1, v2) -&gt; {\n        return v2.compareTo(v1);\n    }));\nreturn entries.subList(0, 5);\n</code></pre>\n"}],"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666962025,"creation_date":1666959241,"question_id":74235249,"body_markdown":"I have a map of Map&lt;Person, Integer&gt;, and I want to return a list of top N Person with highest value. How can I do this in an elegant way?\r\n\r\nI had tried using TreeMap and select top N to list, but I think there are way better ways to do this.","title":"Select top N keys with highest values from HashMap and convert to list","body":"<p>I have a map of Map&lt;Person, Integer&gt;, and I want to return a list of top N Person with highest value. How can I do this in an elegant way?</p>\n<p>I had tried using TreeMap and select top N to list, but I think there are way better ways to do this.</p>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1666757398,"post_id":74201375,"comment_id":131009367,"body_markdown":"ReportRequest is an Entity not a Spring bean. So, if you try to inject it, it will fail. Your error log confirms this, if you look closely.","body":"ReportRequest is an Entity not a Spring bean. So, if you try to inject it, it will fail. Your error log confirms this, if you look closely."}],"answers":[{"tags":[],"owner":{"account_id":2706908,"reputation":1,"user_id":2336312,"display_name":"bigstack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666754133,"creation_date":1666754133,"answer_id":74202322,"question_id":74201375,"body_markdown":"Try to add (guess may be missed) @ComponentScan in your @Configuration class / SpringBoot starter.\r\nFor Example :\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.my.package&quot;)\r\n    public class MyRootConfigurationClass\r\n ","title":"How can I get a property from an entity table class in Java Spring Boot?","body":"<p>Try to add (guess may be missed) @ComponentScan in your @Configuration class / SpringBoot starter.\nFor Example :</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.my.package&quot;)\npublic class MyRootConfigurationClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16439261,"reputation":16,"user_id":20008181,"display_name":"Michael Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666961943,"creation_date":1666796623,"answer_id":74209981,"question_id":74201375,"body_markdown":"You&#39;re trying to inject an entity class into the service class:\r\n\r\n    @Autowired\r\n    private ReportRequest reportRequest;\r\n\r\n \r\nThat line is throwing the exception because that entity is not managed by Spring. \r\n\r\nI guess you&#180;re trying to get a specific record, in that way you have to use the repository.\r\n\r\nTry this:\r\n\r\n    public void delete(int id) {\r\n    ReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\r\n        if (reportRequest == null || reportRequest.getStatus() == 1) {\r\n            log.error(&quot;It was not possible to delete the selected report as it hasn&#39;t \r\n                been processed yet&quot;);\r\n        } else {\r\n            reportRequestRepository.deleteById(id);\r\n            log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n        }\r\n    }\r\n\r\nI&#39;ll also recommend you throw an exception and use @ControllerAdvice to handle the exception to be sent to front-end.","title":"How can I get a property from an entity table class in Java Spring Boot?","body":"<p>You're trying to inject an entity class into the service class:</p>\n<pre><code>@Autowired\nprivate ReportRequest reportRequest;\n</code></pre>\n<p>That line is throwing the exception because that entity is not managed by Spring.</p>\n<p>I guess you´re trying to get a specific record, in that way you have to use the repository.</p>\n<p>Try this:</p>\n<pre><code>public void delete(int id) {\nReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\n    if (reportRequest == null || reportRequest.getStatus() == 1) {\n        log.error(&quot;It was not possible to delete the selected report as it hasn't \n            been processed yet&quot;);\n    } else {\n        reportRequestRepository.deleteById(id);\n        log.info(&quot;The report request {} was successfully deleted&quot;, id);\n    }\n}\n</code></pre>\n<p>I'll also recommend you throw an exception and use @ControllerAdvice to handle the exception to be sent to front-end.</p>\n"},{"tags":[],"owner":{"account_id":3182409,"reputation":761,"user_id":2688838,"display_name":"user2688838"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666961535,"creation_date":1666961535,"answer_id":74235711,"question_id":74201375,"body_markdown":"Despite is possible to externalize the values used to define what can be deleted or should not, as correctly pointed by an earlier answer, I assume that your logic does not require an extreme flexibility. Consequently a simpler and cleaner approach may implement an enum class for the status. \r\n\r\n    public enum Status {\r\n    \r\n        STATUS_PROCESSED_TYPE_ONE(0),\r\n        STATUS_UNPROCESSED(1),\r\n        STATUS_PROCESSED_TYPE_TWO(2);\r\n    \r\n        private int value;\r\n        Status(int status) {\r\n            this.value = status;\r\n        }\r\n    \r\n        public int getValue() {\r\n            return value;\r\n        }        \r\n    }\r\n\r\nThis class does not require any Spring &quot;magic&quot; and helps to externalize the specific values (0,1,2) from your logic which may be then implemented in your service class as\r\n\r\n    boolean isDeletable(int value) {\r\n        return Status.STATUS_PROCESSED_TYPE_ONE.getValue() == value\r\n                || Status.STATUS_PROCESSED_TYPE_TWO.getValue() == value;\r\n    }\r\n\r\n","title":"How can I get a property from an entity table class in Java Spring Boot?","body":"<p>Despite is possible to externalize the values used to define what can be deleted or should not, as correctly pointed by an earlier answer, I assume that your logic does not require an extreme flexibility. Consequently a simpler and cleaner approach may implement an enum class for the status.</p>\n<pre><code>public enum Status {\n\n    STATUS_PROCESSED_TYPE_ONE(0),\n    STATUS_UNPROCESSED(1),\n    STATUS_PROCESSED_TYPE_TWO(2);\n\n    private int value;\n    Status(int status) {\n        this.value = status;\n    }\n\n    public int getValue() {\n        return value;\n    }        \n}\n</code></pre>\n<p>This class does not require any Spring &quot;magic&quot; and helps to externalize the specific values (0,1,2) from your logic which may be then implemented in your service class as</p>\n<pre><code>boolean isDeletable(int value) {\n    return Status.STATUS_PROCESSED_TYPE_ONE.getValue() == value\n            || Status.STATUS_PROCESSED_TYPE_TWO.getValue() == value;\n}\n</code></pre>\n"}],"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74209981,"answer_count":3,"score":0,"last_activity_date":1666961943,"creation_date":1666742876,"question_id":74201375,"body_markdown":"I&#39;m wondering how can I access an attribute from my entity model class to perform a condition. I need to validate whether a column `status` from the database is 0 or 2 before the `deleteById()` repository function executes the deletion, as if it is 1, it shouldn&#39;t be executed. \r\n\r\nMy thinking is to put the business login in the service layer, so I&#39;m trying to put the condition right there: \r\n\r\n    public void delete(int id) {\r\n        if (reportRequest.getStatus() != 1) {\r\n            log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n            reportRequestRepository.deleteById(id);\r\n        } else {\r\n            log.error(&quot;It was not possible to delete the selected report as it hasn&#39;t been processed yet&quot;);\r\n        }\r\n    }\r\n\r\nI&#39;m getting the following error:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your \r\n    application with &#39;debug&#39; enabled.\r\n    2022-10-25 18:44:38.538 ERROR 2328 --- [           main] \r\n    o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Parameter 0 of constructor in com.ssc.test.cb3.service.ReportRequestService required a \r\n    bean of type &#39;com.ssc.test.cb3.model.ReportRequest&#39; that could not be found.\r\n\r\n    The injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;com.ssc.test.cb3.model.ReportRequest&#39; in your \r\n    configuration.\r\n\r\n    2022-10-25 18:44:38.543 ERROR 2328 --- [           main] \r\n    o.s.test.context.TestContextManager      : Caught exception while allowing \r\n    TestExecutionListener \r\n    [org.springframework.test.context.web.ServletTestExecutionListener@7d446ed1] to prepare \r\n    test instance [com.ssc.test.cb3.Cb3ApplicationTests@1f72fbd1]\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n     Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.735 s &lt;&lt;&lt; FAILURE! - \r\n    in com.ssc.test.cb3.Cb3ApplicationTests\r\n    contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error \r\n    creating bean with name &#39;reportRequestController&#39;: Unsatisfied dependency expressed \r\n    through field &#39;reportRequestService&#39;; nested exception is \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean \r\n    with name &#39;reportRequestService&#39; defined in file\r\n \r\n\r\nAt the end of the error it is the following, I attach an image as somehow I cannot paste it here:\r\n\r\n[Error tracer][1] \r\n\r\n    No qualifying bean of type &#39;com.ssc.test.cb3.model.ReportRequest&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n  \r\nThis is my current code: \r\n\r\nModel class ReportRequest: \r\n\r\n    \r\n    package com.ssc.test.cb3.model;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n\r\n    /**\r\n     * Class that models the entity report request table of the database\r\n     * @author ssc\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;report_request&quot;)\r\n    @Data\r\n    public class ReportRequest {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;seq_id&quot;)\r\n        private int id;\r\n\r\n        @Column(name = &quot;request_date&quot;, insertable = false, nullable = true)\r\n        private String requestDate;\r\n\r\n        @Column(name = &quot;request_userid&quot;)\r\n        private int requestUserId;\r\n\r\n        @Column(name = &quot;request_email&quot;)\r\n        private String requestEmail;\r\n\r\n        @Column(name = &quot;start_date&quot;)\r\n        private String startDate;\r\n\r\n        @Column(name = &quot;end_date&quot;)\r\n        private String endDate;\r\n\r\n        @Column(name = &quot;report_type&quot;)  \r\n        private int reportType; // 0 === cliente, 1 === proveedor\r\n\r\n        @Column(name = &quot;contact_id&quot;)\r\n        private int contactId;\r\n\r\n        @Column(name = &quot;contact_id_customer&quot;)  // Id from the client or provider chosen\r\n        private int contactIdCustomer;\r\n\r\n        @Column(name = &quot;contact_id_provider&quot;)  // Id from the provider or provider chosen\r\n        private int contactIdProvider;\r\n\r\n        private String rgids;\r\n\r\n        private int status;   // 0 === active, 1 === inactive\r\n\r\n        @Column(name = &quot;process_start&quot;)\r\n        private String processStart;\r\n\r\n        @Column(name = &quot;process_finish&quot;)\r\n        private String processFinish;\r\n\r\n        @Column(name = &quot;call_filter&quot;)  // 0 === Answered calls, 1 === Not answered, 2 === both\r\n        private int callQuery;\r\n\r\n        @Column(name = &quot;file_name&quot;)\r\n        private String fileName;\r\n\r\n    }\r\n\r\n\r\nRepository class: \r\n\r\n    package com.ssc.test.cb3.repository;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import com.ssc.test.cb3.model.ReportRequest;\r\n\r\n    /**\r\n     * Class that extends to the repository for database management queries with\r\n     * table report_request\r\n     *\r\n     * @author ssc\r\n     */\r\n    @Repository\r\n    public interface ReportRequestRepository extends JpaRepository&lt;ReportRequest, Integer&gt; {\r\n\r\n        \r\n    }\r\n\r\nService class: \r\n\r\n    package com.ssc.test.cb3.service;\r\n\r\n    import com.ssc.test.cb3.repository.ReportRequestRepository;\r\n    import org.springframework.stereotype.Service;\r\n    import com.ssc.test.cb3.model.ReportRequest;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n  \r\n\r\n    /**\r\n     * Class to prepare the services to be dispatched upon request.\r\n     *\r\n     * @author ssc\r\n     */\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class ReportRequestService {\r\n\r\n        @Autowired\r\n        private ReportRequest reportRequest;\r\n        \r\n        private final ReportRequestRepository reportRequestRepository;\r\n\r\n        /**\r\n         * Function to delete a report from the database\r\n         *\r\n         * @param id from the report request objet to identify what is the specific\r\n         * report\r\n         */\r\n    //    public void delete(int id) {\r\n    //        log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n    //        reportRequestRepository.deleteById(id);\r\n    //    }\r\n\r\n        public void delete(int id) {\r\n            if (reportRequest.getStatus() != 1) {\r\n                log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n                reportRequestRepository.deleteById(id);\r\n            } else {\r\n                log.error(&quot;It was not possible to delete the selected report as it hasn&#39;t been processed yet&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nClass controller: \r\n\r\n    package com.ssc.test.cb3.controller;\r\n\r\n    import com.ssc.test.cb3.model.ReportRequest;\r\n    import com.ssc.test.cb3.service.ReportRequestService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    /**\r\n     * Class to handle REST services and APIs for the download Report&#39;s class\r\n     *\r\n     * @author ssc\r\n     */\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/reportRequest&quot;)\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    public class ReportRequestController {\r\n\r\n\r\n        @Autowired\r\n        private ReportRequestService reportRequestService;\r\n\r\n        /**\r\n         * Method to delete a report request by its id number, it will call the service method and passed the id captured\r\n         * @param id \r\n         */\r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public void deleteReport(@PathVariable int id) {\r\n            reportRequestService.delete(id);\r\n        }\r\n\r\n    }\r\n\r\n\r\nI would appreciate so much if someone can guide me on how to achieve this task. \r\n\r\n \r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SfMCv.png","title":"How can I get a property from an entity table class in Java Spring Boot?","body":"<p>I'm wondering how can I access an attribute from my entity model class to perform a condition. I need to validate whether a column <code>status</code> from the database is 0 or 2 before the <code>deleteById()</code> repository function executes the deletion, as if it is 1, it shouldn't be executed.</p>\n<p>My thinking is to put the business login in the service layer, so I'm trying to put the condition right there:</p>\n<pre><code>public void delete(int id) {\n    if (reportRequest.getStatus() != 1) {\n        log.info(&quot;The report request {} was successfully deleted&quot;, id);\n        reportRequestRepository.deleteById(id);\n    } else {\n        log.error(&quot;It was not possible to delete the selected report as it hasn't been processed yet&quot;);\n    }\n}\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your \napplication with 'debug' enabled.\n2022-10-25 18:44:38.538 ERROR 2328 --- [           main] \no.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.ssc.test.cb3.service.ReportRequestService required a \nbean of type 'com.ssc.test.cb3.model.ReportRequest' that could not be found.\n\nThe injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.ssc.test.cb3.model.ReportRequest' in your \nconfiguration.\n\n2022-10-25 18:44:38.543 ERROR 2328 --- [           main] \no.s.test.context.TestContextManager      : Caught exception while allowing \nTestExecutionListener \n[org.springframework.test.context.web.ServletTestExecutionListener@7d446ed1] to prepare \ntest instance [com.ssc.test.cb3.Cb3ApplicationTests@1f72fbd1]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n\n Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.735 s &lt;&lt;&lt; FAILURE! - \nin com.ssc.test.cb3.Cb3ApplicationTests\ncontextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error \ncreating bean with name 'reportRequestController': Unsatisfied dependency expressed \nthrough field 'reportRequestService'; nested exception is \norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean \nwith name 'reportRequestService' defined in file\n</code></pre>\n<p>At the end of the error it is the following, I attach an image as somehow I cannot paste it here:</p>\n<p><a href=\"https://i.stack.imgur.com/SfMCv.png\" rel=\"nofollow noreferrer\">Error tracer</a></p>\n<pre><code>No qualifying bean of type 'com.ssc.test.cb3.model.ReportRequest' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>This is my current code:</p>\n<p>Model class ReportRequest:</p>\n<pre><code>package com.ssc.test.cb3.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * Class that models the entity report request table of the database\n * @author ssc\n */\n@Entity\n@Table(name = &quot;report_request&quot;)\n@Data\npublic class ReportRequest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;seq_id&quot;)\n    private int id;\n\n    @Column(name = &quot;request_date&quot;, insertable = false, nullable = true)\n    private String requestDate;\n\n    @Column(name = &quot;request_userid&quot;)\n    private int requestUserId;\n\n    @Column(name = &quot;request_email&quot;)\n    private String requestEmail;\n\n    @Column(name = &quot;start_date&quot;)\n    private String startDate;\n\n    @Column(name = &quot;end_date&quot;)\n    private String endDate;\n\n    @Column(name = &quot;report_type&quot;)  \n    private int reportType; // 0 === cliente, 1 === proveedor\n\n    @Column(name = &quot;contact_id&quot;)\n    private int contactId;\n\n    @Column(name = &quot;contact_id_customer&quot;)  // Id from the client or provider chosen\n    private int contactIdCustomer;\n\n    @Column(name = &quot;contact_id_provider&quot;)  // Id from the provider or provider chosen\n    private int contactIdProvider;\n\n    private String rgids;\n\n    private int status;   // 0 === active, 1 === inactive\n\n    @Column(name = &quot;process_start&quot;)\n    private String processStart;\n\n    @Column(name = &quot;process_finish&quot;)\n    private String processFinish;\n\n    @Column(name = &quot;call_filter&quot;)  // 0 === Answered calls, 1 === Not answered, 2 === both\n    private int callQuery;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n\n}\n</code></pre>\n<p>Repository class:</p>\n<pre><code>package com.ssc.test.cb3.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.ssc.test.cb3.model.ReportRequest;\n\n/**\n * Class that extends to the repository for database management queries with\n * table report_request\n *\n * @author ssc\n */\n@Repository\npublic interface ReportRequestRepository extends JpaRepository&lt;ReportRequest, Integer&gt; {\n\n    \n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>package com.ssc.test.cb3.service;\n\nimport com.ssc.test.cb3.repository.ReportRequestRepository;\nimport org.springframework.stereotype.Service;\nimport com.ssc.test.cb3.model.ReportRequest;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\n/**\n * Class to prepare the services to be dispatched upon request.\n *\n * @author ssc\n */\n@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ReportRequestService {\n\n    @Autowired\n    private ReportRequest reportRequest;\n    \n    private final ReportRequestRepository reportRequestRepository;\n\n    /**\n     * Function to delete a report from the database\n     *\n     * @param id from the report request objet to identify what is the specific\n     * report\n     */\n//    public void delete(int id) {\n//        log.info(&quot;The report request {} was successfully deleted&quot;, id);\n//        reportRequestRepository.deleteById(id);\n//    }\n\n    public void delete(int id) {\n        if (reportRequest.getStatus() != 1) {\n            log.info(&quot;The report request {} was successfully deleted&quot;, id);\n            reportRequestRepository.deleteById(id);\n        } else {\n            log.error(&quot;It was not possible to delete the selected report as it hasn't been processed yet&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>Class controller:</p>\n<pre><code>package com.ssc.test.cb3.controller;\n\nimport com.ssc.test.cb3.model.ReportRequest;\nimport com.ssc.test.cb3.service.ReportRequestService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * Class to handle REST services and APIs for the download Report's class\n *\n * @author ssc\n */\n@RestController\n@RequestMapping(&quot;/v1/reportRequest&quot;)\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\npublic class ReportRequestController {\n\n\n    @Autowired\n    private ReportRequestService reportRequestService;\n\n    /**\n     * Method to delete a report request by its id number, it will call the service method and passed the id captured\n     * @param id \n     */\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public void deleteReport(@PathVariable int id) {\n        reportRequestService.delete(id);\n    }\n\n}\n</code></pre>\n<p>I would appreciate so much if someone can guide me on how to achieve this task.</p>\n"},{"tags":["java","newline","equals"],"comments":[{"owner":{"account_id":808621,"reputation":357044,"user_id":908494,"accept_rate":25,"display_name":"abarnert"},"score":3,"creation_date":1411257349,"post_id":25954394,"comment_id":40634303,"body_markdown":"Instead of trying to guess what might be there that&#39;s not matching, why not use a debugger or logging and actually see what&#39;s there?","body":"Instead of trying to guess what might be there that&#39;s not matching, why not use a debugger or logging and actually see what&#39;s there?"},{"owner":{"account_id":808621,"reputation":357044,"user_id":908494,"accept_rate":25,"display_name":"abarnert"},"score":1,"creation_date":1411257386,"post_id":25954394,"comment_id":40634308,"body_markdown":"Meanwhile, I don&#39;t use Java very much, but the docs for [`Scanner.nextline`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()) say: &quot;This method returns the rest of the current line, excluding any line separator at the end.&quot; So… why are you expecting it to match `&quot;\\n&quot;` in the first place?","body":"Meanwhile, I don&#39;t use Java very much, but the docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\"><code>Scanner.nextline</code></a> say: &quot;This method returns the rest of the current line, excluding any line separator at the end.&quot; So… why are you expecting it to match <code>&quot;\\n&quot;</code> in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1411257348,"creation_date":1411257348,"answer_id":25954415,"question_id":25954394,"body_markdown":"&gt; This method returns the rest of the current line, **excluding any line separator at the end**.\r\n\r\nFrom the [relevant documentation](http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--).","title":"String.equals() method not matching &quot;\\n&quot; character","body":"<blockquote>\n  <p>This method returns the rest of the current line, <strong>excluding any line separator at the end</strong>.</p>\n</blockquote>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\">relevant documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":4789243,"reputation":663,"user_id":3868895,"accept_rate":50,"display_name":"Tony Jen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1411257371,"creation_date":1411257371,"answer_id":25954417,"question_id":25954394,"body_markdown":"You can use this code\r\n\r\n\r\n    command = kb.nextline();\r\n    String newline = System.getProperty(&quot;line.separator&quot;);\r\n    boolean hasNewline = command.contains(newline);\r\n    if(!hasNewline)\r\n    {\r\n        performProcess(command);\r\n    }","title":"String.equals() method not matching &quot;\\n&quot; character","body":"<p>You can use this code</p>\n\n<pre><code>command = kb.nextline();\nString newline = System.getProperty(\"line.separator\");\nboolean hasNewline = command.contains(newline);\nif(!hasNewline)\n{\n    performProcess(command);\n}\n</code></pre>\n"}],"owner":{"account_id":5060598,"reputation":49,"user_id":4062346,"accept_rate":100,"display_name":"cteeters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":25954417,"answer_count":2,"score":-5,"last_activity_date":1666961366,"creation_date":1411257156,"question_id":25954394,"body_markdown":"So I have a problem with the String class&#39;s equals() method. I&#39;&#39;m trying to find check to make sure that user input is not simply a new line character (&quot;\\n&quot;), but whenever I compare the user input that is just a newline, it always returns false. Here is the code:\r\n\r\n    command = kb.nextline();\r\n    if(!command.equals(&quot;\\n&quot;))\r\n    {\r\n        performProcess(command);\r\n    }\r\n\r\nWhere &quot;kb&quot; is the Scanner. Any ideas?\r\n","title":"String.equals() method not matching &quot;\\n&quot; character","body":"<p>So I have a problem with the String class's equals() method. I''m trying to find check to make sure that user input is not simply a new line character (\"\\n\"), but whenever I compare the user input that is just a newline, it always returns false. Here is the code:</p>\n\n<pre><code>command = kb.nextline();\nif(!command.equals(\"\\n\"))\n{\n    performProcess(command);\n}\n</code></pre>\n\n<p>Where \"kb\" is the Scanner. Any ideas?</p>\n"},{"tags":["java","spring","hibernate","jpa","bean-validation"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1666513970,"post_id":74169481,"comment_id":130951416,"body_markdown":"Does it work if you use `saveAndFlush` in your test instead? Also, double check if the size of the set actually changes after the call to `supervisors.remove` - could be a `hashCode/equals` issue","body":"Does it work if you use <code>saveAndFlush</code> in your test instead? Also, double check if the size of the set actually changes after the call to <code>supervisors.remove</code> - could be a <code>hashCode&#47;equals</code> issue"},{"owner":{"account_id":16563347,"reputation":21,"user_id":11968705,"display_name":"Alexey Kryuchkov"},"score":0,"creation_date":1666523143,"post_id":74169481,"comment_id":130952874,"body_markdown":"@crizzis Thank you for answer, but it doesn&#39;t work for me. I tried it with `saveAndFlush` and also checked `hashCode` of `agGroup` reference before and after invocation of `removeSupervisor` method, they were different(also checked `equals` by copying entity before modification to newly created object, result is false)","body":"@crizzis Thank you for answer, but it doesn&#39;t work for me. I tried it with <code>saveAndFlush</code> and also checked <code>hashCode</code> of <code>agGroup</code> reference before and after invocation of <code>removeSupervisor</code> method, they were different(also checked <code>equals</code> by copying entity before modification to newly created object, result is false)"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666524885,"creation_date":1666524885,"answer_id":74170812,"question_id":74169481,"body_markdown":"For the lazy loaded association mapping , it is suggested to place the validation annotations on the getter rather on the field because of the following reasons mentioned from the [doc][1] :\r\n\r\n&gt;  When lazy loaded associations are supposed to be validated it is\r\n&gt; recommended to place the constraint on the getter of the association.\r\n&gt; Hibernate ORM replaces lazy loaded associations with proxy instances\r\n&gt; which get initialized/loaded when requested via the getter. If, in\r\n&gt; such a case, the constraint is placed on field level, the actual proxy\r\n&gt; instance is used which will lead to validation errors.\r\n\r\n\r\nSo please try :\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@Table(name = &quot;ad_groups&quot;)\r\npublic class KibanaAdGroupEntity extends AbstractEntity {\r\n\r\n  \r\n  @BatchSize(size = 10)\r\n  @OneToMany(mappedBy = &quot;kibanaAdGroup&quot;, cascade = {CascadeType.ALL}, orphanRemoval =true)\r\n  Set&lt;SupervisorEntity&gt; supervisors;\r\n\r\n   @NotNull \r\n   @Size(min = 2)\r\n   Set&lt;SupervisorEntity&gt; getSupervisors(){\r\n      return this.supervisors;\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-checkconstraints-orm","title":"Hibernate @OneToMany removing from Set doesn&#39;t trigger constraint validation on update of parent entity","body":"<p>For the lazy loaded association mapping , it is suggested to place the validation annotations on the getter rather on the field because of the following reasons mentioned from the <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-checkconstraints-orm\" rel=\"nofollow noreferrer\">doc</a> :</p>\n<blockquote>\n<p>When lazy loaded associations are supposed to be validated it is\nrecommended to place the constraint on the getter of the association.\nHibernate ORM replaces lazy loaded associations with proxy instances\nwhich get initialized/loaded when requested via the getter. If, in\nsuch a case, the constraint is placed on field level, the actual proxy\ninstance is used which will lead to validation errors.</p>\n</blockquote>\n<p>So please try :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name = &quot;ad_groups&quot;)\npublic class KibanaAdGroupEntity extends AbstractEntity {\n\n  \n  @BatchSize(size = 10)\n  @OneToMany(mappedBy = &quot;kibanaAdGroup&quot;, cascade = {CascadeType.ALL}, orphanRemoval =true)\n  Set&lt;SupervisorEntity&gt; supervisors;\n\n   @NotNull \n   @Size(min = 2)\n   Set&lt;SupervisorEntity&gt; getSupervisors(){\n      return this.supervisors;\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16563347,"reputation":21,"user_id":11968705,"display_name":"Alexey Kryuchkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666960652,"creation_date":1666960652,"answer_id":74235541,"question_id":74169481,"body_markdown":"Seems that I found the problem. This happens due to what type hibernate will inject into `Set` field. When you perform `findAll` - `Set` field will be injected as `PersistenSet` type by default. This is shared reference between yours business logic side and `dirty check mechanism` of hibernate. So when you\r\n```\r\nadGroup.removeSupervisor(supervisor);\r\nadGroupRepository.save(adGroup);\r\n``` \r\nThat operation triggers `DefaultFlushEntityEventListener::dirtyCheck`. But due to `final Object[] loadedState = entry.getLoadedState();` keeps `shared reference`, for hibernate it looks like entity wasn&#39;t  change state of the entity. That&#39;s why no validation error was occurred(but child entity will be deleted as expected by orphan removal)\r\nPS\r\nIf you will change any field of the entity validation will be performed as expected ","title":"Hibernate @OneToMany removing from Set doesn&#39;t trigger constraint validation on update of parent entity","body":"<p>Seems that I found the problem. This happens due to what type hibernate will inject into <code>Set</code> field. When you perform <code>findAll</code> - <code>Set</code> field will be injected as <code>PersistenSet</code> type by default. This is shared reference between yours business logic side and <code>dirty check mechanism</code> of hibernate. So when you</p>\n<pre><code>adGroup.removeSupervisor(supervisor);\nadGroupRepository.save(adGroup);\n</code></pre>\n<p>That operation triggers <code>DefaultFlushEntityEventListener::dirtyCheck</code>. But due to <code>final Object[] loadedState = entry.getLoadedState();</code> keeps <code>shared reference</code>, for hibernate it looks like entity wasn't  change state of the entity. That's why no validation error was occurred(but child entity will be deleted as expected by orphan removal)\nPS\nIf you will change any field of the entity validation will be performed as expected</p>\n"}],"owner":{"account_id":16563347,"reputation":21,"user_id":11968705,"display_name":"Alexey Kryuchkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666960652,"creation_date":1666511552,"question_id":74169481,"body_markdown":"I have the following scenario:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;groups_supervisors&quot;)\r\n\r\npublic class SupervisorEntity extends AbstractEntity {\r\n  \r\n  @ManyToOne\r\n  @EqualsAndHashCode.Exclude\r\n  @JoinColumn(name = &quot;group_id&quot;)\r\n  KibanaAdGroupEntity kibanaAdGroup;\r\n  \r\n   //Another fields\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o)\r\n      return true;\r\n    if (o == null || getClass() != o.getClass())\r\n      return false;\r\n\r\n    SupervisorEntity that = (SupervisorEntity) o;\r\n\r\n    if (!Objects.equals(id, that.id))\r\n      return false;\r\n    if (kibanaAdGroup!=null &amp;&amp; !kibanaAdGroup.getId().equals(that.kibanaAdGroup.getId()))\r\n      return false;\r\n    if (!Objects.equals(name, that.name))\r\n      return false;\r\n    if (!Objects.equals(updateDate, that.updateDate))\r\n      return false;\r\n    return Objects.equals(dateAdd, that.dateAdd);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    int result = id.hashCode();\r\n    result = 31 * result + (kibanaAdGroup != null ? kibanaAdGroup.getId().hashCode() : 0);\r\n    result = 31 * result + name.hashCode();\r\n    result = 31 * result + updateDate.hashCode();\r\n    result = 31 * result + dateAdd.hashCode();\r\n    return result;\r\n  }\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;ad_groups&quot;)\r\npublic class KibanaAdGroupEntity extends AbstractEntity {\r\n     \r\n  @NotNull \r\n  @Size(min = 2)\r\n  @BatchSize(size = 10)\r\n  @ToString.Exclude\r\n  @OneToMany(mappedBy = &quot;kibanaAdGroup&quot;, cascade = {CascadeType.ALL}, orphanRemoval =true)\r\n  Set&lt;SupervisorEntity&gt; supervisors;\r\n  \r\n  //Some other fields\r\n  \r\n  //Destroy releation\r\n  public Set&lt;SupervisorEntity&gt; removeSupervisor(SupervisorEntity supervisor) {\r\n    supervisors.remove(supervisor);\r\n    supervisor.setKibanaAdGroup(null);\r\n    return supervisors;\r\n  }\r\n\r\n}\r\n```\r\n\r\nWhen I&#39;m trying to perform following \r\n```\r\n  @Transactional\r\n  public void test() {\r\n    var adGroup = adGroupRepository.findAll().stream().limit(1000).filter(adGr -&gt; adGr.getId() == 142)\r\n      .findFirst().get();\r\n    var supervisor = adGroup.getSupervisors().iterator().next();\r\n    adGroup.removeSupervisor(supervisor);\r\n    adGroupRepository.save(adGroup);\r\n  }\r\n```\r\nexpected that `adGroupRepository.save(adGroup)` will  perform update cascade on `adGroup` and constraint `@Size(min = 2)` on `Set&lt;SupervisorEntity&gt; supervisors` will trigger an exception.\r\nI tried to debug `DefaultFlushEntityEventListener::dirtyCheck` , but I see that an old entity and new one one contain identical size of `supervisors`\r\nPlease can any one clarify to me where I&#39;ve mistaken and how to trigger update/checking of this constraint?\r\n\r\nUPD\r\nIn logs and DB I see that supervisor was successfully deleted\r\n```\r\n2022-10-23 10:37:07.022 DEBUG [4b5430e5fcb074b6,4b5430e5fcb074b6] 93041 - [8080-exec-1] org.hibernate.SQL                : \\n     delete \\n     from\\n         public.groups_supervisors \\n     where\\n         id=? \r\nHibernate: \r\n    delete \r\n    from\r\n        public.groups_supervisors \r\n    where\r\n        id=?\r\n```","title":"Hibernate @OneToMany removing from Set doesn&#39;t trigger constraint validation on update of parent entity","body":"<p>I have the following scenario:</p>\n<pre><code>@Entity\n@Table(name = &quot;groups_supervisors&quot;)\n\npublic class SupervisorEntity extends AbstractEntity {\n  \n  @ManyToOne\n  @EqualsAndHashCode.Exclude\n  @JoinColumn(name = &quot;group_id&quot;)\n  KibanaAdGroupEntity kibanaAdGroup;\n  \n   //Another fields\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o)\n      return true;\n    if (o == null || getClass() != o.getClass())\n      return false;\n\n    SupervisorEntity that = (SupervisorEntity) o;\n\n    if (!Objects.equals(id, that.id))\n      return false;\n    if (kibanaAdGroup!=null &amp;&amp; !kibanaAdGroup.getId().equals(that.kibanaAdGroup.getId()))\n      return false;\n    if (!Objects.equals(name, that.name))\n      return false;\n    if (!Objects.equals(updateDate, that.updateDate))\n      return false;\n    return Objects.equals(dateAdd, that.dateAdd);\n  }\n\n  @Override\n  public int hashCode() {\n    int result = id.hashCode();\n    result = 31 * result + (kibanaAdGroup != null ? kibanaAdGroup.getId().hashCode() : 0);\n    result = 31 * result + name.hashCode();\n    result = 31 * result + updateDate.hashCode();\n    result = 31 * result + dateAdd.hashCode();\n    return result;\n  }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;ad_groups&quot;)\npublic class KibanaAdGroupEntity extends AbstractEntity {\n     \n  @NotNull \n  @Size(min = 2)\n  @BatchSize(size = 10)\n  @ToString.Exclude\n  @OneToMany(mappedBy = &quot;kibanaAdGroup&quot;, cascade = {CascadeType.ALL}, orphanRemoval =true)\n  Set&lt;SupervisorEntity&gt; supervisors;\n  \n  //Some other fields\n  \n  //Destroy releation\n  public Set&lt;SupervisorEntity&gt; removeSupervisor(SupervisorEntity supervisor) {\n    supervisors.remove(supervisor);\n    supervisor.setKibanaAdGroup(null);\n    return supervisors;\n  }\n\n}\n</code></pre>\n<p>When I'm trying to perform following</p>\n<pre><code>  @Transactional\n  public void test() {\n    var adGroup = adGroupRepository.findAll().stream().limit(1000).filter(adGr -&gt; adGr.getId() == 142)\n      .findFirst().get();\n    var supervisor = adGroup.getSupervisors().iterator().next();\n    adGroup.removeSupervisor(supervisor);\n    adGroupRepository.save(adGroup);\n  }\n</code></pre>\n<p>expected that <code>adGroupRepository.save(adGroup)</code> will  perform update cascade on <code>adGroup</code> and constraint <code>@Size(min = 2)</code> on <code>Set&lt;SupervisorEntity&gt; supervisors</code> will trigger an exception.\nI tried to debug <code>DefaultFlushEntityEventListener::dirtyCheck</code> , but I see that an old entity and new one one contain identical size of <code>supervisors</code>\nPlease can any one clarify to me where I've mistaken and how to trigger update/checking of this constraint?</p>\n<p>UPD\nIn logs and DB I see that supervisor was successfully deleted</p>\n<pre><code>2022-10-23 10:37:07.022 DEBUG [4b5430e5fcb074b6,4b5430e5fcb074b6] 93041 - [8080-exec-1] org.hibernate.SQL                : \\n     delete \\n     from\\n         public.groups_supervisors \\n     where\\n         id=? \nHibernate: \n    delete \n    from\n        public.groups_supervisors \n    where\n        id=?\n</code></pre>\n"},{"tags":["java","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1502989401,"creation_date":1502989401,"answer_id":45741148,"question_id":45741033,"body_markdown":"When you get an error, and try to understand the reason, the first step is **always** to read the stack trace of the error. In this case, the stack trace is\r\n\r\n    Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name ResourceBundle, locale it_IT\r\n    \tat java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\r\n    \tat java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\r\n    \tat Hello.main(Hello.java:9)\r\n    Caused by: java.lang.IllegalAccessException: Class java.util.ResourceBundle$Control can not access a member of class ResourceBundle_it_IT with modifiers &quot;&quot;\r\n    \tat sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)\r\n    \tat java.lang.Class.newInstance(Class.java:436)\r\n    \tat java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:2645)\r\n    \tat java.util.ResourceBundle.loadBundle(ResourceBundle.java:1501)\r\n    \tat java.util.ResourceBundle.findBundle(ResourceBundle.java:1465)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1361)\r\n    \t... 2 more\r\n\r\nAnd if you read it, the problem becomes obvious:\r\n\r\n&gt; Class java.util.ResourceBundle$Control can not access a member of class ResourceBundle_it_IT with modifiers &quot;&quot;\r\n\r\nMove the class ResourceBundle_it_IT to its onwn file, where it belongs. make it public as the error message suggests, and the problem disappears.","title":"Why do I get MissingResourceException","body":"<p>When you get an error, and try to understand the reason, the first step is <strong>always</strong> to read the stack trace of the error. In this case, the stack trace is</p>\n\n<pre><code>Exception in thread \"main\" java.util.MissingResourceException: Can't find bundle for base name ResourceBundle, locale it_IT\n    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\n    at java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\n    at Hello.main(Hello.java:9)\nCaused by: java.lang.IllegalAccessException: Class java.util.ResourceBundle$Control can not access a member of class ResourceBundle_it_IT with modifiers \"\"\n    at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)\n    at java.lang.Class.newInstance(Class.java:436)\n    at java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:2645)\n    at java.util.ResourceBundle.loadBundle(ResourceBundle.java:1501)\n    at java.util.ResourceBundle.findBundle(ResourceBundle.java:1465)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1361)\n    ... 2 more\n</code></pre>\n\n<p>And if you read it, the problem becomes obvious:</p>\n\n<blockquote>\n  <p>Class java.util.ResourceBundle$Control can not access a member of class ResourceBundle_it_IT with modifiers \"\"</p>\n</blockquote>\n\n<p>Move the class ResourceBundle_it_IT to its onwn file, where it belongs. make it public as the error message suggests, and the problem disappears.</p>\n"},{"tags":[],"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607590650,"creation_date":1605881361,"answer_id":64930922,"question_id":45741033,"body_markdown":"Usually happens when the class that represents your resource is not public, since property values need to be public to be scanned, check if your class is properly marked `public`","title":"Why do I get MissingResourceException","body":"<p>Usually happens when the class that represents your resource is not public, since property values need to be public to be scanned, check if your class is properly marked <code>public</code></p>\n"},{"tags":[],"owner":{"account_id":11382243,"reputation":21,"user_id":8344855,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666960402,"creation_date":1666960066,"answer_id":74235417,"question_id":45741033,"body_markdown":"// in ResBundle.java file\r\n\r\n     package ocpjp8.locale;\r\n    public class ResBundle extends ListResourceBundle {}\r\n\r\n\r\n// in some other java file\r\n\r\nResourceBundle.getBundle(&quot;ocpjp8.locale.ResBundle&quot;);\r\n\r\n// need to give package name + class name \r\n","title":"Why do I get MissingResourceException","body":"<p>// in ResBundle.java file</p>\n<pre><code> package ocpjp8.locale;\npublic class ResBundle extends ListResourceBundle {}\n</code></pre>\n<p>// in some other java file</p>\n<p>ResourceBundle.getBundle(&quot;ocpjp8.locale.ResBundle&quot;);</p>\n<p>// need to give package name + class name</p>\n"}],"owner":{"account_id":9150660,"reputation":605,"user_id":6805354,"accept_rate":47,"display_name":"MadMax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45741148,"answer_count":3,"score":0,"last_activity_date":1666960402,"creation_date":1502988995,"question_id":45741033,"body_markdown":"Why does this throw a MissingResourceException ? Am I mistaken or is that not \r\nthe point of ListResourceBundles is to provide the resources in code?\r\n\r\n    public class Hello extends Thread {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n             ResourceBundle resBundle = ResourceBundle.getBundle(&quot;ResourceBundle&quot;, new Locale(&quot;it&quot;, &quot;IT&quot;, &quot;&quot;));\r\n             System.out.println(resBundle.getObject(new Integer(1).toString()));\r\n        }\r\n            \r\n         \r\n    }\r\n\r\nin a seperate file:\r\n\r\n    \r\n    public class ResourceBundle_it_IT extends ListResourceBundle {\r\n    \r\n        public Object[][] getContents() {\r\n            return contents;\r\n        }\r\n        static final Object[][] contents = {\r\n            {&quot;1&quot;, &quot;Uno&quot;},\r\n            {&quot;2&quot;, &quot;Duo&quot;},\r\n            {&quot;3&quot;, &quot;Trie&quot;},};\r\n    \r\n    }\r\n\r\n\r\nMy Error:\r\n\r\n\r\n     run:\r\n    Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name ResourceBundle, locale it_IT\r\n    \tat java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\r\n    \tat java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\r\n    \tat hello.Hello.main(Hello.java:21)\r\n    /home/maxbisesi/.cache/netbeans/8.1/executor-snippets/run.xml:53: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)","title":"Why do I get MissingResourceException","body":"<p>Why does this throw a MissingResourceException ? Am I mistaken or is that not \nthe point of ListResourceBundles is to provide the resources in code?</p>\n\n<pre><code>public class Hello extends Thread {\n\n    public static void main(String[] args) {\n\n         ResourceBundle resBundle = ResourceBundle.getBundle(\"ResourceBundle\", new Locale(\"it\", \"IT\", \"\"));\n         System.out.println(resBundle.getObject(new Integer(1).toString()));\n    }\n\n\n}\n</code></pre>\n\n<p>in a seperate file:</p>\n\n<pre><code>public class ResourceBundle_it_IT extends ListResourceBundle {\n\n    public Object[][] getContents() {\n        return contents;\n    }\n    static final Object[][] contents = {\n        {\"1\", \"Uno\"},\n        {\"2\", \"Duo\"},\n        {\"3\", \"Trie\"},};\n\n}\n</code></pre>\n\n<p>My Error:</p>\n\n<pre><code> run:\nException in thread \"main\" java.util.MissingResourceException: Can't find bundle for base name ResourceBundle, locale it_IT\n    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\n    at java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\n    at hello.Hello.main(Hello.java:21)\n/home/maxbisesi/.cache/netbeans/8.1/executor-snippets/run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","maven","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1653460534,"post_id":72370182,"comment_id":127854751,"body_markdown":"Please check the version of maven-javadoc-plugin which you are using (https://maven.apache.org/plugins/) and upgrade to the most recent first...","body":"Please check the version of maven-javadoc-plugin which you are using (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) and upgrade to the most recent first..."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1666870122,"post_id":72370182,"comment_id":131040132,"body_markdown":"@khmarbaise sorry for the late reply; this issue was kind of secondary so I was not paying much attention to it, and now quite some time has passed; if I remember correctly, using the latest version fixed the problem. If you create an answer, and when I get around to verify this, I will accept it.","body":"@khmarbaise sorry for the late reply; this issue was kind of secondary so I was not paying much attention to it, and now quite some time has passed; if I remember correctly, using the latest version fixed the problem. If you create an answer, and when I get around to verify this, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":3252792,"reputation":1390,"user_id":2742642,"accept_rate":75,"display_name":"Uli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666865782,"creation_date":1666865782,"answer_id":74220425,"question_id":72370182,"body_markdown":"You can avoid the informational messages from javadoc by adding `quiet=true`:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n          &lt;quiet&gt;true&lt;/quiet&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThere is also a bug that complains about the new javadoc behaviour with a small discussion how to handle that in the maven-javadoc-plugin:\r\nhttps://bugs.openjdk.org/browse/JDK-8270831","title":"maven-javadoc-plugin emits diagnostic messages as warnings","body":"<p>You can avoid the informational messages from javadoc by adding <code>quiet=true</code>:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n      &lt;quiet&gt;true&lt;/quiet&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>There is also a bug that complains about the new javadoc behaviour with a small discussion how to handle that in the maven-javadoc-plugin:\n<a href=\"https://bugs.openjdk.org/browse/JDK-8270831\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8270831</a></p>\n"}],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666960272,"creation_date":1653431998,"question_id":72370182,"body_markdown":"My github release workflow includes the maven-javadoc-plugin. This plugin emits a large number of warnings, but when I look at the messages, none of them is the slightest bit worrisome; they are all just diagnostic messages.\r\n\r\nIt is as if some n00b is using a warning-level logging statement to emit debug-level or trace-level messages:\r\n\r\n\tWarning: ARNING] Javadoc Warnings\r\n\tWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe...\r\n\tWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe.annotations...\r\n\tWarning: ARNING] Constructing Javadoc information...\r\n\tWarning: ARNING] Building index for all the packages and classes...\r\n\tWarning: ARNING] Standard Doclet version 17.0.3+7-LTS\r\n\tWarning: ARNING] Building tree for all the packages and classes...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/ImmutabilitySelfAssessable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/Invariable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/InvariableArray.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/ThreadSafe.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/class-use/ImmutabilitySelfAssessable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/Invariable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/InvariableArray.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/ThreadSafe.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-use.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-use.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index.html...\r\n\tWarning: ARNING] Building index for all classes...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allclasses-index.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allpackages-index.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index-all.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/help-doc.html...\r\n\r\nNote that a google search for the keywords related to my question yields many results, but every single one of them is about situations where people are receiving legitimate warnings from maven-javadoc-plugin, or even errors, and they are asking how they can have them suppressed. \r\n\r\nThis is not my problem; my javadoc generates no warnings; but the tool keeps using the warning level when issuing messages that are obviously informational.\r\n\r\nSo, why is this happening, and how can I prevent it from happening?\r\n\r\nAlso, while at it: does anyone know why the leading &quot;[W&quot; is missing from each line? (And how come &quot;Warning: &quot; is prepended to each line?)\r\n","title":"maven-javadoc-plugin emits diagnostic messages as warnings","body":"<p>My github release workflow includes the maven-javadoc-plugin. This plugin emits a large number of warnings, but when I look at the messages, none of them is the slightest bit worrisome; they are all just diagnostic messages.</p>\n<p>It is as if some n00b is using a warning-level logging statement to emit debug-level or trace-level messages:</p>\n<pre><code>Warning: ARNING] Javadoc Warnings\nWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe...\nWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe.annotations...\nWarning: ARNING] Constructing Javadoc information...\nWarning: ARNING] Building index for all the packages and classes...\nWarning: ARNING] Standard Doclet version 17.0.3+7-LTS\nWarning: ARNING] Building tree for all the packages and classes...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/ImmutabilitySelfAssessable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/Invariable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/InvariableArray.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/ThreadSafe.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/class-use/ImmutabilitySelfAssessable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/Invariable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/InvariableArray.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/ThreadSafe.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-use.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-use.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index.html...\nWarning: ARNING] Building index for all classes...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allclasses-index.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allpackages-index.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index-all.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/help-doc.html...\n</code></pre>\n<p>Note that a google search for the keywords related to my question yields many results, but every single one of them is about situations where people are receiving legitimate warnings from maven-javadoc-plugin, or even errors, and they are asking how they can have them suppressed.</p>\n<p>This is not my problem; my javadoc generates no warnings; but the tool keeps using the warning level when issuing messages that are obviously informational.</p>\n<p>So, why is this happening, and how can I prevent it from happening?</p>\n<p>Also, while at it: does anyone know why the leading &quot;[W&quot; is missing from each line? (And how come &quot;Warning: &quot; is prepended to each line?)</p>\n"},{"tags":["java","amazon-web-services","aws-cloudformation","aws-cdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1666960252,"post_id":74235438,"comment_id":131063880,"body_markdown":"If you want your customers / users to have a UI you need to build a UI.","body":"If you want your customers / users to have a UI you need to build a UI."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1666960383,"post_id":74235438,"comment_id":131063925,"body_markdown":"Do you currently expect them to manually combine yaml files?","body":"Do you currently expect them to manually combine yaml files?"},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1666960411,"post_id":74235438,"comment_id":131063940,"body_markdown":"&quot;This works in most regions, but in some I need to modify the template depending on restrictions.&quot; you might be able to use cloudformation conditions, mappings, and intrinsic functions to do this all in the same template.","body":"&quot;This works in most regions, but in some I need to modify the template depending on restrictions.&quot; you might be able to use cloudformation conditions, mappings, and intrinsic functions to do this all in the same template."},{"owner":{"account_id":26759817,"reputation":1,"user_id":20357956,"display_name":"GreenLineMetro"},"score":0,"creation_date":1666960456,"post_id":74235438,"comment_id":131063953,"body_markdown":"@luk2302 I have built a UI. The general thought is that when they run the installation phase of my app, they create their personal cloudformation stack by clicking a button.","body":"@luk2302 I have built a UI. The general thought is that when they run the installation phase of my app, they create their personal cloudformation stack by clicking a button."},{"owner":{"account_id":16060849,"reputation":2089,"user_id":11591758,"display_name":"lynkfox"},"score":1,"creation_date":1667150014,"post_id":74235438,"comment_id":131097472,"body_markdown":"after they click the button on your page, have it kick off a CodePipeline that synth&#39;s the CDK template and deploys it for you/them.","body":"after they click the button on your page, have it kick off a CodePipeline that synth&#39;s the CDK template and deploys it for you/them."}],"owner":{"account_id":26759817,"reputation":1,"user_id":20357956,"display_name":"GreenLineMetro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666960167,"creation_date":1666960167,"question_id":74235438,"body_markdown":"Currently I have a cloudformation template in a yaml file that I use to form a stack containing the resources needed for my app. This works in most regions, but in some I need to modify the template depending on restrictions. The template yaml is constructed by stitching together different smaller yaml files to fit the purpose and restraints.\r\n\r\nIt has become a hassle to cut and modify these yaml files to achieve the desired resources in the stack, so I&#39;ve started thinking about switching to the aws cdk instead.\r\n\r\nThe problem is that I do not want to enter a terminal and use the cdk cli everytime I want to create a stack. A stack is created for each instance of my app, which end users run and I cannot expect them to be interested in running cli commands to run my app.\r\n\r\n**Can I create these stacks with the cdk without using cli commands?**\r\n\r\nMy app is written in java if that helps.","title":"Can you create cloudformation stacks in the CDK without using the cli?","body":"<p>Currently I have a cloudformation template in a yaml file that I use to form a stack containing the resources needed for my app. This works in most regions, but in some I need to modify the template depending on restrictions. The template yaml is constructed by stitching together different smaller yaml files to fit the purpose and restraints.</p>\n<p>It has become a hassle to cut and modify these yaml files to achieve the desired resources in the stack, so I've started thinking about switching to the aws cdk instead.</p>\n<p>The problem is that I do not want to enter a terminal and use the cdk cli everytime I want to create a stack. A stack is created for each instance of my app, which end users run and I cannot expect them to be interested in running cli commands to run my app.</p>\n<p><strong>Can I create these stacks with the cdk without using cli commands?</strong></p>\n<p>My app is written in java if that helps.</p>\n"},{"tags":["java","list","sorting","lambda","localdate"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666889807,"post_id":74225376,"comment_id":131047547,"body_markdown":"This looks perfectly reasonable to me.  Did they say your solution was _wrong_, or just that they wanted something that used fancier Java 8 features?","body":"This looks perfectly reasonable to me.  Did they say your solution was <i>wrong</i>, or just that they wanted something that used fancier Java 8 features?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666892934,"post_id":74225376,"comment_id":131048588,"body_markdown":"*they want me to use Java 8 features* That’s a wide and vague concept. `LocalDate` is a Java 8 feature, so they can’t claim you didn’t. Wonder if they intended streams? This can be done, of course. You may, for example, create two sorted streams using the `filter` method and then combine them using `Stream.concat()`.","body":"<i>they want me to use Java 8 features</i> That’s a wide and vague concept. <code>LocalDate</code> is a Java 8 feature, so they can’t claim you didn’t. Wonder if they intended streams? This can be done, of course. You may, for example, create two sorted streams using the <code>filter</code> method and then combine them using <code>Stream.concat()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666959243,"creation_date":1666890739,"answer_id":74225859,"question_id":74225376,"body_markdown":"The given list can be sorted as required, **in one go**, without splitting it into two parts (*and using Java 8 functional programming features as required*).\r\n\r\n# Create a Comparator with Java 8 \r\n\r\nThe approach boils down to defining the appropriate `Comparator`.\r\n\r\nFor that, we can use Java 8 static methods of the `Comparator` interface like [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)).\r\n\r\nThe first part, which groups the dates based on the Month name, can be described as follows:\r\n\r\n```\r\nComparator.comparing(ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;))\r\n```\r\n\r\n**Reminder:** the *natural order* of `boolean` values is `false` -&gt; `true`, for that reason condition was negated.\r\n\r\nAnd we would need to check the same condition in the second part of the Comparator (*because these groups of dates should be sorted differently*), hence it makes sense to define a [`Predicate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html):\r\n\r\n```\r\npublic static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\r\n```\r\n\r\nAnd the first part would be simplified to:\r\n\r\n```\r\nComparator.comparing(HAS_NO_R::test)\r\n```\r\n\r\nTo impose the required Ascending and Descending ordering, we can use [`ChronoLocalDate.toEpochDay()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoLocalDate.html#toEpochDay()), returning the number of days from epoch as `long`, in conjunction with [`Comparator.thenComparingLong()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingLong(java.util.function.ToLongFunction)).\r\n\r\nTo make the group of date with no `&quot;R&quot;` in the name to be sorted in Descending order, the *epoch count* was reversed by multiplying by `(-1)`.\r\n\r\n```\r\nthenComparingLong(ld -&gt; HAS_NO_R.test(ld) ? (-1) * ld.toEpochDay() : ld.toEpochDay())\r\n```\r\n\r\n# Complete Implementation\r\n\r\nNow let&#39;s bring all the pieces together.\r\n\r\n`Comparator` + `Predicate`:\r\n```\r\npublic static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\r\n    \r\npublic final Comparator&lt;LocalDate&gt; BY_MONTH_R_ASC_NO_R_DESC =\r\n    Comparator.comparing(HAS_NO_R::test)\r\n        .thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ?\r\n            (-1) * ld.toEpochDay() : ld.toEpochDay()\r\n        );\r\n```\r\n\r\nAnd here&#39;s the method itself. We can make use of the Stream API to generate the sorted list:\r\n\r\n    public static Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\r\n        \r\n        return unsortedDates.stream()         // assumption that original list should not be mutated\r\n            .sorted(BY_MONTH_R_ASC_NO_R_DESC)\r\n            .toList();\r\n    }\r\n\r\n***Note:*** I see no clear requirement on whether that method should return a **new** `Collection`. I&#39;ve made a safe assumption that the original list should not be mutated.\r\n\r\nJust for the purpose of completeness, that&#39;s the original list can be sorted with Java 9 [`List.sort()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)):\r\n\r\n```\r\nunsortedDates.sort(BY_MONTH_R_ASC_NO_R_DESC);\r\n\r\nreturn unsortedDates;\r\n```\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;LocalDate&gt; dates = List.of(\r\n            LocalDate.parse(&quot;2005-07-01&quot;), LocalDate.parse(&quot;2005-01-02&quot;),\r\n            LocalDate.parse(&quot;2005-01-01&quot;), LocalDate.parse(&quot;2005-05-03&quot;)\r\n        );\r\n\r\n        sortDates(dates).forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n2005-01-01\r\n2005-01-02\r\n2005-07-01\r\n2005-05-03\r\n```","title":"Interview question - Partition and Sort LocalDate objects using Java 8 features","body":"<p>The given list can be sorted as required, <strong>in one go</strong>, without splitting it into two parts (<em>and using Java 8 functional programming features as required</em>).</p>\n<h1>Create a Comparator with Java 8</h1>\n<p>The approach boils down to defining the appropriate <code>Comparator</code>.</p>\n<p>For that, we can use Java 8 static methods of the <code>Comparator</code> interface like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a>.</p>\n<p>The first part, which groups the dates based on the Month name, can be described as follows:</p>\n<pre><code>Comparator.comparing(ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;))\n</code></pre>\n<p><strong>Reminder:</strong> the <em>natural order</em> of <code>boolean</code> values is <code>false</code> -&gt; <code>true</code>, for that reason condition was negated.</p>\n<p>And we would need to check the same condition in the second part of the Comparator (<em>because these groups of dates should be sorted differently</em>), hence it makes sense to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate</code></a>:</p>\n<pre><code>public static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\n</code></pre>\n<p>And the first part would be simplified to:</p>\n<pre><code>Comparator.comparing(HAS_NO_R::test)\n</code></pre>\n<p>To impose the required Ascending and Descending ordering, we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoLocalDate.html#toEpochDay()\" rel=\"nofollow noreferrer\"><code>ChronoLocalDate.toEpochDay()</code></a>, returning the number of days from epoch as <code>long</code>, in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingLong(java.util.function.ToLongFunction)\" rel=\"nofollow noreferrer\"><code>Comparator.thenComparingLong()</code></a>.</p>\n<p>To make the group of date with no <code>&quot;R&quot;</code> in the name to be sorted in Descending order, the <em>epoch count</em> was reversed by multiplying by <code>(-1)</code>.</p>\n<pre><code>thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ? (-1) * ld.toEpochDay() : ld.toEpochDay())\n</code></pre>\n<h1>Complete Implementation</h1>\n<p>Now let's bring all the pieces together.</p>\n<p><code>Comparator</code> + <code>Predicate</code>:</p>\n<pre><code>public static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\n    \npublic final Comparator&lt;LocalDate&gt; BY_MONTH_R_ASC_NO_R_DESC =\n    Comparator.comparing(HAS_NO_R::test)\n        .thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ?\n            (-1) * ld.toEpochDay() : ld.toEpochDay()\n        );\n</code></pre>\n<p>And here's the method itself. We can make use of the Stream API to generate the sorted list:</p>\n<pre><code>public static Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\n    \n    return unsortedDates.stream()         // assumption that original list should not be mutated\n        .sorted(BY_MONTH_R_ASC_NO_R_DESC)\n        .toList();\n}\n</code></pre>\n<p><em><strong>Note:</strong></em> I see no clear requirement on whether that method should return a <strong>new</strong> <code>Collection</code>. I've made a safe assumption that the original list should not be mutated.</p>\n<p>Just for the purpose of completeness, that's the original list can be sorted with Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List.sort()</code></a>:</p>\n<pre><code>unsortedDates.sort(BY_MONTH_R_ASC_NO_R_DESC);\n\nreturn unsortedDates;\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;LocalDate&gt; dates = List.of(\n        LocalDate.parse(&quot;2005-07-01&quot;), LocalDate.parse(&quot;2005-01-02&quot;),\n        LocalDate.parse(&quot;2005-01-01&quot;), LocalDate.parse(&quot;2005-05-03&quot;)\n    );\n\n    sortDates(dates).forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2005-01-01\n2005-01-02\n2005-07-01\n2005-05-03\n</code></pre>\n"}],"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74225859,"answer_count":1,"score":1,"last_activity_date":1666959985,"creation_date":1666888216,"question_id":74225376,"body_markdown":"I received this test-task for job, but I was rejected based on my solution. Please, give me a hint what would be the best way to solve this task.\r\n\r\nAs I found out later, they want me to use Java 8 features.\r\n\r\n```\r\n/**\r\n * Marking will be based upon producing a readable, well engineered solution rather than factors\r\n * such as speed of processing or other performance-based optimizations, which are less\r\n * important.\r\n *\r\n *\r\n * The Date sorter interface, implement the single method\r\n * within this interface.\r\n */\r\npublic interface IDateSorter {\r\n    /**\r\n     * The implementation of this method should sort dates.\r\n     * The output should be in the following order:\r\n     * Dates with an &#39;r&#39; in the month,\r\n     * sorted ascending (first to last),\r\n     * then dates without an &#39;r&#39; in the month,\r\n     * sorted descending (last to first).\r\n     * For example, October dates would come before May dates,\r\n     * because October has an &#39;r&#39; in it.\r\n     * thus: (2005-07-01, 2005-01-02, 2005-01-01, 2005-05-03)\r\n     * would sort to\r\n     * (2005-01-01, 2005-01-02, 2005-07-01, 2005-05-03)\r\n     *\r\n     * @param unsortedDates - an unsorted list of dates\r\n     * @return the collection of dates now sorted as per the spec\r\n     */\r\n    Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates);\r\n}\r\n```\r\n\r\n\r\nThis was my solution.\r\n\r\n```\r\n@Override\r\npublic  Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\r\n    List&lt;LocalDate&gt; listWithR = new ArrayList&lt;&gt;();\r\n    List&lt;LocalDate&gt; listWithOutR = new ArrayList&lt;&gt;();\r\n\r\n    //Separate unsortedDates in to list depends on &#39;R&#39; factor\r\n    for (LocalDate date: unsortedDates) {\r\n        if (date.getMonth().getValue() &lt; 5 || date.getMonth().getValue() &gt; 8) {\r\n            listWithR.add(date);\r\n        } else {\r\n            listWithOutR.add(date);\r\n        }\r\n    }\r\n    //Sort list with R\r\n    Collections.sort(listWithR);\r\n\r\n    //Sort list without R\r\n    listWithOutR.sort(Comparator.reverseOrder());\r\n\r\n    //Adding list without R to list with R\r\n    listWithR.addAll(listWithOutR);\r\n\r\n    return listWithR;\r\n\r\n}\r\n```\r\n","title":"Interview question - Partition and Sort LocalDate objects using Java 8 features","body":"<p>I received this test-task for job, but I was rejected based on my solution. Please, give me a hint what would be the best way to solve this task.</p>\n<p>As I found out later, they want me to use Java 8 features.</p>\n<pre><code>/**\n * Marking will be based upon producing a readable, well engineered solution rather than factors\n * such as speed of processing or other performance-based optimizations, which are less\n * important.\n *\n *\n * The Date sorter interface, implement the single method\n * within this interface.\n */\npublic interface IDateSorter {\n    /**\n     * The implementation of this method should sort dates.\n     * The output should be in the following order:\n     * Dates with an 'r' in the month,\n     * sorted ascending (first to last),\n     * then dates without an 'r' in the month,\n     * sorted descending (last to first).\n     * For example, October dates would come before May dates,\n     * because October has an 'r' in it.\n     * thus: (2005-07-01, 2005-01-02, 2005-01-01, 2005-05-03)\n     * would sort to\n     * (2005-01-01, 2005-01-02, 2005-07-01, 2005-05-03)\n     *\n     * @param unsortedDates - an unsorted list of dates\n     * @return the collection of dates now sorted as per the spec\n     */\n    Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates);\n}\n</code></pre>\n<p>This was my solution.</p>\n<pre><code>@Override\npublic  Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\n    List&lt;LocalDate&gt; listWithR = new ArrayList&lt;&gt;();\n    List&lt;LocalDate&gt; listWithOutR = new ArrayList&lt;&gt;();\n\n    //Separate unsortedDates in to list depends on 'R' factor\n    for (LocalDate date: unsortedDates) {\n        if (date.getMonth().getValue() &lt; 5 || date.getMonth().getValue() &gt; 8) {\n            listWithR.add(date);\n        } else {\n            listWithOutR.add(date);\n        }\n    }\n    //Sort list with R\n    Collections.sort(listWithR);\n\n    //Sort list without R\n    listWithOutR.sort(Comparator.reverseOrder());\n\n    //Adding list without R to list with R\n    listWithR.addAll(listWithOutR);\n\n    return listWithR;\n\n}\n</code></pre>\n"},{"tags":["java","image","gif","javax.imageio","imaging"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":2,"creation_date":1666909621,"post_id":74226509,"comment_id":131053095,"body_markdown":"Your question is confusing me: you say you&#39;re writing a GIF image, but the posted code uses JPEG. You say the problem with it is that it writes to the hard disk, but the code you posted appears to only write to in-memory objects.","body":"Your question is confusing me: you say you&#39;re writing a GIF image, but the posted code uses JPEG. You say the problem with it is that it writes to the hard disk, but the code you posted appears to only write to in-memory objects."},{"owner":{"account_id":26752624,"reputation":3,"user_id":20351753,"display_name":"orkim okard"},"score":0,"creation_date":1667204042,"post_id":74226509,"comment_id":131106517,"body_markdown":"yes it is a little confused... :-)\nbut thought using &quot;gif&quot; will be GIF \nImageIO.write(destImage, &quot;gif&quot;, baos);\n\nbut you have 100% right","body":"yes it is a little confused... :-) but thought using &quot;gif&quot; will be GIF  ImageIO.write(destImage, &quot;gif&quot;, baos);  but you have 100% right"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666959790,"creation_date":1666959790,"answer_id":74235355,"question_id":74226509,"body_markdown":"If you are saying that you&#39;ve observed that this code appears to cause disk activity when saving to `ByteArrayOutputStream` perhaps you should try setting the `ImageIO` &quot;use cache&quot; flag to `false`:\r\n\r\n    ImageIO.setUseCache(false);\r\n\r\nJavadoc for `setUseCache` says:\r\n\r\n&gt; Sets a flag indicating whether a disk-based cache file should be used when creating ImageInputStream and ImageOutputStreams.\r\n","title":"Any Alternative to ImageIO.write to convert bufferedimage to GIF bytes (Faster than ImageIO)?","body":"<p>If you are saying that you've observed that this code appears to cause disk activity when saving to <code>ByteArrayOutputStream</code> perhaps you should try setting the <code>ImageIO</code> &quot;use cache&quot; flag to <code>false</code>:</p>\n<pre><code>ImageIO.setUseCache(false);\n</code></pre>\n<p>Javadoc for <code>setUseCache</code> says:</p>\n<blockquote>\n<p>Sets a flag indicating whether a disk-based cache file should be used when creating ImageInputStream and ImageOutputStreams.</p>\n</blockquote>\n"}],"owner":{"account_id":26752624,"reputation":3,"user_id":20351753,"display_name":"orkim okard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74235355,"answer_count":1,"score":0,"last_activity_date":1666959790,"creation_date":1666894078,"question_id":74226509,"body_markdown":"my problem is when using imageio.write i am seeing that is using hdd, also read about jDeli (but too expensive), Apache Commons, JAI that are much faster....\r\n\r\nI wanna use the encoded bytes returned by routine... at a custom Remote Desktop Utility...\r\n\r\n\r\n```\r\npublic static byte[] imageToJPEGByteArray(Image aImage, int width, int height, int qualityPercent) throws IOException {\r\n byte[] imageBytes = new byte[0];\r\n \r\n\r\n   float quality = 75 / 100f;\r\n\r\n   BufferedImage destImage;\r\n   destImage = SwingFXUtils.fromFXImage(aImage, null);\r\n \r\n   // Output JPEG byte array\r\n   ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n \r\n   if(qualityPercent != -1) {\r\n       // Start to create JPEG with quality option\r\n       ImageWriter writer = null;\r\n       Iterator iter = ImageIO.getImageWritersByFormatName(&quot;gif&quot;);\r\n       if (iter.hasNext()) {\r\n         writer = (ImageWriter) iter.next();\r\n       }\r\n       ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\r\n       writer.setOutput(ios); \r\n       ImageWriteParam iwparam = new JPEGImageWriteParam(Locale.getDefault());\r\n       iwparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n       iwparam.setCompressionQuality(quality);\r\n       writer.write(null, new IIOImage(destImage, null, null), iwparam);\r\n       ios.flush();\r\n       writer.dispose();\r\n       ios.close();\r\n       // Done creating JPEG with quality option\r\n   } else {\r\n       // This one line below created a JPEG file without quality option\r\n       ImageIO.write(destImage, &quot;gif&quot;, baos);\r\n   }\r\n \r\n   baos.flush();\r\n   imageBytes = baos.toByteArray();\r\n   baos.close();\r\n \r\n   // Done\r\n   return imageBytes; \r\n}\r\n\r\n```\r\n","title":"Any Alternative to ImageIO.write to convert bufferedimage to GIF bytes (Faster than ImageIO)?","body":"<p>my problem is when using imageio.write i am seeing that is using hdd, also read about jDeli (but too expensive), Apache Commons, JAI that are much faster....</p>\n<p>I wanna use the encoded bytes returned by routine... at a custom Remote Desktop Utility...</p>\n<pre><code>public static byte[] imageToJPEGByteArray(Image aImage, int width, int height, int qualityPercent) throws IOException {\n byte[] imageBytes = new byte[0];\n \n\n   float quality = 75 / 100f;\n\n   BufferedImage destImage;\n   destImage = SwingFXUtils.fromFXImage(aImage, null);\n \n   // Output JPEG byte array\n   ByteArrayOutputStream baos = new ByteArrayOutputStream();\n \n   if(qualityPercent != -1) {\n       // Start to create JPEG with quality option\n       ImageWriter writer = null;\n       Iterator iter = ImageIO.getImageWritersByFormatName(&quot;gif&quot;);\n       if (iter.hasNext()) {\n         writer = (ImageWriter) iter.next();\n       }\n       ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\n       writer.setOutput(ios); \n       ImageWriteParam iwparam = new JPEGImageWriteParam(Locale.getDefault());\n       iwparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n       iwparam.setCompressionQuality(quality);\n       writer.write(null, new IIOImage(destImage, null, null), iwparam);\n       ios.flush();\n       writer.dispose();\n       ios.close();\n       // Done creating JPEG with quality option\n   } else {\n       // This one line below created a JPEG file without quality option\n       ImageIO.write(destImage, &quot;gif&quot;, baos);\n   }\n \n   baos.flush();\n   imageBytes = baos.toByteArray();\n   baos.close();\n \n   // Done\n   return imageBytes; \n}\n\n</code></pre>\n"},{"tags":["java","postgresql","function","datetime-format"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666959361,"post_id":74235166,"comment_id":131063604,"body_markdown":"This code will most certainly not work on Oracle.","body":"This code will most certainly not work on Oracle."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666959670,"creation_date":1666959670,"answer_id":74235334,"question_id":74235166,"body_markdown":"Just subtract the two timestamps and use to_char() to format the resulting interval: \r\n\r\n    select to_char(justify_interval(timestamp &#39;2022-10-28 14:54:12&#39; - timestamp &#39;2022-10-28 08:18:19&#39;), &#39;hh24:mi:ss&#39;)\r\n\r\nreturns `06:35:53`\r\n\r\nThe `justify_interval()` isn&#39;t strictly necessary especially if you never expect durations longer than 24 hours. \r\n\r\nThis: \r\n\r\n    select to_char(timestamp &#39;2022-10-28 14:54:12&#39; - timestamp &#39;2022-10-28 08:18:19&#39;, &#39;hh24:mi:ss&#39;)\r\n\r\n\r\nWould also return `06:35:53`","title":"Function to Display the time difference in hh:mm:ss for Postgresql DB","body":"<p>Just subtract the two timestamps and use to_char() to format the resulting interval:</p>\n<pre><code>select to_char(justify_interval(timestamp '2022-10-28 14:54:12' - timestamp '2022-10-28 08:18:19'), 'hh24:mi:ss')\n</code></pre>\n<p>returns <code>06:35:53</code></p>\n<p>The <code>justify_interval()</code> isn't strictly necessary especially if you never expect durations longer than 24 hours.</p>\n<p>This:</p>\n<pre><code>select to_char(timestamp '2022-10-28 14:54:12' - timestamp '2022-10-28 08:18:19', 'hh24:mi:ss')\n</code></pre>\n<p>Would also return <code>06:35:53</code></p>\n"}],"owner":{"account_id":26759870,"reputation":1,"user_id":20358005,"display_name":"Vishal Naidu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666959729,"creation_date":1666958780,"question_id":74235166,"body_markdown":"I have the below function which is working for Oracle DB to display the time difference in hh:mm:ss but the same function is not working for the Postgresql DB. There are some syntax issue and unrecognized function issues: Can any one help to convert the below Function in to acceptable format by Postgresql? Pls note this function will be used during runtime and forms the query to DB to return the time in hh:mm:ss\r\n\r\nFunction:\r\n```sql\r\nRIGHT (&#39;0&#39; + (CAST(\r\nDATEDIFF(hh,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME), \r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))/24 as varchar(10))),2)+&#39;:&#39;+\r\nRIGHT (&#39;0&#39; + (CAST((\r\nDATEDIFF(mi,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME),\r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))%1440/60) as varchar(10))),2)+&#39;:&#39;+\r\nRIGHT (&#39;0&#39; + (CAST(\r\nDATEDIFF(mi,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME), \r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))%60 as varchar(10))),2)\r\n```\r\nTried changing the hh to hh24 and DATETIME to TIMESTAMP and reformatted without + operator. ","title":"Function to Display the time difference in hh:mm:ss for Postgresql DB","body":"<p>I have the below function which is working for Oracle DB to display the time difference in hh:mm:ss but the same function is not working for the Postgresql DB. There are some syntax issue and unrecognized function issues: Can any one help to convert the below Function in to acceptable format by Postgresql? Pls note this function will be used during runtime and forms the query to DB to return the time in hh:mm:ss</p>\n<p>Function:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>RIGHT ('0' + (CAST(\nDATEDIFF(hh,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME), \nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))/24 as varchar(10))),2)+':'+\nRIGHT ('0' + (CAST((\nDATEDIFF(mi,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME),\nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))%1440/60) as varchar(10))),2)+':'+\nRIGHT ('0' + (CAST(\nDATEDIFF(mi,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME), \nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))%60 as varchar(10))),2)\n</code></pre>\n<p>Tried changing the hh to hh24 and DATETIME to TIMESTAMP and reformatted without + operator.</p>\n"},{"tags":["java","spring","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1563104,"reputation":1396,"user_id":1452522,"display_name":"tinker"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1567258760,"creation_date":1426253346,"answer_id":29033469,"question_id":29032981,"body_markdown":"**Save**, by definition, is supposed to update an object in the upsert style, update if present and insert if not. \nRead the `save` operation documentation on the MongoDb [website][1]\n\nThe **insert** operation in mongodb has the behavior you expect, but from the MongoRepository documentation it appears that insert is delegated to save so it won&#39;t make any difference. But you can give that a try and see if it works for you. Otherwise you can just do a get before to check if the object exists, since it is an index lookup it will be fast.\n\n**Edit**: Check your repository version, *insert* was introduced in [version 1.7][2].\n\n  [1]: http://docs.mongodb.org/manual/reference/method/db.collection.save/\n  [2]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html#insert-S-","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p><strong>Save</strong>, by definition, is supposed to update an object in the upsert style, update if present and insert if not.\nRead the <code>save</code> operation documentation on the MongoDb <a href=\"http://docs.mongodb.org/manual/reference/method/db.collection.save/\" rel=\"noreferrer\">website</a></p>\n<p>The <strong>insert</strong> operation in mongodb has the behavior you expect, but from the MongoRepository documentation it appears that insert is delegated to save so it won't make any difference. But you can give that a try and see if it works for you. Otherwise you can just do a get before to check if the object exists, since it is an index lookup it will be fast.</p>\n<p><strong>Edit</strong>: Check your repository version, <em>insert</em> was introduced in <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html#insert-S-\" rel=\"noreferrer\">version 1.7</a>.</p>\n"},{"tags":[],"owner":{"account_id":7335122,"reputation":490,"user_id":5586793,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1535054575,"creation_date":1535054575,"answer_id":51993484,"question_id":29032981,"body_markdown":"the  application shall update only when you have @Id annotation for one of the field, after long difficulty had found this\r\n\r\n        \r\n    @Document(collection=&quot;bus&quot;)\r\n    public class Bus {\r\n    \r\n    //\t@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\r\n    \t@Id\r\n    \tprivate String busTitle; \r\n    \tprivate int totalNoOfSeats;\r\n    \tprivate int noOfSeatsAvailable; \r\n    \tprivate String busType; \r\n    }\r\n\r\nbut somehow I could not use \r\n@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\r\n","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p>the  application shall update only when you have @Id annotation for one of the field, after long difficulty had found this</p>\n\n<pre><code>@Document(collection=\"bus\")\npublic class Bus {\n\n//  @Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\n    @Id\n    private String busTitle; \n    private int totalNoOfSeats;\n    private int noOfSeatsAvailable; \n    private String busType; \n}\n</code></pre>\n\n<p>but somehow I could not use \n@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)</p>\n"}],"owner":{"account_id":4821281,"reputation":582,"user_id":3891901,"accept_rate":67,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78886,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":29033469,"answer_count":2,"score":35,"last_activity_date":1666959600,"creation_date":1426251822,"question_id":29032981,"body_markdown":"I&#39;m using a :\r\n\r\n    org.springframework.data.mongodb.repository.MongoRepository\r\n\r\nI start with an empty DB and create an object with `_id = 1234` for example, and set some other String field to `hello` for example, and then do:\r\n\r\n    repository.save(object);\r\n\r\nAll is well, it saves the document in MondoDB.\r\n\r\nI create a NEW object, set the same `_id = 1234` but set the other String field to `world` and then to another save :\r\n\r\n    repository.save(newObject);\r\n\r\nResults : the save works but updates the original object.\r\n\r\nExpected results: This should fail with a `DuplicateKeyException` as `_id` is unique and I am using 2 separate objects when doing each save.\r\n\r\nDefect in spring or am I doing something wrong ???","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p>I'm using a :</p>\n\n<pre><code>org.springframework.data.mongodb.repository.MongoRepository\n</code></pre>\n\n<p>I start with an empty DB and create an object with <code>_id = 1234</code> for example, and set some other String field to <code>hello</code> for example, and then do:</p>\n\n<pre><code>repository.save(object);\n</code></pre>\n\n<p>All is well, it saves the document in MondoDB.</p>\n\n<p>I create a NEW object, set the same <code>_id = 1234</code> but set the other String field to <code>world</code> and then to another save :</p>\n\n<pre><code>repository.save(newObject);\n</code></pre>\n\n<p>Results : the save works but updates the original object.</p>\n\n<p>Expected results: This should fail with a <code>DuplicateKeyException</code> as <code>_id</code> is unique and I am using 2 separate objects when doing each save.</p>\n\n<p>Defect in spring or am I doing something wrong ???</p>\n"},{"tags":["java","path","filesystems"],"answers":[{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1414016115,"creation_date":1414016115,"answer_id":26518056,"question_id":26518033,"body_markdown":"I&#39;ve found this useful [`Path.startsWith( Path other )`](http://openjdk.java.net/projects/nio/javadoc/java/nio/file/Path.html#startsWith%28java.nio.file.Path%29) method, so this worked for me:\r\n\r\n    inputPath.toAbsolutePath().startsWith(outputDirectory.toAbsolutePath())\r\n\r\n","title":"How to check if a directory is inside other directory","body":"<p>I've found this useful <a href=\"http://openjdk.java.net/projects/nio/javadoc/java/nio/file/Path.html#startsWith%28java.nio.file.Path%29\" rel=\"noreferrer\"><code>Path.startsWith( Path other )</code></a> method, so this worked for me:</p>\n\n<pre><code>inputPath.toAbsolutePath().startsWith(outputDirectory.toAbsolutePath())\n</code></pre>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26518056,"answer_count":1,"score":3,"last_activity_date":1666959318,"creation_date":1414016000,"question_id":26518033,"body_markdown":"How can I check if a given file is under other file? For example, I have `new Paths.get(&quot;/foo/bar/&quot;)` and `new Paths.get(&quot;./abc/def.jar&quot;)`.\r\nAnd I want to check whether the second is under `/foo/bar`.\r\n\r\nI can figure out some string based comparisons like `path.toFile().getAbsolutePath().startsWith(path2.toFile().getAbsolutePath())`, but that looks fragile and not right.\r\n","title":"How to check if a directory is inside other directory","body":"<p>How can I check if a given file is under other file? For example, I have <code>new Paths.get(&quot;/foo/bar/&quot;)</code> and <code>new Paths.get(&quot;./abc/def.jar&quot;)</code>.\nAnd I want to check whether the second is under <code>/foo/bar</code>.</p>\n<p>I can figure out some string based comparisons like <code>path.toFile().getAbsolutePath().startsWith(path2.toFile().getAbsolutePath())</code>, but that looks fragile and not right.</p>\n"},{"tags":["java","format"],"comments":[{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":2,"creation_date":1361330747,"post_id":14971745,"comment_id":21021879,"body_markdown":"You&#39;re close, use `%6.3f`\n\nsee this also - http://stackoverflow.com/questions/7197078/printf-f-with-only-2-decimal-points","body":"You&#39;re close, use <code>%6.3f</code>  see this also - <a href=\"http://stackoverflow.com/questions/7197078/printf-f-with-only-2-decimal-points\" title=\"printf f with only 2 decimal points\">stackoverflow.com/questions/7197078/&hellip;</a>"},{"owner":{"account_id":2290111,"reputation":3327,"user_id":2013169,"accept_rate":91,"display_name":"Memento Mori"},"score":0,"creation_date":1361330761,"post_id":14971745,"comment_id":21021881,"body_markdown":"You might just be looking for System.out.printf(&quot;The speed in ft/sec is %.3f\\n&quot;, time);","body":"You might just be looking for System.out.printf(&quot;The speed in ft/sec is %.3f\\n&quot;, time);"}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1361333107,"creation_date":1361330688,"answer_id":14971756,"question_id":14971745,"body_markdown":"Try this:\r\n\r\n    System.out.printf(&quot;The speed in ft/sec is %6.3f\\n&quot;, time);\r\n\r\nThe above will _round_ to three decimal places (not &quot;truncate&quot; them). The only difference is in the value after the dot.","title":"How to limit decimal places using printf in Java?","body":"<p>Try this:</p>\n\n<pre><code>System.out.printf(\"The speed in ft/sec is %6.3f\\n\", time);\n</code></pre>\n\n<p>The above will <em>round</em> to three decimal places (not \"truncate\" them). The only difference is in the value after the dot.</p>\n"},{"tags":[],"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361330704,"creation_date":1361330704,"answer_id":14971759,"question_id":14971745,"body_markdown":"Try `%6.3f` instead. the format is\r\n\r\n    %(before).(after)(type)\r\n        6         3    f\r\n    \r\n        6 -&gt; 6 digits before the decimal\r\n        3 -&gt; 3 digits AFTER the decimal\r\n\r\n","title":"How to limit decimal places using printf in Java?","body":"<p>Try <code>%6.3f</code> instead. the format is</p>\n\n<pre><code>%(before).(after)(type)\n    6         3    f\n\n    6 -&gt; 6 digits before the decimal\n    3 -&gt; 3 digits AFTER the decimal\n</code></pre>\n"}],"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14971756,"answer_count":2,"score":2,"last_activity_date":1666959077,"creation_date":1361330608,"question_id":14971745,"body_markdown":"I&#39;m trying to truncate to the third decimal point using printf in Java, but I keep getting to only the second decimal point. Here&#39;s the line of code where I was attempting this:\r\n\r\n    System.out.printf(&quot;The speed in ft/sec is %6.2f\\n&quot;, time);\r\n","title":"How to limit decimal places using printf in Java?","body":"<p>I'm trying to truncate to the third decimal point using printf in Java, but I keep getting to only the second decimal point. Here's the line of code where I was attempting this:</p>\n\n<pre><code>System.out.printf(\"The speed in ft/sec is %6.2f\\n\", time);\n</code></pre>\n"},{"tags":["java","android","switch-statement","styles"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666958909,"post_id":74233178,"comment_id":131063468,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666959069,"creation_date":1666959069,"answer_id":74235218,"question_id":74233178,"body_markdown":"You can use something like:\r\n\r\n    &lt;style name=&quot;Widget.App.Switch&quot; parent=&quot;Widget.Material3.CompoundButton.Switch&quot;&gt;\r\n        &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.Switch&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ThemeOverlay.App.Switch&quot; parent=&quot;&quot;&gt;\r\n        &lt;!-- thumb colors--&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--checked--&gt;\r\n        &lt;item name=&quot;colorOnSurface&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--unchecked--&gt;\r\n\r\n        &lt;!-- track colors--&gt;\r\n        &lt;item name=&quot;colorOutline&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--unchecked--&gt;\r\n        &lt;item name=&quot;colorPrimaryContainer&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--checked--&gt;\r\n    &lt;/style&gt;\r\n\r\nand in your layout:\r\n\r\n    &lt;com.google.android.material.switchmaterial.SwitchMaterial\r\n        style=&quot;@style/Widget.App.Switch&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2xjUU.png\r\n  [2]: https://i.stack.imgur.com/00AuE.png","title":"How do you remove a switch&#39;s color or change its on/off color to the same color?","body":"<p>You can use something like:</p>\n<pre><code>&lt;style name=&quot;Widget.App.Switch&quot; parent=&quot;Widget.Material3.CompoundButton.Switch&quot;&gt;\n    &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.Switch&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ThemeOverlay.App.Switch&quot; parent=&quot;&quot;&gt;\n    &lt;!-- thumb colors--&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--checked--&gt;\n    &lt;item name=&quot;colorOnSurface&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--unchecked--&gt;\n\n    &lt;!-- track colors--&gt;\n    &lt;item name=&quot;colorOutline&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--unchecked--&gt;\n    &lt;item name=&quot;colorPrimaryContainer&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--checked--&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and in your layout:</p>\n<pre><code>&lt;com.google.android.material.switchmaterial.SwitchMaterial\n    style=&quot;@style/Widget.App.Switch&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2xjUU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2xjUU.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/00AuE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/00AuE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18804312,"reputation":13,"user_id":13713991,"display_name":"bramar2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74235218,"answer_count":1,"score":1,"last_activity_date":1666959069,"creation_date":1666948785,"question_id":74233178,"body_markdown":"I want to have a switch that switches from 2 different modes, but I can&#39;t figure out how to remove the switch color and make on/off the same color. It would be weird if a mode has a different color than another mode. Is this possible and how do you do it?\r\n\r\nI&#39;ve tried using a style that has the same color with colorControlActivated, colorSwitchThumbNormal and android:colorForeground but on/off still had some differences in color","title":"How do you remove a switch&#39;s color or change its on/off color to the same color?","body":"<p>I want to have a switch that switches from 2 different modes, but I can't figure out how to remove the switch color and make on/off the same color. It would be weird if a mode has a different color than another mode. Is this possible and how do you do it?</p>\n<p>I've tried using a style that has the same color with colorControlActivated, colorSwitchThumbNormal and android:colorForeground but on/off still had some differences in color</p>\n"},{"tags":["java","selenium-webdriver","browser-automation","testng-dataprovider"],"comments":[{"owner":{"account_id":26759302,"reputation":11,"user_id":20357509,"display_name":"vinay pv"},"score":0,"creation_date":1666958926,"post_id":74235098,"comment_id":131063474,"body_markdown":"Added Libraries-logdj-1.2.14 jar, \nlogdj2acml.jar,\nlogdj-api-2.18.0.jar,\nlogdj-sif4j-impl-2.0-betad.jar,\npoi-5.2.3.jar ,\npoi-examples-5.2.3.jar,\npoi-excelant-5.2.3.jar,\npoi-ooxml-5.2.3.jar,\npoi-ooxml-full-5.2.3jar, \npoi-scratchpad-5.2.3.jar","body":"Added Libraries-logdj-1.2.14 jar,  logdj2acml.jar, logdj-api-2.18.0.jar, logdj-sif4j-impl-2.0-betad.jar, poi-5.2.3.jar , poi-examples-5.2.3.jar, poi-excelant-5.2.3.jar, poi-ooxml-5.2.3.jar, poi-ooxml-full-5.2.3jar,  poi-scratchpad-5.2.3.jar"}],"owner":{"account_id":26759302,"reputation":11,"user_id":20357509,"display_name":"vinay pv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666958452,"creation_date":1666958452,"question_id":74235098,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/bsLiJ.jpg)](https://i.stack.imgur.com/bsLiJ.jpg)\r\n\r\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\r\n\r\nSelenium version : selenium-server-standalone-3.41.59.jar\r\nTestNG version : 7.4.0\r\n\r\nTried to login with Excel sheet data provider.But no class found error getting.\r\nAdded Apache POI excel related dependenices \r\nAdded Libraries(Please see the screenshot)\r\nHere is my code.\r\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\r\nSelenium version : selenium-server-standalone-3.41.59.jar TestNG version : 7.4.0\r\n\r\n```\r\npackage ui;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class MultiUserLogin {\r\n\r\n\tpublic static  WebDriver driver;\r\n\tpublic  WebDriverWait wait;\r\n\r\n\tString appURL1 = &quot;https://www.google.com&quot;;\r\n\t\r\n\r\n\t@BeforeClass\r\n\tpublic void testSetup() {\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;E:/Geckdriver/geckodriver.exe&quot;);\r\n\t\tdriver=new FirefoxDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\twait = new WebDriverWait(driver, 5);\r\n\t}\r\n\t\r\n\r\n\t@Test(dataProvider=&quot;LoginData&quot;)\r\n\tpublic void VerifyValidLogin(String Username, String Password,String Company) {\r\n\t\tdriver.navigate().to(appURL1);\r\n\t\t driver.findElement(By.id(&quot;userId&quot;)).sendKeys(Username);\r\n\t        driver.findElement(By.id(&quot;password&quot;)).sendKeys(Password);\r\n\t        driver.findElement(By.id(&quot;company&quot;)).sendKeys(Company);\r\n\t        driver.findElement(By.linkText(&quot;Login&quot;)).click();\r\n\t\t\r\n\t\t\t\t}\r\n\t\r\n\t@DataProvider(name=&quot;LoginData&quot;)\r\n\tpublic Object[][] LoginData() throws Exception {\r\n\t\tObject[][] testObjArray = ExcelUtils.getTableArray(&quot;E:\\\\TestNG\\\\TestData\\\\TestData.xlsx&quot;,&quot;Sheet1&quot;);\r\n\t\treturn (testObjArray);\r\n\t\t}\r\n}\r\n\r\n\r\n\r\n\r\npackage ui;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.CellType;\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class ExcelUtils {\r\n\r\n\r\n\tprivate static XSSFSheet ExcelWSheet;\r\n\r\n\tprivate static XSSFWorkbook ExcelWBook;\r\n\r\n\tprivate static XSSFCell Cell;\r\n\r\n\tprivate static XSSFRow Row;\r\n\r\npublic static Object[][] getTableArray(String FilePath, String SheetName) throws Exception {   \r\n\r\n   String[][] tabArray = null;\r\n\r\n   try {\r\n\r\n\t   FileInputStream ExcelFile = new FileInputStream(FilePath);\r\n\r\n\t   // Access the required test data sheet\r\n\r\n\t   ExcelWBook = new XSSFWorkbook(ExcelFile);\r\n\r\n\t   ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n\r\n\t   int startRow = 1;\r\n\r\n\t   int startCol = 1;\r\n\r\n\t   int ci,cj;\r\n\r\n\t   int totalRows = ExcelWSheet.getLastRowNum();\r\n\r\n\t   //  function as well to get Column count\r\n\r\n\t   int totalCols = 2;\r\n\r\n\t   tabArray=new String[totalRows][totalCols];\r\n\r\n\t   ci=0;\r\n\r\n\t   for (int i=startRow;i&lt;=totalRows;i++, ci++) {           \t   \r\n\r\n\t\t  cj=0;\r\n\r\n\t\t   for (int j=startCol;j&lt;=totalCols;j++, cj++){\r\n\r\n\t\t\t   tabArray[ci][cj]=getCellData(i,j);\r\n\r\n\t\t\t   System.out.println(tabArray[ci][cj]);  \r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\tcatch (FileNotFoundException e){\r\n\r\n\t\tSystem.out.println(&quot;Could not read the Excel sheet&quot;);\r\n\r\n\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\tcatch (IOException e){\r\n\r\n\t\tSystem.out.println(&quot;Could not read the Excel sheet&quot;);\r\n\r\n\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\treturn(tabArray);\r\n\r\n\t}\r\n\r\npublic static String getCellData(int RowNum, int ColNum) throws Exception {\r\n\r\n\ttry{\r\n\r\n\t\tCell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\r\n\r\n\t\tCellType dataType= Cell.getCellType();\r\n\r\n\t\tif  (dataType == CellType.STRING) {\r\n\t\t\t\r\n\t\t\treturn &quot;&quot;;\r\n\r\n\t\t}else{\r\n\r\n\t\t\tString CellData = Cell.getStringCellValue();\r\n\r\n\t\t\treturn CellData;\r\n\r\n\t\t}\r\n\t}catch (Exception e){\r\n\r\n\t\tSystem.out.println(e.getMessage());\r\n\r\n\t\tthrow (e);\r\n\r\n\t\t}\r\n\r\n\t\r\n}\r\n}\r\n```","title":"Tried to log in application with multiple users from the Excel sheet data provider. But No class found an error getting","body":"<p><a href=\"https://i.stack.imgur.com/bsLiJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bsLiJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The Selenium Webdriver, TestNG version &amp; used libraries are given below.</p>\n<p>Selenium version : selenium-server-standalone-3.41.59.jar\nTestNG version : 7.4.0</p>\n<p>Tried to login with Excel sheet data provider.But no class found error getting.\nAdded Apache POI excel related dependenices\nAdded Libraries(Please see the screenshot)\nHere is my code.\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\nSelenium version : selenium-server-standalone-3.41.59.jar TestNG version : 7.4.0</p>\n<pre><code>package ui;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\npublic class MultiUserLogin {\n\n    public static  WebDriver driver;\n    public  WebDriverWait wait;\n\n    String appURL1 = &quot;https://www.google.com&quot;;\n    \n\n    @BeforeClass\n    public void testSetup() {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;E:/Geckdriver/geckodriver.exe&quot;);\n        driver=new FirefoxDriver();\n        driver.manage().window().maximize();\n        wait = new WebDriverWait(driver, 5);\n    }\n    \n\n    @Test(dataProvider=&quot;LoginData&quot;)\n    public void VerifyValidLogin(String Username, String Password,String Company) {\n        driver.navigate().to(appURL1);\n         driver.findElement(By.id(&quot;userId&quot;)).sendKeys(Username);\n            driver.findElement(By.id(&quot;password&quot;)).sendKeys(Password);\n            driver.findElement(By.id(&quot;company&quot;)).sendKeys(Company);\n            driver.findElement(By.linkText(&quot;Login&quot;)).click();\n        \n                }\n    \n    @DataProvider(name=&quot;LoginData&quot;)\n    public Object[][] LoginData() throws Exception {\n        Object[][] testObjArray = ExcelUtils.getTableArray(&quot;E:\\\\TestNG\\\\TestData\\\\TestData.xlsx&quot;,&quot;Sheet1&quot;);\n        return (testObjArray);\n        }\n}\n\n\n\n\npackage ui;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.CellType;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelUtils {\n\n\n    private static XSSFSheet ExcelWSheet;\n\n    private static XSSFWorkbook ExcelWBook;\n\n    private static XSSFCell Cell;\n\n    private static XSSFRow Row;\n\npublic static Object[][] getTableArray(String FilePath, String SheetName) throws Exception {   \n\n   String[][] tabArray = null;\n\n   try {\n\n       FileInputStream ExcelFile = new FileInputStream(FilePath);\n\n       // Access the required test data sheet\n\n       ExcelWBook = new XSSFWorkbook(ExcelFile);\n\n       ExcelWSheet = ExcelWBook.getSheet(SheetName);\n\n       int startRow = 1;\n\n       int startCol = 1;\n\n       int ci,cj;\n\n       int totalRows = ExcelWSheet.getLastRowNum();\n\n       //  function as well to get Column count\n\n       int totalCols = 2;\n\n       tabArray=new String[totalRows][totalCols];\n\n       ci=0;\n\n       for (int i=startRow;i&lt;=totalRows;i++, ci++) {               \n\n          cj=0;\n\n           for (int j=startCol;j&lt;=totalCols;j++, cj++){\n\n               tabArray[ci][cj]=getCellData(i,j);\n\n               System.out.println(tabArray[ci][cj]);  \n\n                }\n\n            }\n\n        }\n\n    catch (FileNotFoundException e){\n\n        System.out.println(&quot;Could not read the Excel sheet&quot;);\n\n        e.printStackTrace();\n\n        }\n\n    catch (IOException e){\n\n        System.out.println(&quot;Could not read the Excel sheet&quot;);\n\n        e.printStackTrace();\n\n        }\n\n    return(tabArray);\n\n    }\n\npublic static String getCellData(int RowNum, int ColNum) throws Exception {\n\n    try{\n\n        Cell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\n\n        CellType dataType= Cell.getCellType();\n\n        if  (dataType == CellType.STRING) {\n            \n            return &quot;&quot;;\n\n        }else{\n\n            String CellData = Cell.getStringCellValue();\n\n            return CellData;\n\n        }\n    }catch (Exception e){\n\n        System.out.println(e.getMessage());\n\n        throw (e);\n\n        }\n\n    \n}\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666958906,"post_id":74235048,"comment_id":131063467,"body_markdown":"the error message tells you exactly what&#39;s wrong: _Invalid URL or resource not found_ :) See the duplicate for learning how to access resources.","body":"the error message tells you exactly what&#39;s wrong: <i>Invalid URL or resource not found</i> :) See the duplicate for learning how to access resources."},{"owner":{"account_id":17566469,"reputation":21,"user_id":12743179,"display_name":"Krattza"},"score":0,"creation_date":1666959672,"post_id":74235048,"comment_id":131063694,"body_markdown":"Man, I am such a dumbo, thanks I thought it had something to do with VM.","body":"Man, I am such a dumbo, thanks I thought it had something to do with VM."}],"owner":{"account_id":17566469,"reputation":21,"user_id":12743179,"display_name":"Krattza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666958810,"answer_count":0,"score":0,"last_activity_date":1666958199,"creation_date":1666958199,"question_id":74235048,"body_markdown":"```\r\npackage com.example.checking;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication  extends Application{\r\n\r\n    //Main method to run program\r\n    public static void main(String[] args) {\r\n        //to launch the application\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        //Now  we need a scene inside stage and root nodes.\r\n        Group root = new Group();\r\n        Scene scene =  new Scene(root, 600,600, Color.LIGHTBLUE);\r\n       \r\n       //Creating and Displaying icon.\r\n        Image i = new Image(&quot;icon.png&quot;);\r\n        stage.getIcons().add(i);\r\n        \r\n        Text text = new Text();\r\n        text.setText(&quot;Whoaaaa!!!&quot;);\r\n        text.setX(50);\r\n        text.setY(50);\r\n\r\n        //Adding text to our root node\r\n\r\n        text.setFont(Font.font(&quot;Verdana&quot;, 50));\r\n        text.setFill(Color.LIMEGREEN);\r\n        //Setting title\r\n        Line line =  new Line();\r\n        line.setStartX(200);\r\n        line.setStartY(200);\r\n        line.setEndX(500);\r\n        line.setEndY(200);\r\n        line.setStrokeWidth(5);\r\n\r\n        Rectangle rectangle = new Rectangle();\r\n        rectangle.setWidth(100);\r\n        rectangle.setHeight(100);\r\n        rectangle.setX(300);\r\n        rectangle.setY(250);\r\n        rectangle.setStrokeWidth(5);\r\n        rectangle.setFill(Color.BLUE);\r\n        rectangle.setStrokeWidth(5);\r\n        rectangle.setStroke(Color.BLACK);\r\n\r\n        Polygon triangle = new Polygon();\r\n        triangle.getPoints().setAll(\r\n                200.0, 200.0,\r\n                300.0, 300.0,\r\n                200.0, 300.0,\r\n                300.0, 200.0\r\n        );\r\n\r\n        triangle.setFill(Color.YELLOW);\r\n\r\n        Circle circle = new Circle();\r\n        circle.setCenterX(350);\r\n        circle.setCenterY(350);\r\n        circle.setRadius(50);\r\n        circle.setFill(Color.ORANGE);\r\n\r\n\r\n\r\n        root.getChildren().add(text);\r\n        root.getChildren().add(line);\r\n        root.getChildren().add(triangle);\r\n        root.getChildren().add(rectangle);\r\n        root.getChildren().add(circle);\r\n\r\n\r\n        stage.setTitle(&quot;Notes and Password Manager&quot;);\r\n        //Setting stage height and width\r\n//        stage.setHeight(750);\r\n//        stage.setWidth(630);\r\n        //Set the scene so it shows in the stage.\r\n        stage.setScene(scene);\r\n        stage.setResizable(false);\r\n        //To show the stage we use .show()\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThis is my code that I am trying to run, If I comment out my Image i object part, everything will work fine, with no issues, but as soon as I add an Image object it will give following errors\r\n\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n\tat javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1138)\r\n\tat javafx.graphics@19/javafx.scene.image.Image.&lt;init&gt;(Image.java:628)\r\n\tat com.example.checking.HelloApplication.start(HelloApplication.java:76)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n\tat javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1123)\r\n\t... 11 more\r\nException running application com.example.checking.HelloApplication\r\n```\r\n\r\n\r\n\r\nNow possible solution could be to make a module-info.java package and add require javafx.control and javafx.fxml but whenever I add module-info.java it gives me this error : -\r\n\r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module Checking not found\r\n\r\nSo to deal with this, I deleted the module-info.java and instead added this :-\r\n\r\n--module-path &quot;C:\\Users\\jaina\\Documents\\openjfx-19_windows-x64_bin-sdk (1)\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\nin my VM options and it works just fine for everything except for Image objects, help required, cause I am unable to get to any solutions.","title":"JavaFX error whenever I try to use Image object, new to learning JavaFX","body":"<pre><code>package com.example.checking;\n\nimport javafx.application.Application;\nimport javafx.scene.image.Image;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Line;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\npublic class HelloApplication  extends Application{\n\n    //Main method to run program\n    public static void main(String[] args) {\n        //to launch the application\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        //Now  we need a scene inside stage and root nodes.\n        Group root = new Group();\n        Scene scene =  new Scene(root, 600,600, Color.LIGHTBLUE);\n       \n       //Creating and Displaying icon.\n        Image i = new Image(&quot;icon.png&quot;);\n        stage.getIcons().add(i);\n        \n        Text text = new Text();\n        text.setText(&quot;Whoaaaa!!!&quot;);\n        text.setX(50);\n        text.setY(50);\n\n        //Adding text to our root node\n\n        text.setFont(Font.font(&quot;Verdana&quot;, 50));\n        text.setFill(Color.LIMEGREEN);\n        //Setting title\n        Line line =  new Line();\n        line.setStartX(200);\n        line.setStartY(200);\n        line.setEndX(500);\n        line.setEndY(200);\n        line.setStrokeWidth(5);\n\n        Rectangle rectangle = new Rectangle();\n        rectangle.setWidth(100);\n        rectangle.setHeight(100);\n        rectangle.setX(300);\n        rectangle.setY(250);\n        rectangle.setStrokeWidth(5);\n        rectangle.setFill(Color.BLUE);\n        rectangle.setStrokeWidth(5);\n        rectangle.setStroke(Color.BLACK);\n\n        Polygon triangle = new Polygon();\n        triangle.getPoints().setAll(\n                200.0, 200.0,\n                300.0, 300.0,\n                200.0, 300.0,\n                300.0, 200.0\n        );\n\n        triangle.setFill(Color.YELLOW);\n\n        Circle circle = new Circle();\n        circle.setCenterX(350);\n        circle.setCenterY(350);\n        circle.setRadius(50);\n        circle.setFill(Color.ORANGE);\n\n\n\n        root.getChildren().add(text);\n        root.getChildren().add(line);\n        root.getChildren().add(triangle);\n        root.getChildren().add(rectangle);\n        root.getChildren().add(circle);\n\n\n        stage.setTitle(&quot;Notes and Password Manager&quot;);\n        //Setting stage height and width\n//        stage.setHeight(750);\n//        stage.setWidth(630);\n        //Set the scene so it shows in the stage.\n        stage.setScene(scene);\n        stage.setResizable(false);\n        //To show the stage we use .show()\n        stage.show();\n    }\n}\n\n\n</code></pre>\n<p>This is my code that I am trying to run, If I comment out my Image i object part, everything will work fine, with no issues, but as soon as I add an Image object it will give following errors</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n    at javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1138)\n    at javafx.graphics@19/javafx.scene.image.Image.&lt;init&gt;(Image.java:628)\n    at com.example.checking.HelloApplication.start(HelloApplication.java:76)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n    at javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1123)\n    ... 11 more\nException running application com.example.checking.HelloApplication\n</code></pre>\n<p>Now possible solution could be to make a module-info.java package and add require javafx.control and javafx.fxml but whenever I add module-info.java it gives me this error : -</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module Checking not found</p>\n<p>So to deal with this, I deleted the module-info.java and instead added this :-</p>\n<p>--module-path &quot;C:\\Users\\jaina\\Documents\\openjfx-19_windows-x64_bin-sdk (1)\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n<p>in my VM options and it works just fine for everything except for Image objects, help required, cause I am unable to get to any solutions.</p>\n"},{"tags":["java","visual-studio-code","dependencies"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1651715670,"post_id":72115220,"comment_id":127431097,"body_markdown":"For the first question, I think you have not explained why you want to open the second one when you open a vscode. At this time, he will open a copy called &quot;Explorer&quot;. Also note that if you open a java file in vs code without opening its folder, the Java language server may not work properly. For the second problem, vsocde retrieves files based on the workspace directory, not from the currently open file.","body":"For the first question, I think you have not explained why you want to open the second one when you open a vscode. At this time, he will open a copy called &quot;Explorer&quot;. Also note that if you open a java file in vs code without opening its folder, the Java language server may not work properly. For the second problem, vsocde retrieves files based on the workspace directory, not from the currently open file."}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651714726,"creation_date":1651714726,"answer_id":72121052,"question_id":72115220,"body_markdown":"The project without build tools does not allow containing sub-projects (which I guess in your case you want to have `pro1`, `pro2`... as subprojects).\r\n\r\nBut you can have multiple source roots, to do that, what you need to do is:\r\n\r\n1. Creating a new project without build tools in a **new empty** folder.\r\n2. Opening the newly created project, then you can create new folders `pro1/src`, `pro2/src`, at the root of the workspace folder. (in other words, beside the `src` folder).\r\n3. Trigger the command `Java: Configure classpath`, then you can mark the `pro1/src`, `pro2/src` as the source root. Also the `src` at the root can be removed.","title":"How could I prevent vscode from opening new workspace when creating a new java project?","body":"<p>The project without build tools does not allow containing sub-projects (which I guess in your case you want to have <code>pro1</code>, <code>pro2</code>... as subprojects).</p>\n<p>But you can have multiple source roots, to do that, what you need to do is:</p>\n<ol>\n<li>Creating a new project without build tools in a <strong>new empty</strong> folder.</li>\n<li>Opening the newly created project, then you can create new folders <code>pro1/src</code>, <code>pro2/src</code>, at the root of the workspace folder. (in other words, beside the <code>src</code> folder).</li>\n<li>Trigger the command <code>Java: Configure classpath</code>, then you can mark the <code>pro1/src</code>, <code>pro2/src</code> as the source root. Also the <code>src</code> at the root can be removed.</li>\n</ol>\n"}],"owner":{"account_id":23676412,"reputation":21,"user_id":17702591,"display_name":"Used To Love"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666958017,"creation_date":1651676517,"question_id":72115220,"body_markdown":"  I recently start using vscode for java programs, but it&#39;s really hard to configure the settings, I set a empty workspace &quot;goodskies&quot; and use command palette to create no-build tools java projects, select the default folder but it always generates a new workspace and when I go back to my parent workspace, the main class warns to add a package declaration, I just want to write every program in one workspace not each for dependent workspace.\r\n\r\n  I am also confused about the package naming conventions,it seems that the package name should contains starting from the root directory of workspace to the parent root of the file, I don&#39;t why this works, why couldn&#39;t just specify the parent directory as package declaration?\r\nhow did the complier view delerations? Thanks!\r\n\r\nSo my question is that :\r\n\r\n 1. How to fix this properly?\r\n 2. How does package works and how to name it?\r\n\r\n\r\n[![Create a new java project][1]][1]\r\n\r\n\r\n[![Just genereted a new workspace][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Rzjz.png\r\n  [2]: https://i.stack.imgur.com/QSjyw.png\r\n  [3]: https://i.stack.imgur.com/v48go.png","title":"How could I prevent vscode from opening new workspace when creating a new java project?","body":"<p>I recently start using vscode for java programs, but it's really hard to configure the settings, I set a empty workspace &quot;goodskies&quot; and use command palette to create no-build tools java projects, select the default folder but it always generates a new workspace and when I go back to my parent workspace, the main class warns to add a package declaration, I just want to write every program in one workspace not each for dependent workspace.</p>\n<p>I am also confused about the package naming conventions,it seems that the package name should contains starting from the root directory of workspace to the parent root of the file, I don't why this works, why couldn't just specify the parent directory as package declaration?\nhow did the complier view delerations? Thanks!</p>\n<p>So my question is that :</p>\n<ol>\n<li>How to fix this properly?</li>\n<li>How does package works and how to name it?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/1Rzjz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rzjz.png\" alt=\"Create a new java project\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QSjyw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSjyw.png\" alt=\"Just genereted a new workspace\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/v48go.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v48go.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":3,"creation_date":1666898347,"post_id":74227220,"comment_id":131050241,"body_markdown":"Please clarify what exactly your question is - what you&#39;ve already tried and what you&#39;re struggling with.","body":"Please clarify what exactly your question is - what you&#39;ve already tried and what you&#39;re struggling with."}],"answers":[{"tags":[],"owner":{"account_id":25612619,"reputation":31,"user_id":19385798,"display_name":"mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666957261,"creation_date":1666905477,"answer_id":74228429,"question_id":74227220,"body_markdown":"the following code might be a good approach for this problem. it might not be the best, but as long as it works, it&#39;s good\r\n``` \r\n    int timesPressed = 0;\r\n    boolean timesUp = false;\r\n    long millisInFuture = 5000; //ms until countdown stops\r\n    long countDownInterval = 50; //the rate at which countdown ticks (here, once every 50 ms)\r\n    public CountDownTimer countDownTimer = new CountDownTimer(millisInFuture, countDownInterval) {\r\n        @Override\r\n        public void onTick(long millisUntilFinished) {\r\n            return;\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n            timesUp = true;\r\n            timesPressed = 0;\r\n        }\r\n    };\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\r\n            timesPressed++;\r\n            countDownTimer.start();\r\n\r\n            if (!timesUp &amp;&amp; timesPressed == 5) { \r\n                countDownTimer.cancel(); //stops timer\r\n                timesUp = false; \r\n                timesPressed = 0;\r\n                doStuff(); //execute your function\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```","title":"number of button clicks in given time in android","body":"<p>the following code might be a good approach for this problem. it might not be the best, but as long as it works, it's good</p>\n<pre><code>    int timesPressed = 0;\n    boolean timesUp = false;\n    long millisInFuture = 5000; //ms until countdown stops\n    long countDownInterval = 50; //the rate at which countdown ticks (here, once every 50 ms)\n    public CountDownTimer countDownTimer = new CountDownTimer(millisInFuture, countDownInterval) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            return;\n        }\n        @Override\n        public void onFinish() {\n            timesUp = true;\n            timesPressed = 0;\n        }\n    };\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\n            timesPressed++;\n            countDownTimer.start();\n\n            if (!timesUp &amp;&amp; timesPressed == 5) { \n                countDownTimer.cancel(); //stops timer\n                timesUp = false; \n                timesPressed = 0;\n                doStuff(); //execute your function\n            }\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":26753095,"reputation":11,"user_id":20352160,"display_name":"arya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666957261,"creation_date":1666898221,"question_id":74227220,"body_markdown":" I am devloping an application which uses volume button cliks to trigger an action.\r\nif the user clicks the volume button 5 times in  given time ,then a function will be triggered. \r\n \r\n\r\n Now i a want code to check whether the user clicked the volume buttton 5 times in given time.\r\nThe time should be in millliseconds","title":"number of button clicks in given time in android","body":"<p>I am devloping an application which uses volume button cliks to trigger an action.\nif the user clicks the volume button 5 times in  given time ,then a function will be triggered.</p>\n<p>Now i a want code to check whether the user clicked the volume buttton 5 times in given time.\nThe time should be in millliseconds</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1666956656,"post_id":74234652,"comment_id":131062748,"body_markdown":"You can not add a file in Assets at runtime . You can not get a json file as response .\nYou can create a file in local storage and write the response in it .. Why you need a File anyway ? can u explain little bit maybe there a better solution for your problem .","body":"You can not add a file in Assets at runtime . You can not get a json file as response . You can create a file in local storage and write the response in it .. Why you need a File anyway ? can u explain little bit maybe there a better solution for your problem ."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1666958006,"post_id":74234652,"comment_id":131063191,"body_markdown":"Yes, i need the json to use a method in azure maps that adds a geojson file into a datasource, as importdatafromurl. I tryed to add as json object or string and it wont acept, i can only open from a file in my dir or from web link.","body":"Yes, i need the json to use a method in azure maps that adds a geojson file into a datasource, as importdatafromurl. I tryed to add as json object or string and it wont acept, i can only open from a file in my dir or from web link."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1666963833,"post_id":74234652,"comment_id":131065102,"body_markdown":"then try writing a file with response in local storage and pass the path to that client . you can lots of questions on How and where to write a a file in android .","body":"then try writing a file with response in local storage and pass the path to that client . you can lots of questions on How and where to write a a file in android ."}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666956320,"creation_date":1666956320,"question_id":74234652,"body_markdown":"So i have a get request from an API, when i get the response i want to make that response into a json file instead of making him an JSONOBJECT, is it possible ? i will paste the get funcion here, and the way im getting the JSONOBJECT.\r\nI want to replace the way i get a JSONOBJECT, from a way to get that json as a file that goes to my assets directory.\r\n\r\n    public void getAssetPlant(final VolleyCallBack callBack) {\r\n            RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n    \r\n            StringRequest request = new StringRequest(Request.Method.GET, url_assets, new Response.Listener&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    try {\r\n                        JSONObject j = new JSONObject(response);\r\n                        callBack.onSuccess();\r\n                    } catch (URISyntaxException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    \r\n    \r\n    \r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(MapActivity.this, &quot;Failed to gather info&quot; + error.networkResponse.statusCode, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }) {\r\n    \r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                    return headers;\r\n                }\r\n            };\r\n            requestQueue.add(request);\r\n        }","title":"Is it possible to get a response as a json file instead of making him a jsonobject in java?","body":"<p>So i have a get request from an API, when i get the response i want to make that response into a json file instead of making him an JSONOBJECT, is it possible ? i will paste the get funcion here, and the way im getting the JSONOBJECT.\nI want to replace the way i get a JSONOBJECT, from a way to get that json as a file that goes to my assets directory.</p>\n<pre><code>public void getAssetPlant(final VolleyCallBack callBack) {\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest request = new StringRequest(Request.Method.GET, url_assets, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                try {\n                    JSONObject j = new JSONObject(response);\n                    callBack.onSuccess();\n                } catch (URISyntaxException e) {\n                    e.printStackTrace();\n                }\n                \n\n\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MapActivity.this, &quot;Failed to gather info&quot; + error.networkResponse.statusCode, Toast.LENGTH_SHORT).show();\n            }\n        }) {\n\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                return headers;\n            }\n        };\n        requestQueue.add(request);\n    }\n</code></pre>\n"},{"tags":["java","date","datetime","time","timestamp"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666955322,"post_id":74234420,"comment_id":131062279,"body_markdown":"Can you please [edit] your question and include the code that threw the `DateTimeParseException`? Preferably the one where you used a `DateTimeFormatter`…","body":"Can you please <a href=\"https://stackoverflow.com/posts/74234420/edit\">edit</a> your question and include the code that threw the <code>DateTimeParseException</code>? Preferably the one where you used a <code>DateTimeFormatter</code>…"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666955808,"post_id":74234420,"comment_id":131062433,"body_markdown":"Short answer - it’s hard and messy. Essentially, you need to create a list for formats and the loop over this list trying to parse the String till you either get a result or run out of formats","body":"Short answer - it’s hard and messy. Essentially, you need to create a list for formats and the loop over this list trying to parse the String till you either get a result or run out of formats"},{"owner":{"account_id":26088257,"reputation":33,"user_id":19785518,"display_name":"user19785518"},"score":0,"creation_date":1666956251,"post_id":74234420,"comment_id":131062590,"body_markdown":"Is there no way to do these without maintaining a list for the same","body":"Is there no way to do these without maintaining a list for the same"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666956267,"post_id":74234420,"comment_id":131062597,"body_markdown":"Sure, @MadProgrammer when there are more possible formats than just the two from the example `String`s, your statement will be totally right. For those two examples, it&#39;s easy with `OffsetDateTime`.","body":"Sure, @MadProgrammer when there are more possible formats than just the two from the example <code>String</code>s, your statement will be totally right. For those two examples, it&#39;s easy with <code>OffsetDateTime</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666957369,"post_id":74234420,"comment_id":131062979,"body_markdown":"Short answer, it’s straightforward and easy since both of your formats are really the same, just variants of [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), and the one-arg `OffsetDateTime.parse()` handles both without even requiring us to specify a formatter. Also @MadProgrammer","body":"Short answer, it’s straightforward and easy since both of your formats are really the same, just variants of <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, and the one-arg <code>OffsetDateTime.parse()</code> handles both without even requiring us to specify a formatter. Also @MadProgrammer"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666956151,"creation_date":1666956151,"answer_id":74234624,"question_id":74234420,"body_markdown":"Using `java.time` here is a good idea compared to `java.util.Date`, `Calendar` and so on, but you have to use specific classes that match the information inside a `String` that represents a datetime or timestamp.\r\n\r\nIn your case, the `String` contains the following information:\r\n\r\n  - year\r\n  - month of year\r\n  - day of month\r\n  - hour of day\r\n  - minute of hour\r\n  - second of minute\r\n  - fractions of second\r\n  - offset from UTC\r\n\r\nIn particular, it&#39;s the last one (offset from UTC) which makes your attempt fail because you (1) don&#39;t consider it in the pattern of the `DateTimeFormatter` and (2) you use a class that cannot store it (`LocalDateTime` is not able / designed to hold information about a zone or an offset.\r\n\r\nHaving `String`s with an offset can be stored in / parsed to `OffsetDateTime`s, if they are ISO formatted (as your examples are), you don&#39;t even need to apply a custom `DateTimeFormatter`. You can simply call `OffsetDateTime.parse(String)`.\r\n\r\nYou can then define a desired format for an output by creating a custom `DateTimeFormatter` and apply it in `OffsetDateTime.format(DateTimeFormatter)`.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example Strings (your ones)\r\n\tString timestampOne = &quot;2022-08-17T18:28:07.288496+05:30&quot;;\r\n\tString timestampTwo = &quot;2022-10-27T13:17:47.987736542Z&quot;;\r\n\t// directly parse them to get instances of OffsetDateTime\r\n\tOffsetDateTime odtOne = OffsetDateTime.parse(timestampOne);\r\n\tOffsetDateTime odtTwo = OffsetDateTime.parse(timestampTwo);\r\n\t// prepare a formatter for your desired output\r\n\tDateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\t// and print the values of the OffsetDateTimes formatted by that DateTimeFormatter\r\n\tSystem.out.println(odtOne.format(dtfOut));\r\n\tSystem.out.println(odtTwo.format(dtfOut));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-08-17T18:28:07\r\n2022-10-27T13:17:47\r\n```","title":"How do I convert any Timestamp string to a single Format in Java","body":"<p>Using <code>java.time</code> here is a good idea compared to <code>java.util.Date</code>, <code>Calendar</code> and so on, but you have to use specific classes that match the information inside a <code>String</code> that represents a datetime or timestamp.</p>\n<p>In your case, the <code>String</code> contains the following information:</p>\n<ul>\n<li>year</li>\n<li>month of year</li>\n<li>day of month</li>\n<li>hour of day</li>\n<li>minute of hour</li>\n<li>second of minute</li>\n<li>fractions of second</li>\n<li>offset from UTC</li>\n</ul>\n<p>In particular, it's the last one (offset from UTC) which makes your attempt fail because you (1) don't consider it in the pattern of the <code>DateTimeFormatter</code> and (2) you use a class that cannot store it (<code>LocalDateTime</code> is not able / designed to hold information about a zone or an offset.</p>\n<p>Having <code>String</code>s with an offset can be stored in / parsed to <code>OffsetDateTime</code>s, if they are ISO formatted (as your examples are), you don't even need to apply a custom <code>DateTimeFormatter</code>. You can simply call <code>OffsetDateTime.parse(String)</code>.</p>\n<p>You can then define a desired format for an output by creating a custom <code>DateTimeFormatter</code> and apply it in <code>OffsetDateTime.format(DateTimeFormatter)</code>.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example Strings (your ones)\n    String timestampOne = &quot;2022-08-17T18:28:07.288496+05:30&quot;;\n    String timestampTwo = &quot;2022-10-27T13:17:47.987736542Z&quot;;\n    // directly parse them to get instances of OffsetDateTime\n    OffsetDateTime odtOne = OffsetDateTime.parse(timestampOne);\n    OffsetDateTime odtTwo = OffsetDateTime.parse(timestampTwo);\n    // prepare a formatter for your desired output\n    DateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;);\n    // and print the values of the OffsetDateTimes formatted by that DateTimeFormatter\n    System.out.println(odtOne.format(dtfOut));\n    System.out.println(odtTwo.format(dtfOut));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-08-17T18:28:07\n2022-10-27T13:17:47\n</code></pre>\n"}],"owner":{"account_id":26088257,"reputation":33,"user_id":19785518,"display_name":"user19785518"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74234624,"answer_count":1,"score":1,"last_activity_date":1666956151,"creation_date":1666954935,"question_id":74234420,"body_markdown":"I want to convert the timestamps which are in different formats to one format\r\nI want to convert following timestamps to single format\r\n\r\n\r\n\r\n`Time Stamp 1 : 2022-08-17T18:28:07.288496+05:30`\r\n\r\n`Time Stamp 2 : 2022-10-27T13:17:47.987736542Z`\r\n\r\nto\r\n\r\n`yyyy-MM-dd&#39;T&#39;HH:mm:ss` format\r\n\r\nI have tried using `DateFormatter` of Java but it gives ParseException. Also used `SimpleDateFormatter` but was getting same exceptions. \r\nPlease suggest package or methods for the same.\r\n\r\nEdit : Code I used for conversion\r\n\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\nLocalDateTime localDateTime = LocalDateTime.parse(timestamp, formatter);\r\nSystem.out.println(localDateTime);\r\n```","title":"How do I convert any Timestamp string to a single Format in Java","body":"<p>I want to convert the timestamps which are in different formats to one format\nI want to convert following timestamps to single format</p>\n<p><code>Time Stamp 1 : 2022-08-17T18:28:07.288496+05:30</code></p>\n<p><code>Time Stamp 2 : 2022-10-27T13:17:47.987736542Z</code></p>\n<p>to</p>\n<p><code>yyyy-MM-dd'T'HH:mm:ss</code> format</p>\n<p>I have tried using <code>DateFormatter</code> of Java but it gives ParseException. Also used <code>SimpleDateFormatter</code> but was getting same exceptions.\nPlease suggest package or methods for the same.</p>\n<p>Edit : Code I used for conversion</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\nLocalDateTime localDateTime = LocalDateTime.parse(timestamp, formatter);\nSystem.out.println(localDateTime);\n</code></pre>\n"},{"tags":["java","spring-boot","server","task","timertask"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":2,"creation_date":1666954169,"post_id":74234175,"comment_id":131061953,"body_markdown":"_&quot;Iv&#39;e made it to run daily&quot;_ - no, you have scheduled it to run once. See the documentation for `Timer` class.","body":"<i>&quot;Iv&#39;e made it to run daily&quot;</i> - no, you have scheduled it to run once. See the documentation for <code>Timer</code> class."},{"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"score":0,"creation_date":1666955493,"post_id":74234175,"comment_id":131062334,"body_markdown":"you are right! i get my mistake now and added a job with @Scheduled annotation and it is working. thank you so much for pointing that out.","body":"you are right! i get my mistake now and added a job with @Scheduled annotation and it is working. thank you so much for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666955649,"creation_date":1666955649,"answer_id":74234537,"question_id":74234175,"body_markdown":"So as pointed out, I get my mistake and it is a one-timer.\r\nI have added @Scheduled job with fixed rate of one day in ML and now its working.","title":"Task on Java Spring Boot doesn&#39;t work properly (working for short term only)","body":"<p>So as pointed out, I get my mistake and it is a one-timer.\nI have added @Scheduled job with fixed rate of one day in ML and now its working.</p>\n"}],"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74234537,"answer_count":1,"score":0,"last_activity_date":1666955649,"creation_date":1666953585,"question_id":74234175,"body_markdown":"so I have a problem with this task that I have made. it works only for the short term and after a few hours kinda dies. Iv&#39;e made it to run daily. \r\nfor instance, I made this task that&#39;s run for the next half an hour (if now it&#39;s 12:30 PM so 1:00 PM), and it works perfectly fine. but if I check the log and the DB the next day, it shows nothing regarding this task, and it will not do what it&#39;s supposed to do.\r\n\r\nso this is my code:\r\n\r\n\r\n\r\n```\r\n@Component\r\npublic class DeleteGraduateStudentsTimerTask extends TimerTask {\r\n\r\n    private final StudentsService studentsService;\r\n\r\n    @Autowired\r\n    public DeleteGraduateStudentsTimerTask(StudentsService studentsService) {\r\n        this.studentsService = studentsService;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Calendar date = Calendar.getInstance();\r\n        date.set(Calendar.HOUR_OF_DAY, 13);\r\n        date.set(Calendar.MINUTE, 0);\r\n        date.set(Calendar.SECOND, 0);\r\n        Timer timer = new Timer();\r\n        timer.schedule(this, date.getTime());\r\n    }\r\n\r\n  \r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Running to check if there is graduated student to delete&quot;);\r\n            List&lt;Student&gt; studentsList = studentsService.getAllGraduateStudents();\r\n            for (Student student: studentsList) {\r\n                studentsService.deleteStudent(student.getId());\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\ni don&#39;t even know how to approach this, beacause it IS working, but after one day it clearly does not.\r\n\r\nif anyone have any idea please help me.\r\n\r\nthank you so much!","title":"Task on Java Spring Boot doesn&#39;t work properly (working for short term only)","body":"<p>so I have a problem with this task that I have made. it works only for the short term and after a few hours kinda dies. Iv'e made it to run daily.\nfor instance, I made this task that's run for the next half an hour (if now it's 12:30 PM so 1:00 PM), and it works perfectly fine. but if I check the log and the DB the next day, it shows nothing regarding this task, and it will not do what it's supposed to do.</p>\n<p>so this is my code:</p>\n<pre><code>@Component\npublic class DeleteGraduateStudentsTimerTask extends TimerTask {\n\n    private final StudentsService studentsService;\n\n    @Autowired\n    public DeleteGraduateStudentsTimerTask(StudentsService studentsService) {\n        this.studentsService = studentsService;\n    }\n\n    @PostConstruct\n    public void init() {\n        Calendar date = Calendar.getInstance();\n        date.set(Calendar.HOUR_OF_DAY, 13);\n        date.set(Calendar.MINUTE, 0);\n        date.set(Calendar.SECOND, 0);\n        Timer timer = new Timer();\n        timer.schedule(this, date.getTime());\n    }\n\n  \n    @Override\n    public void run() {\n        System.out.println(&quot;Running to check if there is graduated student to delete&quot;);\n            List&lt;Student&gt; studentsList = studentsService.getAllGraduateStudents();\n            for (Student student: studentsList) {\n                studentsService.deleteStudent(student.getId());\n            }\n\n        }\n    }\n</code></pre>\n<p>i don't even know how to approach this, beacause it IS working, but after one day it clearly does not.</p>\n<p>if anyone have any idea please help me.</p>\n<p>thank you so much!</p>\n"},{"tags":["java","kotlin","google-cloud-platform","jvm","google-cloud-datastore"],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666955047,"creation_date":1666955047,"answer_id":74234441,"question_id":74233894,"body_markdown":"Indeed, the DatastoreReader interface has a default implementation that throws an `UnsupportedOperationException`. You can see this on [GitHub][1].\r\n\r\nHowever, this is not a problem, because the actual `DatastoreReader` instance you will be using after calling `DatastoreOptions.getDefaultInstance().service` overrides this default implementation. The concrete type of this instance is [`DatastoreImpl`][2], and you can also see the actual implementation of the overridden `runAggregation` method on [GitHub][3].\r\n\r\n\r\n  [1]: https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreReader.java#L64\r\n  [2]: https://github.com/googleapis/java-datastore/blob/main/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java\r\n  [3]: https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java#L202","title":"Java datastore client throws &quot;Not implemented&quot; at runAggregation","body":"<p>Indeed, the DatastoreReader interface has a default implementation that throws an <code>UnsupportedOperationException</code>. You can see this on <a href=\"https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreReader.java#L64\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n<p>However, this is not a problem, because the actual <code>DatastoreReader</code> instance you will be using after calling <code>DatastoreOptions.getDefaultInstance().service</code> overrides this default implementation. The concrete type of this instance is <a href=\"https://github.com/googleapis/java-datastore/blob/main/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java\" rel=\"nofollow noreferrer\"><code>DatastoreImpl</code></a>, and you can also see the actual implementation of the overridden <code>runAggregation</code> method on <a href=\"https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java#L202\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":2842873,"reputation":11,"user_id":2442083,"display_name":"Guillermo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666955047,"creation_date":1666952212,"question_id":74233894,"body_markdown":"I am trying new [feature count](https://github.com/googleapis/java-datastore/commit/8c22e61f8a0307a59301259f83a16c8324fa1b6f#diff-039f087fc36dbed8761c6dfc3e757626fd9d7902ee96e9b7344832b93dc533fd) with an aggregate query, but &quot;runAggregation&quot; from Datastore interface has implemented \r\n```\r\nthrow new UnsupportedOperationException(&quot;Not implemented.&quot;);\r\n```\r\n\r\neven thought DatastoreImpl implements. \r\n\r\n\r\n\r\n\r\n\r\nThis is how my code is looking, basically I copied from examples code/java doc: \r\n\r\n```\r\nval selectAllQuery = Query.newEntityQueryBuilder().setKind(entityName).build()\r\nval aggregationQuery: AggregationQuery =\r\n    Query.newAggregationQueryBuilder().addAggregation(count().`as`(&quot;total_count&quot;)).over(selectAllQuery).build()\r\n\r\n\r\nval aggregationResults =\r\n    datastore.runAggregation(aggregationQuery).forEach {\r\n        println(it)\r\n    }\r\n```\r\n\r\n","title":"Java datastore client throws &quot;Not implemented&quot; at runAggregation","body":"<p>I am trying new <a href=\"https://github.com/googleapis/java-datastore/commit/8c22e61f8a0307a59301259f83a16c8324fa1b6f#diff-039f087fc36dbed8761c6dfc3e757626fd9d7902ee96e9b7344832b93dc533fd\" rel=\"nofollow noreferrer\">feature count</a> with an aggregate query, but &quot;runAggregation&quot; from Datastore interface has implemented</p>\n<pre><code>throw new UnsupportedOperationException(&quot;Not implemented.&quot;);\n</code></pre>\n<p>even thought DatastoreImpl implements.</p>\n<p>This is how my code is looking, basically I copied from examples code/java doc:</p>\n<pre><code>val selectAllQuery = Query.newEntityQueryBuilder().setKind(entityName).build()\nval aggregationQuery: AggregationQuery =\n    Query.newAggregationQueryBuilder().addAggregation(count().`as`(&quot;total_count&quot;)).over(selectAllQuery).build()\n\n\nval aggregationResults =\n    datastore.runAggregation(aggregationQuery).forEach {\n        println(it)\n    }\n</code></pre>\n"},{"tags":["java","regex","string","java-stream","regex-group"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666874725,"creation_date":1666874254,"answer_id":74222157,"question_id":74222047,"body_markdown":"&gt;  I&#39;m trying to get the number at the end of every string...\r\n\r\n## Solution 1\r\n\r\nMaybe you can solve it without using regex, like so:\r\n\r\n    List&lt;String&gt; response = dest.stream()\r\n            .map(String::trim)\r\n            .map(s -&gt; s.split(&quot;\\\\s+&quot;))\r\n            .map(r -&gt; r[r.length - 1])\r\n            .toList();\r\n\r\n---\r\n\r\n## Solution 2\r\n\r\nIf you insist on using regex, you can use:\r\n\r\n    final String regex = &quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;;\r\n    final Pattern compile = Pattern.compile(regex);\r\n    List&lt;String&gt; response = dest.stream()\r\n            .map(compile::matcher)\r\n            .filter(Matcher::find)\r\n            .map(r -&gt; r.group(1))\r\n            .toList();\r\n\r\n---\r\n\r\n**Outputs**\r\n\r\n    [2000.55, 1200, 789, 2000, 1000]\r\n","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<blockquote>\n<p>I'm trying to get the number at the end of every string...</p>\n</blockquote>\n<h2>Solution 1</h2>\n<p>Maybe you can solve it without using regex, like so:</p>\n<pre><code>List&lt;String&gt; response = dest.stream()\n        .map(String::trim)\n        .map(s -&gt; s.split(&quot;\\\\s+&quot;))\n        .map(r -&gt; r[r.length - 1])\n        .toList();\n</code></pre>\n<hr />\n<h2>Solution 2</h2>\n<p>If you insist on using regex, you can use:</p>\n<pre><code>final String regex = &quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;;\nfinal Pattern compile = Pattern.compile(regex);\nList&lt;String&gt; response = dest.stream()\n        .map(compile::matcher)\n        .filter(Matcher::find)\n        .map(r -&gt; r.group(1))\n        .toList();\n</code></pre>\n<hr />\n<p><strong>Outputs</strong></p>\n<pre><code>[2000.55, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666874288,"creation_date":1666874288,"answer_id":74222166,"question_id":74222047,"body_markdown":"`filter` keeps or removes elements from the list. If you want to transform stream elements (which you do when you extract the number), use `map`.\r\n\r\nThen you can use the regex (along with a `Matcher`) to extract data:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;);\r\n    List&lt;String&gt; mylist = dest.stream()\r\n            .map(s -&gt; {\r\n              Matcher matcher = p.matcher(s);\r\n              matcher.find();\r\n              return matcher.group(1); //error handling sold seperately\r\n            })\r\n            .collect(Collectors.toList());\r\n    System.out.println(mylist);\r\n\r\nprints\r\n\r\n    [2000, 1200, 789, 2000, 1000]","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p><code>filter</code> keeps or removes elements from the list. If you want to transform stream elements (which you do when you extract the number), use <code>map</code>.</p>\n<p>Then you can use the regex (along with a <code>Matcher</code>) to extract data:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;);\nList&lt;String&gt; mylist = dest.stream()\n        .map(s -&gt; {\n          Matcher matcher = p.matcher(s);\n          matcher.find();\n          return matcher.group(1); //error handling sold seperately\n        })\n        .collect(Collectors.toList());\nSystem.out.println(mylist);\n</code></pre>\n<p>prints</p>\n<pre><code>[2000, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666874604,"creation_date":1666874604,"answer_id":74222251,"question_id":74222047,"body_markdown":"You should `.map()` instead of `.filter()`.\r\n\r\n    ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\r\n        dest.stream()\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;, &quot;$1&quot;))\r\n            .collect(Collectors.toList()));\r\n    System.out.println(mylist);\r\n\r\noutput:\r\n\r\n    [2000, 1200, 789, 2000, 1000]\r\n","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>You should <code>.map()</code> instead of <code>.filter()</code>.</p>\n<pre><code>ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\n    dest.stream()\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;, &quot;$1&quot;))\n        .collect(Collectors.toList()));\nSystem.out.println(mylist);\n</code></pre>\n<p>output:</p>\n<pre><code>[2000, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666954769,"creation_date":1666886161,"answer_id":74224931,"question_id":74222047,"body_markdown":"Firstly, there are several issues that worth to emphasize:\r\n\r\n* In you&#39;ve code started with a `filter()` operation and that was the right step, because `map()` can&#39;t discard an element from the stream, it performs a *one-to-one* transformation. If you need to make sure that an element is valid, you need to apply `filter()` first. Another option would be to use [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) operation which is meant to perform *one-to-many* transformations, i.e. it turns a stream element into **0+** (*zero or more*) elements and can act like both `filter()` and `map()`. And more importantly, usage of `flatMap()` can improve the performance because would allow to **avoid** processing a valid string with the regex-engine twice (while filtering and while mapping).\r\n\r\n* Another important thing to consider is that there&#39;s more than one valid representation of `double`: *exponential, hexadecimal, etc*. All options are listed in the documentation of [`Double.valueOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)). Even if we are talking only about a plain decimal floating-point number `1.` and `.9` which don&#39;t the regular expression you&#39;re using are also valid `double`s. **Note** that Javadoc of `valueOf()` contains a *ready-to-go* regex for validating doubles, which cavers of all the possible (it&#39;s really massive and sprinkled with comments, so I&#39;m not posting it here).\r\n\r\n* In the regex, you&#39;re not testing whether the number is located at the end of the string. In the description, you&#39;ve said: *&quot;I&#39;m trying to get the number at the end of every string&quot;*. If it&#39;s important, you need to prepend `$` denoting that captured string should be located at the very end.\r\n\r\n* Lastly, it&#39;s redundant to wrap a `List` returned by `Collectors.toList()` with an `ArrayList`.\r\n\r\nFor simplicity, instead of mentioned regex for checking all the forms of double I would use the following regular expression `&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;`.\r\n\r\nThe first part `\\\\d+\\\\.?\\\\d*` would match to a whole number, e.g. `999`, a floating-point number with no fraction part, e.g. `1.`, and a regular floating-point, e.g. `99.999`.\r\n\r\nThe second part `\\\\.\\\\d+` matches a floating-point number without the integer part, e.g. `.995`.\r\n\r\nHere how it can be done using Stream API features and [`java.util.regex.MatchResult`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html).\r\n\r\n***Note:*** `Matcher.results()` *was introduced with Java 9, although you mentioned Java 8 I guess this solution can be useful for other readers.*\r\n\r\n```\r\nList&lt;String&gt; strings = List.of(\r\n    &quot;abc abd 2000&quot;, &quot;idf owe 1200&quot;, &quot;jks ldg 789&quot;,\r\n    &quot;ccc hhh 2000&quot;, &quot;www uuu 1000&quot;, &quot;ccc hhh 2000.&quot;,\r\n    &quot;abc abd 2000.1&quot;, &quot;idf owe 1200.0&quot;, &quot;jks ldg 789.995&quot;, &quot;.999&quot;,     // floated-point numbers\r\n    &quot;abc abd 2000y&quot;, &quot;idf owe&quot;, &quot;jks ldg 789.995%wtqop&quot;, &quot;....ljsofo.&quot; // invalid strings\r\n);\r\n\r\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\r\n        \r\nList&lt;String&gt; numbers = strings.stream()\r\n    .flatMap(str -&gt;\r\n        p.matcher(str).results().map(MatchResult::group)\r\n    )\r\n    .toList();\r\n    \r\nSystem.out.println(numbers);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[2000, 1200, 789, 2000, 1000, 2000., 2000.1, 1200.0, 789.995, .999]\r\n```\r\n\r\nThe alternative way of doing this would be to use Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) which at eh high level acts almost like `flatMap()` transforming one stream element into zero or more elements, but contrary to `flatMap()` its internal mechanism doesn&#39;t require generating a new Stream.\r\n\r\nIn this case, each string in the stream needs to be transformed into either **0** or **1** string. If the number of elements is large, the overhead of creating empty streams and singleton streams might be significant. Hence, using `mapMulti()` in this scenario would be more beneficial.\r\n\r\nThat&#39;s how it might be implemented (credits to *@Holger* for this idea):\r\n\r\n```\r\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\r\n        \r\nList&lt;String&gt; numbers = strings.stream()\r\n    .map(p::matcher)\r\n    .&lt;String&gt;mapMulti((matcher, consumer) -&gt; {\r\n        if (matcher.find()) consumer.accept(matcher.group());\r\n    })\r\n    .toList();\r\n```","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>Firstly, there are several issues that worth to emphasize:</p>\n<ul>\n<li><p>In you've code started with a <code>filter()</code> operation and that was the right step, because <code>map()</code> can't discard an element from the stream, it performs a <em>one-to-one</em> transformation. If you need to make sure that an element is valid, you need to apply <code>filter()</code> first. Another option would be to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> operation which is meant to perform <em>one-to-many</em> transformations, i.e. it turns a stream element into <strong>0+</strong> (<em>zero or more</em>) elements and can act like both <code>filter()</code> and <code>map()</code>. And more importantly, usage of <code>flatMap()</code> can improve the performance because would allow to <strong>avoid</strong> processing a valid string with the regex-engine twice (while filtering and while mapping).</p>\n</li>\n<li><p>Another important thing to consider is that there's more than one valid representation of <code>double</code>: <em>exponential, hexadecimal, etc</em>. All options are listed in the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Double.valueOf()</code></a>. Even if we are talking only about a plain decimal floating-point number <code>1.</code> and <code>.9</code> which don't the regular expression you're using are also valid <code>double</code>s. <strong>Note</strong> that Javadoc of <code>valueOf()</code> contains a <em>ready-to-go</em> regex for validating doubles, which cavers of all the possible (it's really massive and sprinkled with comments, so I'm not posting it here).</p>\n</li>\n<li><p>In the regex, you're not testing whether the number is located at the end of the string. In the description, you've said: <em>&quot;I'm trying to get the number at the end of every string&quot;</em>. If it's important, you need to prepend <code>$</code> denoting that captured string should be located at the very end.</p>\n</li>\n<li><p>Lastly, it's redundant to wrap a <code>List</code> returned by <code>Collectors.toList()</code> with an <code>ArrayList</code>.</p>\n</li>\n</ul>\n<p>For simplicity, instead of mentioned regex for checking all the forms of double I would use the following regular expression <code>&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;</code>.</p>\n<p>The first part <code>\\\\d+\\\\.?\\\\d*</code> would match to a whole number, e.g. <code>999</code>, a floating-point number with no fraction part, e.g. <code>1.</code>, and a regular floating-point, e.g. <code>99.999</code>.</p>\n<p>The second part <code>\\\\.\\\\d+</code> matches a floating-point number without the integer part, e.g. <code>.995</code>.</p>\n<p>Here how it can be done using Stream API features and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.MatchResult</code></a>.</p>\n<p><em><strong>Note:</strong></em> <code>Matcher.results()</code> <em>was introduced with Java 9, although you mentioned Java 8 I guess this solution can be useful for other readers.</em></p>\n<pre><code>List&lt;String&gt; strings = List.of(\n    &quot;abc abd 2000&quot;, &quot;idf owe 1200&quot;, &quot;jks ldg 789&quot;,\n    &quot;ccc hhh 2000&quot;, &quot;www uuu 1000&quot;, &quot;ccc hhh 2000.&quot;,\n    &quot;abc abd 2000.1&quot;, &quot;idf owe 1200.0&quot;, &quot;jks ldg 789.995&quot;, &quot;.999&quot;,     // floated-point numbers\n    &quot;abc abd 2000y&quot;, &quot;idf owe&quot;, &quot;jks ldg 789.995%wtqop&quot;, &quot;....ljsofo.&quot; // invalid strings\n);\n\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\n        \nList&lt;String&gt; numbers = strings.stream()\n    .flatMap(str -&gt;\n        p.matcher(str).results().map(MatchResult::group)\n    )\n    .toList();\n    \nSystem.out.println(numbers);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2000, 1200, 789, 2000, 1000, 2000., 2000.1, 1200.0, 789.995, .999]\n</code></pre>\n<p>The alternative way of doing this would be to use Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> which at eh high level acts almost like <code>flatMap()</code> transforming one stream element into zero or more elements, but contrary to <code>flatMap()</code> its internal mechanism doesn't require generating a new Stream.</p>\n<p>In this case, each string in the stream needs to be transformed into either <strong>0</strong> or <strong>1</strong> string. If the number of elements is large, the overhead of creating empty streams and singleton streams might be significant. Hence, using <code>mapMulti()</code> in this scenario would be more beneficial.</p>\n<p>That's how it might be implemented (credits to <em>@Holger</em> for this idea):</p>\n<pre><code>Pattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\n        \nList&lt;String&gt; numbers = strings.stream()\n    .map(p::matcher)\n    .&lt;String&gt;mapMulti((matcher, consumer) -&gt; {\n        if (matcher.find()) consumer.accept(matcher.group());\n    })\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74222157,"answer_count":4,"score":0,"last_activity_date":1666954769,"creation_date":1666873725,"question_id":74222047,"body_markdown":"Suppose that I have a list:\r\n```\r\nList&lt;String&gt; dest = Arrays.asList(\r\n\t&quot;abc abd 2000&quot;,\r\n\t&quot;idf owe 1200&quot;,\r\n\t&quot;jks ldg 789&quot;,\r\n\t&quot;ccc hhh 2000&quot;,\r\n\t&quot;www uuu 1000&quot;\r\n);\r\n```\r\nAnd I&#39;m trying to get the number at the end of every string. The given list has only integers in it, but I&#39;m writing the regex for doubles too:`(\\\\d+\\\\.?\\\\d+)`. In Java 1.8, I wrote the following code:\r\n```\r\nArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\r\n\tdest.stream()\r\n\t\t.filter(Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;).asPredicate())\r\n\t\t.collect(Collectors.toList())\r\n);\r\n```\r\nWhat I&#39;m trying to do is - get the `(\\\\d+\\\\.?\\\\d+)` group from each found string, how can I do it?\r\n\r\nI was thinking about applying a `Matcher` to each element of the list, but I&#39;m not sure about how to implement it.","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>Suppose that I have a list:</p>\n<pre><code>List&lt;String&gt; dest = Arrays.asList(\n    &quot;abc abd 2000&quot;,\n    &quot;idf owe 1200&quot;,\n    &quot;jks ldg 789&quot;,\n    &quot;ccc hhh 2000&quot;,\n    &quot;www uuu 1000&quot;\n);\n</code></pre>\n<p>And I'm trying to get the number at the end of every string. The given list has only integers in it, but I'm writing the regex for doubles too:<code>(\\\\d+\\\\.?\\\\d+)</code>. In Java 1.8, I wrote the following code:</p>\n<pre><code>ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\n    dest.stream()\n        .filter(Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;).asPredicate())\n        .collect(Collectors.toList())\n);\n</code></pre>\n<p>What I'm trying to do is - get the <code>(\\\\d+\\\\.?\\\\d+)</code> group from each found string, how can I do it?</p>\n<p>I was thinking about applying a <code>Matcher</code> to each element of the list, but I'm not sure about how to implement it.</p>\n"},{"tags":["java","spring","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1579186948,"post_id":59736745,"comment_id":105688524,"body_markdown":"Is that the whole trace?  Also, why not use `thymeleaf-extras-springsecurity5`?","body":"Is that the whole trace?  Also, why not use <code>thymeleaf-extras-springsecurity5</code>?"},{"owner":{"account_id":17154316,"reputation":3,"user_id":12415558,"display_name":"Katerina"},"score":0,"creation_date":1579191650,"post_id":59736745,"comment_id":105691305,"body_markdown":"@vphilipnyc No, there is not the whole trace, I&#39;ve updated the question with version 5","body":"@vphilipnyc No, there is not the whole trace, I&#39;ve updated the question with version 5"}],"answers":[{"tags":[],"owner":{"account_id":22831965,"reputation":46,"user_id":16980272,"display_name":"juan pablo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666954062,"creation_date":1666879993,"answer_id":74223541,"question_id":59736745,"body_markdown":"Try with this:\r\n\r\n```\r\n&lt;span sec:authorize=&quot;isAuthenticated()&quot; sec:authentication=&quot;principal.authorities&quot;&gt;\r\n```","title":"Spring Security and Thymeleaf with updated authentication","body":"<p>Try with this:</p>\n<pre><code>&lt;span sec:authorize=&quot;isAuthenticated()&quot; sec:authentication=&quot;principal.authorities&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":17154316,"reputation":3,"user_id":12415558,"display_name":"Katerina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74223541,"answer_count":1,"score":0,"last_activity_date":1666954062,"creation_date":1579015144,"question_id":59736745,"body_markdown":"During one session I change user role with:\r\n```\r\nAuthentication newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\r\n        SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n        RequestContextHolder.currentRequestAttributes().setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, newAuth, RequestAttributes.SCOPE_SESSION);\r\n``` \r\nIt changes in java code.\r\nI&#39;m trying to recieve user role in html using `&lt;span sec:authentication=&quot;principal.authorities&quot;&gt;&lt;/span&gt;` , but get the following error after the code above:\r\n```\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error retrieving value for property &quot;principal.authorities&quot; of authentication object of class org.springframework.security.authentication.UsernamePasswordAuthenticationToken (index:115)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\torg.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\torg.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\torg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n```\r\nI use Spring MVC 5 and thymeleaf-extras-springsecurity4. Without changing role during the session tags of extras work. How can the authentication be updated also in html?\r\nEdit\r\n-----------------\r\nI&#39;ve tried to use thymeleaf-extras-springsecurity5 and got an alert with &#39;Bad credentials&#39; when the page reloads after authentication update. In trace there are no errors now, but it shows the previous role. Also updated my code like this:\r\n```\r\nUsernamePasswordAuthenticationToken newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\r\nAuthentication auth = authenticationManager.authenticate(newAuth);\r\n        \r\nSecurityContext sc = SecurityContextHolder.getContext();\r\nsc.setAuthentication(auth);\r\nHttpSession session = req.getSession(true);\r\nsession.setAttribute(SPRING_SECURITY_CONTEXT_KEY, sc);\r\n```","title":"Spring Security and Thymeleaf with updated authentication","body":"<p>During one session I change user role with:</p>\n\n<pre><code>Authentication newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\n        SecurityContextHolder.getContext().setAuthentication(newAuth);\n        RequestContextHolder.currentRequestAttributes().setAttribute(\"SPRING_SECURITY_CONTEXT\", newAuth, RequestAttributes.SCOPE_SESSION);\n</code></pre>\n\n<p>It changes in java code.\nI'm trying to recieve user role in html using <code>&lt;span sec:authentication=\"principal.authorities\"&gt;&lt;/span&gt;</code> , but get the following error after the code above:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error retrieving value for property \"principal.authorities\" of authentication object of class org.springframework.security.authentication.UsernamePasswordAuthenticationToken (index:115)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n</code></pre>\n\n<p>I use Spring MVC 5 and thymeleaf-extras-springsecurity4. Without changing role during the session tags of extras work. How can the authentication be updated also in html?</p>\n\n<h2>Edit</h2>\n\n<p>I've tried to use thymeleaf-extras-springsecurity5 and got an alert with 'Bad credentials' when the page reloads after authentication update. In trace there are no errors now, but it shows the previous role. Also updated my code like this:</p>\n\n<pre><code>UsernamePasswordAuthenticationToken newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\nAuthentication auth = authenticationManager.authenticate(newAuth);\n\nSecurityContext sc = SecurityContextHolder.getContext();\nsc.setAuthentication(auth);\nHttpSession session = req.getSession(true);\nsession.setAttribute(SPRING_SECURITY_CONTEXT_KEY, sc);\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1666652206,"post_id":74187538,"comment_id":130983829,"body_markdown":"Saving passwords in clear text is very dangerous as Nd mu&#223; b es avoided","body":"Saving passwords in clear text is very dangerous as Nd mu&#223; b es avoided"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666652708,"post_id":74187538,"comment_id":130983932,"body_markdown":"*String user = userTxtF.getText(); String pass = passwordTxtF.getText();* Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code","body":"<i>String user = userTxtF.getText(); String pass = passwordTxtF.getText();</i> Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1666653967,"post_id":74187538,"comment_id":130984155,"body_markdown":"Have you tried the query in some MySQL client? What&#39;s the result?","body":"Have you tried the query in some MySQL client? What&#39;s the result?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666654105,"post_id":74187538,"comment_id":130984186,"body_markdown":"Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query","body":"Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query"},{"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"score":0,"creation_date":1666660170,"post_id":74187538,"comment_id":130985063,"body_markdown":"@g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you!","body":"@g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666953909,"creation_date":1666660464,"answer_id":74188235,"question_id":74187538,"body_markdown":"The issue was that the declaration of user and pass were outside of the method/code for the button. I would never have thought that the solution to this would be so simple. Thanks to [g00se](https://stackoverflow.com/users/16376827/g00se) for pointing that out in the comments:\r\n\r\n&gt; *String user = userTxtF.getText(); String pass = passwordTxtF.getText();* Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code – [g00se](https://stackoverflow.com/users/16376827/g00se) [Oct 24 at 23:05](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130983932_74187538)\r\n\r\n&gt; Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query – [g00se](https://stackoverflow.com/users/16376827/g00se) [Oct 24 at 23:28](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130984186_74187538)\r\n\r\n&gt; @g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you! – [Dox](https://stackoverflow.com/users/20325375/dox) [Oct 25 at 1:09](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130985063_74187538)","title":"Java(Ant) application connected to MySql database table but not reading values","body":"<p>The issue was that the declaration of user and pass were outside of the method/code for the button. I would never have thought that the solution to this would be so simple. Thanks to <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> for pointing that out in the comments:</p>\n<blockquote>\n<p><em>String user = userTxtF.getText(); String pass = passwordTxtF.getText();</em> Those local variables are not present in the method bodies you have posted. IOW that can't be the real code – <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130983932_74187538\">Oct 24 at 23:05</a></p>\n</blockquote>\n<blockquote>\n<p>Do you have instance variables named 'user' and 'pass' as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query – <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130984186_74187538\">Oct 24 at 23:28</a></p>\n</blockquote>\n<blockquote>\n<p>@g00se you're right it wasn't in the main method in the application as well. I didn't know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you! – <a href=\"https://stackoverflow.com/users/20325375/dox\">Dox</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130985063_74187538\">Oct 25 at 1:09</a></p>\n</blockquote>\n"}],"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666953909,"creation_date":1666651603,"question_id":74187538,"body_markdown":"Attached is the button with the code for the connection inside it(For privacy reasons I&#39;m removing the password from the code.). I know(through trial and error) that the button works with no issues, the application is successfully connected to the database table and that that everything that&#39;s supposed to be case sensitive is typed correctly. I also tried a different MySql connector(java.8.0.30.jar). I will attach a snip of the [database][1] . Both username and password are type varchar if that makes a difference(I&#39;ve tried changing them to type text). Both values are &quot;Dox&quot; on the database. The only logical reason I can think of is that there&#39;s something wrong with the query I&#39;m using but I&#39;ve tried many different ones and non work. The output is the else statement . There are no error messages in the compiler. I&#39;m using MySql as my database and NetBeans 15 as my IDE. Sorry if this is too much information...still relatively new here\r\n\r\n```\r\nloginButtonF.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        try {\r\n\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/rgi_student&quot;, &quot;root&quot;, &quot;&quot;);\r\n            PreparedStatement pst = null;\r\n\r\n            ResultSet rs = null;\r\n\r\n            String sqlquery = &quot;SELECT * FROM richfield.members Where username = ? AND password = ?&quot;;\r\n            pst = con.prepareStatement(sqlquery);\r\n            pst.setString(1, user);\r\n            pst.setString(2, pass);\r\n            rs = pst.executeQuery();\r\n\r\n            if (rs.next()) {\r\n                JOptionPane.showMessageDialog(null, &quot;Welcome&quot; + &quot; &quot; + user);\r\n            }\r\n\r\n            else {\r\n                JOptionPane.showMessageDialog(null, &quot;Incorrect Password or Username&quot;);\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nDeclaration of user and pass\r\n\r\n```\r\nString user = userTxtF.getText(); \r\nString pass = passwordTxtF.getText();\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhDjq.png","title":"Java(Ant) application connected to MySql database table but not reading values","body":"<p>Attached is the button with the code for the connection inside it(For privacy reasons I'm removing the password from the code.). I know(through trial and error) that the button works with no issues, the application is successfully connected to the database table and that that everything that's supposed to be case sensitive is typed correctly. I also tried a different MySql connector(java.8.0.30.jar). I will attach a snip of the <a href=\"https://i.stack.imgur.com/XhDjq.png\" rel=\"nofollow noreferrer\">database</a> . Both username and password are type varchar if that makes a difference(I've tried changing them to type text). Both values are &quot;Dox&quot; on the database. The only logical reason I can think of is that there's something wrong with the query I'm using but I've tried many different ones and non work. The output is the else statement . There are no error messages in the compiler. I'm using MySql as my database and NetBeans 15 as my IDE. Sorry if this is too much information...still relatively new here</p>\n<pre><code>loginButtonF.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        try {\n\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/rgi_student&quot;, &quot;root&quot;, &quot;&quot;);\n            PreparedStatement pst = null;\n\n            ResultSet rs = null;\n\n            String sqlquery = &quot;SELECT * FROM richfield.members Where username = ? AND password = ?&quot;;\n            pst = con.prepareStatement(sqlquery);\n            pst.setString(1, user);\n            pst.setString(2, pass);\n            rs = pst.executeQuery();\n\n            if (rs.next()) {\n                JOptionPane.showMessageDialog(null, &quot;Welcome&quot; + &quot; &quot; + user);\n            }\n\n            else {\n                JOptionPane.showMessageDialog(null, &quot;Incorrect Password or Username&quot;);\n            }\n\n        } catch (Exception ex) {\n            System.out.println(ex);\n        }\n    }\n});\n</code></pre>\n<p>Declaration of user and pass</p>\n<pre><code>String user = userTxtF.getText(); \nString pass = passwordTxtF.getText();\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666950691,"post_id":74233572,"comment_id":131060858,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666950876,"post_id":74233572,"comment_id":131060922,"body_markdown":"@Stultuske Not Precisely. Can you help me where can i can make changes in code to get rid of the error. Can you also add a point why the user is still null even after i added a line userID=mAuth.getCurrentUser().getUid();","body":"@Stultuske Not Precisely. Can you help me where can i can make changes in code to get rid of the error. Can you also add a point why the user is still null even after i added a line userID=mAuth.getCurrentUser().getUid();"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666952600,"post_id":74233572,"comment_id":131061524,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666953845,"post_id":74233572,"comment_id":131061863,"body_markdown":"@AlexMamo I am even unable to find that .But if i remove this line from On start method _mAuth.addAuthStateListener(mAuthListener);_  it works well. But without that line i cannot add my data into realtime database;","body":"@AlexMamo I am even unable to find that .But if i remove this line from On start method <i>mAuth.addAuthStateListener(mAuthListener);</i>  it works well. But without that line i cannot add my data into realtime database;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666954507,"post_id":74233572,"comment_id":131062043,"body_markdown":"Does Lalit Fauzdar&#39;s answer solve the problem?","body":"Does Lalit Fauzdar&#39;s answer solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666953726,"creation_date":1666953726,"answer_id":74234206,"question_id":74233572,"body_markdown":"Your code&#39;s flow is wrong. You&#39;re adding AuthListener in `onStart()` as `mAuth.addAuthStateListener(mAuthListener);` but you&#39;re initializing this `mAuthListener` later in the `doRegiter()`, which means while adding it in `onStart()`, it&#39;s not initialized and null which gives the error `Null Pointer Exception`.\r\n\r\nFor the solution, you should call the function `setUpFirebaseAuth` in `onStart` before adding it to the `mAuth` as:\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        setupFirebaseAuth();\r\n        mAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n","title":"My app is getting a null pointer exception immediately after i enter into the register activity, I am unable to figure out the reason","body":"<p>Your code's flow is wrong. You're adding AuthListener in <code>onStart()</code> as <code>mAuth.addAuthStateListener(mAuthListener);</code> but you're initializing this <code>mAuthListener</code> later in the <code>doRegiter()</code>, which means while adding it in <code>onStart()</code>, it's not initialized and null which gives the error <code>Null Pointer Exception</code>.</p>\n<p>For the solution, you should call the function <code>setUpFirebaseAuth</code> in <code>onStart</code> before adding it to the <code>mAuth</code> as:</p>\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n    setupFirebaseAuth();\n    mAuth.addAuthStateListener(mAuthListener);\n}\n</code></pre>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74234206,"answer_count":1,"score":0,"last_activity_date":1666953726,"creation_date":1666950628,"question_id":74233572,"body_markdown":"**Problem**\r\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity\r\n\r\n**Error**\r\n\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                 Process: com.example.movies4u, PID: 18933\r\n                 java.lang.NullPointerException: Attempt to invoke interface method &#39;void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)&#39; on a null object reference\r\n                 \tat com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\r\n                 \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                 \tat android.os.Looper.loop(Looper.java:224)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n```\r\n\r\n**Java**\r\n\r\n\r\n```\r\npackage com.example.movies4u;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.movies4u.Utils.FirebaseMethods;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class activity_register extends AppCompatActivity {\r\n    TextView HaveAccount;\r\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\r\n    String username,email,password;\r\n    Button btnRegister;\r\n    FirebaseAuth mAuth;\r\n    ProgressBar pb;\r\n    private String userID;\r\n    private FirebaseAuth.AuthStateListener mAuthListener;\r\n    private FirebaseMethods firebaseMethods;\r\n    private FirebaseDatabase mFirebaseDatabase;\r\n    private DatabaseReference myRef;\r\n\r\n    private String append;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\r\n        setContentView(R.layout.activity_register);\r\n        firebaseMethods =new FirebaseMethods(activity_register.this);\r\n\r\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\r\n        pb = findViewById(R.id.progressBar3);\r\n        inputUsername=findViewById(R.id.inputUsername);\r\n        inputEmail=findViewById(R.id.inputEmail);\r\n        inputPassword=findViewById(R.id.inputPassword);\r\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\r\n        btnRegister=findViewById(R.id.btnRegister);\r\n        username=inputUsername.getText().toString();\r\n        email=inputEmail.getText().toString();\r\n        password=inputPassword.getText().toString();\r\n\r\n        pb.setVisibility(View.GONE);\r\n        HaveAccount.setOnClickListener(view -&gt; {\r\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\r\n            startActivity(loginintent);\r\n        });\r\n\r\n        mAuth=FirebaseAuth.getInstance();\r\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\r\n    }\r\n\r\n    private void ValidateDataandDoRegister() {\r\n        String username=inputUsername.getText().toString().trim();\r\n        String email=inputEmail.getText().toString().trim();\r\n        String password=inputPassword.getText().toString().trim();\r\n        String confirmPassword=inputConfirmPassword.getText().toString().trim();\r\n        if(email.isEmpty()){\r\n            inputEmail.setError(&quot;Enter Email Address&quot;);\r\n            inputEmail.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(email.length()&lt;10){\r\n            inputEmail.setError(&quot;Enter valid Email&quot;);\r\n            inputEmail.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(password.isEmpty()){\r\n            inputPassword.setError(&quot;Enter the password&quot;);\r\n            inputPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(password.length()&lt;8){\r\n            inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n            inputPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(confirmPassword.isEmpty()){\r\n            inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(confirmPassword.length()&lt;8){\r\n            inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(!password.equals(confirmPassword)){\r\n            inputPassword.setError(&quot;Password not matched&quot;);\r\n            inputPassword.requestFocus();\r\n            inputConfirmPassword.setError(&quot;Password not matched&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            inputPassword.setText(&quot;&quot;);\r\n            inputConfirmPassword.setText(&quot;&quot;);\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            pb.setVisibility(View.VISIBLE);\r\n            doRegister(username,email,password);\r\n        }\r\n    }\r\n\r\n    private void doRegister(String username,String email, String password) {\r\n        pb.setVisibility(View.VISIBLE);\r\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\r\n            if(task != null ){\r\n                if(mAuth.getCurrentUser() != null){\r\n                    userID=mAuth.getCurrentUser().getUid();\r\n                }\r\n\r\n//                firebaseMethods.registerNewEmail(username,email,password);\r\n                setupFirebaseAuth();\r\n                sendVerificationEmail();\r\n//                firebaseMethods.addNewUser(email, username);\r\n            }\r\n\r\n        }).addOnFailureListener(e -&gt; {\r\n            if(e instanceof FirebaseAuthUserCollisionException){\r\n                btnRegister.setEnabled(true);\r\n                inputEmail.setError(&quot;Email Already Registered&quot;);\r\n                pb.setVisibility(View.GONE);\r\n                inputEmail.requestFocus();\r\n            }\r\n            else{\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendVerificationEmail() {\r\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\r\n            if(task != null &amp;&amp; task.isSuccessful()){\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\r\n                //fixing the bug\r\n                mAuth.signOut();\r\n            }\r\n            else {\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /*\r\n    ------------------------------------ Firebase ---------------------------------------------\r\n     */\r\n\r\n    /**\r\n     * Setup the firebase auth object\r\n     */\r\n    private void setupFirebaseAuth(){\r\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n        myRef = mFirebaseDatabase.getReference();\r\n\r\n        //cannot get into this part of code\r\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                FirebaseUser user=firebaseAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    // User is signed in\r\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\r\n\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            //1st check: Make sure the username is not already in use\r\n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\r\n                                //to randomly generate key to make sure username is unique\r\n                                append = myRef.push().getKey().substring(3,10);\r\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\r\n                            }\r\n                            username = username + append;\r\n\r\n                            //add new user to the database\r\n//                            firebaseMethods.addNewUser(email, username);\r\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                    finish();\r\n\r\n                } else {\r\n                    // User is signed out\r\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\r\n                }\r\n                // ...\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        if (mAuthListener != null) {\r\n            mAuth.removeAuthStateListener(mAuthListener);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI am expecting to store the user data in a realtime database. But i am getting a null pointer exception after i enter into the register activity. I guess it is because of the null user. But i should get a non-null user, because i am implementing that method after the user clicking on the register button and after the all the fields are verified .","title":"My app is getting a null pointer exception immediately after i enter into the register activity, I am unable to figure out the reason","body":"<p><strong>Problem</strong>\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity</p>\n<p><strong>Error</strong></p>\n<pre><code>FATAL EXCEPTION: main\n                 Process: com.example.movies4u, PID: 18933\n                 java.lang.NullPointerException: Attempt to invoke interface method 'void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)' on a null object reference\n                    at com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\n                    at android.os.Handler.handleCallback(Handler.java:873)\n                    at android.os.Handler.dispatchMessage(Handler.java:99)\n                    at android.os.Looper.loop(Looper.java:224)\n                    at android.app.ActivityThread.main(ActivityThread.java:7081)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>package com.example.movies4u;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.movies4u.Utils.FirebaseMethods;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class activity_register extends AppCompatActivity {\n    TextView HaveAccount;\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\n    String username,email,password;\n    Button btnRegister;\n    FirebaseAuth mAuth;\n    ProgressBar pb;\n    private String userID;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseMethods firebaseMethods;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n\n    private String append;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\n        setContentView(R.layout.activity_register);\n        firebaseMethods =new FirebaseMethods(activity_register.this);\n\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\n        pb = findViewById(R.id.progressBar3);\n        inputUsername=findViewById(R.id.inputUsername);\n        inputEmail=findViewById(R.id.inputEmail);\n        inputPassword=findViewById(R.id.inputPassword);\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\n        btnRegister=findViewById(R.id.btnRegister);\n        username=inputUsername.getText().toString();\n        email=inputEmail.getText().toString();\n        password=inputPassword.getText().toString();\n\n        pb.setVisibility(View.GONE);\n        HaveAccount.setOnClickListener(view -&gt; {\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\n            startActivity(loginintent);\n        });\n\n        mAuth=FirebaseAuth.getInstance();\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\n    }\n\n    private void ValidateDataandDoRegister() {\n        String username=inputUsername.getText().toString().trim();\n        String email=inputEmail.getText().toString().trim();\n        String password=inputPassword.getText().toString().trim();\n        String confirmPassword=inputConfirmPassword.getText().toString().trim();\n        if(email.isEmpty()){\n            inputEmail.setError(&quot;Enter Email Address&quot;);\n            inputEmail.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(email.length()&lt;10){\n            inputEmail.setError(&quot;Enter valid Email&quot;);\n            inputEmail.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(password.isEmpty()){\n            inputPassword.setError(&quot;Enter the password&quot;);\n            inputPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(password.length()&lt;8){\n            inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n            inputPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(confirmPassword.isEmpty()){\n            inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\n            inputConfirmPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(confirmPassword.length()&lt;8){\n            inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n            inputConfirmPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(!password.equals(confirmPassword)){\n            inputPassword.setError(&quot;Password not matched&quot;);\n            inputPassword.requestFocus();\n            inputConfirmPassword.setError(&quot;Password not matched&quot;);\n            inputConfirmPassword.requestFocus();\n            inputPassword.setText(&quot;&quot;);\n            inputConfirmPassword.setText(&quot;&quot;);\n            pb.setVisibility(View.GONE);\n        }\n        else{\n            pb.setVisibility(View.VISIBLE);\n            doRegister(username,email,password);\n        }\n    }\n\n    private void doRegister(String username,String email, String password) {\n        pb.setVisibility(View.VISIBLE);\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\n            if(task != null ){\n                if(mAuth.getCurrentUser() != null){\n                    userID=mAuth.getCurrentUser().getUid();\n                }\n\n//                firebaseMethods.registerNewEmail(username,email,password);\n                setupFirebaseAuth();\n                sendVerificationEmail();\n//                firebaseMethods.addNewUser(email, username);\n            }\n\n        }).addOnFailureListener(e -&gt; {\n            if(e instanceof FirebaseAuthUserCollisionException){\n                btnRegister.setEnabled(true);\n                inputEmail.setError(&quot;Email Already Registered&quot;);\n                pb.setVisibility(View.GONE);\n                inputEmail.requestFocus();\n            }\n            else{\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void sendVerificationEmail() {\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\n            if(task != null &amp;&amp; task.isSuccessful()){\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\n                //fixing the bug\n                mAuth.signOut();\n            }\n            else {\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n    /*\n    ------------------------------------ Firebase ---------------------------------------------\n     */\n\n    /**\n     * Setup the firebase auth object\n     */\n    private void setupFirebaseAuth(){\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\n\n        mAuth = FirebaseAuth.getInstance();\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n        myRef = mFirebaseDatabase.getReference();\n\n        //cannot get into this part of code\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\n            @Override\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                FirebaseUser user=firebaseAuth.getCurrentUser();\n                if (user != null) {\n                    // User is signed in\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\n\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(DataSnapshot dataSnapshot) {\n                            //1st check: Make sure the username is not already in use\n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\n                                //to randomly generate key to make sure username is unique\n                                append = myRef.push().getKey().substring(3,10);\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\n                            }\n                            username = username + append;\n\n                            //add new user to the database\n//                            firebaseMethods.addNewUser(email, username);\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    finish();\n\n                } else {\n                    // User is signed out\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\n                }\n                // ...\n            }\n        };\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mAuth.addAuthStateListener(mAuthListener);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        if (mAuthListener != null) {\n            mAuth.removeAuthStateListener(mAuthListener);\n        }\n    }\n\n}\n</code></pre>\n<p>I am expecting to store the user data in a realtime database. But i am getting a null pointer exception after i enter into the register activity. I guess it is because of the null user. But i should get a non-null user, because i am implementing that method after the user clicking on the register button and after the all the fields are verified .</p>\n"},{"tags":["java","spring","spring-boot","java-melody"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666943201,"post_id":74231685,"comment_id":131058430,"body_markdown":"You are using incompatible versions of libraries or are mixing versions of jars from a asingle framework. Judging from the error it is probably an incompatible Spring Boot version for the version of the Java Melody auto-configuration.","body":"You are using incompatible versions of libraries or are mixing versions of jars from a asingle framework. Judging from the error it is probably an incompatible Spring Boot version for the version of the Java Melody auto-configuration."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1666950242,"post_id":74231685,"comment_id":131060689,"body_markdown":"Please share your pom.xml","body":"Please share your pom.xml"},{"owner":{"account_id":26757312,"reputation":1,"user_id":20355742,"display_name":"ArulmuliVarman"},"score":0,"creation_date":1666951997,"post_id":74231685,"comment_id":131061334,"body_markdown":"Hi @Flakiewicz , Please find my pom.xml. I checked all the versions.","body":"Hi @Flakiewicz , Please find my pom.xml. I checked all the versions."}],"owner":{"account_id":26757312,"reputation":1,"user_id":20355742,"display_name":"ArulmuliVarman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666953044,"creation_date":1666940481,"question_id":74231685,"body_markdown":"I took the code from github branch of spring boot application and updated the maven project but am facing the below error and application gets terminated.\r\n\r\n```\r\njava.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#defaultAdvisorAutoProxyCreator due to org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:55) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:178) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:333) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat war.App.main(App.java:19) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:609) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:521) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:507) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:567) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:627) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1445) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:975) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:289) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanType(BeanTypeRegistry.java:278) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:259) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:139) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:113) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.quartz.SchedulerFactoryBeanCustomizer\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 37 common frames omitted\r\n```\r\n\r\n\r\nI tried changing javamelody versions in pom.xml too.\r\n\r\nMy Pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                                http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;mdts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mdts&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;OKSMTV2&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n        &lt;properties&gt;\r\n            &lt;context.path&gt;spring-mvc&lt;/context.path&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jrs-client-releases&lt;/id&gt;\r\n                &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\r\n                &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jaspersoft-clients-releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jrs-ce-releases&lt;/id&gt;\r\n                &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\r\n                &lt;url&gt;https://jaspersoft.artifactoryonline.com/jaspersoft/jrs-ce-releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.ibatis/ibatis-sqlmap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ibatis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ibatis-sqlmap&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;19.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n                &lt;version&gt;8.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Flying Saucer dependencies to be added to the project pom.xml --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flying-saucer-core&lt;/artifactId&gt;\r\n                &lt;version&gt;9.1.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n                &lt;version&gt;9.1.16&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Flying Saucer dependencies END --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- jUNIT dependencies Start --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- mp3 files dependencies start --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.5-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.3-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.mpatric/mp3agic --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mpatric&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mp3agic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- mp3 files dependencies end --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext-rtf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.skyscreamer/jsonassert --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-ldap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- jUNIT dependencies End--&gt;\r\n            &lt;!-- Swagger2 dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Swagger2 dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.87.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- AspectJ dependencies Start--&gt;\r\n            &lt;!--changed &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- AspectJ dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\nThis the pom.xml being used for the application. Tried changing spring boot starter version and also the javamelody version.","title":"java.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#","body":"<p>I took the code from github branch of spring boot application and updated the maven project but am facing the below error and application gets terminated.</p>\n<pre><code>java.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#defaultAdvisorAutoProxyCreator due to org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:55) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:178) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:333) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at war.App.main(App.java:19) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:609) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:521) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:507) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:567) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:627) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1445) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:975) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:289) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanType(BeanTypeRegistry.java:278) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:259) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:139) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:113) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.quartz.SchedulerFactoryBeanCustomizer\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 37 common frames omitted\n</code></pre>\n<p>I tried changing javamelody versions in pom.xml too.</p>\n<p>My Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                            http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;mdts&lt;/groupId&gt;\n    &lt;artifactId&gt;mdts&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;OKSMTV2&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;context.path&gt;spring-mvc&lt;/context.path&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jrs-client-releases&lt;/id&gt;\n            &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\n            &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jaspersoft-clients-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jrs-ce-releases&lt;/id&gt;\n            &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\n            &lt;url&gt;https://jaspersoft.artifactoryonline.com/jaspersoft/jrs-ce-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.ibatis/ibatis-sqlmap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ibatis&lt;/groupId&gt;\n            &lt;artifactId&gt;ibatis-sqlmap&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;8.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Flying Saucer dependencies to be added to the project pom.xml --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-core&lt;/artifactId&gt;\n            &lt;version&gt;9.1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n            &lt;version&gt;9.1.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Flying Saucer dependencies END --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jUNIT dependencies Start --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mp3 files dependencies start --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n            &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n            &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\n            &lt;version&gt;1.0.3-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.mpatric/mp3agic --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mpatric&lt;/groupId&gt;\n            &lt;artifactId&gt;mp3agic&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mp3 files dependencies end --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext-rtf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.skyscreamer/jsonassert --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-ldap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jUNIT dependencies End--&gt;\n        &lt;!-- Swagger2 dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Swagger2 dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\n            &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.87.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AspectJ dependencies Start--&gt;\n        &lt;!--changed &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AspectJ dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This the pom.xml being used for the application. Tried changing spring boot starter version and also the javamelody version.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9067,"page":925,"page_size":100}
